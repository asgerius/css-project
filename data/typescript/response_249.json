[{"tags": ["angular", "typescript", "sass"], "comments": [{"owner": {"reputation": 144, "user_id": 6369514, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bQQuS717Gdk/AAAAAAAAAAI/AAAAAAAABWg/C2a8Cjs4FSM/photo.jpg?sz=128", "display_name": "AlmaniaM", "link": "https://stackoverflow.com/users/6369514/almaniam"}, "edited": false, "score": 0, "creation_date": 1571267229, "post_id": 58422622, "comment_id": 103187709, "body": "Have you tried this? <a href=\"https://stackoverflow.com/a/50222036/6369514\">stackoverflow.com/a/50222036/6369514</a>"}, {"owner": {"reputation": 55, "user_id": 7077732, "user_type": "registered", "profile_image": "https://graph.facebook.com/1268492166535542/picture?type=large", "display_name": "Guilherme Luiz Stolfo", "link": "https://stackoverflow.com/users/7077732/guilherme-luiz-stolfo"}, "reply_to_user": {"reputation": 144, "user_id": 6369514, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bQQuS717Gdk/AAAAAAAAAAI/AAAAAAAABWg/C2a8Cjs4FSM/photo.jpg?sz=128", "display_name": "AlmaniaM", "link": "https://stackoverflow.com/users/6369514/almaniam"}, "edited": false, "score": 0, "creation_date": 1571268365, "post_id": 58422622, "comment_id": 103187977, "body": "no act you were able to perform, but only when changing src / style.scss when I change app.component.scss does not change the background color of red"}, {"owner": {"reputation": 55, "user_id": 7077732, "user_type": "registered", "profile_image": "https://graph.facebook.com/1268492166535542/picture?type=large", "display_name": "Guilherme Luiz Stolfo", "link": "https://stackoverflow.com/users/7077732/guilherme-luiz-stolfo"}, "reply_to_user": {"reputation": 144, "user_id": 6369514, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bQQuS717Gdk/AAAAAAAAAAI/AAAAAAAABWg/C2a8Cjs4FSM/photo.jpg?sz=128", "display_name": "AlmaniaM", "link": "https://stackoverflow.com/users/6369514/almaniam"}, "edited": false, "score": 0, "creation_date": 1571268478, "post_id": 58422622, "comment_id": 103188005, "body": "I did this and it was no use already using the latest angle"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7077732, "user_type": "registered", "profile_image": "https://graph.facebook.com/1268492166535542/picture?type=large", "display_name": "Guilherme Luiz Stolfo", "link": "https://stackoverflow.com/users/7077732/guilherme-luiz-stolfo"}, "edited": false, "score": 0, "creation_date": 1571314779, "post_id": 58422908, "comment_id": 103205459, "body": "Do you know why that doesn&#39;t apply? Stopped nothing to do so now: styles.scss =&gt; @import &quot;../node_modules/bootstrap/scss/bootstrap.scss&quot;; body { \tbackground-color:blue; }  I don&#39;t get the style I created a new project with scss and I put the js and css in angular.json and I created this style I don&#39;t get :S"}], "tags": [], "owner": {"reputation": 96, "user_id": 11056827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-InMY4pb7XHo/AAAAAAAAAAI/AAAAAAAAAAg/JuTABTWDb6Q/photo.jpg?sz=128", "display_name": "Michael Ashefor", "link": "https://stackoverflow.com/users/11056827/michael-ashefor"}, "is_accepted": true, "score": 1, "last_activity_date": 1571268482, "creation_date": 1571268482, "answer_id": 58422908, "question_id": 58422622, "link": "https://stackoverflow.com/questions/58422622/scss-style-not-getting-applied-in-angular/58422908#58422908", "title": "SCSS style not getting applied in Angular", "body": "<p>You can't style the body tag from the app component. If you want to set the background color like you wish you need to do so in your styles.scss else file.</p>\n\n<p>Also assuming want to set the background color to a tag in the app component, the tag has to have contents before you can see the background color or you can just set a height for the said tag and then the color will show</p>\n"}, {"tags": [], "owner": {"reputation": 1418, "user_id": 7934629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f317864efe49007e9393dc29c68b7a8?s=128&d=identicon&r=PG&f=1", "display_name": "Hitech Hitesh", "link": "https://stackoverflow.com/users/7934629/hitech-hitesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1571279490, "creation_date": 1571279490, "answer_id": 58424049, "question_id": 58422622, "link": "https://stackoverflow.com/questions/58422622/scss-style-not-getting-applied-in-angular/58424049#58424049", "title": "SCSS style not getting applied in Angular", "body": "<p>Your app.component.html can't have a body tag because the angular lives in the app-root tag which is created inside the body tag of the index.html page </p>\n\n<p>Actual rendered as </p>\n\n<pre><code>&lt;body&gt;\n&lt;app-root&gt;\n&lt;/app-root&gt;\n&lt;/body&gt;\n\n</code></pre>\n\n<p>But what you are trying is and that is rendered as </p>\n\n<pre><code>&lt;body&gt;\n&lt;app-root&gt;\n&lt;body&gt;\n&lt;nav&gt;\n&lt;/nav&gt;\n&lt;/body&gt;\n&lt;/app-root&gt;\n&lt;/body&gt;\n\n</code></pre>\n\n<p>And scss is applied as</p>\n\n<pre><code>body[app-root]{ background-color:red}\n</code></pre>\n\n<p>Which won't work.</p>\n\n<p>So if you want to apply the background color you have to set the style in global scss file i.e </p>\n\n<p>Style.scss that is present in the root folder of the application or search style.scss in command palette of the editor</p>\n"}], "owner": {"reputation": 55, "user_id": 7077732, "user_type": "registered", "profile_image": "https://graph.facebook.com/1268492166535542/picture?type=large", "display_name": "Guilherme Luiz Stolfo", "link": "https://stackoverflow.com/users/7077732/guilherme-luiz-stolfo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 58422908, "answer_count": 2, "score": 0, "last_activity_date": 1571350332, "creation_date": 1571266042, "last_edit_date": 1571350332, "question_id": 58422622, "link": "https://stackoverflow.com/questions/58422622/scss-style-not-getting-applied-in-angular", "title": "SCSS style not getting applied in Angular", "body": "<p>Following SCSS style not getting applied in Angular:</p>\n\n<p><strong>app.component.scss</strong></p>\n\n<pre><code>body{\n  background-color:red;\n}\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport { ViewEncapsulation } from '@angular/core'\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\n\nexport class AppComponent implements OnInit {\n}\n</code></pre>\n\n<p><strong>Html:</strong></p>\n\n<pre><code>&lt;body&gt;\n  &lt;nav&gt;\n  &lt;/nav&gt;\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 993, "user_id": 4403376, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wysy6.png?s=128&g=1", "display_name": "Derek Lawrence", "link": "https://stackoverflow.com/users/4403376/derek-lawrence"}, "edited": false, "score": 1, "creation_date": 1571269059, "post_id": 58422516, "comment_id": 103188136, "body": "as posted in the other answer this is not doable you need to type define it.  <code>class FooString implements Foo&lt;string&gt; {   foo (value : string ) {     value   } }</code>"}], "owner": {"reputation": 111435, "user_id": 1333873, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ae9b432531de46073888f1a49c2391c?s=128&d=identicon&r=PG", "display_name": "Golo Roden", "link": "https://stackoverflow.com/users/1333873/golo-roden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1571265482, "answer_count": 0, "score": 1, "last_activity_date": 1571265178, "creation_date": 1571265178, "question_id": 58422516, "link": "https://stackoverflow.com/questions/58422516/implementing-generic-interfaces-in-typescript", "closed_reason": "Duplicate", "title": "Implementing generic interfaces in TypeScript", "body": "<p>I have the following interface:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Foo&lt;T&gt; {\n  foo (value: T): void;\n}\n</code></pre>\n\n<p>And I have a class which implements this interface:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class FooString implements Foo&lt;string&gt; {\n  foo (value) {\n    value\n  }\n}\n</code></pre>\n\n<p>What caught my eye is that the compiler now complains about <code>value</code> being <code>implicitly typed as any</code>. Why is that? Shouldn't the interface enforce that it is of type <code>string</code>, since <code>T</code> is <code>string</code>?</p>\n\n<p>Also, turning the interface to an (abstract) base class doesn't help. So, besides the question why this is \u2013 how can I \"fix\" this? IMHO implementing an interface should result in an <em>exact</em> implementation, not one which roughly matches?</p>\n"}, {"tags": ["angular", "typescript", "runtime-error"], "comments": [{"owner": {"reputation": 144, "user_id": 6369514, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bQQuS717Gdk/AAAAAAAAAAI/AAAAAAAABWg/C2a8Cjs4FSM/photo.jpg?sz=128", "display_name": "AlmaniaM", "link": "https://stackoverflow.com/users/6369514/almaniam"}, "edited": false, "score": 0, "creation_date": 1571267363, "post_id": 58422254, "comment_id": 103187735, "body": "Could you share your typescript code?"}], "answers": [{"comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1571276499, "post_id": 58423236, "comment_id": 103189572, "body": "You could use an <code>*ngFor</code> loop to display the <code>i</code> elements."}, {"owner": {"reputation": 63, "user_id": 8754011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc13b424aa531e0c49f7e1277c668d3?s=128&d=identicon&r=PG&f=1", "display_name": "Abdelrahman AL-Sawalmeh", "link": "https://stackoverflow.com/users/8754011/abdelrahman-al-sawalmeh"}, "edited": false, "score": 0, "creation_date": 1571291369, "post_id": 58423236, "comment_id": 103192935, "body": "@NightCabbage This is the ts code, but I uploaded it on drive. <a href=\"https://drive.google.com/file/d/1YcvxkPLSqNErLq0WS2v6_tltnoelq_vT/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1YcvxkPLSqNErLq0WS2v6_tltnoelq_vT/&hellip;</a>"}], "tags": [], "owner": {"reputation": 379, "user_id": 5010244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c2d6c8318cf786f658297167b81217?s=128&d=identicon&r=PG", "display_name": "NightCabbage", "link": "https://stackoverflow.com/users/5010244/nightcabbage"}, "is_accepted": false, "score": 0, "last_activity_date": 1571271630, "creation_date": 1571271630, "answer_id": 58423236, "question_id": 58422254, "link": "https://stackoverflow.com/questions/58422254/how-to-separate-elements-angular2/58423236#58423236", "title": "How to separate elements angular2+?", "body": "<p>In your <code>*ngFor</code> you're saying \"let item of l\", which means in your class you have an array called <code>l</code>, which looks like it has 2 items in it (given you're getting 2 rows of stars in your example).</p>\n\n<p>Inside your ngFor'd div, when you render the stars, you need to reference your <code>item</code> to decide if those stars, in that particular row, are bolded or not.</p>\n\n<p>For example (and I'm just guessing, because I can't see your code...\n<code>&lt;i [ngClass]=\"item.boldStar1 ? 'fas fa-star' : 'far fa-star'\"&gt;</code></p>\n\n<p>But what you do in your ternary check depends on the data type of each item...\nFor example, you might just store the number of stars as a <code>number</code> from 1-5.</p>\n\n<pre><code>&lt;i [ngClass]=\"item &gt;= 1 ? 'fas fa-star' : 'far fa-star'\"&gt;\n&lt;i [ngClass]=\"item &gt;= 2 ? 'fas fa-star' : 'far fa-star'\"&gt;\n&lt;i [ngClass]=\"item &gt;= 3 ? 'fas fa-star' : 'far fa-star'\"&gt;\n&lt;i [ngClass]=\"item &gt;= 4 ? 'fas fa-star' : 'far fa-star'\"&gt;\n&lt;i [ngClass]=\"item &gt;= 5 ? 'fas fa-star' : 'far fa-star'\"&gt;\n</code></pre>\n\n<p>(also, side-note, avoid using the <code>id</code> attribute like that, as you have duplicates (eg. more than one 1, and 2, etc.) and you probably don't need it anyway).</p>\n\n<p>But yes, if you want more help specific to your actual data model, feel free to post your class (typescript) code so we can see what you're trying to do :)</p>\n"}], "owner": {"reputation": 63, "user_id": 8754011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc13b424aa531e0c49f7e1277c668d3?s=128&d=identicon&r=PG&f=1", "display_name": "Abdelrahman AL-Sawalmeh", "link": "https://stackoverflow.com/users/8754011/abdelrahman-al-sawalmeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571271630, "creation_date": 1571263387, "question_id": 58422254, "link": "https://stackoverflow.com/questions/58422254/how-to-separate-elements-angular2", "title": "How to separate elements angular2+?", "body": "<p>I'm trying to make a rating stars, but I need to display more than one rating stars using *ngFor like here!\n<a href=\"https://i.stack.imgur.com/BkgyJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BkgyJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I hover on first star, the first star in other stars also get balcked like this!</p>\n\n<p><a href=\"https://i.stack.imgur.com/zc2w9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zc2w9.png\" alt=\"enter image description here\"></a></p>\n\n<p>code is here ...</p>\n\n<pre><code>          &lt;div *ngFor=\"let item of l\"&gt;\n              &lt;input type=\"text\" class=\"form-control\"&gt;\n              &lt;a *ngIf=\"!boldStar\" (click)=\"getRate($event)\" (mouseover)=\"boldStar=true\" (mouseleave)=\"boldStar = false\" id=1&gt;&lt;i class=\"far fa-star\" id=2&gt;&lt;/i&gt;&lt;/a&gt;\n              &lt;a *ngIf=\"boldStar\" (click)=\"getRate($event)\" (mouseover)=\"boldStar=true\" (mouseleave)=\"boldStar = false\" id=1&gt;&lt;i class=\"fas fa-star\" id=2&gt;&lt;/i&gt;&lt;/a&gt;\n              &lt;a (click)=\"getRate($event)\" id=\"2\"&gt;&lt;i [ngClass]=\"boldStar ? 'fas fa-star' : 'far fa-star'\" id=\"2\"&gt;&lt;/i&gt;&lt;/a&gt;\n              &lt;a (click)=\"getRate($event)\" id=\"3\"&gt;&lt;i [ngClass]=\"boldStar ? 'fas fa-star' : 'far fa-star'\" id=\"3\"&gt;&lt;/i&gt;&lt;/a&gt;\n              &lt;a (click)=\"getRate($event)\" id=\"4\"&gt;&lt;i class=\"far fa-star\" id=\"4\"&gt;&lt;/i&gt;&lt;/a&gt;\n              &lt;a (click)=\"getRate($event)\" id=\"5\"&gt;&lt;i class=\"far fa-star\" id=\"5\"&gt;&lt;/i&gt;&lt;/a&gt;\n          &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "vue.js", "eslint", "babel-eslint"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571263575, "post_id": 58422244, "comment_id": 103186779, "body": "<a href=\"https://eslint.vuejs.org/user-guide/#how-to-use-custom-parser\" rel=\"nofollow noreferrer\">eslint.vuejs.org/user-guide/#how-to-use-custom-parser</a>"}, {"owner": {"reputation": 579, "user_id": 4250126, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000650157504/picture?type=large", "display_name": "John Dover", "link": "https://stackoverflow.com/users/4250126/john-dover"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571264155, "post_id": 58422244, "comment_id": 103186953, "body": "thank you for quick reply. If I add &quot;parser&quot;: &quot;vue-eslint-parser&quot; to my package.json running vue-cli-service lint still fails. :("}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1571264225, "post_id": 58422244, "comment_id": 103186977, "body": "Maybe file an issue, the documentation suggests that you <i>must</i> do that at any rate to use another parser."}, {"owner": {"reputation": 579, "user_id": 4250126, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000650157504/picture?type=large", "display_name": "John Dover", "link": "https://stackoverflow.com/users/4250126/john-dover"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571264258, "post_id": 58422244, "comment_id": 103186986, "body": "understood. I will keep looking then. thank you for the link"}], "owner": {"reputation": 579, "user_id": 4250126, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000650157504/picture?type=large", "display_name": "John Dover", "link": "https://stackoverflow.com/users/4250126/john-dover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1449, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1571323519, "creation_date": 1571263321, "last_edit_date": 1571323519, "question_id": 58422244, "link": "https://stackoverflow.com/questions/58422244/how-to-configure-eslint-on-vue-cli-project-to-work-correctly", "title": "How to configure eslint on vue-cli project to work correctly", "body": "<p>I have a vue project that build successfully, but when I add in the eslint option in package.json file I receive Parsing error: Unexpected token pointing at a private variable. I have been researching for the last few hours and have been unsuccessful at finding a solution that works.</p>\n\n<p>sites I have visited, and solutions tried</p>\n\n<p><a href=\"https://stackoverflow.com/a/49129502/4250126\">https://stackoverflow.com/a/49129502/4250126</a></p>\n\n<p><a href=\"https://github.com/vuejs/eslint-plugin-vue/issues/746\" rel=\"nofollow noreferrer\">https://github.com/vuejs/eslint-plugin-vue/issues/746</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/53609667/4250126\">https://stackoverflow.com/a/53609667/4250126</a></p>\n\n<p><a href=\"https://dev.to/ferasdawod/setting-up-eslint-for-a-vuejs-project-using-vs-code-i54\" rel=\"nofollow noreferrer\">https://dev.to/ferasdawod/setting-up-eslint-for-a-vuejs-project-using-vs-code-i54</a></p>\n\n<p>and some others... </p>\n\n<p>I just can't seem to figure out why lint is complaining about a variable.\nscreen shot of running vue-cli-service lint from package.json. below I have tried changing public to private or removing the underscore, but it does not seem to help\n<a href=\"https://i.stack.imgur.com/iGQHt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iGQHt.png\" alt=\"enter image description here\"></a></p>\n\n<p>my package.json</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n  \"name\": \"data-dictionary\",\r\n  \"version\": \"0.1.0\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"serve\": \"vue-cli-service serve\",\r\n    \"build\": \"vue-cli-service build\",\r\n    \"lint\": \"vue-cli-service lint\"\r\n  },\r\n  \"description\": \"DataDictionary\",\r\n  \"author\": {\r\n    \"name\": \"\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@typescript-eslint/parser\": \"^2.4.0\",\r\n    \"axios\": \"^0.19.0\",\r\n    \"bootstrap-vue\": \"^2.0.4\",\r\n    \"buefy\": \"^0.8.5\",\r\n    \"eslint-plugin-import\": \"^2.18.2\",\r\n    \"vue\": \"2.5.17\",\r\n    \"vue-property-decorator\": \"^8.2.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@vue/cli-plugin-babel\": \"3.0.4\",\r\n    \"@vue/cli-plugin-eslint\": \"3.0.4\",\r\n    \"@vue/cli-plugin-typescript\": \"^3.12.0\",\r\n    \"@vue/cli-service\": \"3.0.4\",\r\n    \"babel-eslint\": \"^10.0.3\",\r\n    \"eslint\": \"5.6.0\",\r\n    \"eslint-plugin-vue\": \"^4.7.1\",\r\n    \"typescript\": \"^3.6.4\",\r\n    \"vue-template-compiler\": \"2.5.17\"\r\n  },\r\n  \"eslintConfig\": {\r\n    \"root\": true,\r\n    \"env\": {\r\n      \"node\": true\r\n    },\r\n    \"extends\": [\r\n      \"plugin:import/typescript\",\r\n      \"plugin:vue/essential\",\r\n      \"eslint:recommended\"\r\n    ],\r\n    \"rules\": {\r\n    },\r\n    \"parserOptions\": {\r\n      \"parser\": \"babel-eslint\",\r\n      \"sourceType\": \"module\",\r\n      \"ecmaFeatures\": {\r\n        \"legacyDecorators\": true\r\n      },\r\n      \"ecmaVersion\": 6\r\n    }\r\n  },\r\n  \"eslintIgnore\": [ \"/**/*.d.ts\" ],\r\n  \"postcss\": {\r\n    \"plugins\": {\r\n      \"autoprefixer\": {}\r\n    }\r\n  },\r\n  \"browserslist\": [\r\n    \"&gt; 1%\",\r\n    \"last 2 versions\",\r\n    \"not ie &lt;= 8\"\r\n  ]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any help is appreciated. I am probably doing something completely wrong, but not extremely familiar with using lint with Vue. </p>\n\n<p><strong>UPDATE</strong>\nIf I remove the public/private keywords then vue-cli-service lint passes. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 3, "creation_date": 1571261635, "post_id": 58421970, "comment_id": 103186176, "body": "<a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}, {"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 1, "creation_date": 1571261968, "post_id": 58421970, "comment_id": 103186271, "body": "It seems redundant.  <code>false</code> is a boolean so why not just have <code>someVar: boolean</code>?"}, {"owner": {"reputation": 344, "user_id": 8312634, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0671eb30ade2de8b5242c9d10afb0c9d?s=128&d=identicon&r=PG&f=1", "display_name": "N0000B", "link": "https://stackoverflow.com/users/8312634/n0000b"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1571262227, "post_id": 58421970, "comment_id": 103186354, "body": "@T.J.Crowder, Thanks for info! I&#39;ll delete my earlier comment."}], "answers": [{"comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1571261816, "post_id": 58421995, "comment_id": 103186211, "body": "The question is <code>boolean | false</code>, not <code>boolean | string</code>."}], "tags": [], "owner": {"reputation": 306, "user_id": 3936659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/5PCPp.png?s=128&g=1", "display_name": "timi95", "link": "https://stackoverflow.com/users/3936659/timi95"}, "is_accepted": false, "score": 0, "last_activity_date": 1571261849, "last_edit_date": 1571261849, "creation_date": 1571261754, "answer_id": 58421995, "question_id": 58421970, "link": "https://stackoverflow.com/questions/58421970/angular-pipe-character-in-typescript-variable-definition-used-as-boolean-operati/58421995#58421995", "title": "Angular pipe character in typescript variable definition used as boolean operation OR", "body": "<p>@Input() public someVariable: boolean | false;</p>\n\n<p>This means that someVariable can be assigned either boolean OR false, and no other type. Any type other than those will give complaints from ts compiler</p>\n\n<p>the '|' (pipe operator) is semantically an 'OR' in this case</p>\n"}, {"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 2, "last_activity_date": 1571261784, "creation_date": 1571261784, "answer_id": 58422000, "question_id": 58421970, "link": "https://stackoverflow.com/questions/58421970/angular-pipe-character-in-typescript-variable-definition-used-as-boolean-operati/58422000#58422000", "title": "Angular pipe character in typescript variable definition used as boolean operation OR", "body": "<p>That's very odd code. It means that <code>someVariable</code> can be a <code>boolean</code> or the literal type <code>false</code>. But of course, <code>false</code> <strong>is</strong> a boolean, so it's equivalent to just</p>\n\n<pre><code>@Input() public someVariable: boolean;\n</code></pre>\n\n<p>More here: <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">Union types</a>.</p>\n\n<p>A more typical example would be:</p>\n\n<pre><code>public foo: string | number;\n</code></pre>\n\n<p>...which would mean that <code>foo</code> could contain a string or a number but not (for instance) an object reference or boolean.</p>\n"}], "owner": {"reputation": 344, "user_id": 8312634, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0671eb30ade2de8b5242c9d10afb0c9d?s=128&d=identicon&r=PG&f=1", "display_name": "N0000B", "link": "https://stackoverflow.com/users/8312634/n0000b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58422000, "answer_count": 2, "score": -1, "last_activity_date": 1571262007, "creation_date": 1571261497, "last_edit_date": 1571262007, "question_id": 58421970, "link": "https://stackoverflow.com/questions/58421970/angular-pipe-character-in-typescript-variable-definition-used-as-boolean-operati", "title": "Angular pipe character in typescript variable definition used as boolean operation OR", "body": "<p>I working on a Angular code/project, where there is a variable definition like</p>\n\n<pre><code>@Input() public someVariable: boolean | false;\n</code></pre>\n\n<p>I am not sure, what is the significance of \"|\" character in the above line code? I have tried looking this up in Google/SO but couldn't find any resource talking about that. </p>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["typescript", "conditional-types"], "answers": [{"comments": [{"owner": {"reputation": 60, "user_id": 11762396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9i33.jpg?s=128&g=1", "display_name": "Tenpi", "link": "https://stackoverflow.com/users/11762396/tenpi"}, "edited": false, "score": 0, "creation_date": 1571267209, "post_id": 58422181, "comment_id": 103187701, "body": "Thank you for your answer. Unfortunately the type I am getting with this approach is <code>myApi&lt;false&gt; &amp; myApi&lt;true&gt;</code>. But don&#39;t worry about it, I decided against adding this feature since it&#39;s way too complicated for me to implement."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 60, "user_id": 11762396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9i33.jpg?s=128&g=1", "display_name": "Tenpi", "link": "https://stackoverflow.com/users/11762396/tenpi"}, "edited": false, "score": 0, "creation_date": 1571268130, "post_id": 58422181, "comment_id": 103187904, "body": "It shouldn&#39;t be, but it can be revised to fix that"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 60, "user_id": 11762396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9i33.jpg?s=128&g=1", "display_name": "Tenpi", "link": "https://stackoverflow.com/users/11762396/tenpi"}, "edited": false, "score": 0, "creation_date": 1571290628, "post_id": 58422181, "comment_id": 103192703, "body": "@Tenpi the problem was the default of <code>false</code>. Checkout the update"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1571290595, "last_edit_date": 1571290595, "creation_date": 1571262956, "answer_id": 58422181, "question_id": 58421953, "link": "https://stackoverflow.com/questions/58421953/typescript-make-class-properties-unavailable-until-user-logs-in/58422181#58422181", "title": "Typescript - Make class properties unavailable until user logs in", "body": "<p>You can achieve this with a slightly different approach.</p>\n\n<p>Since the compiler has no way of knowing that the login method has been called, you need to add a member that checks if the user has logged in and propagates a corresponding type change to the typechecker.</p>\n\n<p>This can be accomplished via a type guard.</p>\n\n<pre><code>type IsLoggedIn&lt;B extends boolean, T&gt; = B extends true ? T : never;\n\nexport default class MyApi&lt;B extends boolean = false&gt; {\n  isLoggedIn(): this is MyApi&lt;true&gt; {\n    return this.loggedIn;\n  }\n\n  rss: IsLoggedIn&lt;B, RSS&gt;;\n  user: IsLoggedIn&lt;B, User&gt;;\n}\n</code></pre>\n\n<p>Given the above, we can write</p>\n\n<pre><code>async function useApi(api: MyApi&lt;boolean&gt;) {\n  await api.login();\n\n  if (api.isLoggedIn()) {\n    api.user.// etc.\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 60, "user_id": 11762396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9i33.jpg?s=128&g=1", "display_name": "Tenpi", "link": "https://stackoverflow.com/users/11762396/tenpi"}, "edited": false, "score": 0, "creation_date": 1571323438, "post_id": 58423882, "comment_id": 103210781, "body": "I had no idea that you could make the constructor private! I modified your example a little bit so that I instantiate the class with with <code>myApi = await MyApi.login(&quot;id&quot;, &quot;secret&quot;);</code>, thank you so much."}], "tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": true, "score": 1, "last_activity_date": 1571277744, "creation_date": 1571277744, "answer_id": 58423882, "question_id": 58421953, "link": "https://stackoverflow.com/questions/58421953/typescript-make-class-properties-unavailable-until-user-logs-in/58423882#58423882", "title": "Typescript - Make class properties unavailable until user logs in", "body": "<p>Here's a solution using only types, it relys on you reusing a instance that is signed in,</p>\n\n<p>private constructor because then you can control the return type.\ncreate method as new constructor with return type changed</p>\n\n<pre><code>type MyApiNoAuth = Omit&lt;MyApi, Exclude&lt;keyof MyApi, \"login\"&gt;&gt;\nclass MyApi {\n  private loggedIn = false;\n\n  private constructor(private clientId: string, private clientSecret: string) { }\n  static create(clientId: string, clientSecret: string): MyApiNoAuth {\n    return new MyApi(clientId, clientSecret)\n  }\n\n  public login = () =&gt; {\n    // do whatever you want here.\n    return this; // needed to be last line here\n  }\n\n  public next = () =&gt; {\n    return \"next\";\n  }\n  public othermethod = () =&gt; \"\";\n}\n\n\n\nconst test = new MyApi(); // fails can't instantiate like this. (good)\nconst test1 = MyApi.create(\"clientId\", \"clientSecret\"); // works good\nconst test2 = MyApi.create(\"clientId\", \"clientSecret\").next(); // can't call this instance hasn't called login.\nconst test3 = MyApi.create(\"clientId\", \"clientSecret\").login(); // this is the instance class we will use\n\ntest3.next() // great. works\ntest3.othermethod() // great works because we've logged in in this instance.\n</code></pre>\n"}], "owner": {"reputation": 60, "user_id": 11762396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9i33.jpg?s=128&g=1", "display_name": "Tenpi", "link": "https://stackoverflow.com/users/11762396/tenpi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 58423882, "answer_count": 2, "score": 0, "last_activity_date": 1571290595, "creation_date": 1571261384, "last_edit_date": 1571262129, "question_id": 58421953, "link": "https://stackoverflow.com/questions/58421953/typescript-make-class-properties-unavailable-until-user-logs-in", "title": "Typescript - Make class properties unavailable until user logs in", "body": "<p>I want the properties of my main class to be null until after the user calls the <code>login()</code> method. I can't put this in the constructor since it is an asynchronous method. </p>\n\n<p>I know that it involves adding a generic property to the class, but I am having trouble configuring it correctly.</p>\n\n<pre><code>import api from \"./api\"\nimport {RSS, User} from \"./endpoints\"\n\ntype isLoggedIn&lt;B extends boolean, T&gt; = B extends true ? T : null\n\nexport default class MyApi&lt;B extends boolean = false&gt; {\n    private loggedIn: B\n    //This is needed for other properties, but you must login to get it\n    private accessToken: string \n    public rss: isLoggedIn&lt;B, RSS&gt;\n    public user: isLoggedIn&lt;B, User&gt; \n    //There are a lot more properties, but they generally look like this ^\n\n    constructor(private clientId: string, private clientSecret: string) {}\n\n    public login = async () =&gt; {\n        const auth = await api.get(\"oauth url\", {client_id: this.clientId, client_secret: this.clientSecret, grant_type: \"client_credentials\"})\n        this.accessToken = auth.access_token\n\n        //With the accessToken, the other properties can be initialized\n        this.rss = new RSS(this.accessToken) as isLoggedIn&lt;B, RSS&gt;\n        this.user = new User(this.accessToken) as isLoggedIn&lt;B, User&gt;\n\n        this.loggedIn = true as B //???\n    }\n\n}\n</code></pre>\n\n<p>The main problem is that the generic type in the class never becomes true, it always stays at the default (false). I don't know how I would make it true after running the <code>login()</code> function.</p>\n"}, {"tags": ["json", "angular", "typescript", "observable"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 5, "creation_date": 1571260654, "post_id": 58421827, "comment_id": 103185812, "body": "Subscribe to it? I&#39;d strongly recommend reading <a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">angular.io/guide/http</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1793, "user_id": 3763317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9tHWe.jpg?s=128&g=1", "display_name": "Damian C", "link": "https://stackoverflow.com/users/3763317/damian-c"}, "edited": false, "score": 0, "creation_date": 1571264728, "post_id": 58422260, "comment_id": 103187106, "body": "This code is incorrect and doesn&#39;t do anything other than getting a value. You cannot return a value from a subscribe() like in your code. You&#39;ll need to assign the result to another var inside of your subscribe or just do something with the value you there."}, {"owner": {"reputation": 306, "user_id": 3936659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/5PCPp.png?s=128&g=1", "display_name": "timi95", "link": "https://stackoverflow.com/users/3936659/timi95"}, "reply_to_user": {"reputation": 1793, "user_id": 3763317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9tHWe.jpg?s=128&g=1", "display_name": "Damian C", "link": "https://stackoverflow.com/users/3763317/damian-c"}, "edited": false, "score": 0, "creation_date": 1571265907, "post_id": 58422260, "comment_id": 103187397, "body": "The code has been corrected."}], "tags": [], "owner": {"reputation": 306, "user_id": 3936659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/5PCPp.png?s=128&g=1", "display_name": "timi95", "link": "https://stackoverflow.com/users/3936659/timi95"}, "is_accepted": false, "score": -1, "last_activity_date": 1571266272, "last_edit_date": 1571266272, "creation_date": 1571263429, "answer_id": 58422260, "question_id": 58421827, "link": "https://stackoverflow.com/questions/58421827/get-the-values-of-a-observableany-into-an-array-in-typescript/58422260#58422260", "title": "Get the values of a Observable&lt;any&gt; into an array in typescript", "body": "<p>Why not try to subscribe to the observable and assign the result to a response variable ?:</p>\n\n<pre><code>this.http.post&lt;any&gt;(this.url, myObjStr,{headers: this.httpheaders}).subscribe(\nresult =&gt; {\n// assigned to a class property response for convenience.\n this.response = result;\n} );\n\n</code></pre>\n\n<p>Take note that an Observable/Subject is something that Informs everything that 'subscribes' to it (subscribers), that a value inside of it has been changed.</p>\n"}, {"tags": [], "owner": {"reputation": 1793, "user_id": 3763317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9tHWe.jpg?s=128&g=1", "display_name": "Damian C", "link": "https://stackoverflow.com/users/3763317/damian-c"}, "is_accepted": true, "score": -1, "last_activity_date": 1571264995, "creation_date": 1571264995, "answer_id": 58422487, "question_id": 58421827, "link": "https://stackoverflow.com/questions/58421827/get-the-values-of-a-observableany-into-an-array-in-typescript/58422487#58422487", "title": "Get the values of a Observable&lt;any&gt; into an array in typescript", "body": "<p>You'll need to subscribe to it. But before you do any of that, I suggest giving the angular documentation a read and get familiar with it. </p>\n\n<p><a href=\"https://angular.io/docs\" rel=\"nofollow noreferrer\">https://angular.io/docs</a></p>\n\n<pre><code>TryLogin() {\n    this.loggedUser.email = this.inputUsername;\n    this.loggedUser.password = this.inputPass;\n    const myObjStr = JSON.stringify(this.loggedUser)\n    let userInfo;\n    this.http.post&lt;any&gt;(this.url, myObjStr, { headers: this.httpheaders }).subscribe((response) =&gt; {\n        // do something with your response here\n        userInfo = response;\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12031473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf78f99491be4c3a3f70f2cccae5ef49?s=128&d=identicon&r=PG&f=1", "display_name": "Petroscal", "link": "https://stackoverflow.com/users/12031473/petroscal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1571301382, "accepted_answer_id": 58422487, "answer_count": 2, "score": -4, "last_activity_date": 1571266272, "creation_date": 1571260577, "question_id": 58421827, "link": "https://stackoverflow.com/questions/58421827/get-the-values-of-a-observableany-into-an-array-in-typescript", "closed_reason": "Needs more focus", "title": "Get the values of a Observable&lt;any&gt; into an array in typescript", "body": "<p>I'm trying to get the values from a post in typescript, I'm getting a Observable type variable from the post operation but I don't know how can I get the values within. Is there a way to do this?</p>\n\n<p>Here is the code I have until now</p>\n\n<pre><code>TryLogin() {\n    this.loggedUser.email = this.inputUsername;\n    this.loggedUser.password = this.inputPass;\n    const myObjStr = JSON.stringify(this.loggedUser)\n    const response = this.http.post&lt;any&gt;(this.url, myObjStr,{headers: this.httpheaders});\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular8"], "comments": [{"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 0, "creation_date": 1571260822, "post_id": 58421787, "comment_id": 103185879, "body": "Are <code>mail</code> and <code>userPrincipalName</code> defined when <code>emailAddress</code> is called? If Angular calls <code>emailAddress</code> before <code>main</code> and <code>userPrincipalName</code> are set, then there is no way for Angular to know that those properties have changed and that it needs to call <code>emailAddress</code> again."}, {"owner": {"reputation": 2024, "user_id": 3718031, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wfBC6.jpg?s=128&g=1", "display_name": "VBobCat", "link": "https://stackoverflow.com/users/3718031/vbobcat"}, "reply_to_user": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 0, "creation_date": 1571261586, "post_id": 58421787, "comment_id": 103186165, "body": "Hi @SamHerrmann! Well, they should, I think. Users would land in another component, where they click &quot;sign in&quot;. Then an OAuth transaction takes place. Only after this transaction is successful and an <code>User</code> object is instantiated with all its properties, the service changes its flag <code>.authenticated</code> property to true and the component I described in the post is allowed to render. Am I correct about my understanding? I&#39;m used to server side templating (Twig, Django) but I&#39;m new to Angular, I was tweaking a little with <a href=\"https://docs.microsoft.com/pt-br/graph/tutorials/angular\" rel=\"nofollow noreferrer\">this sample</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2024, "user_id": 3718031, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wfBC6.jpg?s=128&g=1", "display_name": "VBobCat", "link": "https://stackoverflow.com/users/3718031/vbobcat"}, "edited": false, "score": 0, "creation_date": 1571265135, "post_id": 58422299, "comment_id": 103187193, "body": "Hi again... Thank you, I will study the docs you provided and try an implementation such as you suggested... But please see my edit. I&#39;ve come to this hypothesis, I&#39;d like you to tell me whether I am right: Angular runs my .emailAddress() function just once and too early, before the properties it uses are set, and uses whatever it has returned in this early call whenever a template references it..."}, {"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "reply_to_user": {"reputation": 2024, "user_id": 3718031, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wfBC6.jpg?s=128&g=1", "display_name": "VBobCat", "link": "https://stackoverflow.com/users/3718031/vbobcat"}, "edited": false, "score": 1, "creation_date": 1571265551, "post_id": 58422299, "comment_id": 103187310, "body": "By default, Angular will call your function when the component is initialized and display whatever the function returns. In other words, Angular can display values returned from functions and not just property values. After initialization, Angular will also call your function when it detects a change in the component. A change can be things like a new component input value or a button click. Values changing in your service are not a change in the component and therefore Angular does not call your function. I hope that answers your question."}, {"owner": {"reputation": 2024, "user_id": 3718031, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wfBC6.jpg?s=128&g=1", "display_name": "VBobCat", "link": "https://stackoverflow.com/users/3718031/vbobcat"}, "edited": false, "score": 0, "creation_date": 1571266259, "post_id": 58422299, "comment_id": 103187494, "body": "Thank you! So I moved the function from the service to the component itself and... voil&#224;, it works. If you edit your answer to include this option, I&#39;ll gladly accept it, as I&#39;d never think of that without your explanation. Thank you very much!"}], "tags": [], "owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "is_accepted": false, "score": 1, "last_activity_date": 1571263710, "creation_date": 1571263710, "answer_id": 58422299, "question_id": 58421787, "link": "https://stackoverflow.com/questions/58421787/problem-rendering-the-result-of-a-function-in-angular-template/58422299#58422299", "title": "Problem rendering the result of a function in Angular Template", "body": "<p>As mentioned in my comment above, if Angular calls <code>emailAddress</code> before <code>mail</code> and <code>userPrincipalName</code> are set, then there is no way for Angular to know that those properties have changed and that it needs to call <code>emailAddress</code> again. The behavior you are looking for is certainly attainable in an Angular application using <a href=\"https://rxjs.dev/\" rel=\"nofollow noreferrer\">RxJs</a>. Maybe a good introduction read is <a href=\"https://angular.io/guide/observables\" rel=\"nofollow noreferrer\">Observables in the Angular documentation</a>. I have added some sample code to help you get an idea for what you will need to solve your problem:</p>\n\n<h2>Service</h2>\n\n<pre><code>import { HttpClient } from '@angular/common/http';\nimport { Observable} from 'rxjs';\nimport { map} from 'rxjs/operators';\n\nexport class MyService {\n\n  constructor(httpClient: HttpClient) {}\n\n  user(): Observable&lt;User&gt; {\n    return this.httpClient.get('user/end/point');\n  }\n\n  username(): Observable&lt;string&gt; {\n    return this.user().pipe(\n      map(user =&gt; user.mail || user.principalName)\n    );\n  }\n}\n</code></pre>\n\n<h2>Component Class</h2>\n\n<pre><code>export class MyComponent implements OnInit {\n\n  username = this.myService.username();\n\n  constructor(private myService: MyService) { }\n}\n</code></pre>\n\n<h2>Component Template</h2>\n\n<pre><code>&lt;p&gt;{{ username | async }}&lt;/p&gt;\n</code></pre>\n\n<p>The <a href=\"https://angular.io/api/common/AsyncPipe\" rel=\"nofollow noreferrer\">async pipe</a> subscribes to the <code>username</code> observable and displays the result. </p>\n"}], "owner": {"reputation": 2024, "user_id": 3718031, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wfBC6.jpg?s=128&g=1", "display_name": "VBobCat", "link": "https://stackoverflow.com/users/3718031/vbobcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571264897, "creation_date": 1571260380, "last_edit_date": 1592644375, "question_id": 58421787, "link": "https://stackoverflow.com/questions/58421787/problem-rendering-the-result-of-a-function-in-angular-template", "title": "Problem rendering the result of a function in Angular Template", "body": "<p>I need my component template to render an email address which may is stored in one property of a class, but should fall back to another propery in case the first is null or empty. So I implemented it this way:</p>\n<p><code>my-component.html</code>:</p>\n<pre><code>&lt;p&gt;{{ myService.usuario.emailAddress() }}&lt;/p&gt;\n</code></pre>\n<p><code>my-component.ts</code>:</p>\n<pre><code>export class MyComponent implements OnInit {\n    constructor(private myService: MyService) {\n    }\n}\n</code></pre>\n<p><code>my-service.ts</code>:</p>\n<pre><code>export class MyService {\n    //...\n    public user: User;\n    //...\n}\n</code></pre>\n<p><code>user.ts</code>:</p>\n<pre><code>export class User {\n    //...\n    mail: string;\n    userPrincipalName: string;\n    public emailAddress(): string {\n        return this.mail || this.userPrincipalName;\n    }        \n    //..\n}\n</code></pre>\n<p>But then the email won't be rendered. However, if I put this inside the template:</p>\n<pre><code>&lt;p&gt;{{ myService.usuario.mail || myService.usuario.userPrincipalName }}&lt;/p&gt;\n</code></pre>\n<p>Then it will be rendered as intended.</p>\n<p>Returnin <code>this.mail ? this.mail : this.userPrincipalName</code> instead of <code>this.mail || this.userPrincipalName</code> did no good either...</p>\n<h1>EDIT:</h1>\n<p>In order to better understand what's going on, I changed the template to this:</p>\n<pre><code>&lt;p&gt;.mail = {{ azureService.usuario.mail}}&lt;/p&gt;\n&lt;p&gt;.userPrincipalName = {{ azureService.usuario.userPrincipalName}}&lt;/p&gt;\n&lt;p&gt;(.mail || .userPrincipalName) = {{ azureService.usuario.mail || azureService.usuario.userPrincipalName}}&lt;/p&gt;\n&lt;p&gt;.emailAddress() = {{ azureService.usuario.emailAddress()}}&lt;/p&gt;\n</code></pre>\n<p>This was the result:</p>\n<blockquote>\n<p>.mail = name.surname@domain.com.br</p>\n<p>.userPrincipalName = name.surname@DOMAIN.COM.BR</p>\n<p>(.mail || .userPrincipalName) = name.surname@domain.com.br</p>\n<p>.emailAddress() =</p>\n</blockquote>\n<p>So...</p>\n<p>Is Angular template limited to reading properties but incapable of reading functions' results, as it seems? Or did I something wrong anywhere?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 490, "user_id": 1363169, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/044ed090654d40793265fc910c856594?s=128&d=identicon&r=PG", "display_name": "kplus", "link": "https://stackoverflow.com/users/1363169/kplus"}, "edited": false, "score": 0, "creation_date": 1571260607, "post_id": 58421717, "comment_id": 103185794, "body": "how would you do this dynamically, I am able to play all the audio files with desired result writing manual codes."}, {"owner": {"reputation": 173, "user_id": 6786201, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/edee04cd6b439d7ea324046db3e56317?s=128&d=identicon&r=PG&f=1", "display_name": "Joan", "link": "https://stackoverflow.com/users/6786201/joan"}, "reply_to_user": {"reputation": 490, "user_id": 1363169, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/044ed090654d40793265fc910c856594?s=128&d=identicon&r=PG", "display_name": "kplus", "link": "https://stackoverflow.com/users/1363169/kplus"}, "edited": false, "score": 0, "creation_date": 1571261000, "post_id": 58421717, "comment_id": 103185954, "body": "I edited the question and added the dynamically way."}], "tags": [], "owner": {"reputation": 173, "user_id": 6786201, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/edee04cd6b439d7ea324046db3e56317?s=128&d=identicon&r=PG&f=1", "display_name": "Joan", "link": "https://stackoverflow.com/users/6786201/joan"}, "is_accepted": false, "score": 0, "last_activity_date": 1571260983, "last_edit_date": 1571260983, "creation_date": 1571260035, "answer_id": 58421717, "question_id": 58421628, "link": "https://stackoverflow.com/questions/58421628/how-to-play-audio-lists-dynamically-with-ionic4-native-audio/58421717#58421717", "title": "How to play audio lists dynamically with Ionic4 Native audio", "body": "<p>I assume <code>nativeAudio.play()</code> is a <code>promise</code>. With your code you are not waiting to end the first method to call the second because the promise is not completed. You can do it chaining the promises or well with <code>async/await</code> way. </p>\n\n<p>Like: </p>\n\n<pre><code>async PlayList(){\n await this.nativeAudio.play('uniqueId1);\n await this.nativeAudio.play('uniqueId2);\n await this.nativeAudio.play('uniqueId3);\n}\n</code></pre>\n\n<p>Dynamically, I would do it like: </p>\n\n<pre><code>async PlayList(){\n const listIds = ['uniqueId1', 'uniqueId2', 'uniqueId3'];\n await Promise.all(listIds.map(async id =&gt; await this.nativeAudio.play(id));\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 6786201, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/edee04cd6b439d7ea324046db3e56317?s=128&d=identicon&r=PG&f=1", "display_name": "Joan", "link": "https://stackoverflow.com/users/6786201/joan"}, "edited": false, "score": 0, "creation_date": 1571312252, "post_id": 58423260, "comment_id": 103203958, "body": "Hi @kplus, Have you tried my solution? I edited yesterday with dynamically content."}, {"owner": {"reputation": 490, "user_id": 1363169, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/044ed090654d40793265fc910c856594?s=128&d=identicon&r=PG", "display_name": "kplus", "link": "https://stackoverflow.com/users/1363169/kplus"}, "reply_to_user": {"reputation": 173, "user_id": 6786201, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/edee04cd6b439d7ea324046db3e56317?s=128&d=identicon&r=PG&f=1", "display_name": "Joan", "link": "https://stackoverflow.com/users/6786201/joan"}, "edited": false, "score": 0, "creation_date": 1571316240, "post_id": 58423260, "comment_id": 103206360, "body": "Yes, I did, it did not work for me. The answer I gave was the one that worked form . It was suggested by ionic moderator in ionic forum. Thank you so much for the effort though"}, {"owner": {"reputation": 173, "user_id": 6786201, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/edee04cd6b439d7ea324046db3e56317?s=128&d=identicon&r=PG&f=1", "display_name": "Joan", "link": "https://stackoverflow.com/users/6786201/joan"}, "edited": false, "score": 0, "creation_date": 1571342065, "post_id": 58423260, "comment_id": 103219371, "body": "Oh, I thaught it would work.. anyway, glad you could solve it!"}], "tags": [], "owner": {"reputation": 490, "user_id": 1363169, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/044ed090654d40793265fc910c856594?s=128&d=identicon&r=PG", "display_name": "kplus", "link": "https://stackoverflow.com/users/1363169/kplus"}, "is_accepted": true, "score": 0, "last_activity_date": 1571271839, "creation_date": 1571271839, "answer_id": 58423260, "question_id": 58421628, "link": "https://stackoverflow.com/questions/58421628/how-to-play-audio-lists-dynamically-with-ionic4-native-audio/58423260#58423260", "title": "How to play audio lists dynamically with Ionic4 Native audio", "body": "<p>Was able to resolve through a help.</p>\n\n<pre><code> playOne(track: string): Promise&lt;void&gt; {\n  return new Promise(resolve =&gt; this.nativeAudio.play(track, resolve));\n}\n\nplayAll(tracks: string[]): void {\n  let player = (acc, track) =&gt; acc.then(() =&gt; this.playOne(track));\n  tracks.reduce(player, Promise.resolve());\n}\n</code></pre>\n\n<p>Array.reduce allows us to feed the results of one iteration into the next. Each successive run waits on the last one and returns a new Promise on which the next will wait.</p>\n\n<p>I hope it helps someone.</p>\n"}], "owner": {"reputation": 490, "user_id": 1363169, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/044ed090654d40793265fc910c856594?s=128&d=identicon&r=PG", "display_name": "kplus", "link": "https://stackoverflow.com/users/1363169/kplus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 58423260, "answer_count": 2, "score": 0, "last_activity_date": 1571271839, "creation_date": 1571259538, "question_id": 58421628, "link": "https://stackoverflow.com/questions/58421628/how-to-play-audio-lists-dynamically-with-ionic4-native-audio", "title": "How to play audio lists dynamically with Ionic4 Native audio", "body": "<p>I want to play a list of audio files just after its predecessor is played in an ionic4 project with angular/typescript.</p>\n\n<p>I am able to play the audios manually like this</p>\n\n<pre><code>PlayList(){\n\n      this.nativeAudio.play('uniqueId1', () =&gt; {\n\n           //the first audio is done playing\n              this.nativeAudio.play('uniqueId2', () =&gt; {\n                 //the second video is done playing \n                         this.nativeAudio.play('uniqueId3', () =&gt; {\n\n\n                                                      }\n\n                                           }\n\n              }\n\n     }\n</code></pre>\n\n<p>I tried to play it within a loop with async/ await but they are all playing at the same time.</p>\n"}, {"tags": ["javascript", "typescript", "electron", "babeljs", "create-react-app"], "answers": [{"comments": [{"owner": {"reputation": 10223, "user_id": 60371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0066561fa3649531b915aba34caff0b8?s=128&d=identicon&r=PG", "display_name": "Beau", "link": "https://stackoverflow.com/users/60371/beau"}, "edited": false, "score": 1, "creation_date": 1571278620, "post_id": 58422337, "comment_id": 103190001, "body": "exactly the kind of workaround I was looking for, thank you!"}, {"owner": {"reputation": 10223, "user_id": 60371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0066561fa3649531b915aba34caff0b8?s=128&d=identicon&r=PG", "display_name": "Beau", "link": "https://stackoverflow.com/users/60371/beau"}, "edited": false, "score": 0, "creation_date": 1571336749, "post_id": 58422337, "comment_id": 103217129, "body": "this is very close, but in <code>.d.ts</code> files I don&#39;t think <code>typeof</code> is valid (it fails with <code>ElectronStore is not defined</code> if I use <code>typeof</code>) and if I omit <code>typeof</code>, I think the namespace is used instead of the class (they are defined with the same name in electron-store source here: <a href=\"https://github.com/sindresorhus/electron-store/blob/master/index.d.ts\" rel=\"nofollow noreferrer\">github.com/sindresorhus/electron-store/blob/master/index.d.t&zwnj;&#8203;s</a>), resulting in &quot;Type &#39;ElectronStore&lt;any&gt;&#39; has no construct signatures.&quot;"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 10223, "user_id": 60371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0066561fa3649531b915aba34caff0b8?s=128&d=identicon&r=PG", "display_name": "Beau", "link": "https://stackoverflow.com/users/60371/beau"}, "edited": false, "score": 0, "creation_date": 1571341277, "post_id": 58422337, "comment_id": 103219039, "body": "It depends on what <code>ElectionStore</code> is declared as. <code>typeof</code> is valid in ambient contexts and is required to obtain the type of a class as opposed to the type of its instance. The declarations of the class and the namespace are merged in the standard way"}, {"owner": {"reputation": 10223, "user_id": 60371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0066561fa3649531b915aba34caff0b8?s=128&d=identicon&r=PG", "display_name": "Beau", "link": "https://stackoverflow.com/users/60371/beau"}, "edited": false, "score": 0, "creation_date": 1571342586, "post_id": 58422337, "comment_id": 103219600, "body": "well, when I import it via window.require I get a class with a constructor, but when I import it in the ambient context I get something else, without a constructor. not sure where to go from here."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 10223, "user_id": 60371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0066561fa3649531b915aba34caff0b8?s=128&d=identicon&r=PG", "display_name": "Beau", "link": "https://stackoverflow.com/users/60371/beau"}, "edited": false, "score": 0, "creation_date": 1571343053, "post_id": 58422337, "comment_id": 103219797, "body": "I don&#39;t understand what you mean. The type will be the same. But you can&#39;t call it in an ambient context. If my example is wrong I will fix it but I am not clear on what you are doing"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1571264022, "creation_date": 1571264022, "answer_id": 58422337, "question_id": 58421539, "link": "https://stackoverflow.com/questions/58421539/missing-typings-when-using-window-require-with-electron-and-typescript-with-crea/58422337#58422337", "title": "Missing typings when using window.require with Electron and TypeScript with create-react-app", "body": "<p>This cannot be done generically, that is to say for arbitrary module specifiers, but I suspect only a few modules will be loaded this way. Given that, your best bet is to write something like</p>\n\n<pre><code> // augmentations.d.ts or whatever you want to call it.\n\n import ElectronStore from 'electron-store';\n\n declare global {\n   interface Window {\n     require(moduleSpecifier: 'electron-store'): typeof ElectronStore;\n     require(moduleSpecifier: 'some-specifier'): SomeType; \n   }\n }\n</code></pre>\n"}], "owner": {"reputation": 10223, "user_id": 60371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0066561fa3649531b915aba34caff0b8?s=128&d=identicon&r=PG", "display_name": "Beau", "link": "https://stackoverflow.com/users/60371/beau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571264022, "creation_date": 1571259087, "question_id": 58421539, "link": "https://stackoverflow.com/questions/58421539/missing-typings-when-using-window-require-with-electron-and-typescript-with-crea", "title": "Missing typings when using window.require with Electron and TypeScript with create-react-app", "body": "<p>I have an Electron app that uses <code>create-react-app</code> with the TypeScript configuration (which uses Babel to compile the TypeScript code to JavaScript).</p>\n\n<p>I've followed the advice to use <code>window.require</code> in this case when importing modules like <code>electron-store</code> which access the filesystem, to avoid collision with Babel's <code>require</code> (which would error out with e.g. <code>fs.whatever not found</code>).</p>\n\n<p>My issue is that these modules come in typed as <code>any</code>, even when typing information is available. How do I clue TypeScript into the typing information for modules imported with <code>window.require</code>?</p>\n\n<p>To make it specific, here's an example:</p>\n\n<pre><code>const Store = window.require('electron-store');\n\ntype StoreType = {\n  'root-path': string;\n};\n\n// fails with \"Untyped function calls may not accept type arguments.\"\nexport const store = new Store&lt;StoreType&gt;();\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "edited": false, "score": 0, "creation_date": 1571260407, "post_id": 58421486, "comment_id": 103185735, "body": "this will not be necessary if we define the function like Jeff does, the types can be automatically inferred by typescript during usage"}], "tags": [], "owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "is_accepted": false, "score": 0, "last_activity_date": 1571258869, "creation_date": 1571258869, "answer_id": 58421486, "question_id": 58421436, "link": "https://stackoverflow.com/questions/58421436/typescript-cannot-infer-the-type-coming-from-a-callback-function/58421486#58421486", "title": "typescript cannot infer the type coming from a callback function", "body": "<p>The easiest way is to explicitly provide <code>T</code> and <code>R</code>, like so:</p>\n\n<pre><code>func1&lt;number, boolean&gt;(2 + 4)(a =&gt; a &gt; 5)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "edited": false, "score": 0, "creation_date": 1571260243, "post_id": 58421538, "comment_id": 103185672, "body": "got it. this will make R a type variable for the callback function"}], "tags": [], "owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "is_accepted": true, "score": 3, "last_activity_date": 1571259084, "creation_date": 1571259084, "answer_id": 58421538, "question_id": 58421436, "link": "https://stackoverflow.com/questions/58421436/typescript-cannot-infer-the-type-coming-from-a-callback-function/58421538#58421538", "title": "typescript cannot infer the type coming from a callback function", "body": "<p>You need to redefine it so <code>func1()</code> returns a generic function since you don't know what <code>R</code> is until a function is passed in.</p>\n\n<pre><code>const func2 = &lt;T&gt;(x: T) =&gt; &lt;R&gt;(f: (x: T) =&gt; R) =&gt; f(x)\n</code></pre>\n"}], "owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58421538, "answer_count": 2, "score": 2, "last_activity_date": 1571259084, "creation_date": 1571258617, "question_id": 58421436, "link": "https://stackoverflow.com/questions/58421436/typescript-cannot-infer-the-type-coming-from-a-callback-function", "title": "typescript cannot infer the type coming from a callback function", "body": "<p>I define a function like this:</p>\n\n<pre><code>const func1 = &lt;T, R&gt;(x: T) =&gt; (f: (x: T) =&gt; R) =&gt; f(x)\n</code></pre>\n\n<p>Then call it like this:</p>\n\n<pre><code>func1(2 + 4)(a =&gt; a &gt; 5)\n</code></pre>\n\n<p>I would expect the type of the result is boolean. but the type of func1 that typescript inferred is:</p>\n\n<pre><code>use&lt;number, unknown&gt;(x: number): (f: (x: number) =&gt; unknown) =&gt; unknown\n</code></pre>\n\n<p>How do I force typescript to recognize the type R?</p>\n"}, {"tags": ["angular", "typescript", "datatables", "localization"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 6009742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81ece36d66fb18f5697c5a0d2feb43a?s=128&d=identicon&r=PG", "display_name": "AlexDEV.pro", "link": "https://stackoverflow.com/users/6009742/alexdev-pro"}, "is_accepted": false, "score": 0, "last_activity_date": 1571258542, "creation_date": 1571258542, "answer_id": 58421414, "question_id": 58421413, "link": "https://stackoverflow.com/questions/58421413/dynamically-change-datatables-net-table-localization/58421414#58421414", "title": "Dynamically change DataTables.net table localization", "body": "<p>The service:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\nimport { DataTableDirective } from 'angular-datatables';\n\n@Injectable()\nexport class DataTablesHelpersService {\n    public createDataTablesLanguageObject(\n        localizationResources: any\n    ): DataTables.LanguageSettings {\n        return {\n            emptyTable: localizationResources['dt_sEmptyTable'],\n            info: localizationResources['dt_sInfo'],\n            infoEmpty: localizationResources['dt_sInfoEmpty'],\n            infoFiltered: localizationResources['dt_sInfoFiltered'],\n            infoPostFix: localizationResources['dt_sInfoPostFix'],\n            thousands: localizationResources['dt_sInfoThousands'],\n            lengthMenu: localizationResources['dt_sLengthMenu'],\n            loadingRecords: localizationResources['dt_sLoadingRecords'],\n            processing: localizationResources['dt_sProcessing'],\n            search: localizationResources['dt_sSearch'],\n            searchPlaceholder: localizationResources['dt_sSearchPlaceholder'],\n            zeroRecords: localizationResources['dt_sZeroRecords'],\n            paginate: {\n                first: localizationResources['dt_oPaginate_sFirst'],\n                last: localizationResources['dt_oPaginate_sLast'],\n                next: localizationResources['dt_oPaginate_sNext'],\n                previous: localizationResources['dt_oPaginate_sPrevious']\n            },\n            aria: {\n                sortAscending: localizationResources['dt_oAria_sSortAscending'],\n                sortDescending:\n                    localizationResources['dt_oAria_sSortDescending'],\n                paginate: {\n                    first: localizationResources['dt_oAria_oPaginate_sFirst'],\n                    last: localizationResources['dt_oAria_oPaginate_sLast'],\n                    next: localizationResources['dt_oAria_oPaginate_sNext'],\n                    previous:\n                        localizationResources['dt_oAria_oPaginate_sPrevious']\n                }\n            }\n        };\n    }\n\n    public updateDtLocalization(\n        dataTableDirective: DataTableDirective,\n        localizationResources: any\n    ) {\n        dataTableDirective.dtInstance.then((dataTable: DataTables.Api) =&gt; {\n            // Get table settings.\n            const dataTableSettings = dataTable.settings();\n\n            // Get existing DataTables localization object.\n            const existingDtLocalizationObject = dataTableSettings[0].oLanguage;\n\n            // Create DataTables localization object using new localization resources.\n            const newDtLocalizationData = this.createDataTablesLanguageObject(\n                localizationResources\n            );\n\n            // Recursively copy fields from a new localization object to an existing\n            // localization object used by the table.\n            this.updateDtLocalizationObject(\n                existingDtLocalizationObject,\n                newDtLocalizationData\n            );\n\n            // Redraw the table to update the text.\n            dataTable.draw('full-hold');\n        });\n    }\n\n    public updateDtLocalizationObject(\n        existingDtLocalizationObject: DataTables.LanguageSettings,\n        newLocalizationDataSource: DataTables.LanguageSettings\n    ) {\n        this.copyValuesFromSourceToDestinationRecursive(\n            newLocalizationDataSource,\n            existingDtLocalizationObject\n        );\n    }\n\n    private copyValuesFromSourceToDestinationRecursive(\n        source: any,\n        destination: any\n    ) {\n        for (var field in source) {\n            let mappedField: string;\n            if (destination._hungarianMap) {\n                mappedField = destination._hungarianMap[field];\n            }\n\n            if (typeof source[field] === 'object') {\n                this.copyValuesFromSourceToDestinationRecursive(\n                    source[field],\n                    destination[field]\n                );\n                if (mappedField) {\n                    this.copyValuesFromSourceToDestinationRecursive(\n                        source[field],\n                        destination[mappedField]\n                    );\n                }\n            } else {\n                destination[field] = source[field];\n                if (mappedField) {\n                    destination[mappedField] = source[field];\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>In the component with the table:</p>\n\n<pre><code>import { DataTableDirective } from 'angular-datatables';\n\n...\n\n@ViewChild(DataTableDirective) private datatableElement: DataTableDirective;\n\n...\n\nconstructor(\n    ...\n    private dataTablesHelpersService: DataTablesHelpersService,\n    ...\n) { }\n\n...\n\nprivate someMethod() {\n    if (this.datatableElement) {\n        // Pass the table and your new object with localization resources to the method.\n        // This example uses a simple POJO key-value format object as an object\n        // with localization resources for the entire application.\n        this.dataTablesHelpersService.updateDtLocalization(\n            this.datatableElement,\n            yourResourcesObject\n        );\n    }\n}\n\n...\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6009742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81ece36d66fb18f5697c5a0d2feb43a?s=128&d=identicon&r=PG", "display_name": "AlexDEV.pro", "link": "https://stackoverflow.com/users/6009742/alexdev-pro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571484506, "creation_date": 1571258542, "last_edit_date": 1571484506, "question_id": 58421413, "link": "https://stackoverflow.com/questions/58421413/dynamically-change-datatables-net-table-localization", "title": "Dynamically change DataTables.net table localization", "body": "<p>I'm using Angular 7 with the Angular DataTables wrapper for DataTables.net created by l-lin. I had the task of updating the localization of the table dynamically without re-creating the table itself. Actually, I found an answer on how to do this, but I didn\u2019t want to back out too far from the Angular DataTables interfaces. So I wrote the following Angular service. I want to share my solution to the problem and would be happy if someone shares a better solution.</p>\n"}, {"tags": ["typescript", "ui-automation", "cypress"], "answers": [{"tags": [], "owner": {"reputation": 378, "user_id": 9766997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eae7640fad3c2aed5c659a82a17eac3?s=128&d=identicon&r=PG&f=1", "display_name": "Pigbrainflower", "link": "https://stackoverflow.com/users/9766997/pigbrainflower"}, "is_accepted": true, "score": 0, "last_activity_date": 1571271782, "creation_date": 1571271782, "answer_id": 58423254, "question_id": 58421277, "link": "https://stackoverflow.com/questions/58421277/adding-custom-command-which-returns-string-typescript/58423254#58423254", "title": "Adding custom Command which returns string, typescript", "body": "<p>The issue should be with the line of your code. </p>\n\n<pre><code>cy.visit(cy.getEnvURL(Cypress.env('environment')))\n</code></pre>\n\n<p>cy.getEnvURL returns an object rather than the return values 'testURL' or 'StaggingURL'.</p>\n\n<p>can you try this code instead?</p>\n\n<pre><code>cy.getEnvURL(Cypress.env('username')).then(($url) =&gt; {\n        cy.visit($url)\n    })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 933, "user_id": 755568, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/d3YkP.jpg?s=128&g=1", "display_name": "Hung Tran", "link": "https://stackoverflow.com/users/755568/hung-tran"}, "is_accepted": false, "score": 0, "last_activity_date": 1571290990, "creation_date": 1571290990, "answer_id": 58425635, "question_id": 58421277, "link": "https://stackoverflow.com/questions/58421277/adding-custom-command-which-returns-string-typescript/58425635#58425635", "title": "Adding custom Command which returns string, typescript", "body": "<p>Speaking of cy commands or custom ones, they always return results asynchronously. You only consume actual result data in the <strong>then</strong> block.\n<a href=\"https://docs.cypress.io/guides/core-concepts/introduction-to-cypress.html#Subject-Management\" rel=\"nofollow noreferrer\">https://docs.cypress.io/guides/core-concepts/introduction-to-cypress.html#Subject-Management</a></p>\n\n<hr>\n\n<p>In my opinion, cy command is not what you need. I expect the variable <strong>environment</strong> is set before your app starts and will not be changed at runtime. If so, you only need to create a simple module, <strong>test-utils.ts</strong> or anything, placed under <strong>cypress/utils</strong>.</p>\n\n<pre><code>export const getEnvUrl = (env: string) =&gt; {\n  const env = Cypress.env('environment')\n  if (env === 'staging') {\n    return 'staging-url'\n  } else {\n    return 'test-url'\n  }\n}\n</code></pre>\n\n<p>In a cypress test, you can use it straighforward</p>\n\n<pre><code>cy.visit(getEnvUrl())\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10251019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "accepted_answer_id": 58423254, "answer_count": 2, "score": 0, "last_activity_date": 1571290990, "creation_date": 1571257935, "question_id": 58421277, "link": "https://stackoverflow.com/questions/58421277/adding-custom-command-which-returns-string-typescript", "title": "Adding custom Command which returns string, typescript", "body": "<p>I am new to cypress and I am trying to learn cypress with typescript.</p>\n\n<p>I am facing an issue when I am trying to add a custom command.</p>\n\n<pre><code>Cypress.Commands.add('getEnvURL', (environment) =&gt; {\n\n    if(environment === ('Dev')){\n\n        return 'testURL';\n    } else if (environment === ('Stagging')){        \n        return 'StaggingURL';\n    }\n});\n\n\ndeclare global {\n    namespace Cypress {\n      // tslint:disable-next-line:interface-name\n      interface Chainable&lt;Subject&gt; {\n        getEnvURL(environment: string): string;        \n      }\n    }\n  }\n</code></pre>\n\n<p><strong>SPEC FILE</strong></p>\n\n<pre><code>it('Login Test', () =&gt; {\ncy.visit(cy.getEnvURL(Cypress.env('environment')));\n });\n</code></pre>\n\n<p>when I am trying to call the getEnvURL() custom method from spec file, I am expecting that it will return the URL string. when I am running the test it's not doing anything.</p>\n\n<p>Can someone help me to solve this</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 7231537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a9e370aaa7bc899322c43551e87b3f?s=128&d=identicon&r=PG&f=1", "display_name": "Tatha", "link": "https://stackoverflow.com/users/7231537/tatha"}, "edited": false, "score": 0, "creation_date": 1571291149, "post_id": 58421174, "comment_id": 103192859, "body": "I understand now. I think I should not have expected a Java-like similarity, since this snippet is perfectly compile-valid for Java. Typescript is smarter :)"}], "tags": [], "owner": {"reputation": 7275, "user_id": 711674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7560ae5fac8aca6de538d5c28232b1c?s=128&d=identicon&r=PG", "display_name": "Will P.", "link": "https://stackoverflow.com/users/711674/will-p"}, "is_accepted": true, "score": 3, "last_activity_date": 1571257420, "creation_date": 1571257420, "answer_id": 58421174, "question_id": 58421112, "link": "https://stackoverflow.com/questions/58421112/have-no-overlap-error-while-comparing-enum-values-in-typescript/58421174#58421174", "title": "&quot;have no overlap&quot; error while comparing enum values in TypeScript", "body": "<p>There is no logic applied that could affect the value of the <code>day</code> variable -- the complier can plainly see that it will always be <code>daysoftheweek.FRI</code>.  The error is telling you that it will never equal <code>daysoftheweek.MON</code> so the if statement has no purpose.</p>\n"}, {"tags": [], "owner": {"reputation": 2754, "user_id": 699285, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/37511b1e65178162ce63a8920bb117b7?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/699285/marc"}, "is_accepted": false, "score": 1, "last_activity_date": 1596324819, "creation_date": 1596324819, "answer_id": 63211011, "question_id": 58421112, "link": "https://stackoverflow.com/questions/58421112/have-no-overlap-error-while-comparing-enum-values-in-typescript/63211011#63211011", "title": "&quot;have no overlap&quot; error while comparing enum values in TypeScript", "body": "<p>Note that this error can also occur if you have multiple enums with the same values. For example if you have Enum1.OTHER = &quot;other&quot; and Enum2.OTHER = &quot;other&quot; and you try to compare a value that should be of type Enum1 with Enum1.OTHER, you'd think it would work fine. But no, Typescript gets confused and doesn't know if &quot;other&quot; is for Enum1 or Enum2. The way to get around this is to always use it like this:</p>\n<pre><code>let action:Enum1 = whatever;\nif (action == (Enum1.OTHER as Enum1)) {\n    // do something\n} else if (action == (Enum1.SOMETHING_ELSE as Enum1)) {\n    // do something else\n}\n</code></pre>\n<p>Took some random guessing on my part to find the issue and make this error go away.</p>\n"}, {"tags": [], "owner": {"reputation": 462, "user_id": 6166911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DybA9.jpg?s=128&g=1", "display_name": "Davidson Lima", "link": "https://stackoverflow.com/users/6166911/davidson-lima"}, "is_accepted": false, "score": 0, "last_activity_date": 1599607396, "creation_date": 1599607396, "answer_id": 63802786, "question_id": 58421112, "link": "https://stackoverflow.com/questions/58421112/have-no-overlap-error-while-comparing-enum-values-in-typescript/63802786#63802786", "title": "&quot;have no overlap&quot; error while comparing enum values in TypeScript", "body": "<p>It can happen if you repeat the Enum conditional.</p>\n"}], "owner": {"reputation": 101, "user_id": 7231537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a9e370aaa7bc899322c43551e87b3f?s=128&d=identicon&r=PG&f=1", "display_name": "Tatha", "link": "https://stackoverflow.com/users/7231537/tatha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 58421174, "answer_count": 3, "score": 2, "last_activity_date": 1599607396, "creation_date": 1571257082, "last_edit_date": 1571257592, "question_id": 58421112, "link": "https://stackoverflow.com/questions/58421112/have-no-overlap-error-while-comparing-enum-values-in-typescript", "title": "&quot;have no overlap&quot; error while comparing enum values in TypeScript", "body": "<p>I'm trying to learn TypeScript and had been following online tutorial examples for enum support in TypeScript. For this below snippet:</p>\n\n<pre><code>enum daysoftheweek{\n    SUN, MON, TUE, WED, THU, FRI, SAT\n}\n\nlet day:daysoftheweek ;\n\nday = daysoftheweek.FRI; //line 7\n\nif (day === daysoftheweek.MON){\n    console.log(\"got to go to work early\");\n}else{\n    console.log(\"I may go late\");\n}\n</code></pre>\n\n<p>...I'm getting this error at compile time and I don't understand why:</p>\n\n<blockquote>\n  <p><strong>TS2367:</strong> This condition will always return 'false' \n  since the types 'daysoftheweek.FRI' and 'daysoftheweek.MON' have no overlap.</p>\n</blockquote>\n\n<p>If I modify line 7 to this, the error goes off:\n<code>day = daysoftheweek.MON;</code></p>\n\n<p>Can somebody please explain why compilation is throwing that error?<br>\n(I followed other threads on this \"have no overlap\" error , but couldn't understand the reason for this particular snippet's problem)</p>\n"}, {"tags": ["angular", "typescript", "firebase", "ionic-framework", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 1171317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IVXM4.jpg?s=128&g=1", "display_name": "Jazjef", "link": "https://stackoverflow.com/users/1171317/jazjef"}, "is_accepted": true, "score": 1, "last_activity_date": 1571660564, "last_edit_date": 1571660564, "creation_date": 1571271681, "answer_id": 58423241, "question_id": 58420849, "link": "https://stackoverflow.com/questions/58420849/ionic-4-changes-automatically-date-set-via-gui-ion-datetime/58423241#58423241", "title": "Ionic 4 changes automatically date set via GUI (ion-datetime)", "body": "<p>Seems like Ionic uses the index range 1-12 for months.\nDate object of javascript uses 0-11. So if you for example choose february in the datepicker you get 2 from ion-datetime which would be in javascript March (0,1,2).</p>\n\n<p>Furthermore, by using new Date() javscript always applies the browsers/machines timezone to your passed date.</p>\n\n<p>Edit:\nI suggest you start using the MatMomentDateModule.\nThere you can define how your date should be displayed and how the date input should be parsed.\nWith momentjs you can freely handle timezones.</p>\n"}], "owner": {"reputation": 11, "user_id": 10951016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvsrP.jpg?s=128&g=1", "display_name": "smjc96", "link": "https://stackoverflow.com/users/10951016/smjc96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 58423241, "answer_count": 1, "score": 0, "last_activity_date": 1571660564, "creation_date": 1571255875, "question_id": 58420849, "link": "https://stackoverflow.com/questions/58420849/ionic-4-changes-automatically-date-set-via-gui-ion-datetime", "title": "Ionic 4 changes automatically date set via GUI (ion-datetime)", "body": "<p>After posting <a href=\"https://stackoverflow.com/questions/58259917/update-firestore-document-with-ion-datetime-value-change\">this question</a> before, its answer was what I needed and works as I want, but I'm getting an unexpected behavior when setting the date from ion-datetime: The date I selected doesn't match the date it sets. Always adds one more month, and when I set the 31st day adds one day, changing month again. Is it normal?</p>\n\n<p>If some information is needed for further understanding, this is how it remained:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ion-datetime displayFormat=\"D/M/YYYY\" pickerFormat=\"D M YYYY\"\n  min=\"{{minDate.getFullYear()}}\" max=\"{{minDate.getFullYear()+10}}\"\n  [(ngModel)]=\"object.limitDate\" [pickerOptions]=\"customPickerOptions\"&gt;\n&lt;/ion-datetime&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>private customPickerOptions: any;\n\nconstructor(private angularFirestore: AngularFirestore) {\n  this.customPickerOptions = {\n    buttons: [{\n      text: 'Cancelar',\n      role: 'cancel'\n    }, {\n      text: 'Guardar',\n      handler: (result: any) =&gt; {\n        const date: string = new Date(result.year.value, result.month.value, result.day.value).toISOString();\n        this.angularFirestore.collection('object').doc&lt;ObjectType&gt;(this.docId).update({ limitDate: date });\n      }\n    }]\n  };\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "geolocation", "coordinates"], "comments": [{"owner": {"reputation": 5276, "user_id": 3776535, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c960c9d125c661738fe7b61ff41b740b?s=128&d=identicon&r=PG", "display_name": "Burt_Harris", "link": "https://stackoverflow.com/users/3776535/burt-harris"}, "edited": false, "score": 2, "creation_date": 1571256297, "post_id": 58420619, "comment_id": 103184018, "body": "Spherical coordinate math is a complex topic. The best answer would probably be to find a library that deals with the topic, rather than code it yourself.   <a href=\"https://www.npmjs.com/search?q=lattitude\" rel=\"nofollow noreferrer\">This NPM search</a> turns up a few candidates."}], "answers": [{"comments": [{"owner": {"reputation": 5276, "user_id": 3776535, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c960c9d125c661738fe7b61ff41b740b?s=128&d=identicon&r=PG", "display_name": "Burt_Harris", "link": "https://stackoverflow.com/users/3776535/burt-harris"}, "edited": false, "score": 1, "creation_date": 1571255983, "post_id": 58420728, "comment_id": 103183873, "body": "I think this assumes Cartesian coordinates.  In a spherical coordinate system, values wrap-around.   Wouldn&#39;t that need to be accounted for?"}, {"owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "reply_to_user": {"reputation": 5276, "user_id": 3776535, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c960c9d125c661738fe7b61ff41b740b?s=128&d=identicon&r=PG", "display_name": "Burt_Harris", "link": "https://stackoverflow.com/users/3776535/burt-harris"}, "edited": false, "score": 0, "creation_date": 1571256192, "post_id": 58420728, "comment_id": 103183972, "body": "@Burt_Harris. Yesm if we were dealing with spherical coordinates. But latitude and longitude are two dimensional. And we are only talking about points on the surface of the planet, not points within the sphere"}, {"owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1571256304, "post_id": 58420728, "comment_id": 103184021, "body": "@JonasWilms wilms poles are not a problem. How do you think they get a 2 dimentional piece of paper to fit on a globe? The paper itself is not a rectangle, but it is still two dimensional, and using latitude and longitude you can create rectangles on the globe"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1571257539, "post_id": 58420728, "comment_id": 103184579, "body": "@ControlAltDel move one coordinate <i>onto</i> the pole. Stuff gets complicated then."}, {"owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1571258281, "post_id": 58420728, "comment_id": 103184890, "body": "@Jonas Wilms When you move one coordinate onto an <i>exact</i> pole position longitude ceases to exist. So then you can no longer form a rectangle with a second point, or correspondingly ever say if a 3rd point lies within that region (unless I guess that it is on the exact longitude of the 2nd point). This is a special case where the rectangle collapses to a line."}, {"owner": {"reputation": 8942, "user_id": 4287, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/e8AIH.jpg?s=128&g=1", "display_name": "Robert J. Walker", "link": "https://stackoverflow.com/users/4287/robert-j-walker"}, "edited": false, "score": 0, "creation_date": 1571264174, "post_id": 58420728, "comment_id": 103186960, "body": "Your Cartesian-based formula will fail in this case:  a = { lat: 20, lng: 170 } b = { lat: 10, lng: -170 } c = { lat: 15, lng: -175 }  Assuming a is the northwestern point, point c is within the rectangle, but your formula would fail because the rectangle crosses the lng=180 line."}, {"owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "reply_to_user": {"reputation": 8942, "user_id": 4287, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/e8AIH.jpg?s=128&g=1", "display_name": "Robert J. Walker", "link": "https://stackoverflow.com/users/4287/robert-j-walker"}, "edited": false, "score": 0, "creation_date": 1571318567, "post_id": 58420728, "comment_id": 103207861, "body": "@RobertJ.Walker This is just a question of how you create your rectangle. Yes, these lat/lng cords would need some rectifying to create the proper rectangle. But the way you have formulated this, a would NOT be the northwestern point- it would be the northeastern point, because -170 is less that 175."}], "tags": [], "owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "is_accepted": false, "score": 0, "last_activity_date": 1571255329, "creation_date": 1571255329, "answer_id": 58420728, "question_id": 58420619, "link": "https://stackoverflow.com/questions/58420619/how-can-i-know-if-a-coordinate-lat-lot-are-within-the-range-of-other-two-coo/58420728#58420728", "title": "How can I know if a coordinate (lat &amp; lot) are within the range of other two coordinates?", "body": "<p>The formula to determine if a point is within a rectangle is</p>\n\n<pre><code>if (pt.x &gt;= rect.x &amp;&amp; pt.x &lt;= rect.x + rect.width \n  &amp;&amp; pt.y &gt;= rect.y &amp;&amp; pt.y &lt;= rect.y + rect.height)\n</code></pre>\n\n<p>So all you have to do is calculate the horizontal and vertical distances between your two point,s and test if a 3rd point is within the two using the above formula</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12212177"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571263270, "creation_date": 1571254845, "last_edit_date": 1571263270, "question_id": 58420619, "link": "https://stackoverflow.com/questions/58420619/how-can-i-know-if-a-coordinate-lat-lot-are-within-the-range-of-other-two-coo", "title": "How can I know if a coordinate (lat &amp; lot) are within the range of other two coordinates?", "body": "<p>I have what I believe to be an easy problem to solve, but still I'm struggling to find the answer, maybe cause I'm not very good with Math or doesn't understand exactly how coordinates works.</p>\n\n<p>I have two points that represent geolocations, <code>a</code> and <code>b</code>:</p>\n\n<pre><code>const a = {\n  lat: 0,\n  lon: 0,\n}\n\nconst b = {\n  lat: 0,\n  lon: 0\n}\n</code></pre>\n\n<p>And given an input <code>c</code>, is <code>c</code> within <code>a</code> and <code>b</code>?</p>\n\n<p><code>a</code> represents the top left-corner, and <code>b</code> represents a bottom-right corner, e.g:</p>\n\n<p><a href=\"https://i.stack.imgur.com/19ihm.png\" rel=\"nofollow noreferrer\">example 1</a> and <a href=\"https://i.stack.imgur.com/xVtRV.png\" rel=\"nofollow noreferrer\">example 2</a></p>\n\n<p>A roughly example of the implementation is:</p>\n\n<pre><code>type Coordinate = {\n  lat: number\n  lon: number\n}\n\nconst a: Coordinate = {\n  lat: 48.881366,\n  lon: 2.327037\n}\n\nconst b: Coordinate = {\n  lat: 48.878525,\n  lon: 2.331655\n}\n\n\nfunction isWithinGeoRange(c: Coordinate): boolean {\n  return false\n}\n\nconst c = {\n  lat: 48.879971,\n  lon: 2.329885\n}\n\nisWithinGeoRange(c) // true | false\n</code></pre>\n\n<p>I know I'm supposed to show examples and things that I've tried, but I didn't try anything because it's my first time messing around with maps and geolocations, so I don't know exactly where to start.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["angular", "typescript", "list", "mat"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11837189, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ATe6052iIWk/AAAAAAAAAAI/AAAAAAAAAPA/OfDiB5au8Lw/photo.jpg?sz=128", "display_name": "Tim Kelly", "link": "https://stackoverflow.com/users/11837189/tim-kelly"}, "is_accepted": false, "score": 0, "last_activity_date": 1571257082, "creation_date": 1571257082, "answer_id": 58421111, "question_id": 58420541, "link": "https://stackoverflow.com/questions/58420541/how-can-i-accomplish-using-two-mat-chip-lists-in-one-form-pulling-from-two-separ/58421111#58421111", "title": "How can I accomplish using two mat-chip-lists in one form pulling from two separate database tables?", "body": "<p>So i want to go ahead and answer my own question here. The only problem with this code is with the second matAutocomplete in the HTML. I had it listed as <code>[matAutoComplete] = \"auto1\"</code> when it should be <code>[matAutocomplete] = \"auto1\"</code> with a lowercase c. This fixed everything.</p>\n"}], "owner": {"reputation": 1, "user_id": 11837189, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ATe6052iIWk/AAAAAAAAAAI/AAAAAAAAAPA/OfDiB5au8Lw/photo.jpg?sz=128", "display_name": "Tim Kelly", "link": "https://stackoverflow.com/users/11837189/tim-kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 691, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571257082, "creation_date": 1571254463, "question_id": 58420541, "link": "https://stackoverflow.com/questions/58420541/how-can-i-accomplish-using-two-mat-chip-lists-in-one-form-pulling-from-two-separ", "title": "How can I accomplish using two mat-chip-lists in one form pulling from two separate database tables?", "body": "<p>I am writing a form that is to perform a search based on criteria entered. I am focusing on the schools and the hire stages. The schools and the hire stages are both to be mat-chip-lists so that more than one option can be chosen. The schools works, but hireStages does not. How can I get both of them to function as mat-chip-lists on the same form?</p>\n\n<p>HTML</p>\n\n<pre><code>    &lt;mat-grid-tile colspan=\"4\" rowspan=\"4\"&gt;\n        &lt;div class='eForm'&gt;\n            &lt;form [formGroup]='searchForm' autocomplete='off' novalidate (ngSubmit)=\"onSubmit()\"&gt;\n                &lt;mat-form-field class=\"nameSearch\"&gt;\n                    &lt;span matPrefix&gt;Name:&amp;nbsp;&lt;/span&gt;\n                    &lt;input matInput id = 'firstName' placeholder=\"&amp;nbsp;Enter candidate name\"&gt;\n                &lt;/mat-form-field&gt;\n                &lt;mat-form-field class=\"majorSearch\"&gt;\n                    &lt;span matPrefix&gt;Major:&amp;nbsp;&lt;/span&gt;\n                    &lt;input matInput placeholder=\"&amp;nbsp;Enter candidate major\"&gt;\n                &lt;/mat-form-field&gt;\n\n                &lt;tr&gt;\n                    &lt;mat-form-field *ngIf = \"schoolSource\" class=\"schools\"&gt;\n                        &lt;mat-label&gt;Schools&lt;/mat-label&gt;\n                        &lt;mat-chip-list #chipList&gt;\n                            &lt;mat-chip *ngFor = \"let school of schools\"\n                            [selectable] = \"true\"\n                            [removable] = \"true\"\n                            (removed) = \"removeSchool(school)\"&gt;\n                            {{ school }}\n                            &lt;mat-icon matChipRemove *ngIf = \"removable\"&gt;cancel&lt;/mat-icon&gt;\n                            &lt;/mat-chip&gt;\n                            &lt;input placeholder = \"Choose school(s)\" #schoolInput\n                                [formControl] = \"schoolCtrl\"\n                                [matAutocomplete]=\"auto\"\n                                [matChipInputFor]=\"chipList\"\n                                [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\n                                [matChipInputAddOnBlur]=\"addOnBlur\"&gt;\n                        &lt;/mat-chip-list&gt;\n\n                        &lt;mat-autocomplete #auto (optionSelected)=\"selectedSchool($event)\"&gt;\n                            &lt;mat-option *ngFor=\"let school of schoolSource\"\n                            [value] = 'schoolId'&gt;\n                            {{ school.schoolName }}\n                            &lt;/mat-option&gt;\n                        &lt;/mat-autocomplete&gt;\n                    &lt;/mat-form-field&gt;\n\n                    &lt;mat-form-field *ngIf = \"hireStageSource\" class=\"hireStages\"&gt;\n                        &lt;mat-label&gt;Hire Stage&lt;/mat-label&gt;\n                        &lt;mat-chip-list #chipList1&gt;\n                            &lt;mat-chip *ngFor = \"let hireStage of hireStages\"\n                            [selectable] = \"true\"\n                            [removable] = \"true\"\n                            (removed) = \"removeStage(hireStage)\"&gt;\n                            {{ hireStage }}\n                            &lt;mat-icon matChipRemove *ngIf = \"removable\"&gt;cancel&lt;/mat-icon&gt;\n                            &lt;/mat-chip&gt;\n                            &lt;input placeholder = \"Choose Hire Stage(s)\" #hireStageInput\n                            [formControl] = \"hireStageCtrl\"\n                            [matAutoComplete] = \"auto1\"\n                            [matChipInputFor] = \"chipList1\"\n                            [matChipInputSeparatorKeyCodes] = \"separatorKeysCodes\"\n                            [matChipInputAddOnBlur] = \"addOnBlur\"&gt;\n                        &lt;/mat-chip-list&gt;\n\n                        &lt;mat-autocomplete #auto1 (optionSelected) = \"selectedStage($event)\"&gt;\n                            &lt;mat-option *ngFor = \"let hireStage of hireStageSource\"\n                            [value] = 'stageId'&gt;\n                            {{ hireStage.stageName }}\n                            &lt;/mat-option&gt;\n                        &lt;/mat-autocomplete&gt;\n                        &lt;!-- &lt;mat-select [(value)]=\"stageId\"&gt;\n                            &lt;mat-option id=stageId *ngFor=\"let hireStage of hireStages\" [value]=\"hireStage.stageId\"&gt;\n                                {{hireStage.stageName}}\n                            &lt;/mat-option&gt;\n                        &lt;/mat-select&gt; --&gt;\n                    &lt;/mat-form-field&gt;\n                &lt;/tr&gt;\n                &lt;mat-form-field class=\"startDate\"&gt;\n                    &lt;input matInput [matDatepicker]=\"picker\" placeholder=\"Choose a start date\"\n                        id=\"startDate\" name=\"startDate\"&gt;\n                    &lt;mat-datepicker-toggle matSuffix [for]=\"picker\"&gt;&lt;/mat-datepicker-toggle&gt;\n                    &lt;mat-datepicker #picker&gt;&lt;/mat-datepicker&gt;\n                &lt;/mat-form-field&gt;\n\n                &lt;mat-form-field class=\"endDate\"&gt;\n                    &lt;input matInput [matDatepicker]=\"picker2\" placeholder=\"Choose an end date\"\n                        id=\"endDate\" name=\"endDate\"&gt;\n                    &lt;mat-datepicker-toggle matSuffix [for]=\"picker2\"&gt;&lt;/mat-datepicker-toggle&gt;\n                    &lt;mat-datepicker #picker2&gt;&lt;/mat-datepicker&gt;\n                &lt;/mat-form-field&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/mat-grid-tile&gt;\n    &lt;mat-grid-tile colspan=\"6\" rowspan=\"4\"&gt;2&lt;/mat-grid-tile&gt;\n    &lt;mat-grid-tile colspan=\"4\" rowspan=\"6\"&gt;3&lt;/mat-grid-tile&gt;\n    &lt;mat-grid-tile colspan=\"6\" rowspan=\"6\"&gt;4&lt;/mat-grid-tile&gt;\n&lt;/mat-grid-list&gt;\n&lt;div *ngIf=\"hireStageSource\"&gt;\n    &lt;div *ngFor='let hireStage of hireStageSource'&gt; {{hireStage.stageName}} &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>.ts</p>\n\n<pre><code>import { Location } from '@angular/common';\nimport { School } from 'src/app/services/database-services/school';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { SchoolService } from 'src/app/services/database-services/school.service';\nimport { HireStage } from 'src/app/services/database-services/hirestage';\nimport { HireStageService } from 'src/app/services/database-services/hirestage.service';\nimport { ENTER, COMMA } from '@angular/cdk/keycodes';\nimport { Observable } from 'rxjs';\nimport { MatAutocomplete, MatAutocompleteTrigger, MatAutocompleteSelectedEvent } from '@angular/material/autocomplete';\nimport { MatChipInputEvent } from '@angular/material';\n\n@Component({\n    selector: 'send-email-templates',\n    templateUrl: './send-email-templates.html',\n    styleUrls: ['./send-email-templates.css'],\n})\nexport class SendEmailTemplatesComponent implements OnInit {\n\n        //this is where schools are stored\n    public schoolSource: School[];\n    public hireStageSource: HireStage[];\n\n\n\n    // Stuff for school &amp; hire stage selection //\n    visible = true;\n    selectable = true;\n    removable = true;\n    addOnBlur = true;\n    separatorKeysCodes: number[] = [ENTER, COMMA];\n    schoolCtrl = new FormControl();\n        //this is the array that gets displayed\n    schools: string[] = [];\n    allSchools: School[];\n    allHireStages: HireStage[];\n    hireStages: string[] = [];\n    hireStageCtrl = new FormControl();\n\n    // List of Id's for schools and hire stages to be searched //\n    schoolIdList: number[] = [];\n    hireStageIdList: number[] = [];\n    @ViewChild('schoolInput', {static: false}) schoolInput: ElementRef&lt;HTMLInputElement&gt;;\n    @ViewChild('auto', {static: false}) matAutocomplete: MatAutocomplete;\n    @ViewChild('hireStageInput', {static: false}) hireStageInput: ElementRef&lt;HTMLInputElement&gt;;\n    @ViewChild('auto1', {static: false}) matAutocomplete1: MatAutocomplete;\n    // @ViewChild(MatAutocompleteTrigger, {static: false}) trigger: MatAutocompleteTrigger;\n\n    searchForm = new FormGroup({\n\n    });\n\n    constructor(\n        private schoolService: SchoolService,\n        private hireStageService: HireStageService,\n    ) { }\n\n\n    ngOnInit() {\n        this.getSchools();\n        this.getHireStages();\n    }\n\n    getSchools(): void {\n        this.schoolService.getSchools().subscribe(schools =&gt; {\n        this.schoolSource = schools;\n        for(let school of this.schoolSource){\n            console.log(school.schoolName);\n        }\n        console.log(this.schools.length)\n        });\n    }\n\n    getHireStages(): void {\n        this.hireStageService.getHireStages().subscribe(hireStages =&gt; {\n        this.hireStageSource = hireStages;\n        for(let stage of this.hireStageSource){\n            console.log(stage.stageName)\n            console.log(this.hireStages.length)\n        }\n        });\n    }\n\n    removeSchool(school: string): void {\n        const index = this.schools.indexOf(school);\n        if (index &gt;= 0) {\n            this.schools.splice(index, 1);\n            this.schoolIdList.splice(index, 1);\n        }\n    }\n\n    removeStage(hireStage: string): void {\n        const index = this.hireStages.indexOf(hireStage);\n        if (index &gt;= 0) {\n            this.hireStages.splice(index, 1);\n            this.hireStageIdList.splice(index, 1);\n        }\n    }\n\n    selectedSchool(event: MatAutocompleteSelectedEvent): void {\n        if (!this.schools.includes(event.option.viewValue)) {\n            this.schools.push(event.option.viewValue)\n\n            this.schoolIdList.push(event.option.value);\n        }\n        this.schoolInput.nativeElement.value = '';\n        this.schoolCtrl.setValue(null);\n        document.getElementById('firstName').click();\n    }\n\n    selectedStage(event: MatAutocompleteSelectedEvent): void {\n        if (!this.hireStages.includes(event.option.viewValue)) {\n            this.hireStages.push(event.option.viewValue)\n\n            this.hireStageIdList.push(event.option.value);\n        }\n\n        this.hireStageInput.nativeElement.value = '';\n        this.hireStageCtrl.setValue(null);\n        document.getElementById('firstName').click();\n    }\n\n    private _filter(value: School): School[] {\n        return this.allSchools.filter(school =&gt; this.allSchools.indexOf(school) === 0);\n    }\n\n    private _filter1(value: HireStage): HireStage[] {\n        return this.allHireStages.filter(hireStage =&gt; this.allHireStages.indexOf(hireStage) === 0);\n    }\n\n}```\n</code></pre>\n"}, {"tags": ["typescript", "express", "sequelize.js"], "answers": [{"comments": [{"owner": {"reputation": 2497, "user_id": 4135063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e7ad6fb5dc2f10279b43129570737497?s=128&d=identicon&r=PG", "display_name": "Pedro A", "link": "https://stackoverflow.com/users/4135063/pedro-a"}, "edited": false, "score": 1, "creation_date": 1571330686, "post_id": 58436580, "comment_id": 103214575, "body": "Thanks for taking the time to answer your own question. You would like feedback and I would like to give you feedback, but not now, I&#39;m super busy. Can you remind me in a few weeks? Feel free to ping me here or on the github issue (@papb)."}], "tags": [], "owner": {"reputation": 319, "user_id": 4629572, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2c99b94874b3a136601a9b2a912f1c66?s=128&d=identicon&r=PG&f=1", "display_name": "ndyr", "link": "https://stackoverflow.com/users/4629572/ndyr"}, "is_accepted": false, "score": 5, "last_activity_date": 1571327910, "creation_date": 1571327910, "answer_id": 58436580, "question_id": 58420410, "link": "https://stackoverflow.com/questions/58420410/model-loader-for-sequelize-v5-typescript/58436580#58436580", "title": "Model Loader for Sequelize v5 &amp; Typescript", "body": "<p>So I have got it working, but in a non looping Model Loader.  I ignored the define documentation, \n<a href=\"https://sequelize.org/master/manual/typescript.html#usage-of--code-sequelize-define--code-\" rel=\"noreferrer\">https://sequelize.org/master/manual/typescript.html#usage-of--code-sequelize-define--code-</a> </p>\n\n<p>for the long winded class approach here : <a href=\"https://sequelize.org/master/manual/typescript.html#usage\" rel=\"noreferrer\">https://sequelize.org/master/manual/typescript.html#usage</a></p>\n\n<p>I will go through the process of setting up 2 models and their associations to hopefully help those that are trying to integrate Typescript with Sequelize v5. </p>\n\n<p><strong>WOULD DEFINITELY LOVE FEEDBACK ON THIS APPROACH.</strong></p>\n\n<p>Let's start with the classes for a User and associated Identities ( for accessing the API )</p>\n\n<p><code>/src/db/models/user.ts</code></p>\n\n<pre><code>import { Sequelize, Model, DataTypes, BuildOptions } from 'sequelize';\nimport { Association, HasManyGetAssociationsMixin, HasManyAddAssociationMixin, HasManyHasAssociationMixin, HasManyCountAssociationsMixin, HasManyCreateAssociationMixin } from 'sequelize';\nimport { Identity } from './identity';\nexport class User extends Model {\n  public id!: string; // Note that the `null assertion` `!` is required in strict mode.\n  public active!: boolean;\n\n  // timestamps!\n  public readonly createdAt!: Date;\n  public readonly updatedAt!: Date;\n\n  public getIdentities!: HasManyGetAssociationsMixin&lt;Identity&gt;; // Note the null assertions!\n  public addIdentity!: HasManyAddAssociationMixin&lt;Identity, number&gt;;\n  public hasIdentity!: HasManyHasAssociationMixin&lt;Identity, number&gt;;\n  public countIdentities!: HasManyCountAssociationsMixin;\n  public createIdentity!: HasManyCreateAssociationMixin&lt;Identity&gt;;\n\n  // You can also pre-declare possible inclusions, these will only be populated if you\n  // actively include a relation.\n  public readonly identities?: Identity[]; // Note this is optional since it's only populated when explicitly requested in code\n\n  public static associations: {\n    identities: Association&lt;User, Identity&gt;;\n  };\n\n}\n\nexport function initUser(sequelize: Sequelize): void {\n  User.init({\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n    },\n    active: {\n      type:DataTypes.BOOLEAN,\n      defaultValue: true,\n      allowNull: false\n    }\n  }, {\n    tableName: 'User', \n    sequelize: sequelize, // this bit is important\n  });\n\n\n}\n\nexport function associateUser(): void {\n  // Here we associate which actually populates out pre-declared `association` static and other methods.\n  User.hasMany(Identity, {\n    sourceKey: 'id',\n    foreignKey: 'UserId',\n    as: 'identities' // this determines the name in `associations`!\n  });\n}\n\n</code></pre>\n\n<p><code>/src/db/models/identity.ts</code></p>\n\n<pre><code>import { Sequelize, Model, DataTypes, BuildOptions } from 'sequelize';\nimport { Association, HasOneGetAssociationMixin, HasOneCreateAssociationMixin } from 'sequelize';\nimport { User } from './user'\n\nimport * as bcrypt from \"bcryptjs\";\n\nexport class Identity extends Model {\n  public id!: string; // Note that the `null assertion` `!` is required in strict mode.\n  public username!: string;\n  public password!: string;\n  public UserId: string;\n  public active!: boolean;\n\n  // timestamps!\n  public readonly createdAt!: Date;\n  public readonly updatedAt!: Date;\n\n  public getUser!: HasOneGetAssociationMixin&lt;User&gt;; // Note the null assertions!\n\n  // You can also pre-declare possible inclusions, these will only be populated if you\n  // actively include a relation.\n  public readonly user?: User; // Note this is optional since it's only populated when explicitly requested in code\n\n  public static associations: {\n    user: Association&lt;Identity, User&gt;;\n  };\n\n  public validatePassword(password: string) : boolean {\n    return bcrypt.compareSync(password, this.password)\n  }\n}\n\nexport function initIdentity(sequelize: Sequelize): void {\n  Identity.init({\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n    },\n    username: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      unique: true\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    UserId: {\n      type: DataTypes.UUID,\n      allowNull: true\n    },\n    active: {\n      type:DataTypes.BOOLEAN,\n      defaultValue: true,\n      allowNull: false\n    }\n  }, {\n    tableName: 'Identity', \n    sequelize: sequelize, // this bit is important\n  });\n\n}\n\nexport function associateIdentity(): void {\n  // Here we associate which actually populates out pre-declared `association` static and other methods.\n  Identity.belongsTo(User, {targetKey: 'id'});\n}\n\n\n</code></pre>\n\n<p>So following this, we have declared all the \"virtual\" members and functions that will relate to Sequelize and the Database.  In addition are the <code>init&lt;model&gt;</code> &amp;&amp; <code>associate&lt;model&gt;</code> functions that will be used to tie everything together.</p>\n\n<p><strong>Note</strong> You may notice that in <code>identity.ts</code>, UserId is being used instead of userId in the associations.  For some reason it kept assuming the association was going to be through UserId, even though I used userId.  When doing a query, it complained that there was no column UserId ( but userId ).  So updating that to a capital 'U' solved it.  <strong>I am unsure about why it is was doing this at this point.</strong></p>\n\n<p><strong>Now to tie it all together</strong></p>\n\n<p><code>/src/db/index.ts</code></p>\n\n<pre><code>import { initUser, associateUser } from \"./user\";\nimport { initIdentity, associateIdentity } from \"./identity\";\n\nconst Sequelize = require('sequelize');\n\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(`${__dirname}/../config/config.json`)[env];\n\n\ninterface DB {\n  [key: string]: any;\n}\n\nconst sequelize = new Sequelize(config.database, config.username, config.password, config);\n\ninitUser(sequelize);\ninitIdentity(sequelize)\n\nassociateUser();\nassociateIdentity();\n\nconst db = {\n  sequelize,\n  Sequelize,\n  User: sequelize.models.User,\n  Identity: sequelize.models.Identity\n}\n\nmodule.exports = db;\n</code></pre>\n\n<p>The usual model loading to be done, went to the directory, found all the models and then imported them into sequelize.  Now like I said before, trying to use the <code>define</code> in the model class caused problems when trying to go through this model loader, because non Typescript versions always looked for *.js and not *.ts.  Changing to *.ts made everything crash on the <code>define</code> call.  ( Not to mention since all of this code will be transpiled to js files, wouldn't this cause issue the other way around? )</p>\n\n<p>But as you can see I am doing everything by hand instead of in a loop.  There is probably a better looping way to do this, but at the moment this will suffice.  </p>\n\n<p>The models are initialized in sequelize with calls to their <code>init&lt;model&gt;</code> functions.  After they are initialized, their associations are created through the function call of <code>associate&lt;model&gt;</code></p>\n\n<p>Before starting my express server, I require the index file, and this all gets kicked off.  Boom.</p>\n\n<p><strong>Other things to note about my approach</strong>\nI did not want to install anymore packages than I needed.  So I steered clear from sequelize-typescript and sequelize-typescript-cli.  This means that all my seeder files and migration files need to be made by hand with out the use of a cli ( it's really not that bad ) and are not *.ts but *.js.</p>\n\n<p>example:\n<code>20191017135846-create-identity.js</code></p>\n\n<pre><code>'use strict'\nmodule.exports = {\n  up: (queryInterface, Sequelize) =&gt; {\n    return queryInterface.createTable({tableName:'Identity'}, {\n      id: {\n        type: Sequelize.UUID,\n        defaultValue: Sequelize.UUIDV4,\n        allowNull: false,\n        autoIncrement: false,\n        primaryKey: true,\n      },\n      username: {\n        type: Sequelize.STRING,\n        allowNull: false,\n        unique: true,\n      },\n      password: {\n        type: Sequelize.STRING,\n        allowNull: false,\n      },\n      UserId: {\n        type: Sequelize.UUID,\n        references: {\n          model: 'User', // name of Target model\n          key: 'id', // key in Target model that we're referencing\n        },\n        onUpdate: 'CASCADE',\n        onDelete: 'SET NULL',\n      },\n      active: {\n        type: Sequelize.BOOLEAN,\n        defaultValue: true,\n        allowNull: false,\n      },\n      createdAt: {\n        allowNull: false,\n        type: Sequelize.DATE,\n        defaultValue: Sequelize.NOW\n      },\n      updatedAt: {\n        allowNull: false,\n        type: Sequelize.DATE,\n        defaultValue: Sequelize.NOW\n      },\n    })\n  },\n  down: (queryInterface) =&gt; {\n    return queryInterface.dropTable({tableName:'Identity', schema:'public'})\n  }\n}\n</code></pre>\n\n<p><code>20191015141822-seed-users.js</code></p>\n\n<pre><code>'use strict'\nvar moment = require('moment');\nvar uuidv4 = require('uuid/v4');\nconst bcrypt = require('bcryptjs');\n\nmodule.exports = {\n  up: async (queryInterface) =&gt; {   \n      // User\n      const user1Id = uuidv4();\n      await queryInterface.bulkInsert('User', \n        [\n          {\n            id:user1Id,\n            createdAt: new Date( moment.utc().format() ), \n            updatedAt: new Date( moment.utc().format() )\n          }\n        ], \n      )\n      await queryInterface.bulkInsert('Identity', \n        [\n          {\n            id:uuidv4(),\n            username: \"user1\",\n            password: bcrypt.hashSync('password', bcrypt.genSaltSync(10)),\n            UserId: user1Id,\n            createdAt: new Date( moment.utc().format() ), \n            updatedAt: new Date( moment.utc().format() )\n          }\n        ], \n      )\n\n      const user2Id = uuidv4();\n      await queryInterface.bulkInsert('User', \n        [\n          {\n            id:user2Id,\n            createdAt: new Date( moment.utc().format() ), \n            updatedAt: new Date( moment.utc().format() )\n          }\n        ], \n      )\n      await queryInterface.bulkInsert('Identity', \n        [\n          {\n            id:uuidv4(),\n            username: \"user2\",\n            password: bcrypt.hashSync('password', bcrypt.genSaltSync(10)),\n            UserId: user2Id,\n            createdAt: new Date( moment.utc().format() ), \n            updatedAt: new Date( moment.utc().format() )\n          }\n        ], \n      )\n\n      const user3Id = uuidv4();\n      await queryInterface.bulkInsert('User', \n        [\n          {\n            id:user3Id,\n            createdAt: new Date( moment.utc().format() ), \n            updatedAt: new Date( moment.utc().format() )\n          }\n        ], \n      )\n      await queryInterface.bulkInsert('Identity', \n        [\n          {\n            id:uuidv4(),\n            username: \"user3\",\n            password: bcrypt.hashSync('password', bcrypt.genSaltSync(10)),\n            UserId: user3Id,\n            createdAt: new Date( moment.utc().format() ), \n            updatedAt: new Date( moment.utc().format() )\n          }\n        ], \n      )\n\n\n  },\n  down: async (queryInterface) =&gt; {\n    await queryInterface.bulkDelete({ tableName: 'User'}, null, {})\n  }\n}\n</code></pre>\n\n<p>which at this point you can run</p>\n\n<pre><code>sequelize db:migrate\nsequelize db:seed:all\n</code></pre>\n\n<p>and have everything working and can access the db.</p>\n\n<p>Now using classes/typescript I noticed that adding the models to and exported db object is redundant....</p>\n\n<p>I can access the models needed through imports</p>\n\n<p>import { User } from '../db/models/user'\nor\nrequire('./db/models/index')</p>\n\n<p>which I can then do User.findAll() or with the other import db.User.findAll()</p>\n"}], "owner": {"reputation": 319, "user_id": 4629572, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2c99b94874b3a136601a9b2a912f1c66?s=128&d=identicon&r=PG&f=1", "display_name": "ndyr", "link": "https://stackoverflow.com/users/4629572/ndyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3797, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1571327910, "creation_date": 1571253902, "last_edit_date": 1571258890, "question_id": 58420410, "link": "https://stackoverflow.com/questions/58420410/model-loader-for-sequelize-v5-typescript", "title": "Model Loader for Sequelize v5 &amp; Typescript", "body": "<p>Have used Sequelize before for projects ( v4 ), but attempting to start a new project with Sequelize v5 &amp; Typescript</p>\n\n<p>I have followed Sequelize's documentation for how to define Models at:\n<a href=\"https://sequelize.org/master/manual/typescript.html#usage-of--code-sequelize-define--code-\" rel=\"nofollow noreferrer\">https://sequelize.org/master/manual/typescript.html#usage-of--code-sequelize-define--code-</a></p>\n\n<p>I have a working ORM now, but <strong>only when importing the actual model for use</strong>, not through importing the db from the model loader.<br>\ni.e. <code>import { User } from \"../db/models/user\";</code></p>\n\n<p>importing the db, just returns <strong>undefined</strong> when trying to access db.User.</p>\n\n<p>Trying to figure out how to get the model loader to place nice with the Sequelize V5 and Typescript, but currently its coming up empty.</p>\n\n<p>Now, I can tell that its searching for <strong>.js</strong> files.  So obviously it won't be picking up the user.ts file.  Changing this to <strong>.ts</strong> then gives me the error....</p>\n\n<pre><code>    at Sequelize.import (/node_modules/sequelize/lib/sequelize.js:486:38)\n    at fs_1.default.readdirSync.filter.forEach.file (/src/db/models/index.ts:26:35)\n    at Array.forEach (&lt;anonymous&gt;)\n    at Object.&lt;anonymous&gt; (/src/db/models/index.ts:25:4)\n\n</code></pre>\n\n<p>I have been trying to get a clear answer from web searches, but seem to come up empty.  It was a headache enough with trying to get everything to play nice.... and at this point I am running migrations/seeders as js files because I don't want to deal with the <strong>sequelize-typescript-cli</strong> or <strong>sequelize-typescript</strong></p>\n\n<p><code>src/db/models/user.ts</code>\n<strong>User Model</strong></p>\n\n<pre><code>import { Sequelize, Model, DataTypes, BuildOptions } from 'sequelize';\nimport { HasManyGetAssociationsMixin, HasManyAddAssociationMixin, HasManyHasAssociationMixin, Association, HasManyCountAssociationsMixin, HasManyCreateAssociationMixin } from 'sequelize';\nconst db = require('./index')\nimport * as bcrypt from \"bcryptjs\";\n\nexport interface UserAttributes extends Model {\n  id: string;\n  email: string;\n  username: string;\n  password: string;\n  createdAt: Date;\n  updatedAt: Date;\n  validatePassword(password: string): boolean;\n  generateHash(password: string): string;\n}\n\nexport type UserModel = typeof Model &amp; {\n  new (): UserAttributes;\n};\n\nexport const User = &lt;UserModel&gt;db.sequelize.define(\"User\", {\n  id: {\n    type: DataTypes.UUID,\n    allowNull: false,\n    primaryKey: true\n  },\n  email: {\n    type: DataTypes.STRING,\n    allowNull: false,\n    unique: true\n  },\n  username: {\n    type: DataTypes.STRING,\n    allowNull: false,\n    unique: true\n  },\n  password: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  }\n},\n{\n  tableName: \"User\",\n  freezeTableName: true,\n });\n\n User.prototype.validatePassword = function (password: string) {\n\n  return bcrypt.compareSync(password, this.password)\n }\n\n User.prototype.generateHash = function (password: string) {\n    return bcrypt.hashSync(password, bcrypt.genSaltSync(10))\n  }\n\n</code></pre>\n\n<p><code>src/db/models/index.ts</code>\n<strong>Model Loader</strong></p>\n\n<pre><code>'use strict';\n\nimport fs from \"fs\";\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst basename = path.basename(module.filename);\n\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(`${__dirname}/../config/config.json`)[env];\n\ninterface DB {\n  [key: string]: any;\n}\n\nvar db: DB = {};\n\nconst sequelize = new Sequelize(config.database, config.username, config.password, config);\n\nfs.readdirSync(__dirname)\n  .filter(file =&gt; {\n    return (\n      file.indexOf(\".\") !== 0 &amp;&amp; file !== basename &amp;&amp; file.slice(-3) === \".js\"\n    );\n  })\n  .forEach(file =&gt; {\n    const model = sequelize.import(path.join(__dirname, file));\n    db[model.name] = model;\n  });\n// Important: creates associations based on associations defined in associate function in the model files\nObject.keys(db).forEach(modelName =&gt; {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n</code></pre>\n\n<p>Furthermore reading <a href=\"https://sequelize.org/master/manual/typescript.html#usage\" rel=\"nofollow noreferrer\">https://sequelize.org/master/manual/typescript.html#usage</a></p>\n\n<p>There seems to be a little clearer ( but somewhat more redundant way ) of defining Models, but then how is this <strong>init</strong> method called when initializing Sequelize from index.js?</p>\n"}, {"tags": ["typescript", "graphql", "typescript-typings", "apollo-server"], "answers": [{"comments": [{"owner": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1571257042, "post_id": 58420975, "comment_id": 103184345, "body": "I was trying to simply follow the tutorial and convert it to TypeScript but that little detail doesn&#39;t look like the schema makes much sense. About your options... 1) Doesn&#39;t work because then I&#39;d have to change the type on the resolvers too and it would be a mess; 2) I&#39;ve reached this conclusion before, works, but takes a different direction from the tutorial, but maybe makes more sense? 3) Didn&#39;t understand this one, can you provide an example? 4) Also don&#39;t know what you mean here, feels like it&#39;s similar to the second point?"}, {"owner": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1571257126, "post_id": 58420975, "comment_id": 103184388, "body": "Also, both mission patches, from the REST API are both strings, but a full URL pointing to an image. One is a large image, the other is a small version."}, {"owner": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1571257222, "post_id": 58420975, "comment_id": 103184431, "body": "If you could edit your answer with examples on each of those options that would be awesome. It would be a great answer to the question and most importantly, it would help me visualize exactly what you are suggesting. I&#39;m very new to GraphQL and my understanding of what you&#39;re trying saying may be wrong. The examples would really help with that, if you could spare the time to write them. Thanks."}, {"owner": {"reputation": 542, "user_id": 5948586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e6ff80b008843f50eac46de92dfbcd?s=128&d=identicon&r=PG&f=1", "display_name": "JustinTRoss", "link": "https://stackoverflow.com/users/5948586/justintross"}, "reply_to_user": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1571756916, "post_id": 58420975, "comment_id": 103342597, "body": "I added some more detail in there. Hopefully that cleared things up. My honest opinion is that you made a decision in your schema design, which didn&#39;t accurately represent the entity you&#39;re providing, which left you doing some hackery in your resolver implementation to accommodate. With GraphQL, more often than not, if you&#39;re finding something to be difficult or complex when you feel it shouldn&#39;t be, there&#39;s a good chance you&#39;ve misunderstood the entity you&#39;re trying to represent in your schema."}, {"owner": {"reputation": 171, "user_id": 7799945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wJ03VF1fydg/AAAAAAAAAAI/AAAAAAAAAPk/aHxe2gE2oTw/photo.jpg?sz=128", "display_name": "aaron", "link": "https://stackoverflow.com/users/7799945/aaron"}, "edited": false, "score": 1, "creation_date": 1580999790, "post_id": 58420975, "comment_id": 106289726, "body": "This is a great answer!"}], "tags": [], "owner": {"reputation": 542, "user_id": 5948586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e6ff80b008843f50eac46de92dfbcd?s=128&d=identicon&r=PG&f=1", "display_name": "JustinTRoss", "link": "https://stackoverflow.com/users/5948586/justintross"}, "is_accepted": true, "score": 3, "last_activity_date": 1581104058, "last_edit_date": 1581104058, "creation_date": 1571256461, "answer_id": 58420975, "question_id": 58420192, "link": "https://stackoverflow.com/questions/58420192/how-to-use-graphql-with-typescript-and-typings-generated-from-graphql-code-gener/58420975#58420975", "title": "How to use GraphQL with TypeScript and typings generated from graphql-code-generator?", "body": "<p>You're putting properties on <code>mission</code> that aren't a part of <code>GQLMission</code> and then explicitly typing <code>mission</code> to <code>GQLMission</code>. Put generally, you are attempting to generate your types from your schema, but the return type from your resolver does not match what is specified by your schema.</p>\n\n<p>Most of the time, the challenge you're facing is caused by either some deficiency in schema design or some hackery in resolver implementation.</p>\n\n<p>As such, your options are generally:</p>\n\n<ul>\n<li>abandon using schema-generated types for your resolvers (<em>This is my least favorite option.</em>)</li>\n<li>change your schema to match your resolver return type (<em>Resolve schema deficiency.</em>)</li>\n<li>change your resolver to match your schema return type (<em>Resolve resolver deficiency.</em>)</li>\n<li>change both your schema and resolver to return some new shared type (<em>Resolve schema deficiency and update resolver implementation for new schema.</em>)</li>\n</ul>\n\n<p>Assuming you're intent on moving forward using schema-generated types for your resolvers, we can eliminate option 1 and consider the last three options as applied to your situation.</p>\n\n<ol start=\"2\">\n<li>Yield to your resolver as implementing the correct type, and update your schema to match. This would mean changing the <code>GQLMission</code> type in your schema to match the return type from your resolver (include both <code>missionPatchLarge</code> and <code>missionPatchSmall</code> properties) and allowing your clients to query one or both via their query of the schema directly.</li>\n<li>Yield to your schema as the correct type, and update your resolver implementation to match. This would mean getting rid of the excess returned properties (<code>missionPatchLarge</code> and <code>missionPatchSmall</code>), which you're currently using to ease implementation, and fetch the appropriate <code>missionPatch</code> value anew in the <code>missionPatchResolver</code> subresolver (ideally hitting cache to prevent perf hit).</li>\n<li>Rethink your representation of <code>missionPatch</code> on your schema altogether. Consider the nature of a <code>missionPatch</code>. Is it really an either/or situation? This solution would involve changing the shape of the schema API around size and <code>missionPatch</code>, which would then need to be mirrored on your resolver implementation.</li>\n</ol>\n\n<p>What you do will depend on what the nature of a <code>missionPatch</code> is. My guess is that one of the last three options make sense here. If the two <code>missionPatch</code> types are actually different variants, it may make sense to change <code>missionPatch</code> to <code>missionPatches</code>, which returns an array of <code>MissionPatch</code> objects, which can be filtered by <code>size</code>. If one is derivative of the other, it may make most sense to leave them as separate <code>missionPatch</code> and <code>missionPatchSmall</code> strings exposed through the schema.</p>\n\n<p>Edit: Looking into the api you're using, it's clear these are independent values that could both be requested. There is no such thing as a small or large mission. These are images of different sizes for the same mission. My approach would likely be to include both these values on your schema either directly or on a nested <code>missionPatch</code> property, e.g.</p>\n\n<pre><code>export type GQLMission = {\n  name?: Maybe&lt;Scalars['String']&gt;,\n\n  smallPatchUrl: String,\n  largePatchUrl: String,\n\n  # OR\n\n  patch?: MissionPatch,\n};\n\nexport type MissionPatch = {\n  smallUrl: String,\n  largeUrl: String\n};\n</code></pre>\n\n<p>Side-note: It isn't uncommon to represent images via their own value object type, which might include urls for different sizes of the image along with details about the image like aspect ratio or native width or height.</p>\n"}], "owner": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3290, "favorite_count": 0, "accepted_answer_id": 58420975, "answer_count": 1, "score": 2, "last_activity_date": 1581104058, "creation_date": 1571253010, "question_id": 58420192, "link": "https://stackoverflow.com/questions/58420192/how-to-use-graphql-with-typescript-and-typings-generated-from-graphql-code-gener", "title": "How to use GraphQL with TypeScript and typings generated from graphql-code-generator?", "body": "<p>I'm following the <a href=\"https://www.apollographql.com/docs/tutorial/introduction/\" rel=\"nofollow noreferrer\">Apollo Docs tutorial</a> to build an Apollo Server (Express) with TypeScript and I'm also using <a href=\"https://graphql-code-generator.com\" rel=\"nofollow noreferrer\">GraphQL Code Generator</a> to generate the necessary typings based on my GraphQL schema.</p>\n\n<p>This is my current <code>codegen.json</code> configuration:</p>\n\n<pre><code>{\n  \"schema\": \"./lib/schema/index.graphql\",\n  \"generates\": {\n    \"./dist/typings/graphql/schema.d.ts\": {\n      \"plugins\": [\n        \"typescript\",\n        \"typescript-resolvers\"\n      ],\n      \"config\": {\n        \"typesPrefix\": \"GQL\",\n        \"skipTypename\": true,\n        \"noSchemaStitching\": true,\n        \"useIndexSignature\": true\n      }\n    }\n  }\n}\n\n</code></pre>\n\n<p>This is my current GraphQL schema based on the tutorial (it's not complete, I haven't finished the whole thing yet and I've trimmed a few things to make the example smaller):</p>\n\n<pre><code>type Query {\n    launch(id: ID!): Launch\n}\n\ntype Launch {\n    id: ID!\n    site: String\n    mission: Mission\n}\n\nenum PatchSize {\n    SMALL\n    LARGE\n}\n\ntype Mission {\n    name: String\n    missionPatch(mission: String, size: PatchSize): String\n}\n</code></pre>\n\n<p>Which generates the following TypeScript typings:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { GraphQLResolveInfo } from 'graphql';\nexport type Maybe&lt;T&gt; = T | null;\nexport type RequireFields&lt;T, K extends keyof T&gt; = { [X in Exclude&lt;keyof T, K&gt;]?: T[X] } &amp; { [P in K]-?: NonNullable&lt;T[P]&gt; };\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: string,\n  String: string,\n  Boolean: boolean,\n  Int: number,\n  Float: number,\n};\n\nexport type GQLLaunch = {\n  id: Scalars['ID'],\n  site?: Maybe&lt;Scalars['String']&gt;,\n  mission?: Maybe&lt;GQLMission&gt;,\n};\n\nexport type GQLMission = {\n  name?: Maybe&lt;Scalars['String']&gt;,\n  missionPatch?: Maybe&lt;Scalars['String']&gt;,\n};\n\n\nexport type GQLMissionMissionPatchArgs = {\n  mission?: Maybe&lt;Scalars['String']&gt;,\n  size?: Maybe&lt;GQLPatchSize&gt;\n};\n\nexport enum GQLPatchSize {\n  Small = 'SMALL',\n  Large = 'LARGE'\n}\n\nexport type GQLQuery = {\n  launch?: Maybe&lt;GQLLaunch&gt;,\n};\n\n\nexport type GQLQueryLaunchArgs = {\n  id: Scalars['ID']\n};\n\nexport type WithIndex&lt;TObject&gt; = TObject &amp; Record&lt;string, any&gt;;\nexport type ResolversObject&lt;TObject&gt; = WithIndex&lt;TObject&gt;;\n\nexport type ResolverTypeWrapper&lt;T&gt; = Promise&lt;T&gt; | T;\n\nexport type ResolverFn&lt;TResult, TParent, TContext, TArgs&gt; = (\n  parent: TParent,\n  args: TArgs,\n  context: TContext,\n  info: GraphQLResolveInfo\n) =&gt; Promise&lt;TResult&gt; | TResult;\n\nexport type Resolver&lt;TResult, TParent = {}, TContext = {}, TArgs = {}&gt; = ResolverFn&lt;TResult, TParent, TContext, TArgs&gt;;\n\nexport type SubscriptionSubscribeFn&lt;TResult, TParent, TContext, TArgs&gt; = (\n  parent: TParent,\n  args: TArgs,\n  context: TContext,\n  info: GraphQLResolveInfo\n) =&gt; AsyncIterator&lt;TResult&gt; | Promise&lt;AsyncIterator&lt;TResult&gt;&gt;;\n\nexport type SubscriptionResolveFn&lt;TResult, TParent, TContext, TArgs&gt; = (\n  parent: TParent,\n  args: TArgs,\n  context: TContext,\n  info: GraphQLResolveInfo\n) =&gt; TResult | Promise&lt;TResult&gt;;\n\nexport interface SubscriptionSubscriberObject&lt;TResult, TKey extends string, TParent, TContext, TArgs&gt; {\n  subscribe: SubscriptionSubscribeFn&lt;{ [key in TKey]: TResult }, TParent, TContext, TArgs&gt;;\n  resolve?: SubscriptionResolveFn&lt;TResult, { [key in TKey]: TResult }, TContext, TArgs&gt;;\n}\n\nexport interface SubscriptionResolverObject&lt;TResult, TParent, TContext, TArgs&gt; {\n  subscribe: SubscriptionSubscribeFn&lt;any, TParent, TContext, TArgs&gt;;\n  resolve: SubscriptionResolveFn&lt;TResult, any, TContext, TArgs&gt;;\n}\n\nexport type SubscriptionObject&lt;TResult, TKey extends string, TParent, TContext, TArgs&gt; =\n  | SubscriptionSubscriberObject&lt;TResult, TKey, TParent, TContext, TArgs&gt;\n  | SubscriptionResolverObject&lt;TResult, TParent, TContext, TArgs&gt;;\n\nexport type SubscriptionResolver&lt;TResult, TKey extends string, TParent = {}, TContext = {}, TArgs = {}&gt; =\n  | ((...args: any[]) =&gt; SubscriptionObject&lt;TResult, TKey, TParent, TContext, TArgs&gt;)\n  | SubscriptionObject&lt;TResult, TKey, TParent, TContext, TArgs&gt;;\n\nexport type TypeResolveFn&lt;TTypes, TParent = {}, TContext = {}&gt; = (\n  parent: TParent,\n  context: TContext,\n  info: GraphQLResolveInfo\n) =&gt; Maybe&lt;TTypes&gt;;\n\nexport type NextResolverFn&lt;T&gt; = () =&gt; Promise&lt;T&gt;;\n\nexport type DirectiveResolverFn&lt;TResult = {}, TParent = {}, TContext = {}, TArgs = {}&gt; = (\n  next: NextResolverFn&lt;TResult&gt;,\n  parent: TParent,\n  args: TArgs,\n  context: TContext,\n  info: GraphQLResolveInfo\n) =&gt; TResult | Promise&lt;TResult&gt;;\n\n/** Mapping between all available schema types and the resolvers types */\nexport type GQLResolversTypes = ResolversObject&lt;{\n  Query: ResolverTypeWrapper&lt;{}&gt;,\n  ID: ResolverTypeWrapper&lt;Scalars['ID']&gt;,\n  Launch: ResolverTypeWrapper&lt;GQLLaunch&gt;,\n  String: ResolverTypeWrapper&lt;Scalars['String']&gt;,\n  Mission: ResolverTypeWrapper&lt;GQLMission&gt;,\n  PatchSize: GQLPatchSize,\n  Boolean: ResolverTypeWrapper&lt;Scalars['Boolean']&gt;,\n}&gt;;\n\n/** Mapping between all available schema types and the resolvers parents */\nexport type GQLResolversParentTypes = ResolversObject&lt;{\n  Query: {},\n  ID: Scalars['ID'],\n  Launch: GQLLaunch,\n  String: Scalars['String'],\n  Mission: GQLMission,\n  PatchSize: GQLPatchSize,\n  Boolean: Scalars['Boolean'],\n}&gt;;\n\nexport type GQLLaunchResolvers&lt;ContextType = any, ParentType extends GQLResolversParentTypes['Launch'] = GQLResolversParentTypes['Launch']&gt; = ResolversObject&lt;{\n  id?: Resolver&lt;GQLResolversTypes['ID'], ParentType, ContextType&gt;,\n  site?: Resolver&lt;Maybe&lt;GQLResolversTypes['String']&gt;, ParentType, ContextType&gt;,\n  mission?: Resolver&lt;Maybe&lt;GQLResolversTypes['Mission']&gt;, ParentType, ContextType&gt;,\n}&gt;;\n\nexport type GQLMissionResolvers&lt;ContextType = any, ParentType extends GQLResolversParentTypes['Mission'] = GQLResolversParentTypes['Mission']&gt; = ResolversObject&lt;{\n  name?: Resolver&lt;Maybe&lt;GQLResolversTypes['String']&gt;, ParentType, ContextType&gt;,\n  missionPatch?: Resolver&lt;Maybe&lt;GQLResolversTypes['String']&gt;, ParentType, ContextType, GQLMissionMissionPatchArgs&gt;,\n}&gt;;\n\nexport type GQLQueryResolvers&lt;ContextType = any, ParentType extends GQLResolversParentTypes['Query'] = GQLResolversParentTypes['Query']&gt; = ResolversObject&lt;{\n  launch?: Resolver&lt;Maybe&lt;GQLResolversTypes['Launch']&gt;, ParentType, ContextType, RequireFields&lt;GQLQueryLaunchArgs, 'id'&gt;&gt;,\n}&gt;;\n\nexport type GQLResolvers&lt;ContextType = any&gt; = ResolversObject&lt;{\n  Launch?: GQLLaunchResolvers&lt;ContextType&gt;,\n  Mission?: GQLMissionResolvers&lt;ContextType&gt;,\n  Query?: GQLQueryResolvers&lt;ContextType&gt;,\n}&gt;;\n</code></pre>\n\n<p>This is my <code>resolvers.ts</code> file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { GQLPatchSize } from '@typings/graphql/schema';\nimport { GQLResolvers } from '@typings/graphql/schema';\n\nconst resolvers: GQLResolvers = {\n    Query: {\n        launch: (_, args, { dataSources }) =&gt; {\n            return dataSources.launchesAPI.getLaunchById(args);\n        },\n    },\n    Mission: {\n        missionPatch: (mission, { size } = { size: GQLPatchSize.Large }) =&gt; {\n            return size === 'SMALL' ? mission.missionPatchSmall : mission.missionPatchLarge;\n        },\n    },\n};\n\nexport { resolvers };\n</code></pre>\n\n<p>And to finish, my <code>launches.ts</code> file with the <code>LaunchesAPI</code> class:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { GQLLaunch } from '@typings/graphql/schema';\nimport { GQLQueryLaunchArgs } from '@typings/graphql/schema';\nimport { RESTDataSource } from 'apollo-datasource-rest';\n\nconst SPACEX_API_ENDPOINT = 'https://api.spacexdata.com/v3/';\n\nclass LaunchesAPI extends RESTDataSource {\n    constructor() {\n        super();\n\n        this.baseURL = SPACEX_API_ENDPOINT;\n    }\n\n    async getLaunchById({ id }: GQLQueryLaunchArgs) {\n        const response = await this.get('launches', { flight_number: id });\n        return this.launchReducer(response[0]);\n    }\n\n    launchReducer(launch: any): GQLLaunch {\n        return {\n            id: String(launch.flight_number) || '0',\n            site: launch.launch_site &amp;&amp; launch.launch_site.site_name,\n            mission: {\n                name: launch.mission_name,\n                missionPatchSmall: launch.links.mission_patch_small,\n                missionPatchLarge: launch.links.mission_patch,\n            },\n        };\n    }\n}\n\nexport { LaunchesAPI };\n</code></pre>\n\n<p>Now, because I'm typing the result of <code>launchReducer()</code> with <code>GQLLaunch</code>, the <code>mission</code> property type is <code>GQLMission</code> and this type only has two properties, <code>name</code> and <code>missionPatch</code>. It does not have <code>missionPatchSmall</code> or <code>missionPatchLarge</code> and thus I get this error:</p>\n\n<blockquote>\n  <p>Type '{ name: any; missionPatchSmall: any; missionPatchLarge: any; }'\n  is not assignable to type 'GQLMission'.   Object literal may only\n  specify known properties, and 'missionPatchSmall' does not exist in\n  type 'GQLMission'. ts(2339)</p>\n</blockquote>\n\n<p>A similar error exists in the <code>resolvers.ts</code> file when it tries to read <code>mission.missionPatchSmall</code> or <code>mission.missionPatchLarge</code> as they don't exist in the <code>mission</code> object of type <code>GQLMission</code>:</p>\n\n<blockquote>\n  <p>Property 'missionPatchSmall' does not exist on type 'GQLMission'. ts(2339)</p>\n</blockquote>\n\n<p>I'm not sure how to handle this, suggestions?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "edited": false, "score": 0, "creation_date": 1571256838, "post_id": 58420140, "comment_id": 103184248, "body": "Isn&#39;t property name always either string or number? Could you add some example code to see your desired output?"}, {"owner": {"reputation": 1929, "user_id": 3813853, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/8xm8g.png?s=128&g=1", "display_name": "Kirill Reznikov", "link": "https://stackoverflow.com/users/3813853/kirill-reznikov"}, "reply_to_user": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "edited": false, "score": 0, "creation_date": 1571262270, "post_id": 58420140, "comment_id": 103186367, "body": "@zhuber Yes i want union type of strings. which is existing object fields in context of generic interface"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1571316960, "post_id": 58420140, "comment_id": 103206821, "body": "&quot;existing states in states object&quot;... what states object?  Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that people can figure out if their answer will actually solve your problem. Right now all I can say is: if you want a type to keep track of keys without knowing them in advance, you&#39;ll need the type to be generic in those keys, like <code>interface MockaronI&lt;K extends string, T&gt; { states: Record&lt;K, ()=&gt;T&gt; }</code> and then make everything that uses it generic in <code>K</code> as well."}, {"owner": {"reputation": 1929, "user_id": 3813853, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/8xm8g.png?s=128&g=1", "display_name": "Kirill Reznikov", "link": "https://stackoverflow.com/users/3813853/kirill-reznikov"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1571322643, "post_id": 58420140, "comment_id": 103210346, "body": "@jcalz Yes I want exactly what you wrote but the only difference that I want infer K instead of repeating myself by providing it as a parameter, because the interface implemented by different object literals 100 times. It must be keys of class which implements the interface."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1571322934, "post_id": 58420140, "comment_id": 103210513, "body": "If you provide the requested <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> then I can show how I&#39;d use the more generic <code>MockaronI&lt;K, T&gt;</code> type in a way that minimizes the amount of manual specification for <code>K</code>.  Without an explicit use case example I&#39;m not sure what to write."}], "owner": {"reputation": 1929, "user_id": 3813853, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/8xm8g.png?s=128&g=1", "display_name": "Kirill Reznikov", "link": "https://stackoverflow.com/users/3813853/kirill-reznikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571262595, "creation_date": 1571252798, "last_edit_date": 1571262595, "question_id": 58420140, "link": "https://stackoverflow.com/questions/58420140/typescript-indexed-string-type-in-dictionary-which-is-a-union-type-of-keys-in-im", "title": "Typescript indexed string type in Dictionary which is a union type of keys in implementation", "body": "<p>I try to write bulletproof interface for my mocking utility.</p>\n\n<p>Initially I had an interface which every mock have to implement</p>\n\n<pre><code>export interface MockaronI&lt;T&gt; {\n  states: { [state: string]: () =&gt; T };\n}\n</code></pre>\n\n<p>states here is a set of factory functions with arbitrary names which every mock has.</p>\n\n<p>the problem that at some point inside my utility I am doing that pseudo-code</p>\n\n<pre><code>keysof GenericType (which extends MockaronI) ['states']\n\n</code></pre>\n\n<p>And getting <strong>string</strong> type which is too broad for me (because IDE autocomplete not working). I want to narrow it down to <strong>existing states in states object</strong>.</p>\n\n<p>So basically I want something like that. But that is not valid syntax.</p>\n\n<pre><code>export interface MockaronI&lt;T&gt; {\n  states: { [state: infer P extends string]: () =&gt; T };\n}\n</code></pre>\n\n<p>Is it even possible to have dictionary type which is based on existing key names in states of interface implementation?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571252509, "post_id": 58419985, "comment_id": 103182375, "body": "Why would they be a bug? Your variable is deliberately typed to make overload resolution ambiguous and the implementation signature never counts towards the overload set"}], "answers": [{"comments": [{"owner": {"reputation": 651, "user_id": 7049687, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207887708890701/picture?type=large", "display_name": "Franklin Harvey", "link": "https://stackoverflow.com/users/7049687/franklin-harvey"}, "edited": false, "score": 0, "creation_date": 1571257161, "post_id": 58420263, "comment_id": 103184402, "body": "is <code>function split (splitAt: number | [number, number]): SomeSplittableObject | [SomeSplittableObject, SomeSplittableObject]</code> not a form that takes both?"}, {"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "reply_to_user": {"reputation": 651, "user_id": 7049687, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207887708890701/picture?type=large", "display_name": "Franklin Harvey", "link": "https://stackoverflow.com/users/7049687/franklin-harvey"}, "edited": false, "score": 1, "creation_date": 1571258231, "post_id": 58420263, "comment_id": 103184875, "body": "@FranklinHarvey I added an edit to address your comment."}], "tags": [], "owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1571258202, "last_edit_date": 1571258202, "creation_date": 1571253285, "answer_id": 58420263, "question_id": 58419985, "link": "https://stackoverflow.com/questions/58419985/typescript-function-overloading-no-overload-matches-this-call/58420263#58420263", "title": "Typescript Function Overloading &quot;No overload matches this call&quot;", "body": "<p>The line that is causing your error is this one:</p>\n\n<pre><code>let splitAt: number | [number, number] //... some variable\n</code></pre>\n\n<p>With the overloading signature that you have, you are saying that you have two forms of the function <code>split</code>. One that takes a number and the other that takes an array with two numbers. You do not have a signature that takes both types and therefore the compiler is complaining.</p>\n\n<pre><code>split(1) // return type is [SomeSplittableObject, SomeSplittableObject]\nsplit([1,2]) // return type is SomeSplittableObject\n\nlet splitAt: number | [number, number] //... some variable\nsplit(splitAt) // return type is ???\n</code></pre>\n\n<h1>Edit</h1>\n\n<p>Note that when overloading a function, the implemented function signature is shadowed by the overloads and not visible to the outside. In your case above, you only had 2 options. If you want to add the third option where the input/output is \"ambiguous\", you need to add the signature as an overload (I used shorter types here for clarity):</p>\n\n<pre><code>function foo(x: number): Foo;\nfunction foo(x: string): Bar;\n// Define an overload in which the inputs and outputs can be either type\nfunction foo(x: string | number): Foo | Bar;\n// Function signature is shadowed by overloads defined above.\nfunction foo(x: string | number): Foo | Bar { /* ... */ } \n</code></pre>\n"}], "owner": {"reputation": 651, "user_id": 7049687, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207887708890701/picture?type=large", "display_name": "Franklin Harvey", "link": "https://stackoverflow.com/users/7049687/franklin-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3268, "favorite_count": 0, "accepted_answer_id": 58420263, "answer_count": 1, "score": 1, "last_activity_date": 1571258202, "creation_date": 1571252149, "question_id": 58419985, "link": "https://stackoverflow.com/questions/58419985/typescript-function-overloading-no-overload-matches-this-call", "title": "Typescript Function Overloading &quot;No overload matches this call&quot;", "body": "<p>I actually think this is a bug, but I thought I'd ask. I have a function. If passes a single number, I want to perform an operation that returns two objects. If it receives two numbers, I want to return one object. This looks like this now:</p>\n\n<pre><code>function split (splitAt: number | [number, number]): SomeSplittableObject | [SomeSplittableObject, SomeSplittableObject]\n</code></pre>\n\n<p>but with overloading I should be able to do this: </p>\n\n<pre><code>function split (splitAt: number): [SomeSplittableObject, SomeSplittableObject]\nfunction split (splitAt: [number, number]): SomeSplittableObject\nfunction split (splitAt: number | [number, number]): SomeSplittableObject | [SomeSplittableObject, SomeSplittableObject] {\n    // ... Implementation\n}\n\nlet splitAt: number | [number, number] //... some variable\nsplit(splitAt)\n</code></pre>\n\n<p>but I get an in-editor error </p>\n\n<pre><code>No overload matches this call.\n  Overload 1 of 2, '(splitAt: [number, number]): SomeSplittableObject', gave the following error.\n    Argument of type 'number | [number, number]' is not assignable to parameter of type '[number, number]'.\n      Type 'number' is not assignable to type '[number, number]'.\n  Overload 2 of 2, '(splitAt: number): [SomeSplittableObject, SomeSplittableObject]', gave the following error.\n    Argument of type 'number | [number, number]' is not assignable to parameter of type 'number'.\n      Type '[number, number]' is not assignable to type 'number'.\n</code></pre>\n\n<p>even if I cast <code>splitAt</code> as <code>any</code> in the implementation args I get the error</p>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-functions", "angularfire2"], "answers": [{"comments": [{"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1571255073, "post_id": 58420278, "comment_id": 103183503, "body": "The OP is using <code>where(&#39;category&#39;, &#39;==&#39;, &#39;art&#39;)</code> (not a range comparison filter) and the query does work after declaring the correct composite index."}], "tags": [], "owner": {"reputation": 3766, "user_id": 6640803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bx5JYGtjy7w/AAAAAAAAAAI/AAAAAAAAABM/np44KmT0STw/photo.jpg?sz=128", "display_name": "Nadhir Falta", "link": "https://stackoverflow.com/users/6640803/nadhir-falta"}, "is_accepted": false, "score": 2, "last_activity_date": 1571254380, "last_edit_date": 1571254380, "creation_date": 1571253369, "answer_id": 58420278, "question_id": 58419902, "link": "https://stackoverflow.com/questions/58419902/where-and-orderby-filter-not-working-together-when-filtering-firebase-data/58420278#58420278", "title": "Where() and orderBy() filter not working together when filtering firebase data", "body": "<p>You CAN combine <code>Where()</code> and <code>OrderBy()</code> when using range comparison operators ONLY if you filter on the same field.</p>\n\n<p>As firebase documentation states here:  </p>\n\n<blockquote>\n  <p>However, if you have a filter with a range comparison (&lt;, &lt;=, >, >=),\n  your first ordering must be on the same field:</p>\n</blockquote>\n\n<ul>\n<li>Valid     > <code>citiesRef.where(\"population\", \"&gt;\", 100000).orderBy(\"population\")</code></li>\n<li>Not valid > <code>citiesRef.where(\"population\", \"&gt;\", 100000).orderBy(\"country\")</code>  </li>\n</ul>\n\n<p><a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/query-data/order-limit-data</a>  </p>\n\n<p>So, you will need to do one operation in the backend and the other in the front-end</p>\n"}, {"tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": true, "score": 3, "last_activity_date": 1571257453, "last_edit_date": 1571257453, "creation_date": 1571254836, "answer_id": 58420617, "question_id": 58419902, "link": "https://stackoverflow.com/questions/58419902/where-and-orderby-filter-not-working-together-when-filtering-firebase-data/58420617#58420617", "title": "Where() and orderBy() filter not working together when filtering firebase data", "body": "<p>I think you need to add a specific index as follows:</p>\n\n<pre><code>collectionId      Fields indexed       Query scope            Status \n\n\ntasks             category Ascending   Collection             Enabled \n                  date Descending\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12075155"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1087, "favorite_count": 0, "accepted_answer_id": 58420617, "answer_count": 2, "score": 2, "last_activity_date": 1571257453, "creation_date": 1571251802, "question_id": 58419902, "link": "https://stackoverflow.com/questions/58419902/where-and-orderby-filter-not-working-together-when-filtering-firebase-data", "title": "Where() and orderBy() filter not working together when filtering firebase data", "body": "<p>I have a feed which shows users artwork. I want to filter the users posts by the category and time that the user posted it, so that feed will have the latest posts closer to the top of the page. I am using a firebase function to retrieve this data.</p>\n\n<p>I have a firestore collection which looks like this</p>\n\n<pre><code> tasks -tasksID- \n                {\n                   category: art\n                   date: 16 october at 3:00pm\n                     images: {\n                                0 image1\n                                1 image2\n                             }\n                  }\n</code></pre>\n\n<p>firebase function:</p>\n\n<pre><code>import * as functions from 'firebase-functions';\nimport * as admin from 'firebase-admin'\n\nadmin.initializeApp()\n\nexport const getFeed = functions.https.onCall(async (req,res) =&gt;{\n  const docs = await admin.firestore().collection('tasks').where('category', \n    '==', 'art').orderBy('date', 'desc').limit(20).get()    \n    return docs.docs.map(doc =&gt; {\n    return {\n        postID: doc.id,\n        ...doc.data()\n         }\n     }) \n })\n</code></pre>\n\n<p>art feed typescript:</p>\n\n<pre><code>artFeed (){    \n  const getFeed = this.aff.httpsCallable('getFeed')\n  this.ajax = getFeed({}).subscribe(data=&gt; {\n    console.log(data)\n    this.posts =  data\n      })  \n  }\n</code></pre>\n\n<p>However, I am getting an error on the console that says \"ERROR Error: INTERNAL\".</p>\n\n<p>This function works perfectly fine when I use the where() function and orderby() function separately and on their own.</p>\n\n<p>this is what my database indexes look like too.</p>\n\n<pre><code>collectionId      Fields indexed       Query scope            Status \n\n              category Ascending\ntasks         uid Ascending              Collection            Enabled \n              date Ascending\n\n\ntasks        category Ascending          \n             uid Ascending                Collection            Enabled\n             date Descending\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 6937512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b492b406527816e7c6f3fc213a817bbc?s=128&d=identicon&r=PG", "display_name": "ale", "link": "https://stackoverflow.com/users/6937512/ale"}, "is_accepted": true, "score": 2, "last_activity_date": 1571252780, "creation_date": 1571252780, "answer_id": 58420132, "question_id": 58419665, "link": "https://stackoverflow.com/questions/58419665/type-declaration-preference-for-react-components/58420132#58420132", "title": "Type declaration preference for React components", "body": "<p>The <code>FC</code> type already includes the <code>children</code> prop so, in this specific case, just declaring it as an <code>FC</code> type would be enough.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React, { FC } from 'react';\n\nconst Component : FC = ({ children }) =&gt; &lt;div&gt;{children}&lt;/div&gt;;\n</code></pre>\n\n<p>If you need anything more than that then you can use the first option like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React, { FC } from 'react';\n\ninterface ComponentProps {\n  title: string;\n  subtitle?: string;\n}\n\nconst Component : FC&lt;ComponentProps&gt; = ({ title, subtitle }) =&gt; (\n  &lt;div&gt;\n    &lt;span&gt;{title}&lt;/span&gt;\n    &lt;span&gt;{subtitle}&lt;/span&gt;\n  &lt;/div&gt;\n);\n</code></pre>\n\n<p>The first option is pretty much the only way I've seen components props declared in a lot of different projects.</p>\n\n<p>The <code>FC</code> type (which is an alias for <code>FunctionComponent</code> by the way) provides a couple of useful declarations which would be lost in the second option.</p>\n"}], "owner": {"reputation": 1212, "user_id": 869694, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fab821410db50e950d039c3ce70e2e9d?s=128&d=identicon&r=PG", "display_name": "Ares", "link": "https://stackoverflow.com/users/869694/ares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 58420132, "answer_count": 1, "score": 0, "last_activity_date": 1571252780, "creation_date": 1571250797, "question_id": 58419665, "link": "https://stackoverflow.com/questions/58419665/type-declaration-preference-for-react-components", "title": "Type declaration preference for React components", "body": "<p>I'm fairly new to TypeScript.  Which of the following declarations is preferred in the community and why?</p>\n\n<pre><code>interface MyComponentProps {\n  children: ReactNode;\n}\n\n// Option 1\nconst MyComponent: React.FC&lt;MyComponentProps&gt; = ({ children }) =&gt; &lt;&gt;{children}&lt;/&gt;;\n\n// Option 2\nconst MyComponent = ({ children }: MyComponentProps) =&gt; &lt;&gt;{children}&lt;/&gt;;\n</code></pre>\n\n<p>I feel that option 1 may provide more typing information.  However, option 2 seems easier to read.</p>\n"}, {"tags": ["typescript", "nativescript", "nativescript-vue"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12189251, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vidKOiNqP9U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMdAcRnIeM7Yb4_AfQmxqec8fyow/photo.jpg?sz=128", "display_name": "Ismael Carvalho", "link": "https://stackoverflow.com/users/12189251/ismael-carvalho"}, "edited": false, "score": 0, "creation_date": 1571774096, "post_id": 58420099, "comment_id": 103350307, "body": "it&#39;s not works for me bro! thx for your help. Look my solution."}], "tags": [], "owner": {"reputation": 483, "user_id": 2893916, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f2bebc466b667b8e90997985599c703?s=128&d=identicon&r=PG", "display_name": "Valentin", "link": "https://stackoverflow.com/users/2893916/valentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1571252634, "creation_date": 1571252634, "answer_id": 58420099, "question_id": 58419343, "link": "https://stackoverflow.com/questions/58419343/how-to-use-manual-routing-nativescript-vue-using-typescript/58420099#58420099", "title": "how to use Manual Routing nativescript-vue using typescript?", "body": "<p>One thing you can do is import your routes file in your component and use the key from the routes object to redirect to. For example:</p>\n\n<p>routes/index.js</p>\n\n<pre><code>import Home from './components/Home';\n\nexport default {\n    home: Home,\n}\n</code></pre>\n\n<p>In your Vue component:</p>\n\n<pre><code>import routes from '~/routes'\nexport default {\n    methods: {\n        goTo() {\n            this.$navigateTo(routes.Home)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 12189251, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vidKOiNqP9U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMdAcRnIeM7Yb4_AfQmxqec8fyow/photo.jpg?sz=128", "display_name": "Ismael Carvalho", "link": "https://stackoverflow.com/users/12189251/ismael-carvalho"}, "is_accepted": true, "score": 0, "last_activity_date": 1571774018, "creation_date": 1571774018, "answer_id": 58511394, "question_id": 58419343, "link": "https://stackoverflow.com/questions/58419343/how-to-use-manual-routing-nativescript-vue-using-typescript/58511394#58511394", "title": "how to use Manual Routing nativescript-vue using typescript?", "body": "<p>i was make this work!, look my example.</p>\n\n<pre><code>&lt;template for=\"r in result\"&gt;\n    &lt;Page&gt;\n        &lt;FlexboxLayout class=\"page\"&gt;\n            &lt;StackLayout class=\"form\"&gt;\n                &lt;Image\n                        src=\"https://www.carnegietechnologies.com/sites/ct/assets/image/logo-octopus.png\"\n                        loadMode=\"async\" stretch=\"aspectFit\"&gt;&lt;/Image&gt;\n                &lt;StackLayout class=\"input-field\"&gt;\n                    &lt;TextField v-model=\"email\" hint=\"email\" class=\"input\" keyboardType=\"email\"\n                               autocorrect=\"false\" autocapitalizationType=\"none\" &gt;\n                    &lt;/TextField&gt;\n                &lt;/StackLayout&gt;\n\n                &lt;StackLayout class=\"input-field\"&gt;\n                    &lt;TextField v-model=\"password\"  hint=\"Password\" secure=\"true\" class=\"input\"&gt;\n                    &lt;/TextField&gt;\n                &lt;/StackLayout&gt;\n                &lt;Button text=\"Log In\" class=\"btn btn-primary\" @tap=\"clientLogin\" &gt;&lt;/Button&gt;\n            &lt;/StackLayout&gt;\n        &lt;/FlexboxLayout&gt;\n    &lt;/Page&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\n    import Vue from 'nativescript-vue';\n    import {Component, Prop} from 'vue-property-decorator';\n    import client from \"@/lib/fusionAuthClientInstance\";\n    import Home from \"@/components/Home.vue\";\n\n    const secure = {\n        template: `\n    &lt;Page&gt;\n       &lt;ActionBar title=\"Second\" class=\"action-bar\" /&gt;\n        &lt;ScrollView&gt;\n            &lt;StackLayout class=\"home-panel\"&gt;\n                &lt;Label&gt;Second action action&lt;/Label&gt;\n            &lt;/StackLayout&gt;\n        &lt;/ScrollView&gt;\n    &lt;/Page&gt;\n  `\n    };\n\n    export interface result {\n        statusCode: string,\n        response: JSON,\n        registration: Array&lt;string&gt;,\n    }\n\n    @Component\n    export default class App extends Vue {\n\n        private email: string ;\n        private password: string;\n        private request: Object;\n        private roles: JSON;\n        private user: any;\n        public post: string;\n\n        goTo(roleInFusionAuth){\n            if(roleInFusionAuth == \"view-security-message\"){\n                this.$navigateTo(Home);\n            }else{\n                alert({\n                    title: \"TRETA\",\n                    message: \"Usu\u00e1rio ou senha incorretos\",\n                    okButtonText: \"try Again\"\n                }).then(() =&gt; {\n                    console.log(\"Alert dialog closed\");\n                });\n            };\n\n        };\n\n        requestProvider(){\n            this.request =  {\n                \"loginId\": this.email,\n                \"password\": this.password,\n                \"applicationId\": \"fca4814f-645c-4c3f-a9b0-2b2ca7a2e835\"\n            };\n            return this.request;\n        };\n\n        testFusionAuthMethods() {\n            return client.searchUsers(\"901904d8-5eeb-441f-a80e-8c8c595825b5\")\n                .then(response =&gt; {\n                    console.log(response);\n                });\n        };\n\n        clientLogin() {\n            // this.$navigateTo(secure);\n            return client.login(this.requestProvider())\n                .then(this.handleResponse, this.handleErrorResponse)\n                .then(response =&gt; {\n                    this.result = response;\n                    this.user = this.result.response;\n                    this.roles = this.user.user.registrations;\n                    this.post = this.roles[0].roles[0];\n                })\n                .then(responsibility =&gt;{\n                    console.log(this.post);\n                    this.goTo(this.roles[0].roles[0]);\n                });\n        };\n\n\n\n        handleResponse(clientResponse) {\n            return clientResponse;\n        };\n        handleErrorResponse(clientResponse) {\n            return clientResponse;\n        };\n\n        components: {\n            Home,\n        };\n    }\n\n&lt;/script&gt;\n&lt;style scoped&gt;\n    ActionBar {\n        background-color: #53ba82;\n        color: #ffffff;\n    }\n\n    .message {\n        vertical-align: center;\n        text-align: center;\n        font-size: 20;\n        color: #333333;\n    }\n&lt;/style&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12189251, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vidKOiNqP9U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMdAcRnIeM7Yb4_AfQmxqec8fyow/photo.jpg?sz=128", "display_name": "Ismael Carvalho", "link": "https://stackoverflow.com/users/12189251/ismael-carvalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 58511394, "answer_count": 2, "score": 0, "last_activity_date": 1571774018, "creation_date": 1571249489, "question_id": 58419343, "link": "https://stackoverflow.com/questions/58419343/how-to-use-manual-routing-nativescript-vue-using-typescript", "title": "how to use Manual Routing nativescript-vue using typescript?", "body": "<p>How i can use the $navigationTo using typescript in nativescript-vue? i maked this work here: <a href=\"https://github.com/Figur8/NativescriptLoginTestVue\" rel=\"nofollow noreferrer\">https://github.com/Figur8/NativescriptLoginTestVue</a>,\nbut when i try with typescript i get this error.\n<strong>[Vue warn]: Unknown custom element:  - did you register the component correctly? For recursive components, make sure to provide the \"name\" option.</strong></p>\n\n<pre><code>  &lt;template&gt;\n        &lt;Page&gt;\n            &lt;FlexboxLayout class=\"page\"&gt;\n                &lt;StackLayout class=\"form\"&gt;\n                    &lt;Image\n                            src=\"https://www.carnegietechnologies.com/sites/ct/assets/image/logo-octopus.png\"\n                            loadMode=\"async\" stretch=\"aspectFit\"&gt;&lt;/Image&gt;\n\n                    &lt;StackLayout class=\"input-field\"&gt;\n                        &lt;TextField v-model=\"email\" hint=\"email\" class=\"input\" keyboardType=\"email\"\n                                   autocorrect=\"false\" autocapitalizationType=\"none\" &gt;\n                        &lt;/TextField&gt;\n                        &lt;Label class=\"message\" :text=\"email\"/&gt;\n                    &lt;/StackLayout&gt;\n\n                    &lt;StackLayout class=\"input-field\"&gt;\n                        &lt;TextField hint=\"Password\" secure=\"true\" class=\"input\"&gt;\n                        &lt;/TextField&gt;\n                    &lt;/StackLayout&gt;\n                    &lt;Button text=\"Log In\" class=\"btn btn-primary\" @tap=\"clientLogin\" &gt;&lt;/Button&gt;\n                    &lt;Button text=\"Log In\" class=\"btn btn-primary\"\n                            @tap=\"$goTo\"&gt;&lt;/Button&gt;\n                &lt;/StackLayout&gt;\n            &lt;/FlexboxLayout&gt;\n        &lt;/Page&gt;\n    &lt;/template&gt;\n\n    &lt;script lang=\"ts\"&gt;\n\n        import Vue from 'nativescript-vue';\n        import {Component} from 'vue-property-decorator';\n        import Home from \"./Home\";\n\n        @Component\n        export default class App extends Vue {\n            goTo(){\n                this.$navigateTo(Home);\n            }\n        }\n    &lt;/script&gt;\n\n    &lt;style scoped&gt;\n        ActionBar {\n            background-color: #53ba82;\n            color: #ffffff;\n        }\n\n        .message {\n            vertical-align: center;\n            text-align: center;\n            font-size: 20;\n            color: #333333;\n        }\n    &lt;/style&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "components"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1571249420, "post_id": 58419316, "comment_id": 103181020, "body": "Take a look at <a href=\"https://angular.io/guide/component-interaction\" rel=\"nofollow noreferrer\">angular.io/guide/component-interaction</a>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1571249525, "post_id": 58419316, "comment_id": 103181055, "body": "Well, did that code compile? Run? That would probably answer your question..."}, {"owner": {"reputation": 44, "user_id": 12228314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4SFIMr8i2s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rer_0pFYCoF6Oteyvj6ZdSxFu805Q/photo.jpg?sz=128", "display_name": "zizo", "link": "https://stackoverflow.com/users/12228314/zizo"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1571249591, "post_id": 58419316, "comment_id": 103181079, "body": "Thanks a lot @jonrsharpe"}, {"owner": {"reputation": 44, "user_id": 12228314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4SFIMr8i2s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rer_0pFYCoF6Oteyvj6ZdSxFu805Q/photo.jpg?sz=128", "display_name": "zizo", "link": "https://stackoverflow.com/users/12228314/zizo"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1571249781, "post_id": 58419316, "comment_id": 103181171, "body": "@HereticMonkey yes its compiled and succees run!!"}], "answers": [{"comments": [{"owner": {"reputation": 44, "user_id": 12228314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4SFIMr8i2s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rer_0pFYCoF6Oteyvj6ZdSxFu805Q/photo.jpg?sz=128", "display_name": "zizo", "link": "https://stackoverflow.com/users/12228314/zizo"}, "edited": false, "score": 1, "creation_date": 1571249877, "post_id": 58419332, "comment_id": 103181217, "body": "Do I create Behaviour Subject in service or component?"}, {"owner": {"reputation": 44, "user_id": 12228314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4SFIMr8i2s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rer_0pFYCoF6Oteyvj6ZdSxFu805Q/photo.jpg?sz=128", "display_name": "zizo", "link": "https://stackoverflow.com/users/12228314/zizo"}, "edited": false, "score": 1, "creation_date": 1571249977, "post_id": 58419332, "comment_id": 103181248, "body": "Thanks for your help :)"}], "tags": [], "owner": {"reputation": 256, "user_id": 5546886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YaUfj70Qggk/AAAAAAAAAAI/AAAAAAAAAOU/8rjebIs5xhc/photo.jpg?sz=128", "display_name": "El7or", "link": "https://stackoverflow.com/users/5546886/el7or"}, "is_accepted": true, "score": 0, "last_activity_date": 1571249435, "creation_date": 1571249435, "answer_id": 58419332, "question_id": 58419316, "link": "https://stackoverflow.com/questions/58419316/is-it-correct-inject-component-in-another/58419332#58419332", "title": "Is it correct Inject Component in another", "body": "<p>No, you cannot inject 1 component in to another. You should create a service for that.</p>\n\n<p>You can use <a href=\"https://medium.com/@weswhite/angular-behaviorsubject-service-60485ef064fc\" rel=\"nofollow noreferrer\">Behaviour Subject</a> to communicate between 2 unrelated components.</p>\n\n<p>See this <a href=\"https://www.infragistics.com/community/blogs/b/infragistics/posts/simplest-way-to-share-data-between-two-unrelated-components-in-angular\" rel=\"nofollow noreferrer\">tutorial</a></p>\n"}], "owner": {"reputation": 44, "user_id": 12228314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4SFIMr8i2s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rer_0pFYCoF6Oteyvj6ZdSxFu805Q/photo.jpg?sz=128", "display_name": "zizo", "link": "https://stackoverflow.com/users/12228314/zizo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "accepted_answer_id": 58419332, "answer_count": 1, "score": 0, "last_activity_date": 1571249473, "creation_date": 1571249353, "last_edit_date": 1571249473, "question_id": 58419316, "link": "https://stackoverflow.com/questions/58419316/is-it-correct-inject-component-in-another", "title": "Is it correct Inject Component in another", "body": "<p>I want to call some functions in another Component, can I inject it in constructor of current Component?</p>\n\n<pre><code>import { HomeComponent} from './../home/home.component';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  constructor(home:HomeComponent){\n    home.getSomeData()\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1571249938, "post_id": 58419250, "comment_id": 103181233, "body": "Why are you doing this?"}, {"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1571250562, "post_id": 58419250, "comment_id": 103181500, "body": "@Chellappan In one case, I&#39;m syncing the value with another control. In the other, inserting default values conditionally to then be updated at the level of the FormControl. Does it matter, though?"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1571250779, "post_id": 58419250, "comment_id": 103181620, "body": "FormArray are index based you should acces using at  method, like this array2.at(0).setValue([&#39;&#39;]);"}, {"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1571250988, "post_id": 58419250, "comment_id": 103181726, "body": "@Chellappan Yes, I understand and appreciate this fact fully. Do you have an answer?"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1571251119, "post_id": 58419250, "comment_id": 103181790, "body": "try  this array2.reset([&#39;&#39;,&#39;&#39;&#39;])"}, {"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1571251680, "post_id": 58419250, "comment_id": 103182038, "body": "@Chellappan That doesn&#39;t work. There is no error, but the value is not updated. It seems to suffer the same problem of requiring the controls to exist at those indexes already."}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1571251971, "post_id": 58419250, "comment_id": 103182167, "body": "I forked your example and i can see the updated value check the console:<a href=\"https://stackblitz.com/edit/angular-y2pteg\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-y2pteg</a>"}, {"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1571252081, "post_id": 58419250, "comment_id": 103182214, "body": "@Chellappan Yea, but not solving for variable length. If it already has a value at that index then it works. It doesn&#39;t answer the question I asked though."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1571252309, "post_id": 58419250, "comment_id": 103182290, "body": "@KevinBeal, if you use setValue, you need send as many elements as the formArray.length, else use patchValue. If you want create a formArray from an array, you can use <code>array=new FormArray(myArray.map(x=&gt;new FormControl(x))</code>. NOTE: You need import <code>ReactiveFormsModule</code> in your app.module.ts. NOTE2: use a ngOnInit, you&#39;re declaring the const outside the Component"}, {"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1571253675, "post_id": 58419250, "comment_id": 103182876, "body": "@Eliseo You are mistaken about patchValue. It will not add new form controls."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1571259622, "post_id": 58419250, "comment_id": 103185459, "body": "NO, patchValue only allow send an arbritary quantity of values. If you send less elements than the number of formsControls there are in the array, fill the first elements, if you send more elements, fill the array using the firsts elements, but not increase the length of the FormArray. Sorry if I confused you about this"}], "answers": [{"comments": [{"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "edited": false, "score": 0, "creation_date": 1571251746, "post_id": 58419752, "comment_id": 103182074, "body": "How do I make a function out of this to solve problems in my app?"}], "tags": [], "owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1571251171, "creation_date": 1571251171, "answer_id": 58419752, "question_id": 58419250, "link": "https://stackoverflow.com/questions/58419250/how-to-update-formarray-value-with-variable-length/58419752#58419752", "title": "How to update FormArray value with variable length", "body": "<p>You can initialize an empty formArray and then add the controls and then set the value,</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nconst arr = new FormArray([]);\n\nconst a = new FormControl('a', []);\nconst b = new FormControl('b', []);\nconst c = new FormControl('c', []);\n\narr.push(a);\narr.push(b);\narr.push(c);\n\nconsole.log(arr.value);   // [\"a\", \"b\", \"c\"] \n// arr.setValue([0]);\n\nconsole.log(arr) \narr.controls[0].setValue('xxx')\n\nconsole.log(arr.value);   // \"xxx\", \"b\", \"c\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1571261046, "post_id": 58420835, "comment_id": 103185968, "body": "I improve (I hope) your function in a new answer"}], "tags": [], "owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "is_accepted": false, "score": 0, "last_activity_date": 1571324725, "last_edit_date": 1571324725, "creation_date": 1571255817, "answer_id": 58420835, "question_id": 58419250, "link": "https://stackoverflow.com/questions/58419250/how-to-update-formarray-value-with-variable-length/58420835#58420835", "title": "How to update FormArray value with variable length", "body": "<p>The problem is that adding new values at new keys or indexes can't be done without knowing what type of <code>AbstractControl</code> you want inside the <code>FormArray</code> at the new index.</p>\n\n<p>Any solution must take into account whether that index should be a <code>FormControl</code>, <code>FormGroup</code>, or <code>FormArray</code>, hence the <code>toSubControl</code> parameter I offer in my <code>setFormArrayValue</code> function. (I also provide some example values to supply to this parameter.)</p>\n\n<p>I opted to remove all items and then add new controls per value. Trying to preserve the controls already there was producing some weird behavior.</p>\n\n<p>This is the solution I came up with:</p>\n\n<pre><code>type ControlFactory&lt;T&gt; = (values: T) =&gt; AbstractControl;\n\nexport function setFormArrayValue&lt;T&gt;(\n    array: FormArray,\n    values: T[],\n    toSubControl: ControlFactory&lt;T&gt; = toFormControl\n) {\n    while (array.length) {\n        array.removeAt(0);\n    }\n    values\n        .map(toSubControl)\n        .forEach(function(control) {\n            array.push(control);\n        });\n    return array;\n}\n</code></pre>\n\n<p>Where the following functions can create the new child <code>AbstractControl</code>s.</p>\n\n<pre><code>// When the child controls should be FormControl\nfunction toFormControl&lt;T&gt;(value: T) {\n    return new FormControl(value)\n}\n\n// When the child controls should be FormGroup\nfunction toFormGroup&lt;T&gt;(item: T) {\n    const fields = Object.entries(item).reduce(function(hash, [key, value]) {\n        hash[key] = new FormControl(value);\n        return hash;\n    }, {});\n    return new FormGroup(fields);\n}\n\n// When the child controls should be FormArray of FormControls\nfunction toFormArray&lt;T&gt;(values: T) {\n    const fields = values.map(value =&gt; new FormControl(value));\n    return new FormGroup(fields);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "edited": false, "score": 0, "creation_date": 1571261634, "post_id": 58421884, "comment_id": 103186175, "body": "I wanted to edit the FormArray in-place. But this is nice if you don&#39;t have that requirement."}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 1, "last_activity_date": 1571260977, "creation_date": 1571260977, "answer_id": 58421884, "question_id": 58419250, "link": "https://stackoverflow.com/questions/58419250/how-to-update-formarray-value-with-variable-length/58421884#58421884", "title": "How to update FormArray value with variable length", "body": "<p>Simplify your functions</p>\n\n<pre><code>getFormArray&lt;T&gt;(elements: T[]): FormArray {\n    return new FormArray(\n      elements.map((x: T) =&gt; {\n        const obj = new FormGroup({});\n        Object.keys(x).forEach(k =&gt; {\n          obj.addControl(k, new FormControl(x[k]));\n        });\n        return obj;\n      })\n    );\n  }\n\n//the use, e.g.\n\nthis.formArray = this.getFormArray&lt;any&gt;([\n  { id: 1, name: \"Bob\" },\n  { id: 2, name: \"Peter\" }\n]);\n</code></pre>\n\n<p>see <a href=\"https://stackblitz.com/edit/angular-uvvhwd?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n"}], "owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1312, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1571324725, "creation_date": 1571249129, "last_edit_date": 1571251470, "question_id": 58419250, "link": "https://stackoverflow.com/questions/58419250/how-to-update-formarray-value-with-variable-length", "title": "How to update FormArray value with variable length", "body": "<p>If I try to set a FormArray value when the FormArray is empty:</p>\n\n<pre><code>const array1 = new FormArray([]);\narray1.setValue(['']);\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>There are no form controls registered with this array yet. If you're using ngModel, you may want to check next tick</p>\n</blockquote>\n\n<p>If I add 2 when there is 1:</p>\n\n<pre><code>const array2 = new FormArray([new FormControl('')]);\narray2.setValue(['', '']);\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Cannot find form control at index 1</p>\n</blockquote>\n\n<p>If I try to set 1 when there are 2:</p>\n\n<pre><code>const array3 = new FormArray([new FormControl(''), new FormControl('')]);\narray3.setValue(['']);\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Must supply a value for form control at index: 1.</p>\n</blockquote>\n\n<p><strong>Question</strong>: How do I write a function which can update the value of a Form Array with a list of arbitrary length?</p>\n\n<p><strong>StackBlitz</strong>: <a href=\"https://stackblitz.com/edit/angular-wduzv9?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-wduzv9?file=src/app/app.component.ts</a></p>\n\n<p><strong>*edit</strong>\nI understand that I can use the <code>push()</code>, <code>at()</code>, and <code>removeAt(0)</code> methods. I'm looking for a general-purpose function. It can use any methods you want.</p>\n"}, {"tags": ["typescript", "flowtype", "flux"], "comments": [{"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 1, "creation_date": 1571248738, "post_id": 58419116, "comment_id": 103180735, "body": "It&#39;s a generic type variable. It doesn&#39;t refer to a specific type. Those are often prefixed with T in both TypeScript and C# to indicate that they refer to a type."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 2, "creation_date": 1571248742, "post_id": 58419116, "comment_id": 103180738, "body": "it&#39;s a generic type parameter. Its name is introduced in the declaration between the angle brackets and can be any valid identifier. The T prefix is just a convention used by some developers, and stands for type. Also, this is Flow and not TypeScript so TypeScript conventions are not really relevant"}], "answers": [{"comments": [{"owner": {"reputation": 1326, "user_id": 438273, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/88ad8bc15f1a9e787531e9b20340973a?s=128&d=identicon&r=PG", "display_name": "jsejcksn", "link": "https://stackoverflow.com/users/438273/jsejcksn"}, "edited": false, "score": 0, "creation_date": 1584126362, "post_id": 58491548, "comment_id": 107351031, "body": "Thanks for the extended explainer!"}], "tags": [], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "is_accepted": true, "score": 10, "last_activity_date": 1571679606, "creation_date": 1571679606, "answer_id": 58491548, "question_id": 58419116, "link": "https://stackoverflow.com/questions/58419116/what-does-the-prefix-t-mean-in-type-names-for-typescript/58491548#58491548", "title": "what does the prefix T mean in type names for typescript", "body": "<p>This is just a naming convention for <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"noreferrer\">type arguments (aka generics)</a>. </p>\n\n<p>Why? Type arguments are a unique kind of parameter in code (it doesn't represent a specific type or a value, rather it's a placeholder for some kind of type in that context) which is why it's useful to have some visually distinct naming pattern, for code readability.</p>\n\n<p>In simple cases the name <code>T</code> is <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/b5210edf39148c9fbc68e872c703d358c5c22c5e/types/underscore/index.d.ts#L72\" rel=\"noreferrer\">often used</a> for a type argument:</p>\n\n<pre><code>interface Collection&lt;T&gt; {\n  [index: number]: T;\n}\n</code></pre>\n\n<p>If you have multiple type arguments it's also <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/b5210edf39148c9fbc68e872c703d358c5c22c5e/types/react/index.d.ts#L393\" rel=\"noreferrer\">common to use</a> different single letter capitals for each type argument:</p>\n\n<pre><code>class Component&lt;P, S&gt; {\n  // In React `P` represents \"Props\" type, and `S` represents \"State\" type\n}\n</code></pre>\n\n<p>However, that can get pretty hard to read! It's well understood that single letters like <code>T</code> and <code>S</code> are some kind of type argument, and not specific types, but imagine some code that references <code>P</code>, <code>S</code>, <code>R</code>, <code>SS</code>, and you have to sort out what that means while you read the code. It can get hard. So for better readability you could use a full name (there's no syntactical restrictions on type argument names):</p>\n\n<pre><code>class Component&lt;Props, State&gt; { }\n</code></pre>\n\n<p>That works fine. The problem is that <code>Props</code> and <code>State</code> look like they could be actual concrete types named <code>Props</code> and <code>State</code>, but they are not. So now you have a different kind of potential confusion. So finally, to preserve readability without losing the hint that they are placeholder type arguments and not specific types, use full names prefixed with <code>T</code> (for \"Type argument\"):</p>\n\n<pre><code>class Component&lt;TProps, TState&gt; { }\n</code></pre>\n\n<p>The only down-side to this is longer names, which is why you still see <code>T</code> and such commonly used, especially in contexts where an experienced programmer is going to naturally  know what that stands for, for  example <code>Collection&lt;T&gt;</code> is pretty clear, <code>Collection&lt;TElement&gt;</code> is not necessary, and to a React developer \"props\" and \"state\" is the bread-and-butter of using React, so <code>Component&lt;P, S&gt;</code> is going to be well known. It's still a style choice either way, in the end.</p>\n\n<p>More info than you could have possibly wanted. :) </p>\n"}], "owner": {"reputation": 4172, "user_id": 3088353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/vGI0r.jpg?s=128&g=1", "display_name": "williamcodes", "link": "https://stackoverflow.com/users/3088353/williamcodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1274, "favorite_count": 1, "accepted_answer_id": 58491548, "answer_count": 1, "score": 1, "last_activity_date": 1571679606, "creation_date": 1571248532, "last_edit_date": 1571248970, "question_id": 58419116, "link": "https://stackoverflow.com/questions/58419116/what-does-the-prefix-t-mean-in-type-names-for-typescript", "title": "what does the prefix T mean in type names for typescript", "body": "<p>It seems like a common pattern to prefix types with the letter T. </p>\n\n<p>Here's an example: <a href=\"https://github.com/facebook/flux/blob/2ab02c6e61618da270509dca7a8a40c852570f1b/examples/flux-async/flow/flux-utils.js#L32\" rel=\"nofollow noreferrer\">https://github.com/facebook/flux/blob/2ab02c6e61618da270509dca7a8a40c852570f1b/examples/flux-async/flow/flux-utils.js#L32</a></p>\n\n<p>What is this pattern for? What is the difference between the State type and the TState type? Why doesn't TState need to be imported or defined anywhere, is that a typescript primitive?</p>\n"}, {"tags": ["javascript", "typescript", "asp.net-core", "blazor"], "comments": [{"owner": {"reputation": 1137, "user_id": 7310767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e531353b4f608fb27cb11776948d63f?s=128&d=identicon&r=PG&f=1", "display_name": "App Pack", "link": "https://stackoverflow.com/users/7310767/app-pack"}, "edited": false, "score": 0, "creation_date": 1571257491, "post_id": 58419012, "comment_id": 103184549, "body": "Cheat method: add &quot;declare var DotNet: any;&quot; without the quotes to the top of the ts file. Otherwise one would normally find the definitely typed definitions, but I&#39;m not sure if these exist for blazor yet."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 1865791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QawDe.jpg?s=128&g=1", "display_name": "AminM", "link": "https://stackoverflow.com/users/1865791/aminm"}, "edited": false, "score": 0, "creation_date": 1571307156, "post_id": 58426542, "comment_id": 103200967, "body": "Although I got a Rank down by someone ;), this answer is the exact clarification for my question and it helped a lot. Thank you @itminus for your nice answer!"}, {"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "reply_to_user": {"reputation": 137, "user_id": 1865791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QawDe.jpg?s=128&g=1", "display_name": "AminM", "link": "https://stackoverflow.com/users/1865791/aminm"}, "edited": false, "score": 0, "creation_date": 1571307282, "post_id": 58426542, "comment_id": 103201057, "body": "@AminM I don&#39;t know why someone downvotes. I think it&#39;s &quot;a question that is useful and clear&quot;. So I decide to upvote :)"}], "tags": [], "owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "is_accepted": true, "score": 2, "last_activity_date": 1571297208, "last_edit_date": 1571297208, "creation_date": 1571295171, "answer_id": 58426542, "question_id": 58419012, "link": "https://stackoverflow.com/questions/58419012/convert-jsinterops-examplejsinterop-javascript-code-to-typescript/58426542#58426542", "title": "Convert JSInterop&#39;s ExampleJsInterop JavaScript code to TypeScript", "body": "<blockquote>\n  <p>where this DotNet comes from</p>\n</blockquote>\n\n<p>Generally speaking, <code>DotNet</code>comes from the <code>JSInterop/Microsoft.JSInterop.JS</code> single file (See <a href=\"https://github.com/aspnet/Extensions/blob/master/src/JSInterop/Microsoft.JSInterop.JS/src/src/Microsoft.JSInterop.ts\" rel=\"nofollow noreferrer\">Source Code on GitHub</a>). This file is imported in the <code>blazor.server.js</code>. And you'll reference this <code>blazor.server.js</code> script in your <code>Pages/_Host.csthml</code>:</p>\n\n<pre><code>&lt;body&gt;\n    &lt;app&gt;\n        @(await Html.RenderComponentAsync&lt;App&gt;(RenderMode.ServerPrerendered))\n    &lt;/app&gt;\n\n    &lt;script src=\"_framework/blazor.server.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/built/exampleJsInterop.js\" &gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When the <code>blazor.server.js</code> is loaded at runtime , a global <code>DotNet</code> is created.</p>\n\n<p>You can search the string <code>window.DotNet=</code> in the <code>blazor.server.js</code> to confirm. Since the <code>DotNet</code> is attached as a property of <code>window</code>, it becomes a <strong>global</strong> variable in your browser.</p>\n\n<blockquote>\n  <p>how can I convert this JS function to TS. </p>\n</blockquote>\n\n<p>Microsoft has not yet released an official <code>.d.ts</code> package for the <code>Microsoft.JsInterop</code> library. See <a href=\"https://github.com/aspnet/Blazor/issues/1452\" rel=\"nofollow noreferrer\">https://github.com/aspnet/Blazor/issues/1452</a></p>\n\n<p>There's a <code>https://www.npmjs.com/package/@dotnet/jsinterop</code> on the npmjs.com. But be careful as it seems <strong>NOT an official release</strong> (Not Sure). </p>\n\n<p>One safe way, as suggested by <a href=\"https://github.com/aspnet/Blazor/issues/1452#issuecomment-423205165\" rel=\"nofollow noreferrer\">@SteveSandersonMS in above links</a>, is to generate the <code>d.ts</code> by our own:</p>\n\n<ol>\n<li>Copy the file and save it as <code>Microsoft.JsInterop.ts</code>: <a href=\"https://github.com/aspnet/Extensions/blob/master/src/JSInterop/Microsoft.JSInterop.JS/src/src/Microsoft.JSInterop.ts\" rel=\"nofollow noreferrer\">https://github.com/aspnet/Extensions/blob/master/src/JSInterop/Microsoft.JSInterop.JS/src/src/Microsoft.JSInterop.ts</a></li>\n<li>Run <code>tsc --declaration</code> and get the <code>Microsoft.JsInterop.d.ts</code> file, save it in the path <code>wwwroot/@types/Microsoft.JsInterop.d.ts</code>.</li>\n<li><p>Within your <code>exampleJsInterop.ts</code> file, let's say its path is <code>wwwroot/ts/exampleJsInterop.ts</code>, just add a declaration reference <code>/// &lt;reference types=\"../@types/Microsoft.JsInterop\" /&gt;</code> at the first line:</p>\n\n<pre><code>\u2514\u2500\u2500\u2500wwwroot/\n    \u251c\u2500\u2500\u2500@types/\n    |   |\u2500\u2500\u2500 Microsoft.JsInterop.d.ts\n    \u251c\u2500\u2500\u2500built/\n    \u2514\u2500\u2500\u2500ts/\n        |\u2500\u2500\u2500 exampleJsInterop.ts\n</code></pre>\n\n<p>Now you can enjoy the typescript features from the <code>DotNet</code> module. See intellisense:\n<a href=\"https://i.stack.imgur.com/3iFdd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3iFdd.png\" alt=\"intellisense\"></a></p>\n\n<p>By the way, I also change the <code>data =&gt; {data.push(4);... }</code>  to <code>(data: Number[])=&gt; {... }</code></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 259, "user_id": 5741044, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/k1xxU.png?s=128&g=1", "display_name": "Ka Marius", "link": "https://stackoverflow.com/users/5741044/ka-marius"}, "is_accepted": false, "score": 1, "last_activity_date": 1585166476, "last_edit_date": 1585166476, "creation_date": 1585165704, "answer_id": 60856329, "question_id": 58419012, "link": "https://stackoverflow.com/questions/58419012/convert-jsinterops-examplejsinterop-javascript-code-to-typescript/60856329#60856329", "title": "Convert JSInterop&#39;s ExampleJsInterop JavaScript code to TypeScript", "body": "<p>There is a simpler way, just write in ts:</p>\n\n<pre><code>(window as any).DotNet.invokeMethodAsync('some', 'some');\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 1865791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QawDe.jpg?s=128&g=1", "display_name": "AminM", "link": "https://stackoverflow.com/users/1865791/aminm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "accepted_answer_id": 58426542, "answer_count": 2, "score": 2, "last_activity_date": 1585166476, "creation_date": 1571248092, "last_edit_date": 1571292553, "question_id": 58419012, "link": "https://stackoverflow.com/questions/58419012/convert-jsinterops-examplejsinterop-javascript-code-to-typescript", "title": "Convert JSInterop&#39;s ExampleJsInterop JavaScript code to TypeScript", "body": "<p>I'm new to <code>.NetCore Blazor</code> and trying to convert ExampleJsInterop <code>JavaScript</code> code to <code>TypeScript</code>.\nI have a problem with converting the code below:</p>\n\n<pre><code>window.exampleJsFunctions = {\n  showPrompt: function (text) {\n    return prompt(text, 'Type your name here');\n  },\n  displayWelcome: function (welcomeMessage) {\n    document.getElementById('welcome').innerText = welcomeMessage;\n  },\n  returnArrayAsyncJs: function () {\n    DotNet.invokeMethodAsync('BlazorSample', 'ReturnArrayAsync')\n      .then(data =&gt; {\n        data.push(4);\n          console.log(data);\n    });\n  },\n  sayHello: function (dotnetHelper) {\n    return dotnetHelper.invokeMethodAsync('SayHello')\n      .then(r =&gt; console.log(r));\n  }\n};\n</code></pre>\n\n<p>Well, of course, there is no problem to convert the first two functions and the last one, but I can not convert the 3rd function since the <code>DotNet</code> is not valid on TypeScript:</p>\n\n<pre><code>returnArrayAsyncJs: function () {\n    DotNet.invokeMethodAsync('BlazorSample', 'ReturnArrayAsync')\n      .then(data =&gt; {\n        data.push(4);\n          console.log(data);\n    });\n  }\n</code></pre>\n\n<p>My question is first of all, how can I convert this <code>JS</code> function to <code>TS</code>. and also that would be helpful if someone helps me to understand where this <code>DotNet</code> comes from.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 4138, "user_id": 147425, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/683f8549bce1adbb62d9456a955cfddc?s=128&d=identicon&r=PG", "display_name": "o01", "link": "https://stackoverflow.com/users/147425/o01"}, "edited": false, "score": 0, "creation_date": 1571261018, "post_id": 58421722, "comment_id": 103185961, "body": "So <code>DetailedHTMLProps</code> only includes <code>key</code> and <code>ref</code>? Aren&#39;t those set on both class and functional components in React automatically? When will I ever need to extend <code>DetailedHTMLProps</code>?"}, {"owner": {"reputation": 553, "user_id": 412319, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ilxvK.jpg?s=128&g=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/412319/marcin"}, "reply_to_user": {"reputation": 4138, "user_id": 147425, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/683f8549bce1adbb62d9456a955cfddc?s=128&d=identicon&r=PG", "display_name": "o01", "link": "https://stackoverflow.com/users/147425/o01"}, "edited": false, "score": 0, "creation_date": 1571263361, "post_id": 58421722, "comment_id": 103186719, "body": "<code>key</code> and <code>ref</code> are defined on react class and functional component but at the same time, they do not defined <code>HtmlAttributes</code>. It is reasonable to use this type for all <code>JSX.IntrinsicElements</code>. I think I would not extend <code>DetailedHTMLProps</code> as it should be used as a wrapper for your <code>HtmlAttributes&lt;Element&gt;</code>"}], "tags": [], "owner": {"reputation": 553, "user_id": 412319, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ilxvK.jpg?s=128&g=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/412319/marcin"}, "is_accepted": true, "score": 6, "last_activity_date": 1571260077, "creation_date": 1571260077, "answer_id": 58421722, "question_id": 58418950, "link": "https://stackoverflow.com/questions/58418950/whats-the-difference-between-detailedhtmlprops-and-htmlattributes/58421722#58421722", "title": "What&#39;s the difference between DetailedHTMLProps and HTMLAttributes?", "body": "<p>lets create <code>ComponentProps</code> types:</p>\n\n<pre><code>interface ComponentProps1 extends React.DetailedHTMLProps&lt;React.HTMLAttributes&lt;HTMLDivElement&gt;, HTMLDivElement&gt; {}\n\ninterface ComponentProps2 extends React.HTMLAttributes&lt;HTMLDivElement&gt; {}\n</code></pre>\n\n<p>then we can check the difference between them quite easily:</p>\n\n<pre><code>type Dif = Omit&lt;ComponentProps1, keyof ComponentProps2&gt;;\n</code></pre>\n\n<p>the <code>Dif</code> type is:</p>\n\n<pre><code>type Dif = {\n    ref?: LegacyRef&lt;HTMLDivElement&gt;;\n    key?: string | number;\n}\n</code></pre>\n"}], "owner": {"reputation": 4138, "user_id": 147425, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/683f8549bce1adbb62d9456a955cfddc?s=128&d=identicon&r=PG", "display_name": "o01", "link": "https://stackoverflow.com/users/147425/o01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1032, "favorite_count": 0, "accepted_answer_id": 58421722, "answer_count": 1, "score": 2, "last_activity_date": 1571260077, "creation_date": 1571247823, "question_id": 58418950, "link": "https://stackoverflow.com/questions/58418950/whats-the-difference-between-detailedhtmlprops-and-htmlattributes", "title": "What&#39;s the difference between DetailedHTMLProps and HTMLAttributes?", "body": "<p>Let's say I have a component interface that should extend the interface of a standard <code>&lt;div&gt;</code> element. What's the difference in writing this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface ComponentProps extends React.DetailedHTMLProps&lt;React.HTMLAttributes&lt;HTMLDivElement&gt;, HTMLDivElement&gt; { ... }\n</code></pre>\n\n<p>versus this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface ComponentProps extends React.HTMLAttributes&lt;HTMLDivElement&gt; { ... }\n</code></pre>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 1050, "user_id": 7193619, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eQW46dcS8qU/AAAAAAAAAAI/AAAAAAAAAEI/MJM4YBF8sQI/photo.jpg?sz=128", "display_name": "Quan VO", "link": "https://stackoverflow.com/users/7193619/quan-vo"}, "edited": false, "score": 0, "creation_date": 1571249454, "post_id": 58418932, "comment_id": 103181034, "body": "Could you show the data model of a <code>group</code>? I think you can simply bind the click event on the first table to a function that will update the <code>currentSession</code> defined in your .ts file to the session of the selected group. Then use this <code>currentSession</code> variable in your second table."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 11860449, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wNeTTulsNJ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcFmyMmApBY6l_Ge_kDm6JutLMNWQ/photo.jpg?sz=128", "display_name": "JCA", "link": "https://stackoverflow.com/users/11860449/jca"}, "edited": false, "score": 0, "creation_date": 1571256799, "post_id": 58419453, "comment_id": 103184232, "body": "Thank you! I realized after looking at your stackblitz that I had my data model set up wrong."}], "tags": [], "owner": {"reputation": 4410, "user_id": 6597375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FF1ee.jpg?s=128&g=1", "display_name": "Deepu Reghunath", "link": "https://stackoverflow.com/users/6597375/deepu-reghunath"}, "is_accepted": true, "score": 1, "last_activity_date": 1571249905, "creation_date": 1571249905, "answer_id": 58419453, "question_id": 58418932, "link": "https://stackoverflow.com/questions/58418932/in-angular-is-there-a-way-for-a-second-table-to-fill-out-depending-on-what-you/58419453#58419453", "title": "In Angular, is there a way for a second table to fill out depending on what you select in the first table?", "body": "<p>yes. You can display details in second table by clicking the row of the first table.</p>\n\n<p>Add a click event to the row and filter the data according to the row id.</p>\n\n<pre><code>public onRowClick(id: number): void {\n    this.tableTwo= this.rows.filter(row =&gt; row.id === id);\n  }\n</code></pre>\n\n<p>solution: <a href=\"https://stackblitz.com/edit/angular-table-add-record-dshxfy?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-table-add-record-dshxfy?file=src/app/app.component.html</a></p>\n"}], "owner": {"reputation": 107, "user_id": 11860449, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wNeTTulsNJ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcFmyMmApBY6l_Ge_kDm6JutLMNWQ/photo.jpg?sz=128", "display_name": "JCA", "link": "https://stackoverflow.com/users/11860449/jca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 58419453, "answer_count": 1, "score": 0, "last_activity_date": 1571249905, "creation_date": 1571247738, "question_id": 58418932, "link": "https://stackoverflow.com/questions/58418932/in-angular-is-there-a-way-for-a-second-table-to-fill-out-depending-on-what-you", "title": "In Angular, is there a way for a second table to fill out depending on what you select in the first table?", "body": "<p>I have two tables. The first table is a list of groups. Each of those groups have sessions attached to them, which is what the second table is going to fill out with. What I want to happen is when the user clicks on a group from the first table, the second table right next to it fills with the correct sessions associated with that group.</p>\n\n<p>Here is how my tables are set up:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;h1&gt;Manage Workflows&lt;/h1&gt;\n&lt;/div&gt;\n&lt;div class=\"table-responsive\"&gt;\n        &lt;table class=\"table\" id = \"groups\"&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                &lt;th scope=\"col\"&gt;Group&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr&gt;                  \n\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n        &lt;table class=\"table\" id = \"sessions\"&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                    &lt;th scope=\"col\"&gt;Session&lt;/th&gt;\n                    &lt;th scope=\"col\" id = \"trigger\"&gt;Next Trigger&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr&gt;\n\n                    &lt;/tr&gt;\n\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 9268930, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SV2kEXu8GFI/AAAAAAAAAAI/AAAAAAAAABI/f5FOetfBZbw/photo.jpg?sz=128", "display_name": "RobinLu", "link": "https://stackoverflow.com/users/9268930/robinlu"}, "edited": false, "score": 0, "creation_date": 1571248027, "post_id": 58418879, "comment_id": 103180420, "body": "ngOnInit(){         this.columnsData = this.appComponent.Temp2[this.indexnumber][&quot;component&quot;];     }"}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 0, "last_activity_date": 1571247491, "creation_date": 1571247491, "answer_id": 58418879, "question_id": 58418798, "link": "https://stackoverflow.com/questions/58418798/cant-send-ngfor-index-from-html-to-child-component/58418879#58418879", "title": "Can&#39;t send ngfor index from HTML to child component", "body": "<p>Fist of all, the index of an array is a number, not a string. So</p>\n\n<pre><code>@Input() public indexnumber: string; \n</code></pre>\n\n<p>should be</p>\n\n<pre><code>@Input() public indexnumber: number; \n</code></pre>\n\n<p>Second: in order for angular to be able to set the indexnumber of your component, your component needs to exist. So it must have been constructed <em>before</em>. So, at the time the constructor is invoked, the input can't possibly have been set yet. So trying to access the value of an input in the constructor can't possibly give you the value passed by the parent.</p>\n\n<p>Use ngOnInit or ngOnChanges. That's the methods that are called when the inputs are set for the first time/changed.</p>\n"}], "owner": {"reputation": 17, "user_id": 9268930, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SV2kEXu8GFI/AAAAAAAAAAI/AAAAAAAAABI/f5FOetfBZbw/photo.jpg?sz=128", "display_name": "RobinLu", "link": "https://stackoverflow.com/users/9268930/robinlu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 58418879, "answer_count": 1, "score": 0, "last_activity_date": 1571247625, "creation_date": 1571247160, "question_id": 58418798, "link": "https://stackoverflow.com/questions/58418798/cant-send-ngfor-index-from-html-to-child-component", "title": "Can&#39;t send ngfor index from HTML to child component", "body": "<p>I tried to let my child component to read parents HTML's ngfor value to display the child page. But the child component seems didn't get the index number from the parent page.</p>\n\n<p>This is my Parents: app.component.html:</p>\n\n<pre><code>     &lt;ul *ngFor=\"let item of formDoc.components | keyvalue: valueAscOrder; let i = index \"&gt;\n            &lt;li *ngIf=\"item.value['type'] == 'columns'\"&gt;\n                &lt;mat-card [style.backgroundColor]=\"'white'\" [style.border]=\"lightgrey\" [style.width]=\"'50%'\"&gt;\n                    {{item.value[\"label\"]}}\n\n                    &lt;app-columns [indexnumber]=\"i\"&gt;&lt;/app-columns&gt;\n\n                &lt;/mat-card&gt;\n\n            &lt;/li&gt;\n      &lt;/ul&gt;\n</code></pre>\n\n<p>And this is the child: Columns.component.ts</p>\n\n<pre><code>import { FormBuilderComponent } from 'angular-formio';\nimport { Injectable } from '@angular/core';\nimport { Component, Input } from '@angular/core';\n//import { ColumnComponent } from 'src/column/Column.component';\nimport { AppComponent } from '../app.component'\n\n@Injectable()\n\n@Component({\n  selector: 'app-columns',\n  templateUrl: './Columns.component.html',\n  styleUrls: ['./Columns.component.scss'],\n})\n\nexport class ColumnsComponent {\n    @Input() columnsData: object[]; \n    public saveData: object[];\n    @Input() public indexnumber: string; \n\n    constructor(public appComponent: AppComponent){ \n        if (this.indexnumber) {\n            this.columnsData = appComponent.Temp2[this.indexnumber][\"component\"];\n        }\n    }\n}\n</code></pre>\n\n<p>The value of indexnumber is always undefined. I'm wondering how to make index number in Columns.component.ts get the ngfor 'i' value?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 120627, "user_id": 546661, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/233308e20f7e2236848f31c2b0b865dd?s=128&d=identicon&r=PG", "display_name": "Peter Olson", "link": "https://stackoverflow.com/users/546661/peter-olson"}, "edited": false, "score": 0, "creation_date": 1571247507, "post_id": 58418748, "comment_id": 103180209, "body": "You can indeed use <code>interface</code> here instead of <code>type</code> - the two can often be interchanged with each other. See <a href=\"https://stackoverflow.com/questions/37233735/typescript-interfaces-vs-types\" title=\"typescript interfaces vs types\">stackoverflow.com/questions/37233735/&hellip;</a>"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 120627, "user_id": 546661, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/233308e20f7e2236848f31c2b0b865dd?s=128&d=identicon&r=PG", "display_name": "Peter Olson", "link": "https://stackoverflow.com/users/546661/peter-olson"}, "edited": false, "score": 0, "creation_date": 1571247950, "post_id": 58418748, "comment_id": 103180383, "body": "@PeterOlson Yes, I saw that. Since I know <code>interface</code> well I would like to use it here. Will I miss something here if I&#39;ll use the <code>interface</code>? Do I need to change any <code>usage</code> code then?"}, {"owner": {"reputation": 120627, "user_id": 546661, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/233308e20f7e2236848f31c2b0b865dd?s=128&d=identicon&r=PG", "display_name": "Peter Olson", "link": "https://stackoverflow.com/users/546661/peter-olson"}, "edited": false, "score": 0, "creation_date": 1571248026, "post_id": 58418748, "comment_id": 103180416, "body": "As far as I can tell, nothing important will change if you use an <code>interface</code> instead."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 120627, "user_id": 546661, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/233308e20f7e2236848f31c2b0b865dd?s=128&d=identicon&r=PG", "display_name": "Peter Olson", "link": "https://stackoverflow.com/users/546661/peter-olson"}, "edited": false, "score": 0, "creation_date": 1571248242, "post_id": 58418748, "comment_id": 103180513, "body": "@PeterOlson Thanks for the clarifications. I hope you can put it as an answer."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571252725, "post_id": 58418748, "comment_id": 103182472, "body": "They are similar in this case but they have significant differences"}], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571246928, "creation_date": 1571246928, "question_id": 58418748, "link": "https://stackoverflow.com/questions/58418748/declare-interface-instead-of-type", "title": "Declare interface instead of type", "body": "<pre><code>export type MessageGroups = {\n    [id: string]: MessageGroupModel\n};\n\nexport interface MessageGroupModel {\n    groupId: string;\n    memberIds: string[];\n    messages: ChatMessageModel[];\n}\n</code></pre>\n\n<p>Usage is like this:</p>\n\n<pre><code>async handleFullMessageGroupUpdate(newMessageGroup: MessageGroupModel) {\n    let messageGroups: MessageGroups = await this.storage.get(StorageKeys.MESSAGES);\n    if (!messageGroups) {\n      messageGroups = {}\n    }\n    if (!messageGroups[newMessageGroup.groupId]) {\n      messageGroups[newMessageGroup.groupId] = newMessageGroup;\n    } else {\n      messageGroups[newMessageGroup.groupId].memberIds = newMessageGroup.memberIds;\n      messageGroups[newMessageGroup.groupId].memberProfiles = newMessageGroup.memberProfiles;\n      messageGroups = this.mergeNewGroupMessages(messageGroups,\n        newMessageGroup.messages, newMessageGroup.groupId, newMessageGroup.lastMessageUpdateTime);\n    }   \n  }\n</code></pre>\n\n<p><code>export type MessageGroups</code> declaration is not clear to me. can't I use <code>interface</code> here instead of <code>type</code>?</p>\n"}, {"tags": ["typescript", "typeorm"], "answers": [{"comments": [{"owner": {"reputation": 1918, "user_id": 10215560, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iw7RDke4S6Q/AAAAAAAAAAI/AAAAAAAAAV8/bFFuudfZwGY/photo.jpg?sz=128", "display_name": "noam steiner", "link": "https://stackoverflow.com/users/10215560/noam-steiner"}, "edited": false, "score": 0, "creation_date": 1603453543, "post_id": 61047900, "comment_id": 114049157, "body": "<code>loadRelationCountAndMap</code> doesn&#39;t work for me on postgres. also for sqlserver <a href=\"https://stackoverflow.com/questions/63024634/typeorm-loadrelationcountandmap-returns-zeros\" title=\"typeorm loadrelationcountandmap returns zeros\">stackoverflow.com/questions/63024634/&hellip;</a>"}], "tags": [], "owner": {"reputation": 21, "user_id": 13230956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72d3bb85f15e479c12e521636bfc6af4?s=128&d=identicon&r=PG&f=1", "display_name": "Rinat Garifullin", "link": "https://stackoverflow.com/users/13230956/rinat-garifullin"}, "is_accepted": false, "score": 2, "last_activity_date": 1586123480, "last_edit_date": 1586123480, "creation_date": 1586113208, "answer_id": 61047900, "question_id": 58418569, "link": "https://stackoverflow.com/questions/58418569/typeorm-relationcount-alternative/61047900#61047900", "title": "TypeORM RelationCount alternative", "body": "<p>You need use <code>loadRelationCountAndMap</code> methods </p>\n\n<pre><code>yourRepository\n  .createQueryBuilder(\"entity\")\n  .leftJoin('entity.sentences', 'sentences')\n  .loadRelationCountAndMap('entity.sentencesCount', 'entity.sentences');\n</code></pre>\n\n<p>And Delete <code>@RelationCount(\"sentences\")\npublic sentencesCount?: number;</code>\nfrom your entity class.</p>\n"}], "owner": {"reputation": 8750, "user_id": 888469, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c97e31641aae90e72cd9b4015f634848?s=128&d=identicon&r=PG", "display_name": "Daniel Santos", "link": "https://stackoverflow.com/users/888469/daniel-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 610, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1586123480, "creation_date": 1571246159, "question_id": 58418569, "link": "https://stackoverflow.com/questions/58418569/typeorm-relationcount-alternative", "title": "TypeORM RelationCount alternative", "body": "<p>I'm working with TypeORM for a while into a project. \nWe have an Entity that holds the followings properties</p>\n\n<pre><code>@RelationCount(\"sentences\")\npublic sentencesCount?: number;\n\n@OneToMany(() =&gt; Sentence, e =&gt; e.job)\npublic sentences?: Sentence[];\n</code></pre>\n\n<p>However I noticed that <code>RelationCount</code> is depreciated</p>\n\n<blockquote>\n  <p>@RelationCount, deprecated Do not use this decorator, it may be removed in the future versions</p>\n</blockquote>\n\n<p>I look for a substitution in TypeORM official readme but I found nothing but creating a custom <code>QueryBuilder</code> with a native SQL <code>SELECT COUNT(*)</code> statement.</p>\n\n<p>In this project we use a lot of simple statement like <code>myRepo.find()</code>. I rather not to replace all these simple calls for <code>QueryBuilders</code>.</p>\n\n<p>What should I use instead of <code>@RelationCount</code> in our project? </p>\n\n<p>Should I ignore this \"depreciate\" warning. ?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 20976, "user_id": 591487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c5e1a6f7698e7fc0f986262543b5bb9f?s=128&d=identicon&r=PG", "display_name": "inorganik", "link": "https://stackoverflow.com/users/591487/inorganik"}, "edited": false, "score": 0, "creation_date": 1571244609, "post_id": 58418060, "comment_id": 103178898, "body": "You can use Angular Material to do this. The component is called a menu <a href=\"https://material.angular.io/components/menu/overview\" rel=\"nofollow noreferrer\">material.angular.io/components/menu/overview</a>"}, {"owner": {"reputation": 1530, "user_id": 10203656, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624304544261882/picture?type=large", "display_name": "desoga", "link": "https://stackoverflow.com/users/10203656/desoga"}, "reply_to_user": {"reputation": 20976, "user_id": 591487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c5e1a6f7698e7fc0f986262543b5bb9f?s=128&d=identicon&r=PG", "display_name": "inorganik", "link": "https://stackoverflow.com/users/591487/inorganik"}, "edited": false, "score": 0, "creation_date": 1571244929, "post_id": 58418060, "comment_id": 103179042, "body": "I&#39;m not allowed to use angular material."}], "answers": [{"comments": [{"owner": {"reputation": 1530, "user_id": 10203656, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624304544261882/picture?type=large", "display_name": "desoga", "link": "https://stackoverflow.com/users/10203656/desoga"}, "edited": false, "score": 0, "creation_date": 1571244899, "post_id": 58418208, "comment_id": 103179028, "body": "The problem is that, all the Nav Elements get displayed instead of the specific one that is being clicked."}], "tags": [], "owner": {"reputation": 9, "user_id": 6064644, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WMIx9b3q-TE/AAAAAAAAAAI/AAAAAAAAABA/MuV9ZHD1PP0/photo.jpg?sz=128", "display_name": "jayachandran m", "link": "https://stackoverflow.com/users/6064644/jayachandran-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1571244781, "creation_date": 1571244781, "answer_id": 58418208, "question_id": 58418060, "link": "https://stackoverflow.com/questions/58418060/how-to-display-a-unique-element-based-on-a-click-event-in-angular-6/58418208#58418208", "title": "How To Display A Unique Element Based On A Click Event In Angular 6", "body": "<p>if you could show the before and after image will help to understand the problem. Here the problem statement given , when clicking the icons overlap or design itself is overlapping ?</p>\n"}, {"comments": [{"owner": {"reputation": 1530, "user_id": 10203656, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624304544261882/picture?type=large", "display_name": "desoga", "link": "https://stackoverflow.com/users/10203656/desoga"}, "edited": false, "score": 0, "creation_date": 1571260299, "post_id": 58418238, "comment_id": 103185689, "body": "I&#39;m getting the object from a Rest API, so I can&#39;t add a property to it."}, {"owner": {"reputation": 1530, "user_id": 10203656, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624304544261882/picture?type=large", "display_name": "desoga", "link": "https://stackoverflow.com/users/10203656/desoga"}, "edited": false, "score": 0, "creation_date": 1571305628, "post_id": 58418238, "comment_id": 103200108, "body": "Thanks. I got the behavior I wanted from the nav element."}], "tags": [], "owner": {"reputation": 43, "user_id": 5417650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe577e4913ea1cfa26501e8e20c49ba?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5417650/adam"}, "is_accepted": false, "score": 2, "last_activity_date": 1571244911, "creation_date": 1571244911, "answer_id": 58418238, "question_id": 58418060, "link": "https://stackoverflow.com/questions/58418060/how-to-display-a-unique-element-based-on-a-click-event-in-angular-6/58418238#58418238", "title": "How To Display A Unique Element Based On A Click Event In Angular 6", "body": "<p>You can, for example, add a <code>showActionNav</code> property to your picture object. Then you can do <code>(click)=\"picture.showActionNav = !picture.showActionNav\"</code> to toggle it and <code>*ngIf =\"picture.showActionNav\"</code> to display it.</p>\n"}, {"comments": [{"owner": {"reputation": 1530, "user_id": 10203656, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624304544261882/picture?type=large", "display_name": "desoga", "link": "https://stackoverflow.com/users/10203656/desoga"}, "edited": false, "score": 0, "creation_date": 1571246368, "post_id": 58418329, "comment_id": 103179662, "body": "I&#39;m getting this error from the html template:  ``` Unexpected token (, expected identifier, keyword, or string at column 5 in [let (picture, index) of pictures] ```"}, {"owner": {"reputation": 96, "user_id": 5866734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i-qE5kz0vdk/AAAAAAAAAAI/AAAAAAAAAIM/WNBac4tAAbw/photo.jpg?sz=128", "display_name": "vinoth", "link": "https://stackoverflow.com/users/5866734/vinoth"}, "reply_to_user": {"reputation": 1530, "user_id": 10203656, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624304544261882/picture?type=large", "display_name": "desoga", "link": "https://stackoverflow.com/users/10203656/desoga"}, "edited": false, "score": 0, "creation_date": 1571280347, "post_id": 58418329, "comment_id": 103190309, "body": "My mistake. Change the ngFor to &lt;div class=&quot;row&quot; *ngFor=&quot;let picture of pictures; let idx=index&quot;&gt;  And pass the idx variable to your method. &lt;div class=&quot;toggle-on&quot; (click)=&quot;toggleActionNav(picture, idx)&quot;&gt;"}], "tags": [], "owner": {"reputation": 96, "user_id": 5866734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i-qE5kz0vdk/AAAAAAAAAAI/AAAAAAAAAIM/WNBac4tAAbw/photo.jpg?sz=128", "display_name": "vinoth", "link": "https://stackoverflow.com/users/5866734/vinoth"}, "is_accepted": false, "score": 0, "last_activity_date": 1571245274, "creation_date": 1571245274, "answer_id": 58418329, "question_id": 58418060, "link": "https://stackoverflow.com/questions/58418060/how-to-display-a-unique-element-based-on-a-click-event-in-angular-6/58418329#58418329", "title": "How To Display A Unique Element Based On A Click Event In Angular 6", "body": "<p>actionNav variable shouldn't be in component's scope. It should be part of picture object which you are using in the ngFor.</p>\n\n<p>And, pass the picture object along with index to the toggleActionNav method to change the actionNav value.\nBelow is what you need.</p>\n\n<pre><code>&lt;div class=\"row\" *ngFor=\"let (picture, index) of pictures\"&gt;\n    &lt;div class=\"cell\"&gt;\n        &lt;p&gt;{{picture.name}}&lt;/p&gt;\n        &lt;p class=\"med-text meta space-text\"&gt;{{picture.ticketid}}&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"cell\"&gt;\n        &lt;p class=\"meta\"&gt;{{picture.email}}&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"cell-photo\"&gt;\n        &lt;p class=\"meta\"&gt;{{picture.ticket_type}}&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"cell-large\"&gt;\n        &lt;div class=\"toggle on\"&gt;\n            &lt;div class=\"toggle\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"small\"&gt;\n        &lt;div&gt;\n            &lt;div class=\"toggle-on\" (click)=\"toggleActionNav(picture, index)\"&gt;\n                &lt;div class=\"action\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;!--- nav-Element Starts ----&gt;\n            &lt;nav class=\"dropdown-list w-dropdown-list w--open\" *ngIf=\"picture.actionNav\"&gt;\n                &lt;div&gt;View Pictures&lt;/div&gt;\n                &lt;div&gt;Edit Pictures&lt;/div&gt;\n            &lt;/nav&gt;\n            &lt;!--- nav-Element Ends ----&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And the toggle method needs to be like:</p>\n\n<pre><code>toggleActionNav(picture, index) {\n  //disable all the actionNavs to false\n  this.pictures.map(pictureObj =&gt; pictureObj.actionNav = false)\n  this.pictures[index] = true\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1530, "user_id": 10203656, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624304544261882/picture?type=large", "display_name": "desoga", "link": "https://stackoverflow.com/users/10203656/desoga"}, "edited": false, "score": 1, "creation_date": 1571305497, "post_id": 58428009, "comment_id": 103200027, "body": "...and the simplest answer got me exactly what I wanted.Thanks very much."}], "tags": [], "owner": {"reputation": 122, "user_id": 442250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wAybb.jpg?s=128&g=1", "display_name": "vonsko", "link": "https://stackoverflow.com/users/442250/vonsko"}, "is_accepted": false, "score": 1, "last_activity_date": 1571300456, "creation_date": 1571300456, "answer_id": 58428009, "question_id": 58418060, "link": "https://stackoverflow.com/questions/58418060/how-to-display-a-unique-element-based-on-a-click-event-in-angular-6/58428009#58428009", "title": "How To Display A Unique Element Based On A Click Event In Angular 6", "body": "<h3>simplest answer would be just set flag,</h3>\n\n<p>for example, <code>actionNavOpen</code> in your object:</p>\n\n<ol>\n<li><code>(click)=\"picture.actionNavOpen = !picture.actionNavOpen\"</code></li>\n<li>in navs ngIf do: <code>*ngIf =\"picture.actionNavOpen\"</code></li>\n</ol>\n\n<p>of course if you're heavily typed this will give you some errors.</p>\n\n<h3>so few tips what to do next:</h3>\n\n<ul>\n<li>toggling of this flag (<code>actionNavOpen</code>) should be via method</li>\n<li>in this method you can also set all others flag in <code>pictures</code> to false </li>\n<li>just remember you don't need to pre-set this flag to falsy - it's already falsy while you get this data from rest api</li>\n<li>to remove type errors you should extend returning model (interface) from rest api with your model which has this particular flag (<code>actionNavOpen</code>)</li>\n</ul>\n"}], "owner": {"reputation": 1530, "user_id": 10203656, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624304544261882/picture?type=large", "display_name": "desoga", "link": "https://stackoverflow.com/users/10203656/desoga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1571300456, "creation_date": 1571244205, "last_edit_date": 1571244438, "question_id": 58418060, "link": "https://stackoverflow.com/questions/58418060/how-to-display-a-unique-element-based-on-a-click-event-in-angular-6", "title": "How To Display A Unique Element Based On A Click Event In Angular 6", "body": "<p>So I have two files. An app.component.ts file and an app.component.html file.</p>\n\n<p>Below is an image example of what I want to achieve in my User Interface.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5Ld4U.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Ld4U.jpg\" alt=\"Action Icon Displaying Nav Element\"></a></p>\n\n<p>If you look at the photo, you'll see an action icon by the right displaying a nav box element.</p>\n\n<p>I tried achieving something similar in my angular application and this is what I get any time I click on the action Icon:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eFZG1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eFZG1.png\" alt=\"Total Display of action nav\"></a></p>\n\n<p>All the nav boxes display on the UI when I click on the icon. This is because the nav element is inside a <code>*ngFor</code> loop.</p>\n\n<p>Here is my code in the <code>app.component.html</code> file:</p>\n\n<pre><code>    &lt;div class=\"row\" *ngFor=\"let picture of pictures\"&gt;\n      &lt;div class=\"cell\"&gt;\n        &lt;p&gt;{{picture.name}}&lt;/p&gt;\n        &lt;p class=\"med-text meta space-text\"&gt;{{picture.ticketid}}&lt;/p&gt;\n      &lt;/div&gt;\n      &lt;div class=\"cell\"&gt;&lt;p class=\"meta\"&gt;{{picture.email}}&lt;/p&gt;&lt;/div&gt;\n      &lt;div class=\"cell-photo\"&gt;&lt;p class=\"meta\"&gt;{{picture.ticket_type}}&lt;/p&gt;&lt;/div&gt;\n      &lt;div class=\"cell-large\"&gt;\n        &lt;div class=\"toggle on\"&gt;\n          &lt;div class=\"toggle\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"small\"&gt;\n        &lt;div&gt;\n&lt;div class=\"toggle-on\" (click)=\"toggleActionNav()\"&gt;\n        &lt;div class=\"action\"&gt;&lt;/div\n          &lt;/div&gt;\n\n\n&lt;!--- nav-Element Starts ----&gt;\n        &lt;nav  class=\"dropdown-list w-dropdown-list w--open\" *ngIf =\"actionNav\"&gt;\n            &lt;div&gt;View Pictures&lt;/div&gt;\n            &lt;div &gt;Edit Pictures&lt;/div&gt;\n          &lt;/nav&gt;\n&lt;!--- nav-Element Ends ----&gt;\n\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>And here is the code on my <code>app.component.ts</code> file: </p>\n\n<pre><code>actionNav: boolean;\n\n toggleActionNav() {\n    this.actionNav = !this.actionNav;\n  }\n</code></pre>\n\n<p>My question goes thus. How do I get the nav elements to display uniquely and not all displaying together at the same time, just like it is in the first photo?</p>\n\n<p>All responses will be deeply appreciated. Thanks</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "material-ui"], "answers": [{"comments": [{"owner": {"reputation": 3907, "user_id": 3979621, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7692720b4fcc03090037f5e8f52859e5?s=128&d=identicon&r=PG&f=1", "display_name": "Honza Kalfus", "link": "https://stackoverflow.com/users/3979621/honza-kalfus"}, "edited": false, "score": 0, "creation_date": 1611413143, "post_id": 65816172, "comment_id": 116445723, "body": "I now understand TS than I did at the time I asked the question. And you&#39;re <i>almost</i> right - it&#39;s connected to intersection types. Basically, if the element type is &quot;li&quot;, then the button prop must be set to false or undefined. If the element type is &quot;div&quot;, then the button prop must be set to true. With all of that in mind, I believe it&#39;s not correct to cast the button prop to true just FYI :) It simply shouldn&#39;t be set at all."}, {"owner": {"reputation": 3430, "user_id": 12799351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SrRYf.jpg?s=128&g=1", "display_name": "lawrence-witt", "link": "https://stackoverflow.com/users/12799351/lawrence-witt"}, "reply_to_user": {"reputation": 3907, "user_id": 3979621, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7692720b4fcc03090037f5e8f52859e5?s=128&d=identicon&r=PG&f=1", "display_name": "Honza Kalfus", "link": "https://stackoverflow.com/users/3979621/honza-kalfus"}, "edited": false, "score": 0, "creation_date": 1611422501, "post_id": 65816172, "comment_id": 116448495, "body": "Ah ok, that makes a lot more sense. The way I stumbled on this issue, I was trying to create a wrapping component which was ambivalent about the type of element that <code>ListItem</code> would create, meaning I would want to pass it either a <code>component</code> or <code>button</code> prop depending on the context. My original answer still seems like the best way to achieve that, although I&#39;m aware that casting <code>button</code> is not ideal! Possibly this is also essentially just MUI telling me not to try and do that if I want to stay type-safe, which is also a fair conclusion and something I&#39;ll have to think about."}], "tags": [], "owner": {"reputation": 3430, "user_id": 12799351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SrRYf.jpg?s=128&g=1", "display_name": "lawrence-witt", "link": "https://stackoverflow.com/users/12799351/lawrence-witt"}, "is_accepted": false, "score": 1, "last_activity_date": 1611228568, "last_edit_date": 1611228568, "creation_date": 1611170215, "answer_id": 65816172, "question_id": 58417671, "link": "https://stackoverflow.com/questions/58417671/what-is-the-correct-way-to-extend-material-ui-listitem/65816172#65816172", "title": "What is the correct way to extend Material UI ListItem?", "body": "<p>This appears to be a <a href=\"https://github.com/mui-org/material-ui/issues/14971\" rel=\"nofollow noreferrer\">well established issue</a> over on the material-ui github. Apparently it stems from using booleans to do union discrimination - I'm still new to TS so only have a general understanding of what that means!</p>\n<p>The cleanest way to get past this which I found from those threads (without overwriting <code>button</code> with explicit <code>any</code> in the component props, ew) is by casting <code>button</code> as true directly on to the <code>ListItem</code>:</p>\n<pre><code>interface MyItemProps {\n    name: string;\n    value: string;\n}\n\ntype MyListItem = ListItemProps&lt;&quot;li&quot;, MyItemProps&gt;;\n\nfunction Item({ name, value, button, ...props }: MyListItem): ReactElement {\n    return (\n        &lt;ListItem {...props} className=&quot;item&quot; button={button as true}&gt;\n            &lt;ListItemText primary={name} secondary={value || '-'} /&gt;\n        &lt;/ListItem&gt;\n    );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3907, "user_id": 3979621, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7692720b4fcc03090037f5e8f52859e5?s=128&d=identicon&r=PG&f=1", "display_name": "Honza Kalfus", "link": "https://stackoverflow.com/users/3979621/honza-kalfus"}, "is_accepted": false, "score": 1, "last_activity_date": 1611413263, "creation_date": 1611413263, "answer_id": 65860532, "question_id": 58417671, "link": "https://stackoverflow.com/questions/58417671/what-is-the-correct-way-to-extend-material-ui-listitem/65860532#65860532", "title": "What is the correct way to extend Material UI ListItem?", "body": "<p>It all boils down to how <a href=\"https://www.typescriptlang.org/docs/handbook/unions-and-intersections.html#intersection-types\" rel=\"nofollow noreferrer\">intersection types</a> work.</p>\n<p>Basically, you can have one, or the other:</p>\n<ul>\n<li>If the element type is &quot;li&quot;, then the button prop must be set to false or undefined</li>\n<li>If the element type is &quot;div&quot;, then the button prop must be set to true.</li>\n</ul>\n<p>So, in my case, because I was using &quot;li&quot; as a type parameter with the <code>ListItemProps</code> generic type, I can't just pass the <code>button</code> prop through. It must be omitted instead (or alternatively, set to false):</p>\n<pre><code>interface MyItemProps {\n    name: string;\n    value: string;\n}\n\nfunction Item({ name, value, button /* omit the prop, don't pass it down to ListItem */, ...props }: ListItemProps&lt;'li', MyItemProps&gt;): ReactElement {\n    return (\n        &lt;ListItem {...props} className=&quot;item&quot;&gt;\n            &lt;ListItemText primary={name} secondary={value || '-'} /&gt;\n        &lt;/ListItem&gt;\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 3907, "user_id": 3979621, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7692720b4fcc03090037f5e8f52859e5?s=128&d=identicon&r=PG&f=1", "display_name": "Honza Kalfus", "link": "https://stackoverflow.com/users/3979621/honza-kalfus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1611413263, "creation_date": 1571242560, "question_id": 58417671, "link": "https://stackoverflow.com/questions/58417671/what-is-the-correct-way-to-extend-material-ui-listitem", "title": "What is the correct way to extend Material UI ListItem?", "body": "<p>I'm using TypeScript 3.4.5 and Material UI 4.2 and with the following piece of code:</p>\n\n<pre><code>interface MyItemProps {\n    name: string;\n    value: string;\n}\n\nfunction Item({ name, value, ...props }: ListItemProps&lt;'li', MyItemProps&gt;): ReactElement {\n    return (\n        &lt;ListItem {...props} className=\"item\"&gt;\n            &lt;ListItemText primary={name} secondary={value || '-'} /&gt;\n        &lt;/ListItem&gt;\n    );\n}\n</code></pre>\n\n<p><strong>I'm getting <code>Type 'boolean' is not assignable to type 'true'</code> error.</strong> Why?</p>\n\n<p>I've been looking into the type definitions for <code>ListItem</code>, but I can't figure out what's going on:</p>\n\n<pre><code>export interface ListItemTypeMap&lt;P, D extends React.ElementType&gt; {\n  props: P &amp; {\n    alignItems?: 'flex-start' | 'center';\n    autoFocus?: boolean;\n    button?: boolean;\n    ContainerComponent?: React.ElementType&lt;React.HTMLAttributes&lt;HTMLDivElement&gt;&gt;;\n    ContainerProps?: React.HTMLAttributes&lt;HTMLDivElement&gt;;\n    dense?: boolean;\n    disabled?: boolean;\n    disableGutters?: boolean;\n    divider?: boolean;\n    focusVisibleClassName?: string;\n    selected?: boolean;\n  };\n  defaultComponent: D;\n  classKey: ListItemClassKey;\n}\n\ndeclare const ListItem: OverridableComponent&lt;ListItemTypeMap&lt;{ button?: false }, 'li'&gt;&gt; &amp;\n  ExtendButtonBase&lt;ListItemTypeMap&lt;{ button: true }, 'div'&gt;&gt;;\n\nexport type ListItemClassKey =\n  | 'root'\n  | 'container'\n  | 'focusVisible'\n  | 'default'\n  | 'dense'\n  | 'disabled'\n  | 'divider'\n  | 'gutters'\n  | 'button'\n  | 'secondaryAction'\n  | 'selected';\n\nexport type ListItemProps&lt;D extends React.ElementType = 'li', P = {}&gt; = OverrideProps&lt;\n  ListItemTypeMap&lt;P, D&gt;,\n  D\n&gt;;\n\nexport default ListItem;\n</code></pre>\n\n<p>The only thing that comes to my mind is \"type widening\", but I don't really know what's happening and why.</p>\n\n<p><strong>Could somebody please explain what's going on? Most importantly, what is the correct way of extending a Material UI component?</strong></p>\n"}, {"tags": ["typescript", "eslint"], "owner": {"reputation": 3658, "user_id": 1137796, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/q4LJn.jpg?s=128&g=1", "display_name": "Judson Terrell", "link": "https://stackoverflow.com/users/1137796/judson-terrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571241814, "creation_date": 1571241814, "question_id": 58417459, "link": "https://stackoverflow.com/questions/58417459/tslint-apply-multiple-rules-for-whitespace", "title": "TSLint apply multiple rules for whitespace", "body": "<p>I have the following rule in tslint.json</p>\n\n<pre><code>\"whitespace\": [true, \"check-decl\", \"check-operator\", \"check-separator\", \"check-type\"]\n</code></pre>\n\n<p>I would also like to add this: </p>\n\n<pre><code>\"whitespace\": [false, \"check-branch\"]\n</code></pre>\n\n<p>Is this possible? and if so how do i add it?</p>\n"}, {"tags": ["arrays", "typescript", "object"], "comments": [{"owner": {"reputation": 1878, "user_id": 797200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3ea6a5bb0cf74ba00148ad77e1028b6?s=128&d=identicon&r=PG", "display_name": "Torben Schramme", "link": "https://stackoverflow.com/users/797200/torben-schramme"}, "edited": false, "score": 2, "creation_date": 1571241781, "post_id": 58417344, "comment_id": 103177591, "body": "This has nothing to do with Angular / AngularJs, you should remove those tags. It&#39;s just about array handling in Javascript."}, {"owner": {"reputation": 455, "user_id": 6639464, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4u3m2BsdlJc/AAAAAAAAAAI/AAAAAAAABfc/7L_rmhYrbe8/photo.jpg?sz=128", "display_name": "Suvendu", "link": "https://stackoverflow.com/users/6639464/suvendu"}, "edited": false, "score": 0, "creation_date": 1571241838, "post_id": 58417344, "comment_id": 103177616, "body": "Initialize salesTransaction variable with an empty array [ ] and instead of assigning i.e. this.salesTransaction = element , try this.salesTransaction.push(element). Also it&#39;s a bad practice to subscribe inside a subscribe, you try using RxJs operator methods &quot;flatMap&quot; or &quot;forkJoin&quot; according to your use case."}, {"owner": {"reputation": 39, "user_id": 10728324, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qFku1BFCwlU/AAAAAAAAAAI/AAAAAAAAABg/AMNC-A6Gt_Q/photo.jpg?sz=128", "display_name": "susmita rai", "link": "https://stackoverflow.com/users/10728324/susmita-rai"}, "edited": false, "score": 0, "creation_date": 1571242459, "post_id": 58417344, "comment_id": 103177907, "body": "tq so much it worked."}], "answers": [{"tags": [], "owner": {"reputation": 1878, "user_id": 797200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3ea6a5bb0cf74ba00148ad77e1028b6?s=128&d=identicon&r=PG", "display_name": "Torben Schramme", "link": "https://stackoverflow.com/users/797200/torben-schramme"}, "is_accepted": false, "score": 1, "last_activity_date": 1571241641, "creation_date": 1571241641, "answer_id": 58417418, "question_id": 58417344, "link": "https://stackoverflow.com/questions/58417344/create-array-from-objects-in-angular-js/58417418#58417418", "title": "Create Array from objects in angular js", "body": "<p>Initialize the array above the constructor: <code>salesTransaction: SalesTransactionElement[] = []</code> </p>\n\n<p>Then push into that array in your <code>forEach</code> handler: <code>this.salesTransaction.push(element);</code></p>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 9386082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r8zC2.jpg?s=128&g=1", "display_name": "Maximiliano Escobar", "link": "https://stackoverflow.com/users/9386082/maximiliano-escobar"}, "is_accepted": false, "score": 1, "last_activity_date": 1571241856, "creation_date": 1571241856, "answer_id": 58417471, "question_id": 58417344, "link": "https://stackoverflow.com/questions/58417344/create-array-from-objects-in-angular-js/58417471#58417471", "title": "Create Array from objects in angular js", "body": "<p>Actually you are assigned an object in your array definition of SalesTransactionElement[] so you need to push a SalesTransactionElement.</p>\n\n<pre><code>export class InvoicesComponent implements OnInit {\n\n  displayedColumns: string[] = ['ProductName', 'CustomerName', 'Quantity', \n  'Rate', 'Total'];\n  id;\n  dataSource;\n\n\n  salesTransaction: SalesTransactionElement[];\n  constructor(private service: SalesTransactionsService,\n          private route: ActivatedRoute) \n  { }\n\nngOnInit() {\n\nthis.id = this.route.snapshot.paramMap.get('id');\n\nthis.service.getSalesTransaction(this.id).subscribe((singleData: any) =&gt;\n{\n  this.service.getAllSalesTransactions().subscribe((data: any) =&gt; \n  {\n    data.forEach(element =&gt; \n     {\n\n      if (singleData.CustomerName === element.CustomerName &amp;&amp; \n      element.Status === false) {\n\n        this.salesTransaction.push(element);\n      }\n\n    });\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10728324, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qFku1BFCwlU/AAAAAAAAAAI/AAAAAAAAABg/AMNC-A6Gt_Q/photo.jpg?sz=128", "display_name": "susmita rai", "link": "https://stackoverflow.com/users/10728324/susmita-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571242926, "creation_date": 1571241344, "last_edit_date": 1571242926, "question_id": 58417344, "link": "https://stackoverflow.com/questions/58417344/create-array-from-objects-in-angular-js", "title": "Create Array from objects in angular js", "body": "<p>I am new in this framework. I want to convert objects into array in angular 8. But I don't get how this work.</p>\n\n<p>Actually, I want to display multiple sales transactions of the a customer with status false. \nSo, somehow I get the values of those transaction made by the same customer as a separate different objects.\nNow, I want to convert those objects into a single array so that I can iterate them in html file through *ngFor.</p>\n\n<pre><code>  export class InvoicesComponent implements OnInit {\n\n  displayedColumns: string[] = ['ProductName', 'CustomerName', 'Quantity', \n  'Rate', 'Total'];\n  id;\n  dataSource;\n\n\n  salesTransaction: SalesTransactionElement[];\n  constructor(private service: SalesTransactionsService,\n          private route: ActivatedRoute) \n  { }\n\nngOnInit() {\n\nthis.id = this.route.snapshot.paramMap.get('id');\n\nthis.service.getSalesTransaction(this.id).subscribe((singleData: any) =&gt;\n{\n  this.service.getAllSalesTransactions().subscribe((data: any) =&gt; \n  {\n    data.forEach(element =&gt; \n     {\n\n      if (singleData.CustomerName === element.CustomerName &amp;&amp; \n      element.Status === false) {\n\n        this.salesTransaction = element;\n        console.log(this.salesTransaction);\n      }\n\n    });\n  });\n}\n</code></pre>\n\n<p>Actual Results:</p>\n\n<p>/*****Separately as two objects****/</p>\n\n<p>{SalesTranId: 54, ProductId: 10, CustomerId: 21, InvoiceId: null, ProductName: \"Asus\"}</p>\n\n<p>{SalesTranId: 51, ProductId: 17, CustomerId: 21, InvoiceId: 1, ProductName: \"Dell\"}</p>\n\n<p>Expected Results:</p>\n\n<p>/**********Array of Objects************/</p>\n\n<p>[{SalesTranId: 54, ProductId: 10, CustomerId: 21, InvoiceId: null, ProductName: \"Asus\"},</p>\n\n<p>{SalesTranId: 51, ProductId: 17, CustomerId: 21, InvoiceId: 1, ProductName: \"Dell\"}]</p>\n"}, {"tags": ["reactjs", "typescript", "react-router", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3784445, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e73c38fd5aa3a46db15ca091f10ea9?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Husted", "link": "https://stackoverflow.com/users/3784445/dylan-husted"}, "edited": false, "score": 0, "creation_date": 1572571411, "post_id": 58558149, "comment_id": 103610722, "body": "Interesting, have you tried this with <a href=\"https://ionicframework.com/docs/api/split-pane\" rel=\"nofollow noreferrer\">ion-split-pane</a>? It seems to call for <code>&lt;IonContent&gt;&lt;IonPage&gt;...&lt;IonPage&gt;&lt;&#47;IonContent&gt;</code>"}, {"owner": {"reputation": 376, "user_id": 1608510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b4d6ff355bc6a19e5ed1802a817468?s=128&d=identicon&r=PG", "display_name": "brucet", "link": "https://stackoverflow.com/users/1608510/brucet"}, "reply_to_user": {"reputation": 47, "user_id": 3784445, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e73c38fd5aa3a46db15ca091f10ea9?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Husted", "link": "https://stackoverflow.com/users/3784445/dylan-husted"}, "edited": false, "score": 1, "creation_date": 1572603731, "post_id": 58558149, "comment_id": 103618270, "body": "Yes, this still works with IonSplitPane.  See an example here: <a href=\"https://stackblitz.com/edit/react-tchkv7\" rel=\"nofollow noreferrer\">stackblitz.com/edit/react-tchkv7</a>"}], "tags": [], "owner": {"reputation": 376, "user_id": 1608510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b4d6ff355bc6a19e5ed1802a817468?s=128&d=identicon&r=PG", "display_name": "brucet", "link": "https://stackoverflow.com/users/1608510/brucet"}, "is_accepted": true, "score": 2, "last_activity_date": 1572004876, "creation_date": 1572004876, "answer_id": 58558149, "question_id": 58417143, "link": "https://stackoverflow.com/questions/58417143/multiple-layouts-in-ionic-4-react-routes/58558149#58558149", "title": "Multiple layouts in Ionic 4 React routes", "body": "<p>I've been having similar problems getting the routes to render correctly, and struggling with the limited documentation.  But I found that by rendering each route in <code>&lt;IonPage&gt;&lt;IonContent&gt;...&lt;/IonContent&gt;&lt;/IonPage&gt;</code> I could get them working.</p>\n\n<p>I believe what you are doing is the opposite, <code>&lt;IonContent&gt;&lt;IonPage&gt;...&lt;IonPage&gt;&lt;/IonContent&gt;</code>.  </p>\n\n<p>When these are switched around in your StackBlitz it seems to render correctly.  <a href=\"https://stackblitz.com/edit/react-t6oauu?file=index.js\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/react-t6oauu?file=index.js</a></p>\n\n<pre><code>    const Hello = ({history}) =&gt; {\n      return (\n        &lt;IonContent&gt;\n          &lt;h1&gt;Hello!&lt;/h1&gt;\n          &lt;IonButton onClick={() =&gt; history.push(\"/bye\")}&gt;\n            Goodbye\n          &lt;/IonButton&gt;\n        &lt;/IonContent&gt;\n      )\n    };\n</code></pre>\n\n<pre><code>      &lt;Route exact path=\"/\" render={props =&gt; (\n        &lt;IonPage&gt;\n          &lt;p&gt;Fake Header&lt;/p&gt;\n          &lt;Hello /&gt;\n        &lt;/IonPage&gt;\n      )}/&gt;\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3784445, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e73c38fd5aa3a46db15ca091f10ea9?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Husted", "link": "https://stackoverflow.com/users/3784445/dylan-husted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 928, "favorite_count": 0, "accepted_answer_id": 58558149, "answer_count": 1, "score": 2, "last_activity_date": 1572004876, "creation_date": 1571240638, "question_id": 58417143, "link": "https://stackoverflow.com/questions/58417143/multiple-layouts-in-ionic-4-react-routes", "title": "Multiple layouts in Ionic 4 React routes", "body": "<p>I'm setting up a multiple layouts app structure in an Ionic 4 React application, and running into issues with IonContent and IonRouterOutlet.</p>\n\n<p>I've used this (fairly common) React approach for multiple layouts: <a href=\"https://simonsmith.io/reusing-layouts-in-react-router-4\" rel=\"nofollow noreferrer\">https://simonsmith.io/reusing-layouts-in-react-router-4</a></p>\n\n<p>The concept is to use React Router's render function to render different layouts before the component for a route.</p>\n\n<p>In my case, I have an EmptyLayout, which looks like this:</p>\n\n<pre><code>  render() {\n    const { component: Component, ...rest } = this.props;\n\n    return (\n      &lt;Route {...rest} render={routeProps =&gt; (\n        &lt;&gt;\n          &lt;Header /&gt;\n          &lt;IonContent&gt;\n            &lt;Component {...routeProps} /&gt;\n          &lt;/IonContent&gt;\n        &lt;/&gt;\n      )} /&gt;\n    )\n  }\n};\n</code></pre>\n\n<p>In my App component, I have routing setup as follows:</p>\n\n<pre><code>  render() {\n    return (\n      &lt;IonApp&gt;\n        &lt;IonReactRouter&gt;\n          &lt;IonRouterOutlet&gt;\n            &lt;Route path=\"/\" component={Home} exact /&gt;\n            &lt;EmptyLayout path=\"/signup\" component={SignUp} exact /&gt;\n            &lt;EmptyLayout path=\"/signin\" component={SignIn} exact /&gt;\n            &lt;EmptyLayout path=\"/confirm-email\" component={ConfirmEmail} exact /&gt;\n            &lt;EmptyLayout path=\"/forgot-password\" component={ForgotPassword} exact /&gt;\n            &lt;EmptyLayout path=\"/reset-password\" component={ResetPassword} exact /&gt;\n          &lt;/IonRouterOutlet&gt;\n        &lt;/IonReactRouter&gt;\n      &lt;/IonApp&gt;\n    )\n  }\n}\n\nexport default App;\n</code></pre>\n\n<p>When navigating from /signin to /forgot-password using a React Router Link, IonContent from the SignIn component stays in the DOM, and blocks out ForgotPassword. If I remove IonContent, this issue goes away, but my header no longer renders.</p>\n\n<p>If I remove IonRouterOutlet, this issue goes away, but I lose page transitions (among other Ionic routing features). </p>\n\n<p>I've created a quick StackBlitz to illustrate this issue:\n<a href=\"https://stackblitz.com/edit/react-8sb7xz\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/react-8sb7xz</a></p>\n"}, {"tags": ["angular", "typescript", "arraylist", "splice"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "edited": false, "score": 0, "creation_date": 1571243735, "post_id": 58417548, "comment_id": 103178495, "body": "Edit: Your solution worked! Thank you. Regarding my second problem (view doesn&#39;t render), I changed my new MatTableDataSource to the following:                   this.applicationData.Items = new MatTableDataSource(this.applicationData.Items);   Now it works the first time I remove a row, but the second time I get an error in my console saying &quot;this.applicationData.Items.splice is not a function&quot;. Any solution on how to fix that problem?"}, {"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "reply_to_user": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "edited": false, "score": 1, "creation_date": 1571243903, "post_id": 58417548, "comment_id": 103178578, "body": "@GustavVingtoft - Instead of updating like that, can you update it by <code>this.applicationData.items = [...this.applicationData.items];</code> and see if it works."}, {"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "reply_to_user": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "edited": false, "score": 1, "creation_date": 1571245347, "post_id": 58417548, "comment_id": 103179227, "body": "You&#39;re welcome @GustavVingtoft. I&#39;m glad it is working."}], "tags": [], "owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "is_accepted": true, "score": 2, "last_activity_date": 1571242112, "creation_date": 1571242112, "answer_id": 58417548, "question_id": 58417085, "link": "https://stackoverflow.com/questions/58417085/remove-object-from-arraylist-displayed-in-a-mat-table-in-angular/58417548#58417548", "title": "Remove object from arraylist displayed in a mat-table in Angular", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\" rel=\"nofollow noreferrer\">splice()</a> method's first parameter is the start index, the index at which to start changing the array.</p>\n\n<p>In your code shown below, you are not passing the index as first parameter, but the value at the index.</p>\n\n<pre><code>this.applicationData.Items.splice(removeIndex[index], 1);\n</code></pre>\n\n<p>Change that statement to pass the index.</p>\n\n<pre><code>this.applicationData.Items.splice(index, 1);\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 58417548, "answer_count": 1, "score": 2, "last_activity_date": 1571242112, "creation_date": 1571240466, "last_edit_date": 1571240687, "question_id": 58417085, "link": "https://stackoverflow.com/questions/58417085/remove-object-from-arraylist-displayed-in-a-mat-table-in-angular", "title": "Remove object from arraylist displayed in a mat-table in Angular", "body": "<p>From a mat-table I wish to remove a single row. This is what my button and (click) method looks like:</p>\n\n<pre><code>    &lt;mat-cell *matCellDef=\"let element; let i = index\"&gt;\n          &lt;button mat-raised-button color=\"warn\" (click)=\"deleteApplication(i)\"&gt;\n               Delete\n          &lt;/button&gt;\n     &lt;/mat-cell&gt;\n</code></pre>\n\n<p>This is the function in my component.ts: </p>\n\n<pre><code>    deleteApplication(index: number){\n    if (index &gt; -1) {\n        let removeIndex = this.applicationData.Items;\n            this.applicationData.Items.splice(removeIndex[index], 1);\n            removeIndex = new MatTableDataSource(removeIndex);\n            console.log('new array:', removeIndex.filteredData);\n       }\n    }\n</code></pre>\n\n<p>The datasource is a arraylist from my DynamoDB database hosted on AWS. This is what the it looks like, in my console:</p>\n\n<pre><code>    {Items: Array(8), Count: 8, ScannedCount: 8}\n    Count: 8\n    Items: Array(8)\n    0: {completed: false, candidate: \"1\", application: Array(3), timestamp: 1569837830615}\n    1: {completed: false, candidate: \"2\", application: Array(3), timestamp: 1569837830615}\n    2: {completed: false, candidate: \"3\", application: Array(3), timestamp: 1569837830615}\n    3: {completed: false, candidate: \"4\", application: Array(3), timestamp: 1569837830615}\n    4: {completed: false, candidate: \"5\", application: Array(3), timestamp: 1569837830615}\n    5: {completed: false, candidate: \"6\", application: Array(3), timestamp: 1569837830615}\n    6: {completed: false, candidate: \"7\", application: Array(3), timestamp: 1569837830615}\n    7: {completed: false, candidate: \"8\", application: Array(3), timestamp: 1569837830615}\n    length: 8\n    __proto__: Array(0)\n    ScannedCount: 8\n    __proto__: Object\n</code></pre>\n\n<p>My problem is that when I hit the delete button on a given row are:</p>\n\n<ol>\n<li><p>It is always index number 0 that get removed, even if I hit a row that is not on index 0</p></li>\n<li><p>My view doesn't render, i.e the deleted row does not disappear</p></li>\n</ol>\n"}, {"tags": ["angular", "typescript", "unit-testing", "karma-jasmine"], "comments": [{"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1571247936, "post_id": 58416969, "comment_id": 103180379, "body": "OK, aside from the test issue, why don&#39;t you define the property either as an enum or as a union of allowable strings, so this can get caught at compile time?"}, {"owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1571248186, "post_id": 58416969, "comment_id": 103180483, "body": "Actually, it is defined that way (<code>type InputCase = &#39;lower&#39; | &#39;mixed&#39; | &#39;upper&#39;;</code>), but attributes assigned via HTML don&#39;t reliably get type checked."}, {"owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1571248261, "post_id": 58416969, "comment_id": 103180523, "body": "And by the way, what was your problem with my disclaimer?"}, {"owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1571248526, "post_id": 58416969, "comment_id": 103180640, "body": "Also, by using a setter that checks validity, the value can also be case-insensitive."}, {"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1571252700, "post_id": 58416969, "comment_id": 103182460, "body": "I would avoid setting values in html. If you can\u2019t avoid it, then I would not raise an exception- instead perhaps log to the console and select a sensible default. My problem with the disclaimer was that it had nothing to do with the question."}, {"owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 1, "creation_date": 1571253815, "post_id": 58416969, "comment_id": 103182939, "body": "It&#39;s a pretty important feature of Angular (and not a mis-feature) that you can create custom components and then have users use those components as they wish <i>in HTML</i>, like <code>&lt;my-input [(ngModel)]=&quot;partNumber&quot; case=&quot;upper&quot;&gt;</code>. As for raising exceptions vs. quietly failing with a console warning, there are pluses and minuses to both approaches, and in this case it&#39;s not my call anyway."}], "answers": [{"comments": [{"owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "edited": false, "score": 0, "creation_date": 1579891898, "post_id": 59900623, "comment_id": 105931497, "body": "I&#39;ve moved on from the project where I had this problem a while ago, but I should bookmark this answer to give it a try the next time I get back to doing any more Angular unit tests."}, {"owner": {"reputation": 491, "user_id": 11600174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AL-_3-R8HJs/AAAAAAAAAAI/AAAAAAAAAAA/8_3XosXTzKs/photo.jpg?sz=128", "display_name": "BooklynDadCore", "link": "https://stackoverflow.com/users/11600174/booklyndadcore"}, "reply_to_user": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "edited": false, "score": 1, "creation_date": 1579892829, "post_id": 59900623, "comment_id": 105931836, "body": "It really saved me a lot of headache this morning, so I wanted to share. Best"}, {"owner": {"reputation": 546, "user_id": 1741338, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzJ0G.jpg?s=128&g=1", "display_name": "Kieran Ryan", "link": "https://stackoverflow.com/users/1741338/kieran-ryan"}, "edited": false, "score": 0, "creation_date": 1615482330, "post_id": 59900623, "comment_id": 117710207, "body": "flush() worked for me as last instruction in unit test..  unfortunately discardPeriodicTasks() made no effect :-)"}], "tags": [], "owner": {"reputation": 491, "user_id": 11600174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AL-_3-R8HJs/AAAAAAAAAAI/AAAAAAAAAAA/8_3XosXTzKs/photo.jpg?sz=128", "display_name": "BooklynDadCore", "link": "https://stackoverflow.com/users/11600174/booklyndadcore"}, "is_accepted": false, "score": 21, "last_activity_date": 1616681809, "last_edit_date": 1616681809, "creation_date": 1579884378, "answer_id": 59900623, "question_id": 58416969, "link": "https://stackoverflow.com/questions/58416969/angular-karma-unit-test-error-1-timers-still-in-the-queue/59900623#59900623", "title": "Angular/Karma unit test error &quot;1 timer(s) still in the queue&quot;", "body": "<p>I ran into the same issue recently - to resolve I called <code>discardPeriodicTasks()</code> -from <code>@angular/core/testing</code> at the end of my <code>it</code> function and my tests passed after that.</p>\n<p>In this scenario you may want to insert it before your final <code>expect</code></p>\n<pre><code> it('should be able to change case', fakeAsync(() =&gt; {\n    expect(component).toBeTruthy();\n\n    fixture.whenStable().then(fakeAsync(() =&gt; {\n      component.case = 'lower';\n      fixture.autoDetectChanges();\n      tick(500);\n      const input = fixture.nativeElement.querySelector('input') as HTMLInputElement;\n      typeInElement('abcDEF', input);\n      fixture.autoDetectChanges();\n      tick(500);\n      expect(component.text).toEqual('abcdef');\n\n      component.case = 'upper';\n      fixture.autoDetectChanges();\n      tick(500);\n      typeInElement('abcDEF', input);\n      fixture.autoDetectChanges();\n      tick(500);\n      expect(component.text).toEqual('ABCDEF');\n\n      discardPeriodicTasks() &lt;-------------------- try here\n\n      // Everything above works fine. Here's where the trouble begins\n      expect(() =&gt; {\n        component.case = 'foo';\n        fixture.autoDetectChanges();\n        tick(500);\n      }).toThrowError(/Invalid case attribute/);\n      \n    }));\n</code></pre>\n<p><code>tick</code> acts to move the time forward in your fakeAsync context.</p>\n<p><code>flush</code> acts to simulate the completion of time in that context by draining the macrotask queue till it is empty.</p>\n<p><code>discardPeriodicTasks</code> &quot;throws out&quot; any remaining periodic tasks.</p>\n<p>They each serve different purposes and will have different use cases.</p>\n"}, {"comments": [{"owner": {"reputation": 546, "user_id": 1741338, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzJ0G.jpg?s=128&g=1", "display_name": "Kieran Ryan", "link": "https://stackoverflow.com/users/1741338/kieran-ryan"}, "edited": false, "score": 0, "creation_date": 1615482649, "post_id": 62819603, "comment_id": 117710342, "body": "FYI: whilst working with button clicks and requiring their side effects to be accounted for I stumbled upon a legitimate use case for fakeAsync!  The requirement for using tick() swung it.. in &quot;async&quot; block equivalent would have been setTimeout(()=&gt;{},0) but alongside using fixture.whenStable() more of a code bloat.."}], "tags": [], "owner": {"reputation": 7056, "user_id": 6277104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/281d013ae92cf356889bec95c6098682?s=128&d=identicon&r=PG", "display_name": "SternK", "link": "https://stackoverflow.com/users/6277104/sternk"}, "is_accepted": false, "score": 33, "last_activity_date": 1594315607, "last_edit_date": 1594315607, "creation_date": 1594312648, "answer_id": 62819603, "question_id": 58416969, "link": "https://stackoverflow.com/questions/58416969/angular-karma-unit-test-error-1-timers-still-in-the-queue/62819603#62819603", "title": "Angular/Karma unit test error &quot;1 timer(s) still in the queue&quot;", "body": "<p>I have faced with the similar problem. The solution was <a href=\"https://angular.io/api/core/testing/flush\" rel=\"noreferrer\">flush</a> function usage.</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { fakeAsync, flush } from '@angular/core/testing';\n\nit('test something', fakeAsync(() =&gt; {\n\n  // ...\n\n  flush();\n}));\n</code></pre>\n"}], "owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20091, "favorite_count": 1, "answer_count": 2, "score": 20, "last_activity_date": 1616681809, "creation_date": 1571240093, "last_edit_date": 1571248926, "question_id": 58416969, "link": "https://stackoverflow.com/questions/58416969/angular-karma-unit-test-error-1-timers-still-in-the-queue", "title": "Angular/Karma unit test error &quot;1 timer(s) still in the queue&quot;", "body": "<p>This is hardly first encounter I've had with <code>\"1 timer(s) still in the queue\"</code>, but usually I find some way to use <code>tick()</code> or <code>detectChanges()</code>, etc., to get out of it.</p>\n\n<p>The test below was working fine until I tried to test for a condition that I know should throw an exception:</p>\n\n<pre><code>  it('should be able to change case', fakeAsync(() =&gt; {\n    expect(component).toBeTruthy();\n\n    fixture.whenStable().then(fakeAsync(() =&gt; {\n      component.case = 'lower';\n      fixture.autoDetectChanges();\n      tick(500);\n      const input = fixture.nativeElement.querySelector('input') as HTMLInputElement;\n      typeInElement('abcDEF', input);\n      fixture.autoDetectChanges();\n      tick(500);\n      expect(component.text).toEqual('abcdef');\n\n      component.case = 'upper';\n      fixture.autoDetectChanges();\n      tick(500);\n      typeInElement('abcDEF', input);\n      fixture.autoDetectChanges();\n      tick(500);\n      expect(component.text).toEqual('ABCDEF');\n\n      // Everything above works fine. Here's where the trouble begins\n      expect(() =&gt; {\n        component.case = 'foo';\n        fixture.autoDetectChanges();\n        tick(500);\n      }).toThrowError(/Invalid case attribute/);\n    }));\n  }));\n</code></pre>\n\n<p>What I'm testing is an Angular component that's a wrapper around a Material input field. The component has many optional attributes, most of them just pass-through attributes for common input field features, but a few custom attributes too, like the one I'm testing above for upper-/lowercase conversion.</p>\n\n<p>The acceptable values for the <code>case</code> attribute are <code>upper</code>, <code>lower</code>, and <code>mixed</code> (with empty string, null, or undefined treated as <code>mixed</code>). The component should throw an exception for anything else. Apparently it does, and the test succeeds, but along with the success I get:</p>\n\n<pre><code>ERROR: 'Unhandled Promise rejection:', '1 timer(s) still in the queue.', '; Zone:', 'ProxyZone', '; Task:', 'Promise.then', '; Value:', Error: 1 timer(s) still in the queue.\nError: 1 timer(s) still in the queue.\n   ...\n</code></pre>\n\n<p>Can anyone tell me what I might be doing wrong, or a good way to flush out lingering timers?</p>\n\n<p>Disclaimer: A big problem when I go looking for help with Karma unit tests is that, even when I explicitly search for \"karma\", I mostly find answers for Pr0tractor, Pr0tractor, and more Pr0tractor. This isn't Pr0tractor! (Deliberately misspelled with a zero so it doesn't get search matches.)</p>\n\n<p>UPDATE: I can work around my problem like this:</p>\n\n<pre><code>      expect(() =&gt; {\n        component.inputComp.case = 'foo';\n      }).toThrowError(/Invalid camp-input case attribute/);\n</code></pre>\n\n<p>This isn't as good of a test as assigning the (bad) value via an HTML attribute in the test component's template, because I'm just forcing the value directly into the component's setter for the attribute itself, but it'll do until I have a better solution.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ngx-chips"], "comments": [{"owner": {"reputation": 329, "user_id": 3690970, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zO9RA.jpg?s=128&g=1", "display_name": "ptesser", "link": "https://stackoverflow.com/users/3690970/ptesser"}, "edited": false, "score": 0, "creation_date": 1571239479, "post_id": 58416723, "comment_id": 103176416, "body": "Do you click on the chip added? <code>onSelect</code> is trigger when you click on a chip already added not when you select an item from the list."}, {"owner": {"reputation": 181, "user_id": 11538247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS921.png?s=128&g=1", "display_name": "20.miles", "link": "https://stackoverflow.com/users/11538247/20-miles"}, "reply_to_user": {"reputation": 329, "user_id": 3690970, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zO9RA.jpg?s=128&g=1", "display_name": "ptesser", "link": "https://stackoverflow.com/users/3690970/ptesser"}, "edited": false, "score": 0, "creation_date": 1571239721, "post_id": 58416723, "comment_id": 103176539, "body": "If i click on the chip added it works. You are right. But what I wanted was that on item selected from dropdown starts the function"}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 11538247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS921.png?s=128&g=1", "display_name": "20.miles", "link": "https://stackoverflow.com/users/11538247/20-miles"}, "edited": false, "score": 0, "creation_date": 1571240294, "post_id": 58416882, "comment_id": 103176855, "body": "Thank you. Everything works properly now. The problem is that on the onAdded I try to open a modal window and I get this error:   ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: &#39;ng2-tag-input--focused: true&#39;. Current value: &#39;ng2-tag-input--focused: false&#39;."}, {"owner": {"reputation": 4538, "user_id": 1891625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa90a359777096c15258e207b3cb8b6c?s=128&d=identicon&r=PG", "display_name": "Vandesh", "link": "https://stackoverflow.com/users/1891625/vandesh"}, "reply_to_user": {"reputation": 181, "user_id": 11538247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS921.png?s=128&g=1", "display_name": "20.miles", "link": "https://stackoverflow.com/users/11538247/20-miles"}, "edited": false, "score": 1, "creation_date": 1571240548, "post_id": 58416882, "comment_id": 103176987, "body": "Usually, <code>ExpressionChangedAfterItHasBeenCheckedError</code> are the nastiest to debug. But most of the times it would narrow down to you changing some value that is already being changed by a library. Should be another question with a lot more context, though."}], "tags": [], "owner": {"reputation": 4538, "user_id": 1891625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa90a359777096c15258e207b3cb8b6c?s=128&d=identicon&r=PG", "display_name": "Vandesh", "link": "https://stackoverflow.com/users/1891625/vandesh"}, "is_accepted": true, "score": 3, "last_activity_date": 1571239793, "creation_date": 1571239793, "answer_id": 58416882, "question_id": 58416723, "link": "https://stackoverflow.com/questions/58416723/angular-onselected-function-not-works-on-tag-input/58416882#58416882", "title": "Angular - OnSelected function not works on tag-input", "body": "<p>I think you're just confusing between <code>onAdd</code> and <code>onSelect</code> events. Probably what you're looking for is the <code>onAdd</code> event of <code>ngx-chips</code>. Here's a link to the <a href=\"https://www.npmjs.com/package/ngx-chips#outputs-optional\" rel=\"nofollow noreferrer\">documentation</a> for all the output events.</p>\n\n<pre><code>&lt;tag-input [ngModel]=\"[]\" (onAdd)=\"onAdded($event)\" (onSelect)=\"onSelected($event)\" (onRemove)=\"onItemRemoved($event)\"&gt;\n    &lt;tag-input-dropdown\n      [autocompleteItems]=\"items\"\n      [showDropdownIfEmpty]=\"true\"\n      [dynamicUpdate]=\"false\"            \n    &gt;\n    &lt;/tag-input-dropdown&gt;\n  &lt;/tag-input&gt;\n</code></pre>\n\n<p>And the TS - </p>\n\n<pre><code>onAdded($event: any) {\n    console.log(\"Fire Added\");\n  }\n</code></pre>\n\n<p>Here's <a href=\"https://stackblitz.com/edit/angular-u7kvyp\" rel=\"nofollow noreferrer\">a Stackblitz for demo</a></p>\n\n<p>if you see the Stackblitz, your <code>onSelect</code> works fine as well. It's just an event which is fired when you click on the tag after it has been added to the input. Confusing naming, I know.</p>\n"}], "owner": {"reputation": 181, "user_id": 11538247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS921.png?s=128&g=1", "display_name": "20.miles", "link": "https://stackoverflow.com/users/11538247/20-miles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "accepted_answer_id": 58416882, "answer_count": 1, "score": 1, "last_activity_date": 1571239793, "creation_date": 1571239226, "question_id": 58416723, "link": "https://stackoverflow.com/questions/58416723/angular-onselected-function-not-works-on-tag-input", "title": "Angular - OnSelected function not works on tag-input", "body": "<p>I'm using ngx-chips, but I can't implement the OnSelected function.</p>\n\n<p>In my app.component.html I have this:</p>\n\n<pre><code>&lt;div class=\"force-to-the-bottom\"&gt;\n  &lt;tag-input [ngModel]=\"[]\" \n  (onSelect)=\"onSelected($event)\"\n  (onRemove)=\"onItemRemoved($event)\"&gt;\n    &lt;tag-input-dropdown\n      [autocompleteItems]=\"items\"\n      [showDropdownIfEmpty]=\"true\"\n      [dynamicUpdate]=\"false\"            \n    &gt;\n    &lt;/tag-input-dropdown&gt;\n  &lt;/tag-input&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In my app.component.ts the functions are implemented in this simple way:</p>\n\n<pre><code>  onSelected($event: any) {\n    console.log(\"Fire Selected\");\n  }\n\n  onItemRemoved($event: any) {\n    console.log(\"Fire Removed\");\n  }\n</code></pre>\n\n<p>The very strange thing is that onItemRemoved works properly, while onSelected not fire.</p>\n\n<p>This is my <a href=\"https://stackblitz.com/edit/angular-ye2n9g\" rel=\"nofollow noreferrer\">StackBlitz</a></p>\n\n<p>I can't understand what I'm doing wrong.</p>\n\n<p>Can someone help me?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 85, "user_id": 1741622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5x7GJ.jpg?s=128&g=1", "display_name": "Jeremie-Segu", "link": "https://stackoverflow.com/users/1741622/jeremie-segu"}, "edited": false, "score": 0, "creation_date": 1571242409, "post_id": 58416667, "comment_id": 103177878, "body": "I changed .snapshotChanges() with valueChanges() and now i can get back the values with concat, merge or combineLatest"}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 1741622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5x7GJ.jpg?s=128&g=1", "display_name": "Jeremie-Segu", "link": "https://stackoverflow.com/users/1741622/jeremie-segu"}, "is_accepted": false, "score": 0, "last_activity_date": 1571242422, "creation_date": 1571242422, "answer_id": 58417630, "question_id": 58416667, "link": "https://stackoverflow.com/questions/58416667/combinelatest-for-multiple-queries-with-firestore/58417630#58417630", "title": "CombineLatest for multiple queries with Firestore", "body": "<pre><code> getAnnonces(limit){\n    const requete1 = this.firestore.collection('annonce', ref =&gt; ref\n    .where(\"secteurActivite\",\"==\", \"Banque\")\n    .where(\"departement\",\"==\", \"Rh\u00f4ne\")\n    .orderBy(\"date\")\n    .limit(limit)).valueChanges()\n\n    const requete2 = this.firestore.collection('annonce', ref =&gt; ref\n    .where(\"secteurActivite\",\"==\", \"Finance\")\n    .where(\"departement\",\"==\", \"Is\u00e8re\")\n    .orderBy(\"date\")\n    .limit(limit)).valueChanges()\n\n    merge(requete1, requete2).subscribe(console.log);\n\n    }//END GETANNONCES\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 1741622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5x7GJ.jpg?s=128&g=1", "display_name": "Jeremie-Segu", "link": "https://stackoverflow.com/users/1741622/jeremie-segu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571242422, "creation_date": 1571239043, "question_id": 58416667, "link": "https://stackoverflow.com/questions/58416667/combinelatest-for-multiple-queries-with-firestore", "title": "CombineLatest for multiple queries with Firestore", "body": "<p>it want to create multiple queries for Firestore to be able to combined observables to one. I use the snapshotChanges for Firestore (angularFire), then the combineLatest to group both. I have this error on TypeScript, and i am not able to get back both values on an Array, without using Payload :\nProperty 'payload' does not exist on type 'DocumentChangeAction[]'.ts(2339)</p>\n\n<pre><code>getAnnonces(limit){\n    const requete1 = this.firestore.collection('annonce', ref =&gt; ref\n    .where(\"secteurActivite\",\"==\", \"Banque\")\n    .where(\"departement\",\"==\", \"Rh\u00f4ne\")\n    .orderBy(\"date\")\n    .limit(limit)).snapshotChanges();\n\n    const requete2 = this.firestore.collection('annonce', ref =&gt; ref\n    .where(\"secteurActivite\",\"==\", \"Finance\")\n    .where(\"departement\",\"==\", \"Is\u00e8re\")\n    .orderBy(\"date\")\n    .limit(limit)).snapshotChanges();\n\n    const values = combineLatest(requete1, requete2)\n    .subscribe(\n      responseData =&gt; {\n          this.tabTest = responseData.map(item =&gt; {\n            return {\n              id : item.payload.doc.id,\n              titre :  item.payload.doc.get('titre'),\n              secteurAct : item.payload.doc.get('secteurActivite'),\n              departement : item.payload.doc.get('departement'),\n              region : item.payload.doc.get('region'),\n              description : item.payload.doc.get('description'),\n              infosClefs : item.payload.doc.get('name'),\n            };\n          })\n      });\n\n    }//END GETANNONCES\n</code></pre>\n"}, {"tags": ["typescript", "import", "interface"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1571238870, "post_id": 58416549, "comment_id": 103176039, "body": "What is the <code>DownConstructor</code> interface for? And if you&#39;re trying to use the features of <code>Down</code>, why not import <code>Down</code>?"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1571239674, "post_id": 58416549, "comment_id": 103176518, "body": "Stack Overflow is a <b>very</b> active place. When you post a question (or answer!), it&#39;s best to <i>stick around</i> for a few minutes so you can respond to anything that comes up in the comments."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12106800"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1571240029, "post_id": 58416549, "comment_id": 103176694, "body": "yep, I tried to import <code>Down</code>, if I do so it is asking for arguments"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1571240331, "post_id": 58416549, "comment_id": 103176882, "body": "What &quot;it&quot;? Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and a copy-and-paste of the error you&#39;re getting."}], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 0, "last_activity_date": 1571238980, "creation_date": 1571238980, "answer_id": 58416646, "question_id": 58416549, "link": "https://stackoverflow.com/questions/58416549/how-to-import-constructor-in-ts-file/58416646#58416646", "title": "How to import constructor in ts file", "body": "<p>You don't need to define <code>DownConstructor</code> separately unless you have some specific reason for doing so you haven't mentioned. The usual thing here would be to simply define and export <code>Down</code>:</p>\n\n<pre><code>export class Down {\n    // ...\n}\n</code></pre>\n\n<p>then import and use it:</p>\n\n<pre><code>import { Down } from \"./path/to/Down\";\n\n// ...\n\nconst d = new Down();\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12106800"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 58416646, "answer_count": 1, "score": 0, "last_activity_date": 1571238980, "creation_date": 1571238702, "question_id": 58416549, "link": "https://stackoverflow.com/questions/58416549/how-to-import-constructor-in-ts-file", "title": "How to import constructor in ts file", "body": "<p>I want to use the features present in Down class in another file, How to import them ? I tried to import it like this in my 2nd file <code>import {DownConstructor } from \"../../folder1/folder2/file.ts\";</code> path is perfect but when i use DownConstructor to fetch data it says <code>\"DownConstructor\" only refers to a type, but is being used as a variable here</code></p>\n\n<pre><code>  export interface DownConstructor {\n        new(): Down;\n    }\n\nexport class Down{....}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-router", "axios"], "comments": [{"owner": {"reputation": 47791, "user_id": 2030321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ALZ1w.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2030321/chris"}, "edited": false, "score": 0, "creation_date": 1571238626, "post_id": 58416502, "comment_id": 103175892, "body": "<code>displays the introduced name and password in the URL</code> - sounds like a GET request is being made instead of POST"}, {"owner": {"reputation": 13, "user_id": 12227372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eea05573a91c246c629db41288e18eaa?s=128&d=identicon&r=PG&f=1", "display_name": "Martzu", "link": "https://stackoverflow.com/users/12227372/martzu"}, "reply_to_user": {"reputation": 47791, "user_id": 2030321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ALZ1w.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2030321/chris"}, "edited": false, "score": 0, "creation_date": 1571241926, "post_id": 58416502, "comment_id": 103177651, "body": "from other threads that I read, the error(get instead of post) happens due to having a &quot;/&quot; in the url that I send a request, but the url is correct, if i send  from postman, it works no problem. The problem still persists in front-end."}], "answers": [{"tags": [], "owner": {"reputation": 4674, "user_id": 7612556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wowy7.png?s=128&g=1", "display_name": "Serban Petrescu", "link": "https://stackoverflow.com/users/7612556/serban-petrescu"}, "is_accepted": true, "score": 0, "last_activity_date": 1571308230, "creation_date": 1571308230, "answer_id": 58430467, "question_id": 58416502, "link": "https://stackoverflow.com/questions/58416502/react-typescript-log-in-doesnt-send-request-but-re-renders-main-component/58430467#58430467", "title": "React Typescript Log in doesn&#39;t send request but re renders main component", "body": "<p>This happens because the form defined in your <code>Login.tsx</code> file is submitted.</p>\n\n<p>Html forms are an alternative, older way of triggering requests in a web application. Unlike AJAX calls (like the ones that you attempted to make using axios), form submits cause the browser to load a new page, hence all your JS context is lost. </p>\n\n<p>Html forms have an <code>action</code>, which is the URL where the request is executed, and a <code>method</code>, which is the HTTP method used to do the request. The <code>action</code> is by default the current URL, whereas the <code>method</code> is by default <code>GET</code> (can also be <code>POST</code>).</p>\n\n<p>These forms can be used to send data with the request. These values are taken from the input fields inside the <code>form</code> tag. With a <code>GET</code> form submit, the data is sent via URL parameters. Each parameter name is taken from the <code>name</code> attribute of each contained input field.</p>\n\n<p>All this explains why your app reloads the page when you click the button, because the form is submitted, causing a GET request on the / URL, with the username and password parameters in the URL. The <code>onClick</code> event is never triggered, so the <code>login</code> function is never called, because the page is being reloaded (so the JS context is gone).</p>\n\n<p>To prevent this, simply change the button type from <code>submit</code> to <code>button</code> or do a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault\" rel=\"nofollow noreferrer\"><code>preventDefault</code></a> call on the event object received in the <code>onClick</code> event.</p>\n"}], "owner": {"reputation": 13, "user_id": 12227372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eea05573a91c246c629db41288e18eaa?s=128&d=identicon&r=PG&f=1", "display_name": "Martzu", "link": "https://stackoverflow.com/users/12227372/martzu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58430467, "answer_count": 1, "score": 1, "last_activity_date": 1571308230, "creation_date": 1571238533, "question_id": 58416502, "link": "https://stackoverflow.com/questions/58416502/react-typescript-log-in-doesnt-send-request-but-re-renders-main-component", "title": "React Typescript Log in doesn&#39;t send request but re renders main component", "body": "<p>I got a problem in react. After I press the sign in button, the axios call from the function attached to the button, sends the request sometimes to the back-end (tested to see if it is problem from spring, but with postman it works perfectly every time) but when send from front end it doesn't always reach back-end. Furthermore, in front, it re-renders and displays the introduced name and password in the URL.\nAny ideas why? Also, if I insist with the calls for some time, it will magically change the url in front end and display correctly in the back end. I got a break-point in the promise, but it never reaches there. \nBelow is my front-end, App.tsx, Login.tsx and Doctor.tsx.</p>\n\n<pre><code>Login.tsx\n\nimport React from 'react';\nimport './App.css';\nimport Login from './components/Login';\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport {Route, Switch} from \"react-router\";\nimport DoctorMainPage from './components/Doctor';\nimport {BrowserRouter} from \"react-router-dom\";\n\n\nconst App: React.FC = () =&gt; {\n  return (\n          &lt;&gt;\n                  &lt;BrowserRouter&gt;\n                      &lt;Switch&gt;\n                          &lt;Route exact path = \"/\" component={Login}/&gt;\n                          &lt;Route exact path = \"/doctor\" component={DoctorMainPage}/&gt;\n                      &lt;/Switch&gt;\n                  &lt;/BrowserRouter&gt;\n          &lt;/&gt;\n\n  );\n};\n\nexport default App;\n</code></pre>\n\n<pre><code>Login.tsx\n\nimport React, {useEffect, useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport {Paper} from \"@material-ui/core\";\nimport useRouter from \"use-react-router\";\nimport appState from \"../store/state\";\nimport actions from \"../actions/actions\";\nimport axios from 'axios';\nimport {observer} from \"mobx-react\";\n\n\nconst useStyles = makeStyles(theme =&gt; ({\n    '@global': {\n        body: {\n            backgroundColor: theme.palette.common.white,\n        },\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2)\n    },\n}));\n\nconst SignIn = (function SignIn() {\n\n    useEffect(() =&gt;\n        {\n            setPassword(\"\");\n            setUsername(\"\");\n        },\n        []\n    );\n\n    debugger;\n    const login = () =&gt; {\n        debugger;\n      axios.post(\"http://localhost:8080/login\", {\n          username: username,\n          password: password\n      }).then((response) =&gt; {\n          debugger;\n          console.log(response.data);\n          history.push(\"/doctor\");\n      });\n    };\n\n    const {history, location, match} = useRouter();\n    const classes = useStyles();\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const isValid = () =&gt; {\n        return username.length &gt; 0 &amp;&amp; password.length &gt; 0\n    };\n    return (\n        &lt;&gt;\n\n\n            &lt;Container component=\"main\" maxWidth=\"xs\"&gt;\n\n                &lt;Paper className={classes.paper}&gt;\n                    &lt;Avatar className={classes.avatar}&gt;\n                        &lt;LockOutlinedIcon /&gt;\n                    &lt;/Avatar&gt;\n                    &lt;Typography component=\"h1\" variant=\"h5\"&gt;\n                        Sign in\n                    &lt;/Typography&gt;\n                    &lt;form className={classes.form} noValidate&gt;\n                        &lt;TextField onChange={(e) =&gt; setUsername(e.target.value)}\n                                   variant=\"outlined\"\n                                   margin=\"normal\"\n                                   required\n                                   fullWidth\n                                   id=\"username\"\n                                   label=\"Username\"\n                                   name=\"username\"\n                                   autoComplete=\"username\"\n                                   autoFocus\n                        /&gt;\n                        &lt;TextField onChange={(e) =&gt; setPassword(e.target.value)}\n                                   variant=\"outlined\"\n                                   margin=\"normal\"\n                                   required\n                                   fullWidth\n                                   name=\"password\"\n                                   label=\"Password\"\n                                   type=\"password\"\n                                   id=\"password\"\n                                   autoComplete=\"current-password\"\n                        /&gt;\n                        &lt;FormControlLabel\n                            control={&lt;Checkbox value=\"remember\" color=\"primary\" /&gt;}\n                            label=\"Remember me\"\n                        /&gt;\n                        &lt;Button disabled={!isValid()} onClick={() =&gt; login()}\n                                type=\"submit\"\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                className={classes.submit}\n                        &gt;\n                            Sign In\n                        &lt;/Button&gt;\n                    &lt;/form&gt;\n                &lt;/Paper&gt;\n            &lt;/Container&gt;\n\n        &lt;/&gt;\n\n    );\n});\n\nexport default SignIn;\n</code></pre>\n\n<pre><code>Doctor.tsx\n\n\nimport AppBarWithMenu from './AppBarWithMenu';\nimport {Paper} from \"@material-ui/core\";\nimport * as React from \"react\";\nimport PacientsTable from './Table';\nimport appState from \"../store/state\";\nimport {observer} from \"mobx-react\";\nimport Button from \"@material-ui/core/Button\";\nimport useRouter from \"use-react-router\";\nimport {useEffect} from \"react\";\nimport useReactRouter from 'use-react-router';\n\nconst DoctorMainPage = observer(function DoctorMainPage(){\n\n    const {history, location, match} = useReactRouter();\n\n    return (\n        &lt;Paper&gt;\n            &lt;AppBarWithMenu/&gt;\n            &lt;PacientsTable/&gt;\n            &lt;Button onClick={() =&gt; history.push(\"/\")}&gt;\n                Logout\n            &lt;/Button&gt;\n        &lt;/Paper&gt;\n    );\n});\n\nexport default DoctorMainPage;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2NvOx.png\" rel=\"nofollow noreferrer\">Username and password appears top, in the url</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 871, "user_id": 5726242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3hP6.jpg?s=128&g=1", "display_name": "RTYX", "link": "https://stackoverflow.com/users/5726242/rtyx"}, "edited": false, "score": 0, "creation_date": 1571238636, "post_id": 58416466, "comment_id": 103175899, "body": "Could you provide a <code>stackblitz</code> with an example? As phrased currently, it&#39;s hard to understand the issue."}, {"owner": {"reputation": 19, "user_id": 12040483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d428c70eac4176e5d28bbf170287f8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Farhan Malik", "link": "https://stackoverflow.com/users/12040483/farhan-malik"}, "reply_to_user": {"reputation": 871, "user_id": 5726242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3hP6.jpg?s=128&g=1", "display_name": "RTYX", "link": "https://stackoverflow.com/users/5726242/rtyx"}, "edited": false, "score": 0, "creation_date": 1571240074, "post_id": 58416466, "comment_id": 103176712, "body": "okay let me do it"}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 12040483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d428c70eac4176e5d28bbf170287f8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Farhan Malik", "link": "https://stackoverflow.com/users/12040483/farhan-malik"}, "is_accepted": true, "score": 0, "last_activity_date": 1571297253, "creation_date": 1571297253, "answer_id": 58427127, "question_id": 58416466, "link": "https://stackoverflow.com/questions/58416466/mat-card-click-is-not-getting-the-value-of-checkbox/58427127#58427127", "title": "mat-card click is not getting the value of checkbox", "body": "<p>Well I tried it and got a solution of it.\nHere is the solution.</p>\n\n<pre><code>&lt;div fxLayout=\"row\" fxlayout.sm=\"column\" fxLayout.xs=\"column\" fxLayoutAlign=\"center center\" fxLayoutGap=\"10px\"&gt;\n\n                    &lt;mat-card [ngStyle]=\"{'background': admin? 'rgba(45, 45, 45, 0.5)':'bottom'}\" class=\"role-card\" class=\"card-style\" style=\"background: bottom\"&gt;\n                      &lt;img mat-card-image src=\"../assets/admin_logo.png\"&gt;\n                      &lt;mat-checkbox class=\"checkboxStyle\" [(ngModel)]=\"admin\" color='primary' (change)=\"onRoleChange($event)\" value=\"admin\" [ngModelOptions]=\"{standalone: true}\"&gt;&lt;/mat-checkbox&gt;\n                    &lt;/mat-card&gt;\n\n                    &lt;mat-card [ngStyle]=\"{'background': employee? 'rgba(45, 45, 45, 0.5)':'bottom'}\" class=\"role-card\" class=\"card-style\" style=\"background: bottom\"&gt;\n                        &lt;img mat-card-image src=\"../assets/employee_logo.png\"&gt;\n                        &lt;mat-checkbox class=\"checkboxStyle\" [(ngModel)]=\"employee\" color='primary'  (change)=\"onRoleChange($event)\" value=\"employee\" [ngModelOptions]=\"{standalone: true}\"&gt;&lt;/mat-checkbox&gt;\n                    &lt;/mat-card&gt;\n\n                    &lt;mat-card [ngStyle]=\"{'background': customer? 'rgba(45, 45, 45, 0.5)':'bottom'}\" class=\"role-card\"  class=\"card-style\" style=\"background: bottom\"&gt;\n                        &lt;img mat-card-image src=\"../assets/customer_logo.png\"&gt;\n                        &lt;mat-checkbox class=\"checkboxStyle\" [(ngModel)]=\"customer\" color='primary'  (change)=\"onRoleChange($event)\" value=\"customer\" [ngModelOptions]=\"{standalone: true}\"&gt;&lt;/mat-checkbox&gt;\n                    &lt;/mat-card&gt;\n                &lt;/div&gt;\n</code></pre>\n\n<p>And in the TS file i wrote a function and a RoleChange Event</p>\n\n<pre><code>onRoleChange(event) {\n      console.log('on role change');\n      const roles = &lt;FormArray&gt;this.roleFormGroup.get('roles') as FormArray;\n      if(event.checked) {\n        roles.push(new FormControl(event.source.value));\n      } else {\n        const i = roles.controls.findIndex(x =&gt; x.value === event.source.value);\n        roles.removeAt(i);\n      }\n    }\n\n    selectRole(val){\n      console.log('on select change');\n      const roles = &lt;FormArray&gt;this.roleFormGroup.get('roles') as FormArray;\n      if(val == 'admin'){\n        this.admin =! this.admin;\n        if(this.admin)\n          roles.push(new FormControl(val))\n      }else if(val == 'employee'){\n        this.employee =! this.employee;\n        if(this.employee)\n         roles.push(new FormControl(val))\n      }else{\n        this.customer =! this.customer;\n        if(this.customer)\n          roles.push(new FormControl(val))\n      }\n\n    }\n</code></pre>\n\n<p>Simply click on matcard checks the checkbox as gets the value in form array.</p>\n"}], "owner": {"reputation": 19, "user_id": 12040483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d428c70eac4176e5d28bbf170287f8b3?s=128&d=identicon&r=PG&f=1", "display_name": "Farhan Malik", "link": "https://stackoverflow.com/users/12040483/farhan-malik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 58427127, "answer_count": 1, "score": 0, "last_activity_date": 1571304111, "creation_date": 1571238375, "last_edit_date": 1571304111, "question_id": 58416466, "link": "https://stackoverflow.com/questions/58416466/mat-card-click-is-not-getting-the-value-of-checkbox", "title": "mat-card click is not getting the value of checkbox", "body": "<p><a href=\"https://i.stack.imgur.com/KnGHo.png\" rel=\"nofollow noreferrer\">Database array of roles</a></p>\n\n<p>I added a checkbox inside a mat-card. On Checkbox click, I am getting the value of checkbox. But when I am adding the click event on the mat-card, the checkbox gets checked but does not gives me any value. And I am storing the value of checkbox in an array.</p>\n\n<p>I tried this. Basically I have to get roles in an array.</p>\n\n<p>Click function on mat card <code>(click)=\"Roles()\"</code>.</p>\n\n<pre><code>&lt;mat-card (click)=\"Roles()\" [ngStyle]=\"{'background': admin? 'rgba(45, 45, 45, 0.5)':'bottom'}\" class=\"role-card\" class=\"card-style\" style=\"background: bottom\"&gt;\n      &lt;img mat-card-image src=\"../assets/admin_logo.png\"&gt;\n      &lt;mat-checkbox class=\"checkboxStyle\" [(ngModel)]=\"admin\" color='primary' (change)=\"onRoleChange($event)\" value=\"admin\" [ngModelOptions]=\"{standalone: true}\"&gt;\n      &lt;/mat-checkbox&gt;\n&lt;/mat-card&gt;\n\n\nRoles(){\n  this.admin = !this.admin;\n  return false\n}\n\nonRoleChange(event) {\n  const roles = &lt;FormArray&gt;this.roleFormGroup.get('roles') as FormArray;\n  if(event.checked) {\n    roles.push(new FormControl(event.source.value))\n  } else {\n    const i = roles.controls.findIndex(x =&gt; x.value === event.source.value);\n    roles.removeAt(i);\n  }\n}\n</code></pre>\n\n<p>I am not getting error messages, just on mat-card click I am unable to get the value of the checkbox.</p>\n\n<p>On <code>onRoleChange</code> trigger is basically an event trigger on checkbox.</p>\n"}, {"tags": ["typescript", "enums"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1571237038, "post_id": 58415981, "comment_id": 103174852, "body": "I&#39;d say an enum, since it&#39;s more expressive for <i>why</i> you need it. A class with static properties isn&#39;t self-explanatory. But the right approach can vary, too."}, {"owner": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "edited": false, "score": 0, "creation_date": 1571237265, "post_id": 58415981, "comment_id": 103174991, "body": "You can&#39;t have a function take in a static field of a class. It can, however, take in any member of an enum."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1571237282, "post_id": 58415981, "comment_id": 103175008, "body": "@VLAZ Here I just need to maintain a <code>type safety</code> for the variables."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1571237375, "post_id": 58415981, "comment_id": 103175075, "body": "@Sampath OK, so which one is more typesafe: a) an enum <code>myVar: LocalStorage</code> or b) a static string <code>myVar: string</code>"}, {"owner": {"reputation": 554, "user_id": 3143987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf70182ea295ab466210a6f9db15dfc7?s=128&d=identicon&r=PG&f=1", "display_name": "vipul patel", "link": "https://stackoverflow.com/users/3143987/vipul-patel"}, "edited": false, "score": 4, "creation_date": 1571237414, "post_id": 58415981, "comment_id": 103175100, "body": "<b>enum</b> is logical grouping of  your constants . Let&#39;s say you want to use different color. Then you make color enum consist of all colors value defined.  Lets say account type which consist value of current, saving, loan, recurring. Its   logical grouping. <b>Constant</b> you can define for anything. Now you have to make sure that your enum name has anything to do with logical grouping? Enum name is  LocalStorage but values underneath does not justify as enum"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 554, "user_id": 3143987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf70182ea295ab466210a6f9db15dfc7?s=128&d=identicon&r=PG&f=1", "display_name": "vipul patel", "link": "https://stackoverflow.com/users/3143987/vipul-patel"}, "edited": false, "score": 0, "creation_date": 1571237686, "post_id": 58415981, "comment_id": 103175294, "body": "@vipulpatel Yes, I agree with you. I hope you can put this as an answer too. That will give more visibility."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1571237698, "post_id": 58415981, "comment_id": 103175304, "body": "As you likely know, asking for &quot;which approach is better&quot; is &quot;bad subjective&quot; on Stack Overflow and therefore off topic. If you can <a href=\"https://stackoverflow.com/posts/58415981/edit\">edit</a> your question to concentrate on something objectively measurable, you might be able to keep the question from being closed."}, {"owner": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "edited": false, "score": 0, "creation_date": 1571238028, "post_id": 58415981, "comment_id": 103175520, "body": "Which one is better is definitely subjective, but how they differ is answerable. Closing this question seems like a bit of a stretch when editing out a couple words would suffice."}, {"owner": {"reputation": 554, "user_id": 3143987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf70182ea295ab466210a6f9db15dfc7?s=128&d=identicon&r=PG&f=1", "display_name": "vipul patel", "link": "https://stackoverflow.com/users/3143987/vipul-patel"}, "edited": false, "score": 0, "creation_date": 1571239053, "post_id": 58415981, "comment_id": 103176147, "body": "@Sampath I did put as answer. Hope you can vote :)"}], "answers": [{"comments": [{"owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "edited": false, "score": 0, "creation_date": 1571238532, "post_id": 58416163, "comment_id": 103175830, "body": "I like both current answers. This one I think is the better approach 99.528% of the time, but how it&#39;s packed is interesting so I also like the @ethane answer."}], "tags": [], "owner": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "is_accepted": false, "score": 3, "last_activity_date": 1571237426, "creation_date": 1571237426, "answer_id": 58416163, "question_id": 58415981, "link": "https://stackoverflow.com/questions/58415981/enums-vs-constant-differences-on-typescript/58416163#58416163", "title": "Enums vs Constant differences on Typescript", "body": "<p>I agree with @VLAZ, the best approach can definitely vary. Probably the most significant perk of using an enum is being able to improve type-safety of your functions.</p>\n\n<pre><code>export enum LocalStorage {\n    USER_INFO = \"user-info\",\n    PROFILE_INFO = \"profile-info\"\n} \n\nfunction doSomething(l: LocalStorage) {\n}\n\ndoSomething(\"foo\"); // error, \"foo\" is not LocalStorage\ndoSomething(\"user-info\"); // error, \"user-info\" is not LocalStorage\ndoSomething(LocalStorage.USER_INFO); // compiles\n</code></pre>\n\n<p>Overall, enums offer improved type safety (where they make sense), and extending them with new members is generally simpler.</p>\n"}, {"tags": [], "owner": {"reputation": 1603, "user_id": 4716488, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gfPgZ.jpg?s=128&g=1", "display_name": "ethane", "link": "https://stackoverflow.com/users/4716488/ethane"}, "is_accepted": false, "score": 4, "last_activity_date": 1571238121, "creation_date": 1571238121, "answer_id": 58416378, "question_id": 58415981, "link": "https://stackoverflow.com/questions/58415981/enums-vs-constant-differences-on-typescript/58416378#58416378", "title": "Enums vs Constant differences on Typescript", "body": "<p>While both approaches get the job done for simple scenarios. It's always good practice to use constructs for their intended purposes.</p>\n\n<p>Your class may inadvertently evolve into something more than just holding <code>static</code>s. Leading to an amalgamation of concerns. For instance, in the future you may think it necessary to add CRUD functions for local storage, indexedDB, or cookies.</p>\n\n<p>Then the question comes to using <code>const enum</code>s or just <code>enum</code>s. </p>\n\n<p>If you need the compiled <code>enum</code> at run time, then use a regular TS <code>enum</code>. Otherwise, a <code>const enum</code> exists just to help with type-safety, less generated code, and minimised access indirection but without run-time lookup values.</p>\n"}, {"tags": [], "owner": {"reputation": 554, "user_id": 3143987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf70182ea295ab466210a6f9db15dfc7?s=128&d=identicon&r=PG&f=1", "display_name": "vipul patel", "link": "https://stackoverflow.com/users/3143987/vipul-patel"}, "is_accepted": true, "score": 1, "last_activity_date": 1571240023, "last_edit_date": 1571240023, "creation_date": 1571238990, "answer_id": 58416648, "question_id": 58415981, "link": "https://stackoverflow.com/questions/58415981/enums-vs-constant-differences-on-typescript/58416648#58416648", "title": "Enums vs Constant differences on Typescript", "body": "<p><strong>enum</strong> is logical grouping of your constants. Let's say you want to use different color. Then you make color enum consist of all colors value defined. Lets say <strong>accountType</strong> which consist value of current, saving, loan, recurring. Its logical grouping. <strong>Constant</strong> you can define for anything. </p>\n\n<p>Now you have to make sure that your enum name has anything to do with logical grouping? </p>\n\n<p>In Your case <strong>Enum</strong> name is LocalStorage but values underneath does not justify as enum </p>\n"}], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4822, "favorite_count": 0, "accepted_answer_id": 58416648, "answer_count": 3, "score": 10, "last_activity_date": 1571240023, "creation_date": 1571236891, "last_edit_date": 1571238162, "question_id": 58415981, "link": "https://stackoverflow.com/questions/58415981/enums-vs-constant-differences-on-typescript", "title": "Enums vs Constant differences on Typescript", "body": "<p>If I need to use const variables I use this approach since it has a type safety.</p>\n\n<pre><code>export class LocalStorage {\n    static USER_INFO = \"user-info\";\n    static PROFILE_INFO = \"profile-info\";   \n}\n</code></pre>\n\n<p>But it seems we can use <code>string enums</code> like so:</p>\n\n<pre><code>export enum LocalStorage {\n    USER_INFO = \"user-info\";\n    PROFILE_INFO = \"profile-info\";   \n } \n</code></pre>\n\n<p>What is the difference between these 2 approaches?</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "javascript-objects"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1571236056, "post_id": 58415646, "comment_id": 103174168, "body": "does it work? what do you get? please add the wanted result."}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1571236073, "post_id": 58415646, "comment_id": 103174177, "body": "What is your preferred output, just <code>{ name: &#39;Mike&#39;, &#39;value&#39;: 35, &#39;Mike&#39;: 30 }</code> for the object that has a name of mike??"}], "answers": [{"tags": [], "owner": {"reputation": 2859, "user_id": 12150021, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P0jomvb1M5M/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reyWHaG2oOt_HzFUkaSBior5HFosA/photo.jpg?sz=128", "display_name": "Dmitry Reutov", "link": "https://stackoverflow.com/users/12150021/dmitry-reutov"}, "is_accepted": true, "score": 2, "last_activity_date": 1571236655, "creation_date": 1571236655, "answer_id": 58415906, "question_id": 58415646, "link": "https://stackoverflow.com/questions/58415646/compare-object-properties-by-keys-in-javascript/58415906#58415906", "title": "Compare object properties by keys in javascript", "body": "<p>Yes, you can do it a bit shorter</p>\n\n<pre><code>const MikeRecordInd = data.findIndex(v =&gt; v.name === 'Mike')\nconst JohnRecord = data.find(v =&gt; v.name === 'John')\n\nif (data[MikeRecordInd].value !== JohnRecord.value) {\n  newData = [...data]\n  newData[MikeRecordInd] = { name: 'Mike', value: JohnRecord.value }\n} \n</code></pre>\n"}], "owner": {"reputation": 1207, "user_id": 3265921, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0ef3a6ec802e0d3cc38f7587f5203dfe?s=128&d=identicon&r=PG&f=1", "display_name": "corry", "link": "https://stackoverflow.com/users/3265921/corry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 58415906, "answer_count": 1, "score": -2, "last_activity_date": 1571239253, "creation_date": 1571235883, "last_edit_date": 1571239253, "question_id": 58415646, "link": "https://stackoverflow.com/questions/58415646/compare-object-properties-by-keys-in-javascript", "title": "Compare object properties by keys in javascript", "body": "<p>I'm trying to make a comparison of the object properties by key.\nThere are some sample data:</p>\n\n<pre><code>const data = [{\n    \"name\": \"John\",\n    \"value\": \"30\"\n}, {\n    \"name\": \"Cindy\",\n    \"value\": \"50\"\n}, {\n    \"name\": \"Mathew\",\n    \"value\": \"80\"\n}, {\n    \"name\": \"Mike\",\n    \"value\": \"35\"\n}];\n</code></pre>\n\n<p>so I would like to compare property values(value) of John and Mike names(key). If value of Mike is different than John than mutate value of Mike with value of John.\nThere is some algorithm</p>\n\n<pre><code>data.map(obj =&gt; {\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      let johnValue;\n      let mikeValue;\n\n      if(obj[key] == 'John') {\n        johnValue = Number(obj.value)\n      }\n      else if(obj[key] == 'Mike') {\n        mikeValue = Number(obj.value)\n      }\n\n      if(johnValue != mikeValue) {\n        newData = {\n          ...data,\n          \"Mike\":  johnValue\n        } \n      }\n    }\n  }\n})\n</code></pre>\n\n<p>after whose execution I expected data like </p>\n\n<pre><code>const data = [{\n        \"name\": \"John\",\n        \"value\": \"30\"\n    }, {\n        \"name\": \"Cindy\",\n        \"value\": \"50\"\n    }, {\n        \"name\": \"Mathew\",\n        \"value\": \"80\"\n    }, {\n        \"name\": \"Mike\",\n        \"value\": \"30\"\n    }];\n</code></pre>\n\n<p>Is there a way to write it better using some of the ES6 features?\n<a href=\"https://jsfiddle.net/cwebster750/g1hsct0L/9/\" rel=\"nofollow noreferrer\">Fiddle</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 489, "user_id": 7557423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3__7ba7mY-g/AAAAAAAAAAI/AAAAAAAAAFE/V9-cLERtXZc/photo.jpg?sz=128", "display_name": "Jai Kumaresh", "link": "https://stackoverflow.com/users/7557423/jai-kumaresh"}, "edited": false, "score": 0, "creation_date": 1571233977, "post_id": 58414835, "comment_id": 103172756, "body": "I don&#39;t know your reqiurement. But, the array clone I used it <code>this.tempArray = [...Array.from(new Set(this.array))];</code> try it @iheb chaaraoul"}, {"owner": {"reputation": 2163, "user_id": 1818637, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c4207dd6a6c79e2bb6e6de75f5679fe4?s=128&d=identicon&r=PG", "display_name": "Malcor", "link": "https://stackoverflow.com/users/1818637/malcor"}, "edited": false, "score": 0, "creation_date": 1571233980, "post_id": 58414835, "comment_id": 103172758, "body": "<code>let currentArray = cloneArray(existingArray)</code> no?"}, {"owner": {"reputation": 45, "user_id": 10779996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVie0.jpg?s=128&g=1", "display_name": "iheb chaaraoui", "link": "https://stackoverflow.com/users/10779996/iheb-chaaraoui"}, "reply_to_user": {"reputation": 2163, "user_id": 1818637, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c4207dd6a6c79e2bb6e6de75f5679fe4?s=128&d=identicon&r=PG", "display_name": "Malcor", "link": "https://stackoverflow.com/users/1818637/malcor"}, "edited": false, "score": 0, "creation_date": 1571234252, "post_id": 58414835, "comment_id": 103172969, "body": "yes i use it  like this but it give me 0 in the cloned array i have a problem with the index 0 of the mapped array @Malcor"}, {"owner": {"reputation": 45, "user_id": 10779996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVie0.jpg?s=128&g=1", "display_name": "iheb chaaraoui", "link": "https://stackoverflow.com/users/10779996/iheb-chaaraoui"}, "edited": false, "score": 0, "creation_date": 1571234388, "post_id": 58414835, "comment_id": 103173050, "body": "with the first array no problem"}, {"owner": {"reputation": 489, "user_id": 7557423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3__7ba7mY-g/AAAAAAAAAAI/AAAAAAAAAFE/V9-cLERtXZc/photo.jpg?sz=128", "display_name": "Jai Kumaresh", "link": "https://stackoverflow.com/users/7557423/jai-kumaresh"}, "edited": false, "score": 0, "creation_date": 1571234445, "post_id": 58414835, "comment_id": 103173093, "body": "Can I see that part of your code?@iheb chaaraoul"}, {"owner": {"reputation": 45, "user_id": 10779996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVie0.jpg?s=128&g=1", "display_name": "iheb chaaraoui", "link": "https://stackoverflow.com/users/10779996/iheb-chaaraoui"}, "reply_to_user": {"reputation": 489, "user_id": 7557423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3__7ba7mY-g/AAAAAAAAAAI/AAAAAAAAAFE/V9-cLERtXZc/photo.jpg?sz=128", "display_name": "Jai Kumaresh", "link": "https://stackoverflow.com/users/7557423/jai-kumaresh"}, "edited": false, "score": 0, "creation_date": 1571235061, "post_id": 58414835, "comment_id": 103173520, "body": "@JaiKumaresh  i add the code in the post"}, {"owner": {"reputation": 489, "user_id": 7557423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3__7ba7mY-g/AAAAAAAAAAI/AAAAAAAAAFE/V9-cLERtXZc/photo.jpg?sz=128", "display_name": "Jai Kumaresh", "link": "https://stackoverflow.com/users/7557423/jai-kumaresh"}, "edited": false, "score": 0, "creation_date": 1571235349, "post_id": 58414835, "comment_id": 103173709, "body": "I think you problem is in <code>console.log( &#39;b&#39;, this.Tarrah);</code> try it<code>this.Tarrah.push(data.medias); ---&gt; this.Tarrah = [...Array.from(new Set(data.medias))];</code> try it"}, {"owner": {"reputation": 830, "user_id": 11422830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aIgil.jpg?s=128&g=1", "display_name": "champion-runner", "link": "https://stackoverflow.com/users/11422830/champion-runner"}, "edited": false, "score": 0, "creation_date": 1571236644, "post_id": 58414835, "comment_id": 103174593, "body": "You can submit these types of queries in the communities or chat rooms"}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 12018669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f25b0f12a7d71613e4b60f63a7856a?s=128&d=identicon&r=PG&f=1", "display_name": "Annas", "link": "https://stackoverflow.com/users/12018669/annas"}, "is_accepted": false, "score": 0, "last_activity_date": 1571236331, "creation_date": 1571236331, "answer_id": 58415798, "question_id": 58414835, "link": "https://stackoverflow.com/questions/58414835/read-and-clone-json-array/58415798#58415798", "title": "read and clone json array", "body": "<p>clone an  array:<br>\nconst myClonningArray  = Object.assign([], myArray);</p>\n\n<p>for clone an object try this:<br>\nconst myCloneObject = Object.assign({}, myObject);</p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 10779996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVie0.jpg?s=128&g=1", "display_name": "iheb chaaraoui", "link": "https://stackoverflow.com/users/10779996/iheb-chaaraoui"}, "edited": false, "score": 0, "creation_date": 1571238419, "post_id": 58416295, "comment_id": 103175749, "body": "my problem jai is not to clone the problem is format of json i get from api `"}, {"owner": {"reputation": 45, "user_id": 10779996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVie0.jpg?s=128&g=1", "display_name": "iheb chaaraoui", "link": "https://stackoverflow.com/users/10779996/iheb-chaaraoui"}, "edited": false, "score": 0, "creation_date": 1571240019, "post_id": 58416295, "comment_id": 103176690, "body": "my problem jai is not to clone the problem is format of json i get not same of i use in"}], "tags": [], "owner": {"reputation": 489, "user_id": 7557423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3__7ba7mY-g/AAAAAAAAAAI/AAAAAAAAAFE/V9-cLERtXZc/photo.jpg?sz=128", "display_name": "Jai Kumaresh", "link": "https://stackoverflow.com/users/7557423/jai-kumaresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1571237867, "creation_date": 1571237867, "answer_id": 58416295, "question_id": 58414835, "link": "https://stackoverflow.com/questions/58414835/read-and-clone-json-array/58416295#58416295", "title": "read and clone json array", "body": "<p>The above solution array clone is not worked.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yH75O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yH75O.png\" alt=\"enter image description here\"></a></p>\n\n<p>My worked solution is</p>\n\n<p>Clone for array:\n<code>this.tempArray = [...Array.from(new Set(this.array))];</code></p>\n\n<p>Clone for object:\n<code>this.tempObj = Object.assign({}, this.obj);</code></p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 10779996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVie0.jpg?s=128&g=1", "display_name": "iheb chaaraoui", "link": "https://stackoverflow.com/users/10779996/iheb-chaaraoui"}, "is_accepted": true, "score": 0, "last_activity_date": 1574330988, "creation_date": 1574330988, "answer_id": 58972300, "question_id": 58414835, "link": "https://stackoverflow.com/questions/58414835/read-and-clone-json-array/58972300#58972300", "title": "read and clone json array", "body": "<p>the problem was in the </p>\n\n<pre><code>this.Tarrah.push(data.medias);\n</code></pre>\n\n<p>that give a different form for clon function can't clone i change affection function with tradutional way like this</p>\n\n<pre><code>this.Tarrah = data.medias\n</code></pre>\n\n<p>thank you all for your help and i wish my code be beneficial for others developers</p>\n"}], "owner": {"reputation": 45, "user_id": 10779996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVie0.jpg?s=128&g=1", "display_name": "iheb chaaraoui", "link": "https://stackoverflow.com/users/10779996/iheb-chaaraoui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 58972300, "answer_count": 3, "score": -3, "last_activity_date": 1574330988, "creation_date": 1571233430, "last_edit_date": 1571240939, "question_id": 58414835, "link": "https://stackoverflow.com/questions/58414835/read-and-clone-json-array", "title": "read and clone json array", "body": "<p>Problem with the form of my <code>json</code> array when worked with my static array </p>\n\n<p><strong>Output</strong>-</p>\n\n<pre><code>[\n    {id: '1', officename: 'Sun '},\n    {id: '2', officename: 'Moon'},\n    {id: '3', officename: 'Stars'},\n\n  ]; `\n</code></pre>\n\n<p>and I cloned it to another array , but didn't get the data from <code>API</code> of another format, array is displayed.</p>\n\n<p>the format of array used-</p>\n\n<p><a href=\"https://i.stack.imgur.com/XT10A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XT10A.png\" alt=\"enter image description here\"></a></p>\n\n<p>compare the 2 json output</p>\n\n<p><a href=\"https://i.stack.imgur.com/TlKgH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TlKgH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Need to use this format in current array</p>\n\n<p><a href=\"https://i.stack.imgur.com/ecZ0h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ecZ0h.png\" alt=\"enter image description here\"></a></p>\n\n<p>Cloned <code>function</code> </p>\n\n<blockquote>\n  <p>cloneArray(x) {\n      return JSON.parse(JSON.stringify(x)); // returns Array   }\n  part of mt code </p>\n</blockquote>\n\n<pre><code> private k: Array&lt;any&gt;;\n\n  @Input() confMedia2: Array&lt;any&gt; = [];\n   confMedia: Array&lt;any&gt; = [\n    {id: '1', officename: 'Sun'},\n    {id: '2', officename: 'Moon'},\n    {id: '4', officename: 'Stars1'},\n    {id: '6', officename: 'Stars3'},\n    {id: '7', officename: 'Stars4'},\n    {id: '8', officename: 'Stars5'},\n    {id: '9', officename: 'Stars6'},\n    {id: '10', officename: 'Stars7'},\n  ];\n\n  // temp\n  allMedia: Array&lt;any&gt; = [];\n  // a: Array&lt;any&gt; = [];\n  selectedMedia: Array&lt;any&gt; = [];\n\n\n\n   // the code i use to map the  data from api to an other component to confMedia2\n     private getNestedData(id: any) {\n    this.api.getConfiguration(id).subscribe(data =&gt; {\n      // data.m(r =&gt; this.ConfMedias = r.medias);\n      // data.medias.map(r =&gt;  this.Tarrah.push(r));\n      // regularUrls = regularUrls.concat(region.damageDetails.map(damage =&gt; damage.regularUrl));\n      // this.Tarrah = this.Tarrah.concat(data.medias.map(damage =&gt; damage));\n      this.Tarrah.push(data.medias);\n    });\n    console.log( 'b', this.Tarrah);\n  }\n  constructor() {\n    // clone media on all media array to manipulate\n    this.allMedia = this.cloneArray(this.medias);\n    // this.a = this.cloneArray(this.medias1);\n    this.selectedMedia = this.cloneArray(this.confMedia);\n    this.aff();}\n</code></pre>\n\n<p>Thanks, </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1571232936, "post_id": 58414558, "comment_id": 103172096, "body": "In your first code block, <code>asyncResult1</code> and <code>asyncResult2</code> appear to be variables that contain promises (presumably for things that have already started). But in your second code block, you&#39;re calling them and using the <b>result</b> of calling them as promises. Which is it in your real code? (Also note that you&#39;re missing <code>[]</code> around what you&#39;re passing <code>Promise.all</code>.)"}, {"owner": {"reputation": 3169, "user_id": 233110, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/067cb23b17d16358133abd8ec57e721c?s=128&d=identicon&r=PG", "display_name": "Hoetmaaiers", "link": "https://stackoverflow.com/users/233110/hoetmaaiers"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1571238029, "post_id": 58414558, "comment_id": 103175521, "body": "Fair comment about the <code>[]</code> missing, the examples above are more meant to explain my question."}], "answers": [{"comments": [{"owner": {"reputation": 3169, "user_id": 233110, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/067cb23b17d16358133abd8ec57e721c?s=128&d=identicon&r=PG", "display_name": "Hoetmaaiers", "link": "https://stackoverflow.com/users/233110/hoetmaaiers"}, "edited": false, "score": 1, "creation_date": 1571238128, "post_id": 58414634, "comment_id": 103175575, "body": "Ok agreed, the idea of sending the async request on it&#39;s way and then await for the result when constructing the object is a good idea.  The &#39;on-its-way&#39; idea is an important concept, thank you."}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 1, "last_activity_date": 1571233113, "last_edit_date": 1571233113, "creation_date": 1571232793, "answer_id": 58414634, "question_id": 58414558, "link": "https://stackoverflow.com/questions/58414558/construct-object-from-multiple-promises/58414634#58414634", "title": "Construct object from multiple promises", "body": "<p>See my comment, it's a little unclear what <code>asyncResult</code> and <code>asyncResult2</code> are, because your first code block uses them as though they were variables containing promises (presumably for things <em>already</em> in progress), but your second code block calls them as functions and uses the result (presumably a promise).</p>\n\n<h2>If they're variables containing promises</h2>\n\n<p>...for processes already underway, then there's no problem with awaiting them individually, since they're <em>already</em> underway:</p>\n\n<pre><code>const result = {\n    result1: await asyncResult1, // Note these aren't function calls\n    result2: await asyncResult2,\n};\n</code></pre>\n\n<p>That won't make the second wait on the first, because they're both presumably already underway before this part of the code is reached.</p>\n\n<h2>If they're functions</h2>\n\n<p>...that you need to call, then yes, to call them both and use the results <code>Promise.all</code> is a good choice. Here's a tweak:</p>\n\n<pre><code>const result = await Promise.all([asyncResult1(), asyncResult2()])\n                    .then(([result1, result2]) =&gt; ({result1, result2}));\n</code></pre>\n\n<p>One of the rare places where using <code>then</code> syntax in an <code>async</code> function isn't necessarily the wrong choice. :-) Alternately, just save the promises to variables and then use the first option above:</p>\n\n<pre><code>const ar1 = asyncResult1();\nconst ar2 = asyncResult2();\nconst result = {\n    result1: await ar1,\n    result2: await ar2,\n};\n</code></pre>\n"}], "owner": {"reputation": 3169, "user_id": 233110, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/067cb23b17d16358133abd8ec57e721c?s=128&d=identicon&r=PG", "display_name": "Hoetmaaiers", "link": "https://stackoverflow.com/users/233110/hoetmaaiers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 58414634, "answer_count": 1, "score": 2, "last_activity_date": 1571233113, "creation_date": 1571232574, "question_id": 58414558, "link": "https://stackoverflow.com/questions/58414558/construct-object-from-multiple-promises", "title": "Construct object from multiple promises", "body": "<p>I want to construct an object from multiple promise results. The only way to do this is something like this:</p>\n\n<pre><code>const allPromises = await Promise.all(asyncResult1, asyncResult2);\nallPromises.then([result1, result2] =&gt; {\n  return {result1, result2};\n})\n</code></pre>\n\n<p>A nicer way (especially when more data is being constructed) would be this, with the major drawback of the async requests happening one after the other.</p>\n\n<pre><code>const result = {\n  result1: await asyncResult1(),\n  result2: await asyncResult2(),\n}\n</code></pre>\n\n<p>Is there a better way to construct my object with async data I am waiting for?</p>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "sass"], "comments": [{"owner": {"reputation": 910, "user_id": 5370727, "user_type": "registered", "profile_image": "https://graph.facebook.com/1131116906916503/picture?type=large", "display_name": "Henrique Erzinger", "link": "https://stackoverflow.com/users/5370727/henrique-erzinger"}, "edited": false, "score": 0, "creation_date": 1571261930, "post_id": 58414530, "comment_id": 103186253, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40418804/access-sass-values-colors-from-variables-scss-in-typescript-angular2-ionic2\">access SASS values ($colors from variables.scss) in Typescript (Angular2 ionic2)</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9262, "user_id": 1162409, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YSzYR.jpg?s=128&g=1", "display_name": "San Jaisy", "link": "https://stackoverflow.com/users/1162409/san-jaisy"}, "edited": false, "score": 0, "creation_date": 1571265567, "post_id": 58414703, "comment_id": 103187315, "body": "This one I already know....... This is not what I am looking for. Thank you for your answer"}, {"owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "reply_to_user": {"reputation": 9262, "user_id": 1162409, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YSzYR.jpg?s=128&g=1", "display_name": "San Jaisy", "link": "https://stackoverflow.com/users/1162409/san-jaisy"}, "edited": false, "score": 0, "creation_date": 1571295844, "post_id": 58414703, "comment_id": 103194773, "body": "@SanJaisy please, see my updated answer and maybe it is useful to you."}, {"owner": {"reputation": 9262, "user_id": 1162409, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YSzYR.jpg?s=128&g=1", "display_name": "San Jaisy", "link": "https://stackoverflow.com/users/1162409/san-jaisy"}, "edited": false, "score": 0, "creation_date": 1571298970, "post_id": 58414703, "comment_id": 103196353, "body": "Since I already have a variable defined in SCSS file. I am not looking for  ways to create constant file and use it. I am trying to consume from the SCSS variable only"}], "tags": [], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "is_accepted": false, "score": 0, "last_activity_date": 1571295814, "last_edit_date": 1571295814, "creation_date": 1571233030, "answer_id": 58414703, "question_id": 58414530, "link": "https://stackoverflow.com/questions/58414530/refer-scss-variable-value-in-html-or-ts-file-in-angular/58414703#58414703", "title": "Refer SCSS variable value in HTML or TS file in Angular", "body": "<p>You can create a variable which holds value of <code>mdBreakpoint</code> and then use it HTML template:</p>\n\n<p>TypeScript:</p>\n\n<pre><code>mdBreakpoint = 992;\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>[ngClass]=\"{'col-sm-3': innerWidth &gt;= mdBreakpoint }\"\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>It seems that there is no way to access SASS now, but if you want to have a something like global variable, then you can create your variable in <code>environment.ts</code> file and use in any component:</p>\n\n<pre><code>export const environment = {\n  production: false,\n  MD_BREAKPOINT: 992 \n};\n</code></pre>\n\n<p>and in your component:</p>\n\n<pre><code>export class YourComponent {  \n  title = 'myapp works!';\n  mdBreakpoint = environment.MD_BREAKPOINT;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1711, "user_id": 5701521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee7e03ae4d11d69c6798080b6c8884f4?s=128&d=identicon&r=PG", "display_name": "SeppeDev", "link": "https://stackoverflow.com/users/5701521/seppedev"}, "is_accepted": false, "score": 0, "last_activity_date": 1571233237, "creation_date": 1571233237, "answer_id": 58414773, "question_id": 58414530, "link": "https://stackoverflow.com/questions/58414530/refer-scss-variable-value-in-html-or-ts-file-in-angular/58414773#58414773", "title": "Refer SCSS variable value in HTML or TS file in Angular", "body": "<p>It's not directly supported by Angular, html or sass. You can't access scss variables in a html template without writing some logic.</p>\n\n<p>See this answer if you want more information on how to do it: <a href=\"https://stackoverflow.com/a/41353709/5701521\">access SASS values ($colors from variables.scss) in Typescript (Angular2 ionic2)</a></p>\n"}], "owner": {"reputation": 9262, "user_id": 1162409, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YSzYR.jpg?s=128&g=1", "display_name": "San Jaisy", "link": "https://stackoverflow.com/users/1162409/san-jaisy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 810, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1571295814, "creation_date": 1571232482, "question_id": 58414530, "link": "https://stackoverflow.com/questions/58414530/refer-scss-variable-value-in-html-or-ts-file-in-angular", "title": "Refer SCSS variable value in HTML or TS file in Angular", "body": "<p>I was doing the research if it is possible to use the SCSS variable value in HTML or TS in Angular.</p>\n\n<p>For example </p>\n\n<p>I have a variable called <code>$mdBreakpoint: 992px;</code> inside <strong>_variable.scss</strong> file</p>\n\n<p>In html I have a condition</p>\n\n<p><code>[ngClass]=\"{'col-sm-3': innerWidth &gt;= 992}\"</code> </p>\n\n<p><strong>992</strong> is the same value as the <code>$mdBreakpoint</code></p>\n\n<p>My question is it possible to refer <code>$mdBreakpoint</code>in HTML condition.</p>\n\n<p>I am using Angular 8</p>\n"}, {"tags": ["javascript", "typescript", "uri.js"], "answers": [{"tags": [], "owner": {"reputation": 8121, "user_id": 9632621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yDxuO.jpg?s=128&g=1", "display_name": "Andrei G\u0103tej", "link": "https://stackoverflow.com/users/9632621/andrei-g%c4%83tej"}, "is_accepted": false, "score": 2, "last_activity_date": 1571233046, "creation_date": 1571233046, "answer_id": 58414709, "question_id": 58414515, "link": "https://stackoverflow.com/questions/58414515/typescript-3-7beta-optional-chaining-operator-using-problem/58414709#58414709", "title": "Typescript 3.7@beta Optional Chaining operator using problem", "body": "<p>As mentioned <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById\" rel=\"nofollow noreferrer\">here</a>: </p>\n\n<blockquote>\n  <p>The Document method getElementById() returns an <strong>Element</strong> object representing the element whose id property matches the specified string.</p>\n</blockquote>\n\n<p>If we go and see <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element#Properties\" rel=\"nofollow noreferrer\">what properties</a> the <strong>Element</strong> <em>base class</em> contains, you will see <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML\" rel=\"nofollow noreferrer\"><code>innerHTML</code></a>.</p>\n\n<p>This means that <strong>it is sure</strong> that an <strong>instance of Element</strong>(the result of <code>getElementById</code>) will have an <code>innerHTML</code> property, which is why you're getting the error.</p>\n"}, {"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1571236311, "post_id": 58414959, "comment_id": 103174353, "body": "I don&#39;t think the types are the issue here, as you can certainly assign a value of type <code>string</code> to a writable variable or property of type <code>string | undefined</code>.  The issue is that <code>foo?.bar</code> is not writable at all, as it&#39;s equivalent to <code>foo == null ? undefined : foo.bar</code>, which you can&#39;t write to, even with <code>undefined</code>."}, {"owner": {"reputation": 343, "user_id": 12222077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UtZrA.jpg?s=128&g=1", "display_name": "iamolegga", "link": "https://stackoverflow.com/users/12222077/iamolegga"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1571236867, "post_id": 58414959, "comment_id": 103174735, "body": "@jcalz, yep, sure, I was just tried to explain somehow, that here we are trying assign value to property of some object, that may be not exists. updated"}], "tags": [], "owner": {"reputation": 343, "user_id": 12222077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UtZrA.jpg?s=128&g=1", "display_name": "iamolegga", "link": "https://stackoverflow.com/users/12222077/iamolegga"}, "is_accepted": true, "score": 21, "last_activity_date": 1604464343, "last_edit_date": 1604464343, "creation_date": 1571233823, "answer_id": 58414959, "question_id": 58414515, "link": "https://stackoverflow.com/questions/58414515/typescript-3-7beta-optional-chaining-operator-using-problem/58414959#58414959", "title": "Typescript 3.7@beta Optional Chaining operator using problem", "body": "<pre><code>const output = document.getElementById('output');\nif (output) output.innerHTML = url.toString()\n</code></pre>\n<p>This operator is made for accessing deep nest values.</p>\n<p><s>Let's look at <code>document.getElementById('output')?.innerHTML</code>. This will return <code>undefined</code> (if '#output' not exists) or <code>string</code> (if '#output' exists). And you trying to assign <code>string</code> to it.</s></p>\n<p>Here you are trying to set a new value for an object property that may not exist.</p>\n<p>So yep, optional property access can not be used at the left-hand side of an assignment.</p>\n<p>You can read more about it in <a href=\"https://github.com/tc39/proposal-optional-chaining\" rel=\"noreferrer\">proposal</a></p>\n"}, {"tags": [], "owner": {"reputation": 1224, "user_id": 1175555, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/draqU.jpg?s=128&g=1", "display_name": "danivicario", "link": "https://stackoverflow.com/users/1175555/danivicario"}, "is_accepted": false, "score": 0, "last_activity_date": 1607460415, "creation_date": 1607460415, "answer_id": 65206661, "question_id": 58414515, "link": "https://stackoverflow.com/questions/58414515/typescript-3-7beta-optional-chaining-operator-using-problem/65206661#65206661", "title": "Typescript 3.7@beta Optional Chaining operator using problem", "body": "<p>This very short expression works for me nicely in typescript 4.0.3</p>\n<pre><code>let domEl: HTMLElement | null = document.querySelector(&quot;#app&quot;);\ndomEl &amp;&amp; (domEl.style.color = &quot;green&quot;);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "is_accepted": false, "score": 0, "last_activity_date": 1607506691, "creation_date": 1607506691, "answer_id": 65214162, "question_id": 58414515, "link": "https://stackoverflow.com/questions/58414515/typescript-3-7beta-optional-chaining-operator-using-problem/65214162#65214162", "title": "Typescript 3.7@beta Optional Chaining operator using problem", "body": "<p>You can also solve this with an early return:</p>\n<pre><code>const output = document.getElementById('output');\nif (!output) return;\n\noutput.innerHTML = url.toString()\n</code></pre>\n<p>Use it like this for nested properties:</p>\n<pre><code>if (!item?.text) return;\n\nitem.text.text = action.payload.text;\n</code></pre>\n<p><a href=\"https://medium.com/swlh/return-early-pattern-3d18a41bba8\" rel=\"nofollow noreferrer\">https://medium.com/swlh/return-early-pattern-3d18a41bba8</a></p>\n<p><a href=\"https://softwareengineering.stackexchange.com/questions/18454/should-i-return-from-a-function-early-or-use-an-if-statement\">https://softwareengineering.stackexchange.com/questions/18454/should-i-return-from-a-function-early-or-use-an-if-statement</a></p>\n"}, {"comments": [{"owner": {"reputation": 602, "user_id": 1326357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04e288cd63c5637511c2fac62f2bfed9?s=128&d=identicon&r=PG", "display_name": "Dazag", "link": "https://stackoverflow.com/users/1326357/dazag"}, "edited": false, "score": 1, "creation_date": 1613028563, "post_id": 65943655, "comment_id": 116950700, "body": "How is this called? is this a ECMAScript implementation?"}, {"owner": {"reputation": 936, "user_id": 3900967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326f88058d2e409947d7e5d6c8f745de?s=128&d=identicon&r=PG&f=1", "display_name": "ccpmark", "link": "https://stackoverflow.com/users/3900967/ccpmark"}, "reply_to_user": {"reputation": 602, "user_id": 1326357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04e288cd63c5637511c2fac62f2bfed9?s=128&d=identicon&r=PG", "display_name": "Dazag", "link": "https://stackoverflow.com/users/1326357/dazag"}, "edited": false, "score": 1, "creation_date": 1614117385, "post_id": 65943655, "comment_id": 117286584, "body": "@Dazag Looks like it&#39;s a non-null assertion operator <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#non-null-assertion-operator\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/release-notes/&hellip;</a>"}, {"owner": {"reputation": 743, "user_id": 6736591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w8ZvL.jpg?s=128&g=1", "display_name": "Nakamoto", "link": "https://stackoverflow.com/users/6736591/nakamoto"}, "edited": false, "score": 0, "creation_date": 1615692538, "post_id": 65943655, "comment_id": 117768737, "body": "This is a great answer. Helps the code readability. Thanks you"}, {"owner": {"reputation": 157, "user_id": 9547299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IZod7NSzZ9o/AAAAAAAAAAI/AAAAAAAACUw/RGAR_-QO1BM/photo.jpg?sz=128", "display_name": "Mordy Stern", "link": "https://stackoverflow.com/users/9547299/mordy-stern"}, "edited": false, "score": 0, "creation_date": 1616422014, "post_id": 65943655, "comment_id": 117989659, "body": "this is good only if you are sure that objectVariableName exists, you basically teling the compiler not to worry about this being undefined. but if it is undefined you will get an error"}], "tags": [], "owner": {"reputation": 189, "user_id": 3839980, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/80880aaf23262daeab8b358bf00e25a9?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Jha", "link": "https://stackoverflow.com/users/3839980/nitin-jha"}, "is_accepted": false, "score": 3, "last_activity_date": 1611860622, "creation_date": 1611860622, "answer_id": 65943655, "question_id": 58414515, "link": "https://stackoverflow.com/questions/58414515/typescript-3-7beta-optional-chaining-operator-using-problem/65943655#65943655", "title": "Typescript 3.7@beta Optional Chaining operator using problem", "body": "<pre><code>objectVariableName!.propertyName = 'some value to assign';\n</code></pre>\n<blockquote>\n<p>Please note the exclamation symbol i.e,!</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 9547299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IZod7NSzZ9o/AAAAAAAAAAI/AAAAAAAACUw/RGAR_-QO1BM/photo.jpg?sz=128", "display_name": "Mordy Stern", "link": "https://stackoverflow.com/users/9547299/mordy-stern"}, "is_accepted": false, "score": 0, "last_activity_date": 1616422755, "creation_date": 1616422755, "answer_id": 66747878, "question_id": 58414515, "link": "https://stackoverflow.com/questions/58414515/typescript-3-7beta-optional-chaining-operator-using-problem/66747878#66747878", "title": "Typescript 3.7@beta Optional Chaining operator using problem", "body": "<p>in ES12 you can do this with Logical nullish assignment</p>\n<pre><code>document.getElementById('output')?.innerHTML ??= url.toString()\n</code></pre>\n<p>so the assignment will happen only if the left-hand expression is not nullish.</p>\n<p>this is just like if you would do</p>\n<pre><code>if (document.getElementById('output')?.innerHTML) {\n  document.getElementById('output').innerHTML = url.toString()\n}\n</code></pre>\n"}], "owner": {"reputation": 1393, "user_id": 6289085, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-8MUZtNdEnY4/AAAAAAAAAAI/AAAAAAAACFg/ZZ_59p5l5ik/photo.jpg?sz=128", "display_name": "muratoner", "link": "https://stackoverflow.com/users/6289085/muratoner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20283, "favorite_count": 1, "accepted_answer_id": 58414959, "answer_count": 6, "score": 15, "last_activity_date": 1616422755, "creation_date": 1571232438, "question_id": 58414515, "link": "https://stackoverflow.com/questions/58414515/typescript-3-7beta-optional-chaining-operator-using-problem", "title": "Typescript 3.7@beta Optional Chaining operator using problem", "body": "<p>I'm trying typescript optional chaining operator but throwed this exception.</p>\n\n<pre><code>index.ts:6:1 - error TS2779: The left-hand side of an assignment expression may not be an optional property access.\n</code></pre>\n\n<p>My sample code has below</p>\n\n<pre><code>const url = URI({\n    protocol: 'http',\n    hostname: 'example.org' \n})\n\n// This line throwed\ndocument.getElementById('output')?.innerHTML = url.toString()\n</code></pre>\n\n<p>How to resolve this problem?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2245, "user_id": 524324, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1265c18acd8d236f08bb199d0d81577d?s=128&d=identicon&r=PG", "display_name": "Michael Beeson", "link": "https://stackoverflow.com/users/524324/michael-beeson"}, "edited": false, "score": 0, "creation_date": 1571232534, "post_id": 58414481, "comment_id": 103171836, "body": "Often, it&#39;s enough to use <code>const copiedArr = JSON.parse(JSON.stringify(oldArr))</code>. That way you&#39;re sure that you won&#39;t be updating anything on the original array (or object). There are some specific things that might not be copied using this technique, but for simple data it works fine. Learn more here: <a href=\"https://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript\" title=\"what is the most efficient way to deep clone an object in javascript\">stackoverflow.com/questions/122102/&hellip;</a>"}, {"owner": {"reputation": 474, "user_id": 10207304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05bec89691daff4a1cf45bf56fba715?s=128&d=identicon&r=PG&f=1", "display_name": "Sodium", "link": "https://stackoverflow.com/users/10207304/sodium"}, "reply_to_user": {"reputation": 2245, "user_id": 524324, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1265c18acd8d236f08bb199d0d81577d?s=128&d=identicon&r=PG", "display_name": "Michael Beeson", "link": "https://stackoverflow.com/users/524324/michael-beeson"}, "edited": false, "score": 0, "creation_date": 1571232772, "post_id": 58414481, "comment_id": 103171979, "body": "It&#39;s not always simple datas, otherwise i would not have bothered the community with the question. I pass object models. And for example, a Person object might have a getFullName() method that returns that concatenates the first name and last name."}], "answers": [{"comments": [{"owner": {"reputation": 474, "user_id": 10207304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05bec89691daff4a1cf45bf56fba715?s=128&d=identicon&r=PG&f=1", "display_name": "Sodium", "link": "https://stackoverflow.com/users/10207304/sodium"}, "edited": false, "score": 0, "creation_date": 1571232850, "post_id": 58414629, "comment_id": 103172037, "body": "I&#39;ve heard about it, how reliable and following good practices is it? Thanks for the suggestion."}, {"owner": {"reputation": 1793, "user_id": 3763317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9tHWe.jpg?s=128&g=1", "display_name": "Damian C", "link": "https://stackoverflow.com/users/3763317/damian-c"}, "reply_to_user": {"reputation": 474, "user_id": 10207304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05bec89691daff4a1cf45bf56fba715?s=128&d=identicon&r=PG&f=1", "display_name": "Sodium", "link": "https://stackoverflow.com/users/10207304/sodium"}, "edited": false, "score": 1, "creation_date": 1571232995, "post_id": 58414629, "comment_id": 103172123, "body": "Since good practices and reliability can be blurred with opinions. I&#39;ll try to give facts. You&#39;ll find that lodash utilizes native methods to work with collections. Its basically a wrapper that gives you a lot of shortcuts to tools that are native to JavaScript. I use it all the time."}, {"owner": {"reputation": 474, "user_id": 10207304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05bec89691daff4a1cf45bf56fba715?s=128&d=identicon&r=PG&f=1", "display_name": "Sodium", "link": "https://stackoverflow.com/users/10207304/sodium"}, "edited": false, "score": 0, "creation_date": 1571238483, "post_id": 58414629, "comment_id": 103175789, "body": "I&#39;ll try it out. The problem i have with adding external libraries is that i work for a big company and our softwares tend to end being supported for over ten years. But when you have to, you have to i guess ;)"}], "tags": [], "owner": {"reputation": 1793, "user_id": 3763317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9tHWe.jpg?s=128&g=1", "display_name": "Damian C", "link": "https://stackoverflow.com/users/3763317/damian-c"}, "is_accepted": true, "score": 2, "last_activity_date": 1571232864, "last_edit_date": 1571232864, "creation_date": 1571232784, "answer_id": 58414629, "question_id": 58414481, "link": "https://stackoverflow.com/questions/58414481/dealing-with-objects-passed-by-reference-in-child-components-in-angular-2/58414629#58414629", "title": "Dealing with objects passed by reference in child components in Angular 2+", "body": "<p>If lodash is in your toolbelt, you can use _.cloneDeep(). I've used this reliably with relatively large objects and large collections without any issues. </p>\n\n<p><a href=\"https://lodash.com/docs/4.17.15#cloneDeep\" rel=\"nofollow noreferrer\">https://lodash.com/docs/4.17.15#cloneDeep</a></p>\n\n<pre><code>var objects = [componentObj1, componentObj2];\nvar deep = _.cloneDeep(objects);\nconsole.log(deep[0] === objects[0]);\n// =&gt; false\n</code></pre>\n"}], "owner": {"reputation": 474, "user_id": 10207304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05bec89691daff4a1cf45bf56fba715?s=128&d=identicon&r=PG&f=1", "display_name": "Sodium", "link": "https://stackoverflow.com/users/10207304/sodium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 58414629, "answer_count": 1, "score": 0, "last_activity_date": 1571232864, "creation_date": 1571232329, "question_id": 58414481, "link": "https://stackoverflow.com/questions/58414481/dealing-with-objects-passed-by-reference-in-child-components-in-angular-2", "title": "Dealing with objects passed by reference in child components in Angular 2+", "body": "<p>I know that TypeScript passes objects by reference and that there is no clear best practice to go around it to get a deep copy, but i find it difficult to work with this, especially when working in a theme.</p>\n\n<p>I just had the case with a component that has an array of object and passes those to child components. Each child component updates the single object passed as input. Problem: I wasn't the one who programmed it so i had no idea that the child component modified the values directly. And even if i was, i'm pretty sure i wouldn't have remembered six months later.</p>\n\n<p>Is there a clear best practice to deal with this?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "material-ui"], "answers": [{"comments": [{"owner": {"reputation": 17011, "user_id": 1079901, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/oEWB8.png?s=128&g=1", "display_name": "noob", "link": "https://stackoverflow.com/users/1079901/noob"}, "edited": false, "score": 2, "creation_date": 1571254613, "post_id": 58414890, "comment_id": 103183322, "body": "Welcome to the Stack Overflow! There&#39;s no mention in the docs where they said support for component prop is going away. I do want to use component prop as it works, but TypeScript is behaving weird."}, {"owner": {"reputation": 163, "user_id": 12214298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76b2c3c53e1110245867e0ff82e63264?s=128&d=identicon&r=PG&f=1", "display_name": "mrbeans", "link": "https://stackoverflow.com/users/12214298/mrbeans"}, "reply_to_user": {"reputation": 17011, "user_id": 1079901, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/oEWB8.png?s=128&g=1", "display_name": "noob", "link": "https://stackoverflow.com/users/1079901/noob"}, "edited": false, "score": 0, "creation_date": 1571301700, "post_id": 58414890, "comment_id": 103197755, "body": "The description for the &quot;component&quot; clearly mentions The component used for the root node. Either a string to use a DOM element or a component. By default, it maps the variant to a good default headline component."}, {"owner": {"reputation": 17011, "user_id": 1079901, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/oEWB8.png?s=128&g=1", "display_name": "noob", "link": "https://stackoverflow.com/users/1079901/noob"}, "edited": false, "score": 2, "creation_date": 1571302455, "post_id": 58414890, "comment_id": 103198214, "body": "Yeah, but it doesn&#39;t mean that it should throw errors for strings. We&#39;re not discussing here about whether to use component prop or not. I am asking how to fix the TypeScript error. I am asking this because I am using the <code>component</code> prop at multiple places in my project and I can&#39;t change all of them and manually test everywhere."}, {"owner": {"reputation": 124, "user_id": 1888094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190d62bdd9deb3d0955c4103a95e55e0?s=128&d=identicon&r=PG", "display_name": "plumpNation", "link": "https://stackoverflow.com/users/1888094/plumpnation"}, "edited": false, "score": 0, "creation_date": 1572873818, "post_id": 58414890, "comment_id": 103685425, "body": "Same for me. I can use the code sandbox on the official site to change the root element to div or p (or whatever) using a string in the component prop, but typescript has suddenly started to show errors. @ArpitBhatia is the component prop going to be dropped? Is there some information about this that you can link us to? Is there am official reason why we should not use component prop that you have found?"}], "tags": [], "owner": {"reputation": 163, "user_id": 12214298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76b2c3c53e1110245867e0ff82e63264?s=128&d=identicon&r=PG&f=1", "display_name": "mrbeans", "link": "https://stackoverflow.com/users/12214298/mrbeans"}, "is_accepted": false, "score": 0, "last_activity_date": 1571307902, "last_edit_date": 1571307902, "creation_date": 1571233571, "answer_id": 58414890, "question_id": 58414463, "link": "https://stackoverflow.com/questions/58414463/typescript-error-type-string-is-not-assignable-to-type-for-typography/58414890#58414890", "title": "TypeScript error: Type &#39;string&#39; is not assignable to type for Typography", "body": "<p>As per reference document provided by Material UI for Typography\n(<a href=\"https://material-ui.com/api/typography/\" rel=\"nofollow noreferrer\">https://material-ui.com/api/typography/</a>)</p>\n\n<pre><code>{ h1: 'h1', h2: 'h2', h3: 'h3', h4: 'h4', h5: 'h5', h6: 'h6', subtitle1: 'h6', subtitle2: 'h6', body1: 'p', body2: 'p',}\n</code></pre>\n\n<p><code>variantMapping</code> has these mapping so going forward if you want to use <code>&lt;p&gt;</code> tags you can use variant type as body1 or body2 instead of component prop.</p>\n"}, {"tags": [], "owner": {"reputation": 838, "user_id": 4430640, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1b50bbeab9d5eb74494caf5cf05a09e0?s=128&d=identicon&r=PG&f=1", "display_name": "gkri", "link": "https://stackoverflow.com/users/4430640/gkri"}, "is_accepted": false, "score": 0, "last_activity_date": 1573561160, "creation_date": 1573561160, "answer_id": 58818620, "question_id": 58414463, "link": "https://stackoverflow.com/questions/58414463/typescript-error-type-string-is-not-assignable-to-type-for-typography/58818620#58818620", "title": "TypeScript error: Type &#39;string&#39; is not assignable to type for Typography", "body": "<p>I have this since I updated to <code>material-ui/core@4.6.0</code> and <code>typescript@3.7.2</code>.</p>\n\n<p>I managed to silence the errors by using <code>component={'div' as any}</code> so I'm posting this as a temporary answer, but I do think there must be a better fix coming up.</p>\n"}], "owner": {"reputation": 17011, "user_id": 1079901, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/oEWB8.png?s=128&g=1", "display_name": "noob", "link": "https://stackoverflow.com/users/1079901/noob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2631, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1573561160, "creation_date": 1571232263, "question_id": 58414463, "link": "https://stackoverflow.com/questions/58414463/typescript-error-type-string-is-not-assignable-to-type-for-typography", "title": "TypeScript error: Type &#39;string&#39; is not assignable to type for Typography", "body": "<p>I am trying to use Typography component from material-ui with TypeScript, but I am getting this weird error </p>\n\n<pre><code>TypeScript error: Type 'string' is not assignable to type 'ComponentClass&lt;HTMLAttributes&lt;HTMLElement&gt;, any&gt; | FunctionComponent&lt;HTMLAttributes&lt;HTMLElement&gt;&gt; | undefined'.  TS2322\n\n     8 | }\n     9 | export default ({ text, date }: Props) =&gt; (\n  &gt; 10 |   &lt;Typography component=\"p\" gutterBottom&gt;\n       |               ^\n    11 |     {text &amp;&amp; &lt;span&gt;{text}:&amp;nbsp;&lt;/span&gt;}\n    12 |     &lt;FormattedDate value={date} /&gt;\n    13 |     &amp;nbsp;\n</code></pre>\n\n<p>Here's how my component looks like</p>\n\n<pre><code>import React from 'react';\nimport { FormattedDate, FormattedTime } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\n\ninterface Props {\n  date: Date;\n  text?: string;\n}\nexport default ({ text, date }: Props) =&gt; (\n  &lt;Typography component=\"p\" gutterBottom&gt;\n    {text &amp;&amp; &lt;span&gt;{text}:&amp;nbsp;&lt;/span&gt;}\n    &lt;FormattedDate value={date} /&gt;\n    &amp;nbsp;\n    &lt;FormattedTime value={date} /&gt;\n  &lt;/Typography&gt;\n);\n\n</code></pre>\n\n<p>I am not able to understand why <code>\"p\"</code> is not an acceptable value for <code>component</code> prop. I tried it with <code>\"h1\"</code> and \"<code>h2\"</code> which fails in the same way and apparently, the <a href=\"https://material-ui.com/components/typography/\" rel=\"nofollow noreferrer\">official demo</a> also uses the string. </p>\n\n<p>Is there anything I am missing?, I don't want to ignore this with <code>// @ts-ignore</code>, but want to fix this.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 10734966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d5e42b2a09181c174077ef8262e8ba?s=128&d=identicon&r=PG&f=1", "display_name": "zadders", "link": "https://stackoverflow.com/users/10734966/zadders"}, "edited": false, "score": 0, "creation_date": 1571233585, "post_id": 58414080, "comment_id": 103172492, "body": "how would I go about putting this in my OnClick  function?"}], "tags": [], "owner": {"reputation": 1069, "user_id": 11702825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5c1d10b63308d00ead17320d48efc8?s=128&d=identicon&r=PG&f=1", "display_name": "octobus", "link": "https://stackoverflow.com/users/11702825/octobus"}, "is_accepted": true, "score": 1, "last_activity_date": 1571235267, "last_edit_date": 1571235267, "creation_date": 1571231252, "answer_id": 58414080, "question_id": 58413824, "link": "https://stackoverflow.com/questions/58413824/how-to-add-if-else-statement-within-onclick-event-based-on-radio-buttons/58414080#58414080", "title": "How to add if-else statement within onClick event based on radio buttons", "body": "<p>You can call <code>createVideo</code> if <code>this.state.whichRadioSelected === \"video\"</code> if not call <code>createManuals</code> like this</p>\n\n<pre><code>clickHandler = () =&gt; {\n    if(this.state.whichRadioSelected === \"video\") {\n      this.createVideo();\n    } else {\n      this.createManuals();\n    } \n}\n</code></pre>\n\n<p>and in your button, pass this handler function to your <code>onClick</code> event like this</p>\n\n<pre><code>&lt;Button onClick={() =&gt; {this.clickHandler();}}\n</code></pre>\n"}], "owner": {"reputation": 388, "user_id": 10734966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d5e42b2a09181c174077ef8262e8ba?s=128&d=identicon&r=PG&f=1", "display_name": "zadders", "link": "https://stackoverflow.com/users/10734966/zadders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58414080, "answer_count": 1, "score": 0, "last_activity_date": 1571235267, "creation_date": 1571230461, "last_edit_date": 1571230551, "question_id": 58413824, "link": "https://stackoverflow.com/questions/58413824/how-to-add-if-else-statement-within-onclick-event-based-on-radio-buttons", "title": "How to add if-else statement within onClick event based on radio buttons", "body": "<p>I currently have a page that loads in 2 seperate lists of data as cards from two seperate URLs I have that are as follows:</p>\n\n<pre><code>http://localhost:3000/videos\nhttp://localhost:3000/manuals\n</code></pre>\n\n<p>So I have a div that loads up two seperate list components and displays them together.  I also have a \"Create Card\" button that opens a modal, and once the information needed is filled in and the submit button is clicked, the onClick of the button loads up the \"CreateCard\" function. </p>\n\n<p>Originially, I had a working page that would create cards successfully but it would only submit it to /videos. I have now created 2 seperate functions, one that creates /videos and on that creates /modules. Furthermore, I have added radio buttons that allows the user to decide on whether they are creating a /module or /video card. The code for the creating form is as follows:</p>\n\n<pre><code>&lt;Popup\n            trigger={&lt;button className=\"btn blue-outline\"&gt; Create a new card&lt;/button&gt;}\n            modal\n            position=\"right center\"&gt;\n            &lt;div&gt;\n              &lt;div&gt;\n                &lt;label&gt;Title:&lt;/label&gt;\n                &lt;input\n                  style={{ width: \"100%\" }}\n                  className=\"input\"\n                  name=\"createCardTitle\"\n                  onChange={(e) =&gt; {\n                    this.setState({ title: e.target.value });\n                  }}\n                  value={this.state.title}&gt;&lt;/input&gt;\n              &lt;/div&gt;\n              &lt;div&gt;\n                &lt;label&gt;URL:&lt;/label&gt;\n                &lt;input\n                  style={{ width: \"100%\" }}\n                  className=\"input\"\n                  name=\"createCardURL\"\n                  onChange={(e) =&gt; {\n                    this.setState({ url: e.target.value });\n                  }}&gt;&lt;/input&gt;\n              &lt;/div&gt;\n              &lt;div&gt;\n                &lt;label&gt;Thumbnail URL:&lt;/label&gt;\n                &lt;input\n                  style={{ width: \"100%\" }}\n                  className=\"input\"\n                  name=\"createCardThumbnail\"\n                  onChange={(e) =&gt; {\n                    this.setState({ thumbnail: e.target.value });\n                  }}\n                  value={this.state.thumbnail}&gt;&lt;/input&gt;\n              &lt;/div&gt;\n              &lt;label className=\"radio\"&gt;\n                &lt;input\n                  id=\"videoCardRadio\"\n                  type=\"radio\"\n                  name=\"radio_group_1\"\n                  value=\"video\"\n                  checked={this.state.whichRadioSelected === \"video\"}\n                  onChange={() =&gt; this.setState({ whichRadioSelected: \"video\" })}\n                /&gt;\n                &lt;span&gt;Video Card&lt;/span&gt;\n              &lt;/label&gt;\n              &lt;label className=\"radio\"&gt;\n                &lt;input\n                  id=\"manualCardRadio\"\n                  type=\"radio\"\n                  name=\"radio_group_1\"\n                  value=\"manual\"\n                  checked={this.state.whichRadioSelected === \"manual\"}\n                  onChange={() =&gt; this.setState({ whichRadioSelected: \"manual\" })}\n                /&gt;\n                &lt;span&gt;Manual Card&lt;/span&gt;\n              &lt;/label&gt;\n              &lt;br&gt;&lt;/br&gt;\n              &lt;button\n                style={{\n                  float: \"left\"\n                }}\n                onClick={() =&gt; this.createManualProduct(this.state.title, this.state.url, this.state.thumbnail)}\n                className=\"btn blue-outline\"\n                id=\"confirmModalBtn\"&gt;\n                Create\n              &lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/Popup&gt;\n</code></pre>\n\n<p>I am trying to figure out how I can implement an if-else statement that would be able to determine whether or not a \"video\" or \"manual\" radio button is selected, and depending on that, if \"video\" was selected, then the createVideoCard() function is run. And if \"manual\" is selected, then the createManualCard() function is run.</p>\n\n<p>The code for the rest of the page is available below just incase it is needed for reference:</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport HelpList from \"../components/helpAdmin/help/HelpList\";\nimport \"../components/helpAdmin/help/HelpList\";\nimport \"../components/helpAdmin/help/ManualHelpList\";\nimport \"../components/helpAdmin/help/HelpCard\";\nimport { Modal, Button, Tooltip, Icon, Tabs, Checkbox, Radio } from \"components/ui\";\nimport Popup from \"reactjs-popup\";\n\n\nimport ManualHelpList from \"../components/helpAdmin/help/ManualHelpList\";\n\ninterface Props {}\n\ninterface State {\n  url: string;\n  title: string;\n  adminhelpcard: SingleAdminHelpCard[];\n  error: null;\n  response: {};\n  thumbnail: string;\n  isEditProduct: boolean;\n  isAddProduct: boolean;\n  id: string;\n  whichRadioSelected: string;\n}\ninterface SingleAdminHelpCard {\n  id: string;\n  url: string;\n  title: string;\n  thumbnail: string;\n}\n\nexport class HelpAdminView extends Component&lt;Props, State&gt; {\n  state = {\n    title: \"\",\n    thumbnail: \"\",\n    id: \"\",\n    url: \"http://localhost:3000/videos/\",\n    adminhelpcard: [],\n    itemsCountPerPage: 1,\n    activePage: 1,\n    error: null,\n    response: {},\n    isEditProduct: true,\n    isAddProduct: true,\n    whichRadioSelected: \"\"\n  };\n  componentDidMount() {}\n\n  createVideoProduct(title: string, url: string, thumbnail: string) {\n    const { adminhelpcard } = this.state;\n    const apiUrl = `http://localhost:3000/videos/`;\n\n    const options = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        title,\n        url,\n        thumbnail\n      })\n    };\n\n    fetch(apiUrl, options)\n      .then((res) =&gt; res.json())\n      .then(\n        (result) =&gt; {\n          this.setState({\n            response: result\n          });\n        },\n        (error) =&gt; {\n          this.setState({ error });\n        }\n      );\n  }\n\n  createManualProduct(title: string, url: string, thumbnail: string) {\n    const { adminhelpcard } = this.state;\n    const apiUrl = `http://localhost:3000/manuals/`;\n\n    const options = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        title,\n        url,\n        thumbnail\n      })\n    };\n\n    fetch(apiUrl, options)\n      .then((res) =&gt; res.json())\n      .then(\n        (result) =&gt; {\n          this.setState({\n            response: result\n          });\n        },\n        (error) =&gt; {\n          this.setState({ error });\n        }\n      );\n  }\n\n  render() {\n    return (\n      &lt;main&gt;\n        &lt;div className=\"box\"&gt;\n          &lt;Popup\n            trigger={&lt;button className=\"btn blue-outline\"&gt; Create a new card&lt;/button&gt;}\n            modal\n            position=\"right center\"&gt;\n            &lt;div&gt;\n              &lt;div&gt;\n                &lt;label&gt;Title:&lt;/label&gt;\n                &lt;input\n                  style={{ width: \"100%\" }}\n                  className=\"input\"\n                  name=\"createCardTitle\"\n                  onChange={(e) =&gt; {\n                    this.setState({ title: e.target.value });\n                  }}\n                  value={this.state.title}&gt;&lt;/input&gt;\n              &lt;/div&gt;\n              &lt;div&gt;\n                &lt;label&gt;URL:&lt;/label&gt;\n                &lt;input\n                  style={{ width: \"100%\" }}\n                  className=\"input\"\n                  name=\"createCardURL\"\n                  onChange={(e) =&gt; {\n                    this.setState({ url: e.target.value });\n                  }}&gt;&lt;/input&gt;\n              &lt;/div&gt;\n              &lt;div&gt;\n                &lt;label&gt;Thumbnail URL:&lt;/label&gt;\n                &lt;input\n                  style={{ width: \"100%\" }}\n                  className=\"input\"\n                  name=\"createCardThumbnail\"\n                  onChange={(e) =&gt; {\n                    this.setState({ thumbnail: e.target.value });\n                  }}\n                  value={this.state.thumbnail}&gt;&lt;/input&gt;\n              &lt;/div&gt;\n              &lt;label className=\"radio\"&gt;\n                &lt;input\n                  id=\"videoCardRadio\"\n                  type=\"radio\"\n                  name=\"radio_group_1\"\n                  value=\"video\"\n                  checked={this.state.whichRadioSelected === \"video\"}\n                  onChange={() =&gt; this.setState({ whichRadioSelected: \"video\" })}\n                /&gt;\n                &lt;span&gt;Video Card&lt;/span&gt;\n              &lt;/label&gt;\n              &lt;label className=\"radio\"&gt;\n                &lt;input\n                  id=\"manualCardRadio\"\n                  type=\"radio\"\n                  name=\"radio_group_1\"\n                  value=\"manual\"\n                  checked={this.state.whichRadioSelected === \"manual\"}\n                  onChange={() =&gt; this.setState({ whichRadioSelected: \"manual\" })}\n                /&gt;\n                &lt;span&gt;Manual Card&lt;/span&gt;\n              &lt;/label&gt;\n              &lt;br&gt;&lt;/br&gt;\n              &lt;button\n                style={{\n                  float: \"left\"\n                }}\n                onClick={() =&gt; this.createManualProduct(this.state.title, this.state.url, this.state.thumbnail)}\n                className=\"btn blue-outline\"\n                id=\"confirmModalBtn\"&gt;\n                Create\n              &lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/Popup&gt;\n          &lt;div className=\"listDisplay\"&gt;\n            &lt;HelpList /&gt;\n            &lt;ManualHelpList /&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/main&gt;\n    );\n  }\n}\nexport default HelpAdminView;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "lodash", "throttling"], "comments": [{"owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "edited": false, "score": 0, "creation_date": 1571230379, "post_id": 58413762, "comment_id": 103170485, "body": "Is this in a functional component?"}, {"owner": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "reply_to_user": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "edited": false, "score": 0, "creation_date": 1571230427, "post_id": 58413762, "comment_id": 103170523, "body": "@Dominic Yes it is"}], "answers": [{"comments": [{"owner": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "edited": false, "score": 0, "creation_date": 1571231494, "post_id": 58413882, "comment_id": 103171164, "body": "Thanks! This is great and fixes the throttling, but it breaks another part of my app - it seems now it will not react to prop changes or that the parent will not set state that is passed as a prop to this component.."}, {"owner": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "edited": false, "score": 0, "creation_date": 1571235526, "post_id": 58413882, "comment_id": 103173834, "body": "Thanks very much, unfortunately using <code>useCallback</code> has the same effect as using no hook at all where the throttle stops working. I think this is because I have the get <code>useCallback</code> to &#39;listen` to a function that&#39;s passed in to <code>messagingController.dispatchActions</code> as a parameter."}, {"owner": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "edited": false, "score": 1, "creation_date": 1571235866, "post_id": 58413882, "comment_id": 103174051, "body": "I have updated my code above to show what I&#39;m trying to do with <code>useCallback</code>"}, {"owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "reply_to_user": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "edited": false, "score": 0, "creation_date": 1571240083, "post_id": 58413882, "comment_id": 103176716, "body": "It will be easier to put your <code>handleThrottledText </code> code inside of useCallback, otherwise since you are passing it as dependency and it is created every render, the useCallback function also is and so throttle won&#39;t work"}, {"owner": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "edited": false, "score": 0, "creation_date": 1571245790, "post_id": 58413882, "comment_id": 103179443, "body": "Thanks very much @Dominic - I&#39;ve now added update 2 to the post - would it be possible for you to be a little bit more explicit when you say put the `handleThrottledText code inside of useCallback&#39;, as I&#39;ve done when I think you&#39;re suggesting and the function is now not even being called. I&#39;m desperate to get this working so really appreciate it! :)"}, {"owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "reply_to_user": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "edited": false, "score": 1, "creation_date": 1571250092, "post_id": 58413882, "comment_id": 103181308, "body": "It looks like you started currying the function twice <code>(text) =&gt; (): void =&gt; {</code> See <a href=\"https://codesandbox.io/s/crazy-poincare-1g9cd\" rel=\"nofollow noreferrer\">codesandbox.io/s/crazy-poincare-1g9cd</a>"}, {"owner": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "edited": false, "score": 0, "creation_date": 1571251585, "post_id": 58413882, "comment_id": 103181996, "body": "Thanks, have made my final update above - I think I know what you meant earlier about putting the &#39;handleThrottledText` function in <code>useCallback</code>. It seems like I can get throttle to work but whatever I put in the <code>useCallback</code> array parameter for <code>handleThrottledText</code> it either doesn&#39;t work at all or I lose the throttle :("}, {"owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "reply_to_user": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "edited": false, "score": 1, "creation_date": 1571252500, "post_id": 58413882, "comment_id": 103182372, "body": "That&#39;s because <code>handleThrottledTextResponse</code> is created every render so the depedency changes and so the throttle callback is recreated, you need to wrap that one in a callback or ref too... joys of hooks! <code>const handleThrottledTextResponse = useCallback(() =&gt; {...}, [setTextInputResponses])</code>"}, {"owner": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "edited": false, "score": 0, "creation_date": 1571253948, "post_id": 58413882, "comment_id": 103183003, "body": "Thanks very much, I wish it worked but it doesn&#39;t \ud83d\ude2d\ud83d\ude2d\ud83d\ude2d"}], "tags": [], "owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "is_accepted": false, "score": 1, "last_activity_date": 1571232156, "last_edit_date": 1571232156, "creation_date": 1571230610, "answer_id": 58413882, "question_id": 58413762, "link": "https://stackoverflow.com/questions/58413762/throttle-not-working-when-calling-class-method-from-inside-throttled-function/58413882#58413882", "title": "Throttle not working when calling class method from inside throttled function", "body": "<p>I'm assuming this is in a functional component so that <code>throttledTextInput</code> is being created every time you re-render the component, breaking the behaviour of it. I'm guessing that <code>messagingController.dispatchActions</code> causes a re-render of your component.</p>\n\n<pre><code>const throttledTextInput = useRef(throttle(handleThrottledText, 1000));\n\nconst handleThrottledText = (text: string): void =&gt; {\n  console.log(text);\n};\n</code></pre>\n\n<p><code>useRef</code> will create the throttled function only once, you can use the same pattern for debouncing etc.</p>\n\n<p>Call it like this: <code>throttledTextInput.current('calling throttled func with this text')</code>.</p>\n\n<p><strong>If your throttled function has dependencies</strong> they will need to be declared so that the function gets re-created if they change. But be careful, if the throttled callback itself changes the dependencies it will break as the function will keep getting re-created. For this <strong>useCallback</strong> is a more suitable hook:</p>\n\n<pre><code>const throttledTextInput = useCallback(\n  throttle(text =&gt; {\n    console.log('called throttle with', text, props.dispatchMessages);\n  }, 1000),\n  [props.dispatchMessages]\n);\n</code></pre>\n\n<p>Unlike <code>useRef</code> you call it just with <code>throttledTextInput('some text')</code>.</p>\n"}], "owner": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571481126, "creation_date": 1571230279, "last_edit_date": 1571481126, "question_id": 58413762, "link": "https://stackoverflow.com/questions/58413762/throttle-not-working-when-calling-class-method-from-inside-throttled-function", "title": "Throttle not working when calling class method from inside throttled function", "body": "<p>I have this code that is throttling text input, but I also want it to throttle a method call which seems to be stopping the text throttling from working.</p>\n\n<pre><code>import { throttle } from 'lodash';\n...\n      &lt;input\n        type=\"text\"\n        onChange={(e): void =&gt; throttledTextInput(e.target.value)}\n        style={{ outline: 'none' }}\n      /&gt;\n...\n  const throttledTextInput = throttle((text) =&gt; handleThrottledText(text), 1000);\n...\n  const handleThrottledText = (text: string): void =&gt; {\n    console.log(text); // without the below two lines it works fine\n    const textInputMessage: Array&lt;Action&gt; = [];\n    // but when calling the below, the throttling stops working and it \n  };\n</code></pre>\n\n<p>Any ideas why? How can I solve the issue? Thanks in advance!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 310, "user_id": 6420563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0xTdx.jpg?s=128&g=1", "display_name": "vadjs", "link": "https://stackoverflow.com/users/6420563/vadjs"}, "is_accepted": true, "score": 1, "last_activity_date": 1571230345, "creation_date": 1571230345, "answer_id": 58413783, "question_id": 58413557, "link": "https://stackoverflow.com/questions/58413557/hide-some-some-columns-in-angular-material-in-mobile-mode/58413783#58413783", "title": "Hide some some columns in Angular Material in Mobile mode", "body": "<p>You can set different values to <code>displayedColumns</code> depending on user agent. Something like:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>ngOnInit() {\n  if (isMobileBrowser) this.displayedColumns = ['mobile', 'column', 'set'];\n  else this.displayedColumns = ['desktop', 'column', 'big', 'set'];\n</code></pre>\n\n<p>You can find simple function how to check mobile browser <a href=\"https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\">in this question</a>.</p>\n"}], "owner": {"reputation": 249, "user_id": 12212344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kVOZ786rnAM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJlxXZdHmapwYNB1VUFyLU7jVRcw/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/12212344/kianoush-dortaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 58413783, "answer_count": 1, "score": 1, "last_activity_date": 1571230345, "creation_date": 1571229617, "question_id": 58413557, "link": "https://stackoverflow.com/questions/58413557/hide-some-some-columns-in-angular-material-in-mobile-mode", "title": "Hide some some columns in Angular Material in Mobile mode", "body": "<p>i have this table using angular material :</p>\n\n<pre><code>    &lt;div class=\"table-container\"&gt;\n    &lt;table mat-table [dataSource]=\"dataSource\" class=\"child\"&gt;\n        &lt;mat-divider&gt;&lt;/mat-divider&gt;\n\n        &lt;!-- title column --&gt;\n        &lt;ng-container matColumnDef=\"title\" &gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt; {{ 'GENERAL.TITLE' | translate }} &lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt; {{ (element.title | slice:0:20 )+ '...' }} &lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"writerFullName\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt; {{ 'POST.WRITER_ID' | translate }} &lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.writerFullName}} &lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"paytype\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt; {{ 'POST.PAY_TYPE' | translate }} &lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt; {{'ENUM.PAY_TYPE.'+element.payType | translate }} &lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"likeCount\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt; {{ 'POST.LIKE_COUNT' | translate }} &lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.likeCount | translate }} &lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"createdOnUtc\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt; {{ 'POST.CREATE_DATE' | translate }} &lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt;\n                &lt;span *ngIf=\"lang=='fa'\"&gt;{{ element.createdOnUtc | jalali }}&lt;/span&gt;\n                &lt;span *ngIf=\"lang!='fa'\"&gt; {{element.createdOnUtc | date: 'dd/MM/yyyy hh:mm'}} &lt;/span&gt;\n            &lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"thumbnail\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt; {{ 'GENERAL.PHOTO' | translate }} &lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt;\n                &lt;img class=\"table-user-pic\" [src]=\"appConfig.imagePath + element.thumbnail\" id=\"photo\"\n                    alt=\"user avatar\" width=\"50\"&gt;\n            &lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;!-- cublished column --&gt;\n        &lt;ng-container matColumnDef=\"published\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt; {{ 'GIFT.PUBLISHED' | translate }} &lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt;\n                &lt;span *ngIf=\"element.published\"&gt;\n                    &lt;i class=\"fa fa-check-circle ic-green\"&gt;&lt;/i&gt;\n                &lt;/span&gt;\n\n                &lt;span class=\"\" *ngIf=\"!element.published\"&gt;\n                    &lt;i class=\"fa fa-ban ic-red\"&gt;&lt;/i&gt;\n                &lt;/span&gt;\n            &lt;/td&gt;\n\n        &lt;/ng-container&gt;\n\n        &lt;!-- actions --&gt;\n        &lt;ng-container matColumnDef=\"actions\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt;\n                {{ 'GENERAL.ACTIONS' | translate }}\n            &lt;/th&gt;\n\n            &lt;td mat-cell *matCellDef=\"let row; let i=index;\"&gt;\n                &lt;a mat-icon-button [matTooltip]=\"'TOOLTIP.EDIT' | translate\" color=\"primary\" uaccess\n                    [permission]=\"':Post:Put'\" [routerLink]=\"['/post/',row.id,'edit']\"&gt;\n                    &lt;mat-icon aria-label=\"Edit\"&gt;edit&lt;/mat-icon&gt;\n                &lt;/a&gt;\n                &lt;a mat-icon-button (click)=\"showDetail(row)\" [matTooltip]=\"'TOOLTIP.DETAIL' | translate\"&gt;\n                    &lt;i class=\"far fa-eye\" &gt;&lt;/i&gt;\n                &lt;/a&gt;\n                &lt;a mat-icon-button [matTooltip]=\"'TOOLTIP.LIKE' | translate\"&gt;\n                    &lt;i class=\"far fa-thumbs-up\" (click)=\"goRouteLikes(row.id)\"&gt;&lt;/i&gt;\n                &lt;/a&gt;\n                &lt;a mat-icon-button [matTooltip]=\"'TOOLTIP.COMMENTS' | translate\"&gt;\n                    &lt;i class=\"far fa-comments\" [routerLink]=\"['/post/comment/',row.id,'list']\"&gt;&lt;/i&gt;\n                &lt;/a&gt;\n                &lt;button mat-icon-button [matTooltip]=\"'TOOLTIP.DELETE' | translate\" color=\"accent\" uaccess\n                    [permission]=\"':Post:Delete'\" (click)=\"delete(row.id)\"&gt;\n                    &lt;mat-icon aria-label=\"Delete\"&gt;delete&lt;/mat-icon&gt;\n                &lt;/button&gt;\n            &lt;/td&gt;\n        &lt;/ng-container&gt;\n        &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n        &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;mat-progress-bar *ngIf=\"dataSource.loading$ | async\" mode=\"indeterminate\"&gt;&lt;/mat-progress-bar&gt;\n    &lt;mat-paginator [length]=\"dataSource.length$ | async\" [pageSize]=\"pageSize\" [pageSizeOptions]=\"pageSizeOptions\"\n        showFirstLastButtons&gt;&lt;/mat-paginator&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>now how can i hide some columns to no need they ????</p>\n\n<p>/*****************************/*****************************/**************************/************************/*************************/\n/*****************************/*****************************/******************</p>\n"}, {"tags": ["node.js", "typescript", "mocking", "jestjs", "fs"], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 7127982, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2574cc27f4133eb7630d7e2bfc27a19?s=128&d=identicon&r=PG&f=1", "display_name": "jones", "link": "https://stackoverflow.com/users/7127982/jones"}, "edited": false, "score": 0, "creation_date": 1571234918, "post_id": 58414757, "comment_id": 103173426, "body": "Cool, I got some working tests and it starts to make sense. I suppose there&#39;s no way of doing like fs.existsSync() on the &quot;mock&quot; version of the file system after adding the files. You can only check metrics like the above am I right?"}, {"owner": {"reputation": 23527, "user_id": 637367, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6aa63978535615323b2b4c42c62e723c?s=128&d=identicon&r=PG", "display_name": "Teneff", "link": "https://stackoverflow.com/users/637367/teneff"}, "reply_to_user": {"reputation": 439, "user_id": 7127982, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2574cc27f4133eb7630d7e2bfc27a19?s=128&d=identicon&r=PG&f=1", "display_name": "jones", "link": "https://stackoverflow.com/users/7127982/jones"}, "edited": false, "score": 0, "creation_date": 1571235168, "post_id": 58414757, "comment_id": 103173587, "body": "@jones it makes sense to describe that if <code>fs.existsSync()</code> returns <code>true</code>, your code is supposed to do <code>X</code>, otherwise it should do <code>Y</code>"}, {"owner": {"reputation": 439, "user_id": 7127982, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2574cc27f4133eb7630d7e2bfc27a19?s=128&d=identicon&r=PG&f=1", "display_name": "jones", "link": "https://stackoverflow.com/users/7127982/jones"}, "edited": false, "score": 0, "creation_date": 1571235745, "post_id": 58414757, "comment_id": 103173974, "body": "so basically putting fs.existsSync inside the function itself and not in the test code?"}], "tags": [], "owner": {"reputation": 23527, "user_id": 637367, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6aa63978535615323b2b4c42c62e723c?s=128&d=identicon&r=PG", "display_name": "Teneff", "link": "https://stackoverflow.com/users/637367/teneff"}, "is_accepted": true, "score": 3, "last_activity_date": 1571233199, "creation_date": 1571233199, "answer_id": 58414757, "question_id": 58413428, "link": "https://stackoverflow.com/questions/58413428/jest-mocking-and-testing-the-node-js-filesystem/58414757#58414757", "title": "Jest - Mocking and testing the node.js filesystem", "body": "<p>Since you want to test you implementation you can try this:</p>\n\n<pre><code>import fs from 'fs';\nimport generateFiles from 'function.ts';\n\n// auto-mock fs\njest.mock('fs');\n\ndescribe('generateFiles', () =&gt; {\n  beforeAll(() =&gt; {\n    // clear any previous calls\n    fs.writeFileSync.mockClear();\n\n\n    // since you're using fs.readFileSync\n    // set some retun data to be used in your implementation\n    fs.readFileSync.mockReturnValue('X')\n\n    // call your function\n    generateFiles('/root/test/path');\n  });\n\n  it('should match snapshot of calls', () =&gt; {\n    expect(fs.writeFileSync.mock.calls).toMatchSnapshot();\n  });\n\n  it('should have called 3 times', () =&gt; {\n    expect(fs.writeFileSync).toHaveBeenCalledTimes(3);\n  });\n\n  it('should have called with...', () =&gt; {\n    expect(fs.writeFileSync).toHaveBeenCalledWith(\n      '/root/test/path/tslint.json',\n      'X' // &lt;- this is the mock return value from above\n    );\n  });\n});\n</code></pre>\n\n<p><a href=\"https://jestjs.io/docs/en/jest-object#jestmockmodulename-factory-options\" rel=\"nofollow noreferrer\">Here</a> you can read more about the auto-mocking </p>\n"}], "owner": {"reputation": 439, "user_id": 7127982, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2574cc27f4133eb7630d7e2bfc27a19?s=128&d=identicon&r=PG&f=1", "display_name": "jones", "link": "https://stackoverflow.com/users/7127982/jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3569, "favorite_count": 1, "accepted_answer_id": 58414757, "answer_count": 1, "score": 1, "last_activity_date": 1571233199, "creation_date": 1571229171, "last_edit_date": 1571230175, "question_id": 58413428, "link": "https://stackoverflow.com/questions/58413428/jest-mocking-and-testing-the-node-js-filesystem", "title": "Jest - Mocking and testing the node.js filesystem", "body": "<p>I have created a function which basically loops over an array and create files. I'm starting to get into testing using Jest to have some extra security in place to make sure everything works however I'm experiencing some issues trying to mock the Node.js filesystem.</p>\n\n<p>This is the function I wish to test - <strong>function.ts</strong>:</p>\n\n<pre><code>export function generateFiles(root: string) {\n  fs.mkdirSync(path.join(root, '.vscode'));\n  files.forEach((file) =&gt; {\n    fs.writeFileSync(\n      path.join(root, file.path, file.name),\n      fs.readFileSync(path.join(__dirname, 'files', file.path, file.name), 'utf-8')\n    );\n  });\n}\n\nconst files = [\n  { name: 'tslint.json', path: '' },\n  { name: 'tsconfig.json', path: '' },\n  { name: 'extensions.json', path: '.vscode' },\n];\n</code></pre>\n\n<p>I've been reading around but can't really figure out how to test this with jest. No examples to look at. I've tried to install <code>mock-fs</code> which should be a simple way of getting up and running with a mock version of the Node.js FS module but I honestly don't know where to start. This is my first attempt at making a simple test - which causes an error, says 'no such file or directory' - <strong>function.test.ts</strong>:</p>\n\n<pre><code>import fs from 'fs';\nimport mockfs from 'mock-fs';\n\nbeforeEach(() =&gt; {\n  mockfs({\n    'test.ts': '',\n    dir: {\n      'settings.json': 'yallo',\n    },\n  });\n});\n\ntest('testing mock', () =&gt; {\n  const dir = fs.readdirSync('/dir');\n  expect(dir).toEqual(['dir']);;\n});\n\nafterAll(() =&gt; {\n  mockfs.restore();\n});\n</code></pre>\n\n<p>Anyone who can point me in the right direction?</p>\n"}, {"tags": ["angular", "typescript", "sorting", "numbers"], "answers": [{"tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": false, "score": 5, "last_activity_date": 1571229336, "last_edit_date": 1571229336, "creation_date": 1571228694, "answer_id": 58413293, "question_id": 58413263, "link": "https://stackoverflow.com/questions/58413263/property-sort-does-not-exists-on-type-number/58413293#58413293", "title": "Property &#39;sort&#39; does not exists on type &#39;number&#39;", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push\" rel=\"nofollow noreferrer\">Array.push</a> will return new length of array so <code>list.push(data.id)</code> will return a number so you need to change your code to</p>\n\n<pre><code>list.push(data.id);\nlist.sort((stra, strb) =&gt; (stra &lt; strb ? -1 : 1));\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 5004958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65f688bc68fe9b0a2d4346605f52eda5?s=128&d=identicon&r=PG&f=1", "display_name": "Man H", "link": "https://stackoverflow.com/users/5004958/man-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571229336, "creation_date": 1571228616, "question_id": 58413263, "link": "https://stackoverflow.com/questions/58413263/property-sort-does-not-exists-on-type-number", "title": "Property &#39;sort&#39; does not exists on type &#39;number&#39;", "body": "<p>I face this error in my angular projects that doesn't allow me use sort to an array.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CyrZu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CyrZu.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>   let list = [];\n    this.saved = this.db.collection('saved').snapshotChanges().map(changes =&gt; {\n      return changes.map(a =&gt; {\n        const data = a.payload.doc.data() as Saved;\n        data.id = a.payload.doc.id;\n        list.push(data.id).sort((stra, strb) =&gt; (stra &lt; strb ? -1 : 1));\n        return data;\n      });\n    });\n\n\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "protractor", "cucumber"], "comments": [{"owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "edited": false, "score": 0, "creation_date": 1571338904, "post_id": 58412495, "comment_id": 103218042, "body": "Looks like you can create a <a href=\"https://github.com/cucumber/cucumber-js/blob/master/docs/custom_formatters.md\" rel=\"nofollow noreferrer\">custom formatter</a> and get access to the test results using <a href=\"https://github.com/cucumber/cucumber-js/blob/76d50cd5e613be5ed7897e44fdb493c52d324f32/src/formatter/helpers/event_data_collector.js#L11\" rel=\"nofollow noreferrer\">EventDataCollector</a>. I&#39;m not familiar with Cucumber so I can&#39;t say if the stacktrace is actually in there but have a look and see if this helps you."}, {"owner": {"reputation": 173, "user_id": 4071014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q11c7.png?s=128&g=1", "display_name": "Phonesis", "link": "https://stackoverflow.com/users/4071014/phonesis"}, "reply_to_user": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "edited": false, "score": 0, "creation_date": 1571434478, "post_id": 58412495, "comment_id": 103253806, "body": "Thanks, could you provide a code example?"}], "owner": {"reputation": 173, "user_id": 4071014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q11c7.png?s=128&g=1", "display_name": "Phonesis", "link": "https://stackoverflow.com/users/4071014/phonesis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571226220, "creation_date": 1571226220, "question_id": 58412495, "link": "https://stackoverflow.com/questions/58412495/how-to-obtain-exception-failure-message-from-protractor-cucumber-in-an-after", "title": "How to obtain exception / failure message from Protractor /Cucumber in an After hook", "body": "<p>I am trying to find a way to get exception details in an after hook for a Protractor / Cucumber framework I have setup so I am able to log the failure reasons in a report. </p>\n\n<p>I have read both the Protractor and Cucumber.js documentation and cannot find any clear way of achieving this. Wondered if someone had an idea?</p>\n\n<p>Ideally, I'd like to obtain it during an after hook stage such as onCleapUp() or in a cucumber After() stage once the test(s) have completed. </p>\n"}, {"tags": ["angular", "typescript", "events"], "comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1571225815, "post_id": 58412228, "comment_id": 103167777, "body": "FYI - Event emitted when the group value changes. Change events are only emitted when the value changes due to user interaction with a radio button"}], "answers": [{"comments": [{"owner": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "edited": false, "score": 0, "creation_date": 1571227076, "post_id": 58412513, "comment_id": 103168501, "body": "Thanks, that works great if I choose overdraft, but if I choose otherValue (radio button 2), then I want the value &quot;otherValue&quot; to be set in the valueChanged event. Right now, it always sets this.overdraft to &#39;overdraft&#39;. Hope it makes sense. Also I dont see the use of selectedValue, as it is never used"}, {"owner": {"reputation": 2424, "user_id": 4604645, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yQczD.png?s=128&g=1", "display_name": "The Fabio", "link": "https://stackoverflow.com/users/4604645/the-fabio"}, "reply_to_user": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "edited": false, "score": 0, "creation_date": 1571227191, "post_id": 58412513, "comment_id": 103168564, "body": "<code>selectedValue</code> would be a good to have, if you want to use the selected value somewhere else."}, {"owner": {"reputation": 2424, "user_id": 4604645, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yQczD.png?s=128&g=1", "display_name": "The Fabio", "link": "https://stackoverflow.com/users/4604645/the-fabio"}, "reply_to_user": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "edited": false, "score": 0, "creation_date": 1571227292, "post_id": 58412513, "comment_id": 103168639, "body": "when you select the &#39;otherValue&#39; option, that should be the value of the event. Give it a try! =)"}, {"owner": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "edited": false, "score": 0, "creation_date": 1571229973, "post_id": 58412513, "comment_id": 103170229, "body": "I made it work, but instead of <code>[value]</code> in HTML, i just used <code>value</code> (without squarebrackets) for the buttons, so in the TypeScript <code>valueChanged(event)</code> method, I can access the value from the radio button, e.g. by using <code>console.log(event.value) &#47;&#47;will log the value of chosen button</code>. I have edited your answer and will approve it once my edit is approved (its under peer review). Thank you VERY much for the help! EDIT: I added my edit/solution to my OP."}, {"owner": {"reputation": 2424, "user_id": 4604645, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yQczD.png?s=128&g=1", "display_name": "The Fabio", "link": "https://stackoverflow.com/users/4604645/the-fabio"}, "reply_to_user": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "edited": false, "score": 0, "creation_date": 1571257545, "post_id": 58412513, "comment_id": 103184582, "body": "fair enough, I think the square brackets might be phasing out of ng... I have had to remove them from some of my templates as well at times."}, {"owner": {"reputation": 2424, "user_id": 4604645, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yQczD.png?s=128&g=1", "display_name": "The Fabio", "link": "https://stackoverflow.com/users/4604645/the-fabio"}, "reply_to_user": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "edited": false, "score": 0, "creation_date": 1571257830, "post_id": 58412513, "comment_id": 103184711, "body": "your edit was rejected by a couple of people.... I edited the answer myself to remove the <code>[]</code>"}, {"owner": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "edited": false, "score": 0, "creation_date": 1571304717, "post_id": 58412513, "comment_id": 103199534, "body": "Oh okay, it&#39;s weird that I don&#39;t receive notification or reason from the people who rejected it, but thanks for letting me know. I accepted your answer - thanks for help"}], "tags": [], "owner": {"reputation": 2424, "user_id": 4604645, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yQczD.png?s=128&g=1", "display_name": "The Fabio", "link": "https://stackoverflow.com/users/4604645/the-fabio"}, "is_accepted": false, "score": 1, "last_activity_date": 1571257726, "last_edit_date": 1571257726, "creation_date": 1571226274, "answer_id": 58412513, "question_id": 58412228, "link": "https://stackoverflow.com/questions/58412228/change-boolean-on-change-event/58412513#58412513", "title": "Change boolean on (change) event", "body": "<p>Have you tried using ngModel?</p>\n\n<p>it might be as simple as:</p>\n\n<pre><code>&lt;mat-radio-group  [(ngModel)]=\"selectedValue\" (change)=\"valueChanged($event)\"&gt;\n  &lt;mat-radio-button value=\"overdraft\"&gt;Overdraft&lt;/mat-radio-button&gt;\n  &lt;mat-radio-button value=\"otherValue\"&gt;Other&lt;/mat-radio-button&gt;\n&lt;/mat-radio-group&gt;\n</code></pre>\n\n<p>And in your controller your could have:</p>\n\n<pre><code>valueChanged(event) {\n    this.overdraft = (event.value ==='overdraft');\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "edited": false, "score": 0, "creation_date": 1571231229, "post_id": 58412827, "comment_id": 103170997, "body": "Thanks for the help. This unfortunately didn&#39;t quite do the job. I edited my original post with the solution if you are interested."}], "tags": [], "owner": {"reputation": 27, "user_id": 6858769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f0b265c31673042b924af6cb175341d?s=128&d=identicon&r=PG", "display_name": "Homer", "link": "https://stackoverflow.com/users/6858769/homer"}, "is_accepted": false, "score": 0, "last_activity_date": 1571227294, "creation_date": 1571227294, "answer_id": 58412827, "question_id": 58412228, "link": "https://stackoverflow.com/questions/58412228/change-boolean-on-change-event/58412827#58412827", "title": "Change boolean on (change) event", "body": "<p>You can also modify the value directly in the HTML when <code>change</code> event is triggered:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;mat-radio-button (change)=\"overdraft = !overdraft; display()\" [value]=\"overdraft\"&gt;Overdraft&lt;/mat-radio-button&gt;\n</code></pre>\n\n<pre><code>  overdraft = false;\n  display() {\n    console.log(this.overdraft);\n  }\n</code></pre>\n\n<p>The display function is only here for demonstration purpose ;)</p>\n"}, {"comments": [{"owner": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "edited": false, "score": 0, "creation_date": 1571231198, "post_id": 58412902, "comment_id": 103170981, "body": "Thanks for the help connectedMind, I already found that answer before posting and tried to implement <code>toggleEditable</code>, but it didn&#39;t quite do the job. I found an answer by tweaking another answer in the post - I edited it into my original post, if you are interested in the solution I found."}, {"owner": {"reputation": 103, "user_id": 12152151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dROKL.jpg?s=128&g=1", "display_name": "connectedMind", "link": "https://stackoverflow.com/users/12152151/connectedmind"}, "reply_to_user": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "edited": false, "score": 0, "creation_date": 1571232880, "post_id": 58412902, "comment_id": 103172060, "body": "I guess you mean editing the mentioned event type, which was part of my proposition. So I propose: at least give me +1 ;)"}], "tags": [], "owner": {"reputation": 103, "user_id": 12152151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dROKL.jpg?s=128&g=1", "display_name": "connectedMind", "link": "https://stackoverflow.com/users/12152151/connectedmind"}, "is_accepted": false, "score": 1, "last_activity_date": 1571227513, "creation_date": 1571227513, "answer_id": 58412902, "question_id": 58412228, "link": "https://stackoverflow.com/questions/58412228/change-boolean-on-change-event/58412902#58412902", "title": "Change boolean on (change) event", "body": "<ol>\n<li>Have you looked at what <code>console.log(event.target.checked)</code> gives you back?</li>\n<li><a href=\"https://stackoverflow.com/questions/37541106/angular-2-radio-button-events/37541292\">Angular 2 radio button events</a> try <code>&lt;input type=\"radio\" \"toggleEditable($event)\" value=\"overdraft\"&gt;Overdraft&lt;/input&gt;</code>\nIf it works than, maybe it is a problem with mat-radio-button</li>\n<li><p><a href=\"https://stackoverflow.com/questions/46362951/material-radio-button-change-event-angular-4\">Material radio button change event Angular 4</a> suggests that you need a different type of event:</p>\n\n<p><code>import { MdRadioChange } from '@angular/material';\n...\ntoggleEditable(event: MdRadioChange) {...}\n</code></p></li>\n</ol>\n"}], "owner": {"reputation": 316, "user_id": 7867996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2132a521f8ecad66732476b7b6fdcd9b?s=128&d=identicon&r=PG&f=1", "display_name": "thesystem", "link": "https://stackoverflow.com/users/7867996/thesystem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1423, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1571257726, "creation_date": 1571225335, "last_edit_date": 1571230101, "question_id": 58412228, "link": "https://stackoverflow.com/questions/58412228/change-boolean-on-change-event", "title": "Change boolean on (change) event", "body": "<p>I am trying to use a boolean to detect whether a radio button in a form has been checked or not.</p>\n\n<p><strong>(I left out unneccessary code for both HTML and TS files)</strong></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;mat-radio-button (change)=\"toggleEditable($event)\" value=\"overdraft\"&gt;Overdraft&lt;/mat-radio-button&gt;\n</code></pre>\n\n<p>TypeScript:</p>\n\n<pre><code>overdraft = false;\n\ntoggleEditable(event) {\n  if ( event.target.checked ) {\n    this.overdraft = true;\n  }\n}\n</code></pre>\n\n<p>The event is not fired, because when I try to click the radio button and submit the form, <code>overdraft</code> is not set to true. <strong>HOWEVER</strong>, if I use a <code>(click)</code> event instead of <code>(change)</code>, it works fine, <strong>BUT</strong> <code>(click)</code> events come with the disadvantage that you have to double-click the radio-buttons for the visual selection to appear, and thus I feel it a neccessity to use <code>(change)</code> (see more here: <a href=\"https://stackoverflow.com/questions/50067083/mat-checkbox-does-not-check-if-condition-is-false-only-on-double-click/50067108#comment102969092_50067108\">mat-checkbox does not check if condition is false (only on double click)</a>).</p>\n\n<p>How do I solve this issue, so that when I click the radio-button, my <code>(change)</code> event is fired and <code>overdraft</code> is set to true without using the <code>(click)</code>-events that come with UI-issues?</p>\n\n<p><strong>SOLUTION</strong>:</p>\n\n<p>If you want to fetch the actual value of the <code>mat-radio-button</code>, you will need to make the following changes:</p>\n\n<p>1) Instead of using <code>[value]=\"overdraft\"</code> in HTML, use <code>value</code> without square brackets, such as this:\n<code>&lt;mat-radio-button value=\"overdraft\"&gt;Overdraft&lt;/mat-radio-button&gt;</code></p>\n\n<p>2) In your TypeScript code, you can now access the value property from HTML:</p>\n\n<pre><code>valueChanged(event: MatRadioChange) {\n  console.log(event.value); //will log the value for the button you clicked\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1571224894, "post_id": 58412065, "comment_id": 103167256, "body": "<code>this.data = this.data.concat(this.userRole)</code> ?"}, {"owner": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1571224992, "post_id": 58412065, "comment_id": 103167302, "body": "what would help is an example of <code>users</code> object"}, {"owner": {"reputation": 1626, "user_id": 7167775, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5d07b0f5196292dff1fad0a55985671?s=128&d=identicon&r=PG&f=1", "display_name": "Arter", "link": "https://stackoverflow.com/users/7167775/arter"}, "reply_to_user": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1571225122, "post_id": 58412065, "comment_id": 103167369, "body": "@CodeManiac I don&#39;t need to merge... i need to push item"}, {"owner": {"reputation": 1626, "user_id": 7167775, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5d07b0f5196292dff1fad0a55985671?s=128&d=identicon&r=PG&f=1", "display_name": "Arter", "link": "https://stackoverflow.com/users/7167775/arter"}, "reply_to_user": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1571225153, "post_id": 58412065, "comment_id": 103167387, "body": "@Bravo I will update my question"}, {"owner": {"reputation": 206, "user_id": 6416252, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a45f99a142a57ea1dc9e64cfccf80f2?s=128&d=identicon&r=PG&f=1", "display_name": "Srinivas", "link": "https://stackoverflow.com/users/6416252/srinivas"}, "edited": false, "score": 0, "creation_date": 1571225172, "post_id": 58412065, "comment_id": 103167400, "body": "Can you given an example or users"}, {"owner": {"reputation": 1626, "user_id": 7167775, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5d07b0f5196292dff1fad0a55985671?s=128&d=identicon&r=PG&f=1", "display_name": "Arter", "link": "https://stackoverflow.com/users/7167775/arter"}, "reply_to_user": {"reputation": 206, "user_id": 6416252, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a45f99a142a57ea1dc9e64cfccf80f2?s=128&d=identicon&r=PG&f=1", "display_name": "Srinivas", "link": "https://stackoverflow.com/users/6416252/srinivas"}, "edited": false, "score": 0, "creation_date": 1571225514, "post_id": 58412065, "comment_id": 103167613, "body": "@Srinivas I edit my question"}], "answers": [{"tags": [], "owner": {"reputation": 862, "user_id": 3738129, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nyKe9.jpg?s=128&g=1", "display_name": "Yvan", "link": "https://stackoverflow.com/users/3738129/yvan"}, "is_accepted": false, "score": 1, "last_activity_date": 1571225096, "creation_date": 1571225096, "answer_id": 58412168, "question_id": 58412065, "link": "https://stackoverflow.com/questions/58412065/loop-inside-for-loop-nested-arrays/58412168#58412168", "title": "Loop inside for loop - nested arrays", "body": "<p>I made some change on your code. Every loop you are creating a new role, I supposed this.data is a array of userRole? So, you can add it every loop on your data array.</p>\n\n<pre><code>for (let user of users){\n for (let u of user.role){\n     const userRole= { name: user.name, role: u};\n     this.userRole.push(userRole);\n     this.data.push(userRole) \n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1626, "user_id": 7167775, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5d07b0f5196292dff1fad0a55985671?s=128&d=identicon&r=PG&f=1", "display_name": "Arter", "link": "https://stackoverflow.com/users/7167775/arter"}, "edited": false, "score": 0, "creation_date": 1571225587, "post_id": 58412201, "comment_id": 103167664, "body": "because I need every role in single object"}], "tags": [], "owner": {"reputation": 23, "user_id": 8169989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ac4e3b9389246a5d9de2d4ca1326ee?s=128&d=identicon&r=PG&f=1", "display_name": "S&#248;ren Andersen", "link": "https://stackoverflow.com/users/8169989/s%c3%b8ren-andersen"}, "is_accepted": false, "score": 0, "last_activity_date": 1571225226, "creation_date": 1571225226, "answer_id": 58412201, "question_id": 58412065, "link": "https://stackoverflow.com/questions/58412065/loop-inside-for-loop-nested-arrays/58412201#58412201", "title": "Loop inside for loop - nested arrays", "body": "<p>Why don't you use the \"u\" in the second for loop, to add your array of roles?</p>\n"}, {"tags": [], "owner": {"reputation": 554, "user_id": 3143987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf70182ea295ab466210a6f9db15dfc7?s=128&d=identicon&r=PG&f=1", "display_name": "vipul patel", "link": "https://stackoverflow.com/users/3143987/vipul-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1571225962, "last_edit_date": 1571225962, "creation_date": 1571225461, "answer_id": 58412266, "question_id": 58412065, "link": "https://stackoverflow.com/questions/58412065/loop-inside-for-loop-nested-arrays/58412266#58412266", "title": "Loop inside for loop - nested arrays", "body": "<p>Please use flatMap :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = { \"name\": \"user1\",\r\n            \"role\": [  // nested array\r\n             [{\r\n            \"role\" : \"admin\",\r\n            \"user\" : \"user1\"\r\n           },{\r\n            \"role\" : \"tester\",\r\n            \"user\" : \"user1\"\r\n           },{\r\n            \"role\" : \"view\",\r\n            \"user\" : \"user1\"\r\n           }]\r\n           ]\r\n          };\r\n          \r\n          \r\n          \r\n          data.role =   data.role.flatMap(data =&gt; data);          \r\n          console.log(\"print data object\");\r\n          console.log(data)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1626, "user_id": 7167775, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5d07b0f5196292dff1fad0a55985671?s=128&d=identicon&r=PG&f=1", "display_name": "Arter", "link": "https://stackoverflow.com/users/7167775/arter"}, "edited": false, "score": 0, "creation_date": 1571226467, "post_id": 58412307, "comment_id": 103168167, "body": "You give me the proper way...  but i need to make sam change... but thnx"}], "tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": true, "score": 3, "last_activity_date": 1571225971, "last_edit_date": 1571225971, "creation_date": 1571225631, "answer_id": 58412307, "question_id": 58412065, "link": "https://stackoverflow.com/questions/58412065/loop-inside-for-loop-nested-arrays/58412307#58412307", "title": "Loop inside for loop - nested arrays", "body": "<p>You can simply use two <code>map</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let users = [{name: \"user1\",role: [\"admin\", \"tester\", \"viewer\"]}, {name: \"user2\",role: [\"admin\", \"tester\", \"viewer\"]}]\r\n\r\nlet final = users.map(({name,role})=&gt;{\r\n  return {\r\n    name,\r\n    role: role.map(user=&gt;({name,user}))\r\n  }\r\n})\r\n\r\nconsole.log(final)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>To make your code work, all you need is defined two variable one to hold the final value and another one to hold <code>userRole</code> for particular user,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const users = [{name: \"user1\",role: [\"admin\", \"tester\", \"viewer\"]}, {name: \"user2\", role: [\"admin\", \"tester\", \"viewer\"]}]\r\nconst final = []\r\n\r\nfor (let user of users) {\r\n  const userRole = [];\r\n  for (let u of user.role) {\r\n    userRole.push({\r\n      name: user.name,\r\n      role: u\r\n    })\r\n  }\r\n  final.push({name:user.name, role: userRole})\r\n}\r\n\r\nconsole.log(final)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 206, "user_id": 6416252, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a45f99a142a57ea1dc9e64cfccf80f2?s=128&d=identicon&r=PG&f=1", "display_name": "Srinivas", "link": "https://stackoverflow.com/users/6416252/srinivas"}, "is_accepted": false, "score": 1, "last_activity_date": 1571226570, "creation_date": 1571226570, "answer_id": 58412593, "question_id": 58412065, "link": "https://stackoverflow.com/questions/58412065/loop-inside-for-loop-nested-arrays/58412593#58412593", "title": "Loop inside for loop - nested arrays", "body": "<pre><code>users = [{\n  name: \"user1\",\n  role: [\"admin\", \"tester\", \"viewer\"],\n  },{\n  name: \"user2\",\n  role: [\"admin\", \"tester\", \"viewer\"],\n  }\n]\n\n\nuserRole = users.map(user =&gt; {\n  roles = user.role.map(x =&gt; {\n    return {role:x,user:user.name}\n  })\n\n   return { \n      name: user.name,\n      role: roles\n   }\n})\nconsole.log(userRole)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1626, "user_id": 7167775, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5d07b0f5196292dff1fad0a55985671?s=128&d=identicon&r=PG&f=1", "display_name": "Arter", "link": "https://stackoverflow.com/users/7167775/arter"}, "is_accepted": false, "score": 0, "last_activity_date": 1571226673, "creation_date": 1571226673, "answer_id": 58412615, "question_id": 58412065, "link": "https://stackoverflow.com/questions/58412065/loop-inside-for-loop-nested-arrays/58412615#58412615", "title": "Loop inside for loop - nested arrays", "body": "<p>Here is the answer, thnx to user @CodeManiac, he gave me a way of thinking...</p>\n\n<p>I need to push item inside second <code>for-loop</code>... and now everything works like I expect</p>\n\n<pre><code>for (let user of users){\n  for (let u of user.role){\n     this.data.push(name: user.name, role: u) \n }\n}\n</code></pre>\n"}], "owner": {"reputation": 1626, "user_id": 7167775, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5d07b0f5196292dff1fad0a55985671?s=128&d=identicon&r=PG&f=1", "display_name": "Arter", "link": "https://stackoverflow.com/users/7167775/arter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 58412307, "answer_count": 6, "score": 1, "last_activity_date": 1571226949, "creation_date": 1571224715, "last_edit_date": 1571226949, "question_id": 58412065, "link": "https://stackoverflow.com/questions/58412065/loop-inside-for-loop-nested-arrays", "title": "Loop inside for loop - nested arrays", "body": "<p>I have for loop inside for loop...  and my array output is nested array <code>[[{...}]]</code> but I need\n<code>[{...}]</code></p>\n\n<p>Is there any way to make this array without nested array in this case?</p>\n\n<p>Here is my code...\nI have users and for every user  i need to add new array of objects</p>\n\n<pre><code>users = [{\n  name: \"user1\"\n  role: [\"admin\", \"tester\", \"viewer\"]\n  },{\n  name: \"user2\"\n  role: [\"admin\", \"tester\", \"viewer\"]\n  }]\n\nuserRole: any[]=[];\n\n\nfor (let user of users){\n for (let u of user.role){\n     this.userRole.push({\n         name: user.name,\n         role: u\n     }) \n    }\n    this.data.push(this.userRole) \n   }\n</code></pre>\n\n<p>User can have multiple role, but because of database structure I need in user object send array with object</p>\n\n<pre><code>{ \"name\": \"user1\",\n   \"role\": [{\n        \"role\" : \"admin\",\n        \"user\" : \"user1\"\n       },{\n        \"role\" : \"tester\",\n        \"user\" : \"user1\"\n       },{\n        \"role\" : \"view\",\n        \"user\" : \"user1\"\n       }]\n  }\n</code></pre>\n\n<p>but I get this</p>\n\n<pre><code>{ \"name\": \"user1\",\n   \"role\": [  // nested array\n        [{\n        \"role\" : \"admin\",\n        \"user\" : \"user1\"\n       },{\n        \"role\" : \"tester\",\n        \"user\" : \"user1\"\n       },{\n        \"role\" : \"view\",\n        \"user\" : \"user1\"\n       }]\n     ]\n  }\n</code></pre>\n\n<p>I try to use <code>.flat()</code> but still the same</p>\n"}, {"tags": ["typescript", "generics", "null", "mapped-types"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1571224681, "post_id": 58411991, "comment_id": 103167147, "body": "Wow, I <a href=\"https://stackoverflow.com/questions/58411739/typescript-no-repeat-value#comment103166962_58411862\"><i>just mentioned</i> recursive type definitions</a> (albeit in a different context) which actually got me wondering if it&#39;s even possible to have any kind of recursive type. And then this question pops up. For what it&#39;s worth, it seems like it should be possible in theory, at least. Not sure if it&#39;s implemented."}], "answers": [{"comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 1, "creation_date": 1571239783, "post_id": 58412295, "comment_id": 103176570, "body": "Thank you for l&#39;update with arrays. Very interesting."}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 1, "last_activity_date": 1571234801, "last_edit_date": 1571234801, "creation_date": 1571225562, "answer_id": 58412295, "question_id": 58411991, "link": "https://stackoverflow.com/questions/58411991/apply-a-complex-generic-type-recursively/58412295#58412295", "title": "Apply a complex generic type recursively", "body": "<p>Update: included TS 3.7 version + array types</p>\n\n<hr>\n\n<p>Do you mean something like this?</p>\n\n<p>TS 3.7+ (generic type arguments in arrays can now be <a href=\"https://github.com/microsoft/TypeScript/pull/33050\" rel=\"nofollow noreferrer\">circular</a>):</p>\n\n<pre><code>type RecNullValuesToOptional&lt;T&gt; = T extends Array&lt;any&gt;\n  ? Array&lt;RecNullValuesToOptional&lt;T[number]&gt;&gt;\n  : T extends object\n  ? NullValuesToOptional&lt;{ [K in keyof T]: RecNullValuesToOptional&lt;T[K]&gt; }&gt;\n  : T;\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ts=3.7-Beta&amp;ssl=50&amp;ssc=23&amp;pln=41&amp;pc=1#code/C4TwDgpgBAcgrgGwQNQIYLhAzgFQPYDyYwAlngHboA8OAfFALxQEC2JwNANLIgqgEYIIAaQggsNWvQBkAKChQACqgBOpaopIBjANZceSAUNHjJUgNyzZoSAb6CRYiXUawK8Qw6ryoACgDeUADawlAk5FA6YngAZlA4ALoAXPEhCVAQAB7AEOQAJlhu5B4INGn0APxQ5BAAbhAqUCmhAL4AlEFRILHxCbK0ltbg0DDuvJKuOBnZuQXVvFBVNfWNKTiD4TkqMaha0ACCUP4+qClYwCrhAOaWCvxnF9dQAD7zSJYtQ7YAQq4laBhsPgiKQKNR9gMoFZNg0dnsoABhI4+LQPS7kG4+PIpQ6vci8W4ZHFBBKEmIpfEsfgNEkvN4ID5WGzQAAif14AMwuEIxDIlFKCIGTOGUAAShAtP90FzgbywaUXEwplkcvlCvsVCpUCAqKhyCBaD4qhqtTrxZKOdKgTzQfyypTqSoElIfGtpqq5nh+AArCXAI12TnWkF86iBEJhCJdHqJFLmqWA7kh+VlYTOqAtQ0KNaDZlQACirnjlsTstt1EFgwA9FWoMAABYkQpNqDeuDnKAxPCNEhIdsXVC2qBgOAqMB4LDQYB4KDU4BbKBYet4ADudfrU5F4XX0AAkiz819oAAxPjz3ITJXu2aFL2+rT+hRVZUzNWRmINZg+J9HYKhbfRnEBDJFAp6DqqVAEOUGbfk01R1A0rrxJYeb5se3YsOBEB5K4YHnuQVD5kKshaBQHYQCkhZMMcCiolAABEXZ4PRnBYikgSnAx-CqCxs4pPR3EAF70RmrEKBRwQcfx3EqLx9wMQAjnAmQiS03BSYpcDKapfQtJYpHkORABMlGuDRUB0YxeDMWJUDYr+nECTx3DyU5wmiT4ElBIErlKSpokOfxSnaRmunmFANYZJq3bcKgUBsFgWDXLIQA\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p>&lt; TS 3.7 (a type resolution deferring <a href=\"https://github.com/Microsoft/TypeScript/issues/3496#issuecomment-128553540\" rel=\"nofollow noreferrer\">interface</a> is necessary):</p>\n\n<pre><code>type RecNullValuesToOptional&lt;T&gt; = T extends Array&lt;any&gt;\n  ? RecNullValuesToOptionalArray&lt;T[number]&gt;\n  : T extends object\n  ? NullValuesToOptional&lt;{ [K in keyof T]: RecNullValuesToOptional&lt;T[K]&gt; }&gt;\n  : T;\n\ninterface RecNullValuesToOptionalArray&lt;T&gt;\n  extends Array&lt;RecNullValuesToOptional&lt;T&gt;&gt; {}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAcgrgGwQNQIYLhAzgFQPYDyYwAlngHboA8OAfFALxQEC2JwNANLIgqgEYIIAaQggsNWvQBkAKChQACqgBOpaopIBjANZceSAUNHjJUgNyzZoSAb6CRYiXUawK8Qw6ryoACgDeUADawlAk5FA6YngAZlA4ALoAXPEhCVAQAB7AEOQAJlhu5B4INGn0APxQ5BAAbhAqUCmhAL4AlEFRILHxCbK0ltbg0DDuvJKuOBnZuQXVvFBVNfWNKTiD4TkqMaha0ACCUP4+qClYwCrhAOaWCvxnF9dQAD7zSJYtQ7YAQq4laBhsPgiKQKNR9gMoAB6KFHKCnKDnS7kK7cfgVB7Iq4vN4IKCfWSbBo7PZQADCRx8Wkx11uUDyKUOr3IvDpEEZQQSdJiKRZLH4DU5OJZ71kBJs0AAIn9eADMLhCMQyJRSmSBlYJVAAEoQLT-dDy4FKsGlFxMKZZHL5Qr7FQqVAgKiocggWg+Ko6vWyg1AxWglW2+2OnBBPkClQJN0KNbTK1zPD8ABWuuA7rsct9IOV1ECITCES6PUSKU9+sBCqzJrKwkj+KjTXidMJ5C2JOgpe95aN-vQgYdkh8ltmNrt-Y7SAzFeNKrMR3FwygAFFXOOUD6pz3VerZDCoMAABYkQpHqCJuDnKAxPCNEhIc8XVD+qBgOAqMB4LDQYB4KAC4BbRF9zwAB3Pd9y-BdwjA6AAElJUXL5oAAMT4f9cgmc1Y2HKAE2TLRUwUKoLRma18xiBpmB8Qi4TzKDCziAhkigFDHytKgCHKfEqIbZYGh8NZLE1RckOvFhWIgPJXBYtDyCoRdty0CgL3ZJdXGOBRqSgAAiK88C0zgfAZOEES0-hVH038UlM1AAC8tPxAyFBUoJAhMsyVAs+5tIARzgTJ7JabhXKs3y-ICvoWksRTyGUgAmFJlyYdSoE0nS8D0xz6RSYLtPczyrLMuyHMHFIXMsnywoc4yQrgSqWgi8xoVhBoVGvbhUCgNgsCwa5ZCAA\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p>Test the type:</p>\n\n<pre><code>interface A {\n  a: string;\n  b: string | null;\n}\n\ninterface C {\n  c: string;\n  d: A | null;\n  e: A[];\n  f: number[] | null;\n}\n\n/*\ntype EFormatted  = {\n    c: string;\n    e: {\n        a: string;\n        b?: string | null | undefined;\n    }[];\n    d?: {\n        a: string;\n        b?: string | null | undefined;\n    } | null | undefined;\n    f?: number[] | null | undefined;\n}\n\n=&gt; type EFormatted is the \"flattened\" version of \ntype E and used for illustration purposes here;\nboth types E and EFormatted are equivalent, see also Playground\n*/\ntype E = RecNullValuesToOptional&lt;C&gt;\n</code></pre>\n\n<p>Test with some data:</p>\n\n<pre><code>const e: E = {\n  c: \"foo\",\n  d: { a: \"bar\", b: \"baz\" },\n  e: [{ a: \"bar\", b: \"qux\" }, { a: \"quux\" }]\n};\nconst e2: E = {\n  c: \"foo\",\n  d: { a: \"bar\", b: \"baz\" },\n  e: [{ b: \"qux\" }, { a: \"quux\" }]\n}; // error, a missing (jep, that's OK)\n</code></pre>\n"}], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 58412295, "answer_count": 1, "score": 3, "last_activity_date": 1571234801, "creation_date": 1571224419, "last_edit_date": 1571225088, "question_id": 58411991, "link": "https://stackoverflow.com/questions/58411991/apply-a-complex-generic-type-recursively", "title": "Apply a complex generic type recursively", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/questions/58409603/generate-a-type-where-each-nullable-value-becomes-optional\">an answer</a> from Nit, I have a generic type <code>NullValuesToOptional</code> that generates types where each nullable value becomes optional:</p>\n\n<pre><code>type NullValuesToOptional&lt;T&gt; = Omit&lt;T, NullableKeys&lt;T&gt;&gt; &amp; Partial&lt;Pick&lt;T, NullableKeys&lt;T&gt;&gt;&gt;;\n\ntype NullableKeys&lt;T&gt; = NonNullable&lt;({\n  [K in keyof T]: T[K] extends NonNull&lt;T[K]&gt; ? never : K\n})[keyof T]&gt;;\n\ntype NonNull&lt;T&gt; = T extends null ? never : T;\n</code></pre>\n\n<p>It works:</p>\n\n<pre><code>interface A {\n  a: string\n  b: string | null\n}\ntype B = NullValuesToOptional&lt;A&gt;; // { a: string, b?: string | null }\n</code></pre>\n\n<p>Now I would like to make <code>NullValuesToOptional</code> recursive:</p>\n\n<pre><code>interface C {\n  c: string\n  d: A | null\n  e: A[]\n}\ntype D = NullValuesToOptional&lt;C&gt;;\n// { c: string, d?: NullValuesToOptional&lt;A&gt; | null, e: NullValuesToOptional&lt;A&gt;[] }\n</code></pre>\n\n<p>Is it possible?</p>\n"}, {"tags": ["reactjs", "typescript", "lodash", "throttling"], "answers": [{"tags": [], "owner": {"reputation": 194, "user_id": 9515659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3e5GZ.jpg?s=128&g=1", "display_name": "Sham Gir", "link": "https://stackoverflow.com/users/9515659/sham-gir"}, "is_accepted": false, "score": 0, "last_activity_date": 1571236145, "last_edit_date": 1571236145, "creation_date": 1571224411, "answer_id": 58411988, "question_id": 58411882, "link": "https://stackoverflow.com/questions/58411882/using-lodash-throttle-with-react-text-input-and-typescript/58411988#58411988", "title": "Using lodash throttle with React text input and Typescript", "body": "<p>The <code>e</code> is syntactically false in your code example. Change your code to the above and tell me if it was successful.</p>\n\n<pre><code>&lt;input type=\"text\"\n       onChange={() =&gt; throttle(handleTextInput, 1000)}\n/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 996, "user_id": 6168272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7020a2ed126c086e244188a91ba972?s=128&d=identicon&r=PG&f=1", "display_name": "Ranjan", "link": "https://stackoverflow.com/users/6168272/ranjan"}, "is_accepted": true, "score": 0, "last_activity_date": 1571224925, "creation_date": 1571224925, "answer_id": 58412115, "question_id": 58411882, "link": "https://stackoverflow.com/questions/58411882/using-lodash-throttle-with-react-text-input-and-typescript/58412115#58412115", "title": "Using lodash throttle with React text input and Typescript", "body": "<p>Right now you are calling <code>throttle</code> function while defining onChange for the input. You have to give a function to the <code>throttle</code> which needs to be called after the wait. Try this -</p>\n\n<pre><code>throttledInput = throttle(input =&gt; this.handleTextInput(input), 1000);\n...\n&lt;input\n   type=\"text\"\n   onChange={(e) =&gt; this.throttledInput(e.target.value);}\n /&gt;\n</code></pre>\n"}], "owner": {"reputation": 828, "user_id": 11584105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca483fc805e5996f52c4f8565be7f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Robot", "link": "https://stackoverflow.com/users/11584105/mr-robot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 58412115, "answer_count": 2, "score": 0, "last_activity_date": 1571236145, "creation_date": 1571224057, "question_id": 58411882, "link": "https://stackoverflow.com/questions/58411882/using-lodash-throttle-with-react-text-input-and-typescript", "title": "Using lodash throttle with React text input and Typescript", "body": "<p>I'm struggling to make this text input throttle work in react even after reading lots of docs.</p>\n\n<pre><code>import { throttle } from 'lodash';\n...\n      &lt;input\n        type=\"text\"\n        onChange={(e): void =&gt; throttle(handleTextInput, 1000)(e)}\n      /&gt;\n</code></pre>\n\n<p>I'm obviously doing something wrong, any help appreciated!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material", "angular-directive"], "comments": [{"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1571226272, "post_id": 58411852, "comment_id": 103168043, "body": "In which part you are facing the issue"}, {"owner": {"reputation": 76, "user_id": 10408903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nxjSmWHlERE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUEm1DlJHVQiMNS5tiOG5JD69JMuQ/mo/photo.jpg?sz=128", "display_name": "clyde correa", "link": "https://stackoverflow.com/users/10408903/clyde-correa"}, "reply_to_user": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1571229671, "post_id": 58411852, "comment_id": 103170032, "body": "@AdritaSharma onclick dropdown the second API data is not filling in that particular row ."}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1571229839, "post_id": 58411852, "comment_id": 103170148, "body": "Show the response of the 2nd API call"}, {"owner": {"reputation": 76, "user_id": 10408903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nxjSmWHlERE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUEm1DlJHVQiMNS5tiOG5JD69JMuQ/mo/photo.jpg?sz=128", "display_name": "clyde correa", "link": "https://stackoverflow.com/users/10408903/clyde-correa"}, "reply_to_user": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1571230724, "post_id": 58411852, "comment_id": 103170704, "body": "@AdritaSharma  the second API response is the same as the dropData. and I want to bind all this.dropData.type in onclicked dropdown"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1571230943, "post_id": 58411852, "comment_id": 103170837, "body": "I modified the demo, it is working. Data will be loaded only after you click on anything in the row"}], "answers": [{"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1571225017, "last_edit_date": 1571225017, "creation_date": 1571224208, "answer_id": 58411923, "question_id": 58411852, "link": "https://stackoverflow.com/questions/58411852/fill-data-in-dropdown-onclick-table-row-based-on-table-row-data-in-angular/58411923#58411923", "title": "Fill data in dropdown onclick table row (based on table row data) in angular", "body": "<p>Try like this:</p>\n\n<p>Template:</p>\n\n<p>Bind <code>(click)</code> event in <code>tr&gt;</code>:</p>\n\n<pre><code>&lt;tr class=\"tcat\" *ngFor=\"let item of Tdata\" (click)=\"jsFunction(item.number);\"&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>jsFunction(num){\n   this.dropData= this.Tdata.filter(x =&gt; x.number == num)\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-fm2zh1?embed=1&amp;file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">Working Demo</a></p>\n"}], "owner": {"reputation": 76, "user_id": 10408903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nxjSmWHlERE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUEm1DlJHVQiMNS5tiOG5JD69JMuQ/mo/photo.jpg?sz=128", "display_name": "clyde correa", "link": "https://stackoverflow.com/users/10408903/clyde-correa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571225474, "creation_date": 1571223952, "last_edit_date": 1571225474, "question_id": 58411852, "link": "https://stackoverflow.com/questions/58411852/fill-data-in-dropdown-onclick-table-row-based-on-table-row-data-in-angular", "title": "Fill data in dropdown onclick table row (based on table row data) in angular", "body": "<p>How can I write a function that takes data from a dropdown, and fills in the table row containing that dropdown?</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;table id=\"DataTable\" border=\"1\" ALIGN=\"center\"&gt;\n    &lt;tr ALIGN=\"center\"&gt;\n        &lt;th&gt;name&lt;/th&gt;\n        &lt;th&gt;add&lt;/th&gt;\n        &lt;th&gt;number&lt;/th&gt;\n        &lt;th&gt;type&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;tr class=\"tcat\" *ngFor=\"let item of Tdata\"&gt;\n        &lt;td class=\"name\"&gt;{{item.name}}&lt;/td&gt;\n        &lt;td class=\"add\"&gt;{{item.add}}&lt;/td&gt;\n        &lt;td class=\"nyumber\"&gt;{{item.number}}&lt;/td&gt;\n        &lt;td class=\"type\" ALIGN=\"center\"&gt;\n            &lt;select *ngIf=\"dropData\" (click)=\"jsFunction(item.number);\"&gt;\n                &lt;option&gt;--Select--&lt;/option&gt;\n                &lt;option *ngFor=\"let currentData of dropData\"&gt; \n                    {{currentData.type}}&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>ngOnInit() {\n    // called first api and filled the data\n    this.Tdata=[\n        { name: \"xyz\"\n         add: \"abc\"\n         number: 12345\n         type: null },\n        { name: \"xyz1\"\n         add: \"abc1\"\n         number: 78900\n         type: null },\n    ]\n}\n\njsFunction(num){\n    // calling the second API here based of the given parameter and that\n    // is num.. for example I have clicked the dropdown on the first row\n    // which has number=12345 so in dropdown, dropData will fill the\n    // value type and that's not happening in my case\n\n    this.dropData=[\n        {number: \"12345\"\n        type: \"customer\"},\n        {number: \"12345\"\n        type: \"dealer\"},\n        {number: \"12345\"\n        type: \"client\"},\n        {number: \"12345\"\n        type: \"master\"},\n    ]\n}\n</code></pre>\n\n<p>whats should happen here is on first API call I will fill the table note that the type is null and in Html there is dropdown so after I click on any dropdown so there I will call the second API and pass that clicked row number in it and after second API call that clicked dropdown should fill data which I get in response so that I can select one-off that data.\nI have explained my situation. please ask me if you don't get the question. searched on google but couldn't find anything related to this. there must be something that I missed or I don't know about that\nthank you so much.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1571223744, "post_id": 58411739, "comment_id": 103166658, "body": "Perhaps instead of an array you can declare <code>libraries</code> as a Set? I&#39;m not sure there is a type that can emulate what the data structure does."}], "answers": [{"comments": [{"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1571224071, "post_id": 58411862, "comment_id": 103166823, "body": "yes set will do the job in runtime, but i would like to have already error in ts, before compilation"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1571224323, "post_id": 58411862, "comment_id": 103166962, "body": "@JurajKocan It&#39;s <i>weird</i> to do the uniqueness check at compile time using the type system alone. It might be possible but then the definition would have to be recursive. And it will be odd what happens if you do <code>libraries.add(&quot;places&quot;)</code>. If you want to solve this using types, it seems to be more appropriate to use an object <code>{drawing: boolean, geometry: boolean, places: boolean, visualization: boolean}</code> which will <i>guarantee</i> you don&#39;t have duplicates. Otherwise, a Set or simply filtering duplicates in the function at runtime is what would normally be done."}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1571224978, "post_id": 58411862, "comment_id": 103167296, "body": "@VLAZ the whole point of this is that i wanted to have nice code, there are solution like set or  object like u said or just name these 4 parameters in func. but i was looking for solution where i would just call this function like getGoogleApiUrl(&#39;apikey&#39;, &#39;&#39;lib1, lib2&#39;&#39;) (or [&#39;lib1&#39;, &#39;lib2&#39;, &#39;lib3&#39;])"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1571225366, "post_id": 58411862, "comment_id": 103167521, "body": "Then a &quot;nice code solution&quot; seems to be using an options object with the possible libraries as keys. It makes a lot more sense to me than sending an array of strings. It might be nice to validate <code>fn([1, 2])</code> and <code>fn([1, 2, 1])</code> but you can always pass an array variable, so what happens if you do <code>myArr = [1]; &#47;* later *&#47; myArr.push(2); &#47;* later *&#47; myarr.sort(sorter); &#47;* later *&#47; myArr.splice(1, 1); &#47;* later *&#47; fn(myArr.concat(otherVar))</code> - if this code needs to be type-safe. How would that work? Requires evaluating the operations as if at runtime but without the benefit of runtime data."}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1571226221, "post_id": 58411862, "comment_id": 103168006, "body": "in fact i dont really care about runtime, if you do [&#39;drawing&#39;, &#39;drawing&#39;, &#39;drawing&#39;] and then send it to google api it will works anyway.so i am not even going to validate these values in runtime.even is you send request with no existing libraries. so all of this is just about to precompile time and &quot;nice code&quot;, &quot;easy to write&quot;"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1571226306, "post_id": 58411862, "comment_id": 103168071, "body": "so const librariesString = libraries.join(&#39;,&#39;); is everything i have to do now, if i would use object there would be much more code to take these libraries to string like this"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1571226910, "post_id": 58411862, "comment_id": 103168399, "body": "<code>Object.entries(options).filter(([key, value]) =&gt; value).map(([key]) =&gt; key).join(&quot;,&quot;)</code> is not THAT much more. And <code>[...librariesSet].join(&quot;,&quot;)</code> is even less. I think it&#39;s wrong to leverage the type system just to save yourself typing several characters. It&#39;s better to focus on <i>correctness</i> of the implementeation not <i>least LOC</i>."}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1571229210, "post_id": 58411862, "comment_id": 103169742, "body": "Object.entries(options) there you just loose typecheck. this is something you want to avoid in ts"}], "tags": [], "owner": {"reputation": 129, "user_id": 3029698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rRUA.jpg?s=128&g=1", "display_name": "estavillo", "link": "https://stackoverflow.com/users/3029698/estavillo"}, "is_accepted": false, "score": 3, "last_activity_date": 1571223984, "creation_date": 1571223984, "answer_id": 58411862, "question_id": 58411739, "link": "https://stackoverflow.com/questions/58411739/typescript-no-repeat-value/58411862#58411862", "title": "Typescript no repeat value", "body": "<p>You can use Set! </p>\n\n<pre><code>var uniques = new Set([0,1,1,2])\n</code></pre>\n\n<p>This results in: </p>\n\n<pre><code>Set(3)\u00a0{0, 1, 2}\n</code></pre>\n\n<p>Then adding new elements like: </p>\n\n<pre><code>uniques.add(1)\n</code></pre>\n\n<p>Will also result in: </p>\n\n<pre><code>Set(3)\u00a0{0, 1, 2}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1571238858, "creation_date": 1571238858, "answer_id": 58416611, "question_id": 58411739, "link": "https://stackoverflow.com/questions/58411739/typescript-no-repeat-value/58416611#58416611", "title": "Typescript no repeat value", "body": "<p>If you really want to represent \"array with no repeat elements\" in the type system, your best bet will be as a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generic</a> type that acts as a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html#generic-constraints\" rel=\"nofollow noreferrer\">constraint</a>.  Here's how I'd start:</p>\n\n<pre><code>type RemoveArrayRepeats&lt;T extends readonly any[]&gt; = {\n    [K in keyof T]: (\n        T[number] extends { [P in keyof T]: P extends K ? never : T[P] }[number]\n        ? never\n        : T[K]\n    )\n}\n</code></pre>\n\n<p>So, the type <code>RemoveArrayRepeats</code> takes a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#tuple\" rel=\"nofollow noreferrer\">tuple</a> type and converts it to a version of itself where any repeated elements are replaced with the <code>never</code> type.  Like this:</p>\n\n<pre><code>type TestSame = RemoveArrayRepeats&lt;[1, 2, 3, 4, 5]&gt;; // [1, 2, 3, 4, 5]\ntype TestDiff = RemoveArrayRepeats&lt;[1, 2, 3, 2, 5]&gt;; // [1, never, 3, never, 5]\n</code></pre>\n\n<p>A sketch of how it works: given a tuple type <code>T</code>, it <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-1.html#mapped-types-on-tuples-and-arrays\" rel=\"nofollow noreferrer\">maps over</a> each numeric-like index <code>K</code>, and compares the union of element types of <code>T</code> (i.e., <code>T[number]</code>) with the union of element types of <code>T</code> without the element at the index <code>K</code> (i.e., <code>{[P in keyof T]: P extends K ? never: T[P]}[number]</code>.).  If they are different, great, leave this property alone.  If they are the same, we have a repeat... replace it with <code>never</code>.</p>\n\n<p>As an example with <code>[1,2,3,2,5]</code>: If <code>K</code> is <code>\"0\"</code>, then we compare the union of elements of <code>[1,2,3,2,5]</code>, namely <code>1|2|3|5</code> with those of <code>[never,2,3,2,5]</code>, namely <code>2|3|5</code>.  Since those are different, then the first element of the tuple is not a repeat and it is left alone: <code>1</code>.  Now we look at <code>K</code> being <code>\"1</code>\".  We compare <code>1|2|3|5</code> with the elements of <code>[1,never,3,2,5]</code>, which is still <code>1|2|3|5</code>.  Those are the same, meaning that the second element of the tuple will be replaced with <code>never</code>.  Eventually we build up the array <code>[1,never,3,never,5]</code>.</p>\n\n<hr>\n\n<p>Next we declare the <code>getGoogleApiUrl</code> function to be a generic function, where the <code>libraries</code> parameter is constrained to both <code>AllMapLibraries[]</code> and to <code>RemoveArrayRepeats&lt;T&gt;</code>:</p>\n\n<pre><code>declare const getGoogleApiUrl: &lt;T extends AllMapLibraries[]&gt;(\n    apiKey: string,\n    libraries: (T &amp; RemoveArrayRepeats&lt;T&gt;) | []\n) =&gt; string;\n</code></pre>\n\n<p>The details of how the constraint happens are a bit weird.  I chose to put <code>T &amp; RemoveArrayRepeats&lt;T&gt;</code> in the parameter position so that <code>T</code> itself would only be constrained to <code>AllMapLibraries[]</code>; that keeps error messages on mistakes like <code>'drawink'</code> understandable.  But you could have instead done <code>T extends AllMapLibraries[] &amp; RemoveArrayRepeats&lt;T&gt;</code> for very similar behavior.</p>\n\n<p>Oh, and that <code>| []</code> in the type of <code>libraries</code> is a <a href=\"https://github.com/microsoft/TypeScript/issues/27179#issuecomment-422606990\" rel=\"nofollow noreferrer\">trick</a> that gives the compiler a hint that we'd like to infer a tuple type for <code>libraries</code> if possible.  Without it, the compiler sees <code>[\"drawing\", \"drawing\", \"drawing\"]</code> as type <code>Array&lt;\"drawing\"&gt;</code>, which completely loses the information we need to detect repeats.  </p>\n\n<hr>\n\n<p>Let's see if it works:</p>\n\n<pre><code>getGoogleApiUrl('', []); // okay\ngetGoogleApiUrl('', ['drawing']); // okay\ngetGoogleApiUrl('', ['drawing', 'geometry']); // okay\ngetGoogleApiUrl('', ['drawing', 'geometry', 'places', 'visualization']); // okay\ngetGoogleApiUrl('', ['foo']); // error!\n//                   ~~~~~\n// Type '\"foo\"' is not assignable to type 'AllMapLibraries'\n\n\ngetGoogleApiUrl('123', ['drawing', 'geometry', 'drawing']); // error!\n//                      ~~~~~~~~~              ~~~~~~~~~\n// Type 'string' is not assignable to type 'undefined'\n</code></pre>\n\n<p>That all behaves more or less as expected.  The error message in the last case (like \"<code>string</code> is not <code>undefined</code>\") is not what you might hope to see in a perfect world.  If there were a supported <a href=\"https://github.com/microsoft/TypeScript/issues/23689\" rel=\"nofollow noreferrer\">custom invalid type</a>, we would use it to tailor the error message.  But there isn't.</p>\n\n<p>At least the red squigglies are in meaningful locations.  Well, maybe you'd want only <em>one</em> of those to be an error; but that would make <code>RemoveArrayRepeats</code> even more complicated (e.g., only compare an element to elements at lower indices, but the compiler doesn't understand \"lower indices\" so we'd need some representation and it would get ugly quickly).  </p>\n\n<p>But this is about the closest I can get to your requirements without pages of code.  It's up to you whether even this version is worth it.  Anyway, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html?ts=3.7-Beta&amp;ssl=24&amp;ssc=23&amp;pln=24&amp;pc=26#code/KYDwDg9gTgLgBDAnmYcCCAbDBZAhmAGQEsAjKXKI4AZzgF44ByAE3IHciA7Ac0bgB8m3YBAC2wGFER9BjMBlwBjGjKYA3ItQCuuDEQBeuGEQidGAbgCwAKBtIUcAErBRENcDRRyiZyiPUAHgAVOFAYYE5mWihgXGZTDEQ4XE5EAG0AXQA+ejgAbxs4Irg0gGk4LjgAa2BECAAzOCCMgC44AApC4u6gtM4tURJgKAzQkHDI2jySgAUKzmrahqbWuDmwiKi4coB+OE5gdyg4Nt6Z0YBfPoGhka7uor2Do-uH07KM14BKGwubO2QqCCNBgAGVcOJcs5XO5PN5fLEYIE0gBGAA0cAATBiAMwYgAsGIArNlzHAAPTkkrorG4gnEz7WexAkEAESI9UaDGhbg8XlwPmAfiRAVRGOxcDxtLgJKyZMp1Ixz2GdP2hxVMsZ-2szGAigUMTgilM1HgwhgAHEIBBuBgPGAiABVKAYNrBMYTLaYHD4YhkChUaiZLKdazdfBEUq1Nqmyg8NGvPT+yg0NrtEIAMicLl5cIFCP8wSyXwEJUZJboOVjXG4Vls1nNVptdrQDudGHajEYGMyX3lVIgVQFNkb1tt9qdLs73ZKLHYNcYGT7FIHQ8QI4kTfHrcnHa7PbnuA4PBnjGEYgkUkXy4Vg+HDc3Y5bban+9nrCPC4xZ5E4kk0m-eQlBUb8NG0XQDCMEwzCXfs4DvdcH0tJ8J3bacD3qa1rzg4YoGgABCGwFQeEjSIAPwoiiiKpIJASYAAiTCIHovhNH2CB4FwahqCIbhOFwEg7QQCAEDoxhvTwQhSHIFNqEYbUN2Q5tUNfFFMRxGc0kPY9eG-c8-yvb8Px07CV1CLwCOo0jrPIyi7LImyHnsuyrNohxGGrE8KloTgOOSbjeP4wTUBgETmSYLRImAeouGAZh5PrIA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 58416611, "answer_count": 2, "score": 0, "last_activity_date": 1571238858, "creation_date": 1571223583, "question_id": 58411739, "link": "https://stackoverflow.com/questions/58411739/typescript-no-repeat-value", "title": "Typescript no repeat value", "body": "<p>is there a way how to declare type array with uniq values, </p>\n\n<p>i have aray of string literals and would by nice if i can say there can be only one of each string literal.</p>\n\n<pre><code>export type AllMapLibraries = 'drawing' | 'geometry' | 'places' | 'visualization';\n\nexport const getGoogleApiUrl = (apiKey: string, libraries: AllMapLibraries[]) =&gt; {\n  const librariesString = libraries.join(',');\n  const url = `https://maps.googleapis.com/maps/api/js?v=3.exp&amp;libraries=${librariesString}&amp;key=${apiKey}`;\n  return url;\n};\n\nconst url = getGoogleApiUrl('123', ['drawing', 'geometry', 'drawing']); // here should be error that drawing was already defined;\n</code></pre>\n\n<p>it hasnt to be only array.</p>\n\n<p>but i didnt find anything, and think that this is not possible.</p>\n\n<p>heres the <a href=\"http://www.typescriptlang.org/play/#code/KYDwDg9gTgLgBDAnmYcCCAbDBZAhmAGQEsAjKXKI4AZzgF44ByAE3IHciA7Ac0bgB8m3YBAC2wGFER9BjMBlwBjGjKYA3ItQCuuDEQBeuGEQidGAbgCwAKBsB6OxBgALYFDhFmqDi7jBOWqI2oJCwfgGi6Fh4hKTklDQAohFwAN5wrLgcPAA0cMJiElJ58ko0eRraugZGJpxwAL5WttYh0PCKptTwwjAA4hAQ3BjAaGBEAKpQGPRwABT4RADSwIgAXHDdlLlwemQUVNQbmDj4xPsJ1ADaALoAlPQAfGk2cHCdnN27cQc0AMqSLjcWZ7eKHAB0ACsIFw5owcow7s03h8vlpprMAAbOGAwMBHByifDUcHcQbDYCLEmdUR2In4uyLOyQ6gAfjUdAAzOCQgAyUG-ah0AAkqQFlwB224DV5AGtViLUosVogGpjkXAoBJ0fV0Rhmk0bMFwO13l0ehIBkMRmNJtNkoFZgtxiqNlsgXlwV7xYdjtEzj9Lg7RLcHnRnqlXnAbIaWqj4HrZr0rRTbVMMHCAIwAJk58LgVxY7CB+cYBXEkmkeSLWRL93McAccFcWs2zggWgwzDgJFQbig0AQziMGWLPDgbFwtF0WtwzEQGWAADMuMBmM143A9cGk5byTbxung1nc-mAAx5TN5M93IA\" rel=\"nofollow noreferrer\">playground</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 862, "user_id": 3738129, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nyKe9.jpg?s=128&g=1", "display_name": "Yvan", "link": "https://stackoverflow.com/users/3738129/yvan"}, "edited": false, "score": 0, "creation_date": 1571222310, "post_id": 58411254, "comment_id": 103165862, "body": "Yes it&#39;s a expected behavior. Like in javascript. You should clone or create a copy of your object."}, {"owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "edited": false, "score": 0, "creation_date": 1571222352, "post_id": 58411254, "comment_id": 103165885, "body": "Please note that your <code>SharedDataService</code> always returns <code>object1</code>for all three <code>getObject methods</code>."}, {"owner": {"reputation": 7, "user_id": 6753877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c5982260049757325df65a0572eb43?s=128&d=identicon&r=PG&f=1", "display_name": "idontknow", "link": "https://stackoverflow.com/users/6753877/idontknow"}, "reply_to_user": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "edited": false, "score": 0, "creation_date": 1571234551, "post_id": 58411254, "comment_id": 103173169, "body": "@uminder, yeah just a typo I have edited the post. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 862, "user_id": 3738129, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nyKe9.jpg?s=128&g=1", "display_name": "Yvan", "link": "https://stackoverflow.com/users/3738129/yvan"}, "is_accepted": false, "score": 0, "last_activity_date": 1571222414, "creation_date": 1571222414, "answer_id": 58411383, "question_id": 58411254, "link": "https://stackoverflow.com/questions/58411254/shared-service-is-passing-object-by-reference/58411383#58411383", "title": "Shared service is passing object by reference", "body": "<p>You can use lodash in order to clone your object. </p>\n\n<p><a href=\"https://lodash.com/docs/4.17.15#cloneDeep\" rel=\"nofollow noreferrer\">https://lodash.com/docs/4.17.15#cloneDeep</a> </p>\n\n<pre><code>@Injectable()\nexport class SharedDataService {\n   private _object1: SomeType[];\n   private _object2: SomeType[];\n   private _object3: SomeType[];\n   constructor(private _http: HttpClient, @Inject('BASE_URL') private _baseUrl: string) {}\n\n   public init() {\n       this._http.get&lt;IInitModel&gt;(this._baseUrl + 'init').subscribe(\n            (r: IInitModel) =&gt; {\n                this._object1 = r.object1;\n                this._object2 = r.object2;\n                this._object3 = r.object3;\n            }\n   }\n\n   public getObject1(){\n       return _.cloneDeep(this._object1);\n   }\n\n   public getObject2(){\n       return _.cloneDeep(this._object1);\n   }\n\n   public getObject3(){\n       return _.cloneDeep(this._object1);\n   }\n}\n</code></pre>\n\n<p>You can also use <code>Object.assign(target, ...sources)</code>   this method is used to copy the values of all enumerable own properties from one or more source objects to a target object. It will return the target object. </p>\n"}, {"tags": [], "owner": {"reputation": 4481, "user_id": 5939058, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/m438e.jpg?s=128&g=1", "display_name": "Surjeet Bhadauriya", "link": "https://stackoverflow.com/users/5939058/surjeet-bhadauriya"}, "is_accepted": true, "score": 0, "last_activity_date": 1571223186, "last_edit_date": 1571223186, "creation_date": 1571222845, "answer_id": 58411508, "question_id": 58411254, "link": "https://stackoverflow.com/questions/58411254/shared-service-is-passing-object-by-reference/58411508#58411508", "title": "Shared service is passing object by reference", "body": "<p><strong>In javascript, objects and arrays are set as a reference.</strong> </p>\n\n<p>For example: </p>\n\n<pre><code>const obj1 = { name: 'Surjeet' }; // You have obj1 with name property\nconst obj2 = obj1; // assigning, it will set the reference of obj1 to obj2\nobj2.name = 'Yuvi'; // now change obj2.name, it will also change obj1.name\nconsole.log(obj1.name) // It prints Yuvi\nconsole.log(obj1.name) // It also prints Yuvi\n</code></pre>\n\n<p>So, in this case, you have to make a deep copy of your object. So either you can use <code>spread operator or lodash</code>.</p>\n\n<blockquote>\n  <p>Using Spread Operator</p>\n</blockquote>\n\n<pre><code>const arr = [1,2,3,4]\nconst copiedArr = [...arr];\n</code></pre>\n\n<blockquote>\n  <p>Using Lodash</p>\n</blockquote>\n\n<pre><code>const arr = [1,2,3,4]\nconst copiedArr = _.cloneDeep(arr);\n</code></pre>\n\n<blockquote>\n  <p><strong>SO IN YOUR CASE CHANGE IT LIKE BELOW</strong></p>\n</blockquote>\n\n<pre><code>export class SomeComponent {\n    public object1: SomeType[];\n    constructor(private _sharedDataService: SharedDataService) {}\n    ngOnInit() {\n         this.object1 = _.cloneDeep(this._sharedDataService.getObject1());\n\n         //OR\n\n         //this.object1 = [...this._sharedDataService.getObject1()]; \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 6753877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c5982260049757325df65a0572eb43?s=128&d=identicon&r=PG&f=1", "display_name": "idontknow", "link": "https://stackoverflow.com/users/6753877/idontknow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 58411508, "answer_count": 2, "score": 0, "last_activity_date": 1571231063, "creation_date": 1571222030, "last_edit_date": 1571231063, "question_id": 58411254, "link": "https://stackoverflow.com/questions/58411254/shared-service-is-passing-object-by-reference", "title": "Shared service is passing object by reference", "body": "<p>Hi I am having a issue with a shared service in angular. When my application starts the init function is called and returns some data that is used accross the application.</p>\n\n<p>Components can inject this service and get the data but the data can change inside the component. With my implementation every time I change the object inside my component the object returned from my shared service gets updated too.</p>\n\n<pre><code>@Injectable()\nexport class SharedDataService {\n   private _object1: SomeType[];\n   private _object2: SomeType[];\n   private _object3: SomeType[];\n   constructor(private _http: HttpClient, @Inject('BASE_URL') private _baseUrl: string) {}\n\n   public init() {\n       this._http.get&lt;IInitModel&gt;(this._baseUrl + 'init').subscribe(\n            (r: IInitModel) =&gt; {\n                this._object1 = r.object1;\n                this._object2 = r.object2;\n                this._object3 = r.object3;\n            }\n   }\n\n   public getObject1(){\n       return this._object1;\n   }\n\n   public getObject2(){\n       return this._object2;\n   }\n\n   public getObject3(){\n       return this._object3;\n   }\n</code></pre>\n\n<p>The function init() gets called on app startup and gets some data that is needed across the application and in my components I access this data like this:</p>\n\n<pre><code>export class SomeComponent {\n    public object1: SomeType[];\n    constructor(private _sharedDataService: SharedDataService) {}\n    ngOnInit() {\n       this.object1 = this._sharedDataService.getObject1();\n    }\n}\n</code></pre>\n\n<p>If I change the object in ngOnInit inside my component</p>\n\n<pre><code>this.object1.push({ prop1: 1, prop2: \"SomeValue\" })\n</code></pre>\n\n<p>The value of the private member in the shared service gets changed also.</p>\n\n<pre><code>console.log(this._object1) // In shared service returns: [{ prop1: 1, prop2: \"SomeValue\"}]\nconsole.log(this.object1) // In a component injecting the service: [{ prop1: 1, prop2: \"SomeValue\"}]\n</code></pre>\n\n<p>Is this an expected behavior? Do objects get passed by reference when returning them like I am doing in my service. </p>\n\n<p>Could someone recommend a better way to implement this</p>\n"}, {"tags": ["javascript", "angular", "typescript", "monaco-editor"], "comments": [{"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1571221540, "post_id": 58411024, "comment_id": 103165495, "body": "<code>InjectionToken&lt;unknown&gt;</code> ? try using  <code>InjectionToken&lt;any&gt;</code> or this could help you : <a href=\"https://github.com/gcanti/fp-ts/issues/539#issuecomment-409133513\" rel=\"nofollow noreferrer\">github.com/gcanti/fp-ts/issues/539#issuecomment-409133513</a>"}, {"owner": {"reputation": 862, "user_id": 3738129, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nyKe9.jpg?s=128&g=1", "display_name": "Yvan", "link": "https://stackoverflow.com/users/3738129/yvan"}, "edited": false, "score": 0, "creation_date": 1571221732, "post_id": 58411024, "comment_id": 103165584, "body": "Can you show me your config.ts  and your package.json ? <code>Unknow</code> should not be Unknow, your error is because a Typing is missing or a lib is not properly installed on prod mode. May be a package oinly installed on devDependancies needed on Dependancies."}, {"owner": {"reputation": 430, "user_id": 1196119, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/PfehH.jpg?s=128&g=1", "display_name": "Kamal Rathnayake", "link": "https://stackoverflow.com/users/1196119/kamal-rathnayake"}, "reply_to_user": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1571224137, "post_id": 58411024, "comment_id": 103166853, "body": "@JoelJoseph Tried it. Giving me long list errors. Any other suggestions? :)"}, {"owner": {"reputation": 430, "user_id": 1196119, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/PfehH.jpg?s=128&g=1", "display_name": "Kamal Rathnayake", "link": "https://stackoverflow.com/users/1196119/kamal-rathnayake"}, "reply_to_user": {"reputation": 862, "user_id": 3738129, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nyKe9.jpg?s=128&g=1", "display_name": "Yvan", "link": "https://stackoverflow.com/users/3738129/yvan"}, "edited": false, "score": 0, "creation_date": 1571224415, "post_id": 58411024, "comment_id": 103167015, "body": "@Yvan I added the package.json as a edit. Let me know if you find anything."}], "answers": [{"comments": [{"owner": {"reputation": 430, "user_id": 1196119, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/PfehH.jpg?s=128&g=1", "display_name": "Kamal Rathnayake", "link": "https://stackoverflow.com/users/1196119/kamal-rathnayake"}, "edited": false, "score": 0, "creation_date": 1571225202, "post_id": 58411270, "comment_id": 103167419, "body": "Tried it now. Didn&#39;t work. Also the error &quot;Cannot find name &#39;unknown&#39;&quot; came only in the prod build before. but now it comes when i run in the dev mode as well. Any idea?"}, {"owner": {"reputation": 862, "user_id": 3738129, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nyKe9.jpg?s=128&g=1", "display_name": "Yvan", "link": "https://stackoverflow.com/users/3738129/yvan"}, "reply_to_user": {"reputation": 430, "user_id": 1196119, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/PfehH.jpg?s=128&g=1", "display_name": "Kamal Rathnayake", "link": "https://stackoverflow.com/users/1196119/kamal-rathnayake"}, "edited": false, "score": 0, "creation_date": 1571225341, "post_id": 58411270, "comment_id": 103167508, "body": "Can you paste your module.ts ?"}, {"owner": {"reputation": 430, "user_id": 1196119, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/PfehH.jpg?s=128&g=1", "display_name": "Kamal Rathnayake", "link": "https://stackoverflow.com/users/1196119/kamal-rathnayake"}, "edited": false, "score": 0, "creation_date": 1571228076, "post_id": 58411270, "comment_id": 103169104, "body": "Actually installing package ngx-monaco-editor@6.0.0 fixed the issue for some reason. :) Thanks!"}], "tags": [], "owner": {"reputation": 862, "user_id": 3738129, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nyKe9.jpg?s=128&g=1", "display_name": "Yvan", "link": "https://stackoverflow.com/users/3738129/yvan"}, "is_accepted": false, "score": 1, "last_activity_date": 1571222095, "creation_date": 1571222095, "answer_id": 58411270, "question_id": 58411024, "link": "https://stackoverflow.com/questions/58411024/what-is-unknown-type-in-typescript-monaco-editor/58411270#58411270", "title": "What is Unknown Type in TypeScript + Monaco Editor?", "body": "<p>You should create a config for monaco and use it as a provider : </p>\n\n<p>This is the EditorConfig</p>\n\n<pre><code>const monacoEditorConfig: NgxMonacoEditorConfig = {\n    onMonacoLoad,\n    baseUrl: './assets'\n};\n</code></pre>\n\n<p>And the way of using it in your module : </p>\n\n<pre><code>@NgModule({\n  declarations: [\n    AppComponent,\n    EditorComponent\n  ],\n  imports: [\n    FormsModule,\n    MonacoEditorModule.forRoot()\n  ],\n  providers: [\n    { provide: NGX_MONACO_EDITOR_CONFIG, useValue: monacoEditorConfig }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 1196119, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/PfehH.jpg?s=128&g=1", "display_name": "Kamal Rathnayake", "link": "https://stackoverflow.com/users/1196119/kamal-rathnayake"}, "is_accepted": false, "score": 2, "last_activity_date": 1571228189, "creation_date": 1571228189, "answer_id": 58413118, "question_id": 58411024, "link": "https://stackoverflow.com/questions/58411024/what-is-unknown-type-in-typescript-monaco-editor/58413118#58413118", "title": "What is Unknown Type in TypeScript + Monaco Editor?", "body": "<p>Installing package <code>ngx-monaco-editor@6.0.0</code> with <code>ngx-monaco-editor</code> fixed the issue for me.</p>\n\n<pre><code>npm install ngx-monaco-editor --save\nnpm install ngx-monaco-editor@6.0.0 --save\n</code></pre>\n"}], "owner": {"reputation": 430, "user_id": 1196119, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/PfehH.jpg?s=128&g=1", "display_name": "Kamal Rathnayake", "link": "https://stackoverflow.com/users/1196119/kamal-rathnayake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571228189, "creation_date": 1571221264, "last_edit_date": 1571224367, "question_id": 58411024, "link": "https://stackoverflow.com/questions/58411024/what-is-unknown-type-in-typescript-monaco-editor", "title": "What is Unknown Type in TypeScript + Monaco Editor?", "body": "<p>I've been trying to integrate <a href=\"https://microsoft.github.io/monaco-editor/\" rel=\"nofollow noreferrer\">Monaco Editor</a> to one of my web apps. My app is an Angular application and I used <a href=\"https://www.npmjs.com/package/ngx-monaco-editor\" rel=\"nofollow noreferrer\">ngx-monaco-editor</a> wrapper for this. </p>\n\n<p>It works fine in the development environment but when I run the build it fails saying,</p>\n\n<pre><code>PS D:\\MyApp&gt; ng build --prod\nYour global Angular CLI version (8.0.6) is greater than your local\nversion (6.0.7). The local Angular CLI version is used.\n\nTo disable this warning use \"ng config -g cli.warnings.versionMismatch false\".\n\nDate: 2019-10-16T10:08:16.025Z\nHash: 2aabd42f82f1dbf9374b\nTime: 14410ms\nchunk {scripts} scripts.5f861f4882ecef30cbaa.js (scripts) 319 kB  [rendered]\nchunk {0} runtime.a66f828dca56eeb90e02.js (runtime) 1.05 kB [entry] [rendered]\nchunk {1} styles.16825ef8af0f92360bac.css (styles) 203 kB [initial] [rendered]\nchunk {2} polyfills.e7f5364b276024e19b0b.js (polyfills) 130 bytes [initial] [rendered]\nchunk {3} main.0594610c91de797f492a.js (main) 128 bytes [initial] [rendered]\n\nERROR in node_modules/ngx-monaco-editor/lib/config.d.ts(2,63): error TS2304: Cannot find name 'unknown'.\n</code></pre>\n\n<p>Here's <code>config.d.ts</code> file content.</p>\n\n<pre><code>import { InjectionToken } from '@angular/core';\nexport declare const NGX_MONACO_EDITOR_CONFIG: InjectionToken&lt;unknown&gt;;\nexport interface NgxMonacoEditorConfig {\n    baseUrl?: string;\n    defaultOptions?: {\n        [key: string]: any;\n    };\n    onMonacoLoad?: Function;\n}\n</code></pre>\n\n<p>I couldn't find this <code>unknown</code> type definition in the source. And it is the type that is causing the error. </p>\n\n<p>Here's my the <code>package.json</code> file.</p>\n\n<pre><code>{\n  \"dependencies\": {\n    \"@angular/animations\": \"6.0.3\",\n    \"@angular/cdk\": \"^6.2.0\",\n    \"@angular/common\": \"6.0.3\",\n    \"@angular/compiler\": \"6.0.3\",\n    \"@angular/core\": \"6.0.3\",\n    \"@angular/forms\": \"6.0.3\",\n    \"@angular/http\": \"6.0.3\",\n    \"@angular/material\": \"^6.2.0\",\n    \"@angular/platform-browser\": \"6.0.3\",\n    \"@angular/platform-browser-dynamic\": \"6.0.3\",\n    \"@angular/router\": \"6.0.3\",\n    \"angular-font-awesome\": \"^3.1.2\",\n    \"angular2-logger\": \"^0.7.0\",\n    \"core-js\": \"^2.4.1\",\n    \"font-awesome\": \"^4.7.0\",\n    \"formBuilder\": \"^3.1.3\",\n    \"jquery-ui\": \"^1.12.1\",\n    \"ngx-bootstrap\": \"^3.1.1\",\n    \"ngx-click-to-edit\": \"0.0.7\",\n    \"ngx-monaco-editor\": \"^8.1.0\",\n    \"rxjs\": \"^6.2.0\",\n    \"zone.js\": \"^0.8.26\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"6.0.7\",\n    \"@angular/compiler-cli\": \"6.0.3\",\n    \"@angular/language-service\": \"6.0.3\",\n    \"@types/jasmine\": \"~2.8.3\",\n    \"@types/jasminewd2\": \"~2.0.2\",\n    \"@types/node\": \"~6.0.60\",\n    \"codelyzer\": \"^4.0.1\",\n    \"jasmine-core\": \"~2.8.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~2.0.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"^1.2.1\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.2\",\n    \"ts-node\": \"~4.1.0\",\n    \"tslint\": \"~5.9.1\",\n    \"typescript\": \"2.7.2\",\n    \"bootstrap\": \"3.3.7\",\n    \"jquery\": \"^3.2.1\",\n    \"@angular-devkit/build-angular\": \"~0.6.6\"\n  }\n}\n</code></pre>\n\n<p>Is it a type available in js/ts by default?\nCan anyone tell me how get this fixed?</p>\n"}, {"tags": ["angular", "typescript", "webpack", "karma-jasmine"], "answers": [{"tags": [], "owner": {"reputation": 1459, "user_id": 3193494, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/r5qAu.jpg?s=128&g=1", "display_name": "SzybkiSasza", "link": "https://stackoverflow.com/users/3193494/szybkisasza"}, "is_accepted": true, "score": 0, "last_activity_date": 1574081327, "last_edit_date": 1574081327, "creation_date": 1571223438, "answer_id": 58411697, "question_id": 58410756, "link": "https://stackoverflow.com/questions/58410756/cannot-properly-bundle-tests-for-angular-with-html-templates/58411697#58411697", "title": "Cannot properly bundle tests for Angular with HTML templates", "body": "<p>After further investigation we found a partial solution that allows tests to pass and ignores <code>module</code> errors. We modified our code for requiring context in Karma:</p>\n\n<pre><code>function requireAll(requireContext) {\n    return requireContext.keys().map((key) =&gt; {\n        try {\n            requireContext(key);\n        } catch (err) {\n            console.log('Cannot require:', err);\n        }\n    }\n}\n</code></pre>\n\n<p>Also worth mentioning: import order is important in bundle file (that was another problem we had with <code>karma.bundle.ts</code>). We switched from: </p>\n\n<pre><code>import * as testing from '@angular/core/testing';\nimport * as browser from '@angular/platform-browser-dynamic/testing';\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\nimport 'zone.js/dist/zone-testing';\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>import 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\nimport 'zone.js/dist/zone-testing';\n\nimport * as testing from '@angular/core/testing';\nimport * as browser from '@angular/platform-browser-dynamic/testing';\n</code></pre>\n\n<p>This doesn't solve our issue directly, but allows for tests to pass as long as imported templates that cause errors aren't used in the tests (all the import errors will be suppressed by <code>catch()</code> clause). </p>\n\n<p>Another part of the solution was to modify Webpack config for tests - we added additional rule that processes HTML in the simplest possible way. It occured that Karma probably changed the paths that were used in Webpack pipelines and Webpack was not able to properly process HTMLs. This:</p>\n\n<pre><code>rules: [\n            {\n                test: /\\.tpl\\.html$/,\n                use: [\n                    'raw-loader',\n                    'html-loader'\n                ]\n            },\n            { // ts\n                test: /\\.ts$/,\n                exclude: [/node_modules/],\n                use: [\n                    {\n                        loader: 'ts-loader',\n                        options: {\n                            configFile: path.join(srcDir, 'tsconfig.spec.json'),\n                            onlyCompileBundledFiles: true,\n                            experimentalWatchApi: true,\n                            transpileOnly: true\n                        },\n                    },\n                    'angular2-template-loader'\n                ],\n            },\n        ]\n</code></pre>\n\n<p>solved the issue.</p>\n"}], "owner": {"reputation": 1459, "user_id": 3193494, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/r5qAu.jpg?s=128&g=1", "display_name": "SzybkiSasza", "link": "https://stackoverflow.com/users/3193494/szybkisasza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 58411697, "answer_count": 1, "score": 0, "last_activity_date": 1574081327, "creation_date": 1571220367, "last_edit_date": 1571223099, "question_id": 58410756, "link": "https://stackoverflow.com/questions/58410756/cannot-properly-bundle-tests-for-angular-with-html-templates", "title": "Cannot properly bundle tests for Angular with HTML templates", "body": "<p>At our current project, we built a custom hybrid NGJS/NGX application as interim step of wholly migrating to Angular.</p>\n\n<p>The hybrid houses each Angular version in a separate catalog. They're interworking in both directions - we include downgraded Angular files in AngularJS and upgraded AngularJS files in Angular. </p>\n\n<p>The build works exactly as expected (all the files are properly outputted), however, we cannot make the tests work (Karma + Webpack).</p>\n\n<p>They fail at a very specific point - when you include AngularJS file that requires any type of HTML, e.g. <code>import Tpl from '../templates/my-template.tpl.html</code>.</p>\n\n<p>The error is as follows:</p>\n\n<pre><code>TypeError: Cannot read property 'module' of undefined\nat eval (webpack-internal:///./src/ngjs/Account/templates/account.password.edit.tpl.html:4:16)\nat Module../src/ngjs/Account/templates/account.password.edit.tpl.html (http://localhost:9879/absolute/path-to-repo/karma.bundle.js?b7d10f4cb57d9b36c6b149128e3c9810b2901be0:7594:1)\nat __webpack_require__ (http://localhost:9879/absolute/path-to-repo/karma.bundle.js?b7d10f4cb57d9b36c6b149128e3c9810b2901be0:20:30)\nat eval (webpack-internal:///./src/ngjs/Core/services/user.service.ts:11:64)\nat Object../src/ngjs/Core/services/user.service.ts (http://localhost:9879/absolute/path-to-repo/karma.bundle.js?b7d10f4cb57d9b36c6b149128e3c9810b2901be0:7610:1)\nat __webpack_require__ (http://localhost:9879/absolute/path-to-repo/karma.bundle.js?b7d10f4cb57d9b36c6b149128e3c9810b2901be0:20:30)\nat eval (webpack-internal:///./src/ngx/core/components/display-groups-dropdown/display-groups-dropdown.component.ts:14:22)\nat Object../src/ngx/core/components/display-groups-dropdown/display-groups-dropdown.component.ts (http://localhost:9879/absolute/path-to-repo/karma.bundle.js?b7d10f4cb57d9b36c6b149128e3c9810b2901be0:8092:1)\nat __webpack_require__ (http://localhost:9879/absolute/path-to-repo/karma.bundle.js?b7d10f4cb57d9b36c6b149128e3c9810b2901be0:20:30)\nat eval (webpack-internal:///./src/ngx/core/components/display-groups-dropdown/display-groups-dropdown.component.spec.ts:4:43)\n</code></pre>\n\n<p>(<code>ngx</code> being Angular part of the app and <code>ngjs</code> being AngularJS).</p>\n\n<p>Our Karma config:</p>\n\n<pre><code>export default (config) =&gt; {\nconfig.set({\n    basePath: 'src',\n    frameworks: ['jasmine'],\n    plugins: [\n        karmaJasminePlugin,\n        karmaChromeLauncherPlugin,\n        karmaWebpackPlugin,\n        tsLoaderPlugin,\n        karmaMochaReporterPlugin,\n        karmaCoverageIstanbulReporterPlugin,\n    ],\n    preprocessors: {\n        '../karma.bundle.ts': ['webpack'],\n    },\n    client: { clearContext: false }, // leave Jasmine Spec Runner output visible in browser\n    files: [\n        { pattern: '../karma.bundle.ts', watched: false },\n    ],\n    mime: {\n        'text/x-typescript': ['ts', 'tsx'],\n    },\n    coverageIstanbulReporter: {\n        dir: require('path').join(__dirname, 'coverage'),\n        reports: ['html', 'lcovonly', 'text-summary'],\n        combineBrowserReports: true,\n        fixWebpackSourcePaths: true\n    },\n    reporters: config.codeCoverage ? ['mocha', 'coverage-istanbul'] : ['mocha'],\n    mochaReporter: { ignoreSkipped: true },\n    port: 9876,\n    colors: true,\n    logLevel: config.LOG_INFO,\n    autoWatch: false,\n    singleRun: true,\n    browsers: ['ChromeHeadless'],\n    customLaunchers: {\n        ChromeDebug: {\n            base: 'Chrome',\n            flags: ['--remote-debugging-port=9333'],\n            debug: true\n        },\n    },\n    webpack: config.codeCoverage ? webpackMerge(webpackConf,\n        {\n            module: {\n                rules: [\n                    {\n                        test: /\\.ts$/,\n                        exclude: /\\.spec\\.ts$/,\n                        enforce: 'post',\n                        use: {\n                            loader: 'istanbul-instrumenter-loader',\n                            options: {\n                                esModules: true\n                            },\n                        }\n                    }\n                ]\n            }\n        }\n    ) : webpackConf,\n    webpackMiddleware: {\n        noInfo: true,\n        stats: 'errors-only'\n    },\n    concurrency: Infinity,\n    browserDisconnectTolerance: 3,\n    browserDisconnectTimeout: 210000,\n    browserNoActivityTimeout: 210000,\n});\n};\n</code></pre>\n\n<p>Our tsconfig for the tests:</p>\n\n<pre><code>{\n\"extends\": \"../tsconfig.json\",\n\"compilerOptions\": {\n    \"outDir\": \"../out-tsc/spec\",\n    \"types\": [\n        \"jasmine\",\n        \"node\"\n    ]\n},\n\"include\": [\n    \"../karma.bundle.ts\",\n    \"**/*.spec.ts\",\n    \"**/*.d.ts\"\n]\n}\n</code></pre>\n\n<p><code>karma.bundle.ts</code> (rather standard):</p>\n\n<pre><code>// First, initialize the Angular testing environment.\nbeforeAll(() =&gt; {\n    testing.TestBed.resetTestEnvironment();\n    testing.TestBed.initTestEnvironment(browser.BrowserDynamicTestingModule,\n        browser.platformBrowserDynamicTesting());\n});\n\n/**\n * Get all the files, for each file, call the context function\n * that will require the file and load it up here. Context will\n * loop and require those spec files here\n */\nfunction requireAll(requireContext) {\n    return requireContext.keys().map((key) =&gt; {\n        requireContext(key);\n    });\n}\n\n/**\n * Requires and returns all modules that match\n */\nconst context = (require as any).context('./src', true, /\\.spec\\.ts$/);\nconsole.log('Keys: ', context.keys());\nrequireAll(context);\n</code></pre>\n\n<p>So far, I have following suspicions:</p>\n\n<ul>\n<li>Karma doesn't see typings when loading the modules, hence HTML is not recognizable type</li>\n<li>Webpack doesn't process HTMLs as it should, despite having proper configuration, but only in Karma context</li>\n</ul>\n\n<p>I'd be glad for any help, as we're completely stuck and our tests are unusable for the time being.</p>\n"}, {"tags": ["javascript", "typescript", "joi"], "comments": [{"owner": {"reputation": 2360, "user_id": 727961, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/417d7352ce1d9543ecb451d3e1cbe3fa?s=128&d=identicon&r=PG", "display_name": "Cuthbert", "link": "https://stackoverflow.com/users/727961/cuthbert"}, "edited": false, "score": 0, "creation_date": 1571326152, "post_id": 58410173, "comment_id": 103212328, "body": "Can you add your <code>tsconfig.json</code> here or any other <code>tsc</code> options you might be using? I don&#39;t think this is a <code>joi</code> problem and is just a configuration problem. Also confirm your <code>typescript</code> version."}, {"owner": {"reputation": 103, "user_id": 2448941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e74e86c501fa310783732f73c085432a?s=128&d=identicon&r=PG", "display_name": "alexandru", "link": "https://stackoverflow.com/users/2448941/alexandru"}, "edited": false, "score": 0, "creation_date": 1595251724, "post_id": 58410173, "comment_id": 111401410, "body": "What version of joi were you using? Your code works just fine on stackblitz with version 14: <a href=\"https://stackblitz.com/edit/typescript-ccvxmy\" rel=\"nofollow noreferrer\">stackblitz.com/edit/typescript-ccvxmy</a>"}], "answers": [{"comments": [{"owner": {"reputation": 489, "user_id": 11220385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3391f6f2c7210add4af071b01669df48?s=128&d=identicon&r=PG&f=1", "display_name": "Sathya Narayanan GVK", "link": "https://stackoverflow.com/users/11220385/sathya-narayanan-gvk"}, "edited": false, "score": 0, "creation_date": 1571219042, "post_id": 58410299, "comment_id": 103164185, "body": "sorry joi() was a typo"}, {"owner": {"reputation": 489, "user_id": 11220385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3391f6f2c7210add4af071b01669df48?s=128&d=identicon&r=PG&f=1", "display_name": "Sathya Narayanan GVK", "link": "https://stackoverflow.com/users/11220385/sathya-narayanan-gvk"}, "edited": false, "score": 0, "creation_date": 1571219136, "post_id": 58410299, "comment_id": 103164242, "body": "But i get a different error while compiling, <code>Cannot find name &#39;Iterable&#39;.  703     map(iterable: Iterable&lt;[string | number | boolean | symbol, symbol]&gt; | { [key: string]: symbol }): this;</code>"}, {"owner": {"reputation": 767, "user_id": 10732370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3db57ee43af1c260d833b5dcbdf5d92?s=128&d=identicon&r=PG", "display_name": "Reece Daniels", "link": "https://stackoverflow.com/users/10732370/reece-daniels"}, "edited": false, "score": 0, "creation_date": 1587497933, "post_id": 58410299, "comment_id": 108534461, "body": "<code>import joi from &#39;joi&#39;</code> should really do the trick. Then use <code>joi.validate()</code> as you would normally. Which version are you running? <code>14.3.1</code> works fine for me when importing and using via that method. Also, I&#39;m not sure if it would help but maybe try <code>const schema = joi.object({ key: joi.string().required() })</code> for your schema?"}], "tags": [], "owner": {"reputation": 498, "user_id": 7826170, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/b935a1a024704169f50224aa812679e2?s=128&d=identicon&r=PG&f=1", "display_name": "numberjak", "link": "https://stackoverflow.com/users/7826170/numberjak"}, "is_accepted": false, "score": 0, "last_activity_date": 1571218881, "creation_date": 1571218881, "answer_id": 58410299, "question_id": 58410173, "link": "https://stackoverflow.com/questions/58410173/implement-joi-in-typescript/58410299#58410299", "title": "Implement Joi in Typescript", "body": "<p>I doubt that <code>import * as Joi from \"joi\"</code> is going to give you much joy. You are importing all exported members with that.</p>\n\n<p>Is there an individual export you are wanting? Use <code>import { IndividualExport } from \"joi\"</code></p>\n\n<p>Is there a default export you are wanting? Use <code>import Joi from \"joi\"</code></p>\n\n<p>Also is there a reason you are calling <code>Joi</code> in the second example but not the first?</p>\n"}, {"comments": [{"owner": {"reputation": 489, "user_id": 11220385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3391f6f2c7210add4af071b01669df48?s=128&d=identicon&r=PG&f=1", "display_name": "Sathya Narayanan GVK", "link": "https://stackoverflow.com/users/11220385/sathya-narayanan-gvk"}, "edited": false, "score": 0, "creation_date": 1571219297, "post_id": 58410301, "comment_id": 103164332, "body": "Yes installed the @types.But when i tried to run the code i got the error <code>Cannot find name &#39;Iterable&#39;.  703 map(iterable: Iterable&lt;[string | number | boolean | symbol, symbol]&gt; | { [key: string]: symbol }): this;</code>"}, {"owner": {"reputation": 489, "user_id": 11220385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3391f6f2c7210add4af071b01669df48?s=128&d=identicon&r=PG&f=1", "display_name": "Sathya Narayanan GVK", "link": "https://stackoverflow.com/users/11220385/sathya-narayanan-gvk"}, "edited": false, "score": 0, "creation_date": 1571219373, "post_id": 58410301, "comment_id": 103164368, "body": "I made an npm i @types/joi  .But the above error exists"}, {"owner": {"reputation": 489, "user_id": 11220385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3391f6f2c7210add4af071b01669df48?s=128&d=identicon&r=PG&f=1", "display_name": "Sathya Narayanan GVK", "link": "https://stackoverflow.com/users/11220385/sathya-narayanan-gvk"}, "edited": false, "score": 0, "creation_date": 1571223852, "post_id": 58410301, "comment_id": 103166708, "body": "How can i make use of Joi after installing @types/joi ? Currently ,i can see @types/joi in my package.json"}], "tags": [], "owner": {"reputation": 4291, "user_id": 5122581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lx09Q.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/5122581/phillip"}, "is_accepted": false, "score": 2, "last_activity_date": 1595277178, "last_edit_date": 1595277178, "creation_date": 1571218890, "answer_id": 58410301, "question_id": 58410173, "link": "https://stackoverflow.com/questions/58410173/implement-joi-in-typescript/58410301#58410301", "title": "Implement Joi in Typescript", "body": "<p>Type definitions for Joi exists: <a href=\"https://www.npmjs.com/package/@types/joi\" rel=\"nofollow noreferrer\">@types/joi</a> or <a href=\"https://www.npmjs.com/package/@types/hapi__joi\" rel=\"nofollow noreferrer\">@types/hapi__joi</a> (for joi version 17).</p>\n<p>Add those to your package.json, and you should be able to use Joi with Typescript. Generally speaking you should not be downloading seperate libraries to make a package work in Typescript, some definitions should do</p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 13278127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YAjDK.jpg?s=128&g=1", "display_name": "Taiyr Begeyev", "link": "https://stackoverflow.com/users/13278127/taiyr-begeyev"}, "edited": false, "score": 0, "creation_date": 1618663787, "post_id": 64183361, "comment_id": 118673161, "body": "<b>joi</b> provides its own type definitions. So, there is no need to install <code>@types&#47;joi</code>"}], "tags": [], "owner": {"reputation": 66, "user_id": 8208486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Y2bM.jpg?s=128&g=1", "display_name": "Zakthedev", "link": "https://stackoverflow.com/users/8208486/zakthedev"}, "is_accepted": true, "score": 4, "last_activity_date": 1601721994, "creation_date": 1601721994, "answer_id": 64183361, "question_id": 58410173, "link": "https://stackoverflow.com/questions/58410173/implement-joi-in-typescript/64183361#64183361", "title": "Implement Joi in Typescript", "body": "<p>Please change <code>const Joi =require(&quot;joi&quot;);</code> to <code>import Joi from &quot;joi&quot;;</code> and make sure you've installed the types by using <code>npm install @types/joi --save-dev</code></p>\n"}], "owner": {"reputation": 489, "user_id": 11220385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3391f6f2c7210add4af071b01669df48?s=128&d=identicon&r=PG&f=1", "display_name": "Sathya Narayanan GVK", "link": "https://stackoverflow.com/users/11220385/sathya-narayanan-gvk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10330, "favorite_count": 1, "accepted_answer_id": 64183361, "answer_count": 3, "score": 4, "last_activity_date": 1601721994, "creation_date": 1571218428, "last_edit_date": 1592644375, "question_id": 58410173, "link": "https://stackoverflow.com/questions/58410173/implement-joi-in-typescript", "title": "Implement Joi in Typescript", "body": "<p>Simple joi validation snippet in javascript.It will simply return an error object when validation fails.</p>\n<p><strong>validate.js</strong></p>\n<pre><code>const Joi =require(&quot;joi&quot;);\n\nfunction validateObject (input) {\nconst schema = {\n    key: Joi.string().required(),\n  };\n  return Joi.validate(input, schema);\n};\n\nlet {error} = validateObject({key:5})\nconsole.log(error)\n</code></pre>\n<p>Now I am learning typescript and like to do the exact functionality in TS.I am aware that Joi is  a javascript library but can we make use of it in Typescript.When exploring I came across some alternatives like <a href=\"https://github.com/joiful-ts/joiful/issues\" rel=\"nofollow noreferrer\">https://github.com/joiful-ts/joiful</a>.</p>\n<p>I am curious to know if there is any straightforward approach using <strong>Joi directly in typescript</strong>. Or little bit of changes to make the Joi work exactly like in Javascript.</p>\n<p><strong>WHAT I TRIED</strong></p>\n<p><strong>validate.ts</strong></p>\n<pre><code>import * as Joi from &quot;joi&quot;;\n\nexport const validateObject = (input: object) =&gt; {\nconst schema = {\n    home: Joi.string().required(),\n  };\n  return Joi.validate(input, schema);\n};\nvalidateObject({key:5})\n</code></pre>\n<p>While compiling, I got the error</p>\n<blockquote>\n<p>Cannot find name 'Iterable'.</p>\n<p>703     map(iterable: Iterable&lt;[string | number | boolean | symbol,\nsymbol]&gt; | { [key: string]: symbol }): this;</p>\n</blockquote>\n<p><strong>UPDATE</strong><br />\n<strong>I have installed @types/joi as suggested in the answer but still the same error</strong></p>\n<p>I am basically looking for validating string,boolean,number,array and object keys as it can be done easily with Joi in Javascript</p>\n"}, {"tags": ["angular", "typescript", "unit-testing"], "comments": [{"owner": {"reputation": 1690, "user_id": 6475950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FmoDe.jpg?s=128&g=1", "display_name": "Archit Garg", "link": "https://stackoverflow.com/users/6475950/archit-garg"}, "edited": false, "score": 0, "creation_date": 1571220732, "post_id": 58410148, "comment_id": 103165106, "body": "AppleComponent in test does not actually extend the Banana component, so how can it use the propery of banana component."}, {"owner": {"reputation": 27, "user_id": 12043709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58673e7b219252e7fa285eaa147e29e?s=128&d=identicon&r=PG&f=1", "display_name": "Puddlejumper26", "link": "https://stackoverflow.com/users/12043709/puddlejumper26"}, "reply_to_user": {"reputation": 1690, "user_id": 6475950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FmoDe.jpg?s=128&g=1", "display_name": "Archit Garg", "link": "https://stackoverflow.com/users/6475950/archit-garg"}, "edited": false, "score": 0, "creation_date": 1571221141, "post_id": 58410148, "comment_id": 103165306, "body": "Yes, thanks, that makes sense, I just misunderstood the whole context.But still if I need to do the test, I need to write the component, fixture in a right way.   e.g. type typeA = { };  type  typeModel = AppleComponent&lt;typeA, BananaComponent&lt;typeA&gt;&gt;;   let component: typeModel; let fixture: ComponentFixture&lt;typeModel&gt;"}, {"owner": {"reputation": 1690, "user_id": 6475950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FmoDe.jpg?s=128&g=1", "display_name": "Archit Garg", "link": "https://stackoverflow.com/users/6475950/archit-garg"}, "edited": false, "score": 0, "creation_date": 1571224844, "post_id": 58410148, "comment_id": 103167226, "body": "Your query is resolved?"}, {"owner": {"reputation": 27, "user_id": 12043709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58673e7b219252e7fa285eaa147e29e?s=128&d=identicon&r=PG&f=1", "display_name": "Puddlejumper26", "link": "https://stackoverflow.com/users/12043709/puddlejumper26"}, "reply_to_user": {"reputation": 1690, "user_id": 6475950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FmoDe.jpg?s=128&g=1", "display_name": "Archit Garg", "link": "https://stackoverflow.com/users/6475950/archit-garg"}, "edited": false, "score": 0, "creation_date": 1571324737, "post_id": 58410148, "comment_id": 103211514, "body": "Yes, it is solved"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 12043709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58673e7b219252e7fa285eaa147e29e?s=128&d=identicon&r=PG&f=1", "display_name": "Puddlejumper26", "link": "https://stackoverflow.com/users/12043709/puddlejumper26"}, "edited": false, "score": 0, "creation_date": 1571219973, "post_id": 58410515, "comment_id": 103164670, "body": "could you please also write how to create the TestObject Model. thank you"}, {"owner": {"reputation": 1127, "user_id": 2376892, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81cc7f4550ed84d09e1aeb34fb05c7ac?s=128&d=identicon&r=PG", "display_name": "Deunz", "link": "https://stackoverflow.com/users/2376892/deunz"}, "edited": false, "score": 0, "creation_date": 1582705212, "post_id": 58410515, "comment_id": 106865046, "body": "Tanks a lot. This is working : fixture = TestBed.createComponent&lt;AppleComponent&lt;TestObject&gt;&gt;(AppleCom&zwnj;&#8203;ponent)"}], "tags": [], "owner": {"reputation": 862, "user_id": 3738129, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nyKe9.jpg?s=128&g=1", "display_name": "Yvan", "link": "https://stackoverflow.com/users/3738129/yvan"}, "is_accepted": false, "score": 3, "last_activity_date": 1571220206, "last_edit_date": 1571220206, "creation_date": 1571219586, "answer_id": 58410515, "question_id": 58410148, "link": "https://stackoverflow.com/questions/58410148/how-to-unit-test-a-generic-component-in-angular/58410515#58410515", "title": "How to unit test a generic component in Angular", "body": "<p>Did you try to give the type of your component during the creation ? </p>\n\n<pre><code>fixture = TestBed.createComponent&lt;AppleComponent&lt;TestObject&gt;&gt;(AppleComponent)\n</code></pre>\n\n<p>You should probably create a TestObject Model won't work with generic Type T. </p>\n\n<pre><code>export class TestObject {\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1690, "user_id": 6475950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FmoDe.jpg?s=128&g=1", "display_name": "Archit Garg", "link": "https://stackoverflow.com/users/6475950/archit-garg"}, "edited": false, "score": 0, "creation_date": 1571224831, "post_id": 58411091, "comment_id": 103167219, "body": "What is your question now?"}], "tags": [], "owner": {"reputation": 27, "user_id": 12043709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58673e7b219252e7fa285eaa147e29e?s=128&d=identicon&r=PG&f=1", "display_name": "Puddlejumper26", "link": "https://stackoverflow.com/users/12043709/puddlejumper26"}, "is_accepted": false, "score": 1, "last_activity_date": 1571224980, "last_edit_date": 1571224980, "creation_date": 1571221484, "answer_id": 58411091, "question_id": 58410148, "link": "https://stackoverflow.com/questions/58410148/how-to-unit-test-a-generic-component-in-angular/58411091#58411091", "title": "How to unit test a generic component in Angular", "body": "<p>My misunderstanding about this concept is:</p>\n\n<p>AppleComponent is not really extending from BananaComponent, therefore <strong>component.</strong> will never be able to obtain anything from BananaComponent.</p>\n\n<p>What is happnening here is just the type of AppleComponent extends the BananaComponent; The purpose is to keep the type of the input value inside the AppleComponent to be identical with the type of input value inside BananaComponent. </p>\n\n<p>Therefore during the test it is still need to write the component, fixture in a right way.   </p>\n\n<p><strong>Solution for my quesiton I asked</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// first inside the test to define a random type, then give it to AppleComponent, and BananaComponent.\n\ntype typeA = { };  \ntype typeModel = AppleComponent&lt;typeA, BananaComponent&lt;typeA&gt;&gt;;   \n\nlet component: typeModel; \nlet fixture: ComponentFixture&lt;typeModel&gt;\n</code></pre>\n\n<p>And for a better understanding of the relationship between the types of AppleComponent and BananaComponent, here are the more detailed codes.</p>\n\n<p><strong>AppleComponent</strong></p>\n\n<pre><code>export class AppleComponent&lt;T,U extends BananaComponent&lt;T&gt;&gt;{\n   public appleA = 'appleA';\n   public appleB = 'appleB';\n   public applePurchase !: U;\n}\n</code></pre>\n\n<p><strong>BananaComponent</strong></p>\n\n<pre><code>export abstract class BananaComponent&lt;T&gt; implements OnInit{\n   public bananaA = 'bananaA';\n   public bananaB = 'bananaB';\n   public bananaPurchase : T;\n\n   public totalPurchase: T;\n}\n</code></pre>\n\n<p>from the above code, we could see that </p>\n\n<ol>\n<li><p>inside BananaComponent, type T is to make sure the input bananaPurchase has the same type with totalPurchase, e.g. when bananaPurchase = 1000; then the type is set to number, then the value of totalPurchase has to be a number as well, and vice versa.</p></li>\n<li><p>same situation inside AppleComponent, because it extends the type from BananaComponent, therefore it means the applePurchase should have the same type with bananaPurchase and totalPurchase.</p></li>\n</ol>\n"}], "owner": {"reputation": 27, "user_id": 12043709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58673e7b219252e7fa285eaa147e29e?s=128&d=identicon&r=PG&f=1", "display_name": "Puddlejumper26", "link": "https://stackoverflow.com/users/12043709/puddlejumper26"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1571324657, "creation_date": 1571218337, "last_edit_date": 1571324657, "question_id": 58410148, "link": "https://stackoverflow.com/questions/58410148/how-to-unit-test-a-generic-component-in-angular", "title": "How to unit test a generic component in Angular", "body": "<p>I am writing a test for AppleComponent, and which has type <code>&lt;T,U extends BananaComponent&lt;T&gt;&gt;</code>. And there is <code>BananaComponent&lt;T&gt;</code></p>\n\n<p><strong>target component</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class AppleComponent&lt;T,U extends BananaComponent&lt;T&gt;&gt;{\n   public appleA = 'appleA';\n   public appleB = 'appleB';\n   public appleC !: U;\n\n}\n</code></pre>\n\n<p><strong>extended component</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export abstract class BananaComponent&lt;T&gt; implements OnInit{\n   public bananaA = 'bananaA';\n   public bananaB = 'bananaB';\n}\n</code></pre>\n\n<p>Here is my <strong>spec file</strong> for testing <em>AppleComponent</em></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { CommonModule } from '@angular/common';\nimport { ComponentFixture, TestBed } from '@angular/core/testing';\n\nimport {AppleComponent} from '....';\nimport {BananaComponent} from '....';\n\ndescribe('AppleComponent', () =&gt; {\n   let component: AppleComponent;\n   let fixture: ComponentFixture&lt;AppleComponent&gt;;\n\n   beforeEach(()=&gt;{\n     TestBed.configureTestingModule({\n         declarations:[AppleComponent],\n         imports:[BananaComponent],\n     });\n     fixture = TestBed.creatComponent(AppleComponent);\n     component = fixture.componentInstance;\n   });\n\n   it('should with defaults',() =&gt; {\n      expect(component.appleA).toBe('appleA','appleA has appleA as default value'); // passes\n   });\n});\n\n</code></pre>\n\n<p>Therefore I have a problem with the spec file, it could not be compiled. </p>\n\n<p>My logic is the types of component and fixture are wrong,I figured I need to change something to the component and fixture, then came to the answer I wrote below. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// first inside the test to define a random type, then give it to AppleComponent, and BananaComponent.\n\ntype typeA = { };  \ntype typeModel = AppleComponent&lt;typeA, BananaComponent&lt;typeA&gt;&gt;;   \n\nlet component: typeModel; \nlet fixture: ComponentFixture&lt;typeModel&gt;\n</code></pre>\n"}, {"tags": ["arrays", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 892, "user_id": 4125225, "user_type": "registered", "profile_image": "https://graph.facebook.com/1375424502/picture?type=large", "display_name": "Alessio Campanelli", "link": "https://stackoverflow.com/users/4125225/alessio-campanelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1571218405, "creation_date": 1571218405, "answer_id": 58410171, "question_id": 58410043, "link": "https://stackoverflow.com/questions/58410043/how-can-i-return-true-if-a-specific-object-was-found-in-an-array/58410171#58410171", "title": "How can I return true if a specific object was found in an array?", "body": "<p>indexOf() return -1 if it does not find elements.\nSo you can implement something like this: </p>\n\n<pre><code>return this.user.roles.indexOf(role) != -1\n</code></pre>\n\n<p>In this way you'll have <code>true</code> if indexOf found an element <code>false</code> otherwise.</p>\n\n<p>in your checkIfTrue(role: Role) method</p>\n"}, {"comments": [{"owner": {"reputation": 599, "user_id": 6613743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f19186515922ca6449b38af7d9e1dc3b?s=128&d=identicon&r=PG&f=1", "display_name": "upinder kumar", "link": "https://stackoverflow.com/users/6613743/upinder-kumar"}, "reply_to_user": {"reputation": 93, "user_id": 12025029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4319ee22d53fb5239321673224d4b94?s=128&d=identicon&r=PG&f=1", "display_name": "Alan S", "link": "https://stackoverflow.com/users/12025029/alan-s"}, "edited": false, "score": 0, "creation_date": 1571221291, "post_id": 58410222, "comment_id": 103165378, "body": "Welcome, Alan s I am happy to help you."}], "tags": [], "owner": {"reputation": 599, "user_id": 6613743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f19186515922ca6449b38af7d9e1dc3b?s=128&d=identicon&r=PG&f=1", "display_name": "upinder kumar", "link": "https://stackoverflow.com/users/6613743/upinder-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1571218601, "creation_date": 1571218601, "answer_id": 58410222, "question_id": 58410043, "link": "https://stackoverflow.com/questions/58410043/how-can-i-return-true-if-a-specific-object-was-found-in-an-array/58410222#58410222", "title": "How can I return true if a specific object was found in an array?", "body": "<p>Everything is fine only change its like that : </p>\n\n<pre><code> checkIfTrue(role: Role) {\n\n   this.user.roles.find(e=&gt;{\n    if(e.name === role) {\n       return true;\n     }\n     });\n   }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 12025029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4319ee22d53fb5239321673224d4b94?s=128&d=identicon&r=PG&f=1", "display_name": "Alan S", "link": "https://stackoverflow.com/users/12025029/alan-s"}, "edited": false, "score": 0, "creation_date": 1571220669, "post_id": 58410517, "comment_id": 103165078, "body": "Your checkIfTrue function did not work, however @upinder kumar &#39;s function did. Thank you!"}], "tags": [], "owner": {"reputation": 2060, "user_id": 6851836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3d881c8af1ff5dafe72b5d2ca3f256?s=128&d=identicon&r=PG", "display_name": "Hsuan Lee", "link": "https://stackoverflow.com/users/6851836/hsuan-lee"}, "is_accepted": true, "score": 2, "last_activity_date": 1571219592, "creation_date": 1571219592, "answer_id": 58410517, "question_id": 58410043, "link": "https://stackoverflow.com/questions/58410043/how-can-i-return-true-if-a-specific-object-was-found-in-an-array/58410517#58410517", "title": "How can I return true if a specific object was found in an array?", "body": "<p>You should set the value when building the form instead of using the <code>[checked]</code> property, because of the reactive form you use.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-hsvug5?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-hsvug5?file=src/app/app.component.ts</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ngOnChanges() {\n  const formControls = this.roles.map(role =&gt; new FormControl(this.checkIfTrue(role)));\n\n  this.rolesForm = this.formBuilder.group({\n    roles: new FormArray(formControls)\n  });\n}\n\ncheckIfTrue(role) {\n  return this.user.roles.find(r =&gt; r.uid === role.uid);\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form [formGroup]=\"rolesForm\"&gt;\n  &lt;label \n    formArrayName=\"roles\" \n    *ngFor=\"let role of rolesForm.controls['roles'].controls; let i = index\"\n  &gt;\n    &lt;input \n      type=\"checkbox\" \n      [formControlName]=\"i\" \n    /&gt; {{roles[i].name}}\n  &lt;/label&gt;\n&lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 12025029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4319ee22d53fb5239321673224d4b94?s=128&d=identicon&r=PG&f=1", "display_name": "Alan S", "link": "https://stackoverflow.com/users/12025029/alan-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 58410517, "answer_count": 3, "score": 0, "last_activity_date": 1571219814, "creation_date": 1571218065, "last_edit_date": 1571218821, "question_id": 58410043, "link": "https://stackoverflow.com/questions/58410043/how-can-i-return-true-if-a-specific-object-was-found-in-an-array", "title": "How can I return true if a specific object was found in an array?", "body": "<p>I have a simple form with checkboxes made in Angular and I would like to make the checkbox check itself if the user has this role.</p>\n\n<p>Here is what I tried:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form [formGroup]=\"rolesForm\"&gt;\n  &lt;label \n    formArrayName=\"roles\" \n    *ngFor=\"let role of rolesForm.controls['roles'].controls; let i = index\"\n  &gt;\n    &lt;input \n      type=\"checkbox\" \n      [checked]=\"checkIfTrue(role[i])\"\n      [formControlName]=\"i\" \n    /&gt; {{role[i].name}}\n  &lt;/label&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The component itself:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>roles: Role[] = [\n  {\n    uid: '456DNC',\n    name: 'Admin'\n  },\n  {\n    uid: '546DKZ',\n    name: 'Member'\n  },\n  {\n    uid: '741JXY',\n    name: 'Guest'\n  }\n]\n\nuser: User = {\n  uid: '123ABC',\n  name: 'Steve',\n  roles: [\n    {\n      uid: '456DNC',\n      name: 'Admin'\n    }\n  ]\n}\n\nrolesForm: FormGroup;\n\n// So I can get every roles and the user can check multiple checkboxes to get as many roles as it wants\nngOnChanges() {\n  const formControls = this.roles.map(role =&gt; new FormControl(false));\n\n  this.rolesForm = this.formBuilder.group({\n    roles: new FormArray(formControls)\n  });\n}\n\ncheckIfTrue(role: Role) {\n  // I assume that it should return true if it finds the role in the user.roles array but it doesn't. It doesn't check the box and I get an eror.\n  return this.user.roles.find(role);\n}\n</code></pre>\n\n<p>I'm getting something like this: <code>[object Object] is not a function at Array.find</code></p>\n\n<p>I have tried the following functions <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf\" rel=\"nofollow noreferrer\">.indexOf()</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"nofollow noreferrer\">.includes()</a></p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11983258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325c5e1b8aa53131d901b693e803210f?s=128&d=identicon&r=PG&f=1", "display_name": "Ritwik Sarkar", "link": "https://stackoverflow.com/users/11983258/ritwik-sarkar"}, "edited": false, "score": 0, "creation_date": 1571293193, "post_id": 58415482, "comment_id": 103193625, "body": "If i use your answer then i have to use 10 &lt;p&gt; tags for 10 languages.So,can it reduced more efficiently so this i can use very less number of &lt;p&gt; tags?Actually i am try to minify the HTML file.So if i use 10 &lt;p&gt; tags,the it will be same as using 10 &lt;div&gt; tags.And in this way there will be no reduction of HTML file size."}, {"owner": {"reputation": 310, "user_id": 11549319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac6070fedbd113868635c6942975db7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eudz", "link": "https://stackoverflow.com/users/11549319/eudz"}, "reply_to_user": {"reputation": 1, "user_id": 11983258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325c5e1b8aa53131d901b693e803210f?s=128&d=identicon&r=PG&f=1", "display_name": "Ritwik Sarkar", "link": "https://stackoverflow.com/users/11983258/ritwik-sarkar"}, "edited": false, "score": 0, "creation_date": 1571299576, "post_id": 58415482, "comment_id": 103196662, "body": "@RitwikSarkar hmm I see and how do you get the value of the url ?"}, {"owner": {"reputation": 1, "user_id": 11983258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325c5e1b8aa53131d901b693e803210f?s=128&d=identicon&r=PG&f=1", "display_name": "Ritwik Sarkar", "link": "https://stackoverflow.com/users/11983258/ritwik-sarkar"}, "edited": false, "score": 0, "creation_date": 1571302141, "post_id": 58415482, "comment_id": 103198039, "body": "TS CODE-&gt;this.url=&quot;<a href=\"https://a.es/&quot;;&lt;-Here\" rel=\"nofollow noreferrer\">a.es/&quot;;&lt;-Here</a> the url is given if(this.url==&quot;<a href=\"https://a.es/&quot;\" rel=\"nofollow noreferrer\">a.es/&quot;</a>){    this.langtag=&quot;<a href=\"https://a.es/\" rel=\"nofollow noreferrer\">a.es</a>&quot;; }else if(this.url==&quot;<a href=\"https://a.fr/&quot;\" rel=\"nofollow noreferrer\">a.fr/&quot;</a>){    this.langtag=&quot;<a href=\"https://a.fr/\" rel=\"nofollow noreferrer\">a.fr</a>&quot;; }if(this.url==&quot;<a href=\"https://a.es/&quot;\" rel=\"nofollow noreferrer\">a.es/&quot;</a>){       this.ab=&quot;<a href=\"https://forms.a.es\" rel=\"nofollow noreferrer\">forms.a.es</a>&quot;; }else if(this.url==&quot;<a href=\"https://a.fr/&quot;\" rel=\"nofollow noreferrer\">a.fr/&quot;</a>){       this.ab=&quot;<a href=\"https://forms.a.fr\" rel=\"nofollow noreferrer\">forms.a.fr</a>&quot;; }HTML CODE-&gt;&lt;div class=&quot;a&quot; *ngIf=&#39;&quot;langtag/&quot;&#39;&gt; \t&lt;p&gt;&lt;a href=&#39;&quot;ab&quot;&#39;&gt;{{&quot;dont&#39;know my flight number&quot; | translate}}&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;//main website given by the user,logic is run on the ts file,langtag is rendering,but ab is not rendering."}, {"owner": {"reputation": 1, "user_id": 11983258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325c5e1b8aa53131d901b693e803210f?s=128&d=identicon&r=PG&f=1", "display_name": "Ritwik Sarkar", "link": "https://stackoverflow.com/users/11983258/ritwik-sarkar"}, "edited": false, "score": 0, "creation_date": 1571304388, "post_id": 58415482, "comment_id": 103199332, "body": "HTML CODE-&gt;&lt;div class=&quot;a&quot; *ngIf=&#39;&quot;langtag/&quot;&#39;&gt;           &lt;p&gt;&lt;a [attr.href]=&quot;ab&quot; target=&quot;_blank&quot;&gt;{{&quot;dont&#39;know my number&quot; | translate}}&lt;/a&gt;&lt;/p&gt;         &lt;/div&gt;//I am running this code but it is not rendering ab variable from TS code."}, {"owner": {"reputation": 310, "user_id": 11549319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac6070fedbd113868635c6942975db7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eudz", "link": "https://stackoverflow.com/users/11549319/eudz"}, "reply_to_user": {"reputation": 1, "user_id": 11983258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325c5e1b8aa53131d901b693e803210f?s=128&d=identicon&r=PG&f=1", "display_name": "Ritwik Sarkar", "link": "https://stackoverflow.com/users/11983258/ritwik-sarkar"}, "edited": false, "score": 0, "creation_date": 1571305117, "post_id": 58415482, "comment_id": 103199772, "body": "@RitwikSarkar remove the *ngIf"}, {"owner": {"reputation": 1, "user_id": 11983258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325c5e1b8aa53131d901b693e803210f?s=128&d=identicon&r=PG&f=1", "display_name": "Ritwik Sarkar", "link": "https://stackoverflow.com/users/11983258/ritwik-sarkar"}, "edited": false, "score": 0, "creation_date": 1571307575, "post_id": 58415482, "comment_id": 103201240, "body": "OK i understand the *ngIf is not required.When i am removing the *ngIf the output in the browser &#39;&quot;dont&#39;know my number&quot; | translate&#39; link is not working.So,[attr.href]=&quot;ab&quot; is not rendering the if else loop from TS file which is supposed give the form link."}], "tags": [], "owner": {"reputation": 310, "user_id": 11549319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac6070fedbd113868635c6942975db7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eudz", "link": "https://stackoverflow.com/users/11549319/eudz"}, "is_accepted": false, "score": 0, "last_activity_date": 1571302863, "last_edit_date": 1571302863, "creation_date": 1571235340, "answer_id": 58415482, "question_id": 58409999, "link": "https://stackoverflow.com/questions/58409999/how-to-minimize-html-from-multi-div-to-one-div-having-different-href-link-under/58415482#58415482", "title": "How to minimize html from multi div to one div having different href link under each div", "body": "<p>Then you can just do that:</p>\n\n<pre><code>&lt;div class=\"a\"&gt;\n  &lt;p&gt;&lt;a [attr.href]=\"url\" target=\"_blank\"&gt;{{\"dont'know number\" | translate}}&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11983258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325c5e1b8aa53131d901b693e803210f?s=128&d=identicon&r=PG&f=1", "display_name": "Ritwik Sarkar", "link": "https://stackoverflow.com/users/11983258/ritwik-sarkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571302863, "creation_date": 1571217888, "question_id": 58409999, "link": "https://stackoverflow.com/questions/58409999/how-to-minimize-html-from-multi-div-to-one-div-having-different-href-link-under", "title": "How to minimize html from multi div to one div having different href link under each div", "body": "<p>The ngIf's under each div getting link from angular typescript file.Which ever language website i give that language form website should open.\"don't know number\" is coming from the json file of i18n.</p>\n\n<pre><code>//ts code\nthis.url=\"https://a.es/\";\n\n//html code\n&lt;div class=\"a\" *ngIf='this.url==\"https://a.es/\"'&gt;\n          &lt;p&gt;&lt;a href=\"https://forms.a.es\" target=\"_blank\"&gt;{{\"dont'know number\" | translate}}&lt;/a&gt;&lt;/p&gt;\n        &lt;/div&gt;\n&lt;div class=\"a\" *ngIf='this.url==\"https://a.fr/\"'&gt;\n          &lt;p&gt;&lt;a href=\"https://forms.a.fr\" target=\"_blank\"&gt;{{\"dont'know number\" | translate}}&lt;/a&gt;&lt;/p&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>The code should run one div in html.</p>\n"}, {"tags": ["node.js", "typescript", "unit-testing", "jestjs", "alias"], "comments": [{"owner": {"reputation": 206, "user_id": 2558722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5z7V0.png?s=128&g=1", "display_name": "TheBird956", "link": "https://stackoverflow.com/users/2558722/thebird956"}, "edited": false, "score": 1, "creation_date": 1612389815, "post_id": 58409992, "comment_id": 116755738, "body": "You should remove your solution from your question and add your own answer."}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 7566436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-WG5KDh2NOCQ/AAAAAAAAAAI/AAAAAAAAACY/QfUhmzd_JFA/photo.jpg?sz=128", "display_name": "Ekoar", "link": "https://stackoverflow.com/users/7566436/ekoar"}, "edited": false, "score": 0, "creation_date": 1571220203, "post_id": 58410455, "comment_id": 103164812, "body": "It seems the baseUrl in compilerOptions could informs the compiler where to find modules because It gives me typescript error after I added &#39;src&#39; into the path"}, {"owner": {"reputation": 167, "user_id": 7566436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-WG5KDh2NOCQ/AAAAAAAAAAI/AAAAAAAAACY/QfUhmzd_JFA/photo.jpg?sz=128", "display_name": "Ekoar", "link": "https://stackoverflow.com/users/7566436/ekoar"}, "edited": false, "score": 0, "creation_date": 1571220413, "post_id": 58410455, "comment_id": 103164928, "body": "I can&#39;t even start my app, it also gives me Cannot find module &#39;@config/...&#39;"}, {"owner": {"reputation": 5568, "user_id": 4166367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c9P3c.jpg?s=128&g=1", "display_name": "Sergeon", "link": "https://stackoverflow.com/users/4166367/sergeon"}, "reply_to_user": {"reputation": 167, "user_id": 7566436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-WG5KDh2NOCQ/AAAAAAAAAAI/AAAAAAAAACY/QfUhmzd_JFA/photo.jpg?sz=128", "display_name": "Ekoar", "link": "https://stackoverflow.com/users/7566436/ekoar"}, "edited": false, "score": 0, "creation_date": 1571229231, "post_id": 58410455, "comment_id": 103169761, "body": "wow that really puzzles me. I have a working configuration with ts and jest, and I am specifying the full route to my paths indicating the <code>src</code> segment. I see that in your package.json you&#39;re referring to &#39;interface&#39; , but in your tsconfig there&#39;s a reference to &#39;interfaces&#39;  instead (with the extra <code>s</code>). Maybe it is related, I&#39;m not sure."}, {"owner": {"reputation": 167, "user_id": 7566436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-WG5KDh2NOCQ/AAAAAAAAAAI/AAAAAAAAACY/QfUhmzd_JFA/photo.jpg?sz=128", "display_name": "Ekoar", "link": "https://stackoverflow.com/users/7566436/ekoar"}, "edited": false, "score": 0, "creation_date": 1571386854, "post_id": 58410455, "comment_id": 103231617, "body": "I created a jest.config.js and added two options including &#39;roots&#39; and &#39;transform&#39; then everything works fine now."}], "tags": [], "owner": {"reputation": 5568, "user_id": 4166367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c9P3c.jpg?s=128&g=1", "display_name": "Sergeon", "link": "https://stackoverflow.com/users/4166367/sergeon"}, "is_accepted": false, "score": 0, "last_activity_date": 1571219348, "creation_date": 1571219348, "answer_id": 58410455, "question_id": 58409992, "link": "https://stackoverflow.com/questions/58409992/jest-cannot-resolve-module-aliases/58410455#58410455", "title": "jest cannot resolve module aliases", "body": "<p>I think you don't have the routes properly configured in your <code>tsconfig</code>, since the paths lack the <code>src</code> folder (while they appear in your package.json module alias config):</p>\n\n<p>Your <code>tsconfig</code> code: </p>\n\n<pre><code>\"@config/*\": [\"config/*\"],\n\"@interfaces/*\": [\"interfaces/*\"],\n\"@services/*\": [\"services/*\"]\n</code></pre>\n\n<p>How I think it should be:</p>\n\n<pre><code>\"@config/*\": [\"src/config/*\"],\n\"@interfaces/*\": [\"src/interfaces/*\"],\n\"@services/*\": [\"src/services/*\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1376, "user_id": 2170368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/939by.jpg?s=128&g=1", "display_name": "Greg Woz", "link": "https://stackoverflow.com/users/2170368/greg-woz"}, "is_accepted": false, "score": 3, "last_activity_date": 1611490151, "last_edit_date": 1611490151, "creation_date": 1611482039, "answer_id": 65869162, "question_id": 58409992, "link": "https://stackoverflow.com/questions/58409992/jest-cannot-resolve-module-aliases/65869162#65869162", "title": "jest cannot resolve module aliases", "body": "<p>After a few hours I've managed to make this work. I'll try my best to simplify it to save others time and make it smooth.</p>\n<p>My app is of the following stack:</p>\n<ul>\n<li>Typescript (<code>tsc</code> and <code>ts-node/register</code>, no Babel) for the API build (<code>.ts</code>)</li>\n<li>React (<code>.tsx</code> using Webpack)</li>\n<li><code>jest</code> for API testing (no Babel)</li>\n<li><code>testcafe</code> for UI/E2E</li>\n<li>VSCode as IDE</li>\n</ul>\n<p><strong>Key notes:</strong></p>\n<ol>\n<li>The solution that works for me is must have &quot;<strong>@</strong>&quot; character in front of the alias. It's not required in theory by <code>module-alias</code>, however Jest is getting lost when we apply the module name mapper.</li>\n<li>There needs to be consistency for naming between 'webpack' aliases and 'tsconfig'. It is necessary for VSCode not to <em>red underline</em> module names in TSX files.</li>\n<li>This should work regardless of your document structure but remember to adapt <code>baseUrl</code> and jest config if encounter issues.</li>\n<li>When applying changes in VSCode for <code>.tsx</code> files do not be worried that some of the paths are underlined. It's temporary as VSCode seems to grasp it only when all files are correctly connected to each other. It demotivated me at the start.</li>\n</ol>\n<p>First, install <code>module-alias</code> from <a href=\"https://www.npmjs.com/package/module-alias\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/module-alias</a> with</p>\n<pre><code>npm i --save module-alias\n</code></pre>\n<p>then add to your initial startup file (for <code>.ts</code> files only, i.e. your application server):</p>\n<pre><code>require('module-alias/register')\n</code></pre>\n<p>as the <code>module-alias</code> docs indicate. Then setup <code>tsconfig.ts</code>. Keep it mind that <code>baseUrl</code> is relevant here as well:</p>\n<pre><code>{\n &quot;compilerOptions&quot;: {\n    &quot;baseUrl&quot;: &quot;.&quot;,\n    ...\n    &quot;paths&quot;: {\n      &quot;@helpers/*&quot;: [&quot;src/helpers/*&quot;],\n      &quot;@root/*&quot;: [&quot;src/*&quot;]\n      ...\n    }\n }\n</code></pre>\n<p>then setup your <code>webpack.js</code>:</p>\n<pre><code>const path = require('path')\n...\n{\n  resolve: {\n    ...\n    alias: {\n      '@helpers': path.resolve(__dirname, 'src', 'helpers'),\n      '@root': path.resolve(__dirname, 'src')\n    }\n  }\n}\n</code></pre>\n<p>then setup your <code>package.json</code>:</p>\n<pre><code>{\n   ...\n   &quot;_moduleAliases&quot;: {\n     &quot;@helpers&quot;: &quot;src/helpers&quot;,\n     &quot;@root&quot;: &quot;src&quot;\n   }\n}\n</code></pre>\n<p>then setup your <code>jest</code> config (I attach only things that were relevant when applying my change):</p>\n<pre><code>{\n   rootDir: &quot;.&quot;,\n   roots: [&quot;./src&quot;],\n   transform: {\n     &quot;^.+\\\\.ts?$&quot;: &quot;ts-jest&quot;\n   },\n   moduleNameMapper: {\n     &quot;@helpers/(.*)&quot;: &quot;&lt;rootDir&gt;/src/helpers/$1&quot;,\n     &quot;@root/(.*)&quot;: &quot;&lt;rootDir&gt;/src/$1&quot;\n   },\n   ...\n }\n</code></pre>\n<p>Now, we need to take care of the build process because <code>tsc</code> is not capable of transpiling aliases to their relative siblings.</p>\n<p>To do that we will use <code>tscpaths</code> package: <a href=\"https://github.com/joonhocho/tscpaths\" rel=\"nofollow noreferrer\">https://github.com/joonhocho/tscpaths</a> . This one is simple.</p>\n<p>So considering your build command was just:</p>\n<pre><code>tsc\n</code></pre>\n<p>Now it becomes</p>\n<pre><code>tsc &amp;&amp; tscpaths -p tsconfig.json -s ./src -o ./dist/server\n</code></pre>\n<p>You need to adjust your <code>-s</code> and <code>-o</code> to your structure, but when you inspect your <code>.js</code> file after build you should see if the relative path is correctly linked (and debug accordingly).</p>\n<p>That's it. It should work as ace. It's a lot but it's worth it.</p>\n<p><strong>Example of a call in the controller (.ts) and in React component (.tsx) file:</strong></p>\n<pre><code>import { IApiResponse } from '@intf/IApi'\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 7566436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-WG5KDh2NOCQ/AAAAAAAAAAI/AAAAAAAAACY/QfUhmzd_JFA/photo.jpg?sz=128", "display_name": "Ekoar", "link": "https://stackoverflow.com/users/7566436/ekoar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2946, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1611490151, "creation_date": 1571217865, "last_edit_date": 1571388267, "question_id": 58409992, "link": "https://stackoverflow.com/questions/58409992/jest-cannot-resolve-module-aliases", "title": "jest cannot resolve module aliases", "body": "<p>I am using a npm module called module-alias. I map some modules in tsconfig.json and package.json</p>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>\"compilerOptions\": {\n   \"baseUrl\": \"./src\",\n   \"paths\": {\n   \"@config/*\": [\"config/*\"],\n   \"@interfaces/*\": [\"interfaces/*\"],\n   \"@services/*\": [\"services/*\"]\n  },\n  \"module\": \"commonjs\",\n  \"target\": \"es2015\",                   /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */\n  \"sourceMap\": true,\n  \"outDir\": \"./dist\",                        /* Redirect output structure to the directory. */\n  \"rootDir\": \"./src\",    \n  \"allowSyntheticDefaultImports\": true          /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */\n}\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>  ...\n \"_moduleAliases\": {\n    \"@config\": \"src/config\",\n    \"@interface\": \"src/interface\",\n    \"@services\": \"src/services\"\n  },\n  \"jest\": {\n    \"moduleNameMapper\": {\n      \"@config/(.*)\": \"src/config/$1\",\n      \"@interface/(.*)\": \"src/interface/$1\",\n      \"@services/(.*)\": \"src/services/$1\"\n    },\n\n     \"moduleFileExtensions\": ['js', 'json', 'jsx', 'ts', 'tsx', 'node']\n  },\n...\n\n</code></pre>\n\n<p><strong>server.ts</strong></p>\n\n<pre><code>import { logger } from '@config/logger';\n</code></pre>\n\n<p>everything works fine when I run <code>npm start</code>, but it gives me an error when I run jest </p>\n\n<pre><code>FAIL  src/test/article.spec.ts\n  \u25cf Test suite failed to run\n\n    Cannot find module '@config/logger' from 'server.ts'\n\n    However, Jest was able to find:\n        'rest/server.ts'\n\n    You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js', 'json', 'jsx', 'ts', 'tsx', 'node'].\n</code></pre>\n\n<p>Anyone know what the problem is? thanks</p>\n\n<p><strong>Solution works for me (Update 18/10/2019) :</strong>   </p>\n\n<p>Create a jest.config.js with code below:</p>\n\n<pre><code>module.exports = {\n  \"roots\": [\n    \"&lt;rootDir&gt;/src/\"\n],\n  \"transform\": {\n    \"^.+\\\\.tsx?$\": \"ts-jest\"\n  }\n\n}\n</code></pre>\n\n<p><strong>and update moduleNameMapper in package.json:</strong></p>\n\n<pre><code>...\n  \"_moduleAliases\": {\n    \"@config\": \"./src/config\",\n    \"@interfaces\": \"./src/interfaces\",\n    \"@services\": \"./src/services\"\n  },\n  \"jest\": {\n\n    \"moduleNameMapper\": {\n      \"@config/(.*)\": \"&lt;rootDir&gt;/src/config/$1\",\n      \"@interfaces/(.*)\": \"&lt;rootDir&gt;/src/interfaces/$1\",\n      \"@services/(.*)\": \"&lt;rootDir&gt;/src/services/$1\"\n    }\n  }\n...\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "generics"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1571239732, "post_id": 58409771, "comment_id": 103176551, "body": "&quot;does not provide the correct type for <code>value</code> parameter&quot; Can you elaborate on this? A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be useful."}], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1571239016, "post_id": 58410234, "comment_id": 103176131, "body": "<code>K keyof T</code> is not valid TypeScript syntax."}], "tags": [], "owner": {"reputation": 498, "user_id": 7826170, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/b935a1a024704169f50224aa812679e2?s=128&d=identicon&r=PG&f=1", "display_name": "numberjak", "link": "https://stackoverflow.com/users/7826170/numberjak"}, "is_accepted": false, "score": 0, "last_activity_date": 1571218633, "creation_date": 1571218633, "answer_id": 58410234, "question_id": 58409771, "link": "https://stackoverflow.com/questions/58409771/generics-that-extend-a-static-type-arent-intellisensing/58410234#58410234", "title": "Generics that extend a static type aren&#39;t intellisensing", "body": "<p>Have you tried doing <code>K keyof T</code> instead of <code>K extends keyof T</code>?</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 7731090, "user_type": "registered", "profile_image": "https://graph.facebook.com/1409607815780048/picture?type=large", "display_name": "Wayne Van Son", "link": "https://stackoverflow.com/users/7731090/wayne-van-son"}, "edited": false, "score": 0, "creation_date": 1571259343, "post_id": 58417200, "comment_id": 103185348, "body": "&gt; TypeScript allows you to call <code>handleOnChange(&quot;name&quot;)(xxx)</code> with any string as xxx, even though this is not safe."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1571240859, "creation_date": 1571240859, "answer_id": 58417200, "question_id": 58409771, "link": "https://stackoverflow.com/questions/58409771/generics-that-extend-a-static-type-arent-intellisensing/58417200#58417200", "title": "Generics that extend a static type aren&#39;t intellisensing", "body": "<p>For the IntelliSense part of the question, it looks like the completion list just doesn't include <code>keyof A</code> when examining <code>keyof B</code> when <code>B extends A</code>.  It would be nice if it did, but it doesn't.  Such a change has been <a href=\"https://github.com/microsoft/TypeScript/issues/28662\" rel=\"nofollow noreferrer\">suggested</a>.  If you want to see this happen you might want to go to that Github issue and give it your \ud83d\udc4d or describe your use case if you think it is both compelling and different from what's already there.  </p>\n\n<p>For now the workaround could be to change the constraint to be <code>K extends keyof T | keyof MyItem</code>.  Since <code>keyof T</code> already must include <code>keyof MyItem</code>, the additional union of <code>keyof MyItem</code> doesn't change anything in terms of what types are valid specifications for <code>K</code>.  But it does bring back the IntelliSense autocompletion list you expect.</p>\n\n<hr>\n\n<p>For the \"correct type for <code>value</code> parameter\" part of the question, I think I need more elaboration on what you mean.  But do be warned: if <code>T extends MyItem</code>, then <code>T[\"name\"]</code> might be a <em>narrower</em> type than <code>MyItem[\"name\"]</code>.  Imagine:</p>\n\n<pre><code>interface MyItem {\n    name: string;\n}\n\nexport function MyComponent&lt;T extends MyItem&gt;() {\n\n    function handleOnChange&lt;K extends keyof T | keyof MyItem&gt;(key: K) {\n        return function (value: T[K]) { }\n    }\n\n    handleOnChange(\"name\")(\"Fred\"); // wait a minute\n\n}\n</code></pre>\n\n<p>TypeScript allows you to call <code>handleOnChange(\"name\")(xxx)</code> with any <code>string</code> as <code>xxx</code>, even though this is not safe.  Observe:</p>\n\n<pre><code>interface MyItemNamedBob extends MyItem {\n    name: \"Bob\";\n}\n\nMyComponent&lt;MyItemNamedBob&gt;(); // ?\n</code></pre>\n\n<p>A value of type <code>MyItemNamedBob</code> has the literal string <code>\"Bob\"</code> as the <code>name</code> at the type level.  It cannot be changed to <code>\"Fred\"</code>.  <code>handleOnChange(\"name\")</code> for a generic <code>T</code> that extends <code>MyItem</code> can't really safely accept anything at all.  In practice this might not matter, but you should be careful, since the compiler isn't always. </p>\n\n<hr>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/JYOwLgpgTgZghgYwgAgLIE8CSkC2yDeAUMiciHDhAFzIDOYUoA5gNyEC+hhEAHgA4B7KGGQwAriARhgAkGnQBhATkEgI4ADwAVZL0ggAJrXnYIOAHwAKAJQEupURKky5ACziGANhADyIBe4gTBAaANK6PPpGyADWEOgCMMg6AD6x8YkmuFZx6DShtkQODlAQYGJQcuKS0rLIlgBucJ5i1MkA2qEAuoXInA6cxKSBBt5+AR7BlgBE5JTT1jMAYqUGC2wcXKCQsIgoGKY4AHIUEAYAQgIARhFRxge4dg5zbdOXV9NsgxhKKrLqYA0DzMJ0oF2uVmsLGQAHoYcgAPyEIA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 25, "user_id": 7731090, "user_type": "registered", "profile_image": "https://graph.facebook.com/1409607815780048/picture?type=large", "display_name": "Wayne Van Son", "link": "https://stackoverflow.com/users/7731090/wayne-van-son"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 58417200, "answer_count": 2, "score": 0, "last_activity_date": 1571240859, "creation_date": 1571217135, "question_id": 58409771, "link": "https://stackoverflow.com/questions/58409771/generics-that-extend-a-static-type-arent-intellisensing", "title": "Generics that extend a static type aren&#39;t intellisensing", "body": "<p>The <code>handleOnChange</code> function does not autocomplete the <code>key</code> parameter and does not provide the correct type for <code>value</code> parameter. </p>\n\n<p>This does not work as intended.</p>\n\n<pre><code>export function MyComponent&lt;T extends MyItem&gt;(props: PropsWithChildren&lt;MyComponentProps&gt;) {\n  const { item, setItem } = props\n\n  function handleOnChange&lt;K extends keyof T&gt;(key: K) {\n    return function(value: T[K]) {\n      setItem({ ...item, [key]: value })\n    }\n  }\n\n  return &lt;input value={item.name} onChange={e =&gt; handleOnChange('name')(e.target.value)} /&gt;\n}\n</code></pre>\n\n<p>This does work as intended.</p>\n\n<pre><code>export function MyComponent&lt;T extends MyItem&gt;(props: PropsWithChildren&lt;MyComponentProps&gt;) {\n  const { item, setItem } = props\n\n  function handleOnChange&lt;K extends keyof MyItem&gt;(key: K) {\n    return function(value: MyItem[K]) {\n      setItem({ ...item, [key]: value })\n    }\n  }\n\n  return &lt;input value={item.name} onChange={e =&gt; handleOnChange('name')(e.target.value)} /&gt;\n}\n\n</code></pre>\n\n<p>Do you know why a generic would cause issues in this instance?</p>\n"}, {"tags": ["angular", "typescript", "iframe"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11658652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d03d41b5f8d5868a81f5a965967e6e?s=128&d=identicon&r=PG&f=1", "display_name": "Abdelghafour89", "link": "https://stackoverflow.com/users/11658652/abdelghafour89"}, "edited": false, "score": 0, "creation_date": 1571217990, "post_id": 58409948, "comment_id": 103163573, "body": "i only needed to do queryParams not Params. Thanks guys"}, {"owner": {"reputation": 169, "user_id": 12143472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hfq40.jpg?s=128&g=1", "display_name": "Simon Echle", "link": "https://stackoverflow.com/users/12143472/simon-echle"}, "reply_to_user": {"reputation": 3, "user_id": 11658652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d03d41b5f8d5868a81f5a965967e6e?s=128&d=identicon&r=PG&f=1", "display_name": "Abdelghafour89", "link": "https://stackoverflow.com/users/11658652/abdelghafour89"}, "edited": false, "score": 0, "creation_date": 1571218073, "post_id": 58409948, "comment_id": 103163631, "body": "Watch out: the documentation says it will be deprecated in following versiions. I would recommend using the paramsMap oder queryParamsMap."}], "tags": [], "owner": {"reputation": 169, "user_id": 12143472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hfq40.jpg?s=128&g=1", "display_name": "Simon Echle", "link": "https://stackoverflow.com/users/12143472/simon-echle"}, "is_accepted": false, "score": 0, "last_activity_date": 1571218247, "last_edit_date": 1592644375, "creation_date": 1571217678, "answer_id": 58409948, "question_id": 58409635, "link": "https://stackoverflow.com/questions/58409635/passing-parameters-from-iframe-to-angular-app-component/58409948#58409948", "title": "Passing parameters from iframe to angular app component", "body": "<p>Angular documentation says you can find those query parameter in an observable called queryParamMap on the activeRoute</p>\n<p><a href=\"https://angular.io/guide/router#activated-route\" rel=\"nofollow noreferrer\">https://angular.io/guide/router#activated-route</a></p>\n<p>Does it help if you subscribe to that ?</p>\n<pre><code>ngOnInit() {\n  this.activeRoute.queryParamMap.subscribe(queryParamMap =&gt; {\n    this.parameterIdfiches = queryParamMap['idfiches'];\n  });\n}\n</code></pre>\n<p>By now params and queryParams are also available observables on the active route, but they will be deprecated in following angular versions. From the doc:</p>\n<blockquote>\n<p>Two older properties are still available. They are less capable than their replacements, discouraged, and may be deprecated in a future Angular version.</p>\n<p>params\u2014An Observable that contains the required and optional parameters specific to the route. Use paramMap instead.</p>\n<p>queryParams\u2014An Observable that contains the query parameters available to all routes. Use queryParamMap instead.</p>\n</blockquote>\n"}], "owner": {"reputation": 3, "user_id": 11658652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d03d41b5f8d5868a81f5a965967e6e?s=128&d=identicon&r=PG&f=1", "display_name": "Abdelghafour89", "link": "https://stackoverflow.com/users/11658652/abdelghafour89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571218247, "creation_date": 1571216698, "question_id": 58409635, "link": "https://stackoverflow.com/questions/58409635/passing-parameters-from-iframe-to-angular-app-component", "title": "Passing parameters from iframe to angular app component", "body": "<p>I need help concerning how can i pass params from an iframe from an external application to the angular app component.</p>\n\n<p>my iframe looks like this: </p>\n\n<pre><code> &lt;iframe src=\"http://localhost:4200?idfiches=123456\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>the <code>http://localhost:4200</code> is the url for my angular application</p>\n\n<p>In my app component i tried something like this but it doesn't work: </p>\n\n<pre><code>parameterIdfiches: any;\n  constructor(private activeRoute: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n      this.activeRoute.params.subscribe(routeParams =&gt; {\n        this.parameterIdfiches = routeParams['idfiches'];\n      });\n  }\n</code></pre>\n\n<p>can someone please help me know what i missing here ?? thank you in advance guys ^^ </p>\n"}, {"tags": ["typescript", "null", "mapped-types"], "comments": [{"owner": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 0, "creation_date": 1571219743, "post_id": 58409603, "comment_id": 103164531, "body": "Are you specifically looking for <code>b?: string | null</code>, or would <code>b: string | null | undefined</code> also be ok?"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 0, "creation_date": 1571220087, "post_id": 58409603, "comment_id": 103164733, "body": "@Rengers I really need a type with optional values, ie.: <code>b?: string | null</code>."}], "answers": [{"comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 1, "creation_date": 1571224513, "post_id": 58411022, "comment_id": 103167069, "body": "Thank a lot for your answer! I edited your code just to add a name to the type. I thought I could transform this code to make it recursive, but I couldn&#39;t. I just created a new question for that: <a href=\"https://stackoverflow.com/questions/58411991/apply-a-complex-generic-type-recursively\" title=\"apply a complex generic type recursively\">stackoverflow.com/questions/58411991/&hellip;</a> . I&#39;ll be grateful if you have the answer."}], "tags": [], "owner": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "is_accepted": true, "score": 1, "last_activity_date": 1571223845, "last_edit_date": 1571223845, "creation_date": 1571221257, "answer_id": 58411022, "question_id": 58409603, "link": "https://stackoverflow.com/questions/58409603/generate-a-type-where-each-nullable-value-becomes-optional/58411022#58411022", "title": "Generate a type where each nullable value becomes optional", "body": "<p>Extracting the nullable field keys and then generating a new type based on that information would work.<br>\n<a href=\"https://stackoverflow.com/a/49397693/1470607\">This answer</a> on removing <code>never</code> types holds the key to the puzzle.</p>\n\n<pre><code>interface A {\n  a: string\n  b: string | null\n  c?: string | null;\n  d?: string;\n}\n\n// Built-in NonNullable also catches undefined\ntype NonNull&lt;T&gt; = T extends null ? never : T;\ntype NullableKeys&lt;T&gt; = NonNullable&lt;({\n  [K in keyof T]: T[K] extends NonNull&lt;T[K]&gt; ? never : K\n})[keyof T]&gt;;\n\ntype NullValuesToOptional&lt;T&gt; = Omit&lt;T, NullableKeys&lt;T&gt;&gt; &amp; Partial&lt;Pick&lt;T, NullableKeys&lt;T&gt;&gt;&gt;;\n\ntype B = NullValuesToOptional&lt;A&gt;;\n</code></pre>\n\n<p>Not as straight-forward as I'd have hoped, though.</p>\n"}], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 58411022, "answer_count": 1, "score": 1, "last_activity_date": 1571223845, "creation_date": 1571216601, "question_id": 58409603, "link": "https://stackoverflow.com/questions/58409603/generate-a-type-where-each-nullable-value-becomes-optional", "title": "Generate a type where each nullable value becomes optional", "body": "<p>I have a type like this one:</p>\n\n<pre><code>interface A {\n  a: string\n  b: string | null\n}\n</code></pre>\n\n<p>I would like to generate the same type but each nullable value becomes optional:</p>\n\n<pre><code>interface A {\n  a: string\n  b?: string | null\n}\n</code></pre>\n\n<p>Something like that but only for nullable values (this one makes all values optional):</p>\n\n<pre><code>export type NullValuesToOptional&lt;T&gt; = {\n  [P in keyof T]?: T[P]\n}\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "google-cloud-firestore", "google-cloud-functions"], "comments": [{"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1571220407, "post_id": 58409442, "comment_id": 103164924, "body": "And what is the value of <code>err</code> in the <code>console.log(&#39;Error getting user&#39;, err);</code>? In other words what is the exact error you get? In any case note that you need to return the promise returned by the <code>get()</code> method."}, {"owner": {"reputation": 157, "user_id": 10122583, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pA8uBeTTMWc/AAAAAAAAAAI/AAAAAAAAACE/1lQQW77LrEo/photo.jpg?sz=128", "display_name": "Ahmed Abosrie", "link": "https://stackoverflow.com/users/10122583/ahmed-abosrie"}, "reply_to_user": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1571307391, "post_id": 58409442, "comment_id": 103201127, "body": "I have updated the original post and added the error message."}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1571307784, "post_id": 58409442, "comment_id": 103201376, "body": "Ok thanks. And in your code, is there anything in the following if? if (oneUser.data().notification === &quot;true&quot;) {"}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1571308095, "post_id": 58409442, "comment_id": 103201578, "body": "Also, how many documents do you have in the <code>users</code> collection?"}, {"owner": {"reputation": 157, "user_id": 10122583, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pA8uBeTTMWc/AAAAAAAAAAI/AAAAAAAAACE/1lQQW77LrEo/photo.jpg?sz=128", "display_name": "Ahmed Abosrie", "link": "https://stackoverflow.com/users/10122583/ahmed-abosrie"}, "reply_to_user": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1571308105, "post_id": 58409442, "comment_id": 103201585, "body": "Yes just printing the user id console.log(oneUser.id);"}, {"owner": {"reputation": 157, "user_id": 10122583, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pA8uBeTTMWc/AAAAAAAAAAI/AAAAAAAAACE/1lQQW77LrEo/photo.jpg?sz=128", "display_name": "Ahmed Abosrie", "link": "https://stackoverflow.com/users/10122583/ahmed-abosrie"}, "reply_to_user": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1571308158, "post_id": 58409442, "comment_id": 103201610, "body": "No. of documents around 1500"}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1571308224, "post_id": 58409442, "comment_id": 103201661, "body": "And are they other parts of your code that you didn&#39;t share in your question? When debugging a Cloud Function it is very important to see the entire code, not only some snippets."}, {"owner": {"reputation": 157, "user_id": 10122583, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pA8uBeTTMWc/AAAAAAAAAAI/AAAAAAAAACE/1lQQW77LrEo/photo.jpg?sz=128", "display_name": "Ahmed Abosrie", "link": "https://stackoverflow.com/users/10122583/ahmed-abosrie"}, "reply_to_user": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1571308326, "post_id": 58409442, "comment_id": 103201714, "body": "Just the lib declarations   var functions = require(&quot;firebase-functions&quot;); let admin = require(&#39;firebase-admin&#39;); admin.initializeApp(functions.config().firebase);"}, {"owner": {"reputation": 157, "user_id": 10122583, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pA8uBeTTMWc/AAAAAAAAAAI/AAAAAAAAACE/1lQQW77LrEo/photo.jpg?sz=128", "display_name": "Ahmed Abosrie", "link": "https://stackoverflow.com/users/10122583/ahmed-abosrie"}, "reply_to_user": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1571308382, "post_id": 58409442, "comment_id": 103201740, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/201013/discussion-between-ahmed-abosrie-and-renaud-tarnec\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": true, "score": 1, "last_activity_date": 1571308932, "creation_date": 1571308932, "answer_id": 58430699, "question_id": 58409442, "link": "https://stackoverflow.com/questions/58409442/how-to-fetch-data-from-a-collection-document-onupdate/58430699#58430699", "title": "How to fetch data from a Collection document onUpdate?", "body": "<p>You are getting an <code>Error: 4 DEADLINE_EXCEEDED</code>. Doing a quick <a href=\"https://www.google.com/search?client=firefox-b-d&amp;ei=A0SoXfnDGsSdkgXL1KjgBA&amp;q=firebase%20cloud%20functions%20error%204%20deadline%20exceeded&amp;oq=firebase%20cloud%20functions%20error%204%20deadline%20exceeded&amp;gs_l=psy-ab.3...3267.3393..3640...0.0..0.97.176.2......0....1..gws-wiz.......33i160.dYRum5DR9JE&amp;ved=0ahUKEwi50bW-jKPlAhXEjqQKHUsqCkwQ4dUDCAo&amp;uact=5\" rel=\"nofollow noreferrer\">search</a> on the net shows that it seems to occur when \"the requests that you're making take too long.\"</p>\n\n<p>However, with regards to the clarifications you gave in the comments above, it doesn't seem that you are dealing with high volumes.</p>\n\n<p>What happens if you return the promise returned by the <code>get()</code> asynchronous method, as follows. </p>\n\n<pre><code>exports.bulkMsg = functions.firestore\n    .document('/bulkMsgs/{bulkMsgsId}').onUpdate((snap, context) =&gt; {\n\n        const newValue = snap.after.data();\n        const regDate = newValue.regDate;\n\n        return admin.firestore().collection('users').get()\n        .then(onUser =&gt; {\n            onUser.forEach(oneUser =&gt; {\n                if (oneUser.data().notification === \"true\") {\n                   console.log(oneUser.id);\n                }\n            });\n            return null;\n        }).catch(err =&gt; {\n            console.log('Error getting user', err);\n            return null;\n        });\n\n    });\n</code></pre>\n\n<p>As a matter of fact, you MUST return a Promise or a value in a background triggered Cloud Function. I would suggest you watch the 3 videos about \"JavaScript Promises\" from the Firebase video series: <a href=\"https://firebase.google.com/docs/functions/video-series/\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/functions/video-series/</a> which explain this key point.</p>\n"}], "owner": {"reputation": 157, "user_id": 10122583, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pA8uBeTTMWc/AAAAAAAAAAI/AAAAAAAAACE/1lQQW77LrEo/photo.jpg?sz=128", "display_name": "Ahmed Abosrie", "link": "https://stackoverflow.com/users/10122583/ahmed-abosrie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58430699, "answer_count": 1, "score": 1, "last_activity_date": 1571308932, "creation_date": 1571216103, "last_edit_date": 1571308360, "question_id": 58409442, "link": "https://stackoverflow.com/questions/58409442/how-to-fetch-data-from-a-collection-document-onupdate", "title": "How to fetch data from a Collection document onUpdate?", "body": "<p>I am trying to query data from a collection \"users\" in firebase onUpdate a document \"bulkMsgs\" but every time I do that I get \"Error getting user\".</p>\n\n<p>both methods are working separately fine but when I combine them the error is happening.</p>\n\n<p>What I am missing here?!</p>\n\n<pre><code>var functions = require(\"firebase-functions\");\nlet admin = require('firebase-admin');\nadmin.initializeApp(functions.config().firebase);\n\n    exports.bulkMsg = functions.firestore\n        .document('/bulkMsgs/{bulkMsgsId}').onUpdate((snap, context) =&gt; {\n\n            const newValue = snap.after.data();\n            const regDate = newValue.regDate;\n\n            admin.firestore().collection('users').get().then(onUser =&gt; {\n                onUser.forEach(oneUser =&gt; {\n                    if (oneUser.data().notification === \"true\") {\n                       console.log(oneUser.id);\n                    }\n                });\n                return true;\n\n            }).catch(err =&gt; {\n                console.log('Error getting user', err);\n            });\n\n\n            return true;\n        });\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/y79W8.png\" rel=\"nofollow noreferrer\">Image</a> of the error in the CF log.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1571215832, "post_id": 58409187, "comment_id": 103162407, "body": "There are lot of ways to do this using <code>@input</code> using <code>shared service</code>, just google it you will get lot of ways."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6574074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944e0973e1bf680e630e654a3729d887?s=128&d=identicon&r=PG&f=1", "display_name": "br.ala", "link": "https://stackoverflow.com/users/6574074/br-ala"}, "edited": false, "score": 0, "creation_date": 1571217925, "post_id": 58409981, "comment_id": 103163533, "body": "this method works if we have a parent and son component but this is not the case"}, {"owner": {"reputation": 599, "user_id": 6613743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f19186515922ca6449b38af7d9e1dc3b?s=128&d=identicon&r=PG&f=1", "display_name": "upinder kumar", "link": "https://stackoverflow.com/users/6613743/upinder-kumar"}, "reply_to_user": {"reputation": 1, "user_id": 6574074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944e0973e1bf680e630e654a3729d887?s=128&d=identicon&r=PG&f=1", "display_name": "br.ala", "link": "https://stackoverflow.com/users/6574074/br-ala"}, "edited": false, "score": 0, "creation_date": 1571218067, "post_id": 58409981, "comment_id": 103163623, "body": "so you can store objects in the service file and fetch in the Profile Component."}], "tags": [], "owner": {"reputation": 599, "user_id": 6613743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f19186515922ca6449b38af7d9e1dc3b?s=128&d=identicon&r=PG&f=1", "display_name": "upinder kumar", "link": "https://stackoverflow.com/users/6613743/upinder-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1571217832, "creation_date": 1571217832, "answer_id": 58409981, "question_id": 58409187, "link": "https://stackoverflow.com/questions/58409187/pass-object-from-logincomponent-to-profilcomponent/58409981#58409981", "title": "Pass Object from LoginComponent to ProfilComponent", "body": "<p>Try like that : </p>\n\n<pre><code>export Class LoginComponent {\nmyobject = {}\n\n}\n</code></pre>\n\n<p>in the template :</p>\n\n<pre><code>&lt;app-profile-component [data]=\"myobject\"&gt;&lt;/app-profile-component&gt; \n</code></pre>\n\n<p>in the app profile Component : </p>\n\n<pre><code>export class ProfileComponent {\n@input() data : any; // Object is Recived here \n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6574074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944e0973e1bf680e630e654a3729d887?s=128&d=identicon&r=PG&f=1", "display_name": "br.ala", "link": "https://stackoverflow.com/users/6574074/br-ala"}, "edited": false, "score": 0, "creation_date": 1571219496, "post_id": 58410012, "comment_id": 103164428, "body": "Thank you for your answer, I tried this method but the object connected remains empty: undefined in the Profile component"}, {"owner": {"reputation": 120, "user_id": 12203747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUOoA.png?s=128&g=1", "display_name": "Neda Peyrone", "link": "https://stackoverflow.com/users/12203747/neda-peyrone"}, "reply_to_user": {"reputation": 1, "user_id": 6574074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944e0973e1bf680e630e654a3729d887?s=128&d=identicon&r=PG&f=1", "display_name": "br.ala", "link": "https://stackoverflow.com/users/6574074/br-ala"}, "edited": false, "score": 0, "creation_date": 1571223264, "post_id": 58410012, "comment_id": 103166367, "body": "You need to register AppStateService class into app.module.ts. To shared objects between components, the service must be a singleton service, in which only one instance exists in angular project."}], "tags": [], "owner": {"reputation": 120, "user_id": 12203747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUOoA.png?s=128&g=1", "display_name": "Neda Peyrone", "link": "https://stackoverflow.com/users/12203747/neda-peyrone"}, "is_accepted": false, "score": 0, "last_activity_date": 1571217938, "creation_date": 1571217938, "answer_id": 58410012, "question_id": 58409187, "link": "https://stackoverflow.com/questions/58409187/pass-object-from-logincomponent-to-profilcomponent/58410012#58410012", "title": "Pass Object from LoginComponent to ProfilComponent", "body": "<p>This is one of several ways to implement it. First, I create a service name AppStateService (app-state.service.ts) to hold and shared an object. I hope this may help you.</p>\n\n<p>app-state.service.ts file:</p>\n\n<pre><code>@Injectable({\n  providedIn: 'root',\n})\nexport class AppStateService {\n  private _connectedUser: any = undefined;\n\n  public get connectedUser(): any {\n    return this._connectedUser;\n  }\n  public set connectedUser(value: any) {\n    this._connectedUser = value;\n  }\n}\n</code></pre>\n\n<p>login.component.ts file:</p>\n\n<pre><code>constructor(private appState: AppStateService) { }\n\npublic onLoggedin(): void {\n  this.authService.login(username, password).subscribe(res =&gt; {\n    this.appState.connectedUser = res.data;\n  });\n}\n</code></pre>\n\n<p>profile.component.ts file:</p>\n\n<pre><code>public connectedUser;\n\nconstructor(private appState: AppStateService) { }\n\nngOnInit(): void {\n  this.connectedUser = this.appState.connectedUser;\n  console.log('I:--START--:--ProfileComponent OnLoad--:connectedUser/', connectedUser);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6574074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944e0973e1bf680e630e654a3729d887?s=128&d=identicon&r=PG&f=1", "display_name": "br.ala", "link": "https://stackoverflow.com/users/6574074/br-ala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1571217938, "creation_date": 1571215346, "question_id": 58409187, "link": "https://stackoverflow.com/questions/58409187/pass-object-from-logincomponent-to-profilcomponent", "title": "Pass Object from LoginComponent to ProfilComponent", "body": "<p>I start with angular my question is how to pass an object (connectedUser) from LoginComponent to ProfilComponenet</p>\n\n<p>thank you in advance</p>\n"}, {"tags": ["html", "typescript", "angular6"], "comments": [{"owner": {"reputation": 5736, "user_id": 1198067, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BP0zJ.jpg?s=128&g=1", "display_name": "Andrea", "link": "https://stackoverflow.com/users/1198067/andrea"}, "edited": false, "score": 0, "creation_date": 1571217560, "post_id": 58409176, "comment_id": 103163341, "body": "Did you try with == operator, and not === one?"}, {"owner": {"reputation": 16032, "user_id": 1248177, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce4713378691ec2899a27c845a3748f7?s=128&d=identicon&r=PG", "display_name": "aloisdg", "link": "https://stackoverflow.com/users/1248177/aloisdg"}, "edited": false, "score": 0, "creation_date": 1571218554, "post_id": 58409176, "comment_id": 103163916, "body": "Can you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? You can rely on <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">stackblitz</a>."}, {"owner": {"reputation": 25, "user_id": 12018669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f25b0f12a7d71613e4b60f63a7856a?s=128&d=identicon&r=PG&f=1", "display_name": "Annas", "link": "https://stackoverflow.com/users/12018669/annas"}, "edited": false, "score": 0, "creation_date": 1571235438, "post_id": 58409176, "comment_id": 103173770, "body": "yes i try with those operator as well"}], "owner": {"reputation": 25, "user_id": 12018669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f25b0f12a7d71613e4b60f63a7856a?s=128&d=identicon&r=PG&f=1", "display_name": "Annas", "link": "https://stackoverflow.com/users/12018669/annas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571217296, "creation_date": 1571215312, "last_edit_date": 1571217296, "question_id": 58409176, "link": "https://stackoverflow.com/questions/58409176/if-statment-in-angular6", "title": "If statment in angular6", "body": "<p>I want to write if statement for two different languages like Arabic and English for which if language is Arabic then the text will be moved to right to left which is rtl and default in English.</p>\n\n<p>I tried using if statement but not working</p>\n\n<pre><code>*ngIf=\"lang==='ar' || dir==='rtl'\"\n</code></pre>\n"}, {"tags": ["angular", "typescript", "localization", "angular7", "setlocale"], "comments": [{"owner": {"reputation": 788, "user_id": 6445117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0483919269594da1fb5775d0ff59cd08?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy Ivanko", "link": "https://stackoverflow.com/users/6445117/dmitriy-ivanko"}, "edited": false, "score": 1, "creation_date": 1571214936, "post_id": 58408926, "comment_id": 103161900, "body": "what about traditiona way when you have baseHref=&#39;/ar/&#39;: <a href=\"https://angular.io/guide/i18n#build-for-multiple-locales\" rel=\"nofollow noreferrer\">angular.io/guide/i18n#build-for-multiple-locales</a>"}, {"owner": {"reputation": 788, "user_id": 6445117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0483919269594da1fb5775d0ff59cd08?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy Ivanko", "link": "https://stackoverflow.com/users/6445117/dmitriy-ivanko"}, "edited": false, "score": 1, "creation_date": 1571215032, "post_id": 58408926, "comment_id": 103161957, "body": "It is not suitable for you?"}, {"owner": {"reputation": 65, "user_id": 3184561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YS2SD.jpg?s=128&g=1", "display_name": "Sudhir K Gupta", "link": "https://stackoverflow.com/users/3184561/sudhir-k-gupta"}, "edited": false, "score": 0, "creation_date": 1575219872, "post_id": 58408926, "comment_id": 104483895, "body": "I am trying to implement  this in angular 8 but doesn&#39;t work. even in page refresh. only work if i run <code>ng serve --configuration=de</code>"}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 12228314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4SFIMr8i2s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rer_0pFYCoF6Oteyvj6ZdSxFu805Q/photo.jpg?sz=128", "display_name": "zizo", "link": "https://stackoverflow.com/users/12228314/zizo"}, "is_accepted": true, "score": 1, "last_activity_date": 1571250921, "creation_date": 1571250921, "answer_id": 58419693, "question_id": 58408926, "link": "https://stackoverflow.com/questions/58408926/dynamically-change-the-locale-in-angular-7-at-runtime-without-having-to-reload-t/58419693#58419693", "title": "Dynamically change the locale in Angular 7 at runtime without having to reload the app", "body": "<p>I think you don't need to reload, but just delay a little to ending <code>registerCulture</code></p>\n\n<p>for example:</p>\n\n<pre><code>english() {\n    spinner.show();  // &lt;-- start any loader\n    setTimeout(() =&gt; {\n            this.session.registerCulture('en');\n            spinner.hide();  // &lt;-- stop the loader\n          }, 1000);    \n    // window.location.reload();\n  }\n</code></pre>\n"}], "owner": {"reputation": 256, "user_id": 5546886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YaUfj70Qggk/AAAAAAAAAAI/AAAAAAAAAOU/8rjebIs5xhc/photo.jpg?sz=128", "display_name": "El7or", "link": "https://stackoverflow.com/users/5546886/el7or"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3192, "favorite_count": 2, "accepted_answer_id": 58419693, "answer_count": 1, "score": 5, "last_activity_date": 1571250921, "creation_date": 1571214484, "last_edit_date": 1592644375, "question_id": 58408926, "link": "https://stackoverflow.com/questions/58408926/dynamically-change-the-locale-in-angular-7-at-runtime-without-having-to-reload-t", "title": "Dynamically change the locale in Angular 7 at runtime without having to reload the app", "body": "<p>I am trying to change Locale_Id in my angular app at the runtime but must use <code>window.location.reload()</code> to fire changes at locale.</p>\n<p>I want to change locale without reloading my app.</p>\n<p>here is my code:</p>\n<h3>app.module</h3>\n<pre><code>import { LOCALE_ID } from '@angular/core';\nimport { LocaleService} from &quot;./services/locale.service&quot;;\n\n@NgModule({\n    imports: [//imports],\n    providers: [\n        {provide: LOCALE_ID,\n         deps: [LocaleService],\n         useFactory: (LocaleService: { locale: string; }) =&gt; LocaleService.locale\n        }\n    ]})\n</code></pre>\n<h3>locale.service</h3>\n<pre><code>import { Injectable } from '@angular/core';\nimport { registerLocaleData } from '@angular/common';\nimport localeEnglish from '@angular/common/locales/en';\nimport localeArabic from '@angular/common/locales/ar';\n\n@Injectable({ providedIn: 'root' })\nexport class LocaleService{\n\n    private _locale: string;\n\n    set locale(value: string) {\n        this._locale = value;\n    }\n    get locale(): string {\n        return this._locale || 'en';\n    }\n\n    registerCulture(culture: string) {\n        if (!culture) {\n            return;\n        }\n        this.locale = culture;\n\n        switch (culture) {\n            case 'en': {\n                registerLocaleData(localeEnglish);\n                break;\n            }\n            case 'ar': {\n                registerLocaleData(localeArabic);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<h3>app.component</h3>\n<pre><code>import { Component } from '@angular/core';\nimport { LocaleService} from &quot;./services/locale.service&quot;;\n\n@Component({\n  selector: 'app-root',\n  template: `\n    &lt;p&gt;Choose language:&lt;/p&gt;\n    &lt;button (click)=&quot;english()&quot;&gt;English&lt;/button&gt;\n    &lt;button (click)=&quot;arabic()&quot;&gt;Arabic&lt;/button&gt;\n  `\n})\nexport class AppComponent {\n\n  constructor(private session: LocaleService) {}\n\n  english() {\n    this.session.registerCulture('en');\n    window.location.reload(); // &lt;-- I don't want to use reload\n  }\n\n  arabic() {\n    this.session.registerCulture('ar');\n    window.location.reload(); // &lt;-- I don't want to use reload\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "runtime-error"], "comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1571213293, "post_id": 58408502, "comment_id": 103160987, "body": "not sure but I think you should give IDs to button not on <code>i</code>"}, {"owner": {"reputation": 2288, "user_id": 10921798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0adefd53a9e8790b181785c11f458615?s=128&d=identicon&r=PG&f=1", "display_name": "d-h-e", "link": "https://stackoverflow.com/users/10921798/d-h-e"}, "edited": false, "score": 0, "creation_date": 1571213402, "post_id": 58408502, "comment_id": 103161048, "body": "the id is not on your button element. So you have to switch it or you select the i-element -&gt; <code>event.target.querySelector(&#39;.far&#39;).id</code>"}, {"owner": {"reputation": 63, "user_id": 8754011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc13b424aa531e0c49f7e1277c668d3?s=128&d=identicon&r=PG&f=1", "display_name": "Abdelrahman AL-Sawalmeh", "link": "https://stackoverflow.com/users/8754011/abdelrahman-al-sawalmeh"}, "edited": false, "score": 0, "creation_date": 1571223937, "post_id": 58408502, "comment_id": 103166761, "body": "Also, doesn&#39;t work, is there any other ways to get the id, or calculate the rate?"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 8754011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc13b424aa531e0c49f7e1277c668d3?s=128&d=identicon&r=PG&f=1", "display_name": "Abdelrahman AL-Sawalmeh", "link": "https://stackoverflow.com/users/8754011/abdelrahman-al-sawalmeh"}, "edited": false, "score": 0, "creation_date": 1571223879, "post_id": 58408790, "comment_id": 103166724, "body": "It doesn&#39;t work, I tried but it still present some of the id&#39;s and some of them no."}], "tags": [], "owner": {"reputation": 3053, "user_id": 5828160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f1bce66871c9b17ac7d152e59e8f3a7?s=128&d=identicon&r=PG", "display_name": "Rajith Thennakoon", "link": "https://stackoverflow.com/users/5828160/rajith-thennakoon"}, "is_accepted": false, "score": 0, "last_activity_date": 1571213994, "creation_date": 1571213994, "answer_id": 58408790, "question_id": 58408502, "link": "https://stackoverflow.com/questions/58408502/why-the-element-id-doesnt-getting-when-using-event-target/58408790#58408790", "title": "Why the element id doesn&#39;t getting when using event.target?", "body": "<p>This is little bit tricky. one thing is you have <code>i</code> tag inside the button element.if you click on <code>i</code> tag it will give the id, otherwise not.\nin html use <code>id</code> in the button tag</p>\n\n<pre><code>&lt;button (click)=\"getRate($event)\" id='1'&gt;&lt;i class=\"far fa-star\" &gt;&lt;/i&gt;&lt;/button&gt;\n</code></pre>\n\n<p>and from the component</p>\n\n<pre><code> getRate(event: Event) {\n    var target = event.target || event.srcElement || event.currentTarget;\n    var id = target.attributes.id;\n\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 8754011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc13b424aa531e0c49f7e1277c668d3?s=128&d=identicon&r=PG&f=1", "display_name": "Abdelrahman AL-Sawalmeh", "link": "https://stackoverflow.com/users/8754011/abdelrahman-al-sawalmeh"}, "is_accepted": true, "score": 0, "last_activity_date": 1571225313, "creation_date": 1571225313, "answer_id": 58412219, "question_id": 58408502, "link": "https://stackoverflow.com/questions/58408502/why-the-element-id-doesnt-getting-when-using-event-target/58412219#58412219", "title": "Why the element id doesn&#39;t getting when using event.target?", "body": "<p>I solved it, the idea is that when I click on the button, it will return null, because I'm getting the  id.</p>\n\n<pre><code>getRate(event: Event) {\n    //this.ratesArray.push((((event.target as Element).id as unknown) as number) * 20);\n    if ((event.target as Element).id == null) {\n      console.log((event.target as Element).closest(\"a\").id);\n    } else {\n      console.log((event.target as Element).id);\n    }\n    console.log((((event.target as Element).id as unknown) as number));\n  }\n</code></pre>\n\n<pre><code>    &lt;a (click)=\"getRate($event)\" id=\"1\"&gt;&lt;i class=\"far fa-star\" id=\"1\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;a (click)=\"getRate($event)\" id=\"2\"&gt;&lt;i class=\"far fa-star\" id=\"2\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;a (click)=\"getRate($event)\" id=\"3\"&gt;&lt;i class=\"far fa-star\" id=\"3\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;a (click)=\"getRate($event)\" id=\"4\"&gt;&lt;i class=\"far fa-star\" id=\"4\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;a (click)=\"getRate($event)\" id=\"5\"&gt;&lt;i class=\"far fa-star\" id=\"5\"&gt;&lt;/i&gt;&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 8754011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc13b424aa531e0c49f7e1277c668d3?s=128&d=identicon&r=PG&f=1", "display_name": "Abdelrahman AL-Sawalmeh", "link": "https://stackoverflow.com/users/8754011/abdelrahman-al-sawalmeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 58412219, "answer_count": 2, "score": 0, "last_activity_date": 1571225313, "creation_date": 1571213002, "question_id": 58408502, "link": "https://stackoverflow.com/questions/58408502/why-the-element-id-doesnt-getting-when-using-event-target", "title": "Why the element id doesn&#39;t getting when using event.target?", "body": "<p>I'm trying to get the element id when I click on the button, but sometimes this id doesn't getting.\ncode below, I'm using typescript!</p>\n\n<p>image below!</p>\n\n<pre><code>          &lt;div *ngFor=\"let item of l\"&gt;\n              &lt;input type=\"text\" class=\"form-control\"&gt;\n              &lt;button (click)=\"getRate($event)\"&gt;&lt;i class=\"far fa-star\" id='1'&gt;&lt;/i&gt;&lt;/button&gt;\n              &lt;button (click)=\"getRate($event)\"&gt;&lt;i class=\"far fa-star\" id='2'&gt;&lt;/i&gt;&lt;/button&gt;\n              &lt;button (click)=\"getRate($event)\"&gt;&lt;i class=\"far fa-star\" id='3'&gt;&lt;/i&gt;&lt;/button&gt;\n              &lt;button (click)=\"getRate($event)\"&gt;&lt;i class=\"far fa-star\" id='4'&gt;&lt;/i&gt;&lt;/button&gt;\n              &lt;button (click)=\"getRate($event)\"&gt;&lt;i class=\"far fa-star\" id='5'&gt;&lt;/i&gt;&lt;/button&gt;\n          &lt;/div&gt;\n</code></pre>\n\n<p>Typescript method to calculate rate besed on star id.</p>\n\n<pre><code>  getRate(event: Event) {\n    this.ratesArray.push((((event.target as Element).id as unknown) as number) * 20);\n    console.log((event.target as Element).id);\n    console.log((((event.target as Element).id as unknown) as number));\n  }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Q7rJO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q7rJO.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 9515185, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lhQNl7UVM4Q/AAAAAAAAAAI/AAAAAAAAAA8/QLQVVfVKee4/photo.jpg?sz=128", "display_name": "Paul Han", "link": "https://stackoverflow.com/users/9515185/paul-han"}, "is_accepted": false, "score": 0, "last_activity_date": 1571215968, "creation_date": 1571215968, "answer_id": 58409391, "question_id": 58408195, "link": "https://stackoverflow.com/questions/58408195/assignment-with-type-aliases-is-different-from-interface/58409391#58409391", "title": "Assignment with Type Aliases is different from Interface", "body": "<p>redundant, subscribe to this issue, and the spec is out of date</p>\n\n<p><a href=\"https://github.com/microsoft/TypeScript/issues/15300\" rel=\"nofollow noreferrer\">https://github.com/microsoft/TypeScript/issues/15300</a></p>\n"}], "owner": {"reputation": 161, "user_id": 9515185, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lhQNl7UVM4Q/AAAAAAAAAAI/AAAAAAAAAA8/QLQVVfVKee4/photo.jpg?sz=128", "display_name": "Paul Han", "link": "https://stackoverflow.com/users/9515185/paul-han"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1571215968, "creation_date": 1571211682, "question_id": 58408195, "link": "https://stackoverflow.com/questions/58408195/assignment-with-type-aliases-is-different-from-interface", "title": "Assignment with Type Aliases is different from Interface", "body": "<p>First, I have a string index signatures</p>\n\n<pre><code>declare var result: {\n  [key: string]: number;\n};\n</code></pre>\n\n<p>Second, Assignment with the interface</p>\n\n<pre><code>interface IData {\n  a: number;\n  b: number;\n}\ndeclare var data: IData;\nresult = data; // [FAILED] according to 3.11.4 Assignment Compatibility should be failed\n</code></pre>\n\n<p>Thirdly, Assignment with the type alias</p>\n\n<pre><code>type TData = {\n  a: number;\n  b: number;\n};\ndeclare var data1: TData;\nresult = data1; // [SUCCEED] why?\n</code></pre>\n\n<p>I expect the assignment is the same as the spec, but the actual assignment is not.</p>\n\n<p>So, Is type alias and object literal type is temporary? but the spec has not described that.</p>\n\n<p>Spec:\n<a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#3114-assignment-compatibility\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#3114-assignment-compatibility</a></p>\n\n<p>Playground:\n<a href=\"https://www.typescriptlang.org/play/index.html#code/CYUwxgNghgTiAEA3W84GcCuEAuAueA3gFDzwDaA1iAJ75rYwCWAdgOYC6+zGAtgEYgYAbiIBfEURbZBAMyhgEASQAiUbFEIl4ULrwHCtfXf0EjRRUJFgJkMeMDU74KxyPRZs8ALz3X8APT+5ABiAIKKADIAosrs2mBgAPYwwCys8NiJ8ADMAHQAjPm5ACzwoWhojKzMPCDMngDCiTwADmqMfIwQjNjU8GgAFolYwPAC8HJdIMBERL0tCAAqquremqRO3CYGpEbwW-pmIpbQcEgoDur5+MuuRO44a5dQ+UIBQWQAygCqDQ1RMTiAHcBtQAPxAA\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/play/index.html#code/CYUwxgNghgTiAEA3W84GcCuEAuAueA3gFDzwDaA1iAJ75rYwCWAdgOYC6+zGAtgEYgYAbiIBfEURbZBAMyhgEASQAiUbFEIl4ULrwHCtfXf0EjRRUJFgJkMeMDU74KxyPRZs8ALz3X8APT+5ABiAIKKADIAosrs2mBgAPYwwCys8NiJ8ADMAHQAjPm5ACzwoWhojKzMPCDMngDCiTwADmqMfIwQjNjU8GgAFolYwPAC8HJdIMBERL0tCAAqquremqRO3CYGpEbwW-pmIpbQcEgoDur5+MuuRO44a5dQ+UIBQWQAygCqDQ1RMTiAHcBtQAPxAA</a></p>\n"}, {"tags": ["javascript", "typescript", "rest", "api", "express"], "comments": [{"owner": {"reputation": 3246, "user_id": 7126139, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tRZYM.jpg?s=128&g=1", "display_name": "yuval.bl", "link": "https://stackoverflow.com/users/7126139/yuval-bl"}, "edited": false, "score": 1, "creation_date": 1571213241, "post_id": 58407892, "comment_id": 103160968, "body": "Reading <code>express-session</code> docs I&#39;ve encounter the following, which may be relevant:  &quot;Be careful when using this setting if the site is available both as HTTP and HTTPS, as once the cookie is set on HTTPS, it will no longer be visible over HTTP&quot;."}, {"owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1571223814, "post_id": 58407892, "comment_id": 103166692, "body": "What is the error?"}, {"owner": {"reputation": 2180, "user_id": 6648201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b0f57452b72e6fc66f102979a3101450?s=128&d=identicon&r=PG&f=1", "display_name": "rookieDeveloper", "link": "https://stackoverflow.com/users/6648201/rookiedeveloper"}, "reply_to_user": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1571223908, "post_id": 58407892, "comment_id": 103166747, "body": "@hurricane it gives object is possibly undefined for sess variable"}, {"owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1571224143, "post_id": 58407892, "comment_id": 103166856, "body": "Where did you define your routes? You should define your routes after <code>app.use(session(ses))</code>. Could you update your code to show us where do you use routes.ts?"}, {"owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "edited": false, "score": 0, "creation_date": 1571225336, "post_id": 58407892, "comment_id": 103167506, "body": "It is good but still, I am not able to see do you run applyRoutes(routes, app) after app.use(session(ses)); or not? Where does the<code>app</code> variable coming from?"}], "answers": [{"comments": [{"owner": {"reputation": 2180, "user_id": 6648201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b0f57452b72e6fc66f102979a3101450?s=128&d=identicon&r=PG&f=1", "display_name": "rookieDeveloper", "link": "https://stackoverflow.com/users/6648201/rookiedeveloper"}, "edited": false, "score": 0, "creation_date": 1571229153, "post_id": 58412806, "comment_id": 103169718, "body": "I&#39;m sorry but it&#39;s not working even if I changed <code>declare global</code> to <code>export declare module global</code> it is not able to find the module"}, {"owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "reply_to_user": {"reputation": 2180, "user_id": 6648201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b0f57452b72e6fc66f102979a3101450?s=128&d=identicon&r=PG&f=1", "display_name": "rookieDeveloper", "link": "https://stackoverflow.com/users/6648201/rookiedeveloper"}, "edited": false, "score": 0, "creation_date": 1571229221, "post_id": 58412806, "comment_id": 103169755, "body": "Just try to install @types/express-session without writing any code."}, {"owner": {"reputation": 2180, "user_id": 6648201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b0f57452b72e6fc66f102979a3101450?s=128&d=identicon&r=PG&f=1", "display_name": "rookieDeveloper", "link": "https://stackoverflow.com/users/6648201/rookiedeveloper"}, "edited": false, "score": 0, "creation_date": 1571229329, "post_id": 58412806, "comment_id": 103169820, "body": "I have installed it."}, {"owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "reply_to_user": {"reputation": 2180, "user_id": 6648201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b0f57452b72e6fc66f102979a3101450?s=128&d=identicon&r=PG&f=1", "display_name": "rookieDeveloper", "link": "https://stackoverflow.com/users/6648201/rookiedeveloper"}, "edited": false, "score": 0, "creation_date": 1571232261, "post_id": 58412806, "comment_id": 103171659, "body": "@rookieDeveloper use <code>import { Request, Response } from &quot;@types&#47;express-session&quot;;</code>"}, {"owner": {"reputation": 2180, "user_id": 6648201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b0f57452b72e6fc66f102979a3101450?s=128&d=identicon&r=PG&f=1", "display_name": "rookieDeveloper", "link": "https://stackoverflow.com/users/6648201/rookiedeveloper"}, "edited": false, "score": 0, "creation_date": 1571234142, "post_id": 58412806, "comment_id": 103172882, "body": "<code>Module &#39;&quot;..&#47;..&#47;..&#47;node_modules&#47;@types&#47;express-session&quot;&#39; has no exported member &#39;Response&#39;.</code>"}, {"owner": {"reputation": 1093, "user_id": 7291498, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5860e15171a268c496d94f9259052138?s=128&d=identicon&r=PG&f=1", "display_name": "Rifat", "link": "https://stackoverflow.com/users/7291498/rifat"}, "reply_to_user": {"reputation": 2180, "user_id": 6648201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b0f57452b72e6fc66f102979a3101450?s=128&d=identicon&r=PG&f=1", "display_name": "rookieDeveloper", "link": "https://stackoverflow.com/users/6648201/rookiedeveloper"}, "edited": false, "score": 0, "creation_date": 1614699949, "post_id": 58412806, "comment_id": 117461836, "body": "@hurricane Are you providing wrong information ? I have same issue as @rookieDeveloper. <code>import { Request, Response } from &quot;@types&#47;express-session&quot;;</code> produces <code>Module &#39;&quot;..&#47;..&#47;..&#47;node_modules&#47;@types&#47;express-session&quot;&#39; has no exported member &#39;Response&#39;.</code>"}], "tags": [], "owner": {"reputation": 5532, "user_id": 3030495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Q3jL.jpg?s=128&g=1", "display_name": "hurricane", "link": "https://stackoverflow.com/users/3030495/hurricane"}, "is_accepted": false, "score": 0, "last_activity_date": 1571232244, "last_edit_date": 1571232244, "creation_date": 1571227242, "answer_id": 58412806, "question_id": 58407892, "link": "https://stackoverflow.com/questions/58407892/express-session-undefined-in-typescript/58412806#58412806", "title": "express.session undefined in typescript", "body": "<p>You are using an interface which is <code>Request</code> for express.js. But it doesn't have type definition for <code>session</code>. So typescript throws a compile error. To solve it you need to define session type under Request interface.</p>\n\n<p>You could define a session.d.ts file under your project. And create required types &amp; interfaces. Like:</p>\n\n<pre><code>declare global {\n  namespace Express {\n    interface Request {\n      session?: Session;\n      sessionID?: string;\n    }\n  }\n}\n\ninterface Session{\n  mySessionVarible:string\n}\n</code></pre>\n\n<p>But the good thing is we have DefinitilyTyped project which you can find many type definitions. This needs to solve your compile problem.</p>\n\n<pre><code>npm install --save-dev @types/express-session\n</code></pre>\n\n<p>And don't forget to change your import for Request.</p>\n\n<pre><code>import { Request, Response } from \"@types/express-session\";\n</code></pre>\n"}], "owner": {"reputation": 2180, "user_id": 6648201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b0f57452b72e6fc66f102979a3101450?s=128&d=identicon&r=PG&f=1", "display_name": "rookieDeveloper", "link": "https://stackoverflow.com/users/6648201/rookiedeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1386, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1571232244, "creation_date": 1571210624, "last_edit_date": 1571226030, "question_id": 58407892, "link": "https://stackoverflow.com/questions/58407892/express-session-undefined-in-typescript", "title": "express.session undefined in typescript", "body": "<p>I am very new to typescript/javascript, I am trying to build backend rest apis with <code>session</code>\nfollowing is <strong>app.ts</strong> file</p>\n\n<pre><code>import express from \"express\";\nimport { applyMiddleware, applyRoutes } from \"./utils\";\nimport routes from \"./services\";\n\nconst app = express();\n\n    var ses= {\n        secret: \"secret_session\",\n        resave: true,\n        saveUninitialized: true,\n        cookie: { maxAge: 3600000,secure: false, httpOnly: true\n}\nif (app.get('env') === 'production') {\n    app.set('trust proxy', 1)\n    ses.cookie.secure = true\n}\n\napp.use(session(ses));\n\napplyRoutes(routes, app);\n</code></pre>\n\n<p>I have started the server and applied the middlewares for <code>error handling</code> but those are not related to question in my opinion so I'm not adding code for it. Following is my <strong>routes.ts</strong> code where I'm trying to set the session. </p>\n\n<pre><code>import { Request, Response } from \"express\";\nimport { getAll, getByKeyword, addNewProduct } from \"./productControllers\";\n{\npath: \"/api/v1/getAllProducts\",\nmethod: \"get\",\nhandler: [\n  (req: Request, res: Response) =&gt; {\n    getAll()\n      .then((row: any) =&gt; {\n       var sess = req.session;\n       sess.views = 1;\n        res.status(200).json({ data: row });\n      })\n      .catch(err =&gt; {\n        res.json({\n          message: err\n        });\n      });\n  }\n]\n}\n</code></pre>\n\n<p>I'm getting error at <strong>sess.views = 1;</strong></p>\n\n<p>I have tried the suggested questions before asking it, none of them were of any help to me.</p>\n\n<p>EDIT:\nI have created an <strong>index.ts</strong></p>\n\n<pre><code>import searchRoutes from \"./products/routes\";\n\nexport default [...searchRoutes];\n</code></pre>\n\n<p>I have another util class</p>\n\n<pre><code>export const applyRoutes = (routes: Route[], router: Router) =&gt; {\n  for (const route of routes) {\n    const { method, path, handler } = route;\n    (router as any)[method](path, handler);\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1571216810, "post_id": 58407803, "comment_id": 103162944, "body": "What is your expectly? Provide output for your example."}], "answers": [{"tags": [], "owner": {"reputation": 8965, "user_id": 3580745, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bc63c3ca36686abbc49e566bebaea528?s=128&d=identicon&r=PG", "display_name": "ThomasThiebaud", "link": "https://stackoverflow.com/users/3580745/thomasthiebaud"}, "is_accepted": false, "score": 0, "last_activity_date": 1571215237, "creation_date": 1571215237, "answer_id": 58409152, "question_id": 58407803, "link": "https://stackoverflow.com/questions/58407803/typescript-extract-return-types-from-module/58409152#58409152", "title": "typescript extract return types from module", "body": "<p>This is only a partial answer. You can extract the return type of a function using the <code>ReturnType</code> <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#returntypet\" rel=\"nofollow noreferrer\">utility type</a></p>\n\n<pre><code>type Function1 = ReturnType&lt;typeof list.function1&gt;\n</code></pre>\n\n<p>Is there any reason why you're storing them in a list like that?</p>\n\n<p><em>NOTE:</em> In your example, <code>list</code> is actually not a list but a <code>record</code> or <code>dictionary</code></p>\n"}, {"tags": [], "owner": {"reputation": 18991, "user_id": 4235784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b39477142baa729b47de7434341f19?s=128&d=identicon&r=PG&f=1", "display_name": "altocumulus", "link": "https://stackoverflow.com/users/4235784/altocumulus"}, "is_accepted": true, "score": 2, "last_activity_date": 1571220995, "creation_date": 1571220995, "answer_id": 58410940, "question_id": 58407803, "link": "https://stackoverflow.com/questions/58407803/typescript-extract-return-types-from-module/58410940#58410940", "title": "typescript extract return types from module", "body": "<p>To extract the values of the <code>list</code> dictionary you can define a <code>ValueOf</code> lookup type analogous to <code>keyof</code>:</p>\n\n<pre><code>type ValueOf&lt;T&gt; = T[keyof T];\n</code></pre>\n\n<p>Using this on the <code>list</code> value yields a union of all the functions:</p>\n\n<pre><code>type Functions = ValueOf&lt;typeof list&gt;;\n</code></pre>\n\n<p>To finally get the union type of all return types of those functions use the <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#returntypet\" rel=\"nofollow noreferrer\"><code>ReturnType&lt;T&gt;</code></a> utility:</p>\n\n<pre><code>type FunctionReturnList = ReturnType&lt;Functions&gt;;\n\n// Creates the following type as a union of all return types:\ntype FunctionReturnList = {\n    a: string;\n    b: string;\n} | {\n    c: string;\n    d: number;\n}\n</code></pre>\n\n<p>Have a look at this playground <a href=\"https://www.typescriptlang.org/play/index.html#code/MYewdgzgLgBANgS2jAvDA3gKBjAZgVzGCgXAEYAuGACgEMroAnBMAcwBoYAjBqZtgJSoAfDXQxanLjAC+A9tjyFipMACYq1YL34cYAEyph8AWy4BTRkJSjq44J32z5mGQG5MmKAE8ADuZgANVo4fHMAeVwAHgAVUTQYgG0Aa3NvEFwYGIBdDy8-AIAxZRJwCFQgkLDIqJ9-DPgkKGE8uqKS1QAlcyh8RjAAGSaK7t7+mIKo4qJSyBbMIA\" rel=\"nofollow noreferrer\">demo</a> to see it in action.</p>\n"}], "owner": {"reputation": 300, "user_id": 1717173, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/0vSjB.jpg?s=128&g=1", "display_name": "dr_leevsey", "link": "https://stackoverflow.com/users/1717173/dr-leevsey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 58410940, "answer_count": 2, "score": 1, "last_activity_date": 1571220995, "creation_date": 1571210357, "last_edit_date": 1571219166, "question_id": 58407803, "link": "https://stackoverflow.com/questions/58407803/typescript-extract-return-types-from-module", "title": "typescript extract return types from module", "body": "<p>There's util <code>ReturnType</code> that lets to extract return type of function.\nWondering if there's a way to extract return types from the record (dictionary) of functions e.g.:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const list = {\n  function1: (a: string, b: B) =&gt; ({ a, b }),\n  function2: (c: string, d: D) =&gt; ({ c, d }),\n  ...\n}\n\ntype FunctionReturnList = ExtractReturnTypes&lt;list&gt;\n</code></pre>\n\n<p>What <code>ExtractReturnTypes</code> would be (if it's possible)?</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 589, "user_id": 12150740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUlEs.png?s=128&g=1", "display_name": "Amir Christian", "link": "https://stackoverflow.com/users/12150740/amir-christian"}, "edited": false, "score": 0, "creation_date": 1571209916, "post_id": 58407458, "comment_id": 103159311, "body": "It seems that error appears when the <code>lastFiveMatches.length === 0</code>."}, {"owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "edited": false, "score": 0, "creation_date": 1571210177, "post_id": 58407458, "comment_id": 103159465, "body": "He would get &quot;Cannot read property of undefined&quot; if length === 0. Problem is that he doesn&#39;t have typed lastFiveResults property."}], "answers": [{"tags": [], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "is_accepted": false, "score": 0, "last_activity_date": 1571210645, "last_edit_date": 1571210645, "creation_date": 1571209329, "answer_id": 58407510, "question_id": 58407458, "link": "https://stackoverflow.com/questions/58407458/specify-properties-for-objects-inside-an-array-of-objects/58407510#58407510", "title": "Specify properties for objects inside an array of objects", "body": "<p>You can declare like this:</p>\n\n<pre><code>export interface Stat {\n    idresults: number, \n    gold:  number, \n    mana:  number, \n    xp:  number\n}\n</code></pre>\n\n<p>and to initialize:</p>\n\n<pre><code>yourStats: Stat[]= [];\n\nfooMethod() {    \n    for (let i = 0; i&lt;10; i++) {\n        console.log('1');\n        this.yourStats.push({idresults: i, gold: i, mana: i, xp: i})\n    } \n    console.log(`Your stats is`, this.yourStats);    \n}  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "is_accepted": false, "score": 0, "last_activity_date": 1571209333, "creation_date": 1571209333, "answer_id": 58407512, "question_id": 58407458, "link": "https://stackoverflow.com/questions/58407458/specify-properties-for-objects-inside-an-array-of-objects/58407512#58407512", "title": "Specify properties for objects inside an array of objects", "body": "<p>You can define another interface to specify the type of properties in your object.</p>\n\n<pre><code>interface myObject {\n  idresults: number,\n  gold: number,\n  mana: number,\n  xp: number\n}\n\nexport interface Stats {\n\n    lastFiveResults: myObject[];\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 7572953, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d007bc1359ffae4a2a0a879c18ac3307?s=128&d=identicon&r=PG&f=1", "display_name": "Shikha", "link": "https://stackoverflow.com/users/7572953/shikha"}, "is_accepted": false, "score": 0, "last_activity_date": 1571209365, "creation_date": 1571209365, "answer_id": 58407523, "question_id": 58407458, "link": "https://stackoverflow.com/questions/58407458/specify-properties-for-objects-inside-an-array-of-objects/58407523#58407523", "title": "Specify properties for objects inside an array of objects", "body": "<pre><code>export class Stats {\n    lastFiveResults: Object[]=[{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\n}\n</code></pre>\n\n<p>in your ts file:</p>\n\n<pre><code>data= new Stats();\nconsole.log(data.lastFiveMatches[0].gold)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "is_accepted": false, "score": 0, "last_activity_date": 1571209518, "creation_date": 1571209518, "answer_id": 58407558, "question_id": 58407458, "link": "https://stackoverflow.com/questions/58407458/specify-properties-for-objects-inside-an-array-of-objects/58407558#58407558", "title": "Specify properties for objects inside an array of objects", "body": "<p>You can define <code>interface</code> or <code>type</code> for your object within the list</p>\n\n<pre><code>export interface Stats {\n    lastFiveResults: MyObject[];\n}\n\nexport interface MyObject {\n  idresults: number\n  gold: number\n  mana: number\n  xp: number\n}\n</code></pre>\n\n<p>Please see this <a href=\"https://typescript-play.js.org/#code/KYDwDg9gTgLgBASwHY2FAZgQwMbDgZRkxgGc4BvAKDhrgBtMSYAxBAN2ACVgSBXO0gC44AWQCeAeQBGAK2DYYAbQC6AbkoBfSpVCRYiFGiy5Rk2fPhUaCACZQe-IXCS8AtlLTU4Acwh0bwi7unjSumEiYgW4eUF7gUcGxWpR0wPBMxCTChJlwALwUXgxMrBzcfAJZcIpeNOS29hVOAKwADK0AND5+AXDNAGwA7IMALJ1wYRHCAMytzdOD4-FwAIwAHO0aHbUUDQ6Vwm0rXb7+wiMAnABM02vHE+GRcP2tV4uDXcsrI21bO-V2fYtV4nHrCK4jFatFZXLqTJ6zaYXZojT5gYR3Vp-Wi7QFNKptaags5wSHNYZrOGPcH9GEotEYqHY2gAxqOAmtVHdEnTN5Xfr9KlTUlvDZEuDLLFeZSabQpNKIVCufJwDKkAB0xRY7C4QJIilaynVpxs6koQA\" rel=\"nofollow noreferrer\">playground</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 589, "user_id": 12150740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUlEs.png?s=128&g=1", "display_name": "Amir Christian", "link": "https://stackoverflow.com/users/12150740/amir-christian"}, "is_accepted": false, "score": 0, "last_activity_date": 1571210033, "last_edit_date": 1571210033, "creation_date": 1571209668, "answer_id": 58407605, "question_id": 58407458, "link": "https://stackoverflow.com/questions/58407458/specify-properties-for-objects-inside-an-array-of-objects/58407605#58407605", "title": "Specify properties for objects inside an array of objects", "body": "<p>Try this:</p>\n\n<pre><code>if (data.lastFiveMatches &amp;&amp; data.lastFiveMatches.length &gt; 0) {    \n   const something = data.lastFiveMatches[0].gold || 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15129, "user_id": 1932552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4032e830e15235362af1988e2fccfdf3?s=128&d=identicon&r=PG", "display_name": "Yosvel Quintero Arguelles", "link": "https://stackoverflow.com/users/1932552/yosvel-quintero-arguelles"}, "is_accepted": true, "score": 1, "last_activity_date": 1571209679, "creation_date": 1571209679, "answer_id": 58407611, "question_id": 58407458, "link": "https://stackoverflow.com/questions/58407458/specify-properties-for-objects-inside-an-array-of-objects/58407611#58407611", "title": "Specify properties for objects inside an array of objects", "body": "<p>You should create the interfaces <code>Item</code> and <code>ResultItem</code>: </p>\n\n<pre><code>export interface ResultItem {\n  idresults: number;\n  gold: number; \n  mana: number;\n  xp: number;\n}\n\nexport interface Stats {\n  lastFiveResults: ResultItem[];\n}\n</code></pre>\n\n<p>... and then:</p>\n\n<pre><code>data.lastFiveMatches[0].gold;\n</code></pre>\n"}], "owner": {"reputation": 1827, "user_id": 8047048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2O0cs.jpg?s=128&g=1", "display_name": "Reez0", "link": "https://stackoverflow.com/users/8047048/reez0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 58407611, "answer_count": 6, "score": 1, "last_activity_date": 1571904841, "creation_date": 1571209124, "last_edit_date": 1571904841, "question_id": 58407458, "link": "https://stackoverflow.com/questions/58407458/specify-properties-for-objects-inside-an-array-of-objects", "title": "Specify properties for objects inside an array of objects", "body": "<p>I have an interface that looks like this:</p>\n\n<pre><code>    export interface Stats {\n\n    lastFiveResults: Object[];\n\n}\n</code></pre>\n\n<p>The array of objects looks this this:</p>\n\n<pre><code>(5) [{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\n0: {idresults: 500, gold: 567740, mana: 305370, xp: 1800}\n1: {idresults: 501, gold: 492381, mana: 602707, xp: 1450}\n2: {idresults: 502, gold: 241012, mana: 303954, xp: 810}\n3: {idresults: 503, gold: 415778, mana: 261254, xp: 810}\n4: {idresults: 504, gold: 327266, mana: 427803, xp: 0}\n</code></pre>\n\n<p>And when I try and access it like this</p>\n\n<pre><code>data.lastFiveMatches[0].gold\n</code></pre>\n\n<p>I get <code>Property gold does not exist on type object</code></p>\n\n<p>So my question is how do I specify these properties?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1457, "user_id": 2005232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891b71233e253f4a37d061290836a483?s=128&d=identicon&r=PG", "display_name": "Benny", "link": "https://stackoverflow.com/users/2005232/benny"}, "edited": false, "score": 0, "creation_date": 1571222788, "post_id": 58407057, "comment_id": 103166102, "body": "What&#39;s the relevance of Aurelia here? It&#39;s a JavaScript/typescript question"}, {"owner": {"reputation": 35, "user_id": 12082854, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCh5LCb9aHtZG7VEt70sQgiy6A5-4_6F806TZ0I=k-s128", "display_name": "Akash123", "link": "https://stackoverflow.com/users/12082854/akash123"}, "reply_to_user": {"reputation": 1457, "user_id": 2005232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891b71233e253f4a37d061290836a483?s=128&d=identicon&r=PG", "display_name": "Benny", "link": "https://stackoverflow.com/users/2005232/benny"}, "edited": false, "score": 0, "creation_date": 1571225867, "post_id": 58407057, "comment_id": 103167805, "body": "@Benny actually I am creating Aurelia typescript application.So i added mistakenly Aurelia."}], "owner": {"reputation": 35, "user_id": 12082854, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCh5LCb9aHtZG7VEt70sQgiy6A5-4_6F806TZ0I=k-s128", "display_name": "Akash123", "link": "https://stackoverflow.com/users/12082854/akash123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571225939, "creation_date": 1571207563, "last_edit_date": 1571225939, "question_id": 58407057, "link": "https://stackoverflow.com/questions/58407057/how-to-copy-pre-tag-data-to-clipboard-using-typescript", "title": "how to copy &quot;Pre&quot; tag data to clipboard using typescript?", "body": "<p>I want to create copy button which perform copy data from \"Pre\" tag using \"typescript\". I am creating like this but not working appropriately.</p>\n\n<p>I also refer many site where they mention we can't copy data from pre tag. is this right.? if not then how we can resolve ?      </p>\n\n<pre><code>&lt;button onclick=\"copyText('text_element')\" class=\"btn button\" style=\"color:black;background-color: #f8f9fa;\"&gt;Copy&lt;/button&gt;\n\n\n\npublic copyText(elementId){\n  let selBox = document.getElementById(\"pre\");\n  selBox.setAttribute(\"value\",document.getElementById(elementId).innerHTML);\n  document.body.appendChild(selBox);\n  selBox.focus();\n  document.execCommand('copy');\n  document.body.removeChild(selBox);\n  alert(\"Copied the text: \"); \n  }\n\n    &lt;pre id=\"text_element\"&gt;\n       ............some text-----------\n    &lt;/pre&gt;\n</code></pre>\n"}, {"tags": ["typescript", "cucumber", "jestjs", "cucumberjs"], "owner": {"reputation": 11, "user_id": 12224551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67ecf6b88fb4084afca237b033b9748c?s=128&d=identicon&r=PG&f=1", "display_name": "el_nuggs", "link": "https://stackoverflow.com/users/12224551/el-nuggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571208456, "creation_date": 1571207379, "last_edit_date": 1571208456, "question_id": 58407022, "link": "https://stackoverflow.com/questions/58407022/how-can-i-intagrate-cucumber-into-puppeteer-tests-writen-in-typescript", "title": "How can I intagrate cucumber into Puppeteer tests writen in TypeScript?", "body": "<p>I have an extensive amount of test cases written with Jest-Puppeteer in Type Script, is there anyway to integrate cucumber with the tests I already have? </p>\n\n<p>Cucumber doesn't seem to ready my step-definition files when its in .ts file format. .js file formats work as expected but I cant import sections of code from all the .ts files already there. </p>\n\n<p>Has anyone got any examples or how I can setup a config file for cucumber to read .ts files?</p>\n"}, {"tags": ["javascript", "typescript", "decorator", "typescript-decorator"], "owner": {"reputation": 1272, "user_id": 11680003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2075d3dcf4567b2c543da2b9c216ce8d?s=128&d=identicon&r=PG&f=1", "display_name": "secondimage", "link": "https://stackoverflow.com/users/11680003/secondimage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1571207162, "creation_date": 1571206189, "last_edit_date": 1571207162, "question_id": 58406760, "link": "https://stackoverflow.com/questions/58406760/why-assign-a-different-function-for-descriptor-value-when-use-typescript-decorat", "title": "why assign a different function for descriptor.value when use typescript decorator", "body": "<p>I'm new to Typescript and really get confused with the use of decorator. I saw some code as below:</p>\n\n<pre><code>function log(target: any, key: string, descriptor: any) {\n    const original = descriptor.value;\n    descriptor.value = function (...args: any[]) {\n        // Call the original method\n        const result = original.apply(this, args);\n        // Log the call, and the result\n        console.log(`${key} with args ${JSON.stringify(args)} returned ${JSON.stringify(result)}`);\n        // Return the result\n        return result;\n    }\n    return descriptor;\n}\n\nclass Calculator {\n    // Using the decorator\n    @log\n    square(num: number) {\n        return num * num;\n    }\n}\n\nconst calculator = new Calculator();\n// square with args [2] returned 4\ncalculator.square(2);\n</code></pre>\n\n<p>below is my questions:</p>\n\n<p>Q1- I understand that <code>descriptor.value</code> contains the original <code>square</code> method, then  another anonymous function is assigned to <code>descriptor.value</code>, then return <code>descriptor</code>, I am not sure what exact it mean, but I guess the new function that <code>descriptor.value</code> contains will get called, but by whom? who will call the decorator log function and get the returned <code>descriptor</code> and call its value function?/Who is going to call <code>log</code> function?</p>\n\n<p>Q2- why the new assigned anonymous function takes a array of parameter, isn't that a single parameter is enough as below:</p>\n\n<pre><code>...\ndescriptor.value = function (args: any) {\n   ...\n}\n</code></pre>\n\n<p>Q3- If I don't assign a different function to <code>descriptor.value</code> as:</p>\n\n<pre><code>function log(target: any, key: string, descriptor: any) {\n    const original = descriptor.value; //does nothing\n    return descriptor;\n}\n\n</code></pre>\n\n<p>I assume the <code>square</code> method will be called twice, but it just get called once. So how come when you assign <code>descriptor.value</code> to a new different function then the new function will get called, which is inconsistent?</p>\n"}, {"tags": ["reactjs", "typescript", "next.js"], "owner": {"reputation": 89, "user_id": 9502593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6692707a1412871d29ca5141e67e10?s=128&d=identicon&r=PG", "display_name": "invalidtoken", "link": "https://stackoverflow.com/users/9502593/invalidtoken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1571206105, "creation_date": 1571206105, "question_id": 58406736, "link": "https://stackoverflow.com/questions/58406736/cannot-find-less-modules-in-a-tsx-file-in-next-js-version-9-1-1", "title": "cannot find .less modules in a tsx file in Next.js version 9.1.1", "body": "<p>I am using Next.js version 9.1.1 with Typescript and @zeit/next-less. Every time I import a less file in a tsx file this error is shown.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BaYjL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BaYjL.png\" alt=\"enter image description here\"></a></p>\n\n<p>This error does not cause any problem with my builds. Styles are properly imported in development as well as in production.</p>\n\n<p>How should I resolve this error? How should I tell Typescript to import .less files?\nI have used externals.d.ts file but that doesn't seem to work.\nMy tsconfig.json file looks something like this -</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"esnext\",\n    \"target\": \"es5\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": true,\n    \"checkJs\": false,\n    \"strict\": false,\n    \"skipLibCheck\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"noEmit\": true,\n    \"esModuleInterop\": true,\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\"\n  },\n  \"exclude\": [\"node_modules\", \"**/*.js\", \"**/*.jsx\"],\n  \"include\": [\"externals.d.ts\", \"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\"]\n}\n</code></pre>\n\n<p>My externals.d.ts file looks like this -</p>\n\n<pre><code>declare module '*.less' {\n  const content: any;\n  export default content;\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "firebase", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "edited": false, "score": 0, "creation_date": 1571204324, "post_id": 58406356, "comment_id": 103157004, "body": "did you get the response in the chrome dev tools network tab? did you check it?"}, {"owner": {"reputation": 2423, "user_id": 8437740, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PsSye.png?s=128&g=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/8437740/jithin"}, "edited": false, "score": 0, "creation_date": 1571204439, "post_id": 58406356, "comment_id": 103157056, "body": "when you mean user profile, are you looking to get the user data that is stored during user authentication?"}, {"owner": {"reputation": 473, "user_id": 7911731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7a15c94d0e8b64f7b4f2dfa2c8f51e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sankha Rathnayake", "link": "https://stackoverflow.com/users/7911731/sankha-rathnayake"}, "reply_to_user": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "edited": false, "score": 0, "creation_date": 1571206181, "post_id": 58406356, "comment_id": 103157673, "body": "@BearNithi No it doesn&#39;t show anything in response. anyway im not that much family with that network tab. I checked the console, it shows 5 arrays have been recieved from database relevant to 5 documents in that collection"}, {"owner": {"reputation": 473, "user_id": 7911731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7a15c94d0e8b64f7b4f2dfa2c8f51e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sankha Rathnayake", "link": "https://stackoverflow.com/users/7911731/sankha-rathnayake"}, "reply_to_user": {"reputation": 2423, "user_id": 8437740, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PsSye.png?s=128&g=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/8437740/jithin"}, "edited": false, "score": 0, "creation_date": 1571212346, "post_id": 58406356, "comment_id": 103160520, "body": "@KevinRED Yes you got it right!"}, {"owner": {"reputation": 2423, "user_id": 8437740, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PsSye.png?s=128&g=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/8437740/jithin"}, "edited": false, "score": 0, "creation_date": 1571213063, "post_id": 58406356, "comment_id": 103160872, "body": "ok in that case i think currentUser is enough? Did you used it? Or authStateChnaged"}, {"owner": {"reputation": 473, "user_id": 7911731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7a15c94d0e8b64f7b4f2dfa2c8f51e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sankha Rathnayake", "link": "https://stackoverflow.com/users/7911731/sankha-rathnayake"}, "reply_to_user": {"reputation": 2423, "user_id": 8437740, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PsSye.png?s=128&g=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/8437740/jithin"}, "edited": false, "score": 0, "creation_date": 1571235269, "post_id": 58406356, "comment_id": 103173653, "body": "@KevinRED as i am new to this, i have no idea about how i should use it. Can u please come up with some codes?"}, {"owner": {"reputation": 2423, "user_id": 8437740, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PsSye.png?s=128&g=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/8437740/jithin"}, "edited": false, "score": 0, "creation_date": 1571236867, "post_id": 58406356, "comment_id": 103174734, "body": "<a href=\"https://stackoverflow.com/a/58406203/8437740\">stackoverflow.com/a/58406203/8437740</a>"}], "answers": [{"tags": [], "owner": {"reputation": 580, "user_id": 11249828, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tTeluA3FVmU/AAAAAAAAAAI/AAAAAAAAAHY/s3HfGWs_vSo/photo.jpg?sz=128", "display_name": "Bhavesh Ajani", "link": "https://stackoverflow.com/users/11249828/bhavesh-ajani"}, "is_accepted": false, "score": 0, "last_activity_date": 1589725614, "creation_date": 1589725614, "answer_id": 61853402, "question_id": 58406356, "link": "https://stackoverflow.com/questions/58406356/how-to-retrieve-and-display-data-relevant-to-a-particular-user-profile-from-fire/61853402#61853402", "title": "How to retrieve and display data relevant to a particular user profile from firebase", "body": "<p>you can get data from firebase using <code>snapshotChanges()</code> method.\nhere I'm attached example</p>\n\n<p>app.component.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// import service\r\nimport { CrudService } from './services/crud.service'; \r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\n\r\nexport class AppComponent implements OnInit {\r\n\r\n  constructor(public crudService: CrudService) { }\r\n  \r\n  ngOnInit() {\r\n\r\n    //get data from crud service\r\n    this.crudService.getFFList().subscribe(data =&gt; {\r\n      this.fflist = data.map(e =&gt; {\r\n        return {\r\n          id: e.payload.doc.id,\r\n          ffdata: e.payload.doc.data(),\r\n        };\r\n      })\r\n    });\r\n\r\n  }\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>crud.service.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\n\r\nexport class CrudService {\r\n\r\n  constructor(private firestore: AngularFirestore) { }\r\n  \r\n  //method for get data from firebase with collection name ff_list\r\n  getFFList() {\r\n    return this.firestore.collection('ff_list').snapshotChanges();\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>app.component.html</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table&gt;\r\n&lt;thead&gt;\r\n  &lt;th&gt;id&lt;/th&gt;\r\n  &lt;th&gt;Short Form&lt;/th&gt;\r\n  &lt;th&gt;Full Form&lt;/th&gt;\r\n  &lt;th&gt;Action&lt;/th&gt;\r\n&lt;/thead&gt;\r\n&lt;tbody&gt;\r\n  &lt;tr *ngFor=\"let ff of fflist\"&gt;\r\n    &lt;td&gt;{{ff.id}}&lt;/td&gt;\r\n    &lt;td&gt;{{ff.ffdata.ff_short}}&lt;/td&gt;\r\n    &lt;td&gt;{{ff.ffdata.ff_full}}&lt;/td&gt;\r\n    &lt;td&gt;\r\n      &lt;button (click)=\"delete(ff.id)\"&gt;Delete&lt;/button&gt;\r\n      &lt;button (click)=\"editFF(ff.id,ff.ffdata)\"&gt;Edit&lt;/button&gt;\r\n    &lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 473, "user_id": 7911731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7a15c94d0e8b64f7b4f2dfa2c8f51e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sankha Rathnayake", "link": "https://stackoverflow.com/users/7911731/sankha-rathnayake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1589725614, "creation_date": 1571204119, "question_id": 58406356, "link": "https://stackoverflow.com/questions/58406356/how-to-retrieve-and-display-data-relevant-to-a-particular-user-profile-from-fire", "title": "How to retrieve and display data relevant to a particular user profile from firebase", "body": "<p>I'm new to angular. I somehow learned how to get data from firebase to my angular pages by following many tutorials. But I don't understand how to retrieve data to a particular user profile when that user gets logged in to his profile. </p>\n\n<p>these are some of the ones that i tried out to get this thing working. but i got failed in all those attempts\n<a href=\"https://stackoverflow.com/questions/46853450/retrieving-user-profile-data-from-firebase-and-displaying\">Retrieving user profile data from firebase and displaying</a>\n<a href=\"https://stackoverflow.com/questions/50583627/how-to-display-clicked-user-profile-data-in-a-different-component\">How to display clicked user profile data in a different component?</a></p>\n\n<p><strong>venue-profile.component.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@Component({\n  selector: 'app-venue-profile',\n  templateUrl: './venue-profile.component.html',\n  styleUrls: ['./venue-profile.component.scss']\n})\nexport class VenueProfileComponent implements OnInit {\n\n  users:Observable&lt;any[]&gt;;\n\n  constructor(private db:AngularFirestore) {\n    this.users = db.collection('register_user').valueChanges();\n   }\n\n  ngOnInit() {\n  }\n\n}\n\n\n</code></pre>\n\n<p><strong>venue-profile.component.html</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;div class=\"main-content\"&gt;\n      &lt;div class=\"container-fluid\"&gt;\n        &lt;h1 class=\"ml-1\" *ngFor = 'let user of users | async'&gt;{{ user.user_name }}&lt;/h1&gt;\n        &lt;div class=\"row\"&gt;  \n\n\n\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-pipe"], "comments": [{"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1571202784, "post_id": 58406104, "comment_id": 103156514, "body": "Just like you(?) did with the employee name"}, {"owner": {"reputation": 868, "user_id": 8555571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1ac59eb89771c08fe0f08d3dd3dbfd?s=128&d=identicon&r=PG", "display_name": "cuddlemeister", "link": "https://stackoverflow.com/users/8555571/cuddlemeister"}, "edited": false, "score": 0, "creation_date": 1571202823, "post_id": 58406104, "comment_id": 103156521, "body": "Pass an object instead of <code>searchTerm   </code>"}, {"owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1571202906, "post_id": 58406104, "comment_id": 103156544, "body": "How can i pass object using input field?"}, {"owner": {"reputation": 868, "user_id": 8555571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1ac59eb89771c08fe0f08d3dd3dbfd?s=128&d=identicon&r=PG", "display_name": "cuddlemeister", "link": "https://stackoverflow.com/users/8555571/cuddlemeister"}, "edited": false, "score": 0, "creation_date": 1571202911, "post_id": 58406104, "comment_id": 103156547, "body": "Or don&#39;t complicate the things. Gonna respond below"}, {"owner": {"reputation": 1087, "user_id": 6310260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m1hmG.jpg?s=128&g=1", "display_name": "Mises", "link": "https://stackoverflow.com/users/6310260/mises"}, "reply_to_user": {"reputation": 868, "user_id": 8555571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1ac59eb89771c08fe0f08d3dd3dbfd?s=128&d=identicon&r=PG", "display_name": "cuddlemeister", "link": "https://stackoverflow.com/users/8555571/cuddlemeister"}, "edited": false, "score": 0, "creation_date": 1571202995, "post_id": 58406104, "comment_id": 103156562, "body": "@cuddlemeister If he will pass an object pipe will no trigger when value changes."}], "answers": [{"comments": [{"owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1571203450, "post_id": 58406181, "comment_id": 103156721, "body": "age is and number, cant use toLowerCase() method."}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "reply_to_user": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1571203522, "post_id": 58406181, "comment_id": 103156736, "body": "you can change it to <code>age.toString()</code>"}, {"owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1571203789, "post_id": 58406181, "comment_id": 103156824, "body": "Sorry it didn&#39;t worked for  me ,soon i will update the <code>stackblitz link</code>."}], "tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": true, "score": 2, "last_activity_date": 1571203030, "creation_date": 1571203030, "answer_id": 58406181, "question_id": 58406104, "link": "https://stackoverflow.com/questions/58406104/how-filter-array-with-different-parameters-using-pipes/58406181#58406181", "title": "How filter array with different parameters using pipes", "body": "<p>Just use or operator <code>||</code></p>\n\n<pre><code>return employees.filter(employee =&gt;\n            employee.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\n|| employee.age.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\n|| employee.gender.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\n); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 0, "creation_date": 1571204331, "post_id": 58406182, "comment_id": 103157007, "body": "Can you edit in this link  : <b><a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-6gqsih?file=src/app/list/employee-filter.pipe.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a></b>"}, {"owner": {"reputation": 2052, "user_id": 6770021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL6jP.jpg?s=128&g=1", "display_name": "Arun Saini", "link": "https://stackoverflow.com/users/6770021/arun-saini"}, "reply_to_user": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "edited": false, "score": 1, "creation_date": 1571210563, "post_id": 58406182, "comment_id": 103159658, "body": "@Shankar, See the forked and updated link: <a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-akdhyi\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2052, "user_id": 6770021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL6jP.jpg?s=128&g=1", "display_name": "Arun Saini", "link": "https://stackoverflow.com/users/6770021/arun-saini"}, "is_accepted": false, "score": 2, "last_activity_date": 1571210328, "last_edit_date": 1571210328, "creation_date": 1571203032, "answer_id": 58406182, "question_id": 58406104, "link": "https://stackoverflow.com/questions/58406104/how-filter-array-with-different-parameters-using-pipes/58406182#58406182", "title": "How filter array with different parameters using pipes", "body": "<p>In this case, you need to filter the employee in the pipe as follows:</p>\n\n<pre><code>return employees.filter((employee) =&gt; Object.values(employee).includes(searchTerm));\n</code></pre>\n\n<p>And your code will look like something:</p>\n\n<pre><code>import { PipeTransform, Pipe } from '@angular/core';\nimport { Employee } from '../models/employee.model';\n\n@Pipe({\n    name: 'employeeFilter'\n})\nexport class EmployeeFilterPipe implements PipeTransform {\n    transform(employees: Employee[], searchTerm: string): Employee[] {\n        if (!employees || !searchTerm) {\n            return employees;\n        }\n\n   //Parse a string to integer for the age\n    let searchValue;\n   if (!Number.isNaN(Number(searchTerm))) {\n      searchValue = parseInt(searchTerm);\n    } else {\n      searchValue = searchTerm;\n    }\n\n        return employees.filter((employee) =&gt; (Object as any).values(employee).includes(searchValue));\n    }\n}\n</code></pre>\n\n<p>To see this filter working see this: <a href=\"https://stackoverflow.com/questions/13594788/javascript-filter-array-of-objects/57820038#57820038\">javascript filter array of objects</a></p>\n"}, {"tags": [], "owner": {"reputation": 868, "user_id": 8555571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1ac59eb89771c08fe0f08d3dd3dbfd?s=128&d=identicon&r=PG", "display_name": "cuddlemeister", "link": "https://stackoverflow.com/users/8555571/cuddlemeister"}, "is_accepted": false, "score": 0, "last_activity_date": 1571203153, "creation_date": 1571203153, "answer_id": 58406204, "question_id": 58406104, "link": "https://stackoverflow.com/questions/58406104/how-filter-array-with-different-parameters-using-pipes/58406204#58406204", "title": "How filter array with different parameters using pipes", "body": "<p>Creating a pipe for a single output is not really cool. \nYou can use it like that on the component: </p>\n\n<pre><code>get filteredEmployees() {\n\nreturn employees.filter( anything you want )\n\n}\n</code></pre>\n\n<p>In html just call use <code>{{ filteredEmployees }}</code>.</p>\n\n<p>If such filtering is at least a bit complex and common for multiple components, create a service for storing such functions and call it in the getter above</p>\n"}, {"comments": [{"owner": {"reputation": 384, "user_id": 5669842, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/45e9787179248b7087973987d9f85bf2?s=128&d=identicon&r=PG&f=1", "display_name": "Nishakar", "link": "https://stackoverflow.com/users/5669842/nishakar"}, "edited": false, "score": 0, "creation_date": 1571206759, "post_id": 58406830, "comment_id": 103157886, "body": "Is this efficient than using <code>||</code>?"}, {"owner": {"reputation": 6894, "user_id": 7975771, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/zQ6RZ.jpg?s=128&g=1", "display_name": "varman", "link": "https://stackoverflow.com/users/7975771/varman"}, "reply_to_user": {"reputation": 384, "user_id": 5669842, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/45e9787179248b7087973987d9f85bf2?s=128&d=identicon&r=PG&f=1", "display_name": "Nishakar", "link": "https://stackoverflow.com/users/5669842/nishakar"}, "edited": false, "score": 0, "creation_date": 1571207093, "post_id": 58406830, "comment_id": 103158000, "body": "Of course yes. Dealing with the object/array is huge advantage when we have more data set."}], "tags": [], "owner": {"reputation": 6894, "user_id": 7975771, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/zQ6RZ.jpg?s=128&g=1", "display_name": "varman", "link": "https://stackoverflow.com/users/7975771/varman"}, "is_accepted": false, "score": 2, "last_activity_date": 1571207560, "last_edit_date": 1571207560, "creation_date": 1571206534, "answer_id": 58406830, "question_id": 58406104, "link": "https://stackoverflow.com/questions/58406104/how-filter-array-with-different-parameters-using-pipes/58406830#58406830", "title": "How filter array with different parameters using pipes", "body": "<pre><code> transform(employees: any[], searchTerm: string): any[] {\n\n    if (!employees || !searchTerm) {\n        return employees;\n    }\n\n    // remove the \"id\"\n    const { id, ...objWithoutID } = employee;\n    let values = Object.keys(objWithoutID).map(key =&gt; employee[key]);          \n    // If you want fast and have a very large array of words, call toLowerCase once-  \n    return values.join('|').toLowerCase().split('|').toString().indexOf(searchTerm.toString())!==-1\n    })\n}\n</code></pre>\n\n<p>Working <a href=\"https://stackblitz.com/edit/filter-pipe-kxyzqk\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n"}], "owner": {"reputation": 2041, "user_id": 8856403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77535584462dd31773dc4635c7f5f08c?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar", "link": "https://stackoverflow.com/users/8856403/shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 58406181, "answer_count": 4, "score": 1, "last_activity_date": 1571210328, "creation_date": 1571202611, "last_edit_date": 1571203229, "question_id": 58406104, "link": "https://stackoverflow.com/questions/58406104/how-filter-array-with-different-parameters-using-pipes", "title": "How filter array with different parameters using pipes", "body": "<p>My <code>JSON</code> file called <code>employee</code> looks like this:</p>\n\n<pre><code>[\n    {\n        \"id\": \"E01\",\n        \"name\": \"neetha\",\n        \"age\": 20,\n        \"gender\": \"female\",\n    },\n    {\n        \"id\": \"E02\",\n        \"name\": \"Kiran\",\n        \"age\": 24,\n        \"gender\": \"male\",\n    },\n   {\n        \"id\": \"E03\",\n        \"name\": \"Jhon\",\n        \"age\": 28,\n        \"gender\": \"male\",\n    }   \n]\n</code></pre>\n\n<p>I have an component called <code>list</code> where i am filtering this <code>employees</code> with their names using custom pipes like this:</p>\n\n<p><strong>list.component.html</strong></p>\n\n<pre><code>&lt;div&gt;\n    &lt;mat-form-field&gt;\n        &lt;input matInput [(ngModel)]=\"searchTerm\"  placeholder=\"Search\"&gt;\n    &lt;/mat-form-field&gt;\n    &lt;mat-selection-list class=\"list\"&gt;\n        &lt;mat-list-option   *ngFor=\"let employee of employees | employeeFilter : searchTerm; let i=index\"&gt;\n            &lt;a mat-list-item (click)=\"onSelect(employee,i)\"&gt;&lt;span&gt;{{employee.name}}&lt;/span&gt;&lt;/a&gt;\n        &lt;/mat-list-option&gt;\n    &lt;/mat-selection-list&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>employee-filter.pipe.ts</strong></p>\n\n<pre><code>import { PipeTransform, Pipe } from '@angular/core';\nimport { Employee } from '../models/employee.model';\n\n@Pipe({\n    name: 'employeeFilter'\n})\nexport class EmployeeFilterPipe implements PipeTransform {\n    transform(employees: Employee[], searchTerm: string): Employee[] {\n        if (!employees || !searchTerm) {\n            return employees;\n        }\n\n        return employees.filter(employee =&gt;\n            employee.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1);\n    }\n}\n</code></pre>\n\n<p>Now the i am filtering using the <code>name</code> property, but i want to filter using <code>age</code>,<code>gender</code> along with <code>name</code>. Using the same input field i want to filter. How can i achieve this?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "npm"], "comments": [{"owner": {"reputation": 3835, "user_id": 136054, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0aef03d945bfe5810e2670f794b06f1f?s=128&d=identicon&r=PG", "display_name": "nayakam", "link": "https://stackoverflow.com/users/136054/nayakam"}, "edited": false, "score": 0, "creation_date": 1571203634, "post_id": 58406005, "comment_id": 103156770, "body": "<a href=\"https://stackoverflow.com/questions/42308879/npm-err-code-elifecycle\" title=\"npm err code elifecycle\">stackoverflow.com/questions/42308879/npm-err-code-elifecycle</a>"}, {"owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "reply_to_user": {"reputation": 3835, "user_id": 136054, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0aef03d945bfe5810e2670f794b06f1f?s=128&d=identicon&r=PG", "display_name": "nayakam", "link": "https://stackoverflow.com/users/136054/nayakam"}, "edited": false, "score": 0, "creation_date": 1571203822, "post_id": 58406005, "comment_id": 103156836, "body": "yeah i tried to follow suggestions from there, doesn&#39;t help."}, {"owner": {"reputation": 2317, "user_id": 2076949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820f081690c4d46479e003ec9b5f8b09?s=128&d=identicon&r=PG", "display_name": "darklightcode", "link": "https://stackoverflow.com/users/2076949/darklightcode"}, "edited": false, "score": 0, "creation_date": 1571208076, "post_id": 58406005, "comment_id": 103158419, "body": "If you&#39;re trying that from windows, it won&#39;t work. Use the package <a href=\"https://www.npmjs.com/package/cross-env\" rel=\"nofollow noreferrer\">cross-env</a> to do that"}, {"owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "edited": false, "score": 0, "creation_date": 1571208626, "post_id": 58406005, "comment_id": 103158673, "body": "from linux, but it&#39;s not related to the env variables at all."}, {"owner": {"reputation": 5987, "user_id": 1555615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BwrUZ.jpg?s=128&g=1", "display_name": "Marinos An", "link": "https://stackoverflow.com/users/1555615/marinos-an"}, "edited": false, "score": 0, "creation_date": 1571652909, "post_id": 58406005, "comment_id": 103299454, "body": "Did you try adding &#39;d&#39;s to the command line? e.g. <a href=\"https://docs.npmjs.com/misc/config#shorthands-and-other-cli-niceties\" rel=\"nofollow noreferrer\"><code>-d</code>, <code>-dd</code> or even <code>-ddd</code></a>?  Or you could add <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">diagnostics, extendedDiagnostics</a> on typescript <code>compilerOptions</code>"}, {"owner": {"reputation": 1203, "user_id": 2724244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9936b060fdad3bbb4d385585f8c6b553?s=128&d=identicon&r=PG&f=1", "display_name": "Mert", "link": "https://stackoverflow.com/users/2724244/mert"}, "edited": false, "score": 1, "creation_date": 1571667338, "post_id": 58406005, "comment_id": 103306872, "body": "Most of the time the console output before this output defines the error. But is there also nothing have a look in the log file which npm generates on error. The location is also display after &quot;npm ERR! A complete log of this run can be found in:&quot;"}, {"owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "edited": false, "score": 0, "creation_date": 1571669883, "post_id": 58406005, "comment_id": 103308275, "body": "yeah but that is a complete log output of the error. starting from <code>npm ERR! code ELIFECYCLE</code>, ending <code>can be found in:</code> path. log file simply contains the same message. again, i&#39;m not talking about the particular issue here, but about how to debug such kind of issues when there is basically no debug output available."}, {"owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "edited": false, "score": 0, "creation_date": 1571670475, "post_id": 58406005, "comment_id": 103308618, "body": "i did try <code>-d</code>&#39;s but it doesn&#39;t provide any meaningful information related to the possible cause - just a detailed <code>npm</code> lifecycle log"}, {"owner": {"reputation": 1223, "user_id": 3645375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba0dfc80b363486da9d9c92e429e745?s=128&d=identicon&r=PG&f=1", "display_name": "Bernardo Dal Corno", "link": "https://stackoverflow.com/users/3645375/bernardo-dal-corno"}, "edited": false, "score": 0, "creation_date": 1571756285, "post_id": 58406005, "comment_id": 103342277, "body": "It couldn&#39;t spawn the process. Check permissions of files and folders, specially node_modules. Delete package-lock.json and/or run npm install. If once worked, compare changes in git to see what could had happen, check missing files. Also check RAM available."}, {"owner": {"reputation": 2234, "user_id": 7927036, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/j8HJn.png?s=128&g=1", "display_name": "Matt Croak", "link": "https://stackoverflow.com/users/7927036/matt-croak"}, "edited": false, "score": 0, "creation_date": 1571846270, "post_id": 58406005, "comment_id": 103378018, "body": "I found <a href=\"https://www.reddit.com/r/node/comments/ch9d2e/i_cannot_run_server_npm_err_code_elifecycle_npm/eur8o37/\" rel=\"nofollow noreferrer\">this</a> Reddit thread that describes an issue similar to yours. A few things to try: changing your port number to something higher than 1024. Do you have <code>.babelrc</code> and is it configured/configured properly? Also try <code>npm cache clean --force</code>, <code>delete node_modules</code>, <code>npm i</code>. Also, does the issue persist even when restarting the editor?"}, {"owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "edited": false, "score": 0, "creation_date": 1571896156, "post_id": 58406005, "comment_id": 103392642, "body": "i tried removing <code>node_modules</code>, cleaning cache, etc. i don&#39;t use babel.  that particular issue was with some imports, but the question, again is about the debugging approach towards such issues when there is no anyhow detailed problem log available"}, {"owner": {"reputation": 1223, "user_id": 3645375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba0dfc80b363486da9d9c92e429e745?s=128&d=identicon&r=PG&f=1", "display_name": "Bernardo Dal Corno", "link": "https://stackoverflow.com/users/3645375/bernardo-dal-corno"}, "edited": false, "score": 0, "creation_date": 1571936166, "post_id": 58406005, "comment_id": 103412968, "body": "the thing is there&#39;s not a golden rule, we can just go through a checklist, trial and error, scientifically eliminating variables. (a good approach is to start with &quot;bigger&quot; variables)"}, {"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "edited": false, "score": 1, "creation_date": 1571957801, "post_id": 58406005, "comment_id": 103421072, "body": "There is no tool for debuting to compilation. They have that in theirs roadmap, but it is yet to be stared to be worked on."}], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 12271214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04a281fa7e0981c58e3f5157f90ede8f?s=128&d=identicon&r=PG&f=1", "display_name": "Porcellus", "link": "https://stackoverflow.com/users/12271214/porcellus"}, "is_accepted": false, "score": 1, "last_activity_date": 1571957140, "creation_date": 1571957140, "answer_id": 58550076, "question_id": 58406005, "link": "https://stackoverflow.com/questions/58406005/debugging-npm-err-code-elifecycle-npm-err-errno-1/58550076#58550076", "title": "debugging npm ERR! code ELIFECYCLE npm ERR! errno 1", "body": "<p>I would start with debugging the compiled script (not minified though) because it removes some intermediate steps between your input and your results. There are multiple methods I tend to debug these issues:</p>\n\n<ul>\n<li>First I recommend experimenting with <code>NODE_DEBUG</code> flags like:\n<code>NODE_DEBUG=module node build/server.js</code> if you suspect the issue is with module loading.</li>\n<li>You can try  <code>node --inspect-brk build/server.js</code> and starting an inspector to step through it (e.g. in Chrome). This is most helpful if your code actually has managed to load, but can sometimes help with custom loaders.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 45496, "user_id": 436560, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2GESV.jpg?s=128&g=1", "display_name": "Lajos Arpad", "link": "https://stackoverflow.com/users/436560/lajos-arpad"}, "is_accepted": false, "score": 0, "last_activity_date": 1571958748, "creation_date": 1571958748, "answer_id": 58550272, "question_id": 58406005, "link": "https://stackoverflow.com/questions/58406005/debugging-npm-err-code-elifecycle-npm-err-errno-1/58550272#58550272", "title": "debugging npm ERR! code ELIFECYCLE npm ERR! errno 1", "body": "<p>As you have stated, the logs are not very detailed, so I would not invest energy into finding out how to debug an undetailed log file, but rather I would find out how to modify my project so that it does some more detailed logging, after each major step, so if it fails at some point, you will see what was successfully executed, what states it ran through and you will not see the logging that you have planned from the point of crashing.</p>\n"}, {"tags": [], "owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "is_accepted": true, "score": 0, "last_activity_date": 1572411454, "creation_date": 1572411454, "answer_id": 58618998, "question_id": 58406005, "link": "https://stackoverflow.com/questions/58406005/debugging-npm-err-code-elifecycle-npm-err-errno-1/58618998#58618998", "title": "debugging npm ERR! code ELIFECYCLE npm ERR! errno 1", "body": "<p>based on @Porcellus answer, was able to fix this issues with <code>NODE_DEBUG=*</code> flag => shown a complete stacktrace of missing modules.</p>\n"}, {"comments": [{"owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "edited": false, "score": 0, "creation_date": 1576637374, "post_id": 59366389, "comment_id": 104961210, "body": "probably thats is helped your issue, but my question was morebroad - how to debug this kind of things. and the solution was to use <code>NODE_DEBUG=*</code> flag."}], "tags": [], "owner": {"reputation": 39, "user_id": 12548934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646d701e029c738ed95fb372b5add9ed?s=128&d=identicon&r=PG&f=1", "display_name": "SelcukBah", "link": "https://stackoverflow.com/users/12548934/selcukbah"}, "is_accepted": false, "score": 4, "last_activity_date": 1576545834, "creation_date": 1576545834, "answer_id": 59366389, "question_id": 58406005, "link": "https://stackoverflow.com/questions/58406005/debugging-npm-err-code-elifecycle-npm-err-errno-1/59366389#59366389", "title": "debugging npm ERR! code ELIFECYCLE npm ERR! errno 1", "body": "<p>I solved this problem first delete to package-lock.json\nwrite console\n - npm test<br>\n(if there isn't any problem in npm installing probably problem is in server)</p>\n\n<ul>\n<li>npm install -g serve </li>\n<li>npm run build</li>\n</ul>\n\n<p>the problem is solved..\nif you want to use your local you can enter</p>\n\n<ul>\n<li>serve -s build\nthats all- Good Luck :)</li>\n</ul>\n"}], "owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3370, "favorite_count": 0, "accepted_answer_id": 58618998, "answer_count": 4, "score": 4, "last_activity_date": 1576545834, "creation_date": 1571201837, "last_edit_date": 1571372358, "question_id": 58406005, "link": "https://stackoverflow.com/questions/58406005/debugging-npm-err-code-elifecycle-npm-err-errno-1", "title": "debugging npm ERR! code ELIFECYCLE npm ERR! errno 1", "body": "<p>Asking for an advise on how to debug this compiler error:</p>\n\n<pre><code>npm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! ******@1.1.0 dev: `NODE_ENV=development ts-node ./src/server.ts`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the ******@1.1.0 dev script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\n</code></pre>\n\n<p>this appears when running <code>ts-node ./src/server.ts</code> or <code>node build/server.js</code></p>\n\n<p><code>tsc</code> works without errors.</p>\n\n<p><code>tsconfig.json</code>:</p>\n\n<pre><code>{\n   \"compilerOptions\": {\n      \"lib\": [\n         \"es2018\",\n         \"dom\",\n         \"esnext.asynciterable\"\n      ],\n      \"target\": \"es2018\",\n      \"module\": \"commonjs\",\n      \"outDir\": \"build\",\n      \"emitDecoratorMetadata\": true,\n      \"experimentalDecorators\": true,\n      \"esModuleInterop\": true,\n      \"sourceMap\": false,\n      \"rootDirs\": [\"src\", \"../shared\"]\n//      \"rootDir\": \"src\"\n   },\n   \"exclude\": [\n      \"node_modules\",\n      \"**/*.spec.ts\",\n      \"**/*.test.ts\"\n   ],\n   \"references\": [\n      { \"path\": \"../shared\" }\n   ]\n}\n</code></pre>\n\n<p>I did made some changes in tsconfig which i suppose cause some imports to fail, however the codebase is huge and i really need some pointers to the exact lines in code which caused the error. especially confusing the <code>tsc</code> runs without errors.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>The issue was with some imports and fixed, However facing similar one again. Know the reason of the current issue - for some reason the imports from shared project (as in here <a href=\"https://www.typescriptlang.org/docs/handbook/project-references.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/project-references.html</a>) are not loaded (despite that they are working in other modules and tsconfig.json is the same with other modules). no particular error, just this <code>npm ERR! code ELIFECYCLE npm ERR! errno 1</code>.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>However the main question of this topic is not the solution of the particularly this problem, but how to debug this kind of import problems where all available log is basically <code>npm ERR! code ELIFECYCLE npm ERR! errno 1</code>. I am facing this kind of issues periodically and every time it takes a lot of time to resolve since the only way to debug i know about is to comment chunks of code which might be associated with the possibly failed imports and sometimes this process could take hours.</p>\n"}, {"tags": ["reactjs", "typescript", "redux-saga", "saga"], "answers": [{"tags": [], "owner": {"reputation": 9953, "user_id": 8012206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z0Yl9.jpg?s=128&g=1", "display_name": "Joseph D.", "link": "https://stackoverflow.com/users/8012206/joseph-d"}, "is_accepted": false, "score": 1, "last_activity_date": 1571202787, "creation_date": 1571202787, "answer_id": 58406136, "question_id": 58405916, "link": "https://stackoverflow.com/questions/58405916/pass-payload-from-one-saga-to-another-saga/58406136#58406136", "title": "Pass payload from one saga to another saga", "body": "<p>You should have a <code>payload</code> key when dispatching as you are using <code>action.payload</code> within <code>fetchTokens()</code>.</p>\n\n<pre><code>yield put({\n  type: types.FETCH_TOKENS,\n  payload: USER_CREDS // add payload\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 932, "user_id": 279183, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5df43f2d159d197c4ae9dbd8d9280b3c?s=128&d=identicon&r=PG&f=1", "display_name": "adredx", "link": "https://stackoverflow.com/users/279183/adredx"}, "edited": false, "score": 0, "creation_date": 1571203015, "post_id": 58406142, "comment_id": 103156569, "body": "Isn&#39;t calling action creator directly discouraged by saga as it&#39;s hard to test?"}, {"owner": {"reputation": 4819, "user_id": 11847125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be47a50b0a0c3b973a8602b84821db9?s=128&d=identicon&r=PG&f=1", "display_name": "azundo", "link": "https://stackoverflow.com/users/11847125/azundo"}, "reply_to_user": {"reputation": 932, "user_id": 279183, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5df43f2d159d197c4ae9dbd8d9280b3c?s=128&d=identicon&r=PG&f=1", "display_name": "adredx", "link": "https://stackoverflow.com/users/279183/adredx"}, "edited": false, "score": 1, "creation_date": 1571203271, "post_id": 58406142, "comment_id": 103156650, "body": "Not in my experience, no. The testing docs from redux-saga (<a href=\"https://redux-saga.js.org/docs/advanced/Testing.html\" rel=\"nofollow noreferrer\">redux-saga.js.org/docs/advanced/Testing.html</a>) show how to test when using action creators (in their example the <code>changeUI</code> action creator."}], "tags": [], "owner": {"reputation": 4819, "user_id": 11847125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be47a50b0a0c3b973a8602b84821db9?s=128&d=identicon&r=PG&f=1", "display_name": "azundo", "link": "https://stackoverflow.com/users/11847125/azundo"}, "is_accepted": true, "score": 2, "last_activity_date": 1571202823, "creation_date": 1571202823, "answer_id": 58406142, "question_id": 58405916, "link": "https://stackoverflow.com/questions/58405916/pass-payload-from-one-saga-to-another-saga/58406142#58406142", "title": "Pass payload from one saga to another saga", "body": "<p>You're directly dispatching a raw object, not using an action creator, so you need to put <code>USER_CREDS</code> under the payload key:</p>\n\n<p><code>yield put({ type: types.FETCH_TOKENS, payload: USER_CREDS })</code></p>\n\n<p>If you have an action creator like </p>\n\n<pre><code>function fetchTokensActionCreator(userCreds) {\n  return {\n    type: types.FETCH_TOKENS,\n    payload: userCreds,\n  };\n}\n</code></pre>\n\n<p>you can instead do <code>yield put(fetchTokensActionCreator(USER_CREDS));</code></p>\n"}], "owner": {"reputation": 932, "user_id": 279183, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5df43f2d159d197c4ae9dbd8d9280b3c?s=128&d=identicon&r=PG&f=1", "display_name": "adredx", "link": "https://stackoverflow.com/users/279183/adredx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 58406142, "answer_count": 2, "score": 1, "last_activity_date": 1571202823, "creation_date": 1571201120, "last_edit_date": 1571202431, "question_id": 58405916, "link": "https://stackoverflow.com/questions/58405916/pass-payload-from-one-saga-to-another-saga", "title": "Pass payload from one saga to another saga", "body": "<p>I need to pass payload from <code>fromSaga</code> to <code>toSaga</code>. The problem is it seems that <code>toSaga</code> does not get the payload. However, if I dispatch an action via useEffect, <code>toSaga</code> gets the payload. My observation is that, if you dispatch an action from <code>fromSaga</code> it skips the action creator and goes directly to <code>toSaga</code>. As a result, no payload is sent to <code>toSaga</code>. Here's the real code: </p>\n\n<pre><code>const fetchTokens = function*(action: any) {\n    try {\n        const userCreds: any = toSnakeCase(action.payload) // action.payload is undefined here\n        const response: any = yield call(fetchTokensApi, userCreds)\n\n        if (response.status === 200) {\n            const data: any = response.data.data\n            const tokens: Tokens = {\n               accessToken: data.access_token,\n               refreshToken: data.refresh_token,\n               expiry: extractExpiry(data.access_token),\n           }\n           yield put({ type: types.FETCH_TOKENS_SUCCESS, tokens})\n       }\n    } catch (error) {\n        yield put({ type: types.FETCH_TOKENS_FAILURE, error })\n    }\n}\n\nexport const fetchTokensSaga = function*() {\n   yield takeLatest(types.FETCH_TOKENS, fetchTokens)\n}\n\nconst validateAccessToken = function*() {\n    try {\n        const tokens: Tokens = yield select(tokensSelector)\n\n        if (!tokens) {\n            yield put({ type: types.FETCH_TOKENS, USER_CREDS })\n        }\n    } catch (error) {\n        yield put({ type: types.FETCH_TOKENS_FAILURE, error })\n    }\n}\n</code></pre>\n\n<p>In <code>validateAccessToken</code>, <code>fetchTokensSaga</code> is called via:</p>\n\n<pre><code>yield put({ type: types.FETCH_TOKENS, USER_CREDS })\n</code></pre>\n\n<p><code>fetchTokens</code> should then get the <code>USER_CREDS</code>. However, it's not the case as <code>payload</code> is always <code>undefined</code>. What should I do so <code>fetchTokens</code> gets the <code>USER_CREDS</code> payload?</p>\n"}, {"tags": ["node.js", "typescript", "validation", "joi"], "comments": [{"owner": {"reputation": 2292, "user_id": 4502035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38a1b21c3e83f9d10aaa56c93f6150a?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4502035/andreas"}, "edited": false, "score": 0, "creation_date": 1571200578, "post_id": 58405593, "comment_id": 103156039, "body": "The question doesn&#39;t appear to include any attempt at all to solve the problem. Please edit the question to show what you&#39;ve tried, and show a specific roadblock you&#39;re running into with <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. For more information, please see <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1602, "user_id": 7620644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b256abfbb81d285f3279e500439fbdb7?s=128&d=identicon&r=PG&f=1", "display_name": "mohammad javad ahmadi", "link": "https://stackoverflow.com/users/7620644/mohammad-javad-ahmadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1571218558, "creation_date": 1571218558, "answer_id": 58410208, "question_id": 58405593, "link": "https://stackoverflow.com/questions/58405593/how-to-use-array-items-in-joiful-validation/58410208#58410208", "title": "How to use array.items in joiful validation?", "body": "<p>I read <a href=\"https://github.com/hapijs/joi/blob/v8.0.5/API.md#array\" rel=\"nofollow noreferrer\">joi array</a> and help full for me, you can use this pattern.its work</p>\n\n<pre><code>const Joi = require('joi');\n\nconst schema = Joi.object().keys({\n    username: Joi.string().alphanum().min(3).max(30).required(),\n    password: Joi.string().regex(/^[a-zA-Z0-9]{3,30}$/),\n    access_token: [Joi.string(), Joi.number()],\n    birthyear: Joi.number().integer().min(1900).max(2013),\n    email: Joi.string().email({ minDomainAtoms: 2 })\n}).with('username', 'birthyear').without('password', 'access_token');\n\n// Return result.\nvar services = Joi.array().items(schema);\nconst result = Joi.validate([{ username: 'abc', birthyear: 1994 }, { username: 'abc', birthyear: 1994 }], services);\nconsole.log(result)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1763, "user_id": 1238317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nWFwS.jpg?s=128&g=1", "display_name": "fider", "link": "https://stackoverflow.com/users/1238317/fider"}, "is_accepted": false, "score": 0, "last_activity_date": 1603976795, "creation_date": 1603976795, "answer_id": 64591713, "question_id": 58405593, "link": "https://stackoverflow.com/questions/58405593/how-to-use-array-items-in-joiful-validation/64591713#64591713", "title": "How to use array.items in joiful validation?", "body": "<p>Without <code>items</code>:</p>\n<pre><code>@jf.array({ elementClass: ClassWithJoifulDecorators })\n@jf.array({ elementClass: String })\n</code></pre>\n<p>With <code>items</code> (useless, you can use <code>elemetClass</code> syntax from above example)</p>\n<pre><code>@jf.array().items(joi =&gt; joi.object( SchemaYouCanReplaceWithAboveSyntax))\n@jf.array().items(joi =&gt; joi.string())\n</code></pre>\n<p>The only required usage of <code>items</code> in joful:</p>\n<pre><code>@jf.array().items(joi =&gt; joi.valid(['list', 'of', 'exclusive' 'values']))\n</code></pre>\n<p><code>Items</code> should be used in case of whitelisting array values because <code>valid</code> decorator is not working as expected:</p>\n<pre><code>// This will not work as expected\n@jf.array().valid(['list', 'of', 'exclusive' 'values'])\n</code></pre>\n"}], "owner": {"reputation": 516, "user_id": 9614586, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VJS31giU8OA/AAAAAAAAAAI/AAAAAAAAAEo/_T-FdC7lwDo/photo.jpg?sz=128", "display_name": "hari prasanth", "link": "https://stackoverflow.com/users/9614586/hari-prasanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1603976795, "creation_date": 1571198489, "question_id": 58405593, "link": "https://stackoverflow.com/questions/58405593/how-to-use-array-items-in-joiful-validation", "title": "How to use array.items in joiful validation?", "body": "<pre><code> @jf.array().items()required() \n</code></pre>\n\n<p>I tried to array.items validation code using joyful. but I do no how to give items in joiful validation can you give some example code or link  </p>\n"}, {"tags": ["angular", "typescript", "firebase"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 8605746, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Q5IAwCIsTDo/AAAAAAAAAAI/AAAAAAAAAGw/X_11L4SZFa8/photo.jpg?sz=128", "display_name": "IDavidJr _", "link": "https://stackoverflow.com/users/8605746/idavidjr"}, "edited": false, "score": 0, "creation_date": 1571255549, "post_id": 58405631, "comment_id": 103183674, "body": "I change all private fields to public and I am still getting the same errors."}, {"owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "reply_to_user": {"reputation": 41, "user_id": 8605746, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Q5IAwCIsTDo/AAAAAAAAAAI/AAAAAAAAAGw/X_11L4SZFa8/photo.jpg?sz=128", "display_name": "IDavidJr _", "link": "https://stackoverflow.com/users/8605746/idavidjr"}, "edited": false, "score": 0, "creation_date": 1571284374, "post_id": 58405631, "comment_id": 103191155, "body": "It has nothing to do with your own code but with the <code>angular5-data-table</code> module you&#39;re currently using"}], "tags": [], "owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "is_accepted": false, "score": 0, "last_activity_date": 1571286171, "last_edit_date": 1571286171, "creation_date": 1571198762, "answer_id": 58405631, "question_id": 58405150, "link": "https://stackoverflow.com/questions/58405150/getting-data-table-errors-when-trying-to-build-angular-application-in-production/58405631#58405631", "title": "Getting data-table errors when trying to build angular application in production", "body": "<p>The problem lies within <code>angular5-data-table</code>. Its <a href=\"https://github.com/brunano21/angular-4-data-table/blob/master/libs/datatable/src/components/table/table.component.html\" rel=\"nofollow noreferrer\">DataTable.html</a> tries to access the private method <code>resizeColumnStart</code> of <a href=\"https://github.com/brunano21/angular-4-data-table/blob/master/libs/datatable/src/components/table/table.component.ts\" rel=\"nofollow noreferrer\">DataTableComponent</a> class. </p>\n\n<p>Why this doesn't work when building your <code>Angular</code> application for production (with AOT), is explained at <a href=\"https://stackoverflow.com/a/43177386/2358409\">https://stackoverflow.com/a/43177386/2358409</a>.</p>\n\n<p>Please note that according to Angular documentation (<a href=\"https://angular.io/guide/aot-compiler#choosing-a-compiler\" rel=\"nofollow noreferrer\">Coosing a compiler</a>),  <code>ng build --prod</code> compiles with AOT by default. Hence your problem could be solved in the following two ways. </p>\n\n<ol>\n<li>Replace <code>angular5-data-table</code> module by an up-to-date table module (i.e. <a href=\"https://material.angular.io/components/table/overview\" rel=\"nofollow noreferrer\">Angular Material Table</a>) </li>\n<li>Disable AOT when building the application for production (<code>ng build --prod --aot=false</code>)</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 12224005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DWtYp.jpg?s=128&g=1", "display_name": "AmirHamza Sabuz", "link": "https://stackoverflow.com/users/12224005/amirhamza-sabuz"}, "is_accepted": true, "score": 2, "last_activity_date": 1571314897, "creation_date": 1571314897, "answer_id": 58432551, "question_id": 58405150, "link": "https://stackoverflow.com/questions/58405150/getting-data-table-errors-when-trying-to-build-angular-application-in-production/58432551#58432551", "title": "Getting data-table errors when trying to build angular application in production", "body": "<p>You have to avoid the AOT. So write </p>\n\n<pre><code>ng b --prod --aot=false --build-optimizer=false\n</code></pre>\n\n<p>I think it will work.</p>\n"}], "owner": {"reputation": 41, "user_id": 8605746, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Q5IAwCIsTDo/AAAAAAAAAAI/AAAAAAAAAGw/X_11L4SZFa8/photo.jpg?sz=128", "display_name": "IDavidJr _", "link": "https://stackoverflow.com/users/8605746/idavidjr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 2, "accepted_answer_id": 58432551, "answer_count": 2, "score": 0, "last_activity_date": 1571314897, "creation_date": 1571194986, "question_id": 58405150, "link": "https://stackoverflow.com/questions/58405150/getting-data-table-errors-when-trying-to-build-angular-application-in-production", "title": "Getting data-table errors when trying to build angular application in production", "body": "<p>Whenever I do <code>ng build --prod</code> on terminal I get the following errors. I have been doing some reading and it says the I need to change the private keyword to public on my constructor but I have tried that and it did not work. </p>\n\n<p><code>ERROR in node_modules/angular5-data-table/angular5-data-table.d.ts.DataTable.html(52,19): : Property 'resizeColumnStart' is private and only accessible within class 'DataTableComponehin class 'DataTableComponent'.\nnode_modules/angular5-data-table/angular5-data-table.d.ts.DataTable.html(66,19): : Property 'resizeColumnStart' is private and only accessible within class 'DataTableComponent'. 'DataTableComponent'.\nnode_modules/angular5-data-table/angular5-data-table.d.ts.DataTable.html(35,71): : Expected 2 arguments, but got 1.</code></p>\n\n<p>Below is where I use data-table in my html file. I tried removing [resizeable] to try to fix the last error but that did not work.</p>\n\n<pre><code>    &lt;p&gt;\n    &lt;a routerLink=\"/admin/products/new\" class=\"btn btn-primary\"&gt;New Product&lt;/a&gt;\n&lt;/p&gt;\n&lt;p&gt;\n    &lt;input #query (keyup)=\"filter(query.value)\" type=\"text\" class=\"form-control\" placeholder=\"Search...\"&gt;\n&lt;/p&gt;\n\n&lt;data-table [items]=\"items\" [itemCount]=\"itemCount\" (reload)=\"reloadItems($event)\"&gt;\n    &lt;data-table-column [property]=\"'title'\" [header]=\"'Title'\" [sortable]=\"true\" [resizable]=\"true\"&gt; &lt;/data-table-column&gt;\n    &lt;data-table-column [property]=\"'price'\" [header]=\"'Price'\" [sortable]=\"true\" [resizable]=\"true\"&gt;\n        &lt;ng-template #dataTableCell let-item=\"item\"&gt;\n            {{ item.price | currency:'USD':true }}\n        &lt;/ng-template&gt;\n    &lt;/data-table-column&gt;\n    &lt;data-table-column [property]=\"'key'\"&gt;\n        &lt;ng-template #dataTableCell let-item=\"item\"&gt;\n            &lt;a [routerLink]=\"['/admin/products/', item.key]\"&gt;Edit&lt;/a&gt;\n        &lt;/ng-template&gt;\n    &lt;/data-table-column&gt;\n&lt;/data-table&gt;\n</code></pre>\n\n<p>The component where I tried to make the productService to public from private from the reading that I have been doing, but that did not work: </p>\n\n<pre><code>import { Product } from 'shared/models/product';\nimport { ProductService } from 'shared/services/product.service';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AngularFireList } from '@angular/fire/database';\nimport { map } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\nimport { DataTableResource } from 'angular5-data-table';\n\n@Component({\n  selector: 'app-admin-products',\n  templateUrl: './admin-products.component.html',\n  styleUrls: ['./admin-products.component.css']\n})\nexport class AdminProductsComponent implements OnInit, OnDestroy {\n  products: Product[];\n  subscription: Subscription;\n  tableResource: DataTableResource&lt;Product&gt;;\n  items: Product[] = [];\n  itemCount: number; \n\n  constructor(private productService: ProductService) { \n    this.subscription = this.productService.getAll()\n      .subscribe((products: any[] )=&gt; {\n        this.products = products;\n        this.initializeTable(products);\n      });\n  }\n\n  private initializeTable(products: Product[]) {\n    this.tableResource = new DataTableResource(products);\n    this.tableResource.query({ offset: 0 })\n      .then(items =&gt; this.items = items);\n    this.tableResource.count()\n      .then(count =&gt; this.itemCount = count);\n  }\n\n  reloadItems(params) {\n    if(!this.tableResource) return;\n    this.tableResource.query({ params })\n      .then(items =&gt; this.items = items);\n  }\n\n  filter(query: string) {\n    let filteredProducts = (query) ?\n      this.products.filter(p =&gt; p.title.toLowerCase().includes(query.toLowerCase())) : \n      this.products;\n\n    this.initializeTable(filteredProducts);\n  }\n\n  ngOnInit() {\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 1776, "user_id": 9011723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20385cc990720ff64499b9de3b52fc70?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Ghignatti", "link": "https://stackoverflow.com/users/9011723/jo%c3%a3o-ghignatti"}, "edited": false, "score": 0, "creation_date": 1571194768, "post_id": 58404997, "comment_id": 103154916, "body": "Under <code>creditCardNumberValidators</code>, changing it to <code>isVisa.test(c.value.replace(\\&#47;s\\g, &#39;&#39;))</code> works for me. Tried with Stripe&#39;s test card 4242 4242 4242 4242."}, {"owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "reply_to_user": {"reputation": 1776, "user_id": 9011723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20385cc990720ff64499b9de3b52fc70?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Ghignatti", "link": "https://stackoverflow.com/users/9011723/jo%c3%a3o-ghignatti"}, "edited": false, "score": 0, "creation_date": 1571198535, "post_id": 58404997, "comment_id": 103155593, "body": "im try, but the form still invalid, it only true when <code>4444 4444 4444 4</code>, it count space too"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1571197603, "post_id": 58405137, "comment_id": 103155422, "body": "try on your stackblitz, the form still invalid"}, {"owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1571198398, "post_id": 58405137, "comment_id": 103155570, "body": "try and error found out the form only valid when <code>4444 4444 4444 4</code>, it count space too"}, {"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "reply_to_user": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1571198884, "post_id": 58405137, "comment_id": 103155692, "body": "@hafizi - It is not counting space. You can add <code>console.log(cardNumber);</code> to see that the number doesn&#39;t have space when validating. What is the input for which you are getting invalid? Take a look at <a href=\"https://www.regular-expressions.info/creditcard.html\" rel=\"nofollow noreferrer\">regular-expressions.info/creditcard.html</a> to see valid regex for Visa cards."}, {"owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1571200245, "post_id": 58405137, "comment_id": 103155963, "body": "forked your stackblitz, the form still invalid until it got 16 character, here i attached gif <a href=\"https://imgur.com/a/HiWl9SA\" rel=\"nofollow noreferrer\">imgur.com/a/HiWl9SA</a>.... your stackblitz forked..<a href=\"https://stackblitz.com/edit/angular-reactive-forms-fee9hu?file=app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-reactive-forms-fee9hu?fi&zwnj;&#8203;le=app/&hellip;</a>  @Nikhil"}, {"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "reply_to_user": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1571200750, "post_id": 58405137, "comment_id": 103156076, "body": "@hafizi - Visa Cards have 13 or 16 digits. So when number of characters are 13 or 16, the form is showing as valid. This is the expected output. What are you expecting to happen? Do you want to only validate after user submits the form?"}, {"owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1571201236, "post_id": 58405137, "comment_id": 103156161, "body": "let say I enter <code>4444 4444 4444 4444</code> , the supposed to be the form valid right ? but the form still invalid"}, {"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "reply_to_user": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1571201436, "post_id": 58405137, "comment_id": 103156201, "body": "@hafizi - It is valid and it showing as valid too. Check again."}], "tags": [], "owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "is_accepted": true, "score": 1, "last_activity_date": 1571195575, "last_edit_date": 1571195575, "creation_date": 1571194843, "answer_id": 58405137, "question_id": 58404997, "link": "https://stackoverflow.com/questions/58404997/validation-of-input-mask-in-fromgroup/58405137#58405137", "title": "validation of input mask in FromGroup", "body": "<p>Use the same regex you are using but remove spaces from card number before validating.</p>\n\n<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split\" rel=\"nofollow noreferrer\">String.split()</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join\" rel=\"nofollow noreferrer\">Array.join()</a> to do that.</p>\n\n<pre><code>function creditCardNumberValidators(c: FormControl) {\n  const isVisa = /^(?:4[0-9]{12}(?:[0-9]{3})?)$/;\n\n  // Remove spaces.\n  let cardNumber = c.value.trim().split(' ').join('');\n\n  return isVisa.test(cardNumber)\n    ? null\n    : {\n        validateInput: {\n          valid: false,\n        },\n      };\n}\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow noreferrer\">String.replace()</a> can also be used to remove spaces.</p>\n\n<pre><code>let cardNumber = c.value.replace(/\\s/g, '');\n</code></pre>\n\n<p><strong>Live demo on StackBlitz:</strong> <a href=\"https://stackblitz.com/edit/angular-reactive-forms-12jq6d\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-reactive-forms-12jq6d</a></p>\n"}], "owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 2, "accepted_answer_id": 58405137, "answer_count": 1, "score": 1, "last_activity_date": 1571195575, "creation_date": 1571193731, "last_edit_date": 1571194042, "question_id": 58404997, "link": "https://stackoverflow.com/questions/58404997/validation-of-input-mask-in-fromgroup", "title": "validation of input mask in FromGroup", "body": "<p>I got example of credit card <code>FormGroup</code>, using Angular <code>directive</code>, I created <code>input mask</code> for input <code>4444444444444444</code> became <code>4444 4444 4444 4444</code>, but the problem is I got regex validation\nwhich do not accept <code>space</code>. this is what I had tried,</p>\n\n<p><strong>ts.file</strong></p>\n\n<pre><code>  {\n    this.creditCardForm = builder.group({\n      creditCardNumber: ['', [creditCardNumberValidators]]\n    });\n\n  }   \n}\n\nfunction creditCardNumberValidators(c: FormControl) {\n  const isVisa = /^(?:4[0-9]{12}(?:[0-9]{3})?)$/;\n\n  return isVisa.test(c.value)\n    ? null\n    : {\n        validateInput: {\n          valid: false,\n        },\n      };\n}\n\n\n\n@Directive({\n  selector: '[creditCardMask]',\n})\nexport class CreditCardMaskDirective {\n  @HostListener('input', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    const input = event.target as HTMLInputElement;\n\n    let trimmed = input.value.replace(/\\s+/g, '');\n    if (trimmed.length &gt; 16) {\n      trimmed = trimmed.substr(0, 16);\n    }\n\n    const numbers = [];\n    for (let i = 0; i &lt; trimmed.length; i += 4) {\n      numbers.push(trimmed.substr(i, 4));\n    }\n\n    input.value = numbers.join(' ');\n  }\n}\n</code></pre>\n\n<p>and this is my <a href=\"https://stackblitz.com/edit/angular-reactive-forms-qz2nst?file=app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz demo</a>, based on my finding I can have 2 solutions: </p>\n\n<ul>\n<li>find regex that accept space</li>\n<li>change <code>creditCardNumber</code> value (remove space) using <code>.replace(/\\s/g,\n'')</code> and <code>.toString()</code>, but the problem is i not sure how to change\nvalue before it populate into FormGroup for validation</li>\n</ul>\n\n<p>need suggestion and if there are better practice to solve this, thanks</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 10495091, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iL_qcyUe0Qo/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV3-0zZbXPhZppoqKxWiOnNRLTGng/mo/photo.jpg?sz=128", "display_name": "wrsx", "link": "https://stackoverflow.com/users/10495091/wrsx"}, "is_accepted": false, "score": 2, "last_activity_date": 1571207177, "last_edit_date": 1571207177, "creation_date": 1571193768, "answer_id": 58405003, "question_id": 58404182, "link": "https://stackoverflow.com/questions/58404182/how-to-properly-type-react-context-provider/58405003#58405003", "title": "How to properly type React context provider", "body": "<p><code>createContext</code> takes a type parameter, so passing in your type <code>UseFeatureFlagsValue</code> fixes the issue:</p>\n\n<pre><code>export const FeatureFlagsContext = createContext&lt;UseFeatureFlagsValue&gt;({\n  flags: { OCT19_DEMO: undefined },\n  setFlags: () =&gt; {},\n});\n</code></pre>\n\n<p>Do you need to use a default value here? Most of the time you shouldn't need to pass a default value when creating a context (ideally your consumers should be  rendered within a provider which can provide something useful).</p>\n\n<p><a href=\"https://reactjs.org/docs/context.html#reactcreatecontext\" rel=\"nofollow noreferrer\">React docs:</a> </p>\n\n<blockquote>\n  <p>The defaultValue argument is only used when a component does not have\n  a matching Provider above it in the tree. This can be helpful for\n  testing components in isolation without wrapping them. Note: passing\n  undefined as a Provider value does not cause consuming components to\n  use defaultValue.</p>\n</blockquote>\n\n<p>If you don't need to use a default value, you can create your context with <code>undefined</code> using the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#non-null-assertion-operator\" rel=\"nofollow noreferrer\">Non-Null assertion operator</a>:</p>\n\n<pre><code>export const FeatureFlagsContext = createContext&lt;UseFeatureFlagsValue&gt;(undefined!);\n</code></pre>\n"}], "owner": {"reputation": 17405, "user_id": 3225108, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JmhYB.jpg?s=128&g=1", "display_name": "azium", "link": "https://stackoverflow.com/users/3225108/azium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571207177, "creation_date": 1571185692, "question_id": 58404182, "link": "https://stackoverflow.com/questions/58404182/how-to-properly-type-react-context-provider", "title": "How to properly type React context provider", "body": "<p>I feel like I'm doing this all wrong. What is Typescript trying to tell me to do? I'm playing whackamole here</p>\n\n<pre><code>TypeScript error in /Users/alex-wilmer/Projects/resideo/pro-portal/packages/web/src/utils/feature-flags/index.tsx(46,9):\nType 'Dispatch&lt;SetStateAction&lt;{ OCT19_DEMO: undefined; }&gt;&gt;' is not assignable to type '() =&gt; void'.  TS2322\n\n    44 |       value={{\n    45 |         flags,\n  &gt; 46 |         setFlags,\n       |         ^\n    47 |       }}&gt;\n    48 |       {children}\n    49 |     &lt;/FeatureFlagsContext.Provider&gt;\n</code></pre>\n\n<pre><code>import React, {\n  createContext,\n  useContext,\n  FC,\n  useState,\n  Dispatch,\n  SetStateAction,\n} from 'react';\n\ntype Flags = {\n  OCT19_DEMO: string | undefined;\n};\n\ntype UseFeatureFlagsValue = {\n  flags: Flags;\n  setFlags: Dispatch&lt;SetStateAction&lt;{}&gt;&gt;;\n};\n\nexport const FeatureFlagsContext = createContext({\n  flags: { OCT19_DEMO: undefined },\n  setFlags: () =&gt; {},\n});\n\nexport const FEATURE_FLAG_PREFIX = 'REACT_APP_FEATURE_FLAG_';\n\nexport const FeatureFlagsProvider: FC&lt;{\n  children: React.ReactNode;\n}&gt; = ({ children }): JSX.Element =&gt; {\n  const [flags, setFlags] = useState(\n    Object.entries(process.env).reduce(\n      (acc, [key, val]) =&gt; {\n        if (!key.startsWith(FEATURE_FLAG_PREFIX)) return acc;\n        acc[key.replace(FEATURE_FLAG_PREFIX, '')] = val;\n        return acc;\n      },\n      {\n        OCT19_DEMO: undefined,\n      }\n    )\n  );\n\n  return (\n    &lt;FeatureFlagsContext.Provider\n      value={{\n        flags,\n        setFlags,\n      }}&gt;\n      {children}\n    &lt;/FeatureFlagsContext.Provider&gt;\n  );\n};\n\nexport const useFeatureFlags = (): UseFeatureFlagsValue =&gt;\n  useContext(FeatureFlagsContext);\n\n</code></pre>\n"}, {"tags": ["typescript", "codepen"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1571185007, "post_id": 58404103, "comment_id": 103153145, "body": "Even though it has compilation error it still emits code <a href=\"https://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=3&amp;pc=2#code/GYVwdgxgLglg9mABAcwE4FN1XagFABxwGcEAuRIqVGMZASkQG8BYAKEQ8QyhFSQCIAEugA2IuABpE-RAGpEhVCTABuNgF82bEVkQgiOUmBABbAEY4A2gF1EAXkSWADFICMUgEzW1rNgBM4CFN0MCgAOjM4PwBPMOwADygAYQRsUPsUDCwcXH0cOhUgA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a> So it&#39;s up to whoever runs <code>tsc</code> whether to stop there or consume the final js."}, {"owner": {"reputation": 1281, "user_id": 1775718, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dc1d217dcf12d1fe4468789440dd5858?s=128&d=identicon&r=PG", "display_name": "user1775718", "link": "https://stackoverflow.com/users/1775718/user1775718"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1571217112, "post_id": 58404103, "comment_id": 103163098, "body": "OK, but where is the error output to? The point of typescript is to check for these errors - what would be the point if you don&#39;t show them anywhere?"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1571217450, "post_id": 58404103, "comment_id": 103163286, "body": "&quot;what would be the point if you don&#39;t show them anywhere&quot; --- \ud83e\udd37 I don&#39;t use codepen. Would possible worth asking them."}], "owner": {"reputation": 1281, "user_id": 1775718, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dc1d217dcf12d1fe4468789440dd5858?s=128&d=identicon&r=PG", "display_name": "user1775718", "link": "https://stackoverflow.com/users/1775718/user1775718"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571184815, "creation_date": 1571184815, "question_id": 58404103, "link": "https://stackoverflow.com/questions/58404103/typescript-on-codepen", "title": "Typescript on Codepen", "body": "<pre><code>function greeter(person: string) {\n  return \"Hello, \" + person;\n}\n\nlet user:number[] = [0, 1, 2];\n\ndocument.body.textContent = greeter(user);\n</code></pre>\n\n<p>This obviously faults in a normal editor, with: <code>Argument of type 'number[]' is not assignable to parameter of type 'string'.</code> but compiles fine on codepen: <a href=\"https://codepen.io/jmsherry/pen/oNNLNQQ?editors=0012\" rel=\"nofollow noreferrer\">https://codepen.io/jmsherry/pen/oNNLNQQ?editors=0012</a>. I can't see any compilation errors in any console, so I am very confused! Can anyone help?</p>\n"}, {"tags": ["typescript", "vue.js", "asynchronous", "async-await", "axios"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 2, "creation_date": 1571181681, "post_id": 58403701, "comment_id": 103152493, "body": "You need to make your <code>login</code> component method an async function in order to use <code>await</code> within it"}, {"owner": {"reputation": 694, "user_id": 4110708, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/63dc7ddc2778a5237dee2b5392cd3040?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Fernandez Diaz", "link": "https://stackoverflow.com/users/4110708/roberto-fernandez-diaz"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1571182714, "post_id": 58403701, "comment_id": 103152706, "body": "@Phil you are right, thank you so much. I was stuck on this during 2h..."}, {"owner": {"reputation": 694, "user_id": 4110708, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/63dc7ddc2778a5237dee2b5392cd3040?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Fernandez Diaz", "link": "https://stackoverflow.com/users/4110708/roberto-fernandez-diaz"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1571183265, "post_id": 58403701, "comment_id": 103152828, "body": "@Phil which version of Vue and lint program are you using? I am using vetur for visual code but is working kind of bad to me."}], "answers": [{"tags": [], "owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "is_accepted": true, "score": 2, "last_activity_date": 1571182486, "creation_date": 1571182486, "answer_id": 58403851, "question_id": 58403701, "link": "https://stackoverflow.com/questions/58403701/unable-to-get-return-value-from-async-function-await-not-working-as-expected/58403851#58403851", "title": "Unable to get return value from async function , await not working as expected (Vue API Service)", "body": "<p>Since you are using <code>await</code> inside the method, you must declare it as <code>async</code>:</p>\n\n<pre><code>methods: {\n    async login(): Promise&lt;void&gt; { // added async, changed return type\n        let success: boolean = await UserAuthService.login(this.form.email, this.form.password);\n        console.log(success)\n    }\n}\n</code></pre>\n\n<p>Also notice that due to the <code>async</code> keyword, the method now returns a <code>Promise</code>. Because you are using TypeScript, you must change its returning type from <code>void</code> to <code>Promise&lt;void&gt;</code> as well.</p>\n"}], "owner": {"reputation": 694, "user_id": 4110708, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/63dc7ddc2778a5237dee2b5392cd3040?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Fernandez Diaz", "link": "https://stackoverflow.com/users/4110708/roberto-fernandez-diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 1, "accepted_answer_id": 58403851, "answer_count": 1, "score": 0, "last_activity_date": 1571182486, "creation_date": 1571181186, "question_id": 58403701, "link": "https://stackoverflow.com/questions/58403701/unable-to-get-return-value-from-async-function-await-not-working-as-expected", "title": "Unable to get return value from async function , await not working as expected (Vue API Service)", "body": "<p>I am trying to create a service to communicate with my API, I am not quite familiar with async/await but I am facing the following problem and according to what I have read in the documentation doesn't make much sense.</p>\n\n<p>If I try to use await to get the result from an async function (UserAuthService.login) it gives me an error saying:\n\" 'await' expression is only allowed within an async function\"</p>\n\n<p>The error happens in the component Login when I try to get the result, the \"login\" function works fine if the login function is an async function why I am getting this error? How can I get then the result from the async function?</p>\n\n<p>auth_user_service.ts:</p>\n\n<pre><code>const UserAuthService = {\n  /**\n     * Login the user and store the access token to TokenService.\n     *\n     * @returns success\n    **/\n  login: async function (email: string, password: string): Promise&lt;boolean&gt; {\n    const requestData = {\n      method: 'POST',\n      url: 'auth/token/',\n      header: {\n        'X-Requested-With': 'XMLHttpRequest',\n        'Content-Type': 'application/json;charset=UTF-8'\n      },\n      data: {\n        client_id: process.env.VUE_APP_APPLICATION_CLIENT_ID,\n        client_secret: process.env.VUE_APP_APPLICATION_SECRET,\n        grant_type: 'password',\n        username: email,\n        password: password,\n        scope: 'read write'\n      }\n    }\n\n    try {\n      const response = await ApiService.customRequest(requestData) // just return axios(data);\n\n\n      if (response.status == 200) {\n        return true;\n      } else {\n        return false;\n      }\n\n    } catch (error) {\n      return false;\n    }\n  },\n}\n</code></pre>\n\n<p>Login.vue:</p>\n\n<pre><code>&lt;template&gt;...&lt;/template&gt;\n&lt;script lang=\"ts\"&gt;\n\nimport { UserAuthService } from '../services/auth/auth_user.service'\n\nexport default {\n    data: () =&gt; ({\n        form: {\n            email: '',\n            password: ''\n        },\n    }),\n    methods: {\n        login():void {\n            let success: boolean = await UserAuthService.login(this.form.email, this.form.password); //error here\n            console.log(success)\n\n        }\n    } \n};\n&lt;/script&gt;\n</code></pre>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"esnext\",\n    \"module\": \"esnext\",\n    \"strict\": false,\n    \"jsx\": \"preserve\",\n    \"importHelpers\": true,\n    \"moduleResolution\": \"node\",\n    \"experimentalDecorators\": true,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"sourceMap\": true,\n    \"baseUrl\": \".\",\n    \"typeRoots\": [\n      \"node_modules/@types\",\n      \"src/types\"\n    ],\n    \"types\": [\n      \"webpack-env\",\n      \"jest\",\n      \"vuetify\"\n    ],\n    \"paths\": {\n      \"@/*\": [\n        \"src/*\"\n      ]\n    },\n    \"lib\": [\n      \"esnext\",\n      \"dom\",\n      \"dom.iterable\",\n      \"scripthost\"\n    ]\n  },\n  \"include\": [\n    \"src/**/*.ts\",\n    \"src/**/*.tsx\",\n    \"src/**/*.vue\",\n    \"tests/**/*.ts\",\n    \"tests/**/*.tsx\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1571177542, "post_id": 58403210, "comment_id": 103151486, "body": "<code>ngAfterViewInit() {   this.person = { ...this.person, name: &#39;Jean&#39;, age: 20 } }</code>"}, {"owner": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "edited": false, "score": 0, "creation_date": 1571179787, "post_id": 58403210, "comment_id": 103152022, "body": "The reference itself has to change for change detection to see it, not just one of its properties."}, {"owner": {"reputation": 1, "user_id": 12223019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92239608c08144c32574f2e52876e65?s=128&d=identicon&r=PG&f=1", "display_name": "Nass", "link": "https://stackoverflow.com/users/12223019/nass"}, "edited": false, "score": 0, "creation_date": 1571239408, "post_id": 58403210, "comment_id": 103176379, "body": "I&#39;m aware of that, but I don&#39;t want to have to change the reference of the object every time I&#39;m just modifying one of its properties, do you have another solution?"}, {"owner": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "edited": false, "score": 0, "creation_date": 1571336366, "post_id": 58403210, "comment_id": 103216969, "body": "I would start by reading <a href=\"https://netbasal.com/a-comprehensive-guide-to-angular-onpush-change-detection-strategy-5bac493074a4\" rel=\"nofollow noreferrer\">this</a>."}], "owner": {"reputation": 1, "user_id": 12223019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92239608c08144c32574f2e52876e65?s=128&d=identicon&r=PG&f=1", "display_name": "Nass", "link": "https://stackoverflow.com/users/12223019/nass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571177132, "creation_date": 1571177132, "question_id": 58403210, "link": "https://stackoverflow.com/questions/58403210/change-detection-on-input-object-in-custom-directive", "title": "change detection on @Input object in custom directive", "body": "<p>I have a an object</p>\n\n<pre><code>person: {name: string, age: number}\n</code></pre>\n\n<p>I have a custom directive with an @Input object</p>\n\n<pre><code>pPerson: any;\n@Input()\nset person(value: any) {\n    this.pPerson = value;\n    this.hasModelChanged = true;\n}\n</code></pre>\n\n<p>In the parent component I have this function</p>\n\n<pre><code>nfAfterViewInit() {\n person.name = 'Jean'\n person.age = 20\n}\n</code></pre>\n\n<p>My parent component html looks like this</p>\n\n<pre><code>&lt;div customDirective [person]=\"person\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The problem is that when person properties are modified in the component the changes are not detected in the custom directive. Since angular is not deep checking the @Input, what would be a proper way to force the change detection or to catch the changes in the custom directive?</p>\n\n<p>I can't use ngDoCheck since it's called so many times.</p>\n"}]