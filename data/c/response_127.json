[{"tags": ["c"], "comments": [{"owner": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 1, "creation_date": 1497483486, "post_id": 44556243, "comment_id": 76103047, "body": "Not a clue what you are asking here. What does &quot;without succeed&quot; mean?  Is there a error?"}, {"owner": {"reputation": 189, "user_id": 7271912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1af6e46e757af02c5420fefe9401e72?s=128&d=identicon&r=PG&f=1", "display_name": "yehezkel horoviz", "link": "https://stackoverflow.com/users/7271912/yehezkel-horoviz"}, "reply_to_user": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 1, "creation_date": 1497483929, "post_id": 44556243, "comment_id": 76103180, "body": "its give me error when allocate memory"}], "answers": [{"comments": [{"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 1, "creation_date": 1497483868, "post_id": 44556326, "comment_id": 76103163, "body": "<a href=\"https://stackoverflow.com/questions/605845/do-i-cast-the-result-of-malloc\">Do I cast the result of malloc?</a>"}, {"owner": {"reputation": 2024, "user_id": 1315171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/081b87a82980b9c47ce10d65653ffe57?s=128&d=identicon&r=PG", "display_name": "Zakir", "link": "https://stackoverflow.com/users/1315171/zakir"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497483917, "post_id": 44556326, "comment_id": 76103175, "body": "I guess not needed - but did not want to differ too much from OP&#39;s original code"}], "tags": [], "owner": {"reputation": 2024, "user_id": 1315171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/081b87a82980b9c47ce10d65653ffe57?s=128&d=identicon&r=PG", "display_name": "Zakir", "link": "https://stackoverflow.com/users/1315171/zakir"}, "is_accepted": true, "score": 1, "last_activity_date": 1497484138, "last_edit_date": 1497484138, "creation_date": 1497483784, "answer_id": 44556326, "question_id": 44556243, "link": "https://stackoverflow.com/questions/44556243/double-linked-list-in-c-send-data-from-function/44556326#44556326", "title": "double linked list in c send data from function", "body": "<p>You want to allocate the right types here:-</p>\n\n<pre><code>link_t* newLink = malloc(sizeof(link_t));  //Pointer to Link st\nif(newLink){\n    newLink-&gt;frame = malloc(sizeof(frame_t)); //Pointer to frame member\n    if(newLink-&gt;frame){\n        newLink-&gt;frame-&gt;name = malloc(sizeof(char) * MAX_LEN); //Pointer to name member\n        if(newLink-&gt;frame-&gt;name){\n            //Rest of your code\n        }\n    }\n}\n</code></pre>\n\n<p>EDIT:-<br>\n1. As pointed out in comments there's no need to cast the pointer returned by malloc()<br>\n2. Another very imp point you may want to check validity of the pointers before de-referencing them </p>\n"}, {"tags": [], "owner": {"reputation": 3885, "user_id": 652528, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a580420b66f89e76e1fb9a368f785b3f?s=128&d=identicon&r=PG", "display_name": "geckos", "link": "https://stackoverflow.com/users/652528/geckos"}, "is_accepted": false, "score": 0, "last_activity_date": 1497485181, "last_edit_date": 1497485181, "creation_date": 1497484572, "answer_id": 44556448, "question_id": 44556243, "link": "https://stackoverflow.com/questions/44556243/double-linked-list-in-c-send-data-from-function/44556448#44556448", "title": "double linked list in c send data from function", "body": "<p>First. You don't need to cast <code>void *</code> so <code>(link_t **)malloc(...</code> can be only <code>malloc(...</code>.</p>\n\n<p>Second. You allocated enough memory for a pointer not for a struct. I think you mean <code>malloc(sizeof(link_t))</code> or even better <code>malloc(sizeof(*newLink))</code></p>\n\n<p>Third <code>newLink-&gt;frame</code> is a pointer so you need to allocate data for it too, <code>newLink-&gt;frame = malloc(sizeof(frame_t))</code></p>\n\n<p>Fourth <code>newLink-&gt;frame-&gt;name</code> is still a pointer so you need to allocate data for it too. <code>newLink-&gt;frame-&gt;name = malloc(MAX_LEN)</code></p>\n\n<p>The confusion that you are doing is pretty common. When you say <code>type *something</code> you are allocating a pointer to <code>type</code> in the stack. A pointer needs to point to somewhere else or NULL, or bad things happen. This applies to structures too. If your structure has a pointer member you need to point it to somewhere else. The somewhere else is where the real \"type\" object resides.</p>\n\n<p>This also applies to arrays. If you say 'int foo[10]' you are allocating ten integers in the stack. If you say <code>int *foo[10]</code> you are allocating ten pointers in the stack. If you say <code>int **foo</code> you are allocating one pointer in the stack. Again all pointers need to be initialized, I mean, they need to point to some valid object, allocated somewhere else in the memory.</p>\n\n<p>I hope this helps.</p>\n\n<p>Some other points.</p>\n\n<ul>\n<li>Always check pointer coming from malloc, if allocation failed you'll receive NULL. Dereferencing NULL will break your program.</li>\n<li>Always initialize memory coming from malloc, fill it with zeros or something.</li>\n<li>Don't use <code>_t</code> suffix, is POSIX reserved.</li>\n<li>I didn't test any of this.</li>\n</ul>\n"}], "owner": {"reputation": 189, "user_id": 7271912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1af6e46e757af02c5420fefe9401e72?s=128&d=identicon&r=PG&f=1", "display_name": "yehezkel horoviz", "link": "https://stackoverflow.com/users/7271912/yehezkel-horoviz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 44556326, "answer_count": 2, "score": -1, "last_activity_date": 1497489899, "creation_date": 1497483074, "last_edit_date": 1497489899, "question_id": 44556243, "link": "https://stackoverflow.com/questions/44556243/double-linked-list-in-c-send-data-from-function", "title": "double linked list in c send data from function", "body": "<p>This is my code:-</p>\n\n<pre><code>typedef struct Frame\n{\n    char* name;\n    unsigned int duration;\n    char* path;  // may need to scan (with fgets)\n}frame_t;\n\ntypedef struct Link\n{\n    frame_t* frame;\n    struct Link* next;\n}link_t;\n\nvoid addNewFrame(void)\n{\n  link_t* newLink = (link_t**)malloc(sizeof(link_t*));\n  printf(\"                *** Creating new frame ***\\n\\n\");\n  printf(\"Please insert frame path:\\n\");\n\n  //  newLink-&gt;frame-&gt;name = (char*)malloc(sizeof(char) * MAX_LEN);\n\n  fgets(newLink-&gt;frame-&gt;name, MAX_LEN,stdin);\n  printf(\"%s\", newLink-&gt;frame-&gt;name);\n}\n</code></pre>\n\n<p>I just need to add a data to name variable in the \"Frame\" link list, please help me by reviewing this code.</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 1, "creation_date": 1497482888, "post_id": 44556186, "comment_id": 76102889, "body": "You want return a <code>int *</code> or a <code>gaag *</code> ? Your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is very unclear."}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 2, "creation_date": 1497482941, "post_id": 44556186, "comment_id": 76102902, "body": "It will be difficult to use a <code>gaag*</code> outside of the function if its definition is only visible inside the function, even if you could somehow return it."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1497482969, "post_id": 44556186, "comment_id": 76102908, "body": "You can&#39;t return <code>arrgaags</code> if the function returns an <code>int</code> or <code>int *</code>; <code>arrgaags</code> (that sounds like a cry for help!) is a pointer to a structure type that is not accessible outside this function."}], "answers": [{"comments": [{"owner": {"reputation": 846, "user_id": 1137102, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/HOdwV.png?s=128&g=1", "display_name": "RoiHatam", "link": "https://stackoverflow.com/users/1137102/roihatam"}, "edited": false, "score": 0, "creation_date": 1497531792, "post_id": 44556264, "comment_id": 76124999, "body": "But you don&#39;t <code>free(arrgaags)</code> it creates a memory leak."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 846, "user_id": 1137102, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/HOdwV.png?s=128&g=1", "display_name": "RoiHatam", "link": "https://stackoverflow.com/users/1137102/roihatam"}, "edited": false, "score": 0, "creation_date": 1497537402, "post_id": 44556264, "comment_id": 76129418, "body": "The caller has to free it when they&#39;re done using the array."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 2, "last_activity_date": 1497483280, "creation_date": 1497483280, "answer_id": 44556264, "question_id": 44556186, "link": "https://stackoverflow.com/questions/44556186/function-int-that-returns-pointer-in-c/44556264#44556264", "title": "Function (int?) that returns pointer in c", "body": "<p>You need to declare the structure outside the function, then you can return <code>gaag*</code>.</p>\n\n<pre><code>typedef struct {\n    int x;\n    int y;\n    int size;\n    float power;\n} gaag;\n\ngaag *sorting(int Num_Gaag, FILE *f) {\n    gaag *arrgaags;\n    int i = 0, j;\n    int counter = 0;\n\n    arrgaags = malloc(sizeof(gaag) * Num_Gaag);\n    fseek(f, 67, SEEK_SET);\n    for (i = 0; i &lt; Num_Gaag; i++)\n        fscanf_s(f, \"(%d,%d)   \\t%d\\t%f\\n\", &amp;arrgaags[i].x, &amp;arrgaags[i].y,\n                 &amp;arrgaags[i].size, &amp;arrgaags[i].power);\n    return arrgaags;\n}\n</code></pre>\n\n<p>Note that you don't use <code>*</code> when returning the pointer, since that would return just the structure that the pointer points to (the first element of the array).</p>\n"}], "owner": {"reputation": 19, "user_id": 7905926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4711adc6eb1c3950d2dcc9e29212e75d?s=128&d=identicon&r=PG&f=1", "display_name": "sha", "link": "https://stackoverflow.com/users/7905926/sha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497483280, "creation_date": 1497482747, "last_edit_date": 1497482828, "question_id": 44556186, "link": "https://stackoverflow.com/questions/44556186/function-int-that-returns-pointer-in-c", "title": "Function (int?) that returns pointer in c", "body": "<p>I know that i have to define at the beginning of the function what type it is supposed to return, but i dont know how to do it with pointer.. i try to do it like this with int * but its not working</p>\n\n<pre><code>int *sorting(int Num_Gaag, FILE *f) {\n  typedef struct {\n    int x;\n    int y;\n    int size;\n    float power;\n  } gaag;\n  gaag *arrgaags;\n  int i = 0, j;\n  int counter = 0;\n\n  arrgaags = malloc(sizeof(gaag) * Num_Gaag);\n  fseek(f, 67, SEEK_SET);\n  for (i = 0; i &lt; Num_Gaag; i++)\n    fscanf_s(f, \"(%d,%d)   \\t%d\\t%f\\n\", &amp;arrgaags[i].x, &amp;arrgaags[i].y,\n             &amp;arrgaags[i].size, &amp;arrgaags[i].power);\n  return *arrgaags;\n}\n</code></pre>\n\n<p>thank you!</p>\n"}, {"tags": ["c++", "c", "visual-c++", "printf", "format-specifiers"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1497481060, "post_id": 44555955, "comment_id": 76102374, "body": "With strings, there&#39;s a difference between <code>%8s</code> and <code>%8.8s</code> \u2014 the latter truncates if the string is longer than 8.  There&#39;s another difference; <code>0</code> is not a valid modifier for <code>%s</code>.  The <code>%8.8lu</code> doesn&#39;t seem to buy you much compared with <code>%.8lu</code>; there&#39;s not much difference between <code>%.8lu</code> and <code>%08lu</code>, though <code>0</code> is older and the <code>.</code> was added to C90 (so that&#39;s pretty old these days)."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1497481203, "post_id": 44555955, "comment_id": 76102416, "body": "They&#39;re just two different ways of achieving the same thing. The first tends to be preferred because the padding character is stated explicitly."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497481249, "post_id": 44555955, "comment_id": 76102431, "body": "<code>printf</code> is a function of the C standard library. The question is not about C++."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 4, "creation_date": 1497481590, "post_id": 44555955, "comment_id": 76102553, "body": "Your code can&#39;t be standard C++; C++ requires that the return value of <code>main()</code> is an <code>int</code>.  C allows implementations to let you use alternative return types; the Microsoft C implementation allows you to use <code>void</code>.  Their C++ may also allow it, but it is in contravention of the standard which does not.  See <a href=\"http://stackoverflow.com/questions/204476/\">What should <code>main()</code> return in C and C++</a> for the details."}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497635475, "post_id": 44555955, "comment_id": 76178342, "body": "If you want to keep twice language tags, for me your question is too broad, you need to understand that <code>printf()</code> has different standard in C and C++ in 2017. Like <code>printf()</code> is idiomatic C, I will advise you to choice C. You could create two question if you want C++ too."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 4, "creation_date": 1497638581, "post_id": 44555955, "comment_id": 76180081, "body": "Note that this question is the subject of a MSO question \u2014 <a href=\"https://meta.stackoverflow.com/questions/350785/user-goes-into-edit-war-for-c-tag-removal/\">User goes into edit war for C tag removal</a>.  Please be cautious about editing the question or its tags."}], "answers": [{"tags": [], "owner": {"reputation": 738, "user_id": 7572026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340e7b48d6bfe006ce1b6f7161911df2?s=128&d=identicon&r=PG&f=1", "display_name": "Manav Dubey", "link": "https://stackoverflow.com/users/7572026/manav-dubey"}, "is_accepted": false, "score": 0, "last_activity_date": 1497481698, "creation_date": 1497481698, "answer_id": 44556059, "question_id": 44555955, "link": "https://stackoverflow.com/questions/44555955/why-would-one-use-8-8-over-08-in-a-printf-format-string/44556059#44556059", "title": "Why would one use %8.8 over %08 in a printf format string?", "body": "<p>Actually, it doesn't make any difference between <code>%08</code> and <code>%8.8</code> unless you get into decimal numbers, then there is a difference. It all depends on how the user likes it. It is just a preference.</p>\n"}, {"comments": [{"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 1, "creation_date": 1497577359, "post_id": 44556072, "comment_id": 76147716, "body": "This code can definitely compile C and arguably as C++ as well. In C the standard gives explicit permission for <code>main</code> to be defined &quot;[...]in some other implementation-defined manner&quot; (&#167;5.1.2.2.1/1). In C++, the compiler is required to &quot;issue at least one diagnostic message&quot; (&#167;[intro.compliance/2]), but having done so, is free to continue to compile the program.  &quot;[...]this International Standard states only requirements on C++ implementations, those requirements are often easier to understand if they are phrased as requirements on programs, parts of programs, or execution of programs.&quot;(ibid)"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497606685, "post_id": 44556072, "comment_id": 76160100, "body": "In addition, the code could in theory be for a freestanding systems, where all forms of main() are allowed (though the presence of VS gives away that this is a hosted Windows system)."}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1497623286, "post_id": 44556072, "comment_id": 76171149, "body": "@JerryCoffin didn&#39;t know that, updated my answer! =)"}], "tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": false, "score": 5, "last_activity_date": 1497624743, "last_edit_date": 1497624743, "creation_date": 1497481880, "answer_id": 44556072, "question_id": 44555955, "link": "https://stackoverflow.com/questions/44555955/why-would-one-use-8-8-over-08-in-a-printf-format-string/44556072#44556072", "title": "Why would one use %8.8 over %08 in a printf format string?", "body": "<p>These two are equivalent when used with an <code>unsigned long</code> (/integers), as you read in the <a href=\"http://www.cplusplus.com/reference/cstdio/printf/\" rel=\"nofollow noreferrer\">ref</a>.</p>\n\n<pre><code>printf(\"V1: %08lu \\n\", val);\n</code></pre>\n\n<p><code>0</code> flag will left-pads the number with zeroes (0) instead of spaces when padding is specified (see width sub-specifier).</p>\n\n<p><code>8</code> will be the <code>number</code>, in \"Minimum number of characters to be printed. If the value to be printed is shorter than this number, the result is padded with blank spaces. The value is not truncated even if the result is larger.\"</p>\n\n<hr>\n\n<p>Now this:</p>\n\n<pre><code>printf(\"V2: %8.8lu \\n\", val);\n</code></pre>\n\n<p>will keep the effects of <code>8</code> as <code>number</code>, but will add <code>.8</code>, as <code>.number</code> in \"For integer specifiers (d, i, o, u, x, X): precision specifies the minimum number of digits to be written. If the value to be written is shorter than this number, the result is padded with leading zeros. The value is not truncated even if the result is longer. A precision of 0 means that no character is written for the value 0.\".</p>\n\n<hr>\n\n<p>PS: Standard C++ should issue a diagnostic error as such:</p>\n\n<pre><code>prog.cc:3:11: error: '::main' must return 'int'\n void main()\n           ^\n</code></pre>\n\n<p>however, even <a href=\"http://www.stroustrup.com/bs_faq2.html#void-main\" rel=\"nofollow noreferrer\">Stroustrup</a> himself says that this \"is not and never has been C++, nor has it even been C\".</p>\n"}, {"comments": [{"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 0, "creation_date": 1497482182, "post_id": 44556095, "comment_id": 76102723, "body": "Hmm are you sure?"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 2, "creation_date": 1497482376, "post_id": 44556095, "comment_id": 76102778, "body": "@gsamaras: Yes. <code>.8</code> part specifies <i>the minimum number of digits to appear</i>. Which means that you will always see 8 digits. The <code>-</code> does not count. This allows it to break out of 8 character field witdth. In the first version there&#39;s no &quot;minimum&quot; requirement, which is why <code>-</code> eats aways one space and results in less digits being output."}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 0, "creation_date": 1497482489, "post_id": 44556095, "comment_id": 76102807, "body": "AnT great, just checked and you right. Yes I know about that ( see my answer =) ), I was just wasn&#39;t sure. +1."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1514728514, "post_id": 44556095, "comment_id": 83056767, "body": "&quot;For unsigned integer types there&#39;s no difference.&quot;  --&gt; <code>&quot;#&quot;</code> flag will impart a difference with unsigned values.  <code>&quot;%#08lx&quot;</code> vs <code>&quot;%#8.8lx&quot;</code>"}], "tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": false, "score": 16, "last_activity_date": 1497486698, "last_edit_date": 1497486698, "creation_date": 1497482109, "answer_id": 44556095, "question_id": 44555955, "link": "https://stackoverflow.com/questions/44555955/why-would-one-use-8-8-over-08-in-a-printf-format-string/44556095#44556095", "title": "Why would one use %8.8 over %08 in a printf format string?", "body": "<p>For <em>unsigned</em> integer types there's no difference. For negative values of <em>signed</em> integer types you will see different output</p>\n\n<pre><code>long val = -2413;\nprintf(\"V1: %08ld\\n\", val);\nprintf(\"V2: %8.8ld\\n\", val);\n\nV1: -0002413\nV2: -00002413\n</code></pre>\n\n<p>The <code>.8</code> part of <code>%8.8ld</code> specifies <em>the minimum number of digits to appear</em>. And the <code>-</code> sign is not considered a digit. For this reason, the second version is required to always print 8 digits. If the value is negative, the <code>-</code> sign will have no choice but to become the 9th character printed, thus violating the requested field width of 8.</p>\n\n<p>The <code>%08ld</code> version has no requirement to print at least 8 digits, which is why the <code>-</code> sign occupies one character <em>inside</em> the field width of 8 and only 7 digits are printed.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/fc9022cc0ef3e097\" rel=\"noreferrer\">http://coliru.stacked-crooked.com/a/fc9022cc0ef3e097</a></p>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 7, "last_activity_date": 1497482546, "creation_date": 1497482546, "answer_id": 44556163, "question_id": 44555955, "link": "https://stackoverflow.com/questions/44555955/why-would-one-use-8-8-over-08-in-a-printf-format-string/44556163#44556163", "title": "Why would one use %8.8 over %08 in a printf format string?", "body": "<p>As I noted in a comment, with strings, there's a difference between <code>%8s</code> and <code>%8.8s</code> \u2014 the latter truncates if the string is longer than <code>8</code>. There's another difference; <code>0</code> is not a valid modifier for <code>%s</code>. The <code>%8.8lu</code> isn't really different from <code>%.8lu</code>; there's not much difference between <code>%.8lu</code> and <code>%08lu</code>, though <code>0</code> is older and the <code>.</code> was added to C90 (so that's pretty old these days).  There's a difference between <code>%.8ld</code> and <code>%08ld</code>, though, when the values are negative.</p>\n\n<p>Here's some code that illustrates some of the vagaries of the integer formats for <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/printf.html\" rel=\"noreferrer\"><code>printf()</code></a> \u2014 for both signed and unsigned values.  Note that if you have <code>%8.6lu</code> rather than <code>%8.8lu</code> (similarly for signed), you get interesting differences.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nstatic void test_ul(void)\n{\n    char *fmt[] =\n    {\n        \"%08lu\",\n        \"%8.8lu\",\n        \"%.8lu\",\n        \"%8.6lu\",\n        \"%6.8lu\",\n    };\n    enum { NUM_FMT = sizeof(fmt) / sizeof(fmt[0]) };\n    unsigned long val[] = { 2413LU, 234512349LU };\n    enum { NUM_VAL = sizeof(val) / sizeof(val[0]) };\n    for (int i = 0; i &lt; NUM_FMT; i++)\n    {\n        for (int j = 0; j &lt; NUM_VAL; j++)\n        {\n            printf(\"%8s: [\", fmt[i]);\n            printf(fmt[i], val[j]);\n            puts(\"]\");\n        }\n    }\n}\n\nstatic void test_sl(void)\n{\n    char *fmt[] =\n    {\n        \"%08ld\",\n        \"%8.8ld\",\n        \"%.8ld\",\n        \"%8.6ld\",\n        \"%6.8ld\",\n    };\n    enum { NUM_FMT = sizeof(fmt) / sizeof(fmt[0]) };\n    long val[] = { +2413L, -2413L, +234512349L, -234512349L };\n    enum { NUM_VAL = sizeof(val) / sizeof(val[0]) };\n    for (int i = 0; i &lt; NUM_FMT; i++)\n    {\n        for (int j = 0; j &lt; NUM_VAL; j++)\n        {\n            printf(\"%8s: [\", fmt[i]);\n            printf(fmt[i], val[j]);\n            puts(\"]\");\n        }\n    }\n}\n\nint main(void)\n{\n    test_ul();\n    test_sl();\n    return 0;\n}\n</code></pre>\n\n<p>Output (GCC 7.1.0 on macOS Sierra 10.12.5):</p>\n\n<pre><code>   %08lu: [00002413]\n   %08lu: [234512349]\n  %8.8lu: [00002413]\n  %8.8lu: [234512349]\n   %.8lu: [00002413]\n   %.8lu: [234512349]\n  %8.6lu: [  002413]\n  %8.6lu: [234512349]\n  %6.8lu: [00002413]\n  %6.8lu: [234512349]\n   %08ld: [00002413]\n   %08ld: [-0002413]\n   %08ld: [234512349]\n   %08ld: [-234512349]\n  %8.8ld: [00002413]\n  %8.8ld: [-00002413]\n  %8.8ld: [234512349]\n  %8.8ld: [-234512349]\n   %.8ld: [00002413]\n   %.8ld: [-00002413]\n   %.8ld: [234512349]\n   %.8ld: [-234512349]\n  %8.6ld: [  002413]\n  %8.6ld: [ -002413]\n  %8.6ld: [234512349]\n  %8.6ld: [-234512349]\n  %6.8ld: [00002413]\n  %6.8ld: [-00002413]\n  %6.8ld: [234512349]\n  %6.8ld: [-234512349]\n</code></pre>\n"}], "owner": {"reputation": 60937, "user_id": 30225, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7fdfe99c0e6c379a2fb843657e200669?s=128&d=identicon&r=PG", "display_name": "Preet Sangha", "link": "https://stackoverflow.com/users/30225/preet-sangha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2980, "favorite_count": 0, "answer_count": 4, "score": 6, "last_activity_date": 1497635015, "creation_date": 1497480905, "last_edit_date": 1497635015, "question_id": 44555955, "link": "https://stackoverflow.com/questions/44555955/why-would-one-use-8-8-over-08-in-a-printf-format-string", "title": "Why would one use %8.8 over %08 in a printf format string?", "body": "<p>Just came across some (very) legacy code (originally written as C but now compiled as C++ too)  and a use of the width specifier to zero pad a string</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>void main()\n{\n    unsigned long val = 2413;\n    printf(\"V1: %08lu \\n\", val);\n    printf(\"V2: %8.8lu \\n\", val);\n}\n</code></pre>\n\n<p>The results are identical</p>\n\n<pre><code>V1: 00002413\nV2: 00002413\n</code></pre>\n\n<p>So why would one use V2? Was it some legacy aspect of the std lib from the days of yore?</p>\n\n<p>Compiler details : Microsoft (R) C/C++ Optimizing Compiler Version 19.10.25019 for x86</p>\n"}, {"tags": ["c", "embedded", "fft", "beagleboneblack", "kissfft"], "comments": [{"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 1, "creation_date": 1497511347, "post_id": 44555526, "comment_id": 76111325, "body": "Try pinging the author, @MarkBorgerding, as he is <a href=\"https://stackoverflow.com/users/3343/mark-borgerding\">a contributor here on StackOverflow</a>."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 1703502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33510a46b1754bed8d2a00fcf972b76a?s=128&d=identicon&r=PG", "display_name": "rathin2j", "link": "https://stackoverflow.com/users/1703502/rathin2j"}, "edited": false, "score": 0, "creation_date": 1497557193, "post_id": 44565098, "comment_id": 76140963, "body": "Yes, I am making 7 (sorry for typo, it shouldn&#39;t only &lt; 7) copies to emulate the data window that I am going to receive. I am doing that for zero padding, should that coz trouble to KissFFT? It is just getting an zero padded array ultimately."}, {"owner": {"reputation": 99, "user_id": 1703502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33510a46b1754bed8d2a00fcf972b76a?s=128&d=identicon&r=PG", "display_name": "rathin2j", "link": "https://stackoverflow.com/users/1703502/rathin2j"}, "edited": false, "score": 0, "creation_date": 1497594023, "post_id": 44565098, "comment_id": 76152262, "body": "Thanks a lot! THAT  <b>&lt; 7</b> typo was the error, program started working. I am really sorry for troubling for such a trivial mistake!"}, {"owner": {"reputation": 87362, "user_id": 176769, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PckCW.png?s=128&g=1", "display_name": "karlphillip", "link": "https://stackoverflow.com/users/176769/karlphillip"}, "edited": false, "score": 0, "creation_date": 1589814179, "post_id": 44565098, "comment_id": 109435332, "body": "Hey Mark! Nice seeing you on Stackoverflow! I guess there is no better person to ask a question related to <b>kissfft</b> than yourself. Do you mind taking a look at <a href=\"https://stackoverflow.com/q/61872422/176769\">this problem</a>? Your help will be much appreciated."}], "tags": [], "owner": {"reputation": 7007, "user_id": 3343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/37f8bd7a5b49c886bd82541c7e5c339e?s=128&d=identicon&r=PG", "display_name": "Mark Borgerding", "link": "https://stackoverflow.com/users/3343/mark-borgerding"}, "is_accepted": true, "score": 1, "last_activity_date": 1497522363, "creation_date": 1497522363, "answer_id": 44565098, "question_id": 44555526, "link": "https://stackoverflow.com/questions/44555526/error-in-running-kissfft-on-beaglebone-black/44565098#44565098", "title": "Error in running KissFFT on Beaglebone black", "body": "<p>One problem is that you are overwriting the s buffer.\nThe loop with \"i&lt;=7\" makes 7 <em>extra</em> copies of the first 128 elements in <em>s</em>.  8*128 = 1024 > 960</p>\n"}], "owner": {"reputation": 99, "user_id": 1703502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33510a46b1754bed8d2a00fcf972b76a?s=128&d=identicon&r=PG", "display_name": "rathin2j", "link": "https://stackoverflow.com/users/1703502/rathin2j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 44565098, "answer_count": 1, "score": 2, "last_activity_date": 1497522363, "creation_date": 1497478248, "question_id": 44555526, "link": "https://stackoverflow.com/questions/44555526/error-in-running-kissfft-on-beaglebone-black", "title": "Error in running KissFFT on Beaglebone black", "body": "<p>I am trying to use KissFFT on BeagleBone Black, running Debian 7.5 with 3.8 kernel. The program gets compiled yet when I try to run it, It shows error </p>\n\n<blockquote>\n  <p>Real FFT optimization must be even</p>\n</blockquote>\n\n<p>. </p>\n\n<p>The same program run properly on Ubuntu laptop. I also tried various <em>fft window length</em> but error remains the same. Can anyone point out where I am going wrong? Herewith attaching the code and on <a href=\"https://gist.github.com/Rathindholakia/278deeb384707dd7e6ff3fbe3e489181\" rel=\"nofollow noreferrer\">gist</a> with highlighting . </p>\n\n<pre><code>#include&lt;stdio.h&gt;\n#include&lt;math.h&gt;\n#include&lt;string.h&gt;\n#include\"kiss_fft.h\"\n#include \"tools/kiss_fftr.h\"\n#include&lt;complex.h&gt;\n\nint main()\n\n{\n\n    float s[960], k;                  //s = sine, data array\n    float t[960]= {0};                //t = time data array\n    int i, size = 960, fft_len=16384;\n    float buff[fft_len];\n\n\n    bzero(&amp;buff, sizeof(buff));       // write zeros in whole buffer\n\n    for (i = 0;i&lt; fft_len;i++){\n      if(buff[i] != 0){\n          printf(\"Not zero\");\n          break;\n        }\n    }\n\n    k = 2*M_PI/128;\n\n  // Creating a 128 point/cycle discreet input \n    for (i = 0; i&lt; 128; i++){\n        t[i]= i*k;\n        s[i] = sin(t[i]*50);\n    }\n\n// taking 7 cycles of input as 960 point window\n  for (i = 1; i &lt;=7; i++){\n        memcpy(s+(128*i),s,128*4);\n  }\n\nkiss_fftr_cfg fft_cfg = kiss_fftr_alloc(fft_len,0,0,0);\n\nkiss_fft_cpx out_cpx[fft_len/2 +1];\n\n// Padding the 960 length data with zeros\nmemcpy(buff,s, sizeof(s));\n\nkiss_fftr(fft_cfg,buff,out_cpx);\n\n  for (i = 0; i &lt;fft_len/2+1; i++){\n        printf(\"\\n%d %f%+f \",i,out_cpx[i].r,out_cpx[i].i);\n  }\n\n    return 0;\n}\n</code></pre>\n\n<p>I compile it using: </p>\n\n<blockquote>\n  <p>gcc -g sinwave.c kiss_fft.c tools/kiss_fftr.c  -o fsin -I\n  \"kiss_fft130/\" -lm</p>\n</blockquote>\n"}, {"tags": ["c", "android-ndk", "cmake", "java-native-interface"], "comments": [{"owner": {"reputation": 1304, "user_id": 3277064, "user_type": "registered", "profile_image": "https://graph.facebook.com/4809672/picture?type=large", "display_name": "eewanco", "link": "https://stackoverflow.com/users/3277064/eewanco"}, "edited": false, "score": 0, "creation_date": 1497477146, "post_id": 44555026, "comment_id": 76101072, "body": "What happens when you do a <code>dir C:\\Users\\Alex\\AppData\\Local\\Android\\sdk\\ndk-bundle\\toolchain&zwnj;&#8203;s\\llvm\\prebuilt\\wind&zwnj;&#8203;ows-x86_64\\bin\\clang&zwnj;&#8203;.exe</code>?"}, {"owner": {"reputation": 173, "user_id": 3697344, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/16b57136d73f3708e32317be86915553?s=128&d=identicon&r=PG&f=1", "display_name": "user3697344", "link": "https://stackoverflow.com/users/3697344/user3697344"}, "reply_to_user": {"reputation": 1304, "user_id": 3277064, "user_type": "registered", "profile_image": "https://graph.facebook.com/4809672/picture?type=large", "display_name": "eewanco", "link": "https://stackoverflow.com/users/3277064/eewanco"}, "edited": false, "score": 0, "creation_date": 1497485541, "post_id": 44555026, "comment_id": 76103560, "body": "So I moved my sdk directory because cmd had issues finding the toolchains directory. Now when I execute dir C:\\....\\clang.exe I get:   Volume in drive C is Windows8_OS  Volume Serial Number is CE7B-444C   Directory of C:\\Android\\sdk\\ndk-bundle\\toolchains\\llvm\\prebuilt\\windows-x&zwnj;&#8203;86_64\\bin  06/07/2017  08:22 AM        55,872,512 clang.exe                1 File(s)     55,872,512 bytes                0 Dir(s)  68,679,270,400 bytes free"}, {"owner": {"reputation": 1304, "user_id": 3277064, "user_type": "registered", "profile_image": "https://graph.facebook.com/4809672/picture?type=large", "display_name": "eewanco", "link": "https://stackoverflow.com/users/3277064/eewanco"}, "edited": false, "score": 0, "creation_date": 1497528896, "post_id": 44555026, "comment_id": 76122978, "body": "That looks good. What happens when you try to execute <code>C:\\Users\\Alex\\AppData\\Local\\Android\\sdk\\ndk-bundle\\toolchain&zwnj;&#8203;\u200c\u200bs\\llvm\\prebuilt\\wi&zwnj;&#8203;nd\u200c\u200bows-x86_64\\bin\\c&zwnj;&#8203;lang\u200c\u200b.exe</code> from the command line now? And does the CMake still fail?"}, {"owner": {"reputation": 173, "user_id": 3697344, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/16b57136d73f3708e32317be86915553?s=128&d=identicon&r=PG&f=1", "display_name": "user3697344", "link": "https://stackoverflow.com/users/3697344/user3697344"}, "reply_to_user": {"reputation": 1304, "user_id": 3277064, "user_type": "registered", "profile_image": "https://graph.facebook.com/4809672/picture?type=large", "display_name": "eewanco", "link": "https://stackoverflow.com/users/3277064/eewanco"}, "edited": false, "score": 0, "creation_date": 1497548261, "post_id": 44555026, "comment_id": 76136053, "body": "I had to re download ndk separately in order for cmd to recognize the toolchains folder. Now when I run clang.exe from its full path I get:  clang.exe: error: no input files.  btw thanks for your input this is a huge road block for me at the moment."}, {"owner": {"reputation": 1304, "user_id": 3277064, "user_type": "registered", "profile_image": "https://graph.facebook.com/4809672/picture?type=large", "display_name": "eewanco", "link": "https://stackoverflow.com/users/3277064/eewanco"}, "edited": false, "score": 0, "creation_date": 1497562834, "post_id": 44555026, "comment_id": 76143653, "body": "That&#39;s great progress. What happens when you run CMake now?"}, {"owner": {"reputation": 173, "user_id": 3697344, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/16b57136d73f3708e32317be86915553?s=128&d=identicon&r=PG&f=1", "display_name": "user3697344", "link": "https://stackoverflow.com/users/3697344/user3697344"}, "reply_to_user": {"reputation": 1304, "user_id": 3277064, "user_type": "registered", "profile_image": "https://graph.facebook.com/4809672/picture?type=large", "display_name": "eewanco", "link": "https://stackoverflow.com/users/3277064/eewanco"}, "edited": false, "score": 1, "creation_date": 1497581359, "post_id": 44555026, "comment_id": 76148582, "body": "Dude I appreciate your effort but me and my associates have decided to ditch NDK and re-write everything in Java. There&#39;s just not enough eewanco&#39;s to help us with all of our cmake issues, and boy are there a ton of cmake issues. <a href=\"http://www.quickmeme.com/meme/35rz5y\" rel=\"nofollow noreferrer\">quickmeme.com/meme/35rz5y</a>"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 3697344, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/16b57136d73f3708e32317be86915553?s=128&d=identicon&r=PG&f=1", "display_name": "user3697344", "link": "https://stackoverflow.com/users/3697344/user3697344"}, "edited": false, "score": 0, "creation_date": 1497484358, "post_id": 44555508, "comment_id": 76103295, "body": "Thanks a ton this is very helpful. I&#39;m unable to access the toolchains folder via cmd. I can get as far as ndk-bundle but it can&#39;t find toolchains after that. Although, I can navigate my way there in the file explorer."}], "tags": [], "owner": {"reputation": 1304, "user_id": 3277064, "user_type": "registered", "profile_image": "https://graph.facebook.com/4809672/picture?type=large", "display_name": "eewanco", "link": "https://stackoverflow.com/users/3277064/eewanco"}, "is_accepted": false, "score": 0, "last_activity_date": 1497478171, "creation_date": 1497478171, "answer_id": 44555508, "question_id": 44555026, "link": "https://stackoverflow.com/questions/44555026/determining-if-the-c-compiler-works-failed-with-the-following-output/44555508#44555508", "title": "Determining if the C compiler works failed with the following output", "body": "<p>The error \"The system cannot find the path specified.\" is issued by <code>cmd.exe</code> (that is, the Windows 10 command interpreter). CMake is invoking <code>cmd.exe</code> and asking it to run <code>C:\\Users\\Alex\\AppData\\Local\\Android\\sdk\\ndk-bundle\\toolchain\u200c\u200bs\\llvm\\prebuilt\\wind\u200c\u200bows-x86_64\\bin\\clang\u200c\u200b.exe</code>, but <code>cmd.exe</code> cannot find it, presumably because it doesn't exist. This suggests that NDK may not be installed properly, or at all. Use Windows Explorer or <code>cmd</code> to look for the existence of this file; if it doesn't exist, your tools aren't installed properly. See where things went awry; for example, if <code>C:\\Users\\Alex\\AppData\\Local\\Android\\sdk\\ndk-bundle\\toolchain\u200c\u200bs\\llvm\\prebuilt\\wind\u200c\u200bows-x86_64\\bin</code> exists and has other files in it, perhaps something got corrupt.  If you can't even find <code>ndk-bundle</code>, NDK is probably not installed at all. </p>\n\n<p>If the file exists, try executing it; go into <code>cmd</code> and run <code>C:\\Users\\Alex\\AppData\\Local\\Android\\sdk\\ndk-bundle\\toolchain\u200c\u200bs\\llvm\\prebuilt\\wind\u200c\u200bows-x86_64\\bin\\clang\u200c\u200b.exe</code> directly. If it works, there is something wrong with your CMake environment (not sure what), but I'm guessing it won't work. </p>\n"}], "owner": {"reputation": 173, "user_id": 3697344, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/16b57136d73f3708e32317be86915553?s=128&d=identicon&r=PG&f=1", "display_name": "user3697344", "link": "https://stackoverflow.com/users/3697344/user3697344"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1046, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497478171, "creation_date": 1497475743, "question_id": 44555026, "link": "https://stackoverflow.com/questions/44555026/determining-if-the-c-compiler-works-failed-with-the-following-output", "title": "Determining if the C compiler works failed with the following output", "body": "<p>I am trying to use NDK to link a C project to Android Studio. I get the following Cmake error. I get the same error with any project that uses NDK.</p>\n\n<p>Determining if the C compiler works failed with the following output:\nChange Dir: C:/Users/Alex/Desktop/android-ndk/audio-echo/app/.externalNativeBuild/cmake/release/armeabi-v7a/CMakeFiles/CMakeTmp</p>\n\n<pre><code>Run Build Command:\"C:\\Users\\Alex\\AppData\\Local\\Android\\Sdk\\cmake\\3.6.3155560\\bin\\ninja.exe\" \"cmTC_52340\"\n\n[1/2] Building C object CMakeFiles/cmTC_52340.dir/testCCompiler.c.o\n[2/2] Linking C executable cmTC_52340\n\nFAILED: cmd.exe /C \"cd . &amp;&amp; C:\\Users\\Alex\\AppData\\Local\\Android\\sdk\\ndk-bundle\\toolchains\\llvm\\prebuilt\\windows-x86_64\\bin\\clang.exe  --target=armv7-none-linux-androideabi --gcc-toolchain=C:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/toolchains/arm-linux-androideabi-4.9/prebuilt/windows-x86_64 --sysroot=C:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/sysroot -isystem C:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/sysroot/usr/include/arm-linux-androideabi -D__ANDROID_API__=21 -g -DANDROID -ffunction-sections -funwind-tables -fstack-protector-strong -no-canonical-prefixes -march=armv7-a -mfloat-abi=softfp -mfpu=vfpv3-d16 -fno-integrated-as -mthumb -Wa,--noexecstack -Wformat -Werror=format-security  -Wl,--exclude-libs,libgcc.a --sysroot C:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/platforms/android-21/arch-arm -Wl,--build-id -Wl,--warn-shared-textrel -Wl,--fatal-warnings -Wl,--fix-cortex-a8 -Wl,--exclude-libs,libunwind.a -LC:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/libs/armeabi-v7a -Wl,--no-undefined -Wl,-z,noexecstack -Qunused-arguments -Wl,-z,relro -Wl,-z,now -Wl,--gc-sections -Wl,-z,nocopyreloc -pie -fPIE CMakeFiles/cmTC_52340.dir/testCCompiler.c.o  -o cmTC_52340  -lm &amp;&amp; cd .\"\n\nThe system cannot find the path specified.\nninja: build stopped: subcommand failed.\n</code></pre>\n\n<p>I am using Windows 10 and Android Studio 2.3.3.\nI can successfully run the same program on another Windows 10 machine.\nI would love to understand at least what part of this is failing. Any input is appreciated!</p>\n"}, {"tags": ["c", "mpi"], "comments": [{"owner": {"reputation": 4037, "user_id": 4056099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xF37X.jpg?s=128&g=1", "display_name": "NoseKnowsAll", "link": "https://stackoverflow.com/users/4056099/noseknowsall"}, "edited": false, "score": 0, "creation_date": 1497473929, "post_id": 44554492, "comment_id": 76099568, "body": "Please format your code so that it is more legible. Beyond making it more likely that someone will answer your question, formatting your code also has the benefit of making it clearer to yourself what the code does."}, {"owner": {"reputation": 4037, "user_id": 4056099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xF37X.jpg?s=128&g=1", "display_name": "NoseKnowsAll", "link": "https://stackoverflow.com/users/4056099/noseknowsall"}, "edited": false, "score": 0, "creation_date": 1497474222, "post_id": 44554492, "comment_id": 76099702, "body": "&quot;Unfortunately I couldn&#39;t run it&quot; - Are you getting an error when you run it? Are you unable to compile it? Do you not have access to a machine with MPI installed on it?"}, {"owner": {"reputation": 67, "user_id": 7890819, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/962ec8065412d2ed6bcd620b5661c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "Majk", "link": "https://stackoverflow.com/users/7890819/majk"}, "reply_to_user": {"reputation": 4037, "user_id": 4056099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xF37X.jpg?s=128&g=1", "display_name": "NoseKnowsAll", "link": "https://stackoverflow.com/users/4056099/noseknowsall"}, "edited": false, "score": 0, "creation_date": 1497474296, "post_id": 44554492, "comment_id": 76099742, "body": "@NoseKnowsAll I have no more access at the system where I ran MPI codes, so I couldn&#39;t run this one. But I wanted just to know if it is correct!"}], "answers": [{"tags": [], "owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "is_accepted": true, "score": 1, "last_activity_date": 1497514087, "creation_date": 1497514087, "answer_id": 44562072, "question_id": 44554492, "link": "https://stackoverflow.com/questions/44554492/mpi-code-error-check/44562072#44562072", "title": "MPI code error check", "body": "<p>Your code is wrong. It contains a deadlock, which means that it can hang forever or misbehave otherwise. <code>MPI_Send</code> is a blocking operation - it may block until the respective <code>MPI_Recv</code> is called. So both processes will be stuck at their respective <code>MPI_Send</code> operation before <code>MPI_Recv</code> is called. Use <code>MPI_Sendrecv</code> instead.</p>\n\n<p>Note that due to optimizations, MPI may instead chose to send the data immediately for small messages, so the code may complete even though it is wrong. Do not rely on that!</p>\n\n<p>Normally, you don't have to check MPI return codes, as errors are fatal in MPI by default. In particular, don't assign the return code without checking it for <code>MPI_SUCCESS</code>.</p>\n\n<p>Note that you can easily install MPI on any system, e.g. OpenMPI is available for most Linux distributions. There is no reason not to play around with MPI on a normal desktop system.</p>\n"}], "owner": {"reputation": 67, "user_id": 7890819, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/962ec8065412d2ed6bcd620b5661c4b5?s=128&d=identicon&r=PG&f=1", "display_name": "Majk", "link": "https://stackoverflow.com/users/7890819/majk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 44562072, "answer_count": 1, "score": -1, "last_activity_date": 1497514087, "creation_date": 1497473342, "last_edit_date": 1497474216, "question_id": 44554492, "link": "https://stackoverflow.com/questions/44554492/mpi-code-error-check", "title": "MPI code error check", "body": "<p>I have a piece of code, unfortunately, I couldn't run it, but I was trying to find if it has an error logically. Or if there is something missing, here is the </p>\n\n<p><strong>code:</strong> </p>\n\n<pre><code>main(int argc, char *argv[]) {\n    int numtasks, rank, dest, source, rc, count, tag=1;\n    char inmsg, outmsg=\u2019x\u2019;\n    MPI_Status Stat;\n    MPI_Init(&amp;argc,&amp;argv);\n    MPI_Comm_size(MPI_COMM_WORLD, &amp;numtasks);\n    MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);\n\n    if (rank == 0) {\n        dest = 1;\n        source = 1;\n        rc = MPI_Send(&amp;outmsg, 1, MPI_CHAR, dest, tag, MPI_COMM_WORLD);\n        rc = MPI_Recv(&amp;inmsg, 1, MPI_CHAR, source, tag, MPI_COMM_WORLD, &amp;Stat);\n    }\n    else if (rank == 1) {\n        dest = 0;\n        source = 0;\n        rc = MPI_Send(&amp;outmsg, 1, MPI_CHAR, dest, tag, MPI_COMM_WORLD);\n        rc = MPI_Recv(&amp;inmsg, 1, MPI_CHAR, source, tag, MPI_COMM_WORLD, &amp;Stat);\n    }\n\n    rc = MPI_Get_count(&amp;Stat, MPI_CHAR, &amp;count);\n    printf(\"Task %d: Received %d char(s) from task %d with tag %d \\n\",\n    rank, count, Stat.MPI_SOURCE, Stat.MPI_TAG);\n    MPI_Finalize();\n}\n</code></pre>\n\n<p>And, is it allowed to save MPI send and receive in a variable, here rc has been used?</p>\n"}, {"tags": ["c", "macros"], "comments": [{"owner": {"reputation": 7792, "user_id": 249237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjPtI.png?s=128&g=1", "display_name": "Kninnug", "link": "https://stackoverflow.com/users/249237/kninnug"}, "edited": false, "score": 4, "creation_date": 1497473254, "post_id": 44554451, "comment_id": 76099214, "body": "C does this by default: any initialisation with fewer elements than expected will have the remaining ones filled in with <code>0</code>s. I.e: <code>struct foo bar = {5}</code> is equivalent to <code>struct foo bar = {5, 0, 0, 0, 0}</code>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 7792, "user_id": 249237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjPtI.png?s=128&g=1", "display_name": "Kninnug", "link": "https://stackoverflow.com/users/249237/kninnug"}, "edited": false, "score": 1, "creation_date": 1497473574, "post_id": 44554451, "comment_id": 76099402, "body": "@Kninnug: That is not quite correct for the general case. Integers are initialised to <code>0</code>. Other types are set to <code>0.0</code> (floats), resp. <i>null pointers</i>. None of the latter is necessarily identical to a value of all bits <code>0</code>."}, {"owner": {"reputation": 7792, "user_id": 249237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjPtI.png?s=128&g=1", "display_name": "Kninnug", "link": "https://stackoverflow.com/users/249237/kninnug"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497473887, "post_id": 44554451, "comment_id": 76099549, "body": "@Olaf I did not mean to imply they would be filled with 0 bits, but rather that the elements would be set to their equivalent of zero. IIRC the <code>0</code> literal is translated to <code>0.0</code> for <code>double</code>s and null pointers for such types"}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 1, "creation_date": 1497473896, "post_id": 44554451, "comment_id": 76099554, "body": "For the general problem of a macro that iterates: <a href=\"https://stackoverflow.com/a/25429401/315052\">stackoverflow.com/a/25429401/315052</a>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 7792, "user_id": 249237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjPtI.png?s=128&g=1", "display_name": "Kninnug", "link": "https://stackoverflow.com/users/249237/kninnug"}, "edited": false, "score": 1, "creation_date": 1497474426, "post_id": 44554451, "comment_id": 76099809, "body": "@Kninnug: Ok. I just wnated to point that out for other beginners, as that&#39;s the main difference for <code>memset(\u2026, 0)</code> (which is near useless imo for non integer arrays)."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497520123, "post_id": 44554451, "comment_id": 76117261, "body": "Is the question &quot;if some arguments are missing, all items should be set to zero&quot; or is it &quot;if some arguments are missing, missing arguments should be set to zero&quot;.  Because I read the question as the former, but you accepted an answer proposing the latter."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497526418, "post_id": 44554451, "comment_id": 76121368, "body": "I posted an alternative answer in case you are actually looking for the solution mentioned in the question."}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 3942062, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/64Af3.jpg?s=128&g=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/3942062/arthur"}, "edited": false, "score": 0, "creation_date": 1497474364, "post_id": 44554509, "comment_id": 76099776, "body": "It causes a warning (missing-field-initializers), is the C99 standard specify the 0 initialization or it is the compiler behaviour ?"}, {"owner": {"reputation": 7792, "user_id": 249237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjPtI.png?s=128&g=1", "display_name": "Kninnug", "link": "https://stackoverflow.com/users/249237/kninnug"}, "edited": false, "score": 0, "creation_date": 1497474518, "post_id": 44554509, "comment_id": 76099865, "body": "The second half is not entirely accurate. Variables with static storage duration, such as those defined at file scope, or in a function with the <code>static</code> qualifier, are always initialized"}, {"owner": {"reputation": 6676, "user_id": 3716664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fN14n.png?s=128&g=1", "display_name": "tilz0R", "link": "https://stackoverflow.com/users/3716664/tilz0r"}, "reply_to_user": {"reputation": 7792, "user_id": 249237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjPtI.png?s=128&g=1", "display_name": "Kninnug", "link": "https://stackoverflow.com/users/249237/kninnug"}, "edited": false, "score": 0, "creation_date": 1497474596, "post_id": 44554509, "comment_id": 76099904, "body": "@Kninnug variables with <code>static</code> keyword are not put on stack, and are not necessary set to <code>0</code> by default. This is the job of compiler/linker to add code to reset everything to <code>0</code> in RAM at startup. In general, all global and static variables will be set to <code>0</code> but this can be disabled."}, {"owner": {"reputation": 7792, "user_id": 249237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjPtI.png?s=128&g=1", "display_name": "Kninnug", "link": "https://stackoverflow.com/users/249237/kninnug"}, "edited": false, "score": 0, "creation_date": 1497474825, "post_id": 44554509, "comment_id": 76100006, "body": "@tilz0R The standard doesn&#39;t mention any stack, but does state how static objects are to be initialized: C11&#167;5.1.2 [1]: <i>&quot;All objects with static storage duration shall be initialized (set to their initial values) before program startup. The manner and timing of such initialization are otherwise unspecified.&quot;</i> And &#167;6.7.9 [8]: <i>&quot;If an object that has static or thread storage duration is not initialized explicitly, then&quot; [list of rules for initializing to zero values]</i>"}, {"owner": {"reputation": 6676, "user_id": 3716664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fN14n.png?s=128&g=1", "display_name": "tilz0R", "link": "https://stackoverflow.com/users/3716664/tilz0r"}, "reply_to_user": {"reputation": 7792, "user_id": 249237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjPtI.png?s=128&g=1", "display_name": "Kninnug", "link": "https://stackoverflow.com/users/249237/kninnug"}, "edited": false, "score": 0, "creation_date": 1497474898, "post_id": 44554509, "comment_id": 76100042, "body": "@Kninnug I do agree with you, but in some cases this can be prevented and I can give you example. Just create chat if you want to know more."}, {"owner": {"reputation": 171, "user_id": 3942062, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/64Af3.jpg?s=128&g=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/3942062/arthur"}, "edited": false, "score": 0, "creation_date": 1497475083, "post_id": 44554509, "comment_id": 76100129, "body": "Ok it solves my problem then ! But what if I wanted to have them to 1 by default ?"}], "tags": [], "owner": {"reputation": 6676, "user_id": 3716664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fN14n.png?s=128&g=1", "display_name": "tilz0R", "link": "https://stackoverflow.com/users/3716664/tilz0r"}, "is_accepted": true, "score": 3, "last_activity_date": 1497473386, "creation_date": 1497473386, "answer_id": 44554509, "question_id": 44554451, "link": "https://stackoverflow.com/questions/44554451/programming-c-default-arguments-in-a-macro/44554509#44554509", "title": "Programming C: default arguments in a macro?", "body": "<p>C sets to 0 by default all others which are not initialized.</p>\n\n<p>For example:</p>\n\n<pre><code>typedef struct {\n    int a,b,c,d,e,f;\n} myStruct;\n\nmyStruct str = {1, 2, 3};\n</code></pre>\n\n<p>Now you have values <code>str.a = 1, str.b = 2 and str.c = 3</code> while all others are set to <code>0</code>.</p>\n\n<hr>\n\n<p>However, if you do this:</p>\n\n<pre><code>myStruct str;\n</code></pre>\n\n<p>Then you don't set anything to <code>0</code>, specially not if this is local variable declared on stack.\nIf variable is global, then it can be set to <code>0</code> if linker puts code to set global variables to <code>0</code> on startup.</p>\n"}, {"tags": [], "owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "is_accepted": false, "score": 1, "last_activity_date": 1497526385, "creation_date": 1497526385, "answer_id": 44566437, "question_id": 44554451, "link": "https://stackoverflow.com/questions/44554451/programming-c-default-arguments-in-a-macro/44566437#44566437", "title": "Programming C: default arguments in a macro?", "body": "<blockquote>\n  <p>If it receives less than 5 arguments, it should put 0 in the structure.</p>\n</blockquote>\n\n<p>This can be solved by using compound literals. First we can create a macro with compound literals to determine the number of VA_ARGS, since there is no standard macro for that:</p>\n\n<pre><code>#define ARGS_N(...) (sizeof((int[]){ __VA_ARGS__ }) / sizeof(int))\n</code></pre>\n\n<p>This can be used to determine the number of items. In this case if there are exactly 5, the struct should be initialized with those values, otherwise it should be initialized to 0.</p>\n\n<p>We can then use the above macro to create a conditional initializer list. Given some struct:</p>\n\n<pre><code>typedef struct\n{\n  int a;\n  int b;\n  int c;\n  int d;\n  int e;\n} test_t;\n</code></pre>\n\n<p>We could initialize instances of that struct through a custom method:</p>\n\n<pre><code>test_t t1 = TEST_INIT(1,2,3); \n</code></pre>\n\n<p>Which would be implemented as:</p>\n\n<pre><code>#define TEST_INIT(...) (ARGS_N(__VA_ARGS__)==5) ? (test_t){__VA_ARGS__} : (test_t){0}\n</code></pre>\n\n<hr>\n\n<p>Unfortunately some compilers (gcc) will whine about missing initializers since both paths of the conditions are expanded, even if only one is evaluated. In this case we can safely tell gcc to shut up:</p>\n\n<pre><code>#pragma GCC diagnostic ignored \"-Wmissing-field-initializers\"\n</code></pre>\n\n<hr>\n\n<p>Full program:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\n#pragma GCC diagnostic push\n#pragma GCC diagnostic ignored \"-Wmissing-field-initializers\"\n\ntypedef struct\n{\n  int a;\n  int b;\n  int c;\n  int d;\n  int e;\n} test_t;\n\n#define ARGS_N(...) (sizeof((int[]){ __VA_ARGS__ }) / sizeof(int))\n\n#define TEST_INIT(...) (ARGS_N(__VA_ARGS__)==5) ? (test_t){__VA_ARGS__} : (test_t){0}\n\nint main (void)\n{\n  test_t t1 = TEST_INIT(1,2,3);  \n  test_t t2 = TEST_INIT(1,2,3,4,5);  \n  printf(\"%d %d %d %d %d\\n\", t1.a, t1.b, t1.c, t1.d, t1.e);\n  printf(\"%d %d %d %d %d\\n\", t2.a, t2.b, t2.c, t2.d, t2.e);\n}\n\n#pragma GCC diagnostic pop\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0 0 0 0 0\n1 2 3 4 5\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 3942062, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/64Af3.jpg?s=128&g=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/3942062/arthur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "accepted_answer_id": 44554509, "answer_count": 2, "score": 0, "last_activity_date": 1497526385, "creation_date": 1497473140, "question_id": 44554451, "link": "https://stackoverflow.com/questions/44554451/programming-c-default-arguments-in-a-macro", "title": "Programming C: default arguments in a macro?", "body": "<p>I'm writing some macro that write a structure {a, b, c, d, e}.\nBut this macro is able to receive 5 arguments or less. If it receives less than 5 arguments, it should put 0 in the structure.</p>\n\n<p>I was trying to make a macro that repeat \"0, \" N times but as this N is the number of arguments, it is not a \"hard-coded\" value, so I cannot concatenate it with my macro that repeat the 0.</p>\n\n<p>I was wondering if there is any way to have a default value on the macro themselves.</p>\n\n<pre><code>#define REPEAT1(s) s\n#define REPEAT2(s) s, s\n#define REPEAT3(s) s, REPEAT2(s)\n...\n#define REPEATN(n, s) REPEAT ## n (s)\n...\n{__VA_ARGS__, REPEATN((5 - VA_ARGS_NUM(__VA_ARGS__)), 0)} \n// can't work because ## will not create a valid token with REPEAT and (5 - ....)\n</code></pre>\n"}, {"tags": ["c", "pointers", "integer"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497473015, "post_id": 44554382, "comment_id": 76099060, "body": "<code>getc</code> etc return an <code>int</code>, not a <code>char</code> intentionally! <code>while(ch != EOF){</code> with <code>char ch;</code> is soo very wrong! And check the result of functions like <code>fopen</code>, etc!"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1497473028, "post_id": 44554382, "comment_id": 76099070, "body": "You declared <code>ch</code> as a <code>char *</code> instead of <code>char</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1497473146, "post_id": 44554382, "comment_id": 76099152, "body": "@PatrickRoberts It is not acceptable to store the return value of <code>getc</code> in a <code>char</code> because it loses information."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1497473184, "post_id": 44554382, "comment_id": 76099172, "body": "@PatrickRoberts: A <code>char</code> can either not hold <code>EOF</code>, or it will cause trouble for certain valid character codes, depending on the signed-ness of <code>char</code>! Maybe you also want to recap C&#39;s stream functions. and <code>EOF</code>? Either way, it is plain wrong."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1497473321, "post_id": 44554382, "comment_id": 76099268, "body": "@PatrickRoberts From your own link: &quot;<i>This function returns the character read as an unsigned char cast to an int or EOF on end of file or error.</i>&quot; Either <code>char</code> is an unsigned type on your platform, then <code>EOF</code> is out of range; or <code>char</code> is a signed type, then half of all valid characters are out of range."}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1497473337, "post_id": 44554382, "comment_id": 76099276, "body": "@PatrickRoberts No that&#39;s not correct. This is the third person telling you so. <code>EOF</code> cannot fit in a char."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1497473627, "post_id": 44554382, "comment_id": 76099425, "body": "@PatrickRoberts <code>EOF</code> is not guaranteed to be <code>-1</code>, and <code>char</code> is not guaranteed to be able to store negative values. Check your sources etc."}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1497473690, "post_id": 44554382, "comment_id": 76099451, "body": "@PatrickRoberts So ask yourself this. Why does <code>getc</code> return <code>int</code> and not <code>char</code>? Were the original authors just missing the point or are you? But yes, I do agree with you that the question has a different initial problem."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1497473767, "post_id": 44554382, "comment_id": 76099491, "body": "@PatrickRoberts You missed the second half of my other comment: On the platform you&#39;re testing, <code>char</code> is a signed type. That means it can&#39;t store the values <code>128</code> .. <code>255</code>, which can be returned by<code>getc</code>. In practice the likely effect is that <code>255</code> will turn into <code>-1</code> and be confused for EOF."}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1497473783, "post_id": 44554382, "comment_id": 76099497, "body": "@PatrickRoberts <a href=\"https://stackoverflow.com/a/35356684/918959\">here I show how storing the return value of getchar is going to fail in various scenarios</a>"}], "answers": [{"tags": [], "owner": {"reputation": 105028, "user_id": 134554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1894f68e0b15fd3d5b27bfcb021fa11c?s=128&d=identicon&r=PG", "display_name": "John Bode", "link": "https://stackoverflow.com/users/134554/john-bode"}, "is_accepted": false, "score": 2, "last_activity_date": 1497474651, "creation_date": 1497474651, "answer_id": 44554802, "question_id": 44554382, "link": "https://stackoverflow.com/questions/44554382/compare-between-pointers-and-integer/44554802#44554802", "title": "Compare between pointers and integer", "body": "<p>Change the type of <code>ch</code> from <code>char *</code> to <code>int</code>.  </p>\n\n<blockquote>\n<strong>7.21.7.5 The <code>getc</code> function</strong><br><br>\n<strong>Synopsis</strong><br><br>\n1&nbsp;&nbsp;&nbsp;&nbsp;<code>#include &lt;stdio.h&gt;</code><br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>int getc(FILE *stream);</code><br><br>\n<strong>Description</strong><br><br>\n2&nbsp;&nbsp;&nbsp;&nbsp;The <code>getc</code> function is equivalent to <code>fgetc</code>, except that if it is implemented as a macro, it\nmay evaluate <code>stream</code> more than once, so the argument should never be an expression\nwith side effects.<br><br>\n<strong>Returns</strong><br><br>\n3&nbsp;&nbsp;&nbsp;&nbsp;The <code>getc</code> function returns the next character from the input stream pointed to by\n<code>stream</code>. If the stream is at end-of-file, the end-of-file indicator for the stream is set and\n<code>getc</code> returns <code>EOF</code>. If a read error occurs, the error indicator for the stream is set and\n<code>getc</code> returns <code>EOF</code>.\n</blockquote>\n\n<p><sup><em><a href=\"http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf\" rel=\"nofollow noreferrer\">C 2011 Standard, Online Draft</a></em></sup></p>\n\n<p>You will need to use <code>%c</code> instead of <code>%s</code> to print out <code>ch</code>; additionally, the following will result in an infinite loop</p>\n\n<pre><code>ch = getc(file1);\nwhile(ch != EOF){   \n    printf(\"%s\",ch);\n} \n</code></pre>\n\n<p>because you're not updating <code>ch</code> in the body of the loop.  Change that to</p>\n\n<pre><code>while ( ( ch = getc( file1 ) ) != EOF )\n  printf( \"%c\", ch );\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 2162978, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/fde1aef05ef5fcc9674e561d515d0fde?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Sacramento", "link": "https://stackoverflow.com/users/2162978/jo%c3%a3o-sacramento"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1497487689, "creation_date": 1497472884, "last_edit_date": 1497487689, "question_id": 44554382, "link": "https://stackoverflow.com/questions/44554382/compare-between-pointers-and-integer", "title": "Compare between pointers and integer", "body": "<p>I have a question, I tried to copy one line from a pointer to file but there is one error that says that I cannot compare a interger with a pointer, can anyone help me? The error is in line <code>ch = getc(file1);</code> and <code>while(ch != EOF)</code></p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;signal.h&gt;\n\n#define GetCurrentDir getcwd  //get the path of file\n#define BUFFER_LEN 1024\n\n\nint main(){\n\n    char cCurrentPath[FILENAME_MAX];  //get   \n    char line[BUFFER_LEN];  //get command line   \n    char* argv[100];        //user command   \n    char* path= \"/bin/\";    //set path at bin   \n    char *ch;\n    char progpath[20];      //full file path\n    int argc;               //arg count  \n    FILE *file1, *file2;    //Files for history \n    int delete_line, count=0;   //line to delete and counter\n\n    while(1){\n\n        file1 = fopen(\"fileOne\",\"w\");\n        if(GetCurrentDir(cCurrentPath, sizeof(cCurrentPath)))\n        {\n            printf(\"%s\",cCurrentPath);   \n        }\n        printf(\"/SimpleShell&gt;&gt; \");                    //print shell prompt\n\n        if(!fgets(line, BUFFER_LEN, stdin))\n        {                       //get command and put it in line \n            break;                                //if user hits CTRL+D break\n        }\n        else if(line, BUFFER_LEN, SIGQUIT){\n            fopen(\"fileOne.c\",\"r\");\n            ch = getc(file1);\n            while(ch != EOF){   \n                printf(\"%s\",ch);\n            } \n        } \n\n        if(count&lt;20)\n        {\n            fputs(argv[100] ,file1);  \n        }\n        else{\n            fclose(file1);\n            file1 = fopen(\"fileOne.c\",\"r\"); \n            rewind(file1);        \n            file2 = fopen(\"repicla.c\",\"w\"); \n            ch = getc(file1);   \n            while(ch != EOF){       \n                ch = getc(file1);       \n                if(ch != \"\\n\"){         \n                    count++;            \n                    if(count != 20){                \n                        putc(ch, file2);            \n                    }\n                }   \n            }   \n            fclose(file1);  \n            fclose(file2);  \n            remove(\"fileOne.c\");    \n            rename(\"replica.c\",\"fileOne.c\");    \n            fputs(argv[100] ,file1);   \n        }\n</code></pre>\n"}, {"tags": ["c", "mmap"], "comments": [{"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 0, "creation_date": 1497471165, "post_id": 44553907, "comment_id": 76098127, "body": "what is the value of <code>ram_bytes</code>?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1497472076, "post_id": 44553907, "comment_id": 76098594, "body": "You didn&#39;t check if <code>mmap</code> succeeded!"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1497472230, "post_id": 44553907, "comment_id": 76098661, "body": "@DavidSchwartz it doesn&#39;t matter, sigbus will be generated when the mapping is successful."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1497472344, "post_id": 44553907, "comment_id": 76098699, "body": "@AnttiHaapala Sure, but that would be a completely different reason than if, for example, he&#39;s on a platform that whose shared memory support has been disabled."}, {"owner": {"reputation": 313, "user_id": 6472208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc8bde1900fd9f0ca22c7c014fbabe50?s=128&d=identicon&r=PG&f=1", "display_name": "Davigor", "link": "https://stackoverflow.com/users/6472208/davigor"}, "reply_to_user": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 0, "creation_date": 1497472941, "post_id": 44553907, "comment_id": 76099022, "body": "@myaut ram_bytes is 1048576  (1 MiB)"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497472946, "post_id": 44553907, "comment_id": 76099025, "body": "Sidenote: If you want to model a CPU, why not simply allocating the RAM? Why the complicated way mmapping a file?"}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 2, "creation_date": 1497473688, "post_id": 44553907, "comment_id": 76099450, "body": "Also <code>int16_t ramD;</code> is a very strange variable type for a file descriptor. Why not just use an int?"}, {"owner": {"reputation": 313, "user_id": 6472208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc8bde1900fd9f0ca22c7c014fbabe50?s=128&d=identicon&r=PG&f=1", "display_name": "Davigor", "link": "https://stackoverflow.com/users/6472208/davigor"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497557811, "post_id": 44553907, "comment_id": 76141275, "body": "@Olaf mmap allows me to sync the file to disk using msync after a series of processes that act on the RAM memory (file)"}], "answers": [{"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": true, "score": 10, "last_activity_date": 1497498970, "last_edit_date": 1497498970, "creation_date": 1497471891, "answer_id": 44554121, "question_id": 44553907, "link": "https://stackoverflow.com/questions/44553907/mmap-sigbus-error-and-initializing-the-file/44554121#44554121", "title": "mmap SIGBUS error and initializing the file", "body": "<p>The <code>SIGBUS</code> means that you're writing outside the file. From Linux man pages <a href=\"http://www.manpages.info/linux/mmap.2.html\" rel=\"noreferrer\"><code>mmap(2)</code></a>:</p>\n\n<blockquote>\n  <p><strong><code>SIGBUS</code></strong></p>\n  \n  <p>Attempted access to a portion of the buffer that does not correspond  to  the  file  (for  example, beyond the end of the file,\n            including the case  where  another  process  has  truncated  the\n            file).</p>\n</blockquote>\n\n<p>As you create a new file, it is initially <em>empty</em>, i.e. has size of 0 bytes. You need to resize it using <code>ftruncate</code> to be at least big enough to contain the address written to (possibly rounded up to the page size). As you wanted to have a ram disk of size <code>ram_bytes</code>, then:</p>\n\n<pre><code>ftruncate(ramD, ram_bytes);\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/36056164/918959\">See this answer for a longer explanation about the same mechanism, using POSIX shared memory objects</a>.</p>\n\n<hr>\n\n<p>PS. <code>open</code> returns an <code>int</code>; you should use an <code>int</code>, not <code>int16_t</code>, to store the file descriptor.</p>\n"}], "owner": {"reputation": 313, "user_id": 6472208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc8bde1900fd9f0ca22c7c014fbabe50?s=128&d=identicon&r=PG&f=1", "display_name": "Davigor", "link": "https://stackoverflow.com/users/6472208/davigor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1345, "favorite_count": 0, "accepted_answer_id": 44554121, "answer_count": 1, "score": 6, "last_activity_date": 1497498970, "creation_date": 1497471087, "question_id": 44553907, "link": "https://stackoverflow.com/questions/44553907/mmap-sigbus-error-and-initializing-the-file", "title": "mmap SIGBUS error and initializing the file", "body": "<p>I'm trying to model a basic CPU by mmapping a 1 MiB file, corresponding to the RAM size. I want to read/write this file. Currently I'm getting a SIGBUS error with <code>ram[2] = 1</code> which I gather is from trying to mmap outside the file range. I've read that perhaps I need to fill the file with zeroes as placeholders, but I'm a bit confused as to why I have to do this, since I thought mmap would automatically set aside a memory chunk for me that would be allocated when I first touch it (as I am trying to do below with my test). What am I missing? </p>\n\n<pre><code>int16_t ramD;\nif ( (ramD = open(\"ramMap.txt\", O_RDWR | O_CREAT, 0666)) == -1)\n{\n    errx(EX_OSERR, \"RAM could not be initialized\");\n}\n\nuint8_t* ram = mmap(0, ram_bytes, PROT_READ | PROT_WRITE, MAP_SHARED, ramD, 0);\n\nram[2] = 1;\nprintf(\"%i\", ram[2]);\n</code></pre>\n"}, {"tags": ["c", "compilation", "macros"], "comments": [{"owner": {"reputation": 2024, "user_id": 1315171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/081b87a82980b9c47ce10d65653ffe57?s=128&d=identicon&r=PG", "display_name": "Zakir", "link": "https://stackoverflow.com/users/1315171/zakir"}, "edited": false, "score": 1, "creation_date": 1497470268, "post_id": 44553636, "comment_id": 76097681, "body": "Dup of <a href=\"https://stackoverflow.com/questions/985403/seeing-expanded-c-macros\" title=\"seeing expanded c macros\">stackoverflow.com/questions/985403/seeing-expanded-c-macros</a>"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1497470895, "post_id": 44553636, "comment_id": 76098011, "body": "At least some IDEs can expand individual macro invocations for you too. I know Eclipse/CDT does this when you hover the pointer over one. Note that the expansion could differ if the IDEs environment and options are different from that of the compiler."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497472839, "post_id": 44553636, "comment_id": 76098961, "body": "&quot;Can I apply macros to a C program without compiling it?&quot; - sure. The C <b>pre</b>processor can be run before the compiler."}], "answers": [{"comments": [{"owner": {"reputation": 1273, "user_id": 2287427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12dacf80e8ab397c3fdcd4f0d49c32d?s=128&d=identicon&r=PG", "display_name": "Dave S", "link": "https://stackoverflow.com/users/2287427/dave-s"}, "edited": false, "score": 1, "creation_date": 1497470356, "post_id": 44553665, "comment_id": 76097730, "body": "If your compiler doesn&#39;t offer this feature, you can try to find the macro definition then do the text substitutions by hand.  That&#39;s pretty easy for a few instances."}, {"owner": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "edited": false, "score": 0, "creation_date": 1497470516, "post_id": 44553665, "comment_id": 76097804, "body": "Thanks @dbush!  I&#39;d mark this as best but the question already got closed out as a dupe."}, {"owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "reply_to_user": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "edited": false, "score": 0, "creation_date": 1497470553, "post_id": 44553665, "comment_id": 76097826, "body": "@AlanStorm I think you can still accept once 15 minutes has passed."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 1273, "user_id": 2287427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12dacf80e8ab397c3fdcd4f0d49c32d?s=128&d=identicon&r=PG", "display_name": "Dave S", "link": "https://stackoverflow.com/users/2287427/dave-s"}, "edited": false, "score": 0, "creation_date": 1497470608, "post_id": 44553665, "comment_id": 76097851, "body": "@DaveS: Is there a compiler that doesn&#39;t? I don&#39;t think I&#39;ve ever met a C or C++ compiler that didn&#39;t."}, {"owner": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "edited": false, "score": 0, "creation_date": 1497471077, "post_id": 44553665, "comment_id": 76098090, "body": "So you can @dbush -- thanks again!"}], "tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": true, "score": 3, "last_activity_date": 1497470388, "last_edit_date": 1497470388, "creation_date": 1497470249, "answer_id": 44553665, "question_id": 44553636, "link": "https://stackoverflow.com/questions/44553636/c-apply-macros-dont-compile/44553665#44553665", "title": "C: Apply Macros, Don&#39;t Compile", "body": "<p>If you're using gcc, use the <code>-E</code> option.  That will generate the preprocessor output to stdout.</p>\n\n<pre><code>gcc -E -o src_pp.c src.c\n</code></pre>\n\n<p>Contents of src_pp.c:</p>\n\n<pre><code># 1 \"src.c\"\n# 1 \"&lt;built-in&gt;\"\n# 1 \"&lt;command-line&gt;\"\n# 1 \"/usr/include/stdc-predef.h\" 1 3 4\n# 1 \"&lt;command-line&gt;\" 2\n# 1 \"src.c\"\n# 1 \"/usr/include/stdio.h\" 1 3 4\n\n...\n\n# 6 \"src.c\" 2\n\nint main()\n{\n    int i = 42;\n    int* pI = &amp;i;\n\n    printf(\"iP points to address (base 16): %\" \"l\" \"x\" \"\\n\", (uintptr_t) pI);\n    printf(\"iP points to address (base 10): %\" \"l\" \"d\" \"\\n\", (uintptr_t) pI);\n}\n</code></pre>\n"}], "owner": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "closed_date": 1497470414, "accepted_answer_id": 44553665, "answer_count": 1, "score": 0, "last_activity_date": 1497470388, "creation_date": 1497470125, "question_id": 44553636, "link": "https://stackoverflow.com/questions/44553636/c-apply-macros-dont-compile", "closed_reason": "Duplicate", "title": "C: Apply Macros, Don&#39;t Compile", "body": "<p>Context: Long time programmer, coming back to C as a baby. Apologies for what are probably obvious to you questions. </p>\n\n<p>Can I apply macros to a C program without compiling it?</p>\n\n<p>My understand of C Macros: They process your source file <em>before</em> handing it off to be compiled</p>\n\n<blockquote>\n  <p><strong>Me</strong>: Here's my file <br/>\n  <strong>Compiler</strong>: OK, let me apply the macros get something I can compile <br/>\n  <strong>Compiler</strong>: OK, macros applied, lets compile this</p>\n</blockquote>\n\n<p>Is there a way to view the program file that's actually passed off for compilation?  i.e. a way to apply the macros but <strong>not</strong> compile the program.   </p>\n\n<p>For example, I have a small program that uses the <code>PRIxPTR</code> macro.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdint.h&gt;\n\n//needed for the PRI*PTR Macros\n#include &lt;inttypes.h&gt;\n\nint main()\n{\n    int i = 42;\n    int* pI = &amp;i;\n\n    printf(\"iP points to address (base 16): %\" PRIxPTR \"\\n\", (uintptr_t) pI);         \n    printf(\"iP points to address (base 10): %\" PRIdPTR \"\\n\", (uintptr_t) pI);                 \n}\n</code></pre>\n\n<p>Compiling and running the program </p>\n\n<pre><code>$ cc main.c; ./a.out\n</code></pre>\n\n<p>produces the following output</p>\n\n<pre><code>iP points to address (base 16): 7fff545f587c\niP points to address (base 10): 140734608922748    \n</code></pre>\n\n<p>I would like to see the C source that <code>PRIxPTR</code> macro actually produces.</p>\n\n<p>This seems like it would be possible -- is it?  If not, is my understanding of macros incorrect?  Or is there something else that prevents this from happening?</p>\n"}, {"tags": ["c", "string"], "comments": [{"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497469716, "post_id": 44553491, "comment_id": 76097368, "body": "What did you try ?"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1497469811, "post_id": 44553491, "comment_id": 76097419, "body": "do you mean remove it from the variable <code>temp</code> or do you mean make a new variable without the \\n?"}, {"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1497469881, "post_id": 44553491, "comment_id": 76097448, "body": "If you already know it is at the beginning...what&#39;s stopping you?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1497469882, "post_id": 44553491, "comment_id": 76097450, "body": "Downvoted for apparent lack of effort in researching/solving this before posting here, and downvoted for lack of effort in writing this question."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 1, "creation_date": 1497469948, "post_id": 44553491, "comment_id": 76097493, "body": "Yes, <i>gang downvoting</i>, that is the perfect way to help someone learn how to use S.O. -- c&#39;mon..."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1497469969, "post_id": 44553491, "comment_id": 76097505, "body": "if a new variable - is it to be on the stack, dynamic,...?"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 7825296, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a640effcf3b9bbfd4edbeae1bf4d9d25?s=128&d=identicon&r=PG&f=1", "display_name": "Saga", "link": "https://stackoverflow.com/users/7825296/saga"}, "edited": false, "score": 0, "creation_date": 1497469884, "post_id": 44553533, "comment_id": 76097452, "body": "Thanks, but I forgot to mention that I want also to check if there&#39;s \\n at the at the beginning of the string.."}, {"owner": {"reputation": 13431, "user_id": 7051394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/035a36a4ffaec4c1c1efd85e34181ace?s=128&d=identicon&r=PG&f=1", "display_name": "Right leg", "link": "https://stackoverflow.com/users/7051394/right-leg"}, "reply_to_user": {"reputation": 57, "user_id": 7825296, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a640effcf3b9bbfd4edbeae1bf4d9d25?s=128&d=identicon&r=PG&f=1", "display_name": "Saga", "link": "https://stackoverflow.com/users/7825296/saga"}, "edited": false, "score": 0, "creation_date": 1497469914, "post_id": 44553533, "comment_id": 76097471, "body": "@Saga How about an <code>if</code>?"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1497469920, "post_id": 44553533, "comment_id": 76097478, "body": "put that in the question"}, {"owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "edited": false, "score": 0, "creation_date": 1497474286, "post_id": 44553533, "comment_id": 76099738, "body": "This is fine if <code>c</code> is a pointer to a string literal, but will not work if <code>c</code> is an array (as OP has in posted code) since arrays are not modifiable lvalues."}], "tags": [], "owner": {"reputation": 530, "user_id": 8155579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4318976abc4243f033ca44e6eab3bf3?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Shiles", "link": "https://stackoverflow.com/users/8155579/carl-shiles"}, "is_accepted": false, "score": 1, "last_activity_date": 1497470138, "last_edit_date": 1497470138, "creation_date": 1497469803, "answer_id": 44553533, "question_id": 44553491, "link": "https://stackoverflow.com/questions/44553491/how-to-get-rid-of-n-at-the-beginning-of-string/44553533#44553533", "title": "How to get rid of &#39;\\n&#39; at the beginning of string", "body": "<p>In C? You can effectively do this by: </p>\n\n<pre><code>char* c = \"\\nnoodle\";\nif (c[0] == '\\n')\n  c++;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "edited": false, "score": 1, "creation_date": 1497474849, "post_id": 44553582, "comment_id": 76100024, "body": "Just want to mention for posterity that <code>memmove()</code> is the correct function here, <i>not</i> <code>memcpy()</code> or <code>strcpy()</code> (as another answer tried), which cause undefined behavior when copying between overlapping objects."}], "tags": [], "owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 3, "last_activity_date": 1497469950, "creation_date": 1497469950, "answer_id": 44553582, "question_id": 44553491, "link": "https://stackoverflow.com/questions/44553491/how-to-get-rid-of-n-at-the-beginning-of-string/44553582#44553582", "title": "How to get rid of &#39;\\n&#39; at the beginning of string", "body": "<p>You can use standard C function <code>memmove</code>. For example</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n\nint main( void )\n{\n    char temp[] = \"\\nHello\";\n\n    if (temp[0] == '\\n')\n    {\n        memmove(temp, temp + 1, strlen(temp));\n    }\n\n    puts(temp);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1017, "user_id": 2072005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba025189d0d4e0fe5a3e6b2b9062be3?s=128&d=identicon&r=PG", "display_name": "Jonatan Goebel", "link": "https://stackoverflow.com/users/2072005/jonatan-goebel"}, "edited": false, "score": 0, "creation_date": 1497472665, "post_id": 44554161, "comment_id": 76098866, "body": "<code>strcpy</code> usually comes with <code>__restrict</code> keyword, witch makes your construction an undefined behavior."}, {"owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "edited": false, "score": 3, "creation_date": 1497474469, "post_id": 44554161, "comment_id": 76099840, "body": "<a href=\"http://port70.net/~nsz/c/c11/n1570.html#7.24.2.3p2\" rel=\"nofollow noreferrer\">Using <code>strcpy()</code> to copy between overlapping objects causes undefined behavior.</a>"}], "tags": [], "owner": {"reputation": 23946, "user_id": 3100312, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/486be6e961e6c8a2e4705058600e666f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ogilvie", "link": "https://stackoverflow.com/users/3100312/paul-ogilvie"}, "is_accepted": false, "score": -3, "last_activity_date": 1497472053, "creation_date": 1497472053, "answer_id": 44554161, "question_id": 44553491, "link": "https://stackoverflow.com/questions/44553491/how-to-get-rid-of-n-at-the-beginning-of-string/44554161#44554161", "title": "How to get rid of &#39;\\n&#39; at the beginning of string", "body": "<p>And what about....</p>\n\n<pre><code>    if (temp[0]=='\\n') strcpy(temp, temp+1);\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 7825296, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a640effcf3b9bbfd4edbeae1bf4d9d25?s=128&d=identicon&r=PG&f=1", "display_name": "Saga", "link": "https://stackoverflow.com/users/7825296/saga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 44553582, "answer_count": 3, "score": -6, "last_activity_date": 1497472403, "creation_date": 1497469638, "last_edit_date": 1497469889, "question_id": 44553491, "link": "https://stackoverflow.com/questions/44553491/how-to-get-rid-of-n-at-the-beginning-of-string", "title": "How to get rid of &#39;\\n&#39; at the beginning of string", "body": "<p>Here's the string char <code>temp[] = \"\\nHello\";</code></p>\n\n<p>How to get rid of the <code>\\n</code> at the beginning of the string?</p>\n"}, {"tags": ["c", "input", "character"], "comments": [{"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1497469650, "post_id": 44553247, "comment_id": 76097331, "body": "<code>scanf</code> is making your life extremely difficult here... Why not either read each <i>line</i> of user input into a buffer (e.g. with <code>fgets</code>) and check the first char and the length of the string or use <code>getchar</code> in a loop until you find <code>&#39;\\n&#39;</code> or <code>EOF</code>?"}, {"owner": {"reputation": 155, "user_id": 4400560, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/aab1e9dd14ef516214d398ce4302c7ca?s=128&d=identicon&r=PG&f=1", "display_name": "Ran", "link": "https://stackoverflow.com/users/4400560/ran"}, "edited": false, "score": 0, "creation_date": 1497469959, "post_id": 44553247, "comment_id": 76097501, "body": "My bad about that one, I thought valid alone would run well."}], "answers": [{"comments": [{"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 1, "creation_date": 1497470037, "post_id": 44553505, "comment_id": 76097543, "body": "Why <code>character[1]</code> should not be zero before the <code>scanf()</code> ? This answer is wrong, who upvote this ?"}, {"owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "edited": false, "score": 1, "creation_date": 1497470060, "post_id": 44553505, "comment_id": 76097558, "body": "And don&#39;t suggest <code>gets()</code>! <a href=\"https://stackoverflow.com/questions/1694036/why-is-the-gets-function-so-dangerous-that-it-should-not-be-used\">The usafe <code>gets()</code></a> should never be used for any reason. It was deprecated in C99, and completely removed from the language in C11."}, {"owner": {"reputation": 61, "user_id": 7986436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5afae0b790d700162d1bcfcf3882466c?s=128&d=identicon&r=PG&f=1", "display_name": "KillerIsDead", "link": "https://stackoverflow.com/users/7986436/killerisdead"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497470179, "post_id": 44553505, "comment_id": 76097627, "body": "@Stargateur. Just run the code bro. If it&#39;s working - it is not stupid."}, {"owner": {"reputation": 155, "user_id": 4400560, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/aab1e9dd14ef516214d398ce4302c7ca?s=128&d=identicon&r=PG&f=1", "display_name": "Ran", "link": "https://stackoverflow.com/users/4400560/ran"}, "edited": false, "score": 0, "creation_date": 1497471319, "post_id": 44553505, "comment_id": 76098212, "body": "I was trying to avoid a string but I&#39;ll go the string way, thank you."}, {"owner": {"reputation": 411, "user_id": 5242840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3932a41e69aa410e39f64fef149298a6?s=128&d=identicon&r=PG", "display_name": "Xephi", "link": "https://stackoverflow.com/users/5242840/xephi"}, "edited": false, "score": 0, "creation_date": 1497474994, "post_id": 44553505, "comment_id": 76100088, "body": "you never known if  <code>character[1] == 0</code> , your pointer on character get by assignation of an empty string NEVER set each bit to 0, in your case, you have to iterate over the array and set each char to 0, by the way, you can use a memset to do such a thing : <code>memset(character, 0, 254);</code>"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1497476371, "post_id": 44553505, "comment_id": 76100700, "body": "Off by 1.  <code>char character[255] = &quot;&quot;;       scanf(&quot;%254s&quot;, character);</code>  254, not 255."}], "tags": [], "owner": {"reputation": 61, "user_id": 7986436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5afae0b790d700162d1bcfcf3882466c?s=128&d=identicon&r=PG&f=1", "display_name": "KillerIsDead", "link": "https://stackoverflow.com/users/7986436/killerisdead"}, "is_accepted": false, "score": 0, "last_activity_date": 1497469910, "last_edit_date": 1497469910, "creation_date": 1497469697, "answer_id": 44553505, "question_id": 44553247, "link": "https://stackoverflow.com/questions/44553247/c-asking-for-a-character-input-again-if-the-user-inserts-more-than-one-charact/44553505#44553505", "title": "C - Asking for a character input again if the user inserts more than one character", "body": "<p>I would say, the easiest way here is to use a string, something like this</p>\n\n<pre><code>    char character[255] = \"\";  \n    scanf(\"%255s\", character); // or use gets(character);\n\n    if(character[1] == 0)\n    {\n       // 1 char entered\n    } else {\n       // more than one\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1497492775, "post_id": 44554065, "comment_id": 76105051, "body": "<code>fgets()</code> is the best tool in the shed for these types of problems."}], "tags": [], "owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "is_accepted": false, "score": 3, "last_activity_date": 1497471674, "creation_date": 1497471674, "answer_id": 44554065, "question_id": 44553247, "link": "https://stackoverflow.com/questions/44553247/c-asking-for-a-character-input-again-if-the-user-inserts-more-than-one-charact/44554065#44554065", "title": "C - Asking for a character input again if the user inserts more than one character", "body": "<p>It less error-prone to use <code>fgets()</code> to get a line of text, and <code>sscanf()</code> to parse the line. This is also a more flexible approach that allows multiple scans of the input line when necessary. Note that <code>fgets()</code> keeps the newline character, if there is room in the buffer. Thus one approach would be to read a line of text, and get the first character and the second character. If both characters are successfully read, and the second character is a <code>\\n</code>, then input is as expected.</p>\n\n<p>You should always check the return values from functions which do return a value. This can be used to help validate input. In the code below, if <code>sscanf()</code> does not return <code>2</code>, then a character (other than the newline) was not entered. If two characters were scanned, the second should be a <code>\\n</code>; if it is not, more than one character (not including the newline) was entered by the user. Also note that the return value from <code>fgets()</code> itself is checked for errors; an error here causes the program to terminate with an error message.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n#define BUF_SIZE  1000\n\nint main(void)\n{\n    char c, rest;\n    char buffer[BUF_SIZE];\n\n    do {\n        printf(\"Please enter exactly one character: \");\n        if (fgets(buffer, BUF_SIZE, stdin) == NULL) {\n            perror(\"Error in fgets()\");\n            exit(EXIT_FAILURE);\n        }\n    } while ((sscanf(buffer, \"%c%c\", &amp;c, &amp;rest) != 2) ||\n             (rest != '\\n'));\n\n    printf(\"You entered: %c\\n\", c);\n\n    return 0;\n}\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>Sample program interaction:\n\nPlease enter exactly one character: \nPlease enter exactly one character: fgh\nPlease enter exactly one character: h\nYou entered: h\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "edited": false, "score": 0, "creation_date": 1497482840, "post_id": 44555439, "comment_id": 76102879, "body": "I sort of ignored OP&#39;s request to do without strings, sticking to what seems to be less error-prone and simpler to implement. But have an upvote for more closely following OP&#39;s wishes :)"}], "tags": [], "owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1497477810, "creation_date": 1497477810, "answer_id": 44555439, "question_id": 44553247, "link": "https://stackoverflow.com/questions/44553247/c-asking-for-a-character-input-again-if-the-user-inserts-more-than-one-charact/44555439#44555439", "title": "C - Asking for a character input again if the user inserts more than one character", "body": "<blockquote>\n  <p>possible without the use of a string (for input) (?)</p>\n</blockquote>\n\n<p>Use <code>fgetc()/fgetchar()</code> to read in a character at a time.</p>\n\n<pre><code>int read1char(const char *prompt, const char *reprompt) {\n  int ch;\n  do {\n    // print prompt\n    fputs(prompt, stdout);\n    fflush(stdout);\n    prompt = reprompt;\n\n    // Read first character\n    ch = fgetc(stdin);\n    if (ch == '\\n') continue;\n    if (ch == EOF) break;\n\n    // Look for a \\n or EOF\n    int cheol = fgetc(stdin);\n    if (cheol == '\\n' || cheol == EOF) break;\n\n    // consume rest of the line\n    do {\n      ch = fgetc(stdin);\n    } while (ch != '\\n' &amp;&amp; ch != EOF);\n  } while (ch != EOF);\n  return ch;\n}\n\nint main(void) {\n  int ch;\n  while ((ch = read1char(\"Insert the character: \",\n      \"\\nERROR: One character only\\n\" \"Insert the character: \")) != EOF) {\n    printf(\"&lt;%c&gt;\\n\", ch);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14308, "user_id": 1989425, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/aGyIU.png?s=128&g=1", "display_name": "autistic", "link": "https://stackoverflow.com/users/1989425/autistic"}, "is_accepted": false, "score": 1, "last_activity_date": 1497489294, "last_edit_date": 1592644375, "creation_date": 1497489294, "answer_id": 44557015, "question_id": 44553247, "link": "https://stackoverflow.com/questions/44553247/c-asking-for-a-character-input-again-if-the-user-inserts-more-than-one-charact/44557015#44557015", "title": "C - Asking for a character input again if the user inserts more than one character", "body": "<blockquote>\n<p><strong>Is it possible to check if the character input has more than one character, and if so, ask for a new character input while giving an &quot;ERROR: One character only&quot;?</strong></p>\n</blockquote>\n<p>Let's start by unravelling the double-barreled question into two questions. In the future, please avoid combining questions like this.</p>\n<hr />\n<p>First part:</p>\n<blockquote>\n<p><strong>Is it possible to check if the character input has more than one character...?</strong></p>\n</blockquote>\n<p>No. It's not possible for a character to store more than one character. If you want to store more than one character, you need more storage than just one <code>char</code>.</p>\n<hr />\n<p>Second part:</p>\n<blockquote>\n<p><strong>... if so, ask for a new character input while giving an &quot;ERROR: One character only&quot;?</strong></p>\n<p>... Is this possible without the use of a string?</p>\n</blockquote>\n<p>It doesn't make sense to assume <code>stdin</code> will only contain <em>one character</em> (from the first part) and then ask for <em>another character</em>, does it?</p>\n<p>I think what you mean is to ask for <em>a line of input that contains only one character</em>. You need to consider the definition of <em>line of input</em>.</p>\n<p>On a related note, you need to realise that the space in <code>&quot; %c&quot;</code> doesn't just cause spaces to be discarded; it also discards newlines. If you want to eliminate <em>spaces only</em>, use <code>scanf(&quot;%*[ ]&quot;);</code> <em>first</em>, then use <code>&quot;%c&quot;</code>. These two calls should be separate (<em>not combined</em>) as the first will fail when there are <em>no</em> spaces, causing an early return.</p>\n<p>A <em>line of input</em> ends with the <code>'\\n'</code> or newline character; that paired with the <em>one character only</em> that you want implies that you need to read <em>at least two characters</em> in order to check that the <em>one character only</em> exists on a line all by itself. i.e. something like this might be appropriate:</p>\n<pre><code>int c;\ndo {\n    printf(&quot;%s&quot;, message);\n    scanf(&quot;%*[ ]&quot;); // discard leading spaces\n    c = getchar();\n} while (/* check for empty line      */    c == '\\n'\n         /* check for multiple chars  */ || getchar() != '\\n'\n         /* discard multiple chars    */ &amp;&amp; scanf(&quot;%*[^\\n]&quot;) == 0\n         /* discard the trailing '\\n' */ &amp;&amp; getchar() == '\\n'\n         /* print error message       */ &amp;&amp; puts(&quot;ERROR: One character only&quot;) != EOF);\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 4400560, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/aab1e9dd14ef516214d398ce4302c7ca?s=128&d=identicon&r=PG&f=1", "display_name": "Ran", "link": "https://stackoverflow.com/users/4400560/ran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2068, "favorite_count": 0, "answer_count": 4, "score": -2, "last_activity_date": 1497489294, "creation_date": 1497468775, "last_edit_date": 1497471370, "question_id": 44553247, "link": "https://stackoverflow.com/questions/44553247/c-asking-for-a-character-input-again-if-the-user-inserts-more-than-one-charact", "title": "C - Asking for a character input again if the user inserts more than one character", "body": "<p><strong>EDIT@</strong> I'll just use a string as I can't seem to find a way to solve this with a character</p>\n\n<p>I have the following:</p>\n\n<pre><code>char character;\nint valid = 1;\n\ndo {\n\n    if( valid == 0 ) {\n        printf(\"ERROR\");\n    }\n\n    valid = 1; // Validates it again if the do while loop activates\n\n    character = inputCharacter(\"Insert the character: \");\n    system(\"clear\");\n\n    if( certainCondition ) {\n        valid = 0;\n    }\n\n} while( valid != 1 ); \n</code></pre>\n\n<p><strong>inputCharacter being:</strong></p>\n\n<pre><code>char inputCharacter(char* message) { // Inputs a character\n\n    char character;\n\n    printf(\"%s\", message);\n    scanf(\" %c\", &amp;character);\n\n    return character;\n\n}\n</code></pre>\n\n<p>This function will accept a character and if it is equal to an another character I've typed before it will ask for a new character.</p>\n\n<p>What I wanted to know is:</p>\n\n<p><strong>Is it possible to check if the character input has more than one character, and if so, ask for a new character input while giving an \"ERROR: One character only\"?</strong></p>\n\n<p>Example:</p>\n\n<p><strong>First character</strong>: e</p>\n\n<p><strong>Insert the character</strong>: e\n | ERROR</p>\n\n<p><strong>Insert the character</strong>: easd\n | ERROR: Please insert one character only</p>\n\n<p><strong>Insert the character</strong>: wflek\n | ERROR: Please insert one character only</p>\n\n<p><strong>Insert the character</strong>: a\n | <em>accepts</em></p>\n\n<p>Is this possible without the use of a string?</p>\n\n<p><em>(It is fine if I can't give out the error while not allowing more than one character but it would be cool if I was able to)</em></p>\n"}, {"tags": ["c", "ibm-mq"], "answers": [{"tags": [], "owner": {"reputation": 30566, "user_id": 214668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzaLu.jpg?s=128&g=1", "display_name": "T.Rob", "link": "https://stackoverflow.com/users/214668/t-rob"}, "is_accepted": true, "score": 4, "last_activity_date": 1497472260, "last_edit_date": 1497472260, "creation_date": 1497471735, "answer_id": 44554081, "question_id": 44553157, "link": "https://stackoverflow.com/questions/44553157/ibm-mq-get-topic-name-from-message-in-subscription-queue/44554081#44554081", "title": "IBM MQ get topic name from message in subscription queue", "body": "<p>To inquire on the topic string, use the <code>MQCRTMH</code> API call to obtain a message handle, then inquire the properties of the message using the <code>MQINQMP</code> API call specifying the <code>MQTopicString</code> property.</p>\n\n<p><a href=\"https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_8.0.0/com.ibm.mq.ref.dev.doc/q101780_.htm\" rel=\"nofollow noreferrer\"><code>MQCRTMH</code> - Create message handle</a><br>\n<a href=\"https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_8.0.0/com.ibm.mq.dev.doc/q026640_.htm\" rel=\"nofollow noreferrer\"><code>MQINQMP</code> - Property Names</a><br>\n<a href=\"https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_8.0.0/com.ibm.mq.dev.doc/q023890_.htm\" rel=\"nofollow noreferrer\">Sample IBM MQ procedural programs</a>  </p>\n\n<p>Admittedly, it can be difficult to track this info down in the IBM MQ reference documentation, especially if you do not already know the way it works and the names of the calls and fields.  One approach that can help is to start with the sample programs to get a basic understanding and then work back into the manuals to fill in the missing details.  The sample code is available from the install media by selecting the appropriate optional component.</p>\n\n<p>On Windows these end up in <code>{MQM Home}/Tools</code> and on UNIX systems at <code>{MQM Home}/samp</code>. If the samples are installed, <code>AMQSIQMA</code> will demonstrate how to inquire properties of a message handle, and is an example of the use of the <code>MQINQMP</code> API call.</p>\n"}, {"comments": [{"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1497540852, "post_id": 44570749, "comment_id": 76131909, "body": "When I run the sample program amqsiqma, the property name output looks like this <code>property name &lt;MQTopicString&gt; value &lt;X&#47;Y&#47;Z&gt;</code>, so I think that what T.Rob has is correct."}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 1, "creation_date": 1497548541, "post_id": 44570749, "comment_id": 76136204, "body": "On further review both are correct.  Property name <code>MQTopicString</code> is the same as MQRFC2 name <code>mqps.Top</code>.  The MQINQMP page linked to says <code>MQINQMP accepts either the property name or MQRFH2 name as the name of the property to inquire on.</code>"}], "tags": [], "owner": {"reputation": 6263, "user_id": 1431734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ex16s.gif?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/1431734/roger"}, "is_accepted": false, "score": 2, "last_activity_date": 1497538596, "creation_date": 1497538596, "answer_id": 44570749, "question_id": 44553157, "link": "https://stackoverflow.com/questions/44553157/ibm-mq-get-topic-name-from-message-in-subscription-queue/44570749#44570749", "title": "IBM MQ get topic name from message in subscription queue", "body": "<blockquote>\n  <p>To inquire on the topic string, use the MQCRTMH API call to obtain a\n  message handle, then inquire the properties of the message using the\n  MQINQMP API call specifying the MQTopicString property.</p>\n</blockquote>\n\n<p>The correct message property name is 'mqps.Top' (case sensitive &amp; no quotes).  </p>\n"}], "owner": {"reputation": 6328, "user_id": 515774, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HEi63.jpg?s=128&g=1", "display_name": "Muthukumar", "link": "https://stackoverflow.com/users/515774/muthukumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 44554081, "answer_count": 2, "score": 4, "last_activity_date": 1497538596, "creation_date": 1497468469, "last_edit_date": 1497470848, "question_id": 44553157, "link": "https://stackoverflow.com/questions/44553157/ibm-mq-get-topic-name-from-message-in-subscription-queue", "title": "IBM MQ get topic name from message in subscription queue", "body": "<p>I am using 'c-client' api to access the <code>Websphere IBM MQ 8</code>. Is it possible to identify the source topic from which the message was published ?</p>\n"}, {"tags": ["c", "arrays", "printf"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 4, "creation_date": 1497468450, "post_id": 44553135, "comment_id": 76096707, "body": "Check your inner for-loops condition."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1497468540, "post_id": 44553135, "comment_id": 76096755, "body": "<code>i &lt; COLUMNA</code> should be <code>j &lt; COLUMNA</code>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497468551, "post_id": 44553135, "comment_id": 76096761, "body": "<code>for (j = 0; i &lt; COLUMNA; j++)</code> - copy&amp;paste is fine, but you should tripple-check before complaining. Learn to use the debugger! <code>int tablero[FILA][COLUMNA] = {};</code> is not valid C. You have to specify at least one element in the braces."}, {"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 0, "creation_date": 1497468705, "post_id": 44553135, "comment_id": 76096850, "body": "This is why I argue against using <code>i</code> and <code>j</code> as indexes. <code>i</code> alone is fine, but when it becomes <code>i</code>, <code>j</code>, <code>k</code>, it&#39;s a recipe for disaster."}, {"owner": {"reputation": 73, "user_id": 6688601, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-2AIY0beDEss/AAAAAAAAAAI/AAAAAAAABJw/dQKDYuScIAg/photo.jpg?sz=128", "display_name": "margobra8", "link": "https://stackoverflow.com/users/6688601/margobra8"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497469367, "post_id": 44553135, "comment_id": 76097183, "body": "@Olaf debugger doesn&#39;t throw error for that."}, {"owner": {"reputation": 73, "user_id": 6688601, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-2AIY0beDEss/AAAAAAAAAAI/AAAAAAAABJw/dQKDYuScIAg/photo.jpg?sz=128", "display_name": "margobra8", "link": "https://stackoverflow.com/users/6688601/margobra8"}, "reply_to_user": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 0, "creation_date": 1497469411, "post_id": 44553135, "comment_id": 76097209, "body": "@DeiDei any alternatives? maybe <code>ii</code> or <code>jj</code> or more descriptive names?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497471787, "post_id": 44553135, "comment_id": 76098446, "body": "@margobra8: A debugger is not for <b>showing</b> errors, that&#39;s your job! How about doing some research what it actually is for? It is a vital tool for software development and the most important to find errors.."}], "answers": [{"comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497471835, "post_id": 44553210, "comment_id": 76098469, "body": "1) That&#39;s as invalid C as OPs code. 2) It is completely unnecessary."}], "tags": [], "owner": {"reputation": 127, "user_id": 7186730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aL0Ox.jpg?s=128&g=1", "display_name": "Robert Baldyga", "link": "https://stackoverflow.com/users/7186730/robert-baldyga"}, "is_accepted": true, "score": 1, "last_activity_date": 1497468658, "creation_date": 1497468658, "answer_id": 44553210, "question_id": 44553135, "link": "https://stackoverflow.com/questions/44553135/why-does-c-output-memory-location-pointers-instead-of-the-values-of-an-array/44553210#44553210", "title": "Why does C output memory location/pointers instead of the values of an array?", "body": "<p>You should also initialize subarrays:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#define FILA 8\n#define COLUMNA 8\n\nint main(void)\n{\n    int nFila = 1;\n    int tablero[FILA][COLUMNA] = {{},};\n    int i, j;\n    printf(\"  A B C D E F G H\\n\");\n    for (i = 0; i &lt; FILA; i++)\n    {   \n        printf(\"%d \", nFila);\n        nFila++;\n        for (j = 0; j &lt; COLUMNA; j++)\n        {\n            printf(\"%d \", tablero[i][j]);\n        }\n        printf(\"\\n\");\n    }   \nreturn 0;\n}\n</code></pre>\n\n<p>BTW I also fixed condition in inner loop.</p>\n"}, {"comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497474599, "post_id": 44553478, "comment_id": 76099907, "body": "The <code>{}</code> initialiser is a compiler extension e.g. of gcc. It very well initialises the array (it&#39;s a C++ feature, which would be useful for C, too)."}], "tags": [], "owner": {"reputation": 478, "user_id": 7989544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RCpdI.jpg?s=128&g=1", "display_name": "Biswajit Roy", "link": "https://stackoverflow.com/users/7989544/biswajit-roy"}, "is_accepted": false, "score": 0, "last_activity_date": 1497469590, "creation_date": 1497469590, "answer_id": 44553478, "question_id": 44553135, "link": "https://stackoverflow.com/questions/44553135/why-does-c-output-memory-location-pointers-instead-of-the-values-of-an-array/44553478#44553478", "title": "Why does C output memory location/pointers instead of the values of an array?", "body": "<p>You are getting junk values in your output. <br> You can set all values in the array to 0 by partly initializing your array <strong>tablero</strong> with 0.<br>Accordingly all the values in the array will be initalized to 0.<br><br>\n<code>int tablero[FILA][COLUMNA] = {0};</code><br>\nAlso, there is a bug in your code.<br>\nPlease correct your line <code>for (j = 0; i &lt; COLUMNA; j++)</code> to : <br>\n<code>for (j = 0; j&lt; COLUMNA; j++)</code></p>\n"}], "owner": {"reputation": 73, "user_id": 6688601, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-2AIY0beDEss/AAAAAAAAAAI/AAAAAAAABJw/dQKDYuScIAg/photo.jpg?sz=128", "display_name": "margobra8", "link": "https://stackoverflow.com/users/6688601/margobra8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1497468608, "accepted_answer_id": 44553210, "answer_count": 2, "score": -1, "last_activity_date": 1497469590, "creation_date": 1497468356, "question_id": 44553135, "link": "https://stackoverflow.com/questions/44553135/why-does-c-output-memory-location-pointers-instead-of-the-values-of-an-array", "closed_reason": "Not suitable for this site", "title": "Why does C output memory location/pointers instead of the values of an array?", "body": "<p>I tried writing a program in C that should output something like this:</p>\n\n<pre><code>  A B C D E F G H\n1 0 0 0 0 0 0 0 0\n2 0 0 0 0 0 0 0 0\n3 0 0 0 0 0 0 0 0\n4 0 0 0 0 0 0 0 0\n5 0 0 0 0 0 0 0 0\n6 0 0 0 0 0 0 0 0\n7 0 0 0 0 0 0 0 0\n8 0 0 0 0 0 0 0 0\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#define FILA 8\n#define COLUMNA 8\n\nint main(void)\n{\n    int nFila = 1;\n    int tablero[FILA][COLUMNA] = {};\n    int i, j;\n    printf(\"  A B C D E F G H\\n\");\n    for (i = 0; i &lt; FILA; i++)\n    {\n        printf(\"%d \", nFila);\n        nFila++;\n        for (j = 0; i &lt; COLUMNA; j++)\n        {\n            printf(\"%d \", tablero[i][j]);\n        }\n        printf(\"\\n\");\n    }\nreturn 0;\n}\n</code></pre>\n\n<p>However it outputs random numbers for each array index that appear to be memory adresses...\nHow can I accomplish that?</p>\n"}, {"tags": ["c", "pointers", "linked-list"], "comments": [{"owner": {"reputation": 8445, "user_id": 929459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e420841bacccb72fb934f80069c11d0b?s=128&d=identicon&r=PG", "display_name": "Dmitri", "link": "https://stackoverflow.com/users/929459/dmitri"}, "edited": false, "score": 0, "creation_date": 1497468420, "post_id": 44553095, "comment_id": 76096684, "body": "In <code>insert()</code>, after your <code>for</code> loop to find the end of the list, <code>temp</code> is <code>NULL</code>... it goes one iteration too far."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 8162410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5473f08e6a08269a6944e6207e4b14c2?s=128&d=identicon&r=PG&f=1", "display_name": "Pb Vignesh", "link": "https://stackoverflow.com/users/8162410/pb-vignesh"}, "edited": false, "score": 0, "creation_date": 1497468720, "post_id": 44553151, "comment_id": 76096857, "body": "Thanks for the answer as well as the advice I will learn how to use the debugger!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "is_accepted": true, "score": 2, "last_activity_date": 1497468451, "creation_date": 1497468451, "answer_id": 44553151, "question_id": 44553095, "link": "https://stackoverflow.com/questions/44553095/can-you-help-me-understand-why-the-below-code-on-linked-list-gives-me-a-segmenta/44553151#44553151", "title": "Can you help me understand why the below code on linked list gives me a segmentation fault error?", "body": "<p>Think about this code:</p>\n\n<pre><code>  for(temp = head; temp!=NULL;temp = temp-&gt;next);\n  temp-&gt;next = current;\n</code></pre>\n\n<p>So, your condition for ending the loop is <code>temp != NULL</code> Then, what is <code>temp</code> after the loop ran? <code>NULL</code>, of course!</p>\n\n<p>Your stop-condition needs to be <code>temp-&gt;next != NULL</code>.</p>\n\n<p>On a side note: It's time to learn using a debugger. With enough experience, you spot such things just by looking at code, but there are more complicated ways to fail as well ;) With a debugger, you would have found that issue immediately.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8162523, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/97edba1dbed98415fb642e3a9bf0c0fc?s=128&d=identicon&r=PG", "display_name": "Ethan Gagne", "link": "https://stackoverflow.com/users/8162523/ethan-gagne"}, "is_accepted": false, "score": 2, "last_activity_date": 1497469769, "last_edit_date": 1497469769, "creation_date": 1497468684, "answer_id": 44553217, "question_id": 44553095, "link": "https://stackoverflow.com/questions/44553095/can-you-help-me-understand-why-the-below-code-on-linked-list-gives-me-a-segmenta/44553217#44553217", "title": "Can you help me understand why the below code on linked list gives me a segmentation fault error?", "body": "<p>You are attempting to do: </p>\n\n<pre><code>NULL-&gt;next = current\n</code></pre>\n\n<p>Instead, in your for loop you should be checking for </p>\n\n<pre><code>temp-&gt;next != NULL\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 7308319, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WZbZG6mxujo/AAAAAAAAAAI/AAAAAAAAADg/eEWrfMl_Opc/photo.jpg?sz=128", "display_name": "\u6c5f\u8cab\u69ae", "link": "https://stackoverflow.com/users/7308319/%e6%b1%9f%e8%b2%ab%e6%a6%ae"}, "is_accepted": false, "score": 0, "last_activity_date": 1497469726, "creation_date": 1497469726, "answer_id": 44553510, "question_id": 44553095, "link": "https://stackoverflow.com/questions/44553095/can-you-help-me-understand-why-the-below-code-on-linked-list-gives-me-a-segmenta/44553510#44553510", "title": "Can you help me understand why the below code on linked list gives me a segmentation fault error?", "body": "<p>I think the problem is in the code below:</p>\n\n<pre><code>else{\n  for(temp = head; temp!=NULL;temp = temp-&gt;next);\n    temp-&gt;next = current;\n    current-&gt;next = NULL;\n}\n</code></pre>\n\n<p>when the for loop breaks, <strong>temp</strong> becomes NULL so you shouldn't access <strong>temp->next</strong></p>\n\n<p>you can change your code as below:</p>\n\n<pre><code>void insert(int add)\n{\n  struct list *current,*temp;\n  current  = (struct list*) malloc (sizeof(struct list));\n  current-&gt;data = add;\n  if(head == NULL)\n  {\n    head = current;\n    current-&gt;next = NULL;\n  }\n  else\n    {\n      //for(temp = head; temp!=NULL;temp = temp-&gt;next);\n      temp = head;\n      while(true){\n        if(temp-&gt;next == NULL)\n          break;\n        temp = temp-&gt;next;\n      }\n      temp-&gt;next = current;\n      current-&gt;next = NULL;\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 8162410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5473f08e6a08269a6944e6207e4b14c2?s=128&d=identicon&r=PG&f=1", "display_name": "Pb Vignesh", "link": "https://stackoverflow.com/users/8162410/pb-vignesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 44553151, "answer_count": 3, "score": 1, "last_activity_date": 1497469769, "creation_date": 1497468215, "question_id": 44553095, "link": "https://stackoverflow.com/questions/44553095/can-you-help-me-understand-why-the-below-code-on-linked-list-gives-me-a-segmenta", "title": "Can you help me understand why the below code on linked list gives me a segmentation fault error?", "body": "<p>I am new to programming and took C to begin with, I was coding this linked list problem. What I thought I did is,</p>\n\n<ul>\n<li>head pointer as global to access it from anywhere and set it to null initially</li>\n<li>in the insert code, create new pointer of the same type and allocate memory and give it the inserted data. Point head pointer to this first inserted data current</li>\n<li>for next insertions pass in the head and iterate over till the end and make the next of the last node point the current one and current to null</li>\n<li>Similarly for display pass in the head and iterate till the end and print</li>\n</ul>\n\n<p>What am I missing here can someone help me why am I getting segmentation fault error for the <strong>second input</strong> and how to correct it?\nShould there be any changes to display function as well?</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n#include&lt;stdlib.h&gt;\n\nvoid insert(int data_add);\nvoid display();\nstruct list\n{\n  int data;\n  struct list *next;\n} *head = NULL;\n\nint main()\n{\n  int data_add,n;\n  while(1)\n  {\n\n    printf(\"\\n\\n1.Add\\n2.Display\\n3.Exit\\n\");\n    scanf(\"%d\",&amp;n);\n    switch(n)\n    {\n      case 1: printf(\"\\nEnter the element to add \");\n              scanf(\"%d\",&amp;data_add);\n              insert(data_add);\n              break;\n      case 2: printf(\"The nos are: \");\n              display();\n              break;\n      case 3: exit(1);\n      break;\n      default: printf(\"\\nOpen your eyes\");\n    }\n  }\n}\n\nvoid insert(int add)\n{\n  struct list *current,*temp;\n  current  = (struct list*) malloc (sizeof(struct list));\n  current-&gt;data = add;\n  if(head == NULL)\n  {\n    head = current;\n    current-&gt;next = NULL;\n  }\n  else\n    {\n      for(temp = head; temp!=NULL;temp = temp-&gt;next);\n      temp-&gt;next = current;\n      current-&gt;next = NULL;\n\n    }\n}\n\nvoid display()\n{\n  struct list *current;\n  current = head;\n  while(current!=NULL)\n  {\n    printf(\"%d\",current-&gt;data);\n    current = current-&gt;next;\n}\n}\n</code></pre>\n"}, {"tags": ["c", "string", "algorithm"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 6, "creation_date": 1497466507, "post_id": 44552574, "comment_id": 76095722, "body": "<code>s[i]!=&#39;0&#39;</code> =&gt; <code>s[i]!=&#39;\\0&#39;</code>"}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 1, "creation_date": 1497467393, "post_id": 44552574, "comment_id": 76096167, "body": "I&#39;m curious about your <code>squeeze</code> function. When you&#39;re calling it from <code>main</code>, the second argument you provide is a <code>char</code>, but the function is expecting an int. Also, in <code>squeeze</code> you never actually use that variable <code>c</code>. I think that you want <code>squeeze</code> to have the character <code>&#39;c&#39;</code> stored in the variable <code>c</code> when you make that function call, right? If so, change <code>void squeeze(char *s, int c);</code> -&gt;<code>void squeeze(char *s, char c);</code>, <code>void squeeze(char *s, int c){</code> -&gt;<code>void squeeze(char *s, char c){</code>, and <code>if(s[i]!=&#39;c&#39;)</code>-&gt;<code>if(s[i]!=c)</code>"}, {"owner": {"reputation": 2685, "user_id": 7479696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12ea7cffb9e02b31267bbacaca12b469?s=128&d=identicon&r=PG&f=1", "display_name": "Vidor Vistrom", "link": "https://stackoverflow.com/users/7479696/vidor-vistrom"}, "edited": false, "score": 0, "creation_date": 1497468314, "post_id": 44552574, "comment_id": 76096617, "body": "What do you want to do? &#39;c&#39; or int c? int c will be equivalent to ascii character"}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1497466895, "post_id": 44552626, "comment_id": 76095933, "body": "isn&#39; <code>strlen</code> computed at each iteration and so less efficient that the original (intended) code?"}, {"owner": {"reputation": 153, "user_id": 7519300, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70bdb81f265f9e2024b3ca01ad959737?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard6421", "link": "https://stackoverflow.com/users/7519300/eduard6421"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1497466977, "post_id": 44552626, "comment_id": 76095973, "body": "Yes, it is indeed computed at each iteration. To make it more time efficient you can just make  <code>int word_length = strlen(s);</code>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1497468067, "post_id": 44552626, "comment_id": 76096492, "body": "Note that <code>for (\u2026; x &lt; strlen(str); \u2026)</code> is usually bad \u2014 unless the length of <code>str</code> changes in the body of the loop.  It converts the algorithm from linear (O(N)) to quadratic (O(N^2)) \u2014 which can be a serious problem if the strings are long."}], "tags": [], "owner": {"reputation": 153, "user_id": 7519300, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70bdb81f265f9e2024b3ca01ad959737?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard6421", "link": "https://stackoverflow.com/users/7519300/eduard6421"}, "is_accepted": false, "score": 1, "last_activity_date": 1497466669, "creation_date": 1497466669, "answer_id": 44552626, "question_id": 44552574, "link": "https://stackoverflow.com/questions/44552574/code-to-remove-all-occurrences-of-a-character-from-a-string-isnt-working-but/44552626#44552626", "title": "Code to remove all occurrences of a character from a string isn&#39;t working \u2014 but why?", "body": "<p>The for does not know when to end. When it reaches the last letter of your word it just goes on. The solution would be : i &lt; strlen(s) . To use strlen you must include string.h in the headers! Good luck!</p>\n\n<pre><code>for(i=j=0;i &lt; strlen(s);i++)\n</code></pre>\n\n<p>or you could go with</p>\n\n<pre><code>for(i=j=0; s[i]!='\\0';i++) // '\\0' is the end string character\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2685, "user_id": 7479696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12ea7cffb9e02b31267bbacaca12b469?s=128&d=identicon&r=PG&f=1", "display_name": "Vidor Vistrom", "link": "https://stackoverflow.com/users/7479696/vidor-vistrom"}, "edited": false, "score": 0, "creation_date": 1497467880, "post_id": 44552873, "comment_id": 76096398, "body": "Note: *(s+i)=s[i]"}, {"owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "reply_to_user": {"reputation": 2685, "user_id": 7479696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12ea7cffb9e02b31267bbacaca12b469?s=128&d=identicon&r=PG&f=1", "display_name": "Vidor Vistrom", "link": "https://stackoverflow.com/users/7479696/vidor-vistrom"}, "edited": false, "score": 0, "creation_date": 1497468032, "post_id": 44552873, "comment_id": 76096472, "body": "@VidorVistrom that actually doesn&#39;t worrk in dev c++"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497468105, "post_id": 44552873, "comment_id": 76096512, "body": "You&#39;re still comparing with <code>&#39;c&#39;</code> and not using the argument <code>c</code>."}, {"owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "edited": false, "score": 0, "creation_date": 1497468338, "post_id": 44552873, "comment_id": 76096636, "body": "Made the necessary changes"}], "tags": [], "owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "is_accepted": false, "score": -1, "last_activity_date": 1497468319, "last_edit_date": 1497468319, "creation_date": 1497467472, "answer_id": 44552873, "question_id": 44552574, "link": "https://stackoverflow.com/questions/44552574/code-to-remove-all-occurrences-of-a-character-from-a-string-isnt-working-but/44552873#44552873", "title": "Code to remove all occurrences of a character from a string isn&#39;t working \u2014 but why?", "body": "<p>When u pass s in squeeze(s,'c') it onlypasses the address of the first char of the string. To access the value at address u need to dereference the pointer(use *).<br>\nTo access the next value make the pointer s point to next address using (s++) i.e it points to next address where a new char is stored which is after 1 byte.\nThe problem is with the loop, u need to access the value at address.<br>\ns points to address of location where 'k' is stored.<br>\ns+1 points to 1 byte after the base address 's' (since char stores 1 byte. If it were an int it would point to base address+4 bytes.<br>\n.<br>\n.<br>\ns+i points to base address + i bytes. </p>\n\n<p>I have corrected your code.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nvoid squeeze(char *s, int c);\nint main(void){\n    char s[]=\"kyriacos\";\n    squeeze(s,'c');\n    printf(\"the new kyriacos is %s\",s);\n}\n\n\n\nvoid squeeze(char *s, int c){\n    int i,j;\n    for(i=j=0; *(s+i)!='\\0';i++){//the error is here\n    //u need to access the value at address using * operator instead u were    \n    //accessing only addresses\n        if(*(s+i)!=c){\n            *(s+j)=*(s+i);\n            j++;\n        }\n    }\n    *(s+j)='\\0';\n}\n</code></pre>\n\n<p>Also note that normally when u pass a char in an function it is received by the same data type.But since an int is used the char 'c' is  converted into integer in this case 99 which is its ASCII value. So in loop where it compares whether the character is equal to c the machine also converts *(s+i) to an int value and compares both of them</p>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 1, "last_activity_date": 1497468212, "last_edit_date": 1497468212, "creation_date": 1497467811, "answer_id": 44552973, "question_id": 44552574, "link": "https://stackoverflow.com/questions/44552574/code-to-remove-all-occurrences-of-a-character-from-a-string-isnt-working-but/44552973#44552973", "title": "Code to remove all occurrences of a character from a string isn&#39;t working \u2014 but why?", "body": "<p>You have:</p>\n\n<pre><code>void squeeze(char *s, int c){\n    int i,j;\n    for(i=j=0; s[i]!='0';i++){\n        if(s[i]!='c'){\n            s[j]=s[i];\n            j++;\n        }\n    }\n    s[j]='\\0';\n}\n</code></pre>\n\n<p>The <code>'c'</code> is a mistake; you want to use the variable <code>c</code>.  You also need to test for <code>'\\0'</code> (rather than <code>'0'</code>) to terminate the loop.</p>\n\n<pre><code>void squeeze(char *s, int c)\n{\n    int i, j;\n    for (i = j = 0; s[i] != '\\0'; i++)\n    {\n        if (s[i] != c)\n            s[j++] = s[i];\n    }\n    s[j] = '\\0';\n}\n</code></pre>\n\n<p>Blanks are cheap; use them.  The increment operators can be used (carefully) in expressions.</p>\n"}, {"comments": [{"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497469034, "post_id": 44553122, "comment_id": 76097013, "body": "Looks like it even works with the pathological <code>squeeze(s, &#39;\\0&#39;)</code>."}], "tags": [], "owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 2, "last_activity_date": 1497468626, "last_edit_date": 1497468626, "creation_date": 1497468322, "answer_id": 44553122, "question_id": 44552574, "link": "https://stackoverflow.com/questions/44552574/code-to-remove-all-occurrences-of-a-character-from-a-string-isnt-working-but/44553122#44553122", "title": "Code to remove all occurrences of a character from a string isn&#39;t working \u2014 but why?", "body": "<p>Your function implementation has a typo. In the condition of this statement</p>\n\n<pre><code>for(i=j=0; s[i]!='0';i++){\n</code></pre>\n\n<p>there must be used character <code>'\\0'</code> instead of <code>'0'</code>.</p>\n\n<pre><code>for(i=j=0; s[i]!='\\0';i++){\n</code></pre>\n\n<p>And one more typo is in this statement</p>\n\n<pre><code>if(s[i]!='c'){\n</code></pre>\n\n<p>Instead of the character <code>'c'</code> you need to use the parameter <code>c</code>.</p>\n\n<pre><code>if(s[i] != c){\n</code></pre>\n\n<p>Take into account that string functions usually follow the convention that they return pointer to the target string.</p>\n\n<p>So it is better to declare the function like</p>\n\n<pre><code>char * squeeze(char *s, int c);\n</code></pre>\n\n<p>Also instead of using the type <code>int</code> as the type of indices for strings it is better to use the type <code>size_t</code> because it is the type that the standard function <code>strlen</code> and results of the applying operator <code>sizeof</code> have.</p>\n\n<p>Here in the demonstrative program is shown how the function can be implemented</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nchar * squeeze(char *s, int c)\n{\n    size_t i = 0, j = 0;\n\n    do\n    {\n        if (s[i] != c)\n        {\n            if (i != j) s[j] = s[i];\n            j++;\n        }\n    } while (s[i++]);\n\n    return s;\n}\n\nint main( void )\n{\n    char s[] = \"kyriacos\";\n    printf(\"the new kyriacos is \\\"%s\\\"\\n\", squeeze(s, 'c'));\n}\n</code></pre>\n\n<p>The program output is</p>\n\n<pre><code>the new kyriacos is \"kyriaos\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1497470622, "last_edit_date": 1497470622, "creation_date": 1497470308, "answer_id": 44553685, "question_id": 44552574, "link": "https://stackoverflow.com/questions/44552574/code-to-remove-all-occurrences-of-a-character-from-a-string-isnt-working-but/44553685#44553685", "title": "Code to remove all occurrences of a character from a string isn&#39;t working \u2014 but why?", "body": "<p>A concern in addtion to other fine answers:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/44552574/code-to-remove-all-occurrences-of-a-character-from-a-string-isnt-working-but#comment76096167_44552574\">@jacoblaw</a> points out issues relating to the type of <code>c</code>.  This is important when <code>char</code> can have a negative value, yet the value passed in is via <code>int c</code>.</p>\n\n<pre><code>void squeeze1(char *s, int c) {\n  size_t j = 0;\n  for(size_t i=0; s[i]; i++) {\n    // This could be comparing a negative `char` against a int value like CHAR_MAX + 10\n    if(s[i] != c) {  \n      s[j++]=s[i];\n    }\n  }\n  s[j]='\\0';\n}\n\nvoid foo() {\n  char s[80];\n  fgets(s, sizeof s, stdin);\n  int ch = fgetchar();  // ch has a value in the `unsigned char` range.\n  if (ch != EOF) squeeze1(s, ch);\n}\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>C11 7.24 String handling <br>\n  ... For all functions in this subclause, each character shall be interpreted as if it had the type <code>unsigned char</code> ...</p>\n</blockquote>\n\n<p>The standard C library tends to treat <code>char</code> as <code>unsigned char</code> for comparison purposes so suggest alternate approaches</p>\n\n<pre><code>void squeeze2(char *s, char c) {\n</code></pre>\n\n<p>or</p>\n\n<pre><code>void squeeze3(char *s, int c) {\n  ...\n    if((unsigned char) s[i] != (unsigned char) c) {  \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8162313, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213527802052384/picture?type=large", "display_name": "Kyriacos Demetriou", "link": "https://stackoverflow.com/users/8162313/kyriacos-demetriou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "closed_date": 1497503988, "answer_count": 5, "score": 0, "last_activity_date": 1497470622, "creation_date": 1497466455, "last_edit_date": 1497469507, "question_id": 44552574, "link": "https://stackoverflow.com/questions/44552574/code-to-remove-all-occurrences-of-a-character-from-a-string-isnt-working-but", "closed_reason": "Not suitable for this site", "title": "Code to remove all occurrences of a character from a string isn&#39;t working \u2014 but why?", "body": "<p>This is my code and prints error. I think it should work fine but there is an error with the squeeze function and I cannot find what.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nvoid squeeze(char *s, int c);\nint main(void){\n    char s[]=\"kyriacos\";\n    squeeze(s,'c');\n    printf(\"the new kyriacos is %s\",s);\n}\n\n\n\nvoid squeeze(char *s, int c){\n    int i,j;\n    for(i=j=0; s[i]!='0';i++){\n        if(s[i]!='c'){\n            s[j]=s[i];\n            j++;\n        }\n    }\n    s[j]='\\0';\n}\n</code></pre>\n"}, {"tags": ["c", "matrix", "mpi"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497467493, "post_id": 44552540, "comment_id": 76096215, "body": "<code>double **</code> is not a matrix (aka 2D array! A pointer is not an array."}, {"owner": {"reputation": 81, "user_id": 8162281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b986b2a726c746f290f0e3c73f019932?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano", "link": "https://stackoverflow.com/users/8162281/stefano"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497469596, "post_id": 44552540, "comment_id": 76097302, "body": "How can I fix the problem?"}, {"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1497471264, "post_id": 44552540, "comment_id": 76098181, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5901476/sending-and-receiving-2d-array-over-mpi\">Sending and receiving 2D array over MPI</a>"}, {"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1497471314, "post_id": 44552540, "comment_id": 76098211, "body": "<code>*(*(A+i)+j)</code> ... holy ... I would recommend you change your learning materials if that is the advocated way to access this kind of data structure. (<code>A[i][j]</code>)"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1497471923, "post_id": 44552540, "comment_id": 76098509, "body": "@Zulan: Your &quot;dup&quot; is C++, the question C. Different languages!"}, {"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497472152, "post_id": 44552540, "comment_id": 76098628, "body": "@Olaf doesn&#39;t matter. You could verbatim copy the answer there as answer to this question here. If you feel that would be the best way to do it ... go ahead."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1497472362, "post_id": 44552540, "comment_id": 76098711, "body": "@Zulan: Your dup&#39;s question lacks a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, this one required information (&quot;does not work&quot; is not a valid problem description). The proposed answer does not use a 2D array (like OP here). Both approaches are plain wrong. If you want a 2D array, use one. I don&#39;t support further decay of quality of this site. There are reasons we don&#39;t answer bad questions. We are not a debugging service. (as a side-note: the code in the answer is bad C++ and would be bad C, too - feel free to figure out why)."}, {"owner": {"reputation": 81, "user_id": 8162281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b986b2a726c746f290f0e3c73f019932?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano", "link": "https://stackoverflow.com/users/8162281/stefano"}, "edited": false, "score": 0, "creation_date": 1497479720, "post_id": 44552540, "comment_id": 76101985, "body": "I&#39;m Sorry but I didn&#39;t want to create any problems. My question is: why the code return 0 at the end of the printf?"}], "owner": {"reputation": 81, "user_id": 8162281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b986b2a726c746f290f0e3c73f019932?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano", "link": "https://stackoverflow.com/users/8162281/stefano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1497466433, "creation_date": 1497466310, "last_edit_date": 1497466433, "question_id": 44552540, "link": "https://stackoverflow.com/questions/44552540/matrix-send-mpi", "title": "Matrix Send MPI", "body": "<p>I've a problem when send the matrix by process with rank = 0 to other processes. The output should be:<br></p>\n\n<pre><code>[150][170][190][210][230][250][270][290][310][330]\n[225][255][285][315][345][375][405][435][465][495]\n[300][340][380][420][460][500][540][580][620][660]\n[375][425][475][525][575][625][675][725][775][825]\n[450][510][570][630][690][750][810][870][930][990]\n[525][595][665][735][805][875][945][1015][1085][1155]\n[600][680][760][840][920][1000][1080][1160][1240][1320]\n[675][765][855][945][1035][1125][1215][1305][1395][1485]\n[750][850][950][1050][1150][1250][1350][1450][1550][1650]\n[825][935][1045][1155][1265][1375][1485][1595][1705][1815]\n</code></pre>\n\n<p><br><br>but it return:<br></p>\n\n<pre><code>[150][170][190][210][230][250][270][290][310][330]\n[225][255][285][315][345][375][405][435][465][495]\n[300][340][380][420][460][500][540][580][620][660]\n[375][425][475][525][575][625][675][725][775][825]\n[450][510][570][630][690][750][810][870][930][990]\n[525][595][665][735][805][875][945][1015][1085][1155]\n[600][680][760][840][920][1000][1080][1160][1240][1320]\n[675][765][855][945][1035][1125][1215][1305][1395][1485]\n[750][850][950][1050][1150][1250][1350][1450][1550][1650]\n[825][935][1045][1155][1265][1375][0][0][0][0]\n</code></pre>\n\n<p>Can you help me?<br></p>\n\n<pre><code>int main(int argc, char *argv[])\n{\n\ndouble **A = (double **)malloc(SIZE_N*sizeof(double *));\ndouble **B = (double **)malloc(SIZE_N*sizeof(double *));\ndouble **C = (double **)malloc(SIZE_N*sizeof(double *)); \n\nint g = 0;\n\nfor (g = 0; g &lt; SIZE_N; g++) {\n    A[g] = (double *)malloc(SIZE_N * sizeof(double));\n}\n\nint g1 = 0;\n\nfor (g1 = 0; g1 &lt; SIZE_N; g1++) {\n    B[g1] = (double *)malloc(SIZE_N * sizeof(double));\n}\n\nint g2 = 0;\n\nfor (g2 = 0; g2 &lt; SIZE_N; g2++) {\n    C[g2] = (double *)malloc(SIZE_N * sizeof(double));\n}\n\nfor (i = 0; i &lt; SIZE_N; i++) {\n    for (j = 0; j &lt; SIZE_N; j++) {\n        *(*(A+i)+j) = i+2;\n        *(*(B+i)+j) = i+j+3;\n    }\n}\n\nif (rank == 0) {\n    start_time = MPI_Wtime();\n    for (i = 1; i &lt; size; i++) {\n        offset = SIZE_N/(size-1);\n        bottom = (i-1)*offset;\n\n        // (i+1)==size indica l'ultimo nodo\n        //se sei all'ultimo nodo e se ci sono righe in eccesso da elaborare\n            //assegnale tutte all'ultimo nodo\n        if((i+1)==size &amp;&amp; SIZE_N%(size-1)!=0){\n            top = SIZE_N;\n        } \n        else{\n            top=bottom+offset;\n        }\n        MPI_Send(&amp;bottom,1,MPI_INT,i,1,MPI_COMM_WORLD);\n        MPI_Send(&amp;top,1,MPI_INT,i,2,MPI_COMM_WORLD);\n    }\n    i = 0;\n    for (i = 1; i &lt; size; i++) {\n        MPI_Recv(&amp;bottom,1,MPI_INT,i,4,MPI_COMM_WORLD,&amp;status);\n        MPI_Recv(&amp;top,1,MPI_INT,i,5,MPI_COMM_WORLD,&amp;status);\n        MPI_Recv(&amp;C[bottom][0],(top-bottom)*SIZE_N,MPI_DOUBLE,i,6,MPI_COMM_WORLD,&amp;status);\n        MPI_Recv(&amp;weak_time,1,MPI_DOUBLE,i,7,MPI_COMM_WORLD,&amp;status);\n        last_weak += weak_time;\n        //printf(\"Weak_time process %d&gt; %f\\nLast_weak&gt; %f\\n\",i,weak_time,last_weak);\n    }\n    end_time = MPI_Wtime();\n\n    i = 0;\n    for (i = 0; i &lt; SIZE_N; i++) {\n        for (j = 0; j &lt; SIZE_N; j++){\n            printf(\"[%.0f]\", C[i][j]);\n        }\n        printf(\"\\n\");\n    }\n    printf(\"\\n\\nTempo di calcolo compreso di stampa = %f\\n\\n\",(end_time-start_time));\n    fflush(stdout);\n}\n\nif (rank &gt; 0) {\n    double start,end,time_result;\n    start = MPI_Wtime();\n\n    MPI_Recv(&amp;bottom,1,MPI_INT,0,1,MPI_COMM_WORLD,&amp;status);\n    MPI_Recv(&amp;top,1,MPI_INT,0,2,MPI_COMM_WORLD,&amp;status);\n\n    for (i = bottom; i &lt; top; i++) {\n        for (j = 0; j &lt; SIZE_N; j++) {\n            for (k = 0; k &lt; SIZE_N; k++) {\n                C[i][j] = C[i][j] + (A[i][k] * B[k][j]);\n            }\n        }\n    }\n    MPI_Send(&amp;bottom,1,MPI_INT,0,4,MPI_COMM_WORLD);\n    MPI_Send(&amp;top,1,MPI_INT,0,5,MPI_COMM_WORLD);\n    MPI_Send(&amp;C[bottom][0],(top-bottom)*SIZE_N,MPI_DOUBLE,0,6,MPI_COMM_WORLD);\n\n    end = MPI_Wtime();\n    time_result = end-start;\n    MPI_Send(&amp;time_result,1,MPI_DOUBLE,0,7,MPI_COMM_WORLD);\n}\n\nMPI_Finalize();\nreturn 0;}`\n</code></pre>\n"}, {"tags": ["c", "android-studio", "gradle", "android-ndk", "macros"], "answers": [{"tags": [], "owner": {"reputation": 1156, "user_id": 1473401, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/AhZUr.jpg?s=128&g=1", "display_name": "alexm", "link": "https://stackoverflow.com/users/1473401/alexm"}, "is_accepted": true, "score": 0, "last_activity_date": 1497618797, "last_edit_date": 1497618797, "creation_date": 1497555382, "answer_id": 44575598, "question_id": 44552332, "link": "https://stackoverflow.com/questions/44552332/how-to-define-macros-for-native-code-inside-a-build-type-in-gradle/44575598#44575598", "title": "How to define macros for native code inside a build type in gradle?", "body": "<p>I've found a solution:</p>\n\n<p>The problem is not how the macros are defined, that works fine, the problem is gradle.</p>\n\n<p>There is <a href=\"https://issuetracker.google.com/issues/36967265\" rel=\"nofollow noreferrer\">this issue</a> when compiling libraries: Basically, every time you use make project, all the projects beside the 'app' project are compiled in their release version no matter what build variants are selected for them. </p>\n\n<p>So in this case, the problem is that even though I select debug in the build variants box for my 'nativelibrary' module, the release build type is compiled + whatever I've selected for the 'app' build variant.</p>\n\n<p><strong>The solution:</strong></p>\n\n<p>Add the following code to the 'nativelibrary' gradle file:</p>\n\n<pre><code>defaultConfig {\n        minSdkVersion 21\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"  \n\n        //DEFINE THE DEFAULT PUBLISH CONFIG WHICH IS RELEASE\n        defaultPublishConfig 'release'\n\n        //ALLOW IT TO PUBLISH A NON DEFAULT WHICH WILL BE THE DEBUG OR\n        //A CUSTOM BUILD TYPE\n        publishNonDefault true\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n    }\n</code></pre>\n\n<p>Replace the compile project(':nativelib') the following code to the app build gradle:</p>\n\n<pre><code>dependencies {\n\n    //ERASE THE FOLLOWING LINE\n    //compile project(':nativelib')\n\n    //ADD BUILD TYPE SPECIFIC COMPILE TYPES AND REQUEST A SPECIFIC \n    //CONFIGURATION FOR THE 'nativelibrary' DEPENDING ON THE \n    //REQUESTED BUILD TYPE.\n    releaseCompile project(path: ':nativelib', configuration: \"release\")\n    debugCompile project(path: ':nativelib', configuration: \"debug\")\n\n\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>This fixed my problem and now the macros are being created for debug.</p>\n"}], "owner": {"reputation": 1156, "user_id": 1473401, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/AhZUr.jpg?s=128&g=1", "display_name": "alexm", "link": "https://stackoverflow.com/users/1473401/alexm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3958, "favorite_count": 0, "accepted_answer_id": 44575598, "answer_count": 1, "score": 6, "last_activity_date": 1497618797, "creation_date": 1497465682, "last_edit_date": 1497470039, "question_id": 44552332, "link": "https://stackoverflow.com/questions/44552332/how-to-define-macros-for-native-code-inside-a-build-type-in-gradle", "title": "How to define macros for native code inside a build type in gradle?", "body": "<p>I've built a library with native code in Android Studio. It has some time dependent parts (in C) that must be under certain levels of latency, and I need to measure them. So I've implemented some measurement routines. However, I don't want the measurement routines to work in a release compilation. </p>\n\n<p>So I have defined macros that will allow me to compile or not code based on the build type:</p>\n\n<p>In my native code:</p>\n\n<pre><code>#ifdef MEASURE\nmeasureRoutine1();\nif (MEASURE == 1) {\n    measureRoutine2();\n}\n#endif\n</code></pre>\n\n<p>In my gradle file:</p>\n\n<pre><code>buildTypes {\n        release {\n            signingConfig signingConfigs.storeSignature\n            debuggable false\n            jniDebuggable false\n            versionNameSuffix \"2.3\"\n            shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            jniDebuggable true\n            minifyEnabled false\n            versionNameSuffix '2.3.1'\n        }\n        measure1 {\n            initWith debug\n            externalNativeBuild {\n                cmake {\n                    cppFlags += \"-DMEASURE=0\"\n                    cFlags += \"-DMEASURE=0\"\n                }\n            }\n        }\n        measure2 {\n            initWith debug\n            externalNativeBuild {\n                cmake {\n                    cppFlags += \"-DMEASURE=1\"\n                    cFlags += \"-DMEASURE=1\"\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Now, my problem is that it doesn't matter what buildType I compile, the MEASURE flag is not defined in my native code, so the measuring code never gets compiled. </p>\n\n<p><strong>What am I doing wrong? How can I achieve what I need?</strong></p>\n\n<p><em>PS:\nThe only way I get the MEASURE macro to be defined in native is if I put the cFlags, outside the buildTypes in the defaultConfig space.\nThis following code works, but I need to hardcode the MEASURE macro every time I want to compile with measurements.</em></p>\n\n<pre><code>defaultConfig {\n        minSdkVersion 21\n        targetSdkVersion 25\n        versionCode 6\n        versionName \"2.3\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        externalNativeBuild {\n            cmake {\n                cppFlags \"-std=c++11 -fexceptions -O2 -ffast-math -DMEASURE=0\"\n                cFlags \"-O2 -ffast-math -DMEASURE=0\"\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>UPDATE 1:</strong></p>\n\n<p>If I define the MEASURE macro under the buildType release (only under release or both under release and debug) the macro appears defined in my native code with de value defined in release. It seems that it only isn't defined under the debug build type. Any ideas of what might be happening? </p>\n\n<p><em>I'm using Android Studio 2.3.3 with the latest stable updates up to date. Also, I've created a new test project to check if my old project is bugged, but same story in both.</em></p>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<p>I'm starting to think that maybe Android Studio is not building the right buildType. Another funny thing is happening, I have tried defining a boolean build config field for java inside the debug buildType, and even though the auto generated BuildConfig.java has the field set to true, at execution time with debug I get an error that the variable does not exist (unless I put the variable under the release buildType). So it looks like no matter what I select in my build variants, it is always building the release build type.</p>\n\n<p>Here is my full test project build gradle:</p>\n\n<pre><code>apply plugin: 'com.android.library'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"26.0.0\"\n\n    defaultConfig {\n        minSdkVersion 21\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            minifyEnabled false\n            versionNameSuffix '2.3.1'\n            externalNativeBuild {\n                cmake {\n                    cppFlags += \"-DMEASURE=0\"\n                    cFlags += \"-DMEASURE=0\"\n                }\n            }\n            buildConfigField \"Boolean\", \"DEBUG_MODE\", \"Boolean.parseBoolean(\\\"true\\\")\"\n        }    \n    }\n\n    externalNativeBuild {\n        cmake {\n            path 'src/main/cpp/CMakeLists.txt'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>Here is the auto-generated BuildConfig.java file:</p>\n\n<pre><code>public final class BuildConfig {\n  public static final boolean DEBUG = Boolean.parseBoolean(\"true\");\n  public static final String APPLICATION_ID = \"com.company.TestApp\";\n  public static final String BUILD_TYPE = \"debug\";\n  public static final String FLAVOR = \"\";\n  public static final int VERSION_CODE = 1;\n  public static final String VERSION_NAME = \"1.02.3.1\";\n  // Fields from build type: debug\n  public static final Boolean DEBUG_MODE = Boolean.parseBoolean(\"true\");\n}\n</code></pre>\n\n<p>And here is the error I get at execution time when I use BuildConfig.DEBUG_MODE in my code:</p>\n\n<pre><code>Error:(14, 27) error: cannot find symbol variable DEBUG_MODE\n</code></pre>\n\n<p>What might be happening? </p>\n"}, {"tags": ["c", "eclipse", "eclipse-cdt"], "comments": [{"owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 1, "creation_date": 1497508974, "post_id": 44552146, "comment_id": 76109934, "body": "try turn off any anti-virus if you have running in your system. try to run Eclipse as Administrator..."}, {"owner": {"reputation": 51, "user_id": 7741722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXe94.jpg?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/7741722/saad"}, "reply_to_user": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 0, "creation_date": 1497510385, "post_id": 44552146, "comment_id": 76110753, "body": "Thanks for helping me..."}, {"owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 0, "creation_date": 1497511475, "post_id": 44552146, "comment_id": 76111408, "body": "I can&#39;t believe if it worked. Did it ? :)"}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 6860434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2a00d2b12acf065a8c643b3d96b477?s=128&d=identicon&r=PG&f=1", "display_name": "Y. Reznichenko", "link": "https://stackoverflow.com/users/6860434/y-reznichenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1502139706, "creation_date": 1502139706, "answer_id": 45555648, "question_id": 44552146, "link": "https://stackoverflow.com/questions/44552146/collect2-exe-error-ld-returned-1-exit-status-in-eclipse-cdt/45555648#45555648", "title": "collect2.exe: error: ld returned 1 exit status in eclipse cdt", "body": "<p>USUALLY(in my experience), LD errors result from you not including the libraries or linkers necessary. Go to your project, right click, select properties, under C build go to settings, GCC C compiler and includes and add the libraries.</p>\n"}], "owner": {"reputation": 51, "user_id": 7741722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXe94.jpg?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/7741722/saad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3651, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502139706, "creation_date": 1497465038, "last_edit_date": 1497501965, "question_id": 44552146, "link": "https://stackoverflow.com/questions/44552146/collect2-exe-error-ld-returned-1-exit-status-in-eclipse-cdt", "title": "collect2.exe: error: ld returned 1 exit status in eclipse cdt", "body": "<p>I'm a beginner of programming. I am using Eclipse CDT for C programming. When I  build any program, the console window shows the below message. Please tell me a  specific way so that I could solve this problem.</p>\n\n<p>Console window:</p>\n\n<pre><code>Info: Configuration \"Debug\" uses tool-chain \"MinGW GCC\" that is unsupported on this system, attempting to build anyway.\nInfo: Internal Builder is used for build\ngcc -O0 -g3 -Wall -c -fmessage-length=0 -o test.o \"..\\\\test.c\" \ngcc -o test.exe test.o \nc:/mingw/bin/../lib/gcc/i686-pc-mingw32/4.9.2/../../../../i686-pc-mingw32/bin/ld.exe: cannot open output file test.exe: Permission denied\ncollect2.exe: error: ld returned 1 exit status\n\n00:33:35 Build Finished (took 2s.385ms)\n</code></pre>\n"}, {"tags": ["c", "pointers", "linked-list"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 4, "creation_date": 1497464943, "post_id": 44552075, "comment_id": 76094823, "body": "It returns to the point after the function call and your recursive call is <i>before</i> the <code>printf()</code>? What exactly don&#39;t you understand?"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 1, "creation_date": 1497465036, "post_id": 44552075, "comment_id": 76094874, "body": "Have you search how recursive work ?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1497465043, "post_id": 44552075, "comment_id": 76094877, "body": "Have you tried stepping through the code in a debugger?"}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 1, "creation_date": 1497466513, "post_id": 44552075, "comment_id": 76095724, "body": "Simulate in on paper. That&#39;s a very good exercise."}], "answers": [{"tags": [], "owner": {"reputation": 3706, "user_id": 2018455, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e75a41fc224930ef1fa9ddcc9c714174?s=128&d=identicon&r=PG", "display_name": "Neil Locketz", "link": "https://stackoverflow.com/users/2018455/neil-locketz"}, "is_accepted": true, "score": 2, "last_activity_date": 1497465042, "creation_date": 1497465042, "answer_id": 44552147, "question_id": 44552075, "link": "https://stackoverflow.com/questions/44552075/what-happens-after-head-becomes-0-in-recurrsive-call/44552147#44552147", "title": "What happens after head becomes 0 in recurrsive call?", "body": "<p>You have to think of the calls in terms of how they operate, with a call stack.</p>\n\n<p>The function hits the <code>fun1</code> call before it prints anything, so it will go all the way to the base case before printing. Then it prints as it works its way out of each call; printing the list backwards.</p>\n"}, {"tags": [], "owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "is_accepted": false, "score": 0, "last_activity_date": 1497465088, "creation_date": 1497465088, "answer_id": 44552164, "question_id": 44552075, "link": "https://stackoverflow.com/questions/44552075/what-happens-after-head-becomes-0-in-recurrsive-call/44552164#44552164", "title": "What happens after head becomes 0 in recurrsive call?", "body": "<p>You can read the code something like \"print the next node if there is one, then print this one\". The operation to print the next node prints the one after that first, until the end of the list.</p>\n"}], "owner": {"reputation": 53, "user_id": 4092080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-8A-65BwfFbc/AAAAAAAAAAI/AAAAAAAAACU/e5iGabizQMY/photo.jpg?sz=128", "display_name": "Bhavya Bhatia", "link": "https://stackoverflow.com/users/4092080/bhavya-bhatia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "closed_date": 1497486989, "accepted_answer_id": 44552147, "answer_count": 2, "score": 0, "last_activity_date": 1497485991, "creation_date": 1497464784, "last_edit_date": 1497485991, "question_id": 44552075, "link": "https://stackoverflow.com/questions/44552075/what-happens-after-head-becomes-0-in-recurrsive-call", "closed_reason": "Needs details or clarity", "title": "What happens after head becomes 0 in recurrsive call?", "body": "<pre><code>void fun1(struct Node* head)\n{\n if(head == NULL)\n    return;\n\n fun1(head-&gt;next);\n  printf(\"%d  \", head-&gt;data);\n}\n</code></pre>\n\n<p>after head->next becomes 0, how it is printed backward, please explain the flow ?</p>\n"}, {"tags": ["c", "geometry"], "comments": [{"owner": {"reputation": 2815, "user_id": 1462295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ts6jy.jpg?s=128&g=1", "display_name": "BurnsBA", "link": "https://stackoverflow.com/users/1462295/burnsba"}, "edited": false, "score": 0, "creation_date": 1497464964, "post_id": 44552063, "comment_id": 76094836, "body": "What&#39;s the question? This sounds like a trig problem, not a coding problem."}, {"owner": {"reputation": 1, "user_id": 8162190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f65b5fd42270efd8d337e28b78ea9df3?s=128&d=identicon&r=PG&f=1", "display_name": "GradStudent7902", "link": "https://stackoverflow.com/users/8162190/gradstudent7902"}, "reply_to_user": {"reputation": 2815, "user_id": 1462295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ts6jy.jpg?s=128&g=1", "display_name": "BurnsBA", "link": "https://stackoverflow.com/users/1462295/burnsba"}, "edited": false, "score": 0, "creation_date": 1497465209, "post_id": 44552063, "comment_id": 76094954, "body": "I have a point (x,y). I have a heading angle A. I would like to generate coordinates of more points along that heading A from point (x,y). I am stuck on how to implement this with an efficient code in C."}, {"owner": {"reputation": 2815, "user_id": 1462295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ts6jy.jpg?s=128&g=1", "display_name": "BurnsBA", "link": "https://stackoverflow.com/users/1462295/burnsba"}, "edited": false, "score": 0, "creation_date": 1497465366, "post_id": 44552063, "comment_id": 76095045, "body": "<code>x^2 + y^2 = r^2</code>, the angle is <code>\u03b8 = tan^-1(y&#47;x)</code>. Then successive points is <code>(x*r cos \u03b8,  x*r sin \u03b8)</code>  for integer x."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1497469711, "post_id": 44552063, "comment_id": 76097364, "body": "The main issue here is how you package up the information in the call to the function that does this job \u2014 or how you wrap a loop around the code.  It seems like you should be able to use the distance <code>d</code> between points, plus the angle <code>A</code> (in radians!) and the start point (<code>x0</code>, <code>y0</code>) to generate a new point (<code>x1</code>, <code>y1</code>) using basic mathematics: <code>x1 = x0 + d * cos(A); y1 = y0 + d * sin(A);</code>.  It ain&#39;t rocket science."}, {"owner": {"reputation": 1, "user_id": 8162190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f65b5fd42270efd8d337e28b78ea9df3?s=128&d=identicon&r=PG&f=1", "display_name": "GradStudent7902", "link": "https://stackoverflow.com/users/8162190/gradstudent7902"}, "reply_to_user": {"reputation": 2815, "user_id": 1462295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ts6jy.jpg?s=128&g=1", "display_name": "BurnsBA", "link": "https://stackoverflow.com/users/1462295/burnsba"}, "edited": false, "score": 0, "creation_date": 1497509449, "post_id": 44552063, "comment_id": 76110230, "body": "Thank you @BurnsBA.   Jonathan, I have not done basic Trig in quite a while. That is why I was finding it difficult to visualize the problem."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8162190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f65b5fd42270efd8d337e28b78ea9df3?s=128&d=identicon&r=PG&f=1", "display_name": "GradStudent7902", "link": "https://stackoverflow.com/users/8162190/gradstudent7902"}, "edited": false, "score": 0, "creation_date": 1497465329, "post_id": 44552187, "comment_id": 76095025, "body": "Thank you. This certainly helps to visualize the problem better from a coding perspective."}, {"owner": {"reputation": 433, "user_id": 7313789, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a4a8392e031b7a7a12a70e0efc42c9df?s=128&d=identicon&r=PG&f=1", "display_name": "Luple", "link": "https://stackoverflow.com/users/7313789/luple"}, "reply_to_user": {"reputation": 1, "user_id": 8162190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f65b5fd42270efd8d337e28b78ea9df3?s=128&d=identicon&r=PG&f=1", "display_name": "GradStudent7902", "link": "https://stackoverflow.com/users/8162190/gradstudent7902"}, "edited": false, "score": 0, "creation_date": 1497465467, "post_id": 44552187, "comment_id": 76095098, "body": "I can write out more of the code for you if you would like, but this strategy should get you what you want."}, {"owner": {"reputation": 1, "user_id": 8162190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f65b5fd42270efd8d337e28b78ea9df3?s=128&d=identicon&r=PG&f=1", "display_name": "GradStudent7902", "link": "https://stackoverflow.com/users/8162190/gradstudent7902"}, "edited": false, "score": 2, "creation_date": 1497465758, "post_id": 44552187, "comment_id": 76095254, "body": "Thank you, but that will be nice of you and lazy of me. I will try myself and ask again if I fail."}], "tags": [], "owner": {"reputation": 433, "user_id": 7313789, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a4a8392e031b7a7a12a70e0efc42c9df?s=128&d=identicon&r=PG&f=1", "display_name": "Luple", "link": "https://stackoverflow.com/users/7313789/luple"}, "is_accepted": false, "score": 0, "last_activity_date": 1497465167, "creation_date": 1497465167, "answer_id": 44552187, "question_id": 44552063, "link": "https://stackoverflow.com/questions/44552063/getting-points-along-a-line-given-heading-starting-point-and-distance-between-p/44552187#44552187", "title": "Getting points along a line given heading, starting point and distance between points", "body": "<p>One solution is to create a unit vector in the direction you want</p>\n\n<p>for example lets say you want 45 degrees, the unit vector would be \n&lt;1/sqrt(2), 1/sqrt(2)>. this distance would be 1 since its a unit vector so you can scale it by the distance you want per point. so lets say you want each point to be 1/3 of a unit, then you would just multiply the unit vector and get \n&lt;1/(3sqrt(2)), 1/(3sqrt(2))> and then you can just do a loop. so if you want 10 points in that direction it would just be </p>\n\n<pre><code>unitvector = calculateUnitVector()\nunitvector *= distanceBetweenPoints\nfor(i = 0 ; i &lt; 10; i++){\n   drawPoint(startPoint + unitVector * i)\n}\n</code></pre>\n\n<p>i hope this helps. </p>\n"}], "owner": {"reputation": 1, "user_id": 8162190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f65b5fd42270efd8d337e28b78ea9df3?s=128&d=identicon&r=PG&f=1", "display_name": "GradStudent7902", "link": "https://stackoverflow.com/users/8162190/gradstudent7902"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1497469452, "creation_date": 1497464728, "last_edit_date": 1497469452, "question_id": 44552063, "link": "https://stackoverflow.com/questions/44552063/getting-points-along-a-line-given-heading-starting-point-and-distance-between-p", "title": "Getting points along a line given heading, starting point and distance between points", "body": "<p>I am currently working on my research and coding my theories to simulate scenarios.</p>\n\n<p>I need a way to incrementally find points along a given heading (angle between a line and the positive x axis) given the heading, the starting point, and the distance between the points. The new points should be in the direction of the heading. I am somehow facing a difficulty on how I should go about doing this. </p>\n\n<p>With enough time I can come up with a way myself, but given that sharpening my coding skills is not my final outcome here and I would rather spend more time experimenting with my theory, I was wondering if anyone could help me find a solution. I am working with C, so a solution in C would be preferred and not one that uses library functions available in other languages.</p>\n"}, {"tags": ["c", "arrays"], "comments": [{"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 2, "creation_date": 1497464522, "post_id": 44551946, "comment_id": 76094605, "body": "There is no need to extract out of the specific indexes of a once you know the count. Should just be able to do <code>for(i=0; i &lt; count; i++) b[i] = 1;</code> This doesn&#39;t answer your pointers question, but if you are looking for conciseness, there you go!"}, {"owner": {"reputation": 115, "user_id": 8131971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fefa443575403c41742960850a3b689?s=128&d=identicon&r=PG&f=1", "display_name": "Syoung", "link": "https://stackoverflow.com/users/8131971/syoung"}, "reply_to_user": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 0, "creation_date": 1497464627, "post_id": 44551946, "comment_id": 76094666, "body": "@EastonBornemeier Oh,yes you are right. Thanks for your comment."}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497464673, "post_id": 44551946, "comment_id": 76094697, "body": "What is your problem ? I don&#39;t understand."}], "answers": [{"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": true, "score": 3, "last_activity_date": 1497464862, "creation_date": 1497464862, "answer_id": 44552102, "question_id": 44551946, "link": "https://stackoverflow.com/questions/44551946/extracting-a-portion-of-an-array-by-using-pointer-in-c/44552102#44552102", "title": "Extracting a portion of an array by using pointer in C", "body": "<p>I think you already noticed that you just had to write <code>1</code> several times; yet I suppose you want that it works for arbitrary conditions.</p>\n\n<p>\"Using a pointer\" can mean dynamic memory allocation instead of a variable length array. Just for the sake of having use a pointer, you could then write: </p>\n\n<pre><code>int *b = malloc(count * sizeof(int));\nk = 0;\nfor (i = 0; i &lt; 10; i++) {\n    if (a[i] == 1) {\n        b[k] = a[i];\n        k = k + 1;\n    }\n}\n</code></pre>\n\n<p>If, just for sake of using a pointer for the writing process, too, you could adapt the program as follows:</p>\n\n<pre><code>int *b = malloc(count * sizeof(int));\nint *bPtr = b;\nfor (i = 0; i &lt; 10; i++) {\n    if (a[i] == 1) {\n        *bPtr++ = a[i];\n    }\n}\n</code></pre>\n\n<p>Hope it helps a bit.</p>\n"}, {"tags": [], "owner": {"reputation": 18385, "user_id": 1773434, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9HhFs.png?s=128&g=1", "display_name": "Govind Parmar", "link": "https://stackoverflow.com/users/1773434/govind-parmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1497464897, "creation_date": 1497464897, "answer_id": 44552115, "question_id": 44551946, "link": "https://stackoverflow.com/questions/44551946/extracting-a-portion-of-an-array-by-using-pointer-in-c/44552115#44552115", "title": "Extracting a portion of an array by using pointer in C", "body": "<p>If you don't know which portion of the array your target values will be in, as in your case, where you're searching the entire unsorted array for a specific value, then there is no advantage to using pointers rather than a linear search to find the elements in the array you are after.</p>\n\n<p><em>If</em>, however, you are trying to access or copy a contiguous set of elements starting at a known index in the array, then you could use a pointer to simplify things.  For example, if I'm after the last few elements in an array of <code>char</code>s, this works:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    char str[100] = \"I don\\'t want anyone to think I hate the Calgary Flames\";\n    char *c = (str + 29);\n    printf(\"%s\\n\", c);\n    return 0;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>I hate the Calgary Flames\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126343, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1497466409, "last_edit_date": 1497466409, "creation_date": 1497466089, "answer_id": 44552478, "question_id": 44551946, "link": "https://stackoverflow.com/questions/44551946/extracting-a-portion-of-an-array-by-using-pointer-in-c/44552478#44552478", "title": "Extracting a portion of an array by using pointer in C", "body": "<p>In this case, no, there is no benefit. <code>a[i]</code> is already basically <code>a + (sizeof(int) * i)</code>. Even if you used pointers, you'd still have to do all the counting anyway to make sure you don't walk off the end of the array.</p>\n\n<p>Where its often handy is with a null terminated array of pointers, such as a string, where you don't know the length. But it's not really about performance. As you can see below, they have to do roughly the same things.</p>\n\n<pre><code>char string[] = \"foo bar\";\n\n// Allocate and initialize i.\n// `string + i` twice, compare, increment.\nfor( int i = 0; string[i] != '\\0'; i++ ) {\n    printf(\"%c\", string[i]);\n}\nputs(\"\");\n\n// Allocate and initialize s.\n// Dereference s twice, compare, increment.\nfor( char *s = string; *s != '\\0'; s++ ) {\n    printf(\"%c\", *s);\n}\nputs(\"\");\n</code></pre>\n\n<p>Where iterating by pointer is handy is when you need to iterate through an array in several steps. Instead of passing around the original array pointer plus your last index, and changing all your function signatures to accommodate, just pass around the incremented pointer and return the incremented pointer. This allows you to use standard string functions on the middle of a string.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nchar *findVal( char *string, char delim ) {\n    char *val = string;\n    for( ; *val != '\\0' &amp;&amp; *val != delim; val++ ) {\n    }\n\n    if( val == '\\0' ) {\n        return NULL;\n    }\n    else {\n        // val is sitting on the ':'\n        return val+1;\n    }\n}\n\nint main() {\n    char string[] = \"this:that\";\n\n    char *val = findVal(string, ':');\n    if( val != NULL ) {\n        // Just use val, not string[valIdx].\n        printf(\"%s\\n\", val);\n    }\n}\n</code></pre>\n\n<p>This is also safer. With an offset there's two things which must remain in sync, the pointer and the offset; that opens the possibility that the wrong offset will be used with the wrong pointer. An incremented pointer carries its offset with it.</p>\n\n<hr>\n\n<p>As has been pointed out in the comments, you can tighten up the second loop like so:</p>\n\n<pre><code>int b[count];\nfor (i = 0; i &lt; count; i++) {\n    b[i] = 1;\n}\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 8131971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fefa443575403c41742960850a3b689?s=128&d=identicon&r=PG&f=1", "display_name": "Syoung", "link": "https://stackoverflow.com/users/8131971/syoung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "accepted_answer_id": 44552102, "answer_count": 3, "score": 1, "last_activity_date": 1497466409, "creation_date": 1497464275, "last_edit_date": 1497464517, "question_id": 44551946, "link": "https://stackoverflow.com/questions/44551946/extracting-a-portion-of-an-array-by-using-pointer-in-c", "title": "Extracting a portion of an array by using pointer in C", "body": "<p>For example if I have an array and I want to extract elements of this array with a specified value as a new array. I did as the following:</p>\n\n<pre><code>int a[10] = { 1, 2, 1, 3, 2, 3, 4, 1, 2, 6 };\nint i, k;\n\nint count = 0;\nfor (i = 0; i &lt; 10; i++) {\n    if (a[i] == 1) {\n        count = count + 1;\n    }\n}\n\nint b[count];\nk = 0;\nfor (i = 0; i &lt; 10; i++) {\n    if (a[i] == 1) {\n        b[k] = a[i];\n        k = k + 1;\n    }\n}\n</code></pre>\n\n<p>So, for the array \"a\" I extracted all the elements of value 1, and make them as a new array \"b\". How can I achieve the same thing by using pointers? Will it be conciser than this way? If it is possible, is there any other advantages?</p>\n"}, {"tags": ["c", "loops"], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 6594779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/847c25720c1e7423a97c7894b530bfa4?s=128&d=identicon&r=PG&f=1", "display_name": "svtag", "link": "https://stackoverflow.com/users/6594779/svtag"}, "is_accepted": false, "score": 0, "last_activity_date": 1500377625, "creation_date": 1500377625, "answer_id": 45165645, "question_id": 44551886, "link": "https://stackoverflow.com/questions/44551886/nesting-of-different-loops-in-c/45165645#45165645", "title": "Nesting of different loops in C", "body": "<p>There is an extra <code>}</code> after the else statement in line 46. After correcting it, code will be </p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    int num,incentive;\n    int salary=1500;\n    float w_hr, avg_time,LOP,tot_sal;\n    int tot_hr=50;\n    printf(\"Enter the no. of projects allocated\\n\");\n    scanf(\"%d\",&amp;num);\n    printf(\"Enter the no. of working hours\\n\");\n    scanf(\"%f\",&amp;w_hr);\n    if(num&lt;=10)\n    {\n        if(w_hr&lt;tot_hr)\n        {\n            avg_time=w_hr/num;\n            printf(\"Average Time Taken(Hrs)\\n%f\",avg_time);\n        }\n        else if(w_hr&gt;50&amp;&amp;w_hr&lt;=55)\n        {\n            LOP=0.5;\n            tot_sal=(((100-LOP)/100)*salary);\n            printf(\"You have exceeded the timeline\\n\");\n            printf(\"Your Salary is Rs.%.2f\",tot_sal);\n        }\n        else if(w_hr&gt;55&amp;&amp;w_hr&lt;=60)\n        {\n            LOP=1.0;\n            tot_sal=(((100-LOP)/100)*salary);\n            printf(\"You have exceeded the timeline\\n\");\n            printf(\"You Salary is Rs.%.2f\",tot_sal);\n        }\n        else if(w_hr&gt;60&amp;&amp;w_hr&lt;=70)\n        {\n            LOP=1.5;\n            tot_sal=(((100-LOP)/100)*salary);\n            printf(\"You have exceeded the timeline\\n\");\n            printf(\"Your Salary is Rs.%.2f\",tot_sal);\n        }\n        else\n            printf(\"Invalid input\");\n    }\n    else\n    {\n        printf(\"The maximum limit on project count has been specified as %d. SORRY!!\",num);\n    }\n    while(w_hr&lt;tot_hr)\n    {\n        if(avg_time&lt;5)\n        {\n        incentive=5000;\n        tot_sal=salary+incentive;\n        printf(\"Your Salary is %.f\",tot_sal);\n        }\n        else if(avg_time&gt;=5&amp;&amp;avg_time&lt;7)\n        {\n            incentive=2000;\n            tot_sal=salary+incentive;\n            printf(\"Your Salary is %.f\",tot_sal);\n        }\n        else if(avg_time&gt;=7&amp;&amp;avg_time&lt;10)\n        {\n            incentive=1500;\n            tot_sal=salary+incentive;\n            printf(\"Your Salary is %.f\",tot_sal);\n        }\n        else\n        {\n            incentive=500;\n            tot_sal=salary+incentive;\n            printf(\"Your Salary is %.f\",tot_sal);\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1726, "user_id": 3281252, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U3Vcm.jpg?s=128&g=1", "display_name": "tenhobi", "link": "https://stackoverflow.com/users/3281252/tenhobi"}, "edited": false, "score": 0, "creation_date": 1503248126, "post_id": 45784452, "comment_id": 78526755, "body": "Maybe you should add some description of your changes so it&#39;s clear what was the issue."}], "tags": [], "owner": {"reputation": 1, "user_id": 8491527, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NKnktFXfMbo/AAAAAAAAAAI/AAAAAAAABU4/UHQ1gqpP474/photo.jpg?sz=128", "display_name": "Pradosh Dhal", "link": "https://stackoverflow.com/users/8491527/pradosh-dhal"}, "is_accepted": false, "score": 0, "last_activity_date": 1503260429, "last_edit_date": 1503260429, "creation_date": 1503246980, "answer_id": 45784452, "question_id": 44551886, "link": "https://stackoverflow.com/questions/44551886/nesting-of-different-loops-in-c/45784452#45784452", "title": "Nesting of different loops in C", "body": "<p>The while loop is creating a problem. I have made the required corrections:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    int num,incentive;\n    int salary=1500;\n    float w_hr, avg_time,LOP,tot_sal;\n    int tot_hr=50;\n\n    printf(\"Enter the no.of projects allocated\\n\");\n    scanf(\"%d\",&amp;num);\n\n    printf(\"Enter the no.of working hours\\n\");\n    scanf(\"%f\",&amp;w_hr);\n    if(num&lt;=10){\n        if(w_hr&lt;tot_hr){\n            avg_time=w_hr/num;\n            printf(\"Average Time Taken (Hrs)\\n%.1f\",avg_time);\n\n            if(avg_time&lt;5.0){\n                incentive=5000;\n                tot_sal=salary*num+incentive;\n                printf(\"\\nYour Salary is Rs.%.f\",tot_sal);                \n            }\n            else if(avg_time&gt;=5.0 &amp;&amp; avg_time&lt;7.0){\n                incentive=2000;\n                tot_sal=salary*num+incentive;\n                printf(\"\\nYour Salary is Rs.%.f\",tot_sal);\n            }\n            else if(avg_time&gt;=7.0 &amp;&amp; avg_time&lt;10.0){\n                incentive=1500;\n                tot_sal=salary*num+incentive;\n                printf(\"\\nYour Salary is Rs.%.f\",tot_sal);\n            }\n            else{\n                incentive=500;\n                tot_sal=salary*num+incentive;\n                printf(\"\\nYour Salary is Rs.%.f\",tot_sal);\n            }\n        }\n        else if(w_hr&gt;50&amp;&amp;w_hr&lt;=55){\n            LOP=0.5;\n            tot_sal=num*(((100-LOP)/100)*salary);\n            printf(\"You have exceeded the timeline\\n\");\n            printf(\"\\nYour Salary is Rs.%.f\",tot_sal);\n        }\n        else if(w_hr&gt;55&amp;&amp;w_hr&lt;=60){\n            LOP=1.0;\n            tot_sal=(((100-LOP)/100)*salary);\n            printf(\"You have exceeded the timeline\\n\");\n            printf(\"\\nYour Salary is Rs.%.2f\",tot_sal);\n        }\n        else if(w_hr&gt;60&amp;&amp;w_hr&lt;=70){\n            LOP=1.5;\n            tot_sal=(((100-LOP)/100)*salary);\n            printf(\"You have exceeded the timeline\\n\");\n            printf(\"\\nYour Salary is Rs.%.2f\",tot_sal);\n        }\n        else\n            printf(\"\\nInvalid input\");\n        }\n    else{\n        printf(\"The maximum limit on project count has been specified as 10. Sorry!!\");\n    }\nreturn 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8023462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfab481726b756f81dd316fa467f298d?s=128&d=identicon&r=PG&f=1", "display_name": "Ardent learner", "link": "https://stackoverflow.com/users/8023462/ardent-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1503260429, "creation_date": 1497464077, "last_edit_date": 1592644375, "question_id": 44551886, "link": "https://stackoverflow.com/questions/44551886/nesting-of-different-loops-in-c", "title": "Nesting of different loops in C", "body": "<pre><code>#include&lt;stdio.h&gt;\nvoid main()\n{\n    int num,incentive;\n    int salary=1500;\n    float w_hr, avg_time,LOP,tot_sal;\n    int tot_hr=50;\n    printf(&quot;Enter the no. of projects allocated\\n&quot;);\n    scanf(&quot;%d&quot;,&amp;num);\n    printf(&quot;Enter the no. of working hours\\n&quot;);\n    scanf(&quot;%f&quot;,&amp;w_hr);\n    if(num&lt;=10)\n    {\n        if(w_hr&lt;tot_hr)\n        {\n            avg_time=w_hr/num;\n            printf(&quot;Average Time Taken(Hrs)\\n%f&quot;,avg_time);\n        }\n        else if(w_hr&gt;50&amp;&amp;w_hr&lt;=55)\n        {\n            LOP=0.5;\n            tot_sal=(((100-LOP)/100)*salary);\n            printf(&quot;You have exceeded the timeline\\n&quot;);\n            printf(&quot;Your Salary is Rs.%.2f&quot;,tot_sal);\n        }\n        else if(w_hr&gt;55&amp;&amp;w_hr&lt;=60)\n        {\n            LOP=1.0;\n            tot_sal=(((100-LOP)/100)*salary);\n            printf(&quot;You have exceeded the timeline\\n&quot;);\n            printf(&quot;You Salary is Rs.%.2f&quot;,tot_sal);\n        }\n        else if(w_hr&gt;60&amp;&amp;w_hr&lt;=70)\n        {\n            LOP=1.5;\n            tot_sal=(((100-LOP)/100)*salary);\n            printf(&quot;You have exceeded the timeline\\n&quot;);\n            printf(&quot;Your Salary is Rs.%.2f&quot;,tot_sal);\n        }\n        else\n        printf(&quot;Invalid input&quot;);\n        }\n    }\n    else\n    {\n        printf(&quot;The maximum limit on project count has been specified as %d. SORRY!!&quot;,num);\n    }\n    while(w_hr&lt;tot_hr)\n    {\n        if(avg_time&lt;5)\n        {\n        incentive=5000;\n        tot_sal=salary+incentive;\n        printf(&quot;Your Salary is %.f&quot;,tot_sal);\n        }\n        else if(avg_time&gt;=5&amp;&amp;avg_time&lt;7)\n        {\n            incentive=2000;\n            tot_sal=salary+incentive;\n            printf(&quot;Your Salary is %.f&quot;,tot_sal);\n        }\n        else if(avg_time&gt;=7&amp;&amp;avg_time&lt;10)\n        {\n            incentive=1500;\n            tot_sal=salary+incentive;\n            printf(&quot;Your Salary is %.f&quot;,tot_sal);\n        }\n        else\n        {\n            incentive=500;\n            tot_sal=salary+incentive;\n            print(&quot;Your Salary is %.f&quot;,tot_sal);\n        }\n    }\n}\n</code></pre>\n<p>In the above program, the following error appears,</p>\n<pre><code>calculatesalary.c:44: error: expected identifier or \u2018(\u2019 before \u2018else\u2019\n     else\n     ^\ncalculatesalary.c:48: error: expected identifier or \u2018(\u2019 before \u2018while\u2019\n     while(w_hr&lt;tot_hr)\n     ^\ncalculatesalary.c:75: error: expected identifier or \u2018(\u2019 before \u2018}\u2019 token\n }\n ^\n</code></pre>\n<p>I've got an error in the else part and the while loop stating that an identifier or <code>(</code> before <code>}</code>,<code>while</code> and <code>else</code> token is expected.</p>\n<p>Is there any mistake in the way the loops are nested?</p>\n<p>Code's question:-</p>\n<p>Ragav, an accounts manager works in Abil Solutions. One day he decided to modify the way for calculating the salary for the employees who are handling projects in his organization. He has to maintain the salary details with respect to the projects done by the employees within the time line. The total number of hours to complete the work allocated is 50. The employees can handle maximum of 10 projects at the same time. The employees should not go beyond the time line. If an employee takes more time than the time period he will be provided with Loss of Pay from his salary. If he completes the project with low average time he will get incentive. The salary for the complete project is Rs.1500/-</p>\n<p>If the time taken is greater than 50 hours calculate salary with loss of pay, not necessary to calculate average time. The average time taken has to be in float type.</p>\n<p>Average Time/project(Hrs)               Incentive(Rs.)</p>\n<p>below 5                                             5000</p>\n<blockquote>\n<p>=5 and &lt;7                                       2000</p>\n<p>=7 and &lt;10                                     1500</p>\n<p>=10                                                  500</p>\n</blockquote>\n<p>Time Taken (Hrs)                             Loss of Pay(%)</p>\n<blockquote>\n<p>50 and &lt;=55                                  0.5</p>\n<p>55 and &lt;=60                                  1.0</p>\n<p>60 and &lt;=70                                  1.5</p>\n<p>70                                                  Invalid Input</p>\n</blockquote>\n<p>Test Case</p>\n<p>Input 1</p>\n<p>Enter the no.of projects allocated</p>\n<p>5</p>\n<p>Enter the no.of working hours</p>\n<p>30</p>\n<p>Output 1</p>\n<p>Average Time Taken (Hrs)</p>\n<p>6.0</p>\n<p>Your Salary is Rs.9500</p>\n<p>Input 2</p>\n<p>Enter the no.of projects allocated</p>\n<p>8</p>\n<p>Enter the no.of working hours</p>\n<p>55</p>\n<p>Output 2</p>\n<p>You have exceeded the timeline.</p>\n<p>Your Salary is Rs.11940</p>\n<p>Input 3</p>\n<p>Enter the no.of projects allocated</p>\n<p>12</p>\n<p>Enter the no.of working hours</p>\n<p>40</p>\n<p>Output 3</p>\n<p>The maximum limit on project count has been specified as 10. Sorry!!</p>\n"}, {"tags": ["java", "c", "java-native-interface"], "comments": [{"owner": {"reputation": 78442, "user_id": 202009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/31dcfef154edd75223ae28f2cfd77f71?s=128&d=identicon&r=PG", "display_name": "Andy Thomas", "link": "https://stackoverflow.com/users/202009/andy-thomas"}, "edited": false, "score": 0, "creation_date": 1497460124, "post_id": 44550789, "comment_id": 76092099, "body": "One option is to make a normal class, with separate fields for each union field, and some kind of indication of what&#39;s stored. However, this won&#39;t use the same memory for both. Another option is to store one field, an Object, and have it point to an object of the appropriate type."}, {"owner": {"reputation": 3180, "user_id": 905033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a6b947cd4c65dce0c3493549f9f411c?s=128&d=identicon&r=PG", "display_name": "Lew Bloch", "link": "https://stackoverflow.com/users/905033/lew-bloch"}, "edited": false, "score": 0, "creation_date": 1497460341, "post_id": 44550789, "comment_id": 76092215, "body": "Java doesn&#39;t actually support what a <code>union</code> does. You cannot overlay one type like a <code>Foo</code> or <code>double</code> over the same memory location as another, like a <code>Bar</code> or <code>long</code>.  This is too low-level for Java. You can convert representations like with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#doubleToLongBits-double-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>, but that doesn&#39;t overlay memory. What would you use such a feature for anyway?"}, {"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "reply_to_user": {"reputation": 3180, "user_id": 905033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a6b947cd4c65dce0c3493549f9f411c?s=128&d=identicon&r=PG", "display_name": "Lew Bloch", "link": "https://stackoverflow.com/users/905033/lew-bloch"}, "edited": false, "score": 1, "creation_date": 1497466202, "post_id": 44550789, "comment_id": 76095514, "body": "@LewBloch - clearly to store either <code>code</code> or <code>mainCode + subCode</code> in the same location - same as <code>c</code> ;)"}, {"owner": {"reputation": 78442, "user_id": 202009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/31dcfef154edd75223ae28f2cfd77f71?s=128&d=identicon&r=PG", "display_name": "Andy Thomas", "link": "https://stackoverflow.com/users/202009/andy-thomas"}, "edited": false, "score": 1, "creation_date": 1497469108, "post_id": 44550789, "comment_id": 76097053, "body": "This question seems fairly clear and valid, at least to someone with significant experience in both C and Java. Anyone care to explain the downvotes or closing votes?"}, {"owner": {"reputation": 3180, "user_id": 905033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a6b947cd4c65dce0c3493549f9f411c?s=128&d=identicon&r=PG", "display_name": "Lew Bloch", "link": "https://stackoverflow.com/users/905033/lew-bloch"}, "reply_to_user": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 0, "creation_date": 1497481679, "post_id": 44550789, "comment_id": 76102575, "body": "Very funny, @KevinDTimm, but I was looking for a serious answer."}, {"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "reply_to_user": {"reputation": 3180, "user_id": 905033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a6b947cd4c65dce0c3493549f9f411c?s=128&d=identicon&r=PG", "display_name": "Lew Bloch", "link": "https://stackoverflow.com/users/905033/lew-bloch"}, "edited": false, "score": 0, "creation_date": 1497631338, "post_id": 44550789, "comment_id": 76176087, "body": "@LewBloch - hence the wink emoji"}, {"owner": {"reputation": 6512, "user_id": 573057, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f857595894d2c4009a790ebf473a4334?s=128&d=identicon&r=PG", "display_name": "earcam", "link": "https://stackoverflow.com/users/573057/earcam"}, "reply_to_user": {"reputation": 78442, "user_id": 202009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/31dcfef154edd75223ae28f2cfd77f71?s=128&d=identicon&r=PG", "display_name": "Andy Thomas", "link": "https://stackoverflow.com/users/202009/andy-thomas"}, "edited": false, "score": 0, "creation_date": 1547558232, "post_id": 44550789, "comment_id": 95225879, "body": "Agree with @AndyThomas and upvoted accordingly - question is well formed, downvotes should be explained."}], "answers": [{"comments": [{"owner": {"reputation": 27420, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1612019557, "post_id": 44553035, "comment_id": 116638422, "body": "<i>Java does not allow multiple fields to occupy the same memory.</i>  A bit late here, but I&#39;ll just note that if you&#39;re worried that much about memory usage, you wouldn&#39;t be using Java in the first place..."}], "tags": [], "owner": {"reputation": 78442, "user_id": 202009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/31dcfef154edd75223ae28f2cfd77f71?s=128&d=identicon&r=PG", "display_name": "Andy Thomas", "link": "https://stackoverflow.com/users/202009/andy-thomas"}, "is_accepted": false, "score": 4, "last_activity_date": 1497468971, "last_edit_date": 1497468971, "creation_date": 1497468024, "answer_id": 44553035, "question_id": 44550789, "link": "https://stackoverflow.com/questions/44550789/map-a-c-union-into-a-structure-on-java/44553035#44553035", "title": "Map a c union into a structure on java", "body": "<p>Java does not allow multiple fields to occupy the same memory. There is no direct analog of a C union in Java. So you can't:</p>\n\n<ul>\n<li>Save memory by having multiple fields occupy the same space, when only one is appropriate at any given time.</li>\n<li>Access one stored value in different representations just by accessing another field in the union (as your second union appears to be intended). Even in C++, this is technically undefined behavior, though some compilers support it.</li>\n</ul>\n\n<p>That said, you <em>can</em> translate code that includes a C union to Java code. </p>\n\n<h3>Multiple fields, not saved in same memory</h3>\n\n<p>One way is to have multiple fields in a class. Memory will be allocated for each field, even though at most one will be used at any one time.</p>\n\n<pre><code>public class BS2Event {\n    ...\n    // Only one of these can be set\n    char[] userID = new char[BS2_USER_ID_SIZE];\n    int ioDeviceID;\n    ...\n}\n</code></pre>\n\n<h3>Single field of base class or interface type</h3>\n\n<p>Another way is to represent the union with a single Object or interface pointer that references the one current representation. Memory is allocated within the class only for a single reference, but additional memory is required for the referenced object. </p>\n\n<pre><code>public class BS2Event {\n   // Ordinary struct fields \n   ...\n   private IEntityID m_userOrDeviceID;\n   ...\n}\n</code></pre>\n\n<p>Now, <code>m_userID</code> can point to either a UserID or a DeviceID. </p>\n\n<pre><code>public interface IEntityID { ... }\n\npublic class UserID implements IEntityID {\n   private char[] userID = new char[BS2_USER_ID_SIZE];\n   ...\n}\n\nprivate class DeviceID implements IEntityID {\n   private int ioDeviceID;\n   ...\n}\n</code></pre>\n\n<h3>One representation, accessed in multiple ways</h3>\n\n<p>If you have one representation that you want to access in multiple ways, you can do that with methods rather than fields.</p>\n\n<pre><code>public class BS2Event {\n   // Ordinary struct fields \n   ...\n   private Code m_code;\n   ...\n}\n\nprivate class Code {\n   private int code;\n   public int getCode() { return code; }\n   public short getMainCode() { ... }\n   public short getSubCode() { ... }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 9049681, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KYpFgSLx-d4/AAAAAAAAAAI/AAAAAAAAB_o/-dioeaMb83g/photo.jpg?sz=128", "display_name": "Magnus Persson", "link": "https://stackoverflow.com/users/9049681/magnus-persson"}, "is_accepted": false, "score": 0, "last_activity_date": 1612018676, "last_edit_date": 1612018676, "creation_date": 1586196176, "answer_id": 61066063, "question_id": 44550789, "link": "https://stackoverflow.com/questions/44550789/map-a-c-union-into-a-structure-on-java/61066063#61066063", "title": "Map a c union into a structure on java", "body": "<p>You can map a struct directly using:\n<a href=\"http://javolution.org/apidocs/javolution/io/Struct.html\" rel=\"nofollow noreferrer\">http://javolution.org/apidocs/javolution/io/Struct.html</a>\nIt works very well (supports packed-structs, different byte-ordering). Click the link to see an example of how to use it.</p>\n"}], "owner": {"reputation": 17, "user_id": 8161872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3464b3074d43709d8bf33130bc1043?s=128&d=identicon&r=PG&f=1", "display_name": "Ismael &#193;lvarez Iglesias", "link": "https://stackoverflow.com/users/8161872/ismael-%c3%81lvarez-iglesias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1612018676, "creation_date": 1497459966, "last_edit_date": 1497460057, "question_id": 44550789, "link": "https://stackoverflow.com/questions/44550789/map-a-c-union-into-a-structure-on-java", "title": "Map a c union into a structure on java", "body": "<p>I have this structure in c</p>\n\n<pre>\n\n    typedef struct {\n        uint32_t id;\n        uint32_t dateTime;\n        uint32_t deviceID;\n        union {\n            char userID[BS2_USER_ID_SIZE];\n            uint32_t ioDeviceID;\n        };\n        union {\n            uint16_t code;\n            struct {\n                uint8_t mainCode;\n                uint8_t subCode;\n            };\n        };\n        uint8_t param;\n        uint8_t image;\n    } BS2Event;\n\n</pre>\n\n<p>And this java class to map the struct:</p>\n\n<pre>\n\n    public class BS2Event extends Structure{\n    public int id;\n        public int dateTime;\n        public int deviceID;\n\n        public int param;\n        public int image;\n    }\n\n</pre>\n\n<p>How can I map unions in the mapping java class?</p>\n"}, {"tags": ["c", "multithreading", "memory-management", "pthreads"], "comments": [{"owner": {"reputation": 1829, "user_id": 4242097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1347add4ae303c0258a3db358ed77c55?s=128&d=identicon&r=PG", "display_name": "Parham Alvani", "link": "https://stackoverflow.com/users/4242097/parham-alvani"}, "edited": false, "score": 0, "creation_date": 1497460962, "post_id": 44550741, "comment_id": 76092543, "body": "you can see <a href=\"https://gist.github.com/jbwyme/9479813\" rel=\"nofollow noreferrer\">this</a> about pthread local storage. pthread run functions as thread so each thread has it&#39;s own stack."}, {"owner": {"reputation": 5821, "user_id": 3185968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc0f4eda45ce3e2ff4249afbfdac43e?s=128&d=identicon&r=PG&f=1", "display_name": "EOF", "link": "https://stackoverflow.com/users/3185968/eof"}, "edited": false, "score": 0, "creation_date": 1497462920, "post_id": 44550741, "comment_id": 76093731, "body": "A thread has more than just memory. Usually a thread is associated with operating system data (if it is associated with an OS task). A thread can be joined with (yielding its return value). A thread can be signaled or canceled."}, {"owner": {"reputation": 337, "user_id": 5365602, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/2472d427a6cb07f9003cbfef4bf892e2?s=128&d=identicon&r=PG&f=1", "display_name": "user_ABCD", "link": "https://stackoverflow.com/users/5365602/user-abcd"}, "edited": false, "score": 0, "creation_date": 1497463567, "post_id": 44550741, "comment_id": 76094110, "body": "I don&#39;t disagree with anything. Im kind of curious if a malloc is used in thread creation, etc."}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 7993384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67b1718676b80047de7ca91acc6ecc15?s=128&d=identicon&r=PG&f=1", "display_name": "Rhythm Patwa", "link": "https://stackoverflow.com/users/7993384/rhythm-patwa"}, "is_accepted": false, "score": 0, "last_activity_date": 1497464105, "creation_date": 1497464105, "answer_id": 44551897, "question_id": 44550741, "link": "https://stackoverflow.com/questions/44550741/thread-creation-is-it-dynamically-allocated/44551897#44551897", "title": "Thread Creation - is it dynamically allocated?", "body": "<p>Thread creation and a malloc() call are completely different concepts. A malloc() call dynamically allocates the requested byte chunk of memory from the heap for the use of the program. </p>\n\n<p>Whereas a thread can be considered as a 'light-weight process'. The thread is an entity within a process and every process will have atleast one thread to help complete its execution. The threads of a process will share the process virtual address and all the resources of the process. When you create new threads of a process, these new threads will have their own user stack, they will be scheduled independently to be executed by the scheduler. Also for the thread to run concurrently they will have their context which will store the state of the thread just before preemption i.e the status of all the registers.</p>\n"}, {"tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1497465315, "creation_date": 1497465315, "answer_id": 44552228, "question_id": 44550741, "link": "https://stackoverflow.com/questions/44550741/thread-creation-is-it-dynamically-allocated/44552228#44552228", "title": "Thread Creation - is it dynamically allocated?", "body": "<blockquote>\n  <p>Is a thread dynamically allocated memory?</p>\n</blockquote>\n\n<p>No, nothing of the sort.  Threads have memory uniquely associated with them -- at least a stack -- but such memory is not the thread itself.</p>\n\n<blockquote>\n  <p>I am trying to understand thread creation and how it differs from a simple malloc call.</p>\n</blockquote>\n\n<p>New thread creation is not even the same <em>kind</em> of thing as memory allocation.  The two are not at all comparable.</p>\n\n<p>Threading implementations that have direct OS support (not all do) are unlikely to rely on the C library to obtain memory for their stack, kernel data structures, or any other thread-implementation-associated data.  On the other hand, those that do not have OS support, such as Linux's old \"green\" threads, are more likely to allocate memory via the C library.  Even threading implementations without direct OS support have the option of using a system call to obtain the memory they need, just as <code>malloc()</code> itself must do.  In any case, the memory obtained is not itself the thread.</p>\n\n<p>Note also that the difference between threading systems with and without OS support is orthogonal to the threading API.  For example, Linux's green threads and the now-ubiquitous, kernel-supported NPTL threads both implement the POSIX thread API.</p>\n"}], "owner": {"reputation": 337, "user_id": 5365602, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/2472d427a6cb07f9003cbfef4bf892e2?s=128&d=identicon&r=PG&f=1", "display_name": "user_ABCD", "link": "https://stackoverflow.com/users/5365602/user-abcd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1497465315, "creation_date": 1497459786, "question_id": 44550741, "link": "https://stackoverflow.com/questions/44550741/thread-creation-is-it-dynamically-allocated", "title": "Thread Creation - is it dynamically allocated?", "body": "<p>Is a thread dynamically allocated memory?</p>\n\n<p>I have been researching and have a fair understanding of threads and how they are used. I have specifically looked at the POSIX API for threads.</p>\n\n<p>I am trying to understand thread creation and how it differs from a simple malloc call.</p>\n\n<p>I understand that threads share certain memory segments with the parent process, but it has it's own stack.</p>\n\n<p>Any resources I can read through on this topic is appreciated. Thanks!</p>\n"}, {"tags": ["java", "c", "jna"], "comments": [{"owner": {"reputation": 9055, "user_id": 996081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83817dc1e83cf8ac372b21cd5f010bc4?s=128&d=identicon&r=PG&f=1", "display_name": "cbr", "link": "https://stackoverflow.com/users/996081/cbr"}, "edited": false, "score": 0, "creation_date": 1497597803, "post_id": 44550575, "comment_id": 76154368, "body": "Referring your comment in the other answer, could you please edit your question and include the definitions of <code>jpeg_error_mgr</code> and <code>jpeg_std_error</code>?"}], "owner": {"reputation": 132, "user_id": 6656649, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1006523022746240/picture?type=large", "display_name": "Shailender Jain", "link": "https://stackoverflow.com/users/6656649/shailender-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1498498142, "creation_date": 1497459221, "last_edit_date": 1498498142, "question_id": 44550575, "link": "https://stackoverflow.com/questions/44550575/i-am-using-jna-to-call-c-library-and-getting-java-lang-error-invalid-memory-ac", "title": "I am using JNA to call C library and getting &quot;java.lang.Error: Invalid memory access&quot;, when i call native function", "body": "<p>I have generated interface code using JNAerator. The JAVA interface was generated from c header file. The results are not consistent. Sometime JVM crash, sometimes library is not loaded. However, the code always return exception while calling native function. When i put some debugging remarks in my native code i do not get any output. Looks like JNA code does not invoke native method at all </p>\n\n<pre><code>package org.libjpegturbo.turbojpeg;\n\nimport java.net.URL;\nimport java.util.Enumeration;\nimport com.sun.jna.Native;\n\nimport org.libjpegturbo.turbojpeg.JPEGLib;\nimport org.libjpegturbo.turbojpeg.JPEGLib.jpeg_decompress_struct;\nimport org.libjpegturbo.turbojpeg.JPEGLib.jpeg_error_mgr;\n\npublic class JPEG {\n\n    static JPEGLib lib = null; \n    static jpeg_decompress_struct cinfo = null;\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        try {\n            System.setProperty(\"jna.library.path\", \"C:/image_test/mozjpeg-master/.libs\");\n            lib =   JPEGLib.INSTANCE;\n            System.out.println(lib.DCTSIZE2);\n            jpeg_error_mgr err = new jpeg_error_mgr();\n            System.out.println(1);\n            cinfo = new jpeg_decompress_struct();\n            System.out.println(2);\n            cinfo.err = lib.jpeg_std_error(err);\n            System.out.println(3);\n            lib.jpeg_destroy_decompress(cinfo);\n            System.out.println(4);\n\n            lib.jpeg_CreateDecompress(cinfo, JPEGLib.JPEG_LIB_VERSION, null);\n            lib.jpeg_create_decompress(cinfo);\n            System.out.println(5);\n            System.out.println(err.trace_level);\n            System.out.println(2);\n            System.gc();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n            e.printStackTrace();\n        }catch(Throwable e){\n            System.out.println(\"2\");\n            System.out.println(e);\n            e.printStackTrace();\n        }\n\n\n\n    }\n\n    public void finalize() {\n        System.out.println(\"A garbage collected\");\n    }\n\n}\n</code></pre>\n\n<p>When i run the program following error stake trace is generated</p>\n\n<pre><code>java.lang.Error: Invalid memory access\n    at com.sun.jna.Native.invokeVoid(Native Method)\n    at com.sun.jna.Function.invoke(Function.java:408)\n    at com.sun.jna.Function.invoke(Function.java:354)\n    at com.sun.jna.Library$Handler.invoke(Library.java:244)\n    at com.sun.proxy.$Proxy0.jpeg_destroy_decompress(Unknown Source)\n    at org.libjpegturbo.turbojpeg.JPEG.main(JPEG.java:32)\n</code></pre>\n\n<p>There is no issue when i pass simple types while calling c  library function. However, library functions return error when i call library function using classes generated by JNerator</p>\n"}, {"tags": ["c", "llvm", "cross-compiling", "d", "ldc"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 8161830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ccd8875b31d97eb11c827035c6250d9?s=128&d=identicon&r=PG", "display_name": "Stefan K", "link": "https://stackoverflow.com/users/8161830/stefan-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1497459092, "creation_date": 1497459092, "answer_id": 44550524, "question_id": 44550353, "link": "https://stackoverflow.com/questions/44550353/dlang-llvm-error-program-used-external-function-which-could-not-be-resolved/44550524#44550524", "title": "Dlang LLVM ERROR: Program used external function which could not be resolved", "body": "<p>Because the cruntime is avilable to lli.\nWhereas the druntime is not.\nIf you were to link the druntime and phobos into lli or load it at startup it would work.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 7065844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be58f2a361faaeee69167d3a69ae4be?s=128&d=identicon&r=PG&f=1", "display_name": "Barre_k", "link": "https://stackoverflow.com/users/7065844/barre-k"}, "edited": false, "score": 0, "creation_date": 1497538183, "post_id": 44551033, "comment_id": 76130000, "body": "lli -load /usr/lib/libdruntime-ldc-debug.so.72 -load /usr/lib/libphobos2-ldc-debug.so.72 main.ll  no work :(  i forgot something ?  LLVM ERROR: Program used external function &#39;__start___minfo&#39; which could not be resolved!"}, {"owner": {"reputation": 9778, "user_id": 598057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/af77229cbfe1a0bff2b5ea064ef3271a?s=128&d=identicon&r=PG", "display_name": "Stanislav Pankevich", "link": "https://stackoverflow.com/users/598057/stanislav-pankevich"}, "reply_to_user": {"reputation": 23, "user_id": 7065844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be58f2a361faaeee69167d3a69ae4be?s=128&d=identicon&r=PG&f=1", "display_name": "Barre_k", "link": "https://stackoverflow.com/users/7065844/barre-k"}, "edited": false, "score": 0, "creation_date": 1497541170, "post_id": 44551033, "comment_id": 76132127, "body": "Which operating system do you have?"}, {"owner": {"reputation": 23, "user_id": 7065844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be58f2a361faaeee69167d3a69ae4be?s=128&d=identicon&r=PG&f=1", "display_name": "Barre_k", "link": "https://stackoverflow.com/users/7065844/barre-k"}, "edited": false, "score": 0, "creation_date": 1497541382, "post_id": 44551033, "comment_id": 76132263, "body": "Linux unknown 4.11.3-1-ARCH #1 SMP PREEMPT Sun May 28 10:40:17 CEST 2017 x86_64 GNU/Linux"}, {"owner": {"reputation": 9778, "user_id": 598057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/af77229cbfe1a0bff2b5ea064ef3271a?s=128&d=identicon&r=PG", "display_name": "Stanislav Pankevich", "link": "https://stackoverflow.com/users/598057/stanislav-pankevich"}, "reply_to_user": {"reputation": 23, "user_id": 7065844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be58f2a361faaeee69167d3a69ae4be?s=128&d=identicon&r=PG&f=1", "display_name": "Barre_k", "link": "https://stackoverflow.com/users/7065844/barre-k"}, "edited": false, "score": 1, "creation_date": 1497821329, "post_id": 44551033, "comment_id": 76225208, "body": "@Barre_k, I have updated my answer with more details. Maybe this will help."}], "tags": [], "owner": {"reputation": 9778, "user_id": 598057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/af77229cbfe1a0bff2b5ea064ef3271a?s=128&d=identicon&r=PG", "display_name": "Stanislav Pankevich", "link": "https://stackoverflow.com/users/598057/stanislav-pankevich"}, "is_accepted": false, "score": 0, "last_activity_date": 1497541627, "last_edit_date": 1497541627, "creation_date": 1497460901, "answer_id": 44551033, "question_id": 44550353, "link": "https://stackoverflow.com/questions/44550353/dlang-llvm-error-program-used-external-function-which-could-not-be-resolved/44551033#44551033", "title": "Dlang LLVM ERROR: Program used external function which could not be resolved", "body": "<blockquote>\n  <p>LLVM ERROR: Program used external function '_d_throw_exception' which could not be resolved!</p>\n</blockquote>\n\n<p>You need to figure out which dynamic library has this symbol and link it dynamically to your program using <code>lli -load /path/to/your/library.{so,dylib} ... foo.ll</code>.</p>\n\n<p>I am not a D developer so I don't what library you need. To find a library look at your Dlang distrubution's libraries. As Stefan K said it you probably need a library responsible for D runtime.</p>\n\n<hr>\n\n<p>Generally if you are missing any symbols, on Linux system you can use </p>\n\n<pre><code>readelf --syms somelib.so\n</code></pre>\n\n<p>or  </p>\n\n<pre><code>objdump --dynamic-syms somelib.so\n</code></pre>\n\n<p>Based on this command you can write a routine using <code>find</code> that will traverse through the folder with libraries you suspect to have the symbols you are missing, smth like:</p>\n\n<pre><code>find path-to-dlang-libs-folder -type f ! -name \"*.so\" -exec objcdump --dynamic-libs -- {} + | grep _start___minfo\n</code></pre>\n\n<p>You might need to tweak this command to work on Linux though.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 7065844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be58f2a361faaeee69167d3a69ae4be?s=128&d=identicon&r=PG&f=1", "display_name": "Barre_k", "link": "https://stackoverflow.com/users/7065844/barre-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1497538676, "creation_date": 1497538676, "answer_id": 44570778, "question_id": 44550353, "link": "https://stackoverflow.com/questions/44550353/dlang-llvm-error-program-used-external-function-which-could-not-be-resolved/44570778#44570778", "title": "Dlang LLVM ERROR: Program used external function which could not be resolved", "body": "<pre><code> lli -load /usr/lib/libdruntime-ldc-debug.so.72 -load /usr/lib/libphobos2-ldc-debug.so.72 main.ll\n</code></pre>\n\n<p>and i have </p>\n\n<p>LLVM ERROR: Program used external function '__start___minfo' which could not be resolved!</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 7065844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be58f2a361faaeee69167d3a69ae4be?s=128&d=identicon&r=PG&f=1", "display_name": "Barre_k", "link": "https://stackoverflow.com/users/7065844/barre-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1497543076, "creation_date": 1497543076, "answer_id": 44572258, "question_id": 44550353, "link": "https://stackoverflow.com/questions/44550353/dlang-llvm-error-program-used-external-function-which-could-not-be-resolved/44572258#44572258", "title": "Dlang LLVM ERROR: Program used external function which could not be resolved", "body": "<pre><code>    ldc2 -output-ll -betterC main.d\n\n    lli -load /usr/lib/libphobos2-ldc.so.72 main.ll\n\n    ./main\n</code></pre>\n\n<p>output -> Hello World !!!</p>\n\n<p>It is because</p>\n\n<p>I need to disable all the functionality requiring runtime</p>\n\n<p><a href=\"http://forum.dlang.org/post/pqujluaxxmtfnoofqkje@forum.dlang.org\" rel=\"nofollow noreferrer\">http://forum.dlang.org/post/pqujluaxxmtfnoofqkje@forum.dlang.org</a>\nThanks every one and David Nadlinger</p>\n"}], "owner": {"reputation": 23, "user_id": 7065844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be58f2a361faaeee69167d3a69ae4be?s=128&d=identicon&r=PG&f=1", "display_name": "Barre_k", "link": "https://stackoverflow.com/users/7065844/barre-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 0, "accepted_answer_id": 44550524, "answer_count": 4, "score": 1, "last_activity_date": 1497543076, "creation_date": 1497458504, "question_id": 44550353, "link": "https://stackoverflow.com/questions/44550353/dlang-llvm-error-program-used-external-function-which-could-not-be-resolved", "title": "Dlang LLVM ERROR: Program used external function which could not be resolved", "body": "<p>main.d</p>\n\n<pre><code>import std.stdio;\n\nvoid    main()\n{\n    writeln(\"Hello World !!!\");\n}\n</code></pre>\n\n<p>when i compile and execute it is work perfectly</p>\n\n<p>But when i try</p>\n\n<pre><code>ldc2 -output-ll main.d\nlli main.ll\n\nLLVM ERROR: Program used external function '_d_throw_exception' which could not be resolved!\n</code></pre>\n\n<p>I try in c </p>\n\n<pre><code>#include&lt;stdio.h&gt;\n\nvoid    main()\n{\n  printf(\"Hello World !!!\");\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>clang -S -emit-llvm foo.c\n\nlli foo.ll\n</code></pre>\n\n<p>it is work !!</p>\n\n<p>Why in Dlang does not work when i compile width ldc ???</p>\n"}, {"tags": ["java", "c", "swift"], "comments": [{"owner": {"reputation": 305, "user_id": 7209087, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/890385404396610/picture?type=large", "display_name": "JeeVan TiWari", "link": "https://stackoverflow.com/users/7209087/jeevan-tiwari"}, "edited": false, "score": 0, "creation_date": 1497458960, "post_id": 44550175, "comment_id": 76091428, "body": "Than please provide the link."}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1497459155, "post_id": 44550175, "comment_id": 76091566, "body": "you can find heaps of duplicates in the tag <a href=\"https://stackoverflow.com/questions/tagged/bigint\">bigint</a>"}, {"owner": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 0, "creation_date": 1497459783, "post_id": 44550175, "comment_id": 76091941, "body": "Infinite length numbers?  According to <a href=\"https://en.wikipedia.org/wiki/Algorithm_characterizations#1968.2C_1973_Knuth.27s_characterization\" rel=\"nofollow noreferrer\">Knuth</a> &quot;An algorithm must always terminate after a finite number of steps,&quot; so there can be no such algorithm.  What kind of a silly person would ask you to write a program for which there is no valid algorithm?  Are you sure they didn&#39;t ask for how to add numbers of arbitrary but finite length?"}, {"owner": {"reputation": 305, "user_id": 7209087, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/890385404396610/picture?type=large", "display_name": "JeeVan TiWari", "link": "https://stackoverflow.com/users/7209087/jeevan-tiwari"}, "edited": false, "score": 0, "creation_date": 1497459916, "post_id": 44550175, "comment_id": 76092000, "body": "Its interview question I can&#39;t say simply a+b = answer"}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 7209087, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/890385404396610/picture?type=large", "display_name": "JeeVan TiWari", "link": "https://stackoverflow.com/users/7209087/jeevan-tiwari"}, "edited": false, "score": 1, "creation_date": 1497458519, "post_id": 44550253, "comment_id": 76091185, "body": "But if we store the carry how we recognize this carry is of which index."}, {"owner": {"reputation": 23946, "user_id": 3100312, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/486be6e961e6c8a2e4705058600e666f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ogilvie", "link": "https://stackoverflow.com/users/3100312/paul-ogilvie"}, "edited": false, "score": 0, "creation_date": 1497458673, "post_id": 44550253, "comment_id": 76091263, "body": "You need only one carry and set it to zero or one after adding each corresponsing digit."}, {"owner": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "reply_to_user": {"reputation": 305, "user_id": 7209087, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/890385404396610/picture?type=large", "display_name": "JeeVan TiWari", "link": "https://stackoverflow.com/users/7209087/jeevan-tiwari"}, "edited": false, "score": 0, "creation_date": 1497459645, "post_id": 44550253, "comment_id": 76091850, "body": "@JeeVanTiWari Added an example in the answer. Should be easy to convert into code."}, {"owner": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 0, "creation_date": 1497460074, "post_id": 44550253, "comment_id": 76092077, "body": "How do you propose storing an infinite length number in an array?"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "reply_to_user": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 0, "creation_date": 1497462072, "post_id": 44550253, "comment_id": 76093253, "body": "@pjs you dynamically allocate the arrays. Use <code>realloc</code>. As long as there is memory in the system, you should be fine."}, {"owner": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497463121, "post_id": 44550253, "comment_id": 76093850, "body": "@AjayBrahmakshatriya Dynamic allocation won&#39;t help with infinite lengths."}], "tags": [], "owner": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "is_accepted": false, "score": 1, "last_activity_date": 1497459607, "last_edit_date": 1497459607, "creation_date": 1497458217, "answer_id": 44550253, "question_id": 44550175, "link": "https://stackoverflow.com/questions/44550175/addition-of-two-numbers-twist-is-that-the-length-of-number-can-be-very-large/44550253#44550253", "title": "Addition of two numbers, twist is that the length of number can be very large", "body": "<p>You can always take the two numbers in arrays (i.e. arrays have digits of the numbers as elements) and add them as we add manually i.e. start from one's digit and store the carry if it's present then do the same for ten's digit, then hundred's digit and so on.</p>\n\n<p>Say you want to add 123 and 329.</p>\n\n<pre><code>X = 123, X[] = [1,2,3]\nY = 329, Y[] = [3,2,9]\n</code></pre>\n\n<p>You start with one's digit (the rightmost or last element) and add the elements of both X and Y arrays and add carry to it (initially set to 0). If the addition comes out to be greater than 10, set <code>carry = sum / 10</code> (since we are adding each element, this carry shall always be either 0 or 1) and the addition to <code>add [i] = sum % 10</code>. Repeat till all the elements of smaller array are over. Then add the carry to remaining elements of larger array continuing the above logic.</p>\n\n<pre><code>carry = 0\nStep 1 : 3 + 9 + carry (0) = 5, carry =&gt; 12 / 10 = 1, add =&gt; 12 % 10 = 2\nStep 2 : 2 + 2 + carry (2) = 6, carry =&gt; 6 / 10 = 0, add =&gt; 6 % 10 = 6\nStep 3 : 3 + 1 + carry (0) = 4, carry =&gt; 4 / 10 = 0, add =&gt; 4 % 10 = 4\n</code></pre>\n\n<p>Ans = 462</p>\n\n<p>Obviously the array storing sum may have one digit extra so take care of that as well.</p>\n"}], "owner": {"reputation": 305, "user_id": 7209087, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/890385404396610/picture?type=large", "display_name": "JeeVan TiWari", "link": "https://stackoverflow.com/users/7209087/jeevan-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "closed_date": 1497458042, "answer_count": 1, "score": 0, "last_activity_date": 1497460066, "creation_date": 1497457922, "last_edit_date": 1497460066, "question_id": 44550175, "link": "https://stackoverflow.com/questions/44550175/addition-of-two-numbers-twist-is-that-the-length-of-number-can-be-very-large", "closed_reason": "Duplicate", "title": "Addition of two numbers, twist is that the length of number can be very large", "body": "<p>Today I had an interview and the interviewer asked to make a program for addition of two numbers, I get shocked how can he give a simple question but the question is different </p>\n\n<blockquote>\n  <p>the length of two number can be anything (10,20,30 or even 1000 etc.)</p>\n</blockquote>\n\n<ul>\n<li>if you convert it to int,double,long double if the number is greater than their range than the answer can be wrong.</li>\n</ul>\n\n<p>Please help me for the question.</p>\n"}, {"tags": ["c", "dictionary", "memory-leaks", "cs50"], "comments": [{"owner": {"reputation": 23946, "user_id": 3100312, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/486be6e961e6c8a2e4705058600e666f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ogilvie", "link": "https://stackoverflow.com/users/3100312/paul-ogilvie"}, "edited": false, "score": 0, "creation_date": 1497459468, "post_id": 44550063, "comment_id": 76091757, "body": "You do not iniialize the memory you allocate. After <code>root = malloc(sizeof(node));</code> you do <code>if (now-&gt;children[k] == NULL)</code> but it will probably NOT be null because it was not initialized. Maybe not &quot;memory leak&quot;, but &quot;undefined behavior&quot;."}, {"owner": {"reputation": 1829, "user_id": 4242097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1347add4ae303c0258a3db358ed77c55?s=128&d=identicon&r=PG", "display_name": "Parham Alvani", "link": "https://stackoverflow.com/users/4242097/parham-alvani"}, "edited": false, "score": 0, "creation_date": 1497462206, "post_id": 44550063, "comment_id": 76093332, "body": "you have <code>conditional jump or move depends on uninitialized value</code> error and you do not have any memory leak."}, {"owner": {"reputation": 9, "user_id": 8161660, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fmW9_c5YzHc/AAAAAAAAAAI/AAAAAAABaYc/tt3LXHxFcmE/photo.jpg?sz=128", "display_name": "Brunholi", "link": "https://stackoverflow.com/users/8161660/brunholi"}, "edited": false, "score": 0, "creation_date": 1497470188, "post_id": 44550063, "comment_id": 76097633, "body": "Thank you. I will look at it"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497503909, "post_id": 44550063, "comment_id": 76107756, "body": "If you have a memory leak, why haven&#39;t you shown the output from Valgrind?  It should tell you the line number where the memory was allocated.  And that gives a strong hint about where you should be freeing it \u2014 or, at least, pointers to where to look to find out where you should be freeing it.  It is really silly not to include at least the first few entries of that output.  If you don&#39;t get line numbers, you need to recompile with the debug (<code>-g</code>) option \u2014 compile and link with it."}], "owner": {"reputation": 9, "user_id": 8161660, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fmW9_c5YzHc/AAAAAAAAAAI/AAAAAAABaYc/tt3LXHxFcmE/photo.jpg?sz=128", "display_name": "Brunholi", "link": "https://stackoverflow.com/users/8161660/brunholi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1497471913, "creation_date": 1497457526, "last_edit_date": 1497471913, "question_id": 44550063, "link": "https://stackoverflow.com/questions/44550063/memory-leak-using-tries-pset5-cs50-dictionary-c", "title": "Memory Leak using Tries - pset5 cs50 - dictionary.c", "body": "<p>I wrote a code for pset5 in CS50 course and was wondering if anyone could help me solve the problem of <strong>memory leak</strong>. \nThere is a program called speller.c that gets words from a text and use functions in dictionary.c (below) to look at another file (dictionary) and if the word is mispelled or not in the dictionary, it will printf all those words and calculate the running time of the whole program.<br>\n<strong>My code is actually working fine and I do get the correct output</strong>, but when I use valgrind, it says that memory is leaking. Why is this hapenning?</p>\n\n<pre><code>/**\n * CS50 - PSET5 - user: linhobru\n * Implements a dictionary's functionality.\n */\n\n#include &lt;stdbool.h&gt;\n#include &lt;ctype.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;sys/resource.h&gt;\n#include &lt;sys/time.h&gt;\n\n#include \"dictionary.h\"\n\n#define ALPHABETSIZE 27\n\ntypedef struct node\n{\n    bool is_word;\n    struct node *children[ALPHABETSIZE];\n} \nnode;\n\nnode *root = NULL;\n\nint num_of_words = 0;\n\n/**\n * Returns true if word is in dictionary else false.\n */\nbool check(const char *word)\n{\n\n    node* next = root;\n\n    int k = ALPHABETSIZE;\n\n    for (int i = 0, len = strlen(word); i &lt; len ; i++) // until (char) word[i] == '\\0' \n    {\n        // verify letter and transform in index from 0 to 26\n        if (word[i] == '\\'')\n        {\n            k = ALPHABETSIZE - 1;\n        }\n        else if (isalpha(word[i]))\n        {\n            k = tolower(word[i]) - 97;\n        }\n\n        if (next-&gt;children[k] == NULL)\n        {\n            return false;\n        }\n        else\n        {\n        next = next-&gt;children[k];   \n        }\n\n    }\n    return next-&gt;is_word;\n}\n\n/**\n * Loads dictionary into memory. Returns true if successful else false.\n */\nbool load(const char *dictionary)\n{\n    FILE *dict = fopen(dictionary, \"r\");\n    if (dict == NULL)\n    {\n        return false;\n    }\n\n    char word[LENGTH];\n\n    root = malloc(sizeof(node));\n    if (root == NULL)\n    {\n        unload();\n        fclose(dict);\n        return false;\n    }\n\n    while (fscanf(dict,\"%s\", word) != EOF)\n    {\n        node* now = root;\n        int k = ALPHABETSIZE;\n\n        for (int i = 0; word[i] != '\\0'; i++) \n        {\n            // verify letter and transform in index from 0 to 26\n            if (word[i] == 39) // '\\''\n            {\n                k = ALPHABETSIZE - 1;\n            }\n            else if (word[i] &gt;= 97 &amp;&amp; word[i] &lt;= 122)\n            {\n                k = word[i] - 97;\n            }\n            /* else if (word[i] &gt;= 65 &amp;&amp; word[i] &lt;= 90)\n            {\n                k = word[i] % 65;\n            }*/ \n            else\n            {\n                fclose(dict);\n                return false;               \n            }\n\n            if (now-&gt;children[k] == NULL)\n            {\n                node* new_node = malloc(sizeof(node));\n                now-&gt;children[k] = new_node;\n            }\n\n            now = now-&gt;children[k];\n\n            if (word[i + 1] == '\\0')\n            {\n                now-&gt;is_word = true;\n            } \n\n\n        }\n\n        num_of_words++;\n    }\n    fclose(dict);\n    return true;\n}\n\n/**\n * Returns number of words in dictionary if loaded else 0 if not yet loaded.\n */\nunsigned int size(void)\n{\n    return num_of_words;\n}\n/**\n * Receives root at first and then each children to free.\n */\nvoid unloadNode(node* next)\n{\n    // call unloadNode on every node in this node's children\n    for(int i = 0; i &lt; ALPHABETSIZE; i++)\n    {\n        if(next-&gt;children[i] != NULL)\n        {\n            unloadNode(next-&gt;children[i]);\n        }\n    }\n\n    // once the children nodes are freed, free this node\n    free(next);\n}\n/**\n * Unloads dictionary from memory. Returns true if successful else false.\n */\nbool unload(void)\n{\n    unloadNode(root);\n    return true;\n}\n</code></pre>\n\n<p>access to files in: <a href=\"https://github.com/linhobru/cs50psets/tree/master/workspace/pset5/speller/\" rel=\"nofollow noreferrer\">https://github.com/linhobru/cs50psets/tree/master/workspace/pset5/speller/</a></p>\n"}, {"tags": ["java", "c", "jvm", "java-9", "hotspot"], "answers": [{"tags": [], "owner": {"reputation": 77832, "user_id": 3448419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/54njx.png?s=128&g=1", "display_name": "apangin", "link": "https://stackoverflow.com/users/3448419/apangin"}, "is_accepted": false, "score": 2, "last_activity_date": 1497457922, "creation_date": 1497457922, "answer_id": 44550176, "question_id": 44549690, "link": "https://stackoverflow.com/questions/44549690/how-to-generate-valid-debug-version-of-jdk9-without-0x00007fffe0dde513-in/44550176#44550176", "title": "How to generate valid debug version of JDK9 without &quot;0x00007fffe0dde513 in ?? ()&quot;?", "body": "<p>This is absolutely normal. The exception happens inside the code generated in runtime; gdb knows nothing about it.</p>\n\n<p>If you are running debug or fastdebug build of JVM, you can call <code>nm</code> debug function to find the CodeBlob corresponding to the given PC, e.g.</p>\n\n<pre><code>(gdb) call nm(0x00007fffe0f83ca2)\n</code></pre>\n"}], "owner": {"reputation": 826, "user_id": 7748163, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ae70955e538b80c6f55db38848707f27?s=128&d=identicon&r=PG&f=1", "display_name": "skytree", "link": "https://stackoverflow.com/users/7748163/skytree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1497457922, "creation_date": 1497456324, "last_edit_date": 1497456398, "question_id": 44549690, "link": "https://stackoverflow.com/questions/44549690/how-to-generate-valid-debug-version-of-jdk9-without-0x00007fffe0dde513-in", "title": "How to generate valid debug version of JDK9 without &quot;0x00007fffe0dde513 in ?? ()&quot;?", "body": "<p>This is my previous post:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/44533670/jdk9-hotspot-debug-using-gdb-causing-sigsegv-segmentation-fault-in-eclipse-ubun\">JDK9 Hotspot debug using gdb, causing SIGSEGV Segmentation fault in eclipse/Ubuntu terminal</a></p>\n\n<p>Right now I have a question about </p>\n\n<p><code>Thread 0x7ffff7fc8700 (LWP 74291) \"java\" 0x00007fffe0dde513 in ?? ()</code> </p>\n\n<p>(more details below)</p>\n\n<p>I think this is abnormal because <code>?? ()</code> seems lack of symbol. </p>\n\n<h3>How to generate valid debug version of JDK?</h3>\n\n<hr>\n\n<h3>GDB process</h3>\n\n<pre><code>xfwu:~/sandboxJDK/javaPrj$gdb --args  ~/sandboxJDK/9jdk/build/linux-x86_64-normal-server-slowdebug/jdk/bin/java HelloWorld\nGNU gdb (Ubuntu 7.11.90.20161005-0ubuntu1) 7.11.90.20161005-git\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\nFind the GDB manual and other documentation resources online at:\n&lt;http://www.gnu.org/software/gdb/documentation/&gt;.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from /home/xfwu/sandboxJDK/9jdk/build/linux-x86_64-normal-server-slowdebug/jdk/bin/java...done.\n(gdb) start\nTemporary breakpoint 1 at 0xbbf: file /home/xfwu/sandboxJDK/9jdk/jdk/src/java.base/share/native/launcher/main.c, line 95.\nStarting program: /home/xfwu/sandboxJDK/9jdk/build/linux-x86_64-normal-server-slowdebug/jdk/bin/java HelloWorld\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n\nTemporary breakpoint 1, main (argc=2, argv=0x7fffffffea28) at /home/xfwu/sandboxJDK/9jdk/jdk/src/java.base/share/native/launcher/main.c:95\n95  {\n(gdb) n\n98      const jboolean const_javaw = JNI_FALSE;\n(gdb) \n101     JLI_InitArgProcessing(!HAS_JAVA_ARGS, const_disable_argfile);\n(gdb) \n128         JLI_List args = JLI_List_new(argc + 1);\n(gdb) \n129         int i = 0;\n(gdb) \n132         JLI_List_add(args, JLI_StringDup(argv[0]));\n(gdb) \n134         if (JLI_AddArgsFromEnvVar(args, JDK_JAVA_OPTIONS)) {\n(gdb) \n145         for (i = 1; i &lt; argc; i++) {\n(gdb) \n146             JLI_List argsInFile = JLI_PreprocessArg(argv[i]);\n(gdb) \n147             if (NULL == argsInFile) {\n(gdb) \n148                 JLI_List_add(args, JLI_StringDup(argv[i]));\n(gdb) \n145         for (i = 1; i &lt; argc; i++) {\n(gdb) \n160         margc = args-&gt;size;\n(gdb) \n162         JLI_List_add(args, NULL);\n(gdb) \n163         margv = args-&gt;elements;\n(gdb) \n166     return JLI_Launch(margc, margv,\n(gdb) \n172                    (const_launcher != NULL) ? const_launcher : *margv,\n(gdb) \n166     return JLI_Launch(margc, margv,\n(gdb) \n171                    (const_progname != NULL) ? const_progname : *margv,\n(gdb) \n166     return JLI_Launch(margc, margv,\n(gdb) \n\n\n\n\n\n[New Thread 0x7ffff7fc8700 (LWP 74291)]\n\nThread 2 \"java\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffff7fc8700 (LWP 74291)]\n0x00007fffe0dde513 in ?? ()\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) thread 2\n[Switching to thread 2 (Thread 0x7ffff7fc8700 (LWP 74291))]\n#0  0x00007fffe0dde513 in ?? ()\n(gdb) n\nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) \nCannot find bounds of current function\n(gdb) thread 3\nUnknown thread 3.\n(gdb) info thread\n  Id   Target Id         Frame \n  1    Thread 0x7ffff7fc9700 (LWP 74287) \"java\" 0x00007ffff71c99cd in pthread_join (threadid=140737353910016, thread_return=0x7fffffffb648) at pthread_join.c:90\n* 2    Thread 0x7ffff7fc8700 (LWP 74291) \"java\" 0x00007fffe0dde513 in ?? ()\n(gdb) thread 1\n[Switching to thread 1 (Thread 0x7ffff7fc9700 (LWP 74287))]\n#0  0x00007ffff71c99cd in pthread_join (threadid=140737353910016, thread_return=0x7fffffffb648) at pthread_join.c:90\n90  pthread_join.c: No such file or directory.\n(gdb) n\n[New Thread 0x7fffe0c0d700 (LWP 74293)]\n[New Thread 0x7fffe0b0c700 (LWP 74294)]\n[New Thread 0x7fffe0a0b700 (LWP 74295)]\n[New Thread 0x7fffe090a700 (LWP 74296)]\n[New Thread 0x7fffe0809700 (LWP 74297)]\n[New Thread 0x7fffe0708700 (LWP 74298)]\n[New Thread 0x7fffe0607700 (LWP 74299)]\n[New Thread 0x7fffe0506700 (LWP 74300)]\n[New Thread 0x7fffe0405700 (LWP 74301)]\n[New Thread 0x7fffe0304700 (LWP 74302)]\n[New Thread 0x7fffe0203700 (LWP 74303)]\n[New Thread 0x7fffe0102700 (LWP 74304)]\n[New Thread 0x7fffb3fff700 (LWP 74305)]\n[New Thread 0x7fffb3efe700 (LWP 74306)]\n[New Thread 0x7fffb3dfd700 (LWP 74307)]\n[New Thread 0x7fffb3cfc700 (LWP 74308)]\n[New Thread 0x7fffb3bfb700 (LWP 74309)]\n[New Thread 0x7fffb3afa700 (LWP 74310)]\n[New Thread 0x7fffb39f9700 (LWP 74311)]\n[New Thread 0x7fffb38f8700 (LWP 74312)]\n[New Thread 0x7fffb37f7700 (LWP 74313)]\n[New Thread 0x7fffb36f6700 (LWP 74314)]\n[New Thread 0x7fffb35f5700 (LWP 74315)]\n[New Thread 0x7fffb34f4700 (LWP 74316)]\n[New Thread 0x7fffb33f3700 (LWP 74317)]\n[New Thread 0x7fffb32f2700 (LWP 74318)]\n[New Thread 0x7fffb31f1700 (LWP 74319)]\n[New Thread 0x7fffb30f0700 (LWP 74320)]\n[New Thread 0x7fffb2fef700 (LWP 74321)]\n[New Thread 0x7fffb2eee700 (LWP 74322)]\n[New Thread 0x7fffb2ded700 (LWP 74323)]\n[New Thread 0x7fffb2cec700 (LWP 74324)]\n[New Thread 0x7fffb2beb700 (LWP 74325)]\n[New Thread 0x7fffb2aea700 (LWP 74326)]\n[New Thread 0x7fffb29e9700 (LWP 74327)]\n[New Thread 0x7fffb28e8700 (LWP 74328)]\n[New Thread 0x7fffb27e7700 (LWP 74329)]\n[New Thread 0x7fffb26e6700 (LWP 74330)]\n[New Thread 0x7fffb25e5700 (LWP 74331)]\n[New Thread 0x7fffb24e4700 (LWP 74332)]\n[New Thread 0x7fffb23e3700 (LWP 74333)]\n[New Thread 0x7fffb22e2700 (LWP 74334)]\n[New Thread 0x7fffb21e1700 (LWP 74335)]\n[New Thread 0x7fff2f4f4700 (LWP 74336)]\n[New Thread 0x7fff2f3f3700 (LWP 74337)]\n[New Thread 0x7fff2f2f2700 (LWP 74338)]\n[New Thread 0x7fff2f1f1700 (LWP 74339)]\n[New Thread 0x7fff2f0f0700 (LWP 74340)]\n[New Thread 0x7fff2efef700 (LWP 74341)]\n[New Thread 0x7fff2eeee700 (LWP 74342)]\n[New Thread 0x7fff2eded700 (LWP 74343)]\n[New Thread 0x7fff2ecec700 (LWP 74344)]\n[New Thread 0x7fff2ebeb700 (LWP 74345)]\n[New Thread 0x7fff2eaea700 (LWP 74346)]\n[New Thread 0x7fff2e9e9700 (LWP 74347)]\n[New Thread 0x7fff2e8e8700 (LWP 74348)]\n[New Thread 0x7fff2e7e7700 (LWP 74349)]\n[New Thread 0x7fff2e6e6700 (LWP 74350)]\n[New Thread 0x7fff2e5e5700 (LWP 74351)]\n[New Thread 0x7fff2e4e4700 (LWP 74352)]\n[New Thread 0x7fff2e3e3700 (LWP 74353)]\n[New Thread 0x7fff2e2e2700 (LWP 74354)]\n[New Thread 0x7fff2e1e1700 (LWP 74355)]\n[New Thread 0x7fff2e0e0700 (LWP 74356)]\n[New Thread 0x7fff2dfdf700 (LWP 74357)]\n[New Thread 0x7fff2dede700 (LWP 74358)]\n[New Thread 0x7fff2dddd700 (LWP 74359)]\n[New Thread 0x7fff2dcdc700 (LWP 74360)]\n[New Thread 0x7fff2dbdb700 (LWP 74361)]\n[New Thread 0x7fff2dada700 (LWP 74362)]\n[New Thread 0x7fff2d9d9700 (LWP 74363)]\n[New Thread 0x7fff2d8d8700 (LWP 74364)]\n[New Thread 0x7fff2d7d7700 (LWP 74365)]\n[New Thread 0x7fff2d6d6700 (LWP 74366)]\n[New Thread 0x7fff2d5d5700 (LWP 74367)]\n[New Thread 0x7fff2d4d4700 (LWP 74368)]\n[New Thread 0x7fff2d3d3700 (LWP 74369)]\n[New Thread 0x7fff2d2d2700 (LWP 74370)]\n[New Thread 0x7fff2d1d1700 (LWP 74371)]\n[New Thread 0x7fff2d0d0700 (LWP 74372)]\n[New Thread 0x7fff2cfcf700 (LWP 74373)]\n[New Thread 0x7fff2cece700 (LWP 74374)]\n[New Thread 0x7fff2cdcd700 (LWP 74375)]\n[New Thread 0x7fff2cccc700 (LWP 74376)]\n[New Thread 0x7fff2cbcb700 (LWP 74377)]\n[New Thread 0x7fff2caca700 (LWP 74378)]\n[New Thread 0x7fff2c9c9700 (LWP 74379)]\n[New Thread 0x7fff2c409700 (LWP 74380)]\n[New Thread 0x7fff2c308700 (LWP 74381)]\n[New Thread 0x7fff2c207700 (LWP 74382)]\n[New Thread 0x7fff2c106700 (LWP 74383)]\n[New Thread 0x7ffe7c40f700 (LWP 74384)]\n[New Thread 0x7ffe7c30e700 (LWP 74385)]\n[New Thread 0x7ffe7c20d700 (LWP 74386)]\n[New Thread 0x7ffe7c10c700 (LWP 74387)]\n[New Thread 0x7ffe305b1700 (LWP 74388)]\n[New Thread 0x7ffe304b0700 (LWP 74389)]\n[New Thread 0x7ffe303af700 (LWP 74390)]\n[New Thread 0x7ffe302ae700 (LWP 74391)]\n\nThread 2 \"java\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffff7fc8700 (LWP 74291)]\n0x00007fffe0f83c9c in ?? ()\n(gdb) thread 3\n[Switching to thread 3 (Thread 0x7fffe0c0d700 (LWP 74293))]\n#0  0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048420) at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n205 ../sysdeps/unix/sysv/linux/futex-internal.h: No such file or directory.\n(gdb) n\n\nThread 2 \"java\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffff7fc8700 (LWP 74291)]\n0x00007fffe0f83ca2 in ?? ()\n(gdb) n\nCannot find bounds of current function\n(gdb) \n</code></pre>\n"}, {"tags": ["c", "pointers", "casting", "hex"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 4, "creation_date": 1497456783, "post_id": 44549669, "comment_id": 76090242, "body": "You get 0x50835878 because that is the lower 4 bytes of 0x7fff50835878"}, {"owner": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1497459267, "post_id": 44549669, "comment_id": 76091634, "body": "Thank you @ChrisTurner -- yours and chux&#39;s comments below made me realize how faceplamy assuming a pointer address would fit in an int was!"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497459382, "post_id": 44549669, "comment_id": 76091699, "body": "@AlanStorm, the addresses in your output and discussion after it do no match. Perhaps different runs. Please fix that first. Causes so much confusion."}, {"owner": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497459786, "post_id": 44549669, "comment_id": 76091944, "body": "@AjayBrahmakshatriya D&#39;oh!  Sorry about that.  I think its fixed.  Copy/pasting from multiple runs."}], "answers": [{"comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497457327, "post_id": 44549984, "comment_id": 76090526, "body": "&quot;Conversion of a int* to void* does not lose needed information to reference the data.&quot; - That&#39;s not exactly correct. There might be less information in the <code>void *</code>. Only conversion to and back <b>to the same type</b> is guaranteeed to compare equal. That does not imply there is no information lost in the <code>void *</code> (at least the original type information is always lost)..And conversion of a pointr to an inteer is implementation defined. There is no guarantee it is truncated."}, {"owner": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "edited": false, "score": 0, "creation_date": 1497459056, "post_id": 44549984, "comment_id": 76091507, "body": "@chux Thank you for the attention and the help.  Re: the <code>uintptr_t</code> type -- is that something that&#39;s part of standard C systems?  In some library?  I ended up with a <code>use of undeclared identifier &#39;uintptr_t&#39;</code> warning when I tried to use it."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "edited": false, "score": 0, "creation_date": 1497459258, "post_id": 44549984, "comment_id": 76091631, "body": "@AlanStorm Look for <code>uintptr_t</code> in <code>&lt;stdint.h&gt;</code>.  C11 and maybe C99 includes it.  It is an <i>optional</i> integer type, yet very likely defined.  It is part of the C standard.  If not found, cast to  <code>unsigned long long</code> and <code>&quot;%llx&quot;</code>"}, {"owner": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "edited": false, "score": 0, "creation_date": 1497460205, "post_id": 44549984, "comment_id": 76092145, "body": "Thanks @chux, <code>stdint.h</code> did it (although so did <code>inttypes.h</code> so, &#175;_(\u30c4)_/&#175;) Also, for anyone else coming along, I&#39;m going to tack on the formats I ended up using to @chux&#39;s answers for completeness."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "edited": false, "score": 0, "creation_date": 1497460496, "post_id": 44549984, "comment_id": 76092292, "body": "@AlanStorm Better to post your own answer or append to your post than change this answer.  Suggest rolling back the edit.  BTW: <code>%lx\\n&quot; ,(uintptr_t)</code> is not necessarily matching."}, {"owner": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "edited": false, "score": 0, "creation_date": 1497460569, "post_id": 44549984, "comment_id": 76092341, "body": "@chux Sure thing."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497460672, "post_id": 44549984, "comment_id": 76092398, "body": "Why not use the correct conversion type specifier for <code>uintptr_t</code> at least? Not that it really makes sense not to use <code>%p</code>."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497460889, "post_id": 44549984, "comment_id": 76092510, "body": "@Olaf in <i>C11 7.21.6.1 The fprintf function</i>,  I did  not not see a specified matching print specifier for <code>uintptr_t</code> as so did not include <a href=\"https://stackoverflow.com/questions/44549669/printing-a-c-pointer-as-i-and-u/44549984?noredirect=1#comment76092398_44549984\">that idea</a> here."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497461091, "post_id": 44549984, "comment_id": 76092625, "body": "@chux: There is also none for <code>uint32_t</code> in the function itself. You are aware about <code>inttypes.h</code>? (yes, <code>%zu</code> is superfluous actually, too). As with all your code above: the conversion of the pointer is implementation defined and printing the integers is even less defined."}], "tags": [], "owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1497461604, "last_edit_date": 1497461604, "creation_date": 1497457230, "answer_id": 44549984, "question_id": 44549669, "link": "https://stackoverflow.com/questions/44549669/printing-a-c-pointer-as-i-and-u/44549984#44549984", "title": "Printing a C Pointer as %i and %u", "body": "<p>Conversion of a <code>int*</code> to <code>void*</code> does not lose needed information to reference the data as a conversion back to <code>int*</code> can reference <code>concreteInteger</code>.</p>\n\n<p>Conversion of OP's <code>int*</code> to <code>unsigned</code> (32-bit) retained only 32-bits of the pointer's address.</p>\n\n<p>Try <code>%x</code> and convert to <code>uintptr_t</code> first.<br>\n<code>uintptr_t</code> is in C99 and is an <em>optional</em> type, yet very commonly available.</p>\n\n<pre><code> #include &lt;stdint.h&gt;\n ...\n printf(\"pointerInteger  as %%x = %x\\n\" ,(unsigned)(uintptr_t) pointerInteger); \n</code></pre>\n\n<p>I'd expect the following, the lower 32-bits of the pointer.  <a href=\"https://stackoverflow.com/questions/44549669/printing-a-c-pointer-as-i-and-u#comment76090242_44549669\">@Chris Turner</a></p>\n\n<pre><code>pointerInteger  as %x = 51af8878\n</code></pre>\n\n<p>Try <code>%llx</code> and convert to <code>uintptr_t</code> first to see more.</p>\n\n<pre><code> printf(\"pointerInteger  as %%llx = %llx\\n\", \n    (unsigned long long)(uintptr_t) pointerInteger); \n</code></pre>\n\n<p>With macros in <code>&lt;inttypes.h&gt;</code>, a matching print specifier can be use to print <code>uintptr_t</code> types directly.</p>\n\n<pre><code> printf(\"pointerInteger  %\" PRIxPTR \"\\n\", (uintptr_t) pointerInteger); \n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>... to represent the hex address of a pointer as a number in base 10, what's the most straight forward way to do that?</p>\n</blockquote>\n\n<p>The address of a pointer is not \"hex\", it is what is is.  To <em>display</em> a pointer in decimal/hex/octal, convert to a wide enough integer and print using the matching print specifier.  To print most portably, convert to <code>void*</code> and use <code>\"%p\"</code>, which may print in hex.  </p>\n\n<hr>\n"}, {"comments": [{"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1497461070, "post_id": 44551029, "comment_id": 76092607, "body": "<code>uintptr_t</code> might not be the same type as <code>unsigned long</code>, so <code>printf(&quot;pointerInteger  as %%lu = %lu\\n&quot; ,(uintptr_t)pointerInteger);</code> may need work on other platforms."}, {"owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "edited": false, "score": 1, "creation_date": 1497463647, "post_id": 44551029, "comment_id": 76094145, "body": "You need <code>&quot;%&quot; PRIuPTR</code> to print a <code>uintptr_t</code> portably, not <code>&quot;%lu&quot;</code>.  You need <code>#include &lt;inttypes.h&gt;</code> to get all the <code>PRI</code>/<code>SCN</code> macros."}], "tags": [], "owner": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "is_accepted": false, "score": 0, "last_activity_date": 1497469345, "last_edit_date": 1497469345, "creation_date": 1497460882, "answer_id": 44551029, "question_id": 44549669, "link": "https://stackoverflow.com/questions/44549669/printing-a-c-pointer-as-i-and-u/44551029#44551029", "title": "Printing a C Pointer as %i and %u", "body": "<p>I marked the answer above as best because it got me where I needed to be, but the following program gave me what I wanted/needed.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdint.h&gt;\n\n//needed for the PRI*PTR Macros\n#include &lt;inttypes.h&gt;\n\nint main()\n{\n    //#include &lt;inttypes.h&gt;    \n    int concreteInteger = 42;\n    int* pointerInteger;\n    pointerInteger = &amp;concreteInteger;\n\n    printf(\"concreteInteger as %%i = %i\\n\",concreteInteger);\n    printf(\"pointerInteger  as %%p = %p\\n\" ,(void*)pointerInteger);        \n    printf(\"pointerInteger  as %%u = %u\\n\" ,(unsigned)pointerInteger);                \n    printf(\"*pointerInteger as %%i = %i\\n\",*pointerInteger);\n\n    //as base 10 printf\n    printf(\"pointerInteger  as %%lu = %lu\\n\" ,(uintptr_t)pointerInteger);                    \n    printf(\"pointerInteger  as %%llu = %llu\\n\" ,(unsigned long long)(uintptr_t)pointerInteger);                    \n\n    //as hex printf\n    printf(\"pointerInteger  as %%lx = %lx\\n\" ,(uintptr_t)pointerInteger);           \n    printf(\"pointerInteger  as %%llx = %llx\\n\" ,(unsigned long long)pointerInteger);           \n\n    //using macros from inttypes.h\n    printf(\"pointerInteger  as %%PRIxPTR = %\" PRIxPTR \"\\n\", (uintptr_t) pointerInteger);         \n    printf(\"pointerInteger  as %%PRIxPTR = %\" PRIdPTR \"\\n\", (uintptr_t) pointerInteger);         \n\n    // 140,734,665,721,976\n\n    printf(\"Done\\n\");\n    return 0;\n}\n</code></pre>\n\n<p>A few key things to take away.</p>\n\n<ol>\n<li>I needed to the <code>stdint.h</code> library to get the <code>(uintptr_t)</code> type. </li>\n<li>The compiler warnings let me know that <code>%lu</code> and <code>%lx</code> were the format strings for displaying a <code>(uintptr_t)</code></li>\n<li>Per @chux above, casting the pointer as a <code>(unsigned long long)</code> required <code>%llu</code> and <code>%llx</code></li>\n<li>The converters over on <a href=\"http://www.binaryhexconverter.com/\" rel=\"nofollow noreferrer\">binaryhexconverter.com</a> are super useful</li>\n</ol>\n"}], "owner": {"reputation": 156951, "user_id": 4668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe1d27b286199c319b0cbe75596c3?s=128&d=identicon&r=PG", "display_name": "Alan Storm", "link": "https://stackoverflow.com/users/4668/alan-storm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 44549984, "answer_count": 2, "score": 1, "last_activity_date": 1497469345, "creation_date": 1497456267, "last_edit_date": 1497459739, "question_id": 44549669, "link": "https://stackoverflow.com/questions/44549669/printing-a-c-pointer-as-i-and-u", "title": "Printing a C Pointer as %i and %u", "body": "<p>Context: Established programmer, revisiting C, not for any particular purpose other than better understanding what's really going on behind the scenes. </p>\n\n<p>Consider this program.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n    //https://stackoverflow.com/questions/2581769/dereference-a-pointer-inside-a-structure-pointer\n\n    int concreteInteger = 42;\n    int* pointerInteger;\n    pointerInteger = &amp;concreteInteger;\n\n    printf(\"concreteInteger as %%i = %i\\n\",concreteInteger);\n    printf(\"pointerInteger  as %%p = %p\\n\" ,(void*)pointerInteger);        \n    printf(\"pointerInteger  as %%u = %u\\n\" ,(unsigned)pointerInteger);                \n    printf(\"*pointerInteger as %%i = %i\\n\",*pointerInteger);\n    printf(\"Done\\n\");\n    return 0;\n}\n</code></pre>\n\n<p>When I compile and run this program on OS X 10.11, I get the following output. </p>\n\n<pre><code>$ cc main.c;./a.out \nconcreteInteger as %i = 42\npointerInteger  as %p = 0x7fff5d614878\npointerInteger  as %u = 1566656632\n*pointerInteger as %i = 42\nDone \n</code></pre>\n\n<p>Where does <code>1566656632</code> come from?  If I <a href=\"https://www.google.com/webhp#q=convert+1350785144+to+hex\" rel=\"nofollow noreferrer\">convert <code>1566656632</code> to hex</a> I get <code>0x5D614878</code>, not <code>0x7fff5d614878</code>.  </p>\n\n<p>So where does <code>1566656632</code> come from?  What incorrect assumption am I making above?  Is casting a pointer as an unsigned number something that's undefined in C?  If so, for bonus points, if I wanted to represent the hex address of a pointer as a number in base 10, what's the most straight forward way to do that?</p>\n"}, {"tags": ["c", "linux", "multithreading", "pthreads"], "answers": [{"comments": [{"owner": {"reputation": 340, "user_id": 7681804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1f4879a4d6889d5ffc91e646ed40a16e?s=128&d=identicon&r=PG&f=1", "display_name": "Anderson", "link": "https://stackoverflow.com/users/7681804/anderson"}, "edited": false, "score": 0, "creation_date": 1497528084, "post_id": 44551650, "comment_id": 76122468, "body": "Thanks, but this code doesnt work. It doesnt wait for threads above <code>args-&gt;random &gt; 2</code>. For example, if printed out the <code>args-&gt; random</code>, the pthread_join does not wait for those to complete. It seems like the threads created are not all waited"}], "tags": [], "owner": {"reputation": 91, "user_id": 8080916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/901bf4d00ca7a9ef5895d0091ec4024a?s=128&d=identicon&r=PG&f=1", "display_name": "kangmj37", "link": "https://stackoverflow.com/users/8080916/kangmj37"}, "is_accepted": false, "score": 0, "last_activity_date": 1497463204, "creation_date": 1497463204, "answer_id": 44551650, "question_id": 44549428, "link": "https://stackoverflow.com/questions/44549428/how-to-join-detach-clean-dynamic-malloc-threads-that-are-created-per-function-ca/44551650#44551650", "title": "How to join/detach/clean dynamic malloc threads that are created per function call?", "body": "<p>Argument args of pthread_create() is wrong.\nTry change (void *)&amp;args -> (void *)args.</p>\n\n<p>Default stdout stream buffering is line buffering(_IOLBF).\nTry insert '\\n' character to printf() function. </p>\n\n<p>Create seed(srand function) only once.</p>\n\n<p>Finally, try the following.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;pthread.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n\nstruct args_struct {\n    pthread_t pt; \n    int random;\n};\n\nvoid* calculate(void *arguments){\n    struct args_struct *args = arguments;\n    sleep(args-&gt;random);\n    printf(\"Number: %d. %s\\n\", args-&gt;random, \"Calculations completed, thanks for waiting!\");\n    if (args-&gt;random != 2) free(args);\n}\n\nint main(){\n    time_t t;\n    srand((unsigned) time(&amp;t));\n    while(1){\n        struct args_struct *args = malloc(sizeof (struct args_struct));\n        args-&gt;random = rand() % 5;\n\n        if(pthread_create( &amp;args-&gt;pt, NULL, calculate, (void *)args) != 0)\n            printf(\"Error in creating thread!\\n\");    \n\n        if (args-&gt;random == 2 ){ //random condition in exiting loop\n            printf(\"Number is %d. Exiting program and joining remainder threads still running...\\n\", args-&gt;random);\n            pthread_join(args-&gt;pt, NULL);\n            free(args);\n            return 0;\n        };  \n    }   \n}\n</code></pre>\n"}], "owner": {"reputation": 340, "user_id": 7681804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1f4879a4d6889d5ffc91e646ed40a16e?s=128&d=identicon&r=PG&f=1", "display_name": "Anderson", "link": "https://stackoverflow.com/users/7681804/anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497463204, "creation_date": 1497455589, "last_edit_date": 1497456282, "question_id": 44549428, "link": "https://stackoverflow.com/questions/44549428/how-to-join-detach-clean-dynamic-malloc-threads-that-are-created-per-function-ca", "title": "How to join/detach/clean dynamic malloc threads that are created per function call?", "body": "<p>I wrote a sample code of my problem. In the while loop, I am dynamically creating new threads per function call, which will be processed in the calculate function. This could potentially take several seconds to finish and I used sleep to simulate this.</p>\n\n<p>How do I clean these threads? They have separate threads with their own stack of args, so would it be possible to clean them in the calculate function at the end per call? But then I would run into the problem of some threads still calculating when the condition of <code>random == 2</code> is met and the program exits.</p>\n\n<p>I'm thinking of a variable that would change state when the calculation has finished, but still have the same problem as described above. Any ideas?</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;pthread.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n\nstruct args_struct {\n    pthread_t pt;\n    int random;\n};\n\nvoid* calculate(void *arguments){\n    struct args_struct *args = arguments;\n    sleep(args-&gt;random);\n    printf(\"Number: %d. %s\", args-&gt;random, \"Calculations completed, thanks for waiting!\");\n}\n\nint main(){\n    while(1){\n        struct args_struct *args = malloc(sizeof (struct args_struct));\n        time_t t;\n        srand((unsigned) time(&amp;t));\n        args-&gt;random = rand() % 5;\n\n        if(pthread_create( &amp;args-&gt;pt, NULL, calculate, (void *)&amp;args) != 0)\n            printf(\"Error in creating thread!\");        \n\n        if (args-&gt;random == 2 ){ //random condition in exiting loop\n            printf(\"Number is %d. Exiting program and joining remainder threads still running...\", args-&gt;random);\n            //pthread_join? free(args)? pthread_exit? pthread_detach?\n            //pthread_join(args-&gt;pt, NULL);\n            //free(args);\n            return 0;\n        };\n    }\n}\n</code></pre>\n"}, {"tags": ["c", "printf"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1497455597, "post_id": 44549385, "comment_id": 76089490, "body": "just shift &amp; mask the values. Add <code>&#39;0&#39;</code> if between 0 and 9, else add <code>&#39;A&#39;-10</code>."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1497455684, "post_id": 44549385, "comment_id": 76089549, "body": "else add <code>&#39;a&#39; - 10</code> which is <code>&#39;W&#39;</code>"}, {"owner": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "edited": false, "score": 0, "creation_date": 1497455783, "post_id": 44549385, "comment_id": 76089621, "body": "See <a href=\"https://stackoverflow.com/a/36968534/1477064\">stackoverflow.com/a/36968534/1477064</a>"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497468173, "post_id": 44549385, "comment_id": 76096549, "body": "Should <code>array[]</code> write leading <code>0</code> digits?  Example: should <code>temperature = 0x123</code> --&gt; <code>&quot;123&quot;</code> or <code>&quot;0123&quot;</code> or it makes no difference?"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497468360, "post_id": 44549385, "comment_id": 76096651, "body": "&quot;for memory problems (uC) I need to avoid functions such as sprintf&quot; ? sprintf should not use a lot of memory."}, {"owner": {"reputation": 65, "user_id": 8102703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eQY4i.jpg?s=128&g=1", "display_name": "menchopez", "link": "https://stackoverflow.com/users/8102703/menchopez"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497516307, "post_id": 44549385, "comment_id": 76114534, "body": "@Stargateur &#39;sprintf&#39; consumes 800bytes in a 8KB flash memory in my microcontroller"}, {"owner": {"reputation": 65, "user_id": 8102703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eQY4i.jpg?s=128&g=1", "display_name": "menchopez", "link": "https://stackoverflow.com/users/8102703/menchopez"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497516339, "post_id": 44549385, "comment_id": 76114556, "body": "@chux temperature = 0x123 --&gt; &quot;123&quot;"}, {"owner": {"reputation": 65, "user_id": 8102703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eQY4i.jpg?s=128&g=1", "display_name": "menchopez", "link": "https://stackoverflow.com/users/8102703/menchopez"}, "reply_to_user": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "edited": false, "score": 0, "creation_date": 1497516445, "post_id": 44549385, "comment_id": 76114656, "body": "@xvan I don&#39;t want to convert an integer to its hexadecimal ."}, {"owner": {"reputation": 13762, "user_id": 694733, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0a3de8cd40d9ffb86cc1fed0c8cf2e19?s=128&d=identicon&r=PG", "display_name": "user694733", "link": "https://stackoverflow.com/users/694733/user694733"}, "edited": false, "score": 1, "creation_date": 1497527058, "post_id": 44549385, "comment_id": 76121818, "body": "Your edit breaks the existing answers. Also, <code>array8 = &#39;1f12&#39;</code> does not make any sense. Please rollback your question."}, {"owner": {"reputation": 65, "user_id": 8102703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eQY4i.jpg?s=128&g=1", "display_name": "menchopez", "link": "https://stackoverflow.com/users/8102703/menchopez"}, "edited": false, "score": 0, "creation_date": 1497532035, "post_id": 44549385, "comment_id": 76125209, "body": "array8[0] = &#39;1&#39;; array8[1] = &#39;f&#39;; array8[2] = &#39;1&#39;; array8[3] = &#39;2&#39;; array8[4] = 0 ... array8[7] = 0"}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1497465346, "post_id": 44549691, "comment_id": 76095035, "body": "Not my downvote, but It generates the number in the reversed order."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1497467150, "post_id": 44549691, "comment_id": 76096052, "body": "@Jean-Fran&#231;oisFabre True.  I 1st wrote it reversed as that makes the most sense, but then mis-read OP&#39;s desired order.  Hmmm <code>uint16 temperature = 0x89ab;</code> would have been clearer.  Will reverse."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1497468072, "post_id": 44549691, "comment_id": 76096493, "body": "@Jean-Fran&#231;oisFabre Fixed."}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497522122, "post_id": 44549691, "comment_id": 76118617, "body": "Alternative: <a href=\"https://ideone.com/wcpl10\" rel=\"nofollow noreferrer\">ideone.com/wcpl10</a>"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497532226, "post_id": 44549691, "comment_id": 76125342, "body": "@Stargateur Interesting."}], "tags": [], "owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1497467986, "last_edit_date": 1497467986, "creation_date": 1497456326, "answer_id": 44549691, "question_id": 44549385, "link": "https://stackoverflow.com/questions/44549385/integer-conversion-to-hexadecimal-string-in-c-without-sprintf-printf-libraries/44549691#44549691", "title": "Integer conversion to Hexadecimal String in C without (sprintf/printf libraries)", "body": "<p>Use recursion to determine 1 hex digit at a time.</p>\n\n<pre><code>// print digit at the end and return the next address\nstatic char *itohexa_helper(char *dest, unsigned x) {\n  if (x &gt;= 16) {\n    dest = itohexa_helper(dest, x/16);\n  }\n  *dest++ = \"0123456789abcdef\"[x &amp; 15];\n  return dest;\n}\n\nchar *itohexa(char *dest, unsigned x) {\n  *itohexa_helper(dest, x) = '\\0';\n  return dest;\n}\n\nint main(void) {\n  char array[8];\n  uint16_t temperature = 0x1f11;\n  puts(itohexa(array, temperature));\n  puts(itohexa(array, 0));\n  puts(itohexa(array, 0x1234567));\n  puts(itohexa(array, UINT_MAX &amp; 0xFFFFFFF));\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>1f11\n0\n1234567\nfffffff\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1602, "user_id": 1815837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b095ab1b2554345af93b82b7a9c02f0?s=128&d=identicon&r=PG", "display_name": "skr", "link": "https://stackoverflow.com/users/1815837/skr"}, "is_accepted": false, "score": 0, "last_activity_date": 1497458043, "creation_date": 1497458043, "answer_id": 44550204, "question_id": 44549385, "link": "https://stackoverflow.com/questions/44549385/integer-conversion-to-hexadecimal-string-in-c-without-sprintf-printf-libraries/44550204#44550204", "title": "Integer conversion to Hexadecimal String in C without (sprintf/printf libraries)", "body": "<pre><code>int convert()\n{\n uint16_t temperature = 0x1f11;\n uint8_t array[8] = {0,0,0,0,0,0,0,0};\n\n int i = 0;\n\n for(i = 0; i &lt; 8; i++){\n    array[i] = (0xf000 &amp; temperature) &gt;&gt; 12 ;\n    temperature &lt;&lt;= 4;\n    printf(\"array[%d] = %x\\n\", i ,array[i]);\n }\n return(0);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497541322, "post_id": 44569241, "comment_id": 76132206, "body": "With <code>temperature = 0x123</code>, this answers forms array <code>&quot;12300000&quot;</code>, certainly not OP&#39;s goal."}, {"owner": {"reputation": 1808, "user_id": 7724939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89dd0b319756f1e0dc1d7bff5d223d88?s=128&d=identicon&r=PG&f=1", "display_name": "nglee", "link": "https://stackoverflow.com/users/7724939/nglee"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497541582, "post_id": 44569241, "comment_id": 76132386, "body": "@chux I think that&#39;s what OP wants.."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497541672, "post_id": 44569241, "comment_id": 76132436, "body": "OP&#39;s rely to <a href=\"https://stackoverflow.com/questions/44549385/integer-conversion-to-hexadecimal-string-in-c/44569241?noredirect=1#comment76096549_44549385\">this</a> was <a href=\"https://stackoverflow.com/questions/44549385/integer-conversion-to-hexadecimal-string-in-c/44569241?noredirect=1#comment76114556_44549385\">&quot;123&quot;</a>, although OP did accept your answer, hmmm."}, {"owner": {"reputation": 65, "user_id": 8102703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eQY4i.jpg?s=128&g=1", "display_name": "menchopez", "link": "https://stackoverflow.com/users/8102703/menchopez"}, "edited": false, "score": 0, "creation_date": 1497599722, "post_id": 44569241, "comment_id": 76155398, "body": "Sorry for my C level... I wanted what @nglee posted. Thank you for help everyone."}], "tags": [], "owner": {"reputation": 1808, "user_id": 7724939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89dd0b319756f1e0dc1d7bff5d223d88?s=128&d=identicon&r=PG&f=1", "display_name": "nglee", "link": "https://stackoverflow.com/users/7724939/nglee"}, "is_accepted": true, "score": 1, "last_activity_date": 1497536714, "last_edit_date": 1497536714, "creation_date": 1497534467, "answer_id": 44569241, "question_id": 44549385, "link": "https://stackoverflow.com/questions/44549385/integer-conversion-to-hexadecimal-string-in-c-without-sprintf-printf-libraries/44569241#44569241", "title": "Integer conversion to Hexadecimal String in C without (sprintf/printf libraries)", "body": "<p>This code uses only 8 additional bytes in stack(<code>int i, j</code>).</p>\n\n<pre><code>int i;\nfor (i = 0; i &lt; 8; i++) {\n    array[7 - i] = temperature % 16;\n    temperature /= 16;\n\n    if (temperature == 0)\n        break;\n}\n\nif (i == 8)\n    i--;\n\nint j;\nfor (j = 0; j &lt;= i; j++)\n    array[j] = array[7 - i + j];\nfor (j = i + 1; j &lt; 8; j++)\n    array[j] = 0;\n\nfor (j = 0; j &lt; 8; j++)\n    if (array[j] &lt; 10)\n        array[j] += '0';\n    else\n        array[j] += 'a' - 10;\n</code></pre>\n\n<p>This code first converts <code>temperature = 0x1f12</code> to <code>array[8] = { 0, 0, 0, 0, 1, 15, 1, 2}</code>.</p>\n\n<p>Then shifts the elements of <code>array</code> so that it becomes <code>array[8] = { 1, 15, 1, 2, 0, 0, 0, 0 }</code>.</p>\n\n<p>And then converts the numbers to corresponding characters: <code>array[8] = { '1', 'f', '1', '2', '0', '0', '0', '0' }</code>.</p>\n\n<p>Note also that this if condition</p>\n\n<pre><code>    if (i == 8)\n        i--;\n</code></pre>\n\n<p>is never met, since break condition always suffices in the first <code>for</code> loop, even for temperature >= 0x10000000. It's just there in the hope that it might help someone understand this code.</p>\n"}], "owner": {"reputation": 65, "user_id": 8102703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eQY4i.jpg?s=128&g=1", "display_name": "menchopez", "link": "https://stackoverflow.com/users/8102703/menchopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1780, "favorite_count": 0, "closed_date": 1497536295, "accepted_answer_id": 44569241, "answer_count": 3, "score": 1, "last_activity_date": 1497599483, "creation_date": 1497455473, "last_edit_date": 1497599483, "question_id": 44549385, "link": "https://stackoverflow.com/questions/44549385/integer-conversion-to-hexadecimal-string-in-c-without-sprintf-printf-libraries", "closed_reason": "Duplicate", "title": "Integer conversion to Hexadecimal String in C without (sprintf/printf libraries)", "body": "<p>I have these input variables:</p>\n\n<pre><code> uint16 temperature = 0x1f12;\n uint8 array[8] = {0,0,0,...0}\n</code></pre>\n\n<p>And I want to have</p>\n\n<pre><code>array8[0] = '1';\narray8[1] = 'f';\narray8[2] = '1';\narray8[3] = '2';\narray8[4] = '\\0';\narray8[5] = '\\0';\narray8[6] = '\\0';\narray8[7] = '\\0';\n</code></pre>\n\n<p>However, for memory problems (I'm working with microcontrollers!) I need to avoid functions such as sprintf, printf, puts, etc. </p>\n\n<p>How should I do?</p>\n\n<p>Best regards,</p>\n"}, {"tags": ["c", "arrays", "pointers", "struct"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497454988, "post_id": 44549152, "comment_id": 76089078, "body": "Names starting with undewrscore are reserved for the implementation at file scope for all name spaces! And names like <code>A</code> are a no-go anyway."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6931566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/369e08f367f59e98d2f6b66762fbbec9?s=128&d=identicon&r=PG&f=1", "display_name": "P.Oni", "link": "https://stackoverflow.com/users/6931566/p-oni"}, "edited": false, "score": 0, "creation_date": 1497455981, "post_id": 44549217, "comment_id": 76089768, "body": "Thx for your help and explanation work, Some programmer dude. Even with your improvements, my results are wrong. I know, that my array has the type of A, but i was irritated because it points to B. I try to use a cast before its incremented and cast back after it."}, {"owner": {"reputation": 45, "user_id": 6931566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/369e08f367f59e98d2f6b66762fbbec9?s=128&d=identicon&r=PG&f=1", "display_name": "P.Oni", "link": "https://stackoverflow.com/users/6931566/p-oni"}, "edited": false, "score": 0, "creation_date": 1497456495, "post_id": 44549217, "comment_id": 76090088, "body": "With your Improvings and a little cast my problem was solved :)  thx Some programmer dude!"}], "tags": [], "owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": true, "score": 1, "last_activity_date": 1497454942, "creation_date": 1497454942, "answer_id": 44549217, "question_id": 44549152, "link": "https://stackoverflow.com/questions/44549152/access-with-a-pointer-on-two-structures-with-an-array/44549217#44549217", "title": "Access with a pointer on two structures with an array", "body": "<p>These lines</p>\n\n<pre><code>p=malloc(10 * sizeof(btest));\np=&amp;btest.array;\n</code></pre>\n\n<p>contains <em>two</em> problems. The first is that with the second assignment you <em>lose</em> the memory you allocated. It does not copy the contents of <code>btest.array</code>.</p>\n\n<p>The second problem is that <code>p</code> is a pointer to <code>B</code> but <code>&amp;btest.array</code> is a pointer to an array of ten <code>A</code> elements (its type is <code>A (*)[10]</code>). Those two are <em>very</em> different types.</p>\n\n<p>If you want to copy <code>btest</code> into the memory allocated for <code>p</code> (which is a pointer to <em>ten</em> <code>B</code> structures which is a little overkill) do e.g.</p>\n\n<pre><code>p=malloc(sizeof *p);\nmemcpy(p, &amp;btest, sizeof *p);\n</code></pre>\n\n<p>Then to the <em>next</em> problem:</p>\n\n<pre><code>p++-&gt;array-&gt;value\n</code></pre>\n\n<p>The <code>p++</code> will make <code>p</code> point to the <em>next</em> element in the array pointed to by <code>p</code>, but that's wrong. You should loop over <code>p-&gt;array</code> instead like</p>\n\n<pre><code>p-&gt;array[i].value\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6931566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/369e08f367f59e98d2f6b66762fbbec9?s=128&d=identicon&r=PG&f=1", "display_name": "P.Oni", "link": "https://stackoverflow.com/users/6931566/p-oni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 44549217, "answer_count": 1, "score": -2, "last_activity_date": 1497456597, "creation_date": 1497454705, "last_edit_date": 1497456597, "question_id": 44549152, "link": "https://stackoverflow.com/questions/44549152/access-with-a-pointer-on-two-structures-with-an-array", "title": "Access with a pointer on two structures with an array", "body": "<p>I got another issue with my Code. I want to access on all 3 values with a simple pointer usage. But my Pointer jumps too far.\nMy Output is this:</p>\n\n<ol>\n<li><p>Value is 1</p></li>\n<li><p>Value is 4194432</p></li>\n<li><p>Value is 2686824</p></li>\n</ol>\n\n<p>I guess that my Problem is, that my pointer is from the wrong type. So pointer++ dont jump to the next array element. I really dont know, how i can solve this.\n(It's only a simple example to reproduce my problem, so dont look for sense in doing this) </p>\n\n<pre><code>typedef struct _A {\nint value;\n}A;\n\ntypedef struct _B {\nA array[10];\n}B;\n\nint main()\n{\n    A atest;\n    B btest;\n    B *p=NULL;\n\n    btest.array[0].value=1;\n    btest.array[1].value=3;\n    btest.array[2].value=5;\n\n    p=malloc(10 * sizeof(btest));\n    p=&amp;btest.array;\n    int i=0;\n\n    for(i=0;i&lt;3;i++)\n    {\n        printf(\"\\n%d. Value is %d\\n\",i+1,p++-&gt;array-&gt;value);\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Thx for reading and if something is missing in my explanation, then i will apologize and add it.</p>\n\n<p>EDIT:</p>\n\n<p>Additionally to Some Programmers Dude Sollution, i add a simple cast mechanic:</p>\n\n<pre><code>    q=(A*) p;\n    q++;\n    p =(B*)q;\n</code></pre>\n\n<p>Thx for your help :)</p>\n"}, {"tags": ["c", "soap", "axis2c"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 0, "creation_date": 1497454078, "post_id": 44548836, "comment_id": 76088507, "body": "Is there a <code>configure.ac</code>? Then install <code>autoconf</code>, <code>automake</code> and <code>libtool</code> and try the command <code>autoreconf -i</code>"}, {"owner": {"reputation": 1137, "user_id": 2788009, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aee4f9a084fca57f7bbe7a7b5f3a682c?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Goldberg", "link": "https://stackoverflow.com/users/2788009/bill-goldberg"}, "edited": false, "score": 0, "creation_date": 1497455862, "post_id": 44548836, "comment_id": 76089682, "body": "Thanks @FelixPalmen it did the trick. Also I found one autogen.sh script in source as per this <a href=\"https://code.google.com/archive/p/axis2c-unofficial/wikis/InstallationManualLinux.wiki\" rel=\"nofollow noreferrer\">wiki</a>. Could you please post this as answer ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 0, "creation_date": 1497513309, "post_id": 44548836, "comment_id": 76112561, "body": "Glad it helped. I wrote an answer hopefully explaining enough to be useful to future readers."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "is_accepted": true, "score": 1, "last_activity_date": 1497513031, "creation_date": 1497513031, "answer_id": 44561711, "question_id": 44548836, "link": "https://stackoverflow.com/questions/44548836/how-to-build-axis2c-unofficial-source-code/44561711#44561711", "title": "How to build axis2c Unofficial source code", "body": "<p>This project probably uses the <a href=\"https://en.wikipedia.org/wiki/GNU_Build_System\" rel=\"nofollow noreferrer\">GNU build system</a>. In this system, <code>./configure</code> is a portable shell script that is automatically generated from hand-written input files, the main file is <code>configure.ac</code>.</p>\n\n<p>So, distribution packages of the source will contain <code>./configure</code>, therefore enabling anyone on any platform with a <code>sh</code>-compatible shell and a <code>make</code> utility to build the software. But as it is a <em>generated</em> file, you will not find it in source-code repositories, e.g. on github.</p>\n\n<p>To build a package using the GNU build system directly from source controls, you have to use the <em>GNU autotools</em> yourself to generate <code>./configure</code>. In order to do this, install the following packages:</p>\n\n<ul>\n<li><code>autoconf</code> -- generates <code>./configure</code> from <code>./configure.ac</code>.</li>\n<li><code>automake</code> -- generates portable makefile templates <code>Makefile.in</code> from <code>Makefile.am</code> (those templates are then filled with values by the <code>./configure</code> script to write the final <code>Makefile</code>s)</li>\n<li><code>libtool</code> -- tools for building dynamic shared objects on different platforms</li>\n</ul>\n\n<p>Then, the command <code>autoreconf -i</code> given in the root of your source package should generate the <code>./configure</code> script for you.</p>\n\n<p>Note that there are packages providing a script <code>./autogen.sh</code> (or similarly named). If this is there, you should call it instead of running <code>autoreconf -i</code> yourself, it might contain additional necessary preparation steps. <code>./autogen.sh</code> will typically directly run the generated <code>./configure</code> for you.</p>\n"}], "owner": {"reputation": 1137, "user_id": 2788009, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aee4f9a084fca57f7bbe7a7b5f3a682c?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Goldberg", "link": "https://stackoverflow.com/users/2788009/bill-goldberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 44561711, "answer_count": 1, "score": 0, "last_activity_date": 1497513031, "creation_date": 1497453870, "question_id": 44548836, "link": "https://stackoverflow.com/questions/44548836/how-to-build-axis2c-unofficial-source-code", "title": "How to build axis2c Unofficial source code", "body": "<p>I have to create SOAP services in C using <a href=\"http://axis.apache.org/axis2/c/core/\" rel=\"nofollow noreferrer\">axis2C</a>. But since axis2C is kind of not maintained properly as per this <a href=\"https://stackoverflow.com/questions/21865665/is-axis2-c-still-being-maintained\">question</a>, I have to use <a href=\"https://code.google.com/archive/p/axis2c-unofficial/\" rel=\"nofollow noreferrer\">axis2C unofficial</a> source code. But I could not see configure file to build the sources. How should I build this. I checked all the documentation both in <a href=\"https://code.google.com/archive/p/axis2c-unofficial/\" rel=\"nofollow noreferrer\">here</a> and in the <a href=\"https://github.com/loentar/axis2c-unofficial\" rel=\"nofollow noreferrer\">github repo</a> but no luck. All points to the axis2C official documentation. Should I copy the sources from unofficial to official code and try with the configure script in official folder ? </p>\n"}, {"tags": ["c++", "c", "input", "char"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1497452005, "post_id": 44548152, "comment_id": 76086963, "body": "It sounds like you may need to learn how to use a debugger to step through your code. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming. Further reading: <a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"}, {"owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 0, "creation_date": 1497452330, "post_id": 44548152, "comment_id": 76087192, "body": "1. print operacao after reading it. 2. What type is operacao? printing the value will help you understand while loop."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1497453251, "post_id": 44548152, "comment_id": 76087861, "body": "Since you tagged as C++, you should consider <code>cin &gt;&gt; c</code> instead of <code>scanf</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1497453310, "post_id": 44548152, "comment_id": 76087908, "body": "You need to check the return value of <code>scanf</code>.  The <code>scanf</code> returns the number of parameters <i>satisfied</i> or -1 if there is an error.  Don&#39;t trust the Users to input correct data."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 6373293, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cCHCdQY53gg/AAAAAAAAAAI/AAAAAAAAAFI/TIGxmoDbA5Q/photo.jpg?sz=128", "display_name": "Alex Sousa", "link": "https://stackoverflow.com/users/6373293/alex-sousa"}, "edited": false, "score": 0, "creation_date": 1497454674, "post_id": 44548231, "comment_id": 76088900, "body": "Thx for a tip - I have already solved the problem. Thx for your attention anyway."}, {"owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 27, "user_id": 6373293, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cCHCdQY53gg/AAAAAAAAAAI/AAAAAAAAAFI/TIGxmoDbA5Q/photo.jpg?sz=128", "display_name": "Alex Sousa", "link": "https://stackoverflow.com/users/6373293/alex-sousa"}, "edited": false, "score": 0, "creation_date": 1497454956, "post_id": 44548231, "comment_id": 76089060, "body": "@AlexSousa No at all. You are welcome."}], "tags": [], "owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 3, "last_activity_date": 1497452449, "last_edit_date": 1497452449, "creation_date": 1497452139, "answer_id": 44548231, "question_id": 44548152, "link": "https://stackoverflow.com/questions/44548152/while-loop-is-repeating-once-more/44548231#44548231", "title": "While loop is repeating once more", "body": "<p>Use the following statement</p>\n\n<pre><code>scanf(\" %c\", &amp;operacao);\n      ^^^ \n</code></pre>\n\n<p>Otherwise white space characters (as for example the new line character <code>'\\n'</code> that corresponds to the pressed key Enter) are also read.</p>\n"}], "owner": {"reputation": 27, "user_id": 6373293, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cCHCdQY53gg/AAAAAAAAAAI/AAAAAAAAAFI/TIGxmoDbA5Q/photo.jpg?sz=128", "display_name": "Alex Sousa", "link": "https://stackoverflow.com/users/6373293/alex-sousa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "closed_date": 1497452209, "accepted_answer_id": 44548231, "answer_count": 1, "score": -4, "last_activity_date": 1497452651, "creation_date": 1497451950, "last_edit_date": 1497452651, "question_id": 44548152, "link": "https://stackoverflow.com/questions/44548152/while-loop-is-repeating-once-more", "closed_reason": "Not suitable for this site", "title": "While loop is repeating once more", "body": "<p>I don't know whats wrong in my code it is repeating once more.</p>\n\n<pre><code>do { \n         scanf(\"%c\", &amp;operacao);\n        //Tratamento de erro (Validando a informac\u00e3o vinda do usu\u00e1rio\n        if ((operacao != '*') &amp;&amp; (operacao != '+') &amp;&amp; (operacao != '-')) {\n            printf(\"---------------------------------------\\n\");\n            printf(\"*****       MENSAGEM DE ERRO      *****\\n\");\n            printf(\"---------------------------------------\\n\");\n            printf(\"Voc\u00ea digitou um valor inv\u00e1lido!\\n\");\n            printf(\"Por favor, digite + para soma, - para subtra\u00e7\u00e3o * para multiplicar ou / para dividir!\\n\");\n        }\n    } while ((operacao != '*') &amp;&amp; (operacao != '+') &amp;&amp; (operacao != '-'));\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1497450810, "post_id": 44547696, "comment_id": 76086066, "body": "<code>miles &#47; 500 + 1</code>?"}, {"owner": {"reputation": 13, "user_id": 8131855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3EcX8.jpg?s=128&g=1", "display_name": "Lissette Ramos", "link": "https://stackoverflow.com/users/8131855/lissette-ramos"}, "edited": false, "score": 0, "creation_date": 1497450923, "post_id": 44547696, "comment_id": 76086156, "body": "I don&#39;t understand how that would help here."}, {"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 1, "creation_date": 1497451007, "post_id": 44547696, "comment_id": 76086212, "body": "You could also use <code>ceil</code> to round up so even if you have 600 miles, you&#39;d get 1.2 which rounds up to 2."}, {"owner": {"reputation": 9530, "user_id": 5264491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/233d38e551f3f0f85437e4ae47353d25?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Abbott", "link": "https://stackoverflow.com/users/5264491/ian-abbott"}, "edited": false, "score": 2, "creation_date": 1497451093, "post_id": 44547696, "comment_id": 76086266, "body": "Assuming integer arithmetic, <code>milesPricing = ((miles + 499) &#47; 500) * 10;</code>"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1497451199, "post_id": 44547696, "comment_id": 76086340, "body": "@Someprogrammerdude: You&#39;d overcharge if it&#39;s exactly 500 miles."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497451282, "post_id": 44547696, "comment_id": 76086399, "body": "@Stargateur: No need for the ternary. <code>(miles &#47; 500 + (miles % 500 != 0))</code> should work just fine."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497451353, "post_id": 44547696, "comment_id": 76086456, "body": "Note that the duplicate covers both &#39;round to nearest&#39; and &#39;round up&#39; (and the question included &#39;up&#39; in the title for a long time). Ian Abbot showed the basic formula for rounding up."}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1497451358, "post_id": 44547696, "comment_id": 76086461, "body": "@FredLarson I don&#39;t like mix boolean and integer type, even in C. Standard just say true is not zero :p."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1497451461, "post_id": 44547696, "comment_id": 76086551, "body": "@Someprogrammerdude: Use <code>(miles - 1) &#47; 500 + 1</code>, or <code>(miles + 499) &#47; 500</code>.  One&#39;s subject to underflow; the other to overflow."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 1, "creation_date": 1497451536, "post_id": 44547696, "comment_id": 76086603, "body": "@Stargateur: Well, that&#39;s a matter of opinion. But I think you got the precedence wrong anyway. Need some parentheses."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 1, "creation_date": 1497451636, "post_id": 44547696, "comment_id": 76086682, "body": "@Stargateur: The C++ standard says <code>true</code> converts to one, <code>false</code> converts to zero. See <a href=\"https://stackoverflow.com/a/5369783/10077\">stackoverflow.com/a/5369783/10077</a>"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1497451984, "post_id": 44547696, "comment_id": 76086943, "body": "@FredLarson My bad you right <code>(miles &#47; 500 + (miles % 500 != 0 ? 1 : 0)) * 10</code>. Thank for the quote about the standard."}], "owner": {"reputation": 13, "user_id": 8131855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3EcX8.jpg?s=128&g=1", "display_name": "Lissette Ramos", "link": "https://stackoverflow.com/users/8131855/lissette-ramos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "closed_date": 1497451147, "answer_count": 0, "score": 0, "last_activity_date": 1497453855, "creation_date": 1497450729, "last_edit_date": 1497453855, "question_id": 44547696, "link": "https://stackoverflow.com/questions/44547696/c-need-to-add-10-dollars-to-a-total-price-for-every-so-many-miles-traveled-how", "closed_reason": "Duplicate", "title": "C: Need to add 10 dollars to a total price for every so many miles traveled. How do I do this?", "body": "<p>So the issue is I need to add 10 dollars for every 500 miles a product is shipped. </p>\n\n<p><strong>So I came up with this:</strong></p>\n\n<pre><code>milesPricing = (miles/ 500) * 10\n</code></pre>\n\n<p>But I have to add 10 even if it's not 500 miles, for example, if they travel 700 miles, I'd need to add 10 for the first 500 and ten more cause the total goes over five hundred. How do I program this? I kept thinking for loop, but that would make me create an infinite loop to represent all possibilities unless I limit the loop and I doubt I can do this for the assignment.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c", "memory", "int"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497448865, "post_id": 44546962, "comment_id": 76084596, "body": "<code>%d</code> expects an <code>int</code>. <code>sizeof</code> yields a <code>size_t</code> -&gt; undefined behaviour."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 1, "creation_date": 1497448906, "post_id": 44546962, "comment_id": 76084630, "body": "<code>&amp;a</code> takes the address of a pointer, and the pointer needs 8 bytes. You have other problems in this code to worry about, like writing to invalid locations (<code>a</code> isn&#39;t pointing anywhere valid!)"}, {"owner": {"reputation": 9530, "user_id": 5264491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/233d38e551f3f0f85437e4ae47353d25?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Abbott", "link": "https://stackoverflow.com/users/5264491/ian-abbott"}, "edited": false, "score": 1, "creation_date": 1497449974, "post_id": 44546962, "comment_id": 76085430, "body": "<code>printf(&quot;address of a is %p\\n&quot;, (void *)(a+i));</code> will show the pointer going up by <code>sizeof(int)</code> (4)."}], "answers": [{"comments": [{"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1497449951, "post_id": 44547117, "comment_id": 76085402, "body": "Also, if you are using a Microsoft compiler, look at safer versions of scanf (e.g. s_scanf) that prevent buffer overflows."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 3, "creation_date": 1497449994, "post_id": 44547117, "comment_id": 76085443, "body": "@Neil no, <code>scanf_s</code> is completely unnecessary and just an attempt on vendor lock-in. For conversions to strings, just use <code>scanf()</code> with proper field-widths."}, {"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1497450111, "post_id": 44547117, "comment_id": 76085549, "body": "Really?  so there is no buffer overflow possible in scanf(&quot;%s&quot;, charArray) ?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1497450166, "post_id": 44547117, "comment_id": 76085584, "body": "@Neil 1) The MS libs bounds checking functions are not all compatgible with the standard functions - despite the same names, which is a complete no-go already. 2) You can limit the number of characters read with the normal function. Nothing gained."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1497450172, "post_id": 44547117, "comment_id": 76085589, "body": "@Neil the solution is not <code>scanf_s()</code> but <code>scanf(&quot;%19s&quot;, ...)</code> if array size is 20. Or better yet, use <code>fgets()</code> and similar."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497450312, "post_id": 44547117, "comment_id": 76085694, "body": "I agree about <code>fscanf_s</code> being unnecessary. However, there are standard functions with those names (see my comment above). Problem is they are optional and basically unnecessary, thus not often implemented."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497450425, "post_id": 44547117, "comment_id": 76085778, "body": "@Olaf which standard function are you talking about? I&#39;m pretty sure <code>scanf_s()</code> doesn&#39;t exist in the standard ..."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1497450462, "post_id": 44547117, "comment_id": 76085801, "body": "Considering the number of posts here which mis-use <code>scanf_s()</code> it IMO is no safer than <code>scanf()</code>."}, {"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1497450546, "post_id": 44547117, "comment_id": 76085870, "body": "Which is better, using something where the width of the input is completely separate to the destination (e.g. in a format string), or something where the destination is inseparable (e.g. in a sizeof) ?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497450598, "post_id": 44547117, "comment_id": 76085920, "body": "@FelixPalmen: Et voila: <a href=\"http://port70.net/~nsz/c/c11/n1570.html#K.3.5.3.4\" rel=\"nofollow noreferrer\">port70.net/~nsz/c/c11/n1570.html#K.3.5.3.4</a>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497450607, "post_id": 44547117, "comment_id": 76085931, "body": "@FelixPalmen: Annex K of ISO/IEC 9899:2011 contains (a slight superset of) the functions defined in TR 24731-1.  They are an optional feature in C11.  There is a proposal to remove them from the next revision of the C standard.  See <a href=\"https://stackoverflow.com/questions/372980/do-you-use-the-tr-24731-safe-functions\">Do you use the TR 24731 &#39;safe&#39; functions</a> for information on these \u2014 and links to the paper proposing they are removed.  The functions are not widely implemented."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 0, "creation_date": 1497450851, "post_id": 44547117, "comment_id": 76086104, "body": "Uhhh, <code>rsize_t</code> -- I see the problem. Link this by accident with an MS C library ;) Thanks for the links!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "is_accepted": false, "score": 5, "last_activity_date": 1497449651, "last_edit_date": 1497449651, "creation_date": 1497449190, "answer_id": 44547117, "question_id": 44546962, "link": "https://stackoverflow.com/questions/44546962/c-program-why-are-ints-stored-in-intervals-of-8h-even-though-they-occupy-4-byt/44547117#44547117", "title": "c program - why are ints stored in intervals of 8h even though they occupy 4 bytes", "body": "<pre><code>#include &lt;stdio.h&gt;\nvoid main() {\n\n    int *a;\n    int i, n;\n</code></pre>\n\n<p>Is there any code following you omitted? If not, <code>a</code> is now an uninitialized pointer with indeterminate value.</p>\n\n<pre><code>    printf(\"address of a is %p\\n\", &amp;a+i);\n</code></pre>\n\n<p>Here you take the <em>address of <code>a</code></em> using the <code>&amp;</code> operator. The result is a <em>pointer to <code>a</code></em>, IOW a pointer to a pointer. The size of a pointer on a 64bit system is 8, so this should answer your question.</p>\n\n<pre><code>    scanf(\"%d\",a+i);\n</code></pre>\n\n<p>and here you write to some \"random\" memory location. This is <em>undefined behavior</em></p>\n\n<hr>\n\n<p>For your reference, the fixed program for what you seem to want to do:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt; // &lt;- needed for malloc()/free()\n\n// use a standard prototype, void main() is not standard:\nint main(void) {\n\n    int *a;\n    int i, n;\n\n    printf(\" Input the number of elements to store in the array : \");\n    if (scanf(\"%d\",&amp;n) != 1)\n    {\n        // check for errors!\n        return 1;\n    }\n\n    // allocate memory:\n    a = malloc(n * sizeof(int));\n\n    for(i=0;i&lt;n;i++) {\n        printf(\" element - %d : \",i+1);\n        if (scanf(\"%d\", a+i) != 1)\n        {\n            // again, check for errors!\n            return 1;\n        }\n    }\n\n    // [...]\n\n    // when done, free memory:\n    free(a);\n\n    return 0;\n}\n</code></pre>\n\n<p>For learning how to do the input more robustly, read documentation on <code>scanf()</code>, <code>fgets()</code>, <code>strtol()</code> ... I prepared <a href=\"http://sekrit.de/webdocs/c/beginners-guide-away-from-scanf.html\" rel=\"noreferrer\">a little document</a>, but there are a lot of other resources available online, e.g. <a href=\"https://stackoverflow.com/questions/35178520/how-to-read-parse-input-in-c-the-faq\">this FAQ on SO</a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 8078552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4e215a26ad6bacb2fccd4949c62eb44?s=128&d=identicon&r=PG&f=1", "display_name": "horizon", "link": "https://stackoverflow.com/users/8078552/horizon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1497449651, "creation_date": 1497448742, "question_id": 44546962, "link": "https://stackoverflow.com/questions/44546962/c-program-why-are-ints-stored-in-intervals-of-8h-even-though-they-occupy-4-byt", "title": "c program - why are ints stored in intervals of 8h even though they occupy 4 bytes", "body": "<p>Could somebody explain to me why the <code>ints</code> that are taken in from the user with <code>scanf()</code> are stored in addresses that are <code>8h</code> apart even though the size of an <code>int</code> on my 64 bit machine in 4 bytes? It is to with with alignment in memory? </p>\n\n<pre><code>#include &lt;stdio.h&gt;\nvoid main() {\n\n    int *a;\n    int i, n;\n\n\n\n    printf(\" Input the number of elements to store in the array : \");\n    scanf(\"%d\",&amp;n);\n\n    printf(\" Input %d number of elements in the array : \\n\",n);\n\n    printf(\"size of on int is %d\\n\", sizeof(i));\n\n    for(i=0;i&lt;n;i++) {\n        printf(\" element - %d : \",i+1);\n        printf(\"address of a is %p\\n\", &amp;a+i);\n        scanf(\"%d\",a+i);\n    }\n\n   return 0;\n\n}\n\n\n Input the number of elements to store in the array : 3\n Input 3 number of elements in the array : \nsize of on int is 4\n element - 1 : address of a is 0x7ffda5cf8750\n6\n element - 2 : address of a is 0x7ffda5cf8758\n5\n element - 3 : address of a is 0x7ffda5cf8760\n2\n</code></pre>\n"}, {"tags": ["c", "multithreading", "opengl", "sdl-2"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 1, "creation_date": 1497452089, "post_id": 44546667, "comment_id": 76087008, "body": "It&#39;s quite typical for GUI libraries that all operations must be performed in the same thread, I really don&#39;t think SDL is an exception here..."}, {"owner": {"reputation": 413, "user_id": 4351488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa56d3a77d6391e5208eb9fd2d408233?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Pereira", "link": "https://stackoverflow.com/users/4351488/joao-pereira"}, "edited": false, "score": 0, "creation_date": 1497452708, "post_id": 44546667, "comment_id": 76087445, "body": "Most sources state that GUI libraries are not thread safe but what I find odd is that it works as intended with Debian but not with Raspbian which makes me believe it is feasible."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 3, "creation_date": 1497452909, "post_id": 44546667, "comment_id": 76087571, "body": "You can always have something not threadsafe &quot;work&quot; by accident"}], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 4351488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa56d3a77d6391e5208eb9fd2d408233?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Pereira", "link": "https://stackoverflow.com/users/4351488/joao-pereira"}, "edited": false, "score": 0, "creation_date": 1497458693, "post_id": 44549236, "comment_id": 76091274, "body": "That settles it, thank you, main thread it is. However, how can different behaviors within differents OSes be explained?"}, {"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "reply_to_user": {"reputation": 413, "user_id": 4351488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa56d3a77d6391e5208eb9fd2d408233?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Pereira", "link": "https://stackoverflow.com/users/4351488/joao-pereira"}, "edited": false, "score": 1, "creation_date": 1497464153, "post_id": 44549236, "comment_id": 76094422, "body": "@JoaoPereira: Possibly because of the different SDL_Renderer backends.  Win32 has DirectX, OpenGL, and Software backends, I think it defaults to DirectX."}], "tags": [], "owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "is_accepted": true, "score": 1, "last_activity_date": 1497881374, "last_edit_date": 1497881374, "creation_date": 1497455000, "answer_id": 44549236, "question_id": 44546667, "link": "https://stackoverflow.com/questions/44546667/sdl2-rendering-with-multithreading-on-raspberry-pi-2/44549236#44549236", "title": "SDL2 rendering with multithreading on Raspberry Pi 2", "body": "<p><a href=\"https://wiki.libsdl.org/CategoryRender\" rel=\"nofollow noreferrer\">SDL_Renderer top-level documentation</a>:</p>\n\n<blockquote>\n  <p>This API is not designed to be used from multiple threads, see <a href=\"https://bugzilla.libsdl.org/show_bug.cgi?id=1995\" rel=\"nofollow noreferrer\">SDL bug #1995</a> for details. </p>\n</blockquote>\n\n<p>More <a href=\"https://hg.libsdl.org/SDL/file/62a0a6e9b48b/include/SDL_render.h#l22\" rel=\"nofollow noreferrer\">authoritatively</a>:</p>\n\n<pre><code>/**\n *  \\file SDL_render.h\n *\n *  Header file for SDL 2D rendering functions.\n *\n *  This API supports the following features:\n *      * single pixel points\n *      * single pixel lines\n *      * filled rectangles\n *      * texture images\n *\n *  The primitives may be drawn in opaque, blended, or additive modes.\n *\n *  The texture images may be drawn in opaque, blended, or additive modes.\n *  They can have an additional color tint or alpha modulation applied to\n *  them, and may also be stretched with linear interpolation.\n *\n *  This API is designed to accelerate simple 2D operations. You may\n *  want more functionality such as polygons and particle effects and\n *  in that case you should use SDL's OpenGL/Direct3D support or one\n *  of the many good 3D engines.\n *\n *  These functions must be called from the main thread.\n *  See this bug for details: http://bugzilla.libsdl.org/show_bug.cgi?id=1995\n */\n</code></pre>\n\n<p>Also, don't try to use OpenGL &amp; a <code>SDL_RENDERER_ACCELERATED</code> SDL_Renderer at the same time.  SDL_Renderer doesn't provide any way to save/restore the OpenGL state it might be using.</p>\n"}], "owner": {"reputation": 413, "user_id": 4351488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa56d3a77d6391e5208eb9fd2d408233?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Pereira", "link": "https://stackoverflow.com/users/4351488/joao-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 1, "accepted_answer_id": 44549236, "answer_count": 1, "score": 1, "last_activity_date": 1497881374, "creation_date": 1497448043, "last_edit_date": 1497448839, "question_id": 44546667, "link": "https://stackoverflow.com/questions/44546667/sdl2-rendering-with-multithreading-on-raspberry-pi-2", "title": "SDL2 rendering with multithreading on Raspberry Pi 2", "body": "<p>So, we're trying to build a Real-Time System with preemption within a process, executing each task as a separate thread. To build the GUI, SDL was the library chosen and we've separated the GUI initialization from the rendering so that the latter could be a different task. Even though SDL has threads itself, we used <code>pthreads</code>. Information found is contradictory as some sources state that rendering cannot be executed within a different process and others stating otherwise. However, using a virtual machine with Debian, the rendering was executed properly but doing so in the Raspberry Pi, through changing contexts betweeen the main and the rendering thread, <code>SDL_GetError()</code> does not return error but does not render anything either leading to a black window with a cursor. It is important to state that rendering within the main thread works as intended both in the Pi and the virtual machine.</p>\n\n<p>In order to solve this issue, several alternatives were used in the Pi and SDL configuration. Regarding the Pi itself, using <code>sudo raspi-config</code>, both Full and Fake KMS to enable OpenGL do not work with different errors being presented: </p>\n\n<p><strong>Full KMS</strong> - <code>Could not initialize OpenGL / GLES library*</code></p>\n\n<p><strong>Fake KMS</strong> - <code>* failed to add service - already in use?</code> (keyboard stops working). </p>\n\n<p><strong>OpenGL disabled</strong> (origin) - No error, black window unrendered.</p>\n\n<p>Following, the code is presented per threads:</p>\n\n<p>Main thread:</p>\n\n<pre><code>SDL_Window* GUI_init(int w, int h) {\n  if (SDL_Init(SDL_INIT_VIDEO) != 0) {\n    fprintf(stderr, \"Cannot initialise SDL: %s\\n\", SDL_GetError());\n    exit(1);\n  }\n\n  window = SDL_CreateWindow(\n    \"Tron\", \n    SDL_WINDOWPOS_CENTERED, \n    SDL_WINDOWPOS_CENTERED, \n    w, h,\n    SDL_WINDOW_SHOWN | SDL_WINDOW_OPENGL\n  );\n  if (window == NULL) {\n    fprintf(stderr, \"Unable to create window: %s\\n\", SDL_GetError());\n    exit(1);\n  }\n\n  globalRenderer = SDL_CreateRenderer(\n    window, -1, SDL_RENDERER_ACCELERATED | SDL_RENDERER_PRESENTVSYNC\n  );\n  if (globalRenderer == NULL) {\n    fprintf(stderr, \"Unable to create renderer: %s\\n\", SDL_GetError());\n    exit(1);\n  }\n\n  if (SDL_SetRenderDrawBlendMode(globalRenderer, SDL_BLENDMODE_BLEND) != 0) {\n    fprintf(stderr, \"SDL_BlendMode failed: %s\\n\", SDL_GetError());\n    exit(1);\n  };\n\n  ctx = SDL_GL_CreateContext(window);\n  if(ctx == NULL) {\n    fprintf(stderr, \"Unable to create context: %s\\n\", SDL_GetError());\n    exit(1);\n  }\n\n  int ctx1 = SDL_GL_MakeCurrent(window,NULL);\n  if(ctx1!=0) {\n    fprintf(stderr, \"Unable to make currents context: %s\\n\", SDL_GetError());\n    exit(1);\n  }\n\n  //return globalRenderer;\n  return window;\n}\n</code></pre>\n\n<p>Rendering Thread:</p>\n\n<pre><code>void* GUI_update(void* params) {\n  SDL_GL_MakeCurrent(window,ctx);\n\n  GUI_setRenderDrawColor(globalRenderer);\n\n  SDL_RenderClear(globalRenderer);\n\n  GUI_fillBoardBorders(globalRenderer);\n  GUI_fillBoard(globalRenderer);\n\n  SDL_RenderPresent(globalRenderer);\n}\n</code></pre>\n\n<p>with use of 3 global variables:</p>\n\n<pre><code>SDL_Window *window = NULL;\nSDL_GLContext ctx = NULL;\nSDL_Renderer* globalRenderer = NULL;\n</code></pre>\n\n<p>We're using Raspbian Jessie Lite as the OS. What could be the issue here?</p>\n"}, {"tags": ["c", "floating-point", "integer", "division", "integer-division"], "comments": [{"owner": {"reputation": 4268, "user_id": 5897829, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2c7105808cb099e98f04fe464af68c6?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Verjans", "link": "https://stackoverflow.com/users/5897829/martin-verjans"}, "edited": false, "score": 0, "creation_date": 1497448194, "post_id": 44546638, "comment_id": 76084026, "body": "First you need to understand how floats are represented in memory, see <a href=\"https://softwareengineering.stackexchange.com/a/215126/235262\">this answer</a> (from Software Engineering)"}, {"owner": {"reputation": 6751, "user_id": 1417063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mwy5e.jpg?s=128&g=1", "display_name": "Davide Spataro", "link": "https://stackoverflow.com/users/1417063/davide-spataro"}, "edited": false, "score": 0, "creation_date": 1497448614, "post_id": 44546638, "comment_id": 76084374, "body": "What do you mean that when using Integer one must pay attention about precision? If you divide an integer you are using integer division with all the consequences the precision is at the 0th decimal digit. In this sense integer division is precise."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 1, "creation_date": 1497448818, "post_id": 44546638, "comment_id": 76084552, "body": "Keeping rounding errors at a minimum when doing floating point operations is a rather huge topic. As a simple rule, it is best if the operands have similar magnitude. For instances: Adding a small float value to a huge float value, will not change the huge value at all (provide that the difference between is sufficiently) ."}, {"owner": {"reputation": 686, "user_id": 1419127, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/N9sv6.jpg?s=128&g=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/1419127/charles"}, "edited": false, "score": 0, "creation_date": 1497448819, "post_id": 44546638, "comment_id": 76084553, "body": "Yes but most of the time when you implement you use integer division as a degraded version of the ideal division you would like to perform, and simply live with the fact that no decimal parts come out. Yet if you change units your results change ... example, you work in meters and divide 10 meters by 4 and get 2, but if you switch to millimeters, 10 000 divided by 4 becomes 2500, a much better result ..."}, {"owner": {"reputation": 9530, "user_id": 5264491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/233d38e551f3f0f85437e4ae47353d25?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Abbott", "link": "https://stackoverflow.com/users/5264491/ian-abbott"}, "reply_to_user": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1497449195, "post_id": 44546638, "comment_id": 76084839, "body": "@4386427 Yes, adding (or subtracting) numbers of dissimilar magnitude can result in loss of precision (this is a real problem when adding many numbers of similar magnitude, e.g. to find the average), but multiplying (or dividing) numbers of dissimilar magnitude isn&#39;t so bad."}, {"owner": {"reputation": 3797, "user_id": 4022608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27c9e8430426724a1f39c98b268f0a98?s=128&d=identicon&r=PG&f=1", "display_name": "Baldrickk", "link": "https://stackoverflow.com/users/4022608/baldrickk"}, "edited": false, "score": 0, "creation_date": 1497449364, "post_id": 44546638, "comment_id": 76084960, "body": "Of course the classic example is that <code>0.1 + 0.2 == 0.3</code> evaluates to <code>False</code>"}, {"owner": {"reputation": 105028, "user_id": 134554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1894f68e0b15fd3d5b27bfcb021fa11c?s=128&d=identicon&r=PG", "display_name": "John Bode", "link": "https://stackoverflow.com/users/134554/john-bode"}, "reply_to_user": {"reputation": 4268, "user_id": 5897829, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2c7105808cb099e98f04fe464af68c6?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Verjans", "link": "https://stackoverflow.com/users/5897829/martin-verjans"}, "edited": false, "score": 0, "creation_date": 1497452626, "post_id": 44546638, "comment_id": 76087383, "body": "@MartinVerjans: I&#39;d hesitate to link to that answer - it&#39;s really not that good an explanation, and I got some things wrong.  Better to link to an authoritative source (i.e., not me)."}, {"owner": {"reputation": 3898, "user_id": 1755628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05ce71f3fb8e71b8a3d6bc9c3198a88?s=128&d=identicon&r=PG", "display_name": "MikeW", "link": "https://stackoverflow.com/users/1755628/mikew"}, "reply_to_user": {"reputation": 6751, "user_id": 1417063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mwy5e.jpg?s=128&g=1", "display_name": "Davide Spataro", "link": "https://stackoverflow.com/users/1417063/davide-spataro"}, "edited": false, "score": 0, "creation_date": 1497455373, "post_id": 44546638, "comment_id": 76089338, "body": "@DavideSpataro: an extreme example of &quot;paying attention to precision&quot; would be to multiply 3 16-bit numbers (with full possible range) together (in eg a 32-bit integer word environment), and then to divide by a 24-bit one. You need to sequence or re-factor the operations so as not to lose significant digits by under- or overflow, even though &quot;end-to-end&quot;, the result will fit inside a 32-but word."}], "answers": [{"tags": [], "owner": {"reputation": 3898, "user_id": 1755628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05ce71f3fb8e71b8a3d6bc9c3198a88?s=128&d=identicon&r=PG", "display_name": "MikeW", "link": "https://stackoverflow.com/users/1755628/mikew"}, "is_accepted": false, "score": 3, "last_activity_date": 1499167182, "last_edit_date": 1499167182, "creation_date": 1497449220, "answer_id": 44547128, "question_id": 44546638, "link": "https://stackoverflow.com/questions/44546638/c-thinking-float-vs-integers-and-float-representation/44547128#44547128", "title": "C thinking : float vs. integers and float representation", "body": "<p>The representation of floats/doubles and similar <strong>floating-point</strong> working, is geared towards retaining numbers of <em>significant digits</em> (aka \"precision\"), rather than a fixed number of <em>decimal places</em>, such as happens in <strong>fixed-point</strong>, or integer working.</p>\n\n<p>It is best to avoid combining quantities, that may give rise to implicit under or overflow in terms of the exponent, ie at the limits of the floating-point number range.</p>\n\n<p>Hence, addition/subtraction of quantities of widely differing magnitudes (either explicitly, or due to having opposite signs)) should be avoided and re-arranged, where possible, to avoid this well-known route to lost precision.</p>\n\n<p>Example: it's better to refactor/re-order</p>\n\n<pre><code>small + big + small + big + small * big\n</code></pre>\n\n<p>as</p>\n\n<pre><code>(small+small+small) + big + big\n</code></pre>\n\n<p>since the smalls individually might make no difference to a big, and hence their contribution might disappear.</p>\n\n<p>If there is any \"noise\" or imprecision in the lower bits of any quantity, it's also wise to be aware how loss of significant bits propagates through a computation.</p>\n"}, {"tags": [], "owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "is_accepted": false, "score": 0, "last_activity_date": 1497453677, "last_edit_date": 1592644375, "creation_date": 1497453677, "answer_id": 44548767, "question_id": 44546638, "link": "https://stackoverflow.com/questions/44546638/c-thinking-float-vs-integers-and-float-representation/44548767#44548767", "title": "C thinking : float vs. integers and float representation", "body": "<blockquote>\n<p>(for integer) It is always better to multiply and add things (thus creating a larger intermediary result, so long as it doesn't overflow) before dividing.</p>\n<p>Does that still hold (for floats)?</p>\n</blockquote>\n<p>In general the answer is <strong>No</strong></p>\n<p>It is easy to construct an example where adding all input before division will give you a huge rounding error.</p>\n<p>Assume you want to add 10000000000 values and divide them by 1000. Further assume that each value is 1. So the expected result is 10000000.</p>\n<p><strong>Method 1</strong>\nHowever, if you add all the values before division, you'll get the result 16777.216 (for a 32 bit float). As you can see it is pretty much off.</p>\n<p><strong>Method 2</strong>\nSo is it better to divide each value by 1000 before adding it to the result? If you do that, you'll get the result 32768.0  (for a 32 bit float). As you can see it is pretty much off as well.</p>\n<p><strong>Method 3</strong>\nHowever, if you go on adding values until the temporary result is greater than 1000000 and then divide the temporary result by 1000 and add that intermediate result to the final result and repeats that until you have added a total 10000000000 values, you will get the correct result.</p>\n<p>So there is no simple &quot;always add before division&quot; or &quot;always divide before adding&quot; when dealing with floating point. As a general rule it is typically a good idea to keep operands in similar magnitude. That is what the third example does.</p>\n"}, {"tags": [], "owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1497455577, "last_edit_date": 1497455577, "creation_date": 1497455176, "answer_id": 44549289, "question_id": 44546638, "link": "https://stackoverflow.com/questions/44546638/c-thinking-float-vs-integers-and-float-representation/44549289#44549289", "title": "C thinking : float vs. integers and float representation", "body": "<p>With integers:<br>\nAs long as there is no overflow, <code>+,-,*</code> is always exact.<br>\nWith division, the result is truncated and often not equal to the mathematical answer.<br>\n<code>ia,ib,ic</code>, multiplying before dividing <code>ia*ib/ic</code> vs <code>ia*(ib/ic)</code> is better  as the quotient is based on more bits of the product <code>ia*ib</code> than <code>ib</code>.</p>\n\n<p>With floating point:<br>\nIssues are subtle.  Again, as long as no over/underflow, the order or <code>*,/</code> sequence make less impact than with integers.  FP <code>*/-</code> is akin to adding/subtracting logs.  Typical results are within 0.5 <a href=\"https://en.wikipedia.org/wiki/Unit_in_the_last_place\" rel=\"nofollow noreferrer\">ULP</a> of the mathematically correct answer.</p>\n\n<p>With FP and <code>+,-</code> the result of <code>fa,fb,fc</code> can have significant differences than the mathematical correct one when 1) values are far apart in magnitude or 2) subtracting values that are nearly equal and the error in a prior calculation now become significant.  </p>\n\n<p>Consider the quadratic equation:</p>\n\n<pre><code>double d = sqrt(b*b - 4*a/c);  // assume b*b - 4*a/c &gt;= 0\ndouble root1 = (-b + d)/(2*a);\ndouble root2 = (-b - d)/(2*a);\n</code></pre>\n\n<p>Versus</p>\n\n<pre><code>double d = sqrt(b*b - 4*a/c);  // assume b*b - 4*a/c &gt;= 0\ndouble root1 = (b &lt; 0) ? (-b + d)/(2*a)  :  (-b - d)/(2*a)\ndouble root2 = c/(a*root1);  // assume a*root1 != 0\n</code></pre>\n\n<p>The 2nd has much better <code>root2</code> precision result when one root is near 0 and <code>|b|</code> is nearly <code>d</code>.  This is because the <code>b,d</code> subtraction cancels many bits of significance allowing the error in the calculation of <code>d</code>  to become significant.</p>\n\n<hr>\n"}], "owner": {"reputation": 686, "user_id": 1419127, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/N9sv6.jpg?s=128&g=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/1419127/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1499167182, "creation_date": 1497447958, "last_edit_date": 1497453743, "question_id": 44546638, "link": "https://stackoverflow.com/questions/44546638/c-thinking-float-vs-integers-and-float-representation", "title": "C thinking : float vs. integers and float representation", "body": "<p>When using integers in C (and in many other languages), one must pay attention when dividing about precision. It is always better to multiply and add things (thus creating a larger intermediary result, so long as it doesn't overflow) before dividing.</p>\n\n<p>But what about floats? Does that still hold? Or are they represented in such a way that it is better to divide number of similar orders of magnitude rather than large ones by small ones?</p>\n"}, {"tags": ["c", "assembly", "arm", "qemu"], "comments": [{"owner": {"reputation": 62072, "user_id": 16007, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e859640aaeb4b305e163a990be827cf9?s=128&d=identicon&r=PG&f=1", "display_name": "old_timer", "link": "https://stackoverflow.com/users/16007/old-timer"}, "edited": false, "score": 0, "creation_date": 1497448184, "post_id": 44546425, "comment_id": 76084014, "body": "show more code please."}, {"owner": {"reputation": 62072, "user_id": 16007, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e859640aaeb4b305e163a990be827cf9?s=128&d=identicon&r=PG&f=1", "display_name": "old_timer", "link": "https://stackoverflow.com/users/16007/old-timer"}, "edited": false, "score": 0, "creation_date": 1497448363, "post_id": 44546425, "comment_id": 76084173, "body": "it has a branch if not equal to 0x93D8, the status shows not equal, and the program counter changes to 0x93D8 as expected."}, {"owner": {"reputation": 11, "user_id": 8160680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9b9c595d1060cc8b9b8ca9631b9fecc?s=128&d=identicon&r=PG&f=1", "display_name": "agelos d", "link": "https://stackoverflow.com/users/8160680/agelos-d"}, "reply_to_user": {"reputation": 62072, "user_id": 16007, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e859640aaeb4b305e163a990be827cf9?s=128&d=identicon&r=PG&f=1", "display_name": "old_timer", "link": "https://stackoverflow.com/users/16007/old-timer"}, "edited": false, "score": 0, "creation_date": 1497450560, "post_id": 44546425, "comment_id": 76085882, "body": "Indeed it does, but no instruction executes on that program counter <code>0x93D8</code>, at least it does not show anything."}, {"owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 0, "creation_date": 1497452580, "post_id": 44546425, "comment_id": 76087348, "body": "I haven&#39;t checked, but does qemu dump already translated code on each execution? Notice it&#39;s a jump backward, possibly into code already seen."}, {"owner": {"reputation": 11, "user_id": 8160680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9b9c595d1060cc8b9b8ca9631b9fecc?s=128&d=identicon&r=PG&f=1", "display_name": "agelos d", "link": "https://stackoverflow.com/users/8160680/agelos-d"}, "edited": false, "score": 0, "creation_date": 1497453226, "post_id": 44546425, "comment_id": 76087834, "body": "I am not really sure what you mean... this is the first time I use QEMU and the flag I use to dump is the in_asm which is defined as &quot;show target assembly code for each compiled TB&quot;. The section that jumps to is the first time it executes and does not seem to execute again elsewhere. Also when I disassemble with -d switch there is no direct branch to that instruction."}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 0, "creation_date": 1497460584, "post_id": 44546425, "comment_id": 76092347, "body": "What&#39;s the instruction at <code>0x93d8</code>? According to second register dump the CPU does set PC to that address <code>R15=000093d8</code>, it&#39;s just not showing the instruction. It&#39;s possible that it caused a fault so wasn&#39;t executed."}, {"owner": {"reputation": 11, "user_id": 8160680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9b9c595d1060cc8b9b8ca9631b9fecc?s=128&d=identicon&r=PG&f=1", "display_name": "agelos d", "link": "https://stackoverflow.com/users/8160680/agelos-d"}, "edited": false, "score": 0, "creation_date": 1497462595, "post_id": 44546425, "comment_id": 76093573, "body": "The <code>0x93d8</code> is a simple add instruction."}, {"owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 0, "creation_date": 1497469045, "post_id": 44546425, "comment_id": 76097019, "body": "As you quoted, it&#39;s &quot;for each compiled TB&quot;. Are you sure it wasn&#39;t compiled earlier already?"}, {"owner": {"reputation": 11, "user_id": 8160680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9b9c595d1060cc8b9b8ca9631b9fecc?s=128&d=identicon&r=PG&f=1", "display_name": "agelos d", "link": "https://stackoverflow.com/users/8160680/agelos-d"}, "edited": false, "score": 0, "creation_date": 1497470394, "post_id": 44546425, "comment_id": 76097749, "body": "Not really sure what you mean by &quot;compiler earlier&quot;. Do you mean if this particular TB has been executed before and got cached?"}, {"owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 0, "creation_date": 1497474454, "post_id": 44546425, "comment_id": 76099830, "body": "Yes, that&#39;s what I mean."}, {"owner": {"reputation": 11, "user_id": 8160680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9b9c595d1060cc8b9b8ca9631b9fecc?s=128&d=identicon&r=PG&f=1", "display_name": "agelos d", "link": "https://stackoverflow.com/users/8160680/agelos-d"}, "edited": false, "score": 0, "creation_date": 1497476270, "post_id": 44546425, "comment_id": 76100654, "body": "I don&#39;t think so, unless qemu omits repetitive TBs. this is the link to the qemu flow:     <a href=\"https://www.dropbox.com/s/g0ihu9i90b7h9m0/a.txt?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/g0ihu9i90b7h9m0/a.txt?dl=0</a>"}, {"owner": {"reputation": 11, "user_id": 8160680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9b9c595d1060cc8b9b8ca9631b9fecc?s=128&d=identicon&r=PG&f=1", "display_name": "agelos d", "link": "https://stackoverflow.com/users/8160680/agelos-d"}, "edited": false, "score": 0, "creation_date": 1497476859, "post_id": 44546425, "comment_id": 76100938, "body": "But even if it has been executed before how would this explain the branch?"}, {"owner": {"reputation": 5487, "user_id": 4499941, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wb0uIu6LiPk/AAAAAAAAAAI/AAAAAAAAABI/HOVGfYywvPE/photo.jpg?sz=128", "display_name": "Peter Maydell", "link": "https://stackoverflow.com/users/4499941/peter-maydell"}, "edited": false, "score": 0, "creation_date": 1499082722, "post_id": 44546425, "comment_id": 76747728, "body": "You&#39;re just being confused by the trace output. The &quot;IN:&quot; trace and instructions are printed only when QEMU translates a block (first time it sees it), not when it executes a block. For execution flow you need to look only at the register dumps. You may also want to use &#39;-d nochain&#39; to disable the optimisation which means that register dumps only get printed at the start of a chain of linked TBs (including TBs linked round in a loop), so you get register dumps for every TB executed."}], "answers": [{"tags": [], "owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "is_accepted": false, "score": 5, "last_activity_date": 1497484464, "creation_date": 1497484464, "answer_id": 44556427, "question_id": 44546425, "link": "https://stackoverflow.com/questions/44546425/qemu-arm-branches-to-a-seemingly-abstract-instruction/44556427#44556427", "title": "qemu-arm branches to a seemingly abstract instruction", "body": "<p>It is a reverse jump to previously emitted TB, you don't even have to read that much back:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>IN: __libc_init_array\n0x000093d8:  e2844001      add  r4, r4, #1  ; 0x1\n0x000093dc:  e4953004      ldr  r3, [r5], #4\n0x000093e0:  e1a0e00f      mov  lr, pc\n0x000093e4:  e1a0f003      mov  pc, r3\n\n----------------\nIN: register_fini\n0x0000804c:  e59f3018      ldr  r3, [pc, #24]   ; 0x806c\n0x00008050:  e3530000      cmp  r3, #0  ; 0x0\n0x00008054:  01a0f00e      moveq    pc, lr\n\n----------------\nIN: __libc_init_array\n0x000093e8:  e1560004      cmp  r6, r4\n0x000093ec:  1afffff9      bne  0x93d8\n</code></pre>\n\n<p>So, qemu is not showing it again. Notice this loop is iterating function pointers, the first one points to <code>register_fini</code> and the second one to the magical <code>0x000080b4</code> address in question (no symbol for it). When this unnamed function conditionally returns with <code>moveq  pc, lr</code> control is transferred back to <code>__libc_init_array</code> address <code>0x000093e8</code> which then determines that the array end has been reached and again just returns to its caller at <code>0x000093f0</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 8160680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9b9c595d1060cc8b9b8ca9631b9fecc?s=128&d=identicon&r=PG&f=1", "display_name": "agelos d", "link": "https://stackoverflow.com/users/8160680/agelos-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1497484464, "creation_date": 1497447396, "last_edit_date": 1497462478, "question_id": 44546425, "link": "https://stackoverflow.com/questions/44546425/qemu-arm-branches-to-a-seemingly-abstract-instruction", "title": "qemu-arm branches to a seemingly abstract instruction", "body": "<p>I am trying to build a binary translator for arm bear metal compiled code and I try to verify proper execution flow by comparing it to that  of qemu-arm. I use the following command to dump the program flow:\n<code>qemu-arm -d in_asm,cpu -singlestep -D a.flow a.out</code>\nI noticed something strange, where the program seems to jump to an irrelevant instruction, since 0x000080b4 is not the branch nor the next instruction following 0x000093ec.</p>\n\n<pre><code>0x000093ec:  1afffff9      bne  0x93d8\n\nR00=00000000 R01=00009c44 R02=00000002 R03=00000000\nR04=00000001 R05=0001d028 R06=00000002 R07=00000000\nR08=00000000 R09=00000000 R10=0001d024 R11=00000000\nR12=f6ffed88 R13=f6ffed88 R14=000093e8 R15=000093ec\nPSR=20000010 --C- A usr32\nR00=00000000 R01=00009c44 R02=00000002 R03=00000000\nR04=00000001 R05=0001d028 R06=00000002 R07=00000000\nR08=00000000 R09=00000000 R10=0001d024 R11=00000000\nR12=f6ffed88 R13=f6ffed88 R14=000093e8 R15=000093d8\nPSR=20000010 --C- A usr32\n----------------\nIN: \n0x000080b4:  e59f3060      ldr  r3, [pc, #96]   ; 0x811c\n</code></pre>\n\n<p>The instruction that actually executes corresponds to the beggining of the <code>&lt;frame_dummy&gt;</code> tag in the disassembly. Can someone explain what actually happens within the emulator and is this behavior normal in the ARM architecture? The program was compiled with: <code>arm-none-eabi-gcc --specs=rdimon.specs a.c</code></p>\n\n<p>Here is the same segment of the program flow without the CPU state:</p>\n\n<pre><code>0x0000804c:  e59f3018      ldr  r3, [pc, #24]   ; 0x806c\n0x00008050:  e3530000      cmp  r3, #0  ; 0x0\n0x00008054:  01a0f00e      moveq    pc, lr\n\n----------------\nIN: __libc_init_array\n0x000093e8:  e1560004      cmp  r6, r4\n0x000093ec:  1afffff9      bne  0x93d8\n\n----------------\nIN: \n0x000080b4:  e59f3060      ldr  r3, [pc, #96]   ; 0x811c\n0x000080b8:  e3530000      cmp  r3, #0  ; 0x0\n0x000080bc:  0a000009      beq  0x80e8\n</code></pre>\n\n<p>This is the disassembly of this part:</p>\n\n<pre><code>93d4:   0a000005    beq 93f0 &lt;__libc_init_array+0x68&gt;\n93d8:   e2844001    add r4, r4, #1\n93dc:   e4953004    ldr r3, [r5], #4\n93e0:   e1a0e00f    mov lr, pc\n93e4:   e1a0f003    mov pc, r3\n93e8:   e1560004    cmp r6, r4\n93ec:   1afffff9    bne 93d8 &lt;__libc_init_array+0x50&gt;\n93f0:   e8bd4070    pop {r4, r5, r6, lr}\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 5, "creation_date": 1497445721, "post_id": 44545745, "comment_id": 76081990, "body": "Why do you use the C++ tag?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 3, "creation_date": 1497445764, "post_id": 44545745, "comment_id": 76082019, "body": "not sure it fixes it: <code>&amp;name</code> =&gt; <code>name</code>"}, {"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 5, "creation_date": 1497445784, "post_id": 44545745, "comment_id": 76082044, "body": "<code>scanf_s(&quot;%s %d %c %f&quot;, &amp;name, &amp;age, &amp;gender, &amp;income);</code> --&gt; <code>scanf_s(&quot;%19s %d %c %f&quot;,  name, 20, &amp;age, &amp;gender, 1, &amp;income);</code>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 7, "creation_date": 1497445849, "post_id": 44545745, "comment_id": 76082096, "body": "I sense yet another code of (almost) correct scanf code being broken by user in response to bogus compiler message recommending <code>scanf</code> change to <code>scanf_s</code>"}, {"owner": {"reputation": 10050, "user_id": 3512538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6Om7A.png?s=128&g=1", "display_name": "CIsForCookies", "link": "https://stackoverflow.com/users/3512538/cisforcookies"}, "edited": false, "score": 1, "creation_date": 1497446253, "post_id": 44545745, "comment_id": 76082406, "body": "did you use scanf at the start? if so, I think <i>scanf(&quot;%s %d %c %f&quot;, name, &amp;age, &amp;gender, &amp;income);</i> should have work just fine"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "reply_to_user": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 1, "creation_date": 1497446268, "post_id": 44545745, "comment_id": 76082427, "body": "@BLUEPIXY What is the point of <code>%19s</code> if <code>scanf_s()</code> want <code>20</code> to know the size of the buffer ?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497446501, "post_id": 44545745, "comment_id": 76082620, "body": "C does not support exceptions."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1497446587, "post_id": 44545745, "comment_id": 76082701, "body": "Tip: screen shots of text tends to attract down-votes.  Text is easier to search, cut and paste."}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497446647, "post_id": 44545745, "comment_id": 76082746, "body": "It isn&#39;t C throwing the exception, @Olaf, it is the operating system."}, {"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497446663, "post_id": 44545745, "comment_id": 76082758, "body": "@Stargateur Please try out the difference in behavior actually."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 1, "creation_date": 1497446778, "post_id": 44545745, "comment_id": 76082854, "body": "@CodyGray: Too bad the screenshot is unreadable. That&#39;s why one should post text as text, not image."}], "answers": [{"tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": true, "score": 6, "last_activity_date": 1497447215, "last_edit_date": 1497447215, "creation_date": 1497446414, "answer_id": 44546039, "question_id": 44545745, "link": "https://stackoverflow.com/questions/44545745/access-violation-writing-location-0x00d00000/44546039#44546039", "title": "Access violation writing location 0x00D00000", "body": "<p>The <code>%s</code> format specifier to <code>scanf</code>/<code>scanf_s</code> expects a pointer to the first element of an array of char, i.e. a <code>char *</code>.  Instead, you're passing in the address of an array, in this case a <code>char (*)[20]</code>.  Those types are incompatible.  Passing the the wrong type for a format specifier invokes <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow noreferrer\">undefined behavior</a>.</p>\n\n<p>Instead of passing in <code>&amp;name</code>, pass in <code>name</code>.  When passed to a function, an array decays to a pointer to the first element, so this is the proper type.</p>\n\n<pre><code>scanf_s(\"%19s %d %c %f\", name, sizeof(name), &amp;age, &amp;gender, sizeof(gender), &amp;income);\n</code></pre>\n\n<p>Also note the length specifier given, which limits the number of characters that can be read in so it doesn't try to write past the end of the array.</p>\n"}], "owner": {"reputation": 37, "user_id": 8160615, "user_type": "registered", "profile_image": "https://graph.facebook.com/1452528748158640/picture?type=large", "display_name": "Xin Wei", "link": "https://stackoverflow.com/users/8160615/xin-wei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1534, "favorite_count": 0, "accepted_answer_id": 44546039, "answer_count": 1, "score": -2, "last_activity_date": 1497472417, "creation_date": 1497445681, "last_edit_date": 1497453854, "question_id": 44545745, "link": "https://stackoverflow.com/questions/44545745/access-violation-writing-location-0x00d00000", "title": "Access violation writing location 0x00D00000", "body": "<p>I am trying to write this simple program which reads multiple variables in one scanf function but an exception is thrown after I enter the input?</p>\n\n<p>Edit: I used scanf initially but it causes an error saying it may be unsafe.</p>\n\n<p>Exception thrown:</p>\n\n<p>Exception thrown at 0x52DAB87C (ucrtbased.dll) in Program.exe: 0xC0000005: Access violation writing location 0x00D00000</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n\nvoid main()\n{\n    char name[20];\n    int age;\n    char gender;\n    float income;\n\n    printf(\"Enter &lt;name&gt; &lt;age&gt; &lt;gender&gt; &lt;income&gt; :\");\n    scanf_s(\"%s %d %c %f\", &amp;name, &amp;age, &amp;gender, &amp;income);\n\n    printf(\"Name   : %s\", name);\n    printf(\"Age    : %d\", age);\n    printf(\"Gender : %c\", gender);\n    printf(\"Income : %.2f\", income);\n\n    system(\"pause\");\n}\n</code></pre>\n"}, {"tags": ["c", "printf"], "comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1497445135, "post_id": 44545449, "comment_id": 76081516, "body": "...<code>printf(&quot;%g %E\\n</code>...)..."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1497445238, "post_id": 44545449, "comment_id": 76081598, "body": "Read the official documentation of printf"}, {"owner": {"reputation": 299, "user_id": 7537655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3dlO3.jpg?s=128&g=1", "display_name": "Shangchih Huang", "link": "https://stackoverflow.com/users/7537655/shangchih-huang"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1497445276, "post_id": 44545449, "comment_id": 76081629, "body": "@l&#39;L&#39;l What do you means?"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497445555, "post_id": 44545449, "comment_id": 76081847, "body": "What is <i>very strange</i> about <code>output: 10.1235 10.1235</code>?"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1497446178, "post_id": 44545449, "comment_id": 76082343, "body": "@kameiha: You should be able to use <code>e</code>, or <code>E</code>... while selecting the precision (eg. <code>printf(&quot;%.2e %.23E\\n&quot;)</code>) ... my first comment I accidentally left <code>g</code> in there... meant <code>e</code>."}], "answers": [{"comments": [{"owner": {"reputation": 299, "user_id": 7537655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3dlO3.jpg?s=128&g=1", "display_name": "Shangchih Huang", "link": "https://stackoverflow.com/users/7537655/shangchih-huang"}, "edited": false, "score": 1, "creation_date": 1497445875, "post_id": 44545614, "comment_id": 76082113, "body": "Thanks, I misunderstood <code>%g</code> before."}], "tags": [], "owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": false, "score": 3, "last_activity_date": 1497445722, "last_edit_date": 1497445722, "creation_date": 1497445335, "answer_id": 44545614, "question_id": 44545449, "link": "https://stackoverflow.com/questions/44545449/strange-outputs-of-g-in-printf/44545614#44545614", "title": "Strange outputs of %g in printf", "body": "<p>From <a href=\"http://en.cppreference.com/w/c/io/fprintf\" rel=\"nofollow noreferrer\">this <code>printf</code> (and family) reference</a>:</p>\n\n<blockquote>\n  <p>Let P equal the precision if nonzero, 6 if the precision is not specified, or 1 if the precision is \u200b0\u200b. Then, if a conversion with style E would have an exponent of X:</p>\n  \n  <ul>\n  <li>if P > X \u2265 \u22124, the conversion is with style f or F and precision P \u2212 1 \u2212 X.</li>\n  <li>otherwise, the conversion is with style e or E and precision P \u2212 1. </li>\n  </ul>\n</blockquote>\n\n<p>Since you use the default precision then <code>P</code> is equal to <code>6</code>. The exponent <code>X</code> is <code>1</code>. That means <code>P &gt; X \u2265 \u22124</code> is true (<code>6 &gt; 1 \u2265 \u22124</code>) and the output is printed with the <code>f</code> (or <code>F</code>) specifier and the precision <code>6 - 1 - 1</code> (which is equal to <code>4</code> and is the precision you see).</p>\n\n<p>In short, the output is actually what it should be.</p>\n"}], "owner": {"reputation": 299, "user_id": 7537655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3dlO3.jpg?s=128&g=1", "display_name": "Shangchih Huang", "link": "https://stackoverflow.com/users/7537655/shangchih-huang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497445722, "creation_date": 1497444960, "question_id": 44545449, "link": "https://stackoverflow.com/questions/44545449/strange-outputs-of-g-in-printf", "title": "Strange outputs of %g in printf", "body": "<p>As I know, the conversion rules of <code>%g</code> in <code>printf</code> are that using <code>%e</code> or <code>%E</code> if the exponent is less than <code>-4</code> or greater than or equal to the precision; otherwise use <code>%f</code>. Trailing zeros and a trailing decimal point are not printed. </p>\n\n<p>However, the outputs of below is very strange:</p>\n\n<pre><code>printf(\"%g %G\\n\", 10.123456789, 10.12345); // output: 10.1235 10.1235\n</code></pre>\n\n<p>Because the precision of <code>%g</code> is 6, I guess it would outputs <code>1.012346e+01</code>, but it doesn't. Who can help me understand this?</p>\n"}, {"tags": ["c", "pointers", "struct"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 3, "creation_date": 1497444306, "post_id": 44545146, "comment_id": 76080868, "body": "You thought wrong. Your question shows major missconceptions about pointers and <code>malloc</code> &amp; friends. I&#39;d strongly recommend to learn C from a good book. No online tutorial and definitively no obscure youtube videos."}, {"owner": {"reputation": 268334, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1497444336, "post_id": 44545146, "comment_id": 76080891, "body": "What gave you reason to believe otherwise?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 2, "creation_date": 1497444347, "post_id": 44545146, "comment_id": 76080901, "body": "&quot;<i>a pointer the size needed</i>&quot; -- that&#39;s nonsense, a data pointer is a data pointer. <code>malloc()</code> returns a pointer to some usable memory of the size you specify."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1497444517, "post_id": 44545146, "comment_id": 76081028, "body": "It is unclear what you expected your declaration to do."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1497444533, "post_id": 44545146, "comment_id": 76081048, "body": "@GAURANGVYAS why on earth would they want to do that? that&#39;d allocate enough memory to store a pointer, not one of their structs"}, {"owner": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "edited": false, "score": 0, "creation_date": 1497444996, "post_id": 44545146, "comment_id": 76081402, "body": "<code>struct new_element *element = malloc(sizeof(element))</code> allocates memory for a pointer to a struct, and also allocates memory for a struct. <code>struct new_element *element = malloc(sizeof(*element))</code> allocates memory for a pointer, and also allocates memory to a pointer (which will be pointed to by element). Am I right?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 0, "creation_date": 1497444998, "post_id": 44545146, "comment_id": 76081404, "body": "@DavidHoelzer: Huh? The code in the question is correct and less error prone."}, {"owner": {"reputation": 681, "user_id": 5994074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dzK2Q.jpg?s=128&g=1", "display_name": "GAURANG VYAS", "link": "https://stackoverflow.com/users/5994074/gaurang-vyas"}, "edited": false, "score": 2, "creation_date": 1497445172, "post_id": 44545146, "comment_id": 76081543, "body": "@nounoursnoir  <code>sizeof(element)</code> gives the space needed by a pointer variable (which is independent of the struct you use) while <code>sizeof(*element)</code> this gives the size required by your structure"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497445416, "post_id": 44545146, "comment_id": 76081733, "body": "Code is <code>element-&gt;i = 5;</code> and post includes &quot;element.i was given the value 5&quot; --&gt; <code>element.i</code> was not given a value, <code>element-&gt;i</code> was given a value.  <code>element</code> is a pointer."}, {"owner": {"reputation": 681, "user_id": 5994074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dzK2Q.jpg?s=128&g=1", "display_name": "GAURANG VYAS", "link": "https://stackoverflow.com/users/5994074/gaurang-vyas"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497445472, "post_id": 44545146, "comment_id": 76081774, "body": "@chux what did your previous comment mean, which is now deleted."}, {"owner": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497445595, "post_id": 44545146, "comment_id": 76081879, "body": "@chux true, I modified that ty"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497445773, "post_id": 44545146, "comment_id": 76082031, "body": "@nounoursnoir &quot;element-&gt;i was given the value ... . Doesn&#39;t that mean that element is a structure&quot;.  --&gt; If <code>element</code> was a structure, the <code>-&gt;</code> would be the wrong syntax.   As <code>element</code> is a pointer, <code>element-&gt;i</code> is correct."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 681, "user_id": 5994074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dzK2Q.jpg?s=128&g=1", "display_name": "GAURANG VYAS", "link": "https://stackoverflow.com/users/5994074/gaurang-vyas"}, "edited": false, "score": 0, "creation_date": 1497445890, "post_id": 44545146, "comment_id": 76082126, "body": "@GAURANG VYAS  I earlier surmised your comments implied something that I did not see on review, so deleted my comment.."}, {"owner": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "edited": false, "score": 0, "creation_date": 1497445932, "post_id": 44545146, "comment_id": 76082158, "body": "what I meant is that if <code>element-&gt;i</code> was given a value, it means that <code>element-&gt;i</code> exists, it is something, which would mean that element points to a structure, which has some memory allocated"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497446415, "post_id": 44545146, "comment_id": 76082557, "body": "@nounoursnoir Your question is good as it is asking about  <code>element</code> which is  a <code>struct new_element</code> pointer to sufficient  allocated memory and by implication, the difference between that and a <code>struct new_element xx</code>, where <code>xx</code> is a object of type <code>struct new_element</code>."}, {"owner": {"reputation": 17608, "user_id": 3650362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqdi1.jpg?s=128&g=1", "display_name": "trentcl", "link": "https://stackoverflow.com/users/3650362/trentcl"}, "edited": false, "score": 0, "creation_date": 1497447215, "post_id": 44545146, "comment_id": 76083207, "body": "<i>&quot;if <code>element-&gt;i</code> was given a value, it means that <code>element-&gt;i</code> exists&quot;:</i> this is not true; at least, not in the sense that you believe. If you had forgotten to initialize the pointer, it&#39;s still possible that you could have written to <code>element-&gt;i</code> and not realized your mistake until the program crashed, or worse. Therefore, although you were wrong, the behavior of the program you wrote doesn&#39;t prove the fact"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1497448846, "post_id": 44545146, "comment_id": 76084579, "body": "&quot;Am I right?&quot; Absolutely not. Exactly the opposite is true. Given <code>struct new_element *element</code>, <code>malloc(sizeof(element))</code> allocates memory which is enough for one pointer, because <code>element</code> is a pointer. Whereas <code>malloc(sizeof(*element))</code> allocates memory which is enough for a <code>struct new_element</code>, because <code>*element</code> is a <code>struct new_element</code>."}, {"owner": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "edited": false, "score": 0, "creation_date": 1497451694, "post_id": 44545146, "comment_id": 76086728, "body": "ok so i guess the correct thing to do to allocate memory for a structure that <code>element</code> would point to is <code>struct new_element *element = malloc(sizeof(struct new_element))</code>, since <code>element</code> is a pointer to <code>struct new_element</code>, and <code>struct new_element</code> is a structure of type <code>new_element</code>"}, {"owner": {"reputation": 9530, "user_id": 5264491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/233d38e551f3f0f85437e4ae47353d25?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Abbott", "link": "https://stackoverflow.com/users/5264491/ian-abbott"}, "edited": false, "score": 2, "creation_date": 1497451836, "post_id": 44545146, "comment_id": 76086814, "body": "@nounoursnoir It&#39;s a matter of style, but <code>sizeof(struct new_element)</code> and <code>sizeof(*element)</code> will have the same value, and many people prefer the latter form, because it&#39;s more explicitly &quot;the size of the thing pointed to by <code>element</code>&quot;."}, {"owner": {"reputation": 9530, "user_id": 5264491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/233d38e551f3f0f85437e4ae47353d25?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Abbott", "link": "https://stackoverflow.com/users/5264491/ian-abbott"}, "edited": false, "score": 1, "creation_date": 1497451965, "post_id": 44545146, "comment_id": 76086929, "body": "@nounoursnoir Remember, <code>*</code> has more than one meaning. It has three meanings, in fact. It can be part of a type, it can be a pointer dereferencing operator, and it can be a multiplication operator, depending on context. (I&#39;m not counting its other uses in comments, character constants, and string literals here.)"}, {"owner": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "reply_to_user": {"reputation": 9530, "user_id": 5264491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/233d38e551f3f0f85437e4ae47353d25?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Abbott", "link": "https://stackoverflow.com/users/5264491/ian-abbott"}, "edited": false, "score": 0, "creation_date": 1497452060, "post_id": 44545146, "comment_id": 76086991, "body": "@IanAbbott that&#39;s a good thing to remember ty"}], "answers": [{"comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 4, "creation_date": 1497444611, "post_id": 44545285, "comment_id": 76081097, "body": "A declaration does <b>not</b> reserve space. And the C language has no concept of a stack."}, {"owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497444652, "post_id": 44545285, "comment_id": 76081144, "body": "@Olaf Yes, that should be &quot;define&quot;.  Fixed."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 2, "creation_date": 1497444727, "post_id": 44545285, "comment_id": 76081203, "body": "I removed the DV, but still not happy about adding the implementation detail. We really should not mix language and implementation."}, {"owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497445980, "post_id": 44545285, "comment_id": 76082192, "body": "@Olaf Fair enough.  Stack / heap isn&#39;t relevant to this particular question anyway."}, {"owner": {"reputation": 25137, "user_id": 4498831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/jDBV2.png?s=128&g=1", "display_name": "Boiethios", "link": "https://stackoverflow.com/users/4498831/boiethios"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497450747, "post_id": 44545285, "comment_id": 76086022, "body": "@Olaf Do you know a C implementation without stack? Maybe it was relevant to speak about stack for an educational purpose."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 25137, "user_id": 4498831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/jDBV2.png?s=128&g=1", "display_name": "Boiethios", "link": "https://stackoverflow.com/users/4498831/boiethios"}, "edited": false, "score": 0, "creation_date": 1497453528, "post_id": 44545285, "comment_id": 76088083, "body": "@Boiethios <a href=\"https://en.wikipedia.org/wiki/PIC_microcontroller\" rel=\"nofollow noreferrer\">PIC</a> processors I&#39;ve used in 2017 use the stack only for the return address and not for parameter passing, so no stack for variables."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 25137, "user_id": 4498831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/jDBV2.png?s=128&g=1", "display_name": "Boiethios", "link": "https://stackoverflow.com/users/4498831/boiethios"}, "edited": false, "score": 0, "creation_date": 1497453592, "post_id": 44545285, "comment_id": 76088144, "body": "@Boiethios: As it happens, I do. The Cosmic toolchain for HC08 supported a mode which used static allocation of function parameters if there was no recursion (which is normally not used on that platform). For other CPUs there are similar implementations. Or all compilers for modern platforms which e.g. use registers. Said that: it does not matter and is irrelevant to answer the question. Mixing implementation and language is always a bad idea for beginner&#39;s questions.. Maybe you should accept there is more than x86 and ARM."}], "tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": true, "score": 10, "last_activity_date": 1497447057, "last_edit_date": 1497447057, "creation_date": 1497444508, "answer_id": 44545285, "question_id": 44545146, "link": "https://stackoverflow.com/questions/44545146/declaring-a-pointer-to-struct-creates-a-struct/44545285#44545285", "title": "Declaring a pointer to struct creates a struct?", "body": "<p>The variable <code>element</code> is a pointer.  When you define it, that sets aside space for the pointer.</p>\n\n<p>If you just did this:</p>\n\n<pre><code>struct new_element *element;\n</code></pre>\n\n<p>You've created a pointer.  It just doesn't point anywhere.</p>\n\n<p>When you then call <code>malloc(sizeof(*element))</code>, that sets aside space big enough for what <code>element</code> points to, i.e. an instance of <code>struct new_element</code>.  You then point the variable <code>element</code> to this section of memory.</p>\n\n<p>This syntax:</p>\n\n<pre><code>element-&gt;i = 5;\n</code></pre>\n\n<p>Is the same as:</p>\n\n<pre><code>(*element).i = 5;\n</code></pre>\n\n<p>It dereferences the pointer <code>element</code>, giving you a <code>struct new_element</code>, then you access the member <code>i</code>.</p>\n\n<p>If you did this, as you suggested in the comments:</p>\n\n<pre><code>struct new_element *element = malloc(sizeof(element));\n</code></pre>\n\n<p>You're not allocating the proper amount of space.  You're setting aside enough space for a <code>struct new_element *</code> instead of a <code>struct new_element</code>.  If the struct is larger than a pointer to it (likely in this case, since it contains a pointer to its own type), then you end of writing past the end of the allocated memory when modifying one of the members.  This invokes <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow noreferrer\">undefined behavior</a>.</p>\n"}], "owner": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 1, "accepted_answer_id": 44545285, "answer_count": 1, "score": 3, "last_activity_date": 1497453720, "creation_date": 1497444169, "last_edit_date": 1497453720, "question_id": 44545146, "link": "https://stackoverflow.com/questions/44545146/declaring-a-pointer-to-struct-creates-a-struct", "title": "Declaring a pointer to struct creates a struct?", "body": "<p>It seems to me like <code>struct new_element *element = malloc(sizeof(*element))</code> creates a structure of type element, whereas I thought it would only create a pointer to it. The following code proves to me I'm wrong:</p>\n\n<pre><code>struct new_element\n{\n    int i;\n    struct new_element *next;\n};\n\nint main(void)\n{\n    struct new_element *element = malloc(sizeof(*element));\n    element-&gt;i = 5;\n    element-&gt;next = NULL;\n    printf(\"i = %d, next = %p\\n\", element-&gt;i, element-&gt;next);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>i = 5, next = (nil);\n</code></pre>\n\n<p><code>element-&gt;i</code> was given the value 5 and <code>element-&gt;next</code> was given the value <code>NULL</code>. Doesn't that mean that <code>element</code> points to a structure, which would mean that there <em>is</em> a structure that was created? I thought that <code>malloc</code> would only give a pointer the size needed in memory.</p>\n"}, {"tags": ["c", "gcc", "binary", "executable", "elf"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 1, "creation_date": 1497441310, "post_id": 44543971, "comment_id": 76078585, "body": "This approach is naive and will of course fail. Loading and executing a binary is far more complicated than just reading it into memory and calling the load address. This is probably an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. What <i>exactly</i> are you trying to achieve?"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497441554, "post_id": 44543971, "comment_id": 76078797, "body": "While the <code>main</code> function is the official entry-point into your program, there is a lot of code being executed <i>before</i> the <code>main</code> function is called. For example initialization of global variables is handled before the <code>main</code> function, but also other things like setting up the standard file streams <code>stdout</code>, <code>stdin</code> and <code>stderr</code>. Doing that should only happen once. Not to mention that an <a href=\"https://en.wikipedia.org/wiki/Executable_and_Linkable_Format\" rel=\"nofollow noreferrer\">ELF file</a> doesn&#39;t start with <i>code</i> that can be called."}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1497441621, "post_id": 44543971, "comment_id": 76078847, "body": "As for your question, <i>why</i> do you want to do this? What problem is it supposed to solve?"}, {"owner": {"reputation": 539, "user_id": 2805824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tBgwo.gif?s=128&g=1", "display_name": "Gaurav Pathak", "link": "https://stackoverflow.com/users/2805824/gaurav-pathak"}, "edited": false, "score": 0, "creation_date": 1497442089, "post_id": 44543971, "comment_id": 76079245, "body": "@Marvin Have a look at <a href=\"https://stackoverflow.com/questions/2019923/executing-machine-code-in-memory\">this</a>."}, {"owner": {"reputation": 123, "user_id": 7981046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d8fff2e2911cbde9f1a37c9d1a68d4?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/7981046/marvin"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497444526, "post_id": 44543971, "comment_id": 76081038, "body": "Thanks for the input, MichaelWalz, Someprogrammerdude and GauravPathak! @Someprogrammerdude We want to be able to copy any (of our own) programs into a shared-memory region and then execute it from there. The approach above was just the first thing that came to our minds, we know its naive ;) Does anyone have any ideas how to do this with another approach?"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1497444877, "post_id": 44543971, "comment_id": 76081322, "body": "But why do you need to use shared memory? Why can&#39;t you use the method described in <a href=\"https://stackoverflow.com/a/44544383/440558\">the answer by PSkocik</a>? If you&#39;re worried about loading multiple copies of the program into memory, then don&#39;t worry. The operating system should only load a shared object (ELF file) once, and simply map it into the different processes that uses the same shared object."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 7981046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d8fff2e2911cbde9f1a37c9d1a68d4?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/7981046/marvin"}, "edited": false, "score": 0, "creation_date": 1497444675, "post_id": 44544383, "comment_id": 76081160, "body": "Thanks, @PSkocik! This kinda works! But we need to use a shared-memory region. So the <code>client_hndl pointer</code>just points to the program? Can we copy this into a shared memory region that was created by us?a"}], "tags": [], "owner": {"reputation": 51929, "user_id": 1084774, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/13403db744d8aa130bb317576cc1df30?s=128&d=identicon&r=PG", "display_name": "PSkocik", "link": "https://stackoverflow.com/users/1084774/pskocik"}, "is_accepted": false, "score": 3, "last_activity_date": 1497442467, "last_edit_date": 1497442467, "creation_date": 1497442138, "answer_id": 44544383, "question_id": 44543971, "link": "https://stackoverflow.com/questions/44543971/executing-binary-elf-file-directly-from-shared-memory-in-c/44544383#44544383", "title": "Executing binary/elf-file directly from (shared)-memory in C", "body": "<p>Build the client as a <a href=\"https://en.wikipedia.org/wiki/Position-independent_code\" rel=\"nofollow noreferrer\">PIE</a>, with <code>-rdynamic</code>. Then you'll be able to <code>dlopen()</code> it and <code>dlsym()</code> its <code>main</code> symbol (<code>dlopen()</code> will do the <code>mmap</code>ing and <code>mprotect</code>ing for you, as you'll be able to see if you <code>strace</code> the program), after which you'll be able to run its <code>main</code> from within the address space of the host.</p>\n\n<p>Example:</p>\n\n<pre><code>#!/bin/sh\ncat &gt; client.c &lt;&lt;EOF\n#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\nint main()\n{\n    printf(\"Hello, World!: from %ld\\n\", (long)getpid());\n    return 0;\n}\nEOF\n\ngcc -fpic -c client.c\ngcc -pie -rdynamic -o client client.o\n\ncat &gt; host.c &lt;&lt;EOF\n#include &lt;dlfcn.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\nint main()\n{\n    printf(\"Hello, I'm your host: %ld\\n\", (long)getpid());  ;\n\n    void *client_hndl;\n    typedef int main_t(int, char**);\n    main_t *client_main;\n    client_hndl = dlopen(\"./client\",  RTLD_LAZY);\n    if (!client_hndl){\n        fprintf(stderr, \"%s\\n\", dlerror());\n        exit(1);\n    }\n    client_main = (main_t*)dlsym(client_hndl, \"main\");\n    if (!client_main){\n        fprintf(stderr, \"%s\\n\", dlerror());\n        exit(2);\n    }\n    return client_main(1, (char*[]){\"client\", 0});\n}\nEOF\ngcc host.c -ldl\n./client\necho =============\n./a.out\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>Hello, World!: from 14520\n=============\nHello, I'm your host: 14521\nHello, World!: from 14521\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 162629, "user_id": 50617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFykQ.png?s=128&g=1", "display_name": "Employed Russian", "link": "https://stackoverflow.com/users/50617/employed-russian"}, "is_accepted": false, "score": 0, "last_activity_date": 1497485499, "creation_date": 1497485499, "answer_id": 44556568, "question_id": 44543971, "link": "https://stackoverflow.com/questions/44543971/executing-binary-elf-file-directly-from-shared-memory-in-c/44556568#44556568", "title": "Executing binary/elf-file directly from (shared)-memory in C", "body": "<p>You are looking for a solution to this GLIBC <a href=\"https://sourceware.org/bugzilla/show_bug.cgi?id=11767\" rel=\"nofollow noreferrer\">feature request</a>.</p>\n\n<p>This feature request is 7 years old, and it's somewhat unlikely that anything will happen with it any time soon.</p>\n\n<p>Your best bet is probably to do roughly what you are already doing (building a fully-static binary).</p>\n\n<p>Your approach doesn't work because the executable you built <em>requires</em> to be loaded at the address it was linked at (visible in <code>readelf -l binfile</code> as the address of the first <code>PT_LOAD</code> segment. You would need to <code>mmap</code> your <code>binfile</code> there with <code>MAP_FIXED</code>, no other address will do.</p>\n\n<p>You also need to read and decode the <code>Elf{32,64}_Ehdr</code> that is found at the beginning of the file to find <em>entry point</em> to jump to. You currently are jumping to the ELF header itself, but that header is not where the execution should start.</p>\n"}], "owner": {"reputation": 123, "user_id": 7981046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d8fff2e2911cbde9f1a37c9d1a68d4?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/7981046/marvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1456, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1497485499, "creation_date": 1497441006, "question_id": 44543971, "link": "https://stackoverflow.com/questions/44543971/executing-binary-elf-file-directly-from-shared-memory-in-c", "title": "Executing binary/elf-file directly from (shared)-memory in C", "body": "<p>we are trying to copy a binary/elf file into a shared-memory region of our system and then execute it thereafter. We don't want to call our \"client\"-program directly, since we need to execute it from the memory itself for our purpose. </p>\n\n<p>While we know that our approach (<em>described below</em>) won't really work, we are (<em>obviously</em>) trying to get it to work. How would it be possible to copy a binary/elf/etc. file directly into the (shared)-memory and execute it thereafter? Maybe we just compiled it in the wrong way? Or something else was done wrong?</p>\n\n<p>We also don't want to convert it into hex/shell-code, we already did that. We are looking for an easier and more practical solution.</p>\n\n<p>Is anyone able to help? Would be much appreciated!</p>\n\n<p><strong>Two programs:</strong></p>\n\n<ol>\n<li>\"Host\"-Program (<em>copy &amp; execute client-program in shared memory</em>)</li>\n<li>\"Client\"-Program (<em>basically a hello-world echo</em>)</li>\n</ol>\n\n<p><strong>\"Client\"-Program:</strong></p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    printf(\"Hello, World!\\n\");\n    return 0;\n}\n</code></pre>\n\n<p>Compiled with <code>gcc -o binfile clientprogram.c -static</code>.</p>\n\n<p><strong>\"Host\"-Program:</strong></p>\n\n<pre><code>#include &lt;string.h&gt;\n#include &lt;sys/mman.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main(int argc, char **argv)\n{\n  FILE *fp; //filepointer\n  size_t size; //filesize\n  unsigned char *buffer; //buffer\n\n  fp = fopen(\"binfile\",\"rb\"); \n  fseek(fp, 0, SEEK_END); \n  size = ftell(fp);\n  fseek(fp, 0, SEEK_SET); \n  buffer = (unsigned char *) malloc(size);\n  if (fp == NULL){ //file empty?\n      printf(\"Error: There was an Error reading the file %s \\n\", \"binfile\");           \n      exit(1);\n  }\n  else if (fread(buffer, sizeof *buffer, size, fp) != size){ \n      printf(\"Error: There was an Error reading the file %s\\n\", \"binfile\");\n      exit(1);\n  }else{\n    int i;\n    // for(i=0; i&lt;size;i++){       \n    //    printf(\"%02x\", buffer[i]);\n    // }\n  }\n\n\n  void *mem = mmap(0, size, PROT_READ|PROT_WRITE, MAP_SHARED|MAP_ANONYMOUS, -1, 0);\n  memcpy(mem, buffer, size);\n  mprotect(mem, size, PROT_READ|PROT_WRITE|PROT_EXEC);\n\n  void (*func)();\n  func = (void (*)()) buffer;\n  func();  \n\n  munmap(mem, size);\n\n  fclose(fp);\n  free(buffer);\n  return 0;\n}\n</code></pre>\n\n<p>Compiled with <code>gcc hostprogram.c</code>.</p>\n"}, {"tags": ["c", "makefile"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3493202"}, "edited": false, "score": 0, "creation_date": 1497446291, "post_id": 44544151, "comment_id": 76082439, "body": "Thank you, this helps a bit. I have discovered something strange though: simply removing the flash: rule in Makefile_cerberos.include allows the full make process to run and compile a working binary image. This image is not used by AVRDUDE, presumably because there is no command. It is odd though. Any clue what is going on?"}, {"owner": {"reputation": 49834, "user_id": 25507, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DqZPI.png?s=128&g=1", "display_name": "Josh Kelley", "link": "https://stackoverflow.com/users/25507/josh-kelley"}, "edited": false, "score": 0, "creation_date": 1497447916, "post_id": 44544151, "comment_id": 76083781, "body": "@Sven - If you simply run <code>make</code>, then Make should to run the first target it finds, which I assume is <code>flash</code>. Deleting that should make it find whatever the next target is (and it&#39;s not clear what that is from the files you posted)."}], "tags": [], "owner": {"reputation": 49834, "user_id": 25507, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DqZPI.png?s=128&g=1", "display_name": "Josh Kelley", "link": "https://stackoverflow.com/users/25507/josh-kelley"}, "is_accepted": true, "score": 1, "last_activity_date": 1497441540, "creation_date": 1497441540, "answer_id": 44544151, "question_id": 44543824, "link": "https://stackoverflow.com/questions/44543824/chain-of-makefiles-are-a-mess-no-rule-to-make-target/44544151#44544151", "title": "Chain of Makefiles are a mess: no rule to make target", "body": "<p>From looking at your makefile:</p>\n\n<pre><code>%.hex: %.$(TARGET)\n    $(OBJCOPY) $^ -j .text -j .data -j .bootloader -O ihex $@\n\n%.u: %.hex\n    $(AVRDUDE) $(AVRDUDE_MCU) $(AVRDUDE_OPTIONS) $(AVRDUDE_PORT) $(AVRDUDE_PROGRAMMER) -U flash:w:$&lt;\n\nflash:\n    make blank.u\n</code></pre>\n\n<p>So <code>flash</code> depends on <code>blank.u</code>, and <code>blank.u</code> <em>could</em> depend on the static pattern rule <code>%.u: %.hex</code>, which could depend on the static pattern rule <code>%.hex: %.$(TARGET)</code> - but if <code>blank.$(TARGET)</code> doesn't exist, then Make (correctly) decides that it has no rule to make <code>blank.u</code>, and it fails with the error that you mention.</p>\n\n<p>I notice that your top-level Makefile sets <code>TARGET</code> if it isn't defined:</p>\n\n<pre><code>  ifeq ($(TARGET),)\n    ${info TARGET not defined, using target 'native'}\n    TARGET=native\n</code></pre>\n\n<p>However, I don't see anywhere that you're exporting <code>TARGET</code> to the sub-make processes. The easiest way to do this is by adding <code>export TARGET</code> to your top-level makefile, after setting TARGET. The <a href=\"https://www.gnu.org/software/make/manual/make.html#Variables_002fRecursion\" rel=\"nofollow noreferrer\">GNU Make Manual</a> has more details.</p>\n\n<p>As an aside, whenever you're invoking make from within a makefile, you should do it as</p>\n\n<pre><code>$(MAKE) blank.u\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>make blank.u\n</code></pre>\n\n<p>This ensures that Make is correctly invoked even if you're using a non-standard binary name and adds a bit of extra handling for different command-line arguments. Again, the <a href=\"https://www.gnu.org/software/make/manual/make.html#MAKE-Variable\" rel=\"nofollow noreferrer\">GNU Make Manual</a> has details.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3493202"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 1, "accepted_answer_id": 44544151, "answer_count": 1, "score": 2, "last_activity_date": 1497441540, "creation_date": 1497440575, "question_id": 44543824, "link": "https://stackoverflow.com/questions/44543824/chain-of-makefiles-are-a-mess-no-rule-to-make-target", "title": "Chain of Makefiles are a mess: no rule to make target", "body": "<p>In a conversion project, I have modified and remodified an existing makefile chain but managed to break it.\nThe makefiles need to follow a different chain for when I'm compiling for an AVR project without Contiki and one with (and some extensions on top).\nThe one without works, the one with does not anymore, since it also needs to take into account the makefiles of Contiki.\nI'll try to be complete but leave out unneccessary details.</p>\n\n<p>Using the terminal from /CerberOS/uJ/Build/, I execute the following command:</p>\n\n<pre><code>make cerberos CLASSES=Test_NodeToNode Location= OS=PERIPHERAL\n</code></pre>\n\n<p>and gives the following message at the end:</p>\n\n<pre><code>make[2]: *** No rule to make target 'blank.u'.  Stop.\nmake[2]: Leaving directory '/home/sven/git/uJVM_PhD_Project/CerberOS/uJ/build'\n../../UPNP/micropnp-contiki/build/Makefile_cerberos.include:159: recipe for target 'flash' failed\nmake[1]: *** [flash] Error 2\nmake[1]: Leaving directory '/home/sven/git/uJVM_PhD_Project/CerberOS/uJ/build'\nMakefile:41: recipe for target 'cerberos' failed\n</code></pre>\n\n<p>My directory structure is like this:</p>\n\n<pre><code>/CerberOS/\n-&gt; /uJ/\n---&gt; /build/\n-------&gt; Makefile\n-------&gt; Makefile.target\n-&gt; /UPNP/\n---&gt;/contiki/\n--------&gt; Makefile.include\n---&gt; /micropnp/\n--------&gt; Makefile_cerberos.local\n--------&gt;/build/\n--------------&gt;Makefile_cerberos.include\n--------&gt;/cpu/\n--------------&gt;/avr/\n--------------------&gt; Makefile.avr\n</code></pre>\n\n<p>Makefile.target contains just \"TARGET = avr-micropnp\nMakefile is as follows:</p>\n\n<pre><code>BUILDENV_JAVA = $(ROOT)/../uJ/buildenv_java/RT/\n\nSRV = $(ROOT)/../uJ/Services/\n\nCCVT    ?= $(ROOT)/../classCvt/classCvt\nTOBIN   ?= $(ROOT)/../classCvt/tobinOTA\nCMD = $(TOBIN) -c $(CCVT)\n\n\n# By default, uJ is assumed to be in the same parent folder as uPnP\nROOT = ../..\n\nifndef UJ\n  UJ = $(ROOT)/uJ\nendif\n\n# OS possibilities: UPNP (ID=0), PERIPHERAL (ID=1)\nifndef OS\n    OS = UPNP\nendif\n\nifeq ($(OS), UPNP)\nCFLAGS += -DOS_ID=0\nelse ifeq ($(OS), PERIPHERAL)\nCFLAGS += -DOS_ID=1\nelse\nendif\n\nifeq ($(TARGET),)\n  -include Makefile.target\n  ifeq ($(TARGET),)\n    ${info TARGET not defined, using target 'native'}\n    TARGET=native\n  else\n    ${info using saved target '$(TARGET)'}\n  endif\nendif\n\n\ncerberos: clean clean_uj __code.c\n    make flash\n\n$(info BUILDENV_JAVA is $(BUILDENV_JAVA))\n$(info OS is $(OS))\n\n\ninclude ../Makefile_uj.include\n\nifeq ($(OS), UPNP)\n\n$(info Building as uPNP Platform)\ninclude ../../UPNP/micropnp-contiki/build/Makefile_cerberos.include\n\nelse ifeq ($(OS), PERIPHERAL)\n\n$(info Building as periperal)\ninclude ../Makefile_peripheral.include\n\nelse\n    $(info Including nothing)\nendif\n</code></pre>\n\n<p>Makefile_cerberos.include is:</p>\n\n<pre><code>    $(info XXXXXXXXXXXXXXXXXXXXXXXX Starting Makefile_cerberos.include XXXXXXXXXXXXXXXXXXXXXXXX)\n\nUPNP = $(ROOT)/UPNP/micropnp-contiki\nCONTIKI_PROJECT = blank\n\n# Duplicated from Contiki's Makefile. Necessary because we need the\n# $TARGET var set earlier, and Contiki's Makefile is only included\n# last minute.\nifeq ($(TARGET),)\n  -include Makefile.target\n  ifeq ($(TARGET),)\n    ${info TARGET not defined, using target 'native'}\n    TARGET=native\n  else\n    ${info using saved target '$(TARGET)'}\n  endif\nendif\n\n# Allow uPnP wide local settings to be defined in a seperate Makefile\ninclude $(UPNP)/Makefile_cerberos.local\n\n# This enables -ffunction-sections and -fdata-sections, and splits each\n# .text and .data section in the object-files in subsections for each function.\n# Next, the linker is instructed to garbage collect unused variables and\n# functions. The result of this is smaller files, but functions not called in\n# the core image will not be available for OTA deployed services.\nSMALL=1\n\n# Disable netstacks, except for IPv6 which is used for address parsing\nCONTIKI_WITH_IPV6=1\nCONTIKI_WITH_IPV4=0\nCONTIKI_WITH_RPL=0\n\n# Specify project-conf file (for Contiki settings specific to uPnP)\nCFLAGS += -DPROJECT_CONF_H=\\\"upnp-conf.h\\\" -fshort-enums\n\n######################################################################\n# Setting a few defaults, customizable in Makefile.local\n######################################################################\n\n# By default, Contiki is assumed to be in the same parent folder as uPnP\nifndef CONTIKI\n  CONTIKI = $(ROOT)/UPNP/contiki\nendif\n\n### UPNP UJ SVEN\nAPPDIRS += $(UPNP)/apps\nAPPS += er-coap rest-engine\n\n\n######################################################################\n# Including source files/directories\n######################################################################\n\n# uPnP Core sourcefiles/dirs\n#PROJECT_SOURCEFILES += upnp.c vector.c twi_master.c rd-client.c controller.c \\\n                       hal.c buzzer.c pir-sensor.c temp-sensor.c relay-switch.c\\\n                       lamp.c accelerometer.c loudness-sensor.c rfid.c light-sensor.c\\\n                       battery_varta.c thermocouple.c\n# Reduced set\nPROJECT_SOURCEFILES += upnp.c vector.c twi_master.c rd-client.c controller.c \\\n                       hal.c buzzer.c pir-sensor.c temp-sensor.c relay-switch.c\\\n                       loudness-sensor.c \n\nPROJECTDIRS += $(UPNP) \\\n                $(UPNP)/lib \\\n                $(UPNP)/drivers/\n\nMCU=atmega1284p\n\n### Compiler definitions\nCC       = avr-gcc\nLD       = avr-gcc\nAS       = avr-as\nAR       = avr-ar\nELF_SIZE = avr-size -C --mcu=$(MCU)\nOBJCOPY  = avr-objcopy\nSTRIP    = avr-strip\nAVRDUDE  = avrdude\n\nOPTI = s\n\nCFLAGS   += -Wall -mmcu=$(MCU) -gdwarf-2 -fno-strict-aliasing -O$(OPTI)\nASFLAGS  += -mmcu=$(MCU)\nLDFLAGS  += -mmcu=$(MCU) -Wl,-Map=contiki-$(TARGET).map \\\n           -Wl,--section-start=.bootloader=$(BOOTLOADER_START)\nMCU=atmega1284p\n\n# Bootsection start address (byte address!) for linker. Fuses are\n# set to the second smallest bootsection (1024 bytes) starting on 0xFC00\n# (word address) //TODO see if we can bring this down again!\nBOOTLOADER_START=0x1F800\n\n# Avrdude settings\nAVRDUDE_PROGRAMMER=atmelice_isp\nAVRDUDE_MCU=m1284p\nAVRDUDE_OPTIONS=-B 1\n\n### These flags help significantly reduce the code size\nifeq ($(SMALL),1)\nCFLAGS += -ffunction-sections\nCFLAGS += -fdata-sections\nLDFLAGS += -Wl,--gc-sections\nendif # SMALL\n\n### Upload image to MCU\n#Let avrdude use defaults if options not defined\nifdef AVRDUDE_PORT\n AVRDUDE_PORT:=-P $(AVRDUDE_PORT)\nendif\nifdef AVRDUDE_PROGRAMMER\n AVRDUDE_PROGRAMMER:=-c $(AVRDUDE_PROGRAMMER)\nendif\nifdef AVRDUDE_MCU\n AVRDUDE_MCU:=-p $(AVRDUDE_MCU)\nendif\n\nSOURCES=$(wildcard *.c $(PROJECT_SOURCEFILES)/*.c)\nSOURCES=$(wildcard *_avr.S $(PROJECT_SOURCEFILES)/*_avr.S)\n\nOBJECTS=$(PROJECT_SOURCEFILES:.c=.o)\nOBJECTS=$(PROJECT_SOURCEFILES:_avr.S=.o)\n\nHEADERS=$(PROJECT_SOURCEFILES:.c=.h)\nHEADERS=$(PROJECT_SOURCEFILES:_avr.S=.h)\n\n### Compilation rules\n#Use all standard contiki compile rules, except add .elf rule that prints size\n%.elf: %.$(TARGET)\n    cp $&lt; $@\n    $(ELF_SIZE) $@\n\n#Prepare images from ELF\n%.fuses.bin: %.$(TARGET)\n    $(OBJCOPY) $&lt; -j .fuse -O binary --change-section-lma .fuse=0 $@\n\n%.eep: %.$(TARGET)\n    $(OBJCOPY) -j .eeprom --set-section-flags=.eeprom=\"alloc,load\" \\\n    --change-section-lma .eeprom=0 -O ihex $^ $@\n\n%.hex: %.$(TARGET)\n    $(OBJCOPY) $^ -j .text -j .data -j .bootloader -O ihex $@\n\n#Flash targets\n%.fu: %.fuses.bin\n    $(eval LFUSE = $(shell od -A none --format=x1 --read-bytes=1 $&lt;))\n    $(eval HFUSE = $(shell od -A none --format=x1 --read-bytes=1 -j1 $&lt;))\n    $(eval EFUSE = $(shell od -A none --format=x1 --read-bytes=1 -j2 $&lt;))\n    $(AVRDUDE) $(AVRDUDE_MCU) -B 4 $(AVRDUDE_PORT) $(AVRDUDE_PROGRAMMER) \\\n        -U lfuse:w:0x$(LFUSE):m -U hfuse:w:0x$(HFUSE):m -U efuse:w:0x$(EFUSE):m\n\n%.u: %.hex\n    $(AVRDUDE) $(AVRDUDE_MCU) $(AVRDUDE_OPTIONS) $(AVRDUDE_PORT) $(AVRDUDE_PROGRAMMER) -U flash:w:$&lt;\n\n%.eu: %.eep\n    $(AVRDUDE) $(AVRDUDE_MCU) ${AVRDUDE_OPTIONS} ${AVRDUDE_PORT} ${AVRDUDE_PROGRAMMER} -U eeprom:w:$&lt;\n\nflash:\n    make blank.u\n\n# Include uPnP specific platform files\ninclude $(UPNP)/platform/$(TARGET)/Makefile.early.$(TARGET)\n\n# Include Contiki\ninclude $(CONTIKI)/Makefile.include\n\n# Party overrides compilation rules of Contiki with uPnP specific rules for target platform\ninclude $(UPNP)/platform/$(TARGET)/Makefile.$(TARGET)\n</code></pre>\n\n<p>According to how I understand it, it makes no sense it does not find a rule to make target blank.u.\nThe other makefiles do stuff as well, but I have added them to pastebin.\nFor Makefile_cerberos.local see <a href=\"https://pastebin.com/nT4TmwPY\" rel=\"nofollow noreferrer\">https://pastebin.com/nT4TmwPY</a></p>\n\n<p>For Makefile.avr (included by the $(UPNP)/platform/ makefiles): <a href=\"https://pastebin.com/SKz2FmjP\" rel=\"nofollow noreferrer\">https://pastebin.com/SKz2FmjP</a></p>\n\n<p>And Makefile.include: <a href=\"https://pastebin.com/NACUiv4Q\" rel=\"nofollow noreferrer\">https://pastebin.com/NACUiv4Q</a></p>\n\n<p>I am at a loss.\nCan anybody help out?</p>\n"}, {"tags": ["c", "linker", "openssl", "shared-libraries"], "comments": [{"owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 0, "creation_date": 1497511389, "post_id": 44543736, "comment_id": 76111359, "body": "Ensure libcrypto.so file on the target has its expected suffix, which is &quot;.1.0.0&quot;: libcrypto.so.1.0.0, ensure all relevant ELF/SO files has exec bit enabled in the premissions for your user. Try run under strace to see which DSO it tries to load, try export LD_LIBRARY_PATH, try to play with path/filename/symlinks..."}, {"owner": {"reputation": 3831, "user_id": 1232720, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/023b771a70e79742f479f2ba19780304?s=128&d=identicon&r=PG", "display_name": "Jos&#233; D.", "link": "https://stackoverflow.com/users/1232720/jos%c3%a9-d"}, "reply_to_user": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 0, "creation_date": 1497519584, "post_id": 44543736, "comment_id": 76116859, "body": "The target has the correct suffix: &quot;/usr/lib/libcrypto.so.1.0.0&quot;, and both .so have the exec bit enabled... I will try to strace it, thanks for the suggestion. Exporting LD_LIBRARY_PATH has no effect."}, {"owner": {"reputation": 5562, "user_id": 1946679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed74e2cdc59d058b76a76c90dd3c3bdc?s=128&d=identicon&r=PG", "display_name": "Matt Caswell", "link": "https://stackoverflow.com/users/1946679/matt-caswell"}, "edited": false, "score": 0, "creation_date": 1497523098, "post_id": 44543736, "comment_id": 76119215, "body": "The engine really shouldn&#39;t be using <code>eckey_asn1_meth</code>. It is a private symbol that is not exported in any OpenSSL header file."}, {"owner": {"reputation": 3831, "user_id": 1232720, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/023b771a70e79742f479f2ba19780304?s=128&d=identicon&r=PG", "display_name": "Jos&#233; D.", "link": "https://stackoverflow.com/users/1232720/jos%c3%a9-d"}, "reply_to_user": {"reputation": 5562, "user_id": 1946679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed74e2cdc59d058b76a76c90dd3c3bdc?s=128&d=identicon&r=PG", "display_name": "Matt Caswell", "link": "https://stackoverflow.com/users/1946679/matt-caswell"}, "edited": false, "score": 0, "creation_date": 1497525614, "post_id": 44543736, "comment_id": 76120882, "body": "@MattCaswell Yes, I am aware of that. In fact I had to do some dirty workarounds to my toolchain in order to be able to compile it.... But still, the project as it is in github compiles (it downloads OpenSSL as a submodule, and compiles against it, using the internals) and I assume the Atmel people was able to somehow make it run and test it... So there should be a way."}], "owner": {"reputation": 3831, "user_id": 1232720, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/023b771a70e79742f479f2ba19780304?s=128&d=identicon&r=PG", "display_name": "Jos&#233; D.", "link": "https://stackoverflow.com/users/1232720/jos%c3%a9-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 704, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1497902235, "creation_date": 1497440354, "last_edit_date": 1497442626, "question_id": 44543736, "link": "https://stackoverflow.com/questions/44543736/compiling-openssl-engine-so-fails-to-load-undefined-symbol", "title": "Compiling OpenSSL engine (.so) fails to load undefined symbol", "body": "<p>I am compiling the following OpenSSL engine, from Atmel <a href=\"https://github.com/AtmelCSO/cryptoauth-openssl-engine/\" rel=\"nofollow noreferrer\">https://github.com/AtmelCSO/cryptoauth-openssl-engine/</a> for an ARM platform.</p>\n\n<p>The code, uses 'eckey_asn1_meth' from the OpenSSL codebase:</p>\n\n<pre><code>git grep \"eckey_asn1_meth\"\nengine_meth/eccx08_ameth.c:    extern const EVP_PKEY_ASN1_METHOD eckey_asn1_meth;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.pub_encode = eckey_asn1_meth.pub_encode;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.pub_decode = eckey_asn1_meth.pub_decode;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.pub_cmp = eckey_asn1_meth.pub_cmp;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.pub_print = eckey_asn1_meth.pub_print;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.priv_decode = eckey_asn1_meth.priv_decode;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.priv_encode = eckey_asn1_meth.priv_encode;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.priv_print = eckey_asn1_meth.priv_print;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.pkey_size = eckey_asn1_meth.pkey_size;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.pkey_bits = eckey_asn1_meth.pkey_bits;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.pkey_security_bits = eckey_asn1_meth.pkey_security_bits;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.param_decode = eckey_asn1_meth.param_decode;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.param_encode = eckey_asn1_meth.param_encode;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.param_missing = eckey_asn1_meth.param_missing;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.param_copy = eckey_asn1_meth.param_copy;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.param_cmp = eckey_asn1_meth.param_cmp;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.param_print = eckey_asn1_meth.param_print;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.sig_print = eckey_asn1_meth.sig_print;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.pkey_ctrl = eckey_asn1_meth.pkey_ctrl;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.old_priv_decode = eckey_asn1_meth.old_priv_decode;\nengine_meth/eccx08_ameth.c:    eccx08_pkey_asn1_meth.old_priv_encode = eckey_asn1_meth.old_priv_encode;\n</code></pre>\n\n<p>This is defined in the OpenSSL code:</p>\n\n<pre><code>crypto/ec/ec_ameth.c:const EVP_PKEY_ASN1_METHOD eckey_asn1_meth = {\n</code></pre>\n\n<p>Now, this is the line of the Makefile that compiles the .so (the OpenSSL engine), which I do not completely understand:</p>\n\n<pre><code>LINK_SO=        \\\n   $(LD) -r -o $(LIBNAME).o $$ALLSYMSFLAGS $(LIB) $(LIBAMETH) &amp;&amp; \\\n   ($(NM) -Pg $(LIBNAME).o | grep ' [BDT] ' | cut -f1 -d' ' &gt; $(LIBNAME).exp; \\\n    $$SHAREDCMD $$SHAREDFLAGS -o $(SHLIB) $(LIBNAME).o $(LDFLAGS) -L ../install_dir/lib -lcrypto -lssl -lc \\\n    -Lengine_meth -Lcryptoauthlib/lib -leccx08_meth -lcryptoauth -lm -lrt)\n</code></pre>\n\n<p>This generates the shared library:</p>\n\n<pre><code>file libateccx08.so\nlibateccx08.so: ELF 32-bit LSB shared object, ARM, EABI5 version 1 (SYSV), dynamically linked, BuildID[sha1]=84875c59aecd0c53aaaac8aad84d6899441098c4, not stripped\n</code></pre>\n\n<p>However when I try to load the engine on the target, it fails:</p>\n\n<pre><code>openssl engine -t dynamic -pre SO_PATH:/usr/lib/libateccx08.so -pre ID:atmel -pre LIST_ADD:1 -pre LOAD\n(dynamic) Dynamic engine loading support\n[Success]: SO_PATH:/usr/lib/libateccx08.so\n[Success]: ID:atmel\n[Success]: LIST_ADD:1\n[Failure]: LOAD\n1995961552:error:25066067:DSO support routines:DLFCN_LOAD:could not load the shared library:dso_dlfcn.c:187:filename(/usr/lib/libateccx08.so): /usr/lib/libateccx08.so: undefined symbol: eckey_asn1_meth\n1995961552:error:25070067:DSO support routines:DSO_load:could not load the shared library:dso_lib.c:233:\n1995961552:error:260B6084:engine routines:DYNAMIC_LOAD:dso not found:eng_dyn.c:467:\n     [ unavailable ]\n</code></pre>\n\n<p>The undefined symbol <strong>eckey_asn1_meth</strong> is not present in the .so for the OpenSSL engine. nm shows it is unknown (U):</p>\n\n<pre><code>nm libateccx08.so | grep eckey_asn1_meth\n         U eckey_asn1_meth\n</code></pre>\n\n<p>However, objdump shows that the .so for the OpenSSL engine needs libcrypto:</p>\n\n<pre><code>objdump -p libateccx08.so\n\nlibateccx08.so:     file format elf32-little\n\nProgram Header:\n    LOAD off    0x00000000 vaddr 0x00000000 paddr 0x00000000 align 2**16\n         filesz 0x00020e50 memsz 0x00020e50 flags r-x\n    LOAD off    0x00021000 vaddr 0x00031000 paddr 0x00031000 align 2**16\n         filesz 0x0000119a memsz 0x00001e64 flags rw-\n DYNAMIC off    0x00021144 vaddr 0x00031144 paddr 0x00031144 align 2**2\n         filesz 0x000000f0 memsz 0x000000f0 flags rw-\n    NOTE off    0x000000d4 vaddr 0x000000d4 paddr 0x000000d4 align 2**2\n         filesz 0x00000024 memsz 0x00000024 flags r--\n   STACK off    0x00000000 vaddr 0x00000000 paddr 0x00000000 align 2**4\n         filesz 0x00000000 memsz 0x00000000 flags rw-\n\nDynamic Section:\n  NEEDED               libcrypto.so.1.0.0\n  NEEDED               libc.so.6\n  SONAME               libateccx08.so\n  INIT                 0x00005c0c\n  FINI                 0x0001ed58\n  INIT_ARRAY           0x00031000\n  INIT_ARRAYSZ         0x00000004\n  FINI_ARRAY           0x00031004\n  FINI_ARRAYSZ         0x00000004\n  GNU_HASH             0x000000f8\n  STRTAB               0x00002d14\n  SYMTAB               0x000010c4\n  STRSZ                0x00001e3c\n  SYMENT               0x00000010\n  PLTGOT               0x00031234\n  PLTRELSZ             0x00000a18\n  PLTREL               0x00000011\n  JMPREL               0x000051f4\n  REL                  0x00004f1c\n  RELSZ                0x000002d8\n  RELENT               0x00000008\n  VERNEED              0x00004edc\n  VERNEEDNUM           0x00000002\n  VERSYM               0x00004b50\n  RELCOUNT             0x00000022\n\nVersion References:\n  required from libc.so.6:\n    0x0d696914 0x00 03 GLIBC_2.4\n  required from libcrypto.so.1.0.0:\n    0x06a2b2e4 0x00 02 OPENSSL_1.0.2d\n</code></pre>\n\n<p>And the libcrypto shared library does include the symbol eckey_asn1_meth:</p>\n\n<pre><code>nm libcrypto.so | grep eckey_asn1_meth\n001642ac d eckey_asn1_meth\n</code></pre>\n\n<p>Why is this failing at runtime, if the unknown symbol is available in the libcrypto.so? Is there a way I can generate the .so for the OpenSSL engine in such a way that the symbol is included, and eliminate the 'U' from the nm output?\nAny other way to make this work?</p>\n"}, {"tags": ["c", "struct", "qsort"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1497440447, "post_id": 44543671, "comment_id": 76077949, "body": "The variable <code>tab</code> is an <i>array</i>. It&#39;s <i>this</i> array you should sort, not the first elements <code>gold</code> member. The expression <code>tab-&gt;gold</code> is equal to <code>tab[0].gold</code>."}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497440973, "post_id": 44543671, "comment_id": 76078328, "body": "Your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is full of bugs, your question become too broad."}, {"owner": {"reputation": 21, "user_id": 8128219, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2Qg9pjARlNc/AAAAAAAAAAI/AAAAAAAAABg/8DnJWBHAOLo/photo.jpg?sz=128", "display_name": "Rogers S. Cristo", "link": "https://stackoverflow.com/users/8128219/rogers-s-cristo"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497441848, "post_id": 44543671, "comment_id": 76079051, "body": "Thank you @Stargateur, next time I&#39;ll follow the instructions from this link."}], "answers": [{"comments": [{"owner": {"reputation": 41796, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "edited": false, "score": 0, "creation_date": 1497440831, "post_id": 44543791, "comment_id": 76078213, "body": "There are still other issues as well"}, {"owner": {"reputation": 5543, "user_id": 6372809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O11k5.jpg?s=128&g=1", "display_name": "ilkkachu", "link": "https://stackoverflow.com/users/6372809/ilkkachu"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497441173, "post_id": 44543791, "comment_id": 76078481, "body": "@Stargateur, well, they sort of work, as long as the sort doesn&#39;t. But you&#39;re right, I only looked at the sorting step first, that seemed to be the issue based on the example output."}, {"owner": {"reputation": 21, "user_id": 8128219, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2Qg9pjARlNc/AAAAAAAAAAI/AAAAAAAAABg/8DnJWBHAOLo/photo.jpg?sz=128", "display_name": "Rogers S. Cristo", "link": "https://stackoverflow.com/users/8128219/rogers-s-cristo"}, "edited": false, "score": 0, "creation_date": 1497441609, "post_id": 44543791, "comment_id": 76078840, "body": "Thank you @ilkkachu, it worked fine after your suggested modifications. Also, I did not know I can&#39;t pass ptr-&gt;amnt this way. Thank you very much!"}], "tags": [], "owner": {"reputation": 5543, "user_id": 6372809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O11k5.jpg?s=128&g=1", "display_name": "ilkkachu", "link": "https://stackoverflow.com/users/6372809/ilkkachu"}, "is_accepted": true, "score": 3, "last_activity_date": 1497442143, "last_edit_date": 1497442143, "creation_date": 1497440506, "answer_id": 44543791, "question_id": 44543671, "link": "https://stackoverflow.com/questions/44543671/how-to-sort-a-struct-with-strings-using-its-integers-in-c/44543791#44543791", "title": "How to sort a struct with strings using its integers in C?", "body": "<pre><code>qsort(&amp;tab-&gt;gold, tab-&gt;amnt, sizeof(Table), compare);\n</code></pre>\n\n<p>The first two arguments should be a pointer to your array (<code>Table tab[N];</code>) and the number of elements in the array (<code>N</code>), i.e.:</p>\n\n<pre><code>qsort(tab, N, sizeof(Table), compare);\n</code></pre>\n\n<p>You did have the correct number of elements in <code>tab-&gt;amnt</code>, but the start pointer <code>&amp;tab-&gt;gold</code> doesn't point to the beginning of the table, but in the middle of the first element, so <code>qsort</code> can't work correctly.</p>\n\n<hr>\n\n<p>Also, you have functions with loops like this:</p>\n\n<pre><code>void printTable(Table *ptr) {\n    for (int i = 0; i &lt; ptr-&gt;amnt; ++i) {\n</code></pre>\n\n<p>Which means that you're carrying the size of the array in its first member. That seems odd, and means the array member 'amnt' is redundant in all but the first member of the array.</p>\n\n<p>But if the array gets sorted, the first array member is no longer the first, and <code>ptr-&gt;amnt</code> doesn't contain the correct size any longer.</p>\n\n<p>Better change <code>printTable</code> to </p>\n\n<pre><code>void printTable(Table *ptr, unsigned size) {\n    for (int i = 0; i &lt; size; ++i) {\n</code></pre>\n\n<p>and call it with </p>\n\n<pre><code>printTable(tab, N);\n</code></pre>\n\n<p>Same for <code>readTable</code>.</p>\n\n<hr>\n\n<p>I'm also not sure what the purpose of this is:</p>\n\n<pre><code>tab-&gt;country = arrayAlloc(100);\n</code></pre>\n\n<p>You're preallocating space pointed to by the <code>country</code> pointer in the first array member, but in any case <code>readTable</code> allocates space for <code>country</code> with <code>strdup</code> to all array members.</p>\n\n<hr>\n\n<p>You might also want to consider checking the value or <code>N</code> entered by the user, or allocating the memory for <code>tab</code> via <code>malloc</code>. Now <code>tab</code> is allocated on the stack, which may cause the program to crash if the user enters some number large to cause a stack overrun.</p>\n\n<p>Also, since you don't check the return values of the <code>strtok_r</code> calls in <code>readTable</code>, the program will crash if the user gives malformed input.</p>\n"}, {"comments": [{"owner": {"reputation": 7825, "user_id": 3684343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bee557e309dc42d91a706c70c8c0c9f?s=128&d=identicon&r=PG&f=1", "display_name": "mch", "link": "https://stackoverflow.com/users/3684343/mch"}, "edited": false, "score": 0, "creation_date": 1497441544, "post_id": 44544084, "comment_id": 76078787, "body": "Why should <code>tab</code> be dynamically allocated?"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497441826, "post_id": 44544084, "comment_id": 76079037, "body": "Consider <code>qsort(tab, N, sizeof *tab, compare);</code>.  No need to look back to <code>tab</code> definition to see if <code>sizeof(Table)</code> is correct.  Also <code>Table* tab = malloc(sizeof *tab * N);</code>, just like code used the size of the object rather than the size of the type in <code>fgets(buffer, sizeof(buffer), stdin);</code>"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497442063, "post_id": 44544084, "comment_id": 76079229, "body": "BTW, <code>buffer[strlen(buffer) - 1] = &#39;\\0&#39;;</code> can be exploited by a user entering a <i>null character</i> as the first character read by <code>fgets()</code>.  Suggest <code>buffer[strcspn(buffer, &quot;\\n&quot;)] = &#39;\\0&#39;;</code>"}, {"owner": {"reputation": 6751, "user_id": 1417063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mwy5e.jpg?s=128&g=1", "display_name": "Davide Spataro", "link": "https://stackoverflow.com/users/1417063/davide-spataro"}, "edited": false, "score": 0, "creation_date": 1497447303, "post_id": 44544084, "comment_id": 76083293, "body": "I personally think that the code is much clearer when <code>sizeof</code> is used with an explicit type.  Regarding the dynamic allocation, I&#39;ve edited the answer. Thanks for the suggestions."}], "tags": [], "owner": {"reputation": 6751, "user_id": 1417063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mwy5e.jpg?s=128&g=1", "display_name": "Davide Spataro", "link": "https://stackoverflow.com/users/1417063/davide-spataro"}, "is_accepted": false, "score": 0, "last_activity_date": 1497447140, "last_edit_date": 1497447140, "creation_date": 1497441343, "answer_id": 44544084, "question_id": 44543671, "link": "https://stackoverflow.com/questions/44543671/how-to-sort-a-struct-with-strings-using-its-integers-in-c/44544084#44544084", "title": "How to sort a struct with strings using its integers in C?", "body": "<p>There is more than one issue in your code.</p>\n\n<p>First if all you your <code>tab</code> would be better if allocated dynamically.</p>\n\n<pre><code>Table* tab = malloc(sizeof(Table)*N);\n</code></pre>\n\n<p>Variable-length array are only supported by c99 and later versions and some C11 implementation might not support them too if <code>__STDC_NO_VLA_</code> is defined (Check C11 standard 6.10.8.3)</p>\n\n<p>Secondly, everything which iterates on <code>tab</code> has to know <code>tab</code>'s size which's <code>N</code> that you have to pass around as for instance in </p>\n\n<pre><code>void readTable(Table *ptr, const int N) {\n    char buffer[100], *cpyPtr, *savePtr;\n    for (int i = 0; i &lt; N; ++i) {...\n</code></pre>\n\n<p>Finaly <code>qsort</code> need to be called as follows:</p>\n\n<pre><code> qsort(tab, N,sizeof(Table), compare);\n</code></pre>\n\n<p>The following will produces the expected output (note that I have not checked for any other issues):</p>\n\n<pre><code>typedef struct _Table {\n    char *country;\n    int amnt, gold, silver, bronze;\n} Table;\n\nchar *arrayAlloc(int size) {\n    char *array;\n    array = (char *) malloc(sizeof(char) * size);\n    return array;\n}\n\nvoid readTable(Table *ptr, const int N) {\n    char buffer[100], *cpyPtr, *savePtr;\n    for (int i = 0; i &lt; N; ++i) {\n        fgets(buffer, sizeof(buffer), stdin);\n        buffer[strlen(buffer) - 1] = '\\0';  \n        ptr[i].country = strtok_r(buffer, \" \", &amp;savePtr);\n        ptr[i].country = strdup(ptr[i].country);            \n        cpyPtr = strtok_r(NULL, \" \", &amp;savePtr);\n        ptr[i].gold = strtol(cpyPtr, &amp;cpyPtr, 10);\n        cpyPtr = strtok_r(NULL, \" \", &amp;savePtr);\n        ptr[i].silver = strtol(cpyPtr, &amp;cpyPtr, 10);\n        cpyPtr = strtok_r(NULL, \" \", &amp;savePtr); \n        ptr[i].bronze = strtol(cpyPtr, &amp;cpyPtr, 10);\n\n    }\n\n}\n\nvoid printTable(Table *ptr, const int size) {\n    for (int i = 0; i &lt; size; ++i) {\n        printf(\"%s %d %d %d\\n\", ptr[i].country, ptr[i].gold,ptr[i].silver, ptr[i].bronze);\n    }\n}\n\nint compare(const void *p, const void *q) {\n\n    return ((Table *)p)-&gt;gold&lt;((Table *)q)-&gt;gold;\n}\n\n\nint main(int argc, char const *argv[]) {\n    int N;      // Amount of lines\n    scanf(\"%d\", &amp;N);\n    getchar();\n     Table* tab = malloc(sizeof(Table)*N);\n\n\n    readTable(tab,N);\n    printTable(tab,N);\n    qsort(tab, N,sizeof(Table), compare);\n\n    printTable(tab,N);\n\n    free(tab);\n    return 0;\n}\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>BRA 3 4 5\nUSA 23 76 34\nCHN 23 54 12\nGER 10 20 23\n\nUSA 23 76 34\nCHN 23 54 12\nGER 10 20 23\nBRA 3 4 5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 0, "last_activity_date": 1497442101, "creation_date": 1497442101, "answer_id": 44544371, "question_id": 44543671, "link": "https://stackoverflow.com/questions/44543671/how-to-sort-a-struct-with-strings-using-its-integers-in-c/44544371#44544371", "title": "How to sort a struct with strings using its integers in C?", "body": "<p>There are several issues; yet the main two are the following:</p>\n\n<p>In <code>qsort(&amp;tab-&gt;gold, tab-&gt;amnt, sizeof(Table), compare)</code>, you do not pass the begin of the array (as neccessary), but a pointer to a data member of the first element in the array. This means that the pointer passed has a particular offset to the begin of the array and will point almost in the \"middle\" of the first element. As <code>qsort</code> will exchange elements (i.e. memory chunks of the size provided) relative to the pointer you provide to <code>qsort</code>, each object may get \"split\" with unexpected and weird results then (very likely yielding undefined behaviour as well).</p>\n\n<p>Second, you use <code>tab-&gt;amnt = N</code>, which is equivalent to <code>tab[0].amnt = N</code>, i.e. it sets <code>amnt</code> only for the first entry. If you then sort the array, the first entry may be replaced by another one, which does not have set <code>amnt</code> to a specific value. So your <code>print</code>-function, which again relies on <code>amnt</code> being in the first element, will count wrong.</p>\n\n<p>So write <code>qsort(tab, N, sizeof(Table), compare)</code> and manage the size of the array outside the elements, i.e. introduce a separate parameter <code>size</code>, that is then passed to the <code>print</code>-function.</p>\n\n<p>Maybe there are other issues as well, but these two are the most suspicious ones to me.</p>\n"}], "owner": {"reputation": 21, "user_id": 8128219, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2Qg9pjARlNc/AAAAAAAAAAI/AAAAAAAAABg/8DnJWBHAOLo/photo.jpg?sz=128", "display_name": "Rogers S. Cristo", "link": "https://stackoverflow.com/users/8128219/rogers-s-cristo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 44543791, "answer_count": 3, "score": 1, "last_activity_date": 1497447140, "creation_date": 1497440170, "question_id": 44543671, "link": "https://stackoverflow.com/questions/44543671/how-to-sort-a-struct-with-strings-using-its-integers-in-c", "title": "How to sort a struct with strings using its integers in C?", "body": "<p>I'm coding a program in C that should rank countries by its gold medals in the olympic games.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n\ntypedef struct _Table {\n    char *country;\n    int amnt, gold, silver, bronze;\n} Table;\n\nchar *arrayAlloc(int size) {\n    char *array;\n    array = (char *) malloc(sizeof(char) * size);\n    return array;\n}\n\nvoid readTable(Table *ptr) {\n    char buffer[100], *cpyPtr, *savePtr;\n    for (int i = 0; i &lt; ptr-&gt;amnt; ++i) {\n        fgets(buffer, sizeof(buffer), stdin);\n        buffer[strlen(buffer) - 1] = '\\0';  \n        ptr[i].country = strtok_r(buffer, \" \", &amp;savePtr);\n        ptr[i].country = strdup(ptr[i].country);            \n        cpyPtr = strtok_r(NULL, \" \", &amp;savePtr);\n        ptr[i].gold = strtol(cpyPtr, &amp;cpyPtr, 10);\n        cpyPtr = strtok_r(NULL, \" \", &amp;savePtr);\n        ptr[i].silver = strtol(cpyPtr, &amp;cpyPtr, 10);\n        cpyPtr = strtok_r(NULL, \" \", &amp;savePtr); \n        ptr[i].bronze = strtol(cpyPtr, &amp;cpyPtr, 10);\n    }\n\n}\n\nvoid printTable(Table *ptr) {\n    for (int i = 0; i &lt; ptr-&gt;amnt; ++i) {\n        printf(\"%s %d %d %d\\n\", ptr[i].country, ptr[i].gold,ptr[i].silver, ptr[i].bronze);\n    }\n}\n\nint compare(const void *p, const void *q) {\n    int l = ((Table *)p)-&gt;gold;\n    int r = ((Table *)q)-&gt;gold; \n    return (r - l);\n}\n\n\nint main(int argc, char const *argv[]) {\n    int N;      // Amount of lines\n    scanf(\"%d\", &amp;N);\n    getchar();\n    Table tab[N];\n    tab-&gt;amnt = N;\n    tab-&gt;country = arrayAlloc(100);\n\n    readTable(tab);\n\n    qsort(&amp;tab-&gt;gold, tab-&gt;amnt, sizeof(Table), compare);\n\n    printTable(tab);\n\n    free(tab-&gt;country);\n    return 0;\n}\n</code></pre>\n\n<p>Input example:</p>\n\n<pre><code>4\nBRA 3 4 5\nUSA 23 76 34\nCHN 23 54 12\nGER 10 20 23\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>USA 23 76 34\nCHN 23 54 12\nGER 10 20 23\nBRA 3 4 5\n</code></pre>\n\n<p>What I'm getting:</p>\n\n<pre><code>BRA 23 54 12\nGER 23 76 34\nCHN 3 4 5\nUSA 10 20 23\n</code></pre>\n\n<p>As you can see it seems to \"sort\" it somehow. However it is far from what I need to accomplish.\nI've already tried to modify the compare() function, but without success.\nWhat am I possibly missing here?</p>\n"}, {"tags": ["c", "indexing", "printf", "format-specifiers"], "comments": [{"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 1, "creation_date": 1497440159, "post_id": 44543540, "comment_id": 76077752, "body": "<a href=\"https://stackoverflow.com/questions/6322540/how-do-positional-arguments-like-1-work-with-printf\" title=\"how do positional arguments like 1 work with printf\">stackoverflow.com/questions/6322540/&hellip;</a>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497440192, "post_id": 44543540, "comment_id": 76077777, "body": "The gcc compiler does not provide the standard libary beyond the headers for a freestanding environment. So, which implementation of the standard library do you use?"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497441309, "post_id": 44543540, "comment_id": 76078583, "body": "&quot;Is it valid for any compiler&quot; Yes, as demonstrated by your own compilation - it is valid for at least one compiler.   &quot;support only GCC compiler?&quot;  is a broad a question.  To answer yes, one would need to survey many compilers to find another one that supports it.  To answer no, one may need to survey <i>all</i> compilers."}, {"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1497467535, "post_id": 44543540, "comment_id": 76096234, "body": "to see if it is a GCC extension, include the <code>-pedantic</code> option when compiling"}], "answers": [{"tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": true, "score": 7, "last_activity_date": 1497450710, "creation_date": 1497450710, "answer_id": 44547686, "question_id": 44543540, "link": "https://stackoverflow.com/questions/44543540/index-specification-in-printf-format-specifier/44547686#44547686", "title": "Index specification in printf format specifier", "body": "<p>As you suspect, numbered argument conversion specifications (that is, <code>n$</code>) are not required by the <a href=\"http://port70.net/~nsz/c/c11/n1570.html#7.21.6.1\" rel=\"noreferrer\">C standard</a>. But they are not idiosyncratic to the Gnu implementation; they are required by the <a href=\"https://en.wikipedia.org/wiki/POSIX\" rel=\"noreferrer\">POSIX standard</a> (specification <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/fprintf.html\" rel=\"noreferrer\">here</a>) and have been since at least the 1997 version 2.</p>\n\n<p>Most Unix and unix-like implementations feature some measure of Posix compliance, and numbered argument specifications are not a recent addition. So you will likely find support in most current Unix and Unix-like platforms, including any which use the Gnu standard C library (Linux) or the FreeBSD standard C library (Mac OS X). However, the (native) Windows C standard library is not Posix-compliant and does not contain support for numbered argument specifications (at least, as of today: see <a href=\"https://docs.microsoft.com/en-us/cpp/c-runtime-library/format-specification-syntax-printf-and-wprintf-functions\" rel=\"noreferrer\">here</a>.)</p>\n"}], "owner": {"reputation": 4293, "user_id": 7035151, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ce9aa200c854d26a2cd263f6fc8c24eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/7035151/jayesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1843, "favorite_count": 1, "accepted_answer_id": 44547686, "answer_count": 1, "score": 3, "last_activity_date": 1497504676, "creation_date": 1497439807, "last_edit_date": 1497504676, "question_id": 44543540, "link": "https://stackoverflow.com/questions/44543540/index-specification-in-printf-format-specifier", "title": "Index specification in printf format specifier", "body": "<p>In the following program, <code>printf()</code> function print according to argument index specification.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n        printf(\"%3$d  %4$f  %2$d  %1$d\\n\", 1,  2,  3,  4.5);\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>3  4.500000  2  1\n</code></pre>\n\n<p>So, I have question, <strong>Is it valid for any compiler or support only GCC compiler?</strong></p>\n"}, {"tags": ["c", "io", "signals", "gnu"], "comments": [{"owner": {"reputation": 4888, "user_id": 5785362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a786fd81952576dc07942023bf8830b?s=128&d=identicon&r=PG", "display_name": "tofro", "link": "https://stackoverflow.com/users/5785362/tofro"}, "edited": false, "score": 0, "creation_date": 1497440403, "post_id": 44543534, "comment_id": 76077920, "body": "In addition to my actual answer below: Signal-controlled I/O in my experience opens up more problems than it actually solves. Once you make yourself knowledgeable on <i>what you may actually do</i> from a signal handler (look up &quot;async-safe functions&quot; for your OS), you might want to revert your design to something like <code>select</code>."}, {"owner": {"reputation": 33, "user_id": 6501280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2ddb55c366648b7a9a75e6512a125a?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Schenker", "link": "https://stackoverflow.com/users/6501280/oleg-schenker"}, "reply_to_user": {"reputation": 4888, "user_id": 5785362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a786fd81952576dc07942023bf8830b?s=128&d=identicon&r=PG", "display_name": "tofro", "link": "https://stackoverflow.com/users/5785362/tofro"}, "edited": false, "score": 0, "creation_date": 1497448388, "post_id": 44543534, "comment_id": 76084189, "body": "May be you right. Still I want to try it. Currently I can&#39;t manage to set this signal at all."}, {"owner": {"reputation": 33, "user_id": 6501280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2ddb55c366648b7a9a75e6512a125a?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Schenker", "link": "https://stackoverflow.com/users/6501280/oleg-schenker"}, "reply_to_user": {"reputation": 4888, "user_id": 5785362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a786fd81952576dc07942023bf8830b?s=128&d=identicon&r=PG", "display_name": "tofro", "link": "https://stackoverflow.com/users/5785362/tofro"}, "edited": false, "score": 0, "creation_date": 1497448801, "post_id": 44543534, "comment_id": 76084540, "body": "One reason I didn&#39;t fully happy with select is that select is called 4 times before there is real input message in socket. I suppose select continuously polls all I/O descriptors and ever revert 1 as all other fds are ready. I need faster solution."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6501280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2ddb55c366648b7a9a75e6512a125a?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Schenker", "link": "https://stackoverflow.com/users/6501280/oleg-schenker"}, "edited": false, "score": 0, "creation_date": 1497448220, "post_id": 44543693, "comment_id": 76084044, "body": "I have included fcntl.h, which used for O_NONBLOCK status flag. And I check all three files of fcntl.h, sys/fcntl.h and _default_fcntl.h. There is no mention of such macro like O_ASYNC."}, {"owner": {"reputation": 4888, "user_id": 5785362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a786fd81952576dc07942023bf8830b?s=128&d=identicon&r=PG", "display_name": "tofro", "link": "https://stackoverflow.com/users/5785362/tofro"}, "reply_to_user": {"reputation": 33, "user_id": 6501280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2ddb55c366648b7a9a75e6512a125a?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Schenker", "link": "https://stackoverflow.com/users/6501280/oleg-schenker"}, "edited": false, "score": 0, "creation_date": 1497450261, "post_id": 44543693, "comment_id": 76085652, "body": "Can you use <code>FASINC</code> instead? That should be the functionally equivalent predecessor."}, {"owner": {"reputation": 4888, "user_id": 5785362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a786fd81952576dc07942023bf8830b?s=128&d=identicon&r=PG", "display_name": "tofro", "link": "https://stackoverflow.com/users/5785362/tofro"}, "reply_to_user": {"reputation": 33, "user_id": 6501280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2ddb55c366648b7a9a75e6512a125a?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Schenker", "link": "https://stackoverflow.com/users/6501280/oleg-schenker"}, "edited": false, "score": 0, "creation_date": 1497451997, "post_id": 44543693, "comment_id": 76086952, "body": "<code>FASYNC</code> I meant to write"}, {"owner": {"reputation": 33, "user_id": 6501280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2ddb55c366648b7a9a75e6512a125a?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Schenker", "link": "https://stackoverflow.com/users/6501280/oleg-schenker"}, "edited": false, "score": 0, "creation_date": 1497452254, "post_id": 44543693, "comment_id": 76087127, "body": "gcc recognized it and compiled file. but signal still doesn&#39;t work."}, {"owner": {"reputation": 4888, "user_id": 5785362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a786fd81952576dc07942023bf8830b?s=128&d=identicon&r=PG", "display_name": "tofro", "link": "https://stackoverflow.com/users/5785362/tofro"}, "reply_to_user": {"reputation": 33, "user_id": 6501280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2ddb55c366648b7a9a75e6512a125a?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Schenker", "link": "https://stackoverflow.com/users/6501280/oleg-schenker"}, "edited": false, "score": 0, "creation_date": 1497452313, "post_id": 44543693, "comment_id": 76087176, "body": "In this case you need to post more code, especially on how you install the signal handler. Did you use F_SETOWN to tell the system which process to notify?"}], "tags": [], "owner": {"reputation": 4888, "user_id": 5785362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a786fd81952576dc07942023bf8830b?s=128&d=identicon&r=PG", "display_name": "tofro", "link": "https://stackoverflow.com/users/5785362/tofro"}, "is_accepted": false, "score": 0, "last_activity_date": 1497453006, "last_edit_date": 1497453006, "creation_date": 1497440236, "answer_id": 44543693, "question_id": 44543534, "link": "https://stackoverflow.com/questions/44543534/setting-standard-signal-sigio-in-gnu/44543693#44543693", "title": "Setting standard signal SIGIO in GNU", "body": "<p>Most probably you forgot to include <code>sys/fcntl.h</code>, either indirectly or directly. This is the place that defines the flags.</p>\n\n<p>In case <code>O_ASYNC</code> is not defined, you can try and use the functionally equivalent predecessor of that flag, <code>FASYNC</code>.</p>\n\n<p>Also make sure you have executed a</p>\n\n<pre><code>int flags;\n\n/* Install signal handler here... */\n\n/* Set flags to receive SIGIO (and SIGURG) signals */\nflags = fcntl (F_GETFL, 0);\nflags = fcntl (F_SETFL, flags | FASYNC);\n\n/* Bind our process as receiver of SIGIO signals */\nflags = fcntl (F_SETOWN, getpid ());\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6501280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2ddb55c366648b7a9a75e6512a125a?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Schenker", "link": "https://stackoverflow.com/users/6501280/oleg-schenker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 627, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497453961, "creation_date": 1497439793, "last_edit_date": 1497453961, "question_id": 44543534, "link": "https://stackoverflow.com/questions/44543534/setting-standard-signal-sigio-in-gnu", "title": "Setting standard signal SIGIO in GNU", "body": "<p>I found SIGIO signal documented in GNU library. It is stated that there is a possibility the system to send a signal whenever I have input (particularly in socket).\nAccording to documentation to create such signal I should set O_ASYNC flag to corresponding filedescritor.\nMy problem is that my GNU version (gcc 6.3.0) doesn't recognize such a keyword:</p>\n\n<blockquote>\n  <p>error: \u2018O_ASYNC\u2019 undeclared (first use in this function)</p>\n</blockquote>\n\n<p>I used following block to set a flag:</p>\n\n<pre><code>/* Set socket status async */\nint status = fcntl(sockfd, F_SETFL, O_ASYNC);;\nif (status &lt; 0) error(\"Can't set async mode\");\nelse printf(\"Async is set for signal %d\\n\", SIGIO); \n</code></pre>\n\n<p>I use Cigwin GCC 6.3.0</p>\n\n<p>The code is below:</p>\n\n<pre><code>static void OnTimer(int sig)\n{\n   /* write request to socket BIO */\n}\nstatic void OnTick(int sig)\n{\n   char read[BUFSIZE] = {};\n   int received;\n\n    received = SSL_read(ssl, read, sizeof(read));\n    /* Handle errors here */\n    /* print the server's reply */\n    printf(\"%s\\n\\n\", read);\n}\n\nvoid connectSSL()\n{\n    /* do all socket set-up and connection */\n\n    /* Establish handler for I/O signal */\n    saction.sa_flags = 0;\n    saction.sa_handler = OnTick;\n    sigemptyset(&amp;saction.sa_mask);\n    sigaddset(&amp;saction.sa_mask, SIGALRM);\n    if (sigaction(SIGIO, &amp;saction, NULL) == -1) error(\"sigaction\");\n    else printf(\"OnTick handler created\\n\");\n\n    /* Set socket status async */\n    int status = fcntl(sockfd, F_SETFL, fcntl(sockfd, F_GETFL, 0) | FASYNC);\n    if (status &lt; 0) error(\"Can't set async mode\");\n    else printf(\"Async is set for signal %d\\n\", SIGIO);\n\n    /* Select the process to receive the signal */\n    int process = fcntl(sockfd, F_SETOWN, getpid());\n    if (process &lt; 0) error(\"Can't set address process\");\n    else printf(\"Process %d is set\\n\", getpid());\n\n    /* do the rest SSL staff here */\n}\n\nint main(int argc, char argv[])\n{\n    sigset_t mask, oldmask;\n    /* Wait for OnTimer event*/\n    sigemptyset(&amp;oldmask);\n    sigaddset(&amp;oldmask, SIGALRM);\n    sigemptyset(&amp;mask);\n    sigaddset(&amp;mask, SIGALRM);\n    sigaddset(&amp;mask, SIGIO);\n    sigprocmask(SIG_BLOCK, &amp;mask, &amp;oldmask);\n    connectSSL();\n    createTimer(500000000);\n    while(1)\n    {\n        printf(\"\\nWaiting OnTimer %d\\n\", count + 1);\n        sigsuspend(&amp;oldmask);\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "edited": false, "score": 1, "creation_date": 1497439180, "post_id": 44543245, "comment_id": 76077018, "body": "<a href=\"https://en.wikipedia.org/wiki/Calling_convention\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Calling_convention</a>"}, {"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "reply_to_user": {"reputation": 2191, "user_id": 7070965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qEhQf.png?s=128&g=1", "display_name": "dtell", "link": "https://stackoverflow.com/users/7070965/dtell"}, "edited": false, "score": 4, "creation_date": 1497439208, "post_id": 44543245, "comment_id": 76077044, "body": "@datell There&#39;s no UB here, since the values of the uninitialized variables are never accessed. (There is <i>unspecified</i> behavior, though.)"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1497439231, "post_id": 44543245, "comment_id": 76077056, "body": "Anything could be the reason - there is no standard that would specify a convention, and you shouldn&#39;t expect one to exist. In practice, on 64-bit unixen, the variables are passed in registers, and they need to be pushed on <i>stack</i> for the <code>&amp;</code> operator to work, this could happen in <i>any</i> order."}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 3, "creation_date": 1497439256, "post_id": 44543245, "comment_id": 76077076, "body": "<code>printf(&quot;%x, %x, %x&quot;, &amp;a, &amp;b, &amp;c);</code> is UB =&gt; <code>printf(&quot;%p, %p, %p&quot;, (void *)&amp;a, (void *)&amp;b, (void *)&amp;c);</code>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497439261, "post_id": 44543245, "comment_id": 76077080, "body": "Please provide a reference to the C language requiring a specific stack allocation scheme - or even using a stack at all."}, {"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497439308, "post_id": 44543245, "comment_id": 76077115, "body": "@Stargateur Good point, I saw <code>%x</code> and thought pointer."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497439320, "post_id": 44543245, "comment_id": 76077124, "body": "And<code>%x</code> expects an <code>unsigned int</code>; passing anything else invokes undefined behaviour. Any modern compiler will warn. When doing such research, first make sure your code is correct. This includes enabling recommended warnings and fixeing their causes before asking."}, {"owner": {"reputation": 9, "user_id": 5572896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0AnFY.jpg?s=128&g=1", "display_name": "monoid", "link": "https://stackoverflow.com/users/5572896/monoid"}, "edited": false, "score": 0, "creation_date": 1497439362, "post_id": 44543245, "comment_id": 76077157, "body": "Even if I initialize variables, the results in mac os and windows os are different as before."}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1497439515, "post_id": 44543245, "comment_id": 76077266, "body": "@monoid Why do you expect them to be the same?"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497439527, "post_id": 44543245, "comment_id": 76077276, "body": "@monoid Even, on the same OS, your broken test can have different result. What did you expect and why your output differ ? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 1, "creation_date": 1497439641, "post_id": 44543245, "comment_id": 76077366, "body": "A stack is not defined in C scope. Why should all implementation do it the same way? Parameter passing can even be different with same CPU architecture but different compiler."}, {"owner": {"reputation": 326, "user_id": 4975230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQ8VO.jpg?s=128&g=1", "display_name": "jrh", "link": "https://stackoverflow.com/users/4975230/jrh"}, "edited": false, "score": 1, "creation_date": 1497439742, "post_id": 44543245, "comment_id": 76077439, "body": "I don&#39;t get what the big issue is with this question to be honest. Maybe it&#39;s rather beginner level but I&#39;d rather have beginners take a stab at understanding what the spec really guarantees and learn something interesting than have them make an assumption that isn&#39;t true or just drop an opportunity to learn more about their OS / CPU / compiler."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5572896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0AnFY.jpg?s=128&g=1", "display_name": "monoid", "link": "https://stackoverflow.com/users/5572896/monoid"}, "edited": false, "score": 0, "creation_date": 1497441040, "post_id": 44543538, "comment_id": 76078380, "body": "Thx,  I edited my question just now. In my question, the results in windows and mac are in same order of a situation."}, {"owner": {"reputation": 326, "user_id": 4975230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQ8VO.jpg?s=128&g=1", "display_name": "jrh", "link": "https://stackoverflow.com/users/4975230/jrh"}, "reply_to_user": {"reputation": 9, "user_id": 5572896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0AnFY.jpg?s=128&g=1", "display_name": "monoid", "link": "https://stackoverflow.com/users/5572896/monoid"}, "edited": false, "score": 0, "creation_date": 1497442724, "post_id": 44543538, "comment_id": 76079706, "body": "@monoid that edit actually goes into a completely different, unrelated issue (and you&#39;re still in UB territory). I strongly recommend reverting it because that makes your question less specific. Please see <a href=\"https://stackoverflow.com/questions/376278/parameter-evaluation-order-before-a-function-calling-in-c\">Parameter evaluation order before a function calling in C</a> for more information."}], "tags": [], "owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "is_accepted": false, "score": 2, "last_activity_date": 1497441308, "last_edit_date": 1497441308, "creation_date": 1497439803, "answer_id": 44543538, "question_id": 44543245, "link": "https://stackoverflow.com/questions/44543245/in-c-what-about-stack-allocations-in-mac-os-and-windows-os/44543538#44543538", "title": "In C what about stack allocations in Mac OS and Windows os?", "body": "<p>The C standard doesn't specify how arguments are passed to functions.</p>\n\n<p>The platform's ABI (Applications Binary Interface) will specify how functions are called - and for the aspect you've identified, the different ABIs specify different order.</p>\n\n<p>If your program is to interoperate with libraries or other code, it must behave as its platform ABI requires, and your compiler is obviously doing so.</p>\n\n<p>For the local variables within a function, the compiler has complete choice as to how to arrange them - there's no requirement here for any interoperation with other code, and the compiler may choose to lay them out as you've declared them, to gather them by type or size, or in any other way.  If you never take the address of a variable, it's allowed not to allocate any storage for that variable at all - it can use a register, for example.</p>\n\n<p>In both cases, the specifics of what address a variable or parameter occupies is outside the scope of Standard C.</p>\n"}], "owner": {"reputation": 9, "user_id": 5572896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0AnFY.jpg?s=128&g=1", "display_name": "monoid", "link": "https://stackoverflow.com/users/5572896/monoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1497441498, "creation_date": 1497439030, "last_edit_date": 1497441498, "question_id": 44543245, "link": "https://stackoverflow.com/questions/44543245/in-c-what-about-stack-allocations-in-mac-os-and-windows-os", "title": "In C what about stack allocations in Mac OS and Windows os?", "body": "<pre><code>#include &lt;stdio.h&gt;\nvoid f(int a, int b, int c)\n{\n    printf(\"%p, %p, %p\", (void*)&amp;a, (void*)&amp;b, (void*)&amp;c);\n}\nint main(int argc, char* argv[])\n{\n    int a = 0;\n    int b = 0;\n    int c = 0;\n    f(a, b, c);\n    return 0;\n}\n</code></pre>\n\n<p>In windows, the result is in ascending order. However, in mac, the result is in descending order. I do not know why.</p>\n\n<p>However, the result of code below is in decending order in mac os and windows os.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main(int argc, char* argv[])\n{\n    int a = 0;\n    int b = 0;\n    int c = 0;\n    printf(\"%p, %p, %p\", (void *)&amp;a, (void *)&amp;b, (void *)&amp;c);\n    return 0;\n}\n</code></pre>\n\n<p>And, the results of code below are same in mac os and windows os: \"ba\".</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nvoid f(int a, int b)\n{}\nint main(int argc, char* argv[])\n{\n    f(printf(\"a\"), printf(\"b\"));\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c", "linux", "openmp", "mmap", "sigbus"], "comments": [{"owner": {"reputation": 235, "user_id": 3766665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e86dfe55b8bd299efcfdfb68b9a60b1?s=128&d=identicon&r=PG&f=1", "display_name": "bking", "link": "https://stackoverflow.com/users/3766665/bking"}, "edited": false, "score": 0, "creation_date": 1497437978, "post_id": 44542852, "comment_id": 76076113, "body": "May be related to unanswered <a href=\"https://stackoverflow.com/q/21230720/3766665\">stackoverflow.com/q/21230720/3766665</a> but I am not using a shared mapping"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497438179, "post_id": 44542852, "comment_id": 76076259, "body": "<i>Where</i> do you get the crash? You have a couple of statements and expressions after your <code>mmap</code> call that could be the cause. Please use a debugger to narrow it down. And have you tried <i>without</i> OpenMP? Does it work then?"}, {"owner": {"reputation": 235, "user_id": 3766665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e86dfe55b8bd299efcfdfb68b9a60b1?s=128&d=identicon&r=PG&f=1", "display_name": "bking", "link": "https://stackoverflow.com/users/3766665/bking"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497438581, "post_id": 44542852, "comment_id": 76076549, "body": "It crashes directly in the memcmp call. The kernel sends SIGBUS from do_page_fault which I found with perf like this: sudo perf record -g -e signal:signal_generate ./mmap_manymany"}, {"owner": {"reputation": 235, "user_id": 3766665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e86dfe55b8bd299efcfdfb68b9a60b1?s=128&d=identicon&r=PG&f=1", "display_name": "bking", "link": "https://stackoverflow.com/users/3766665/bking"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497438635, "post_id": 44542852, "comment_id": 76076598, "body": "It does not happen without OpenMP."}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 3766665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e86dfe55b8bd299efcfdfb68b9a60b1?s=128&d=identicon&r=PG&f=1", "display_name": "bking", "link": "https://stackoverflow.com/users/3766665/bking"}, "edited": false, "score": 0, "creation_date": 1497445546, "post_id": 44544705, "comment_id": 76081842, "body": "Yes! This explanation makes perfect sense. I can not name my files differently, but I can open them with <code>O_RDWR</code> and use that file descriptor directly in my <code>mmap</code>. This avoids the race you described."}, {"owner": {"reputation": 235, "user_id": 3766665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e86dfe55b8bd299efcfdfb68b9a60b1?s=128&d=identicon&r=PG&f=1", "display_name": "bking", "link": "https://stackoverflow.com/users/3766665/bking"}, "edited": false, "score": 0, "creation_date": 1497445962, "post_id": 44544705, "comment_id": 76082180, "body": "Still unclear to me: The example code fails in <code>memcmp</code>. Why not within <code>mmap</code> due to <code>MAP_POPULATE</code>?"}, {"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "reply_to_user": {"reputation": 235, "user_id": 3766665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e86dfe55b8bd299efcfdfb68b9a60b1?s=128&d=identicon&r=PG&f=1", "display_name": "bking", "link": "https://stackoverflow.com/users/3766665/bking"}, "edited": false, "score": 0, "creation_date": 1497448956, "post_id": 44544705, "comment_id": 76084669, "body": "For some reason, Linux ignores errors on populating memory pages... <a href=\"https://github.com/torvalds/linux/blob/master/include/linux/mm.h#L2141\" rel=\"nofollow noreferrer\">github.com/torvalds/linux/blob/master/include/linux/mm.h#L21&zwnj;&#8203;41</a>"}], "tags": [], "owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "is_accepted": true, "score": 1, "last_activity_date": 1497442970, "creation_date": 1497442970, "answer_id": 44544705, "question_id": 44542852, "link": "https://stackoverflow.com/questions/44542852/valid-read-from-mmap-ed-memory-produces-sigbus-under-load-why/44544705#44544705", "title": "Valid read from mmap-ed memory produces SIGBUS under load. Why?", "body": "<p>With your current program, it can happen that thread 0 creates <code>/tmp/buf_0</code>, writes to it and closes it. Then thread 1 removes and creates <code>/tmp/buf_0</code>, but before thread 1 writes to it, thread 0 opens, maps, and reads from <code>/tmp/buf_0</code> - and thus tries to access a file does not yet contain 64 kiB data. You get a <code>SIGBUS</code>.</p>\n\n<p>To avoid that issue, just make unique files / and <code>bufs</code> for each thread, by using <code>omp_get_thread_num()</code> instead of <code>bufIdx</code>.</p>\n"}], "owner": {"reputation": 235, "user_id": 3766665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e86dfe55b8bd299efcfdfb68b9a60b1?s=128&d=identicon&r=PG&f=1", "display_name": "bking", "link": "https://stackoverflow.com/users/3766665/bking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 1, "accepted_answer_id": 44544705, "answer_count": 1, "score": 2, "last_activity_date": 1497442970, "creation_date": 1497437889, "last_edit_date": 1497438653, "question_id": 44542852, "link": "https://stackoverflow.com/questions/44542852/valid-read-from-mmap-ed-memory-produces-sigbus-under-load-why", "title": "Valid read from mmap-ed memory produces SIGBUS under load. Why?", "body": "<p>I have a program that copies buffers to files, mmap's them back and then checks their contents. Multiple threads can work on the same file. Occasionally, I am getting SIGBUS when reading, but only under load.</p>\n\n<p>The mappings are MAP_PRIVATE and MAP_POPULATE. The crash via SIGBUS occurs after mmap was successful which I do not understand since MAP_POPULATE was used.</p>\n\n<p>Here is a full example (creates files under /tmp/buf_* filled with zeroes), using OpenMP to create more load and concurrent writes:</p>\n\n<pre><code>// Program to check for unexpected SIGBUS\n// gcc -std=c99 -fopenmp -g -O3 -o mmap_manymany mmap_manymany.c\n#include &lt;assert.h&gt;\n#include &lt;errno.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;sys/mman.h&gt;\n#include &lt;sys/stat.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;unistd.h&gt;\n\n#define NBUFS 64\nconst char bufs[NBUFS][65536] = {{0}};\nconst char zeros[65536] = {0};\n\nint main()\n{\n  int count = 0;\n  while ( 1 )\n  {\n    void *mappings[ 1000 ] = {NULL};\n\n#pragma omp parallel for\n    for ( int i = 0; i &lt; 1000; ++i )\n    {\n      // Prepare filename\n      int bufIdx = i % NBUFS;\n      char path[ 128 ] = { 0 };\n      sprintf( path, \"/tmp/buf_%0d\", bufIdx );\n\n      // Write full buffer\n      int outFd = -1;\n#pragma omp critical\n      {\n        remove( path );\n        outFd = open( path, O_EXCL | O_CREAT | O_WRONLY | O_TRUNC, 0644 );\n      }\n      assert( outFd != -1 );\n      ssize_t size = write( outFd, bufs[bufIdx], 65536 );\n      assert( size == 65536 );\n      close( outFd );\n\n      // Map it to memory\n      int inFd = open( path, O_RDONLY );\n      if ( inFd == -1 )\n        continue; // Deleted by other thread. Nevermind\n\n      mappings[i] = mmap( NULL, 65536, PROT_READ, MAP_PRIVATE | MAP_POPULATE, inFd, 0 );\n      assert( mappings[i] != MAP_FAILED );\n      close( inFd );\n\n      // Read data immediately. Creates occasional SIGBUS but only under load.\n      int v = memcmp( mappings[i], zeros, 65536 );\n      assert( v == 0 );\n    }\n\n    // Clean up\n    for ( int i = 0; i &lt; 1000; ++i )\n      munmap( mappings[ i ], 65536 );\n    printf( \"count: %d\\n\", ++count );\n  }\n}\n</code></pre>\n\n<p>No assert fires for me, but the program always crashes after a few seconds with SIGBUS.</p>\n"}, {"tags": ["c", "macos", "openssl", "macos-sierra"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497437905, "post_id": 44542613, "comment_id": 76076061, "body": "Any reason to spam tags for two different languages?"}], "answers": [{"comments": [{"owner": {"reputation": 12296, "user_id": 452752, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a68d17cbd12e477e4a67745bd5b2452b?s=128&d=identicon&r=PG", "display_name": "Nickolay Olshevsky", "link": "https://stackoverflow.com/users/452752/nickolay-olshevsky"}, "edited": false, "score": 0, "creation_date": 1614688361, "post_id": 44542777, "comment_id": 117456147, "body": "Just in case somebody landed here like me: since OpenSSL 1.1.0 this is no longer needed."}], "tags": [], "owner": {"reputation": 206047, "user_id": 126769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zBsgn.png?s=128&g=1", "display_name": "nos", "link": "https://stackoverflow.com/users/126769/nos"}, "is_accepted": true, "score": 4, "last_activity_date": 1497437694, "creation_date": 1497437694, "answer_id": 44542777, "question_id": 44542613, "link": "https://stackoverflow.com/questions/44542613/evp-get-cipherbyname-always-returns-null/44542777#44542777", "title": "EVP_get_cipherbyname always returns null", "body": "<p>You need to initialize the OpenSSL library first. If you just use libcrypto, \ncall:</p>\n\n<pre><code>OpenSSL_add_all_algorithms();\n</code></pre>\n\n<p>Refer to <a href=\"https://wiki.openssl.org/index.php/Library_Initialization\" rel=\"nofollow noreferrer\">https://wiki.openssl.org/index.php/Library_Initialization</a> for how to handle other situations or openssl versions.</p>\n"}], "owner": {"reputation": 2736, "user_id": 579132, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e73173856defcc9c01bd1933149396ad?s=128&d=identicon&r=PG", "display_name": "Conor Taylor", "link": "https://stackoverflow.com/users/579132/conor-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "accepted_answer_id": 44542777, "answer_count": 1, "score": 1, "last_activity_date": 1497437914, "creation_date": 1497437288, "last_edit_date": 1497437914, "question_id": 44542613, "link": "https://stackoverflow.com/questions/44542613/evp-get-cipherbyname-always-returns-null", "title": "EVP_get_cipherbyname always returns null", "body": "<p>I have a problem when calling <code>EVP_get_cipherbyname</code> on macOS:</p>\n\n<pre><code>const char *cipher_str = \"aes-256-cbc\";\nconst evp_cipher_st *cipher1 = EVP_aes_256_cbc();\nconst evp_cipher_st *cipher2 = EVP_get_cipherbyname(cipher_str);\n</code></pre>\n\n<p>In the code above, <code>cipher1</code> will always be set to a valid <code>evp_cipher_st *</code> object, and <code>cipher2</code> will always be null. I haven't found a single instance of <code>cipher_str</code> that produces a non-null <code>cipher2</code>.</p>\n\n<p>Am I doing something wrong? Are there some other calls I should be making to get this to work?</p>\n"}, {"tags": ["c", "gcc", "scope"], "comments": [{"owner": {"reputation": 539, "user_id": 2805824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tBgwo.gif?s=128&g=1", "display_name": "Gaurav Pathak", "link": "https://stackoverflow.com/users/2805824/gaurav-pathak"}, "edited": false, "score": 0, "creation_date": 1497435096, "post_id": 44541680, "comment_id": 76074006, "body": "Do you know why the value of <code>z</code> not get updated to 100 in the third scope?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 0, "creation_date": 1497435116, "post_id": 44541680, "comment_id": 76074022, "body": "Can&#39;t reproduce."}, {"owner": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1497435263, "post_id": 44541680, "comment_id": 76074128, "body": "Given the answers bellow, I think it&#39;s safe to say you had a copy-paste error..."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 5, "creation_date": 1497435275, "post_id": 44541680, "comment_id": 76074134, "body": "You are trying to print an integer using %f. I am sure the compiler would have complained. But I am also sure that you must have disabled the warnings."}, {"owner": {"reputation": 49, "user_id": 4462539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Te4V4.jpg?s=128&g=1", "display_name": "Shubhodeep Mitra", "link": "https://stackoverflow.com/users/4462539/shubhodeep-mitra"}, "reply_to_user": {"reputation": 539, "user_id": 2805824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tBgwo.gif?s=128&g=1", "display_name": "Gaurav Pathak", "link": "https://stackoverflow.com/users/2805824/gaurav-pathak"}, "edited": false, "score": 0, "creation_date": 1497438908, "post_id": 44541680, "comment_id": 76076798, "body": "@GauravPathak No I didn&#39;t at the time of posting the question but now thanks to the answer given by Paul Ogilvie I got to know."}, {"owner": {"reputation": 49, "user_id": 4462539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Te4V4.jpg?s=128&g=1", "display_name": "Shubhodeep Mitra", "link": "https://stackoverflow.com/users/4462539/shubhodeep-mitra"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497439330, "post_id": 44541680, "comment_id": 76077133, "body": "@AjayBrahmakshatriya It did give a warning about mismatch of specifier, I gave a thought that it should be undefined but since all the compilers were providing the same result, I needed some explanation apart from that fact that I&#39;m using %f instead of %d for integer, well Paul Ogilvie gave a good explanation of what might happen in the background."}], "answers": [{"tags": [], "owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "is_accepted": false, "score": 8, "last_activity_date": 1497435593, "last_edit_date": 1497435593, "creation_date": 1497435110, "answer_id": 44541750, "question_id": 44541680, "link": "https://stackoverflow.com/questions/44541680/unusual-behaviour-in-case-of-nested-scope-variables/44541750#44541750", "title": "Unusual behaviour in case of nested scope variables", "body": "<p>The problem is with mismatched format specifier and supplied argument. let's have a closer look.</p>\n\n<p>In the first inner scope</p>\n\n<pre><code>{\n    int x = 10;\n    float y = 20;\n\n    printf(\" x = %d, y = %f, z = %d \\n\", x, y, z);\n}\n</code></pre>\n\n<p><code>y</code> is (re)-defined as <code>float</code> and using that variable as argument to <code>%f</code> conversion specifier is perfectly fine. However, once the scope ends, (<em>the visble</em>) <code>y</code> is an <code>int</code>, again. Hence in the second inner scope</p>\n\n<pre><code> printf(\" x = %d, y = %f, z = %d \\n\", x, y, z);\n                  ^^^^^^\n</code></pre>\n\n<p>using <code>%f</code> is erroneous and causes <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow noreferrer\">undefined behavior</a>. You must use <code>%d</code> for printing the value of <code>y</code> there.</p>\n\n<p>Related, quoting <code>C11</code>, chapter \u00a76.2.1/P4</p>\n\n<blockquote>\n  <p>Every other identifier has scope determined by the placement of its declaration (in a\n  declarator or type specifier). </p>\n  \n  <p>[...] </p>\n  \n  <p>If the declarator or type specifier that\n  declares the identifier appears inside a block or within the list of parameter declarations in\n  a function definition, the identifier has block scope, which terminates at the end of the\n  associated block. </p>\n  \n  <p>[....] </p>\n  \n  <p>If an identifier designates two different entities in the same name\n  space, the scopes might overlap. If so, the scope of one entity (the inner scope) will end\n  strictly before the scope of the other entity (the outer scope). Within the inner scope, the\n  identifier designates the entity declared in the inner scope; the entity declared in the outer\n  scope is hidden (and not visible) within the inner scope.</p>\n</blockquote>\n\n<p>And, related to the UB, from chapter \u00a77.21.6.1</p>\n\n<blockquote>\n  <p>[...] If any argument is\n  not the correct type for the corresponding conversion specification, the behavior is\n  undefined.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "is_accepted": false, "score": 10, "last_activity_date": 1497435127, "creation_date": 1497435127, "answer_id": 44541760, "question_id": 44541680, "link": "https://stackoverflow.com/questions/44541680/unusual-behaviour-in-case-of-nested-scope-variables/44541760#44541760", "title": "Unusual behaviour in case of nested scope variables", "body": "<p>You have a undefined behavior:</p>\n\n<pre><code>{\n    int z = 100;\n    printf(\" x = %d, y = %f, z = %d \\n\", x, y, z); // here y is an int\n}\n</code></pre>\n\n<p>If your flags in <code>printf()</code> don't match the good type, this is undefined bahavior.</p>\n\n<p>You must use <code>%d</code> flag.</p>\n\n<pre><code>{\n    int z = 100;\n    printf(\" x = %d, y = %d, z = %d \\n\", x, y, z); // here y is an int\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "is_accepted": false, "score": 4, "last_activity_date": 1497435423, "creation_date": 1497435423, "answer_id": 44541867, "question_id": 44541680, "link": "https://stackoverflow.com/questions/44541680/unusual-behaviour-in-case-of-nested-scope-variables/44541867#44541867", "title": "Unusual behaviour in case of nested scope variables", "body": "<blockquote>\n  <p>First I thought it might be garbage value since printing integer with %f results in garbage value, so changing the value of y in the inner scope to some other value results in the same value as output,hence I'm confirmed that its not a garbage value.</p>\n</blockquote>\n\n<p>This is a wrong assumption. It <strong>is</strong> \"garbage\" because you have <em>undefined behavior</em> here.</p>\n\n<p>I'm citing myself with an explanation of undefined behavior:</p>\n\n<blockquote>\n  <h3>Undefined behavior in <code>C</code></h3>\n  \n  <p>C is a very low-level language and one consequence of that is the following:</p>\n  \n  <p><em>Nothing will ever stop you from doing something completely wrong</em>.</p>\n  \n  <p>Many languages, especially those for some <em>managed environment</em> like <code>Java</code>\n  or <code>C#</code> actually stop you when you do things that are not allowed, say,\n  access an array element that does not exist. <code>C</code> doesn't. As long as your\n  program is <em>syntactically</em> correct, the compiler won't complain. If you do\n  something forbidden in your program, <code>C</code> just calls the behavior of your\n  program <strong>undefined</strong>. This formally allows anything to happen when running\n  the program. Often, the result will be a crash or just output of \"garbage\"\n  values, as seen above. But if you're really unlucky, your program will seem\n  to <em>work just fine</em> until it gets some slightly different input, and by that\n  time, you will have a really hard time to spot where exactly your program is\n  <em>undefined</em>. Therefore <strong>avoid undefined behavior by all means!</strong>.</p>\n  \n  <p>On a side note, <em>undefined behavior</em> can also cause security holes. This\n  has happened <em>a lot</em> in practice.</p>\n</blockquote>\n\n<p>You're hitting one of the cases where the program seems to do something resembling correct execution, this is <em>bad luck</em>.</p>\n\n<p>But it's undefined and as proof see what happens on my machine using your unmodified code:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ./scope\n x = 1, y = 2, z = 3\n x = 10, y = 20.000000, z = 3\n x = 1, y = 0.000000, z = 3\n</code></pre>\n\n<hr>\n\n<p>side note: although <em>shadowing</em> is well-defined, you should avoid it as well. It's just to risky to create buggy code with shadowing because, although the compiler hasn't a problem, <strong>you</strong> start to confuse your variables.</p>\n"}, {"tags": [], "owner": {"reputation": 1800, "user_id": 4769313, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/gFISt.png?s=128&g=1", "display_name": "Sir Jo Black", "link": "https://stackoverflow.com/users/4769313/sir-jo-black"}, "is_accepted": false, "score": 1, "last_activity_date": 1497436459, "creation_date": 1497436459, "answer_id": 44542287, "question_id": 44541680, "link": "https://stackoverflow.com/questions/44541680/unusual-behaviour-in-case-of-nested-scope-variables/44542287#44542287", "title": "Unusual behaviour in case of nested scope variables", "body": "<p>Try the way in the code below! ;) </p>\n\n<p>The problem is as indicated in the other answers. You forget that in the scope the <code>y</code> variable is an <code>int</code>!!!</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n    int x = 1, y = 2, z = 3;\n    printf(\" x = %d, y = %d, z = %d \\n\", x, y, z);\n    {\n        int x = 10;\n        float y = 20;\n\n        printf(\" x = %d, y = %f, z = %d \\n\", x, y, z);\n    }\n\n    {\n        int z = 100;\n        printf(\" x = %d, y = %f, z = %d \\n\", x, (float)y, z);\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 4462539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Te4V4.jpg?s=128&g=1", "display_name": "Shubhodeep Mitra", "link": "https://stackoverflow.com/users/4462539/shubhodeep-mitra"}, "edited": false, "score": 0, "creation_date": 1497438456, "post_id": 44542353, "comment_id": 76076464, "body": "Thanks for the insight now I understand the reason for the value of y , I totally failed to notice that the value of  z is also wrong."}], "tags": [], "owner": {"reputation": 23946, "user_id": 3100312, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/486be6e961e6c8a2e4705058600e666f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ogilvie", "link": "https://stackoverflow.com/users/3100312/paul-ogilvie"}, "is_accepted": true, "score": 1, "last_activity_date": 1497436613, "creation_date": 1497436613, "answer_id": 44542353, "question_id": 44541680, "link": "https://stackoverflow.com/questions/44541680/unusual-behaviour-in-case-of-nested-scope-variables/44542353#44542353", "title": "Unusual behaviour in case of nested scope variables", "body": "<p>The undefined behaviour, as identified in other answers, is explained on my Intel platform with VC as that the <code>%f</code> format specifier expects a double on the stack, which is larger than an <code>int</code> so when it retrieves the value, it retrieves more bytes than of an int and now assumes the next parameter at a diferent position on the stack, causing <code>z</code> to be printed wrong (i.e. it is not <code>z</code> that is printed).</p>\n"}], "owner": {"reputation": 49, "user_id": 4462539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Te4V4.jpg?s=128&g=1", "display_name": "Shubhodeep Mitra", "link": "https://stackoverflow.com/users/4462539/shubhodeep-mitra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "closed_date": 1497441193, "accepted_answer_id": 44542353, "answer_count": 5, "score": 2, "last_activity_date": 1497436613, "creation_date": 1497434922, "last_edit_date": 1497435430, "question_id": 44541680, "link": "https://stackoverflow.com/questions/44541680/unusual-behaviour-in-case-of-nested-scope-variables", "closed_reason": "Duplicate", "title": "Unusual behaviour in case of nested scope variables", "body": "<p>I'm familiar with with nested scope rules in C, where same variable name inside the nested block shadows the outer variable with the same name.\nBut for the following code snippet I'm unable to determine the explanation for the output.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    int x = 1, y = 2, z = 3;\n    printf(\" x = %d, y = %d, z = %d \\n\", x, y, z);\n    {\n        int x = 10;\n        float y = 20;\n\n        printf(\" x = %d, y = %f, z = %d \\n\", x, y, z);\n    }\n\n    {\n        int z = 100;\n        printf(\" x = %d, y = %f, z = %d \\n\", x, y, z);\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>The output of the above snippet is:</p>\n\n<blockquote>\n  <p>x = 1, y = 2, z = 3</p>\n  \n  <p>x = 10, y = 20.000000, z = 3</p>\n  \n  <p>x = 1, y = 20.000000, z = 2</p>\n</blockquote>\n\n<p>Will anyone please help me to understand how the value of <code>y</code>in the third printf statement producing a value of the variable that's out of scope.</p>\n\n<p>First I thought it might be garbage value since printing integer with <code>%f</code> results in garbage value, so changing the value of <code>y</code> in the inner scope to some other value results in the same value as output,hence I'm confirmed that it's not a garbage value.</p>\n\n<p>I've compiled the program using gcc version 6.3.1 20161221 (Red Hat 6.3.1-1) (GCC), as well as compiled the program using various online compiler.</p>\n"}, {"tags": ["android", "c", "sockets", "tcp"], "comments": [{"owner": {"reputation": 23946, "user_id": 3100312, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/486be6e961e6c8a2e4705058600e666f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ogilvie", "link": "https://stackoverflow.com/users/3100312/paul-ogilvie"}, "edited": false, "score": 3, "creation_date": 1497434771, "post_id": 44541592, "comment_id": 76073787, "body": "Looks very strange. At worst the receiver will concatenate the data received, so would receive <code>&quot;0.20.50.9&quot;</code>"}, {"owner": {"reputation": 1518, "user_id": 2989411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9546f7c525de9829c89ea5801a78af11?s=128&d=identicon&r=PG", "display_name": "ArturFH", "link": "https://stackoverflow.com/users/2989411/arturfh"}, "edited": false, "score": 3, "creation_date": 1497434777, "post_id": 44541592, "comment_id": 76073792, "body": "Please provide  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a>."}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1497434835, "post_id": 44541592, "comment_id": 76073837, "body": "There must be some bug in the (multithreading?) code you didn&#39;t show."}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497434847, "post_id": 44541592, "comment_id": 76073847, "body": "You should read about how TCP protocol work..."}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1497435438, "post_id": 44541592, "comment_id": 76074245, "body": "TCP buffers data to avoid sending small packets. Use TCP_NODELAY"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1497437016, "post_id": 44541592, "comment_id": 76075374, "body": "@stark There is no guarantee that that will provide what the OP is expecting."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1497437108, "post_id": 44541592, "comment_id": 76075450, "body": "&#39;Double values and in string format&#39; is a contradiction in terms."}, {"owner": {"reputation": 206047, "user_id": 126769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zBsgn.png?s=128&g=1", "display_name": "nos", "link": "https://stackoverflow.com/users/126769/nos"}, "edited": false, "score": 0, "creation_date": 1497437264, "post_id": 44541592, "comment_id": 76075561, "body": "It isn&#39;t possible that you receive &quot;0.2.5.9&quot; , but you might very well receive &quot;0.20.50.9&quot; . TCP doesn&#39;t deal with messages or delimited data - it just provides a stream of data. A client doing several send() call could be received with just one recv() call, or vice versa."}, {"owner": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "edited": false, "score": 0, "creation_date": 1497437684, "post_id": 44541592, "comment_id": 76075875, "body": "Sorry, i will re-edit my post to show the real output values i got from the program tomorrow. I have just left the office. And posted this based on my very vague memory of the output i got"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1497439268, "post_id": 44541592, "comment_id": 76077085, "body": "Is your problem just that you aren&#39;t sending newlines?"}, {"owner": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "edited": false, "score": 0, "creation_date": 1497490826, "post_id": 44541592, "comment_id": 76104587, "body": "Hi all, I have edited my post, do have a look. Yes my data are all concatenated when I print it out. I  am sending newlines perhaps sometimes it doesn&#39;t get sent through?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1497492045, "post_id": 44541592, "comment_id": 76104900, "body": "You are not sending newlines."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1497492258, "post_id": 44541592, "comment_id": 76104950, "body": "Your edit continues to make no sense. There are three possibilities: -1, 0, and &gt; 0. You need to test them all. != 0 is not correct. You have not implemented <code>sizeof buffer -1</code> either. <code>\\n\\r</code> is not a correct line terminator. You have them back to front."}, {"owner": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1497494536, "post_id": 44541592, "comment_id": 76105366, "body": "@EJP oh okay, so what you meant is I do something like this? string.valueOf(multiplier+&quot;\\r\\n&quot;) ? Woah, the entire sample code for my server device uses \\n\\r so I was just following the same."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "edited": false, "score": 0, "creation_date": 1497437632, "post_id": 44542491, "comment_id": 76075839, "body": "Hmm, yes i may have coding bugs. I will re-edit my post to include my codes for sending and receiving data as well as the output of my program once I reach work tomorrow!"}, {"owner": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "edited": false, "score": 0, "creation_date": 1497490868, "post_id": 44542491, "comment_id": 76104595, "body": "Hi, I have edited my post to include my codes, do have a look! I&#39;m not very good with sockets yet so I may be having a bad practice in receiving or sending data I guess"}, {"owner": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "edited": false, "score": 0, "creation_date": 1497491546, "post_id": 44542491, "comment_id": 76104780, "body": "I have edited my post, as following pointers 1 and 2 you have provided. For number 3, what do you mean by separating the numbers?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "edited": false, "score": 0, "creation_date": 1497492312, "post_id": 44542491, "comment_id": 76104965, "body": "You are sending &quot;0.27&quot; immediately followed by &quot;0.53&quot;, and because there is no separation, and no message boundaries, you can receive that as &quot;0.270.53&quot;, and who knows how <code>atof()</code> is going to interpret that? Add a space or a comma or a line terminator or something, and <i>parse</i> your input. Your edit makes absolutely no sense. -1 means an <i>error,</i> on which you should call <code>perror()</code> and break; 0 means end of stream, on which you should break; and a <i>positive</i> number means data."}, {"owner": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "edited": false, "score": 0, "creation_date": 1497496190, "post_id": 44542491, "comment_id": 76105709, "body": "Okay, I have edited the post. What do you mean by parsing my input?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "edited": false, "score": 0, "creation_date": 1497496733, "post_id": 44542491, "comment_id": 76105835, "body": "At the rate which you&#39;ve taken up my previous suggestions I am afraid we will all be old and grey before you understand that."}], "tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": false, "score": 1, "last_activity_date": 1497493108, "last_edit_date": 1497493108, "creation_date": 1497436986, "answer_id": 44542491, "question_id": 44541592, "link": "https://stackoverflow.com/questions/44541592/tcp-server-receives-data-slower-than-rate-at-which-data-is-being-sent/44542491#44542491", "title": "TCP Server receives data slower than rate at which data is being sent", "body": "<p>What you have described is not possible unless you have coding bugs, but your expectations are misplaced. TCP goes to a lot of trouble to optimize network usage, and it provides a byte stream to the application, not a message service. Any expectation you may have that it will treat one send as one message and preserve that message boundary when receiving is completely without foundation.</p>\n\n<p><strong>EDIT</strong> Problems with your code:</p>\n\n<ol>\n<li>You are ignoring end of stream and errors. You need to check <code>nread</code> for both 0 and -1. </li>\n<li>You also need to ensure that adding the trailing null doesn't overrun the buffer, which would be best done by using <code>sizeof buffer -1</code> as the length in the <code>recv()</code> call.</li>\n<li>You aren't separating the numbers when you send them, so if they get coalesced, as they will, you get wrong values.</li>\n</ol>\n\n<blockquote>\n  <p>I am sending newlines</p>\n</blockquote>\n\n<p>No you aren't:</p>\n\n<pre><code>LoginActivity.getSocket().getOutputStream().write(String.valueOf(multiplier).getBytes());\n</code></pre>\n\n<p>There are no newlines there, only the bytes of a <code>String</code> value of (apparently) a <code>double</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "is_accepted": false, "score": 0, "last_activity_date": 1497603698, "creation_date": 1497603698, "answer_id": 44585098, "question_id": 44541592, "link": "https://stackoverflow.com/questions/44541592/tcp-server-receives-data-slower-than-rate-at-which-data-is-being-sent/44585098#44585098", "title": "TCP Server receives data slower than rate at which data is being sent", "body": "<p>Thanks for the help everyone. I was pretty sure either the socket on client side was having delays in sending data, or the server side having delays in receiving data.</p>\n\n<p>I added this line of code to my client side on my android.</p>\n\n<pre><code>socket.setTcpNoDelay(true);\n</code></pre>\n\n<p>And my program works as what I have expected. Not sure if there will be any negative effects for using that, but I didn't seem to face any problems after that.</p>\n"}], "owner": {"reputation": 51, "user_id": 7967199, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ced4fe56cf7aa1e7047f8f33693229cf?s=128&d=identicon&r=PG&f=1", "display_name": "Learning2code", "link": "https://stackoverflow.com/users/7967199/learning2code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1497603698, "creation_date": 1497434649, "last_edit_date": 1497495032, "question_id": 44541592, "link": "https://stackoverflow.com/questions/44541592/tcp-server-receives-data-slower-than-rate-at-which-data-is-being-sent", "title": "TCP Server receives data slower than rate at which data is being sent", "body": "<p>I am facing a weird problem. My TCP server has a print line that prints out\nthe buffer value whenever I receive data from the TCP client.</p>\n\n<p>My TCP Client will be able to send in the buffer, in double values through bytes. On Server receive, the bytes will be received and I output the value on the print line.</p>\n\n<p>For example:</p>\n\n<pre><code>TCP Client send: \"0.25\"\nTCP Server receive: \"0.25\"\n</code></pre>\n\n<p>However, because my client is able to control the speed at which data is being sent out, sometimes the server receive values concatenated together when I send out values too fast.</p>\n\n<p>For example:</p>\n\n<pre><code>TCP Client send: \"0.27\"\nTCP Client send: \"0.53\"\nTCP Client send: \"0.91\"\nTCP Server receive: \"0.270.530.90\"\n</code></pre>\n\n<p>But what I would expect is this:</p>\n\n<pre><code>TCP Server receive: \"0.27\"\nTCP Server receive: \"0.53\"\nTCP Server receive: \"0.90\"\n</code></pre>\n\n<p>Is there a way to solve this issue? </p>\n\n<p>Here is my sending of data on the client side on my android</p>\n\n<pre><code>LoginActivity.getSocket().getOutputStream().write(String.valueOf(multiplier).getBytes());\n</code></pre>\n\n<p>And here is my receiving of data on the server side.</p>\n\n<pre><code>while(1){\n        nread = sl_Recv(clientSocket, buffer, sizeof(buffer)-1, 0);\n        buffer[nread] = '\\0';\n        if(nread==0){\n            UART_PRINT(\"Connection Lost!\\n\\r\");\n            UART_PRINT(\"Listening again...\\n\\r\");\n            clientSocket = sl_Accept(welcomeSocket, ( struct SlSockAddr_t *)&amp;serverStorage, (SlSocklen_t*)&amp;addr_size);\n            if(clientSocket&lt;0){\n                sl_Close(welcomeSocket);\n                sl_Close(clientSocket);\n                ASSERT_ON_ERROR(ACCEPT_ERROR);\n            }\n            UART_PRINT(\"Successfully Connected!!!\\n\\r\");\n        }\n        else if(nread==-1){\n            ASSERT_ON_ERROR(RECV_ERROR);\n        }\n        else{\n            if(atof(buffer)&gt;=0 &amp;&amp; atof(buffer)&lt;=1){\n                UART_PRINT(\"Data Received: %s\\n\\r\",buffer);\n            }\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1497434486, "post_id": 44541482, "comment_id": 76073563, "body": "is there a pressing need to write the code like that rather than in a more clearer &amp; verbose way?"}, {"owner": {"reputation": 1518, "user_id": 2989411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9546f7c525de9829c89ea5801a78af11?s=128&d=identicon&r=PG", "display_name": "ArturFH", "link": "https://stackoverflow.com/users/2989411/arturfh"}, "edited": false, "score": 4, "creation_date": 1497434623, "post_id": 44541482, "comment_id": 76073663, "body": "I do not know what was your previous language of choice, however C does not work that way. Please learn about the <code>if</code> statement in C. Also, please keep in mind that <code>recv()</code> could also return <code>-1</code>."}, {"owner": {"reputation": 117, "user_id": 7893856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198fd92b6eddb8baae2a9c5bf140bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "user7893856", "link": "https://stackoverflow.com/users/7893856/user7893856"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1497434730, "post_id": 44541482, "comment_id": 76073756, "body": "@ChrisTurner Nope! But it&#39;s kind of bash-idiomatic (at least it seems that way) so I figured the intent would be pretty clear."}, {"owner": {"reputation": 117, "user_id": 7893856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198fd92b6eddb8baae2a9c5bf140bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "user7893856", "link": "https://stackoverflow.com/users/7893856/user7893856"}, "reply_to_user": {"reputation": 1518, "user_id": 2989411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9546f7c525de9829c89ea5801a78af11?s=128&d=identicon&r=PG", "display_name": "ArturFH", "link": "https://stackoverflow.com/users/2989411/arturfh"}, "edited": false, "score": 0, "creation_date": 1497434823, "post_id": 44541482, "comment_id": 76073830, "body": "@ArturR.Czechowski I&#39;m not asking if this is a good idea or not. I&#39;m asking if it&#39;s doable."}, {"owner": {"reputation": 1518, "user_id": 2989411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9546f7c525de9829c89ea5801a78af11?s=128&d=identicon&r=PG", "display_name": "ArturFH", "link": "https://stackoverflow.com/users/2989411/arturfh"}, "edited": false, "score": 0, "creation_date": 1497434904, "post_id": 44541482, "comment_id": 76073877, "body": "@user7893856 I am not telling if this is a good idea or not. Compiler already told you it&#39;s not. I am giving you direction to use a proper C construct to achieve required result."}, {"owner": {"reputation": 56328, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 1, "creation_date": 1497439386, "post_id": 44541482, "comment_id": 76077178, "body": "What&#39;s wrong with <code>if (...) return ...;</code>?"}, {"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1497439985, "post_id": 44541482, "comment_id": 76077626, "body": "The part after <code>&amp;&amp;</code> is only executed if the first part results in <code>TRUE</code>. Nevertheless <code>r</code> is not assigned any value before the whole monster of an expression is evaluated and is not available for printing at this time."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497440654, "post_id": 44541482, "comment_id": 76078097, "body": "What is <code>-</code> in <code>return -r;</code> supposed to indicate? Negation?"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 7893856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198fd92b6eddb8baae2a9c5bf140bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "user7893856", "link": "https://stackoverflow.com/users/7893856/user7893856"}, "edited": false, "score": 0, "creation_date": 1497438992, "post_id": 44541646, "comment_id": 76076868, "body": "I mean... I don&#39;t understand the upvotes since there is clearly a way to do this by using GCC extensions. This answer is wrong."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 117, "user_id": 7893856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198fd92b6eddb8baae2a9c5bf140bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "user7893856", "link": "https://stackoverflow.com/users/7893856/user7893856"}, "edited": false, "score": 1, "creation_date": 1497439081, "post_id": 44541646, "comment_id": 76076939, "body": "@user7893856 GCC extensions are <b>not C</b>, so what&#39;s wrong here is your comment."}, {"owner": {"reputation": 56328, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "reply_to_user": {"reputation": 117, "user_id": 7893856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198fd92b6eddb8baae2a9c5bf140bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "user7893856", "link": "https://stackoverflow.com/users/7893856/user7893856"}, "edited": false, "score": 1, "creation_date": 1497439591, "post_id": 44541646, "comment_id": 76077326, "body": "@user7893856 I upvoted this answer for pointing out (and highlighting) elementary language concepts that many people don&#39;t understand."}, {"owner": {"reputation": 117, "user_id": 7893856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198fd92b6eddb8baae2a9c5bf140bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "user7893856", "link": "https://stackoverflow.com/users/7893856/user7893856"}, "edited": false, "score": 0, "creation_date": 1497439941, "post_id": 44541646, "comment_id": 76077588, "body": "You probably mean that GCC extensions are not ISO C. So you answer is still objectively wrong - and even if it hadn&#39;t been TECHNICALLY wrong, it would have been unnecessarily inexhaustive."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 117, "user_id": 7893856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198fd92b6eddb8baae2a9c5bf140bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "user7893856", "link": "https://stackoverflow.com/users/7893856/user7893856"}, "edited": false, "score": 1, "creation_date": 1497440058, "post_id": 44541646, "comment_id": 76077685, "body": "@user7893856 please read the tag description for <a href=\"https://stackoverflow.com/questions/tagged/c\">c</a>: &quot;<i>Unless the question explicitly mentions which version of the C standard that is used, it is assumed that the current version is used. That is, whichever version of ISO 9899 that ISO currently lists as active.</i>&quot;. Apart from that, without explicitly mentioning extensions, anyone talking about C refers to the standardized language."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "is_accepted": false, "score": 8, "last_activity_date": 1497434811, "creation_date": 1497434811, "answer_id": 44541646, "question_id": 44541482, "link": "https://stackoverflow.com/questions/44541482/logical-operators-as-conditionals-in-c/44541646#44541646", "title": "logical operators as conditionals in c", "body": "<blockquote>\n  <p>the expression after the &amp;&amp; should be executed if and only if the first one is non-zero.</p>\n</blockquote>\n\n<p>And here is your problem: <em>expressions</em> aren't <em>executed</em>, they are <em>evaluated</em>. Statements are executed.</p>\n\n<p>Expressions can have <em>side effects</em> happening during evaluation, but they <em>always</em> evaluate to some value. As you have already learned, <code>return</code> is a <em>statement</em> and not an <em>expression</em>.</p>\n\n<p>So, in short, no, there's no way for what you want to do.</p>\n"}, {"comments": [{"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 1, "creation_date": 1497436333, "post_id": 44542195, "comment_id": 76074851, "body": "Ah, the mighty comma-operator, nice!! (Not upvoting, as you yourself mentioned, it&#39;s bad code). :)"}, {"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "reply_to_user": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1497436421, "post_id": 44542195, "comment_id": 76074918, "body": "@StoryTeller I don&#39;t think so, but then, I&#39;m not sure."}, {"owner": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1497436483, "post_id": 44542195, "comment_id": 76074960, "body": "@SouravGhosh - <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Statement-Exprs.html\" rel=\"nofollow noreferrer\">I found the answer</a> (GCC extension). Still nice though."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "reply_to_user": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1497436487, "post_id": 44542195, "comment_id": 76074966, "body": "@StoryTeller I think the doubt would be regarding <code>({statement})</code>. I am checking it that is standard"}, {"owner": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1497436663, "post_id": 44542195, "comment_id": 76075086, "body": "BTW, following the GCC documentation, you could remove some parentheses in the last expression <code>({return r; 0;})</code>. But it&#39;s a matter of taste, I think."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "reply_to_user": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1497436796, "post_id": 44542195, "comment_id": 76075198, "body": "@StoryTeller so, yes it is a gcc extension. Even gcc complains <i>warning: ISO C forbids braced-groups within expressions</i> with -pedantic. Not standard then."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497439215, "post_id": 44542195, "comment_id": 76077048, "body": "Even after writing &quot;bad&quot; twice (once with bold) the author accepted this answer. I will just throw a few more in - bad, bad, bad, bad, bad, bad, bad. Maybe that helps."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 1, "creation_date": 1497439269, "post_id": 44542195, "comment_id": 76077088, "body": "@AjayBrahmakshatriya it&#39;s an interesting feature, just add it&#39;s not (standard) C and anyone reading this later will know without reading the comments :)"}, {"owner": {"reputation": 117, "user_id": 7893856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198fd92b6eddb8baae2a9c5bf140bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "user7893856", "link": "https://stackoverflow.com/users/7893856/user7893856"}, "edited": false, "score": 0, "creation_date": 1497439270, "post_id": 44542195, "comment_id": 76077089, "body": "I understand what&#39;s going on so there&#39;s no problem there. If anything, I&#39;d like to know if this is a bad idea for reasons other than clarity, readability or dogma."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 2, "creation_date": 1497439289, "post_id": 44542195, "comment_id": 76077103, "body": "This will not compile on a standard C compiler. Bad idea. The OP did not mention GCC anywhere so this does not answer the question."}, {"owner": {"reputation": 13124, "user_id": 1419272, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dcbff46aa5cd0a98d13d76595b3375f0?s=128&d=identicon&r=PG", "display_name": "alinsoar", "link": "https://stackoverflow.com/users/1419272/alinsoar"}, "edited": false, "score": 1, "creation_date": 1497439333, "post_id": 44542195, "comment_id": 76077134, "body": "expression-statement is specific to gcc, not to the C language in general."}, {"owner": {"reputation": 56328, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1497439637, "post_id": 44542195, "comment_id": 76077362, "body": "One word: ugly. Upvoted, however, for pointing out that it is a bad idea."}], "tags": [], "owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "is_accepted": true, "score": -1, "last_activity_date": 1497440142, "last_edit_date": 1497440142, "creation_date": 1497436263, "answer_id": 44542195, "question_id": 44541482, "link": "https://stackoverflow.com/questions/44541482/logical-operators-as-conditionals-in-c/44542195#44542195", "title": "logical operators as conditionals in c", "body": "<p>This is a <strong>bad</strong> idea but just since you want it, here you go</p>\n\n<pre><code>r = recv(socket, buffer, bufsize, 0) &amp;&amp; (({return r;}),0);\n</code></pre>\n\n<p>This will work as you want.</p>\n\n<p>I can explain what is happening if you need.\nI repeat it is bad idea. </p>\n\n<p>Apart from being a bad idea this solution uses a gcc extension named - <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Statement-Exprs.html\" rel=\"nofollow noreferrer\">Statement-expressions</a>. So this answer is not portable across compilers. </p>\n"}, {"tags": [], "owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "is_accepted": false, "score": 1, "last_activity_date": 1497439150, "creation_date": 1497439150, "answer_id": 44543292, "question_id": 44541482, "link": "https://stackoverflow.com/questions/44541482/logical-operators-as-conditionals-in-c/44543292#44543292", "title": "logical operators as conditionals in c", "body": "<p>Yes it is possible.</p>\n\n<pre><code>r = recv(socket, buffer, bufsize, 0);\nif (r != 0)\n{\n  return r;\n}\n</code></pre>\n\n<p>If you are searching for something more complicated than that, you are doing it wrong. Good programmers strive for simplicity, bad programmers strive for obfuscation.</p>\n"}, {"tags": [], "owner": {"reputation": 13124, "user_id": 1419272, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dcbff46aa5cd0a98d13d76595b3375f0?s=128&d=identicon&r=PG", "display_name": "alinsoar", "link": "https://stackoverflow.com/users/1419272/alinsoar"}, "is_accepted": false, "score": 2, "last_activity_date": 1497439235, "creation_date": 1497439235, "answer_id": 44543324, "question_id": 44541482, "link": "https://stackoverflow.com/questions/44541482/logical-operators-as-conditionals-in-c/44543324#44543324", "title": "logical operators as conditionals in c", "body": "<p><code>printf()</code> is syntactically an <code>expression</code> (function call) while <code>return __</code> is a <code>jump-statement</code>. </p>\n\n<p>The operator <code>&amp;&amp;</code> requires 2 operands of type <code>expression</code>, this is why it rejects your code.</p>\n\n<p>Look at <code>Appendix A</code> in the <code>ISO 9899</code>.</p>\n"}], "owner": {"reputation": 117, "user_id": 7893856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/198fd92b6eddb8baae2a9c5bf140bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "user7893856", "link": "https://stackoverflow.com/users/7893856/user7893856"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 44542195, "answer_count": 4, "score": 0, "last_activity_date": 1497441430, "creation_date": 1497434382, "last_edit_date": 1497441430, "question_id": 44541482, "link": "https://stackoverflow.com/questions/44541482/logical-operators-as-conditionals-in-c", "title": "logical operators as conditionals in c", "body": "<p>I'd like to do the following:</p>\n\n<pre><code>r = recv(socket, buffer, bufsize, 0) &amp;&amp; return r;\n</code></pre>\n\n<p>which doesn't work because <code>return -r;</code> isn't an expression. However, </p>\n\n<pre><code>r = recv(socket, buffer, bufsize, 0) &amp;&amp; printf(\"r=%d\\n\", r);\n</code></pre>\n\n<p>seems to work. Now, there's not a whole lot to gain from this apart from syntactical brevity but I'm still curious if there's a way to accomplish the functionality of <code>&amp;&amp; return r;</code> that actually compiles?</p>\n\n<p>EDIT: If it wasn't clear, the expression after the <code>&amp;&amp;</code> should be executed if and only if the first one is non-zero.</p>\n"}, {"tags": ["c", "pointers"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 3, "creation_date": 1497431215, "post_id": 44540183, "comment_id": 76071155, "body": "The error message is clear. The type of <code>p</code> is <code>int*</code> but <code>%d</code> expects an <code>int</code>."}, {"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1497431314, "post_id": 44540183, "comment_id": 76071230, "body": "Sorry....I did not understand the question. Was the message unclear? I believe it would have also pointed out the line number containing the mistake...right?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497431489, "post_id": 44540183, "comment_id": 76071344, "body": "You don&#39;t need more libraries, but a good C book. Read the chapter about types. And this is not specific to ObjC."}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1497431554, "post_id": 44540183, "comment_id": 76071384, "body": "@MichaelWalz So, how would i write in code to fix it? (Thank you for getting back to me - and would appreciate the use of you editing my code so i can see how it is to be written in C, for future use.)"}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497431601, "post_id": 44540183, "comment_id": 76071411, "body": "@Olaf What book would you recommend?"}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1497431645, "post_id": 44540183, "comment_id": 76071442, "body": "@SouravGhosh If your talking about the error message: it reads as fallows &quot;Format specifies type &#39;int&#39; but the argument has type &#39;int *&#39; &quot;. If i am answering you correctly"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497431694, "post_id": 44540183, "comment_id": 76071477, "body": "The one you find yourself. SO provides a list. Go, find it!"}, {"owner": {"reputation": 19358, "user_id": 3049655, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ZLzeP.jpg?s=128&g=1", "display_name": "Spikatrix", "link": "https://stackoverflow.com/users/3049655/spikatrix"}, "edited": false, "score": 1, "creation_date": 1497431712, "post_id": 44540183, "comment_id": 76071492, "body": "Use <code>%p</code> to print pointers and don&#39;t forget to cast its argument to <code>void*</code>. <code>sizeof</code> returns <code>size_t</code> and the correct format specifier for <code>size_t</code> is <code>%zu</code>."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497431763, "post_id": 44540183, "comment_id": 76071524, "body": "Why not OP let find out? The message could not be more clear."}, {"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1497431848, "post_id": 44540183, "comment_id": 76071594, "body": "@SirLockInBottom I don&#39;t mean to disrespect you, but a closer look would reveal something like <code>prog.c:12:27: error: format \u2018%d\u2019 expects argument of type \u2018int\u2019, but argument 2 has type \u2018int *\u2019 [-Werror=format=]</code>...so it says I have a problem in line 12, column 27....that should be enough indicator to pinpoint the erroneous instruction."}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497431899, "post_id": 44540183, "comment_id": 76071628, "body": "@Olaf We do have developer.apple website that i have been looking into, but using them still reaches a dead end."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497432082, "post_id": 44540183, "comment_id": 76071775, "body": "As I said: learn the basics! C is no language for trial&amp;error learning. And websites or youtube are a bad idea for learning, too."}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1497432086, "post_id": 44540183, "comment_id": 76071777, "body": "@SouravGhosh Its alright dude, i am not disrespected at all really, haha. What i really want is an answer to my problem so i can continue coding with ease. And since your getting an error like that in Xcode (if your using it). Then, how would you rewrite, my code for it to function perfectly without any errors?"}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497432264, "post_id": 44540183, "comment_id": 76071905, "body": "@Olaf I do have a book called Data structures using c and C++ by Yedidya * Moshe* Aaron. 2nd edition. Will it provide anything - assuming you heard of these authors - i&#39;ve been getting a lot of &quot;Oh his or her, book is better&quot; which makes it much more difficult to learn code since their are so many authors for the same subject. (thanks by the way)"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497432619, "post_id": 44540183, "comment_id": 76072139, "body": "From the title, I&#39;d throw it away. C and C++ are different languages, a book trying to cover both is already a major fail. It also seems to be directed to people knowing the languages already. I repeat: <i>you</i> need the basics! And this is not a chatroom, so, that&#39;s all I have to say about this."}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497432836, "post_id": 44540183, "comment_id": 76072297, "body": "@Olaf Thanks for that, i will try to find a better book to describe the Basics."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497432968, "post_id": 44540183, "comment_id": 76072399, "body": "@SirLockInBottom Welcome to Stack overflow. Suggestions for books usually start to get opinionated and the discussions usually go no where. So we avoid suggesting any books explicitly. Still, you can look at <a href=\"https://stackoverflow.com/questions/562303/the-definitive-c-book-guide-and-list\">this</a> question which mentions some really good books."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497433103, "post_id": 44540183, "comment_id": 76072503, "body": "@SirLockInBottom Coming to your problem, what you have done is you are trying to print an address but in the printf format specifier you have written %d. A %d is used when you want to print an integer. An integer is not a pointer and is also not convertible as such. If you actually want to print the pointer you need to change %d to %p in the first printf (and also the one with p+1). Finally also cast p to <code>void*</code> as <code>(void*) p</code>."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "reply_to_user": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1497433269, "post_id": 44540183, "comment_id": 76072619, "body": "@SirLockInBottom Regarding what @SouravGhosh was saying, that is a very important point. You need to learn how to interpret the error messages. I am not aware of Xcode but usually all compilers give a very descriptive error message which should point you to the most probable error site. Usually the error message is also accompanied with a line number. If your compiler doesn&#39;t have such error messages (or if the IDE is hiding them) I suggest use some other compiler. I believe you are using a Mac for development. So <code>clang</code> should be a good choice."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497433349, "post_id": 44540183, "comment_id": 76072668, "body": "@SirLockInBottom AFAIK Xcode must be configured to use <code>clang</code> as a compiler. But you can manually invoke the compiler from command line (with appropriate flags so it shows you all errors and warnings)."}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497433946, "post_id": 44540183, "comment_id": 76073153, "body": "@AjayBrahmakshatriya Appreciate the help, the %p manage to turn it to Hex form - which is good enough to understand the address. I will use clang as a new IDE rather than Xcode and will see how that goes. I don&#39;t really know how to manually do the invocation for flags. I didn&#39;t know you could do that."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497434173, "post_id": 44540183, "comment_id": 76073313, "body": "@SirLockInBottom hex is usually a good notation to read addresses because in decimal the numbers tend to get very large and all the &quot;good&quot; sizes like 16 bytes, 1024 bytes, 4096 bytes look better in hex. <code>clang</code> is not an IDE but a compiler. An IDE uses a compiler internally. You can invoke a compiler manually from a terminal. The flags which I mentioned are usually passed along with the file name to the compiler. You can type <code>clang --help</code> to see a list of all flags. The flag <code>-Wall</code> should be enough for you and will display all warnings."}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497434260, "post_id": 44540183, "comment_id": 76073382, "body": "@AjayBrahmakshatriya Umm, quick question what if the Zip file of Clang ends up opening another zip file on-top of another zip file? Is that suppose to happen?"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497434409, "post_id": 44540183, "comment_id": 76073487, "body": "@SirLockInBottom I am guessing you are trying to install clang. I have a feeling your machine must already have it installed. In a terminal try running <code>cc --version</code> and check if it prints anything which says <code>clang ...</code>. If yes, you can directly start using <code>cc</code> as a compiler. You don&#39;t need a zip file."}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497434436, "post_id": 44540183, "comment_id": 76073517, "body": "@AjayBrahmakshatriya Ummm. . .We have a problem, using the terminal dose not have -Wall on it. So whats the next step?"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497434490, "post_id": 44540183, "comment_id": 76073565, "body": "@SirLockInBottom What was the result of <code>cc --version</code> in the terminal?"}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497434545, "post_id": 44540183, "comment_id": 76073599, "body": "@AjayBrahmakshatriya Here is what i got on the cc --version:                    <b>cc --version Apple LLVM version 8.1.0 (clang-802.0.42) Target: x86_64-apple-darwin16.6.0 Thread model: posix InstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeD&zwnj;&#8203;efault.xctoolchain/u&zwnj;&#8203;sr/bin</b>"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497434612, "post_id": 44540183, "comment_id": 76073650, "body": "@SirLockInBottom Great! You already have clang installed. You can start using it directly. Type in <code>cc --help</code> and it will have all information on how to use the compiler."}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497434740, "post_id": 44540183, "comment_id": 76073763, "body": "@AjayBrahmakshatriya So i will be using the terminal itself to write in C, correct?"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497434741, "post_id": 44540183, "comment_id": 76073764, "body": "@SirLockInBottom You can also look at <a href=\"https://stackoverflow.com/questions/32337643/how-to-run-c-program-on-mac-os-x-using-terminal\">this</a> for help on how to compile C code from the terminal and run it. You can write the code anywhere. In a normal text editor, Xcode anything. Just save it as a .c file and use the terminal to compile and run it. For beginner users it is advisable to use a text editor/IDE. You can continue using Xcode to write the code."}, {"owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497435164, "post_id": 44540183, "comment_id": 76074061, "body": "@AjayBrahmakshatriya I&#39;m actually getting more confused, so after knowing that my version of C is correct, and that the Terminal itself for getting Xcode downloaded; i can now write code on the Terminal? (I&#39;m Dyslexic so i apologies for my . . . mental shortcomings.)"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497435461, "post_id": 44540183, "comment_id": 76074266, "body": "@SirLockInBottom Not a problem at all. So you see you need a text editor to write the code. You can write from the terminal but it might be a difficult to use. Given that you are already familiar with Xcode, use that to write the code. Then save the file as a .c file. You can then use the terminal to compile and run the code."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497435537, "post_id": 44540183, "comment_id": 76074315, "body": "@SirLockInBottom if terminal is too confusing, you can continue to use Xcode as before(for everything), just pay more attention to the Warnings and errors it displays."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497438522, "post_id": 44540183, "comment_id": 76076509, "body": "<code>(#) include &lt; stdio.h &gt;</code> shouldn&#39;t compile. Change to <code>#include &lt;stdio.h&gt;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497438666, "post_id": 44543059, "comment_id": 76076623, "body": "Overall, don&#39;t spend too much time learning about the obscure stdio.h library. It has lots of complexity and is also generally dangerous. It is rarely used in professional production code."}], "tags": [], "owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "is_accepted": false, "score": 0, "last_activity_date": 1497438490, "creation_date": 1497438490, "answer_id": 44543059, "question_id": 44540183, "link": "https://stackoverflow.com/questions/44540183/xcode-first-time-objective-c-for-pointer-study-do-i-need-more-libraries/44543059#44543059", "title": "(Xcode), first time Objective C for pointer study - do i need more libraries?", "body": "<ul>\n<li><code>%d</code> is a format specifier. <code>%d</code> in particular is used to print arguments of type <code>int</code>.</li>\n<li><code>p</code> is not an <code>int</code>, it is a pointer to int, type <code>int*</code>.</li>\n<li>To print pointers, use the <code>%p</code> format specifier.</li>\n<li><code>*p</code> is however of type <code>int</code>, since you de-referenced the pointer. For such arguments you should use <code>%d</code>.</li>\n</ul>\n\n<p>As a side note, the result of <code>sizeof</code> isn't <code>int</code> but another integer type called <code>size_t</code>. To print this one, you need to use <code>%zu</code>.</p>\n"}], "owner": {"reputation": 9, "user_id": 8159237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_m-N0e613Jc/AAAAAAAAAAI/AAAAAAAAALw/SkmJOttbelo/photo.jpg?sz=128", "display_name": "SirLockInBottom", "link": "https://stackoverflow.com/users/8159237/sirlockinbottom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1497438490, "creation_date": 1497430911, "last_edit_date": 1497431514, "question_id": 44540183, "link": "https://stackoverflow.com/questions/44540183/xcode-first-time-objective-c-for-pointer-study-do-i-need-more-libraries", "title": "(Xcode), first time Objective C for pointer study - do i need more libraries?", "body": "<pre><code>(#) include &lt; stdio.h &gt;\n\nint main () {\n\n    int a = 10;\n    int *p;\n\n    p = &amp;a;\n\n    //Pointer arithmetic\n\n    printf(\"Address p is %d\\n\", p);                       //error here\n    printf(\"Value at address p is %d\\n\", *p);\n    printf(\"Size of integer is %d bytes\\n\", sizeof(int)); //error  \n    printf(\"Address p+1 is %d\\n\", p+1);                   //error as well\n    printf(\"Value at address p+1 is %d\\n\", *(p+1));\n\n    return 0;\n}\n</code></pre>\n\n<p>Ok, as you see above, i am studying pointers under Objective-C. \nNote: This is my first time studying under Xcode version 8.3.3 using my Mac Sierra 10.12.5.</p>\n\n<p>What I am experiencing in errors is that, and i quote: <strong>\"Format specifies type 'int' but the argument has type 'int *' \"</strong>. </p>\n\n<p>Am I needing to download additional libraries or is their something i'm missing - to knock out this error?</p>\n\n<p>Really appreciate the help and as well the Terminal code to help fix this error. </p>\n\n<p>Please and thank you - and apologies, this is my first time using stack-over-flow question and site.</p>\n"}, {"tags": ["c", "recursion", "linked-list"], "comments": [{"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 0, "creation_date": 1497431027, "post_id": 44540103, "comment_id": 76071009, "body": "like <code>print_list(head -&gt; next); printf(&quot; -&gt; %d&quot;, head -&gt; data);</code>"}, {"owner": {"reputation": 4827, "user_id": 8051589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VNG6.png?s=128&g=1", "display_name": "Andre Kampling", "link": "https://stackoverflow.com/users/8051589/andre-kampling"}, "edited": false, "score": 0, "creation_date": 1497431128, "post_id": 44540103, "comment_id": 76071089, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14080758/reversing-a-linkedlist-recursively-in-c\">Reversing a linkedlist recursively in c</a>"}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 1, "creation_date": 1497432162, "post_id": 44540103, "comment_id": 76071833, "body": "Note: for small jobs, recursion is fine, but you will generally want to stick to procedural solutions when the number of recursions may be large. Why? Because each recursion is a separate function call that reserves memory for distinct and separate stack frame to handle all variables local to that function. If you recurse 100,000 times, that&#39;s 100,000 separate function calls. That can really add up as the number of recursions continue to grow."}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497445001, "post_id": 44540103, "comment_id": 76081406, "body": "Why not use iterative on this problem ? If you search only recursive the good and only method is to reverse the list (create a new one if you want) and to print it. There are no magical solution that make it tail recursive without reverse the list."}], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 1049345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3219a432eaf5a2c264781489cfdb190?s=128&d=identicon&r=PG", "display_name": "goloap", "link": "https://stackoverflow.com/users/1049345/goloap"}, "is_accepted": false, "score": 5, "last_activity_date": 1497431326, "creation_date": 1497431326, "answer_id": 44540324, "question_id": 44540103, "link": "https://stackoverflow.com/questions/44540103/list-reverse-printing/44540324#44540324", "title": "List reverse-printing", "body": "<p>You can simply do this by changing the order of the print calls. If you print the rest of the list first, then the order will be inverted.</p>\n\n<pre><code>print_list(head -&gt; next);\nprintf(\"%d -&gt; \", head -&gt; data);\n</code></pre>\n\n<p>It's really a question of how you go through the list.</p>\n"}, {"tags": [], "owner": {"reputation": 579, "user_id": 7836833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb87f5fabe44f9fa321cd70d7cbece7d?s=128&d=identicon&r=PG&f=1", "display_name": "deepakchethan", "link": "https://stackoverflow.com/users/7836833/deepakchethan"}, "is_accepted": false, "score": 2, "last_activity_date": 1497432118, "last_edit_date": 1497432118, "creation_date": 1497431435, "answer_id": 44540356, "question_id": 44540103, "link": "https://stackoverflow.com/questions/44540103/list-reverse-printing/44540356#44540356", "title": "List reverse-printing", "body": "<p>You just need to interchange the printf statement and recursive call. </p>\n\n<pre><code>void print_list(LINK head){ \n     if(head == NULL)\n          printf(\"NULL\\n\"); \n     else{\n          print_list(head -&gt; next);\n          printf(\"%d -&gt; \", head -&gt; data);\n      }\n } \n</code></pre>\n\n<p>Then the printf statement in the last recursive call will be executed first followed by others.</p>\n"}, {"comments": [{"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1497434228, "post_id": 44541299, "comment_id": 76073353, "body": "Not necessarily - one <i>could</i> revert the list first and then on reverting it back, print out every element - all without recursion... Note: I don&#39;t say it&#39;s better, I just say: one does not <i>&quot;have to&quot;</i>..."}, {"owner": {"reputation": 23946, "user_id": 3100312, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/486be6e961e6c8a2e4705058600e666f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ogilvie", "link": "https://stackoverflow.com/users/3100312/paul-ogilvie"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1497434587, "post_id": 44541299, "comment_id": 76073627, "body": "@Aconcagua, Indeed. My requirement wasn&#39;t specific enough and should include &quot;without modifying the list [because other tasks may be operating on it]&quot;."}], "tags": [], "owner": {"reputation": 23946, "user_id": 3100312, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/486be6e961e6c8a2e4705058600e666f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ogilvie", "link": "https://stackoverflow.com/users/3100312/paul-ogilvie"}, "is_accepted": false, "score": 2, "last_activity_date": 1497433967, "creation_date": 1497433967, "answer_id": 44541299, "question_id": 44540103, "link": "https://stackoverflow.com/questions/44540103/list-reverse-printing/44541299#44541299", "title": "List reverse-printing", "body": "<p>When your list gets very large, recursion won't help as you will eventually run our of stack space.</p>\n\n<p>If it is a <em>requirement</em> that you can print the list in reverse, you will have to adapt your data structure (and algorithms) to realize the requirement <em>without the posibility of running out of stack space</em>.</p>\n\n<p>In short, you have to implement a doubly linked list, that is, not only have  <code>next</code> member but also a <code>prev</code> member.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6740471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca87e72feb7d4a07cbced5160eea95a3?s=128&d=identicon&r=PG&f=1", "display_name": "Cihangir Akturk", "link": "https://stackoverflow.com/users/6740471/cihangir-akturk"}, "is_accepted": false, "score": 1, "last_activity_date": 1497444730, "last_edit_date": 1497444730, "creation_date": 1497443597, "answer_id": 44544929, "question_id": 44540103, "link": "https://stackoverflow.com/questions/44540103/list-reverse-printing/44544929#44544929", "title": "List reverse-printing", "body": "<p>Just traverse to the last node while pushing printf statements onto the stack. Once you get to the end of the list, the stack will start to unwind and your print functions will get called.</p>\n\n<pre><code>void print_list_reverse(LINK head){                                                                                                                                                                                                             \n    if(head == NULL)                                                                                                                                                                                                                        \n            printf(\"NULL -&gt; \");                                                                                                                                                                                                             \n    else{                                                                                                                                                                                                                                   \n            print_list_reverse(head -&gt; next);                                                                                                                                                                                               \n            printf(\"%d -&gt; \", head -&gt; data);                                                                                                                                                                                                 \n    }                                                                                                                                                                                                                                       \n\n}\n</code></pre>\n"}], "owner": {"reputation": 3337, "user_id": 5274567, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dZoJl.png?s=128&g=1", "display_name": "Worice", "link": "https://stackoverflow.com/users/5274567/worice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1497444730, "creation_date": 1497430738, "last_edit_date": 1497443186, "question_id": 44540103, "link": "https://stackoverflow.com/questions/44540103/list-reverse-printing", "title": "List reverse-printing", "body": "<p>Each node of a list holds, with the data, the address of the <em>successive</em> node. That's why recursion works well, like in the following example: it takes an input, such as <code>123456</code>, and then print it as a list <code>6 -&gt; 5 -&gt; 4 -&gt; 3 -&gt; 2 -&gt; 1 -&gt; NULL.\n</code></p>\n\n<pre><code>/* Structure types ----------------------------------------------*/\n\ntypedef int data;\nstruct list_element {\n   int                     data;\n   struct list_element     *next;\n};\ntypedef struct list_element ELEM;\ntypedef ELEM *LINK;\n\n\n/* Recursive list create and list print---------------*/\n\nLINK create_list(int n) {\n   if (n == 0) {\n      return NULL;\n   }\n   else {\n      LINK head = (LINK) malloc(sizeof(ELEM));\n      head -&gt; data = n % 10;\n      head -&gt; next = create_list(n / 10);\n      return head;\n   }\n}\n\nvoid print_list(LINK head) {\n   if(head == NULL)\n      printf(\"NULL\\n\");\n   else {\n      printf(\"%d -&gt; \", head -&gt; data);\n      print_list(head -&gt; next);\n   }\n}\n\n/* MAIN ---------------------------------------------------------*/\n\nint main(int argc, char *argv[]) {\n   int n; LINK ls;\n   printf(\"\\nType an integer:\\n\");\n   scanf(\"%d\", &amp;n);\n   ls = create_list(n);\n   print_list(ls);\n   return 0;\n}\n</code></pre>\n\n<p>Nodes do not hold the address of their <em>previous</em> neighbor. From this consideration the question: </p>\n\n<p>how can be possible to print a list from its <em>last</em> node, in order to have <code>NULL -&gt; 6 -&gt; 5 -&gt; 4 -&gt; 3 -&gt; 2 -&gt; 1</code> ? </p>\n\n<p>The answers to the question <a href=\"https://stackoverflow.com/questions/14080758/reversing-a-linkedlist-recursively-in-c\">Reversing a linkedlist recursively in c</a> actually point to a slightly different problem. They aim to reverse the list itself. I do not aim to change the order of the data inside the list.</p>\n"}, {"tags": ["android", "c", "linux", "udp", "ipc"], "comments": [{"owner": {"reputation": 42880, "user_id": 982161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/kutcC.png?s=128&g=1", "display_name": "\u03a6Xoc\u0119 \uc6c3 \u041fepe&#250;pa \u30c4", "link": "https://stackoverflow.com/users/982161/%ce%a6xoc%c4%99-%ec%9b%83-%d0%9fepe%c3%bapa-%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1497430755, "post_id": 44540076, "comment_id": 76070799, "body": "yes, for UDP is not relevant what language the code is written"}, {"owner": {"reputation": 30168, "user_id": 5612562, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/gzBQY.jpg?s=128&g=1", "display_name": "msc", "link": "https://stackoverflow.com/users/5612562/msc"}, "edited": false, "score": 0, "creation_date": 1497430768, "post_id": 44540076, "comment_id": 76070807, "body": "Yes, it is possible. <a href=\"https://stackoverflow.com/questions/9673072/udp-connection-between-c-server-and-java-client\" title=\"udp connection between c server and java client\">stackoverflow.com/questions/9673072/&hellip;</a>"}, {"owner": {"reputation": 4827, "user_id": 8051589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VNG6.png?s=128&g=1", "display_name": "Andre Kampling", "link": "https://stackoverflow.com/users/8051589/andre-kampling"}, "edited": false, "score": 0, "creation_date": 1497430774, "post_id": 44540076, "comment_id": 76070812, "body": "Therefore are protocols!"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1497430777, "post_id": 44540076, "comment_id": 76070815, "body": "Welcome to SO, unfortunately this question is off-topic as it&#39;s way too broad. The implementation language is completely independent of the transport protocol as it should be"}, {"owner": {"reputation": 395, "user_id": 7980658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a8a398fe8bfc300b8539214bdee7fb?s=128&d=identicon&r=PG", "display_name": "Paul-Louis Ageneau", "link": "https://stackoverflow.com/users/7980658/paul-louis-ageneau"}, "edited": false, "score": 0, "creation_date": 1497431037, "post_id": 44540076, "comment_id": 76071016, "body": "Yes, standard protocols are specifically made for this goal."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1497432874, "post_id": 44540076, "comment_id": 76072322, "body": "@EdChum If the implementation language is independent of the transport protocol, how is it too broad? And how is it too broad when the answer is either yes or no?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1497433327, "post_id": 44540076, "comment_id": 76072651, "body": "@EJP fair point, yes it&#39;s a straight yes/no question. I interpreted this as some kind of larger request but it is still a poor question nonetheless"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1497436767, "post_id": 44540076, "comment_id": 76075174, "body": "@EdChum It&#39;s not adequate to characterize this as a poor question without providing an actual reason. The only reason you have advanced doesn&#39;t apply, as you have now agreed."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1497437377, "post_id": 44540076, "comment_id": 76075649, "body": "If the processes are on the same machine <i>and</i> its Unix or Linux, then you probably want to use <a href=\"https://stackoverflow.com/q/24395639/608639\">Pipes</a> or <a href=\"https://stackoverflow.com/q/24030591/608639\">Domain Sockets</a>. They are some of the fastest IPC methods. Also see <a href=\"https://stackoverflow.com/q/9475442/608639\">Unix domain socket VS named pipes?</a>."}], "answers": [{"comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1497432793, "post_id": 44540512, "comment_id": 76072272, "body": "@downvoter Please explain. It&#39;s not a well-defined protocol? It is a programming language? or a platform?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1497438035, "post_id": 44540512, "comment_id": 76076161, "body": "@downvoter Or maybe you think the answer is &#39;no&#39;? Come off it."}], "tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": false, "score": 2, "last_activity_date": 1497436793, "last_edit_date": 1497436793, "creation_date": 1497431825, "answer_id": 44540512, "question_id": 44540076, "link": "https://stackoverflow.com/questions/44540076/is-it-possible-for-two-process-in-different-languages-to-communicate-by-using-ud/44540512#44540512", "title": "Is it possible for two process in different languages to communicate by using UDP", "body": "<blockquote>\n  <p>Does it possible to communicate two process in different languages by using UDP</p>\n</blockquote>\n\n<p>Yes. UDP is a well-defined protocol. Not a programming language or a platform.</p>\n"}], "owner": {"reputation": 11, "user_id": 8159335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b981e49f8aff538fdaae5856245c326c?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Shan S", "link": "https://stackoverflow.com/users/8159335/muhammad-shan-s"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "closed_date": 1497431837, "answer_count": 1, "score": -2, "last_activity_date": 1497437201, "creation_date": 1497430664, "last_edit_date": 1497437201, "question_id": 44540076, "link": "https://stackoverflow.com/questions/44540076/is-it-possible-for-two-process-in-different-languages-to-communicate-by-using-ud", "closed_reason": "Needs more focus", "title": "Is it possible for two process in different languages to communicate by using UDP", "body": "<p>I need to implement UDP for two process, but both are wrote in different languages, and different platforms.</p>\n\n<p>Is it possible for two process in different languages to communicate by using UDP?</p>\n"}, {"tags": ["c", "linked-list", "bubble-sort"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1497430397, "post_id": 44539922, "comment_id": 76070520, "body": "That&#39;s not <i>sorting</i>, that&#39;s just simple swapping places of nodes. And you usually do that for a list by reassigning the pointers of the nodes you&#39;re moving."}, {"owner": {"reputation": 16785, "user_id": 3355476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YdMWy.jpg?s=128&g=1", "display_name": "Codor", "link": "https://stackoverflow.com/users/3355476/codor"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497430568, "post_id": 44539922, "comment_id": 76070660, "body": "@Someprogrammerdude To second your comment, linked lists can be implemented in such a way that they have artificial additional nodes for its head and tail in order to remove edge cases in the swapping if one of the involved nodes is at the start or at the end."}, {"owner": {"reputation": 3624, "user_id": 8013471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh4jO.jpg?s=128&g=1", "display_name": "cse", "link": "https://stackoverflow.com/users/8013471/cse"}, "edited": false, "score": 0, "creation_date": 1497430734, "post_id": 44539922, "comment_id": 76070783, "body": "I don&#39;t think it is related to any sorting algorithm anyway. What you think should be output for the link list: <code>3-&gt;1-&gt;7-&gt;10-&gt;5-&gt;12-&gt;8-&gt;END</code>, if I choose to move element <code>7</code> by 2."}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1497434394, "post_id": 44539922, "comment_id": 76073468, "body": "Your example moves the node by 2 not by 3."}, {"owner": {"reputation": 57, "user_id": 7825296, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a640effcf3b9bbfd4edbeae1bf4d9d25?s=128&d=identicon&r=PG&f=1", "display_name": "Saga", "link": "https://stackoverflow.com/users/7825296/saga"}, "reply_to_user": {"reputation": 3624, "user_id": 8013471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh4jO.jpg?s=128&g=1", "display_name": "cse", "link": "https://stackoverflow.com/users/8013471/cse"}, "edited": false, "score": 0, "creation_date": 1497435562, "post_id": 44539922, "comment_id": 76074339, "body": "@cse Do you mean to move the seventh element(8) or to move the third element(7)?"}, {"owner": {"reputation": 57, "user_id": 7825296, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a640effcf3b9bbfd4edbeae1bf4d9d25?s=128&d=identicon&r=PG&f=1", "display_name": "Saga", "link": "https://stackoverflow.com/users/7825296/saga"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1497435602, "post_id": 44539922, "comment_id": 76074373, "body": "@stark Sorry, I meant to move the node to the third node."}, {"owner": {"reputation": 3624, "user_id": 8013471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh4jO.jpg?s=128&g=1", "display_name": "cse", "link": "https://stackoverflow.com/users/8013471/cse"}, "edited": false, "score": 1, "creation_date": 1497435844, "post_id": 44539922, "comment_id": 76074521, "body": "@Saga No I mean to move 3rd element(7) by 2 steps."}, {"owner": {"reputation": 57, "user_id": 7825296, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a640effcf3b9bbfd4edbeae1bf4d9d25?s=128&d=identicon&r=PG&f=1", "display_name": "Saga", "link": "https://stackoverflow.com/users/7825296/saga"}, "reply_to_user": {"reputation": 3624, "user_id": 8013471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh4jO.jpg?s=128&g=1", "display_name": "cse", "link": "https://stackoverflow.com/users/8013471/cse"}, "edited": false, "score": 0, "creation_date": 1497436080, "post_id": 44539922, "comment_id": 76074679, "body": "@cse The function takes the position, so do you mean to move the third element to the 5th element?"}, {"owner": {"reputation": 3624, "user_id": 8013471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh4jO.jpg?s=128&g=1", "display_name": "cse", "link": "https://stackoverflow.com/users/8013471/cse"}, "edited": false, "score": 1, "creation_date": 1497437006, "post_id": 44539922, "comment_id": 76075367, "body": "@Saga Yes!!! So, If we move 3rd element(7) by 2 steps then list will be <code>3-&gt;1-&gt;10-&gt;5-&gt;7-&gt;12-&gt;8-&gt;END</code>. This is normal shifting. My point was that: <i>This is related to any sorting algorithm</i>. Because If we perform any <code>sorting</code> algorithm(for example <code>bubble sort</code>) on this list then output will be different(In this case, after 1st iteration output will be <code>1-&gt;3-&gt;7-&gt;5-&gt;10-&gt;8-&gt;12-&gt;END</code>)."}, {"owner": {"reputation": 57, "user_id": 7825296, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a640effcf3b9bbfd4edbeae1bf4d9d25?s=128&d=identicon&r=PG&f=1", "display_name": "Saga", "link": "https://stackoverflow.com/users/7825296/saga"}, "reply_to_user": {"reputation": 3624, "user_id": 8013471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh4jO.jpg?s=128&g=1", "display_name": "cse", "link": "https://stackoverflow.com/users/8013471/cse"}, "edited": false, "score": 0, "creation_date": 1497438661, "post_id": 44539922, "comment_id": 76076618, "body": "3-&gt;1-&gt;10-&gt;5-&gt;7-&gt;12-&gt;8 Yep, you right. But I&#39;m still having problems with writing this function.. @cse"}, {"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 0, "creation_date": 1497444421, "post_id": 44539922, "comment_id": 76080964, "body": "Swap the value of the node (K-1) times."}], "answers": [{"tags": [], "owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "is_accepted": false, "score": 0, "last_activity_date": 1497488726, "creation_date": 1497488726, "answer_id": 44556957, "question_id": 44539922, "link": "https://stackoverflow.com/questions/44539922/rotate-linked-list-using-bubble-sort/44556957#44556957", "title": "Rotate linked list using bubble sort", "body": "<p>Probably like the following process.\n(Untested pseudocode)</p>\n\n<pre><code>void rotateLeftOne(Node *np, int rotateLength){\n    if(np == NULL || np-&gt;next == NULL)\n        return;\n    assert(rotateLength &lt;= listLength(np));\n    for(int i = 1; i &lt; rotateLength &amp;&amp; np-&gt;next; ++i, np = np-&gt;next){\n        swap(&amp;np-&gt;value, &amp;np-&gt;next-&gt;value);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3624, "user_id": 8013471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh4jO.jpg?s=128&g=1", "display_name": "cse", "link": "https://stackoverflow.com/users/8013471/cse"}, "is_accepted": false, "score": 0, "last_activity_date": 1498655077, "last_edit_date": 1498655077, "creation_date": 1497944255, "answer_id": 44646755, "question_id": 44539922, "link": "https://stackoverflow.com/questions/44539922/rotate-linked-list-using-bubble-sort/44646755#44646755", "title": "Rotate linked list using bubble sort", "body": "<p>Following is the required code snip-it which will perform the required action. You can <a href=\"https://ideone.com/LA7UDd\" rel=\"nofollow noreferrer\">see the complete working here</a>. Function <code>void shiftNode(Node** rootNode, int nodeIndex, int shifts)</code> in the code to shift a node to required places:</p>\n\n<pre><code>typedef struct N\n{\n    int val;\n    struct N* next;\n}Node;\n\n/** Index starts from 0*/\nvoid shiftNode(Node** rootNode, int nodeIndex, int shifts)\n{\n    int i=1;\n    Node *pNode, *temp, *root = *rootNode;\n    if((shifts &lt;= 0) || (nodeIndex &lt; 0))\n    {\n        return;\n    }\n\n    if(nodeIndex != 0)\n    {\n        for(i=1; i&lt;nodeIndex; i++)\n        {\n            root = root-&gt;next;\n        }\n        pNode = root-&gt;next;\n        root-&gt;next = pNode-&gt;next;\n    }\n    else\n    {\n        *rootNode = root-&gt;next;\n        pNode = root;\n        root-&gt;next = pNode-&gt;next;\n    }\n\n    for(i=0; i&lt;shifts; i++)\n    {\n        root = root-&gt;next;\n    }\n    temp=root-&gt;next;\n    root-&gt;next = pNode;\n    pNode-&gt;next=temp;\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 7825296, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a640effcf3b9bbfd4edbeae1bf4d9d25?s=128&d=identicon&r=PG&f=1", "display_name": "Saga", "link": "https://stackoverflow.com/users/7825296/saga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1498655077, "creation_date": 1497430254, "question_id": 44539922, "link": "https://stackoverflow.com/questions/44539922/rotate-linked-list-using-bubble-sort", "title": "Rotate linked list using bubble sort", "body": "<p>I'm trying to code a function which will be used to rotate linked list in this way: 1 -> 2 -> 3 -> 4, if the user choose the first node to be moved 3 nodes forward it's going to be: 2->3->1->4->END(Switch between two nodes until it gets to third node, it looks to me like bubble sort). Another example: If the user choose the second node to be first it's going to look like this: 2->1->3->4->END. </p>\n"}, {"tags": ["c", "xcode8"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1497428598, "post_id": 44539313, "comment_id": 76069286, "body": "You could start showing us your code."}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1497428629, "post_id": 44539313, "comment_id": 76069304, "body": "The compiler should not <i>run</i> any code at all. It should compile <a href=\"https://en.wikipedia.org/wiki/Translation_unit_(programming)\" rel=\"nofollow noreferrer\"><i>translation units</i></a> into object files which are then linked into an executable. The IDE can then start a process to run the executable."}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1497428669, "post_id": 44539313, "comment_id": 76069330, "body": "More to the point, please <a href=\"http://stackoverflow.com/help/how-to-ask\">read about how to ask good questions</a> and learn how to create a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a>."}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1497428726, "post_id": 44539313, "comment_id": 76069368, "body": "Please edit your question to include code, don&#39;t post it as comments. And please make it <i>complete</i>, especially with variable declarations (in this case I think that&#39;s very important)."}, {"owner": {"reputation": 362958, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "edited": false, "score": 6, "creation_date": 1497429132, "post_id": 44539313, "comment_id": 76069607, "body": "Please note that <code>getchar()</code> returns <code>int</code>, since <code>EOF</code> does not fit in a <code>char</code>."}, {"owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "edited": false, "score": 0, "creation_date": 1497429158, "post_id": 44539313, "comment_id": 76069624, "body": "one should file a bug &quot;xcode/clang does not support for-loop&quot; - no, joke :-)   you probably have an infinite or at least very long running loop. Show your code, please."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1497434842, "post_id": 44539313, "comment_id": 76073843, "body": "@CristianL\u0103pu\u0219an Please don&#39;t edit important aspects of the posted code <b>after</b> answers have been posted - especially when the answers quotes that specific part of the code. By doing that the answers are invalidated."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497430047, "post_id": 44539546, "comment_id": 76070246, "body": "I initially wrote the code like you suggested. same problem"}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "reply_to_user": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 1, "creation_date": 1497430316, "post_id": 44539546, "comment_id": 76070451, "body": "@CristianL\u0103pu\u0219an Your code with my fixes applied works fine here. What exactly is your input? What is your platform? Remember: on Linux EOF is done with Ctrl+D, on Windows it&#39;s done with Ctrl+Z."}, {"owner": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497430958, "post_id": 44539546, "comment_id": 76070952, "body": "I\u2019m using Xcode, macOS Sierra."}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "reply_to_user": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497431123, "post_id": 44539546, "comment_id": 76071084, "body": "@CristianL\u0103pu\u0219an OK; and what keys exactly are you typing?"}, {"owner": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497435963, "post_id": 44539546, "comment_id": 76074600, "body": "the problem was the while-loop never ended! As I have mentioned already I have no experience with C. thank you all for the help provided!"}], "tags": [], "owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "is_accepted": false, "score": 2, "last_activity_date": 1497429302, "creation_date": 1497429302, "answer_id": 44539546, "question_id": 44539313, "link": "https://stackoverflow.com/questions/44539313/no-code-execution-after-while-or-for-loop-in-c/44539546#44539546", "title": "no code execution after while- or for-loop in C", "body": "<p><code>getchar</code> returns an <code>int</code> not a <code>char</code>, and comparison with <code>EOF</code> should be done with the <code>!=</code> operator instead of the <code>&gt;=</code> operator.</p>\n\n<pre><code>...\nint character;   // int instead of char\nint index;\nindex = 0;\n\nwhile ((character = getchar()) != EOF) {  // != instead of &gt;=\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497429953, "post_id": 44539553, "comment_id": 76070185, "body": "If I exit the function early, say I insert immediately after the loop &quot;if (character == 47) {return index;}&quot;, then the code runs fine"}, {"owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "reply_to_user": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497430213, "post_id": 44539553, "comment_id": 76070372, "body": "@Cristian L\u0103pu\u0219an: I suppose you mean &quot;inside the loop&quot;, because your loop will never end; so &quot;code executed after while-loop&quot; is never printed, right?"}], "tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 2, "last_activity_date": 1497430523, "last_edit_date": 1497430523, "creation_date": 1497429320, "answer_id": 44539553, "question_id": 44539313, "link": "https://stackoverflow.com/questions/44539313/no-code-execution-after-while-or-for-loop-in-c/44539553#44539553", "title": "no code execution after while- or for-loop in C", "body": "<p>It's the <code>&gt;= EOF</code>, which will let the condition be always <code>true</code>. The reason is that a \"valid\" result of <code>getchar()</code> will be a positive integer, and a \"non-valid\" result like end-of-file will be <code>EOF</code>, which is negative (cf. <a href=\"http://en.cppreference.com/w/c/io/getchar\" rel=\"nofollow noreferrer\">getchar()</a>):</p>\n\n<blockquote>\n  <p>EOF ... integer constant expression of type int and negative value</p>\n</blockquote>\n\n<p>Hence, any valid result from <code>getchar</code> will be <code>&gt;EOF</code>, while the end-of-file-result will be <code>==EOF</code>, such that <code>&gt;= EOF</code> will always match.</p>\n\n<p>Write <code>!= EOF</code> instead.</p>\n\n<p>Note further that you do not terminate your string by the string-terminating-character <code>'\\0'</code>, such that using <code>string</code> like a string (e.g. in a <code>printf(\"%s\",string))</code> will yield undefined behaviour (crash or something else probably unwanted). \nSo write at least: </p>\n\n<pre><code>while ((character = getchar()) != EOF) {\n    string[index] = character;\n    ++index;\n}\nstring[index]='\\0';\n</code></pre>\n\n<p>Then there is still the issue that you may write out of bounds, e.g. if one enters more then 100 characters in your example. But checking this is now beyond the actual question, which was about the infinite loop.</p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497430101, "post_id": 44539585, "comment_id": 76070283, "body": "it does not work.."}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 1, "creation_date": 1497430293, "post_id": 44539585, "comment_id": 76070434, "body": "@CristianL\u0103pu\u0219an How does <i>what</i> &quot;not work&quot;? Did you change the type of <code>character</code> to <code>int</code>? Are you doing something else you do not show us? Have you tried stepping through the code in a debugger? And have you tried adding a (trailing) newline to the string you print after the loop (since output to <code>stdout</code> is by default line-buffered)?"}, {"owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "edited": false, "score": 0, "creation_date": 1497430711, "post_id": 44539585, "comment_id": 76070770, "body": "Upvoted for all the details you bring in. But just for me to understand: doesn&#39;t integral promotion in <code>(char)-1 == (int)-1</code> make sure that <code>(char)-1</code> is actually extended to <code>0xffffffff</code>?"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "edited": false, "score": 0, "creation_date": 1497430997, "post_id": 44539585, "comment_id": 76070986, "body": "@StephanLechner That depends. I should probably add that <code>char</code> can be either <code>signed</code> <i>or</i> <code>unsigned</code> (it&#39;s up to the compiler) and if it&#39;s <code>signed</code> then yes there would be sign-extension. Not so when <code>char</code> is <code>unsigned</code> (which seems to be the case here, or it should work)."}, {"owner": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497431191, "post_id": 44539585, "comment_id": 76071139, "body": "I appreciate your input. thank you very much! the problem is that even code out of learn book does not get executed if a while-loop precedes"}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "reply_to_user": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497432120, "post_id": 44539585, "comment_id": 76071813, "body": "@CristianL\u0103pu\u0219an please tell us which keys <i>exactly</i> you press once the program is running, so we can understand why it doesn&#39;t work on your computer."}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497432396, "post_id": 44539585, "comment_id": 76071994, "body": "@CristianL\u0103pu\u0219an If you still can&#39;t make it work after changing the type and added the newline when printing, then please post a new question (with the <i>updated</i> code) about it."}, {"owner": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "edited": false, "score": 0, "creation_date": 1497472204, "post_id": 44539585, "comment_id": 76098647, "body": "found the solution. command + D + D (command followed by double pressing D) to signal EndOfFile. very easy! the while-loop exited and code after the loop got executed as well. I kept character variable of type char. it didn\u2019t matter if I chose int or char. thank you for all of your input!"}], "tags": [], "owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": false, "score": 2, "last_activity_date": 1497431704, "last_edit_date": 1497431704, "creation_date": 1497429396, "answer_id": 44539585, "question_id": 44539313, "link": "https://stackoverflow.com/questions/44539313/no-code-execution-after-while-or-for-loop-in-c/44539585#44539585", "title": "no code execution after while- or for-loop in C", "body": "<p>The symbolic constant <code>EOF</code> is an <em>integer</em> constant, of type <code>int</code>. It's (usually) defined as a macro as <code>-1</code>.</p>\n\n<p>The problem is that the value <code>-1</code> as an (32-bit) <code>int</code> has the value <code>0xffffffff</code> and as a (8-bit) <code>char</code> the same value would be <code>0xff</code>. Those two values are not equal. Which in turn means that your loop condition will <em>never</em> be false, leading to an infinite loop.</p>\n\n<p>The solution to this problem is that all standard functions that reads characters returns them as an <code>int</code>. Which means your variable <code>character</code> needs to be of that type too.</p>\n\n<p>Important note: It's a compiler implementation detail if plain <code>char</code> is a signed or an unsigned type. If it is signed then a comparison to an <code>int</code> would lead to <em>sign extension</em> when the <code>char</code> value is promoted in the comparison. That means a <code>signed char</code> with the value <code>0xff</code> would be extended to the <code>int</code> value <code>0xffffffff</code>. That means if <code>char</code> is signed then the comparison would work.</p>\n\n<p>This means that your compile have <code>char</code> as <code>unsigned char</code>. So the <code>unsigned char</code> value <code>0xff</code> after promotion to <code>int</code> will be <code>0x000000ff</code>.</p>\n\n<hr>\n\n<p>As for <em>why</em> the value <code>-1</code> becomes <code>0xffffffff</code> is because of how negative numbers are usually represented on computers, with something called <a href=\"https://en.wikipedia.org/wiki/Two&#39;s_complement\" rel=\"nofollow noreferrer\"><em>two's complement</em></a>.</p>\n\n<hr>\n\n<p>You also have another couple of flaws in your code.</p>\n\n<p>The first is that since the loop is infinite you will go <em>way</em> out of bounds of the <code>string</code> array, leading to <em>undefined behavior</em> (and a possible crash sooner or later). The solution to this is to add a condition to make sure that <code>index</code> never reaches <code>100</code> (in the specific case of your array, should really be passed as an argument).</p>\n\n<p>The second problem is that if you intend to use the <code>string</code> array as an actual string, you need to <em>terminate</em> it. Strings in C are actually called <em>null <strong>terminated</strong> strings</em>. That terminator is the character <code>'\\0'</code> (equal to integer <code>0</code>), and need to be put at the end of every string you want to pass to a standard function handling such strings. Having this terminator means that an array of <code>100</code> characters only can have 99 characters in it, to be able to fit the terminator. This have implications to the solution to the above problem. As for how to add the terminator, simply do <code>string[index] = '\\0';</code> after the loop (if <code>index</code> is within bounds of course).</p>\n"}], "owner": {"reputation": 9, "user_id": 4251362, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000040133174/picture?type=large", "display_name": "Cristian L\u0103pu\u0219an", "link": "https://stackoverflow.com/users/4251362/cristian-l%c4%83pu%c8%99an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "closed_date": 1497432322, "answer_count": 3, "score": -1, "last_activity_date": 1497434982, "creation_date": 1497428540, "last_edit_date": 1497434982, "question_id": 44539313, "link": "https://stackoverflow.com/questions/44539313/no-code-execution-after-while-or-for-loop-in-c", "closed_reason": "Duplicate", "title": "no code execution after while- or for-loop in C", "body": "<p>I\u2019m learning C using Xcode 8 and the compiler doesn\u2019t run any code after a while- or for-loop executes. is this a bug? how can I fix it?</p>\n\n<p>In the example provided below <code>printf(\"code executed after while-loop\");</code> never executes</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint getTheLine(char string[]);\n\nint getTheLine(char string[]) {\n\n  char character;\n  int index;\n  index = 0;\n\n  while ((character = getchar()) &gt;= EOF) {\n\n    string[index] = character;\n    ++index;\n  }\n\n  printf(\"code executed after while-loop\");\n  return index;\n}\n\nint main(int argc, const char * argv[]) {\n\n  char string[100];\n  int length = getTheLine(string);\n  printf(\"length %d\\n\", length);\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c", "string"], "comments": [{"owner": {"reputation": 10050, "user_id": 3512538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6Om7A.png?s=128&g=1", "display_name": "CIsForCookies", "link": "https://stackoverflow.com/users/3512538/cisforcookies"}, "edited": false, "score": 3, "creation_date": 1497428762, "post_id": 44539255, "comment_id": 76069389, "body": "what is the problem? don&#39;t you want the output to be <i>&quot;thersister&quot;</i>?"}, {"owner": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 4, "creation_date": 1497428773, "post_id": 44539255, "comment_id": 76069398, "body": "What exactly does &quot;the result is everytime the same&quot; mean?  Also, you have a bug where you will <code>memcmp()</code> past the end of the <code>s</code> string, resulting in undefined behavior.  Maybe that&#39;s your problem?"}, {"owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "edited": false, "score": 1, "creation_date": 1497428849, "post_id": 44539255, "comment_id": 76069439, "body": "Actually I wonder that you do not get a segfault, because you obviously access <code>s</code> beyound its bounds (consider what <code>memcmp</code> does when <code>s</code> points to the last non-<code>&#39;\\0&#39;</code>-character); Further, I&#39;d change the code such that it scans the string backwards, not forward."}, {"owner": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 3, "creation_date": 1497428935, "post_id": 44539255, "comment_id": 76069489, "body": "Also, why not implement this in terms of <code>strstr()</code> instead of <code>memcmp()</code>? And/or work backwards from the end of the string (so your first match will be the one you want)."}, {"owner": {"reputation": 10050, "user_id": 3512538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6Om7A.png?s=128&g=1", "display_name": "CIsForCookies", "link": "https://stackoverflow.com/users/3512538/cisforcookies"}, "reply_to_user": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "edited": false, "score": 1, "creation_date": 1497428961, "post_id": 44539255, "comment_id": 76069503, "body": "@StephanLechner shouldn&#39;t segfault be optional when invoking UB?"}, {"owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "reply_to_user": {"reputation": 10050, "user_id": 3512538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6Om7A.png?s=128&g=1", "display_name": "CIsForCookies", "link": "https://stackoverflow.com/users/3512538/cisforcookies"}, "edited": false, "score": 2, "creation_date": 1497429025, "post_id": 44539255, "comment_id": 76069544, "body": "@CIsForCookies: yes, it&#39;s optional (actually undefined), but still rather common. Hope OP gets the point anyway."}, {"owner": {"reputation": 10050, "user_id": 3512538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6Om7A.png?s=128&g=1", "display_name": "CIsForCookies", "link": "https://stackoverflow.com/users/3512538/cisforcookies"}, "edited": false, "score": 1, "creation_date": 1497429119, "post_id": 44539255, "comment_id": 76069602, "body": "I only asked because I tested this code and didn&#39;t segfault myself, though I expected it to"}, {"owner": {"reputation": 4827, "user_id": 8051589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VNG6.png?s=128&g=1", "display_name": "Andre Kampling", "link": "https://stackoverflow.com/users/8051589/andre-kampling"}, "edited": false, "score": 1, "creation_date": 1497429150, "post_id": 44539255, "comment_id": 76069619, "body": "I compiled and run the code and the program returned his expected string <code>thersister</code>. Don&#39;t know what his problem is?"}, {"owner": {"reputation": 6751, "user_id": 1417063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mwy5e.jpg?s=128&g=1", "display_name": "Davide Spataro", "link": "https://stackoverflow.com/users/1417063/davide-spataro"}, "reply_to_user": {"reputation": 4827, "user_id": 8051589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VNG6.png?s=128&g=1", "display_name": "Andre Kampling", "link": "https://stackoverflow.com/users/8051589/andre-kampling"}, "edited": false, "score": 1, "creation_date": 1497429411, "post_id": 44539255, "comment_id": 76069811, "body": "@AndreKampling The fact that it is returning the right output does not mean it is correct and cannot blow up at some point. <code>memcmp</code> compares <code>n</code> bytes starting from <code>s</code> (not stopping if it finds the null char). Imagine the case where <code>s</code> points at the second-last element and <code>n</code> is 10. <code>memcmp</code> will definitely access memory that could cause segfault."}, {"owner": {"reputation": 4827, "user_id": 8051589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VNG6.png?s=128&g=1", "display_name": "Andre Kampling", "link": "https://stackoverflow.com/users/8051589/andre-kampling"}, "reply_to_user": {"reputation": 6751, "user_id": 1417063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mwy5e.jpg?s=128&g=1", "display_name": "Davide Spataro", "link": "https://stackoverflow.com/users/1417063/davide-spataro"}, "edited": false, "score": 1, "creation_date": 1497429498, "post_id": 44539255, "comment_id": 76069866, "body": "@DavideSpataro: Yes I know, but his question is not about that, he asks why the result is everytime the same. Whatever that mean!?"}, {"owner": {"reputation": 45, "user_id": 6931566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/369e08f367f59e98d2f6b66762fbbec9?s=128&d=identicon&r=PG&f=1", "display_name": "P.Oni", "link": "https://stackoverflow.com/users/6931566/p-oni"}, "edited": false, "score": 0, "creation_date": 1497429719, "post_id": 44539255, "comment_id": 76070016, "body": "Sorry, my explanation wasnt self explanatoried enough. The result is exerytime the first occurence ( like in strstr ) and not the last. i think with the while loop the null pointer to it is prevented, or not ?"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 1, "creation_date": 1497431293, "post_id": 44539255, "comment_id": 76071213, "body": "I personally <i>do</i> get the result you desire - however, as you have undefined behaviour in your code, <i>anything</i> could happen, you could even switch of the sun... Are you aware that there <i>is</i> already such a function (str<b><i>r</i></b>chr)?"}, {"owner": {"reputation": 45, "user_id": 6931566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/369e08f367f59e98d2f6b66762fbbec9?s=128&d=identicon&r=PG&f=1", "display_name": "P.Oni", "link": "https://stackoverflow.com/users/6931566/p-oni"}, "edited": false, "score": 0, "creation_date": 1497433286, "post_id": 44539255, "comment_id": 76072628, "body": "Yes, i am. But strchr stands for character in string, so this functions returns only the last occurence of the character not of the string"}], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 6931566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/369e08f367f59e98d2f6b66762fbbec9?s=128&d=identicon&r=PG&f=1", "display_name": "P.Oni", "link": "https://stackoverflow.com/users/6931566/p-oni"}, "is_accepted": false, "score": 0, "last_activity_date": 1497433785, "creation_date": 1497433785, "answer_id": 44541218, "question_id": 44539255, "link": "https://stackoverflow.com/questions/44539255/finding-last-occurence-of-string-in-c/44541218#44541218", "title": "Finding last Occurence of String in C", "body": "<p>Thanks Guys\nI found my mistake...\ni didnt't called my function \"stRstr\" but \"strstr\"... And this function is already implemented...\nThanks for your help, without your feedback, in terms of that my functions returns the right result, i would have been lost...</p>\n"}, {"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 0, "last_activity_date": 1498949635, "creation_date": 1498949635, "answer_id": 44866045, "question_id": 44539255, "link": "https://stackoverflow.com/questions/44539255/finding-last-occurence-of-string-in-c/44866045#44866045", "title": "Finding last Occurence of String in C", "body": "<p>As mentioned in the comments, your code will access <code>s</code> beyond its bounds (consider what memcmp does when s points to the last non-'\\0'-character). So I'd get rid of the <code>memcmp</code>-usage and I'd scan the string from backwards. </p>\n\n<p>In analogy to <code>strstr</code>, which quickly scans the string looking for a single-character match and compares then the rest, see the following code that does exactly the same in a backwards manner.</p>\n\n<p>Hope it helps.</p>\n\n<pre><code>const char *stRstr(const char *s, const char *m)\n{\n    const char* ptr = s + strlen(s);\n    size_t mlen = strlen(m);\n    while (ptr-- != s) {  // until ptr reaches the beginning of s\n        if (*ptr==*m) {   // single character match (first characters of s and m)?\n            if (strncmp(ptr,m,mlen)==0)  // check the remainder\n                return ptr;\n        }\n    }\n    return NULL;\n}\n\nvoid printLast(const char* s) {\n    if (s)\n        printf(\"last: %s\\n\", s);\n    else\n        printf(\"string not found.\\n\");\n}\nint main() {\n\n    const char* s = \"this is the first, this is the last\";\n    const char* m = \"this\";\n\n    const char* last = stRstr(s, m);\n    printLast(last);\n\n    last = stRstr(s, \"not contained\");\n    printLast(last);\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97126, "user_id": 4593267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EEyLy.jpg?s=128&g=1", "display_name": "chqrlie", "link": "https://stackoverflow.com/users/4593267/chqrlie"}, "is_accepted": false, "score": 0, "last_activity_date": 1500829182, "creation_date": 1500829182, "answer_id": 45267675, "question_id": 44539255, "link": "https://stackoverflow.com/questions/44539255/finding-last-occurence-of-string-in-c/45267675#45267675", "title": "Finding last Occurence of String in C", "body": "<p>Your function should work (the problem is elsewhere) but it has some issues:</p>\n\n<ul>\n<li><p>using <code>memcmp()</code> is incorrect as it may access <code>s</code> beyond its last element. you should use <code>strncmp()</code> instead or add a test on the lengths.</p></li>\n<li><p>the posted code would not find the last occurrence of the empty substring and return <code>NULL</code>, where it should return a pointer to the trailing null byte.</p></li>\n<li><p>for consistency, you should call it <code>strrstr()</code> or <code>my_strrstr()</code>.</p></li>\n</ul>\n\n<p>Here is a faster and safer version:</p>\n\n<pre><code>char *my_strrstr(const char *s, const char *m) {\n    char *last = NULL;\n    size_t n = strlen(m);\n\n    while ((s = strchr(s, *m)) != NULL) {\n        if (!strncmp(s, m, n))\n            last = (char *)s;\n        if (*s++ == '\\0')\n            break;\n    }\n    return last;\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6931566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/369e08f367f59e98d2f6b66762fbbec9?s=128&d=identicon&r=PG&f=1", "display_name": "P.Oni", "link": "https://stackoverflow.com/users/6931566/p-oni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1018, "favorite_count": 1, "answer_count": 3, "score": -1, "last_activity_date": 1500829182, "creation_date": 1497428348, "question_id": 44539255, "link": "https://stackoverflow.com/questions/44539255/finding-last-occurence-of-string-in-c", "title": "Finding last Occurence of String in C", "body": "<p>I want to compare a String in another String like \"ther\" in \"motherfathersister\" and the result would be either null ( no match ) or the remaining characters after the last occurence ( in this example) \"thersister\". \nI have changed the implemantation of strstr from string.h but the result is everytime the same.\nWhere i have made a mistake?\nThanks</p>\n\n<pre><code>char *stRstr(char *s, char *m)\n{\n    char *last=NULL;\n    size_t n = strlen(m);\n    while(*s)\n    {\n        if(!memcmp(s++,m,n))\n        {\n            last=s-1;\n        }\n    }\n    return last;\n}\n</code></pre>\n"}, {"tags": ["c", "openwrt", "rtos", "bsp"], "comments": [{"owner": {"reputation": 1602, "user_id": 1815837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b095ab1b2554345af93b82b7a9c02f0?s=128&d=identicon&r=PG", "display_name": "skr", "link": "https://stackoverflow.com/users/1815837/skr"}, "edited": false, "score": 1, "creation_date": 1497429960, "post_id": 44538962, "comment_id": 76070191, "body": "Openwrt have a good documentation check this link <a href=\"https://wiki.openwrt.org/doc/devel/packages\" rel=\"nofollow noreferrer\">wiki.openwrt.org/doc/devel/packages</a> <a href=\"https://wiki.openwrt.org/doc/packages\" rel=\"nofollow noreferrer\">wiki.openwrt.org/doc/packages</a>"}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1497731895, "post_id": 44538962, "comment_id": 76205141, "body": "Why would you not use OPenWRTs existing bluetooth support: <a href=\"https://wiki.openwrt.org/doc/howto/usb.bluetooth\" rel=\"nofollow noreferrer\">wiki.openwrt.org/doc/howto/usb.bluetooth</a>? The architectures and driver models probably differ significantly, making porting significantly hard work."}, {"owner": {"reputation": 665, "user_id": 2279854, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ynl6G.jpg?s=128&g=1", "display_name": "Tony Lin", "link": "https://stackoverflow.com/users/2279854/tony-lin"}, "reply_to_user": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1497923379, "post_id": 44538962, "comment_id": 76270777, "body": "@Clifford, it is because OpenWrt is using BlueZ which uses too much memory and has large code size, I want to minimize the code size and mem use."}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 1, "creation_date": 1497985496, "post_id": 44538962, "comment_id": 76307683, "body": "If code size is really the issue, then you&#39;d be far better off using Zephyr itself rather than Linux, the size of the Bluetooth stack is unlikely to be significant amongst the typical minimal Linux requirement of 16 MB of RAM and 4 MB of Flash.   By the time you have ported the Zephyr implementation and added all the baggage needed to integrate with the Linux driver model you may even find that it is no smaller."}], "owner": {"reputation": 665, "user_id": 2279854, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ynl6G.jpg?s=128&g=1", "display_name": "Tony Lin", "link": "https://stackoverflow.com/users/2279854/tony-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1497428078, "creation_date": 1497427471, "question_id": 44538962, "link": "https://stackoverflow.com/questions/44538962/port-rtos-package-to-embedded-linux", "title": "Port RTOS package to embedded linux", "body": "<p>I'm new to RTOS and Embedded Linux. As I described in the title, if I want to port Zephyr's bluetooth package to OpenWrt, what are the necessary steps I have to do? Thanks in advance.</p>\n"}, {"tags": ["c", "arrays", "pointers"], "comments": [{"owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "edited": false, "score": 1, "creation_date": 1497425024, "post_id": 44538053, "comment_id": 76066945, "body": "Your code has undefined behavior; you must print addresses with the <code>%p</code> specifier, and cast the argument to <code>void *</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 0, "creation_date": 1497425057, "post_id": 44538053, "comment_id": 76066971, "body": "side note: don&#39;t use <code>%d</code> for printing pointers, an <code>int</code> can be too small for a pointer (and it <i>is</i> on typical 64bit systems)"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497427334, "post_id": 44538053, "comment_id": 76068458, "body": "gcc gives very poor diagnostics for simple assignment constraint violations. Make sure to compile with <code>gcc -std=c11 -pedantic-errors</code> to make it behave properly."}, {"owner": {"reputation": 439, "user_id": 7609016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-drVjbP61pRI/AAAAAAAAAAI/AAAAAAAAABc/DgJ42w4NjrM/photo.jpg?sz=128", "display_name": "Nathu", "link": "https://stackoverflow.com/users/7609016/nathu"}, "reply_to_user": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497429065, "post_id": 44538053, "comment_id": 76069566, "body": "@Lundin weirdly using the -pedantic-errors option with my gcc (version 4.9.2) isn&#39;t showing any error when I use %d to print a pointer. How do I fix this ?"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497430337, "post_id": 44538053, "comment_id": 76070471, "body": "@NathuramGoatse I think it gives a warning for that regardless of <code>-pedantic-errors</code>. Just tested in version 4.9.1: <code>warning: format &#39;%d&#39; expects argument of type &#39;int&#39;, but argument 2 has type &#39;int *&#39; [-Wformat=]</code>. I get this warning regardless of if I add <code>-Wall -Wextra -pedantic-errors</code> or not."}, {"owner": {"reputation": 439, "user_id": 7609016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-drVjbP61pRI/AAAAAAAAAAI/AAAAAAAAABc/DgJ42w4NjrM/photo.jpg?sz=128", "display_name": "Nathu", "link": "https://stackoverflow.com/users/7609016/nathu"}, "reply_to_user": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497430526, "post_id": 44538053, "comment_id": 76070624, "body": "@Lundin, shows no errors in mine. However -Wall seems to do the trick. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "is_accepted": false, "score": 3, "last_activity_date": 1497433087, "last_edit_date": 1497433087, "creation_date": 1497425381, "answer_id": 44538250, "question_id": 44538053, "link": "https://stackoverflow.com/questions/44538053/why-cant-i-print-the-value-at-this-pointer/44538250#44538250", "title": "Why can&#39;t I print the value at this pointer?", "body": "<p>Your code causes <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow noreferrer\">undefined behavior</a>, so none of the output can be validated.</p>\n\n<p><em>First, some generic information <strong>:</strong></em></p>\n\n<p>As per the standard, using mismatched type of arguments with format specifiers causes UB. To print a pointer with <code>printf()</code>, you must use <code>%p</code> format specifier and cast the corresponding argument to <code>void *</code>.</p>\n\n<p>Related, quoting <code>C11</code>, chapter \u00a77.21.6.1/P8</p>\n\n<blockquote>\n  <p><code>p</code> </p>\n  \n  <p>The argument shall be a pointer to <code>void</code>. [...]</p>\n</blockquote>\n\n<p>and P9,</p>\n\n<blockquote>\n  <p>[....] If any argument is\n  not the correct type for the corresponding conversion specification, the behavior is\n  undefined.</p>\n</blockquote>\n\n<p>Since <code>printf()</code> is a variadic function and no default argument promotion takes place, the cast to <code>void *</code> is necessary.</p>\n\n<hr>\n\n<p>Now, coming to the more direct questions.</p>\n\n<blockquote>\n  <p><strong>\u00a71.</strong> The pointer <code>p</code>, jumps by 20 when incremented. [...]</p>\n</blockquote>\n\n<p>You're right, check the data type. a pointer with type as <code>int (*) [5]</code> would be incremented / decremented by <code>sizeof(int [5])</code>, the pointing type, based on your platform. Pointer arithmatic honors the datd type</p>\n\n<blockquote>\n  <p><strong>\u00a72.</strong> Both <code>p</code> and <code>q</code> have the same values (but different types), and yet when using the indirection operator with `p [....]</p>\n</blockquote>\n\n<p>Please note the type there. <code>p</code> is of type <code>int (*) [5]</code>, so <code>*p</code> is of type <code>int [5]</code>. That's it. All you <em>should</em> have is an array as a product of the dereference. (<em>But read on.....</em>)</p>\n\n<p>Now, while passing an array type as a function argument, it decays to the pointer to the first element to the array, hence is is analogous to <code>int *</code>, a pointer. So, ultimately, you'll print a pointer value.</p>\n\n<blockquote>\n  <p><strong>\u00a73.</strong> When I use <code>int *p = &amp;a</code>, it throws up a warning [....]</p>\n</blockquote>\n\n<p><strong>Wait. Stop</strong>. That is a constraint violation. Strictly speaking, it's invalid C code. The types <code>int *</code> and <code>int (*) [5]</code> are not compatible and there exist no cast (implicit or explicit) which makes this a valid expression. Don't do it, use proper types.</p>\n"}, {"comments": [{"owner": {"reputation": 439, "user_id": 7609016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-drVjbP61pRI/AAAAAAAAAAI/AAAAAAAAABc/DgJ42w4NjrM/photo.jpg?sz=128", "display_name": "Nathu", "link": "https://stackoverflow.com/users/7609016/nathu"}, "edited": false, "score": 0, "creation_date": 1497426374, "post_id": 44538259, "comment_id": 76067819, "body": "I&#39;m studying C from the K.N.King book (C Programming: A Modern Approach), and it calls * the &#39;indirection&#39; operator."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 439, "user_id": 7609016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-drVjbP61pRI/AAAAAAAAAAI/AAAAAAAAABc/DgJ42w4NjrM/photo.jpg?sz=128", "display_name": "Nathu", "link": "https://stackoverflow.com/users/7609016/nathu"}, "edited": false, "score": 0, "creation_date": 1497426747, "post_id": 44538259, "comment_id": 76068060, "body": "Well, it doesn&#39;t have an explicit name in the C standard and is described as &quot;<i>The unary * operator denotes indirection.</i>&quot;, so there <i>is</i> some justification for using that name, but I&#39;d still say it&#39;s a bad idea as the operation it performs is typically called <i>pointer dereference</i>, so most C programmers will just call it <i>dereference</i>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 439, "user_id": 7609016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-drVjbP61pRI/AAAAAAAAAAI/AAAAAAAAABc/DgJ42w4NjrM/photo.jpg?sz=128", "display_name": "Nathu", "link": "https://stackoverflow.com/users/7609016/nathu"}, "edited": false, "score": 0, "creation_date": 1497426837, "post_id": 44538259, "comment_id": 76068126, "body": "@NathuramGoatse still I&#39;ll reword my hint because <i>indirection</i> isn&#39;t <i>wrong</i>"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 1, "creation_date": 1497427112, "post_id": 44538259, "comment_id": 76068311, "body": "<code>int *p = &amp;a</code> is not an aliasing issue, it is invalid C code. I wrote an answer explaining why. It would have been an aliasing issue if the programmer forced a pointer conversion through a cast. But this isn&#39;t the case here. Pointer conversions do not happen implicitly."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497427297, "post_id": 44538259, "comment_id": 76068432, "body": "@Lundin that&#39;s correct, but he could simply insert a <i>cast</i> to get around this and the result is the same of an incompatible alias. Still, good catch. Ok, you already wrote the same in your edit...."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497427724, "post_id": 44538259, "comment_id": 76068713, "body": "@FelixPalmen He would have to write <code>int *p = (int*)&amp;a;</code>. Then the code would compile. I don&#39;t quite see how it would invoke undefined behavior. Please note that the <i>effective type</i> of the data is <code>int[5]</code>, so code accessing an item of that array through an <code>int*</code> does not violate strict aliasing. Code such as <code>int* p = (int*)(bananas_t*)(double*)&amp;a; .. *p = something;</code> is fine, as far as strict aliasing is concerned."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497427988, "post_id": 44538259, "comment_id": 76068882, "body": "@Lundin I don&#39;t see how <code>int[]</code> and <code>int</code> should be compatible types? accessing the array through <code>int *</code> is of course fine, but there&#39;s another pointer of <code>int(*)[]</code> involved in this code ...."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497428361, "post_id": 44538259, "comment_id": 76069148, "body": "@Lundin ok, I think I misread the question at this point and was the whole time thinking about something like <code>int *q = p</code> ... different thing -- changing this whole section now!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "is_accepted": true, "score": 4, "last_activity_date": 1497428614, "last_edit_date": 1497428614, "creation_date": 1497425405, "answer_id": 44538259, "question_id": 44538053, "link": "https://stackoverflow.com/questions/44538053/why-cant-i-print-the-value-at-this-pointer/44538259#44538259", "title": "Why can&#39;t I print the value at this pointer?", "body": "<blockquote>\n  <p>The pointer p, jumps by 20 when incremented. Is this because it's a pointer of type int(*)[5], and therefore jumps by sizeof(int) * number of columns in the array ?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Both p and q have the same values (but different types), and yet when using the indirection operator with p, I don't get the value at the first cell of the array, instead I get the value OF p printed out. Why is this ?</p>\n</blockquote>\n\n<p><code>p</code> points to an array, so with <code>*p</code>, you get to this array. Evaluating an array without indexing gets you a pointer to its first element. Your <code>*p</code> is evaluated as type <code>int *</code> here.</p>\n\n<p>On a side note, <code>*</code> is commonly called the <em>dereference</em> operator. Using different nomenclature can be confusing to others.</p>\n\n<blockquote>\n  <p>When I use int *p = &amp;a, it throws up a warning (because of different types of pointers, but later when I use the indirection operator with p, I can get it to print the value of the first cell in the array. Is this because when I assign &amp;a to p, it CONVERTS the type of &amp;arr (which is int ( * ) [5]) to the type int *, and then assigns to p ?</p>\n</blockquote>\n\n<p>I had an answer here misreading this as something like <code>int *q = (int *)p</code> which would create an <em>aliasing</em> pointer and likely undefined behavior, so leaving this little hint here just in case someone would get <em>this</em> idea. But what you suggest in this question is just an invalid assignment. <a href=\"https://stackoverflow.com/a/44538813/2371524\">Lundin's answer</a> has a complete explanation of that.</p>\n\n<hr>\n\n<p>There are more problems in your code, your printing of pointers should look like:</p>\n\n<pre><code>printf(\"Original Pointers: \\t%20p%20p\", (void *)p, (void *)q);\n</code></pre>\n\n<p>Pointers can be bigger than <code>int</code>. The need to cast to <code>void *</code> is because <code>printf()</code> is a variadic function. If it was declared to take a <code>void *</code>, the conversion would be implicit, but as it's not, you have to do it yourself.</p>\n"}, {"comments": [{"owner": {"reputation": 439, "user_id": 7609016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-drVjbP61pRI/AAAAAAAAAAI/AAAAAAAAABc/DgJ42w4NjrM/photo.jpg?sz=128", "display_name": "Nathu", "link": "https://stackoverflow.com/users/7609016/nathu"}, "edited": false, "score": 0, "creation_date": 1497430832, "post_id": 44538813, "comment_id": 76070861, "body": "in the case of a constraint violation, is the behavior undefined (because the code works despite it) ?"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "reply_to_user": {"reputation": 439, "user_id": 7609016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-drVjbP61pRI/AAAAAAAAAAI/AAAAAAAAABc/DgJ42w4NjrM/photo.jpg?sz=128", "display_name": "Nathu", "link": "https://stackoverflow.com/users/7609016/nathu"}, "edited": false, "score": 0, "creation_date": 1497431819, "post_id": 44538813, "comment_id": 76071568, "body": "@NathuramGoatse Yes such a program is completely undefined by the C standard, as it is no longer a C program but something else."}], "tags": [], "owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "is_accepted": false, "score": 3, "last_activity_date": 1497427034, "creation_date": 1497427034, "answer_id": 44538813, "question_id": 44538053, "link": "https://stackoverflow.com/questions/44538053/why-cant-i-print-the-value-at-this-pointer/44538813#44538813", "title": "Why can&#39;t I print the value at this pointer?", "body": "<p>In addition to the answer by Felix:</p>\n\n<blockquote>\n  <p>When I use <code>int *p = &amp;a</code>, it throws up a warning</p>\n</blockquote>\n\n<p>This is because this code is not valid C. It is a so-called <em>constraint violation</em> (roughly means severe language violation). So the compiler is required to give a diagnostic message. A better compiler would give an error, not a warning. </p>\n\n<p>No pointer conversion takes place. Pointer conversions are not done implicitly in C unless one of the operands is <code>void*</code>.</p>\n\n<hr>\n\n<p>The reason it isn't valid C is because the expression is not a valid form of simple assignment. Valid forms are listed in C11 6.5.16.1:</p>\n\n<blockquote>\n  <p>6.5.16.1 Simple assignment<br>\n  Constraints</p>\n  \n  <p>One of the following shall hold:</p>\n  \n  <p>\u2014 the left operand has atomic, qualified, or unqualified arithmetic type, and the right has\n  arithmetic type;  </p>\n</blockquote>\n\n<p>Not the case here, both operands are pointers.</p>\n\n<blockquote>\n  <p>\u2014 the left operand has an atomic, qualified, or unqualified version of a structure or union type compatible with the type of the right;</p>\n</blockquote>\n\n<p>Not the case here.</p>\n\n<blockquote>\n  <p>\u2014 the left operand has atomic, qualified, or unqualified pointer type, and (considering the type the left operand would have after lvalue conversion) both operands are pointers to qualified or unqualified versions of compatible types, and the type pointed to by the left has all the qualifiers of the type pointed to by the right;</p>\n</blockquote>\n\n<p>The left operand is a (unqualified) pointer type. But the right operand is not a compatible type. So this is condition is not met.</p>\n\n<blockquote>\n  <p>\u2014 the left operand has atomic, qualified, or unqualified pointer type, and (considering\n  the type the left operand would have after lvalue conversion) one operand is a pointer\n  to an object type, and the other is a pointer to a qualified or unqualified version of\n  void, and the type pointed to by the left has all the qualifiers of the type pointed to\n  by the right;</p>\n</blockquote>\n\n<p>No, there is no <code>void</code> pointers here.</p>\n\n<blockquote>\n  <p>\u2014 the left operand is an atomic, qualified, or unqualified pointer, and the right is a null\n  pointer constant; or</p>\n</blockquote>\n\n<p>No null pointer constants either.</p>\n\n<blockquote>\n  <p>\u2014 the left operand has type atomic, qualified, or unqualified _Bool, and the right is a pointer.</p>\n</blockquote>\n\n<p>And no bools here either.</p>\n"}], "owner": {"reputation": 439, "user_id": 7609016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-drVjbP61pRI/AAAAAAAAAAI/AAAAAAAAABc/DgJ42w4NjrM/photo.jpg?sz=128", "display_name": "Nathu", "link": "https://stackoverflow.com/users/7609016/nathu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 44538259, "answer_count": 3, "score": 6, "last_activity_date": 1497433087, "creation_date": 1497424810, "last_edit_date": 1497432037, "question_id": 44538053, "link": "https://stackoverflow.com/questions/44538053/why-cant-i-print-the-value-at-this-pointer", "title": "Why can&#39;t I print the value at this pointer?", "body": "<p>Following <a href=\"https://stackoverflow.com/questions/44523828/initialization-from-incompatible-pointer-type-warning-when-assigning-to-a-pointe\">yesterday's question</a>, I experimented some more with pointers. Specifically pointers of type int (*) [n]</p>\n\n<p>Here's some code I wrote :</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(void)\n{\n    int a[5] = {1, 2, 3, 4, 5};\n\n    int (*p) [5] = &amp;a;\n    int *q = a;\n\n    printf(\"\\t\\t\\t\\t\\tp\\t\\tq\\n\\n\");\n    printf(\"Original Pointers: \\t%20d%20d\", p, q);\n    printf(\"\\n\\n\");\n    printf(\"Incremented Pointers:\\t%20d%20d\", p+1, q+1);\n    printf(\"\\n\\n\");\n    printf(\"Pointer values:         %20d%20d\", *p, *q);\n    printf(\"\\n\\n\");\n\n    return 0;\n}\n</code></pre>\n\n<p>And here is it's output:</p>\n\n<pre><code>                                    p                 q\n\nOriginal Pointers:             132021776           132021776\n\nIncremented Pointers:          132021796           132021780\n\nPointer values:                132021776                   1\n</code></pre>\n\n<ul>\n<li><p>The pointer <code>p</code>, jumps by 20 when incremented. Is this because it's a pointer of type <code>int(*)[5]</code>, and therefore jumps by <code>sizeof(int) * number of columns</code> in the array ?</p></li>\n<li><p>Both <code>p</code> and <code>q</code> have the same values (but different types), and yet when using the indirection operator with <code>p</code>, I don't get the value at the first cell of the array, instead I get the value of <code>p</code> itself printed out. Why is this?</p></li>\n<li><p>When I use <code>int *p = &amp;a</code>, it throws up a warning (because of different types of pointers, but later when I use the indirection operator with p, I can get it to print the value of the first cell in the array. Is this because when I assign <code>&amp;a</code> to <code>p</code>, it CONVERTS the type of <code>&amp;arr</code> (which is <code>int ( * ) [5]</code>) to the type <code>int *</code>, and then assigns to <code>p</code>?</p></li>\n</ul>\n"}, {"tags": ["c", "build", "cmake"], "comments": [{"owner": {"reputation": 31426, "user_id": 4763489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89773f016f1f4cc2c4e790a6c3f7b004?s=128&d=identicon&r=PG&f=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/4763489/florian"}, "edited": false, "score": 1, "creation_date": 1497428143, "post_id": 44538006, "comment_id": 76069001, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31512485/cmake-how-to-setup-source-library-and-cmakelists-txt-dependencies\">CMake: How to setup Source, Library and CMakeLists.txt dependencies?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13903, "user_id": 86388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/cPl84.jpg?s=128&g=1", "display_name": "Tarion", "link": "https://stackoverflow.com/users/86388/tarion"}, "edited": false, "score": 0, "creation_date": 1497467737, "post_id": 44538096, "comment_id": 76096323, "body": "I would but it&#39;s no subdirectory ... It does not work."}, {"owner": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "reply_to_user": {"reputation": 13903, "user_id": 86388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/cPl84.jpg?s=128&g=1", "display_name": "Tarion", "link": "https://stackoverflow.com/users/86388/tarion"}, "edited": false, "score": 0, "creation_date": 1497488928, "post_id": 44538096, "comment_id": 76104215, "body": "@Tarion I edited to explain that you can add a directory that is not a subdirectory."}, {"owner": {"reputation": 13903, "user_id": 86388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/cPl84.jpg?s=128&g=1", "display_name": "Tarion", "link": "https://stackoverflow.com/users/86388/tarion"}, "edited": false, "score": 0, "creation_date": 1497520673, "post_id": 44538096, "comment_id": 76117617, "body": "Thanks for the hin. I like to have absolute paths for some reason. But found that this is working well: <code>add_subdirectory(${ROOT}&#47;project_b ${ROOT}&#47;pkg&#47;project_b)</code>."}], "tags": [], "owner": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "is_accepted": false, "score": 1, "last_activity_date": 1497488893, "last_edit_date": 1497488893, "creation_date": 1497424925, "answer_id": 44538096, "question_id": 44538006, "link": "https://stackoverflow.com/questions/44538006/how-to-use-add-dependency-with-cmake-to-non-subdirectories/44538096#44538096", "title": "How to use add_dependency with CMake to non-subdirectories?", "body": "<p>You should use the <code>add_subdirectory</code> function.</p>\n\n<p><a href=\"https://cmake.org/cmake/help/v3.0/command/add_subdirectory.html\" rel=\"nofollow noreferrer\">https://cmake.org/cmake/help/v3.0/command/add_subdirectory.html</a></p>\n\n<p>You can add directories that are not subdirectories by using a relative path.</p>\n\n<p>For example, if you want to add a sibling directory,</p>\n\n<pre><code> add_subdirectory(../dir)\n</code></pre>\n\n<p>Simply make sure that the directory you place in the function has a <code>CMakeLists.txt</code>, and that will import that project into the current one.</p>\n"}, {"tags": [], "owner": {"reputation": 663, "user_id": 4960726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ccc89a0d5de76478d7cf01d804b4710?s=128&d=identicon&r=PG&f=1", "display_name": "vatosarmat", "link": "https://stackoverflow.com/users/4960726/vatosarmat"}, "is_accepted": false, "score": 1, "last_activity_date": 1497692687, "creation_date": 1497692687, "answer_id": 44603084, "question_id": 44538006, "link": "https://stackoverflow.com/questions/44538006/how-to-use-add-dependency-with-cmake-to-non-subdirectories/44603084#44603084", "title": "How to use add_dependency with CMake to non-subdirectories?", "body": "<p>Also, you can use ExternalProject module\n<a href=\"https://cmake.org/cmake/help/v3.7/module/ExternalProject.html\" rel=\"nofollow noreferrer\">https://cmake.org/cmake/help/v3.7/module/ExternalProject.html</a></p>\n\n<pre><code>ExternalProject_Add(project_b SOURCE_DIR \"path\" BINARY_DIR \"path\" ...)\n</code></pre>\n"}], "owner": {"reputation": 13903, "user_id": 86388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/cPl84.jpg?s=128&g=1", "display_name": "Tarion", "link": "https://stackoverflow.com/users/86388/tarion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1351, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1497692687, "creation_date": 1497424674, "question_id": 44538006, "link": "https://stackoverflow.com/questions/44538006/how-to-use-add-dependency-with-cmake-to-non-subdirectories", "title": "How to use add_dependency with CMake to non-subdirectories?", "body": "<p>I have the following structure:</p>\n\n<pre><code>${root}\n    project_a\n        main.c\n        CMakeLists.txt\n    project_b\n        lib.c\n        target.cmake\n</code></pre>\n\n<p>CMakeList.txt</p>\n\n<pre><code>include(${ROOT}/project_b/target.cmake)\n\nadd_executable(${PROJECT_NAME} main.c)\nadd_dependencies (${PROJECT_NAME} app_cmake_b)\ntarget_link_libraries (${PROJECT_NAME} app_cmake_b)\n</code></pre>\n\n<p>target.cmake</p>\n\n<pre><code>add_library(project_b STATIC ${ROOT}/lib.c)\n</code></pre>\n\n<p>Is using include the only way to import other cmake projects? </p>\n\n<p>I do not like that I need absolute paths in my included <code>target.cmake</code>\nWhat is the best pratice to solve my usecase with CMake?</p>\n"}, {"tags": ["c", "regex", "loadrunner"], "comments": [{"owner": {"reputation": 2830, "user_id": 2152511, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/91ec2ee29993ed1c1ef0fea6a2086f59?s=128&d=identicon&r=PG", "display_name": "Jokab", "link": "https://stackoverflow.com/users/2152511/jokab"}, "edited": false, "score": 0, "creation_date": 1497424201, "post_id": 44537756, "comment_id": 76066349, "body": "Why use regex for this task and not just parse the JSON with a library? Seems like overengineering."}, {"owner": {"reputation": 3, "user_id": 8155860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d98919ad7d5f1954a1baab29bb664c0?s=128&d=identicon&r=PG&f=1", "display_name": "Shaqattack", "link": "https://stackoverflow.com/users/8155860/shaqattack"}, "reply_to_user": {"reputation": 2830, "user_id": 2152511, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/91ec2ee29993ed1c1ef0fea6a2086f59?s=128&d=identicon&r=PG", "display_name": "Jokab", "link": "https://stackoverflow.com/users/2152511/jokab"}, "edited": false, "score": 1, "creation_date": 1497424359, "post_id": 44537756, "comment_id": 76066442, "body": "Good question. I am using a tool called LoadRunner to performance test an application. As part of this I need to grab values dynamically from JSON responses and push them into subsequent requests. LoadRunner doesn&#39;t have much support for JSON but it does support RegEx, so this seemed like a good choice."}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 0, "creation_date": 1497426429, "post_id": 44537756, "comment_id": 76067848, "body": "<a href=\"https://community.saas.hpe.com/t5/LoadRunner-and-Performance/Get-a-new-way-to-manipulate-JSON-with-load-testing-in-LoadRunner/ba-p/234409#.WUDpx2j1CUk\" rel=\"nofollow noreferrer\">LoadRunner seems to support JSON parsing.</a>"}, {"owner": {"reputation": 2705, "user_id": 1501456, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/660e626ccb2d55bc2f3ca14940fb882e?s=128&d=identicon&r=PG", "display_name": "Buzzy", "link": "https://stackoverflow.com/users/1501456/buzzy"}, "edited": false, "score": 0, "creation_date": 1497503505, "post_id": 44537756, "comment_id": 76107619, "body": "You can use web_reg_save_param_json instead of web_reg_save_param_regex and then use the simple query language to extract what you need. See the documentation for more info"}], "answers": [{"comments": [{"owner": {"reputation": 2830, "user_id": 2152511, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/91ec2ee29993ed1c1ef0fea6a2086f59?s=128&d=identicon&r=PG", "display_name": "Jokab", "link": "https://stackoverflow.com/users/2152511/jokab"}, "reply_to_user": {"reputation": 3, "user_id": 8155860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d98919ad7d5f1954a1baab29bb664c0?s=128&d=identicon&r=PG&f=1", "display_name": "Shaqattack", "link": "https://stackoverflow.com/users/8155860/shaqattack"}, "edited": false, "score": 1, "creation_date": 1497445616, "post_id": 44538342, "comment_id": 76081898, "body": "@Shaqattack Make sure to accept an answer that worked."}], "tags": [], "owner": {"reputation": 830, "user_id": 2118737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ogs0j.jpg?s=128&g=1", "display_name": "Uri Y", "link": "https://stackoverflow.com/users/2118737/uri-y"}, "is_accepted": true, "score": 0, "last_activity_date": 1497425651, "creation_date": 1497425651, "answer_id": 44538342, "question_id": 44537756, "link": "https://stackoverflow.com/questions/44537756/identify-one-particular-field-with-regex/44538342#44538342", "title": "Identify one particular field with RegEx", "body": "<p>Try the following regular expression:</p>\n\n<pre><code>\\\"skuPartNumber\\\":\\\"(\\d+)\\\"(?:[^}]*?\\}){3}[^}]*?\\\"buyable\\\":true\n</code></pre>\n\n<p>Your answer is in the first match group.</p>\n"}], "owner": {"reputation": 3, "user_id": 8155860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d98919ad7d5f1954a1baab29bb664c0?s=128&d=identicon&r=PG&f=1", "display_name": "Shaqattack", "link": "https://stackoverflow.com/users/8155860/shaqattack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 44538342, "answer_count": 1, "score": 0, "last_activity_date": 1497429266, "creation_date": 1497423891, "last_edit_date": 1497423959, "question_id": 44537756, "link": "https://stackoverflow.com/questions/44537756/identify-one-particular-field-with-regex", "title": "Identify one particular field with RegEx", "body": "<p>Apologies for the basic question but I'm new to regular expressions and am really struggling to find a solution to the problem I am facing.</p>\n\n<p>I am trying to pull out a particular field from a json response dynamically, which can change each time I call it.</p>\n\n<p>The response is:</p>\n\n<pre><code>[{\"colorPartNumber\":\"10045112022164298\",\"skuPartNumber\":\"0400218072057\",\"productColor\":{\"identifier\":\"Dark blue\",\"label\":\"Dark blue\",\"hex\":\"#0000A0\"},\"productSize\":{\"identifier\":\"0\",\"label\":\"0\",\"name\":\"Designer\",\"scaleLabel\":\"apparel-wmn\",\"schema\":{\"name\":\"UK\",\"labels\":[\"8\"]}},\"soldOut\":true,\"onlyOneLeft\":false,\"limitedAvailability\":false,\"preorder\":false,\"comingSoon\":false,\"visible\":true,\"displayable\":true,\"buyable\":false,\"availableInPhysicalStore\":false,\"expectedShippingDate\":null},{\"colorPartNumber\":\"10045112022164298\",\"skuPartNumber\":\"0400094632819\",\"productColor\":{\"identifier\":\"Dark blue\",\"label\":\"Dark blue\",\"hex\":\"#0000A0\"},\"productSize\":{\"identifier\":\"1\",\"label\":\"1\",\"name\":\"Designer\",\"scaleLabel\":\"apparel-wmn\",\"schema\":{\"name\":\"UK\",\"labels\":[\"10\"]}},\"soldOut\":true,\"onlyOneLeft\":false,\"limitedAvailability\":false,\"preorder\":false,\"comingSoon\":false,\"visible\":true,\"displayable\":true,\"buyable\":false,\"availableInPhysicalStore\":false,\"expectedShippingDate\":null},{\"colorPartNumber\":\"10045112022164298\",\"skuPartNumber\":\"0400218072040\",\"productColor\":{\"identifier\":\"Dark blue\",\"label\":\"Dark blue\",\"hex\":\"#0000A0\"},\"productSize\":{\"identifier\":\"2\",\"label\":\"2\",\"name\":\"Designer\",\"scaleLabel\":\"apparel-wmn\",\"schema\":{\"name\":\"UK\",\"labels\":[\"12\"]}},\"soldOut\":true,\"onlyOneLeft\":false,\"limitedAvailability\":false,\"preorder\":false,\"comingSoon\":false,\"visible\":true,\"displayable\":true,\"buyable\":false,\"availableInPhysicalStore\":false,\"expectedShippingDate\":null},{\"colorPartNumber\":\"10045112022164298\",\"skuPartNumber\":\"0400468014814\",\"productColor\":{\"identifier\":\"Dark blue\",\"label\":\"Dark blue\",\"hex\":\"#0000A0\"},\"productSize\":{\"identifier\":\"3\",\"label\":\"3\",\"name\":\"Designer\",\"scaleLabel\":\"apparel-wmn\",\"schema\":{\"name\":\"UK\",\"labels\":[\"14\"]}},\"soldOut\":false,\"onlyOneLeft\":true,\"limitedAvailability\":false,\"preorder\":false,\"comingSoon\":false,\"visible\":true,\"displayable\":true,\"buyable\":true,\"availableInPhysicalStore\":false,\"expectedShippingDate\":null}]\n</code></pre>\n\n<p>I am trying to pull out the skuPartNumber, but only when the \"buyable\" value is set to true.</p>\n\n<p>Every thing I try I cannot seem to get just this one value :(</p>\n\n<p>So in the example above the only value I want to pull out is <code>0400468014814</code>.</p>\n\n<p>This json is dynamic so there could be 100 values coming back, but the principle is the same.</p>\n\n<p>One example of a failed attempt is <code>skuPartNumber(.*?)\"buyable\":true</code>, which only gives me the very first value (<code>0400218072057</code>), which is wrong.</p>\n\n<p>Once again sorry for the basic question.</p>\n"}, {"tags": ["c", "arm"], "comments": [{"owner": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1497423597, "post_id": 44537627, "comment_id": 76065991, "body": "Because each macro has it&#39;s own meaning, and must be correct when used independently."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497423775, "post_id": 44537627, "comment_id": 76066092, "body": "If you give more context (e.g. typedef) somebody could show you how to use that macro."}, {"owner": {"reputation": 62072, "user_id": 16007, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e859640aaeb4b305e163a990be827cf9?s=128&d=identicon&r=PG&f=1", "display_name": "old_timer", "link": "https://stackoverflow.com/users/16007/old-timer"}, "edited": false, "score": 1, "creation_date": 1497433313, "post_id": 44537627, "comment_id": 76072642, "body": "It is basic C language stuff, they are using the struct to create offsets 0x00, 0x04, etc (with names RCC-&gt;something) to the 0x40021000 base.  Has nothing to do with ARM nor the ARM portion of this chip.  the uint32_t in PERIPH_BASE wasnt necessary, maybe they were getting a compiler warning."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8158621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0079ae37a609e05dd4dd7e5626bf0874?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan1935", "link": "https://stackoverflow.com/users/8158621/ruslan1935"}, "edited": false, "score": 0, "creation_date": 1497441340, "post_id": 44537678, "comment_id": 76078607, "body": "Can I defined it as follows  uint_32 RCC_BASE = 0x400021000; RCC_TypeDef *RCC = NULL; RCC = RCC_BASE; ?"}, {"owner": {"reputation": 6676, "user_id": 3716664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fN14n.png?s=128&g=1", "display_name": "tilz0R", "link": "https://stackoverflow.com/users/3716664/tilz0r"}, "reply_to_user": {"reputation": 23, "user_id": 8158621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0079ae37a609e05dd4dd7e5626bf0874?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan1935", "link": "https://stackoverflow.com/users/8158621/ruslan1935"}, "edited": false, "score": 0, "creation_date": 1497441464, "post_id": 44537678, "comment_id": 76078717, "body": "Since <code>#define RCC...</code> exists, you will get error if you do your code. You can do this: <code>RCC_TypeDef* myRcc; myRcc = (RCC_TypeDef *)RCC_BASE;</code>, but I don&#39;t know why would you do that. Use CMSIS declarations."}, {"owner": {"reputation": 23, "user_id": 8158621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0079ae37a609e05dd4dd7e5626bf0874?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan1935", "link": "https://stackoverflow.com/users/8158621/ruslan1935"}, "edited": false, "score": 0, "creation_date": 1497444484, "post_id": 44537678, "comment_id": 76081001, "body": "I was just trying to understand it better. Thanks"}], "tags": [], "owner": {"reputation": 6676, "user_id": 3716664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fN14n.png?s=128&g=1", "display_name": "tilz0R", "link": "https://stackoverflow.com/users/3716664/tilz0r"}, "is_accepted": true, "score": 3, "last_activity_date": 1497424046, "last_edit_date": 1497424046, "creation_date": 1497423639, "answer_id": 44537678, "question_id": 44537627, "link": "https://stackoverflow.com/questions/44537627/define-for-arm-microcontrollers/44537678#44537678", "title": "#define for ARM microcontrollers", "body": "<pre><code>#define RCC                 ((RCC_TypeDef *) RCC_BASE)\n</code></pre>\n\n<p>means macro which is of type <code>RCC_TypeDef *</code> and <em>points</em> to address <code>RCC_BASE</code> in MCU address space. </p>\n\n<p><code>RCC_BASE</code> is address where RCC registers are in MCU address space.</p>\n\n<p>Address itself is number therefore it has <code>(uint32_t)</code> infront.</p>\n\n<p>This type of macro allows you to use registers with pointer access</p>\n\n<pre><code>//Read RCC register APB1ENR\nuint32_t apb1enr_Reg = RCC-&gt;APB1ENR;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "is_accepted": false, "score": 0, "last_activity_date": 1497423909, "creation_date": 1497423909, "answer_id": 44537763, "question_id": 44537627, "link": "https://stackoverflow.com/questions/44537627/define-for-arm-microcontrollers/44537763#44537763", "title": "#define for ARM microcontrollers", "body": "<p>The line:</p>\n\n<pre><code>#define RCC                 ((RCC_TypeDef *) RCC_BASE)\n</code></pre>\n\n<p>is simply explicitly casting the address pointed to by <code>RCC_BASE</code> to a pointer to whatever the <code>typedef</code> that <code>RCC_TYPEDEF</code> defines elsewhere.</p>\n\n<p>For example, if <code>RCC_TYPEDEF</code> is defined to be <code>long</code>, then <code>RCC</code> will be defined to be:</p>\n\n<pre><code>#define RCC                 ((long *) RCC_BASE)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8158621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0079ae37a609e05dd4dd7e5626bf0874?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan1935", "link": "https://stackoverflow.com/users/8158621/ruslan1935"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 3, "accepted_answer_id": 44537678, "answer_count": 2, "score": 2, "last_activity_date": 1497432997, "creation_date": 1497423503, "last_edit_date": 1497424773, "question_id": 44537627, "link": "https://stackoverflow.com/questions/44537627/define-for-arm-microcontrollers", "title": "#define for ARM microcontrollers", "body": "<p>What does string </p>\n\n<pre><code>#define RCC                 ((RCC_TypeDef *) RCC_BASE)\n</code></pre>\n\n<p>mean? </p>\n\n<p>I understand that that is a pointer's definition and RCC_BASE stands for  uint_32 0x400021000 according to following lines</p>\n\n<pre><code>#define RCC_BASE              (AHB1PERIPH_BASE + 0x00001000)\n#define AHB1PERIPH_BASE       (PERIPH_BASE + 0x00020000)\n#define PERIPH_BASE           ((uint32_t)0x40000000)    \n</code></pre>\n\n<p>But why does the definition have two types: RCC_TypeDef * and uint_32?</p>\n"}, {"tags": ["c", "variables", "size"], "comments": [{"owner": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 2, "creation_date": 1497423157, "post_id": 44537476, "comment_id": 76065726, "body": "If you want fixed width, you need <code>stdint.h</code>"}, {"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 2, "creation_date": 1497423204, "post_id": 44537476, "comment_id": 76065755, "body": "You can use <code>int32_t</code> from <code>stdint.h</code> if you&#39;re using C99"}, {"owner": {"reputation": 301, "user_id": 2530497, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d1ea2a84141aecccff2067d9532eeb57?s=128&d=identicon&r=PG", "display_name": "KharoBangdo", "link": "https://stackoverflow.com/users/2530497/kharobangdo"}, "reply_to_user": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1497423215, "post_id": 44537476, "comment_id": 76065760, "body": "@StoryTeller I am a C amateur. Can you elaborate"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497423231, "post_id": 44537476, "comment_id": 76065767, "body": "<i>So, long int on 32-bit system is 32 bit &amp; on 64-bit system is 64 bit</i>. No! I use a 64 bit system and my compiler still uses 32 bits for long int."}, {"owner": {"reputation": 5402, "user_id": 2611159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYt6w.jpg?s=128&g=1", "display_name": "planetmaker", "link": "https://stackoverflow.com/users/2611159/planetmaker"}, "edited": false, "score": 0, "creation_date": 1497423256, "post_id": 44537476, "comment_id": 76065777, "body": "use types with explicit size like int32_t as defined in stdint. h"}, {"owner": {"reputation": 303, "user_id": 5002340, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-ot0jj4dX5R8/AAAAAAAAAAI/AAAAAAAAJXM/X9D51LBsE5g/photo.jpg?sz=128", "display_name": "Shikatsu Kagaminara", "link": "https://stackoverflow.com/users/5002340/shikatsu-kagaminara"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497423286, "post_id": 44537476, "comment_id": 76065797, "body": "@AjayBrahmakshatriya It only depends on what libraries you are using to compile."}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1497423289, "post_id": 44537476, "comment_id": 76065800, "body": "@KharoBangdo google &quot;stdint.h&quot; first hit."}, {"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 0, "creation_date": 1497423305, "post_id": 44537476, "comment_id": 76065811, "body": "@KharoBangdo C99 defines a bunch of types whith specific bit size. <code>int32_t</code> is a signed <code>int</code> guaranteed to have a size of 32 bits."}, {"owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "edited": false, "score": 2, "creation_date": 1497423547, "post_id": 44537476, "comment_id": 76065966, "body": "Read about <a href=\"http://port70.net/~nsz/c/c11/n1570.html#7.20.1.1\" rel=\"nofollow noreferrer\">fixed width integer types in the Standard.</a>"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497423652, "post_id": 44537476, "comment_id": 76066024, "body": "Also, which 64 system uses 128 bit <code>long long</code> ? I am not saying it is not possible. It just doesn&#39;t seem probable."}], "answers": [{"comments": [{"owner": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 2, "creation_date": 1497423393, "post_id": 44537555, "comment_id": 76065849, "body": "<i>&quot;Fully portable&quot;</i> - Well, when it&#39;s defined. The standard does allow omitting those particular typedefs."}, {"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 0, "creation_date": 1497423488, "post_id": 44537555, "comment_id": 76065926, "body": "The safest route is going with the <code>_leastN_t</code> and <code>_fastN_t</code> equivalents for full portability. But those are at least the desired width, not necessarily exact."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "reply_to_user": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1497423590, "post_id": 44537555, "comment_id": 76065987, "body": "@StoryTeller Name one compiler that doesn&#39;t. Oh that&#39;s right, no such compiler will ever exist, because unlike the standard, compilers strive to be useful in the real world. If someone was to make a compiler without stdint.h, no programmer would use that compiler. Therefore, Darwin ensures that all compilers do support stdint.h, no matter what some defect in the C11 standard says."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "reply_to_user": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 1, "creation_date": 1497423695, "post_id": 44537555, "comment_id": 76066053, "body": "@DeiDei The OP seems to want exactly 32 bits."}, {"owner": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 4, "creation_date": 1497423772, "post_id": 44537555, "comment_id": 76066091, "body": "@Lundin - (1) Mind your attitude. (2) It&#39;s not a compiler&#39;s fault if the underlying platform doesn&#39;t allow a particular type to even exist."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "reply_to_user": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1497424128, "post_id": 44537555, "comment_id": 76066300, "body": "@StoryTeller I&#39;m just so sick of yet again having this completely useless debate about portability of stdint.h. This is clearly a defect in C11 and everyone knows it. Similarly, the standard forcing compilers to implement <code>int64_t</code> etc is also a language defect."}, {"owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "edited": false, "score": 1, "creation_date": 1497441498, "post_id": 44537555, "comment_id": 76078749, "body": "@Lundin - if you want to lobby the C standardisation committee to mandate two&#39;s complement signed integers (and abolish other options like one&#39;s complement) then go for it. The C standard (e.g. C99, Section 7.18.1.1) makes support of <code>int</code>N<code>_T</code> mandatory for N = 8,16,32,64 if the underlying platform supports them with a two&#39;s complement representation and no padding bit. Otherwise they are optional. There is no point in telling people off for noting that types in <code>stdint.h</code>, or the header itself, are optional, when the standard says otherwise."}], "tags": [], "owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "is_accepted": true, "score": 3, "last_activity_date": 1497423291, "creation_date": 1497423291, "answer_id": 44537555, "question_id": 44537476, "link": "https://stackoverflow.com/questions/44537476/how-to-restrict-the-size-of-variable-types-like-long-int-on-a-64-bit-system/44537555#44537555", "title": "How to restrict the size of variable types like long int on a 64-bit system?", "body": "<blockquote>\n  <p>So, long int on 32-bit system is 32 bit &amp; on 64-bit system is 64 bit.</p>\n</blockquote>\n\n<p>Not necessarily. They could be 64 bit. Or they could be 32 bit.</p>\n\n<blockquote>\n  <p>So how to restrict the variable size on 64-bit system. </p>\n</blockquote>\n\n<p>Instead of using the primitive default types in C, such as <code>long</code>, you should use <code>int32_t</code> from stdint.h. Unlike <code>long</code>, it is fully portable and has deterministic size.</p>\n"}, {"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 2, "last_activity_date": 1497426817, "creation_date": 1497426817, "answer_id": 44538727, "question_id": 44537476, "link": "https://stackoverflow.com/questions/44537476/how-to-restrict-the-size-of-variable-types-like-long-int-on-a-64-bit-system/44538727#44538727", "title": "How to restrict the size of variable types like long int on a 64-bit system?", "body": "<p>The actual size of \"plain\" integral types is platform dependent, but you can use exact-width integral types like <code>int32_t</code> or <code>int64_t</code>. Let's elaborate a bit what the standard says about the size of integral types (cf., for example, this <a href=\"http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf\" rel=\"nofollow noreferrer\">online c standard draft</a>):</p>\n\n<p>First, concerning integral types, the standard gives the compiler the freedom to consider the underlying architecture:</p>\n\n<blockquote>\n  <p>6.2.5 Types (5) ... A \u2018\u2018plain\u2019\u2019 int object has the natural size suggested by the architecture of the execution environment (large\n  enough to contain any value in the range INT_MIN to INT_MAX as defined\n  in the header ).</p>\n</blockquote>\n\n<p>The standard specifies just a \"minimum\" size for each of the five standard signed integral type, which are signed char, short int, int, long int, and long long int. </p>\n\n<blockquote>\n  <p>5.2.4.2.1 Sizes of integer types  (1) The values given below shall be replaced by constant expressions suitable for use in #if\n  preprocessing directives. Moreover, except for CHAR_BIT and\n  MB_LEN_MAX, the following shall be replaced by expressions that have\n  the same type as would an expression that is an object of the\n  corresponding type converted according to the integer promotions.\n  Their implementation-defined values shall be <strong>equal or greater in\n  magnitude (absolute value) to those shown</strong>, with the same sign.</p>\n</blockquote>\n\n<p>But the standard also defines exact-width integer types:</p>\n\n<blockquote>\n  <p>7.20.1.1 Exact-width integer types</p>\n  \n  <p>(1) The typedef name intN_t designates a signed integer type with width N , no padding bits, and a\n  two\u2019s complement representation. Thus, int8_t denotes such a signed\n  integer type with a width of exactly 8 bits.</p>\n  \n  <p>(2) The typedef name\n  uintN_t designates an unsigned integer type with width N and no\n  padding bits. Thus, uint24_t denotes such an unsigned integer type\n  with a width of exactly 24 bits.</p>\n  \n  <p>(3) These types are optional. However,\n  if an implementation provides integer types with widths of 8, 16, 32,\n  or 64 bits, no padding bits, and (for the signed types) that have a\n  two\u2019s complement representation, it shall define the corresponding\n  typedef names.</p>\n</blockquote>\n\n<p>Though stating that these types are \"optional\", it is also said that if the implementation provides integer types of particular size/behaviour, it <em>shall define corresponding typedef names</em> . So one could derive that a compiler may decide not to provide the base integer types with the defined widths, but if it provides, then the corresponding exact-width-types will be available as well.</p>\n"}], "owner": {"reputation": 301, "user_id": 2530497, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d1ea2a84141aecccff2067d9532eeb57?s=128&d=identicon&r=PG", "display_name": "KharoBangdo", "link": "https://stackoverflow.com/users/2530497/kharobangdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 44537555, "answer_count": 2, "score": 4, "last_activity_date": 1497426817, "creation_date": 1497423069, "question_id": 44537476, "link": "https://stackoverflow.com/questions/44537476/how-to-restrict-the-size-of-variable-types-like-long-int-on-a-64-bit-system", "title": "How to restrict the size of variable types like long int on a 64-bit system?", "body": "<p>So, <em>long int</em> on 32-bit system is 32 bit &amp; on 64-bit system is 64 bit. Now, I am writing a code on 32-bit system, having taken care of no overflows. If I run the same code on 64-bit system, all my long variables will unnecessarily take twice the memory size, which is a waste. So how to restrict the variable size on 64-bit system.  </p>\n\n<p>For ex, I have a variable <em>long long int Count</em>. Now Count can hold max 63 bit value in my design. If I run the same code on 64-bit system, Count will be 128 bits but according to logic, the remaining 64 bits will be wasted. So, I want to make sure Count takes only 64 bit on 64 bit system too</p>\n"}, {"tags": ["android", "c", "android-ndk", "cmake", "java-native-interface"], "comments": [{"owner": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "edited": false, "score": 0, "creation_date": 1497423604, "post_id": 44537449, "comment_id": 76065996, "body": "Is there a <code>make</code> binary at the same path as your <code>clang</code> binary?"}, {"owner": {"reputation": 173, "user_id": 3697344, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/16b57136d73f3708e32317be86915553?s=128&d=identicon&r=PG&f=1", "display_name": "user3697344", "link": "https://stackoverflow.com/users/3697344/user3697344"}, "reply_to_user": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "edited": false, "score": 1, "creation_date": 1497459008, "post_id": 44537449, "comment_id": 76091471, "body": "Which path is that? Sorry I&#39;m new to NDK development"}, {"owner": {"reputation": 1800, "user_id": 576436, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1bff139ac646b1b6c4d4013ffee8edc2?s=128&d=identicon&r=PG", "display_name": "A. Rager", "link": "https://stackoverflow.com/users/576436/a-rager"}, "reply_to_user": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "edited": false, "score": 0, "creation_date": 1510765475, "post_id": 44537449, "comment_id": 81577400, "body": "Did you ever figure this out? I&#39;m running into the same problem trying to build on Windows 10 with Studio 3.0. CMake and NDK are installed.  I don&#39;t see a make.exe with clang.exe, if that makes a difference, @snoopy"}], "answers": [{"tags": [], "owner": {"reputation": 564, "user_id": 8535456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Slgm4.jpg?s=128&g=1", "display_name": "asuka", "link": "https://stackoverflow.com/users/8535456/asuka"}, "is_accepted": false, "score": 0, "last_activity_date": 1613444532, "creation_date": 1613444532, "answer_id": 66218172, "question_id": 44537449, "link": "https://stackoverflow.com/questions/44537449/android-studio-cmake-the-c-compiler-clang-exe-is-not-able-to-compile-a-simple/66218172#66218172", "title": "Android Studio Cmake: &quot;The C compiler clang.exe is not able to compile a simple test program", "body": "<p>The main error message is:</p>\n<pre><code>The system cannot find the path specified.\n</code></pre>\n<p>Note that above some places use <code>/</code> as path separator:</p>\n<pre><code>&quot;C:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/windows-x86_64/bin/clang.exe&quot;\n</code></pre>\n<p>and have run successfully. And this line:</p>\n<pre><code>C:\\Users\\Alex\\AppData\\Local\\Android\\sdk\\ndk-bundle\\toolchains\\llvm\\prebuilt\\windows-x86_64\\bin\\clang.exe\n</code></pre>\n<p>Seems to have failed. I guess the problem is the <code>\\</code>. Try find where this path is defined, maybe in the IDE options, configuration files or Makefiles, then modify it may solve the problem.</p>\n"}], "owner": {"reputation": 173, "user_id": 3697344, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/16b57136d73f3708e32317be86915553?s=128&d=identicon&r=PG&f=1", "display_name": "user3697344", "link": "https://stackoverflow.com/users/3697344/user3697344"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1810, "favorite_count": 2, "answer_count": 1, "score": 12, "last_activity_date": 1613444532, "creation_date": 1497422984, "question_id": 44537449, "link": "https://stackoverflow.com/questions/44537449/android-studio-cmake-the-c-compiler-clang-exe-is-not-able-to-compile-a-simple", "title": "Android Studio Cmake: &quot;The C compiler clang.exe is not able to compile a simple test program", "body": "<p>64 bit Windows 10. Android Studio 2.3.3.</p>\n\n<p>I'm trying to use JNI to link an existing C++ project to Android Studio. I've also tried to load all of the provided NDK-JNI sample projects. Everything with JNI/Cmake is unable to Gradle Sync, failing with the same error:</p>\n\n<pre><code>Build command failed.\nError while executing process C:\\Users\\Alex\\AppData\\Local\\Android\\Sdk\\cmake\\3.6.3155560\\bin\\cmake.exe with arguments {-HC:\\Users\\Alex\\Desktop\\android-ndk\\hello-jni\\app\\src\\main\\cpp -BC:\\Users\\Alex\\Desktop\\android-ndk\\hello-jni\\app\\.externalNativeBuild\\cmake\\armDebug\\armeabi -GAndroid Gradle - Ninja -DANDROID_ABI=armeabi -DANDROID_NDK=C:\\Users\\Alex\\AppData\\Local\\Android\\Sdk\\ndk-bundle -DCMAKE_LIBRARY_OUTPUT_DIRECTORY=C:\\Users\\Alex\\Desktop\\android-ndk\\hello-jni\\app\\build\\intermediates\\cmake\\arm\\debug\\obj\\armeabi -DCMAKE_BUILD_TYPE=Debug -DCMAKE_MAKE_PROGRAM=C:\\Users\\Alex\\AppData\\Local\\Android\\Sdk\\cmake\\3.6.3155560\\bin\\ninja.exe -DCMAKE_TOOLCHAIN_FILE=C:\\Users\\Alex\\AppData\\Local\\Android\\Sdk\\ndk-bundle\\build\\cmake\\android.toolchain.cmake -DANDROID_PLATFORM=android-23 -DANDROID_TOOLCHAIN=clang}\n-- Check for working C compiler: C:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/windows-x86_64/bin/clang.exe\n-- Check for working C compiler: C:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/windows-x86_64/bin/clang.exe -- broken\nCMake Error at C:/Users/Alex/AppData/Local/Android/sdk/cmake/3.6.3155560/share/cmake-3.6/Modules/CMakeTestCCompiler.cmake:61 (message):\nThe C compiler\n\"C:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/windows-x86_64/bin/clang.exe\"\nis not able to compile a simple test program.\nIt fails with the following output:\nChange Dir: C:/Users/Alex/Desktop/android-ndk/hello-jni/app/.externalNativeBuild/cmake/armDebug/armeabi/CMakeFiles/CMakeTmp\nRun Build\nCommand:\"C:\\Users\\Alex\\AppData\\Local\\Android\\Sdk\\cmake\\3.6.3155560\\bin\\ninja.exe\"\n\"cmTC_accda\"\n[1/2] Building C object CMakeFiles/cmTC_accda.dir/testCCompiler.c.o\n[2/2] Linking C executable cmTC_accda\nFAILED: cmd.exe /C \"cd .  &amp;&amp;\nC:\\Users\\Alex\\AppData\\Local\\Android\\sdk\\ndk-bundle\\toolchains\\llvm\\prebuilt\\windows-x86_64\\bin\\clang.exe\n--target=armv5te-none-linux-androideabi\n--gcc-toolchain=C:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/toolchains/arm-linux-androideabi-4.9/prebuilt/windows-x86_64\n--sysroot=C:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/sysroot\n-isystem\nC:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/sysroot/usr/include/arm-linux-androideabi\n-D__ANDROID_API__=23 -g -DANDROID -ffunction-sections -funwind-tables\n-fstack-protector-strong -no-canonical-prefixes -march=armv5te\n-Werror=format-security -Wl,--exclude-libs,libgcc.a --sysroot\nC:/Users/Alex/AppData/Local/Android/sdk/ndk-bundle/platforms/android-23/arch-arm64\n-Wl,--build-id -Wl,--warn-shared-textrel -Wl,--fatal-warnings\n-Wl,--no-undefined -Wl,-z,noexecstack -Qunused-arguments -Wl,-z,relro\n-Wl,-z,now -Wl,--gc-sections -Wl,-z,nocopyreloc -pie -fPIE\nCMakeFiles/cmTC_f48b1.dir/testCCompiler.c.o -o cmTC_f48b1 -lm &amp;&amp; cd .\"\nThe system cannot find the path specified.\nninja: build stopped: subcommand failed.\nCMake will not be able to correctly generate this project.\n</code></pre>\n\n<p>I have all necessary SDK tools installed. I've tried using GCC instead of clang. Thanks for your help!</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 8, "creation_date": 1497421116, "post_id": 44536876, "comment_id": 76064658, "body": "Can you share some code please? It would make the question easier to answer."}, {"owner": {"reputation": 10050, "user_id": 3512538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6Om7A.png?s=128&g=1", "display_name": "CIsForCookies", "link": "https://stackoverflow.com/users/3512538/cisforcookies"}, "edited": false, "score": 1, "creation_date": 1497421116, "post_id": 44536876, "comment_id": 76064660, "body": "pls add a MCVE <i><a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a></i>"}, {"owner": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "edited": false, "score": 0, "creation_date": 1497421176, "post_id": 44536876, "comment_id": 76064689, "body": "There are no &quot;string&quot; variables in C, only <code>char *</code>, which are nicknamed &quot;strings&quot;.  Therefore, you are going to have to rephrase what you mean by &quot;string&quot;"}, {"owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "edited": false, "score": 3, "creation_date": 1497421358, "post_id": 44536876, "comment_id": 76064779, "body": "@snoopy-- there are no <code>string</code> <i>types</i> in C, but there are strings, which are defined in the Standard to be null-terminated character arrays."}, {"owner": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1497421610, "post_id": 44536876, "comment_id": 76064919, "body": "Are you following cs50?"}, {"owner": {"reputation": 147719, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 3, "creation_date": 1497421651, "post_id": 44536876, "comment_id": 76064936, "body": "And show code instead of describing code"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "reply_to_user": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "edited": false, "score": 0, "creation_date": 1497422009, "post_id": 44536876, "comment_id": 76065136, "body": "@snoopy <i>only char *, which are nicknamed &quot;strings&quot;.</i> This must have been the exact thought process that went into making <i>cs50.h</i>"}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1497423414, "post_id": 44536876, "comment_id": 76065865, "body": "Show your code."}], "answers": [{"comments": [{"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 2, "creation_date": 1497421769, "post_id": 44536967, "comment_id": 76065002, "body": "In C a string is <b>not</b> just an array of characters, a string is a null terminated array of characters."}], "tags": [], "owner": {"reputation": 426, "user_id": 7896710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c765e141e3d3b3b8346a877919c0e9?s=128&d=identicon&r=PG&f=1", "display_name": "sigvaldm", "link": "https://stackoverflow.com/users/7896710/sigvaldm"}, "is_accepted": false, "score": 0, "last_activity_date": 1497421863, "last_edit_date": 1497421863, "creation_date": 1497421341, "answer_id": 44536967, "question_id": 44536876, "link": "https://stackoverflow.com/questions/44536876/storing-a-character-in-a-string-variable/44536967#44536967", "title": "Storing a character in a string variable", "body": "<p>Character pointers <em>are</em> what we use for \"string variables\" in C.</p>\n\n<p>In C a string is just an array of characters which ends with the character <code>\\0</code>. You can either have a statically allocated array or a dynamically allocated array pointed to by a pointer. <code>strcpy</code> takes such a pointer. </p>\n"}, {"comments": [{"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 1, "creation_date": 1497421701, "post_id": 44536968, "comment_id": 76064958, "body": "C, the question mentions C."}, {"owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "edited": false, "score": 0, "creation_date": 1497421811, "post_id": 44536968, "comment_id": 76065023, "body": "Since OP has C tag, they may be using <code>cs50.h</code> and that abominable <code>typedef char *string</code>, in which case <code>+=</code> will not work."}], "tags": [], "owner": {"reputation": 13077, "user_id": 618068, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bcc37850bde70904ddb82f17c46d49c?s=128&d=identicon&r=PG", "display_name": "aardvarkk", "link": "https://stackoverflow.com/users/618068/aardvarkk"}, "is_accepted": false, "score": 1, "last_activity_date": 1497421356, "creation_date": 1497421356, "answer_id": 44536968, "question_id": 44536876, "link": "https://stackoverflow.com/questions/44536876/storing-a-character-in-a-string-variable/44536968#44536968", "title": "Storing a character in a string variable", "body": "<p>You can just dereference the pointer to get access to the character. I'm assuming you're working with C++ if you are using <code>string</code> types.</p>\n\n<pre><code>char* c = \"z\";\nstring s;\ns += *c;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 426, "user_id": 7896710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c765e141e3d3b3b8346a877919c0e9?s=128&d=identicon&r=PG&f=1", "display_name": "sigvaldm", "link": "https://stackoverflow.com/users/7896710/sigvaldm"}, "edited": false, "score": 0, "creation_date": 1497428183, "post_id": 44537109, "comment_id": 76069028, "body": "Good answer, but personally I&#39;d rather write <code>&#39;\\0&#39;</code> for clarity and to avoid coercion."}], "tags": [], "owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "is_accepted": true, "score": 1, "last_activity_date": 1497428268, "last_edit_date": 1497428268, "creation_date": 1497421858, "answer_id": 44537109, "question_id": 44536876, "link": "https://stackoverflow.com/questions/44536876/storing-a-character-in-a-string-variable/44537109#44537109", "title": "Storing a character in a string variable", "body": "<p>Say your pointer to character is s defined as </p>\n\n<pre><code>char *s;\n</code></pre>\n\n<p>You want to make it into a string.</p>\n\n<pre><code>char string[2];\nstring[0] = *s;\nstring[1] = '\\0';\n</code></pre>\n\n<p>And you are set.</p>\n\n<p>This will cause the string to have an automatic storage duration. You can choose to make it heap allocated or global scoped depending on your requirement. That I guess you already know.</p>\n"}], "owner": {"reputation": 1, "user_id": 6054029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ddf8d29b2959484d43d9950f4bad0a?s=128&d=identicon&r=PG&f=1", "display_name": "s.saptha maaleekaa", "link": "https://stackoverflow.com/users/6054029/s-saptha-maaleekaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 44537109, "answer_count": 3, "score": 0, "last_activity_date": 1559122869, "creation_date": 1497421032, "question_id": 44536876, "link": "https://stackoverflow.com/questions/44536876/storing-a-character-in-a-string-variable", "title": "Storing a character in a string variable", "body": "<p>I am basically coding in c.\nI have a character pointer that points to a character. Is there an way to store this character pointed to by the character pointer in a string variable??\nBecause when I tried doing so using \"strcpy\" I got type mismatch error , because I am trying to store a character as a string in a string variable. </p>\n"}, {"tags": ["c", "arrays", "if-statement", "conways-game-of-life"], "comments": [{"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "edited": false, "score": 2, "creation_date": 1497457168, "post_id": 44536264, "comment_id": 76090441, "body": "That is a severely over-complicated &quot;check for neighbors&quot; code you&#39;ve written. Even if the logic were 100% correct, I&#39;d scrap it immediately."}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "edited": false, "score": 0, "creation_date": 1497457259, "post_id": 44536264, "comment_id": 76090489, "body": "Also, is this C or C++? Because there are some significant refactoring advices I could give if this is meant to be C++, but it looks like you&#39;re working in pure C."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "reply_to_user": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "edited": false, "score": 0, "creation_date": 1497459937, "post_id": 44536264, "comment_id": 76092011, "body": "@Xirema it is C and I heard something about min and max being used but have no idea how to implement it."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1497460244, "post_id": 44536264, "comment_id": 76092164, "body": "step through with a debugger"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1497465891, "post_id": 44536264, "comment_id": 76095325, "body": "@pm100 will do my best again but have gone through a few times and although I made some changes, I think it might have to do with the algorithm and not syntax."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1497468972, "post_id": 44536264, "comment_id": 76096969, "body": "that why i say use a debugger, a debugger helps to detect algorithm errors (the compiler detects syntax errors)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "edited": false, "score": 0, "creation_date": 1497482197, "post_id": 44536264, "comment_id": 76102729, "body": "really?  I just debugged in manually by inserting printf statements and realized that the first part where I am filling the auxiliary game[] based on values of either 255 or 0 from array[] should have been a get_pixel() function call instead.  It works now up to about 30 rounds or so but then I get a segmentation fault."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1497483000, "post_id": 44536264, "comment_id": 76102920, "body": "@pm100 making a small change to malloc solved the segmentation fault.  program is working.  btw, can you suggest a debugger to use in conjunction with sublime or another editor when I am compiling from the Linux terminal?"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497483439, "post_id": 44536264, "comment_id": 76103035, "body": "@NickAdoyot gdb, valgrind (only for memory), can I suggest that you self-answer your question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497486694, "post_id": 44536264, "comment_id": 76103804, "body": "@Stargateur thanks for the suggestions.  I can check off my answer tomorrow."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "reply_to_user": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497492116, "post_id": 44536264, "comment_id": 76104915, "body": "@Stargateur would you happen to know why the printf statements I used for debugging purposes are still being outputted to the terminal after i deleted them in the program?"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497495752, "post_id": 44536264, "comment_id": 76105615, "body": "Your <code>index</code> calculation is incorrect. Should be <code>j + cols*i</code> not <code>(col-1)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497510476, "post_id": 44536264, "comment_id": 76110808, "body": "@AjayBrahmakshatriya is it j + cols * i or i + j* cols?  I&#39;m basing it on the formula of index = x + y * image_width where image_width is cols."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497510575, "post_id": 44536264, "comment_id": 76110873, "body": "@NickAdoyot assuming j can go up to cols, it will be <code>j + i * cols</code>. If i can go up to cols, then like what you said."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497510649, "post_id": 44536264, "comment_id": 76110917, "body": "@AjayBrahmakshatriya thank you for the clarification.  it is i that goes up to cols in this case."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "edited": false, "score": 0, "creation_date": 1497891854, "post_id": 44536264, "comment_id": 76258132, "body": "Unfortunately, even with all the edits, I am still getting a fail on acorn pattern initialization after only 1 round on many of the tests."}, {"owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "edited": false, "score": 0, "creation_date": 1497892342, "post_id": 44536264, "comment_id": 76258413, "body": "I think this question would benefit from a clear description of how you think the algorithm you&#39;ve implemented works. Trying to reverse engineer your thinking from the code is a slow, slow task. Additionally, your code should incorporate more comments explaining the &quot;big picture&quot; ideas, rather than just the little bits."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "reply_to_user": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "edited": false, "score": 0, "creation_date": 1497907469, "post_id": 44536264, "comment_id": 76266348, "body": "@Richard, I have three lines of comments at the beginning doing just that."}, {"owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "edited": false, "score": 0, "creation_date": 1497910022, "post_id": 44536264, "comment_id": 76267364, "body": "@NickAnoyot: Those are sufficient perhaps for you, but not for someone who has never looked at your code before, which is the person you should be writing comments for. You don&#39;t, for instance, describe what <code>array[]</code> and <code>game[]</code> are, what 0, 1, and 255 mean."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "is_accepted": true, "score": 0, "last_activity_date": 1498008750, "last_edit_date": 1498008750, "creation_date": 1497486647, "answer_id": 44556709, "question_id": 44536264, "link": "https://stackoverflow.com/questions/44536264/c-index-formula-for-images-array-updating-index-in-nested-for-loop/44556709#44556709", "title": "C: index formula for images (array), updating index in nested for loop", "body": "<p>Changed the <code>malloc</code> to the appropriate type (not <code>unit8_t</code>), and used get_pixel rather than the formula index in the first part of filling the auxiliary array.  </p>\n\n<p>Edited formula <code>index=i + (j*cols)</code> within every for loop and if statement to ensure consistency.</p>\n\n<p>Debugged with <code>printf</code> statements inserted after initializing the <code>game[]</code> based on values from <code>array[].</code>  </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7783026"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 44556709, "answer_count": 1, "score": 0, "last_activity_date": 1500787311, "creation_date": 1497418683, "last_edit_date": 1500787311, "question_id": 44536264, "link": "https://stackoverflow.com/questions/44536264/c-index-formula-for-images-array-updating-index-in-nested-for-loop", "title": "C: index formula for images (array), updating index in nested for loop", "body": "<p>My function accepts an array (a glider or acorn) and depicts it accurately at time zero.  However, my if/else if conditional statements counts the number of neighbors incorrectly or for some reason every index gets sent to the last else if (for indexes away from edges and corners).  Hence the number of neighbors is incorrectly counted at time 0 for index (2,3) which springs to life at time 0 +1 when it should stay dead since it only has two neighbors.<br>\nTorus topology is used (wraps around top to bottom and right to left) and here are the actual requirements: </p>\n\n<p>Please Google Conway's game of life for the rules.</p>\n\n<pre><code>/*step 1, check whether in array[index] is 0 or 255 (color) and alter auxiliary game[index] to 1 or 0 (dead or alive).  Do this since changes need to happen simultaneously, ie. we cannot incremently change array values without having an effect on later indexes.\nstep 2, check neighbors for each index of game[] and alter game[] to 1 or 0 depending on rules.  \nstep 3, based on game[], reset array[] to 255 or 0.*/\n\n#include &lt;assert.h&gt;\n#include &lt;stdint.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;math.h&gt;\n#include \"imgops.h\"\n\n/*typedef unsigned __int8 uint8_t; //for Visual Studio*/\n\nvoid life(uint8_t array[],\n    unsigned int cols,\n    unsigned int rows)\n{\n    //must first scan array and set auxiliary array to alive or dead because changes happen simultaneously,\n    //ie. if we change index values in array prior to scanning\n    unsigned int i = 0, j = 0;\n\n    int left, right, above, below, topleft, topright, botleft, botright;//life deleted\n    uint8_t checkPixel;//state is for if alive/dead but now deleted\n\n    uint8_t* game = malloc(cols*rows * sizeof(unsigned int));//allocate memory on heap for auxiliary array\n\n                                                             //index for game array\n    unsigned int index = 0;\n\n    for (i = 0; i &lt; cols; i++)//go through array to check 255 or 0 and set game[] to 1 or 0\n    {\n        for (j = 0; j &lt; rows; j++)\n        {\n            index = i + (j*cols);\n            if (get_pixel(array, cols, rows, i, j)&gt;0)\n                game[index] = 1;\n            else\n                game[index] = 0;\n        }\n    }\n\n\n    //Check neighbors \n\n    for (i = 0; i &lt; cols; i++)\n    {\n        for (j = 0; j &lt; rows; j++)\n        {\n            index = i + (j*cols);\n            //set values to 0 before checking the 8 neighbors, 1 for true 0 for false\n            left = 0;\n            right = 0;\n            above = 0;\n            below = 0;\n            topleft = 0;\n            topright = 0;\n            botleft = 0;\n            botright = 0;\n\n            //check top row, bottom row, left column, right column\n\n            //top row but not corners\n            if ((i &gt; 0) &amp;&amp; (i &lt; cols - 1) &amp;&amp; (j == 0))\n            {\n                //checks left\n                checkPixel = get_pixel(array, cols, rows, i - 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    left = 1;\n                }\n\n                //checks right\n                checkPixel = get_pixel(array, cols, rows, i + 1, j);\n                if (checkPixel &gt; 0)//if checkPixel is not black so alive, either 0 or 255\n                {\n                    right = 1;\n                }\n\n                //checks above\n                checkPixel = get_pixel(array, cols, rows, i, rows - 1);\n                if (checkPixel &gt; 0)\n                {\n                    above = 1;\n                }\n\n                //checks below\n                checkPixel = get_pixel(array, cols, rows, i, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    below = 1;\n                }\n\n                //checks topleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, rows - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topleft = 1;\n                }\n\n                //checks topright\n                checkPixel = get_pixel(array, cols, rows, i + 1, rows - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topright = 1;\n                }\n\n                //checks botleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botleft = 1;\n                }\n\n                //checks botright\n                checkPixel = get_pixel(array, cols, rows, i + 1, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botright = 1;\n                }\n            }\n\n            //bottom row but not corners\n            else if ((i &gt; 0) &amp;&amp; (i &lt; cols - 1) &amp;&amp; (j == rows - 1))\n            {\n                //checks left\n                checkPixel = get_pixel(array, cols, rows, i - 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    left = 1;\n                }\n\n                //checks right\n                checkPixel = get_pixel(array, cols, rows, i + 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    right = 1;\n                }\n\n                //checks above\n                checkPixel = get_pixel(array, cols, rows, i, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    above = 1;\n                }\n\n                //checks below\n                checkPixel = get_pixel(array, cols, rows, i, 0);\n                if (checkPixel &gt; 0)\n                {\n                    below = 1;\n                }\n\n                //checks topleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topleft = 1;\n                }\n\n                //checks topright\n                checkPixel = get_pixel(array, cols, rows, i + 1, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topright = 1;\n                }\n\n                //checks botleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, 0);\n                if (checkPixel &gt; 0)\n                {\n                    botleft = 1;\n                }\n\n                //checks botright\n                checkPixel = get_pixel(array, cols, rows, i + 1, 0);\n                if (checkPixel &gt; 0)\n                {\n                    botright = 1;\n                }\n\n            }\n\n            //checks left column except corner\n            else if ((i == 0) &amp;&amp; (j &lt; (rows - 1)) &amp;&amp; (j &gt; 0))\n            {\n                //checks left\n                checkPixel = get_pixel(array, cols, rows, cols - 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    left = 1;\n                }\n\n                //checks right\n                checkPixel = get_pixel(array, cols, rows, i + 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    right = 1;\n                }\n\n                //checks above\n                checkPixel = get_pixel(array, cols, rows, i, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    above = 1;\n                }\n\n                //checks below\n                checkPixel = get_pixel(array, cols, rows, i, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    below = 1;\n                }\n\n                //checks topleft\n                checkPixel = get_pixel(array, cols, rows, cols - 1, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topleft = 1;\n                }\n\n                //checks topright\n                checkPixel = get_pixel(array, cols, rows, i + 1, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topright = 1;\n                }\n\n                //checks botleft\n                checkPixel = get_pixel(array, cols, rows, cols - 1, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botleft = 1;\n                }\n\n                //checks botright\n                checkPixel = get_pixel(array, cols, rows, i + 1, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botright = 1;\n                }\n\n            }\n\n            //right column except corners\n            else if ((i == cols - 1) &amp;&amp; (j &lt; rows - 1) &amp;&amp; (j &gt; 0))\n            {\n                //checks left\n                checkPixel = get_pixel(array, cols, rows, i - 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    left = 1;\n                }\n\n                //checks right\n                checkPixel = get_pixel(array, cols, rows, 0, j);\n                if (checkPixel &gt; 0)\n                {\n                    right = 1;\n                }\n\n                //checks above\n                checkPixel = get_pixel(array, cols, rows, i, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    above = 1;\n                }\n\n                //checks below\n                checkPixel = get_pixel(array, cols, rows, i, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    below = 1;\n                }\n\n                //checks topleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topleft = 1;\n                }\n\n                //checks topright\n                checkPixel = get_pixel(array, cols, rows, 0, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topright = 1;\n                }\n\n                //checks botleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botleft = 1;\n                }\n\n                //checks botright\n                checkPixel = get_pixel(array, cols, rows, 0, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botright = 1;\n                }\n\n            }\n\n            //top left corner\n            else if ((i == 0) &amp;&amp; (j == 0))\n            {\n                //checks left\n                checkPixel = get_pixel(array, cols, rows, cols - 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    left = 1;\n                }\n\n                //checks right\n                checkPixel = get_pixel(array, cols, rows, i + 1, j);\n                if (checkPixel &gt; 0)//if checkPixel is not black so alive, either 0 or 255\n                {\n                    right = 1;\n                }\n\n                //checks above\n                checkPixel = get_pixel(array, cols, rows, i, rows - 1);\n                if (checkPixel &gt; 0)\n                {\n                    above = 1;\n                }\n\n                //checks below\n                checkPixel = get_pixel(array, cols, rows, i, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    below = 1;\n                }\n\n                //checks topleft\n                checkPixel = get_pixel(array, cols, rows, cols - 1, rows - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topleft = 1;\n                }\n\n                //checks topright\n                checkPixel = get_pixel(array, cols, rows, i + 1, rows - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topright = 1;\n                }\n\n                //checks botleft\n                checkPixel = get_pixel(array, cols, rows, cols - 1, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botleft = 1;\n                }\n\n                //checks botright\n                checkPixel = get_pixel(array, cols, rows, i + 1, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botright = 1;\n                }\n            }\n\n            //bot left corner\n            else if ((i == 0) &amp;&amp; (j == rows - 1))\n            {\n                //checks left\n                checkPixel = get_pixel(array, cols, rows, cols - 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    left = 1;\n                }\n\n                //checks right\n                checkPixel = get_pixel(array, cols, rows, i + 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    right = 1;\n                }\n\n                //checks above\n                checkPixel = get_pixel(array, cols, rows, i, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    above = 1;\n                }\n\n                //checks below\n                checkPixel = get_pixel(array, cols, rows, i, 0);\n                if (checkPixel &gt; 0)\n                {\n                    below = 1;\n                }\n\n                //checks topleft\n                checkPixel = get_pixel(array, cols, rows, cols - 1, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topleft = 1;\n                }\n\n                //checks topright\n                checkPixel = get_pixel(array, cols, rows, i + 1, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topright = 1;\n                }\n\n                //checks botleft\n                checkPixel = get_pixel(array, cols, rows, cols - 1, 0);\n                if (checkPixel &gt; 0)\n                {\n                    botleft = 1;\n                }\n\n                //checks botright\n                checkPixel = get_pixel(array, cols, rows, i + 1, 0);\n                if (checkPixel &gt; 0)\n                {\n                    botright = 1;\n                }\n            }\n\n            //top right\n            else if ((i == cols - 1) &amp;&amp; (j == 0))\n            {\n                //checks left\n                checkPixel = get_pixel(array, cols, rows, i - 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    left = 1;\n                }\n\n                //checks right\n                checkPixel = get_pixel(array, cols, rows, 0, 0);\n                if (checkPixel &gt; 0)\n                {\n                    right = 1;\n                }\n\n                //checks above\n                checkPixel = get_pixel(array, cols, rows, i, rows - 1);\n                if (checkPixel &gt; 0)\n                {\n                    above = 1;\n                }\n\n                //checks below\n                checkPixel = get_pixel(array, cols, rows, i, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    below = 1;\n                }\n\n                //checks topleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, rows - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topleft = 1;\n                }\n\n                //checks topright\n                checkPixel = get_pixel(array, cols, rows, 0, rows - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topright = 1;\n                }\n\n                //checks botleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botleft = 1;\n                }\n\n                //checks botright\n                checkPixel = get_pixel(array, cols, rows, 0, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botright = 1;\n                }\n            }\n\n            //bottom right\n            else if ((i == cols - 1) &amp;&amp; (j == rows - 1))\n            {\n                //checks left\n                checkPixel = get_pixel(array, cols, rows, i - 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    left = 1;\n                }\n\n                //checks right\n                checkPixel = get_pixel(array, cols, rows, 0, j);\n                if (checkPixel &gt; 0)\n                {\n                    right = 1;\n                }\n\n                //checks above\n                checkPixel = get_pixel(array, cols, rows, i, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    above = 1;\n                }\n\n                //checks below\n                checkPixel = get_pixel(array, cols, rows, i, 0);\n                if (checkPixel &gt; 0)\n                {\n                    below = 1;\n                }\n\n                //checks topleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topleft = 1;\n                }\n\n                //checks topright\n                checkPixel = get_pixel(array, cols, rows, 0, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topright = 1;\n                }\n\n                //checks botleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, 0);\n                if (checkPixel &gt; 0)\n                {\n                    botleft = 1;\n                }\n\n                //checks botright\n                checkPixel = get_pixel(array, cols, rows, 0, 0);\n                if (checkPixel &gt; 0)\n                {\n                    botright = 1;\n                }\n            }\n\n            //the other indexes not in corners nor top or bottom rows or very right or left column\n            else if ((j != 0) &amp;&amp; (j != rows - 1) &amp;&amp; (i != 0) &amp;&amp; (i != cols - 1))\n            {\n                //checks left\n                checkPixel = get_pixel(array, cols, rows, i - 1, j);\n                //printf(\"%d\\n\",checkPixel);\n                if (checkPixel &gt; 0)\n                {\n                    left = 1;\n                }\n                //checks right\n                checkPixel = get_pixel(array, cols, rows, i + 1, j);\n                if (checkPixel &gt; 0)\n                {\n                    right = 1;\n                }\n                //checks above\n                checkPixel = get_pixel(array, cols, rows, i, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    above = 1;\n                }\n                //checks below\n                checkPixel = get_pixel(array, cols, rows, i, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    below = 1;\n                }\n                //checks topleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topleft = 1;\n                }\n                //checks topright\n                checkPixel = get_pixel(array, cols, rows, i + 1, j - 1);\n                if (checkPixel &gt; 0)\n                {\n                    topright = 1;\n                }\n                //checks botleft\n                checkPixel = get_pixel(array, cols, rows, i - 1, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botleft = 1;\n                }\n                //checks botright\n                checkPixel = get_pixel(array, cols, rows, i + 1, j + 1);\n                if (checkPixel &gt; 0)\n                {\n                    botright = 1;\n                }\n\n\n            }\n\n            //finished scanning neighbors, time to reset values of game[]\n            if (game[index] == 0)//for dead cells\n            {\n                //exactly 3 neignbors revives a dead cell\n                if (left + right + above + below + topleft + topright + botleft + botright != 3)\n                    game[index] = 0;\n                else\n                    game[index] = 1;\n            }\n            else if (game[index] == 1)//for live cells\n            {\n                //check overcrowding and undercrowding\n                if ((left + right + above + below + topleft + topright + botleft + botright == 3)\n                    || (left + right + above + below + topleft + topright + botleft + botright == 2))\n                {\n                    game[index] = 1;\n                }\n                //if number of neighbors is not 2 or 3\n                else\n                {\n                    game[index] = 0;\n                }\n            }\n\n            //Reset left, right, above, below, topleft, topright, botleft, botright\n            left = 0;\n            right = 0;\n            above = 0;\n            below = 0;\n            topleft = 0;\n            topright = 0;\n            botleft = 0;\n            botright = 0;\n\n\n        }\n    }\n\n    //finished setting the game[]\n    //alter the main array to set colors according to state\n    for (i = 0; i &lt; cols; i++)\n    {\n        for (j = 0; j &lt; rows; j++)\n        {\n            index = j + (i*(cols - 1));\n\n            if (game[index] == 1)\n            {\n                set_pixel(array, cols, rows, i, j, 255);\n            }\n            else\n            {\n                set_pixel(array, cols, rows, i, j, 0);\n            }\n        }\n    }\n\n    //end of program\n}\n</code></pre>\n"}, {"tags": ["c", "cmake", "libwebsockets"], "answers": [{"comments": [{"owner": {"reputation": 3289, "user_id": 2584392, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/J4qln.jpg?s=128&g=1", "display_name": "georoot", "link": "https://stackoverflow.com/users/2584392/georoot"}, "edited": false, "score": 0, "creation_date": 1497420628, "post_id": 44536745, "comment_id": 76064410, "body": "there is no lws_config.h file . its actually lws_config.h.in and is generated by passing some cmake variables. the file is inside libwebsockets root folder"}, {"owner": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "reply_to_user": {"reputation": 3289, "user_id": 2584392, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/J4qln.jpg?s=128&g=1", "display_name": "georoot", "link": "https://stackoverflow.com/users/2584392/georoot"}, "edited": false, "score": 0, "creation_date": 1497420783, "post_id": 44536745, "comment_id": 76064486, "body": "It seems that your <code>lws_config.h</code> file is not being generated then. Based on information you&#39;ve currently given, I cannot help with that."}, {"owner": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "reply_to_user": {"reputation": 3289, "user_id": 2584392, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/J4qln.jpg?s=128&g=1", "display_name": "georoot", "link": "https://stackoverflow.com/users/2584392/georoot"}, "edited": false, "score": 0, "creation_date": 1497422297, "post_id": 44536745, "comment_id": 76065284, "body": "@georoot I can help if you give more information, such as your submodule <code>CMakeLists.txt</code> file"}], "tags": [], "owner": {"reputation": 320, "user_id": 6929323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtUUrW737QQ/AAAAAAAAAAI/AAAAAAAAAI4/8HOFMPRhe5s/photo.jpg?sz=128", "display_name": "snoopy", "link": "https://stackoverflow.com/users/6929323/snoopy"}, "is_accepted": false, "score": 0, "last_activity_date": 1497420539, "creation_date": 1497420539, "answer_id": 44536745, "question_id": 44536189, "link": "https://stackoverflow.com/questions/44536189/unable-to-compile-libwebsockets-using-cmake/44536745#44536745", "title": "Unable to compile libwebsockets using CMake?", "body": "<p>The following file cannot be found:</p>\n\n<blockquote>\n  <p>lws_config.h: No such file or directory\n  compilation terminated.</p>\n</blockquote>\n\n<p>When referenced from <code>libwebsockets.h</code> at line 43:</p>\n\n<blockquote>\n  <p>libwebsockets.h:43:24:</p>\n</blockquote>\n\n<p>This is generated whilst compiling <code>main.c</code>:</p>\n\n<blockquote>\n  <p>In file included from /home/Project/server/src/main.c:2:0:</p>\n</blockquote>\n\n<p>Do you know whether you have `lws_config.h\" in your submodule tree?</p>\n"}], "owner": {"reputation": 3289, "user_id": 2584392, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/J4qln.jpg?s=128&g=1", "display_name": "georoot", "link": "https://stackoverflow.com/users/2584392/georoot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 851, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497420539, "creation_date": 1497418407, "question_id": 44536189, "link": "https://stackoverflow.com/questions/44536189/unable-to-compile-libwebsockets-using-cmake", "title": "Unable to compile libwebsockets using CMake?", "body": "<p>Here is the cmake configuration that i am using</p>\n\n<pre><code>cmake_minimum_required (VERSION 3.0)\n\nproject (Project)\n\nset (CMAKE_CXX_FLAGS_DEBUG \"-std=c++11 -O0 -DDEBUG -g\")\nset (CMAKE_C_FLAGS_DEBUG \"-std=c++11 -O0 -DDEBUG -g\")\nset (CMAKE_CXX_FLAGS_RELEASE \"-std=c++11 -O3\")\nset (CMAKE_C_FLAGS_RELEASE \"-std=c++11 -O3\")\n\nadd_subdirectory (external/libwebsockets)\ninclude_directories (external/libwebsockets/lib)\n\ninclude_directories (src/globals)\n\nadd_library (libwebsockets SHARED IMPORTED)\n\nadd_executable (Project src/main.c)\n\ntarget_link_libraries (Project libwebsockets)\n</code></pre>\n\n<p><a href=\"https://github.com/warmcat/libwebsockets\" rel=\"nofollow noreferrer\">Libwebsockets</a> have been added as a git submodule under <code>external/libwebsockets</code> . I am getting the following error while building with above configuration</p>\n\n<pre><code>In file included from /home/Project/server/src/main.c:2:0:\n/home/Project/server/external/libwebsockets/lib/libwebsockets.h:43:24: fatal error: lws_config.h: No such file or directory\ncompilation terminated.\nCMakeFiles/Project.dir/build.make:62: recipe for target 'CMakeFiles/Project.dir/src/main.c.o' failed\nmake[2]: *** [CMakeFiles/Project.dir/src/main.c.o] Error 1\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/Project.dir/all' failed\nmake[1]: *** [CMakeFiles/Project.dir/all] Error 2\nMakefile:149: recipe for target 'all' failed\nmake: *** [all] Error 2\n</code></pre>\n\n<p>can someone please help me out with where i am going wrong and if i am writing the <code>CMake</code> configuration script correctly ?</p>\n"}, {"tags": ["c", "arrays", "pointers", "malloc", "scanf"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497418410, "post_id": 44536146, "comment_id": 76063356, "body": "Try to print the number of the element, instead of its value. I.e. kill the <code>elementArray[</code> and <code>]</code>."}, {"owner": {"reputation": 537, "user_id": 619595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb10444b71bf5c21f8ce278e7f5e33bf?s=128&d=identicon&r=PG", "display_name": "vtha", "link": "https://stackoverflow.com/users/619595/vtha"}, "edited": false, "score": 0, "creation_date": 1497418536, "post_id": 44536146, "comment_id": 76063398, "body": "You are not initializing the memory allocated to <code>elementArray</code> and you are trying to compare it. It may happen that all the elements are non zero and your loop may be continuing more than the number of elements you have allocated."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497420458, "post_id": 44536146, "comment_id": 76064306, "body": "OP, you seem to need to explain the meaning of the &quot;1&quot; you want to print. Some answers below did not get your goal there."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497420562, "post_id": 44536146, "comment_id": 76064367, "body": "Also explain the goal of comparing to 0, I guess you want to end when value 0 is entered. Otherwise explain in detail, please."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497421774, "post_id": 44536146, "comment_id": 76065006, "body": "Because @Micha&#235;lRoy implies: OP, would you care stating whether this is a homework/challenge question? If yes please read the <a href=\"https://stackoverflow.com/tour\">tour</a>."}], "answers": [{"comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 1, "creation_date": 1497418656, "post_id": 44536229, "comment_id": 76063449, "body": "I doubt that this solves OPs first problem as stated &quot;Whenever I launch the program, the &quot;Element %d&quot; printf displays the %d as a large number instead of 1.&quot;. It does solve other issues though."}, {"owner": {"reputation": 4396, "user_id": 1043773, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7a5453bbc3f198ebef8e8d44253a1503?s=128&d=identicon&r=PG", "display_name": "bashrc", "link": "https://stackoverflow.com/users/1043773/bashrc"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 1, "creation_date": 1497418902, "post_id": 44536229, "comment_id": 76063542, "body": "That&#39;s because OP is printing uninitialized memory which is UB. He may see a large number or a zero or jumping monkeys on the screen."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497418903, "post_id": 44536229, "comment_id": 76063544, "body": "Printf after scanf avoids uninitialised value, but does not solve OPs first problem either."}, {"owner": {"reputation": 39, "user_id": 7860796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MTlQd.jpg?s=128&g=1", "display_name": "batPerson", "link": "https://stackoverflow.com/users/7860796/batperson"}, "edited": false, "score": 0, "creation_date": 1497430531, "post_id": 44536229, "comment_id": 76070630, "body": "Thanks for the help! It&#39;s like I&#39;m building an array from the ground up. Didn&#39;t think that my homemade array wouldn&#39;t be filled with anything. Cheers!"}], "tags": [], "owner": {"reputation": 4396, "user_id": 1043773, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7a5453bbc3f198ebef8e8d44253a1503?s=128&d=identicon&r=PG", "display_name": "bashrc", "link": "https://stackoverflow.com/users/1043773/bashrc"}, "is_accepted": false, "score": 2, "last_activity_date": 1497419199, "last_edit_date": 1497419199, "creation_date": 1497418586, "answer_id": 44536229, "question_id": 44536146, "link": "https://stackoverflow.com/questions/44536146/defining-malloc-array-size-with-scanf-and-initialising/44536229#44536229", "title": "Defining malloc array size with scanf and initialising", "body": "<pre><code>while (elementArray[i] != '\\0')\n</code></pre>\n\n<p>This check is the problem</p>\n\n<ol>\n<li><code>malloc</code> gives no guarantee that the memory initialized will be <code>zero filled</code>. Hence your loop may cross over the allocated memory and try to read memory that your program is not supposed to read (hence resulting in a crash)</li>\n<li>If it's zero filled your code will never enter the loop</li>\n</ol>\n\n<p>What you need is </p>\n\n<pre><code>while (i &lt; elements)\n</code></pre>\n\n<p>Also <code>printf</code> should come after <code>scanf</code> for any meaningful result. If you want to just get the index that you are about to enter use <code>printf(\"Element: %d\", i)</code> instead of <code>elementArray[i]</code></p>\n"}, {"comments": [{"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497419841, "post_id": 44536405, "comment_id": 76063989, "body": "Yes, quiestion # 5."}, {"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497420044, "post_id": 44536405, "comment_id": 76064106, "body": "The second problem is answered by question #7."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497420220, "post_id": 44536405, "comment_id": 76064192, "body": "OP wants to print &quot;1&quot; for first element. What do you think he means by that? I.e. I disagree."}, {"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497420549, "post_id": 44536405, "comment_id": 76064360, "body": "OP wants to print the value entered by user in the line below the printf.  Not necessarily 1.  Right now he prints what we usually call garbage.  He will hopefully figure it out, once he&#39;s past the program crashing."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497420676, "post_id": 44536405, "comment_id": 76064438, "body": "Well, we seem to have different guessed opinions on what OP wants. (I.e. I admit that mine is guessed, too. Sorry for not noticing earlier.) I made a comment to have OP clarify. Two actually."}, {"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497420866, "post_id": 44536405, "comment_id": 76064527, "body": "My point is;  these are the same questions you yourself asked yourself  when reading this code.  Is stack overflow a place where students ask questions to move ahead, or is it a place where one gets his homework done for free?"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "edited": false, "score": 0, "creation_date": 1497420941, "post_id": 44536405, "comment_id": 76064567, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/146600/discussion-between-yunnosch-and-michael-roy\">continue this discussion in chat</a>."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497421600, "post_id": 44536405, "comment_id": 76064913, "body": "OP, I recommend this answer in case this is a homework question. Seriously, in your own interest. (Just also use my very first comment, in case I guessed correctly on the meaning of &quot;1&quot;.)"}, {"owner": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1497422724, "post_id": 44536405, "comment_id": 76065487, "body": "@Yunnosch and Micha&#235;l Roy-- I think that the concern over homework here is misplaced. This question is not a homework dump; OP has made a genuine effort in code that clearly shows some misunderstandings, and has asked a question. It is helpful to show correct code and best practices. OP can choose to use answers and advice however they choose."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 15451, "user_id": 6879826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzqBC.png?s=128&g=1", "display_name": "ad absurdum", "link": "https://stackoverflow.com/users/6879826/ad-absurdum"}, "edited": false, "score": 0, "creation_date": 1497422836, "post_id": 44536405, "comment_id": 76065543, "body": "@DavidBowling My impression also was not of homework. But Michael indicated having seen it repeatedly on a challenge site. So, asking OP for clarification seems appropriate."}, {"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "edited": false, "score": 0, "creation_date": 1497424034, "post_id": 44536405, "comment_id": 76066242, "body": "I understand this may not be homework, but it is obvious OP is a student in learning, whether in a institution or by himself.  As to the list of questions, these are the same all programmers at any level ask."}], "tags": [], "owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "is_accepted": false, "score": 1, "last_activity_date": 1497419259, "creation_date": 1497419259, "answer_id": 44536405, "question_id": 44536146, "link": "https://stackoverflow.com/questions/44536146/defining-malloc-array-size-with-scanf-and-initialising/44536405#44536405", "title": "Defining malloc array size with scanf and initialising", "body": "<p>A couple of questions, for you to ask:</p>\n\n<ol>\n<li>What if the user enters a negative value?</li>\n<li>What if the user enters 0 ?</li>\n<li>What if the user enters a very large value?</li>\n<li>Did the array allocation succeed? </li>\n<li>What is in my array after it is allocated? </li>\n<li>If my array size is 0, will elemenArray[0] be valid?</li>\n<li>Should I use a for loop, like everyonbe else does for walking through my array?</li>\n</ol>\n\n<p>Just asking yourself these questions will fix this program in no time, and will get you through half of the next one you'll write.</p>\n"}, {"tags": [], "owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "is_accepted": false, "score": 0, "last_activity_date": 1497420278, "creation_date": 1497420278, "answer_id": 44536681, "question_id": 44536146, "link": "https://stackoverflow.com/questions/44536146/defining-malloc-array-size-with-scanf-and-initialising/44536681#44536681", "title": "Defining malloc array size with scanf and initialising", "body": "<p>You have more problems than the fact that you print something else than the index.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main(void)\n{\n    int elements = 0;\n    printf(\"How many Elements will you enter? \");\n    if((1!=scanf(\"%d\", &amp;elements))||(elements&lt;1) ) // check return value, always a good idea\n    {   printf(\"Reading number failed.\\n\");\n        return 1;\n    }\n\n    int* elementArray = malloc(sizeof(int) * elements);\n    int i = 0;\n    while ( (i&lt;elements) // use the number you asked for to avoid writing beyond array\n            &amp;&amp; ((0==i) || (0 != elementArray[i-1]))) // stop when previously entered value is 0\n    {\n        printf(\"Element %d: \", i+1); // print the index\n        // instead of the non-initialised value\n\n        if(1!= scanf(\"%d\", &amp;elementArray[i]))\n        {\n            printf(\"Reading value failed!\\n\");\n            free(elementArray); // cleanup\n            return 1;\n        }\n        i++;\n    }\n    if (i&lt;elements)\n    {\n        printf(\"Stopped early because 0 was entered.\\n\");\n    }\n    free(elementArray);   \n\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 7860796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MTlQd.jpg?s=128&g=1", "display_name": "batPerson", "link": "https://stackoverflow.com/users/7860796/batperson"}, "edited": false, "score": 1, "creation_date": 1497431272, "post_id": 44539332, "comment_id": 76071199, "body": "Brilliant! Thank you very much!"}], "tags": [], "owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "is_accepted": true, "score": 0, "last_activity_date": 1497428612, "creation_date": 1497428612, "answer_id": 44539332, "question_id": 44536146, "link": "https://stackoverflow.com/questions/44536146/defining-malloc-array-size-with-scanf-and-initialising/44539332#44539332", "title": "Defining malloc array size with scanf and initialising", "body": "<p>First you need to know that malloc() function dynamically allocates memory according to the size calculated (with the help of sizeof() ) and returns the address of this memory location.<br>\nHowever this address is not associated with any data type i.e. only a void* pointer can store this address of an incomplete data type.\nThus instead of mentioning   </p>\n\n<pre><code>int* elementArray = malloc(sizeof(int) * elements);\n</code></pre>\n\n<p>mention and use typecasting to it</p>\n\n<pre><code>int* elementArray = (int *)malloc(sizeof(int) * elements);\n</code></pre>\n\n<p>As per your code, elementArray is a pointer which will store the address of an integer</p>\n\n<pre><code>int *elementArray;\n\nprintf(\"Element %d: \", elementArray[i]);\n</code></pre>\n\n<p>Thus the above line will actually print the address pointed to by the pointer and not the index since incrementing a pointer is same as\nelementArray stores the base address.</p>\n\n<pre><code>i.e elementArray++ is equal to elementArray+1 == elementArray[1] will point \nto the next memory location after 4 bytes.(since integer is stored in 4 bytes)\n</code></pre>\n\n<p>I have modified  your code correcting your mistakes</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main(void)\n{\n    int elements = 0;\n    printf(\"How many Elements will you enter?\");\n    scanf(\"%d\", &amp;elements);\n\n  //the below statement actually allocates contiguous block of memory equal \n  //to no of elements and the pointer points only to first element.\n  //Incrementing it will point to next element\n\n    int* elementArray =(int *) malloc(sizeof(int) * elements);  \n                               //typecasting of void* pointer to int*\n    int i = 0,elm;\n    for(i=0;i&lt;elements;i++)                                           \n //Since u know iterations will be equal to no of elements it is better to use for loop\n    {\n        printf(\"Element %d: \", i);\n        scanf(\"%d\", &amp;elm);\n        *(elementArray+i)=elm;\n//Storing the data in elm and making the pointer point to next free \n//dynamically allocated block of memory and using * operator the value at \n//this location is accessed and storing elm value in it\n    }\n\n    for(i=0;i&lt;elements;i++)\n     printf(\"%d\",*(elementArray+i));\n\n    free(elementArray);\n\n    return 0;\n}\n</code></pre>\n\n<p>This code works and I hope it make things clear !!! </p>\n"}], "owner": {"reputation": 39, "user_id": 7860796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MTlQd.jpg?s=128&g=1", "display_name": "batPerson", "link": "https://stackoverflow.com/users/7860796/batperson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1568, "favorite_count": 0, "accepted_answer_id": 44539332, "answer_count": 4, "score": 1, "last_activity_date": 1497430424, "creation_date": 1497418224, "last_edit_date": 1497430424, "question_id": 44536146, "link": "https://stackoverflow.com/questions/44536146/defining-malloc-array-size-with-scanf-and-initialising", "title": "Defining malloc array size with scanf and initialising", "body": "<p>I'm trying to create a program that asks the user for a size of an array, then asks the user to populate it. </p>\n\n<p>Whenever I launch the program, the \"Element %d\" printf displays the %d as a large number instead of 1. </p>\n\n<p>If I continue the program after entering the value into the array, the debugger crashes. What's happening here? Did I accidentally place the address in the array position? Thanks</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main(void)\n{\n    int elements = 0;\n    printf(\"How many Elements will you enter?\");\n    scanf(\"%d\", &amp;elements);\n\n    int* elementArray = malloc(sizeof(int) * elements);\n    int i = 0;\n    while (elementArray[i] != '\\0')\n    {\n        printf(\"Element %d: \", elementArray[i]);\n        scanf(\"%d\", &amp;elementArray[i]);\n        i++;\n    }\n    free(elementArray);\n\n    return 0;\n}\n</code></pre>\n\n<p>EDIT: Reading the comments, I meant <code>printf(\"Element %d: \", elementArray[i]);</code> was supposed to print one during the first loop. Though I should edit the code to be elementArray[i] + 1 so it doesn't print \"Element 0\" instead of Element 1. Apologies for the barebones code, it's half finished, I wanted to solve this problem before finishing it off. Will work on the solutions given now. Thanks for the help</p>\n\n<p>EDIT2: Thanks to all of you, especially Sharuya! Here's my finished code.</p>\n\n<pre><code>void printArray(int* elemArray, int elements)\n{\n    printf(\"The Array contains: \");\n    for (int k = 0; k &lt; elements; k++)\n    {\n        printf(\"%d,\\t\", elemArray[k]);\n    }\n}\n\nint main(void)\n{\n    int elements = 0;\n    printf(\"How many Elements will you enter?\");\n    scanf(\"%d\", &amp;elements);\n\n    int* elementArray = (int *)malloc(sizeof(int) * elements);\n\n    int input = 0;\n    for (int j = 0; j &lt; elements; j++)\n    {\n        printf(\"Element %d: \", j + 1);\n        scanf(\"%d\\n\", &amp;input);\n        *(elementArray + j) = input;\n    }\n\n    printArray(elementArray, elements);\n\n    free(elementArray);\n\n    return 0;\n}\n</code></pre>\n\n<p>Only issue now is, between the \"Element 1: \" and \"Element 2: \" printf, I get a blank line, that allows me to enter a number, upon submitting, it continues as normal. If I submit an array with 5 elements, It asks me for 6 elements, and only 5 appear... What's happening here?</p>\n"}, {"tags": ["c", "pass-by-reference", "pass-by-value"], "comments": [{"owner": {"reputation": 537, "user_id": 619595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb10444b71bf5c21f8ce278e7f5e33bf?s=128&d=identicon&r=PG", "display_name": "vtha", "link": "https://stackoverflow.com/users/619595/vtha"}, "edited": false, "score": 1, "creation_date": 1497418308, "post_id": 44536143, "comment_id": 76063321, "body": "You should pass <code>swap(&amp;x,&amp;y)</code> to pass the address of these variables."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 5, "creation_date": 1497418528, "post_id": 44536143, "comment_id": 76063395, "body": "It won&#39;t compile just find if you enable all warnings &amp; debug info. With <code>gcc -Wall -Wextra -g</code> using <a href=\"http://gcc.gnu.org/\" rel=\"nofollow noreferrer\">GCC</a> you <i>will</i> get warnings that you should take care of."}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1497418611, "post_id": 44536143, "comment_id": 76063428, "body": "What does your compiler tell you?"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1497421743, "post_id": 44536143, "comment_id": 76064987, "body": "This code isn&#39;t valid C. If it compiled then something is seriously wrong with your compiler. You have to find out if it is incorrectly configured or alternatively switch to a better one."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497422787, "post_id": 44536143, "comment_id": 76065515, "body": "All the answers have clearly pointed out what the issue with your function was. But I would like to add that the parameters are still being passed by value. It is the address of the variables that is passed by value. <i>C has no pass by reference</i>."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497479108, "post_id": 44536143, "comment_id": 76101804, "body": "Rather than commenting &quot;thank you&quot; see <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497479383, "post_id": 44536143, "comment_id": 76101878, "body": "@AjayBrahmakshatriya From the caller&#39;s point-of-view only:  <code>void foo(int *x); int x[1]; foo(x);</code>  how would this differ from <i>pass by reference</i> of <code>x</code>?  Code passes <code>x</code>, <code>foo()</code> can change the contents of <code>x</code>."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8158278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282711ccc2940e8bffafb3f011e9983b?s=128&d=identicon&r=PG&f=1", "display_name": "Dorjay Yolmo", "link": "https://stackoverflow.com/users/8158278/dorjay-yolmo"}, "edited": false, "score": 0, "creation_date": 1497421953, "post_id": 44536170, "comment_id": 76065094, "body": "Thank you! Makes sense now"}], "tags": [], "owner": {"reputation": 5219, "user_id": 1166774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2186f597c73ae03edf7912fa5ec93cc7?s=128&d=identicon&r=PG&f=1", "display_name": "LoztInSpace", "link": "https://stackoverflow.com/users/1166774/loztinspace"}, "is_accepted": false, "score": 5, "last_activity_date": 1497418326, "creation_date": 1497418326, "answer_id": 44536170, "question_id": 44536143, "link": "https://stackoverflow.com/questions/44536143/call-by-value-in-c/44536170#44536170", "title": "Call by value in C", "body": "<p>So close</p>\n\n<pre><code>swap(&amp;x,&amp;y);\n</code></pre>\n\n<p>You were not passing references (pointers)</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 8158278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282711ccc2940e8bffafb3f011e9983b?s=128&d=identicon&r=PG&f=1", "display_name": "Dorjay Yolmo", "link": "https://stackoverflow.com/users/8158278/dorjay-yolmo"}, "edited": false, "score": 1, "creation_date": 1497421950, "post_id": 44536192, "comment_id": 76065093, "body": "Thank you! Makes sense now"}], "tags": [], "owner": {"reputation": 10050, "user_id": 3512538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6Om7A.png?s=128&g=1", "display_name": "CIsForCookies", "link": "https://stackoverflow.com/users/3512538/cisforcookies"}, "is_accepted": false, "score": 7, "last_activity_date": 1497418422, "creation_date": 1497418422, "answer_id": 44536192, "question_id": 44536143, "link": "https://stackoverflow.com/questions/44536143/call-by-value-in-c/44536192#44536192", "title": "Call by value in C", "body": "<p>you are sending an <code>int</code> to a function that expects <code>int*</code>, thus when you are dereferencing - <code>temp=*b;</code> you are trying to access memory you don't own -> segfault. Call <code>swap</code> like this: <code>swap(&amp;x,&amp;y);</code></p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 8158278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282711ccc2940e8bffafb3f011e9983b?s=128&d=identicon&r=PG&f=1", "display_name": "Dorjay Yolmo", "link": "https://stackoverflow.com/users/8158278/dorjay-yolmo"}, "edited": false, "score": 0, "creation_date": 1497421965, "post_id": 44536504, "comment_id": 76065105, "body": "Thank you! Makes sense now"}], "tags": [], "owner": {"reputation": 41, "user_id": 6178783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-W7a7uj6PtOQ/AAAAAAAAAAI/AAAAAAAAAA0/CySba6tphE4/photo.jpg?sz=128", "display_name": "Ashish Patel", "link": "https://stackoverflow.com/users/6178783/ashish-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1497419663, "creation_date": 1497419663, "answer_id": 44536504, "question_id": 44536143, "link": "https://stackoverflow.com/questions/44536143/call-by-value-in-c/44536504#44536504", "title": "Call by value in C", "body": "<p>the call by value method of passing arguments to a function copies the actual value of an argument into the formal parameter of the function. In this case, changes made to the parameter inside the function have no effect on the argument.\nbut here you are passing values </p>\n\n<pre><code>swap(x,y)\n</code></pre>\n\n<p>but taking it as address</p>\n\n<p><code>void swap(int *a,int *b)</code></p>\n\n<p>so it is looking for an address which passed by your variable.\nfor example, if you have passed something like</p>\n\n<p><code>swap(x,y)</code></p>\n\n<p>and \nif <code>we have x=100 and y=200</code>,  then it is assuming 100 and 200 to be addresses\nand trying to access it will definitely give you error as they may not exist or having garbage value.</p>\n"}, {"tags": [], "owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "is_accepted": false, "score": 1, "last_activity_date": 1497513652, "creation_date": 1497513652, "answer_id": 44561904, "question_id": 44536143, "link": "https://stackoverflow.com/questions/44536143/call-by-value-in-c/44561904#44561904", "title": "Call by value in C", "body": "<p>To avoid similar segfaults at runtime, always compile with <code>-Wall</code>.</p>\n\n<p>Actually, there is a way to pass-by-reference in C, just change two lines in your code like this:</p>\n\n<pre><code>#define swap(x,y)  swap_impl__(&amp;(x), &amp;(y))\n\nstatic void swap_impl__(int *a, int *b)\n{\n    int temp;\n    temp=*b;\n    *b=*a;\n    *a=temp;\n}\n\nvoid main()\n{\n    int x,y;\n    printf (\"Enter the values of x and y : \");\n    scanf(\"%d %d\",&amp;x,&amp;y);\n\n    swap(x,y);\n\n    printf(\"The value of x = %d and y = %d\",x,y);\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8158278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282711ccc2940e8bffafb3f011e9983b?s=128&d=identicon&r=PG&f=1", "display_name": "Dorjay Yolmo", "link": "https://stackoverflow.com/users/8158278/dorjay-yolmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 1, "answer_count": 4, "score": 3, "last_activity_date": 1497602922, "creation_date": 1497418212, "last_edit_date": 1497602922, "question_id": 44536143, "link": "https://stackoverflow.com/questions/44536143/call-by-value-in-c", "title": "Call by value in C", "body": "<p>I'm new to programming and I am currently working on C.</p>\n\n<p>I learned that C does not have call by reference. The programs that we write to pass the address of actual parameters to the formal parameters is also call by Value in C.</p>\n\n<p>Correct me if I'm wrong.. However, I ran this program :</p>\n\n<p>//Swapping of two numbers using functions.\n    #include </p>\n\n<pre><code>void swap(int *,int *);\n\nvoid main()\n{\n    int x,y;\n    printf (\"Enter the values of x and y : \");\n    scanf(\"%d %d\",&amp;x,&amp;y);\n\n    swap(x,y);\n\n    printf(\"The value of x = %d and y = %d\",x,y);\n}\n\nvoid swap(int *a,int *b)\n{\n    int temp;\n\n    temp=*b;\n    *b=*a;\n    *a=temp;\n}\n</code></pre>\n\n<p>It compiles just fine.. however, I'm getting a Segmentation Fault in the Output.</p>\n\n<p>It asks me the enter the value of X and Y and then gives, Segmentation fault.. </p>\n\n<p>Please help!!</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 493, "user_id": 7363719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c16a29d011d22a30aa62f36b66539e5?s=128&d=identicon&r=PG&f=1", "display_name": "user7363719", "link": "https://stackoverflow.com/users/7363719/user7363719"}, "edited": false, "score": 0, "creation_date": 1497417937, "post_id": 44536039, "comment_id": 76063137, "body": "Is arr[i].minute just the index?  Also, it looks like you don&#39;t need the conditional for the else if or the while, and you don&#39;t need to declare int i on line 3."}, {"owner": {"reputation": 17, "user_id": 7929010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f382594497c2a293520551e017c79cfb?s=128&d=identicon&r=PG&f=1", "display_name": "bigpimpin206", "link": "https://stackoverflow.com/users/7929010/bigpimpin206"}, "reply_to_user": {"reputation": 493, "user_id": 7363719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c16a29d011d22a30aa62f36b66539e5?s=128&d=identicon&r=PG&f=1", "display_name": "user7363719", "link": "https://stackoverflow.com/users/7363719/user7363719"}, "edited": false, "score": 0, "creation_date": 1497418282, "post_id": 44536039, "comment_id": 76063307, "body": "yeah, arr[i].minute is the index. That is where I would begin storing the values that I need. I need the conditional so that I don&#39;t check the values that are less than 1."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1497418459, "post_id": 44536039, "comment_id": 76063378, "body": "Please edit your question to give the declaration of <code>arr</code> and of the <code>struct</code> containing <code>.minute</code> &amp; <code>.sleepLevel</code>"}, {"owner": {"reputation": 17, "user_id": 7929010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f382594497c2a293520551e017c79cfb?s=128&d=identicon&r=PG&f=1", "display_name": "bigpimpin206", "link": "https://stackoverflow.com/users/7929010/bigpimpin206"}, "edited": false, "score": 0, "creation_date": 1497418861, "post_id": 44536039, "comment_id": 76063530, "body": "I&#39;ve included the structs for .minute, and .sleepLevel."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1497420750, "post_id": 44536039, "comment_id": 76064470, "body": "Are you looking for the largest sum of numbers, or the longest sequence?  The title says &#39;longest sequence&#39;; the code seems to be trying for &#39;maximum sum&#39;.  You don&#39;t seem to track current sum (or current length) separately from maximum sum (or maximum length).  You probably need both the current and the maximum.  You can reset the current values on reading a non-positive (zero or negative) value.  You also have to worry about data with no trailing zeros; it might be the sequence you&#39;re looking for."}], "answers": [{"tags": [], "owner": {"reputation": 1404, "user_id": 7671328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6gynE.jpg?s=128&g=1", "display_name": "Yunbin Liu", "link": "https://stackoverflow.com/users/7671328/yunbin-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1497422031, "creation_date": 1497422031, "answer_id": 44537162, "question_id": 44536039, "link": "https://stackoverflow.com/questions/44536039/finding-longest-consecutive-range-of-numbers/44537162#44537162", "title": "Finding longest consecutive range of numbers", "body": "<p>This could work for you.   </p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\ntypedef enum sleep\n{\n    NONE = 0, ASLEEP = 1, AWAKE = 2, REALLYAWAKE = 3\n} Sleep;\n\ntypedef struct fitbit\n{\n    char minute[9];\n    double calories;\n    double distance;\n    unsigned int floors;\n    unsigned int heartRate;\n    unsigned int steps;\n    Sleep sleepLevel;\n} FitbitData;\n\n\nvoid sleep_level(FitbitData *arr, int n) {\n    char *start;\n    char *end;\n    int max_sum = 0;\n\n    char *current_start;\n    char *current_end;\n    int current_sum = 0;\n    int i;\n\n    if (n &lt; 0)\n        return ;\n\n    current_start = current_end = arr[0].minute; \n    for (i = 0; i &lt; n; i++) {\n        if (arr[i].sleepLevel &gt; 1) {\n            current_sum += arr[i].sleepLevel;\n            current_end  = arr[i].minute;\n        }\n        else {\n            if (current_sum &gt; max_sum) {\n                start   = current_start;\n                max_sum = current_sum;\n                end     = current_end;\n            }\n            do\n                i++;\n            while (i &lt; n &amp;&amp; arr[i].sleepLevel &lt;= 1);\n            if (i &gt;= n)\n                break;\n            current_start = arr[i].minute;\n            current_sum   = arr[i].sleepLevel;\n            current_end   = arr[i].minute;\n            }\n    }\n\n    if (current_sum &gt; max_sum) {\n        start   = current_start;\n        max_sum = current_sum;\n        end     = current_end;\n    }\n\n    printf(\"The longest range of consecutive starts at %s and ends at %s\\n\",start,end);\n}\n\nint main(void)\n{\n    FitbitData arr[12];\n\n    strcpy( arr[0].minute, \"a\");\n    arr[0].sleepLevel = 0;\n    strcpy( arr[1].minute, \"b\");\n    arr[1].sleepLevel = 0;\n    strcpy( arr[2].minute, \"c\");\n    arr[2].sleepLevel = 0;\n    strcpy( arr[3].minute, \"d\");\n    arr[3].sleepLevel = 1;\n    strcpy( arr[4].minute, \"e\");\n    arr[4].sleepLevel = 2;\n    strcpy( arr[5].minute, \"f\");\n    arr[5].sleepLevel = 1;\n    strcpy( arr[6].minute, \"g\");\n    arr[6].sleepLevel = 2;\n    strcpy( arr[7].minute, \"h\");\n    arr[7].sleepLevel = 2;\n    strcpy( arr[8].minute, \"i\");\n    arr[8].sleepLevel = 2;\n    strcpy( arr[9].minute, \"g\");\n    arr[9].sleepLevel = 3;\n    strcpy( arr[10].minute, \"k\");\n    arr[10].sleepLevel = 3;\n    strcpy( arr[11].minute, \"l\");\n    arr[11].sleepLevel = 0;\n\n\n    sleep_level(arr, sizeof arr / sizeof arr[0]);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "is_accepted": false, "score": 0, "last_activity_date": 1497422279, "creation_date": 1497422279, "answer_id": 44537221, "question_id": 44536039, "link": "https://stackoverflow.com/questions/44536039/finding-longest-consecutive-range-of-numbers/44537221#44537221", "title": "Finding longest consecutive range of numbers", "body": "<blockquote>\n  <p>I've been struggling with finding the longest consecutive range of numbers that are greater than 1</p>\n</blockquote>\n\n<p>That's not what your code does. You'll want something along the lines of this pseudo code:</p>\n\n<pre><code>int current_size = 0;  // size of the current sequence\nint current_val = 0;   // value of the current sequence   \nint longest_size = 0;  // size of the longest sequence\nint longest_val = 0;   // value of the longest sequence\n\nfor(int i=0; i&lt;n; i++)\n{\n  if(array[i] != 0)\n  {\n    if(array[i] == current_val)\n    {\n      current_size++;\n    }\n    else\n    {\n      current_val  = array[i];\n      current_size = 1;\n    }\n\n    if(current_size &gt; longest_size)\n    {\n      longest_size = current_size;\n      longest_val  = current_val;\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 7988276, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/af7ba759babf7cd6f1cc49936e4cb042?s=128&d=identicon&r=PG&f=1", "display_name": "cgss", "link": "https://stackoverflow.com/users/7988276/cgss"}, "is_accepted": false, "score": 0, "last_activity_date": 1497426195, "creation_date": 1497426195, "answer_id": 44538515, "question_id": 44536039, "link": "https://stackoverflow.com/questions/44536039/finding-longest-consecutive-range-of-numbers/44538515#44538515", "title": "Finding longest consecutive range of numbers", "body": "<p>You may find this useful.</p>\n\n<pre><code>int max = 0, temp = 0, end = 0;\nfor(int i=0; i&lt;n; i++)\n{\n  if(arr[i] &gt; 1) temp++;\n  else \n  {\n    if(temp &gt; max) \n    {\n      max = temp;\n      end = i\n    }\n    temp = 0;\n  }\n}\n</code></pre>\n\n<p>At the end of the code the max length of the sequence will be stored in max, the end point will be stored in end and if you want the start you can do </p>\n\n<p><code>int start = end - max + 1;</code></p>\n"}], "owner": {"reputation": 17, "user_id": 7929010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f382594497c2a293520551e017c79cfb?s=128&d=identicon&r=PG&f=1", "display_name": "bigpimpin206", "link": "https://stackoverflow.com/users/7929010/bigpimpin206"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1497426195, "creation_date": 1497417699, "last_edit_date": 1497418738, "question_id": 44536039, "link": "https://stackoverflow.com/questions/44536039/finding-longest-consecutive-range-of-numbers", "title": "Finding longest consecutive range of numbers", "body": "<p>I've been struggling with finding the longest consecutive range of numbers that are greater than 1.\nAn example:\n0\n0\n0\n1\n2\n1\n2\n2\n2\n3\n3\n0.\nI'm not really sure how to go about this. Essentially my goal is to find where the starting value is and where the range ends.</p>\n\n<pre><code> typedef struct fitbit\n{\n    char minute[9];\n    double calories;\n    double distance;\n    unsigned int floors;\n    unsigned int heartRate;\n    unsigned int steps;\n    Sleep sleepLevel;\n} FitbitData;\n\ntypedef enum sleep\n{\n    NONE = 0, ASLEEP = 1, AWAKE = 2, REALLYAWAKE = 3\n} Sleep;\n\nvoid sleep_level(FitbitData *arr)\n{\n    char *start;\n    char *end;\n    int max_sum = 0;\n\n\n    for (int i = 0; i &lt; 1440; i++)\n    {\n        if (arr[i].sleepLevel &gt; 1)\n        {\n            start = arr[i].minute;\n            max_sum += arr[i].sleepLevel;\n        }\n        else if (arr[i].sleepLevel == 1 || arr[i].sleepLevel &lt; 1)\n        {\n            end = arr[i].minute;\n        }\n    }\n\n\n    printf(\"The longest range of consecutive starts at %s and ends at %s\",start,end);\n</code></pre>\n"}, {"tags": ["c", "constants"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1497414720, "post_id": 44535412, "comment_id": 76061974, "body": "It has no effect in the prototype and is a waste of space there"}, {"owner": {"reputation": 1669, "user_id": 7508077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4193888717f50e77805498af1435b9?s=128&d=identicon&r=PG&f=1", "display_name": "EsmaeelE", "link": "https://stackoverflow.com/users/7508077/esmaeele"}, "edited": false, "score": 2, "creation_date": 1497414776, "post_id": 44535412, "comment_id": 76061993, "body": "const before function argument use to assure not any effect on that argument."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1497414796, "post_id": 44535412, "comment_id": 76062001, "body": "BTW the <code>while</code> loop is never entered"}, {"owner": {"reputation": 1669, "user_id": 7508077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4193888717f50e77805498af1435b9?s=128&d=identicon&r=PG&f=1", "display_name": "EsmaeelE", "link": "https://stackoverflow.com/users/7508077/esmaeele"}, "edited": false, "score": 0, "creation_date": 1497415132, "post_id": 44535412, "comment_id": 76062122, "body": "And Compiler not re-allocate Memory location for argument that is const. You know in every function call, we have a new copy that is local scope on its function body and suppose argument is int array[5000] this is huge volume of Memory, in situation we do not need to change array element using leading const is very good to save unnecessary memory consumption and speed up program."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "reply_to_user": {"reputation": 1669, "user_id": 7508077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4193888717f50e77805498af1435b9?s=128&d=identicon&r=PG&f=1", "display_name": "EsmaeelE", "link": "https://stackoverflow.com/users/7508077/esmaeele"}, "edited": false, "score": 3, "creation_date": 1497415343, "post_id": 44535412, "comment_id": 76062193, "body": "@EsmaeelE even if the argument is <code>int array[5000]</code> a new copy is not made. Arrays are passed by reference always!"}, {"owner": {"reputation": 1669, "user_id": 7508077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4193888717f50e77805498af1435b9?s=128&d=identicon&r=PG&f=1", "display_name": "EsmaeelE", "link": "https://stackoverflow.com/users/7508077/esmaeele"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497415489, "post_id": 44535412, "comment_id": 76062251, "body": "@Ajay: are you sure? can show me reference say something about that?"}, {"owner": {"reputation": 409, "user_id": 4657413, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/6u2Hm.jpg?s=128&g=1", "display_name": "newb7777", "link": "https://stackoverflow.com/users/4657413/newb7777"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497415909, "post_id": 44535412, "comment_id": 76062417, "body": "@Ajay: &quot;Arrays are passed by reference always!&quot; Same statement is true for Struct."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497416020, "post_id": 44535412, "comment_id": 76062453, "body": "Yes, for structs it is true. I was going to add that the comment can be changed to give a better example of structs rather than int[5000]"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1497416096, "post_id": 44535412, "comment_id": 76062483, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27466642/what-kind-of-optimization-does-const-offer-in-c-c-if-any\">What kind of optimization does const offer in C/C++? (if any)</a>"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1497416123, "post_id": 44535412, "comment_id": 76062500, "body": "<a href=\"https://stackoverflow.com/q/6313730/995714\">Does const-correctness give the compiler more room for optimization?</a>, <a href=\"https://stackoverflow.com/q/20693136/995714\">do \u201cconst\u201d declarations help the compiler (GCC) produce faster code?</a>"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "reply_to_user": {"reputation": 1669, "user_id": 7508077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4193888717f50e77805498af1435b9?s=128&d=identicon&r=PG&f=1", "display_name": "EsmaeelE", "link": "https://stackoverflow.com/users/7508077/esmaeele"}, "edited": false, "score": 0, "creation_date": 1497417633, "post_id": 44535412, "comment_id": 76063005, "body": "@EsmaeelE see <a href=\"http://port70.net/~nsz/c/c11/n1570.html#6.7.6.3p7\" rel=\"nofollow noreferrer\">&#167;6.7.6.3/P7</a> clearly states that arrays are adjusted to pointers of same type. This is C99 btw."}], "answers": [{"comments": [{"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 1, "creation_date": 1497414745, "post_id": 44535454, "comment_id": 76061987, "body": "About the second half, I believe the <code>const</code> is on the argument itself and not the pointed type. So I think the arrays are still subject to be changed."}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497414858, "post_id": 44535454, "comment_id": 76062024, "body": "@AjayBrahmakshatriya For e.g. <code>const Name_t NameOne</code> it says that <code>NameOne</code> is a <code>Name_t</code> that is constant. If <code>Name_t</code> is an alias for a pointer, then it means that it points to constant (read-only) data. It&#39;s like a variable pointing to a constant string (like a string literal), where you have <code>const char *</code> as the type."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 2, "creation_date": 1497414942, "post_id": 44535454, "comment_id": 76062052, "body": "@Someprogrammerdude no, it would be equivalent to <code>char * const</code>. (If <code>Name_t</code> is  a typedef, that is... <code>#define Name_t char *</code> is different of course)"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497414981, "post_id": 44535454, "comment_id": 76062059, "body": "@Someprogrammerdude I think the const would be on the pointer and not the <code>char</code>"}, {"owner": {"reputation": 409, "user_id": 4657413, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/6u2Hm.jpg?s=128&g=1", "display_name": "newb7777", "link": "https://stackoverflow.com/users/4657413/newb7777"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497415675, "post_id": 44535454, "comment_id": 76062317, "body": "@Ajay, point taken. What if <code>typedef UINT8 Name_t[5]</code> how does it play out?"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "reply_to_user": {"reputation": 409, "user_id": 4657413, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/6u2Hm.jpg?s=128&g=1", "display_name": "newb7777", "link": "https://stackoverflow.com/users/4657413/newb7777"}, "edited": false, "score": 1, "creation_date": 1497416836, "post_id": 44535454, "comment_id": 76062742, "body": "@newb7777 then the array contents become constant."}], "tags": [], "owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": false, "score": 3, "last_activity_date": 1497414625, "creation_date": 1497414625, "answer_id": 44535454, "question_id": 44535412, "link": "https://stackoverflow.com/questions/44535412/benefits-of-keyword-const-in-function-argument-in-c-language/44535454#44535454", "title": "Benefits of keyword &#39;const&#39; in function argument in C language", "body": "<p>In the case of arguments, it tells the compiler that the function will not modify its arguments. This in turn might enable the compiler to do some shortcuts or optimizations that it otherwise might not have done.</p>\n\n<p>It is also something that your fellow programmers can read, and know that they can call the function without worrying about possible side effects to the contents of e.g. arrays.</p>\n\n<hr>\n\n<p>And talking about programmers and what they can read, it seems that you have defined <code>Name_t</code> to be an alias for a pointer. Please don't do that, it makes the code harder to read and follow and maintain.</p>\n"}], "owner": {"reputation": 409, "user_id": 4657413, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/6u2Hm.jpg?s=128&g=1", "display_name": "newb7777", "link": "https://stackoverflow.com/users/4657413/newb7777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497415713, "creation_date": 1497414393, "last_edit_date": 1497415713, "question_id": 44535412, "link": "https://stackoverflow.com/questions/44535412/benefits-of-keyword-const-in-function-argument-in-c-language", "title": "Benefits of keyword &#39;const&#39; in function argument in C language", "body": "<p>What benefit does it have to have the keyword <code>const</code> on the function below.</p>\n\n<pre><code>BOOL8 CheckSimilarity(const Name_t NameOne, const Name_t NameTwo)\n</code></pre>\n\n<ul>\n<li>Would it affect function in any way if we didn't put keyword const?</li>\n</ul>\n\n<p>I always thought that you will have to pass pointers for variables and compare with pointers in the function so it goes to memory location where the variable is stored and compares the variables themselves as in swap function as in K&amp;R?</p>\n\n<pre><code>typedef UINT8 Name_t[5]\n\nLog_t* Log(Name_t Name)\n{\n   Log_t *point2Log = Log1;\n   while (point2Log &lt; Log1)\n   {\n      if (CheckSimilarity(Name, point2Log-&gt;Name))\n      {\n         return point2Log;\n      }\n      point2Log++;\n   }\n   return NULL;\n}\n\n\nBOOL8 CheckSimilarity(const Name_t NameOne, const Name_t NameTwo)\n{\n    UINT8 count;\n    for (count=0; count&lt;5; count++)\n    {\n        if (NameOne[count] != NameTwo[count])\n        {\n            return FALSE;\n        }\n    }\n    return TRUE;\n}\n</code></pre>\n"}, {"tags": ["c", "gcc", "conditional-operator"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 4, "creation_date": 1497412581, "post_id": 44535105, "comment_id": 76061321, "body": "The first one doesn&#39;t &quot;always choose the false branch&quot;, but the result of the conditional is always <code>unsigned int</code>, i.e. when the <code>true</code> branch is chosen, the value will be <code>(unsigned int)(int)va_arg(args, int)</code>, which is most likely equal to what you would get from the false branch"}, {"owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 3, "creation_date": 1497412587, "post_id": 44535105, "comment_id": 76061322, "body": "@Leslie Li  I think you are mistaken. The problem is that the common type for signed int and unsigned int is unsigned int."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 4, "creation_date": 1497412649, "post_id": 44535105, "comment_id": 76061348, "body": "To improve the question, show how you are determining that the false branch was chosen"}, {"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "edited": false, "score": 3, "creation_date": 1497413416, "post_id": 44535105, "comment_id": 76061590, "body": "And also give the type of num.  That is important."}, {"owner": {"reputation": 197, "user_id": 1613544, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d3675deb61a16df46aaf5b1d45d103e0?s=128&d=identicon&r=PG", "display_name": "Leslie Li", "link": "https://stackoverflow.com/users/1613544/leslie-li"}, "edited": false, "score": 0, "creation_date": 1497417649, "post_id": 44535105, "comment_id": 76063016, "body": "typeof num is unsigned long long. if I changed 1st one to: num = sign ? (int)va_arg(args, int) : 1234; and passed in int arg -1, I will get -1 by (signed long long)num. The original implementation, I will get 0xffffffff if passed in -1. It should be 0xffffffffffffffff if goes to true branch."}, {"owner": {"reputation": 197, "user_id": 1613544, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d3675deb61a16df46aaf5b1d45d103e0?s=128&d=identicon&r=PG", "display_name": "Leslie Li", "link": "https://stackoverflow.com/users/1613544/leslie-li"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1497418295, "post_id": 44535105, "comment_id": 76063315, "body": "@M.M why it forced convert (int)va_arg(args, int) expression to (unsigned int)? it is an implict rule of exp ? exp : exp; ??"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1497419018, "post_id": 44535105, "comment_id": 76063585, "body": "Yes, every expression has its type known at compile time (other than the array size of variably modified arrays) ; the result of a conditional is no exception"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1497419147, "post_id": 44535105, "comment_id": 76063646, "body": "To fix the problem you could cast the va_arg to <code>unsigned long long</code> instead of the existing casts (which are redundant since va_arg is defined to evaluate to a value of the requested type)"}, {"owner": {"reputation": 197, "user_id": 1613544, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d3675deb61a16df46aaf5b1d45d103e0?s=128&d=identicon&r=PG", "display_name": "Leslie Li", "link": "https://stackoverflow.com/users/1613544/leslie-li"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1497419636, "post_id": 44535105, "comment_id": 76063886, "body": "@M.M I think I understand, the num is forced to use (unsigned int) at compile time. thanks a lot, it explaines the issue!"}], "answers": [{"tags": [], "owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "is_accepted": true, "score": 4, "last_activity_date": 1497449335, "last_edit_date": 1497449335, "creation_date": 1497448480, "answer_id": 44546853, "question_id": 44535105, "link": "https://stackoverflow.com/questions/44535105/ternary-conditional-expression-has-the-wrong-type/44546853#44546853", "title": "Ternary (conditional) expression has the wrong type", "body": "<p>I would guess that the problem you are running into is the subtle, implicit promotion that takes place in the <code>?:</code> operator. The 2nd and 3rd operands are balanced against each other through <em>the usual arithmetic conversions</em>. This is mandated by C11 6.5.15:</p>\n\n<blockquote>\n  <p>If both the second and third operands have arithmetic type, the result\n  type that would be determined by the usual arithmetic conversions,\n  were they applied to those two operands, is the type of the result.</p>\n</blockquote>\n\n<p>Meaning if one is signed and the other is unsigned, the signed operand gets converted to unsigned. This happens regardless of which one of the 2nd or 3rd operands that gets evaluated and used as result.</p>\n\n<p>This can cause curious bugs if you aren't aware of this oddity:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main (void)\n{\n  int x;\n  if( (-1 ? (printf(\"Expression evaluates to -1\\n\"),-1) : 0xFFFFFFFF) &lt; 0)\n  {\n    printf(\"-1 is &lt; 0\");\n  }\n  else\n  {\n    printf(\"-1 is &gt;= 0\");\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Expression evaluates to -1\n-1 is &gt;= 0\n</code></pre>\n\n<p>This is the reason why <code>if/else</code> is to be preferred over <code>?:</code>.</p>\n"}], "owner": {"reputation": 197, "user_id": 1613544, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d3675deb61a16df46aaf5b1d45d103e0?s=128&d=identicon&r=PG", "display_name": "Leslie Li", "link": "https://stackoverflow.com/users/1613544/leslie-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 1, "accepted_answer_id": 44546853, "answer_count": 1, "score": 4, "last_activity_date": 1497449540, "creation_date": 1497412325, "last_edit_date": 1497449540, "question_id": 44535105, "link": "https://stackoverflow.com/questions/44535105/ternary-conditional-expression-has-the-wrong-type", "title": "Ternary (conditional) expression has the wrong type", "body": "<p>I found these two implementation are NOT equal:</p>\n\n<pre><code>1.num = sign ? (int)va_arg(args, int) : (unsigned int)va_arg(args, unsigned int);\n\n2.if (sign)\n    num = (int)va_arg(args, int);\nelse    \n    num = (unsigned int)va_arg(args, unsigned int);\n</code></pre>\n\n<p>the 1st implementation, it always chooses the false branch, no matter what value the <em>sign</em> is.</p>\n\n<p>the 2nd one works as expected.</p>\n\n<p>what happends here? I'm using GCC/ARM GCC 64bit</p>\n"}, {"tags": ["c", "visual-studio-2013"], "comments": [{"owner": {"reputation": 1, "user_id": 8157893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd5d53d0dc4ef10a4cb661266b48522?s=128&d=identicon&r=PG&f=1", "display_name": "DoeCodeMan", "link": "https://stackoverflow.com/users/8157893/doecodeman"}, "edited": false, "score": 0, "creation_date": 1497489311, "post_id": 44535066, "comment_id": 76104306, "body": "Why are people voting down the question?"}], "answers": [{"tags": [], "owner": {"reputation": 1404, "user_id": 7671328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6gynE.jpg?s=128&g=1", "display_name": "Yunbin Liu", "link": "https://stackoverflow.com/users/7671328/yunbin-liu"}, "is_accepted": true, "score": 0, "last_activity_date": 1497412992, "creation_date": 1497412992, "answer_id": 44535203, "question_id": 44535066, "link": "https://stackoverflow.com/questions/44535066/trying-to-count-the-lines-of-text-that-is-printed-when-reading-a-file-using-c-pr/44535203#44535203", "title": "Trying to count the lines of text that is printed when reading a file using C programming language", "body": "<p>This could work for you. </p>\n\n<pre><code>#define _CRT_SECURE_NO_WARNINGS \n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main(void)\n{\n    FILE* p_file = 0;\n    char name[100];\n    char st[100];\n\n    printf(\"what file\\n\");\n    scanf(\"%s\", name);\n\n    p_file = fopen(name, \"r\");\n\n    int count = 0;\n\n    while (fgets(st, sizeof st, p_file) != NULL)\n    {\n        count = count + 1;\n\n        printf(\"%d:  \", count);\n        printf(\"%s\", st);\n    }\n    fclose(p_file);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "is_accepted": false, "score": 0, "last_activity_date": 1497414576, "creation_date": 1497414576, "answer_id": 44535443, "question_id": 44535066, "link": "https://stackoverflow.com/questions/44535066/trying-to-count-the-lines-of-text-that-is-printed-when-reading-a-file-using-c-pr/44535443#44535443", "title": "Trying to count the lines of text that is printed when reading a file using C programming language", "body": "<p>You need to count lines.  So you'll need to check for line endings.  Lines always end with a newline character '\\n' and (optionally) a carriage return '\\r'.  So, let's count newlines.</p>\n\n<p>Reading byte by byte will be slow, but ok for your level.</p>\n\n<pre><code>while (!feof(p_file)) // check for end of file. (EOF != current) that way has not been in use for ages.\n{\n  // get a byte from file\n  current = fgetc(p_file);\n  // is it a newline ?\n  if (current == '\\n')\n  {\n    ++count;                       // count\n    printf(\"\\nline %d :\", count);  // only print the line # on a new line. \n                                   // the \\n - our current character, is\n                                   // printed as part of the line label.\n  }\n  else\n  {\n    printf(\"%c\", current);\n  }\n}\n</code></pre>\n\n<p>That's pretty much it.  Your code does need a bit of error checking after opening the file, make sure all is well and dandy before doing anything with p_File.  And you'll probably want to insert a line # in from of the first line, maybe starting from 1, instead of zero, I'll leave that to you.</p>\n"}, {"comments": [{"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 0, "creation_date": 1497419162, "post_id": 44536144, "comment_id": 76063653, "body": "Use <code>unsigned long long</code> for <code>line_no</code> ? Who will read such a source? :/"}, {"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 0, "creation_date": 1497420268, "post_id": 44536144, "comment_id": 76064218, "body": "@Binary_10 Sorry, I&#39;m not sure what you want to ask me."}, {"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 0, "creation_date": 1497420445, "post_id": 44536144, "comment_id": 76064294, "body": "It may not have ended with a newline. And as long as it ends with a newline, there is nothing wrong."}, {"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 0, "creation_date": 1497421057, "post_id": 44536144, "comment_id": 76064623, "body": "@Binary_10  Are you asking about <code>if(pre_ch != &#39;\\n&#39;) putchar(&#39;\\n&#39;);</code> ? This is simply a bonus as it is not included in the problem setting. It is to prevent the display from being distorted depending on the shell."}, {"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 0, "creation_date": 1497424527, "post_id": 44536144, "comment_id": 76066568, "body": "Should use <code>snprintf</code> instead of <code>sprintf</code>, Although <code>snprintf</code> can not be used probably on MSVC, <code>_snprintf</code> or <code>_snprintf_s</code> can be used instead."}], "tags": [], "owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "is_accepted": false, "score": 0, "last_activity_date": 1497483953, "last_edit_date": 1497483953, "creation_date": 1497418216, "answer_id": 44536144, "question_id": 44535066, "link": "https://stackoverflow.com/questions/44535066/trying-to-count-the-lines-of-text-that-is-printed-when-reading-a-file-using-c-pr/44536144#44536144", "title": "Trying to count the lines of text that is printed when reading a file using C programming language", "body": "<p>like this:</p>\n\n<pre><code>#define _CRT_SECURE_NO_WARNINGS\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n\nint main(void){\n    FILE *fp;\n    char filename[FILENAME_MAX+1] = \"\";\n    int line_no, line_no_width, ch, pre_ch;\n\n    printf(\"Filename? \");fflush(stdout);\n    fgets(filename, sizeof filename, stdin);\n    filename[strcspn(filename, \"\\n\")] = 0;//chomp newline\n    putchar('\\n');\n    if((fp = fopen(filename, \"r\")) == NULL){\n        perror(\"fopen:\");\n        exit(EXIT_FAILURE);\n    }\n\n    line_no = 0;\n    while ((ch = fgetc(fp)) != EOF){\n        if(ch == '\\n'){\n            ++line_no;\n        }\n        pre_ch = ch;\n    }\n    if(pre_ch != '\\n')\n        ++line_no;\n    for(line_no_width = 0; line_no; line_no /= 10)\n        ++line_no_width;\n\n    line_no = 0;\n    pre_ch = '\\n';\n    rewind(fp);\n    while ((ch = fgetc(fp)) != EOF){\n        if(pre_ch == '\\n'){\n            ++line_no;\n            printf(\"%*d: \", line_no_width, line_no);\n        }\n        putchar(ch);\n        pre_ch = ch;\n    }\n    fclose(fp);\n    if(pre_ch != '\\n')\n        putchar('\\n');\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8157893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd5d53d0dc4ef10a4cb661266b48522?s=128&d=identicon&r=PG&f=1", "display_name": "DoeCodeMan", "link": "https://stackoverflow.com/users/8157893/doecodeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "accepted_answer_id": 44535203, "answer_count": 3, "score": -2, "last_activity_date": 1497483953, "creation_date": 1497412034, "question_id": 44535066, "link": "https://stackoverflow.com/questions/44535066/trying-to-count-the-lines-of-text-that-is-printed-when-reading-a-file-using-c-pr", "title": "Trying to count the lines of text that is printed when reading a file using C programming language", "body": "<p>I got a question from my Lecture I am in my first year and I can't solve this question</p>\n\n<p>The Question is trying to ask me to create a program that read the text in a text file and output it in the console and count the lines being printed and see it on the console with outputted text?</p>\n\n<p>Here is the pdf link for the actual question.\n<a href=\"https://drive.google.com/file/d/0B0jqSF8uVDH3MHE3S2FhaHhWMXM/view\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/0B0jqSF8uVDH3MHE3S2FhaHhWMXM/view</a></p>\n\n<p>Here is the link to text file I am reading and outputting in the console.</p>\n\n<p><a href=\"https://drive.google.com/file/d/0B0jqSF8uVDH3WFBsdExaLXY4RDA/view\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/0B0jqSF8uVDH3WFBsdExaLXY4RDA/view</a></p>\n\n<p>Here is the code I made and there is a error i have to removing the actually text output to make it which I don't want to do that.</p>\n\n<pre><code>#define _CRT_SECURE_NO_WARNINGS\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main(void)\n{\n    int current = 0;\n    FILE* p_file = 0;\n\n    char name[100];\n\n    printf(\"what file\\n\");\n    scanf(\"%s\", &amp;name);\n\n    p_file = fopen(name, \"r\");\n\n    current = fgetc(p_file);\n\n    int count = 0;\n\n    while (EOF != current)\n    {\n        count = count + 1;\n\n        printf(\"%d:  \", count);\n        printf(\"%c\", current);\n\n        current = fgetc(p_file);\n\n    }\n    fclose(p_file);\n\n    return 0;\n}\n</code></pre>\n\n<p>Please any read the question and see if you can help</p>\n\n<p>I am using Microsoft Visual Studio 2013?</p>\n"}, {"tags": ["c", "overflow"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 4, "creation_date": 1497411473, "post_id": 44534908, "comment_id": 76061072, "body": "<code>int m,n,snum,i,smun;</code> - what number do you think is in snum at this point?"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 7703770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5aa04e68f9c2c05abec997b753dfbdf3?s=128&d=identicon&r=PG&f=1", "display_name": "user7703770", "link": "https://stackoverflow.com/users/7703770/user7703770"}, "edited": false, "score": 0, "creation_date": 1497411317, "post_id": 44534940, "comment_id": 76061038, "body": "doesnt it set everything undefined to 0? or is that just java? but how come smun is calculated properly though?"}, {"owner": {"reputation": 42880, "user_id": 982161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/kutcC.png?s=128&g=1", "display_name": "\u03a6Xoc\u0119 \uc6c3 \u041fepe&#250;pa \u30c4", "link": "https://stackoverflow.com/users/982161/%ce%a6xoc%c4%99-%ec%9b%83-%d0%9fepe%c3%bapa-%e3%83%84"}, "reply_to_user": {"reputation": 83, "user_id": 7703770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5aa04e68f9c2c05abec997b753dfbdf3?s=128&d=identicon&r=PG&f=1", "display_name": "user7703770", "link": "https://stackoverflow.com/users/7703770/user7703770"}, "edited": false, "score": 2, "creation_date": 1497411473, "post_id": 44534940, "comment_id": 76061071, "body": "Nop... In c or c++ there is no default value."}, {"owner": {"reputation": 42880, "user_id": 982161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/kutcC.png?s=128&g=1", "display_name": "\u03a6Xoc\u0119 \uc6c3 \u041fepe&#250;pa \u30c4", "link": "https://stackoverflow.com/users/982161/%ce%a6xoc%c4%99-%ec%9b%83-%d0%9fepe%c3%bapa-%e3%83%84"}, "reply_to_user": {"reputation": 83, "user_id": 7703770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5aa04e68f9c2c05abec997b753dfbdf3?s=128&d=identicon&r=PG&f=1", "display_name": "user7703770", "link": "https://stackoverflow.com/users/7703770/user7703770"}, "edited": false, "score": 2, "creation_date": 1497411498, "post_id": 44534940, "comment_id": 76061080, "body": "So those variables are holding garbage"}, {"owner": {"reputation": 83, "user_id": 7703770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5aa04e68f9c2c05abec997b753dfbdf3?s=128&d=identicon&r=PG&f=1", "display_name": "user7703770", "link": "https://stackoverflow.com/users/7703770/user7703770"}, "edited": false, "score": 0, "creation_date": 1497411552, "post_id": 44534940, "comment_id": 76061096, "body": "but how come smun is calculated properly though?"}, {"owner": {"reputation": 1019, "user_id": 2908457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef1c4f1c0e397e587b09cb6fd5047966?s=128&d=identicon&r=PG&f=1", "display_name": "Hatik", "link": "https://stackoverflow.com/users/2908457/hatik"}, "edited": false, "score": 0, "creation_date": 1497411762, "post_id": 44534940, "comment_id": 76061144, "body": "I don&#39;t think it is a good thing to set the array length to <code>0</code>; since he needs elements in the array"}, {"owner": {"reputation": 42880, "user_id": 982161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/kutcC.png?s=128&g=1", "display_name": "\u03a6Xoc\u0119 \uc6c3 \u041fepe&#250;pa \u30c4", "link": "https://stackoverflow.com/users/982161/%ce%a6xoc%c4%99-%ec%9b%83-%d0%9fepe%c3%bapa-%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1497411816, "post_id": 44534940, "comment_id": 76061153, "body": "you are rithgth, my fault with the arrays"}, {"owner": {"reputation": 2048, "user_id": 4961259, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9b82c25cbde4d52888e6eccc44764b80?s=128&d=identicon&r=PG&f=1", "display_name": "Kami Kaze", "link": "https://stackoverflow.com/users/4961259/kami-kaze"}, "reply_to_user": {"reputation": 83, "user_id": 7703770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5aa04e68f9c2c05abec997b753dfbdf3?s=128&d=identicon&r=PG&f=1", "display_name": "user7703770", "link": "https://stackoverflow.com/users/7703770/user7703770"}, "edited": false, "score": 2, "creation_date": 1497419550, "post_id": 44534940, "comment_id": 76063844, "body": "@user7703770 this is just pure luck. You have a chance that it really does what you expect it to do. But you can not rely on that. This might work a thousand times and then not. Or always on your PC but not on the PC of your sister. It is undefined and quite often you can not even see it is undefined because by luck or sometimes a caring compiler undefined behavior works as you expect it."}], "tags": [], "owner": {"reputation": 42880, "user_id": 982161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/kutcC.png?s=128&g=1", "display_name": "\u03a6Xoc\u0119 \uc6c3 \u041fepe&#250;pa \u30c4", "link": "https://stackoverflow.com/users/982161/%ce%a6xoc%c4%99-%ec%9b%83-%d0%9fepe%c3%bapa-%e3%83%84"}, "is_accepted": false, "score": 2, "last_activity_date": 1497411915, "last_edit_date": 1497411915, "creation_date": 1497411173, "answer_id": 44534940, "question_id": 44534908, "link": "https://stackoverflow.com/questions/44534908/c-overflow-or-what-is-it/44534940#44534940", "title": "C overflow or what is it?", "body": "<p>Pretty much undefined behavior because you did</p>\n\n<pre><code>int m,n,snum,i,smun;\n</code></pre>\n\n<p>And then accumulating to <strong><em>snum</em></strong> which in NOT initialized</p>\n\n<pre><code>snum+=num[i];\n</code></pre>\n\n<p>Doing something like </p>\n\n<pre><code>int m = 0;\nint n = 0;\nint snum = 0;\nint i = 0;\nint smun= 0;\n</code></pre>\n\n<p>Will provide the correct initialization and results </p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 7703770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5aa04e68f9c2c05abec997b753dfbdf3?s=128&d=identicon&r=PG&f=1", "display_name": "user7703770", "link": "https://stackoverflow.com/users/7703770/user7703770"}, "edited": false, "score": 1, "creation_date": 1497411771, "post_id": 44534946, "comment_id": 76061146, "body": "int num[m] and int num[n], isnt that specifying the length of arrays?"}, {"owner": {"reputation": 1019, "user_id": 2908457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef1c4f1c0e397e587b09cb6fd5047966?s=128&d=identicon&r=PG&f=1", "display_name": "Hatik", "link": "https://stackoverflow.com/users/2908457/hatik"}, "reply_to_user": {"reputation": 83, "user_id": 7703770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5aa04e68f9c2c05abec997b753dfbdf3?s=128&d=identicon&r=PG&f=1", "display_name": "user7703770", "link": "https://stackoverflow.com/users/7703770/user7703770"}, "edited": false, "score": 0, "creation_date": 1497412187, "post_id": 44534946, "comment_id": 76061231, "body": "@user7703770 yes sorry, missed that part, my bad"}], "tags": [], "owner": {"reputation": 1019, "user_id": 2908457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef1c4f1c0e397e587b09cb6fd5047966?s=128&d=identicon&r=PG&f=1", "display_name": "Hatik", "link": "https://stackoverflow.com/users/2908457/hatik"}, "is_accepted": false, "score": 2, "last_activity_date": 1497412209, "last_edit_date": 1497412209, "creation_date": 1497411223, "answer_id": 44534946, "question_id": 44534908, "link": "https://stackoverflow.com/questions/44534908/c-overflow-or-what-is-it/44534946#44534946", "title": "C overflow or what is it?", "body": "<p>You didn't initialize the snum and smun, it should be <code>snum = 0; smun = 0;</code>first then manipulate the sum.</p>\n"}, {"tags": [], "owner": {"reputation": 579, "user_id": 7836833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb87f5fabe44f9fa321cd70d7cbece7d?s=128&d=identicon&r=PG&f=1", "display_name": "deepakchethan", "link": "https://stackoverflow.com/users/7836833/deepakchethan"}, "is_accepted": true, "score": 5, "last_activity_date": 1497412291, "creation_date": 1497412291, "answer_id": 44535100, "question_id": 44534908, "link": "https://stackoverflow.com/questions/44534908/c-overflow-or-what-is-it/44535100#44535100", "title": "C overflow or what is it?", "body": "<p>You need to initialize the sum variable to some value.</p>\n\n<pre><code>int m,n,snum,i,smun; \nsnum=0;\nsmun=0;\nscanf(\"%d\",&amp;m); \nint num[m]; \nfor (i=0;i&lt;m;i++){ \n     scanf(\"%d\",&amp;num[i]); \n     snum+=num[i]; \n} \nscanf(\"%d\",&amp;n); \nint mun[n]; \nfor (i=0;i&lt;n;i++) {\nscanf(\"%d\",&amp;mun[i]);\nsmun+=mun[i];\n} \nprintf(\"%d %d \",smun,snum);\n</code></pre>\n\n<p>When the variable is assigned an address it takes the data at that particular address, which we see as a junk or garbage value. The first output was right because you got lucky and the value in the address was alreay zero. </p>\n"}], "owner": {"reputation": 83, "user_id": 7703770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5aa04e68f9c2c05abec997b753dfbdf3?s=128&d=identicon&r=PG&f=1", "display_name": "user7703770", "link": "https://stackoverflow.com/users/7703770/user7703770"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 44535100, "answer_count": 3, "score": 2, "last_activity_date": 1497455869, "creation_date": 1497410949, "last_edit_date": 1497455869, "question_id": 44534908, "link": "https://stackoverflow.com/questions/44534908/c-overflow-or-what-is-it", "title": "C overflow or what is it?", "body": "<p>I am reading two arrays of numbers along with their lengths and trying to find the sum of each arrays. </p>\n\n<p>I am getting it correct for one but for other part, I don't get what happened? Can someone please look at it and help me out?   </p>\n\n<pre><code>int m, n, snum, i, smun;\nscanf(\"%d\",&amp;m);\nint num[m];\nfor (i=0;i&lt;m;i++) {\n    scanf(\"%d\",&amp;num[i]);\n    snum+=num[i];\n}\nscanf(\"%d\",&amp;n);\nint mun[n];\nfor (i=0;i&lt;n;i++) {\n    scanf(\"%d\",&amp;mun[i]);\n    smun+=mun[i];\n}\nprintf(\"%d %d \",smun,snum);\n</code></pre>\n\n<p>for this code, I can effectively get <strong><em>smun</em></strong> but <strong><em>snum</em></strong> is always wrong?\ni.e. </p>\n\n<pre><code>for input:\n\n 5\n-2 -1 0 1 2\n6\n-3 -2 -1 1 2 3\nmy out put is: 0 -291502240\n</code></pre>\n"}, {"tags": ["c", "eclipse"], "comments": [{"owner": {"reputation": 27279, "user_id": 857132, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4fd51ed5980999c7c6ce3729d6cb2184?s=128&d=identicon&r=PG", "display_name": "John3136", "link": "https://stackoverflow.com/users/857132/john3136"}, "edited": false, "score": 1, "creation_date": 1497406096, "post_id": 44534175, "comment_id": 76059829, "body": "Used the wrong dup, try this one: <a href=\"https://stackoverflow.com/questions/1716296/why-does-printf-not-flush-after-the-call-unless-a-newline-is-in-the-format-strin\" title=\"why does printf not flush after the call unless a newline is in the format strin\">stackoverflow.com/questions/1716296/&hellip;</a>"}, {"owner": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 1, "creation_date": 1497406113, "post_id": 44534175, "comment_id": 76059834, "body": "Is this running in Windows? Perhaps the console is expecting <code>\\r\\n</code> line breaks instead of just <code>\\n</code>? Your code works fine in OS X."}, {"owner": {"reputation": 8548, "user_id": 5581182, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc277bc00b89d827aba59b3e2509a6f4?s=128&d=identicon&r=PG&f=1", "display_name": "Thor", "link": "https://stackoverflow.com/users/5581182/thor"}, "reply_to_user": {"reputation": 27279, "user_id": 857132, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4fd51ed5980999c7c6ce3729d6cb2184?s=128&d=identicon&r=PG", "display_name": "John3136", "link": "https://stackoverflow.com/users/857132/john3136"}, "edited": false, "score": 0, "creation_date": 1497406710, "post_id": 44534175, "comment_id": 76059965, "body": "@John3136 thanks for the suggestion! but after reading the suggested duplicate, I had this feeling of being thrown into the middle of the ocean without learning how to swim first lol. I think the suggested dup is a bit out my league right now, for a beginner like me"}, {"owner": {"reputation": 8548, "user_id": 5581182, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc277bc00b89d827aba59b3e2509a6f4?s=128&d=identicon&r=PG&f=1", "display_name": "Thor", "link": "https://stackoverflow.com/users/5581182/thor"}, "reply_to_user": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 0, "creation_date": 1497406766, "post_id": 44534175, "comment_id": 76059983, "body": "@squeamishossifrage hi, thanks for the suggestion! I am using windows and I have tried using \\r\\n, but it doesn&#39;t work :("}, {"owner": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 0, "creation_date": 1497406874, "post_id": 44534175, "comment_id": 76060008, "body": "@CaptainAmerica Very strange. Try adding <code>fflush(stdout);</code> after the first <code>printf()</code> statement and see if that makes any difference."}, {"owner": {"reputation": 8548, "user_id": 5581182, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc277bc00b89d827aba59b3e2509a6f4?s=128&d=identicon&r=PG&f=1", "display_name": "Thor", "link": "https://stackoverflow.com/users/5581182/thor"}, "reply_to_user": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 0, "creation_date": 1497407000, "post_id": 44534175, "comment_id": 76060038, "body": "@squeamishossifrage yes! it worked! thank you so so much! but why is this happening? do you have any ideas?"}, {"owner": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 1, "creation_date": 1497407417, "post_id": 44534175, "comment_id": 76060129, "body": "@CaptainAmerica In the comments after <a href=\"https://stackoverflow.com/q/35358924/1679849\">this question</a>, someone mentioned that <i>&quot;Eclipse&#39;s console doesn&#39;t count as a terminal so you don&#39;t get the default line-buffering&quot;</i>. So I guess you just have to flush stdout manually :-("}, {"owner": {"reputation": 2470, "user_id": 4262157, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DIi0C.jpg?s=128&g=1", "display_name": "Erik W", "link": "https://stackoverflow.com/users/4262157/erik-w"}, "edited": false, "score": 0, "creation_date": 1497407907, "post_id": 44534175, "comment_id": 76060249, "body": "Which platform are you on?"}, {"owner": {"reputation": 7022, "user_id": 7659995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iZH7M.png?s=128&g=1", "display_name": "MD XF", "link": "https://stackoverflow.com/users/7659995/md-xf"}, "edited": false, "score": 0, "creation_date": 1497407956, "post_id": 44534175, "comment_id": 76060263, "body": "Probably an Eclipse thing."}, {"owner": {"reputation": 8548, "user_id": 5581182, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc277bc00b89d827aba59b3e2509a6f4?s=128&d=identicon&r=PG&f=1", "display_name": "Thor", "link": "https://stackoverflow.com/users/5581182/thor"}, "reply_to_user": {"reputation": 2470, "user_id": 4262157, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DIi0C.jpg?s=128&g=1", "display_name": "Erik W", "link": "https://stackoverflow.com/users/4262157/erik-w"}, "edited": false, "score": 0, "creation_date": 1497444624, "post_id": 44534175, "comment_id": 76081112, "body": "@ErikW I&#39;m on windows 10, using eclipse the latest version (download it two weeks ago)"}], "answers": [{"comments": [{"owner": {"reputation": 7022, "user_id": 7659995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iZH7M.png?s=128&g=1", "display_name": "MD XF", "link": "https://stackoverflow.com/users/7659995/md-xf"}, "edited": false, "score": 0, "creation_date": 1497407943, "post_id": 44534509, "comment_id": 76060260, "body": "That&#39;s probably not it. <code>stdout</code> is line-buffered, meaning it&#39;s automatically flushed upon <code>\\n</code>."}, {"owner": {"reputation": 39, "user_id": 7072253, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WKoKRCn_a_E/AAAAAAAAAAI/AAAAAAAAASQ/AG9ax1fR2oE/photo.jpg?sz=128", "display_name": "maycon kruger", "link": "https://stackoverflow.com/users/7072253/maycon-kruger"}, "reply_to_user": {"reputation": 7022, "user_id": 7659995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iZH7M.png?s=128&g=1", "display_name": "MD XF", "link": "https://stackoverflow.com/users/7659995/md-xf"}, "edited": false, "score": 0, "creation_date": 1497408491, "post_id": 44534509, "comment_id": 76060410, "body": "It should be automatically flushed, but it is not. I had this problem using mingw on windows. It may be worth a shoot."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "reply_to_user": {"reputation": 7022, "user_id": 7659995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iZH7M.png?s=128&g=1", "display_name": "MD XF", "link": "https://stackoverflow.com/users/7659995/md-xf"}, "edited": false, "score": 0, "creation_date": 1497410430, "post_id": 44534509, "comment_id": 76060858, "body": "@MDXF It may be an Eclipse-specific bug where the standard library thinks it&#39;s writing to a file, and therefore doesn&#39;t need to line-buffer."}], "tags": [], "owner": {"reputation": 39, "user_id": 7072253, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WKoKRCn_a_E/AAAAAAAAAAI/AAAAAAAAASQ/AG9ax1fR2oE/photo.jpg?sz=128", "display_name": "maycon kruger", "link": "https://stackoverflow.com/users/7072253/maycon-kruger"}, "is_accepted": false, "score": 1, "last_activity_date": 1497407886, "creation_date": 1497407886, "answer_id": 44534509, "question_id": 44534175, "link": "https://stackoverflow.com/questions/44534175/eclipse-ide-always-ask-for-input-first-regardless-of-actual-code-order/44534509#44534509", "title": "Eclipse IDE always ask for input first regardless of actual code order", "body": "<p>Had the same problem once.\nSolved it by flushing stdout.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(void){\n  int aNumber;\n  printf(\"first line\\n\"); \n  fflush(stdout); // Prints stdout content\n\n  scanf(\"%d\", &amp;aNumber);\n  printf(\"second line with %d\", aNumber);\n\n  return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 8548, "user_id": 5581182, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc277bc00b89d827aba59b3e2509a6f4?s=128&d=identicon&r=PG&f=1", "display_name": "Thor", "link": "https://stackoverflow.com/users/5581182/thor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506632923, "creation_date": 1497405293, "last_edit_date": 1506632923, "question_id": 44534175, "link": "https://stackoverflow.com/questions/44534175/eclipse-ide-always-ask-for-input-first-regardless-of-actual-code-order", "title": "Eclipse IDE always ask for input first regardless of actual code order", "body": "<p>I'm currently studying beginner C programming using Eclipse IDE. </p>\n\n<p>Below is a very basic program that suppose to print out a line first, take in some input, and then print out a second line. But my Eclipse always ask me for the input first before printing out the two lines together afterwards. </p>\n\n<p>This is extremely frustrating because it is something so simple and doesn't work. What am I doing wrong?</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(void){\n\n    int aNumber;\n\n    printf(\"first line\\n\");\n    scanf(\"%d\", &amp;aNumber);\n    printf(\"second line with %d\", aNumber);\n\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qnFXt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qnFXt.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c", "linux", "fork"], "comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 2, "creation_date": 1497403961, "post_id": 44533936, "comment_id": 76059319, "body": "What&#39;s the goal here? Why would you want a live, shared copy of the file descriptor table once the processes stop even being the same executable? It seems nonsensical at first glance, so I&#39;m suspicious this may be <a href=\"https://meta.stackexchange.com/q/66377/322040\">an XY problem</a>."}, {"owner": {"reputation": 15041, "user_id": 1455016, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae8ab91a64f21f0e65b69a0bf1ca4904?s=128&d=identicon&r=PG", "display_name": "tbodt", "link": "https://stackoverflow.com/users/1455016/tbodt"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1497404173, "post_id": 44533936, "comment_id": 76059365, "body": "@ShadowRanger I&#39;m writing an x86 user mode emulator for Linux and testing it by running a real process under ptrace at the same time as the emulator and comparing the cpu state at each instruction. When it&#39;s time to emulate an mmap call, I want to take the FD used in the parent and overwrite edi to use it in the child. Not a very common use case, that&#39;s for sure."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497408041, "post_id": 44533936, "comment_id": 76060283, "body": "Even though the open file descriptors are not shared after the <code>execve()</code>, the open file descriptions are still shared \u2014 yes, there really are descriptors and descriptions.  Read the POSIX specifications of <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/open.html\" rel=\"nofollow noreferrer\"><code>open()</code></a>, <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/dup2.html\" rel=\"nofollow noreferrer\"><code>dup2()</code></a>, <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/fork.html\" rel=\"nofollow noreferrer\"><code>fork()</code></a>, <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/execve.html\" rel=\"nofollow noreferrer\"><code>execve()</code></a> carefully."}, {"owner": {"reputation": 15041, "user_id": 1455016, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae8ab91a64f21f0e65b69a0bf1ca4904?s=128&d=identicon&r=PG", "display_name": "tbodt", "link": "https://stackoverflow.com/users/1455016/tbodt"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497408135, "post_id": 44533936, "comment_id": 76060295, "body": "@JonathanLeffler I&#39;m talking about the descriptors, not the descriptions. I want an <code>open</code> in the parent process to change the file descriptor table of the child process."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497408186, "post_id": 44533936, "comment_id": 76060309, "body": "Nothing doing, then \u2014 can&#39;t be done using POSIX system calls.  If you want that level of sharing, you should be using threads instead of processes."}, {"owner": {"reputation": 15041, "user_id": 1455016, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae8ab91a64f21f0e65b69a0bf1ca4904?s=128&d=identicon&r=PG", "display_name": "tbodt", "link": "https://stackoverflow.com/users/1455016/tbodt"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1497408226, "post_id": 44533936, "comment_id": 76060320, "body": "@JonathanLeffler I don&#39;t care about POSIX, I just want it to work on Linux"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497408276, "post_id": 44533936, "comment_id": 76060338, "body": "Then you&#39;ll have to wait for someone else to tell whether it can be done, but I&#39;d be moderately surprised if it can.  I&#39;m not convinced I can see a use case for it."}, {"owner": {"reputation": 15041, "user_id": 1455016, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae8ab91a64f21f0e65b69a0bf1ca4904?s=128&d=identicon&r=PG", "display_name": "tbodt", "link": "https://stackoverflow.com/users/1455016/tbodt"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1497408312, "post_id": 44533936, "comment_id": 76060348, "body": "@JonathanLeffler I&#39;m getting the feeling I&#39;m the only one in the world who actually wants to do this..."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 2, "creation_date": 1497411541, "post_id": 44533936, "comment_id": 76061093, "body": "@tbodt You probably are the only person who wants to do it, and for some reason some people will assume that makes you an idiot."}, {"owner": {"reputation": 15041, "user_id": 1455016, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae8ab91a64f21f0e65b69a0bf1ca4904?s=128&d=identicon&r=PG", "display_name": "tbodt", "link": "https://stackoverflow.com/users/1455016/tbodt"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1497411639, "post_id": 44533936, "comment_id": 76061121, "body": "@immibis I&#39;ve described the root problem I&#39;m trying to solve in the second comment, if anyone has any better ideas I&#39;d be glad to hear them"}, {"owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1497554841, "post_id": 44533936, "comment_id": 76139686, "body": "@immibis and idiots are so happy when they find each other..."}], "answers": [{"comments": [{"owner": {"reputation": 15041, "user_id": 1455016, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae8ab91a64f21f0e65b69a0bf1ca4904?s=128&d=identicon&r=PG", "display_name": "tbodt", "link": "https://stackoverflow.com/users/1455016/tbodt"}, "edited": false, "score": 0, "creation_date": 1497544160, "post_id": 44563296, "comment_id": 76133805, "body": "That&#39;s exactly what I ended up doing"}], "tags": [], "owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "is_accepted": true, "score": 2, "last_activity_date": 1497517466, "creation_date": 1497517466, "answer_id": 44563296, "question_id": 44533936, "link": "https://stackoverflow.com/questions/44533936/sharing-file-descriptor-table-with-child-after-child-has-done-an-exec/44563296#44563296", "title": "Sharing file descriptor table with child after child has done an exec", "body": "<p>This can be done by injecting into the child process a custom piece of code responsible for the receival of FDs and updating the child's descriptor table.</p>\n\n<p>Child process should create AF_UNIX socket and recvmsg() on it, while parent process should duplicate and \"stream down\" the required file descriptors using sendmsg() - see <a href=\"https://stackoverflow.com/questions/2358684/can-i-share-a-file-descriptor-to-another-process-on-linux-or-are-they-local-to-t\">here</a></p>\n"}], "owner": {"reputation": 15041, "user_id": 1455016, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae8ab91a64f21f0e65b69a0bf1ca4904?s=128&d=identicon&r=PG", "display_name": "tbodt", "link": "https://stackoverflow.com/users/1455016/tbodt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 1, "accepted_answer_id": 44563296, "answer_count": 1, "score": 1, "last_activity_date": 1497517466, "creation_date": 1497403532, "question_id": 44533936, "link": "https://stackoverflow.com/questions/44533936/sharing-file-descriptor-table-with-child-after-child-has-done-an-exec", "title": "Sharing file descriptor table with child after child has done an exec", "body": "<p>Is there any way to create a new process which shares your file descriptor table even after an exec? <code>clone(CLONE_FILES)</code> won't work, as the man page says:</p>\n\n<blockquote>\n  <p>If a process sharing a file descriptor table calls execve(2), its file descriptor table is duplicated (unshared).</p>\n</blockquote>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 5, "creation_date": 1497403552, "post_id": 44533932, "comment_id": 76059220, "body": "&quot;No&quot;. The common approach is to pass a &#39;tagged struct/union&#39; (or rely on other context data, such as fscanf)."}, {"owner": {"reputation": 3805, "user_id": 247643, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8e9927c1955a6b0497cf6c13d9a7b403?s=128&d=identicon&r=PG", "display_name": "doynax", "link": "https://stackoverflow.com/users/247643/doynax"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 1, "creation_date": 1497470827, "post_id": 44533932, "comment_id": 76097974, "body": "@user2864740: You can fudge it in C11 with a wrapper macro though, e.g. <code>#define func(p) (printf(_Generic(*(p), int: &quot;%d&quot;, char: &quot;%c&quot;), (p)))</code>."}], "answers": [{"tags": [], "owner": {"reputation": 14339, "user_id": 1466970, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/V1J6z.jpg?s=128&g=1", "display_name": "Richard Chambers", "link": "https://stackoverflow.com/users/1466970/richard-chambers"}, "is_accepted": true, "score": 1, "last_activity_date": 1497464027, "last_edit_date": 1497464027, "creation_date": 1497405181, "answer_id": 44534163, "question_id": 44533932, "link": "https://stackoverflow.com/questions/44533932/is-it-possible-to-retrieve-back-the-arguments-datatype-in-called-function-when/44534163#44534163", "title": "is it possible to retrieve back the argument&#39;s datatype in called function when using same function for different input data types in c?", "body": "<p>When a function argument is declared as a <code>void *</code> then any type information is not available to the function. C does not provide a way to inspect a <code>void *</code> variable to determine it real type.</p>\n\n<p>This means that when a function such as you describe with a <code>void *</code> argument is being used with multiple types then the argument must include some kind of annotation or indication as to the type.</p>\n\n<p>One standard way is to use a <code>struct</code> which contains a type indicator followed by a <code>union</code> of all the various types supported.</p>\n\n<pre><code>typedef struct {\n    unsigned short  usType;\n    union {\n        int iValue;\n        float fValue;\n    } U;\n} MyVoidType;\n</code></pre>\n\n<p>Another way is to use a <code>void *</code> argument for the thing to be processed by the function with a second argument indicating the type.</p>\n\n<pre><code>func(void *pItem, unsigned short usType)\n{\n    switch (usType) {\n        case 1:\n            {\n                ItemType1 *pItem1 = pItem;\n                // do things with pItem1\n            }\n            break;\n        //  other cases for other types\n    }\n}\n</code></pre>\n\n<p>This is similar to the problems that can be experienced when using the <code>varargs</code> variable arguments functionality. With <code>varargs</code> the compile knows there are additional arguments however their type is not checked because the type information for the other arguments are not part of the function definition/declaration. The <code>printf()</code> family of output functions provides a work around to this with the format specifiers which the functions use to determine the type of an argument and from that how to format the value to print the argument.</p>\n\n<p>There are problems with this approach because there is a need to maintain the annotation or indication with the actual data item and to make sure that any new types are supported with the appropriate changes in <code>switch</code> statements. It also ends up causing a problem with the compile now being unable to do argument checking for you.</p>\n\n<p>So what I have also done is something like the following. In a file I have a single function that handles all the various types I want to handle. This function is then wrapped in multiple versions with the appropriate typed arguments which do nothing more than call the single function with the proper annotation.</p>\n\n<pre><code>static short funcmain(void *pItem, unsigned short usType)\n{\n    switch (usType) {\n        case 1:\n            {\n                ItemType1 *pItem1 = pItem;\n                // do things with pItem1\n            }\n            break;\n        // other case statements\n    }\n}\n\nshort funcType1 (ItemType1 *pItem)\n{\n    return funcmain (pItem, 1);\n}\n\nshort funcType2 (ItemType2 *pItem)\n{\n    return funcmain (pItem, 2);\n}\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 8155040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d2a3afe4c6c8d8bc56641f0fc351aa0f?s=128&d=identicon&r=PG&f=1", "display_name": "User_890", "link": "https://stackoverflow.com/users/8155040/user-890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 44534163, "answer_count": 1, "score": 0, "last_activity_date": 1497464027, "creation_date": 1497403489, "question_id": 44533932, "link": "https://stackoverflow.com/questions/44533932/is-it-possible-to-retrieve-back-the-arguments-datatype-in-called-function-when", "title": "is it possible to retrieve back the argument&#39;s datatype in called function when using same function for different input data types in c?", "body": "<p>i have to use same function for different data types to avoid extra functions and lengthy code. \ni am taking (void*) argument in function and want to retrieve back the same datatype that i have sent from main. i.e if int comes from main, i should be able to guess the int datatype from void* of \"func\". here's sample function...</p>\n\n<pre><code>void func(void* input)\n{\n    if(input is int)\n        printf(\"%d\", input);\n    else if (input is char)\n        printf(\"%c\", input);\n    else if (input is struct)\n        //do somthing;\n    } \n</code></pre>\n\n<p>and the main is:</p>\n\n<pre><code>int main()\n{\n    int q=1;\n    char w='c';\n    func(&amp;q);\n    func(&amp;w);\n    func(&amp;struct);\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c", "fonts"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1497403740, "post_id": 44533872, "comment_id": 76059268, "body": "Clearly if the directory <i>allows only read permission</i>, you can&#39;t open a file to <b>write</b> to it. <i>Read permission</i> means you can <i>read</i>, not <i>write</i>. So the <code>fopen()</code> call failed, and the file was not opened for writing, yet you just go ahead and write to it anyway, writing to an invalid file pointer. You should learn to a) check function results instead of just assuming they worked, and b) learn now to use a debugger."}, {"owner": {"reputation": 651, "user_id": 4688722, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh5.googleusercontent.com/-9a5dyu7y-iY/AAAAAAAAAAI/AAAAAAAAAA4/pBMG_fnd0hM/photo.jpg?sz=128", "display_name": "Ammar Ul Hassan", "link": "https://stackoverflow.com/users/4688722/ammar-ul-hassan"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1497404341, "post_id": 44533872, "comment_id": 76059411, "body": "@KenWhite actually the file has permission that root user can write i tried it with sudo command while compiling still it failed."}, {"owner": {"reputation": 651, "user_id": 4688722, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh5.googleusercontent.com/-9a5dyu7y-iY/AAAAAAAAAAI/AAAAAAAAAA4/pBMG_fnd0hM/photo.jpg?sz=128", "display_name": "Ammar Ul Hassan", "link": "https://stackoverflow.com/users/4688722/ammar-ul-hassan"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1497404501, "post_id": 44533872, "comment_id": 76059453, "body": "@KenWhite thanks your comment helped sudo did the trick for me.."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1497404519, "post_id": 44533872, "comment_id": 76059457, "body": "Clearly something is wrong with your call to <code>fopen()</code>, because all the other code is based on it succeeding. Basic error checking and stepping through the code with the debugger would tell you exactly where the problem is located, at which point you can try to figure out how to fix it. We&#39;re not your surrogate debuggers. :-) <b>Stop</b> just assuming that function calls worked, and use proper checking of the return values."}, {"owner": {"reputation": 651, "user_id": 4688722, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh5.googleusercontent.com/-9a5dyu7y-iY/AAAAAAAAAAI/AAAAAAAAAA4/pBMG_fnd0hM/photo.jpg?sz=128", "display_name": "Ammar Ul Hassan", "link": "https://stackoverflow.com/users/4688722/ammar-ul-hassan"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1497404664, "post_id": 44533872, "comment_id": 76059489, "body": "@KenWhite thank you ill be careful next time about debugging."}], "answers": [{"tags": [], "owner": {"reputation": 2470, "user_id": 4262157, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DIi0C.jpg?s=128&g=1", "display_name": "Erik W", "link": "https://stackoverflow.com/users/4262157/erik-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1497408334, "creation_date": 1497408334, "answer_id": 44534571, "question_id": 44533872, "link": "https://stackoverflow.com/questions/44533872/code-gives-error-segmentation-fault-core-dumped-if-location-is-changed/44534571#44534571", "title": "code gives error Segmentation fault (core dumped), if location is changed", "body": "<p>You probably don't have write permissions. </p>\n\n<p>Use this code that includes error checking to see what the problem is: </p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n\nint main(void)\n{\n    FILE* fp = fopen(\"/usr/share/fonts/type1//gsfonts/test.pfb\", \"r+\");\n    if(!fp)\n    {\n        perror(\"Error\");\n        return EXIT_FAILURE;\n    }\n\n    fseek(fp, 6, 0);\n    fputs(\"%!PS-AdobeFont\", fp);\n    fclose(fp);\n}\n</code></pre>\n"}], "owner": {"reputation": 651, "user_id": 4688722, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh5.googleusercontent.com/-9a5dyu7y-iY/AAAAAAAAAAI/AAAAAAAAAA4/pBMG_fnd0hM/photo.jpg?sz=128", "display_name": "Ammar Ul Hassan", "link": "https://stackoverflow.com/users/4688722/ammar-ul-hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1497408334, "creation_date": 1497402936, "question_id": 44533872, "link": "https://stackoverflow.com/questions/44533872/code-gives-error-segmentation-fault-core-dumped-if-location-is-changed", "title": "code gives error Segmentation fault (core dumped), if location is changed", "body": "<p>I am trying to customize the header of a type1 font file by changing some text from 6th byte to 20th byte as mentioned in code below. </p>\n\n<p>Currently font file contains this text in 6-20 bytes \"%!PS-AdobeFont\", i am modifying it to \"%!PS-RoughFont\". Its working fine, but as soon as i install this font file in fonts folder where all fonts are installed and run the same code it gives me error  \"<strong>Segmentation fault (core dumped)</strong>\"</p>\n\n<p>why is this error coming i mean same code working in other location. P.S i am using linux OS. Is it something to the permissions of this directory as it allows only read permission.</p>\n\n<p>Code</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main ()\n{\n FILE *fp;\n\n fp = fopen(\"/usr/share/fonts/type1/gsfonts/test.pfb\",\"r+\");\n\n fseek(fp, 6, 0);\n fputs(\"%!PS-AdobeFont\", fp);\n fclose(fp);\n\n return(0);\n}\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 5, "creation_date": 1497403419, "post_id": 44533784, "comment_id": 76059193, "body": "All of these are undefined behaviour"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 1, "creation_date": 1497408223, "post_id": 44533784, "comment_id": 76060317, "body": "I want to modify a const member. That is an oxymoron. Your design needs to be changed."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1497408285, "post_id": 44533784, "comment_id": 76060342, "body": "Also, please turn on all warnings. Your compiler will complain about casting <code>const int*</code> to <code>int*</code> in the first case itself."}, {"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "edited": false, "score": 0, "creation_date": 1497412784, "post_id": 44533784, "comment_id": 76061394, "body": "Will depend on the compiler and target.  In any case, the cast is as simple as <i>(int</i>)&amp;(st.a) = 123;  This will work if st is declared at the function level. - this site uses the star for italics, so imagine they are here."}], "answers": [{"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 10, "last_activity_date": 1497402526, "last_edit_date": 1592644375, "creation_date": 1497402526, "answer_id": 44533826, "question_id": 44533784, "link": "https://stackoverflow.com/questions/44533784/is-it-possible-to-change-a-const-struct-member-in-c/44533826#44533826", "title": "Is it possible to change a const struct member in C?", "body": "<blockquote>\n<p>I already know it is possible to change a const basic type as follows:</p>\n<pre><code>const int a = 2;\n*(int*)&amp;a = 3;\n</code></pre>\n</blockquote>\n<p>The fact that your compiler lets you do it does not make it legal. This code invokes undefined behavior, so the same program could fail or crash if you run it on a different platform, or use a different compiler.</p>\n<blockquote>\n<pre><code>*(int *)(&amp;((*(ST*)(&amp;st)).a)) = 5; //works fine , no problem\n</code></pre>\n</blockquote>\n<p>This code has the same problem: it invokes undefined behavior.</p>\n<p>The last piece of code that you try also has (you guessed it!) undefined behavior. This time, however, the program crashes instead of running to completion.</p>\n"}, {"tags": [], "owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "is_accepted": false, "score": 1, "last_activity_date": 1497423438, "last_edit_date": 1497423438, "creation_date": 1497410903, "answer_id": 44534898, "question_id": 44533784, "link": "https://stackoverflow.com/questions/44533784/is-it-possible-to-change-a-const-struct-member-in-c/44534898#44534898", "title": "Is it possible to change a const struct member in C?", "body": "<p>C compilers usually place constants in a read only memory segment, usually called .TEXT or .CODE.  This segment (block of memory) is protected against writes by the operating system, or for small embedded CPUs and SoC constants are usually placed in the ROM/ or Flash memory along with the code.  What you are trying to do is not recommended, as it would affects all modules using the constant.  </p>\n\n<p>Try to change your linking options to generate a map file, if you are interested in the memory segmentation and get a feel as to how the compiler and the linker manage memory.</p>\n\n<p>[EDIT] But you can, in fact, easily change a const member in a const structure, provided the constant is in a writable data segment. You can try this:</p>\n\n<pre><code>int someFunc()\n{\n    const ST CONST_ONSTACK = { .a = 10, .b = 20 }; // the constant is on the stack...\n    *(int*)&amp;(CONST_ONSTACK.a) = 3}\n    return CONST_ONSTACK.a;\n}\n</code></pre>\n\n<p>If your compiler is any good, you should get a warning.</p>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 2150412, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1911fdbd8b0778ac7305879e77f17e7?s=128&d=identicon&r=PG", "display_name": "rokstar", "link": "https://stackoverflow.com/users/2150412/rokstar"}, "is_accepted": false, "score": 0, "last_activity_date": 1611908531, "last_edit_date": 1611908531, "creation_date": 1611908212, "answer_id": 65950920, "question_id": 44533784, "link": "https://stackoverflow.com/questions/44533784/is-it-possible-to-change-a-const-struct-member-in-c/65950920#65950920", "title": "Is it possible to change a const struct member in C?", "body": "<p>Here is another approach how you can make the struct read-only for the caller and keep it read/write for internal usage:</p>\n<p>For example here is an imaginary HTTP parser:</p>\n<pre class=\"lang-c prettyprint-override\"><code>typedef const struct ___http_message {\n    struct {\n        char* name;\n        char* value;\n    } *headers;\n    char* body;\n} http_message_t;\n\nhttp_message_t* http_parse(char const* data) {\n    struct ___http_message* msg = calloc(1, sizeof(struct ___http_message));\n    msg-&gt;headers = calloc(3, sizeof(*msg-&gt;headers));\n    msg-&gt;headers[0].name = strdup(&quot;Content-Type&quot;);\n    msg-&gt;headers[0].value = strdup(&quot;application/json&quot;);\n    msg-&gt;headers[1].name = strdup(&quot;Content-Length&quot;);\n    msg-&gt;headers[1].value = strdup(&quot;20&quot;);\n    msg-&gt;body = strdup(&quot;{ \\&quot;hello\\&quot;: \\&quot;world\\&quot; }&quot;);\n    return msg;\n}\n\nvoid http_free(http_message_t* message) {\n    struct ___http_message* msg = (struct ___http_message*)message;\n    free(msg-&gt;headers[0].name);\n    free(msg-&gt;headers[0].value);\n    free(msg-&gt;headers[1].name);\n    free(msg-&gt;headers[1].value);\n    free(msg-&gt;headers);\n    free(msg-&gt;body);\n    free(msg);\n}\n\nint main(int argc, char const *argv[]) {\n    http_message_t* msg = http_parse(&quot;...&quot;);\n    printf(&quot;%s: %s\\n&quot;, msg-&gt;headers[0].name, msg-&gt;headers[0].value);\n    printf(&quot;%s: %s\\n&quot;, msg-&gt;headers[1].name, msg-&gt;headers[1].value);\n    printf(&quot;%s\\n&quot;, msg-&gt;body);\n\n    msg-&gt;body = &quot;123&quot;; // cannot assign to variable 'msg' with const-qualified type 'http_message_t *' (aka 'const struct http_message_tag *')\n}\n</code></pre>\n<pre><code>// output\nContent-Type: application/json\nContent-Length: 20\n{ &quot;hello&quot;: &quot;world&quot; }\n</code></pre>\n<p>Your <code>http_message_t*</code> is always read-only for the caller making it more safe to deal with.</p>\n<p>This approach is legal and doesn't stink!</p>\n"}], "owner": {"reputation": 39, "user_id": 7072253, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WKoKRCn_a_E/AAAAAAAAAAI/AAAAAAAAASQ/AG9ax1fR2oE/photo.jpg?sz=128", "display_name": "maycon kruger", "link": "https://stackoverflow.com/users/7072253/maycon-kruger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2112, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1611908531, "creation_date": 1497402246, "question_id": 44533784, "link": "https://stackoverflow.com/questions/44533784/is-it-possible-to-change-a-const-struct-member-in-c", "title": "Is it possible to change a const struct member in C?", "body": "<p>I have to change  a const member of a const struct instance in C.</p>\n\n<p>I already know it is possible to change a const basic type as follows:</p>\n\n<pre><code>const int a = 2;\n*(int*)&amp;a = 3;\n</code></pre>\n\n<p>I also can change a const member of a struct instance as follows:</p>\n\n<pre><code>typedef struct ST {\n  const int a;\n  const int b;\n}ST;\nST st = {.a = 1,.b =2};\n\nint main() {\n    *(int *)(&amp;((*(ST*)(&amp;st)).a)) = 5; //works fine , no problem\n}\n</code></pre>\n\n<p>However i had no success trying to change the const member of the struct instance, if the instance is constant:</p>\n\n<pre><code>typedef struct ST {\n  const int a;\n  const int b;\n}ST;\n\nconst ST st = {.a = 2,.b=3}; //const instance\n\nint main() {\n    *(int *)(&amp;((*(ST*)(&amp;st)).a)) = 5; //does not work(Seg fault)!!\n}\n</code></pre>\n\n<p>So , would it be possible to change the \"a\" member value in this last scenario?\nIf not , why?</p>\n"}, {"tags": ["c++", "c", "eclipse", "openjdk", "jvm-hotspot"], "answers": [{"comments": [{"owner": {"reputation": 826, "user_id": 7748163, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ae70955e538b80c6f55db38848707f27?s=128&d=identicon&r=PG&f=1", "display_name": "skytree", "link": "https://stackoverflow.com/users/7748163/skytree"}, "edited": false, "score": 0, "creation_date": 1497449328, "post_id": 44540848, "comment_id": 76084936, "body": "I still have problems. <code>Thread 2 &quot;java&quot; received signal SIGSEGV, Segmentation fault.</code> <code>[Switching to Thread 0x7ffff7fc8700 (LWP 72516)]</code> <code>0x00007fffe0f83c9c in ?? ()</code> <code>(gdb) handle sigsegv pass noprint nonstop</code> <code>Unrecognized or ambiguous flag word: &quot;sigsegv&quot;.</code> <code>(gdb) </code> <code>Unrecognized or ambiguous flag word: &quot;sigsegv&quot;.</code>"}, {"owner": {"reputation": 1009, "user_id": 1885085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bb8f746eb89b11ff06eca04a337878?s=128&d=identicon&r=PG", "display_name": "Gilles D.", "link": "https://stackoverflow.com/users/1885085/gilles-d"}, "reply_to_user": {"reputation": 826, "user_id": 7748163, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ae70955e538b80c6f55db38848707f27?s=128&d=identicon&r=PG&f=1", "display_name": "skytree", "link": "https://stackoverflow.com/users/7748163/skytree"}, "edited": false, "score": 0, "creation_date": 1497449670, "post_id": 44540848, "comment_id": 76085194, "body": "Sorry about that, it has to be capitalized (<code>SIGSEGV</code>). Also, you have to do that before hitting the segfault. If you have already received the signal, use the <code>handle</code> command and then use <code>continue</code> to resume execution"}, {"owner": {"reputation": 826, "user_id": 7748163, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ae70955e538b80c6f55db38848707f27?s=128&d=identicon&r=PG&f=1", "display_name": "skytree", "link": "https://stackoverflow.com/users/7748163/skytree"}, "edited": false, "score": 0, "creation_date": 1497454527, "post_id": 44540848, "comment_id": 76088812, "body": "What&#39;s wrong with <code>0x00007fffe0dde513 in ?? ()</code>, why <code>??</code>?"}, {"owner": {"reputation": 1009, "user_id": 1885085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bb8f746eb89b11ff06eca04a337878?s=128&d=identicon&r=PG", "display_name": "Gilles D.", "link": "https://stackoverflow.com/users/1885085/gilles-d"}, "reply_to_user": {"reputation": 826, "user_id": 7748163, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ae70955e538b80c6f55db38848707f27?s=128&d=identicon&r=PG&f=1", "display_name": "skytree", "link": "https://stackoverflow.com/users/7748163/skytree"}, "edited": false, "score": 0, "creation_date": 1497459170, "post_id": 44540848, "comment_id": 76091577, "body": "I&#39;m not sure there&#39;s anything wrong with <code>0x00007fffe0dde513</code>, the JVM uses <code>SIGSEGV</code> internally for normal operation. The signal probably comes from code that was generated by a just-in-time compiler so there&#39;s no file name that gdb could display so it just shows <code>??</code>."}, {"owner": {"reputation": 761, "user_id": 1773863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6145fb4c7c84820d83d2458c682bb190?s=128&d=identicon&r=PG", "display_name": "nevihs", "link": "https://stackoverflow.com/users/1773863/nevihs"}, "edited": false, "score": 1, "creation_date": 1497459692, "post_id": 44540848, "comment_id": 76091886, "body": "this link might help you. Mostly its the same steps suggested by @Giles D <a href=\"https://github.com/kholia/Securing-JMX/blob/master/JDK-JVM-GDB-notes.txt\" rel=\"nofollow noreferrer\">github.com/kholia/Securing-JMX/blob/master/&hellip;</a> and <a href=\"http://mail.openjdk.java.net/pipermail/hotspot-dev/2007-October/000179.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/hotspot-dev/2007-October/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1009, "user_id": 1885085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bb8f746eb89b11ff06eca04a337878?s=128&d=identicon&r=PG", "display_name": "Gilles D.", "link": "https://stackoverflow.com/users/1885085/gilles-d"}, "is_accepted": true, "score": 12, "last_activity_date": 1497449811, "last_edit_date": 1497449811, "creation_date": 1497432833, "answer_id": 44540848, "question_id": 44533670, "link": "https://stackoverflow.com/questions/44533670/jdk9-hotspot-debug-using-gdb-causing-sigsegv-segmentation-fault-in-eclipse-ubun/44540848#44540848", "title": "JDK9 Hotspot debug using gdb, causing SIGSEGV Segmentation fault in eclipse/Ubuntu terminal", "body": "<p>The HotSpot JVM uses the SEGV signal internally for a few different things (<code>NullPointerException</code>, safepoints, ...) so this is most likely not an error. When debugging HotSpot, it is useful to tell gdb to let the application handle the SEGV signal:</p>\n\n<pre><code>handle SIGSEGV pass noprint nostop\n</code></pre>\n\n<p>When you are already paused because gdb received the signal, you can resume execution with</p>\n\n<pre><code>continue\n</code></pre>\n\n<p>You can also use those commands in the debugger console of eclipse.</p>\n\n<p>It might be useful to create a <code>.gdbinit</code> file that contains that command. In Eclipse you can then point your run configuration to that file (\"GDB command file\" under \"Debugger\" in the run configuration).\nThat way you don't need to type that command on every HotSpot debugging session.</p>\n"}], "owner": {"reputation": 826, "user_id": 7748163, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ae70955e538b80c6f55db38848707f27?s=128&d=identicon&r=PG&f=1", "display_name": "skytree", "link": "https://stackoverflow.com/users/7748163/skytree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 964, "favorite_count": 2, "accepted_answer_id": 44540848, "answer_count": 1, "score": 3, "last_activity_date": 1497449811, "creation_date": 1497401251, "question_id": 44533670, "link": "https://stackoverflow.com/questions/44533670/jdk9-hotspot-debug-using-gdb-causing-sigsegv-segmentation-fault-in-eclipse-ubun", "title": "JDK9 Hotspot debug using gdb, causing SIGSEGV Segmentation fault in eclipse/Ubuntu terminal", "body": "<p>I am trying to debug JDK9. </p>\n\n<p>I want to trace source code and see the control flow of JDK/Hotspot code.</p>\n\n<p>I use gdb and Eclipse but there is a problem <code>SIGSEGV Segmentation fault</code>. </p>\n\n<p>I follow Buildme.md from JDK official document to configure JDK9,</p>\n\n<pre><code>bash ./configure --with-debug-level=slowdebug --with-target-bits=64\n--disable-warnings-as-errors\n</code></pre>\n\n<p>Then,</p>\n\n<pre><code>make all\n</code></pre>\n\n<p>I get my customized debug version:</p>\n\n<pre><code>/images/jdk/bin/java -version openjdk version \"9-internal\" \nOpenJDK Runtime Environment (build 9-internal+0-adhoc.xfwu.9dev) \nOpenJDK 64-Bit Server VM (build 9-internal+0-adhoc.xfwu.9dev, mixed mode)\n</code></pre>\n\n<hr>\n\n<p>The following snippet shows that I use a HelloWorld.java to debug code. I <code>start</code> the gdb. It seems well at the first glance. However, when this program starts to run <code>thread 2</code>, it raises problem of <code>SIGSEGV Segmentation fault</code>. I don't know why and how to solve it. Similarly, I use Eclipse to debug, actually, it is no different from gdb. Fundamentally, they all use gdb. Then I get the same problem.</p>\n\n<h2>Terminal debug</h2>\n\n<h3>error part:</h3>\n\n<pre><code>Thread 2 \"java\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffff7fc8700 (LWP 24030)]\n0x00007fffe0dde513 in ?? ()\n(gdb) info thread\n  Id   Target Id         Frame \n  1    Thread 0x7ffff7fc9700 (LWP 24012) \"java\" 0x00007ffff71c99cd in pthread_join (threadid=140737353910016, thread_return=0x7fffffffb5e8) at pthread_join.c:90\n* 2    Thread 0x7ffff7fc8700 (LWP 24030) \"java\" 0x00007fffe0dde513 in ?? ()\n</code></pre>\n\n<hr>\n\n<h3>All gdb info:</h3>\n\n<pre><code>xfwu:~/sandboxJDK/9jdk/build/linux-x86_64-normal-server-slowdebug/jdk/bin$gdb --args java ~/sanboxJDK/9jdk/javaPrj/HelloWorld\nGNU gdb (Ubuntu 7.11.90.20161005-0ubuntu1) 7.11.90.20161005-git\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\nFind the GDB manual and other documentation resources online at:\n&lt;http://www.gnu.org/software/gdb/documentation/&gt;.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from java...done.\n(gdb) start\nTemporary breakpoint 1 at 0xbbf: file /home/xfwu/sandboxJDK/9jdk/jdk/src/java.base/share/native/launcher/main.c, line 95.\nStarting program: /home/xfwu/sandboxJDK/9jdk/build/linux-x86_64-normal-server-slowdebug/jdk/bin/java /home/xfwu/sanboxJDK/9jdk/javaPrj/HelloWorld\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n\nTemporary breakpoint 1, main (argc=2, argv=0x7fffffffe9c8) at /home/xfwu/sandboxJDK/9jdk/jdk/src/java.base/share/native/launcher/main.c:95\n95  {\n(gdb) list\n90      __initenv = _environ;\n91  \n92  #else /* JAVAW */\n93  int\n94  main(int argc, char **argv)\n95  {\n96      int margc;\n97      char** margv;\n98      const jboolean const_javaw = JNI_FALSE;\n99  #endif /* JAVAW */\n(gdb) \n100 \n101     JLI_InitArgProcessing(!HAS_JAVA_ARGS, const_disable_argfile);\n102 \n103 #ifdef _WIN32\n104     {\n105         int i = 0;\n106         if (getenv(JLDEBUG_ENV_ENTRY) != NULL) {\n107             printf(\"Windows original main args:\\n\");\n108             for (i = 0 ; i &lt; __argc ; i++) {\n109                 printf(\"wwwd_args[%d] = %s\\n\", i, __argv[i]);\n(gdb) \n110             }\n111         }\n112     }\n113     JLI_CmdToArgs(GetCommandLine());\n114     margc = JLI_GetStdArgc();\n115     // add one more to mark the end\n116     margv = (char **)JLI_MemAlloc((margc + 1) * (sizeof(char *)));\n117     {\n118         int i = 0;\n119         StdArg *stdargs = JLI_GetStdArgs();\n(gdb) \n120         for (i = 0 ; i &lt; margc ; i++) {\n121             margv[i] = stdargs[i].arg;\n122         }\n123         margv[i] = NULL;\n124     }\n125 #else /* *NIXES */\n126     {\n127         // accommodate the NULL at the end\n128         JLI_List args = JLI_List_new(argc + 1);\n129         int i = 0;\n(gdb) \n130 \n131         // Add first arg, which is the app name\n132         JLI_List_add(args, JLI_StringDup(argv[0]));\n133         // Append JDK_JAVA_OPTIONS\n134         if (JLI_AddArgsFromEnvVar(args, JDK_JAVA_OPTIONS)) {\n135             // JLI_SetTraceLauncher is not called yet\n136             // Show _JAVA_OPTIONS content along with JDK_JAVA_OPTIONS to aid diagnosis\n137             if (getenv(JLDEBUG_ENV_ENTRY)) {\n138                 char *tmp = getenv(\"_JAVA_OPTIONS\");\n139                 if (NULL != tmp) {\n(gdb) \n140                     JLI_ReportMessage(ARG_INFO_ENVVAR, \"_JAVA_OPTIONS\", tmp);\n141                 }\n142             }\n143         }\n144         // Iterate the rest of command line\n145         for (i = 1; i &lt; argc; i++) {\n146             JLI_List argsInFile = JLI_PreprocessArg(argv[i]);\n147             if (NULL == argsInFile) {\n148                 JLI_List_add(args, JLI_StringDup(argv[i]));\n149             } else {\n(gdb) \n150                 int cnt, idx;\n151                 cnt = argsInFile-&gt;size;\n152                 for (idx = 0; idx &lt; cnt; idx++) {\n153                     JLI_List_add(args, argsInFile-&gt;elements[idx]);\n154                 }\n155                 // Shallow free, we reuse the string to avoid copy\n156                 JLI_MemFree(argsInFile-&gt;elements);\n157                 JLI_MemFree(argsInFile);\n158             }\n159         }\n(gdb) \n160         margc = args-&gt;size;\n161         // add the NULL pointer at argv[argc]\n162         JLI_List_add(args, NULL);\n163         margv = args-&gt;elements;\n164     }\n165 #endif /* WIN32 */\n166     return JLI_Launch(margc, margv,\n167                    sizeof(const_jargs) / sizeof(char *), const_jargs,\n168                    0, NULL,\n169                    VERSION_STRING,\n(gdb) \n170                    DOT_VERSION,\n171                    (const_progname != NULL) ? const_progname : *margv,\n172                    (const_launcher != NULL) ? const_launcher : *margv,\n173                    HAS_JAVA_ARGS,\n174                    const_cpwildcard, const_javaw, 0);\n175 }\n(gdb) \nLine number 176 out of range; /home/xfwu/sandboxJDK/9jdk/jdk/src/java.base/share/native/launcher/main.c has 175 lines.\n(gdb) \nLine number 176 out of range; /home/xfwu/sandboxJDK/9jdk/jdk/src/java.base/share/native/launcher/main.c has 175 lines.\n(gdb) \nLine number 176 out of range; /home/xfwu/sandboxJDK/9jdk/jdk/src/java.base/share/native/launcher/main.c has 175 lines.\n(gdb) \nLine number 176 out of range; /home/xfwu/sandboxJDK/9jdk/jdk/src/java.base/share/native/launcher/main.c has 175 lines.\n(gdb) s\n98      const jboolean const_javaw = JNI_FALSE;\n(gdb) \n101     JLI_InitArgProcessing(!HAS_JAVA_ARGS, const_disable_argfile);\n(gdb) \n128         JLI_List args = JLI_List_new(argc + 1);\n(gdb) \n129         int i = 0;\n(gdb) \n132         JLI_List_add(args, JLI_StringDup(argv[0]));\n(gdb) \n134         if (JLI_AddArgsFromEnvVar(args, JDK_JAVA_OPTIONS)) {\n(gdb) \n145         for (i = 1; i &lt; argc; i++) {\n(gdb) \n146             JLI_List argsInFile = JLI_PreprocessArg(argv[i]);\n(gdb) \n147             if (NULL == argsInFile) {\n(gdb) \n148                 JLI_List_add(args, JLI_StringDup(argv[i]));\n(gdb) \n145         for (i = 1; i &lt; argc; i++) {\n(gdb) \n160         margc = args-&gt;size;\n(gdb) \n162         JLI_List_add(args, NULL);\n(gdb) \n163         margv = args-&gt;elements;\n(gdb) \n166     return JLI_Launch(margc, margv,\n(gdb) \n172                    (const_launcher != NULL) ? const_launcher : *margv,\n(gdb) \n166     return JLI_Launch(margc, margv,\n(gdb) \n171                    (const_progname != NULL) ? const_progname : *margv,\n(gdb) \n166     return JLI_Launch(margc, margv,\n(gdb) \n[New Thread 0x7ffff7fc8700 (LWP 24030)]\n\nThread 2 \"java\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffff7fc8700 (LWP 24030)]\n0x00007fffe0dde513 in ?? ()\n(gdb) info thread\n  Id   Target Id         Frame \n  1    Thread 0x7ffff7fc9700 (LWP 24012) \"java\" 0x00007ffff71c99cd in pthread_join (threadid=140737353910016, thread_return=0x7fffffffb5e8) at pthread_join.c:90\n* 2    Thread 0x7ffff7fc8700 (LWP 24030) \"java\" 0x00007fffe0dde513 in ?? ()\n(gdb) thread 1\n[Switching to thread 1 (Thread 0x7ffff7fc9700 (LWP 24012))]\n#0  0x00007ffff71c99cd in pthread_join (threadid=140737353910016, thread_return=0x7fffffffb5e8) at pthread_join.c:90\n90  pthread_join.c: No such file or directory.\n(gdb) n\n[New Thread 0x7fffe0c0d700 (LWP 24038)]\n[New Thread 0x7fffe0b0c700 (LWP 24039)]\n[New Thread 0x7fffe0a0b700 (LWP 24040)]\n[New Thread 0x7fffe090a700 (LWP 24041)]\n[New Thread 0x7fffe0809700 (LWP 24042)]\n[New Thread 0x7fffe0708700 (LWP 24043)]\n[New Thread 0x7fffe0607700 (LWP 24044)]\n[New Thread 0x7fffe0506700 (LWP 24045)]\n[New Thread 0x7fffe0405700 (LWP 24046)]\n[New Thread 0x7fffe0304700 (LWP 24047)]\n[New Thread 0x7fffe0203700 (LWP 24048)]\n[New Thread 0x7fffe0102700 (LWP 24049)]\n[New Thread 0x7fffb3fff700 (LWP 24050)]\n[New Thread 0x7fffb3efe700 (LWP 24051)]\n[New Thread 0x7fffb3dfd700 (LWP 24052)]\n[New Thread 0x7fffb3cfc700 (LWP 24053)]\n[New Thread 0x7fffb3bfb700 (LWP 24054)]\n[New Thread 0x7fffb3afa700 (LWP 24055)]\n[New Thread 0x7fffb39f9700 (LWP 24056)]\n[New Thread 0x7fffb38f8700 (LWP 24057)]\n[New Thread 0x7fffb37f7700 (LWP 24058)]\n[New Thread 0x7fffb36f6700 (LWP 24059)]\n[New Thread 0x7fffb35f5700 (LWP 24060)]\n[New Thread 0x7fffb34f4700 (LWP 24061)]\n[New Thread 0x7fffb33f3700 (LWP 24062)]\n[New Thread 0x7fffb32f2700 (LWP 24063)]\n[New Thread 0x7fffb31f1700 (LWP 24064)]\n[New Thread 0x7fffb30f0700 (LWP 24065)]\n[New Thread 0x7fffb2fef700 (LWP 24066)]\n[New Thread 0x7fffb2eee700 (LWP 24067)]\n[New Thread 0x7fffb2ded700 (LWP 24068)]\n[New Thread 0x7fffb2cec700 (LWP 24069)]\n[New Thread 0x7fffb2beb700 (LWP 24070)]\n[New Thread 0x7fffb2aea700 (LWP 24071)]\n[New Thread 0x7fffb29e9700 (LWP 24072)]\n[New Thread 0x7fffb28e8700 (LWP 24073)]\n[New Thread 0x7fffb27e7700 (LWP 24074)]\n[New Thread 0x7fffb26e6700 (LWP 24075)]\n[New Thread 0x7fffb25e5700 (LWP 24076)]\n[New Thread 0x7fffb24e4700 (LWP 24077)]\n[New Thread 0x7fffb23e3700 (LWP 24078)]\n[New Thread 0x7fffb22e2700 (LWP 24079)]\n[New Thread 0x7fffb21e1700 (LWP 24080)]\n[New Thread 0x7fff2f4f4700 (LWP 24081)]\n[New Thread 0x7fff2f3f3700 (LWP 24082)]\n[New Thread 0x7fff2f2f2700 (LWP 24083)]\n[New Thread 0x7fff2f1f1700 (LWP 24084)]\n[New Thread 0x7fff2f0f0700 (LWP 24085)]\n[New Thread 0x7fff2efef700 (LWP 24086)]\n[New Thread 0x7fff2eeee700 (LWP 24087)]\n[New Thread 0x7fff2eded700 (LWP 24088)]\n[New Thread 0x7fff2ecec700 (LWP 24089)]\n[New Thread 0x7fff2ebeb700 (LWP 24090)]\n[New Thread 0x7fff2eaea700 (LWP 24091)]\n[New Thread 0x7fff2e9e9700 (LWP 24092)]\n[New Thread 0x7fff2e8e8700 (LWP 24093)]\n[New Thread 0x7fff2e7e7700 (LWP 24094)]\n[New Thread 0x7fff2e6e6700 (LWP 24095)]\n[New Thread 0x7fff2e5e5700 (LWP 24096)]\n[New Thread 0x7fff2e4e4700 (LWP 24097)]\n[New Thread 0x7fff2e3e3700 (LWP 24098)]\n[New Thread 0x7fff2e2e2700 (LWP 24099)]\n[New Thread 0x7fff2e1e1700 (LWP 24100)]\n[New Thread 0x7fff2e0e0700 (LWP 24101)]\n[New Thread 0x7fff2dfdf700 (LWP 24102)]\n[New Thread 0x7fff2dede700 (LWP 24103)]\n[New Thread 0x7fff2dddd700 (LWP 24104)]\n[New Thread 0x7fff2dcdc700 (LWP 24105)]\n[New Thread 0x7fff2dbdb700 (LWP 24106)]\n[New Thread 0x7fff2dada700 (LWP 24107)]\n[New Thread 0x7fff2d9d9700 (LWP 24108)]\n[New Thread 0x7fff2d8d8700 (LWP 24109)]\n[New Thread 0x7fff2d7d7700 (LWP 24110)]\n[New Thread 0x7fff2d6d6700 (LWP 24111)]\n[New Thread 0x7fff2d5d5700 (LWP 24113)]\n[New Thread 0x7fff2d4d4700 (LWP 24114)]\n[New Thread 0x7fff2d3d3700 (LWP 24115)]\n[New Thread 0x7fff2d2d2700 (LWP 24116)]\n[New Thread 0x7fff2d1d1700 (LWP 24117)]\n[New Thread 0x7fff2d0d0700 (LWP 24118)]\n[New Thread 0x7fff2cfcf700 (LWP 24119)]\n[New Thread 0x7fff2cece700 (LWP 24120)]\n[New Thread 0x7fff2cdcd700 (LWP 24121)]\n[New Thread 0x7fff2cccc700 (LWP 24122)]\n[New Thread 0x7fff2cbcb700 (LWP 24123)]\n[New Thread 0x7fff2caca700 (LWP 24124)]\n[New Thread 0x7fff2c9c9700 (LWP 24125)]\n[New Thread 0x7fff2c409700 (LWP 24126)]\n[New Thread 0x7fff2c308700 (LWP 24127)]\n[New Thread 0x7fff2c207700 (LWP 24128)]\n[New Thread 0x7fff2c106700 (LWP 24129)]\n[New Thread 0x7ffe7c40f700 (LWP 24130)]\n[New Thread 0x7ffe7c30e700 (LWP 24131)]\n[New Thread 0x7ffe7c20d700 (LWP 24132)]\n[New Thread 0x7ffe7c10c700 (LWP 24133)]\n[New Thread 0x7ffe305b1700 (LWP 24134)]\n[New Thread 0x7ffe304b0700 (LWP 24135)]\n[New Thread 0x7ffe303af700 (LWP 24136)]\n[New Thread 0x7ffe302ae700 (LWP 24137)]\n\nThread 2 \"java\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffff7fc8700 (LWP 24030)]\n0x00007fffe0f83c9c in ?? ()\n(gdb) info thread\n  Id   Target Id         Frame \n  1    Thread 0x7ffff7fc9700 (LWP 24012) \"java\" 0x00007ffff71c99cd in pthread_join (threadid=140737353910016, thread_return=0x7fffffffb5e8) at pthread_join.c:90\n* 2    Thread 0x7ffff7fc8700 (LWP 24030) \"java\" 0x00007fffe0f83c9c in ?? ()\n  3    Thread 0x7fffe0c0d700 (LWP 24038) \"GC Thread#0\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  4    Thread 0x7fffe0b0c700 (LWP 24039) \"GC Thread#1\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  5    Thread 0x7fffe0a0b700 (LWP 24040) \"GC Thread#2\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  6    Thread 0x7fffe090a700 (LWP 24041) \"GC Thread#3\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  7    Thread 0x7fffe0809700 (LWP 24042) \"GC Thread#4\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  8    Thread 0x7fffe0708700 (LWP 24043) \"GC Thread#5\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  9    Thread 0x7fffe0607700 (LWP 24044) \"GC Thread#6\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  10   Thread 0x7fffe0506700 (LWP 24045) \"GC Thread#7\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  11   Thread 0x7fffe0405700 (LWP 24046) \"GC Thread#8\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  12   Thread 0x7fffe0304700 (LWP 24047) \"GC Thread#9\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  13   Thread 0x7fffe0203700 (LWP 24048) \"GC Thread#10\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  14   Thread 0x7fffe0102700 (LWP 24049) \"GC Thread#11\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  15   Thread 0x7fffb3fff700 (LWP 24050) \"GC Thread#12\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  16   Thread 0x7fffb3efe700 (LWP 24051) \"GC Thread#13\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  17   Thread 0x7fffb3dfd700 (LWP 24052) \"GC Thread#14\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  18   Thread 0x7fffb3cfc700 (LWP 24053) \"GC Thread#15\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  19   Thread 0x7fffb3bfb700 (LWP 24054) \"GC Thread#16\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  20   Thread 0x7fffb3afa700 (LWP 24055) \"GC Thread#17\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  21   Thread 0x7fffb39f9700 (LWP 24056) \"GC Thread#18\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  22   Thread 0x7fffb38f8700 (LWP 24057) \"GC Thread#19\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  23   Thread 0x7fffb37f7700 (LWP 24058) \"GC Thread#20\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  24   Thread 0x7fffb36f6700 (LWP 24059) \"GC Thread#21\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  25   Thread 0x7fffb35f5700 (LWP 24060) \"GC Thread#22\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  26   Thread 0x7fffb34f4700 (LWP 24061) \"GC Thread#23\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  27   Thread 0x7fffb33f3700 (LWP 24062) \"GC Thread#24\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  28   Thread 0x7fffb32f2700 (LWP 24063) \"GC Thread#25\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  29   Thread 0x7fffb31f1700 (LWP 24064) \"GC Thread#26\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  30   Thread 0x7fffb30f0700 (LWP 24065) \"GC Thread#27\" 0x00007ffff71d0a07 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, futex_word=0x7ffff0048480)\n    at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n</code></pre>\n\n<hr>\n\n<h2>Eclipse debug</h2>\n\n<p><a href=\"https://i.stack.imgur.com/muL3n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/muL3n.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c", "fortran", "language-interoperability"], "comments": [{"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497401423, "post_id": 44533633, "comment_id": 76058850, "body": "Maybe this help you, <a href=\"http://docs.cray.com/books/S-2179-52/html-S-2179-52/ppgzmrwh.html\" rel=\"nofollow noreferrer\">docs.cray.com/books/S-2179-52/html-S-2179-52/ppgzmrwh.html</a>."}, {"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 1, "creation_date": 1497419171, "post_id": 44533633, "comment_id": 76063657, "body": "There are no generics in C. But there are generics in C++. And there is no <code>extern &quot;C&quot;</code> in C. Are you actually using C++?"}, {"owner": {"reputation": 293, "user_id": 1949370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5D6MK.jpg?s=128&g=1", "display_name": "QuantumDot", "link": "https://stackoverflow.com/users/1949370/quantumdot"}, "edited": false, "score": 0, "creation_date": 1497547443, "post_id": 44533633, "comment_id": 76135594, "body": "This has more information about &#39;INTERFACE&#39;: <a href=\"https://people.sc.fsu.edu/~jburkardt/f_src/f90_calls_c++/f90_calls_c++.html\" rel=\"nofollow noreferrer\">people.sc.fsu.edu/~jburkardt/f_src/f90_calls_c++/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 293, "user_id": 1949370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5D6MK.jpg?s=128&g=1", "display_name": "QuantumDot", "link": "https://stackoverflow.com/users/1949370/quantumdot"}, "edited": false, "score": 0, "creation_date": 1497439565, "post_id": 44543373, "comment_id": 76077303, "body": "Thank you for your detailed response, including tips on best practices!"}], "tags": [], "owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "is_accepted": true, "score": 1, "last_activity_date": 1497439978, "last_edit_date": 1497439978, "creation_date": 1497439362, "answer_id": 44543373, "question_id": 44533633, "link": "https://stackoverflow.com/questions/44533633/importing-interface-module-procedure-from-fortran-into-c/44543373#44543373", "title": "importing interface module procedure from fortran into C", "body": "<p>It looks like you are actually using C++. But first lets answer for C or C-style C++:</p>\n\n<p>No, you cannot do </p>\n\n<pre><code>extern \"C\" void __swapper_MOD_swap(double*, double*)\n</code></pre>\n\n<p>you cannot do it for three different types of arguments, you cannot do it even for a single type of arguments.</p>\n\n<p>There actually should not be any <code>__swapper_MOD_swap</code> in the library in the first place.</p>\n\n<p>What Fortran does is that it keeps an interface (which is just a description how to call something) for the three specific subroutines <code>swap_r, swap_i, swap_c</code> and lets you call it by name <code>swap</code>.</p>\n\n<p><strong>But there is NO actual subroutine <code>swap</code> in the module!!!</strong> Fortran will just let you call those three specifics under a different name, that's all.</p>\n\n<p>There is no way how to call those functions from C like a generic. <strong>C does not have this type of generics!</strong> (It does have some functions which operate on any type using <code>void*</code>).</p>\n\n<hr>\n\n<p>In C++ you can actually make generics which are specialized for different types and you can call the Fortran procedures as a generic, but you have to tell that to C++ yourself! You can make a template and manually specialize this template to call the appropriate <code>extern \"C\"</code> functions. </p>\n\n<p>For an example see my header <a href=\"https://github.com/LadaF/PoisFFT/blob/master/src/poisfft.h\" rel=\"nofollow noreferrer\">https://github.com/LadaF/PoisFFT/blob/master/src/poisfft.h</a> where I make a C++ class which is linked to an <code>extern \"C\" struct</code> and some <code>extern \"C\"</code> functions which are however all implemented in Fortran.</p>\n\n<hr>\n\n<p>Finally, DO NOT use the <code>__swapper_MOD_</code> symbols. Create some Fortran binding using <code>bind(C,name=\"some_name\")</code> and call <code>some_name</code> through <code>extern \"C\"</code>, because different Fortran compilers DO use different name mangling schemes.</p>\n"}], "owner": {"reputation": 293, "user_id": 1949370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5D6MK.jpg?s=128&g=1", "display_name": "QuantumDot", "link": "https://stackoverflow.com/users/1949370/quantumdot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 44543373, "answer_count": 1, "score": 0, "last_activity_date": 1497439978, "creation_date": 1497400927, "question_id": 44533633, "link": "https://stackoverflow.com/questions/44533633/importing-interface-module-procedure-from-fortran-into-c", "title": "importing interface module procedure from fortran into C", "body": "<p>How should I import a fortran <code>interface</code> into C using <code>extern</code>?</p>\n\n<p>Suppose I have the following fortran module:</p>\n\n<pre><code>!swapper module\nmodule swapper\n   interface swap\n      module procedure swap_r, swap_i, swap_c\n   end interface\ncontains\n    !subroutine implementations here:\n    !swap_r takes two double precision as argument\n    !swap_i takes two integers as argument\n    !swap_c takes two characters as argument\nend module swapper\n</code></pre>\n\n<p>Then can I just do in C, the following?</p>\n\n<pre><code>extern \"C\" void __swapper_MOD_swap(double*, double*)\nextern \"C\" void __swapper_MOD_swap(int*, int*)\nextern \"C\" void __swapper_MOD_swap(char*, char*)\n</code></pre>\n\n<p>Alternatively, if I promise to call <code>swap</code> with only double precision numbers, may I exclusively do this?</p>\n\n<pre><code>extern \"C\" void __swapper_MOD_swap(double*, double*)\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497396841, "post_id": 44533128, "comment_id": 76057820, "body": "<code>scanf(&quot;%s&quot;, s)</code> leaves the newline in the input; <code>scanf(&quot;%c&quot;, &amp;c)</code> reads the newline.  Use <code>scanf(&quot; %c&quot;, &amp;c)</code> instead.  Or do more drastic things like use <code>fgets()</code> to read lines and <code>sscanf()</code> to parse them."}, {"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 0, "creation_date": 1497397615, "post_id": 44533128, "comment_id": 76057997, "body": "<code>scanf(&quot;%d&quot;, &amp;option);</code> --&gt; <code>scanf(&quot;%d%*c&quot;, &amp;option);</code>"}, {"owner": {"reputation": 139, "user_id": 7936837, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh4.googleusercontent.com/-1eBsOtxnF_w/AAAAAAAAAAI/AAAAAAAAAZs/mxD3feWvrKY/photo.jpg?sz=128", "display_name": "Shay Doron", "link": "https://stackoverflow.com/users/7936837/shay-doron"}, "edited": false, "score": 0, "creation_date": 1497423803, "post_id": 44533128, "comment_id": 76066111, "body": "Can you please give an example for how I need to do it? Nothing works for me \ud83d\ude22\ud83d\ude22"}], "owner": {"reputation": 139, "user_id": 7936837, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh4.googleusercontent.com/-1eBsOtxnF_w/AAAAAAAAAAI/AAAAAAAAAZs/mxD3feWvrKY/photo.jpg?sz=128", "display_name": "Shay Doron", "link": "https://stackoverflow.com/users/7936837/shay-doron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "closed_date": 1497396874, "answer_count": 0, "score": 0, "last_activity_date": 1497423887, "creation_date": 1497396643, "last_edit_date": 1497423887, "question_id": 44533128, "link": "https://stackoverflow.com/questions/44533128/cant-get-string-and-than-char-from-user", "closed_reason": "Duplicate", "title": "can&#39;t get string and than char from user", "body": "<p>i'm trying to get input from user but when i typing more than one word it put something weird in \"c\" ( in case 1)\ni tried to replace scanf with fsacnf and fgets but nothing works! \nmy code is:</p>\n\n<pre><code>#define MAXSIZE 50\n\nint main()\n{\n    char s[MAXSIZE];\n    char t[MAXSIZE];\n    char c;\n    int len1;\n    int len2;\n    int sum = 0;\n    int res;\n\n\n    int option;\n    do\n    {\n\n        printf(\"\\n\\n1 : Check the number of occurrences in a string \\n\"); // printing the menu\n        printf(\"2 : Check if string A is subsequence of string B \\n\");\n        printf(\"3 : Reverse a string \\n\");\n        printf(\"4 : Sum of digits in string \\n\");\n        printf(\"5 : \\n\");\n        printf(\"6 : Quit\\n\");\n        printf(\"Enter your choice :\\n\");\n        scanf(\"%d\", &amp;option);\n        switch (option) //menu Implement\n        {\n        case 1:\n            printf(\"please insert a string\\n\");\n            scanf(\"%s\",s);\n            printf(\"please insert a char to find\\n\");\n            scanf(\" %c\", &amp;c); \n            res = cntAppearance(s, c);\n            printf(\"the char %c appears %d time in your string\\n\", c, res);\n            break;\n        case 2:\n            printf(\"Please insert string A\\n\");\n            fgets(s, MAXSIZE-1, stdin);\n            printf(\"Please insert string B\\n\");\n            fgets(t, MAXSIZE-1, stdin);\n            len1 = strlen(s);\n            len2 = strlen(t);\n            if (isSubSequence)\n                printf(\"String a is subsequence of string B\\n\");\n            else\n                printf(\"String a isn't subsequence of string B\\n\");\n            break;\n        case 3:\n            printf(\"Please insert string to reverse\\n\");\n            fgets(s, MAXSIZE-1, stdin);\n            RecReverse(s);\n\n            break;\n        case 4:\n            printf(\"Please insert string to check\\n\");\n            fgets(s, MAXSIZE-1, stdin);\n            len1 = strlen(s);\n            sum = DigInStringRec(s, len1, 0);\n            printf(\"The sum of digits in this string is:%d\\n\", sum);\n\n            break;\n        case 5:\n\n            break;\n        }\n    } while (option != 6);// exiting the program\n}\n</code></pre>\n\n<p>can someone please help me with that?</p>\n"}, {"tags": ["c", "mmap"], "comments": [{"owner": {"reputation": 20747, "user_id": 1233251, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cI9GF.png?s=128&g=1", "display_name": "E_net4 says don&#39;t copy that", "link": "https://stackoverflow.com/users/1233251/e-net4-says-dont-copy-that"}, "edited": false, "score": 2, "creation_date": 1497395433, "post_id": 44532891, "comment_id": 76057469, "body": "You cannot put the array (or anything) at address <code>0</code>. The documentation  on <code>mmap</code> says: &quot;If addr is NULL, then the kernel chooses the address at which to create the mapping;&quot;. One other issue is that you seem to intend to read bytes over a pointer to <code>uint16_t</code> (which is likely 2 bytes here)."}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 1, "creation_date": 1497395870, "post_id": 44532891, "comment_id": 76057574, "body": "<code>printf(&quot;%p\\n&quot;, (void *) &amp;ram);</code> here you are printing the address of the <code>ram</code> variable, likely allocated on the stack judging from the printed address. You probably want <code>printf(&quot;%p\\n&quot;, (void *) ram);</code>."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1497397122, "post_id": 44532891, "comment_id": 76057888, "body": "If you store the base address in a <code>uint16_t *</code>, then <code>ram[36]</code> addresses the bytes at offsets 72 and 73, not byte 36, because the size is in multiples of the size of the unit pointed at.  If it were an array of <code>int</code>, it would be annoying to have to write <code>array_of_int[offset*sizeof(int)]</code> to get the integer at offset.  C doesn&#39;t make you do that; you write <code>array_of_int[offset]</code> to get at the integer.  Similar comments apply to <code>uint16_t *</code>."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497397239, "post_id": 44532891, "comment_id": 76057915, "body": "Are you on macOS, by any chance?"}, {"owner": {"reputation": 313, "user_id": 6472208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc8bde1900fd9f0ca22c7c014fbabe50?s=128&d=identicon&r=PG&f=1", "display_name": "Davigor", "link": "https://stackoverflow.com/users/6472208/davigor"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497408265, "post_id": 44532891, "comment_id": 76060335, "body": "@JonathanLeffler no, Windows using a cloud-based ubuntu IDE."}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 6472208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc8bde1900fd9f0ca22c7c014fbabe50?s=128&d=identicon&r=PG&f=1", "display_name": "Davigor", "link": "https://stackoverflow.com/users/6472208/davigor"}, "edited": false, "score": 0, "creation_date": 1497408206, "post_id": 44533868, "comment_id": 76060312, "body": "Thanks, this clears up a lot. Still an issue though: I&#39;m getting <code>0x7ffff7ee1000</code> from <code>printf(&quot;%p\\n&quot;, (void*) ram)</code> , but  when I try to get the address of <code>ram[36]</code> via <code>printf(&quot;%p\\n&quot;, (void*) &amp;ram[36])</code>, I get <code>0x7ffff7ee1024</code>. Still not what I was expecting. This is after changing the type of ram to uint8_t*."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 313, "user_id": 6472208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc8bde1900fd9f0ca22c7c014fbabe50?s=128&d=identicon&r=PG&f=1", "display_name": "Davigor", "link": "https://stackoverflow.com/users/6472208/davigor"}, "edited": false, "score": 0, "creation_date": 1497408403, "post_id": 44533868, "comment_id": 76060384, "body": "@DavidMcGee: If the pointer is <code>uint8_t *</code>, then a base address <code>ram = 0x7FFFF7EE1000</code> means that <code>&amp;ram[36]</code> should be <code>0x7FFFF7EE1024</code> (since hex 24 == dec 36)."}], "tags": [], "owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "is_accepted": true, "score": 1, "last_activity_date": 1497402902, "creation_date": 1497402902, "answer_id": 44533868, "question_id": 44532891, "link": "https://stackoverflow.com/questions/44532891/mmapping-a-file-and-indexing-into-the-memory-for-read-write/44533868#44533868", "title": "mmapping a file and indexing into the memory for read/ write", "body": "<p>This</p>\n\n<pre><code>printf(\"%p\\n\", (void *) &amp;ram);\n</code></pre>\n\n<p>gives you the address of your local variable <code>ram</code> on the stack.  You want</p>\n\n<pre><code>printf(\"%p\\n\", (void *)ram);\n</code></pre>\n\n<p>to get the address of the ram you mmapped.  Also, since you declared <code>ram</code> as a <code>uint16_t</code>,  <code>ram[36]</code> will be the 36th<sup>1</sup> 16-bit word of the memory (bytes 72 and 73).</p>\n\n<hr>\n\n<p><sup>1</sup><sub>Counting from 0 of course</sub></p>\n"}], "owner": {"reputation": 313, "user_id": 6472208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc8bde1900fd9f0ca22c7c014fbabe50?s=128&d=identicon&r=PG&f=1", "display_name": "Davigor", "link": "https://stackoverflow.com/users/6472208/davigor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 44533868, "answer_count": 1, "score": 0, "last_activity_date": 1497402902, "creation_date": 1497394888, "question_id": 44532891, "link": "https://stackoverflow.com/questions/44532891/mmapping-a-file-and-indexing-into-the-memory-for-read-write", "title": "mmapping a file and indexing into the memory for read/ write", "body": "<p>I'm trying to model a basic CPU by mmapping a 1 MiB file, corresponding to the RAM size. I want to read/write this file. My confusion is that I thought I could just mmap my file, and then index into the memory chunk as if it were an array. I've seen a few examples online that have done as much. For example, given the snippet below:</p>\n\n<pre><code>int16_t ramD;\nif ( (ramD = open(\"ramMap.txt\", O_RDWR | O_CREAT, 1)) == -1)\n{\n    errx(EX_OSERR, \"RAM could not be initialized\");\n}\nuint16_t* ram = mmap(0, ram_bytes, PROT_READ | PROT_WRITE, MAP_SHARED, ramD, 0);\n</code></pre>\n\n<p>How would I access specific locations within this mmapped file for reading and writing? I thought it would be as simple as something like <code>ram[36]</code> which would give me access to the 36th byte offset from the pointer returned by mmap, but this doesn't seem to be the case. To test I did a <code>printf(\"%p\\n\", (void *) &amp;ram);</code> to see what address mmap was pointing to which gave me <code>0x7fffffffde18</code>, (which, by the way, is nowhere close to my specified mmap parameter 0). Meanwhile, <code>printf(\"%p\\n\", (void *) &amp;ram[36])</code> returns <code>0x7ffff7ee1048</code>. </p>\n\n<p>Is mmap not giving me memory in a linear chunk? What am I missing here?</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 5, "creation_date": 1497390737, "post_id": 44532172, "comment_id": 76056012, "body": "<code>init(struct pointer_struct *pointer, int nb)</code> uses a local variable <code>struct new_struct my_struct;</code> in <code>pointer-&gt;ptr = &amp;my_struct;</code> which is <i>pointless</i> (bad pun) after the function ends."}, {"owner": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497390905, "post_id": 44532172, "comment_id": 76056073, "body": "do you mean that the pointer <code>pointer.ptr</code>, which was given the value of the adress of this local variable, points to an adress in which <i>there was</i> a variable, which may not be here anymore because of the printf?"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 2, "creation_date": 1497391092, "post_id": 44532172, "comment_id": 76056147, "body": "<i>points to an adress in which there was a variable</i> Yes. <i>which may not be here anymore</i> Exactly. <i>because of the printf</i> No, not because of the printf. Because the function where the variable used to be has returned."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1497391105, "post_id": 44532172, "comment_id": 76056153, "body": "Compile with all warnings &amp; debug info, e.g. using <code>gcc -Wall -Wextra -g</code> with <a href=\"http://gcc.gnu.org/\" rel=\"nofollow noreferrer\">GCC</a>. Then <b>use the debugger <code>gdb</code></b> and <a href=\"http://valgrind.org/\" rel=\"nofollow noreferrer\">valgrind</a>"}], "answers": [{"comments": [{"owner": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "edited": false, "score": 0, "creation_date": 1497391194, "post_id": 44532230, "comment_id": 76056184, "body": "you said &quot;pointer.ptr is not valid so it&#39;s UB&quot;. pointer.ptr was assignated an adress. Even if the function that used this adress has finished, shouldn&#39;t the pointer always point to the adress, even though there may be anything in it?"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1497391287, "post_id": 44532230, "comment_id": 76056221, "body": "Function <code>init</code> does not assign any value to <code>struct pointer_struct *pointer</code>"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "reply_to_user": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "edited": false, "score": 0, "creation_date": 1497391298, "post_id": 44532230, "comment_id": 76056223, "body": "@nounoursnoir &quot;Even if the function that used this adress has finished, shouldn&#39;t the pointer always point to the adress, even though there may be anything in it?&quot;, no."}, {"owner": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1497391628, "post_id": 44532230, "comment_id": 76056330, "body": "@WeatherVane wut? how?"}, {"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "edited": false, "score": 1, "creation_date": 1497392437, "post_id": 44532230, "comment_id": 76056663, "body": "@Stargateur I&#39;d call that <i>dangerous behaviour</i>, it&#39;s a much better name. :)"}], "tags": [], "owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "is_accepted": false, "score": 4, "last_activity_date": 1504990167, "last_edit_date": 1504990167, "creation_date": 1497390885, "answer_id": 44532230, "question_id": 44532172, "link": "https://stackoverflow.com/questions/44532172/it-seems-like-a-printf-makes-my-program-bug/44532230#44532230", "title": "It seems like a printf makes my program bug", "body": "<p>You have an undefined behavior or UB, which is always A Bad Thing\u2122.</p>\n\n<pre><code>void init(struct pointer_struct *pointer, int nb)\n{\n    struct new_struct my_struct;\n    my_struct.i = nb;\n    my_struct.ptr = NULL;\n    pointer-&gt;ptr = &amp;my_struct;\n} // here my_struct lifetime is finish so pointer-&gt;ptr become invalid\n\nint main(void)\n{\n    struct pointer_struct pointer;\n    pointer.ptr = NULL;\n\n    init(&amp;pointer, 15);\n    printf(\"pointer.ptr = %p\\n\", pointer.ptr); // pointer.ptr is not valid so it's UB\n    printf(\"pointer.ptr-&gt;i = %d\\n\", pointer.ptr-&gt;i); // This is UB too\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "is_accepted": true, "score": 3, "last_activity_date": 1497391559, "creation_date": 1497391559, "answer_id": 44532370, "question_id": 44532172, "link": "https://stackoverflow.com/questions/44532172/it-seems-like-a-printf-makes-my-program-bug/44532370#44532370", "title": "It seems like a printf makes my program bug", "body": "<p>You initialize pointer.ptr with a local variable.</p>\n\n<pre><code>void init(struct pointer_struct *pointer, int nb)\n{\n    struct new_struct my_struct;\n    my_struct.i = nb;\n    my_struct.ptr = NULL;\n    pointer-&gt;ptr = &amp;my_struct; // MISTAKE!!!  my_struct is on the stack.\n                               // its memory space could be overwritten at \n                               // any time after the function returns.\n}\n</code></pre>\n\n<p>Later, in main</p>\n\n<pre><code>   printf(\"pointer.ptr = %p\\n\", pointer.ptr); // This call to printf uses the stack,\n                                             //  and overwrites the space used \n                                             //  by my_struct \n   printf(\"pointer.ptr-&gt;i = %d\\n\", pointer.ptr-&gt;i);\n</code></pre>\n"}], "owner": {"reputation": 571, "user_id": 7450836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69c0cbc84d95b5201e2f5999106119ca?s=128&d=identicon&r=PG&f=1", "display_name": "nounoursnoir", "link": "https://stackoverflow.com/users/7450836/nounoursnoir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "closed_date": 1497394986, "accepted_answer_id": 44532370, "answer_count": 2, "score": 1, "last_activity_date": 1504990167, "creation_date": 1497390639, "question_id": 44532172, "link": "https://stackoverflow.com/questions/44532172/it-seems-like-a-printf-makes-my-program-bug", "closed_reason": "Duplicate", "title": "It seems like a printf makes my program bug", "body": "<p>I am learning structures and linked-lists. However I am facing a problem that prevents me from debugging my program's bugs, since it comes, seemingly, from the function <code>printf</code>, which is what I use to debug the program.</p>\n\n<p>The following program works fine:</p>\n\n<pre><code>struct pointer_struct\n{\n    struct new_struct *ptr;\n};\n\nstruct new_struct\n{\n    int i;\n    struct new_struct *ptr;\n};\n\nvoid init(struct pointer_struct *pointer, int nb)\n{\n    struct new_struct my_struct;\n    my_struct.i = nb;\n    my_struct.ptr = NULL;\n    pointer-&gt;ptr = &amp;my_struct;\n}\n\nint main(void)\n{\n    struct pointer_struct pointer;\n    pointer.ptr = NULL;\n\n    init(&amp;pointer, 15);\n    //printf(\"pointer.ptr = %p\\n\", pointer.ptr);\n    printf(\"pointer.ptr-&gt;i = %d\\n\", pointer.ptr-&gt;i);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>pointer.ptr-&gt;i = 15\n</code></pre>\n\n<p>But as soon as I uncomment the commented line, <code>i</code> takes weird values. Here are some examples of outputs:</p>\n\n<pre><code>$./a.out\npointer.ptr = 0x7fffc6bcc650\npointer.ptr-&gt;i = -448723664\n$./a.out\npointer.ptr = 0x7fffd09ed480\npointer.ptr-&gt;i = 1218512176\n$./a.out\npointer.ptr = 0x7ffff630fa70\npointer.ptr-&gt;i = -1073674960\n</code></pre>\n\n<p>What is going wrong with <code>printf</code>?</p>\n"}, {"tags": ["c", "pointers", "struct"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497389423, "post_id": 44531866, "comment_id": 76055422, "body": "Don&#39;t cast the result of <code>malloc</code> &amp; friends!"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "reply_to_user": {"reputation": 6676, "user_id": 3716664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fN14n.png?s=128&g=1", "display_name": "tilz0R", "link": "https://stackoverflow.com/users/3716664/tilz0r"}, "edited": false, "score": 0, "creation_date": 1497389494, "post_id": 44531866, "comment_id": 76055457, "body": "@tilz0R This is funny."}, {"owner": {"reputation": 320781, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497389697, "post_id": 44531866, "comment_id": 76055564, "body": "Re &quot;<i>but i got error</i>&quot;, Please provide the error message!"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497389869, "post_id": 44531866, "comment_id": 76055652, "body": "<code>p1-&gt;p = (s**) malloc(10 * sizeof(s));</code> is suspicious.  I&#39;d expect <code>p1-&gt;p = malloc(10 * sizeof(s*));</code> or even better <code>p1-&gt;p = malloc(sizeof *(p1-&gt;p) * 10);</code>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497390418, "post_id": 44531866, "comment_id": 76055871, "body": "If you want a 2D array, use one. Much easier allocation/free. Something like <code>int **</code> is much more complicated to handle."}], "answers": [{"tags": [], "owner": {"reputation": 6676, "user_id": 3716664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fN14n.png?s=128&g=1", "display_name": "tilz0R", "link": "https://stackoverflow.com/users/3716664/tilz0r"}, "is_accepted": false, "score": 3, "last_activity_date": 1497389857, "last_edit_date": 1497389857, "creation_date": 1497389420, "answer_id": 44531891, "question_id": 44531866, "link": "https://stackoverflow.com/questions/44531866/how-to-index-struct-containing-a-pointer-to-pointer-for-struct-which-is-malloc-b/44531891#44531891", "title": "how to index struct containing a pointer to pointer for struct which is malloc block", "body": "<p>Address them with single pointer.</p>\n\n<pre><code>typedef struct y{\n    int top1;\n    s *p; //Single pointer only\n}z;\n\nz *p1;\np1 = malloc(sizeof(z)); //Don't cast...\np1-&gt;p = malloc(10 * sizeof(s));\n\n//And then:\np1-&gt;p[4].top;\n</code></pre>\n\n<hr>\n\n<p>If you still want double pointers, then:</p>\n\n<pre><code>typedef struct y{\n    int top1;\n    s **p;\n} z;\n\nz *p1;\nsize_t i;\n\np1 = malloc(sizeof(z)); //Create z structure object\np1-&gt;p = malloc(10 * sizeof(*p1-&gt;p)); //Create array of pointers to objects\n\n//Now fill that array with your objects\nfor (i = 0; i &lt; 10; i++) {\n    p1-&gt;p[i] = malloc(sizeof(*p1-&gt;p[i]));\n}\n\n//Now access to property as:\np1-&gt;p[4]-&gt;top; //Do something.\n</code></pre>\n\n<p>The second option is less preferable but depends on you, because doing single <code>malloc</code>for 10 objects in a row is more efficient than doing 10x times single object and 11th time for initializing base array of pointers.</p>\n"}, {"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 0, "last_activity_date": 1497390688, "last_edit_date": 1497390688, "creation_date": 1497390384, "answer_id": 44532107, "question_id": 44531866, "link": "https://stackoverflow.com/questions/44531866/how-to-index-struct-containing-a-pointer-to-pointer-for-struct-which-is-malloc-b/44532107#44532107", "title": "how to index struct containing a pointer to pointer for struct which is malloc block", "body": "<p>In <code>struct y{ ...; s **p }</code>, member <code>p</code> represents a pointer to a pointer to structure <code>s</code>, and not a pointer to structure <code>s</code>.\nSo <code>p1-&gt;p[4]</code> is a pointer to an <code>s</code>, not an <code>s</code> itself, so you cannot access member <code>top</code> with accessor <code>.</code>. To get around the compiler error, you would have to use accessor <code>-&gt;</code>, which dereferences the pointer value, but then you yield undefined behaviour at runtime, since the pointer value is not initialized.</p>\n\n<p>To solve the problem, you could either change the data type of <code>p</code> to <code>s *p</code> (as suggested by @tilz0R), or you could adapt your code to actually deal with pointers to pointers:</p>\n\n<pre><code>typedef struct t{\n    int top;\n    int value;\n}s;\n\ntypedef struct y{\n    int top1;\n    s **p;\n}z;\nz *p1;\n\nint main() {\n    p1 = malloc(sizeof(z));\n    p1-&gt;p = malloc(10 * sizeof(s*));\n    for (int i=0; i&lt;10; i++) {\n        p1-&gt;p[i] = malloc(sizeof(s));\n    }\n\n    p1-&gt;p[4]-&gt;top = 5;\n\n}\n</code></pre>\n\n<p>Note that pointers to pointers are more complicated to handle, as you need an extra step/loop to initialize the pointers and to free them later on. So actually I'd prefer the <code>s *p</code>-way; But sometimes pointers to pointers are more appropriate, e.g. if particular slots of the array shall remain \"empty\"; then you could set the respective pointer to <code>NULL</code>, which would not be possible in an array of struct objects.</p>\n"}], "owner": {"reputation": 17, "user_id": 5324900, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b75f5f15d7cc183464134634a8e10ef4?s=128&d=identicon&r=PG&f=1", "display_name": "noname", "link": "https://stackoverflow.com/users/5324900/noname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1497390688, "creation_date": 1497389331, "question_id": 44531866, "link": "https://stackoverflow.com/questions/44531866/how-to-index-struct-containing-a-pointer-to-pointer-for-struct-which-is-malloc-b", "title": "how to index struct containing a pointer to pointer for struct which is malloc block", "body": "<p>i am created a struct</p>\n\n<pre><code>typedef struct t{\n     int top;\n     int value;\n  }s;\n</code></pre>\n\n<p>and another structure</p>\n\n<pre><code>typedef struct y{\n      int top1;\n      s **p\n }z;\n  z *p1;\n</code></pre>\n\n<p>created a block by malloc</p>\n\n<pre><code>p1 = (z*) malloc(sizeof(z));\np1-&gt;p = (s**) malloc(10 * sizeof(s));\n</code></pre>\n\n<p>I tried with indexing the s structured block by</p>\n\n<pre><code>p1-&gt;p[4]-&gt;top;\n</code></pre>\n\n<p>but i got error. is there a way to index pointer to pointer type in C</p>\n"}, {"tags": ["c", "parallel-processing", "compiler-errors", "mpi", "pgi"], "comments": [{"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1497426067, "post_id": 44531777, "comment_id": 76067642, "body": "Do not just post a link to your whole code and an error message. Read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Demonstrate your attempts to solve the issue."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8003517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a67deaf74378c5ac0efdd1550e06551?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Munley", "link": "https://stackoverflow.com/users/8003517/chris-munley"}, "edited": false, "score": 0, "creation_date": 1497465782, "post_id": 44551381, "comment_id": 76095262, "body": "Awesome thank you, can&#39;t believe I missed that. I looked at the parameters so many times. You&#39;re a god."}], "tags": [], "owner": {"reputation": 3901, "user_id": 3204484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7Cc9.jpg?s=128&g=1", "display_name": "Mat Colgrove", "link": "https://stackoverflow.com/users/3204484/mat-colgrove"}, "is_accepted": true, "score": 0, "last_activity_date": 1497462264, "creation_date": 1497462264, "answer_id": 44551381, "question_id": 44531777, "link": "https://stackoverflow.com/questions/44531777/mpi-irecv-type-cast-required-error/44551381#44551381", "title": "MPI_Irecv type cast required error", "body": "<p>This is a compiler warning indicating that it's needed to implicitly cast a data type to another that is potentially unsafe.  In this case, it appears that you're passing in a reference to a MPI_Status variable to MPI_Irecv, where MPI_Irecv is expecting a reference to a MPI_Request variable.  </p>\n"}], "owner": {"reputation": 3, "user_id": 8003517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a67deaf74378c5ac0efdd1550e06551?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Munley", "link": "https://stackoverflow.com/users/8003517/chris-munley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 44551381, "answer_count": 1, "score": -1, "last_activity_date": 1497462264, "creation_date": 1497388888, "question_id": 44531777, "link": "https://stackoverflow.com/questions/44531777/mpi-irecv-type-cast-required-error", "title": "MPI_Irecv type cast required error", "body": "<p>My code can be found on my github:\n<a href=\"https://github.com/chrismunley/ParallelProgramming/tree/master\" rel=\"nofollow noreferrer\">https://github.com/chrismunley/ParallelProgramming/tree/master</a></p>\n\n<p>The error I get is:\nPGC-W-0095-Type cast required for this conversion (my_laplace.c: 112)\nPGC-W-0095-Type cast required for this conversion (my_laplace.c: 120)\nPGC/x86-64 Linux 17.5-0: compilation completed with warnings</p>\n\n<p>Anyone know what I am doing wrong with the Irecv? I think it has to do with the parameters. Thanks a lot!</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 2, "creation_date": 1497388953, "post_id": 44531759, "comment_id": 76055212, "body": "Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 9301, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1497389863, "post_id": 44531759, "comment_id": 76055648, "body": "Can you please show us how have you declared (and initialized) <code>Board</code>?"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497390178, "post_id": 44531759, "comment_id": 76055773, "body": "<code>if (row &lt;= 0 || row &gt;= board-&gt;num_rows + 1</code> looks like code is indexing the array starting at 1.  I&#39;d expect <code>if (row &lt; 0 || row &gt;= board-&gt;num_rows ...</code> as C arrays index starts at 0."}, {"owner": {"reputation": 9301, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 1, "creation_date": 1497390288, "post_id": 44531759, "comment_id": 76055823, "body": "Thanks for editing, but how have you allocated memory for <code>the_board</code>?"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1497390510, "post_id": 44531759, "comment_id": 76055915, "body": "<code>if (i == row &amp;&amp; j == col) { continue; }</code> is strange too"}, {"owner": {"reputation": 15, "user_id": 8157019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d34c7f9db6bcad6987ba45a2bdce33f?s=128&d=identicon&r=PG&f=1", "display_name": "mc2017", "link": "https://stackoverflow.com/users/8157019/mc2017"}, "reply_to_user": {"reputation": 9301, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1497390697, "post_id": 44531759, "comment_id": 76055993, "body": "@Bob, sorry I included that too now! Thanks!"}, {"owner": {"reputation": 15, "user_id": 8157019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d34c7f9db6bcad6987ba45a2bdce33f?s=128&d=identicon&r=PG&f=1", "display_name": "mc2017", "link": "https://stackoverflow.com/users/8157019/mc2017"}, "edited": false, "score": 0, "creation_date": 1497390768, "post_id": 44531759, "comment_id": 76056025, "body": "(i == row &amp;&amp; j == col) is so I only look at the tiles around of the current one"}, {"owner": {"reputation": 9301, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 1, "creation_date": 1497391828, "post_id": 44531759, "comment_id": 76056414, "body": "You are not allocating enough memory for the columns: <code>board-&gt;the_board[row] = malloc(board-&gt;num_cols * sizeof(Tile));</code> should be <code>board-&gt;the_board[row] = malloc((board-&gt;num_cols + 2)* sizeof(Tile));</code>"}, {"owner": {"reputation": 15, "user_id": 8157019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d34c7f9db6bcad6987ba45a2bdce33f?s=128&d=identicon&r=PG&f=1", "display_name": "mc2017", "link": "https://stackoverflow.com/users/8157019/mc2017"}, "reply_to_user": {"reputation": 9301, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1497392130, "post_id": 44531759, "comment_id": 76056539, "body": "@Bob__ Thank you so much!! That fixed it!"}, {"owner": {"reputation": 9301, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1497392280, "post_id": 44531759, "comment_id": 76056596, "body": "Not sure about the logic of your <code>RevealTiles</code> function too. I think that it should test if the tile is already visible and in that case return without further search."}, {"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "edited": false, "score": 0, "creation_date": 1497397446, "post_id": 44531759, "comment_id": 76057961, "body": "I don&#39;t understand your game plan.  Is your program playing the game and doing the guessing?  As it stands, making the functions to show the mine positions is going to be very difficult.  And in this game, there is the possibility of some uncertainty about the location of some mines only from the count of mines around.  Your tile struct should contain a mine bit, and a function should count the mines around it, you could cache that, but that&#39;s not absolutely necessary.  But you definitely need a mine bit per tile.  Hint: the entire tile struct can most definitely fit in only one byte."}], "answers": [{"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1497393777, "post_id": 44532695, "comment_id": 76057054, "body": "Similar comments apply to the number of rows allocated, too.  And then there&#39;s the interesting issue of indexing the negative row number \u2014 what&#39;s the value stored in the structure again?"}, {"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497394099, "post_id": 44532695, "comment_id": 76057132, "body": "It should be 2bits, with a visibility flag and a mine flag, but that is a totally different story.  I don&#39;t think the purpose of this site is to do others&#39; homework, though."}], "tags": [], "owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "is_accepted": true, "score": 2, "last_activity_date": 1497393559, "creation_date": 1497393559, "answer_id": 44532695, "question_id": 44531759, "link": "https://stackoverflow.com/questions/44531759/recursive-function-in-minesweeper/44532695#44532695", "title": "Recursive Function in Minesweeper", "body": "<p>From what I understand, you've been chasing this issue for a while and added a margin around the board, but this still doesn't work.  Maybe this hint will help you sort this out.  I don't think adding margins is a good idea, you should definitely try to do without but, hey, it's your app. </p>\n\n<p>including the margins, your board is a 2d array, indices [0..cols+2)[0..rows+2)</p>\n\n<p>So, you initial row allocation in CreateBoard() is wrong, your rows are too short by 2 units.</p>\n\n<pre><code>(Tile*)malloc(board-&gt;num_cols * sizeof(Tile));\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8157019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d34c7f9db6bcad6987ba45a2bdce33f?s=128&d=identicon&r=PG&f=1", "display_name": "mc2017", "link": "https://stackoverflow.com/users/8157019/mc2017"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "accepted_answer_id": 44532695, "answer_count": 1, "score": 1, "last_activity_date": 1497393559, "creation_date": 1497388811, "last_edit_date": 1497391212, "question_id": 44531759, "link": "https://stackoverflow.com/questions/44531759/recursive-function-in-minesweeper", "title": "Recursive Function in Minesweeper", "body": "<p>I'm currently working on coding the game of minesweeper for a school project, but I'm stuck on the part where we reveal the mine that the user wants and if it's a 0, reveal all the mines around it, and so on. I made my game board 2 rows and columns larger than what the actual user-specified game board size should be so that I have a border around it to count the number of mines around edge cases. (num_rows and num_cols are the dimensions that the board actually should be) </p>\n\n<pre><code>x x x x x x x   Quick illustration of what my board looks like.\nx . . . . . x   '.' in this picture represent tiles of the actual game \nx . . . . . x   board while 'x' is the border around it\nx . . . . . x\nx . . . . . x\nx x x x x x x\n</code></pre>\n\n<p>The code that I posted below always results in segmentation error. I think that it's a problem with when I run into the border. Anyone have any suggestions? Sorry if the code is really bad/hard to read. I'm a beginner to C and programming in general. Thanks in advance!</p>\n\n<pre><code>typedef struct Tile_struct {  //board struct definitions\n       int visibility;\n       int num_mines_around;\n    } Tile;\n\n\ntypedef struct Board_struct {\n   int num_rows;\n   int num_cols;\n   int num_mines;\n   Tile** the_board;\n} Board;\n\n//This is how I allocated memory for the board\nvoid CreateBoard(char** argv, Board* board) {\n\n   int row, col;\n\n   board-&gt;num_rows = atoi(argv[1]);\n   board-&gt;num_cols = atoi(argv[2]);\n   board-&gt;num_mines = atoi(argv[3]);\n\n   board-&gt;the_board = (Tile**)malloc(board-&gt;num_rows * sizeof(Tile*));\n\n   for (row = 0; row &lt; (board-&gt;num_rows) + 2; row++) {\n\n      board-&gt;the_board[row] = (Tile*)malloc(board-&gt;num_cols * \n      sizeof(Tile));\n\n      for (col = 0; col &lt; (board-&gt;num_cols) + 2; col++) {\n\n          board-&gt;the_board[row][col].visibility = 0;  //hide all tiles\n      }\n    }\n } \n\nvoid RevealTiles(Board* board, int row, int col) {    \n\n   int i, j;\n\n   if (row &lt;= 0 || row &gt;= board-&gt;num_rows + 1 || col &lt;= 0 || col &gt;= \nboard-&gt;num_cols + 1) {\n      return;\n   }\n   else if (board-&gt;the_board[row][col].num_mines_around != 0) { \n      board-&gt;the_board[row][col].visibility = 4;  //reveal that tile\n   }\n   else {\n      board-&gt;the_board[row][col].visibility = 4;\n      for (i = row - 1; i &lt;= row + 1; i++) {\n         for (j = col - 1; j &lt;= col + 1; j++) {\n            if (i == row &amp;&amp; j == col) {\n               continue;\n            }\n            RevealTiles(board, i, j);\n         }\n      }\n   }\n}\n</code></pre>\n"}, {"tags": ["c", "tree", "insert", "binary-tree"], "comments": [{"owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1497388493, "post_id": 44531620, "comment_id": 76054973, "body": "What does this condition  temp-&gt;data &lt; (*phead)-&gt;data mean? How is it related to the &quot;end of the list&quot;?"}, {"owner": {"reputation": 268334, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1497388602, "post_id": 44531620, "comment_id": 76055032, "body": "What error are you getting?"}, {"owner": {"reputation": 1518, "user_id": 2989411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9546f7c525de9829c89ea5801a78af11?s=128&d=identicon&r=PG", "display_name": "ArturFH", "link": "https://stackoverflow.com/users/2989411/arturfh"}, "edited": false, "score": 1, "creation_date": 1497389526, "post_id": 44531620, "comment_id": 76055474, "body": "You are asking about adding to the list, but code is about adding to the tree. There is no definition of <code>struct node</code>. Even after adding it, the code does not compile properly. Please fix compilation errors, they are meaningful here."}, {"owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "edited": false, "score": 0, "creation_date": 1497396495, "post_id": 44531620, "comment_id": 76057741, "body": "You should not do this recursively.  You will surely bust the stack if your list is huge."}], "answers": [{"comments": [{"owner": {"reputation": 1789, "user_id": 3980968, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FXI47.jpg?s=128&g=1", "display_name": "BlueStrat", "link": "https://stackoverflow.com/users/3980968/bluestrat"}, "edited": false, "score": 0, "creation_date": 1497414006, "post_id": 44531985, "comment_id": 76061752, "body": "Very clean and terse tree insertion code, plus 1 from me"}, {"owner": {"reputation": 268334, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1497439007, "post_id": 44531985, "comment_id": 76076874, "body": "Isn&#39;t this a problem? Your function will modify the original root pointer passed to it."}, {"owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 268334, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1497441542, "post_id": 44531985, "comment_id": 76078785, "body": "@Coldspeed Yes, it will modify the root in the case when the tree is empty and the pointer is equal to NULL. But it is not a problem. It is a solution."}, {"owner": {"reputation": 268334, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1497442929, "post_id": 44531985, "comment_id": 76079853, "body": "@VladfromMoscow and when it&#39;s not NULL, you still see it is updated inside the recursive case. So in a non-empty tree this will always make the root point to the leaf, or am I mistaken?"}, {"owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 268334, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1497443090, "post_id": 44531985, "comment_id": 76079967, "body": "@Coldspeed In the case  when the tree is not empty it is ( *phead )-&gt;pLeft and ( *phead )-&gt;pRight that are updated. because phead is set with the addresses of these nodes."}], "tags": [], "owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 1, "last_activity_date": 1497393039, "last_edit_date": 1497393039, "creation_date": 1497389823, "answer_id": 44531985, "question_id": 44531620, "link": "https://stackoverflow.com/questions/44531620/insert-single-linked-list-at-the-end-recursively-in-c/44531985#44531985", "title": "insert single linked list at the end recursively in c", "body": "<p>Your code is too complicated and as result has bugs. For example there are memory leaks.</p>\n\n<p>It seems you mean the following.</p>\n\n<pre><code>void insert_tail_Recursively( struct node **phead, int key )\n{\n    if ( *phead == NULL )\n    {\n        *phead = malloc( sizeof( struct node ) );\n        ( *phead )-&gt;data = key;\n        ( *phead )-&gt;pLeft = ( *phead )-&gt;pRight = NULL;\n    }\n    else\n    {\n        phead = key &lt; ( *phead )-&gt;data ? &amp;( *phead )-&gt;pLeft : &amp;( *phead )-&gt;pRight;\n        insert_tail_Recursively( phead, key );\n    }\n}  \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8042372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7156fd9681bc37e49e34c9ae1d6da84f?s=128&d=identicon&r=PG&f=1", "display_name": "isaac", "link": "https://stackoverflow.com/users/8042372/isaac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1497434268, "creation_date": 1497388164, "last_edit_date": 1497434268, "question_id": 44531620, "link": "https://stackoverflow.com/questions/44531620/insert-single-linked-list-at-the-end-recursively-in-c", "title": "insert single linked list at the end recursively in c", "body": "<p>Can anyone tell me what is wrong with my code?<br>\nI want to create non- return function <code>void</code> to insert a node at the end of linked list.</p>\n\n<pre><code>void insert_tail_Recursively(struct node **phead, int key) {\n  if (*phead == NULL) {\n    Node*temp = malloc(sizeof(Node));\n    temp-&gt;data = key;\n    temp-&gt;pLeft = temp-&gt;pRight = NULL;\n    *phead = temp;\n  } else {\n    Node*temp = malloc(sizeof(Node));\n    temp-&gt;data = key;\n    temp-&gt;pLeft = temp-&gt;pRight = NULL;\n\n    /* data more than root node data insert at right */\n    if ((temp-&gt;data &gt; (*phead)-&gt;data) &amp;&amp; ((*phead)-&gt;pRight != NULL)) \n      insert_tail_Recursively((*phead)-&gt;pRight, key);\n    else if ((temp-&gt;data &gt; (*phead)-&gt;data) &amp;&amp; ((*phead)-&gt;pRight == NULL)) {\n      (*phead)-&gt;pRight = temp;\n\n    }\n\n    /* data less than root node data insert at left */\n    else if ((temp-&gt;data &lt; (*phead)-&gt;data) &amp;&amp; ((*phead)-&gt;pLeft != NULL)) \n      insert_tail_Recursively((*phead)-&gt;pLeft, key);\n    else if ((temp-&gt;data &lt; (*phead)-&gt;data) &amp;&amp; ((*phead)-&gt;pLeft == NULL)) {\n      (*phead)-&gt;pLeft = temp;\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["c", "seek", "lseek"], "comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 3, "creation_date": 1497386352, "post_id": 44531045, "comment_id": 76053840, "body": "Did you check <code>fd</code> return from <code>open</code> to see if there was an error opening the file? You should always check for errors on your system call... just in case."}, {"owner": {"reputation": 27420, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 3, "creation_date": 1497386764, "post_id": 44531045, "comment_id": 76054040, "body": "What does <code>ls -l &#47;dev&#47;input&#47;js0</code> show?  Are you sure <code>&#47;dev&#47;input&#47;js0</code> is a seekable device?"}, {"owner": {"reputation": 41, "user_id": 8156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edc04477e55fecd2019f6259b592e169?s=128&d=identicon&r=PG&f=1", "display_name": "Dariooo", "link": "https://stackoverflow.com/users/8156843/dariooo"}, "reply_to_user": {"reputation": 27420, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1497387551, "post_id": 44531045, "comment_id": 76054516, "body": "@andrew I got this &quot;crw-rw-r--+ 1 root input 13, 0 giu 13 21:10 /dev/input/js0&quot; and I think giu stands for june (I&#39;m italian). What does seekable device mean? I&#39;m working on a file so I should be able to move across it in my opinion.  Sorry but I&#39;m not so expert with C, however thanks guys!"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 27420, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1497387561, "post_id": 44531045, "comment_id": 76054520, "body": "As @AndrewHenle implied, not all files are seekable.  Some can only be read sequentially, and a device file providing joystick events seems fairly likely to be in the unseekable category."}, {"owner": {"reputation": 41, "user_id": 8156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edc04477e55fecd2019f6259b592e169?s=128&d=identicon&r=PG&f=1", "display_name": "Dariooo", "link": "https://stackoverflow.com/users/8156843/dariooo"}, "edited": false, "score": 0, "creation_date": 1497387566, "post_id": 44531045, "comment_id": 76054526, "body": "@luker you&#39;re right, thanks, however opening wasn&#39;t a problem because I can read the file. My problem is that lseek isn&#39;t doing what I thought"}, {"owner": {"reputation": 41, "user_id": 8156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edc04477e55fecd2019f6259b592e169?s=128&d=identicon&r=PG&f=1", "display_name": "Dariooo", "link": "https://stackoverflow.com/users/8156843/dariooo"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1497387736, "post_id": 44531045, "comment_id": 76054607, "body": "Thanks @john! Any suggestion on how can I get last line? I don&#39;t get any other idea than reading line-by-line until I find some kind of EOF (is ther any EOF for unseekable files?)"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 8156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edc04477e55fecd2019f6259b592e169?s=128&d=identicon&r=PG&f=1", "display_name": "Dariooo", "link": "https://stackoverflow.com/users/8156843/dariooo"}, "edited": false, "score": 0, "creation_date": 1497422898, "post_id": 44532265, "comment_id": 76065582, "body": "Thank you very much @John, I really didn&#39;t have any idea of what was happening but now I have a complete map of what to do!  gonna try it as soon as possible"}, {"owner": {"reputation": 41, "user_id": 8156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edc04477e55fecd2019f6259b592e169?s=128&d=identicon&r=PG&f=1", "display_name": "Dariooo", "link": "https://stackoverflow.com/users/8156843/dariooo"}, "edited": false, "score": 0, "creation_date": 1497462872, "post_id": 44532265, "comment_id": 76093705, "body": "It works!! Thanks a lot @john! May I ask you another question? Do I have to close js0 at the end of the program or not? I didn&#39;t read it anywhere but I usually close every file I read"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 41, "user_id": 8156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edc04477e55fecd2019f6259b592e169?s=128&d=identicon&r=PG&f=1", "display_name": "Dariooo", "link": "https://stackoverflow.com/users/8156843/dariooo"}, "edited": false, "score": 0, "creation_date": 1497463239, "post_id": 44532265, "comment_id": 76093924, "body": "@Dariooo, it is a good habit to close every file as soon as your need for it is over, and I commend you for doing that.  In fact, however, whenever a process exits, all its remaining open file handles are automatically closed by the system.  Thus, you don&#39;t have to worry about badness ensuing if your program happens to crash or be forcibly terminated."}], "tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": true, "score": 4, "last_activity_date": 1497391057, "creation_date": 1497391057, "answer_id": 44532265, "question_id": 44531045, "link": "https://stackoverflow.com/questions/44531045/lseek-seek-end-not-working/44532265#44532265", "title": "Lseek SEEK_END not working?", "body": "<blockquote>\n  <p>why should this be an illegal seek?</p>\n</blockquote>\n\n<p>The file you are trying to read from is a character special file (that's what the 'c' in the first position of its mode string indicates) by which the kernel's joystick driver can communicate with userspace programs, such as yours.  Such files are like pipes -- not seekable.  Any attempt to seek to a different position in such a file will fail, and some <code>lseek()</code> implementations might fail even when the arguments correspond to zero net position change.  You can find more information about device files here: <a href=\"https://unix.stackexchange.com/questions/60034/what-are-character-special-and-block-special-files-in-a-unix-system\">What are character special and block special files in a unix system?</a></p>\n\n<p>In comments, you ask</p>\n\n<blockquote>\n  <p>Any suggestion on how can I get last line?</p>\n</blockquote>\n\n<p>, but that's unlikely to be what you actually want.  In a file such as this one that represents a communication channel, reaching the end of the file (so as to be able to recognize the last line) indicates that the channel has been closed and all data have been read from it.  No more data will <em>ever</em> be available via that file descriptor.  That won't happen in your case under ordinary circumstances.  And I doubt it is what you're hoping to observe.</p>\n\n<p>What I think you want is to discover the <em>most recent</em> event available from the joystick device, and that's conceptually easy: you read events from the device until a read blocks, or would do.  <a href=\"https://www.kernel.org/doc/Documentation/input/joystick-api.txt\" rel=\"nofollow noreferrer\">The Linux kernel documentation for the device you're using</a> has some suggestions for avoiding blocking indefinitely:</p>\n\n<ul>\n<li><p>Use <code>select()</code> to determine whether data are available from the device before attempting to read from it.</p></li>\n<li><p>Open the device in non-blocking mode (<em>i.e.</em> with option <code>O_NONBLOCK</code>), and be prepared for your <code>read()</code>s to fail (returning <code>-1</code>) with <code>errno</code> set to <code>EAGAIN</code>.</p></li>\n</ul>\n\n<p>Note that you should be checking the return value from <code>read()</code> in any case, and that there is at least one other failure mode that is not necessarily a genuine error (<code>EINTR</code>).  Do read <a href=\"http://man7.org/linux/man-pages/man2/read.2.html\" rel=\"nofollow noreferrer\">its manual page</a>, as well as those of the other functions you're using, for details such as these.</p>\n"}], "owner": {"reputation": 41, "user_id": 8156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edc04477e55fecd2019f6259b592e169?s=128&d=identicon&r=PG&f=1", "display_name": "Dariooo", "link": "https://stackoverflow.com/users/8156843/dariooo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1948, "favorite_count": 0, "accepted_answer_id": 44532265, "answer_count": 1, "score": 0, "last_activity_date": 1497391057, "creation_date": 1497386079, "question_id": 44531045, "link": "https://stackoverflow.com/questions/44531045/lseek-seek-end-not-working", "title": "Lseek SEEK_END not working?", "body": "<p>I'm working on a C program with joysticks and I'd like to get last event which is as the last line of js0 file. I'm trying to move my cursor before the last element but it doesn't seem working. Any idea why?</p>\n\n<pre><code>int fd = open (\"/dev/input/js0\", O_RDONLY);\nstruct js_event e;\nlseek(fd, -(sizeof(e)), SEEK_END);    \nread (fd, &amp;e, sizeof(e));\nswitch(e.type){\n    case JS_EVENT_BUTTON: printf(\"btn\\n\");\n    break;\n    case JS_EVENT_AXIS: printf(\"axes\\n\");\n    break;\n    default: printf(\"smth else\\n\");\n}\n</code></pre>\n\n<p>I'm sure the file I'm reading is at least (sizeof(e)) long. Lseek returns me -1 so I got errno and it was 29 - Illegal seek: why should this be an illegal seek? I get the same results even if I use 0 as offset</p>\n\n<pre><code>  lseek(fd, 0, SEEK_END)\n</code></pre>\n\n<p>I'm using last version Ubuntu,\nthanks for your help</p>\n"}, {"tags": ["c", "parsing"], "comments": [{"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 2, "creation_date": 1497385237, "post_id": 44530739, "comment_id": 76053267, "body": "<code>fscanf</code> does not distinguish lines, in fact most of its format specifiers ignore all whitespace. Try using <code>fgets</code> to read each line and then using a string splitting function."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1497385620, "post_id": 44530739, "comment_id": 76053473, "body": "...such as <code>strsep</code> or <code>strtok</code> and its derivatives, if you want to parse words."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497385816, "post_id": 44530739, "comment_id": 76053571, "body": "<code>fscanf (fp, &quot; %32[^ ,.\\t\\n]%*c&quot;, word)</code> skips <code>&#39;\\n&#39;</code> in various places:  Leading <code>&quot; &quot;</code> and maybe <code>&quot;*c&quot;</code>.  Use <code>fgets()</code> to read a <i>line</i>."}], "answers": [{"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1497390878, "post_id": 44531174, "comment_id": 76056065, "body": "But note <a href=\"http://stackoverflow.com/questions/3975236/how-to-use-sscanf-in-loops\">using <code>sscanf()</code> in a loop</a>."}, {"owner": {"reputation": 1829, "user_id": 4242097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1347add4ae303c0258a3db358ed77c55?s=128&d=identicon&r=PG", "display_name": "Parham Alvani", "link": "https://stackoverflow.com/users/4242097/parham-alvani"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1497395331, "post_id": 44531174, "comment_id": 76057441, "body": "Thanks, I added that. @JonathanLeffler"}], "tags": [], "owner": {"reputation": 1829, "user_id": 4242097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1347add4ae303c0258a3db358ed77c55?s=128&d=identicon&r=PG", "display_name": "Parham Alvani", "link": "https://stackoverflow.com/users/4242097/parham-alvani"}, "is_accepted": false, "score": 1, "last_activity_date": 1497395294, "last_edit_date": 1497395294, "creation_date": 1497386525, "answer_id": 44531174, "question_id": 44530739, "link": "https://stackoverflow.com/questions/44530739/when-using-fscanf-to-parse-words-how-can-i-check-when-i-skipped-a-line/44531174#44531174", "title": "When using fscanf to parse words, how can I check when I skipped a line", "body": "<p>Read lines with <code>fgets()</code> and then parse them using <code>sscanf</code>:</p>\n\n<pre><code>char buff[1024];\nint lineno = 0;\nint offset = 0;\nwhile (fgets(buff, 1024, fp)) {\n    lineno++;\n    offset = 0;\n    while (sscanf(buff + offset, \" %32[^ ,.\\t\\n]%*c\", word) == 1)\n    {\n    /* manipulate the text word by word */\n\n    }\n}\n</code></pre>\n\n<p>In second loop you must increase buffer offset appropriately in order to parse line correctly. for this you can use <code>%n</code> for example in order to get read bytes.</p>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 4, "last_activity_date": 1497392289, "creation_date": 1497392289, "answer_id": 44532486, "question_id": 44530739, "link": "https://stackoverflow.com/questions/44530739/when-using-fscanf-to-parse-words-how-can-i-check-when-i-skipped-a-line/44532486#44532486", "title": "When using fscanf to parse words, how can I check when I skipped a line", "body": "<p>The soundest advice is to use <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/fgets.html\" rel=\"nofollow noreferrer\"><code>fgets()</code></a> or perhaps POSIX \n<a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/getline.html\" rel=\"nofollow noreferrer\"><code>getline()</code></a> to read lines and then consider using \n<a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/sscanf.html\" rel=\"nofollow noreferrer\"><code>sscanf()</code></a> to parse each line.  You will probably need to consider <a href=\"http://stackoverflow.com/questions/3975236/how-to-use-sscanf-in-loops\">how to use <code>sscanf()</code> in a loop</a>.  There are also numerous other options for parsing the line instead of <code>sscanf()</code>, such as <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/strtok_r.html\" rel=\"nofollow noreferrer\"><code>strtok_r()</code></a> or the less desirable <code>strtok()</code> \u2014 or, on Windows, <a href=\"https://msdn.microsoft.com/en-us/library/ftsafwz3.aspx\" rel=\"nofollow noreferrer\"><code>strtok_s()</code></a>;\n<a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/strspn.html\" rel=\"nofollow noreferrer\"><code>strspn()</code></a>,\n<a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/strcspn.html\" rel=\"nofollow noreferrer\"><code>strcspn()</code></a>,\n<a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/strpbrk.html\" rel=\"nofollow noreferrer\"><code>strpbrk()</code></a>; and other functions that are not as standardized.</p>\n\n<p>If you feel you must use <code>fscanf()</code>, then you probably need to capture the trailing context.  A simple version of that would be:</p>\n\n<pre><code>char c;\nwhile (fscanf(fp, \" %32[^ ,.\\t\\n]%c\", word, &amp;c) == 2)\n    \u2026\n</code></pre>\n\n<p>This captures the character after the word, assuming there is one.  If your file doesn't end with a newline, it is possible a word will be lost.  It's also rather too easy to miss a newline.  For example, if the line ends with a full stop (period) before the newline, then <code>c</code> will hold the <code>.</code> and the newline will be skipped by the next iteration of the loop.  You could overcome that with:</p>\n\n<pre><code>char s[33];\nwhile (fscanf(fp, \" %32[^ ,.\\t\\n]%32[ ,.\\t\\n]\", word, s) == 2)\n    \u2026\n</code></pre>\n\n<p>Note that the length in the format string must be one less than the length in the variable declaration!</p>\n\n<p>After a successful call to <code>fscanf()</code>, the string <code>s</code> could contain multiple newlines and blanks and so on.  The <code>fscanf()</code> functions mostly don't care about newlines, and the scan set for <code>s</code> would read multiple newlines in a row if that's what's in the data file.</p>\n\n<p>If you explicitly capture the status from <code>fscanf()</code>, you can be more sensitive to files that end without a newline (or a punctuation character), or that cause other problems:</p>\n\n<pre><code>char s[33];\nint rc;\nwhile ((rc = fscanf(fp, \" %32[^ ,.\\t\\n]%32[ ,.\\t\\n]\", word, s)) != EOF)\n{\n    switch (rc)\n    {\n    case 2:\n        \u2026proceed as normal, checking s for newlines.\n        break;\n    case 1:\n        \u2026probably an overlong word or EOF without a newline.\n        break;\n    case 0:\n        \u2026probably means the next character is one of comma or dot.\n        \u2026spaces, tabs, newlines will be skipped without detection\n        \u2026by the leading space in the format string.\n        break;\n    default:\n        assert(0);\n        break;\n    }\n}\n</code></pre>\n\n<p>If you start to care about <code>!</code>, <code>?</code>, <code>;</code>, <code>:</code>, <code>'</code> or <code>\"</code> characters \u2014 not to mention <code>(</code> and <code>)</code> \u2014 life gets more complex still.  In fact, at that point, the alternatives to <code>sscanf()</code> start looking much better.</p>\n\n<p>It is very hard to use the <code>scanf()</code> family of functions correctly.  They're anything but tools for the novice, at least once you start needing to do anything complex.  You could look at <a href=\"http://sekrit.de/webdocs/c/beginners-guide-away-from-scanf.html\" rel=\"nofollow noreferrer\">A beginner's guide to <em>not</em> using <code>scanf()</code></a>, which contains much valuable information.  I'm not wholly convinced by the last couple of examples which are supposed to be bomb-proof uses of <code>scanf()</code>.  (It is a little easier to use <code>sscanf()</code> correctly, but you still need to understand what you're up to in detail.)</p>\n"}], "owner": {"reputation": 3, "user_id": 8156748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e91da7a7e191cf56838d38ce4ff5d99?s=128&d=identicon&r=PG&f=1", "display_name": "John Kerry ", "link": "https://stackoverflow.com/users/8156748/john-kerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 44532486, "answer_count": 2, "score": 0, "last_activity_date": 1567025430, "creation_date": 1497385025, "last_edit_date": 1567025430, "question_id": 44530739, "link": "https://stackoverflow.com/questions/44530739/when-using-fscanf-to-parse-words-how-can-i-check-when-i-skipped-a-line", "title": "When using fscanf to parse words, how can I check when I skipped a line", "body": "<p>I'm working on a program that reads text from a file and parses the text to words and manipulates them. I'm parsing with fscanf like that </p>\n\n<pre><code>while (fscanf (fp, \" %32[^ ,.\\t\\n]%*c\", word) == 1)    \n{\n    /*manipulate the text word by word */\n    \u2026\n}\n</code></pre>\n\n<p>I wanna write next to each word that I find in which line I found it.  </p>\n\n<p>Is there a way that I can check when I moved down a line<br>\nwhen using the function <code>fscanf</code>? </p>\n"}, {"tags": ["c", "linear-algebra", "lapack", "blas"], "comments": [{"owner": {"reputation": 6827, "user_id": 3501546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zzZH7.jpg?s=128&g=1", "display_name": "roygvib", "link": "https://stackoverflow.com/users/3501546/roygvib"}, "edited": false, "score": 0, "creation_date": 1497415674, "post_id": 44530614, "comment_id": 76062316, "body": "The last element of &#39;a&#39; is set to &quot;(complex){r:6,  i:0}&quot; but different from the first equation in the question..?"}], "answers": [{"tags": [], "owner": {"reputation": 8727, "user_id": 2999346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dQ1wB.png?s=128&g=1", "display_name": "francis", "link": "https://stackoverflow.com/users/2999346/francis"}, "is_accepted": true, "score": 1, "last_activity_date": 1497992305, "creation_date": 1497992305, "answer_id": 44662886, "question_id": 44530614, "link": "https://stackoverflow.com/questions/44530614/blas-matrix-vector-multiplication-vs-vector-matrix-multiplication-one-works-th/44662886#44662886", "title": "BLAS matrix-vector multiplication vs vector-matrix multiplication. One works; the other fails", "body": "<p>Since a 2 vector is multiplied by a 2x2 matrix, performing the operation using a <a href=\"https://en.wikipedia.org/wiki/Pen\" rel=\"nofollow noreferrer\">pen</a> and a piece of <a href=\"https://en.wikipedia.org/wiki/Paper\" rel=\"nofollow noreferrer\">paper</a> is not too complex. If the transposed matrix is used:</p>\n\n<p>(4+i)*(3+2i)+(14+3i)*2=38+17i</p>\n\n<p>Curiously:</p>\n\n<p>(4-i)*(3+2i)+(14-3i)*2=42-i</p>\n\n<p>So the output of MATLAB is likely the output obtained by using the <a href=\"https://fr.mathworks.com/help/matlab/ref/ctranspose.html?requestedDomain=www.mathworks.com\" rel=\"nofollow noreferrer\">complex conjugate transpose</a>. The same output can be produced by BLAS if the <code>TRANS</code> parameter of <a href=\"https://www.math.utah.edu/software/lapack/lapack-blas/cgemv.html\" rel=\"nofollow noreferrer\"><code>cgemv_</code></a> is set to <code>'C'</code>.</p>\n\n<p>Here is a sample code based on ours showing what BLAS really computes for the different values of <code>TRANS</code>. It can be computed by <code>gcc main.c -o main -lblas -Wall</code>.</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n\n#include &lt;complex.h&gt;\n\n\nextern int cgemv_(char* trans, int * m, int * n, float complex* alpha, float complex* A, int * lda,float complex * x, int* incx, float complex * beta, float complex * y,int* incy);\n\nint main(void) {\n\n    /* config variables */\n    char normal = 'N';\n    char transpose = 'T';\n    char ctranspose = 'C';\n    int m = 2;\n    float complex alpha = 1.0+0.*I;\n    float complex beta = 0.0+0.*I;\n    int one = 1;\n    /* data buffers */\n    float complex a[4]= {4+1.*I,14+3.*I,3.+0.*I,6.+0.*I};\n    float complex x[2] = {3.+2.*I,2+0.*I};\n    float complex y[2];\n    /* execution */\n\n    float complex ye[2];\n    ye[0]=a[0]*x[0]+a[2]*x[1];\n    ye[1]=a[1]*x[0]+a[3]*x[1];\n\n    cgemv_(&amp;normal, &amp;m, &amp;m, &amp;alpha, &amp;a[0], &amp;m, &amp;x[0], &amp;one, &amp;beta, &amp;y[0], &amp;one);\n\n    printf(\"N\\n\");\n    printf(\"y[0]=%2.6f + %2.6f I expected %6f + %6f I\\n\",creal(y[0]),cimag(y[0]),creal(ye[0]),cimag(ye[0])); \n    printf(\"y[1]=%2.6f + %2.6f I expected %6f + %6f I\\n\",creal(y[1]),cimag(y[1]),creal(ye[1]),cimag(ye[1])); \n\n    //float complex ye[2];\n    ye[0]=a[0]*x[0]+a[1]*x[1];\n    ye[1]=a[2]*x[0]+a[3]*x[1];\n\n    cgemv_(&amp;transpose, &amp;m, &amp;m, &amp;alpha, &amp;a[0], &amp;m, &amp;x[0], &amp;one, &amp;beta, &amp;y[0], &amp;one);\n\n    printf(\"T\\n\");\n    printf(\"y[0]=%2.6f + %2.6f I expected %6f + %6f I\\n\",creal(y[0]),cimag(y[0]),creal(ye[0]),cimag(ye[0])); \n    printf(\"y[1]=%2.6f + %2.6f I expected %6f + %6f I\\n\",creal(y[1]),cimag(y[1]),creal(ye[1]),cimag(ye[1]));  \n\n    ye[0]=conj(a[0])*x[0]+conj(a[1])*x[1];\n    ye[1]=conj(a[2])*x[0]+conj(a[3])*x[1];\n\n    cgemv_(&amp;ctranspose, &amp;m, &amp;m, &amp;alpha, &amp;a[0], &amp;m, &amp;x[0], &amp;one, &amp;beta, &amp;y[0], &amp;one);\n\n    printf(\"C\\n\");\n    printf(\"y[0]=%2.6f + %2.6f I expected %6f + %6f I\\n\",creal(y[0]),cimag(y[0]),creal(ye[0]),cimag(ye[0])); \n    printf(\"y[1]=%2.6f + %2.6f I expected %6f + %6f I\\n\",creal(y[1]),cimag(y[1]),creal(ye[1]),cimag(ye[1]));  \n\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 23653, "user_id": 507721, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/44a20d8ea4197f1fc5022894c053f174?s=128&d=identicon&r=PG", "display_name": "JellicleCat", "link": "https://stackoverflow.com/users/507721/jelliclecat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 0, "accepted_answer_id": 44662886, "answer_count": 1, "score": 1, "last_activity_date": 1497992305, "creation_date": 1497384518, "question_id": 44530614, "link": "https://stackoverflow.com/questions/44530614/blas-matrix-vector-multiplication-vs-vector-matrix-multiplication-one-works-th", "title": "BLAS matrix-vector multiplication vs vector-matrix multiplication. One works; the other fails", "body": "<p>I succeed in matrix-vector multiplication when working with <code>cgemv</code> a BLAS lvl 2 function in Lapack, but when I try the transpose, I get a wrong answer. Can you instruct me in my error? (I'm actually using the C wrapper, not FORTRAN.)</p>\n\n<p>I'm attempting</p>\n\n<pre><code>| 4+i    3 |   | 3+2i |          | 4+i    3 |^T   | 3+2i |\n| 14+3i  2 | * | 2    |  (AND)   | 14+3i  2 |   * | 2    |\n</code></pre>\n\n<p>To be clear, the first one succeeds. The second one gives incorrect output.</p>\n\n<pre><code>/* config variables */\nchar normal = 'N';\nchar transpose = 'T';\ninteger m = 2;\ncomplex alpha = {r:1,i:0};\ncomplex beta = {r:0,i:0};\ninteger one = 1;\n/* data buffers */\ncomplex a[4] = {(complex){r:4,  i:1},(complex){r:14, i:3},(complex){r:3,  i:0},(complex){r:6,  i:0}};\ncomplex x[2] = {(complex){r:3, i:2},(complex){r:2, i:0}};\ncomplex y[2];\n/* execution */\ncgemv_(&amp;normal, &amp;m, &amp;m, &amp;alpha, &amp;a[0], &amp;m, &amp;x[0], &amp;one, &amp;beta, &amp;y[0], &amp;one);\ncgemv_(&amp;transpose, &amp;m, &amp;m, &amp;alpha, &amp;a[0], &amp;m, &amp;x[0], &amp;one, &amp;beta, &amp;y[0], &amp;one);\n</code></pre>\n\n<p>After the first <code>cgemv_</code> call, <code>y</code> holds <code>16.0000+11.0000i  48.0000+37.0000i</code>, which MATLAB confirms to be correct.</p>\n\n<p>But after the second <code>cgemv_</code> call, <code>y</code> holds <code>38.0000+17.0000i 21.0000+6.0000i</code>, whereas MATLAB says it should be <code>42.0000-1.0000i 21.0000+6.0000i</code>. I've no idea what could be awry.</p>\n"}, {"tags": ["c", "pointers", "linked-list"], "comments": [{"owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497384767, "post_id": 44530609, "comment_id": 76053045, "body": "just added the whole code"}, {"owner": {"reputation": 1518, "user_id": 2989411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9546f7c525de9829c89ea5801a78af11?s=128&d=identicon&r=PG", "display_name": "ArturFH", "link": "https://stackoverflow.com/users/2989411/arturfh"}, "edited": false, "score": 0, "creation_date": 1497384955, "post_id": 44530609, "comment_id": 76053154, "body": "Try to answer for yourself following questions. What <code>thead==NULL</code> condition means in this scope? What <code>thead-&gt;next==NULL</code> condition means in this scope?"}, {"owner": {"reputation": 12292, "user_id": 1990169, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ohZfn.jpg?s=128&g=1", "display_name": "Abhishek Bansal", "link": "https://stackoverflow.com/users/1990169/abhishek-bansal"}, "edited": false, "score": 1, "creation_date": 1497384960, "post_id": 44530609, "comment_id": 76053157, "body": "If thread equals NULL then thread-&gt;next = temp tries to dereference a NULL pointer."}, {"owner": {"reputation": 1518, "user_id": 2989411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9546f7c525de9829c89ea5801a78af11?s=128&d=identicon&r=PG", "display_name": "ArturFH", "link": "https://stackoverflow.com/users/2989411/arturfh"}, "reply_to_user": {"reputation": 12292, "user_id": 1990169, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ohZfn.jpg?s=128&g=1", "display_name": "Abhishek Bansal", "link": "https://stackoverflow.com/users/1990169/abhishek-bansal"}, "edited": false, "score": 0, "creation_date": 1497385094, "post_id": 44530609, "comment_id": 76053213, "body": "@AbhishekBansal Is the condition you have mentioned possible in this algorithm?"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497385276, "post_id": 44530609, "comment_id": 76053284, "body": "If code uses <code>while(thead != NULL) { ... }</code>, than after the loop, what should get set to <code>temp</code>?   What needs to get set to <code>temp</code> is some <code>.next</code> member, but of what pointer?"}, {"owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "reply_to_user": {"reputation": 1518, "user_id": 2989411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9546f7c525de9829c89ea5801a78af11?s=128&d=identicon&r=PG", "display_name": "ArturFH", "link": "https://stackoverflow.com/users/2989411/arturfh"}, "edited": false, "score": 0, "creation_date": 1497385441, "post_id": 44530609, "comment_id": 76053394, "body": "@ArturR.Czechowski, if u saw the diagram  can u answer the 3rd and last question at the end?"}, {"owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497385545, "post_id": 44530609, "comment_id": 76053441, "body": "@chux cud u elaborate ?"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1497385598, "post_id": 44530609, "comment_id": 76053462, "body": "A key difference between <code>insert()</code> and <code>print()</code> is that the first alters the list, and the 2nd does not.   To alter the list, the node address needs to be remembered and not just the <code>.next</code> member."}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "edited": false, "score": 0, "creation_date": 1497386386, "post_id": 44531098, "comment_id": 76053853, "body": "can u answer the last 3 questions so i can have some more clarity ?"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "edited": false, "score": 0, "creation_date": 1497386993, "post_id": 44531098, "comment_id": 76054168, "body": "@Shaurya Why did you code <code>struct node *temp=(struct node *)malloc(sizeof(struct node));</code> instead of a more simple <code>struct node *temp=malloc(sizeof(struct node));</code> or even better <code>struct node *temp =  malloc(sizeof *temp);</code>?  The last being preferred."}, {"owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "edited": false, "score": 0, "creation_date": 1497387340, "post_id": 44531098, "comment_id": 76054381, "body": "malloc returns a void pointer meaning memory has been allocated but not associated with any data type. So actually here i am doing type casting to user generated data type which is (struct node*)."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "edited": false, "score": 0, "creation_date": 1497387541, "post_id": 44531098, "comment_id": 76054511, "body": "@Shaurya C does not need the cast to work - it is unnnessary.  Use <code>struct node *temp=(struct node *)malloc(sizeof(struct node));</code> if <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">WET</a>.  Use <code>struct node *temp = malloc(sizeof *temp);</code> if <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRY</a>"}, {"owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "edited": false, "score": 0, "creation_date": 1497387824, "post_id": 44531098, "comment_id": 76054643, "body": "[Error] invalid conversion from &#39;void*&#39; to &#39;node*&#39; [-fpermissive] Implementing what u suggest gives this error in dev c++."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "edited": false, "score": 0, "creation_date": 1497388354, "post_id": 44531098, "comment_id": 76054917, "body": "This post is C and my comments apply to C.  You are compiling using a different language:  <a href=\"https://stackoverflow.com/a/5099675/2410359\">example</a>.  Use a C compiler for C code."}], "tags": [], "owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1497386912, "last_edit_date": 1497386912, "creation_date": 1497386266, "answer_id": 44531098, "question_id": 44530609, "link": "https://stackoverflow.com/questions/44530609/difference-between-linked-list-traversal-whilethead-null-and-whilethea/44531098#44531098", "title": "Difference between linked list traversal **while(thead != NULL)** and while(thead-&gt;next !=NULL)", "body": "<p>With <code>print()</code>, code does not need to remember the last node address after the loop</p>\n\n<pre><code>temp=head;\nwhile(temp!=NULL) {\n    printf(\"%d\",temp-&gt;data);\n    temp=temp-&gt;next;\n}\n// temp == NULL at this point and code does not care what the last node was.\n</code></pre>\n\n<p>With <code>insert()</code>, code does need to remember the last node address after the loop.</p>\n\n<pre><code>// First handle special case where the head of the list is NULL\n// otherwise ....\nwhile(thead-&gt;next!=NULL) {\n    thead = thead-&gt;next;  \n}\n// temp-&gt;next == NULL at this point\n// Code can use `thead` to access the last node's members.\nthead-&gt;next = temp;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Is head node the first node which contains both data and address or does it just stores addresses like in the diagram above?</p>\n</blockquote>\n\n<p><code>struct node *head</code> is a pointer.  When <code>head != NULL</code>, it pointer the the frist node which contains data and a next pointer.</p>\n\n<blockquote>\n  <p>if the head node is only a pointer which stores address then how are we able access thead->next ?</p>\n</blockquote>\n\n<p><code>thead</code> is initialized with <code>head</code>.  By de-referencing <code>thead</code>, code has access to that node's members including <code>.next</code>.</p>\n\n<blockquote>\n  <p>when is a pointer to a structure NULL?</p>\n</blockquote>\n\n<p>Question is unclear.  A pointer to a <code>struct</code> is <code>NULL</code> when it has a value equal to <code>NULL</code>.  This is usually as the end in the linked-list code employs.</p>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "is_accepted": false, "score": 1, "last_activity_date": 1498656087, "creation_date": 1498656087, "answer_id": 44803739, "question_id": 44530609, "link": "https://stackoverflow.com/questions/44530609/difference-between-linked-list-traversal-whilethead-null-and-whilethea/44803739#44803739", "title": "Difference between linked list traversal **while(thead != NULL)** and while(thead-&gt;next !=NULL)", "body": "<p>Now since I have actually understood....for those who are still stuck I am writing this....</p>\n\n<p>When I use (thead!=NULL) the thead pointer actually points to each and every element in the list.When it reaches the last element,it still traverses to the next element which is NULL unlike (thead->next!=NULL) which stops at the last element of the linked list.</p>\n\n<p>In case of print we need to print all the values in the list so we use while(thead!=NULL) as we need to print the last element too.For traversing we simply need to make the pointer point towards the last node so we can stop at it and not traverse till we reach the NULL pointer.</p>\n\n<p>We cant dereference NULL and so there was an error.</p>\n"}], "owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 1, "accepted_answer_id": 44531098, "answer_count": 2, "score": 3, "last_activity_date": 1498656087, "creation_date": 1497384500, "last_edit_date": 1497385255, "question_id": 44530609, "link": "https://stackoverflow.com/questions/44530609/difference-between-linked-list-traversal-whilethead-null-and-whilethea", "title": "Difference between linked list traversal **while(thead != NULL)** and while(thead-&gt;next !=NULL)", "body": "<p>Can anyone tell me what is the difference between <strong>while(thead != NULL)</strong> and <strong>while(thead->next !=NULL)</strong> because for traversing the list <strong>thead != NULL</strong> is not working while <strong>thead->next</strong> works. \nAccording to my understanding head node is just a pointer to the starting node and not the the starting node itself.<br>\n<a href=\"https://i.stack.imgur.com/2oRQD.png\" rel=\"nofollow noreferrer\">See this if u have doubt</a>.Here head just stores address.</p>\n\n<p>//thead means temp head variable to store the address head points to.<br>\nThis is the code for insertion.         </p>\n\n<pre><code>#include&lt;stdio.h&gt;\n#include&lt;malloc.h&gt;\n#include&lt;stdlib.h&gt;\n\nstruct node\n{\n    int data;\n    struct node *next;\n};\nstruct node *head;\nvoid insert(int x)\n{\n    struct node *temp=(struct node *)malloc(sizeof(struct node));   \n    temp-&gt;data=x;   \n    temp-&gt;next=NULL;   \n    if(head==NULL)     \n    {     \n         head=temp;    \n    }\n    else\n    {\n        struct node * thead;\n        thead=head;  \n        while(thead-&gt;next!=NULL)\n        {\n            thead=thead-&gt;next;  \n        }\n        thead-&gt;next=temp;\n    }\n}\n\nvoid print()\n{\n    struct node *temp;\n    temp=head;\n    while(temp!=NULL)\n    {\n\n        printf(\"%d\",temp-&gt;data);\n            temp=temp-&gt;next;\n    }\n}\nint main()\n{\n    head=NULL;\n    int i,n,x;\n    printf(\"enter number of nodes\");\n    scanf(\"%d\",&amp;n);\n    for(i=0;i&lt;n;i++)\n    {\n        printf(\"enter no\");\n        scanf(\"%d\",&amp;x);\n        insert(x);\n    }\n    print();\n}\n</code></pre>\n\n<p><strong>If we replace thead ->next != NULL by thead !=NULL then dev c++ stops working.Vice versa happens in the printf for traversal ...</strong> </p>\n\n<p>So can someone answer the difference between the above two?     </p>\n\n<p>Also,Is head node the first node which contains both data and address or does it just stores addresses like in the diagram above?    </p>\n\n<p>Also if the head node is only a pointer which stores address then how are we able access thead->next ?     </p>\n\n<p>And when is a pointer to a structure NULL?     </p>\n\n<p>Thanks</p>\n"}, {"tags": ["c", "codeblocks", "undefined-reference"], "answers": [{"tags": [], "owner": {"reputation": 997, "user_id": 2316442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79835deee85102915684418bc897191a?s=128&d=identicon&r=PG", "display_name": "Ho1", "link": "https://stackoverflow.com/users/2316442/ho1"}, "is_accepted": false, "score": 0, "last_activity_date": 1497387780, "creation_date": 1497387780, "answer_id": 44531536, "question_id": 44530515, "link": "https://stackoverflow.com/questions/44530515/different-errors-compiling-c-using-codeblocks/44531536#44531536", "title": "Different errors compiling C using Codeblocks", "body": "<p>You should create a project to compile the file.</p>\n\n<p>A similar question in <a href=\"http://forums.codeblocks.org/index.php?topic=20579.0\" rel=\"nofollow noreferrer\">Code::Blocks user forums</a>:</p>\n\n<blockquote>\n  <p>I don't have a project, just wonted to compile and debug a single\n  file. Is there a way to accomplish this without creating a project?</p>\n</blockquote>\n\n<p>and the answer:</p>\n\n<blockquote>\n  <p>Nope.</p>\n</blockquote>\n\n<p>Btw, why don't you use simple <code>cc</code> command to compile the file just like this?</p>\n\n<pre><code>cc test.c -o test\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 7904933, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/37eb041cb39b21d5faec4d39218b4faf?s=128&d=identicon&r=PG&f=1", "display_name": "PNB", "link": "https://stackoverflow.com/users/7904933/pnb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1497388508, "creation_date": 1497384177, "last_edit_date": 1497388508, "question_id": 44530515, "link": "https://stackoverflow.com/questions/44530515/different-errors-compiling-c-using-codeblocks", "title": "Different errors compiling C using Codeblocks", "body": "<p>I want to compile a file using Codeblocks. </p>\n\n<p>This main file calls other C files. When I build and run it, I have several errors in my console.</p>\n\n<p>First, I have this error: ===Build file: \"no target\" in \"no project\" (compiler unknown) ===. I think that error is because I'm not trying to run a project but a single file.</p>\n\n<p>Second, I have many \"undefined reference to 'name_of_a_function' \" errors. And I do not know why because all the functions are defined in the other files.</p>\n"}, {"tags": ["c", "pointers"], "comments": [{"owner": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "edited": false, "score": 3, "creation_date": 1497384453, "post_id": 44530513, "comment_id": 76052884, "body": "<code>p</code> is still passed by value, being a pointer doesn&#39;t give it any magic powers :)"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 1, "creation_date": 1497384719, "post_id": 44530513, "comment_id": 76053014, "body": "pointer <code>p</code> in function <code>foo()</code> is a copy of pointer <code>p</code> in the function <code>main()</code>. Use <code>int **p</code> but you will have a lifetime problem. Because <code>j</code> don&#39;t live in <code>main()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": false, "score": 1, "last_activity_date": 1497384458, "creation_date": 1497384458, "answer_id": 44530591, "question_id": 44530513, "link": "https://stackoverflow.com/questions/44530513/passing-pointer-to-function-value-not-changing/44530591#44530591", "title": "Passing pointer to function value not changing", "body": "<p>In <code>foo</code>, you assign a new value to <code>p</code>.  However this is a <em>copy</em> of the value of <code>p</code> in <code>main</code>, so the change is not visible in main.</p>\n\n<p>If you <em>dereferenced</em> <code>p</code>, then it would change the value if <code>i</code> in main:</p>\n\n<pre><code>void foo(int *p)\n{\n    *p = 2;\n    printf(\"%d \", *p);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1497384478, "creation_date": 1497384478, "answer_id": 44530600, "question_id": 44530513, "link": "https://stackoverflow.com/questions/44530513/passing-pointer-to-function-value-not-changing/44530600#44530600", "title": "Passing pointer to function value not changing", "body": "<pre><code>p = &amp;j;\n</code></pre>\n\n<p>just changes the value of the local variable <code>p</code>. This has no effect on the caller's <code>p</code> variable (because <code>p</code> was passed by value) or the variable that <code>p</code> previously pointed to (because you didn't indirect through it). If you want to change the caller's data, write:</p>\n\n<pre><code>*p = j;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 4, "last_activity_date": 1497384831, "creation_date": 1497384831, "answer_id": 44530694, "question_id": 44530513, "link": "https://stackoverflow.com/questions/44530513/passing-pointer-to-function-value-not-changing/44530694#44530694", "title": "Passing pointer to function value not changing", "body": "<p>You can imagine the function call and its definition the following way. For clarity I'll rename the function parameter as <code>q</code>.</p>\n\n<pre><code>foo(p);\n\nvoid foo( /*int *q*/ )\n{\n    int *q = p;\n    int j = 2;\n    q = &amp;j;\n    printf(\"%d \", *q);\n}\n</code></pre>\n\n<p>As it is seen the function parameter (in this case <code>q</code>) is a local variable of the function that is initialized by the value of an argument (in this case by the value of the argument <code>p</code>)</p>\n\n<p>So any changes of the local variable (<code>q</code>) do not influence on the original argument (<code>p</code>).</p>\n\n<p>After exiting the function the local variable will not be alive.</p>\n\n<p>If you want to change the argument itself you should pass it by reference. For example</p>\n\n<pre><code>void foo( int **p )\n{\n    int j = 2;\n    *p = &amp;j;\n    printf(\"%d \", **p);\n}\n</code></pre>\n\n<p>However after exiting the function the original argument/variable <code>p</code> will be invalid because it stores the address of a non-alive local variable of the function <code>j</code>.</p>\n\n<p>So an attempt to access the memory that was occupied by the function's local variable <code>j</code> results in undefined behavior of the program.</p>\n\n<p>You could make the program correct by declaring the local variable <code>j</code> as having static storage duration. For example</p>\n\n<pre><code>void foo( int **p )\n{\n    static int j = 2;\n    *p = &amp;j;\n    printf(\"%d \", **p);\n}\n</code></pre>\n\n<p>and call the function like</p>\n\n<pre><code>foo(&amp;p);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 8156646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9406dcb13c1bf6e1d8f838d7819fcf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Shaurya", "link": "https://stackoverflow.com/users/8156646/shaurya"}, "is_accepted": false, "score": 0, "last_activity_date": 1497388105, "last_edit_date": 1497388105, "creation_date": 1497387227, "answer_id": 44531361, "question_id": 44530513, "link": "https://stackoverflow.com/questions/44530513/passing-pointer-to-function-value-not-changing/44531361#44531361", "title": "Passing pointer to function value not changing", "body": "<p>Go through the above code line by line. Here I have written comments as control passes through each of the lines...</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n\nvoid foo(int*);\nint main()\n{\n    int i = 97, *p = &amp;i;   //Lets assume i has address 2000  \n    foo(p);                //p contains 2000 which is passed to foo. go to foo at 1.\n    printf(\"%d \", *p);    // when control comes back no change to p it \n                          //still points to 2000 which stores 97 \n    getch();\n}\n\nvoid foo(int *p) 1: // in foo another local variable p is created. \n                   //Let's call this lp. lp has now address 2000. i.e lp \n                   //and p both point to i but one locally exists in a \n                   // function and will be destroyed when control comes out \n                   // of the function \n{\n    int j = 2;\n    p = &amp;j;        // now local p i.e lp points to another var j \n                   //  address. Suppose lp has address 3000 now.  \n    printf(\"%d \", *p);  //val at address in lp is 2\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6219266"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4811, "favorite_count": 1, "closed_date": 1536588725, "answer_count": 4, "score": 1, "last_activity_date": 1497388105, "creation_date": 1497384142, "last_edit_date": 1497384304, "question_id": 44530513, "link": "https://stackoverflow.com/questions/44530513/passing-pointer-to-function-value-not-changing", "closed_reason": "Duplicate", "title": "Passing pointer to function value not changing", "body": "<pre><code>#include&lt;stdio.h&gt;\n\nvoid foo(int*);\nint main()\n{\n    int i = 97, *p = &amp;i;\n    foo(p);\n    printf(\"%d \", *p);\n    getch();\n}\n\nvoid foo(int *p)\n{\n    int j = 2;\n    p = &amp;j;\n    printf(\"%d \", *p);\n}\n</code></pre>\n\n<p>Output is 2 97\nWhy not 2 2 ?\npointer p holds the address of j now so why 97 is printed ?</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 4, "creation_date": 1497383014, "post_id": 44530202, "comment_id": 76052075, "body": "operator precedence"}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1497383141, "post_id": 44530202, "comment_id": 76052149, "body": "See <a href=\"http://en.cppreference.com/w/cpp/language/operator_precedence\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/operator_precedence</a>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497383145, "post_id": 44530202, "comment_id": 76052150, "body": "&quot;name points to the string &quot;Example&quot;&quot; - No. <code>name</code> points to the first <code>char</code> of the array. C does not have a string type. Other assumptions of your&#39;s are also not correct (or badly formatted - use markdown!)"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1497383172, "post_id": 44530202, "comment_id": 76052167, "body": "@JesperJuhl: Please don&#39;t link C++ sites for C questions!"}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 0, "creation_date": 1497383280, "post_id": 44530202, "comment_id": 76052231, "body": "<a href=\"https://stackoverflow.com/a/17077660/315052\">stackoverflow.com/a/17077660/315052</a>"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1497383386, "post_id": 44530202, "comment_id": 76052291, "body": "<a href=\"http://en.cppreference.com/w/c/language/operator_precedence\" rel=\"nofollow noreferrer\">en.cppreference.com/w/c/language/operator_precedence</a>"}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1497383390, "post_id": 44530202, "comment_id": 76052293, "body": "@Olaf the question had a C++ tag at the time I posted that comment."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1497383459, "post_id": 44530202, "comment_id": 76052332, "body": "<code>*name</code> is &#39;E&#39; (a <code>char</code> value), not <code>&quot;E&quot;</code> (a string). But @Olaf, a <i>pointer to a string</i> is by definition a pointer to its initial character (C11 7.1.1p1)."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1497383541, "post_id": 44530202, "comment_id": 76052385, "body": "<code>name</code> points to a single character <i>at a time</i>. By incrementing it, successive values of <code>name</code> point to successive <code>char</code> elements of the string."}, {"owner": {"reputation": 1055, "user_id": 1371683, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/62ae4481ea2228b76ebfec3585752697?s=128&d=identicon&r=PG", "display_name": "redsoxlost", "link": "https://stackoverflow.com/users/1371683/redsoxlost"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1497383554, "post_id": 44530202, "comment_id": 76052395, "body": "@KeithThompson So if I use &quot; instead of &#39; does C treats them differently? I mean apart from string or char"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1497383691, "post_id": 44530202, "comment_id": 76052484, "body": "@redsoxlost: What do you mean &quot;apart from string or char&quot;? That <i>is</i> the difference. <code>&#39;E&#39;</code> is a character constant. (For historical reasons, it&#39;s of type <code>int</code> in C; in C++ it&#39;s of type <code>char</code>.) <code>&quot;E&quot;</code> is a string literal. It&#39;s of type <code>char[2]</code> in C, <code>const char[2]</code> in C++ (2 because of the terminating null character <code>&#39;\\0&#39;</code>)."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1497383697, "post_id": 44530202, "comment_id": 76052490, "body": "@redsoxlost: Yes, enclosing materials in single vs double quotes makes a lot of difference in C.  When asking questions, be very careful about which you use \u2014 the difference matters!  And I didn&#39;t enclose the &quot;E&quot; in the question in back-ticks because then your statement would have been definitively wrong rather than just &#39;mostly wrong&#39;.  Casual use of single quotes vs double quotes is OK (up to a point) in written English; it is not OK in text discussing C."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1497384188, "post_id": 44530202, "comment_id": 76052744, "body": "@KeithThompson: It does not change what I wrote. And this viewpoint is way more clear and uniform than dealing with the term &quot;string&quot; (actually <i>string literal</i> here). A beginner should first understand C-strings are just <code>char[]</code> with a special convention."}, {"owner": {"reputation": 1669, "user_id": 7508077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4193888717f50e77805498af1435b9?s=128&d=identicon&r=PG&f=1", "display_name": "EsmaeelE", "link": "https://stackoverflow.com/users/7508077/esmaeele"}, "edited": false, "score": 0, "creation_date": 1497389302, "post_id": 44530202, "comment_id": 76055364, "body": "if you declare char *name=&quot;Example&quot;; compiler put \\0 at the end of name that indicates end of string. see:<a href=\"https://stackoverflow.com/questions/4955198/what-does-dereferencing-a-pointer-mean\" title=\"what does dereferencing a pointer mean\">stackoverflow.com/questions/4955198/&hellip;</a>   this is only reason that this *name !=&#39;\\0&#39; in while condition is true. In last iteration of while loop (7) after printf prints last &#39;e&#39; in &quot;Example&quot;, *name++ second part (++ increase the pointer index) and now name points to \\0, and while condition is False, brakes."}], "answers": [{"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1497383300, "creation_date": 1497383300, "answer_id": 44530288, "question_id": 44530202, "link": "https://stackoverflow.com/questions/44530202/printing-a-string-with-char-pointer-in-c/44530288#44530288", "title": "Printing a string with char pointer in C", "body": "<p>You misinterpreted the <code>*name++</code> expression: even though <code>++</code> follows <code>*name</code>, it applies to <code>name</code> alone, not <code>*name</code>, because operator <code>++</code> has higher precedence than pointer dereference operator <code>*</code>.</p>\n\n<p>This rule of precedence is very commonly used in C programs. For example, K&amp;R's one-line <code>strcpy</code> implementation uses this expression twice:</p>\n\n<pre><code>void strcpy( char* dest, const char *src) {\n    while (*dest++ = *src++)\n        ;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5957, "user_id": 997196, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/E5hdR.png?s=128&g=1", "display_name": "Rivasa", "link": "https://stackoverflow.com/users/997196/rivasa"}, "is_accepted": false, "score": 0, "last_activity_date": 1497383320, "creation_date": 1497383320, "answer_id": 44530295, "question_id": 44530202, "link": "https://stackoverflow.com/questions/44530202/printing-a-string-with-char-pointer-in-c/44530295#44530295", "title": "Printing a string with char pointer in C", "body": "<p>The incrementing <code>name++</code> has a higher precedence than the de-referencing. <code>*name</code>.</p>\n\n<p>So it's basically: <code>*(name++)</code>. As opposed to: <code>(*name)++</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "is_accepted": false, "score": 0, "last_activity_date": 1497383721, "last_edit_date": 1497383721, "creation_date": 1497383342, "answer_id": 44530301, "question_id": 44530202, "link": "https://stackoverflow.com/questions/44530202/printing-a-string-with-char-pointer-in-c/44530301#44530301", "title": "Printing a string with char pointer in C", "body": "<p>As you can see from the table at <a href=\"http://en.cppreference.com/w/c/language/operator_precedence\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/c/language/operator_precedence</a> , postfix <code>++</code> has higer precedence than dereference <code>*</code>. So what happens is that first <code>name++</code> is evaluated which increments the pointer but returns the original address that <code>operator*</code> (dereference/indirection) is then invoked on.</p>\n\n<p>So the effect is that you dereference the current value of the pointer but the pointer is subsequently incremented.</p>\n"}], "owner": {"reputation": 1055, "user_id": 1371683, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/62ae4481ea2228b76ebfec3585752697?s=128&d=identicon&r=PG", "display_name": "redsoxlost", "link": "https://stackoverflow.com/users/1371683/redsoxlost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2230, "favorite_count": 0, "closed_date": 1497383352, "answer_count": 3, "score": 0, "last_activity_date": 1497383721, "creation_date": 1497382920, "last_edit_date": 1497383278, "question_id": 44530202, "link": "https://stackoverflow.com/questions/44530202/printing-a-string-with-char-pointer-in-c", "closed_reason": "Duplicate", "title": "Printing a string with char pointer in C", "body": "<p>In case of pointers <code>*p</code> means value stored and <code>p</code> means the address (for a declaration <code>int *p</code>).<br>\nAs per the below declaration, <code>name</code> points to the string \"Example\". So <code>*name</code> would be \"E\" and NOT an address, but an actual value. So how does the program below work? I mean, we are incrementing the value itself and not the pointer (confused).</p>\n\n<pre><code>char *name=\"Example\";\nwhile(*name !='\\0'){\n    printf(\"%c\\n\",*name++);\n}\n</code></pre>\n\n<p><strong>Prints</strong></p>\n\n<pre><code>    E\n    x\n    a\n    m\n    p\n    l\n    e \n</code></pre>\n"}]