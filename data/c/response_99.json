[{"tags": ["c"], "comments": [{"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1480550516, "post_id": 40900410, "comment_id": 69014635, "body": "It&#39;s a pointer, use <code>-&gt;</code> not <code>.</code>."}, {"owner": {"reputation": 947, "user_id": 1053944, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/363b1bb1c9cd90a0ae14ace401289dbd?s=128&d=identicon&r=PG", "display_name": "morcillo", "link": "https://stackoverflow.com/users/1053944/morcillo"}, "edited": false, "score": 0, "creation_date": 1480550533, "post_id": 40900410, "comment_id": 69014641, "body": "try &amp;client1-&gt;name[0] ... remember the &quot;&amp;&quot; before client1 in strcpy"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1480550602, "post_id": 40900410, "comment_id": 69014665, "body": "Why is <code>typedef struct client_tag *Client;</code> in <code>Client.c</code> instead of <code>Client.h</code>? That typedef isn&#39;t applying anywhere but <code>Client.c</code> itself."}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1480550626, "post_id": 40900410, "comment_id": 69014670, "body": "@RetiredNinja Like I mentioned, when I do that, I get the <code>dereferencing to incomplete type</code> error."}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1480550678, "post_id": 40900410, "comment_id": 69014687, "body": "@user2357112 My apologies, I just labeled my files wrong in this post. I&#39;ll edit that now."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 2, "creation_date": 1480550688, "post_id": 40900410, "comment_id": 69014689, "body": "Making your <code>typedef</code> a pointer is probably confusing you more; there is no <code>*</code> at point of declaration to make it obvious you need to use <code>-&gt;</code> syntax to access members."}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 947, "user_id": 1053944, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/363b1bb1c9cd90a0ae14ace401289dbd?s=128&d=identicon&r=PG", "display_name": "morcillo", "link": "https://stackoverflow.com/users/1053944/morcillo"}, "edited": false, "score": 0, "creation_date": 1480550706, "post_id": 40900410, "comment_id": 69014695, "body": "@morcillo I tried that and I still get the same <code>request for member....</code> error"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1480550736, "post_id": 40900410, "comment_id": 69014709, "body": "Since Client is a pointer you are allocating 4 or 8 bytes.  That&#39;s probably wrong."}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1480550750, "post_id": 40900410, "comment_id": 69014716, "body": "@ShadowRanger I think so too. I just tried to replicate my professor&#39;s examples, but my lack of understanding is making this harder."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1480550762, "post_id": 40900410, "comment_id": 69014719, "body": "Okay, why is your definition of <code>struct client_tag</code> in <code>Client.c</code> instead of <code>Client.h</code>? Actually, why do you have a <code>Client.c</code> at all? It doesn&#39;t look like any of your code belongs there. You don&#39;t have any functions or variables to define there."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 2, "creation_date": 1480550835, "post_id": 40900410, "comment_id": 69014747, "body": "@stark: Good catch. This is part of why I usually favor using <code>sizeof(*variablename)</code> instead of <code>sizeof(type)</code> for allocation."}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1480550842, "post_id": 40900410, "comment_id": 69014750, "body": "@user2357112 I need to have <code>client.c</code> to provide my implementation of what&#39;s in the header file."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1480550875, "post_id": 40900410, "comment_id": 69014766, "body": "@Jasmine: But you don&#39;t declare any functions that need implementing."}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1480550883, "post_id": 40900410, "comment_id": 69014767, "body": "The point is, there&#39;s nothing in the header file.  That&#39;s where your struct definition belongs."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1480550931, "post_id": 40900410, "comment_id": 69014784, "body": "@user2357112: I&#39;d assume it&#39;s for implementation hiding; allows APIs to be defined to take and return <code>Client</code> while keeping the structure opaque to API users."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 3, "creation_date": 1480551000, "post_id": 40900410, "comment_id": 69014804, "body": "Hiding a pointer type behind a <code>typedef</code> is generally a bad idea."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1480551059, "post_id": 40900410, "comment_id": 69014817, "body": "@ShadowRanger: If that&#39;s the case, then <code>main</code> shouldn&#39;t be trying to write directly to the underlying fields at all."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1480551204, "post_id": 40900410, "comment_id": 69014865, "body": "Never <code>typedef</code> a pointer!"}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1480551242, "post_id": 40900410, "comment_id": 69014873, "body": "@user2357112 I guess that&#39;s where my lack of understanding comes in. I&#39;ve fixed my error and now it runs, thank you!"}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480551288, "post_id": 40900410, "comment_id": 69014886, "body": "@Olaf Since I&#39;m still learning pointers, can you explain why it&#39;s bad to typedef a pointer?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480551829, "post_id": 40900410, "comment_id": 69015027, "body": "@Jasmine: Please do some research on your own. This has been asked (and answered) a (felt) hundred times already. For a starter: It defies <code>const</code>-correctness (or would pollute name-space), and results in confusion on usage. You already fell into this pit!"}], "answers": [{"tags": [], "owner": {"reputation": 2731, "user_id": 440166, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3880325020651bb6618686091bec6b02?s=128&d=identicon&r=PG", "display_name": "Mobius", "link": "https://stackoverflow.com/users/440166/mobius"}, "is_accepted": true, "score": 1, "last_activity_date": 1480552129, "last_edit_date": 1480552129, "creation_date": 1480550935, "answer_id": 40900491, "question_id": 40900410, "link": "https://stackoverflow.com/questions/40900410/common-c-issue-i-cannot-figure-out-request-for-member-in-something-not-a-struct/40900491#40900491", "title": "Common C issue I cannot figure out: request for member in something not a structure or union", "body": "<p>I believe the problem is that you can't used fields on a <code>client_tag</code> or <code>client_tag *</code> if you don't have the declaration for <code>client_tag</code> in your header file.</p>\n\n<p>My recommendation would be to move the struct declaration for <code>client_tag</code> from <code>client.c</code> to <code>client.h</code></p>\n\n<p>Based on the above instructions, The following code compiles and runs</p>\n\n<h1>client.h</h1>\n\n<pre><code>#ifndef CLIENT_H\n#define CLIENT_H\n\nstruct client_tag {\n    char id[5];\n    char name[30];\n    char email[30];\n    char phoneNum[15];\n};\n\ntypedef struct client_tag *Client;\n\n#endif\n</code></pre>\n\n<h1>main.c</h1>\n\n<pre><code>#include \"client.h\"\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdlib.h&gt;\n\n/* Minimal list implementation\n * Based on functions in your program\n */\ntypedef struct {\n  unsigned length;\n  size_t allocated_size;\n  void ** items; \n} ListType;\n\n/* Push implemented based on the usage in your code */\nint push(ListType l, void* item){\n  // check if we need to allocate memory\n  if (l.length &gt;= l.allocated_size){\n    size_t next_size = (l.allocated_size &gt; 0) ? l.allocated_size * 2 : sizeof(void*);\n    l.items = (void **) realloc(l.items, next_size);\n    if (l.items == NULL){\n      return -1; // error\n    }\n\n    l.allocated_size = next_size;\n  }\n\n  // push the item;\n  l.items[l.length++] = item;\n  return l.length;\n}\n\nint main() {\n    Client client1 = malloc(sizeof(Client));\n    FILE *fp;\n    ListType clientList;\n\n    fp = fopen(\"clients.txt\", \"r\");\n\n    int lineSize = 200;\n    char* line = malloc(lineSize);\n    char* line2 = malloc(lineSize);\n    char* line3 = malloc(lineSize);\n    char* line4 = malloc(lineSize); \n\n\n    while (fgets(line, lineSize, fp) != NULL) { \n        strcpy(client1-&gt;id, line);\n        strcpy(client1-&gt;name, fgets(line2, lineSize, fp));\n        strcpy(client1-&gt;email, fgets(line3, lineSize, fp));\n        strcpy(client1-&gt;phoneNum, fgets(line4, lineSize, fp));\n\n        push(clientList, (void*)&amp;client1);\n\n        printf(\"ID: %s\", line);\n        printf(\"Name: %s\", line2);\n        printf(\"Email: %s\", line3);\n        printf(\"Phone Number: %s\\n\", line4);\n\n        free(line);\n        free(line2);\n        free(line3);\n        free(line4);\n\n        line = malloc(lineSize);\n        line2 = malloc(lineSize);\n        line3 = malloc(lineSize);\n        line4 = malloc(lineSize);\n\n    }\n\n}\n</code></pre>\n\n<h1>clients.txt</h1>\n\n<pre><code>1\nJohn Doe\njohn.doe@example.com\n1-555-456-7890\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "edited": false, "score": 0, "creation_date": 1480551483, "post_id": 40900544, "comment_id": 69014939, "body": "So what you&#39;re saying is if I keep my structure definition in the c file, that means it&#39;ll become a private structure?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "edited": false, "score": 2, "creation_date": 1480553498, "post_id": 40900544, "comment_id": 69015463, "body": "@Jasmine: It means they can&#39;t compute the size of the structure or access its members, because they don&#39;t have access to the definition. They can pass around the pointer to it, but not allocate their own. Basically everything they do with it would rely on you providing functions that do work for them (with the definition of, but not the declaration of, those functions having access to the structure definition)."}], "tags": [], "owner": {"reputation": 1121, "user_id": 237224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d04043571e49cd4d36002ffefdadbada?s=128&d=identicon&r=PG", "display_name": "KingRadical", "link": "https://stackoverflow.com/users/237224/kingradical"}, "is_accepted": false, "score": 1, "last_activity_date": 1480551259, "creation_date": 1480551259, "answer_id": 40900544, "question_id": 40900410, "link": "https://stackoverflow.com/questions/40900410/common-c-issue-i-cannot-figure-out-request-for-member-in-something-not-a-struct/40900544#40900544", "title": "Common C issue I cannot figure out: request for member in something not a structure or union", "body": "<p>The idiomatic answer depends on whether or not you want consumers to treat your custom type as opaque or not. If it does not need to be opaque, use Mobius' advice, and move the full definition to the header.</p>\n\n<p>Otherwise, you'll need to provide functions that return those members, e.g.:</p>\n\n<pre><code>char * client_tag_get_name(client_tag *t) {\n    return t-&gt;name;\n}\n</code></pre>\n\n<p>and put the declaration for that in your header.</p>\n"}], "owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 40900491, "answer_count": 2, "score": 0, "last_activity_date": 1480552129, "creation_date": 1480550326, "last_edit_date": 1480550653, "question_id": 40900410, "link": "https://stackoverflow.com/questions/40900410/common-c-issue-i-cannot-figure-out-request-for-member-in-something-not-a-struct", "title": "Common C issue I cannot figure out: request for member in something not a structure or union", "body": "<p>So I've made a struct to hold information about a Client. I get the compiler error stated as above in the title. I'm still learning pointers so bear with me if I state anything incorrect. From what I'm aware, my typedef has a pointer to an instance of Client. Which means I would need to use -> instead of . for fields of Client. But that didn't work either, I would get the error of <code>dereferencing to incomplete type</code>. Any guidance or help would be great!</p>\n\n<p>Client.h</p>\n\n<pre><code>#ifndef CLIENT_H\n#define CLIENT_H\n\ntypedef struct client_tag *Client;\n\n#endif\n</code></pre>\n\n<p>Client.c</p>\n\n<pre><code>#include \"client.h\"\n\n\nstruct client_tag {\n    char id[5];\n    char name[30];\n    char email[30];\n    char phoneNum[15];\n};\n</code></pre>\n\n<p>The following file reads client information from a file and assigns them to variables:</p>\n\n<pre><code>#include \"client.h\"\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main() {\n    Client client1 = malloc(sizeof(Client));\n    FILE *fp;\n    ListType clientList;\n\n    fp = fopen(\"clients.txt\", \"r\");\n\n    int lineSize = 200;\n    char* line = malloc(lineSize);\n    char* line2 = malloc(lineSize);\n    char* line3 = malloc(lineSize);\n    char* line4 = malloc(lineSize); \n\n\n    while (fgets(line, lineSize, fp) != NULL) { \n        strcpy(client1.id, line);\n        strcpy(client1.name, fgets(line2, lineSize, fp));\n        strcpy(client1.email, fgets(line3, lineSize, fp));\n        strcpy(client1.phoneNum, fgets(line4, lineSize, fp));\n\n        push(clientList, (void*)&amp;client1);\n\n        printf(\"ID: %s\", line);\n        printf(\"Name: %s\", line2);\n        printf(\"Email: %s\", line3);\n        printf(\"Phone Number: %s\\n\", line4);\n\n        free(line);\n        free(line2);\n        free(line3);\n        free(line4);\n\n        line = malloc(lineSize);\n        line2 = malloc(lineSize);\n        line3 = malloc(lineSize);\n        line4 = malloc(lineSize);\n\n    }\n\n}\n</code></pre>\n\n<p>Here is the error I get:</p>\n\n<pre><code>    clientDriver.c: In function \u2018main\u2019:\nclientDriver.c:23:17: error: request for member \u2018id\u2019 in something not a structure or union\n   strcpy(client1.id, line);\n                ^\nclientDriver.c:24:17: error: request for member \u2018name\u2019 in something not a structure or union\n   strcpy(client1.name, fgets(line2, lineSize, fp));\n                ^\nclientDriver.c:25:17: error: request for member \u2018email\u2019 in something not a structure or union\n   strcpy(client1.email, fgets(line3, lineSize, fp));\n                ^\nclientDriver.c:26:17: error: request for member \u2018phoneNum\u2019 in something not a structure or union\n   strcpy(client1.phoneNum, fgets(line4, lineSize, fp));\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 2, "creation_date": 1480548579, "post_id": 40900098, "comment_id": 69014027, "body": "The return type of the function is <code>double</code> and the <code>return</code> statements returns <code>GrowthRage</code>, which is of type <code>double*</code>. That&#39;s the error."}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1480549216, "post_id": 40900098, "comment_id": 69014255, "body": "<code>double Find_GrowthRate(..)</code> --&gt; <code>double *Find_GrowthRate(..)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7233559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b17d3ca7424893622dba27519ffd50?s=128&d=identicon&r=PG&f=1", "display_name": "James Dean", "link": "https://stackoverflow.com/users/7233559/james-dean"}, "edited": false, "score": 0, "creation_date": 1480549892, "post_id": 40900259, "comment_id": 69014463, "body": "Sadly I&#39;m a newbie at C right now, I thought that returning the value of GrowthRate and t1 would provide the value in the main function. I Struggle to find a way to change the code."}, {"owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 31, "user_id": 7233559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b17d3ca7424893622dba27519ffd50?s=128&d=identicon&r=PG&f=1", "display_name": "James Dean", "link": "https://stackoverflow.com/users/7233559/james-dean"}, "edited": false, "score": 1, "creation_date": 1480550019, "post_id": 40900259, "comment_id": 69014498, "body": "@JamesDean If you want to return a pointer then the function must have the return type double * and the return value should be assigned to a variable."}], "tags": [], "owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 1, "last_activity_date": 1480549692, "last_edit_date": 1480549692, "creation_date": 1480549255, "answer_id": 40900259, "question_id": 40900098, "link": "https://stackoverflow.com/questions/40900098/unknown-error-in-my-code/40900259#40900259", "title": "Unknown Error in my code", "body": "<p>The function <code>Find_GrowthRate</code> is declared as having the return type <code>double</code></p>\n\n<pre><code>double Find_GrowthRate(double Data_6hr[MAX_DATA],double Data_24hr[MAX_DATA]);\n^^^^^^\n</code></pre>\n\n<p>However in the function definition the function returns an object of type <code>double *</code></p>\n\n<pre><code>double Find_GrowthRate(double Data_6hr[MAX_DATA], double Data_24hr[MAX_DATA])\n{\n   int i;\n\n   double *GrowthRate;\n   //...\n   return GrowthRate;\n          ^^^^^^^^^^\n\n}\n</code></pre>\n\n<p>Moreover there are memory leak because the dynamically allocated a memory pointed to by the pointer <code>GrowthRate</code> is not freed.</p>\n\n<p>And in this loop  </p>\n\n<pre><code>   double *GrowthRate;\n   printf(\"Growth Rates\\n\");\n   for(i=0;i&lt;MAX_DATA;i++){\n      printf(\"%lf \\n\",*(GrowthRate+i));\n   }\n</code></pre>\n\n<p>there is used uninitialized variable <code>GrowthRate</code> that results in undefined behavior.</p>\n\n<p>The same problem exist with the uninitialized variable <code>t1</code></p>\n\n<pre><code> double t1;\n //...\n printf(\"%lf\", t1);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7233559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b17d3ca7424893622dba27519ffd50?s=128&d=identicon&r=PG&f=1", "display_name": "James Dean", "link": "https://stackoverflow.com/users/7233559/james-dean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1480549692, "creation_date": 1480548348, "last_edit_date": 1480548513, "question_id": 40900098, "link": "https://stackoverflow.com/questions/40900098/unknown-error-in-my-code", "title": "Unknown Error in my code", "body": "<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;math.h&gt;\n#define Pi 3.14159265358979323846\n#define MAX_DATA 20\n\n\ndouble Find_GrowthRate(double Data_6hr[MAX_DATA],double Data_24hr[MAX_DATA]);\ndouble Find_DoublingTime(double GrowthRate[MAX_DATA]);\n\n\nint main()\n{\n   int i;\n   double t1;\n   double Data_6hr[MAX_DATA] = {2.3,3.3,4.3,5.3,6.3,7.3,8.3,9.3,10.3,11.3,12.3,13.3,14.3,15.3,16.3,17.3,18.3,19.3,20.3,21.3};\n   double Data_24hr[MAX_DATA] = {4.2,5.2,6.2,7.2,8.2,9.2,10.2,11.2,12.2,13.2,14.2,15.2,16.2,17.2,18.2,19.2,20.2,21.2,22.2,23.2};\n   Find_GrowthRate(Data_6hr,Data_24hr);\n   double *GrowthRate;\n   printf(\"Growth Rates\\n\");\n   for(i=0;i&lt;MAX_DATA;i++){\n      printf(\"%lf \\n\",*(GrowthRate+i));\n   }\n   Find_DoublingTime(GrowthRate);\n   printf(\"Average Doubling Time\");\n   printf(\"%lf\", t1);\n   return 0;\n}\n\ndouble Find_GrowthRate(double Data_6hr[MAX_DATA], double Data_24hr[MAX_DATA])\n{\n   int i;\n\n   double *GrowthRate;\n   GrowthRate = (double*)malloc(MAX_DATA*sizeof(double));\n   for(i=0;i&lt;MAX_DATA;i++){\n      double PopulationSize_t1 = (Pi * pow((Data_6hr[i]/ 2),2));\n      printf(\"%lf\\n\",PopulationSize_t1);\n      double PopulationSize_t2 = (Pi * pow((Data_24hr[i]/ 2),2));\n      printf(\"%lf\\n\",PopulationSize_t2);\n      double x = ((PopulationSize_t2 - PopulationSize_t1) / PopulationSize_t1);\n      *(GrowthRate+i) = x;\n   }\n   printf(\"Growth Rates\\n\");\n   for(i=0;i&lt;MAX_DATA;i++){\n      printf(\"%lf \\n\",*(GrowthRate+i));\n   }\n\n   return GrowthRate;\n\n}\n</code></pre>\n\n<p>The error I receive is:-</p>\n\n<p>error: incompatible types when returning type 'double *' but 'double was expected</p>\n\n<p>Was wondering what the change is in my code I need to make, and whether i could make my code any better.</p>\n"}, {"tags": ["c", "logarithm"], "comments": [{"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 2, "creation_date": 1480548365, "post_id": 40900069, "comment_id": 69013939, "body": "Explain <i>&quot;does not work&quot;</i>"}, {"owner": {"reputation": 1351, "user_id": 1037634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fOJYR.png?s=128&g=1", "display_name": "chus", "link": "https://stackoverflow.com/users/1037634/chus"}, "edited": false, "score": 2, "creation_date": 1480551930, "post_id": 40900069, "comment_id": 69015062, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3064926/how-to-write-log-base2-in-c-c\">How to write log base(2) in c/c++</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13431, "user_id": 7051394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/035a36a4ffaec4c1c1efd85e34181ace?s=128&d=identicon&r=PG&f=1", "display_name": "Right leg", "link": "https://stackoverflow.com/users/7051394/right-leg"}, "edited": false, "score": 0, "creation_date": 1480558725, "post_id": 40900376, "comment_id": 69016701, "body": "So why does OP&#39;s code not work?"}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "reply_to_user": {"reputation": 13431, "user_id": 7051394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/035a36a4ffaec4c1c1efd85e34181ace?s=128&d=identicon&r=PG&f=1", "display_name": "Right leg", "link": "https://stackoverflow.com/users/7051394/right-leg"}, "edited": false, "score": 1, "creation_date": 1480559556, "post_id": 40900376, "comment_id": 69016918, "body": "@Rightleg Probably missing <code>&lt;math.h&gt;</code> which means that the return value incorrectly defaults to <code>int</code>."}, {"owner": {"reputation": 22954, "user_id": 5238915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fncqh.jpg?s=128&g=1", "display_name": "RoadRunner", "link": "https://stackoverflow.com/users/5238915/roadrunner"}, "edited": false, "score": 1, "creation_date": 1480561396, "post_id": 40900376, "comment_id": 69017338, "body": "He also might need to compile with <code>-lm</code>, depending which version of <code>gcc</code> he is using."}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 3, "last_activity_date": 1480550088, "creation_date": 1480550088, "answer_id": 40900376, "question_id": 40900069, "link": "https://stackoverflow.com/questions/40900069/logarithm-base-2-in-c-language/40900376#40900376", "title": "Logarithm base 2 in C language", "body": "<pre><code>#include &lt;stdio.h&gt;\n#include &lt;math.h&gt;\n\nint main() {\n    double x = 42.0;\n\n    printf( \"log( %f ) = %f\\n\", x, log2(x) );\n\n    return 0;\n}\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>% ./a.out\nlog( 42.000000 ) = 5.392317\n%\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22954, "user_id": 5238915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fncqh.jpg?s=128&g=1", "display_name": "RoadRunner", "link": "https://stackoverflow.com/users/5238915/roadrunner"}, "is_accepted": true, "score": 2, "last_activity_date": 1480558133, "last_edit_date": 1480558133, "creation_date": 1480556762, "answer_id": 40901300, "question_id": 40900069, "link": "https://stackoverflow.com/questions/40900069/logarithm-base-2-in-c-language/40901300#40901300", "title": "Logarithm base 2 in C language", "body": "<p>You can also create a helper function which converts to any log base you wish:</p>\n\n<p>Something like this:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;math.h&gt;\n\ndouble \nmy_log(double x, int base) { \n    return log(x) / log(base); \n} \n\nint \nmain(void) {\n    double x = 42.0;\n\n    printf(\"log(%f) = %f\\n\", x, my_log(x, 2));\n\n    return 0;\n}\n</code></pre>\n\n<p>Compiled with:</p>\n\n<pre><code>gcc -Wall -o logprog logprog.c -lm\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>log(42.000000) = 5.392317\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 7128837, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-44mJbH0n-pM/AAAAAAAAAAI/AAAAAAAAEb8/OLvgoCqfwpU/photo.jpg?sz=128", "display_name": "Jonahatan pe&#241;a", "link": "https://stackoverflow.com/users/7128837/jonahatan-pe%c3%b1a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7914, "favorite_count": 1, "closed_date": 1480568991, "accepted_answer_id": 40901300, "answer_count": 2, "score": -1, "last_activity_date": 1480558133, "creation_date": 1480548195, "last_edit_date": 1480554543, "question_id": 40900069, "link": "https://stackoverflow.com/questions/40900069/logarithm-base-2-in-c-language", "closed_reason": "Not suitable for this site", "title": "Logarithm base 2 in C language", "body": "<p>Please, can someone help me with how to calculate a simple log2 in C? I tried with this code, but it does not work:</p>\n\n<pre><code>printf( \"log( %f ) = %f\\n\", x, log2(x) );\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 10661, "user_id": 135351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8281b1bd2eaad90adfda7f9aefac1d24?s=128&d=identicon&r=PG", "display_name": "dave", "link": "https://stackoverflow.com/users/135351/dave"}, "edited": false, "score": 0, "creation_date": 1480547879, "post_id": 40899979, "comment_id": 69013784, "body": "Not sure what you&#39;re problem is, but have you considered simply renaming your temp file to your original file, rather than copying the contents?"}, {"owner": {"reputation": 67, "user_id": 5511570, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a826169fc969aab9dc367600d45d10a5?s=128&d=identicon&r=PG&f=1", "display_name": "Vertus", "link": "https://stackoverflow.com/users/5511570/vertus"}, "reply_to_user": {"reputation": 10661, "user_id": 135351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8281b1bd2eaad90adfda7f9aefac1d24?s=128&d=identicon&r=PG", "display_name": "dave", "link": "https://stackoverflow.com/users/135351/dave"}, "edited": false, "score": 0, "creation_date": 1480548249, "post_id": 40899979, "comment_id": 69013906, "body": "Nice idea to avoid another loop, but there&#39;s still the blank line at the end of the file, if I get 3 lines and I ask my prog to delete the last line, there&#39;s still 3 lines, the difference is that the 3rd line will be blank and not deleted."}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1480548398, "post_id": 40899979, "comment_id": 69013951, "body": "I can&#39;t reproduce your problem with the code shown. Can you please show the exact resulting files in both cases by showing the output of <code>cat -n &lt;filename&gt;</code> (I&#39;m assuming you are on Linux)?"}, {"owner": {"reputation": 67, "user_id": 5511570, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a826169fc969aab9dc367600d45d10a5?s=128&d=identicon&r=PG&f=1", "display_name": "Vertus", "link": "https://stackoverflow.com/users/5511570/vertus"}, "edited": false, "score": 0, "creation_date": 1480549314, "post_id": 40899979, "comment_id": 69014279, "body": "before:  cat -n test.txt      1\tline0      2\tline1      3\tline2  after: cat -n test.txt      1\tline0      2\tline1  and here is what I get in my file editor: <a href=\"http://imgur.com/8Wbiwk2\" rel=\"nofollow noreferrer\">imgur.com/8Wbiwk2</a> (I made a print function in C and I see this 3rd blank line too)"}, {"owner": {"reputation": 2026, "user_id": 521624, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/579b240041b084d221aaf999e0de2929?s=128&d=identicon&r=PG", "display_name": "Guillaume Brunerie", "link": "https://stackoverflow.com/users/521624/guillaume-brunerie"}, "edited": false, "score": 0, "creation_date": 1480549679, "post_id": 40899979, "comment_id": 69014398, "body": "Are you sure the problem doesn\u2019t come from your file editor? For instance, in many cases emacs will automatically add an empty new line at the end of a file if there is not already one."}, {"owner": {"reputation": 67, "user_id": 5511570, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a826169fc969aab9dc367600d45d10a5?s=128&d=identicon&r=PG&f=1", "display_name": "Vertus", "link": "https://stackoverflow.com/users/5511570/vertus"}, "edited": false, "score": 0, "creation_date": 1480549876, "post_id": 40899979, "comment_id": 69014459, "body": "There isn&#39;t this blank line before runing the code, it&#39;s poping after execution and when I print the file with my print function I see this blank line too but without the line number..."}, {"owner": {"reputation": 67, "user_id": 5511570, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a826169fc969aab9dc367600d45d10a5?s=128&d=identicon&r=PG&f=1", "display_name": "Vertus", "link": "https://stackoverflow.com/users/5511570/vertus"}, "edited": false, "score": 0, "creation_date": 1480550320, "post_id": 40899979, "comment_id": 69014583, "body": "Even the result of cat show that there is a new line: <a href=\"http://imgur.com/WGNSmgf\" rel=\"nofollow noreferrer\">imgur.com/WGNSmgf</a>"}, {"owner": {"reputation": 7990, "user_id": 4806357, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/KlW5A.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4806357/jarvis"}, "edited": false, "score": 0, "creation_date": 1480558263, "post_id": 40899979, "comment_id": 69016605, "body": "See my answer, @Vertus"}], "answers": [{"tags": [], "owner": {"reputation": 585, "user_id": 7039091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1228413217190279/picture?type=large", "display_name": "yLaguardia", "link": "https://stackoverflow.com/users/7039091/ylaguardia"}, "is_accepted": false, "score": 0, "last_activity_date": 1480561398, "last_edit_date": 1480561398, "creation_date": 1480555642, "answer_id": 40901154, "question_id": 40899979, "link": "https://stackoverflow.com/questions/40899979/deleting-last-line-from-file-in-c-creates-empty-line/40901154#40901154", "title": "Deleting last line from file in C - creates empty line", "body": "<p>All lines but the last of your file have a <code>'\\n'</code> character on it. So the <strong>second to last</strong> line has it, of course.  </p>\n\n<p>When you delete the last line, obviously the output won't be similar as before, because the last line, which didn't have a <code>'\\n'</code> before, now has it (it comes from what was previously the second to last line).</p>\n\n<p>I've written this and I don't like it very much, but if it helps to give you an idea of a better solution...</p>\n\n<pre><code>void deleteline(const char *filename,unsigned int linetodelete){\n    FILE *file=fopen(filename,\"r\");\n    FILE *filetemp=fopen(\"__tempfile__\",\"w\");\n\n    char line[255];\n    unsigned int last = 0;\n\n    while(fgets(line,255,file)!=NULL){\n        last++;\n    }\n    last--;\n\n    rewind(file);\n\n    unsigned int countline=0;\n\n    while(fgets(line,255,file)!=NULL) {\n       if (linetodelete != last) {\n            if (countline != linetodelete)\n            fputs(line, filetemp);\n        }\n        else {\n            if (countline == linetodelete - 1) \n                line[strlen(line) - 1] = '\\0';\n\n            if (countline != linetodelete)\n                fputs(line, filetemp);\n        }\n        countline++;\n    }\n\n    fclose(file);\n    fclose(filetemp);\n    rename(\"__tempfile__\",filename);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7990, "user_id": 4806357, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/KlW5A.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4806357/jarvis"}, "is_accepted": true, "score": 0, "last_activity_date": 1480557929, "creation_date": 1480557929, "answer_id": 40901451, "question_id": 40899979, "link": "https://stackoverflow.com/questions/40899979/deleting-last-line-from-file-in-c-creates-empty-line/40901451#40901451", "title": "Deleting last line from file in C - creates empty line", "body": "<p>You can use this turnaround :</p>\n\n<pre><code>if(countline!=linetodelete){\n    char *p = line;\n    p[strlen(p)-1] = 0;\n    if(countline == 0){\n        fprintf(filetemp, \"%s\", p);\n    }\n    else{\n        fprintf(filetemp, \"\\n%s\", p);\n    }\n}\n</code></pre>\n\n<p>This way, you can avoid a blank line at the end of the file.</p>\n"}], "owner": {"reputation": 67, "user_id": 5511570, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a826169fc969aab9dc367600d45d10a5?s=128&d=identicon&r=PG&f=1", "display_name": "Vertus", "link": "https://stackoverflow.com/users/5511570/vertus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2667, "favorite_count": 0, "accepted_answer_id": 40901451, "answer_count": 2, "score": 2, "last_activity_date": 1480561398, "creation_date": 1480547625, "last_edit_date": 1480550399, "question_id": 40899979, "link": "https://stackoverflow.com/questions/40899979/deleting-last-line-from-file-in-c-creates-empty-line", "title": "Deleting last line from file in C - creates empty line", "body": "<p>I want to delete a given line in a text file so I use a temporary file writing all lines except the one we want to delete.</p>\n\n<p>Everything is okay except for the last line of the file: when I want to delete the last line the result is an empty line in place of the deleted line but it should have nothing and not an empty line</p>\n\n<pre><code>char line[255];\nunsigned int countline=0;\nunsigned int linetodelete;//fixed by the user\n\nFILE *file=fopen(filename,\"r\");\nFILE *filetemp=fopen(\"__tempfile__\",\"w\");\n\nwhile(fgets(line,255,file)!=NULL){\n    if(countline!=linetodelete)\n        fputs(line,filetemp);\n    countline++;\n}\n\nfclose(file);\nfclose(filetemp);\n\nfile=fopen(filename,\"w\");\nfiletemp=fopen(\"__tempfile__\",\"r\");\n\nwhile(fgets(line,255,filetemp)!=NULL)\n    fputs(line,file);\n\nfclose(file);\nfclose(filetemp);\nremove(\"__tempfile__\");\n</code></pre>\n\n<p>file example: (I add line number to illustrate what we can see in the file)</p>\n\n<pre><code>000 line0\n001 line1\n002 line2\n</code></pre>\n\n<p>result when asking to delete line 1 (001):</p>\n\n<pre><code>000 line0\n001 line2\n</code></pre>\n\n<p>result when asking to delete line 2 (002):</p>\n\n<pre><code>000 line0\n001 line1\n002\n</code></pre>\n\n<p>see the blank line ? Why is this ? How to deal with it ? Thanks</p>\n\n<p>EDIT: precisions</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nvoid deleteline(const char *filename,unsigned int linetodelete){\n    FILE *file=fopen(filename,\"r\");\n    FILE *filetemp=fopen(\"__tempfile__\",\"w\");\n\n    char line[255];\n    unsigned int countline=0;\n\n    while(fgets(line,255,file)!=NULL){\n        if(countline!=linetodelete)\n            fputs(line,filetemp);\n        countline++;\n    }\n    fclose(file);\n    fclose(filetemp);\n    rename(\"__tempfile__\",filename);\n}\nvoid print(const char *filename){\n    FILE *file=fopen(filename,\"r\");\n\n    char line[255];\n    unsigned int countline=0;\n\n    while(fgets(line,255,file)!=NULL){\n        printf(\"%03d \", countline);\n        printf(\"%s\",line);\n        countline++;\n    }\n    printf(\"\\r\\n\");\n    fclose(file);\n}\nint main(){\n    printf(\"before\\n\");\n    print(\"test.txt\");\n    deleteline(\"test.txt\",2);\n    printf(\"after\\n\");\n    print(\"test.txt\");\n}\n</code></pre>\n\n<p>before:</p>\n\n<pre><code>cat -n test.txt \n1   line0 \n2   line1 \n3   line2\n</code></pre>\n\n<p>after: </p>\n\n<pre><code>cat -n test.txt\n1   line0 \n2   line1 \n</code></pre>\n\n<p>and here is what I get in my file editor:</p>\n\n<p><a href=\"https://imgur.com/8Wbiwk2\" rel=\"nofollow noreferrer\">http://imgur.com/8Wbiwk2</a></p>\n\n<p>in term:</p>\n\n<p><a href=\"https://imgur.com/WGNSmgf\" rel=\"nofollow noreferrer\">http://imgur.com/WGNSmgf</a></p>\n"}, {"tags": ["c", "fortran"], "comments": [{"owner": {"reputation": 24099, "user_id": 3157076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB4zi.png?s=128&g=1", "display_name": "francescalus", "link": "https://stackoverflow.com/users/3157076/francescalus"}, "edited": false, "score": 0, "creation_date": 1480547634, "post_id": 40899783, "comment_id": 69013714, "body": "The message means that the argument matching <code>shape</code> must be an array rather than a scalar.  In your case, simply  <code>call c_f_pointer(A%status,status,[N])</code>"}, {"owner": {"reputation": 7672, "user_id": 4999991, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/y69di.png?s=128&g=1", "display_name": "Foad", "link": "https://stackoverflow.com/users/4999991/foad"}, "reply_to_user": {"reputation": 24099, "user_id": 3157076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB4zi.png?s=128&g=1", "display_name": "francescalus", "link": "https://stackoverflow.com/users/3157076/francescalus"}, "edited": false, "score": 0, "creation_date": 1480547959, "post_id": 40899783, "comment_id": 69013805, "body": "thanks a lot. it was so easy, why the compiler message is so confusing? what does that rank means?"}, {"owner": {"reputation": 7672, "user_id": 4999991, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/y69di.png?s=128&g=1", "display_name": "Foad", "link": "https://stackoverflow.com/users/4999991/foad"}, "reply_to_user": {"reputation": 24099, "user_id": 3157076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB4zi.png?s=128&g=1", "display_name": "francescalus", "link": "https://stackoverflow.com/users/3157076/francescalus"}, "edited": false, "score": 0, "creation_date": 1480548864, "post_id": 40899783, "comment_id": 69014143, "body": "o! so my bad. I&#39;m not a fortran programer. just started learning. you helped a lot. tnx."}], "owner": {"reputation": 7672, "user_id": 4999991, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/y69di.png?s=128&g=1", "display_name": "Foad", "link": "https://stackoverflow.com/users/4999991/foad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480548971, "creation_date": 1480546547, "last_edit_date": 1480548971, "question_id": 40899783, "link": "https://stackoverflow.com/questions/40899783/error-shape-argument-of-c-f-pointer-intrinsic-at-1-must-be-of-rank-1-fort", "title": "Error: &#39;shape&#39; argument of &#39;c_f_pointer&#39; intrinsic at (1) must be of rank 1 fortran C mixed programing", "body": "<p>I'm very new to the whole mixed fortran C programming. trying to compile the examples mentioned in <a href=\"http://www.pgroup.com/userforum/viewtopic.php?t=1764&amp;highlight=fortran%20bind\" rel=\"nofollow noreferrer\">this page</a> but I get some error which I do not understand.\nthe C part compiles properly so I just put the fortran code here:</p>\n\n<pre><code>MODULE type_mod\n\n  USE iso_c_binding\n\n  TYPE, bind(c) :: type2_t\n  INTEGER(c_int) :: idx, size\nEND TYPE type2_t\n\nTYPE, bind(c) :: type3_t\nINTEGER(c_int) :: idx, size\nEND TYPE type3_t\n\nTYPE, bind(c) :: type1_t\nTYPE(type2_t) :: params\nTYPE(c_ptr) :: status\nINTEGER(c_int) :: idx\nEND TYPE type1_t\n\nEND MODULE type_mod\n\nPROGRAM test_f_to_c\n\n  USE iso_c_binding\n  USE type_mod\n\n  INTERFACE\n     SUBROUTINE init_data(A,N) bind(c)\n   USE iso_c_binding\n   USE type_mod\n   TYPE(type1_t) :: A\n   INTEGER(c_int), value :: N\n     END SUBROUTINE init_data\n  END INTERFACE\n\n  INTEGER, value :: N\n  PARAMETER(N=10)\n  TYPE(type1_t) :: A\n  INTEGER :: i\n  TYPE(type3_t), DIMENSION(:), POINTER :: status\n\n  CALL init_data(A,N)\n\n  PRINT *, A%idx, A%params%idx, A%params%size\n  CALL c_f_pointer(A%status,status,[N])\n  DO i=1,N\n     PRINT *, i, status(i)%idx, status(i)%size\n  ENDDO\n\nEND PROGRAM test_f_to_c \n</code></pre>\n\n<p>and I compile it with</p>\n\n<pre><code>gfortran -c foo.f90\n</code></pre>\n\n<p>and the error I get:</p>\n\n<pre><code>test13F.f90:35:33:\n CALL c_f_pointer(A%status,status,N)\n                                 1\nError: 'shape' argument of 'c_f_pointer' intrinsic at (1) must be of rank 1\n</code></pre>\n\n<p>I would appreciate if you could help me understand why I'm getting this error, how can I solve it, and if there are other examples please give a link.</p>\n\n<p>P.S. sorry if the indentations of the code are messy. I wish stackoverflow had a proper tool for copy and pasting code which wouldn't mess up with indentations like this!</p>\n\n<p>edit1: based on the comments I fixed the code and it should work now. </p>\n"}, {"tags": ["c", "dynamic-memory-allocation", "realloc"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480546010, "post_id": 40899625, "comment_id": 69013064, "body": "1) A pointer is not an array. 2) C does not have a distinct string type. 3) What does your C book say about <code>strlen</code> and C strings in general? What did your find by a simple search?"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1480546655, "post_id": 40899625, "comment_id": 69013325, "body": "Why are you applying <code>strlen</code> to what appears to be an array of <code>int</code>s? What do you expect <code>strlen</code> to do in this case? And what did the compiler tell you about your <code>strlen(array)</code> expression?"}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 2, "last_activity_date": 1480545990, "creation_date": 1480545990, "answer_id": 40899657, "question_id": 40899625, "link": "https://stackoverflow.com/questions/40899625/why-is-length-of-array-still-same-after-realloc/40899657#40899657", "title": "Why is length of array still same after realloc?", "body": "<p><code>strlen</code> computes the length of a NUL-terminated string. It is 5 by luck (encounters a zero at some point): undefined behaviour.</p>\n\n<p>And it's a size in <em>bytes</em>. The size of your array is <code>5*sizeof(int)</code> so probably 20 or 40 depending on the actual size of <code>int</code>. Not what you're looking for anyway.</p>\n\n<p>There's no way of telling the \"length\" of an block allocated by <code>malloc</code> or <code>realloc</code> (aside from storing it!)</p>\n\n<p>(but your <code>realloc</code> operation is valid)</p>\n\n<p>note: variations of this mistake would be to rely on <code>sizeof(array)</code> which is the size of the pointer type because <code>array</code> is a pointer, not an array!</p>\n"}], "owner": {"reputation": 119, "user_id": 7226363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ad93482c59cb78702407ed5b50861fe?s=128&d=identicon&r=PG&f=1", "display_name": "Zvnoky Brown", "link": "https://stackoverflow.com/users/7226363/zvnoky-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "closed_date": 1480606121, "answer_count": 1, "score": -2, "last_activity_date": 1480545990, "creation_date": 1480545878, "question_id": 40899625, "link": "https://stackoverflow.com/questions/40899625/why-is-length-of-array-still-same-after-realloc", "closed_reason": "Needs details or clarity", "title": "Why is length of array still same after realloc?", "body": "<p>This is part of my code :</p>\n\n<pre><code>array = (int *) malloc(5*sizeof(int)); \n</code></pre>\n\n<p>it is initialised and has some values, I am skipping this step here for more clearance.</p>\n\n<pre><code>memmove(array, array + 1, 4*sizeof(int));\narray = realloc(array, 4*sizeof(int));\n</code></pre>\n\n<p>What i wanted to accomplish here is to remove first member of array and to move whole array one step to the left. Still when I try to check length of array using :</p>\n\n<pre><code>strlen(array);\n</code></pre>\n\n<p>I get value 5. It seems like realloc doesn't work properly, because when I also try to print fifth element of an array, which should be after realloc out of arrays range, it prints value which i previously gave to it. How is it possible? </p>\n\n<p>Can somebody point me out where am I making mistake and what am I missing?  </p>\n"}, {"tags": ["c", "pointers", "char-pointer"], "comments": [{"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "edited": false, "score": 5, "creation_date": 1480543756, "post_id": 40899122, "comment_id": 69012052, "body": "Read about <b>strings</b>, <b>pointers</b>, <b>arrays</b> and <b>dynamic memory allocation</b> together with <b>format specification</b>. Add cherry on cake by reading about <i>undefined behavior</i>."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 1, "creation_date": 1480543820, "post_id": 40899122, "comment_id": 69012081, "body": "Something around here is lacking memory and that is <code>str</code>."}, {"owner": {"reputation": 925, "user_id": 6476545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8ac5ad896ea48d92ab8cae28ad8bd6?s=128&d=identicon&r=PG&f=1", "display_name": "eddiem", "link": "https://stackoverflow.com/users/6476545/eddiem"}, "edited": false, "score": 0, "creation_date": 1480543914, "post_id": 40899122, "comment_id": 69012124, "body": "Aside from the fact that you didn&#39;t allocate memory for <code>str</code>, case 2 is the correct implementation.  Add a <code>str = malloc(50);</code> or similar before using it.  You are getting lucky in case 1 and just blasting some memory that doesn&#39;t belong to you."}, {"owner": {"reputation": 27279, "user_id": 857132, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4fd51ed5980999c7c6ce3729d6cb2184?s=128&d=identicon&r=PG", "display_name": "John3136", "link": "https://stackoverflow.com/users/857132/john3136"}, "edited": false, "score": 0, "creation_date": 1480543955, "post_id": 40899122, "comment_id": 69012141, "body": "Assume for a moment that case 1 is right. What makes you think that in case 2 you don&#39;t need to use <code>&amp;</code> - case 1 and case 2 can not both be right. You can&#39;t just make it up as you go along. You need to use the correct types."}, {"owner": {"reputation": 83, "user_id": 6436907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iMcVt.jpg?s=128&g=1", "display_name": "Uddalak Bhaduri", "link": "https://stackoverflow.com/users/6436907/uddalak-bhaduri"}, "edited": false, "score": 0, "creation_date": 1480544886, "post_id": 40899122, "comment_id": 69012530, "body": "thank you everyone, i appreciate your answers and will get myself rectified"}, {"owner": {"reputation": 3596, "user_id": 1753435, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b81cf3b8c8432e0bcac7322120a09b56?s=128&d=identicon&r=PG", "display_name": "andreee", "link": "https://stackoverflow.com/users/1753435/andreee"}, "reply_to_user": {"reputation": 925, "user_id": 6476545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8ac5ad896ea48d92ab8cae28ad8bd6?s=128&d=identicon&r=PG&f=1", "display_name": "eddiem", "link": "https://stackoverflow.com/users/6476545/eddiem"}, "edited": false, "score": 0, "creation_date": 1481460698, "post_id": 40899122, "comment_id": 69377793, "body": "@eddiem, neither of the implementations is correct. Even if there were any memory associated to str, you would pass str to scanf(), not &amp;str."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 6436907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iMcVt.jpg?s=128&g=1", "display_name": "Uddalak Bhaduri", "link": "https://stackoverflow.com/users/6436907/uddalak-bhaduri"}, "edited": false, "score": 0, "creation_date": 1480544704, "post_id": 40899338, "comment_id": 69012446, "body": "Thanks a lot @YuriLaguardia"}, {"owner": {"reputation": 585, "user_id": 7039091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1228413217190279/picture?type=large", "display_name": "yLaguardia", "link": "https://stackoverflow.com/users/7039091/ylaguardia"}, "reply_to_user": {"reputation": 83, "user_id": 6436907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iMcVt.jpg?s=128&g=1", "display_name": "Uddalak Bhaduri", "link": "https://stackoverflow.com/users/6436907/uddalak-bhaduri"}, "edited": false, "score": 0, "creation_date": 1480544831, "post_id": 40899338, "comment_id": 69012503, "body": "@yano Oops. Absolutely!"}, {"owner": {"reputation": 83, "user_id": 6436907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iMcVt.jpg?s=128&g=1", "display_name": "Uddalak Bhaduri", "link": "https://stackoverflow.com/users/6436907/uddalak-bhaduri"}, "edited": false, "score": 0, "creation_date": 1480545020, "post_id": 40899338, "comment_id": 69012605, "body": "Sorry @yano. I am new to StackOverflow so not quite used to it. I thank you for sharing the correct code with me :)"}, {"owner": {"reputation": 2445, "user_id": 3476780, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abf771bddcd864626a0e1499ccfc699b?s=128&d=identicon&r=PG&f=1", "display_name": "yano", "link": "https://stackoverflow.com/users/3476780/yano"}, "reply_to_user": {"reputation": 83, "user_id": 6436907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iMcVt.jpg?s=128&g=1", "display_name": "Uddalak Bhaduri", "link": "https://stackoverflow.com/users/6436907/uddalak-bhaduri"}, "edited": false, "score": 0, "creation_date": 1480608163, "post_id": 40899338, "comment_id": 69042548, "body": "@UddalakBhaduri No thanks to me (or need to apologize..?) this is all Yuri&#39;s code! Don&#39;t let the downvotes get you down, as long as you&#39;re learning something that&#39;s what matters. You got DVed because questions like this have been asked many, many times before."}], "tags": [], "owner": {"reputation": 585, "user_id": 7039091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1228413217190279/picture?type=large", "display_name": "yLaguardia", "link": "https://stackoverflow.com/users/7039091/ylaguardia"}, "is_accepted": true, "score": 2, "last_activity_date": 1480544848, "last_edit_date": 1480544848, "creation_date": 1480544535, "answer_id": 40899338, "question_id": 40899122, "link": "https://stackoverflow.com/questions/40899122/unexpected-output-of-printf-for-a-string-in-c/40899338#40899338", "title": "Unexpected output of printf for a string in C", "body": "<p>None of those two cases are right.</p>\n\n<p><strong>Case 1 only worked because you got lucky</strong>, probably by giving a <strong>short</strong> string as input. Try something like <code>\"bfjabfabjkbfjkasjkvasjkvjksbkjafbskjbfakbsjfbjasbfjasbfkjabsjfkbaksbfjasbfkja\"</code> and you'll suffer a seg fault, most likely.</p>\n\n<p>You should have a block of memory associated with <code>str</code>, either on the stack by declaring an array for it or on the heap <code>malloc</code>'ing memory for it.  </p>\n\n<p>And you shouldn't use the <code>&amp;</code> operator. </p>\n\n<p>So it would go like this:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    char str[50];   // 50 is arbitrary\n    scanf(\"%s\",str);\n    printf(\"%s\",str);\n    return 0;\n}\n</code></pre>\n\n<p>or like this:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\nint main()\n{\n    char* str = malloc(50);   // 50 is arbitrary\n    scanf(\"%s\",str);\n    printf(\"%s\",str);\n    free(str);\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 6436907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iMcVt.jpg?s=128&g=1", "display_name": "Uddalak Bhaduri", "link": "https://stackoverflow.com/users/6436907/uddalak-bhaduri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 40899338, "answer_count": 1, "score": -6, "last_activity_date": 1480544848, "creation_date": 1480543641, "last_edit_date": 1480544132, "question_id": 40899122, "link": "https://stackoverflow.com/questions/40899122/unexpected-output-of-printf-for-a-string-in-c", "title": "Unexpected output of printf for a string in C", "body": "<p>Case 1:\nWhen I take string input, it successfully gives the output, writing this piece of code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    char *str;\n    scanf(\"%s\",&amp;str);\n    printf(\"%s\",&amp;str);\n    return 0;\n}\n</code></pre>\n\n<p>Case 2:\nOn the other hand, it throws a Runtime Error for this snippet:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    char *str;\n    scanf(\"%s\",&amp;str);\n    printf(\"%s\",str);\n    return 0;\n}\n</code></pre>\n\n<p>I found this thing peculiar, and want to know why it happens...\nThanks in advance.</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 22202, "user_id": 696391, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VrUwT.jpg?s=128&g=1", "display_name": "samgak", "link": "https://stackoverflow.com/users/696391/samgak"}, "edited": false, "score": 4, "creation_date": 1480542816, "post_id": 40898829, "comment_id": 69011613, "body": "A 2D array is not the same as a pointer to a pointer. See <a href=\"http://stackoverflow.com/questions/4470950/why-cant-we-use-double-pointer-to-represent-two-dimensional-arrays\">this</a>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 2, "creation_date": 1480544850, "post_id": 40898829, "comment_id": 69012514, "body": "And you ignored the compiler warnings because ... ?"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1480548451, "post_id": 40898829, "comment_id": 69013969, "body": "also having a function in a header file is (generally) a Bad Idea(tm)"}, {"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1480613951, "post_id": 40898829, "comment_id": 69046245, "body": "this line: <code>backgrounds(5,screen);</code> is not passing a <code>**screen</code>   Suggest the <code>backgrounds()</code> function signature be: <code>void backgrounds( int choice, char screen[][80] )</code>"}, {"owner": {"reputation": 13, "user_id": 7233196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeb155cfde314d827c8e81db9bbb51a2?s=128&d=identicon&r=PG&f=1", "display_name": "hei wiper", "link": "https://stackoverflow.com/users/7233196/hei-wiper"}, "reply_to_user": {"reputation": 22202, "user_id": 696391, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VrUwT.jpg?s=128&g=1", "display_name": "samgak", "link": "https://stackoverflow.com/users/696391/samgak"}, "edited": false, "score": 0, "creation_date": 1480615441, "post_id": 40898829, "comment_id": 69047052, "body": "@samgak I see, now I understand how it&#39;s working thank you !"}, {"owner": {"reputation": 13, "user_id": 7233196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeb155cfde314d827c8e81db9bbb51a2?s=128&d=identicon&r=PG&f=1", "display_name": "hei wiper", "link": "https://stackoverflow.com/users/7233196/hei-wiper"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480615511, "post_id": 40898829, "comment_id": 69047085, "body": "@Olaf the compiler didn&#39;t mention about it"}, {"owner": {"reputation": 13, "user_id": 7233196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeb155cfde314d827c8e81db9bbb51a2?s=128&d=identicon&r=PG&f=1", "display_name": "hei wiper", "link": "https://stackoverflow.com/users/7233196/hei-wiper"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1480615608, "post_id": 40898829, "comment_id": 69047145, "body": "@pm100 I will look what best works for it ,@user3629249 I fixed the problem with the second code in the comment below"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480615953, "post_id": 40898829, "comment_id": 69047337, "body": "@heiwiper: Get a modern compiler then and enable recommended warnings."}, {"owner": {"reputation": 13, "user_id": 7233196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeb155cfde314d827c8e81db9bbb51a2?s=128&d=identicon&r=PG&f=1", "display_name": "hei wiper", "link": "https://stackoverflow.com/users/7233196/hei-wiper"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480630241, "post_id": 40898829, "comment_id": 69054785, "body": "@Olaf modem compiler ?? I&#39;m working with GNU compiler in codeblocks 16.01"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480631172, "post_id": 40898829, "comment_id": 69055259, "body": "I&#39;m pretty sure I wrote &quot;mode<b>r</b>n&quot; and also mentioned to enable warnings. You definitively should get a type missmatch warning."}, {"owner": {"reputation": 13, "user_id": 7233196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeb155cfde314d827c8e81db9bbb51a2?s=128&d=identicon&r=PG&f=1", "display_name": "hei wiper", "link": "https://stackoverflow.com/users/7233196/hei-wiper"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480634667, "post_id": 40898829, "comment_id": 69056572, "body": "@Olaf Ah sorry didn&#39;t read it well, and I will look at it Thank you !"}], "answers": [{"comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480545063, "post_id": 40898899, "comment_id": 69012628, "body": "&quot;This is straightforward for a 1 dimensional array, but not for higher dimensions.&quot; - That&#39;s wrong. It is very well straight-forward: It decays to a pointer to an array of one less dimension: a 2D array decays to a pointer to a 1D array, a 3D array to a pointer to 2D array, etc. As you wrote: an array decays to a pointer to its element. An element of a (n)D-array is an (n-1)D array. With a 0D array being a single element."}, {"owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480548107, "post_id": 40898899, "comment_id": 69013849, "body": "@Olaf &quot;straightforward&quot; probably wasn&#39;t the best choice of words.  Changed to &quot;simple&quot;."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480548274, "post_id": 40898899, "comment_id": 69013911, "body": "I&#39;m still not happy with this. Maybe I&#39;m too deep into this, but to me it as both, straight-forward and obvious: an array always decays to a pointer to the first element. There is no exception how many dimensions. Actually the confusion is that ppl don&#39;t stop after this decaing, but think it recurses to the next dimension and so on. But that&#39;s <b>not</b> obvious to me. Anyway, I don&#39;t intend to DV for this, so feel free to ignore my comment :-)"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1480548547, "post_id": 40898899, "comment_id": 69014005, "body": "I would just say &#39;do this&#39; and have the direct [24][80] version"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1480548727, "post_id": 40898899, "comment_id": 69014071, "body": "@pm100: Agreed with a slight modification: No magic numbers. Either a VLA with dimensions passed (most flexible) or macros with the constants."}], "tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": true, "score": 3, "last_activity_date": 1480549100, "last_edit_date": 1480549100, "creation_date": 1480542804, "answer_id": 40898899, "question_id": 40898829, "link": "https://stackoverflow.com/questions/40898829/changing-an-array-value-from-a-function-in-c/40898899#40898899", "title": "Changing an array value from a function in C", "body": "<p>A <code>char [24][80]</code> cannot be converted to a <code>char **</code>.</p>\n\n<p>When passed to a function, an array decays into a pointer to its first element.  This is simple for a 1 dimensional array, but less so for higher dimensions.</p>\n\n<p>In this case, a <code>char [24][80]</code> is an array of <code>char [80]</code>.  So passing a variable of this type to a function yields a <code>char (*)[80]</code>.</p>\n\n<p>Change your function definition to either this:</p>\n\n<pre><code>void backgrounds(int choice,char (*screen)[80])\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>void backgrounds(int choice,char screen[24][80])\n</code></pre>\n\n<p>Or you can use a variable length array for maximum flexibility:</p>\n\n<pre><code>void backgrounds(int choice, int x, int y, char screen[x][y])\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7233196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeb155cfde314d827c8e81db9bbb51a2?s=128&d=identicon&r=PG&f=1", "display_name": "hei wiper", "link": "https://stackoverflow.com/users/7233196/hei-wiper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 40898899, "answer_count": 1, "score": 1, "last_activity_date": 1480549100, "creation_date": 1480542526, "question_id": 40898829, "link": "https://stackoverflow.com/questions/40898829/changing-an-array-value-from-a-function-in-c", "title": "Changing an array value from a function in C", "body": "<p>The program crashes right in the instruction mentioned in the source code (I didn't write all the code because it's too long)</p>\n\n<pre><code>int main()\n{\nchar screen[24][80];\n\n//......every thing is well until this instruction\n\nbackgrounds(5,screen);\n\n//......the program doesn't execute the rest of the code\n\n}\n//______________________________________________________\n\n//this is a header file\n\nvoid backgrounds(int choice,char **screen)\n{   \n    if(choice==5)\n    {\n        screen[18][18]='-';\n        screen[18][19]='-';\n        screen[18][20]='-';\n    }\n}\n</code></pre>\n"}, {"tags": ["c", "linux", "stat"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1480542023, "post_id": 40898697, "comment_id": 69011227, "body": "<code>if(stat(direntp-&gt;d_name, &amp;statbuf) d_name);</code> : does that compile?"}, {"owner": {"reputation": 19, "user_id": 7161731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3778f491f6e3034b555c5bde62e7d0da?s=128&d=identicon&r=PG&f=1", "display_name": "Jinmae Jin", "link": "https://stackoverflow.com/users/7161731/jinmae-jin"}, "edited": false, "score": 0, "creation_date": 1480542602, "post_id": 40898697, "comment_id": 69011497, "body": "I fixed code. left bracket was omitted cuz it is regarded as a tag in html, so I changed to == -1"}, {"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 2, "creation_date": 1480542742, "post_id": 40898697, "comment_id": 69011576, "body": "<code>if(direntp-&gt;d_name[0] != &#39;.&#39;);</code> means that everything after that line runs without regard to the value of <code>direntp-&gt;d_name[0]</code>"}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1480543544, "post_id": 40898697, "comment_id": 69011946, "body": "<code>doesn&#39;t matter, This isn&#39;t a mistake</code> No it isn&#39;t a syntax error, but it is effectively a no-op and complete nonsense. (and you should not exit on stat() faulre but just continue (Because of race conditions, for instance))"}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 3, "last_activity_date": 1553415815, "last_edit_date": 1553415815, "creation_date": 1480542221, "answer_id": 40898777, "question_id": 40898697, "link": "https://stackoverflow.com/questions/40898697/whats-wrong-with-my-stat-function-in-c-in-linux/40898777#40898777", "title": "What&#39;s wrong with my stat() function in C in linux", "body": "<p>The <code>opendir</code> function returns directory contents using <em>relative</em> path, not absolute.</p>\n\n<p>When you're not scanning the current directory, you only have the name of the entry, but not its full path, so <code>stat</code> fails on all entries because it looks them up in the current directory (but <code>.</code> and <code>..</code> which also exist in the current directory).</p>\n\n<p>Of course it works in the current directory, where you don't have this problem.</p>\n\n<p>Fix: compose the full pathname, ex like this:</p>\n\n<pre><code>char fp[PATH_MAX];\nsnprintf(fp, sizeof(fp), \"%s/%s\", argv[1], direntp-&gt;d_name);\nif(stat(fp, &amp;statbuf)) {\n...\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 7161731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3778f491f6e3034b555c5bde62e7d0da?s=128&d=identicon&r=PG&f=1", "display_name": "Jinmae Jin", "link": "https://stackoverflow.com/users/7161731/jinmae-jin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2264, "favorite_count": 0, "closed_date": 1542598250, "answer_count": 1, "score": 0, "last_activity_date": 1553415815, "creation_date": 1480541837, "last_edit_date": 1550029438, "question_id": 40898697, "link": "https://stackoverflow.com/questions/40898697/whats-wrong-with-my-stat-function-in-c-in-linux", "closed_reason": "Duplicate", "title": "What&#39;s wrong with my stat() function in C in linux", "body": "<p>I'm trying to list file infos(including directories etc) using stat()</p>\n\n<p>It works fine when I give \".\"(current directory) as argv[1] (ex. $./a.out .)</p>\n\n<p>but has an error when I give other directory such as \"..\", \"/\" etc.</p>\n\n<p>stat function returns -1(fail) when after direntp points \"..\"(parent directory).</p>\n\n<p>here's an example.</p>\n\n<pre><code>$ ls -a ..\n. .. sample temple\n\n$ ./a.out ..\nSuccess: .\nSuccess: ..\nFail: sample\nStat Call Error.\nTerminate.\n\n$\n</code></pre>\n\n<p>So why does it fail when I give other path to argument of stat()?</p>\n\n<p>here's my code below</p>\n\n<pre><code>#include \"stdio.h\"\n#include \"dirent.h\"\n#include \"sys/stat.h\"\n#include \"unistd.h\"\n#include \"stdlib.h\"\n\nint main(int argc, char const *argv[])\n{\n    DIR *dirp;\n    struct dirent *direntp;\n    struct stat statbuf;\n\n    dirp = opendir(argv[1]);\n    while((direntp = readdir(dirp)) != NULL)\n    {\n        if(direntp-&gt;d_ino == 0)\n            continue;\n        if(direntp-&gt;d_name[0] != '.'); /* doesn't matter, This isn't a mistake */\n        {\n            if(stat(direntp-&gt;d_name, &amp;statbuf) == -1)\n            {\n                printf(\"Fail: %s\\n\", direntp-&gt;d_name);\n                printf(\"Stat Call Error\\n\");\n                exit(-1);\n            }\n            printf(\"Success: %s\\n\", direntp-&gt;d_name);\n        }\n    }\n    closedir(dirp);\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "performance"], "comments": [{"owner": {"reputation": 2704, "user_id": 6794772, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d8db2b0d48b6e1b25657fda9ec4ae02?s=128&d=identicon&r=PG&f=1", "display_name": "Dellowar", "link": "https://stackoverflow.com/users/6794772/dellowar"}, "edited": false, "score": 0, "creation_date": 1480542042, "post_id": 40898627, "comment_id": 69011233, "body": "It&#39;s better to use defines (<code>#define NUMBER_OF_WINDOWS 3</code>) rather than constants, as it&#39;s more obvious to the compiler to optimize the for loops per my answer."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 1, "creation_date": 1480543205, "post_id": 40898627, "comment_id": 69011796, "body": "If you really want to know, compile with <code>-S</code> and look at the assembly. And/or profile both sets of code. There are a lot of different choices the compiler can make depending on the code in <code>doSomething</code>."}, {"owner": {"reputation": 27420, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1480554852, "post_id": 40898627, "comment_id": 69015785, "body": "&quot;Data set is ... not subject to change&quot;.  Until it does."}], "answers": [{"tags": [], "owner": {"reputation": 2704, "user_id": 6794772, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d8db2b0d48b6e1b25657fda9ec4ae02?s=128&d=identicon&r=PG&f=1", "display_name": "Dellowar", "link": "https://stackoverflow.com/users/6794772/dellowar"}, "is_accepted": true, "score": 8, "last_activity_date": 1480541851, "creation_date": 1480541851, "answer_id": 40898701, "question_id": 40898627, "link": "https://stackoverflow.com/questions/40898627/for-loop-or-no-loop-dataset-is-small-and-not-subject-to-change/40898701#40898701", "title": "For loop or no loop? (dataset is small and not subject to change)", "body": "<p>The classic Efficiency vs Organization. The for loops are much more human readable and the manual way is more machine readable.</p>\n\n<p>I recommend you use the loops. Because the compiler, if optimizing is enabled, will actually generate the manual code for you when it sees that the upper bounds are constant. That way you get the best of both worlds.</p>\n"}, {"tags": [], "owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "is_accepted": false, "score": 2, "last_activity_date": 1480553191, "last_edit_date": 1480553191, "creation_date": 1480541904, "answer_id": 40898708, "question_id": 40898627, "link": "https://stackoverflow.com/questions/40898627/for-loop-or-no-loop-dataset-is-small-and-not-subject-to-change/40898708#40898708", "title": "For loop or no loop? (dataset is small and not subject to change)", "body": "<p>First of all: How complex is your function <code>doSomething</code>? If it is (most likely this is so), then you will not notice any difference.</p>\n\n<p>In general, calling your function sequentially will be slightly more effective than the loop. But once again, the gain will be so tiny that it is not worth discussing it.</p>\n\n<p>Bear in mind that optimizing compilers do <code>loop unrolling</code>. This is essentially generating code that will rotate your loop smaller number of times while doing more work in each rotation (they will call your function 2-4 times in sequence). When the number of rotations is small and fixed compiler may easily eliminate the loop completely.</p>\n\n<p>Look at your code from the point of view of clarity and ease of modification. In many cases compiler will do a lot of useful tricks related to performance.</p>\n"}, {"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 1, "last_activity_date": 1480545113, "creation_date": 1480545113, "answer_id": 40899472, "question_id": 40898627, "link": "https://stackoverflow.com/questions/40898627/for-loop-or-no-loop-dataset-is-small-and-not-subject-to-change/40899472#40899472", "title": "For loop or no loop? (dataset is small and not subject to change)", "body": "<p>You may linearize your multi-dimensional array</p>\n\n<pre><code>paneState windowPanes[NUMBER_OF_WINDOWS * NUMBER_OF_PANES];\n\nand then\n\nfor (auto&amp; pane : windowPanes) {\n    doSomething(pane);\n}\n</code></pre>\n\n<p>Which avoid extra loop if compiler doesn't optimize it.</p>\n"}], "owner": {"reputation": 371, "user_id": 6923832, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ECOZvsHS5bQ/AAAAAAAAAAI/AAAAAAAAAPk/Y3G7W4TKuMQ/photo.jpg?sz=128", "display_name": "lyst", "link": "https://stackoverflow.com/users/6923832/lyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 40898701, "answer_count": 3, "score": 2, "last_activity_date": 1480553191, "creation_date": 1480541603, "last_edit_date": 1480544974, "question_id": 40898627, "link": "https://stackoverflow.com/questions/40898627/for-loop-or-no-loop-dataset-is-small-and-not-subject-to-change", "title": "For loop or no loop? (dataset is small and not subject to change)", "body": "<p>Let's say I have a situation where I have a matrix of a small, known size where the size is unlikely to change over the life of the software.  If I need to examine each matrix element, would it be more efficient to use a loop or to manually index into each matrix location?</p>\n\n<p>For example, let's say I have a system made up of 3 windows, 2 panes per window.  I need to keep track of state for each window pane.  In my system, there will only ever be 3 windows, 2 panes per window.</p>\n\n<pre><code>static const int NUMBER_OF_WINDOWS = 3;\nstatic const int NUMBER_OF_PANES = 2;\n\nstatic const int WINDOW_LEFT = 0;\nstatic const int WINDOW_MIDDLE = 1;\nstatic const int WINDOW_RIGHT = 2;\n\nstatic const int PANE_TOP = 0;\nstatic const int PANE_BOTTOM = 1;\n\npaneState windowPanes[NUMBER_OF_WINDOWS][NUMBER_OF_PANES];\n</code></pre>\n\n<p>Which of these accessing methods would be more efficient? </p>\n\n<p><strong>loop version:</strong></p>\n\n<pre><code>for (int ii=0; ii&lt;NUMBER_OF_WINDOWS; ii++)\n{\n  for (int jj=0; jj&lt;NUMBER_OF_PANES; jj++)\n  {\n    doSomething(windowPanes[ii][jj];\n  }\n}\n</code></pre>\n\n<p>vs. </p>\n\n<p><strong>manual access version:</strong></p>\n\n<pre><code>doSomething(windowPanes[WINDOW_LEFT][PANE_TOP]);\ndoSomething(windowPanes[WINDOW_MIDDLE][PANE_TOP]);\ndoSomething(windowPanes[WINDOW_RIGHT][PANE_TOP]);\n\ndoSomething(windowPanes[WINDOW_LEFT][PANE_BOTTOM]);\ndoSomething(windowPanes[WINDOW_MIDDLE][PANE_BOTTOM]);\ndoSomething(windowPanes[WINDOW_RIGHT][PANE_BOTTOM]);\n</code></pre>\n\n<p>Will the loop code generate branch instructions, and will those be more costly than the instructions that would be generated on the manual access?</p>\n"}, {"tags": ["c", "floating-point", "x86-16", "dosbox", "16-bit"], "comments": [{"owner": {"reputation": 925, "user_id": 6476545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8ac5ad896ea48d92ab8cae28ad8bd6?s=128&d=identicon&r=PG&f=1", "display_name": "eddiem", "link": "https://stackoverflow.com/users/6476545/eddiem"}, "edited": false, "score": 0, "creation_date": 1480541399, "post_id": 40898496, "comment_id": 69010891, "body": "Can you make the error occur more frequently if you increase the loop iterations from <code>9999</code>?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1480541500, "post_id": 40898496, "comment_id": 69010951, "body": "probably an emulator issue. You know that comparing floats like this is <i>bad</i> right?"}, {"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "edited": false, "score": 2, "creation_date": 1480541730, "post_id": 40898496, "comment_id": 69011067, "body": "That is beautifully strange. Mind posting the disassembly of the executable?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 2, "creation_date": 1480542225, "post_id": 40898496, "comment_id": 69011308, "body": "We can only speculate about what might be wrong.  I don&#39;t see any inherent problem in the program itself (not even in the FP equality comparisons).  I&#39;m inclined to suspect DOSBox, or at least the combination of this version of DOSBox with Windows 10.  v0.74 is 6.5 years old, and Windows 10 was not even a gleam in Bill Gates&#39;s eye when DB 0.74 was released."}, {"owner": {"reputation": 41564, "user_id": 3857942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXLnN.jpg?s=128&g=1", "display_name": "Michael Petch", "link": "https://stackoverflow.com/users/3857942/michael-petch"}, "edited": false, "score": 0, "creation_date": 1480542393, "post_id": 40898496, "comment_id": 69011382, "body": "There have been a number of problems over the years with DOSBox and floating point. It wouldn&#39;t surprise me if this happened. Probably some problem between translating the host SSE instructions to equivalent FPU."}, {"owner": {"reputation": 925, "user_id": 6476545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8ac5ad896ea48d92ab8cae28ad8bd6?s=128&d=identicon&r=PG&f=1", "display_name": "eddiem", "link": "https://stackoverflow.com/users/6476545/eddiem"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1480542454, "post_id": 40898496, "comment_id": 69011418, "body": "I&#39;m guessing it&#39;s something along the lines of the emulator&#39;s floating point state being such that the register it&#39;s using for <code>n</code> is <i>close enough</i> to 0.0 when it task switches back to run your program.  When your instruction to set the value to 0.0 runs, the emulator doesn&#39;t bother to do so since it&#39;s already 0 (within its tolerance).  But then your comparison is using a different (0) tolerance, so that values don&#39;t match.  As @Jean-Fran&#231;oisFabre suggests, using a comparison with a tolerance as opposed to <code>==</code> is probably a better course of action."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 4, "creation_date": 1480542691, "post_id": 40898496, "comment_id": 69011550, "body": "&quot;Click to activate another application window (away from DOSBox)&quot;: that would imply that maybe floating point registers are not properly handled/saved by DosBOX or the legacy libraries it was built with (and maybe I&#39;m way out in the woods). Well, funny."}, {"owner": {"reputation": 15461, "user_id": 9642, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5c5f08d92e1ce6b99fc90e365c9b0261?s=128&d=identicon&r=PG", "display_name": "Neil C. Obremski", "link": "https://stackoverflow.com/users/9642/neil-c-obremski"}, "edited": false, "score": 0, "creation_date": 1480550794, "post_id": 40898496, "comment_id": 69014732, "body": "The loop iterations is arbitrary; I can set it to 1 and it still happens. Comparing floats for equality is indeed hazardous. But this is an exact check that succeeds once and then fails a second time; it shows a memory corruption that&#39;s occurring at a larger level."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1480569252, "post_id": 40898496, "comment_id": 69019315, "body": "Various compiles have trouble with code that does not <i>use</i> FP math yet has a <code>double</code>. Try doing _something _interesting with <code>double n</code>"}, {"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1480592507, "post_id": 40898496, "comment_id": 69031737, "body": "Note: should never need to prototype the `main() function"}, {"owner": {"reputation": 15461, "user_id": 9642, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5c5f08d92e1ce6b99fc90e365c9b0261?s=128&d=identicon&r=PG", "display_name": "Neil C. Obremski", "link": "https://stackoverflow.com/users/9642/neil-c-obremski"}, "edited": false, "score": 0, "creation_date": 1480604351, "post_id": 40898496, "comment_id": 69039825, "body": "I had more interesting (3D) things going on with <code>double</code> earlier in the day that I stripped slowly away until I came up with this repro code. This ol&#39; compiler was complaining when I used <code>&#47;W3</code> and didn&#39;t have the prototype for <code>main()</code>."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1480733596, "post_id": 40898496, "comment_id": 69098668, "body": "What is the value of <code>FLT_EVAL_METHOD</code>?  Do you have a option to insure it is 0?  (All <code>double</code> math done as <code>double</code>)"}, {"owner": {"reputation": 15461, "user_id": 9642, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5c5f08d92e1ce6b99fc90e365c9b0261?s=128&d=identicon&r=PG", "display_name": "Neil C. Obremski", "link": "https://stackoverflow.com/users/9642/neil-c-obremski"}, "edited": false, "score": 0, "creation_date": 1480793024, "post_id": 40898496, "comment_id": 69112796, "body": "This compiler predates <code>FLT_EVAL_METHOD</code> but floating point literals default to <code>double</code> so I assuming that&#39;s what it uses for math"}, {"owner": {"reputation": 22422, "user_id": 634919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f4a87fe094961af20263d8e7ff445b2?s=128&d=identicon&r=PG", "display_name": "Nate Eldredge", "link": "https://stackoverflow.com/users/634919/nate-eldredge"}, "edited": false, "score": 1, "creation_date": 1616084913, "post_id": 40898496, "comment_id": 117898702, "body": "One note is that the &quot;succeeds once and fails second time&quot; is somewhat misleading; from the assembly you can see that the compiler has optimized out the first <code>if (n != 0.0)</code> test and kept only the second one.  So there is really just one compare being done after each <code>fldz</code>.  Doesn&#39;t explain the behavior, of course."}, {"owner": {"reputation": 240639, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "reply_to_user": {"reputation": 22422, "user_id": 634919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f4a87fe094961af20263d8e7ff445b2?s=128&d=identicon&r=PG", "display_name": "Nate Eldredge", "link": "https://stackoverflow.com/users/634919/nate-eldredge"}, "edited": false, "score": 0, "creation_date": 1616103027, "post_id": 40898496, "comment_id": 117906125, "body": "Almost certainly a DOSBox bug, not MSVC.  Especially given that you couldn&#39;t repro on DOSBox under Linux Mint, and that changing window focus is necessary(?) to repro.  And the actual asm is very simple, just comparing a zero against one it just stored.  As @NateEldredge said, the ERROR1 vs. ERROR2 message is just due to optimizing away one of the checks making ERROR1 impossible (or not with the other option)."}, {"owner": {"reputation": 240639, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1616103509, "post_id": 40898496, "comment_id": 117906285, "body": "Unless somehow another DOS program could leave the FPU in MMX state, which would make <code>fldz</code> fail.  Or with the x87 stack full, which would result in NaN instead of 0.0, and NAN != NAN.  But I&#39;d have expected an <code>finit</code> in the startup code that calls main, which would fix both problems.  (At least it does on Skylake, when I tested in long mode with <code>movd mm0, eax</code> / <code>finit</code> (with/without this)/ <code>fldz</code> / <code>fst qword [esp+4]</code>."}], "owner": {"reputation": 15461, "user_id": 9642, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5c5f08d92e1ce6b99fc90e365c9b0261?s=128&d=identicon&r=PG", "display_name": "Neil C. Obremski", "link": "https://stackoverflow.com/users/9642/neil-c-obremski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1616084082, "creation_date": 1480541117, "last_edit_date": 1616084082, "question_id": 40898496, "link": "https://stackoverflow.com/questions/40898496/any-insights-on-this-microsoft-c-5-1-floating-point-and-dosbox-weirdness", "title": "Any insights on this Microsoft C 5.1 floating point and DOSBox weirdness?", "body": "<p>This is a fantastically strange bug that has been tweaking my noodle for the better part of a day; it took me some time to boil it down to this.</p>\n\n<p>The setup:</p>\n\n<ul>\n<li>Microsoft C 5.10 (~1988)</li>\n<li>DOSBox 0.74</li>\n<li>Windows 10 (64-bit)</li>\n</ul>\n\n<p>The code (<code>double.c</code>):</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(int, char *[]);\n\nint main(int argc, char *argv[])\n{\n    int i;\n    double n;\n\n    if (argc &gt; 1) {\n        puts(argv[1]);\n    }\n\n    for (i = 0; i &lt; 9999; i++) {\n        n = 0.0;\n        if (n != 0.0) {\n            puts(\"ERROR1!\");\n            return -1;\n        }\n        if (n != 0.0) {\n            puts(\"ERROR2!\");\n            return -2;\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>The repro:</p>\n\n<ol>\n<li>Compile with MSC 5.1 with no switches (<code>cl double.c</code>)</li>\n<li>Run double.exe</li>\n<li>Click to activate another application window (away from DOSBox)</li>\n<li>Click back to DOSBox</li>\n<li>Repeat steps 2-4 until error occurs</li>\n</ol>\n\n<p>The screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vy8MY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vy8MY.png\" alt=\"DOSBox memory corruption MSC 5.1 floating point\"></a></p>\n\n<p>The notes:</p>\n\n<p>I've looked at the assembler and there's nothing strange about it. The <code>cl /help</code> shows that it defaults to <code>/FPi</code> or <em>inline with emulator</em> for handling floating point. I've changed this to <code>/FPc</code> (<em>calls with emulator</em>) with some success but an error still happens and usually it's ERROR1.</p>\n\n<p>Another bizarre thing: after it happens once or twice, it won't happen again until I recompile the executable!</p>\n\n<p>And finally, I tried this in DOSBox 0.74 on Linux Mint running on a 32-bit ATOM processor and <em>did not</em> repro the problem.</p>\n\n<p>I have no illusions about solving this but it's a real brain teaser and seeing as I couldn't find any information on my random, grasping internet searches, I thought I'd better leave this question for posterity.</p>\n\n<p>By popular demand, here's the assembly generated by the <code>/Fa</code> switch:</p>\n\n<pre><code>;    Static Name Aliases\n;\n    TITLE   double.c\n    NAME    double\n\n    .8087\n_TEXT    SEGMENT  WORD PUBLIC 'CODE'\n_TEXT    ENDS\n_DATA    SEGMENT  WORD PUBLIC 'DATA'\n_DATA    ENDS\nCONST    SEGMENT  WORD PUBLIC 'CONST'\nCONST    ENDS\n_BSS    SEGMENT  WORD PUBLIC 'BSS'\n_BSS    ENDS\nDGROUP    GROUP    CONST, _BSS, _DATA\n    ASSUME  CS: _TEXT, DS: DGROUP, SS: DGROUP\nEXTRN    __acrtused:ABS\nEXTRN    _puts:NEAR\nEXTRN    __chkstk:NEAR\nEXTRN    __fltused:NEAR\n_DATA      SEGMENT\n$SG167    DB    'ERROR1!',  00H\n$SG169    DB    'ERROR2!',  00H\n_DATA      ENDS\nCONST      SEGMENT\n$T20001    DQ    0000000000r    ;    .0000000000000000\nCONST      ENDS\n_TEXT      SEGMENT\n    ASSUME    CS: _TEXT\n; Line 6\n    PUBLIC    _main\n_main    PROC NEAR\n    push    bp\n    mov    bp,sp\n    mov    ax,12\n    call    __chkstk\n;    argc = 4\n;    argv = 6\n;    i = -2\n;    n = -10\n; Line 10\n    cmp    WORD PTR [bp+4],1    ;argc\n    jle    $I162\n; Line 11\n    mov    bx,WORD PTR [bp+6]    ;argv\n    push    WORD PTR [bx+2]\n    call    _puts\n    add    sp,2\n; Line 12\n; Line 14\n$I162:\n    mov    WORD PTR [bp-2],0    ;i\n    jmp    SHORT $F163\n$FC164:\n    inc    WORD PTR [bp-2]    ;i\n$F163:\n    cmp    WORD PTR [bp-2],9999    ;i\n    jge    $FB165\n; Line 15\n    fldz    \n    fst    QWORD PTR [bp-10]    ;n\n; Line 16\n    fcom    QWORD PTR $T20001\n    fstp    ST(0)\n    fstsw    WORD PTR [bp-12]\n    fwait    \n    mov    ah,BYTE PTR [bp-11]\n    sahf    \n    je    $FC164\n; Line 21\n    mov    ax,OFFSET DGROUP:$SG169\n    push    ax\n    call    _puts\n    add    sp,2\n; Line 22\n    mov    ax,-2\n    mov    sp,bp\n    pop    bp\n    ret    \n$FB165:\n; Line 26\n    sub    ax,ax\n    mov    sp,bp\n    pop    bp\n    ret    \n\n_main    ENDP\n_TEXT    ENDS\nEND\n</code></pre>\n\n<p>Cheers!</p>\n"}, {"tags": ["c", "pointers", "segmentation-fault", "c-strings"], "comments": [{"owner": {"reputation": 46142, "user_id": 773113, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FKKLW.jpg?s=128&g=1", "display_name": "Mike Nakis", "link": "https://stackoverflow.com/users/773113/mike-nakis"}, "edited": false, "score": 0, "creation_date": 1480540462, "post_id": 40898262, "comment_id": 69010375, "body": "you forgot to include some sample input that causes the problem."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1480540615, "post_id": 40898262, "comment_id": 69010459, "body": "<code>while(strlen(line))</code> is basically an infinite loop. And you did not show us how <code>linep</code> is initialized. You may write to unallocated memory."}, {"owner": {"reputation": 231, "user_id": 3504732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d97a3bde87b904b95f0fb49f7a8845b?s=128&d=identicon&r=PG&f=1", "display_name": "byake", "link": "https://stackoverflow.com/users/3504732/byake"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480541122, "post_id": 40898262, "comment_id": 69010745, "body": "@Jean-Fran&#231;oisFabre that break is pretty much always going to happen, and doesn&#39;t strlen return 0 if given a pointer to a location that contains &#39;\\0&#39; ?"}, {"owner": {"reputation": 585, "user_id": 7039091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1228413217190279/picture?type=large", "display_name": "yLaguardia", "link": "https://stackoverflow.com/users/7039091/ylaguardia"}, "edited": false, "score": 1, "creation_date": 1480541229, "post_id": 40898262, "comment_id": 69010805, "body": "@user3504732 The break never happens and the loop is infinite every time the first character is a whitespace. Ex: &quot; hello&quot;"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480541338, "post_id": 40898262, "comment_id": 69010854, "body": "also true for dot character."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 2, "creation_date": 1480541400, "post_id": 40898262, "comment_id": 69010892, "body": "It would help if you explained what the function is supposed to do. And providing a <code>main</code> function that calls <code>setflags</code> would also help. See <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>."}, {"owner": {"reputation": 231, "user_id": 3504732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d97a3bde87b904b95f0fb49f7a8845b?s=128&d=identicon&r=PG&f=1", "display_name": "byake", "link": "https://stackoverflow.com/users/3504732/byake"}, "edited": false, "score": 0, "creation_date": 1480541442, "post_id": 40898262, "comment_id": 69010920, "body": "OK i do see the infinite loop issue if the first character is a space, but the loop isn&#39;t even executing once. and the first character of the input is a period."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 0, "creation_date": 1480541676, "post_id": 40898262, "comment_id": 69011036, "body": "Then you definitely need to show a minimal example that shows how the function is called, because the code shown will change the dot to a star and return. One possibility is that the caller passes a read-only string, in which case changing the dot to a star in not allowed."}, {"owner": {"reputation": 585, "user_id": 7039091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1228413217190279/picture?type=large", "display_name": "yLaguardia", "link": "https://stackoverflow.com/users/7039091/ylaguardia"}, "edited": false, "score": 0, "creation_date": 1480541786, "post_id": 40898262, "comment_id": 69011101, "body": "@user3504732 What do you mean by the loop executing? This program either: 1 - changes the first character to &#39;*&#39; if it&#39;s a &#39;.&#39; , then breaks; 2 - enters infinite loop if it&#39;s a &#39; &#39;;  3 - prints the string and breaks if neither.  As long as you&#39;re feeding it a pointer to a mutable array and not to a constant string of course."}, {"owner": {"reputation": 231, "user_id": 3504732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d97a3bde87b904b95f0fb49f7a8845b?s=128&d=identicon&r=PG&f=1", "display_name": "byake", "link": "https://stackoverflow.com/users/3504732/byake"}, "edited": false, "score": 0, "creation_date": 1480541794, "post_id": 40898262, "comment_id": 69011104, "body": "OK so I edited the code to try remove the infinite loop thing but that&#39;s not really the problem. i&#39;ll post a snipped of initialization"}], "answers": [{"tags": [], "owner": {"reputation": 2704, "user_id": 6794772, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d8db2b0d48b6e1b25657fda9ec4ae02?s=128&d=identicon&r=PG&f=1", "display_name": "Dellowar", "link": "https://stackoverflow.com/users/6794772/dellowar"}, "is_accepted": true, "score": 0, "last_activity_date": 1480546431, "creation_date": 1480546431, "answer_id": 40899758, "question_id": 40898262, "link": "https://stackoverflow.com/questions/40898262/segfault-when-assigning-to-indexed-dereferenced-pointer-to-string-in-c/40899758#40899758", "title": "Segfault when assigning to indexed dereferenced pointer to string in c", "body": "<p>Ignoring the problematic looping style, your seg fault is not diagnose-able until you show how you're using this function. My suspicions are you passing in a read-only string, such as:</p>\n\n<pre><code>char *string = \"this is read-only string literal\";\nsetflags(&amp;string); // error\n</code></pre>\n\n<p>If you are doing something like this, you must make it modifiable by using an array:</p>\n\n<pre><code>char string[] = \"this is a modifiable character array\";\nsetflags(&amp;string); // no error\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 3504732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d97a3bde87b904b95f0fb49f7a8845b?s=128&d=identicon&r=PG&f=1", "display_name": "byake", "link": "https://stackoverflow.com/users/3504732/byake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 40899758, "answer_count": 1, "score": 0, "last_activity_date": 1480546431, "creation_date": 1480540267, "last_edit_date": 1480541747, "question_id": 40898262, "link": "https://stackoverflow.com/questions/40898262/segfault-when-assigning-to-indexed-dereferenced-pointer-to-string-in-c", "title": "Segfault when assigning to indexed dereferenced pointer to string in c", "body": "<p>The <code>print</code> statement executes as expected, and if I print <code>line[0]</code> in the <code>if</code> statement, it also prints as expected. However, <code>gdb</code> tells me there is a <code>segfault</code> occuring in that <code>if</code> statement. Am I misunderstanding how to access characters in a <code>string</code>?</p>\n\n<p><strong>EDITED CODE TO REMOVE IRRELEVANT ERROR</strong></p>\n\n<pre><code>void setflags(char** linep)\n{\n  char* line = *linep;\n  while(strlen(line))\n  {\n    printf(\"%s\\n\",line);\n    if (line[0] == '.') \n      line[0] = '*';\n    else if (line[0] == ' ') \n      (*linep) ++;\n    else\n      break;\n    line = *linep;\n  }   \n}\n</code></pre>\n"}, {"tags": ["c", "http", "webserver"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4118818, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5bdac4bad6a039ed30dd1ab0f2b82be0?s=128&d=identicon&r=PG&f=1", "display_name": "dt647146", "link": "https://stackoverflow.com/users/4118818/dt647146"}, "edited": false, "score": 0, "creation_date": 1480600902, "post_id": 40910033, "comment_id": 69037249, "body": "I asked this question on the mailing and got a similar response, so sorry if this is the same person but:  It was defined in RFC 2518, which was updated/obsoleted by RFC 4918 for WebDAV.  Granted they removed http 102 from the specification (due to a lack of implementation) and advise that its IANA registration should continue to refer to RDF2518. It is implemented in libmicrohttpd as MHD_HTTP_PROCESSING.  Using the MHD_HTTP_PROCESSING code requires some mechanism to first send a response with this code and then send a final response."}], "tags": [], "owner": {"reputation": 51, "user_id": 3930520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c4c83aafb09f18dac01f7f754445?s=128&d=identicon&r=PG", "display_name": "Karlson2k", "link": "https://stackoverflow.com/users/3930520/karlson2k"}, "is_accepted": false, "score": 0, "last_activity_date": 1480594092, "last_edit_date": 1480594092, "creation_date": 1480593253, "answer_id": 40910033, "question_id": 40898060, "link": "https://stackoverflow.com/questions/40898060/connection-state-with-libmicrohttpd-and-http-102/40910033#40910033", "title": "Connection state with libmicrohttpd and http 102", "body": "<p>HTTP standards doesn't define response code <code>102</code>.<br>\nSee <a href=\"https://tools.ietf.org/html/rfc7231#section-6\" rel=\"nofollow noreferrer\">https://tools.ietf.org/html/rfc7231#section-6</a> <br>\nand <a href=\"https://tools.ietf.org/html/rfc2616#section-6.1.1\" rel=\"nofollow noreferrer\">https://tools.ietf.org/html/rfc2616#section-6.1.1</a></p>\n\n<p>HTTP protocol use request-response logic. If you already responded to some request then you can't add another response later to the same request.</p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 4118818, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5bdac4bad6a039ed30dd1ab0f2b82be0?s=128&d=identicon&r=PG&f=1", "display_name": "dt647146", "link": "https://stackoverflow.com/users/4118818/dt647146"}, "is_accepted": false, "score": 0, "last_activity_date": 1480618585, "creation_date": 1480618585, "answer_id": 40918351, "question_id": 40898060, "link": "https://stackoverflow.com/questions/40898060/connection-state-with-libmicrohttpd-and-http-102/40918351#40918351", "title": "Connection state with libmicrohttpd and http 102", "body": "<p>After talking with the developer, the 102 status code was defined \"for completeness\"; however, no attempt has been made to implement the required functionality to actually be able to use this status code in a meaningful way on a server developed with the libmicrohttpd library.</p>\n"}], "owner": {"reputation": 15, "user_id": 4118818, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5bdac4bad6a039ed30dd1ab0f2b82be0?s=128&d=identicon&r=PG&f=1", "display_name": "dt647146", "link": "https://stackoverflow.com/users/4118818/dt647146"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480618585, "creation_date": 1480539431, "question_id": 40898060, "link": "https://stackoverflow.com/questions/40898060/connection-state-with-libmicrohttpd-and-http-102", "title": "Connection state with libmicrohttpd and http 102", "body": "<p>What I am trying to achieved is:</p>\n\n<ol>\n<li><p>Send http 102 to client who requested somedoc.html</p></li>\n<li><p>Some processing on the side including out of band authentication</p></li>\n<li><p>If authenticated, send response built from somedoc.html, otherwise generic not auth message</p></li>\n</ol>\n\n<p>I'm having a failure of understanding somewhere, in that  I cannot seem to figure out how to send the 102 and save the connection details so that I can forward the response in step 3.  I had thought I could queue a response then either enter a wait loop or suspend the connection, but as far as I can tell I have to return from the <code>MHD_AcceptPolicyCallback</code> for the response to be sent, then I cannot figure out how to get back to the connection.  I have looked at the request completed call back but this still results in the 102 not being sent.</p>\n\n<p>I really can't figure out a process to achieve these steps from the examples or the manual and any help would be appreciated.  </p>\n"}, {"tags": ["c", "segmentation-fault", "dynamic-list"], "answers": [{"tags": [], "owner": {"reputation": 925, "user_id": 6476545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8ac5ad896ea48d92ab8cae28ad8bd6?s=128&d=identicon&r=PG&f=1", "display_name": "eddiem", "link": "https://stackoverflow.com/users/6476545/eddiem"}, "is_accepted": true, "score": 4, "last_activity_date": 1480538447, "creation_date": 1480538447, "answer_id": 40897789, "question_id": 40897709, "link": "https://stackoverflow.com/questions/40897709/terminated-by-signal-sigsegv-address-boundary-error/40897789#40897789", "title": "terminated by signal SIGSEGV (Address boundary error)", "body": "<p>Try compiling your code with all warnings enabled (<code>-Wall</code> with <code>gcc</code>).  Your line:</p>\n\n<pre><code>scanf(\"%d\", listA[i]);\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>scanf(\"%d\", &amp;listA[i]);\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 6308719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/279254b38fe3d4d1bc9e069707cd34eb?s=128&d=identicon&r=PG&f=1", "display_name": "Gargl", "link": "https://stackoverflow.com/users/6308719/gargl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1498, "favorite_count": 0, "accepted_answer_id": 40897789, "answer_count": 1, "score": 0, "last_activity_date": 1480538447, "creation_date": 1480538187, "question_id": 40897709, "link": "https://stackoverflow.com/questions/40897709/terminated-by-signal-sigsegv-address-boundary-error", "title": "terminated by signal SIGSEGV (Address boundary error)", "body": "<p>I am trying to query the user for first a number of inputs, then fill a dynamic list with that number of inputs. Then print them in reverse order. For some reason I get the SIGSEGV error, but I cannot find any infinite loops or address error. Help me find what is wrong.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main() {\n    int input;\n    printf(\"Enter a non-negative number: \");\n    scanf(\"%d\", &amp;input);\n\n    int *listA;\n    listA = (int*)malloc(sizeof(int[input]));\n    printf(\"Now, enter %d non-negative numbers: \", input);\n    for (int i = 0; i &lt; input; i++) {\n        scanf(\"%d\", listA[i]);\n    }\n    printf(\"In reverse order, your input is: \");\n    for (int i = input-1; i &gt;=0; i-- ) {\n        printf(\"%d\",listA[i]);\n    }\n    free(listA);\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c", "struct", "file-manipulation"], "comments": [{"owner": {"reputation": 1125, "user_id": 5672740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c16baffcdc08015ed0b3f9dcfd424751?s=128&d=identicon&r=PG&f=1", "display_name": "SenselessCoder", "link": "https://stackoverflow.com/users/5672740/senselesscoder"}, "edited": false, "score": 0, "creation_date": 1480538424, "post_id": 40897689, "comment_id": 69009255, "body": "I don&#39;t really understand the question. Why can&#39;t you just use printf? It seems like you got the &quot;harder&quot; parts done."}, {"owner": {"reputation": 217, "user_id": 6701599, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ihw-taH00ZU/AAAAAAAAAAI/AAAAAAAAAoA/LVhK_HfOlx4/photo.jpg?sz=128", "display_name": "Fernando Coelho", "link": "https://stackoverflow.com/users/6701599/fernando-coelho"}, "edited": false, "score": 0, "creation_date": 1480539321, "post_id": 40897689, "comment_id": 69009761, "body": "What is wrong with using something like printf(&quot;%s,%d,%lf,%lf&quot;, st-&gt;location == &#39;M&#39; ? &quot;Miami&quot; : &quot;Toronto&quot;, st-&gt;daynum, st-&gt;temp, st-&gt;precip); ?"}, {"owner": {"reputation": 119, "user_id": 5468887, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e531e31adcd790b54b661d601a03c545?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/5468887/john-smith"}, "edited": false, "score": 0, "creation_date": 1480539449, "post_id": 40897689, "comment_id": 69009830, "body": "but don&#39;t i have to open the file and do things with the file thats the main problem (in &#39;main&#39; im not sure what to do)"}, {"owner": {"reputation": 1412, "user_id": 3809561, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RTS59.jpg?s=128&g=1", "display_name": "yyny", "link": "https://stackoverflow.com/users/3809561/yyny"}, "edited": false, "score": 0, "creation_date": 1480540863, "post_id": 40897689, "comment_id": 69010620, "body": "@JohnSmith Is your intent perhaps to modify the input file? Do you want to read the file, modify it&#39;s data, then write it back? In that case you might want to let your <code>parseLine</code> function take a <code>FILE *</code>, and pass it <code>stdin</code>. This way you could run the program like: <code>myProg.exe &lt; info.txt &gt; info.txt</code>."}, {"owner": {"reputation": 119, "user_id": 5468887, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e531e31adcd790b54b661d601a03c545?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/5468887/john-smith"}, "edited": false, "score": 0, "creation_date": 1480541271, "post_id": 40897689, "comment_id": 69010823, "body": "no i do not want to modify its data. I will get back to you if your answer works"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 5468887, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e531e31adcd790b54b661d601a03c545?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/5468887/john-smith"}, "edited": false, "score": 0, "creation_date": 1480542345, "post_id": 40898398, "comment_id": 69011364, "body": "so im getting a ton of errors/warnings when i try to run it"}, {"owner": {"reputation": 119, "user_id": 5468887, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e531e31adcd790b54b661d601a03c545?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/5468887/john-smith"}, "edited": false, "score": 0, "creation_date": 1480542477, "post_id": 40898398, "comment_id": 69011433, "body": "ahhh you didn&#39;t use argc/argv"}, {"owner": {"reputation": 1412, "user_id": 3809561, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RTS59.jpg?s=128&g=1", "display_name": "yyny", "link": "https://stackoverflow.com/users/3809561/yyny"}, "reply_to_user": {"reputation": 119, "user_id": 5468887, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e531e31adcd790b54b661d601a03c545?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/5468887/john-smith"}, "edited": false, "score": 0, "creation_date": 1480542512, "post_id": 40898398, "comment_id": 69011444, "body": "@JohnSmith It <i>should</i> compile, but I did not check... Update: All warnings I get are from the coded copied from your question."}], "tags": [], "owner": {"reputation": 1412, "user_id": 3809561, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RTS59.jpg?s=128&g=1", "display_name": "yyny", "link": "https://stackoverflow.com/users/3809561/yyny"}, "is_accepted": false, "score": 0, "last_activity_date": 1480540754, "creation_date": 1480540754, "answer_id": 40898398, "question_id": 40897689, "link": "https://stackoverflow.com/questions/40897689/how-to-print-a-struct-using-a-file-in-c/40898398#40898398", "title": "How to print a struct using a file in C", "body": "<p>Do you want something like this?</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>void printStruct(FILE *fout, struct Weather *in)\n{\n    fprintf(fout, \"%s,%d,%f,%f\", in-&gt;location == 'M' ? \"Miami\" : \"Toronto\", in-&gt;daynum, in-&gt;temp, in-&gt;precip);\n}\n</code></pre>\n\n<p>Use it as follows:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdio.h&gt;\n\n#define ELEMSIZE(arr) (sizeof(*arr))\n#define ARRAYSIZE(arr) (sizeof(arr)/ELEMSIZE(arr))\n\nint main(void)\n{\n    char line[1024];\n    struct Weather weather;\n    FILE *fp;\n\n    fp = fopen(\"info.txt\", \"r\");\n    fread(line, ELEMSIZE(line), ARRAYSIZE(line), fp);\n    parseLine(line, &amp;weather);\n    printStruct(stdout, &amp;weather);\n    fclose(fp);\n\n    return 0;\n}\n</code></pre>\n\n<p>Note: You might want to change the first argument to <code>parseLine</code> to be a <code>FILE *</code> (You will have to do some magic to get <code>strtok</code> to work, but it will improve efficiency as well as flexability and scalability).</p>\n"}], "owner": {"reputation": 119, "user_id": 5468887, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e531e31adcd790b54b661d601a03c545?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/5468887/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 817, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480540754, "creation_date": 1480538118, "last_edit_date": 1480539606, "question_id": 40897689, "link": "https://stackoverflow.com/questions/40897689/how-to-print-a-struct-using-a-file-in-c", "title": "How to print a struct using a file in C", "body": "<p>The data file has weather data for Miami and Toronto (city name, the date, temperature, precipitation). I need to create a function that prints a struct but the values are in a .txt file. This is the file: (info.txt)</p>\n\n<pre><code>Miami,2,-6.4,0\nToronto,2,9.5,0.8\nMiami,3,-11.7,0\nToronto,3,6.1,0\n</code></pre>\n\n<p>This is the struct:</p>\n\n<pre><code>struct Weather{\n\n    char location;  //will be \"M\" or \"T\"\n    int daynum;\n    double temp;\n    double precip;\n};\n</code></pre>\n\n<p>This is a parser function:</p>\n\n<pre><code>void parseLine(char toParse[], struct Weather * toLoad)\n{     \n    char * theToken;     \n    theToken = strtok(toParse, \",\");     \n    toLoad-&gt;location = theToken[0];     \n    theToken = strtok(NULL, \",\");     \n    toLoad-&gt;daynum = atoi(theToken);     \n    theToken = strtok(NULL, \",\");     \n    if(theToken != NULL)\n    {         \n        toLoad-&gt;temp = atof(theToken);     \n    }     \n    else     \n    {         \n        toLoad-&gt;temp = -400;     \n    }     \n    theToken = strtok(NULL, \",\");     \n    if(theToken != NULL)     \n    {         \n        toLoad-&gt;precip = atof(theToken);     \n    }     \n    else     \n    {         \n        toLoad-&gt;precip = -1.0; \n    }\n}\n</code></pre>\n\n<p>So my question is how do I use the struct and the parse function to create another function that prints the values of location, daynum, temp, and precip.</p>\n\n<p>Note: im using argc and argv in my main function. You should also know im new to file manipulation and so I'm not exactly sure how to use file functions correctly.</p>\n\n<p>Edit: My primary problem is figuring out what to do in 'main' so that I can create the print function</p>\n"}, {"tags": ["c", "struct", "pthreads"], "comments": [{"owner": {"reputation": 644, "user_id": 7014281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cSk7z.png?s=128&g=1", "display_name": "glauxosdever", "link": "https://stackoverflow.com/users/7014281/glauxosdever"}, "edited": false, "score": 0, "creation_date": 1480538053, "post_id": 40897622, "comment_id": 69009047, "body": "Note that in C <code>*(p[i].master)</code> is equivalent to <code>p[i]-&gt;master</code>."}, {"owner": {"reputation": 69, "user_id": 3656189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dde3880097dbb56d48ba6da690a2ebf?s=128&d=identicon&r=PG&f=1", "display_name": "user100000", "link": "https://stackoverflow.com/users/3656189/user100000"}, "reply_to_user": {"reputation": 644, "user_id": 7014281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cSk7z.png?s=128&g=1", "display_name": "glauxosdever", "link": "https://stackoverflow.com/users/7014281/glauxosdever"}, "edited": false, "score": 0, "creation_date": 1480538203, "post_id": 40897622, "comment_id": 69009125, "body": "@glauxosdever I get a &quot; error: invalid type argument of \u2018-&gt;\u2019 &quot; when I try that."}, {"owner": {"reputation": 20670, "user_id": 26039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/15aacb48f4c894a6341e1013e9b5a42f?s=128&d=identicon&r=PG", "display_name": "eran", "link": "https://stackoverflow.com/users/26039/eran"}, "edited": false, "score": 1, "creation_date": 1480538374, "post_id": 40897622, "comment_id": 69009227, "body": "That&#39;s because they aren&#39;t equivalent. Your original use is ok. Had it been <code>(*p[i]).master</code> then changing to <code>p[i]-&gt;master</code> would have made sense. Now, it doesn&#39;t."}, {"owner": {"reputation": 69, "user_id": 3656189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dde3880097dbb56d48ba6da690a2ebf?s=128&d=identicon&r=PG&f=1", "display_name": "user100000", "link": "https://stackoverflow.com/users/3656189/user100000"}, "reply_to_user": {"reputation": 20670, "user_id": 26039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/15aacb48f4c894a6341e1013e9b5a42f?s=128&d=identicon&r=PG", "display_name": "eran", "link": "https://stackoverflow.com/users/26039/eran"}, "edited": false, "score": 0, "creation_date": 1480539077, "post_id": 40897622, "comment_id": 69009612, "body": "@eran Oh my bad. That makes sense."}, {"owner": {"reputation": 644, "user_id": 7014281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cSk7z.png?s=128&g=1", "display_name": "glauxosdever", "link": "https://stackoverflow.com/users/7014281/glauxosdever"}, "edited": false, "score": 0, "creation_date": 1480540828, "post_id": 40897622, "comment_id": 69010598, "body": "Sorry, I messed up precedence. <code>(*p[i]).master</code> is equivalent to <code>p[i]-&gt;master</code>."}, {"owner": {"reputation": 69, "user_id": 3656189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dde3880097dbb56d48ba6da690a2ebf?s=128&d=identicon&r=PG&f=1", "display_name": "user100000", "link": "https://stackoverflow.com/users/3656189/user100000"}, "reply_to_user": {"reputation": 644, "user_id": 7014281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cSk7z.png?s=128&g=1", "display_name": "glauxosdever", "link": "https://stackoverflow.com/users/7014281/glauxosdever"}, "edited": false, "score": 0, "creation_date": 1480541142, "post_id": 40897622, "comment_id": 69010761, "body": "@glauxosdever Do I need to allocate memory for each pointer when assigning them to myStr? I seem to get a segfault every time..."}], "answers": [{"tags": [], "owner": {"reputation": 3392, "user_id": 7175117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tfz44.png?s=128&g=1", "display_name": "freestyle", "link": "https://stackoverflow.com/users/7175117/freestyle"}, "is_accepted": true, "score": 1, "last_activity_date": 1480542019, "creation_date": 1480542019, "answer_id": 40898732, "question_id": 40897622, "link": "https://stackoverflow.com/questions/40897622/am-i-using-structs-correctly/40898732#40898732", "title": "Am I using structs correctly?", "body": "<p>I thing it's not correct. <code>*(p[i].master) = myStr;</code> copies <code>myStr</code> to some (and I think, invalid) memory. Maybe you want like this: <code>p[i].master = &amp;myStr;</code>.</p>\n"}], "owner": {"reputation": 69, "user_id": 3656189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dde3880097dbb56d48ba6da690a2ebf?s=128&d=identicon&r=PG&f=1", "display_name": "user100000", "link": "https://stackoverflow.com/users/3656189/user100000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 40898732, "answer_count": 1, "score": 0, "last_activity_date": 1480542019, "creation_date": 1480537877, "question_id": 40897622, "link": "https://stackoverflow.com/questions/40897622/am-i-using-structs-correctly", "title": "Am I using structs correctly?", "body": "<p>I'm learning multithreading in C currently. For this assignment I have to make a multithreaded Conway's Game of Life. The program takes in a bunch of parameters at execution. Here's all the variables it takes in before execution:</p>\n\n<pre><code>./gameoflife &lt;width&gt; &lt;height&gt; &lt;seed&gt; &lt;p&gt; &lt;freq&gt; &lt;#worker_threads&gt;\n</code></pre>\n\n<p>Anyway, in order to make it multithreaded I decided to split the workload vertically between the #worker_threads. So each worker thread has its own widthStart and widthEnd to work on.</p>\n\n<p>Here's what my data structures look like : </p>\n\n<pre><code>typedef struct {\n\n    int width;\n    int height;\n    int ** board; \n\n    int freq;\n    int nbThreads;\n\n    int * escaped;\n\n} masterStruct;\n\ntypedef struct {\n\n    int widthStart; \n    int widthEnd;\n    int threadID;\n    masterStruct * master;    //this is supposed to be a pointer to the struct above.\n\n}paramStruct;\n</code></pre>\n\n<p>Now in my \"threader\" thread (which is in charge of figuring out widthStart and widthEnd) takes in <em>masterStruct</em> as argument. Inside it, I call a bunch of pthread_creates to whom I'll feed <em>paramsStruct</em> as an argument. I'd like all these newly created pthreads to all have access to the same global masterStruct. So in my \"threader\" thread, I declared it as such :</p>\n\n<pre><code>paramStruct p[workers]; //create as many paramStruct as nbThreads\n\nfor (int i = 0; i &lt; workers; i++) {\n\n    *(p[i].master) = myStr; //give each thread\n...\n</code></pre>\n\n<p><strong>My question is</strong> : Is this the correct way to ensure all the pthreads have access to the same masterStruct?</p>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["c", "arrays", "input"], "comments": [{"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 1, "creation_date": 1480536788, "post_id": 40897182, "comment_id": 69008369, "body": "In the first nested loop you are trying to allocate memory to the same variable multiple times with <code>char *board = malloc(rows*columns*sizeof(int));</code>. It is futile anyway, since <code>board</code> was already defined as an array, and the block scope <code>char *board</code> of the same name becomes invalid after the loop."}, {"owner": {"reputation": 2445, "user_id": 3476780, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abf771bddcd864626a0e1499ccfc699b?s=128&d=identicon&r=PG&f=1", "display_name": "yano", "link": "https://stackoverflow.com/users/3476780/yano"}, "edited": false, "score": 0, "creation_date": 1480536831, "post_id": 40897182, "comment_id": 69008391, "body": "in addition to the shadowing mentioned in the answer (and the memory leak), what output were you expecting? You never assign any values to <code>board</code>, the output is going to be junk data. <code>malloc</code> does not initialize memory to any specific values"}, {"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1480593854, "post_id": 40897182, "comment_id": 69032593, "body": "when calling any of the <code>scanf()</code> family of functions, always check the returned value (not the parameter value) to assure the operation was successful."}], "answers": [{"tags": [], "owner": {"reputation": 32686, "user_id": 10396, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ddbfebb47432f6599da361df6a135c7c?s=128&d=identicon&r=PG", "display_name": "AShelly", "link": "https://stackoverflow.com/users/10396/ashelly"}, "is_accepted": false, "score": 1, "last_activity_date": 1480536708, "creation_date": 1480536708, "answer_id": 40897294, "question_id": 40897182, "link": "https://stackoverflow.com/questions/40897182/c-two-dimensional-array-input-work-but-output-gives-something-other-out/40897294#40897294", "title": "C two dimensional array input work, but output gives something other out", "body": "<p>the <code>board</code> inside the first loop has scope restricted to that loop. You are not modifying the array you declared at the beginning of the function.</p>\n\n<p>What do you want to put inside the array?</p>\n"}, {"tags": [], "owner": {"reputation": 809, "user_id": 6874714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eyk5e.png?s=128&g=1", "display_name": "abacles", "link": "https://stackoverflow.com/users/6874714/abacles"}, "is_accepted": true, "score": 2, "last_activity_date": 1480537876, "creation_date": 1480537876, "answer_id": 40897621, "question_id": 40897182, "link": "https://stackoverflow.com/questions/40897182/c-two-dimensional-array-input-work-but-output-gives-something-other-out/40897621#40897621", "title": "C two dimensional array input work, but output gives something other out", "body": "<p>Do you just want to initialize the array? It's already created outside the loops and you don't need to allocate the memory again. This:</p>\n\n<pre><code>for(rows = 0; rows &lt; m; rows++)\n{\n   for(columns = 0; columns &lt; m; columns++)\n    {\n        board [rows][columns]='a';\n    }\n}\n</code></pre>\n\n<p>In place of the first nested loop will give this as result:</p>\n\n<pre><code>How many Rows and Lines?:\n5\naaaaa\naaaaa\naaaaa\naaaaa\naaaaa\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "is_accepted": false, "score": 0, "last_activity_date": 1480538232, "creation_date": 1480538232, "answer_id": 40897718, "question_id": 40897182, "link": "https://stackoverflow.com/questions/40897182/c-two-dimensional-array-input-work-but-output-gives-something-other-out/40897718#40897718", "title": "C two dimensional array input work, but output gives something other out", "body": "<p>As people said, your <code>board</code> inside the loop is completely unrelated to the one outside, so any change performed on it won't be reflected. From  that, the reason that at every time you get something different it is because the actual <code>board</code> is not initialized and can take casual values. </p>\n"}], "owner": {"reputation": 15, "user_id": 7232811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237bac0ca2290ddf30a52308ff37c9eb?s=128&d=identicon&r=PG&f=1", "display_name": "BossJer", "link": "https://stackoverflow.com/users/7232811/bossjer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 40897621, "answer_count": 3, "score": 1, "last_activity_date": 1480538232, "creation_date": 1480536287, "last_edit_date": 1480536608, "question_id": 40897182, "link": "https://stackoverflow.com/questions/40897182/c-two-dimensional-array-input-work-but-output-gives-something-other-out", "title": "C two dimensional array input work, but output gives something other out", "body": "<pre><code>int main(int argc, char* arv[])\n{\n\n    int m;\n    printf(\"How many Rows and Lines?:\\n\");\n    scanf(\"%d\", &amp;m);\n    char board[m][m] ;\n    int rows, columns;\n    for(rows = 0; rows &lt; m; rows++)\n    {\n       for(columns = 0; columns &lt; m; columns++)\n        {\n            char *board = malloc(rows*columns*sizeof(int));\n        }\n    }\n    for(rows = 0; rows &lt; m; rows++)\n    {\n        for(columns = 0; columns &lt; m; columns++)\n        {\n            printf(\"%c\", board[rows][columns]);\n        }\n        printf(\"\\n\");\n    }\n}\n</code></pre>\n\n<p>The Problem is that i evreytime get wrong output :/\nIf someone can help me it were nice, i am new at programming</p>\n"}, {"tags": ["c", "pointers", "struct"], "answers": [{"comments": [{"owner": {"reputation": 2437, "user_id": 3861775, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Ij1Eg.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/3861775/samuel"}, "edited": false, "score": 0, "creation_date": 1480538404, "post_id": 40897219, "comment_id": 69009241, "body": "That does not solve my problem. I  still get seg. faults. The error is probably somewhere else. Do you have another idea?"}, {"owner": {"reputation": 2388, "user_id": 348637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vmm7D.jpg?s=128&g=1", "display_name": "Abhinav Upadhyay", "link": "https://stackoverflow.com/users/348637/abhinav-upadhyay"}, "reply_to_user": {"reputation": 2437, "user_id": 3861775, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Ij1Eg.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/3861775/samuel"}, "edited": false, "score": 0, "creation_date": 1480538611, "post_id": 40897219, "comment_id": 69009360, "body": "Do you have a stack trace from the segfault?"}, {"owner": {"reputation": 2437, "user_id": 3861775, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Ij1Eg.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/3861775/samuel"}, "edited": false, "score": 0, "creation_date": 1480540556, "post_id": 40897219, "comment_id": 69010422, "body": "I don&#39;t know how to do that. Sorry. As I said, I am a beginner in C and the console shows me only <code>Segmentation fault</code>. If I put the content of <code>settree()</code> inside the <code>main()</code> than the program works."}, {"owner": {"reputation": 2388, "user_id": 348637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vmm7D.jpg?s=128&g=1", "display_name": "Abhinav Upadhyay", "link": "https://stackoverflow.com/users/348637/abhinav-upadhyay"}, "reply_to_user": {"reputation": 2437, "user_id": 3861775, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Ij1Eg.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/3861775/samuel"}, "edited": false, "score": 0, "creation_date": 1480570474, "post_id": 40897219, "comment_id": 69019744, "body": "Assuming you are using Linux, compile your program with -g option of gcc. Something like gcc -g -o main myprogram.c. After that, run it with gdb, like this: gdb ./main. Now run the program by entering r. Your program will halt after the segfault, then type bt in the gdb prompt and see the stacktrace to see exactly which line is causing the segfault."}, {"owner": {"reputation": 2437, "user_id": 3861775, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Ij1Eg.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/3861775/samuel"}, "edited": false, "score": 0, "creation_date": 1480578747, "post_id": 40897219, "comment_id": 69023116, "body": "I did what you said and get the following output in case that I only want to allocate memory in the function <code>settree()</code>: <code>Program received signal SIGSEGV, Segmentation fault. 0x0000000000405c59 in main (argc=1, argv=0x7fffffffde88) at nbody.c:46 46\t        *root = calloc(1, sizeof(treenode)); (gdb)</code>. So the function I called outside the <code>main()</code> was <code>void settree(tree **root, par *p, geo dom){     root = malloc(sizeof(treenode*)); }</code>"}, {"owner": {"reputation": 2388, "user_id": 348637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vmm7D.jpg?s=128&g=1", "display_name": "Abhinav Upadhyay", "link": "https://stackoverflow.com/users/348637/abhinav-upadhyay"}, "reply_to_user": {"reputation": 2437, "user_id": 3861775, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Ij1Eg.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/3861775/samuel"}, "edited": false, "score": 0, "creation_date": 1480582616, "post_id": 40897219, "comment_id": 69025094, "body": "Alright, I understood the problem, I will post a new answer and delete this one."}, {"owner": {"reputation": 2388, "user_id": 348637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vmm7D.jpg?s=128&g=1", "display_name": "Abhinav Upadhyay", "link": "https://stackoverflow.com/users/348637/abhinav-upadhyay"}, "reply_to_user": {"reputation": 2437, "user_id": 3861775, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Ij1Eg.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/3861775/samuel"}, "edited": false, "score": 0, "creation_date": 1480598463, "post_id": 40897219, "comment_id": 69035563, "body": "Updated the answer."}, {"owner": {"reputation": 2437, "user_id": 3861775, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Ij1Eg.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/3861775/samuel"}, "edited": false, "score": 0, "creation_date": 1480792313, "post_id": 40897219, "comment_id": 69112565, "body": "I need the global variable. I would your example look like if there was a global variable <code>tree **rood</code>?"}, {"owner": {"reputation": 2388, "user_id": 348637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vmm7D.jpg?s=128&g=1", "display_name": "Abhinav Upadhyay", "link": "https://stackoverflow.com/users/348637/abhinav-upadhyay"}, "reply_to_user": {"reputation": 2437, "user_id": 3861775, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Ij1Eg.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/3861775/samuel"}, "edited": false, "score": 0, "creation_date": 1480833636, "post_id": 40897219, "comment_id": 69121827, "body": "That will work too. I removed the global variable because it&#39;s not a good practice to use them"}], "tags": [], "owner": {"reputation": 2388, "user_id": 348637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vmm7D.jpg?s=128&g=1", "display_name": "Abhinav Upadhyay", "link": "https://stackoverflow.com/users/348637/abhinav-upadhyay"}, "is_accepted": false, "score": 0, "last_activity_date": 1480658573, "last_edit_date": 1480658573, "creation_date": 1480536450, "answer_id": 40897219, "question_id": 40897144, "link": "https://stackoverflow.com/questions/40897144/allocate-memory-for-struct-and-call-functions-outside-main/40897219#40897219", "title": "Allocate memory for struct and call functions outside main()", "body": "<p>You have declared root as a global variable and passing it to the settree function like this:</p>\n\n<pre><code>settree(root, ...)\n</code></pre>\n\n<p>Your <code>settree</code> function looks like this (I have renamed the root parameter to myroot for distinguishing from the global variable)</p>\n\n<pre><code> void settree(tree **myroot, par *p, geo dom){\n myroot = malloc(sizeof(tree*));\n *myroot = calloc(1, sizeof(tree));\n compDom(&amp;dom, p);\n initTree(myroot, &amp;dom, p);\n</code></pre>\n\n<p>}</p>\n\n<p>Now, you are passing the global variable <code>root</code> to <code>settree()</code> as a parameter. Since it is a parameter to <code>settree()</code>, it is local to the function (allocated on the stack) and not really referring to the global variable <code>root</code>. When you call <code>malloc()</code> to allocate memory for <code>myroot</code> in <code>settree()</code>, it is the local variable <code>myroot</code> which is being assigned that address and the global variable <code>root</code> remains unchanged. Therefore, after calling <code>settree()</code>, when you try to use the global variable <code>root</code> inside <code>main</code>, you get a segfault, because it hasn't been initialized.</p>\n\n<p>You can think of it this way. If you have a function like this:</p>\n\n<pre><code>void do_double(int x) {\n    x = x * 2;\n}\n</code></pre>\n\n<p>and call it from main like this:\n    int i = 10;\n    do_double(i);</p>\n\n<p>The value of <code>i</code> remains the same, because when you called <code>do_double(i)</code>, a copy of <code>i</code> was created on the stack of <code>do_double()</code>, so any modifications inside <code>do_double()</code> will not affect <code>i</code>. Instead if <code>do_double</code> was like this:</p>\n\n<pre><code>void do_double(int *x) {\n    *x = *x * 2;\n}\n</code></pre>\n\n<p>And you call it like this:</p>\n\n<pre><code>i = 10;\ndo_double(&amp;i);\n</code></pre>\n\n<p>Now, you are passing the address of <code>i</code>, and <code>do_double</code> is writing to that address, so <code>i</code> is getting updated. Similarly, when you are calling <code>settree(root)</code>, the <code>myroot</code> parameter is local to the function and any changes made there will not affect the global <code>root</code> variable. Instead, you need to do something like this:</p>\n\n<p>(I would get rid of the global variable root and declare it inside main)</p>\n\n<pre><code>void settree(tree **root, par *p, geo dom){\n     *root = calloc(1, sizeof(tree));\n     compDom(&amp;dom, p);\n     initTree(root, &amp;dom, p);\n}\n\nint main (int argc, char **argv){\n    int n = 100;\n    p = malloc(sizeof(_Particle) * n); // Allocate memory for par\n    anop = n;\n    tree *root;\n\n\n    // Load particle data\n    par *parptr = p;\n    getData(parptr, n);\n\n    double T = 20;\n    double g = 1;\n    for(double h=0; h&lt;T; h+=g){           \n        /// Build tree ///\n        settree(&amp;root, p, dom);\n       /// Integration ///\n       ec(root, p, n, g);\n      /// Free Memory ///\n      freeTree(root);\n   }\nreturn 0;\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 2437, "user_id": 3861775, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Ij1Eg.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/3861775/samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1480658573, "creation_date": 1480536175, "question_id": 40897144, "link": "https://stackoverflow.com/questions/40897144/allocate-memory-for-struct-and-call-functions-outside-main", "title": "Allocate memory for struct and call functions outside main()", "body": "<p>I am cleaning up my <code>int main()</code>. Since I am a beginner in C, I used to write all my stuff inside the <code>main()</code>-function. Now I wanted to put some functions which I call in other functions into one single small function.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;math.h&gt;\n#include &lt;myStructs.h&gt; // Here are my structs geo ,tree and par defined\n#include &lt;myFunct.h&gt; // Here are my functions\n\n// Structs\ngeo dom;\ntree **root;\npar *p;\n\nvoid settree(tree **root, par *p, geo dom){\n     root = malloc(sizeof(tree*));\n     *root = calloc(1, sizeof(tree));\n     compDom(&amp;dom, p);\n     initTree(root, &amp;dom, p);\n}\n\nint main (int argc, char **argv){\n    int n = 100;\n    p = malloc(sizeof(_Particle) * n); // Allocate memory for par\n    anop = n;\n\n    // Load particle data\n    par *parptr = p;\n    getData(parptr, n);\n\n    double T = 20;\n    double g = 1;\n    for(double h=0; h&lt;T; h+=g){           \n        /// Build tree ///\n        settree(*root, p, dom);\n        /// Integration ///\n        ec(root, p, n, g);\n        /// Free Memory ///\n        freeTree(*root);\n        free(root);\n    }\n    return 0;\n}\n</code></pre>\n\n<p>I have problems with the function <code>settree()</code>. I get a segmentation fault all the time. But why? Is something wrong with my pointers in this function? Can someone give me a hint how I work in this case with pointers? I am almost sure that there is somewhere my error.</p>\n"}, {"tags": ["c", "loops", "while-loop", "char", "getchar"], "comments": [{"owner": {"reputation": 925, "user_id": 6476545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8ac5ad896ea48d92ab8cae28ad8bd6?s=128&d=identicon&r=PG&f=1", "display_name": "eddiem", "link": "https://stackoverflow.com/users/6476545/eddiem"}, "edited": false, "score": 1, "creation_date": 1480535141, "post_id": 40896766, "comment_id": 69007502, "body": "The <code>getchar()</code> function only accepts on character at a time.  If you enter <b>TEST</b>, it&#39;s going to get called multiple times."}, {"owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "edited": false, "score": 0, "creation_date": 1480535169, "post_id": 40896766, "comment_id": 69007523, "body": "Hey, you have to indent that code -- it&#39;s rough.  The reason it gives you five responses to &quot;TEST&quot; is that &quot;TEST&quot; has 4 characters in it:  T, E, S, T, and the enter character &#39;\\n&#39;.  It&#39;s doing what it should.  If you want it to throw away the rest of the line, try ignoring the rest of the line of input:  <a href=\"http://stackoverflow.com/questions/13518037/ignoring-the-rest-of-the-line-once-input-has-been-gotten-in-c\" title=\"ignoring the rest of the line once input has been gotten in c\">stackoverflow.com/questions/13518037/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7232655, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164003263693686/picture?type=large", "display_name": "Trabelsi Haythem", "link": "https://stackoverflow.com/users/7232655/trabelsi-haythem"}, "edited": false, "score": 0, "creation_date": 1480535842, "post_id": 40896875, "comment_id": 69007887, "body": "If I input a character that is  NOT in [&#39;M&#39;,&#39;C&#39;,&#39;O&#39;,&#39;P&#39;] the while works 2 times"}], "tags": [], "owner": {"reputation": 23469, "user_id": 775964, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/glHLl.jpg?s=128&g=1", "display_name": "Jeegar Patel", "link": "https://stackoverflow.com/users/775964/jeegar-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1480535129, "creation_date": 1480535129, "answer_id": 40896875, "question_id": 40896766, "link": "https://stackoverflow.com/questions/40896766/c-language-while-loops-working-more-that-its-supposed-to/40896875#40896875", "title": "C Language - WHILE loops working more that it&#39;s supposed to", "body": "<p>You have given input <code>TEST</code> it has 4 character so stdin has 4 character so 4 times <code>getchar()</code> can execute. then on next <code>getchar()</code> it will again wait for next input from stdin.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 7232655, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164003263693686/picture?type=large", "display_name": "Trabelsi Haythem", "link": "https://stackoverflow.com/users/7232655/trabelsi-haythem"}, "edited": false, "score": 0, "creation_date": 1480535845, "post_id": 40896927, "comment_id": 69007889, "body": "If I input a character that is  NOT in [&#39;M&#39;,&#39;C&#39;,&#39;O&#39;,&#39;P&#39;] the while works 2 times"}, {"owner": {"reputation": 313, "user_id": 6620886, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/512eac7f669d64cad36f37e0c8c67cba?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh Rao", "link": "https://stackoverflow.com/users/6620886/mahesh-rao"}, "reply_to_user": {"reputation": 1, "user_id": 7232655, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164003263693686/picture?type=large", "display_name": "Trabelsi Haythem", "link": "https://stackoverflow.com/users/7232655/trabelsi-haythem"}, "edited": false, "score": 0, "creation_date": 1480537553, "post_id": 40896927, "comment_id": 69008751, "body": "Is there other code  to it ? If you consider what you have given as an entire program, the while works only once and the program ends."}, {"owner": {"reputation": 313, "user_id": 6620886, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/512eac7f669d64cad36f37e0c8c67cba?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh Rao", "link": "https://stackoverflow.com/users/6620886/mahesh-rao"}, "reply_to_user": {"reputation": 1, "user_id": 7232655, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164003263693686/picture?type=large", "display_name": "Trabelsi Haythem", "link": "https://stackoverflow.com/users/7232655/trabelsi-haythem"}, "edited": false, "score": 0, "creation_date": 1480537638, "post_id": 40896927, "comment_id": 69008796, "body": "i.e. &#39;N&#39; will run the loop once, since &#39;O&#39; is a valid option, the loop breaks."}, {"owner": {"reputation": 313, "user_id": 6620886, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/512eac7f669d64cad36f37e0c8c67cba?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh Rao", "link": "https://stackoverflow.com/users/6620886/mahesh-rao"}, "reply_to_user": {"reputation": 1, "user_id": 7232655, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164003263693686/picture?type=large", "display_name": "Trabelsi Haythem", "link": "https://stackoverflow.com/users/7232655/trabelsi-haythem"}, "edited": false, "score": 1, "creation_date": 1480538741, "post_id": 40896927, "comment_id": 69009434, "body": "Apologies, since I misunderstood. The reason why the while loop runs twice, is because getchar first considers the invalid character, the first loop occurs, then it considers the enter that you pressed as the next character, the second loop occurs."}], "tags": [], "owner": {"reputation": 313, "user_id": 6620886, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/512eac7f669d64cad36f37e0c8c67cba?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh Rao", "link": "https://stackoverflow.com/users/6620886/mahesh-rao"}, "is_accepted": false, "score": 0, "last_activity_date": 1480535358, "creation_date": 1480535358, "answer_id": 40896927, "question_id": 40896766, "link": "https://stackoverflow.com/questions/40896766/c-language-while-loops-working-more-that-its-supposed-to/40896927#40896927", "title": "C Language - WHILE loops working more that it&#39;s supposed to", "body": "<p>getchar() considers a character individually from stdin.By providing the input as \"TEST\", it first reads 'T' , loops again, reads E, loops again, reads S and so on, until it can ask for another character again, which is the 5th loop.</p>\n"}, {"tags": [], "owner": {"reputation": 6882, "user_id": 3403834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpA5S.jpg?s=128&g=1", "display_name": "user58697", "link": "https://stackoverflow.com/users/3403834/user58697"}, "is_accepted": false, "score": 1, "last_activity_date": 1480549329, "creation_date": 1480549329, "answer_id": 40900267, "question_id": 40896766, "link": "https://stackoverflow.com/questions/40896766/c-language-while-loops-working-more-that-its-supposed-to/40900267#40900267", "title": "C Language - WHILE loops working more that it&#39;s supposed to", "body": "<p>After entering <code>TEST</code> (4 character worth), you also pressed <em>Enter</em>. This is the fifth character (newline, really) passed to your program. Same way, after doing a single character (and <em>Enter</em>), the loop runs twice - first for the character itself, then for a newline.</p>\n"}], "owner": {"reputation": 1, "user_id": 7232655, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164003263693686/picture?type=large", "display_name": "Trabelsi Haythem", "link": "https://stackoverflow.com/users/7232655/trabelsi-haythem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1480549329, "creation_date": 1480534728, "last_edit_date": 1480537428, "question_id": 40896766, "link": "https://stackoverflow.com/questions/40896766/c-language-while-loops-working-more-that-its-supposed-to", "title": "C Language - WHILE loops working more that it&#39;s supposed to", "body": "<p>I want to get the user to select a choice. So I declared a variable named <strong><em>Choice</em></strong> and I want it to input a <code>char</code> that can only be <code>'M'</code>, <code>'C'</code>, <code>'O'</code> or <code>'P'</code>. </p>\n\n<p>This is my code :</p>\n\n<pre><code>char Choice;\nprintf(\"Select something to do  :\\n'M':Model Parametering\\n'C':Calendar creation\\n'O':Calendar Output\\n'P':Calendar Print\\nChoice==&gt;&gt;\");\n    Choice = getchar();\n    while(Choice!='M' &amp;&amp; Choice != 'C' &amp;&amp; Choice != 'O' &amp;&amp; Choice != 'P'){\n    printf(\"\\nIncorrect choice, Try again\\n\");\n    printf(\"Select something to do  :\\n'P':Model Parametering\\n'C':Calendar creation\\n'O':Calendar Output\\n'P':Calendar Print\\nChoice==&gt;&gt;\");\n    Choice = getchar();}\n</code></pre>\n\n<p>The thing is when I test it with a wrong value (inputting a character that is NOT in <code>['M','C','O','P']</code>, the while loop works more than once.\nFor example if I input <code>\"TEST\"</code> instead of <code>'M'</code>, <code>'C'</code>, <code>'O'</code> or <code>'P'</code>\nthe while works 5 times not only once like I want!\nWhy is this happening?</p>\n"}, {"tags": ["c", "matrix", "allocation"], "comments": [{"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1480534901, "post_id": 40896687, "comment_id": 69007380, "body": "Use a debugger. Step through the code one line at a time. Examine <code>mat</code> after every line. That will help you narrow down where the problem is. Much better to learn to debug yourself than ask others to do it for you. And you need to provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you really need someone else to help with the debugging."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480535303, "post_id": 40896687, "comment_id": 69007582, "body": "Best to avoid 3-star programming anyway."}, {"owner": {"reputation": 925, "user_id": 6476545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8ac5ad896ea48d92ab8cae28ad8bd6?s=128&d=identicon&r=PG&f=1", "display_name": "eddiem", "link": "https://stackoverflow.com/users/6476545/eddiem"}, "edited": false, "score": 0, "creation_date": 1480536858, "post_id": 40896687, "comment_id": 69008411, "body": "Given that you haven&#39;t posted all of the code, it&#39;s hard to be sure what&#39;s going on.  But in your <code>verifica_mao_dupla</code> function, let&#39;s say <code>i</code> is <code>2</code> and <code>j</code> is <code>0</code>.  If the <code>mat[i][j]</code> and <code>mat[j][i]</code> conditions are met, you&#39;re going to write outside the bounds of your array."}], "answers": [{"tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": false, "score": 1, "last_activity_date": 1480536800, "creation_date": 1480536800, "answer_id": 40897320, "question_id": 40896687, "link": "https://stackoverflow.com/questions/40896687/wierd-matrix-behavior-in-c/40897320#40897320", "title": "wierd matrix behavior in C", "body": "<p>Sometimes when you modify <code>mao_dupla[j][i]</code>, <code>j</code> is less than <code>i</code>.  In that case the write exceeds the bounds of <code>mao_dupla[j]</code>, producing undefined behavior.  Moreover, you're performing more work than you need to do.</p>\n\n<p>You should be able to solve the problem simply by improving your handling of the array indices and changing the loop limits:</p>\n\n<pre><code>void verifica_mao_dupla(int **mat, int **mao_dupla) {\n    for(int i = 1; i &lt; n; i++) {      // no need for an i == 0 iteration\n        for(int j = 0; j &lt; i; j++) {  // fixed loop bounds\n            // note: j cannot be equal to i here\n            if(mat[i][j]==1 &amp;&amp; mat[j][i]==1) {\n                mao_dupla[i][j] = 1;  // swapped index order\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7232682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84cb5f850f755d8337967fb64405501d?s=128&d=identicon&r=PG&f=1", "display_name": "Loren&#231;o Santos", "link": "https://stackoverflow.com/users/7232682/loren%c3%a7o-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480537279, "creation_date": 1480534441, "question_id": 40896687, "link": "https://stackoverflow.com/questions/40896687/wierd-matrix-behavior-in-c", "title": "wierd matrix behavior in C", "body": "<p>My C program uses 2 int matrix. The first matrix is n x n and allocated this way:</p>\n\n<pre><code>void alocar_matriz(int ***matriz)\n{\n    int i;\n    if((*matriz = (int**)calloc(n,sizeof(int*)))==NULL)\n    {\n        printf(\"\\n\\a\\t\\tERRO: NAO FOI POSSIVEL ALOCAR MEMORIA!!\\n\");\n        exit(1);\n    }\n    for(i=0;i&lt;n;i++)\n    {\n        if(((*matriz)[i] = (int*)calloc(n,sizeof(int)))==NULL)\n        {\n            printf(\"\\n\\a\\t\\tERRO: NAO FOI POSSIVEL ALOCAR MEMORIA!!\\n\");\n            exit(1);\n        }\n    }\n}\n</code></pre>\n\n<p>The second is a triangle inferior matrix, allocated this way:</p>\n\n<pre><code>void alocar_matriz_mao_dupla(int ***matriz)\n{\n    int i;\n    if((*matriz = (int**)calloc(n,sizeof(int*)))==NULL)\n    {\n        printf(\"\\n\\a\\t\\tERRO: NAO FOI POSSIVEL ALOCAR MEMORIA!!\\n\");\n        exit(1);\n    }\n    for(i=0;i&lt;n;i++)\n    {\n        if(((*matriz)[i] = (int*)calloc(i+1,sizeof(int)))==NULL)\n        {\n            printf(\"\\n\\a\\t\\tERRO: NAO FOI POSSIVEL ALOCAR MEMORIA!!\\n\");\n            exit(1);\n        }\n    }\n}\n</code></pre>\n\n<p>Having the first matrix data, I have a function that modify the second (triangle) matrix values (where \"mat\" is the first nxn matrix and \"mao_dupla\" is the second triangle matrix):</p>\n\n<pre><code>void verifica_mao_dupla(int **mat, int **mao_dupla)\n{\n    int i,j;\n    for(i=0;i&lt;n;i++)\n    {\n        for(j=0;j&lt;n;j++)\n        {\n            if(i!=j)\n            { \n                if(mat[i][j]==1 &amp;&amp; mat[j][i]==1)\n                    mao_dupla[j][i] = 1;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>So my problem is: the function void verifica_mao_dupla(int **mat, int **mao_dupla), which should only modify elements of the triangle matrix \"mao_dupla\", is also modifying the matrix \"mat\" elements. This is not supposed to happen. I don't know what is the error. Help please</p>\n"}, {"tags": ["c", "debugging", "fork", "visual-studio-code"], "comments": [{"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 1, "creation_date": 1480534635, "post_id": 40896631, "comment_id": 69007259, "body": "I didn&#39;t think Windows supported <code>fork()</code>, so how could VS be relevant to debugging code that forks?"}, {"owner": {"reputation": 477, "user_id": 7182178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/25b520ab6b5ac29e8cc1664844d77e03?s=128&d=identicon&r=PG&f=1", "display_name": "Shining", "link": "https://stackoverflow.com/users/7182178/shining"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 1, "creation_date": 1480537074, "post_id": 40896631, "comment_id": 69008519, "body": "Visual Studio Code also exist for linux, and I have ubuntu. So yes, Ubuntu support fork() but for VSC I don&#39;t know (I said I used GDB)."}], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 7182178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/25b520ab6b5ac29e8cc1664844d77e03?s=128&d=identicon&r=PG&f=1", "display_name": "Shining", "link": "https://stackoverflow.com/users/7182178/shining"}, "edited": false, "score": 0, "creation_date": 1493307946, "post_id": 43622811, "comment_id": 74371642, "body": "Yeah I don&#39;t need it but maybe in the futur, I will test !"}], "tags": [], "owner": {"reputation": 158, "user_id": 4974580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xI0XO.png?s=128&g=1", "display_name": "Homper", "link": "https://stackoverflow.com/users/4974580/homper"}, "is_accepted": false, "score": 2, "last_activity_date": 1493164777, "creation_date": 1493164777, "answer_id": 43622811, "question_id": 40896631, "link": "https://stackoverflow.com/questions/40896631/debug-fork-with-visual-studio-c/43622811#43622811", "title": "Debug Fork with Visual Studio [C]", "body": "<p>Perhaps you do not need this anymore, but I found a solution.</p>\n\n<p>You can use gdb command:</p>\n\n<pre><code>set follow-fork-mode child\n</code></pre>\n\n<p><a href=\"https://sourceware.org/gdb/onlinedocs/gdb/Forks.html\" rel=\"nofollow noreferrer\">there is a command description</a></p>\n\n<p>You need to enter it into the debug console(Ctrl+Shift+Y) in this form:</p>\n\n<pre><code>-exec set follow-fork-mode child\n</code></pre>\n\n<p>And now, when you call the fork, the piece of code of the child will be executed.</p>\n\n<p>Or, you can use <a href=\"https://github.com/Microsoft/vscode-cpptools/issues/511#issuecomment-283507115\" rel=\"nofollow noreferrer\">this method</a>.</p>\n"}], "owner": {"reputation": 477, "user_id": 7182178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/25b520ab6b5ac29e8cc1664844d77e03?s=128&d=identicon&r=PG&f=1", "display_name": "Shining", "link": "https://stackoverflow.com/users/7182178/shining"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2358, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1493164777, "creation_date": 1480534202, "last_edit_date": 1480596513, "question_id": 40896631, "link": "https://stackoverflow.com/questions/40896631/debug-fork-with-visual-studio-c", "title": "Debug Fork with Visual Studio [C]", "body": "<p>I have a problem with a multi-process program in <strong>C</strong>.\nI'm looking for a solution to debug fork() with VS Code (using GDB).\nI have found \"set follow-fork-mode child\" but do not work (or I make something wrong).</p>\n\n<p>I don't know how to debug this fork, and when I google it, nothing for visual studio code (only classic visual studio).</p>\n\n<p>How to debug a fork ? access to stack call and variables ? (for <strong>C</strong>)\nThank you !</p>\n"}, {"tags": ["c", "bit-manipulation", "television"], "comments": [{"owner": {"reputation": 23, "user_id": 7136972, "user_type": "registered", "profile_image": "https://graph.facebook.com/1188889307825920/picture?type=large", "display_name": "Victor Morales Dionisio", "link": "https://stackoverflow.com/users/7136972/victor-morales-dionisio"}, "edited": false, "score": 1, "creation_date": 1480534090, "post_id": 40896525, "comment_id": 69007021, "body": "That one the guy wants to use the operand ^ as a power operator. Not what I need :("}, {"owner": {"reputation": 925, "user_id": 6476545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8ac5ad896ea48d92ab8cae28ad8bd6?s=128&d=identicon&r=PG&f=1", "display_name": "eddiem", "link": "https://stackoverflow.com/users/6476545/eddiem"}, "edited": false, "score": 1, "creation_date": 1480534107, "post_id": 40896525, "comment_id": 69007028, "body": "Why not cast the values to integer types before performing the XOR operation?  Are you expecting them to have non-zero fractional components?"}, {"owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "edited": false, "score": 1, "creation_date": 1480534202, "post_id": 40896525, "comment_id": 69007074, "body": "you&#39;re being pretty sloppy with mixing floating point and integer operations.  Did you get Nr=15 like it&#39;s supposed to?  If so, you got lucky, because <code>log10(Mmax)&#47;log10(2)</code> is inexact and will round down.   At the bottom, don&#39;t say <code>pow(2,Nr-1)</code> -- that produces a double and is pretty expensive.  Say <code>1&lt;&lt;(Nr-1)</code>, which produces an int and is very fast."}, {"owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "edited": false, "score": 3, "creation_date": 1480534467, "post_id": 40896525, "comment_id": 69007171, "body": "And throughout the whole thing you don&#39;t need to use any doubles at all.  floor(i/2) == (i&gt;&gt;1).  pow(2,j) == 1&lt;&lt;j, etc...    Then your H1[] and H2[] can be int[]."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480535356, "post_id": 40896525, "comment_id": 69007612, "body": "You could avoid being harmed by rounding error in your computation of <code>Nr</code> by computing it like so: <code>log10(Mmax + 0.5) &#47; log10(2)</code>, at least as long as the expected result is not more than about 50.  On the other hand, in your particular code there&#39;s no reason to <i>compute</i> <code>Nr</code> at all; if <code>Mmax</code> is always 32768 then you might as well just write <code>Nr = 15</code>."}, {"owner": {"reputation": 23, "user_id": 7136972, "user_type": "registered", "profile_image": "https://graph.facebook.com/1188889307825920/picture?type=large", "display_name": "Victor Morales Dionisio", "link": "https://stackoverflow.com/users/7136972/victor-morales-dionisio"}, "edited": false, "score": 0, "creation_date": 1480536711, "post_id": 40896525, "comment_id": 69008326, "body": "Thank you guys! I was able to undestand with your comments!"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7136972, "user_type": "registered", "profile_image": "https://graph.facebook.com/1188889307825920/picture?type=large", "display_name": "Victor Morales Dionisio", "link": "https://stackoverflow.com/users/7136972/victor-morales-dionisio"}, "edited": false, "score": 0, "creation_date": 1480536660, "post_id": 40896935, "comment_id": 69008298, "body": "Got it! Thank you @dbush !"}], "tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": true, "score": 5, "last_activity_date": 1480535374, "creation_date": 1480535374, "answer_id": 40896935, "question_id": 40896525, "link": "https://stackoverflow.com/questions/40896525/error-invalid-operands-to-binary-have-double-and-double-im-not-tryin/40896935#40896935", "title": "error: invalid operands to binary ^ (have \u2018double\u2019 and \u2018double\u2019) - I&#39;m not trying to use ^ as a power operator", "body": "<p>As was stated in the comments, the <code>^</code> operator can't be used on a <code>double</code>, however you don't need to use <code>double</code>.</p>\n\n<p>You're using two functions which return a <code>double</code>, namely <code>pow</code> and <code>floor</code>. </p>\n\n<p>Each time you call <code>pow</code>, you pass <code>2</code> for the base.  Raising 2 to a power can be done much more efficiently by left shifting the value <code>1</code> by the exponent.</p>\n\n<p>Similarly, each time you call <code>floor</code> you're dividing an integer value by <code>2</code>.  Since integer division automatically drops the remainder of division (assuming you're working only with positive values), the call to <code>floor</code> doesn't buy you anything.</p>\n\n<p>So change all instances of <code>pow(2,x)</code> to <code>(1 &lt;&lt; x)</code>, and change all instances of <code>floor(x/2)</code> to <code>(x/2)</code>.  Then you can declare <code>H1</code> and <code>H2</code> as arrays of <code>unsigned int</code> and you will be able to use the XOR operator <code>^</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 7136972, "user_type": "registered", "profile_image": "https://graph.facebook.com/1188889307825920/picture?type=large", "display_name": "Victor Morales Dionisio", "link": "https://stackoverflow.com/users/7136972/victor-morales-dionisio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "accepted_answer_id": 40896935, "answer_count": 1, "score": 1, "last_activity_date": 1498598908, "creation_date": 1480533759, "last_edit_date": 1498598908, "question_id": 40896525, "link": "https://stackoverflow.com/questions/40896525/error-invalid-operands-to-binary-have-double-and-double-im-not-tryin", "title": "error: invalid operands to binary ^ (have \u2018double\u2019 and \u2018double\u2019) - I&#39;m not trying to use ^ as a power operator", "body": "<p>I've been looking for an answer for this but could not find it. I'm not trying to use ^ as a power operator. </p>\n\n<p>Here's my problem.\nI'm trying to reproduce an interleaver from a digital TV standard (physical layer protocol). It is a project for school.\nHere's the code I have so far in C:</p>\n\n<pre><code>#include &lt;sys/io.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;errno.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;sys/stat.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;time.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;stdbool.h&gt;\n#include &lt;string.h&gt;\n#include &lt;complex.h&gt;\n#include &lt;math.h&gt;\n\nint main()\n{\n    int Mmax = 32768; \n    int Nr = log10(Mmax)/log10(2);\n    printf(\"Nr = %i \\n\",Nr);\n\n    int Lfm = 42; \n\n    int i,j,k,l; \n\n    // Create array R'i \n    unsigned char Rli[Mmax][Nr];\n    for (i = 0; i &lt; Mmax; i++)\n        memset(Rli[i], 0, sizeof(unsigned char)*(Nr));\n\n    for (i = 0; i &lt; Mmax; i++)\n    {\n        for(j = 1; j &lt; Nr; j++)\n        {\n            if(i == 0 || i == 1)\n            {\n                Rli[i][j] = 0;\n            }\n\n            else if(i == 2)\n            { \n                Rli[i][j] = 0;\n                if(j == Nr - 2)\n                    Rli[i][j] = 1;\n            }\n\n            else\n            {\n                Rli[i][j+1] = Rli[i-1][j]; \n            }\n        }\n\n        if(i &gt; 2)\n        {\n            Rli[i][1] = (((Rli[i-1][14] ^ Rli[i-1][13] ) ^ Rli[i-1][12] ) ^ Rli[i-1][2]);\n        }\n        Rli[i][0] = 0;\n    }\n\n    // wire permutation for array R'i - creates array Ri\n\n    unsigned char Ri[Mmax][Nr];\n    for (i = 0; i &lt; Mmax; i++)\n        memset(Ri[i], 0, sizeof(unsigned char)*(Nr));   \n\n    for (i = 0; i &lt; Mmax; i++)\n    {\n        Ri[i][1] = Rli[i][8]; //Rli[i][7];\n        Ri[i][2] = Rli[i][9]; //Rli[i][8];\n        Ri[i][3] = Rli[i][14]; //Rli[i][13];\n        Ri[i][4] = Rli[i][4]; //Rli[i][3];\n        Ri[i][5] = Rli[i][6]; //Rli[i][5];\n        Ri[i][6] = Rli[i][13]; //Rli[i][12];\n        Ri[i][7] = Rli[i][3]; //Rli[i][2];\n        Ri[i][8] = Rli[i][2]; //Rli[i][1];\n        Ri[i][9] = Rli[i][12]; //Rli[i][11];\n        Ri[i][10] = Rli[i][5]; //Rli[i][4];\n        Ri[i][11] = Rli[i][10]; //Rli[i][9];\n        Ri[i][12] = Rli[i][11]; //Rli[i][10];\n        Ri[i][13] = Rli[i][1]; //Rli[i][0];\n        Ri[i][14] = Rli[i][7]; //Rli[i][6];\n    }\n\n    // Offset generator Gk\n\n    int Gmax = floor(Lfm/2);\n    unsigned char Gk[Gmax][Nr];\n    for (i = 0; i &lt; Gmax; i++)\n        memset(Gk[i], 0, sizeof(unsigned char)*Nr-1);\n\n    for (k = 0; k &lt; Gmax; k++)\n    {\n        for(j = 0; j &lt; Nr; j++)\n        {\n            if(k == 0)\n            { \n                Gk[k][j] = 1; \n            }\n\n            else\n            { \n                Gk[k][j+1] = Gk[k-1][j];\n            }\n        } \n\n        if(k &gt; 0)\n        { \n            Gk[k][0] = ( Gk[k-1][14] ^ Gk[k-1][13] );\n        }\n\n    }\n\n    // interleaving sequence\n\n    int Ndata = 26303; // numero de data \n    unsigned char Hl[Ndata];\n    double H1[Ndata], H2[Ndata];\n    memset(Hl, 0, sizeof(unsigned char)*Ndata);\n    memset(H1, 0, sizeof(double)*Ndata);\n    memset(H2, 0, sizeof(double)*Ndata);\n\n    int p,indice;\n\n    // loop from page 107 of the physical layer protocol.\n    for (i = 0; i &lt; Lfm; i++) \n    {\n        for (k = 0; k &lt; Mmax; k++) \n        {\n            p = 0;\n            for (j = 0; j &lt; Nr; j++) // sum\n            {\n                if(j &gt;= 0 &amp;&amp; j &lt;= Nr - 2)\n                    H1[p] += Ri[k][j]*pow(2,j);\n                else if(j &gt;= 0 &amp;&amp; j &lt;= Nr - 1)\n                    {\n                    indice = floor(i/2);\n                    H2[p] += Gk[indice][j]*pow(2,j);\n                    }\n            }\n    /*****/ Hl[p] = ((i % 2)*pow(2,Nr-1) + H1[p] ) ^ H2[p]; /*****/\n            if (Hl[p] &lt; Ndata)\n                p += 1;\n        }\n    }\n</code></pre>\n\n<p>the line between the /*****/ in the end generates an error when I try to compile.</p>\n\n<pre><code>freqint.c:146:43: error: invalid operands to binary ^ (have \u2018double\u2019 and \u2018double\u2019)\n\n        Hl[p] = ((i % 2)*pow(2,Nr-1) + H1[p] ) ^ H2[p];\n</code></pre>\n\n<p>I want to do the XOR operation there, but I can't get it right.</p>\n\n<p>I'm taking this from <a href=\"http://atsc.org/wp-content/uploads/2016/10/A322-2016-Physical-Layer-Protocol.pdf\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>the interleaving sequence is on the bottom of page 107 </p>\n\n<p>How do I write my code to avoid that error message and still do an XOR?</p>\n"}, {"tags": ["c", "string", "struct", "character", "garbage"], "comments": [{"owner": {"reputation": 2704, "user_id": 6794772, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d8db2b0d48b6e1b25657fda9ec4ae02?s=128&d=identicon&r=PG&f=1", "display_name": "Dellowar", "link": "https://stackoverflow.com/users/6794772/dellowar"}, "edited": false, "score": 0, "creation_date": 1480534422, "post_id": 40896513, "comment_id": 69007158, "body": "Where is <code>printData(stud)</code> being called? I don&#39;t see it in code snippet 2."}, {"owner": {"reputation": 45, "user_id": 6423674, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tDAeuLJFkuI/AAAAAAAAAAI/AAAAAAAAAAA/s23_wZVQq7k/photo.jpg?sz=128", "display_name": "SCREAM2NIGHT", "link": "https://stackoverflow.com/users/6423674/scream2night"}, "reply_to_user": {"reputation": 2704, "user_id": 6794772, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d8db2b0d48b6e1b25657fda9ec4ae02?s=128&d=identicon&r=PG&f=1", "display_name": "Dellowar", "link": "https://stackoverflow.com/users/6794772/dellowar"}, "edited": false, "score": 0, "creation_date": 1480534568, "post_id": 40896513, "comment_id": 69007219, "body": "in a seperate for loop right below snippet 2      \t<code>for (int i = 0; i &lt; studCount; i++) { \t\tprintData(studPtr[i]); \t}</code>  This allows 2 or more students to be entered before the final table is printed"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480534906, "post_id": 40896513, "comment_id": 69007383, "body": "You are passing a <code>struct</code> to <code>initializeStrings</code> and other <code>struct</code> members to functions which do not find their way back, because you only pass a copy. You could initialise your structs with <code>stud studArray[100] = {0};</code>"}, {"owner": {"reputation": 97126, "user_id": 4593267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EEyLy.jpg?s=128&g=1", "display_name": "chqrlie", "link": "https://stackoverflow.com/users/4593267/chqrlie"}, "edited": false, "score": 2, "creation_date": 1480535044, "post_id": 40896513, "comment_id": 69007453, "body": "<code>fflush(stdin);</code> invokes undefined behavior"}, {"owner": {"reputation": 2704, "user_id": 6794772, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d8db2b0d48b6e1b25657fda9ec4ae02?s=128&d=identicon&r=PG&f=1", "display_name": "Dellowar", "link": "https://stackoverflow.com/users/6794772/dellowar"}, "edited": false, "score": 0, "creation_date": 1480536114, "post_id": 40896513, "comment_id": 69008028, "body": "Well laid out question. Keep it up."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6423674, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tDAeuLJFkuI/AAAAAAAAAAI/AAAAAAAAAAA/s23_wZVQq7k/photo.jpg?sz=128", "display_name": "SCREAM2NIGHT", "link": "https://stackoverflow.com/users/6423674/scream2night"}, "edited": false, "score": 0, "creation_date": 1480536008, "post_id": 40896756, "comment_id": 69007969, "body": "Thank you! Worked perfectly"}], "tags": [], "owner": {"reputation": 925, "user_id": 6476545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8ac5ad896ea48d92ab8cae28ad8bd6?s=128&d=identicon&r=PG&f=1", "display_name": "eddiem", "link": "https://stackoverflow.com/users/6476545/eddiem"}, "is_accepted": true, "score": 1, "last_activity_date": 1480535377, "last_edit_date": 1480535377, "creation_date": 1480534709, "answer_id": 40896756, "question_id": 40896513, "link": "https://stackoverflow.com/questions/40896513/c-garbage-characters-even-with-null-terminator-structures/40896756#40896756", "title": "C - garbage characters even with null terminator, structures", "body": "<p>This code doesn't really make sense.  First, why not pass <code>stud*</code> pointers to each of the functions you're calling below?  Regardless, the way you have it here, you're initializing <code>studPtr</code> to point to a particular element in the <code>studArray</code> array, but then still indexing <code>i</code> into that pointer.  You could probably pass <code>studPtr[0]</code>, but that's just weird.</p>\n\n<p>Original code:</p>\n\n<pre><code>stud studArray[100]; // max 100 students\nstud *studPtr;\n\nfor (int i = 0; i &lt; studCount; i++) {\n    studPtr = &amp;studArray[i];\n    initializeStrings(studPtr[i]);\n    getNum(studPtr[i]);\n    getName(studPtr[i]);\n    getCell(studPtr[i]);\n    getCourses(studPtr[i]);\n}\n</code></pre>\n\n<p>I would suggest modifications like the following:</p>\n\n<pre><code>void initializeStrings(stud *student) {\n    student-&gt;name.firstName[NAME_SIZE - 1] = '\\0'; \n    student-&gt;name.lastName[NAME_SIZE -1] = '\\0';\n    student-&gt;courses.fall.className[NAME_SIZE -1] = '\\0';\n    student-&gt;courses.winter.className[NAME_SIZE -1] = '\\0';\n}\n</code></pre>\n\n<p>These modifications would need to be made to each if the functions that currently take a <code>stud</code> parameter.  Then, change your loop initialization to:</p>\n\n<pre><code>for (int i = 0; i &lt; studCount; i++) {\n    initializeStrings(&amp;studArray[i]);\n    getNum(&amp;studArray[i]);\n    getName(&amp;studArray[i]);\n    getCell(&amp;studArray[i]);\n    getCourses(&amp;studArray[i]);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 649, "user_id": 5602491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2426d2645029b0fa49495a956020ee66?s=128&d=identicon&r=PG&f=1", "display_name": "gilez", "link": "https://stackoverflow.com/users/5602491/gilez"}, "is_accepted": false, "score": 0, "last_activity_date": 1480535023, "creation_date": 1480535023, "answer_id": 40896851, "question_id": 40896513, "link": "https://stackoverflow.com/questions/40896513/c-garbage-characters-even-with-null-terminator-structures/40896851#40896851", "title": "C - garbage characters even with null terminator, structures", "body": "<p>This is not right:</p>\n\n<pre><code>studPtr = &amp;studArray[i];\ninitializeStrings(studPtr[i]);\n</code></pre>\n\n<p>Say you want to access the third element of your array, so <code>i</code> is 3. This gives you an offset to that third entry:</p>\n\n<pre><code>studPtr = &amp;studArray[i];\n</code></pre>\n\n<p>Now you use an index with that....</p>\n\n<pre><code>initializeStrings(studPtr[i]);\n</code></pre>\n\n<p>So you're accessing 3 elements further than the third one you're already at; i.e. element 6. You can see you're going to step off the end of the array, or access elements you haven't initialised.</p>\n\n<p>So use <em>either</em>:</p>\n\n<pre><code>studPtr = &amp;studArray[i];\ninitializeStrings(studPtr);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>initializeStrings(&amp;studArray[i]);\n</code></pre>\n\n<p>Those two amount to the same thing, and point at the same place.</p>\n"}, {"tags": [], "owner": {"reputation": 2704, "user_id": 6794772, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d8db2b0d48b6e1b25657fda9ec4ae02?s=128&d=identicon&r=PG&f=1", "display_name": "Dellowar", "link": "https://stackoverflow.com/users/6794772/dellowar"}, "is_accepted": false, "score": 0, "last_activity_date": 1480535802, "last_edit_date": 1480535802, "creation_date": 1480535375, "answer_id": 40896936, "question_id": 40896513, "link": "https://stackoverflow.com/questions/40896513/c-garbage-characters-even-with-null-terminator-structures/40896936#40896936", "title": "C - garbage characters even with null terminator, structures", "body": "<p>The problem is you're not passing by reference (aka using pointers). If you don't use pointers then functions like <code>getCourses</code> modify temporary data instead of the data directly. Thus, the junk values in the original data are never removed.</p>\n\n<p>Change</p>\n\n<pre><code>void getCourses(stud student) { // no pointer = copy data to temporary memory, original data is unmodified in this function.\ngetchar();\nprintf(\"\\n%s\", \"Enter Course name - Fall 2016: \");\nfgets(student.courses.fall.className, NAME_SIZE - 1, stdin);\nfflush(stdin); // suggested by my prof to fix the issue, did nothing\n\nprintf(\"\\n%s%s%s\", \"Enter mark received for \", student.courses.fall.className, \": \");\nscanf(\"%f\", &amp;student.courses.fall.mark);\n\ngetchar();\nprintf(\"\\n%s\", \"Enter Course name - Winter 2017: \");\nfgets(student.courses.winter.className, NAME_SIZE - 1, stdin);\n\nprintf(\"\\n%s%s%s\", \"Enter mark received for \", student.courses.winter.className, \": \");\nscanf(\"%f\", &amp;student.courses.winter.mark);\n}\n</code></pre>\n\n<p>To</p>\n\n<pre><code>void getCourses(stud *student) { // notice the pointer used. Original data is to be modified.\ngetchar();\nprintf(\"\\n%s\", \"Enter Course name - Fall 2016: \");\nfgets(student-&gt;courses.fall.className, NAME_SIZE - 1, stdin);\nfflush(stdin); // suggested by my prof to fix the issue, did nothing\n\nprintf(\"\\n%s%s%s\", \"Enter mark received for \", student.courses.fall.className, \": \");\nscanf(\"%f\", &amp;student-&gt;courses.fall.mark);\n\ngetchar();\nprintf(\"\\n%s\", \"Enter Course name - Winter 2017: \");\nfgets(student-&gt;courses.winter.className, NAME_SIZE - 1, stdin);\n\nprintf(\"\\n%s%s%s\", \"Enter mark received for \", student.courses.winter.className, \": \");\nscanf(\"%f\", &amp;student-&gt;courses.winter.mark);\n}\n</code></pre>\n\n<p>Further more, you must modify your for loop to handle the pointers. Ie, change <code>getCourses(studPtr[i]);</code> to <code>getCourses(&amp;studPtr[i]);</code></p>\n"}], "owner": {"reputation": 45, "user_id": 6423674, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tDAeuLJFkuI/AAAAAAAAAAI/AAAAAAAAAAA/s23_wZVQq7k/photo.jpg?sz=128", "display_name": "SCREAM2NIGHT", "link": "https://stackoverflow.com/users/6423674/scream2night"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 1, "accepted_answer_id": 40896756, "answer_count": 3, "score": 3, "last_activity_date": 1480536141, "creation_date": 1480533719, "last_edit_date": 1480536141, "question_id": 40896513, "link": "https://stackoverflow.com/questions/40896513/c-garbage-characters-even-with-null-terminator-structures", "title": "C - garbage characters even with null terminator, structures", "body": "<p>So as part of a school assignment I have to create an application to handle the input of various fields using a structure. defined outside of main as following </p>\n\n<pre><code>typedef struct stud {\n    struct number {\n        int studNum;\n    } number;\n    struct name {\n        char firstName[NAME_SIZE];\n        char lastName[NAME_SIZE];\n    } name;\n    struct cellNum {\n        int areaCode;\n        int prefix;\n        int suffix;\n    } cellNum;\n    struct courses {\n        struct fall {\n            char className[NAME_SIZE];\n            float mark;\n        } fall;\n        struct winter {\n            char className[NAME_SIZE];\n            float mark;\n        } winter;\n    } courses;\n} stud;\n</code></pre>\n\n<p>NAME_SIZE is defined as 30</p>\n\n<p>I access the struct as following</p>\n\n<pre><code>stud studArray[100]; // max 100 students\nstud *studPtr;\n\nfor (int i = 0; i &lt; studCount; i++) {\n    studPtr = &amp;studArray[i];\n    initializeStrings(studPtr[i]);\n    getNum(studPtr[i]);\n    getName(studPtr[i]);\n    getCell(studPtr[i]);\n    getCourses(studPtr[i]);\n}\n</code></pre>\n\n<p>initializeStrings is where I add the null terminator's</p>\n\n<pre><code>void initializeStrings(stud student) {\n    student.name.firstName[NAME_SIZE - 1] = '\\0'; \n    student.name.lastName[NAME_SIZE -1] = '\\0';\n    student.courses.fall.className[NAME_SIZE -1] = '\\0';\n    student.courses.winter.className[NAME_SIZE -1] = '\\0';\n}\n</code></pre>\n\n<p>This is now where the problem occurs: in any of my various functions, when I try and access any of the information I write to my string, I get an output of garbage characters that look like a sideways T, but only if i access the data in a different function. </p>\n\n<p>Example: this is the code to get 2 courses and marks</p>\n\n<pre><code>void getCourses(stud student) {\n    getchar();\n    printf(\"\\n%s\", \"Enter Course name - Fall 2016: \");\n    fgets(student.courses.fall.className, NAME_SIZE - 1, stdin);\n    fflush(stdin); // suggested by my prof to fix the issue, did nothing\n\n    printf(\"\\n%s%s%s\", \"Enter mark received for \", student.courses.fall.className, \": \");\n    scanf(\"%f\", &amp;student.courses.fall.mark);\n\n    getchar();\n    printf(\"\\n%s\", \"Enter Course name - Winter 2017: \");\n    fgets(student.courses.winter.className, NAME_SIZE - 1, stdin);\n\n    printf(\"\\n%s%s%s\", \"Enter mark received for \", student.courses.winter.className, \": \");\n    scanf(\"%f\", &amp;student.courses.winter.mark);\n}\n</code></pre>\n\n<p>If I enter helloWorld as a course name, the system correctly prints\n    enter mark received for helloWorld</p>\n\n<p>but when I try and print the data from my print function: </p>\n\n<pre><code>void printData(stud student) {\n// various other values (none of which work)\nprintf(\"\\t%s\\t%s\\t%f\\n\", \"Fall2016\", student.courses.fall.className, student.courses.fall.mark);\n}\n</code></pre>\n\n<p>I get garbage data output ( <a href=\"https://imgur.com/4vs3r9x\" rel=\"nofollow noreferrer\">image</a> )</p>\n\n<p>Any help/code criticism welcome</p>\n\n<p>EDIT: Thank you Eddiem, and everyone else, you pointed me in the right direction.</p>\n"}, {"tags": ["c", "unix", "ipc"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6888846, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gbR2NoR0cp0/AAAAAAAAAAI/AAAAAAAABLU/bSDCFGtSKlA/photo.jpg?sz=128", "display_name": "Paritosh Pandey", "link": "https://stackoverflow.com/users/6888846/paritosh-pandey"}, "edited": false, "score": 0, "creation_date": 1487284921, "post_id": 40896622, "comment_id": 71728798, "body": "Thanks, But used IPC_EXCL served my purpose as, I didn&#39;t wished to msgget to return the existing queue id on call. IPC_EXCL helped me to fail the call if msg qid is existing for that key. If not it will create the new msg qid, serving the cause to avoid overlaps (using the same msg queues for different threads/processes ) ."}], "tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": true, "score": 0, "last_activity_date": 1480534174, "creation_date": 1480534174, "answer_id": 40896622, "question_id": 40896238, "link": "https://stackoverflow.com/questions/40896238/creation-of-multiple-message-queues-with-unique-keys-for-the-queues/40896622#40896622", "title": "Creation of Multiple Message Queues, with Unique Keys for the queues", "body": "<blockquote>\n  <p>Please tell me the syntax for msgget with IPC_PRIVATE</p>\n</blockquote>\n\n<p><code>IPC_PRIVATE</code> is a value of type <code>key_t</code>.  You pass it as the literal key value:</p>\n\n<pre><code>int flags = /* ... permission bits ... */;\nint my_mq = msgget(IPC_PRIVATE, flags);\n</code></pre>\n\n<p>You do not need to include <code>IPC_CREAT</code> or <code>IPC_EXCL</code> among the flags when you use <code>IPC_PRIVATE</code>; if you do include them then they will be ignored.</p>\n\n<blockquote>\n  <p>and wether it will solve my issue ?</p>\n</blockquote>\n\n<p>Every successful call to <code>msgget()</code> with key <code>IPC_PRIVATE</code> creates a new message queue and returns its identifier, so this approach will definitely prevent inadvertent queue sharing.  It also, however, makes it harder to perform <em>intentional</em> queue sharing, and that may present its own issue for you.  After all, message queues are an IPC mechanism, so it seems likely that you do want certain processes to share queues.  Facilitating that is the whole point of key-based queue access.</p>\n\n<p>As an alternative, the usual way to access queues revolves around generating keys with <code>ftok()</code>, based on a distinguishing well-known or computable file name.  The file name might be that of a working directory, a central executable, or a configuration file.  By appropriate choice of the distinguishing file, different groups of cooperating executables can obtain different keys.  The second parameter to <code>ftok()</code> enables cooperating processes to generate (the same) set of up to 256 common keys.</p>\n"}], "owner": {"reputation": 3, "user_id": 6888846, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gbR2NoR0cp0/AAAAAAAAAAI/AAAAAAAABLU/bSDCFGtSKlA/photo.jpg?sz=128", "display_name": "Paritosh Pandey", "link": "https://stackoverflow.com/users/6888846/paritosh-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1175, "favorite_count": 0, "accepted_answer_id": 40896622, "answer_count": 1, "score": 0, "last_activity_date": 1498598977, "creation_date": 1480532747, "last_edit_date": 1498598977, "question_id": 40896238, "link": "https://stackoverflow.com/questions/40896238/creation-of-multiple-message-queues-with-unique-keys-for-the-queues", "title": "Creation of Multiple Message Queues, with Unique Keys for the queues", "body": "<p>We create multiple queues for message passing from one process to other. But sometimes the keys of the message queues get overlapped ( same keys for separate queues). In order to avoid this I thought of using IPC_PRIVATE with the function msgget() which is used in the creation of Message queues.</p>\n\n<p>This <a href=\"http://man7.org/linux/man-pages/man2/msgget.2.html\" rel=\"nofollow noreferrer\">link</a> says I should use IPC_PRIVATE, My application is critical so I have to avoid the current situation.\nsyntax of this msgget is <em>int msgget(key_t key, int msgflg);</em>. \nPlease tell me the syntax for msgget with IPC_PRIVATE and wether it will solve my issue ?</p>\n"}, {"tags": ["c", "loops"], "comments": [{"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 0, "creation_date": 1480532168, "post_id": 40896043, "comment_id": 69005976, "body": "Put the menu in its own function, so you can just call the function anywhere you need to display the menu."}, {"owner": {"reputation": 6310, "user_id": 1654231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92569ddbf8ac47f66b2980ca7f69df0d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/1654231/stuart"}, "edited": false, "score": 0, "creation_date": 1480532268, "post_id": 40896043, "comment_id": 69011753, "body": "I would add a subroutine or method called <code>usage()</code> or similar, and call that instead of printing out the actual menu each time. I&#39;m not a c programmer but I do this in bash / shell scripts."}, {"owner": {"reputation": 1, "user_id": 4680279, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/13f71c3163178c7007822ccae727056b?s=128&d=identicon&r=PG&f=1", "display_name": "Invader", "link": "https://stackoverflow.com/users/4680279/invader"}, "reply_to_user": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 0, "creation_date": 1480532324, "post_id": 40896043, "comment_id": 69006059, "body": "to which menu do you refer? because i printed it twice . once below the int main, and once inside if loop"}], "answers": [{"tags": [], "owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "is_accepted": false, "score": 0, "last_activity_date": 1480532699, "creation_date": 1480532699, "answer_id": 40896228, "question_id": 40896043, "link": "https://stackoverflow.com/questions/40896043/how-to-repeat-a-menu-after-dealing-with-wrong-input/40896228#40896228", "title": "how to repeat a menu after dealing with wrong input", "body": "<p>Replace your <code>if(choice==2)</code> with <code>if((choice==2) || (choice &gt; 6) || (choice &lt; 1) )</code></p>\n\n<p>Replace <code>while (choice==2);</code>with while (((choice==2) || (choice > 6) || (choice &lt; 1) ) &amp;&amp; (count &lt; 4))</p>\n\n<p>Put the following block inside the same while loop.</p>\n\n<pre><code>if(2 == choice) count = 0;\nelse if (choice &gt; 6) || (choice &lt; 1) count ++;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6100121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/217bb6c636ce40e971c6930c766e6493?s=128&d=identicon&r=PG&f=1", "display_name": "varun ", "link": "https://stackoverflow.com/users/6100121/varun"}, "edited": false, "score": 0, "creation_date": 1480707241, "post_id": 40896486, "comment_id": 69090795, "body": "If you found the answer useful and correct, give it a green tick!!"}], "tags": [], "owner": {"reputation": 13, "user_id": 6100121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/217bb6c636ce40e971c6930c766e6493?s=128&d=identicon&r=PG&f=1", "display_name": "varun ", "link": "https://stackoverflow.com/users/6100121/varun"}, "is_accepted": false, "score": 1, "last_activity_date": 1480533614, "creation_date": 1480533614, "answer_id": 40896486, "question_id": 40896043, "link": "https://stackoverflow.com/questions/40896043/how-to-repeat-a-menu-after-dealing-with-wrong-input/40896486#40896486", "title": "how to repeat a menu after dealing with wrong input", "body": "<p>The above answers look correct but you can go with the following code as its working and easy to understand for anyone!</p>\n\n<pre><code>    #include &lt;stdio.h&gt;\nvoid printMenu()\n{\n        printf(\"Welcome, please choose one of the options below:  \\n \");\n        printf( \"1.Exit \\n \");\n        printf( \"2.Print menu again \\n \");\n        printf( \"3.  \");\n        printf( \"4.. \");\n        printf( \"5. \");\n        printf( \"6. \");\n}\nint main() \n{\n\n    int choiceValid=0, count=0, choice;\n\n    printMenu();\n    while(choiceValid==0 &amp;&amp; count&lt;=5)\n    {\n        printf(\"Enter your choice: \");\n        scanf(\"%d\" , &amp;choice);\n\n        if(choice==2)\n        {\n            printMenu();\n            continue;\n        }\n        if( choice&lt;=6 &amp;&amp; choice&gt;=1 ) \n            choiceValid=1;\n        else\n        {\n            count++;\n            printf(\"\\nWrong input, please try again (Enter 2 for re-printing the menu). \\n \" );\n        }   \n    }\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4680279, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/13f71c3163178c7007822ccae727056b?s=128&d=identicon&r=PG&f=1", "display_name": "Invader", "link": "https://stackoverflow.com/users/4680279/invader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480533614, "creation_date": 1480532057, "question_id": 40896043, "link": "https://stackoverflow.com/questions/40896043/how-to-repeat-a-menu-after-dealing-with-wrong-input", "title": "how to repeat a menu after dealing with wrong input", "body": "<p>So the assignemt is to print a menu with options, and if the user puts in an invalid choice (not 1,2,3,4,5 ,6), it prints an error and asking the user to choose again. \nif the user puts in a wrong input 5 times total, the programm will exit.</p>\n\n<pre><code>int main() {\n\n\n    printf(\"Welcome, please choose one of the options below:  \\n \");\n    printf( \"1.Exit \\n \");\n    printf( \"2.Print menu again \\n \");\n    printf( \"3.  \");\n    printf( \"4.. \");\n    printf( \"5. \");\n    printf( \"6. \");\n    printf(\"Enter your choice: \");\n    scanf(\"%d\" , &amp;choice);\n\n        if( (choice &gt; 6) || (choice &lt; 1) ) {\n            do {\n                count++;\n                printf(\" Wrong input, please try again (Enter 2 for re-printing the menu). \\n \" );\n                printf(\"Enter your choice: \");\n                scanf(\"%d\", &amp;choice);\n\n                if(choice==2){\n                    do {\n                        printf(\"Welcome, please choose one of the options below:  \\n \"); //prints of the screen the following in a loop\n                        printf(\"1.Exit \\n \");\n                        printf(\"2.Print menu again \\n \");\n                        printf(\"3. \");\n                        printf(\"4. \");\n                        printf(\"5. \");\n                        printf(\"6.\");\n                        printf(\"Enter your choice: \");\n                        scanf(\"%d\", &amp;choice);\n                    } while (choice==2);\n\n                }   \n\n            } while (count &lt; 4) ;\n            printf(\"%s\" , \"You have made 5 menu errors.Bye Bye!!! \\n \");\n\n        }\n        while(1) {\n        .\n\n        }\n</code></pre>\n\n<p>*the while(1)is for the entire code, puts the entire code for re-use</p>\n\n<p>** i didnt use switch-case, cuz it's forbidden to use it</p>\n\n<p>Now, the problem is, that if i put a wrong input first, let's say for example, '7' (which isn't a choice from the menu), it will print \"wrong input, please try again\". So far so good. \nBut then,if I press 2 for    re-printing the menu, and then I press any number, even if it's a valid choice, it's printing \"wrong input\". \nalso, if I press '2' for re-printing the menu, and then press 1, it will require to press 1 twice in order to exit the programm, instead of just pressing once.</p>\n"}, {"tags": ["c", "matrix"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1480531965, "post_id": 40895966, "comment_id": 69005865, "body": "When you call readM just pass M, not M[20][20]."}, {"owner": {"reputation": 7022, "user_id": 7659995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iZH7M.png?s=128&g=1", "display_name": "MD XF", "link": "https://stackoverflow.com/users/7659995/md-xf"}, "edited": false, "score": 0, "creation_date": 1480533889, "post_id": 40895966, "comment_id": 69006928, "body": "You should properly format your code to avoid confusion and encourage people to help you."}], "answers": [{"comments": [{"owner": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480533072, "post_id": 40896175, "comment_id": 69006460, "body": "Ok so, first: the method with pointers if probably more difficult right?And secondly, can you please give me some hints what you did in the reading function? I mean what&#39;s buf and atoi(buf)? and what did that fgets do?"}, {"owner": {"reputation": 2762, "user_id": 1928852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emKlb.png?s=128&g=1", "display_name": "Enzo Ferber", "link": "https://stackoverflow.com/users/1928852/enzo-ferber"}, "reply_to_user": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480533127, "post_id": 40896175, "comment_id": 69006490, "body": "@CatalinGhita Not that much more difficult. But I didn&#39;t know if you know pointers or not, so I chose to not use them."}, {"owner": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480533263, "post_id": 40896175, "comment_id": 69006559, "body": "Yes i am still learning about them. I added something to my comment,if have time please explain @Enzo Ferber"}, {"owner": {"reputation": 2762, "user_id": 1928852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emKlb.png?s=128&g=1", "display_name": "Enzo Ferber", "link": "https://stackoverflow.com/users/1928852/enzo-ferber"}, "reply_to_user": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480533428, "post_id": 40896175, "comment_id": 69006662, "body": "@CatalinGhita <code>buf</code> is a <code>char</code> buffer, where the function <code>fgets</code> will store what it reads from <code>stdin</code>. A string is a sequence of characters, like this paragraph. <code>stdin</code> is the standard way by which programs get their input. <code>scanf</code> does that, you just don&#39;t see it. <code>atoi</code> converts a string into an integer."}, {"owner": {"reputation": 2762, "user_id": 1928852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emKlb.png?s=128&g=1", "display_name": "Enzo Ferber", "link": "https://stackoverflow.com/users/1928852/enzo-ferber"}, "reply_to_user": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480533520, "post_id": 40896175, "comment_id": 69006718, "body": "@CatalinGhita <code>atoi</code> is necessary because when you read a string like <code>&quot;10&quot;</code>, the program will store it as a sequence of bytes: <code>[49, 48, 0]</code> in this case. What <code>atoi</code> does is convert this into an integer, i.e. a number we can manipulate using variables of type <code>int</code>."}, {"owner": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480533541, "post_id": 40896175, "comment_id": 69006732, "body": "Oh that&#39;s so cool. My teacher didn&#39;t cover these things.So therefore that;s why you included stdlib? Oh and i knew that all functions should go after main, why did you place the first function above him ? Or that isn&#39;t a ferm rule?"}, {"owner": {"reputation": 2762, "user_id": 1928852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emKlb.png?s=128&g=1", "display_name": "Enzo Ferber", "link": "https://stackoverflow.com/users/1928852/enzo-ferber"}, "reply_to_user": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480533693, "post_id": 40896175, "comment_id": 69006836, "body": "@CatalinGhita Yes, <code>stdlib.h</code> is required for <code>atoi</code>. No, the order in which you put your functions is not a rule. If you need to call functions before you  <b>define</b> them, you must first <b>declare</b> them. That&#39;s why you have those <i>function prototypes</i> at the beginning. If you don&#39;t put them there, the compiler will complain about it. It&#39;s all a matter of taste. But in college, you should follow your teacher&#39;s taste..."}, {"owner": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480533924, "post_id": 40896175, "comment_id": 69006946, "body": "Oh that makes sense. Now i noticed that you didn&#39;t write the prototype of the read_num in the first place. So you did that accordingly to your order of functions? I mean could i have placed it below the other 2 functions? obviosly after declaring the prototype in the beggining"}, {"owner": {"reputation": 2762, "user_id": 1928852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emKlb.png?s=128&g=1", "display_name": "Enzo Ferber", "link": "https://stackoverflow.com/users/1928852/enzo-ferber"}, "reply_to_user": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480534035, "post_id": 40896175, "comment_id": 69006998, "body": "@CatalinGhita Yes, if you declare it&#39;s prototype before calling it, you&#39;re fine. But if you put <code>read_num</code> definition after your other 2 functions and <i>do not declare it</i>, your compiler will complain about it."}, {"owner": {"reputation": 2762, "user_id": 1928852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emKlb.png?s=128&g=1", "display_name": "Enzo Ferber", "link": "https://stackoverflow.com/users/1928852/enzo-ferber"}, "reply_to_user": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480534070, "post_id": 40896175, "comment_id": 69007011, "body": "@CatalinGhita In fact, if you put your main function in the end of the file, you may remove both prototypes and the compiler won&#39;t complain."}, {"owner": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480534148, "post_id": 40896175, "comment_id": 69007042, "body": "Oh thank you very much. One more question, what would happen if i would type instead of an integer a character? like &#39;a&#39;. What would it return ? asking because of those new notions for me"}, {"owner": {"reputation": 2762, "user_id": 1928852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emKlb.png?s=128&g=1", "display_name": "Enzo Ferber", "link": "https://stackoverflow.com/users/1928852/enzo-ferber"}, "reply_to_user": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480534255, "post_id": 40896175, "comment_id": 69007096, "body": "@CatalinGhita Returns zero. But questions like those are the kind of questions that you should try answering by <b>tinkering</b> with the code. Put all kinds of input in it, try to make it break, change one line, change the size of the buffer, put a huge input. That will teach more than a thousand books. Tinkering is the hacker&#39;s spirit! ;)"}, {"owner": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480534303, "post_id": 40896175, "comment_id": 69007114, "body": "Thanks a lot for your time. helped me a lot. Still don&#39;t know why i got a downvote.."}, {"owner": {"reputation": 2762, "user_id": 1928852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emKlb.png?s=128&g=1", "display_name": "Enzo Ferber", "link": "https://stackoverflow.com/users/1928852/enzo-ferber"}, "reply_to_user": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "edited": false, "score": 0, "creation_date": 1480534331, "post_id": 40896175, "comment_id": 69007124, "body": "@CatalinGhita Don&#39;t worry about that. Just keep coding. Keep learning. ;)"}], "tags": [], "owner": {"reputation": 2762, "user_id": 1928852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emKlb.png?s=128&g=1", "display_name": "Enzo Ferber", "link": "https://stackoverflow.com/users/1928852/enzo-ferber"}, "is_accepted": true, "score": 2, "last_activity_date": 1480532549, "creation_date": 1480532549, "answer_id": 40896175, "question_id": 40895966, "link": "https://stackoverflow.com/questions/40895966/reading-and-printing-matrix-in-c/40896175#40896175", "title": "Reading and printing matrix in C", "body": "<p>First, when you call <code>readM</code> and <code>printM</code>, you should call them using <code>M</code>, not <code>M[20][20]</code>. </p>\n\n<p>Then, there's the lines and columns problem. When you pass the arguments <code>NL</code> and <code>NC</code> to <code>readM</code>, you're passing a copy of their values inside <code>main</code>. When you read the values in <code>readM</code> you'll store what you read locally, and <code>main</code> will never know about it.</p>\n\n<p>To change that, you could use pointers or you could read the lines and columns in <code>main</code>, leaving <code>readM</code> with the sole purpose of reading matrix itens.</p>\n\n<p>The program may be skipping your input because there's trash in the input buffer. The best way of getting user input is creating a custom function that reads whatever there is in <code>stdin</code>, and then treat it accordingly. Because you never know what users will input...</p>\n\n<p>Here's the code with my suggestions:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n#define MAXSIZE 20\n\nvoid readM(int M[MAXSIZE][MAXSIZE], int, int);\nvoid printM(int M[MAXSIZE][MAXSIZE], int, int);\n\n/* very simple function to treat user input */\nint read_num(void)\n{\n    char buf[50];\n    fgets(buf, 50, stdin);\n    return atoi(buf);\n}\n\n/* if main() won't take any arguments, use void */\nint main(void)\n{\n    int NL, NC, i, j;\n    int M[20][20];\n\n    /* extracted from readM */\n    printf(\"Type in number lines \");\n    NL = read_num();\n    printf(\"Type in number of columns \");\n    NC = read_num();\n\n    readM(M, NL, NC);\n\n    printM(M, NL, NC);\n\n\n    return 0;\n}\n\n\nvoid readM(int M[MAXSIZE][MAXSIZE], int NL, int NC)\n{\n    int i, j;\n    printf(\"Type in values \\n\");\n\n    for (i = 0; i &lt; NL; i++) {\n        for (j = 0; j &lt; NC; j++) {\n            M[i][j] = read_num();\n        }\n    }\n}\n\nvoid printM(int M[MAXSIZE][MAXSIZE], int NL, int NC)\n{\n    int i, j;\n    printf(\"Matrix is \\n\");\n\n    for (i = 0; i &lt; NL; i++) {\n        for (j = 0; j &lt; NC; j++) {\n            printf(\"\\t%d\\t\", M[i][j]);\n        }\n        printf(\"\\n\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 644, "user_id": 7201671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/io92V.jpg?s=128&g=1", "display_name": "Catalin Ghita", "link": "https://stackoverflow.com/users/7201671/catalin-ghita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3052, "favorite_count": 0, "accepted_answer_id": 40896175, "answer_count": 1, "score": 0, "last_activity_date": 1480532549, "creation_date": 1480531743, "question_id": 40895966, "link": "https://stackoverflow.com/questions/40895966/reading-and-printing-matrix-in-c", "title": "Reading and printing matrix in C", "body": "<p>Ok so my main goal is to multiply two matrices.Before jumping there i proposed myself to write 2 functions to read and display a matrix. Basic stuff i thought.\nAfter i run the program and i enter the number of lines and columns,i can only enter 1 value before it crashes. \nI use Dev c++.\nWhat could the issue be here? Thank you in advance.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#define MAXSIZE 20\nvoid readM(int M[MAXSIZE][MAXSIZE],int,int);\nvoid printM(int M[MAXSIZE][MAXSIZE],int,int);\n\nint main ()\n\n{\n    int NL,NC,i,j;\n    int M[20][20];\n    readM(M[20][20],NL,NC);\n    printM(M[20][20],NL,NC);    \n\n\n    return 0;\n}\n\n\nvoid readM(int M[20][20],int NL,int NC) \n    {\n        int i,j;\n        printf(\"Type in number lines \");\n        scanf(\"%d\",&amp;NL);\n        printf(\"Type in number of columns \");\n        scanf(\"%d\",&amp;NC);\n        printf(\"Type in values \\n\");\n\n        for(i=0;i&lt;NL;i++)\n            {\n                for(j=0;j&lt;NC;j++)\n                {\n                    scanf(\"%d\",&amp;M[i][j]);\n                }\n            }\n    }\n\nvoid printM(int M[20][20],int NL,int NC)\n    {\n        int i,j;\n        printf(\"Matrix is \\n\");\n\n        for(i=0;i&lt;NL;i++)\n            {\n                for(j=0;j&lt;NC;j++)\n                {\n                    printf(\"\\t%d\\t\",M[i][j]);\n                }\n                printf(\"\\n\");\n            }\n    }\n</code></pre>\n"}, {"tags": ["c", "assembly", "machine-instruction"], "comments": [{"owner": {"reputation": 9208, "user_id": 3298930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000448921471/picture?type=large", "display_name": "Jose Manuel Abarca Rodr&#237;guez", "link": "https://stackoverflow.com/users/3298930/jose-manuel-abarca-rodr%c3%adguez"}, "edited": false, "score": 2, "creation_date": 1480531801, "post_id": 40895951, "comment_id": 69005771, "body": "In what assembler do you need to declare a function before it can be used?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 4, "creation_date": 1480531889, "post_id": 40895951, "comment_id": 69005822, "body": "C compilers are not assemblers.  The rules of the C language having nothing to do with how assemblers work."}, {"owner": {"reputation": 313, "user_id": 6620886, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/512eac7f669d64cad36f37e0c8c67cba?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh Rao", "link": "https://stackoverflow.com/users/6620886/mahesh-rao"}, "edited": false, "score": 0, "creation_date": 1480532358, "post_id": 40895951, "comment_id": 69006077, "body": "What I meant is that, the compiled program, which is to be &quot;assembled&quot; requires proper definition for each and every function,variable etc that the program contains.If the assembler had to run through the program twice, wouldn&#39;t the need of declaring functions be unnecessary ?"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1480532595, "post_id": 40895951, "comment_id": 69006217, "body": "You&#39;re confusing the compiler and an assembler. They&#39;re not the same thing."}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1480532832, "post_id": 40895951, "comment_id": 69006336, "body": "The second pass is only needed to resolve (<i>fixup</i>) the forward references. It need not even be a complete pass over the source, just over the list of references. IIRC the Borland stran of compilers used a similar technique to implement the Turbo strain of &quot;compilers&quot;."}, {"owner": {"reputation": 313, "user_id": 6620886, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/512eac7f669d64cad36f37e0c8c67cba?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh Rao", "link": "https://stackoverflow.com/users/6620886/mahesh-rao"}, "edited": false, "score": 0, "creation_date": 1480533115, "post_id": 40895951, "comment_id": 69006484, "body": "For example, consider a c program that has been compiled.Now, if the program has a function with no declaration, wouldn&#39;t the program be compiled in such a way, where the first reference to the function comes after say, main ? If it does, wouldn&#39;t the assembler, which passes through the program, make a reference of the function when it&#39;s converting the program ? Or would it not work that way ?"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480533178, "post_id": 40895951, "comment_id": 69006517, "body": "There is usually no assembler pass of C source. It is compiled."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1480533687, "post_id": 40895951, "comment_id": 69006829, "body": "You need to go back to your book and see if it has a section on compilers that explains the differences between a compiler and an assembler."}, {"owner": {"reputation": 313, "user_id": 6620886, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/512eac7f669d64cad36f37e0c8c67cba?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh Rao", "link": "https://stackoverflow.com/users/6620886/mahesh-rao"}, "edited": false, "score": 0, "creation_date": 1480533873, "post_id": 40895951, "comment_id": 69006923, "body": "Apologies, as I missed out a part. Silly mistake."}], "answers": [{"tags": [], "owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "is_accepted": true, "score": 1, "last_activity_date": 1480536715, "creation_date": 1480536715, "answer_id": 40897295, "question_id": 40895951, "link": "https://stackoverflow.com/questions/40895951/assembly-and-execution-of-programs-two-pass-assembler/40897295#40897295", "title": "Assembly and Execution of Programs - Two pass assembler", "body": "<p>The simple answer is that C programs require that functions be declared before it can be used because the C language was designed to be processed by a compiler in a single pass. It has nothing to with assemblers and addresses of functions. The compiler needs to know the type of a symbol, whether its a function, variable or something else, before it can use it.</p>\n\n<p>Consider this simple example:</p>\n\n<pre><code>int foo() { return bar(); }\nint (*bar)();\n</code></pre>\n\n<p>In order to generate the correct code the compiler needs to know that <code>bar</code> isn't a function, but a pointer to a function. The code only works if you put <code>extern int (*bar)();</code> before the definition of <code>foo</code> so the compiler knows what type <code>bar</code> is.</p>\n\n<p>While the language could have been in theory designed to require the compiler to use two passes, this would have required some significant changes in the design of the language. Requiring two passes would also increase the required complexity of the compiler, decreasing the number of platforms that could host a C compiler. This was very important consideration back in the day when C was first being developed, back when 64K (65,536) bytes of RAM was a lot of memory. Even today would have noticeable impact on the compile times of large programs.</p>\n\n<p>Note that the C language does sort of allows what you want anyways, by supporting implicit function declarations. (In my example above this it what happens in <code>foo</code> when <code>bar</code> isn't declared previously.) However this feature is obsolete, limited, and considered dangerous. </p>\n"}], "owner": {"reputation": 313, "user_id": 6620886, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/512eac7f669d64cad36f37e0c8c67cba?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh Rao", "link": "https://stackoverflow.com/users/6620886/mahesh-rao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "closed_date": 1480539338, "accepted_answer_id": 40897295, "answer_count": 1, "score": 0, "last_activity_date": 1480536715, "creation_date": 1480531687, "last_edit_date": 1480533775, "question_id": 40895951, "link": "https://stackoverflow.com/questions/40895951/assembly-and-execution-of-programs-two-pass-assembler", "closed_reason": "Needs details or clarity", "title": "Assembly and Execution of Programs - Two pass assembler", "body": "<p>While going through a book on machine instructions and programs I came across a particular point which says that an assembler scans an entire source program twice. It builds a symbol table during the 1st pass/scan and associates the entire program with it during the second scan. The assembler needs to provide an address in a similar way for a function.<br/>\nNow, since the assembler passes through the program twice, why is it necessary to declare a function before it can be used? Wouldn't the assembler provide an address for the function from the 1st pass and then correlate it to the program during the 2nd pass ?\nI am considering C programming in this case.</p>\n"}, {"tags": ["c", "arrays", "sorting", "struct", "qsort"], "comments": [{"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1480531745, "post_id": 40895932, "comment_id": 69005742, "body": "What&#39;s not working?"}, {"owner": {"reputation": 59, "user_id": 7207108, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4c6e7cb61c57457b7964352af2d06dd0?s=128&d=identicon&r=PG&f=1", "display_name": "asdasd", "link": "https://stackoverflow.com/users/7207108/asdasd"}, "reply_to_user": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1480531779, "post_id": 40895932, "comment_id": 69005753, "body": "@EliSadoff It is simply not sorting it as it should. Adding output so you can see."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1480531845, "post_id": 40895932, "comment_id": 69005800, "body": "Fyi, if you want greater-to-lesser sorting, you need to reverse the logic in your comparator. <code>qsort</code> expects a negative result to mean &quot;less&quot;, zero to mean equivalence, and positive to mean &quot;greater&quot;. And it sorts in <i>ascending</i> order. So... tell it a larger LHS is &quot;smaller&quot; than the RHS when it is actually greater and vice-versa, and it should sort in the order you want."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480531976, "post_id": 40895932, "comment_id": 69005871, "body": "I would change the second test in the compare function from <code>else if(p2-&gt;points &lt; p1-&gt;points)</code> to <code>if(p1-&gt;points &lt; p2-&gt;points)</code> because a) the <code>else</code> is unnecessary and b) you make the same comparison as the first time. Similary the next <code>else</code> only clutters the code, because we already left."}, {"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1480531984, "post_id": 40895932, "comment_id": 69005878, "body": "So it&#39;s not sorting at all. Can you show the implementation of <code>qsort</code> in your code and what is before and after?"}, {"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1480532071, "post_id": 40895932, "comment_id": 69005929, "body": "Also, the compare function doesn&#39;t need to return just <code>-1</code>, <code>0</code>, or <code>1</code>. You can also just have <code>return p2-&gt;points - p1-&gt;points;</code>"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "reply_to_user": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 2, "creation_date": 1480532109, "post_id": 40895932, "comment_id": 69005946, "body": "@EliSadoff no, that&#39;s a dangerous shortcut that can fault from integer overflow."}, {"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480532167, "post_id": 40895932, "comment_id": 69005975, "body": "@WeatherVane Generally yes, but within the context of this problem, it&#39;s highly unlikely a team will have a point total anything close to an integer overflow in any sport I&#39;ve heard of. Especially with the context of the sample cases provided."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "reply_to_user": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 2, "creation_date": 1480532205, "post_id": 40895932, "comment_id": 69006003, "body": "@EliSadoff if you want to use good practice, then use it, not think it won&#39;t matter. It is not a good recommendation."}, {"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 2, "creation_date": 1480532257, "post_id": 40895932, "comment_id": 69006032, "body": "Is it possible that the problem is using <code>sizeof(team)</code> instead of <code>sizeof(TEAM)</code>?"}, {"owner": {"reputation": 59, "user_id": 7207108, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4c6e7cb61c57457b7964352af2d06dd0?s=128&d=identicon&r=PG&f=1", "display_name": "asdasd", "link": "https://stackoverflow.com/users/7207108/asdasd"}, "reply_to_user": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1480532378, "post_id": 40895932, "comment_id": 69006093, "body": "@EliSadoff Checking.. two sec"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "reply_to_user": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 1, "creation_date": 1480532380, "post_id": 40895932, "comment_id": 69006097, "body": "@EliSadoff was just about to say the same thing."}, {"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1480532502, "post_id": 40895932, "comment_id": 69006170, "body": "@jdoe It&#39;s alright. I&#39;ve made that mistake many times before."}, {"owner": {"reputation": 22954, "user_id": 5238915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fncqh.jpg?s=128&g=1", "display_name": "RoadRunner", "link": "https://stackoverflow.com/users/5238915/roadrunner"}, "edited": false, "score": 0, "creation_date": 1480555983, "post_id": 40895932, "comment_id": 69016073, "body": "Yeah don&#39;t worry @jdoe, it takes time to get good at this stuff."}], "answers": [{"tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": true, "score": 4, "last_activity_date": 1480532906, "last_edit_date": 1480532906, "creation_date": 1480532388, "answer_id": 40896137, "question_id": 40895932, "link": "https://stackoverflow.com/questions/40895932/qsort-to-sort-array-of-structs/40896137#40896137", "title": "Qsort to sort array of structs", "body": "<p>Your <code>qsort()</code> call is wrong:</p>\n\n<blockquote>\n<pre><code>qsort(team, NUMBER_OF_TEAMS, sizeof(team), compare_points);\n</code></pre>\n</blockquote>\n\n<p>The third argument must be the size of <em>each element</em> of the array.  You are passing instead either the size of the whole array or the size of a pointer, depending on how <code>team</code> is declared.  You want:</p>\n\n<pre><code>qsort(team, NUMBER_OF_TEAMS, sizeof(TEAM), compare_points);\n</code></pre>\n\n<p>Also, your comparison function is slightly flawed in that it returns -1 when <code>p1-&gt;points == p2-&gt;points</code>.  Inasmuch as you seem to be sorting on the <code>points</code> member, your comparison function should return 0 when two teams have the same number of points.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n#define TEAM_SIZE 10\n\ntypedef struct {\n    char name[TEAM_SIZE];\n    int points;\n} TEAM;\n\n\nint compare_points(const void *a, const void *b)\n{\n    const TEAM *p1 = a;\n    const TEAM *p2 = b;\n    return p2-&gt;points &lt; p1-&gt;points ? -1 : p1-&gt;points &lt; p2-&gt;points;\n}\n\nint main()\n{\n    TEAM teams[] =\n    {\n        { \"OB\",  46 }, { \"AGF\", 37 },\n        { \"AAB\", 50 }, { \"FCK\", 71 },\n        { \"HOB\", 18 }, { \"SDR\", 62 },\n        { \"RFC\", 47 }, { \"BIF\", 54 },\n        { \"EFB\", 30 }, { \"VFF\", 40 }\n    };\n\n    size_t NUM_TEAMS = sizeof teams / sizeof *teams;\n\n    qsort(teams, NUM_TEAMS, sizeof(TEAM), compare_points);\n\n    for (size_t i=0; i&lt; NUM_TEAMS; ++i)\n        printf(\"%s : %d\\n\", teams[i].name, teams[i].points);\n\n    return 0;\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>FCK : 71\nSDR : 62\nBIF : 54\nAAB : 50\nRFC : 47\nOB : 46\nVFF : 40\nAGF : 37\nEFB : 30\nHOB : 18\n</code></pre>\n\n<p><a href=\"http://ideone.com/8P9zuk\" rel=\"nofollow noreferrer\">See it live <strong>here</strong>.</a></p>\n"}], "owner": {"reputation": 59, "user_id": 7207108, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4c6e7cb61c57457b7964352af2d06dd0?s=128&d=identicon&r=PG&f=1", "display_name": "asdasd", "link": "https://stackoverflow.com/users/7207108/asdasd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 40896137, "answer_count": 1, "score": 0, "last_activity_date": 1480532906, "creation_date": 1480531608, "last_edit_date": 1480532354, "question_id": 40895932, "link": "https://stackoverflow.com/questions/40895932/qsort-to-sort-array-of-structs", "title": "Qsort to sort array of structs", "body": "<p>I am trying to sort an array of structs with qsort. However I am having problems with understanding how to make the compare function. I have the following struct:</p>\n\n<pre><code>typedef struct {\n  char name[TEAM_SIZE];\n  int points;\n} TEAM;\n</code></pre>\n\n<p>And I am trying to sort each team after its points with the highest first. </p>\n\n<pre><code>qsort(team, NUMBER_OF_TEAMS, sizeof(team), compare_points);\n</code></pre>\n\n<p>And the compare function:</p>\n\n<pre><code>int compare_points(const void *a, const void *b) {\n  TEAM *p1 = (TEAM *)a;\n  TEAM *p2 = (TEAM *)b;\n\n  if(p1-&gt;points &lt; p2-&gt;points) {\n    return 1;\n  }\n  else {\n    return -1;\n  }\n}\n</code></pre>\n\n<p>How would you do this?</p>\n\n<p>Output:</p>\n\n<pre><code>Before:FCN 38\nBefore:FCM 59\nBefore:OB 46\nBefore:AGF 37\nBefore:AAB 50\nBefore:FCK 71\nBefore:HOB 18\nBefore:SDR 62\nBefore:RFC 47\nBefore:BIF 54\nBefore:EFB 30\nBefore:VFF 40\nAfter:FCM 59\nAfter 8\nAfter:OB 46\nAfter:AGF 37\nAfter:AAB 50\nAfter:FCK 71\nAfter:HOB 18\nAfter:SDR 62\nAfter:RFC 47\nAfter:BIF 54\nAfter:EFB 30\nAfter:VFF 40\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 2, "creation_date": 1480531611, "post_id": 40895881, "comment_id": 69005666, "body": "You are passing <code>num</code> by value, which means a each function gets a copy of it. Also, I don&#39;t see where you increment <code>num</code>."}, {"owner": {"reputation": 2445, "user_id": 3476780, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abf771bddcd864626a0e1499ccfc699b?s=128&d=identicon&r=PG&f=1", "display_name": "yano", "link": "https://stackoverflow.com/users/3476780/yano"}, "reply_to_user": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1480532036, "post_id": 40895881, "comment_id": 69005913, "body": "I see <code>num</code> initialized to 0 and never incremented, so when you get to your <code>for</code> loop in <code>gameList</code>, the condition is false and the body of that loop isn&#39;t entered. You need to increment <code>num</code> in the <code>Add</code> function after a successful insert (paying attention to what @JohnnyMopp said),,, or have <code>Add</code> return success upon insert and increment <code>num</code> in <code>main</code> if the success condition holds."}], "owner": {"reputation": 27, "user_id": 6866732, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e04df3487bdfde880dad72132da8aa6d?s=128&d=identicon&r=PG&f=1", "display_name": "user6866732", "link": "https://stackoverflow.com/users/6866732/user6866732"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480531416, "creation_date": 1480531416, "question_id": 40895881, "link": "https://stackoverflow.com/questions/40895881/how-can-i-update-an-input-into-an-inventory-and-display-it-later", "title": "How can I update an input into an inventory and display it later?", "body": "<p>I'm currently having a piece of code here that Im stuck. My problem here is that after I use Add function to add a game into the inventory, I press P to display but it shows that the inventory is empty. So how can I update the new entry into this inventory?</p>\n\n<pre><code>#define _CRT_SECURE_NO_WARNINGS\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;ctype.h&gt;\n#define SIZE 40\n\n\ntypedef struct {\n    char gname[30];\n    char gcomp[30];\n    double gprice;\n} game;\n\nvoid showMenu(char *choice);\nvoid gameList(game list[], int num);\nvoid HardCodeSix(game list[]);\nvoid Add(game list[], int num);\n\nint main()\n{\n    game list[SIZE];\n    int count = 0;\n    char choice;\n    int num = 0;\n\n    HardCodeSix(list);\n    count = 6;\n\n    printf(\"Welcome to Mini Game-Stop!!\\n\");\n    printf(\"\\n\");\n    showMenu(&amp;choice);\n\n    choice = toupper(choice);\n    printf(\"Your choice is: %c\\n\", choice);\n    printf(\"\\n\");\n\n    while (choice != 'Q')\n    {\n        if (choice == 'P')\n        {\n            gameList(list, num);\n        }\n        else if (choice == 'A')\n        {\n            Add(list, num);\n        }\n\n        showMenu(&amp;choice);\n        choice = toupper(choice);\n        printf(\"Your choice is: %c\\n\", choice);\n        printf(\"\\n\");\n\n\n    }\n    printf(\"Thank for using this program. Bye!\\n\");\n    return 0;\n}\nvoid showMenu(char *choice)\n{\n    printf(\"** Options: \\n\");\n    printf(\"P....Print list of games.\\n\");\n    printf(\"A....Add more game into the list.\\n\");\n    printf(\"C....Clear all of the choices.\\n\");\n    printf(\"D....Delete one game from the list.\\n\");\n    printf(\"U....Update.\\n\");\n    printf(\"Q....Quit.\\n\");\n    printf(\"\\n\");\n    printf(\"Please enter your choice:  \");\n    scanf(\" %c\", &amp;*choice);\n}\n\nvoid gameList(game list[], int num)\n{\n    int i;\n    if (num == 0)\n    {\n        printf(\"Empty List!\\n\");\n        printf(\"\\n\");\n    }\n\n    for (i = 0; i &lt; num; i++)\n    {\n        printf(\"Title: %s\\n\", list[i].gname);\n        printf(\"Developer: %s\\n\", list[i].gcomp);\n        printf(\"Price: $%.2f\\n\", list[i].gprice);\n    }\n}\n\nvoid Add(game list[], int num)\n{\n    printf(\"Enter game's title: \");\n    scanf(\"%s\", list[num].gname);\n\n    printf(\"Enter game's developer: \");\n    scanf(\"%s\", list[num].gcomp);\n\n    printf(\"Price: \");\n    scanf(\"%lf\", &amp;list[num].gprice);\n    printf(\"\\n\");\n}\n</code></pre>\n"}, {"tags": ["c", "arrays", "buffer", "cs50"], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 4413134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29859daf0ae2cdf0ba8c7c3c7f262995?s=128&d=identicon&r=PG&f=1", "display_name": "Razbit", "link": "https://stackoverflow.com/users/4413134/razbit"}, "is_accepted": true, "score": 1, "last_activity_date": 1480531903, "creation_date": 1480531903, "answer_id": 40896001, "question_id": 40895773, "link": "https://stackoverflow.com/questions/40895773/reading-buffer-data-form-fread-in-c/40896001#40896001", "title": "Reading buffer data form fread() in c", "body": "<p>In C pointers and arrays are quite the same, so <code>int ptr[4];</code> means that you have an array of 4 integers, and you can access them using the usual notation (e.g. <code>ptr[3] = 2;</code>) or, with pointer arithmetic, <code>*(ptr+3) = 2;</code>, which does the same thing.</p>\n\n<p>The function <code>fread()</code> expects a pointer of some kind, so you have to give it an address, in your case the address of (operator <code>&amp;</code>) the i:th element in the array, like <code>fread(&amp;(ptr[i]), 1, 1, in);</code> or <code>fread(ptr + i, 1, 1, in);</code></p>\n\n<p>The compiler error says just this, you are giving to the function an integer instead of a pointer.</p>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 6401555, "user_type": "registered", "profile_image": "https://graph.facebook.com/1079398528761505/picture?type=large", "display_name": "Agustin Lo Castro", "link": "https://stackoverflow.com/users/6401555/agustin-lo-castro"}, "is_accepted": false, "score": 1, "last_activity_date": 1480536113, "creation_date": 1480536113, "answer_id": 40897133, "question_id": 40895773, "link": "https://stackoverflow.com/questions/40895773/reading-buffer-data-form-fread-in-c/40897133#40897133", "title": "Reading buffer data form fread() in c", "body": "<p>int ptr[4]; is a array of intrigers, so ptr[i] is a intriger.</p>\n\n<p>If you need a array of pointers, this is the way</p>\n\n<p>int *(ptr)[4] so ptr[i] is a pointer.</p>\n"}], "owner": {"reputation": 35, "user_id": 6748820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf74c675db9dc36d975cd5cde8f02a69?s=128&d=identicon&r=PG&f=1", "display_name": "olafironfoot", "link": "https://stackoverflow.com/users/6748820/olafironfoot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3852, "favorite_count": 0, "accepted_answer_id": 40896001, "answer_count": 2, "score": 1, "last_activity_date": 1480536113, "creation_date": 1480531079, "question_id": 40895773, "link": "https://stackoverflow.com/questions/40895773/reading-buffer-data-form-fread-in-c", "title": "Reading buffer data form fread() in c", "body": "<p>I'm trying to extract the data from a file and store it directly in an array from the fread function. However, it seem like the data type is incorrect?</p>\n\n<p>Here is the error message:</p>\n\n<blockquote>\n  <p>dataPlus.c:28:15: error: incompatible integer to pointer conversion\n  passing\n        'int' to parameter of type 'void *' [-Werror,-Wint-conversion]\n          fread(ptr[i], 1, 1, in);</p>\n</blockquote>\n\n<p>How can I make those data accessible? For instance, if I want to check if the first 3 char in the text files are 1, 2, and 3.</p>\n\n<pre><code>/**\n * To store specific lines of data from fread into array.\n * Alternatively, to make the buffer recieved from fread, readible\n **/\n\n#include &lt;stdio.h&gt;\n\nint main(void)\n{\n\nFILE* in = fopen(\"in.txt\", \"r\");\n\nif (in == NULL)\n{\n    printf(\"File does not exist.\\n\");\n    return 1;\n}\n\n\nFILE* out = fopen(\"out.txt\", \"w\");\n\n//read file information into array.\nint ptr[4];\n\n//error here... Tried to store it directly into array instead of buffer..\n    for(int i = 0; i &lt; 4; i++)\n    {\n        fread(ptr[i], 1, 1, in);\n    }\n\n\n    for(int j = 0; j &lt; 4; j++)\n    {\n        printf(\"success. Array[%i] is --&gt; %i value\\n\", j, ptr[j]);\n    }\n\nfclose(in);\nfclose(out);\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "arrays", "algorithm", "dynamic-programming"], "comments": [{"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480530107, "post_id": 40895487, "comment_id": 69004843, "body": "Is this a variant of the <a href=\"https://en.wikipedia.org/wiki/Knapsack_problem\" rel=\"nofollow noreferrer\">knapsack problem</a>?"}, {"owner": {"reputation": 57, "user_id": 6918374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73cac8049448cf914a5a7bfeea24aac?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Burns", "link": "https://stackoverflow.com/users/6918374/ray-burns"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480533643, "post_id": 40895487, "comment_id": 69006800, "body": "No, I&#39;m trying to find the dynamic programming solution for the K-Server problem."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480533986, "post_id": 40895487, "comment_id": 69006974, "body": "In that case can you apply <a href=\"https://en.wikipedia.org/wiki/Dijkstra&#39;s_algorithm\" rel=\"nofollow noreferrer\">Dijkstra&#39;s algorithm</a> which finds an optimal route without exploring all possible paths? It is usually used in 2 dimensions, but no reason why it cannot be applied to more."}, {"owner": {"reputation": 84156, "user_id": 916657, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/75bf31b48e75eedfebaa411a76a85155?s=128&d=identicon&r=PG", "display_name": "Niklas B.", "link": "https://stackoverflow.com/users/916657/niklas-b"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480539797, "post_id": 40895487, "comment_id": 69010027, "body": "@WeatherVane Dijkstra will likely still visit a large portion of all possible states in this case (based on my intuition, I haven&#39;t checked it), so the additional book keeping (log(n) factor to find the next state to process) is likely not worth it in terms of running time."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 6918374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73cac8049448cf914a5a7bfeea24aac?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Burns", "link": "https://stackoverflow.com/users/6918374/ray-burns"}, "edited": false, "score": 0, "creation_date": 1480542316, "post_id": 40895708, "comment_id": 69011353, "body": "Thanks for the answer, I sorta understand what to do but can you please explain number 1. What do would mean by trying all triplets? Thanks and sorry for the late reply."}, {"owner": {"reputation": 17464, "user_id": 2040251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UsW2G.jpg?s=128&g=1", "display_name": "kraskevich", "link": "https://stackoverflow.com/users/2040251/kraskevich"}, "reply_to_user": {"reputation": 57, "user_id": 6918374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73cac8049448cf914a5a7bfeea24aac?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Burns", "link": "https://stackoverflow.com/users/6918374/ray-burns"}, "edited": false, "score": 0, "creation_date": 1480544781, "post_id": 40895708, "comment_id": 69012478, "body": "@RayBurns I mean iterating over all i, j and k and find such a combination that cost[i][j][k][t] is minimal."}], "tags": [], "owner": {"reputation": 17464, "user_id": 2040251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UsW2G.jpg?s=128&g=1", "display_name": "kraskevich", "link": "https://stackoverflow.com/users/2040251/kraskevich"}, "is_accepted": true, "score": 0, "last_activity_date": 1480530845, "creation_date": 1480530845, "answer_id": 40895708, "question_id": 40895487, "link": "https://stackoverflow.com/questions/40895487/how-can-i-tell-where-the-optimal-path-for-the-k-server-dynamic-solution-is-locat/40895708#40895708", "title": "How can I tell where the optimal path for the k-server dynamic solution is located in array cost[ i ][ j ][ k ][ t ]?", "body": "<p>To find the optimal solution itself once the cost is computed, you can go like this:</p>\n\n<ol>\n<li><p>Find the optimal combination of <code>i</code>, <code>j</code> and <code>k</code> for the final value of <code>t</code> (by simply trying all triplets).</p></li>\n<li><p>Initialize the current state with <code>(i, j, k, t)</code>. </p></li>\n<li><p>Keep finding the parent state and going to it until the initial state is reached.</p></li>\n<li><p>To find the parent, you can iterate over all states that could lead to the current one and make sure that a transition from the previous state to the current state indeed yields the cost of the current state (if there are several options, you can pick any of them).</p></li>\n<li><p>You could also store the parent array and fill it while computing the <code>cost</code> function. </p></li>\n</ol>\n\n<p>Once you know the sequence of states that lead to the final optimal solution, you can easily get the path itself by checking which server moves for each transition.</p>\n"}], "owner": {"reputation": 57, "user_id": 6918374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73cac8049448cf914a5a7bfeea24aac?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Burns", "link": "https://stackoverflow.com/users/6918374/ray-burns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 40895708, "answer_count": 1, "score": 1, "last_activity_date": 1480530845, "creation_date": 1480530023, "question_id": 40895487, "link": "https://stackoverflow.com/questions/40895487/how-can-i-tell-where-the-optimal-path-for-the-k-server-dynamic-solution-is-locat", "title": "How can I tell where the optimal path for the k-server dynamic solution is located in array cost[ i ][ j ][ k ][ t ]?", "body": "<p>You can \ufb01nd the optimal strategy by a dynamic-programming type argument: If the input sequence was n request points long (p1,...,pn), you create an n \u00d7 n \u00d7 n \u00d7 n array; the entry cost[i][j][k][t] is the cost of the cheapest sequence of moves that starts at the given starting positions and serves the requests up to time step t, and ends up with the yellow server at pi, the red server at pj, and the blue server at pk. One of ijk must be t, since the last request at pt was served, all other table entries have cost \u221e. Any possible table entry must have been reached by moving one of the three servers from a position at step t \u2212 1.</p>\n\n<p>Now say I have an array called positions which contains points (x,y) coordinate values and the array at position 0, 1, and 2 are the initial positions of the server 1, 2, 3 respectively, and the elements from the array indexed at 3 to the end of the array are the requests points.</p>\n\n<p>If I use this algorithm and compute all possible path that all 3 servers can take, how can I tell where the optimal path for the k-server problem is located at?</p>\n\n<p>If the size of the positions is 10, why is cost[9][9][9][9] is not a solution and where can I find the solution?</p>\n"}, {"tags": ["c", "strcmp"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 9, "creation_date": 1480529946, "post_id": 40895414, "comment_id": 69004747, "body": "What is <code>Array</code>? What is <code>a_length</code>? What is <code>get</code>? What is <code>string</code>? And on which line do you get the error? And is it the complete and unedited output from the compiler you&#39;re showing? Also, please learn how to create a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a>."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 2, "creation_date": 1480530653, "post_id": 40895414, "comment_id": 69005132, "body": "What exactly is the question?  Are you asking whether the compiler is wrong to reject the program? Probably it isn&#39;t.  Are you asking what the compiler is complaining about?  Surely it gave you a better idea than you&#39;ve given us.  Are you asking how to fix it?  You haven&#39;t given us enough information to tell."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480531284, "post_id": 40895414, "comment_id": 69005475, "body": "What is <code>get (float, weight_array, (i))</code>? <code>float</code> is a type, not a variable, so belongs in the function definition, not passed as an argument. I&#39;ll bet <code>String</code> is also a (ill-advised) type, not a variable. In which case <code>get</code> is being passed different types anyway."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480531607, "post_id": 40895414, "comment_id": 69005660, "body": "Is <code>get</code> a macro? If so by convention it should be <code>GET</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2790, "user_id": 5137782, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/b8bQ8.jpg?s=128&g=1", "display_name": "8protons", "link": "https://stackoverflow.com/users/5137782/8protons"}, "is_accepted": false, "score": 0, "last_activity_date": 1480532192, "last_edit_date": 1480532192, "creation_date": 1480531485, "answer_id": 40895905, "question_id": 40895414, "link": "https://stackoverflow.com/questions/40895414/c-bytes-of-strcmp-and-string-comparison-from-array/40895905#40895905", "title": "C - Bytes of strcmp and String comparison from Array", "body": "<p><strong>Floats</strong> are 4-bytes. Guessing by your use of the <code>get</code> function(s),</p>\n\n<pre><code>get(String, weight_array, (i+1) )\n</code></pre>\n\n<p>the issue is with <code>weight_array</code> being an array of floats, but the first parameter is doing some executing with a <code>String</code> type.</p>\n\n<p>Hence your error,</p>\n\n<blockquote>\n  <p>\"Wrong type: Size of element is 4 bytes, but size of String is 8 bytes.\"</p>\n</blockquote>\n"}], "owner": {"reputation": 75, "user_id": 5697920, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a0a342c1306a96e03a00f5187c128104?s=128&d=identicon&r=PG&f=1", "display_name": "Olscream", "link": "https://stackoverflow.com/users/5697920/olscream"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480532192, "creation_date": 1480529736, "question_id": 40895414, "link": "https://stackoverflow.com/questions/40895414/c-bytes-of-strcmp-and-string-comparison-from-array", "title": "C - Bytes of strcmp and String comparison from Array", "body": "<p>Thank you in advance for your answer !\nI wrote a programm which seems probably correct in my opinion but an error occurs in the compiler (about the first line with strcmp) : </p>\n\n<blockquote>\n  <p>\"Wrong type: Size of element is 4 bytes, but size of String is 8\n  bytes.\"</p>\n</blockquote>\n\n<pre><code>    float total_weight_kg(Array weight_array) { // todo: modify header (parameters, parameter types, return type)\nfloat sum = 0;\nfor (int i = 0; i &lt; a_length(weight_array); i+=2)\n{\n    if( strcmp(get(String, weight_array, (i+1) ), \"kg\") == 0 ){ sum = sum + get (float, weight_array, (i)) ;}\n    if( strcmp(get (String, weight_array, (i+1) ), \"l\") == 0  ){ sum = sum + get (float, weight_array, (i)) ;}\n    if( strcmp(get (String, weight_array, (i+1) ), \"g\") == 0  ){ sum = sum + ( get (float, weight_array, (i) )*1000 ) ;}\n    if( strcmp(get (String, weight_array, (i+1) ), \"mg\") == 0 ){ sum = sum + ( get (float, weight_array, (i) ) * 1000000 ) ;}\n    else{printf(\"Impossible for this case. Unknown unit of measurement.\");}\n}\nreturn sum;}     \n</code></pre>\n"}, {"tags": ["c", "arrays", "char"], "comments": [{"owner": {"reputation": 4952, "user_id": 5987698, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b26d6435dcb8897d1a57fa24b462da0?s=128&d=identicon&r=PG&f=1", "display_name": "GoodDeeds", "link": "https://stackoverflow.com/users/5987698/gooddeeds"}, "edited": false, "score": 2, "creation_date": 1480530434, "post_id": 40895410, "comment_id": 69005012, "body": "Why is the output abc and not abcd?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 1, "creation_date": 1480531117, "post_id": 40895410, "comment_id": 69005381, "body": "Your attempt appears to be no attempt at all.  It simply reads in the data from a file.  That gets you to the <i>starting point</i> you describe."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 2, "creation_date": 1480531282, "post_id": 40895410, "comment_id": 69005472, "body": "It would be easier to de-duplicate as you read the characters from the file, so that the array never has runs of duplicate characters in the first place.  You could do that with a small modification to what you already have."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1480542191, "post_id": 40895410, "comment_id": 69011296, "body": "If the input is <code>aabbccaabbcc</code>, do you want the output to be <code>abcabc</code> or <code>abc</code>?  The first is a lot easier than the second."}], "answers": [{"comments": [{"owner": {"reputation": 4535, "user_id": 3478852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vzDyD.jpg?s=128&g=1", "display_name": "Nisse Engstr&#246;m", "link": "https://stackoverflow.com/users/3478852/nisse-engstr%c3%b6m"}, "edited": false, "score": 1, "creation_date": 1480743367, "post_id": 40896055, "comment_id": 69100243, "body": "FYI: Someone made a suggestion to simplify your code. See <a href=\"http://stackoverflow.com/review/suggested-edits/14481531\">here</a>."}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "reply_to_user": {"reputation": 4535, "user_id": 3478852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vzDyD.jpg?s=128&g=1", "display_name": "Nisse Engstr&#246;m", "link": "https://stackoverflow.com/users/3478852/nisse-engstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1480745838, "post_id": 40896055, "comment_id": 69100666, "body": "@Aniket Khaire: I don&#39;t know why I am not able to approve your edits. Please post it as a separate answer. It is better than my solution."}, {"owner": {"reputation": 4535, "user_id": 3478852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vzDyD.jpg?s=128&g=1", "display_name": "Nisse Engstr&#246;m", "link": "https://stackoverflow.com/users/3478852/nisse-engstr%c3%b6m"}, "edited": false, "score": 1, "creation_date": 1480746015, "post_id": 40896055, "comment_id": 69100699, "body": "The review was completed when three reviewers rejected it due to the substantial changes to the code."}], "tags": [], "owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "is_accepted": false, "score": 1, "last_activity_date": 1480532083, "creation_date": 1480532083, "answer_id": 40896055, "question_id": 40895410, "link": "https://stackoverflow.com/questions/40895410/c-remove-duplicates-character-in-char-array/40896055#40896055", "title": "C remove duplicates character in char array", "body": "<p>remove_repeatation() will do this.</p>\n\n<pre><code>void remove_repeatation(char *str)\n{\n    char flag[256] = {0}; //Assuming sizeof char is 8. So max 256 different characters.\n    int  i            = 0;\n    int  j            = 0;\n\n    for(i=0; str[i] != '\\0';)\n    {\n        if(0 == flag[str[i]]) //Check if character is already found.\n        {\n            flag[str[i]] = 1; //If a character is found for the first time, enable corresponding flag.\n            i++; //Go to next byte in the array.\n        }\n        else\n        {\n            for(j=i; str[j] != '\\0'; j++)\n                str[j] = str[j+1]; //If repeated character, shift the array entries to 1 byte left.\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 195, "user_id": 6201829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKa2A.jpg?s=128&g=1", "display_name": "daBigBug", "link": "https://stackoverflow.com/users/6201829/dabigbug"}, "is_accepted": false, "score": 0, "last_activity_date": 1480907423, "last_edit_date": 1480907423, "creation_date": 1480904120, "answer_id": 40966163, "question_id": 40895410, "link": "https://stackoverflow.com/questions/40895410/c-remove-duplicates-character-in-char-array/40966163#40966163", "title": "C remove duplicates character in char array", "body": "<p>Edit to above code by MayurK:</p>\n\n<pre><code>char* remove_repeatation(char *str)\n{\n    char flag[256] = {0}; //Assuming sizeof char is 8. So max 256 different characters.\n    int  i            = 0;\n    int  j            = 0;\n\n    for(i=0; str[i] != '\\0'; i++)\n    {\n        if(0 == flag[str[i]]) //Check if character is already found.\n        {\n            flag[str[i]] = 1; //If a character is found for the first time, enable corresponding flag.\n            str[j] = str[i];\n            j++;\n        }\n    }\n    str[j] = '\\0';\n    return *str;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7232386, "user_type": "registered", "profile_image": "https://graph.facebook.com/720962988066162/picture?type=large", "display_name": "Tee Plerngpiz", "link": "https://stackoverflow.com/users/7232386/tee-plerngpiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2116, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480907423, "creation_date": 1480529731, "last_edit_date": 1480721610, "question_id": 40895410, "link": "https://stackoverflow.com/questions/40895410/c-remove-duplicates-character-in-char-array", "title": "C remove duplicates character in char array", "body": "<p>In a text file I have \"abbcccdddd\". I want to store \"abcd\" in an array.</p>\n\n<p>Before: tx[0] = a, tx[1] = b, tx[3] = c, tx[6] = d</p>\n\n<p>After: tx[0] = a, tx[1] = b, tx[2] = c, tx[3] = d</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdlib.h&gt;\n\nvoid main() \n{\n    FILE *fp = fopen(\"D:\\\\C#\\\\Zip\\\\Text001.txt\", \"r\");\n    char x;\n    int size;\n    int j, k;\n    int i = 0;\n\n    fseek(fp, 0, SEEK_END);\n    size = ftell(fp);\n    fseek(fp, 0, SEEK_SET);\n    char tx[size];\n    x = fgetc(fp);\n\n    while (x != EOF)\n    {\n        tx[i] = x;\n        printf(\"%c\", tx[i]);\n        x = fgetc(fp);\n        i++;\n    }\n}\n</code></pre>\n"}, {"tags": ["c", "compilation", "cross-compiling", "bare-metal"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480529345, "post_id": 40895255, "comment_id": 69004429, "body": "you&#39;re going to compile on baremetal?"}, {"owner": {"reputation": 5824, "user_id": 29502, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1418ba3d9ca124ff55e11f8050682aa6?s=128&d=identicon&r=PG", "display_name": "Newtang", "link": "https://stackoverflow.com/users/29502/newtang"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480529428, "post_id": 40895255, "comment_id": 69004481, "body": "@Jean-Fran&#231;oisFabre Yes. Updated question for clarity."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1480529472, "post_id": 40895255, "comment_id": 69004501, "body": "I know you compile <i>for</i> baremetal, but are you planning to run the compiler <i>on</i> baremetal. Probably not."}, {"owner": {"reputation": 5824, "user_id": 29502, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1418ba3d9ca124ff55e11f8050682aa6?s=128&d=identicon&r=PG", "display_name": "Newtang", "link": "https://stackoverflow.com/users/29502/newtang"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480529547, "post_id": 40895255, "comment_id": 69004545, "body": "Oh! I misunderstood. Correct, I am running on bare-metal, but compiling elsewhere."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1480529654, "post_id": 40895255, "comment_id": 69004591, "body": "Ok, so for you what is a hosted environment? since you cannot run your compiler on baremetal, what&#39;s the use of testing about linux, windows whatever? and why do you mind if someone can compile your code on a TI99-4A as long as it works? (sorry for all those questions... can&#39;t figure out your problem)"}, {"owner": {"reputation": 5824, "user_id": 29502, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1418ba3d9ca124ff55e11f8050682aa6?s=128&d=identicon&r=PG", "display_name": "Newtang", "link": "https://stackoverflow.com/users/29502/newtang"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480530040, "post_id": 40895255, "comment_id": 69004808, "body": "A hosted environment in my case would be any operating system. I only want it as a failsafe to prevent accidentally using the wrong compiler or forgetting the --ffreestanding flag. I appreciate the questions! I&#39;m new at this, so I might not be using all the right terminology."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480530369, "post_id": 40895255, "comment_id": 69004970, "body": "so what is your accepted machine to build your code? (still not getting it!)"}, {"owner": {"reputation": 5824, "user_id": 29502, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1418ba3d9ca124ff55e11f8050682aa6?s=128&d=identicon&r=PG", "display_name": "Newtang", "link": "https://stackoverflow.com/users/29502/newtang"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480530700, "post_id": 40895255, "comment_id": 69005153, "body": "Sorry, I&#39;m not being clear. I don&#39;t care where it&#39;s built. Building on macOS, linux, whatever. I just want it to be free standing and only run on bare-metal."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480530909, "post_id": 40895255, "comment_id": 69005267, "body": "If it is freestanding code to run on bare metal it will contain stuff that won&#39;t compile in Linux, Windows whatever? Anyway, if it has to be compiled by a cross-compiler, won&#39;t that be target specific, and have some <code>#define</code> of its own?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480531056, "post_id": 40895255, "comment_id": 69005348, "body": "you cannot detect if you&#39;re running on bare metal at compile time! you have to find a way to detect baremetal at <i>runtime</i>. Compiler flags won&#39;t help you there."}, {"owner": {"reputation": 5824, "user_id": 29502, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1418ba3d9ca124ff55e11f8050682aa6?s=128&d=identicon&r=PG", "display_name": "Newtang", "link": "https://stackoverflow.com/users/29502/newtang"}, "edited": false, "score": 0, "creation_date": 1480532079, "post_id": 40895255, "comment_id": 69005932, "body": "I can check if I&#39;m compiling for linux (per my example in the original question). Is there a more generic check I can use that&#39;s not linux specific, but would be true for any OS?"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480532691, "post_id": 40895255, "comment_id": 69006262, "body": "You said your compiler <code>#error</code> is &quot;You&#39;re not using a cross-compiler.&quot; So if you want a single check, then check for that specific cross-compiler that you know is good?"}], "answers": [{"tags": [], "owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "is_accepted": true, "score": 2, "last_activity_date": 1480533632, "creation_date": 1480533632, "answer_id": 40896492, "question_id": 40895255, "link": "https://stackoverflow.com/questions/40895255/compiler-check-to-ensure-im-running-in-bare-metal-and-not-in-a-hosted-environme/40896492#40896492", "title": "Compiler check to ensure I&#39;m running in bare-metal and not in a hosted environment", "body": "<p>If you want to determine that you are building with <code>-ffreestanding</code> then make your code check for the <code>__STDC_HOSTED__</code> macro. It will be set to 1 for normal code and set to 0 for a freestanding build.</p>\n\n<p>See the GCC info pages or the docs. The relevant quote is</p>\n\n<blockquote>\n  <p>By default, it acts as the compiler for a hosted\n  implementation, defining '<strong>STDC_HOSTED</strong>' as '1' and presuming that\n  when the names of ISO C functions are used, they have the semantics\n  defined in the standard.  To make it act as a conforming freestanding\n  implementation for a freestanding environment, use the option\n  '-ffreestanding'; it then defines '<strong>STDC_HOSTED</strong>' to '0' and does not\n  make assumptions about the meanings of function names from the standard\n  library, with exceptions noted below.</p>\n</blockquote>\n"}], "owner": {"reputation": 5824, "user_id": 29502, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1418ba3d9ca124ff55e11f8050682aa6?s=128&d=identicon&r=PG", "display_name": "Newtang", "link": "https://stackoverflow.com/users/29502/newtang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 1, "accepted_answer_id": 40896492, "answer_count": 1, "score": 1, "last_activity_date": 1480533632, "creation_date": 1480529193, "last_edit_date": 1480529410, "question_id": 40895255, "link": "https://stackoverflow.com/questions/40895255/compiler-check-to-ensure-im-running-in-bare-metal-and-not-in-a-hosted-environme", "title": "Compiler check to ensure I&#39;m running in bare-metal and not in a hosted environment", "body": "<p>If I'm compiling a C program for bare-metal, I know I can insert things like </p>\n\n<pre><code>#if defined(__linux__) \n#error \"You're not using a cross-compiler.\"\n#endif`\n</code></pre>\n\n<p>But, I don't want to check for every operating system. Is there a single check to see if I'm in a hosted environment?</p>\n"}, {"tags": ["c", "uefi", "gnu-efi"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7232315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/584206af0713927b092357e37fb0b335?s=128&d=identicon&r=PG&f=1", "display_name": "Rory McNamara", "link": "https://stackoverflow.com/users/7232315/rory-mcnamara"}, "is_accepted": true, "score": 1, "last_activity_date": 1480533558, "creation_date": 1480533558, "answer_id": 40896465, "question_id": 40895111, "link": "https://stackoverflow.com/questions/40895111/uefi-resolve-full-path/40896465#40896465", "title": "UEFI Resolve full path", "body": "<p>Trust that when I've asked for help I work it out.</p>\n\n<p>The general idea is to use <code>LocateHandleBuffer</code> to find all handles for <code>SIMPLE_FILE_SYSTEM_PROTOCOL</code>. With these handles, compare the path (using <code>DevicePathFromHandle</code>) to what we already have to find the appropriate device. <code>LoadImage</code> now works for me.</p>\n\n<p>Sample code below (<code>buf</code> is the value of the <code>Boot####</code> variable from <code>GetVariable</code>):</p>\n\n<pre><code>   Print(L\"Description = %s\\n\", (CHAR16*)buf + 3);\n   EFI_DEVICE_PATH *BootX = (EFI_DEVICE_PATH*) (((UINT8*)buf) + (sizeof(UINT32) + sizeof(UINT16) + StrSize(buf+3)));\n\n   UINTN NoHandles = 0;\n   EFI_HANDLE *handles = NULL;\n   EFI_GUID SimpleFileSystemGUID = SIMPLE_FILE_SYSTEM_PROTOCOL;\n   status = uefi_call_wrapper(BS-&gt;LocateHandleBuffer,\n         5,\n         ByProtocol,\n         &amp;SimpleFileSystemGUID,\n         NULL,\n         &amp;NoHandles,\n         &amp;handles\n         );\n   if (status != EFI_SUCCESS)\n      Print(L\"Failed to LocateHandleBuffer (%d)\\n\", status);\n   else\n      Print(L\"LocateHandleBuffer OK (%d handles)\\n\", NoHandles);\n\n   EFI_DEVICE_PATH *prefix;\n   UINTN index;\n   for (index = 0; index &lt; NoHandles; index++) {\n      prefix = DevicePathFromHandle(handles[index]);\n      while(!IsDevicePathEnd(NextDevicePathNode(prefix))) prefix = NextDevicePathNode(prefix);\n      if(LibMatchDevicePaths(prefix, BootX)) {\n         break;\n      } else {\n         FreePool(prefix);\n      }\n   }\n\n   prefix = DevicePathFromHandle(handles[index]);\n   // prefix ends with the same node that BootX starts with\n   // so skip forward BootX so we can prepend prefix\n   BootX = NextDevicePathNode(BootX);\n   EFI_DEVICE_PATH *fullpath = AppendDevicePath(prefix, BootX);\n   Print(L\"Booting: %s\\n\", DevicePathToStr(fullpath));\n\n   /* EFI_STATUS (EFIAPI *EFI_IMAGE_LOAD) (\n      IN BOOLEAN BootPolicy,\n      IN EFI_HANDLE ParentImageHandle,\n      IN EFI_DEVICE_PATH_PROTOCOL *DevicePath,\n      IN VOID *SourceBuffer OPTIONAL,\n      IN UINTN SourceSize,\n      OUT EFI_HANDLE *ImageHandle\n      ); */\n\n   EFI_HANDLE *NextHandle = AllocateZeroPool(sizeof(EFI_HANDLE));\n\n   status = uefi_call_wrapper(BS-&gt;LoadImage, 6,\n   /* status = BS-&gt;LoadImage( */\n         TRUE, /* BootPolicy */\n         ImageHandle, /* ParentImageHandle */\n         fullpath, /* DevicePath */\n         NULL, /* SourceBuffer */\n         0, /* SourceSize */\n         NextHandle /* ImageHandle */\n         );\n\n   if (status != EFI_SUCCESS)\n      Print(L\"Failed to LoadImage (%d)\\n\", status);\n   else\n      Print(L\"LoadImage OK\\n\");\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7232315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/584206af0713927b092357e37fb0b335?s=128&d=identicon&r=PG&f=1", "display_name": "Rory McNamara", "link": "https://stackoverflow.com/users/7232315/rory-mcnamara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1345, "favorite_count": 1, "accepted_answer_id": 40896465, "answer_count": 1, "score": 1, "last_activity_date": 1577481469, "creation_date": 1480528664, "last_edit_date": 1577481469, "question_id": 40895111, "link": "https://stackoverflow.com/questions/40895111/uefi-resolve-full-path", "title": "UEFI Resolve full path", "body": "<p>I'm working on a bootloader of sorts using GNU-EFI. So far I've been able to read the <code>Boot####</code> NVRAM variable, so I have a semi-populated <code>FilePathList[]</code>, which looks like this (printed with <code>DevicePathToStr</code>):</p>\n\n<p><code>HD(Part2, SigCD0400E6-54F3-49F4-81F2-65B21E8278A8)/\\EFI\\Microsoft\\Boot\\bootmgfw.efi</code></p>\n\n<p>When passed to <code>LoadImage</code> it fails with <code>EFI_NOT_FOUND</code>. As I understand it <a href=\"http://www.uefi.org/sites/default/files/resources/UEFI%20Spec%202_6.pdf\" rel=\"nofollow noreferrer\">(UEFI Doc Section 3.1.2)</a>, I need to add the full path before what I already have. I've found out that the correct path is <code>PciRoot(0x0)/Pci(0x1, 0x1)/Ata(0x0)</code>, but I am unsure how I programmatically find this path based on what I have so it can be prepended.</p>\n\n<p>The code I have so far is as follows, please excuse the low quality, I've just been trying to get something working so far.</p>\n\n<pre><code>   EFI_STATUS status;\n   EFI_GUID vendor = EFI_GLOBAL_VARIABLE;\n   UINT32 Attr;\n\n   UINTN size = 256;\n   UINT16 *buf = AllocateZeroPool(size);\n   if (buf == NULL)\n      Print(L\"Failed to allocate buffer\\n\");\n\n   status = uefi_call_wrapper(RT-&gt;GetVariable, 5,\n         L\"BootOrder\", /*VariableName*/\n         &amp;vendor, /*VendorGuid*/\n         &amp;Attr, /*Attributes*/\n         &amp;size, /*DataSize*/\n         buf /*Data*/\n         );\n   if (status != EFI_SUCCESS)\n      Print(L\"Failed to read BootOrder (%d)\\n\", status);\n\n   // should contain an int for the correct boot option\n   UINT16 bootopt = buf[0];\n   FreePool(buf);\n\n   CHAR16 *name = AllocateZeroPool(18); // Bootxxxx\\0 unicode\n   SPrint(name, 18, L\"Boot%04x\", bootopt);\n\n   Print(L\"Next boot: %s\\n\", name);\n\n   size = 0;\n   do {\n      buf = AllocateZeroPool(size);\n      if (buf == NULL)\n         Print(L\"Failed to allocate buffer\\n\");\n\n      status = uefi_call_wrapper(RT-&gt;GetVariable, 5,\n            name,\n            &amp;vendor,\n            &amp;Attr,\n            &amp;size,\n            buf\n            );\n      if (status == EFI_SUCCESS) break;\n\n      FreePool(buf);\n      // if it fails, size is set to what it needs to be\n      // handy that\n   } while(status == EFI_BUFFER_TOO_SMALL);\n\n   if (!(buf[0]&amp;LOAD_OPTION_ACTIVE)) Print(L\"BootOption not active\\n\");\n   Print(L\"%s: 0x%r\\n\\n\", name, buf);\n\n   UINT8 *OrigFilePathList = ((UINT8*)buf) + (sizeof(UINT32) + sizeof(UINT16) + StrSize(buf+3));\n   UINT16 *FilePathListLength = ((UINT16*)OrigFilePathList)+2;\n\n   Print(L\"&amp;OrigFilePathList = 0x%r\\n\", OrigFilePathList);\n   Print(L\"sizeof(_EFI_LOAD_OPTION) = %d\\n\", size);\n   Print(L\"struct _EFI_LOAD_OPTION {\\n\");\n   Print(L\"    Attributes = %d\\n\", *(UINT32 *)(buf));\n   Print(L\"    FilePathListLength = %d,\\n\", *FilePathListLength);\n   Print(L\"    Description = %s,\\n\", buf+3);\n   Print(L\"    FilePathList[] = {\\n\");\n\n   UINT16 totallength = 0;\n\n   UINT8 *FilePathList = OrigFilePathList;\n   for (UINT8 i = 0; i &lt; *FilePathListLength+1; i++) {\n      Print(L\"        &amp;FilePathList[%d] = 0x%r\\n\", i, OrigFilePathList);\n      Print(L\"        FilePathList[%d].Type = %d \", i, *OrigFilePathList);\n      switch (*OrigFilePathList) {\n         case 0x01:\n            Print(L\"(Hardware Device Path)\\n\");\n            break;\n         case 0x02:\n            Print(L\"(ACPI Device Path)\\n\");\n            break;\n         case 0x03:\n            Print(L\"(Messaging Device Path)\\n\");\n            break;\n         case 0x04:\n            Print(L\"(Media Device Path)\\n\");\n            break;\n         case 0x05:\n            Print(L\"(BIOS Boot Specification Device Path)\\n\");\n            break;\n         case 0x7f:\n            Print(L\"(End Of Hardware Device Path)\\n\");\n            break;\n         default:\n            Print(L\"(Unknown Device Path)\\n\");\n            break;\n      }\n      Print(L\"        FilePathList[%d].SubType = %d\\n\", i, *(OrigFilePathList+1));\n      Print(L\"        FilePathList[%d].Length = %d\\n\", i, *(UINT16*)(OrigFilePathList+2));\n      totallength += *(UINT16*)(OrigFilePathList+2);\n\n      OrigFilePathList += *(UINT16*)(OrigFilePathList+2);\n   }\n   Print(L\"    }\\n\");\n   Print(L\"    &amp;OptionalData = 0x%r\\n\", OrigFilePathList);\n   Print(L\"    OptionalDataLength = %d\\n\", size-totallength);\n   Print(L\"}\\n\");\n\n   // The hard drive device path can be appended to the matching hardware\n   // device path and normal boot behavior can then be used.\n\n   // We need to locate the Type 1 FilePathList and prepend it to what we've already got\n\n   // Need to prefix PciRoot(0x0)/Pci(0x1, 0x1)/Ata(0x0)\n   // but automatically find it\n   // in theory we should be able to use the list of handles to devices that support SIMPLE_FILE_SYSTEM_PROTOCOL\n   // to find the right device\n\n   Print(L\"%s\\n\", DevicePathToStr((EFI_DEVICE_PATH *)FilePathList));\n\n   /* EFI_STATUS (EFIAPI *EFI_IMAGE_LOAD) (\n      IN BOOLEAN BootPolicy,\n      IN EFI_HANDLE ParentImageHandle,\n      IN EFI_DEVICE_PATH_PROTOCOL *DevicePath,\n      IN VOID *SourceBuffer OPTIONAL,\n      IN UINTN SourceSize,\n      OUT EFI_HANDLE *ImageHandle\n      ); */\n\n   EFI_HANDLE *NextHandle = AllocateZeroPool(sizeof(EFI_HANDLE));\n\n   status = uefi_call_wrapper(BS-&gt;LoadImage, 6,\n   /* status = BS-&gt;LoadImage( */\n         TRUE, /* BootPolicy */\n         ImageHandle, /* ParentImageHandle */\n         (EFI_DEVICE_PATH *)FilePathList, /* DevicePath */\n         NULL, /* SourceBuffer */\n         0, /* SourceSize */\n         NextHandle /* ImageHandle */\n         );\n\n   if (status != EFI_SUCCESS)\n      Print(L\"Failed to LoadImage (%d)\\n\", status);\n   else\n      Print(L\"LoadImage OK\\n\");\n</code></pre>\n\n<p>What functions and flows are required for me to fully qualify the <code>FilePathList</code> so it can be used with <code>LoadImage</code>?</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 719, "user_id": 6194785, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9N6BG.png?s=128&g=1", "display_name": "j.seashell", "link": "https://stackoverflow.com/users/6194785/j-seashell"}, "edited": false, "score": 0, "creation_date": 1480528654, "post_id": 40895053, "comment_id": 69004039, "body": "Working with pointers (that is what these are called) can be very confusing. Spend some time simply learning about what a pointer is exactly. It takes college students semesters to fully grasp it, so don&#39;t feel discouraged <a href=\"http://www.c4learn.com/c-programming/c-pointer-concept/\" rel=\"nofollow noreferrer\">c4learn.com/c-programming/c-pointer-concept</a>"}, {"owner": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 0, "creation_date": 1480528708, "post_id": 40895053, "comment_id": 69004075, "body": "Can you provide a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> of your code? Also, you&#39;re referring to C code as &quot;scripts&quot;, which is <a href=\"http://stackoverflow.com/questions/2286552/difference-between-a-script-and-a-program\">incorrect</a>."}, {"owner": {"reputation": 1973, "user_id": 1187098, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2c31da844ec3d4c6889e2dd5e9323037?s=128&d=identicon&r=PG", "display_name": "art vanderlay", "link": "https://stackoverflow.com/users/1187098/art-vanderlay"}, "reply_to_user": {"reputation": 719, "user_id": 6194785, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9N6BG.png?s=128&g=1", "display_name": "j.seashell", "link": "https://stackoverflow.com/users/6194785/j-seashell"}, "edited": false, "score": 0, "creation_date": 1480529526, "post_id": 40895053, "comment_id": 69004537, "body": "@j.seashell, thanks for the document, I was close but did not come across <code>**</code> before and this helps visualise the process."}], "answers": [{"comments": [{"owner": {"reputation": 1973, "user_id": 1187098, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2c31da844ec3d4c6889e2dd5e9323037?s=128&d=identicon&r=PG", "display_name": "art vanderlay", "link": "https://stackoverflow.com/users/1187098/art-vanderlay"}, "edited": false, "score": 0, "creation_date": 1480529444, "post_id": 40895162, "comment_id": 69004491, "body": "wow I was so close as I tried that combination but did not use <code>**</code>. I will have to read up on the <code>**</code> as I had not come across it before. If I am extending this concept to threading, does the logic remain the same?  many thanks for the concise answer @dbush"}, {"owner": {"reputation": 8510, "user_id": 1292918, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/44cdb725bf1a393149554bae7f5f9d46?s=128&d=identicon&r=PG", "display_name": "Toby", "link": "https://stackoverflow.com/users/1292918/toby"}, "reply_to_user": {"reputation": 1973, "user_id": 1187098, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2c31da844ec3d4c6889e2dd5e9323037?s=128&d=identicon&r=PG", "display_name": "art vanderlay", "link": "https://stackoverflow.com/users/1187098/art-vanderlay"}, "edited": false, "score": 0, "creation_date": 1480676236, "post_id": 40895162, "comment_id": 69071916, "body": "@artvanderlay Where <code>*</code> creates or dereferences a pointer to an object, <code>**</code> simply does the same for a pointer to a pointer to an object... As a pointer is just a variable that holds an address, then you can of course create a second variable that holds the address of a variable that holds another address, i.e. this second address now points to an address that points to an object. (Yes this can be extend some way to add a silly amount of indirection if required like <code>int ******p;</code>, but in good design it should never <i>be</i> required)"}], "tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": true, "score": 3, "last_activity_date": 1480528848, "creation_date": 1480528848, "answer_id": 40895162, "question_id": 40895053, "link": "https://stackoverflow.com/questions/40895053/new-to-c-and-struggling-with-use-of-to-reference-objects/40895162#40895162", "title": "new to C and struggling with use of *, &amp; to reference objects", "body": "<p>In C, all function parameters are pass by value.  So changing the value of a function parameter is not visible outside of the function.  </p>\n\n<p>What you can do however is pass the <strong>address</strong> of a variable using the <code>&amp;</code> operator, then inside the function you <strong>dereference</strong> that pointer using the <code>*</code> operator so that you're actually changing a variable in the calling function.</p>\n\n<pre><code>// accept the address of a pointer\nvoid doAddBin(GstElement **MyBinAlpha){\n    char *bin_name;\n    bin_name=\"bin_0\";\n    // derefernce the pointer to assign to myBin in main\n    *MyBinAlpha = gst_bin_new (bin_name); &lt;--This is where object is produced\n\n    doWorkOnBin(*MyBinAlpha);\n\n    ScriptTwo.c -&gt; doWorkOnBin();\n}\n\nint main(){\n    GstElement *myPipeline;\n    GstElement *myBin;\n    // pass in the address of the pointer\n    doAddBin(&amp;myBin);\n    // now myBin has been updated     \n    gst_bin_add (GST_BIN (pipeline), myBin);\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1973, "user_id": 1187098, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2c31da844ec3d4c6889e2dd5e9323037?s=128&d=identicon&r=PG", "display_name": "art vanderlay", "link": "https://stackoverflow.com/users/1187098/art-vanderlay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 40895162, "answer_count": 1, "score": -1, "last_activity_date": 1480529603, "creation_date": 1480528446, "last_edit_date": 1480529603, "question_id": 40895053, "link": "https://stackoverflow.com/questions/40895053/new-to-c-and-struggling-with-use-of-to-reference-objects", "title": "new to C and struggling with use of *, &amp; to reference objects", "body": "<p>I am very new to C coming from deep PHP &amp; BASH where variable variables make life easy. I am trying to understand in C how to create an object in <code>main()</code> then call a <code>secondFunction()</code> that works on this object, then on return to <code>main()</code> merge this object back into the program. </p>\n\n<p>I can get the scripts to compile, but it throws a <code>segmentation fault</code> on the <code>main()</code> merge.</p>\n\n<p>After reading lots of posts and tutorials I think I am mixing up when to use <code>myVar</code>, <code>*myVar</code>, <code>&amp;myVar</code></p>\n\n<p>scriptOne.c -> main()</p>\n\n<pre><code>int main(){\n    GstElement *myPipeline;\n    GstElement *myBin;\n    doAddBin(myBin);\n    gst_bin_add (GST_BIN (myPipeline), myBin); // Segmentation Fault , main merge\n</code></pre>\n\n<p>scriptOne.c -> doAddBin()</p>\n\n<pre><code>void doAddBin(GstElement *MyBinAlpha){\n    char *bin_name;\n    bin_name=\"bin_0\";\n    MyBinAlpha = gst_bin_new (bin_name); &lt;--This is where object is produced\n\n    doWorkOnBin(MyBinAlpha);\n</code></pre>\n\n<p>ScriptTwo.c -> doWorkOnBin()</p>\n\n<pre><code>void doAddBin(GstElement *MyBinBeta){\n    src1 = gst_element_factory_make (\"filesrc\", \"idFileSrc\");\n    gst_bin_add (MyBinBeta,src1);\n    return;   // work now finished, return to main()\n              // where myBin now contains src1\n</code></pre>\n\n<p>So I take I am not using the <code>*</code> correctly and need to replace it with <code>&amp;</code> somewhere to stop the <code>segmentation fault</code></p>\n\n<p>thanks Art</p>\n"}, {"tags": ["python", "c"], "comments": [{"owner": {"reputation": 2394, "user_id": 629187, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/82f622c78263b1bd52e6f2165d1cd049?s=128&d=identicon&r=PG", "display_name": "Rafael Barros", "link": "https://stackoverflow.com/users/629187/rafael-barros"}, "edited": false, "score": 0, "creation_date": 1480528282, "post_id": 40894943, "comment_id": 69003816, "body": "It does return what&#39;s available, <code>file.read(1024)</code> will return <code>n</code> characters where <code>n</code> is the number of chars available up to 1024. Can you be clear with a reproducible example of what you need?"}, {"owner": {"reputation": 102099, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "reply_to_user": {"reputation": 2394, "user_id": 629187, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/82f622c78263b1bd52e6f2165d1cd049?s=128&d=identicon&r=PG", "display_name": "Rafael Barros", "link": "https://stackoverflow.com/users/629187/rafael-barros"}, "edited": false, "score": 0, "creation_date": 1480528455, "post_id": 40894943, "comment_id": 69003916, "body": "@RafaelBarros That is true only when reading from a non-blocking resource such as a regular file. When reading from a socket or pipe, C&#39;s <code>read()</code> will wait for only as long as it takes to have <i>some</i> data available, and then it will return the data. Python&#39;s <code>file.read</code> will, like C&#39;s <code>fread()</code>, attempt to return all requested data, unless encountering an error or EOF."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1480528985, "post_id": 40894943, "comment_id": 69004229, "body": "There is no <code>read</code> in the C language. What you are quoting is a manual of an API provided by your OS. Such APIs normally has bindings for C, but fortunately also for Python. You want to look at <code>posix.read</code> or <code>os.read</code>."}], "answers": [{"comments": [{"owner": {"reputation": 7256, "user_id": 418966, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/81cf776adb922e444a0a771a8a4724e5?s=128&d=identicon&r=PG", "display_name": "Cyker", "link": "https://stackoverflow.com/users/418966/cyker"}, "edited": false, "score": 0, "creation_date": 1480528654, "post_id": 40895004, "comment_id": 69004040, "body": "That&#39;s it. Actually you just need to write <code>os.read</code> and I understand the rest. Not having enough sleep makes a guy pop out weird questions. Thank you very much."}, {"owner": {"reputation": 7256, "user_id": 418966, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/81cf776adb922e444a0a771a8a4724e5?s=128&d=identicon&r=PG", "display_name": "Cyker", "link": "https://stackoverflow.com/users/418966/cyker"}, "edited": false, "score": 0, "creation_date": 1480528698, "post_id": 40895004, "comment_id": 69004071, "body": "By the way, <code>os.read</code> returns a <code>bytes</code> (as it should) in Python 3. So I&#39;ll go with it."}, {"owner": {"reputation": 102099, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "reply_to_user": {"reputation": 7256, "user_id": 418966, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/81cf776adb922e444a0a771a8a4724e5?s=128&d=identicon&r=PG", "display_name": "Cyker", "link": "https://stackoverflow.com/users/418966/cyker"}, "edited": false, "score": 0, "creation_date": 1480528798, "post_id": 40895004, "comment_id": 69004129, "body": "@Cyker Thanks, I&#39;ve now corrected it to say &quot;byte string&quot;, referring to <code>str</code> (a byte string) in Python 2 and <code>bytes</code> in Python 3."}], "tags": [], "owner": {"reputation": 102099, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "is_accepted": true, "score": 3, "last_activity_date": 1480530109, "last_edit_date": 1480530109, "creation_date": 1480528264, "answer_id": 40895004, "question_id": 40894943, "link": "https://stackoverflow.com/questions/40894943/whats-pythons-equivalent-to-cs-read-function/40895004#40895004", "title": "What&#39;s Python&#39;s equivalent to C&#39;s read function?", "body": "<p>By \"Python's <code>read</code>\" I assume you mean the <code>read</code> method of <code>file</code> objects. That method is closer in spirit to C's <code>fread</code>: it implements buffering and it tries to satisfy the requested amount, unless that is impossible due to an IO error or end-of-file condition.</p>\n\n<p>If you really need to call the <code>read()</code> function available in many C environments, you can call <code>os.read()</code> to invoke the underlying C function. The only difference is that it returns the data read as a byte string, and it raises an exception in the cases when the C function would return -1.</p>\n\n<p>If you call <code>os.read()</code>, remember to give it the file descriptor obtained using the <code>fileno</code> method on file objects, or returned by functions in the <code>os</code> module such as <code>os.open</code>, <code>os.pipe</code>, etc. Also remember not to mix calls to <code>os.open()</code> and <code>file.open()</code>, since the latter does buffering and can cause later calls to <code>os.open()</code> not to return the buffered data.</p>\n"}], "owner": {"reputation": 7256, "user_id": 418966, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/81cf776adb922e444a0a771a8a4724e5?s=128&d=identicon&r=PG", "display_name": "Cyker", "link": "https://stackoverflow.com/users/418966/cyker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 875, "favorite_count": 0, "accepted_answer_id": 40895004, "answer_count": 1, "score": 1, "last_activity_date": 1480530109, "creation_date": 1480528045, "question_id": 40894943, "link": "https://stackoverflow.com/questions/40894943/whats-pythons-equivalent-to-cs-read-function", "title": "What&#39;s Python&#39;s equivalent to C&#39;s read function?", "body": "<p>C's <code>read</code>:</p>\n\n<blockquote>\n  <p>The read() function shall attempt to read nbyte bytes from the file associated with the open file descriptor, fildes, into the buffer pointed to by buf.</p>\n  \n  <p>Upon  successful completion, these functions shall return a non-negative integer indicating the number of bytes <strong>actually read</strong>. Otherwise, the functions shall return \u22121 and set errno to indicate the error.</p>\n</blockquote>\n\n<p>Python's <code>read</code>:</p>\n\n<blockquote>\n  <p>Read at most n characters from stream.</p>\n  \n  <p>Read from underlying buffer until we have n characters or we <strong>hit EOF</strong>.\n      If n is negative or omitted, read until EOF.</p>\n</blockquote>\n\n<p>Bold fonts are mine. Basically Python will insist on finding EOF if currrently available data is less than buffer size... How to make it simply return whatever is available?</p>\n"}, {"tags": ["c", "function", "input", "output", "structure"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 2, "creation_date": 1480527456, "post_id": 40894713, "comment_id": 69003294, "body": "Lookup passing arguments by <i>address</i> in your materials. Your <code>scan_element</code> doesn&#39;t change the <code>p1</code> in main; it&#39;s only changing a local variable. This is an incredibly common question for people just learning C, but unfortunately the hunt for a duplicate is non-trivial, as the questions are so divergent in content it&#39;s difficult to pin one down. Sorry about that."}, {"owner": {"reputation": 107, "user_id": 3917820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d06e07252c080264e0f44b35bf770b6?s=128&d=identicon&r=PG&f=1", "display_name": "shamba", "link": "https://stackoverflow.com/users/3917820/shamba"}, "edited": false, "score": 0, "creation_date": 1480527724, "post_id": 40894713, "comment_id": 69003448, "body": "You need to pass a pointer to the &quot;pl&quot; variable defined in main in your two functions scan_element and print-element. So redefine the functions like scan_element(struct element_t * pl) and access to the field like pl-&gt;name."}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480528626, "post_id": 40894713, "comment_id": 69004020, "body": "@WeatherVane no prob,"}], "answers": [{"comments": [{"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "edited": false, "score": 0, "creation_date": 1480530054, "post_id": 40895031, "comment_id": 69004817, "body": "This code will not work as you are reading to local structure variable in  scan_element()."}, {"owner": {"reputation": 128, "user_id": 7231964, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211835182341675/picture?type=large", "display_name": "Cody Patterson", "link": "https://stackoverflow.com/users/7231964/cody-patterson"}, "reply_to_user": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "edited": false, "score": 0, "creation_date": 1480531555, "post_id": 40895031, "comment_id": 69005633, "body": "Thank you, I appreciate the feedback! I missed that by looking over the code too quickly. I updated the answer."}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "edited": false, "score": 0, "creation_date": 1480532211, "post_id": 40895031, "comment_id": 69006008, "body": "One more thing you missed! Function prototype at the beginning!"}, {"owner": {"reputation": 128, "user_id": 7231964, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211835182341675/picture?type=large", "display_name": "Cody Patterson", "link": "https://stackoverflow.com/users/7231964/cody-patterson"}, "reply_to_user": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "edited": false, "score": 0, "creation_date": 1480535068, "post_id": 40895031, "comment_id": 69007466, "body": "Thank you again! I should refrain from doing this on 3 hours of sleep. xD"}], "tags": [], "owner": {"reputation": 128, "user_id": 7231964, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211835182341675/picture?type=large", "display_name": "Cody Patterson", "link": "https://stackoverflow.com/users/7231964/cody-patterson"}, "is_accepted": false, "score": 0, "last_activity_date": 1480534975, "last_edit_date": 1480534975, "creation_date": 1480528375, "answer_id": 40895031, "question_id": 40894713, "link": "https://stackoverflow.com/questions/40894713/c-having-trouble-with-the-input-output-of-my-structure-in-by-using-2-functions/40895031#40895031", "title": "C - Having trouble with the input/output of my structure in by using 2 functions", "body": "<p>It looks like you're trying to dereference a pointer where you shouldn't be when printing out your strings in <code>scan_element()</code>. Additionally, <code>scan_element()</code> is being passed a structure variable instead of a pointer reference to that variable. When you pass by value, C creates a copy of the structure (in this case, <code>pl</code>) so you're editing the new structure instead of the original one which you want to be editing.</p>\n\n<p>This <strong>solution</strong> should work for you:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n/* run this program using the console pauser or add your own getch, system(\"pause\") or input loop */\n\n struct element_t\n{\n    int number;\n    char name[20];\n    char symbol[3];\n    char type[20];\n    float atomic_weight;\n    char shells[6];\n};\n\nvoid scan_element(struct element_t *pl); // now accepts a pointer (*)\nvoid print_element(struct element_t pl);\n\nint main(int argc, char *argv[]) \n{\n    struct element_t pl;\n\n    scan_element(&amp;pl); // derefrence\n    print_element(pl);\n\n    return 0;\n}\n\nvoid scan_element(struct element_t *pl) // now accepts a pointer (*)\n{\n    printf(\"number: \");\n    scanf(\"%d\", &amp;pl.number);\n\n    printf(\"name: \");\n    scanf(\"%s\", pl.name); // removed dereference here\n\n    printf(\"symbol: \");\n    scanf(\"%s\", pl.symbol); // removed dereference here\n\n    printf(\"class: \");\n    scanf(\"%s\", pl.type); // removed dereference here\n\n    printf(\"atomic weight: \");\n    scanf(\"%f\", &amp;pl.atomic_weight);\n\n    printf(\"shells use underscore for spaces: \");\n    scanf(\"%s\", pl.shells); // removed dereference here\n}\n\nvoid print_element(struct element_t pl)\n{\n    printf(\"%d\", pl.number);\n    printf(\"%s\", pl.name);\n    printf(\"%s\", pl.symbol);\n    printf(\"%s\", pl.type);\n    printf(\"%f\", pl.atomic_weight);\n    printf(\"%s\", pl.shells);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4952, "user_id": 5987698, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b26d6435dcb8897d1a57fa24b462da0?s=128&d=identicon&r=PG&f=1", "display_name": "GoodDeeds", "link": "https://stackoverflow.com/users/5987698/gooddeeds"}, "is_accepted": false, "score": 0, "last_activity_date": 1480529664, "creation_date": 1480529664, "answer_id": 40895386, "question_id": 40894713, "link": "https://stackoverflow.com/questions/40894713/c-having-trouble-with-the-input-output-of-my-structure-in-by-using-2-functions/40895386#40895386", "title": "C - Having trouble with the input/output of my structure in by using 2 functions", "body": "<p>Apart from the answer by <a href=\"https://stackoverflow.com/users/7231964/cody-patterson\">@CodyPatterson</a>, there is another problem. The <code>scan_element()</code> function  is accepting a structure by value. Its signature is</p>\n\n<p><code>void scan_element(struct element_t pl)</code></p>\n\n<p>This means that when the function is called and you pass a parameter, say an object <code>x</code>, a <em>copy of the object</em> is created and passed to the function. Then, the function accepts the value and stores them in the copy. The copy is local to the function, so when the function returns, it is destroyed, and all the data gathered is lost. The original object <code>x</code> <em>remains unchanged</em>. The result when printing could be garbage values.</p>\n\n<p>To correct this, pass the object to the function by reference. By doing so, the original object is worked upon in the function, which is what is desired here. The function signature should be</p>\n\n<p><code>void scan_element(struct element_t &amp;pl)</code></p>\n"}, {"comments": [{"owner": {"reputation": 62902, "user_id": 90511, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/nmOPo.png?s=128&g=1", "display_name": "hugomg", "link": "https://stackoverflow.com/users/90511/hugomg"}, "edited": false, "score": 1, "creation_date": 1480535715, "post_id": 40895457, "comment_id": 69007819, "body": "Although changing print_element to use a pointer is not <i>required</i>, I would still think it would be more idiomatic to do so. It makes the whole program more consistent and also avoids copying the struct before printing it, which can be a bit more efficient."}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "reply_to_user": {"reputation": 62902, "user_id": 90511, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/nmOPo.png?s=128&g=1", "display_name": "hugomg", "link": "https://stackoverflow.com/users/90511/hugomg"}, "edited": false, "score": 0, "creation_date": 1480567850, "post_id": 40895457, "comment_id": 69018936, "body": "@Ventus I agree with hugomg. You have to make similar change for print_element(). I hope you can do it yourself."}], "tags": [], "owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "is_accepted": true, "score": 2, "last_activity_date": 1480529864, "creation_date": 1480529864, "answer_id": 40895457, "question_id": 40894713, "link": "https://stackoverflow.com/questions/40894713/c-having-trouble-with-the-input-output-of-my-structure-in-by-using-2-functions/40895457#40895457", "title": "C - Having trouble with the input/output of my structure in by using 2 functions", "body": "<p>The issue is you are passing structure variable to <code>scan_element()</code>. When you pass by value, it actually creates a copy of <code>pl</code> in main and gives to <code>scan_element()</code>. The parameters you read in that function will be written to the copied structure variable. So <code>pl</code> in <code>main()</code> remain uninitialized.</p>\n\n<p><strong>Solution</strong>\nYou need to pass the address of the <code>pl</code> variable in main to <code>scan_element()</code>. You have to modify <code>scan_element()</code> to accept the address as below.</p>\n\n<pre><code>void scan_element(struct element_t *pl)\n{\n    printf(\"number: \");\n    scanf(\"%d\", &amp;pl-&gt;number);\n\n    printf(\"name: \");\n    scanf(\"%s\", pl-&gt;name); //Array name itself points to array. So you don't have to write '&amp;'.\n\n    printf(\"symbol: \");\n    scanf(\"%s\", pl-&gt;symbol);\n\n    printf(\"class: \");\n    scanf(\"%s\", pl-&gt;type);\n\n    printf(\"atomic weight: \");\n    scanf(\"%f\", &amp;pl-&gt;atomic_weight);\n\n    printf(\"shells use underscore for spaces: \");\n    scanf(\"%s\", pl-&gt;shells);\n}\n</code></pre>\n\n<p>And modify the main() to pass address.</p>\n\n<pre><code>int main(int argc, char *argv[]) \n{\n    struct element_t pl;\n\n    scan_element(&amp;pl);\n    print_element(pl);\n\n    return 0;\n}\n</code></pre>\n\n<p>No changes required in <code>print_element()</code>.</p>\n"}], "owner": {"reputation": 81, "user_id": 6544258, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e606b9869ddb0d74db2b48ea1a7d110f?s=128&d=identicon&r=PG&f=1", "display_name": "Ventus", "link": "https://stackoverflow.com/users/6544258/ventus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 40895457, "answer_count": 3, "score": 1, "last_activity_date": 1480534975, "creation_date": 1480527300, "last_edit_date": 1480527832, "question_id": 40894713, "link": "https://stackoverflow.com/questions/40894713/c-having-trouble-with-the-input-output-of-my-structure-in-by-using-2-functions", "title": "C - Having trouble with the input/output of my structure in by using 2 functions", "body": "<p>Ok so my objective is to make a structure and give it some values through an input function and output them through an output function, for some reason its \noutput is some scrambled symbols : -1\u00a0\u00a0\u00a0\u00a0\u2591\u00f9I&amp;@0.000000</p>\n\n<p>Any help?</p>\n\n<p>P.S just to note, when I had  my input (scanf statements) and output( printf statements) in the function scan_element, it worked just fine. but when I divided it between two functions, it posted the scrambled symbols above.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n/* run this program using the console pauser or add your own getch, system(\"pause\") or input loop */\n\nstruct element_t  {\n        int number;\n        char name[20];\n        char symbol[3];\n        char type[20];\n        float atomic_weight;\n        char shells[6];\n    };\n\nvoid scan_element(struct element_t pl);\nvoid print_element(struct element_t pl);\n\nint main(int argc, char *argv[]) \n{\n    struct element_t pl;\n    scan_element(pl);\n    print_element(pl);\n    return 0;\n}\n\nvoid scan_element(struct element_t pl)\n{\n    printf(\"number:\");\n    scanf(\"%d\",&amp;pl.number);\n\n    printf(\"name:\");\n    scanf(\"%s\",&amp;pl.name);\n\n    printf(\"symbol:\");\n    scanf(\"%s\",&amp;pl.symbol);\n\n    printf(\"class:\");\n    scanf(\"%s\",&amp;pl.type);\n\n    printf(\"atomic weight:\");\n    scanf(\"%f\",&amp;pl.atomic_weight);\n\n    printf(\"shells use underscore for spaces :\");\n    scanf(\"%s\",&amp;pl.shells);\n}\n\nvoid print_element(struct element_t pl)\n{\n    printf(\"%d\",pl.number);\n    printf(\"%s\",pl.name);\n    printf(\"%s\",pl.symbol);\n    printf(\"%s\",pl.type);\n    printf(\"%f\",pl.atomic_weight);\n    printf(\"%s\",pl.shells);\n}\n</code></pre>\n"}, {"tags": ["c", "arrays", "string", "pointers", "palindrome"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 1, "creation_date": 1480526079, "post_id": 40894309, "comment_id": 69002455, "body": "Did you try even basic printf debugging ? Did you consider that <code>fgets</code> leaves a <code>\\n</code> at the end of the string ?"}, {"owner": {"reputation": 21474, "user_id": 718379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4810c6c963334e5dce573e6671d746ec?s=128&d=identicon&r=PG", "display_name": "timrau", "link": "https://stackoverflow.com/users/718379/timrau"}, "edited": false, "score": 1, "creation_date": 1480526151, "post_id": 40894309, "comment_id": 69002490, "body": "<code>sentence[right]</code> is not valid when <code>right == 40</code> which was the initial value."}, {"owner": {"reputation": 1087, "user_id": 6735993, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh6.googleusercontent.com/-4VUOVvCKbP4/AAAAAAAAAAI/AAAAAAAAADM/bX54ajsqcOE/photo.jpg?sz=128", "display_name": "Hypnic Jerk", "link": "https://stackoverflow.com/users/6735993/hypnic-jerk"}, "edited": false, "score": 2, "creation_date": 1480526487, "post_id": 40894309, "comment_id": 69002703, "body": "You should convert the chararacters to lower or uppercase. <code>H != h</code>."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 1, "creation_date": 1480526960, "post_id": 40894309, "comment_id": 69002992, "body": "If you have <code>char sentence[39]</code> there are 39 characters in it. Not 40. Not 38. <code>fgets(sentence, 40, stdin);</code> will fill up to 40 characters. You only have 39. The last index in <code>sentence</code> is 38. Not 39 and not 40."}], "answers": [{"comments": [{"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 1, "creation_date": 1480526506, "post_id": 40894398, "comment_id": 69002712, "body": "True, but it already might crash a bit earlier while reading <code>sentence</code> as it can only hold 39 bytes but it is filled using <code>fgets(sentence, 40, stdin);</code>"}, {"owner": {"reputation": 52, "user_id": 5968737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1Inc.jpg?s=128&g=1", "display_name": "Chau&#227; Queirolo", "link": "https://stackoverflow.com/users/5968737/chau%c3%a3-queirolo"}, "reply_to_user": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480526648, "post_id": 40894398, "comment_id": 69002803, "body": "That&#39;s correct. He should resize the sentence or update the fgets."}], "tags": [], "owner": {"reputation": 52, "user_id": 5968737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1Inc.jpg?s=128&g=1", "display_name": "Chau&#227; Queirolo", "link": "https://stackoverflow.com/users/5968737/chau%c3%a3-queirolo"}, "is_accepted": false, "score": 0, "last_activity_date": 1480526322, "creation_date": 1480526322, "answer_id": 40894398, "question_id": 40894309, "link": "https://stackoverflow.com/questions/40894309/c-program-to-check-if-string-is-palindrome-or-not/40894398#40894398", "title": "C Program to check if string is Palindrome or not", "body": "<p>You should initialize the right as the end of the string:</p>\n\n<pre><code>#include &lt;string.h&gt;\n\n// ...\n\n    right = strlen(sentence) - 1;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "is_accepted": true, "score": 1, "last_activity_date": 1480530526, "last_edit_date": 1480530526, "creation_date": 1480527407, "answer_id": 40894756, "question_id": 40894309, "link": "https://stackoverflow.com/questions/40894309/c-program-to-check-if-string-is-palindrome-or-not/40894756#40894756", "title": "C Program to check if string is Palindrome or not", "body": "<p>I have made a few changes to your program. Firstly not breaking the array indexing, next using the string length instead of accessing undefined values, third checking same case letters.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;ctype.h&gt;\n\nint main()\n{\n    char sentence[200];                             // provide plenty of room\n    int left = 0;\n    int right;                                      // do not assume the length\n\n    printf(\"Enter a message: \");\n    fgets(sentence, sizeof sentence, stdin);        // limit the input\n    right = strlen(sentence);                       // now get the length\n\n    while(1) {\n        while(left &lt; right &amp;&amp; !(isalpha(sentence[left])))\n            left++;\n        while(right &gt; left &amp;&amp; !(isalpha(sentence[right])))\n            right--;\n        if(left &gt;= right)\n            break;\n        else {\n            if(toupper(sentence[left]) != toupper(sentence[right])) {  // get case the same\n                printf(\"Not a Palindrome\\n\");\n                return 0;\n            }\n            left++;\n            right--;\n        }\n    }\n\n    printf(\"Palindrome\\n\");\n    return 0;\n}\n</code></pre>\n\n<p>Program sessions:</p>\n\n<pre>\nEnter a message: He lived as a devil, eh?\nPalindrome\n\nEnter a message: palindrome\nNot a Palindrome\n</pre>\n"}, {"tags": [], "owner": {"reputation": 219634, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 1, "last_activity_date": 1480531259, "last_edit_date": 1480531259, "creation_date": 1480530925, "answer_id": 40895728, "question_id": 40894309, "link": "https://stackoverflow.com/questions/40894309/c-program-to-check-if-string-is-palindrome-or-not/40895728#40895728", "title": "C Program to check if string is Palindrome or not", "body": "<p>You could write a separate function that checks whether the inputted sentence is a palindrome.</p>\n\n<p>As for your code then these statements</p>\n\n<pre><code>char sentence[39];\nint left = 0;\nint right = 40;\n\nprintf(\"Enter a message: \");\nfgets(sentence, 40, stdin);\n</code></pre>\n\n<p>lead to undefined behavior because the array sentence has only 39 elements while you are trying to enter 40 characters. Also the entered string can have kess than 40 characters. You need to determine the length of the string.</p>\n\n<p>Here is a demonstrative program that shows how a corresponding function can be written. </p>\n\n<pre><code>#include &lt;string.h&gt;\n#include &lt;ctype.h&gt;\n#include &lt;stdio.h&gt;\n\nint is_palindrome(const char *s)\n{\n    size_t n = strlen(s);\n\n    const char *first = s, *last = s + n;\n\n    if (n)\n    {\n\n        do\n        {\n            while ( *first &amp;&amp; !isalpha((unsigned char)*first)) ++first;\n            if (first != last)\n            {\n                while (!isalpha((unsigned char)*--last));\n            }\n        } while ( toupper( ( unsigned char )*first ) == \n                  toupper( ( unsigned char )*last ) &amp;&amp; \n                  first != last &amp;&amp; \n                  ++first != last);\n    }\n\n    return first == last;\n}\n\n#define N   100\n\nint main()\n{\n    while (1)\n    {\n        char s[N];\n\n        printf(\"Enter a sentence (Enter - exit): \");\n\n        if (!fgets(s, sizeof(s), stdin) || s[0] == '\\n') break;\n\n        printf(\"\\nThe sentence is%s palindrome.\\n\\n\",\n            is_palindrome(s) ? \"\" : \" not\");\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Its output might look like</p>\n\n<pre><code>Enter a sentence (Enter - exit): He lived as a devil, eh\n\nThe sentence is palindrome.\n\nEnter a sentence (Enter - exit):\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7163473, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3_Wtk51fxCU/AAAAAAAAAAI/AAAAAAAAABw/gm_BVt2d3o8/photo.jpg?sz=128", "display_name": "popedcorn", "link": "https://stackoverflow.com/users/7163473/popedcorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 1, "accepted_answer_id": 40894756, "answer_count": 3, "score": 1, "last_activity_date": 1480531259, "creation_date": 1480526001, "last_edit_date": 1480527671, "question_id": 40894309, "link": "https://stackoverflow.com/questions/40894309/c-program-to-check-if-string-is-palindrome-or-not", "title": "C Program to check if string is Palindrome or not", "body": "<p>i have some struggles with my C program!\nIt should check wether a string is a palindrome or not! it should not pay attention to non-alphabetic characters, so the program should recognize this as a palindrome!\n\"He lived as a devil, eh?\"\nThat's what i got so far:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main()\n{\n    char sentence[39];\n    int left = 0;\n    int right = 40;\n\n    printf(\"Enter a message: \");\n    fgets(sentence, 40, stdin);\n\n    while(1) {\n\n        while(left &lt; right &amp;&amp; !(isalpha(sentence[left])))\n            left++;\n        while(right &gt; left &amp;&amp; !(isalpha(sentence[right])))\n            right--;\n\n        if(left &gt;= right)\n            break;\n\n        else {\n\n            if(sentence[left] != sentence[right]) {\n                printf(\"Not a Palindrome\");\n                return 0;\n            }\n\n            left++;\n            right--;\n        }\n    }\n\n    printf(\"Palindrome\");\n\n    return 0;\n}\n</code></pre>\n\n<p>It's always printing: NOT A PALINDROME!\nEven if it is one.</p>\n"}, {"tags": ["c", "string"], "comments": [{"owner": {"reputation": 834, "user_id": 7131047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a1cf5eb86c98bcf94e80e722fff20e?s=128&d=identicon&r=PG&f=1", "display_name": "Fefux", "link": "https://stackoverflow.com/users/7131047/fefux"}, "edited": false, "score": 0, "creation_date": 1480525175, "post_id": 40894011, "comment_id": 69001923, "body": "abcba is a palindrom"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "reply_to_user": {"reputation": 834, "user_id": 7131047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a1cf5eb86c98bcf94e80e722fff20e?s=128&d=identicon&r=PG&f=1", "display_name": "Fefux", "link": "https://stackoverflow.com/users/7131047/fefux"}, "edited": false, "score": 0, "creation_date": 1480525525, "post_id": 40894011, "comment_id": 69002148, "body": "@Fefux that is the question: there are three words on the line containing <code>abcba</code>."}, {"owner": {"reputation": 140, "user_id": 4995044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a93cd43705eb6d9d1448e8dbd5c444a?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/4995044/jon"}, "edited": false, "score": 0, "creation_date": 1480526439, "post_id": 40894011, "comment_id": 69002670, "body": "I&#39;m not sure if you&#39;re counting the first line as three words that each need to be removed if they&#39;re each palindromes, but it seems like your program is reading the whole line and seeing that the line altogether is not a palindrome. However, I&#39;m not sure why it&#39;s printing the way it is."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1480526458, "post_id": 40894011, "comment_id": 69002682, "body": "Use <code>strtok</code> to tokenize the words in each line. You can use <code>space</code>, <code>tab</code> and any other word separator to split the line into words with <code>strtok</code>. Then it is just a matter of operating on each word. As for the check, you can either do as you are, or just set a pointer to the start and end char in each word and then check with <code>while (s &lt; e &amp;&amp; *s == *e) s++, e--;</code> (where <code>s</code> and <code>e</code> are the start and end pointers)"}], "answers": [{"comments": [{"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1480539052, "post_id": 40897744, "comment_id": 69009599, "body": "Do <i>NOT</i> cast the return of <code>malloc</code>, it is unnecessary. See: <a href=\"http://stackoverflow.com/q/605845/995714\"><b>Do I cast the result of malloc?</b></a> for thorough explanation. Why dynamically allocate at all, why not: <code>char line_from_data_file[MAX] = &quot;&quot;;</code> Why are you using <code>feof</code>?"}, {"owner": {"reputation": 879, "user_id": 5693785, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/mfKhd.jpg?s=128&g=1", "display_name": "ron", "link": "https://stackoverflow.com/users/5693785/ron"}, "reply_to_user": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1480540278, "post_id": 40897744, "comment_id": 69010275, "body": "i did not correct everything he had 100%, i was typing from the hip trying to keep most of what he had and show the basic logic fault of his call to <code>function1</code>.  Feel free to improve on what i did."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1480542618, "post_id": 40897744, "comment_id": 69011505, "body": "No, that&#39;s fine, I was just curious. Generally, you would simply read all lines from the file with a <code>while (fgets (line_from_data_file, MAX, data_file)) {... process all here ...}</code> type loop, so the <code>feof</code> was a bit odd."}, {"owner": {"reputation": 879, "user_id": 5693785, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/mfKhd.jpg?s=128&g=1", "display_name": "ron", "link": "https://stackoverflow.com/users/5693785/ron"}, "reply_to_user": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1480616778, "post_id": 40897744, "comment_id": 69047754, "body": "to this day i still use feof with the while loop structure i typed.  For anyone it is much easier to read and see the logic, versus loading everything up on one line which can be cryptic and confusing to non experienced programmers.  My perspective is: understand the entire problem, break it apart to basic functions, then tackle each function, and verify each function operates correctly.  Combining multiple operations into one function or one loop is usually where the problems arise, and i think the next answer posted proves this."}], "tags": [], "owner": {"reputation": 879, "user_id": 5693785, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/mfKhd.jpg?s=128&g=1", "display_name": "ron", "link": "https://stackoverflow.com/users/5693785/ron"}, "is_accepted": false, "score": 0, "last_activity_date": 1480538301, "creation_date": 1480538301, "answer_id": 40897744, "question_id": 40894011, "link": "https://stackoverflow.com/questions/40894011/reading-words-separately-from-file/40897744#40897744", "title": "Reading words separately from file", "body": "<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include \"header.h\"\n\n# define MAX 255\n\nint Find_Number_Words_in_Line( char str[MAX] )\n{\n   char *ptr;\n   int count = 0;\n   int j;\n\n   /* advance character pointer ptr until end of str[MAX] */\n   /* everytime you see the space character, increase count */\n   /* might not always work, you'll need to handle multiple space characters before/between/after words */\n\n   ptr = str;\n   for ( j = 0; j &lt; MAX; j++ )\n   {\n      if ( *ptr == ' ' )\n         count++;\n      else if (( *ptr == '\\0' ) || ( *ptr == '\\n' ))\n         break;\n\n      ptr++;\n   }\n\n   return count;\n}\n\nvoid Extract_Word_From_Line_Based_on_Position( char line[MAX], char word[MAX], const int position )\n{\n   char *ptr;\n\n   /* move pointer down line[], counting past the number of spaces specified by position */\n   /* then copy the next word from line[] into word[] */\n}\n\n\nint Is_Palindrome ( char str[MAX] )\n{\n   /* check if str[] is a palindrome, if so return 1, else return 0 */\n}\n\n\nint main(int argc, char **argv)\n{\n   FILE *data_file;\n   FILE *result_file;\n   char *line_from_data_file = (char*)malloc(MAX);\n   char *word = (char*)malloc(MAX);\n   const char *dat = argv[1];\n   const char *res = argv[2];\n   int j, n;\n\n   if (argc != 3)\n   {\n      printf(\"Wrong parameters\");\n      return 0;\n   }\n\n   data_file = fopen(dat, \"r\");\n   result_file = fopen(res, \"w\");\n\n   fgets( line_from_data_file, MAX, data_file );\n   while ( ! feof( data_file ) )\n   {\n       /*\n          fgets returns everything up to newline character from data_file,\n          function1 in original context would only run once for each line read\n          from data_file, so you would only get the first word\n\n             function1( line_from_data_file, word );\n             fputs( word, result_file );\n             fgets( line_from_data_file, MAX, data_file );\n\n          instead try below, you will need to write the code for these new functions\n          don't be afraid to name functions in basic English for what they are meant to do\n          make your code more easily readable\n       */\n\n      n = Find_Number_Words_in_Line( line_from_data_file );\n      for ( j = 0; j &lt; n; j++ )\n      {\n         Extract_Word_From_Line_Based_on_Position( line_from_data_file, word, n );\n         if ( Is_Palindrome( word ) )\n            fputs( word, result_file );  /* this will put one palindrome per line in result file */\n      }\n\n      fgets( line_from_data_file, MAX, data_file );\n   }\n   free( line_from_data_file );\n   free( word );\n\n   fclose( data_file );\n   fclose( result_file );\n\n   return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 6952624, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-msEqEkuX9aw/AAAAAAAAAAI/AAAAAAAAADM/gGvGGNF3C9k/photo.jpg?sz=128", "display_name": "user6952624", "link": "https://stackoverflow.com/users/6952624/user6952624"}, "edited": false, "score": 0, "creation_date": 1480579917, "post_id": 40902201, "comment_id": 69023694, "body": "Thank you, but the problem is that I have to remove them from the file. The answer has to be: rttt, kede."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "reply_to_user": {"reputation": 41, "user_id": 6952624, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-msEqEkuX9aw/AAAAAAAAAAI/AAAAAAAAADM/gGvGGNF3C9k/photo.jpg?sz=128", "display_name": "user6952624", "link": "https://stackoverflow.com/users/6952624/user6952624"}, "edited": false, "score": 0, "creation_date": 1480826011, "post_id": 40902201, "comment_id": 69120437, "body": "That is the simple part, if the check for <code>ispalindrome</code> is <code>false</code>, just do whatever you need to do with it. This was simply to show you how to handle the determination. What you do with that determination is completely up to you. If you need help with that, just ask, but that should be something you should try first."}], "tags": [], "owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "is_accepted": false, "score": 0, "last_activity_date": 1480563318, "creation_date": 1480563318, "answer_id": 40902201, "question_id": 40894011, "link": "https://stackoverflow.com/questions/40894011/reading-words-separately-from-file/40902201#40902201", "title": "Reading words separately from file", "body": "<p>To follow up from the comments, you may be overthinking the problem a bit. To check whether each word in each line of a file is a palindrome, you have a 2 part problem. (1) reading each line (<code>fgets</code> is fine), and (2) breaking each line into individual words (tokens) so that you can test whether each token is a palindrome.</p>\n\n<p>When reading each line with <code>fgets</code>, a simple while loop conditioned on the return of <code>fgets</code> will do. e.g., with a buffer <code>buf</code> of sufficient size (<code>MAXC</code> chars), and <code>FILE *</code> stream <code>fp</code> open for reading, you can do:</p>\n\n<pre><code>while (fgets (buf, MAXC, fp)) { /* read each line */\n    ...                         /* process line */\n}\n</code></pre>\n\n<p>(you can test the length of the line read into <code>buf</code> is less than <code>MAXC</code> chars to insure you read the complete line, if not, any unread chars will be placed in <code>buf</code> on the next loop iteration. This check, and how you want to handle it, is left for you.)</p>\n\n<p>Once you have your line read, you can either use a simple pair of pointers (start and end pointers) to work your way through <code>buf</code>, or you can use <code>strtok</code> and let it return a pointer to the beginning of each word in the line based on the set of delimiters you pass to it. For example, to split a line into words, you  probably want to use delimiters like <code>\" \\t\\n.,:;!?\"</code> to insure you get words alone and not words with punctuation (e.g. in the line <code>\"sit here.\"</code>, you want <code>\"sit\"</code> and <code>\"here\"</code>, not <code>\"here.\"</code>) </p>\n\n<p>Using <code>strtok</code> is straight forward. On the first call, you pass the name of the buffer holding the string to be tokenized and a pointer to the string containing the delimiters (e.g. <code>strtok (buf, delims)</code> above), then for each subsequent call (until the end of the line is reached) you use <code>NULL</code> as name of the buffer (e.g. <code>strtok (NULL, delims)</code>) You can either call it once and then loop until <code>NULL</code> is returned, or you can do it all using a single <code>for</code> loop given that <code>for</code> allows setting an initial condition as part of the statement, e.g., using separate calls:</p>\n\n<pre><code>char  *delims = \" \\t\\n.,:;\";    /* delimiters */\nchar *p = strtok (buf, delims); /* first call to strtok */\n\nwhile ((p = strtok (NULL, delims))) {  /* all subsequent calls */\n    ... /* check for palindrome */\n}\n</code></pre>\n\n<p>Or you can simply make the initial call and all subsequent calls in a <code>for</code> loop:</p>\n\n<pre><code>/* same thing in a single 'for' statement */\nfor (p = strtok (buf, delims); p; p = strtok (NULL, delims)) {\n    ... /* check for palindrome */\n}\n</code></pre>\n\n<p>Now you are to the point you need to <em>check for palindromes</em>. That is a fairly easy process. Find the length of the token, then either using string indexes, or simply using a pointer to the first and last character, work from the ends to the middle of each token making sure the characters match. On the first mismatch, you know the token is not a palindrome. I find a start and end pointer just as easy as manipulating sting indexes, e.g. with the token in <code>s</code>:</p>\n\n<pre><code>char *ispalindrome (char *s)    /* function to check palindrome */\n{\n    char *p = s,                   /* start pointer */\n        *ep = s + strlen (s) - 1;  /* end pointer  */\n\n    for ( ; p &lt; ep; p++, ep--)  /* work from end to middle */\n        if (*p != *ep)          /* if chars !=, not palindrome */\n            return NULL;\n\n    return s;\n}\n</code></pre>\n\n<p>If you put all the pieces together, you can do something like the following:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n\nenum { MAXC = 256 };    /* max chars for line buffer */\n\nchar *ispalindrome (char *s);\n\nint main (int argc, char **argv) {\n\n    char buf[MAXC] = \"\",        /* line buffer */\n         *delims = \" \\t\\n.,:;\"; /* delimiters */\n    unsigned ndx = 0;           /* line index */\n    FILE *fp = argc &gt; 1 ? fopen (argv[1], \"r\") : stdin;\n\n    if (!fp) {  /* validate file open for reading */\n        fprintf (stderr, \"error: file open failed '%s'.\\n\", argv[1]);\n        return 1;\n    }\n\n    while (fgets (buf, MAXC, fp)) { /* read each line */\n        char *p = buf;   /* pointer to pass to strtok */\n        printf (\"\\n line[%2u]:  %s\\n tokens:\\n\", ndx++, buf);\n        for (p = strtok (buf, delims); p; p = strtok (NULL, delims))\n            if (ispalindrome (p))\n                printf (\"  %-16s  - palindrome\\n\", p);\n            else\n                printf (\"  %-16s  - not palindrome\\n\", p);\n    }\n    if (fp != stdin) fclose (fp);\n\n    return 0;\n}\n\nchar *ispalindrome (char *s)    /* function to check palindrome */\n{\n    char *p = s, *ep = s + strlen (s) - 1;  /* ptr &amp; end-ptr */\n\n    for ( ; p &lt; ep; p++, ep--)  /* work from end to middle */\n        if (*p != *ep)          /* if chars !=, not palindrome */\n            return NULL;\n\n    return s;\n}\n</code></pre>\n\n<p><strong>Example Input</strong></p>\n\n<pre><code>$ cat dat/palins.txt\nabcba rttt plllp\naaaaaaaaaaaa\nababa\nabbbba\nkede\n</code></pre>\n\n<p><strong>Example Use/Output</strong></p>\n\n<pre><code>$ ./bin/palindrome &lt;dat/palins.txt\n\n line[ 0]:  abcba rttt plllp\n\n tokens:\n  abcba             - palindrome\n  rttt              - not palindrome\n  plllp             - palindrome\n\n line[ 1]:  aaaaaaaaaaaa\n\n tokens:\n  aaaaaaaaaaaa      - palindrome\n\n line[ 2]:  ababa\n\n tokens:\n  ababa             - palindrome\n\n line[ 3]:  abbbba\n\n tokens:\n  abbbba            - palindrome\n\n line[ 4]:  kede\n\n tokens:\n  kede              - not palindrome\n</code></pre>\n\n<p>Look things over and think about what it taking place. As mentioned above, insuring you have read a complete line in each call with <code>fgets</code> should be validated, that is left to you. (but with this input file -- of course it will) If you have any questions, let me know and I'll be happy to help further.</p>\n"}], "owner": {"reputation": 41, "user_id": 6952624, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-msEqEkuX9aw/AAAAAAAAAAI/AAAAAAAAADM/gGvGGNF3C9k/photo.jpg?sz=128", "display_name": "user6952624", "link": "https://stackoverflow.com/users/6952624/user6952624"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1480563318, "creation_date": 1480525071, "question_id": 40894011, "link": "https://stackoverflow.com/questions/40894011/reading-words-separately-from-file", "title": "Reading words separately from file", "body": "<p>I'm trying to make a program that scans a file containing words line by line and removes words that are spelled the same if you read them backwards (palindromes)</p>\n\n<p>This is the program.c file:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include \"header.h\"\n\nint main(int argc, char **argv)\n{\nif(argc != 3)\n{\n   printf(\"Wrong parameters\");\n   return 0;\n}\nFILE *data;\nFILE *result;\nchar *StringFromFile = (char*)malloc(255);\nchar *word = (char*)malloc(255);\n\nconst char *dat = argv[1];\nconst char *res = argv[2];\n\ndata = fopen(dat, \"r\");\nresult =fopen(res, \"w\");\n\nwhile(fgets(StringFromFile, 255, data))\n{\n    function1(StringFromFile, word);\n    fputs(StringFromFile, result);\n}\nfree(StringFromFile);\nfree (word);\nfclose(data);\nfclose(result);\nreturn 0;\n}\n</code></pre>\n\n<p>This is the header.h file:</p>\n\n<pre><code>#ifndef HEADER_H_INCLUDEC\n#define HEADER_H_INCLUDED\n\nvoid function1(char *StringFromFile, char *word);\nvoid moving(char *StringFromFile, int *index, int StringLength, int WordLength);\n\n#endif\n</code></pre>\n\n<p>This is the function file:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include \"header.h\"\n\nvoid function1(char *StringFromFile, char *word)\n{\nint StringLength = strlen(StringFromFile);\nint WordLength;\nint i;\nint p;\nint k;\nint t;\nint m;\nint match;\nfor(i = 0; i &lt; StringLength; i++)\n{   k=0;\n    t=0;\n    m=i;\nif (StringFromFile[i] != ' ')\n{   while (StringFromFile[i] != ' ')\n    {\n        word[k]=StringFromFile[i];\n        k=k+1;\n        i=i+1;\n    }\n//printf(\"%s\\n\", word);\nWordLength = strlen(word)-1;\np = WordLength-1;\nmatch=0;\nwhile (t &lt;= p)\n{\n    if (word[t] == word[p])\n        {\n            match=match+1;\n        }\n    t=t+1;\n    p=p-1;\n}\nif ((match*2) &gt;= (WordLength))\n{\n    moving(StringFromFile, &amp;m, StringLength, WordLength);\n}\n}\n}\n\n}\n\nvoid moving(char *StringFromFile, int *index, int StringLength, int WordLength)\n{   int i;\n    int q=WordLength-1;\n    for(i = *index; i &lt; StringLength; i++)\n{\n    StringFromFile[i-1] = StringFromFile[i+q];\n}\n*(index) = *(index)-1;\n}\n</code></pre>\n\n<p>It doesn't read each word correctly, though.</p>\n\n<p>This is the data file:</p>\n\n<pre><code>abcba rttt plllp\naaaaaaaaaaaa\nababa\nabbbba\nkede\n</code></pre>\n\n<p>These are the separate words the program reads:</p>\n\n<pre><code>abcba\nrttta\nplllp\naaaaaaaaaaaa\nababa\nabbbba\nkede\n</code></pre>\n\n<p>This is the result file:</p>\n\n<pre><code>abcba rtttp\n\n\n\nkede\n</code></pre>\n\n<p>It works fine if there is only one word in a single line, but it messes up when there are multiple words. Any help is appreciated.</p>\n"}, {"tags": ["python", "c"], "comments": [{"owner": {"reputation": 3624, "user_id": 2451889, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/07bd91c960dda56d8eb30337ba6c1a74?s=128&d=identicon&r=PG", "display_name": "Brian Schlenker", "link": "https://stackoverflow.com/users/2451889/brian-schlenker"}, "edited": false, "score": 0, "creation_date": 1480525018, "post_id": 40893942, "comment_id": 69001814, "body": "Try converting each byte to an ASCII character"}, {"owner": {"reputation": 1835, "user_id": 1202745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e91a64a6dc64dacabffb36634ad055?s=128&d=identicon&r=PG", "display_name": "robyschek", "link": "https://stackoverflow.com/users/1202745/robyschek"}, "edited": false, "score": 1, "creation_date": 1480526279, "post_id": 40893942, "comment_id": 69002572, "body": "To start with, <code>v32 = ((v30 &amp; 0xffffffff) &lt;&lt; 3) &amp; 0xffffffff</code> is not <code>ROL</code> It&#39;s <code>SHL</code>"}, {"owner": {"reputation": 2337, "user_id": 930169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be36a036900e8c4a2d810db772e43280?s=128&d=identicon&r=PG", "display_name": "JACK M", "link": "https://stackoverflow.com/users/930169/jack-m"}, "reply_to_user": {"reputation": 1835, "user_id": 1202745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e91a64a6dc64dacabffb36634ad055?s=128&d=identicon&r=PG", "display_name": "robyschek", "link": "https://stackoverflow.com/users/1202745/robyschek"}, "edited": false, "score": 0, "creation_date": 1480535368, "post_id": 40893942, "comment_id": 69007620, "body": "@robyschek thx dude. If you answer this question, I would give you credits."}], "answers": [{"comments": [{"owner": {"reputation": 2337, "user_id": 930169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be36a036900e8c4a2d810db772e43280?s=128&d=identicon&r=PG", "display_name": "JACK M", "link": "https://stackoverflow.com/users/930169/jack-m"}, "edited": false, "score": 0, "creation_date": 1480526205, "post_id": 40894040, "comment_id": 69002526, "body": "It doesn&#39;t work... ERROR: <code>UnicodeDecodeError: &#39;utf8&#39; codec can&#39;t decode byte 0xb1 in position 180: invalid start byte</code>. <code>str(pkt2)</code> is changed to <code>pkt2.decode(&#39;utf-8&#39;)</code>"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "reply_to_user": {"reputation": 2337, "user_id": 930169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be36a036900e8c4a2d810db772e43280?s=128&d=identicon&r=PG", "display_name": "JACK M", "link": "https://stackoverflow.com/users/930169/jack-m"}, "edited": false, "score": 0, "creation_date": 1480526287, "post_id": 40894040, "comment_id": 69002577, "body": "@JACKM, this means that <code>pkt2</code> uses an other encoding."}], "tags": [], "owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "is_accepted": false, "score": 0, "last_activity_date": 1480525164, "creation_date": 1480525164, "answer_id": 40894040, "question_id": 40893942, "link": "https://stackoverflow.com/questions/40893942/decoding-ransom-notefrom-c-to-python/40894040#40894040", "title": "decoding ransom note(from C to Python)", "body": "<p><code>bytearray</code> holds raw bytes, so you need to do <code>pkt2.decode()</code> to decode them as <em>utf-8</em> (this is the default, although you could specify the encoding yourself), which gives you a <code>str</code>. </p>\n\n<p>In short, just replace <code>str(pkt2)</code> with <code>pkt2.decode()</code>. </p>\n"}], "owner": {"reputation": 2337, "user_id": 930169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be36a036900e8c4a2d810db772e43280?s=128&d=identicon&r=PG", "display_name": "JACK M", "link": "https://stackoverflow.com/users/930169/jack-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1480525164, "creation_date": 1480524859, "last_edit_date": 1495541426, "question_id": 40893942, "link": "https://stackoverflow.com/questions/40893942/decoding-ransom-notefrom-c-to-python", "title": "decoding ransom note(from C to Python)", "body": "<p>further question after <a href=\"https://stackoverflow.com/questions/40892551/syntax-invalid-while-translating-c-code-to-python/\">syntax invalid while translating C code to Python</a></p>\n\n<p>I have encoded ransom note from Locky(the <code>pkt2</code> below). And I have decompiled C code to decode the ransom note(in comments). I tried to translate the C code to Python. Below is what I have:</p>\n\n<pre><code>  # v29 = 0;\n  # v30 = -1342924972;\n  # while ( v29 &lt; v62 )\n  # {\n  #   v31 = (int *)v60;\n  #   v32 = __ROL4__(v30, 3);\n  #   v33 = *((_BYTE *)v31 + v29) - v29 - v32;\n  #   v34 = (int *)v60;\n  #   *((_BYTE *)v34 + v29) = v33;\n  #   v35 = __ROR4__(v33, 11);\n  #   v36 = __ROL4__(v30, 5);\n  #   v30 = v30 + (v29++ ^ v36 ^ v35) - 1204489519;\n  # }\n\n\ndef decode_msg(dstr, str_len):\n  bstr = list(dstr)\n  v29 = 0\n  v32 = 0\n  v33 = 0\n  v35 = 0\n  v30 = 0xAFF49754\n  while(v29 &lt; str_len):\n    v32 = ((v30 &amp; 0xffffffff) &lt;&lt; 3) &amp; 0xffffffff\n    v33 = ((ord(bstr[v29]) &amp; 0xff) - v29 - v32) &amp; 0xff\n    bstr[v29] = chr(v33 &amp; 0xff)\n    v35 = ((v33 &amp; 0xffffffff) &gt;&gt; 11) &amp; 0xffffffff\n    v36 = ((v30 &amp; 0xffffffff) &lt;&lt; 5) &amp; 0xffffffff\n    v29 = v29 + 1\n    v30 = (v30 &amp; 0xffffffff) + (v29 ^ v36 ^ v35) - 1204489519\n  return ''.join(bstr)\n\nprint decode_msg(str(pkt2), len(str(pkt2)))\n</code></pre>\n\n<p>Run above code I couldn't get meaningful result. The result should be mostly English text. So where is wrong? The Python code doesn't match the C code?</p>\n\n<p>The <code>pkt2</code> is:</p>\n\n<pre><code>pkt2 = bytearray([\n0x48, 0x54,\n0x54, 0x50, 0x2f, 0x31, 0x2e, 0x31, 0x20, 0x32,\n0x30, 0x30, 0x20, 0x4f, 0x4b, 0x0d, 0x0a, 0x53,\n0x65, 0x72, 0x76, 0x65, 0x72, 0x3a, 0x20, 0x6e,\n0x67, 0x69, 0x6e, 0x78, 0x0d, 0x0a, 0x44, 0x61,\n0x74, 0x65, 0x3a, 0x20, 0x54, 0x68, 0x75, 0x2c,\n0x20, 0x32, 0x35, 0x20, 0x46, 0x65, 0x62, 0x20,\n0x32, 0x30, 0x31, 0x36, 0x20, 0x30, 0x33, 0x3a,\n0x30, 0x34, 0x3a, 0x33, 0x38, 0x20, 0x47, 0x4d,\n0x54, 0x0d, 0x0a, 0x43, 0x6f, 0x6e, 0x74, 0x65,\n0x6e, 0x74, 0x2d, 0x54, 0x79, 0x70, 0x65, 0x3a,\n0x20, 0x74, 0x65, 0x78, 0x74, 0x2f, 0x68, 0x74,\n0x6d, 0x6c, 0x3b, 0x20, 0x63, 0x68, 0x61, 0x72,\n0x73, 0x65, 0x74, 0x3d, 0x55, 0x54, 0x46, 0x2d,\n0x38, 0x0d, 0x0a, 0x43, 0x6f, 0x6e, 0x74, 0x65,\n0x6e, 0x74, 0x2d, 0x4c, 0x65, 0x6e, 0x67, 0x74,\n0x68, 0x3a, 0x20, 0x31, 0x30, 0x38, 0x39, 0x0d,\n0x0a, 0x43, 0x6f, 0x6e, 0x6e, 0x65, 0x63, 0x74,\n0x69, 0x6f, 0x6e, 0x3a, 0x20, 0x6b, 0x65, 0x65,\n0x70, 0x2d, 0x61, 0x6c, 0x69, 0x76, 0x65, 0x0d,\n0x0a, 0x56, 0x61, 0x72, 0x79, 0x3a, 0x20, 0x41,\n0x63, 0x63, 0x65, 0x70, 0x74, 0x2d, 0x45, 0x6e,\n0x63, 0x6f, 0x64, 0x69, 0x6e, 0x67, 0x0d, 0x0a,\n0x0d, 0x0a, 0xb1, 0x8a, 0x5d, 0x46, 0xb3, 0x6f,\n0x9c, 0xf9, 0x50, 0x02, 0x3b, 0x04, 0x7b, 0x60,\n0xf7, 0x50, 0x39, 0x5d, 0x97, 0xc5, 0x13, 0xe2,\n0x81, 0xe1, 0x55, 0x56, 0x57, 0x48, 0x2f, 0x45,\n0xb4, 0x5f, 0xf1, 0x86, 0xa2, 0x6b, 0xdd, 0x06,\n0x9e, 0x3c, 0x1e, 0xb0, 0xcc, 0x2e, 0x32, 0x9b,\n0xf3, 0xf0, 0x92, 0x06, 0x6d, 0x2c, 0x65, 0xe6,\n0x2d, 0x65, 0x61, 0xd4, 0xeb, 0x37, 0x6d, 0xd6,\n0xcb, 0xe7, 0xfd, 0x1f, 0x8a, 0xa9, 0x3e, 0x79,\n0x83, 0x90, 0x8f, 0xa4, 0xf9, 0x89, 0x97, 0x6a,\n0x89, 0x51, 0x71, 0x1f, 0x40, 0x63, 0x60, 0xc7,\n0x1a, 0x1b, 0xef, 0x5a, 0xfb, 0xb4, 0x12, 0xd1,\n0x2b, 0xa9, 0x17, 0xd1, 0x88, 0xb8, 0x66, 0x05,\n0xe9, 0x81, 0xc5, 0x10, 0xa0, 0xfd, 0x8c, 0x11,\n0x7c, 0xe6, 0x2e, 0x43, 0xdf, 0xa8, 0x40, 0x2c,\n0xc8, 0x56, 0x4f, 0x50, 0xf9, 0xfb, 0xf1, 0xf3,\n0x92, 0x80, 0x84, 0x59, 0x3e, 0x6a, 0x33, 0x8d,\n0x8f, 0x85, 0xaf, 0x02, 0x4b, 0x36, 0xa9, 0xc1,\n0x1f, 0x23, 0x20, 0x18, 0x84, 0xd0, 0x9d, 0x9c,\n0xa2, 0x07, 0x0d, 0x97, 0x0d, 0x5d, 0xc7, 0x40,\n0x48, 0xc8, 0x61, 0xd5, 0x6c, 0x0a, 0xb7, 0xc4,\n0x53, 0xb3, 0x12, 0x05, 0x37, 0x8e, 0x87, 0x7c,\n0xb9, 0xc5, 0x2e, 0xc1, 0x01, 0x36, 0xe5, 0x58,\n0x38, 0xed, 0x16, 0xe5, 0xbe, 0x75, 0xcd, 0xa4,\n0x3b, 0xa4, 0xd7, 0x41, 0xde, 0xf0, 0x68, 0xaa,\n0x51, 0x96, 0xa6, 0xe3, 0x8c, 0x7b, 0x38, 0x20,\n0xb1, 0x18, 0x10, 0xbe, 0x63, 0x88, 0xa4, 0x65,\n0x2b, 0xa7, 0x6a, 0x9c, 0x0d, 0xab, 0x6c, 0xab,\n0x8f, 0x3b, 0x18, 0xee, 0xd8, 0xc6, 0xc1, 0xee,\n0xcc, 0xb1, 0x76, 0xe5, 0x39, 0xdc, 0x69, 0x33,\n0x85, 0xfa, 0x07, 0x72, 0xcc, 0xdb, 0x4d, 0x38,\n0x8b, 0x1c, 0xa8, 0x58, 0x22, 0xf0, 0x5c, 0xa5,\n0x56, 0xa6, 0x4c, 0xc6, 0xef, 0xb8, 0x06, 0xa4,\n0xd3, 0x0a, 0xda, 0x47, 0xd6, 0x89, 0xd1, 0x25,\n0xf2, 0xa3, 0xbc, 0xa9, 0xd4, 0x06, 0x12, 0x73,\n0x63, 0x3a, 0x2d, 0xbb, 0x49, 0xb9, 0xfc, 0x04,\n0x1b, 0xb9, 0xb2, 0xb9, 0xf8, 0x0e, 0xde, 0xcd,\n0xed, 0x71, 0x53, 0xb7, 0xda, 0x69, 0xf5, 0xf2,\n0xfb, 0xda, 0xa7, 0x52, 0xb0, 0xd6, 0x20, 0xd5,\n0xff, 0x1d, 0x05, 0x4d, 0xa3, 0xc6, 0x4a, 0x7c,\n0x51, 0x8b, 0x8c, 0x1b, 0xd8, 0x65, 0x0a, 0xc8,\n0x00, 0xdf, 0xf0, 0x17, 0x51, 0xe4, 0xc9, 0x5b,\n0x61, 0x2a, 0x3b, 0x22, 0xaa, 0x0a, 0xf3, 0x5e,\n0xce, 0xdd, 0x0f, 0x4d, 0x20, 0x00, 0xf4, 0x5a,\n0x83, 0xb4, 0xa9, 0x2a, 0x4a, 0xfd, 0x1d, 0xf9,\n0xe5, 0x9f, 0x1a, 0x0e, 0xee, 0x34, 0x36, 0x37,\n0xf2, 0x92, 0x57, 0x79, 0x80, 0xcb, 0x02, 0x4a,\n0xbb, 0xfb, 0xf0, 0x8d, 0xda, 0xe4, 0x88, 0xd0,\n0x57, 0x47, 0x33, 0xff, 0x30, 0x7d, 0x7d, 0x65,\n0x2d, 0x3e, 0xfc, 0x6d, 0xf0, 0x78, 0x0f, 0x15,\n0x68, 0xe2, 0x70, 0x59, 0x1a, 0xeb, 0x45, 0x7a,\n0xab, 0x86, 0xc8, 0x9c, 0x15, 0xf7, 0x9b, 0x10,\n0x87, 0x3a, 0xf2, 0x76, 0x5c, 0x98, 0x00, 0x95,\n0xa8, 0xcc, 0xa9, 0x58, 0x0a, 0xd4, 0x5e, 0xac,\n0x47, 0xb4, 0x9a, 0x46, 0xb8, 0xf8, 0x45, 0x0b,\n0xae, 0x23, 0xb5, 0xf4, 0x00, 0xb4, 0x83, 0x0d,\n0xde, 0x4a, 0x98, 0x1c, 0x43, 0xe5, 0x2c, 0xbb,\n0x82, 0x0d, 0xc4, 0x27, 0x7d, 0xf9, 0x2d, 0x90,\n0x9b, 0xdd, 0x8b, 0x51, 0x7b, 0xf0, 0xbb, 0xd6,\n0x39, 0x94, 0x80, 0x58, 0x00, 0x3b, 0xe8, 0x6c,\n0x32, 0xf1, 0x98, 0x91, 0xb2, 0x95, 0x39, 0x51,\n0x81, 0x59, 0x54, 0xfe, 0x23, 0x71, 0x8f, 0x9f,\n0xcf, 0x6c, 0xf2, 0x64, 0x39, 0xa4, 0xe4, 0xd6,\n0x8c, 0x3a, 0x27, 0x83, 0x9a, 0xcc, 0xe3, 0x77,\n0x31, 0x13, 0xd4, 0x85, 0xae, 0x47, 0xcc, 0x5b,\n0x4b, 0x6f, 0xf4, 0x2b, 0xc9, 0xff, 0x71, 0x09,\n0x1d, 0x1d, 0xb6, 0x51, 0xf3, 0x39, 0x80, 0x38,\n0x8c, 0xee, 0x5c, 0xa2, 0xcf, 0x56, 0x1d, 0xcd,\n0x51, 0x5e, 0x87, 0xd7, 0x21, 0x8d, 0x5b, 0xc6,\n0x20, 0x4c, 0xaf, 0xdf, 0x83, 0xfe, 0x8c, 0xac,\n0xa7, 0xa5, 0x66, 0x45, 0x97, 0xc1, 0x5a, 0x6b,\n0x13, 0xba, 0xaf, 0x11, 0x5e, 0xcc, 0x01, 0x90,\n0x6d, 0x97, 0x11, 0xdb, 0xf3, 0x88, 0xcb, 0x20,\n0x81, 0xd4, 0x05, 0x18, 0x69, 0xfa, 0x3c, 0x3b,\n0xde, 0xd5, 0x11, 0xef, 0x17, 0xa2, 0xe6, 0xd6,\n0x6a, 0x99, 0x11, 0x44, 0xd1, 0xd4, 0x5a, 0xff,\n0x30, 0x85, 0x9d, 0xf1, 0xcc, 0xb3, 0xd3, 0x99,\n0xa6, 0x05, 0x64, 0x1c, 0x46, 0xb4, 0xe5, 0x64,\n0xb7, 0x9d, 0x8a, 0xf4, 0xcf, 0x33, 0xb4, 0x86,\n0x6b, 0x3c, 0xac, 0x0a, 0x80, 0x30, 0xcf, 0xff,\n0x0d, 0x2b, 0x08, 0x3c, 0x08, 0xdc, 0xc3, 0xec,\n0x0b, 0xea, 0xcc, 0xa0, 0xdc, 0x70, 0x09, 0xf7,\n0xd0, 0x3a, 0x50, 0xfb, 0xb3, 0xef, 0x22, 0x33,\n0xf9, 0xf1, 0x67, 0x0f, 0x1a, 0xba, 0x50, 0xd6,\n0x62, 0xa6, 0x15, 0x3a, 0x4a, 0x50, 0x81, 0xc5,\n0x90, 0xd3, 0x9d, 0x8e, 0x9b, 0xc0, 0xb5, 0xf4,\n0x65, 0x33, 0xbd, 0xad, 0x3c, 0x4f, 0xf1, 0xc5,\n0x35, 0x73, 0x48, 0xe1, 0xb2, 0xb2, 0x40, 0x58,\n0xec, 0xbe, 0xab, 0x12, 0xf5, 0x5b, 0x34, 0x3e,\n0x3d, 0x07, 0x41, 0xe4, 0xdf, 0x9a, 0x44, 0x37,\n0x9f, 0xc1, 0xc0, 0x2f, 0xad, 0x8f, 0x8e, 0xfe,\n0xbd, 0x17, 0x66, 0x46, 0x32, 0x93, 0xe5, 0x47,\n0x8c, 0xef, 0x88, 0xc1, 0x8b, 0x49, 0xd0, 0x90,\n0xc0, 0x5a, 0x5d, 0x1e, 0x70, 0x2f, 0xbd, 0xd9,\n0x69, 0xb7, 0x14, 0x1d, 0x99, 0x1e, 0xb5, 0xf7,\n0xff, 0x81, 0x5f, 0x35, 0x85, 0xf9, 0xa3, 0x14,\n0xf0, 0xdd, 0xa3, 0x3b, 0x61, 0xdd, 0x3d, 0x4d,\n0x18, 0x21, 0xc5, 0xe5, 0x95, 0xee, 0x40, 0x3d,\n0x44, 0x03, 0x5c, 0xc0, 0xa6, 0xfc, 0x50, 0xc1,\n0x96, 0x2f, 0x90, 0xf2, 0x15, 0x77, 0x3a, 0x09,\n0x9a, 0x7d, 0xff, 0xc1, 0xdd, 0xea, 0x4c, 0x3d,\n0x02, 0xce, 0x99, 0x27, 0xef, 0xf0, 0xeb, 0x25,\n0x5a, 0x9b, 0x9a, 0xf2, 0xc3, 0x8f, 0x97, 0xfa,\n0x06, 0x64, 0x0f, 0x1e, 0x66, 0x35, 0x41, 0x13,\n0xdd, 0xb8, 0xcc, 0x08, 0x87, 0xfc, 0x1c, 0xf5,\n0x07, 0xe1, 0x30, 0x6b, 0xac, 0x03, 0x81, 0x49,\n0x65, 0xd0, 0x02, 0x97, 0xc2, 0x06, 0xcc, 0xa9,\n0x9a, 0xb2, 0x7a, 0x04, 0xab, 0x87, 0xda, 0x03,\n0xd3, 0x78, 0x5b, 0xc6, 0x49, 0x70, 0x10, 0x37,\n0x81, 0xc2, 0xa0, 0x0f, 0x6a, 0x84, 0xc0, 0x10,\n0x78, 0x89, 0xf8, 0x76, 0x64, 0xa1, 0xb5, 0xf5,\n0x7b, 0x5d, 0xeb, 0x1b, 0x5d, 0xd6, 0xca, 0x58,\n0x66, 0x23, 0x48, 0x15, 0x1a, 0x22, 0x60, 0x42,\n0xe0, 0x7e, 0x6f, 0x98, 0x36, 0xe7, 0x69, 0x43,\n0x19, 0x39, 0x42, 0x96, 0x3d, 0xaa, 0xb3, 0x67,\n0xff, 0x50, 0x17, 0x9b, 0x9e, 0x06, 0x93, 0x42,\n0x92, 0xd7, 0xc3, 0xb0, 0x3f, 0xb8, 0xd5, 0xde,\n0xfa, 0xef, 0xc9, 0xde, 0x13, 0x5b, 0x66, 0x50,\n0xf3, 0x60, 0x8f, 0x14, 0x87, 0xf8, 0x2c, 0x15,\n0x79, 0x70, 0x85, 0xdb, 0x20, 0xa5, 0x53, 0xb1,\n0x5e, 0x9d, 0xd7, 0xdf, 0x4d, 0x80, 0x9a, 0xfa,\n0x00, 0xdf, 0xf3, 0x09, 0x61, 0xae, 0xdd, 0xc0,\n0x4f, 0x90, 0xfa, 0x31, 0x83, 0x30, 0x86, 0x71,\n0x34, 0x97, 0xeb, 0x69, 0xca, 0x29, 0xaf, 0xce,\n0x91, 0x61, 0xc3, 0x11, 0xd0, 0x97, 0x27, 0x54,\n0xc5, 0x5e, 0x23, 0xe3, 0x02, 0x2f, 0xe7, 0x44,\n0xb3, 0x8d, 0x11, 0x89, 0x4b, 0xee, 0x4d, 0xbf,\n0x7d, 0xe1, 0xa6, 0x49, 0x17, 0x59, 0x65, 0xb3,\n0xc5, 0xb0, 0x55, 0x71, 0x6e, 0xa7, 0xe0, 0x3a,\n0x06, 0xdc, 0xd7, 0xf6, 0x54, 0x49, 0x9e, 0x7c,\n0x6f, 0xe4, 0x1a, 0xca, 0xe8, 0x25, 0x35, 0x21,\n0xb3, 0x87, 0x67, 0x58, 0x5c, 0xd7, 0x31, 0xa5,\n0xdb, 0x34, 0x23, 0x60, 0x9f, 0x80, 0xb1, 0x42,\n0x77, 0x5f, 0x0d, 0xaf, 0x2b, 0x99, 0xd0, 0x4c,\n0xb8, 0xb9, 0xbc, 0x5b, 0x15, 0x84, 0xab, 0x7f,\n0x0d, 0xfe, 0x14, 0x74, 0x29, 0x45, 0x61, 0x31,\n0x33, 0x31, 0x8e\n])\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1480525242, "post_id": 40893891, "comment_id": 69001970, "body": "<code>errno_t fopen_s(       FILE** pFile,      const char *filename,      const char *mode    );</code> So maybe you really want <code>fopen_s(&amp;file_in, filename1, &quot;r&quot;);</code>"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1480525501, "post_id": 40893891, "comment_id": 69002138, "body": "When you ask questions here, you need to include all the information. What is the error? Was it a compiler error or runtime? How did you narrow it down to that function? If you have an error message, copy the whole thing into the question."}, {"owner": {"reputation": 97942, "user_id": 25324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c812d568dcbf02b96796728be3cac626?s=128&d=identicon&r=PG", "display_name": "pmg", "link": "https://stackoverflow.com/users/25324/pmg"}, "edited": false, "score": 0, "creation_date": 1480526880, "post_id": 40893891, "comment_id": 69002934, "body": "Just <a href=\"https://msdn.microsoft.com/en-us/library/8ef0s5kh.aspx\" rel=\"nofollow noreferrer\">use the standard functions and ignore the warnings</a>"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1480544563, "post_id": 40893891, "comment_id": 69012389, "body": "Probably not the reason for your crash, but you are aware that you have extra <code>;</code> at the end of each of your <code>while</code> lines? That means both are empty loops, followed by a standalone block, rather than the loops you think they are."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1480544743, "post_id": 40893891, "comment_id": 69012458, "body": "Also, have the you checked that your <code>fopen_s</code> calls are successful (return 0, and populate the file handle with a non-null value?"}, {"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1480594369, "post_id": 40893891, "comment_id": 69032957, "body": "the syntax for <code>gets_s()</code> is : <code>char *gets_s( char *str, rsize_t n );</code>  Notice there are two parameters and the posted code is only showing one parameter.  I.E. the code will not compile.  Please post code that actually compiles.  Also, always enable all the warnings when compiling then fix those warnings/errors."}], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 4746861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b02d093c0e7e10074b7d572396022657?s=128&d=identicon&r=PG&f=1", "display_name": "mmichal10", "link": "https://stackoverflow.com/users/4746861/mmichal10"}, "is_accepted": false, "score": 0, "last_activity_date": 1480525305, "creation_date": 1480525305, "answer_id": 40894091, "question_id": 40893891, "link": "https://stackoverflow.com/questions/40893891/c-program-to-ask-for-two-separate-files-then-displays-number-of-characters-line/40894091#40894091", "title": "C program to ask for two separate files then displays number of characters, lines and words", "body": "<p>fopen_s takes 3 arguments. First is pointer, to which you want to assign the file, second is filename and third is how you want to acces file (\"r\", \"w\", etc)</p>\n"}, {"comments": [{"owner": {"reputation": 92, "user_id": 2642437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f53e0c00fbc91d8e6cb5628bea9ef08e?s=128&d=identicon&r=PG", "display_name": "medman826", "link": "https://stackoverflow.com/users/2642437/medman826"}, "reply_to_user": {"reputation": 27, "user_id": 7232012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a839a86dbdbd6e6907f06f3e680d822c?s=128&d=identicon&r=PG&f=1", "display_name": "l.stannard", "link": "https://stackoverflow.com/users/7232012/l-stannard"}, "edited": false, "score": 0, "creation_date": 1480527885, "post_id": 40894542, "comment_id": 69003560, "body": "Can you explain what problem you are encountering with it?"}, {"owner": {"reputation": 27, "user_id": 7232012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a839a86dbdbd6e6907f06f3e680d822c?s=128&d=identicon&r=PG&f=1", "display_name": "l.stannard", "link": "https://stackoverflow.com/users/7232012/l-stannard"}, "edited": false, "score": 0, "creation_date": 1480528298, "post_id": 40894542, "comment_id": 69003824, "body": "I need to change all the printf to printf_s and when I do this to fopen to fopen_s it says: errno_t cannot be assigned to an entity of type file. And  char is incompatible with parameter of type file. And too few arguments in function call."}, {"owner": {"reputation": 92, "user_id": 2642437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f53e0c00fbc91d8e6cb5628bea9ef08e?s=128&d=identicon&r=PG", "display_name": "medman826", "link": "https://stackoverflow.com/users/2642437/medman826"}, "reply_to_user": {"reputation": 27, "user_id": 7232012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a839a86dbdbd6e6907f06f3e680d822c?s=128&d=identicon&r=PG&f=1", "display_name": "l.stannard", "link": "https://stackoverflow.com/users/7232012/l-stannard"}, "edited": false, "score": 0, "creation_date": 1480528630, "post_id": 40894542, "comment_id": 69004024, "body": "Why do you need to change printf to printf_s and fopen to fopen_s? What happens if you try to run the code with printf and fopen instead of printf_s and fopen_s?"}, {"owner": {"reputation": 27, "user_id": 7232012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a839a86dbdbd6e6907f06f3e680d822c?s=128&d=identicon&r=PG&f=1", "display_name": "l.stannard", "link": "https://stackoverflow.com/users/7232012/l-stannard"}, "edited": false, "score": 0, "creation_date": 1480528820, "post_id": 40894542, "comment_id": 69004142, "body": "it says its unsafe and to change it to that? Its also because its bit of coursework and didnt want it not to work when I hand it in."}, {"owner": {"reputation": 92, "user_id": 2642437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f53e0c00fbc91d8e6cb5628bea9ef08e?s=128&d=identicon&r=PG", "display_name": "medman826", "link": "https://stackoverflow.com/users/2642437/medman826"}, "reply_to_user": {"reputation": 27, "user_id": 7232012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a839a86dbdbd6e6907f06f3e680d822c?s=128&d=identicon&r=PG&f=1", "display_name": "l.stannard", "link": "https://stackoverflow.com/users/7232012/l-stannard"}, "edited": false, "score": 0, "creation_date": 1480529051, "post_id": 40894542, "comment_id": 69004276, "body": "I believe that the compiler stating it is unsafe is just a warning. If so, it does not mean that the program will not run. It should be possible to ignore the warning and compile and run the program anyway."}, {"owner": {"reputation": 27, "user_id": 7232012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a839a86dbdbd6e6907f06f3e680d822c?s=128&d=identicon&r=PG&f=1", "display_name": "l.stannard", "link": "https://stackoverflow.com/users/7232012/l-stannard"}, "edited": false, "score": 0, "creation_date": 1480530425, "post_id": 40894542, "comment_id": 69005007, "body": "Ive found out how to do this now its saying gets is undefined"}, {"owner": {"reputation": 92, "user_id": 2642437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f53e0c00fbc91d8e6cb5628bea9ef08e?s=128&d=identicon&r=PG", "display_name": "medman826", "link": "https://stackoverflow.com/users/2642437/medman826"}, "reply_to_user": {"reputation": 27, "user_id": 7232012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a839a86dbdbd6e6907f06f3e680d822c?s=128&d=identicon&r=PG&f=1", "display_name": "l.stannard", "link": "https://stackoverflow.com/users/7232012/l-stannard"}, "edited": false, "score": 0, "creation_date": 1480531788, "post_id": 40894542, "comment_id": 69005760, "body": "Check out my edited post. It turns out that gets was disabled in some compilers, and instead you have to use fgets. However, fgets results in having to do a little more string manipulation. Basically, for each file name, I&#39;m reading in up to 50 characters from the user from stdin, and then going and turning the newline into a null terminator so that the character arrays each contain only the filename we want, without any newline at the end."}, {"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1480594849, "post_id": 40894542, "comment_id": 69033249, "body": "put this line at the beginning of each file: <code>#define _CRT_SECURE_NO_WARNINGS</code>  Then the visual studio compiler will not issue those (silly) warnings about functions that can be abused."}, {"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1480594938, "post_id": 40894542, "comment_id": 69033305, "body": "the function: <code>gets()</code> has been depreciated for many years and in the latest version of C, is completely eliminated.  Strongly suggest using `fgets() instead"}, {"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1480595044, "post_id": 40894542, "comment_id": 69033367, "body": "Do not casually change from one function to a similarily named function without first carefully reading/understanding the man page for the new function."}], "tags": [], "owner": {"reputation": 92, "user_id": 2642437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f53e0c00fbc91d8e6cb5628bea9ef08e?s=128&d=identicon&r=PG", "display_name": "medman826", "link": "https://stackoverflow.com/users/2642437/medman826"}, "is_accepted": false, "score": -2, "last_activity_date": 1480532019, "last_edit_date": 1480532019, "creation_date": 1480526818, "answer_id": 40894542, "question_id": 40893891, "link": "https://stackoverflow.com/questions/40893891/c-program-to-ask-for-two-separate-files-then-displays-number-of-characters-line/40894542#40894542", "title": "C program to ask for two separate files then displays number of characters, lines and words", "body": "<p>A few things I found to change here... This code worked for me:</p>\n\n<pre><code>#include \"stdio.h\"\n#include \"stdlib.h\"\n#include \"ctype.h\"\n\nint main(int argc, char *argv[])\n{\n    //setting names of ints and chars.\n    FILE *file_in;\n    int wordcount, linecount, charcount;\n    int letter;\n    char filename1[50];\n    char filename2[50];\n\n    //setting all counts to 0.\n    wordcount = 0;\n    linecount = 0;\n    charcount = 0;\n\n    printf(\"Enter first text document: \");\n    fgets(filename1, 50, stdin);\n    ch = filename1;\n    while(*ch != '\\n')\n        ch++; \n    *ch = '\\0';\n    printf(\"Enter second text document: \");\n    fgets(filename2, 50, stdin);\n    ch = filename2;\n    while(*ch != '\\n')\n        ch++; \n    *ch = '\\0';\n\n    //opens then reads the first file.\n    file_in = fopen(filename1, \"r\");\n\n    // counts the number of words, then lines, then letters in doc 1. \n    while((letter = fgetc(file_in)) != EOF)\n    {\n        if (letter == ' ')\n        {\n            wordcount++;\n        }\n        else if (letter == '\\n')\n        {\n            linecount++;\n        }\n        else\n        {\n            charcount++;\n        }\n    }\n\n    //displays the total on screen.\n    printf(\"File 1...\\n\");\n    printf(\"Words: %d\\n\", wordcount);\n    printf(\"Letters: %d\\n\", charcount);\n    printf(\"Lines: %d\\n\", linecount);\n\n    //opens then reads the second file.\n    file_in = fopen(filename2, \"r\");\n\n    //reset counts\n    wordcount = 0;\n    linecount = 0;\n    charcount = 0;\n\n    // counts the number of words, then lines, then letters in doc 2.\n    while((letter = fgetc(file_in)) != EOF)\n    {\n        if (letter == ' ')\n        {\n            wordcount++;\n        }\n        else if (letter == '\\n')\n        {\n            linecount++;\n        }\n        else\n        {\n            charcount++;\n        }\n    }\n\n    //displays the total on screen.\n    printf(\"File 2...\\n\");\n    printf(\"Words: %d\\n\", wordcount);\n    printf(\"Letters: %d\\n\", charcount);\n    printf(\"Lines: %d\\n\", linecount);\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7232012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a839a86dbdbd6e6907f06f3e680d822c?s=128&d=identicon&r=PG&f=1", "display_name": "l.stannard", "link": "https://stackoverflow.com/users/7232012/l-stannard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1480544380, "creation_date": 1480524738, "last_edit_date": 1480544380, "question_id": 40893891, "link": "https://stackoverflow.com/questions/40893891/c-program-to-ask-for-two-separate-files-then-displays-number-of-characters-line", "title": "C program to ask for two separate files then displays number of characters, lines and words", "body": "<p>I am writing a program to do this but have error messages. I have changed the fopen-s line to what it is now but this message appears after entering the two file names? \n<a href=\"https://i.stack.imgur.com/pQ1jj.png\" rel=\"nofollow noreferrer\">error message</a></p>\n\n<p>here are no error messages that come up in visual studio but not sure if this is not the problem.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;ctype.h&gt;\n\nint main()\n{\n//setting names of ints and chars.\nFILE *file_in;\nint wordcount, linecount, charcount;\nchar letter;\nchar filename1[50];\nchar filename2[50];\n\n//setting all counts to 0.\nwordcount = 0;\nlinecount = 0;\ncharcount = 0;\n\n//Gets the user to enter name of file, then puts it in string.\nprintf(\"\\n Enter first text document\\n\");\ngets_s(filename1);\nprintf(\"\\n Enter second text document\\n\");\ngets_s(filename2);\n\n//opens then reads the first file.\nfopen_s(&amp;file_in, filename1, \"r\");\n\n    // counts the number of words, then lines, then letters in doc 1. \n    while ((letter = getc(file_in)) != EOF);\n    {\n        if (isspace(letter) &amp;&amp; !isspace(getchar()))\n        {\n            wordcount++;\n        }\n        if (letter == '\\n');\n        {\n            linecount++;\n        }\n        if (letter == '-')\n        {\n            charcount++;\n        }\n    }\n\n    //opens then reads the second file.\n    fopen_s(&amp;file_in, filename2, \"r\");\n\n    // counts the number of words, then lines, then letters in doc 2.\n    while ((letter = getc(file_in)) != EOF);\n    {\n        if (isspace(letter) &amp;&amp; !isspace(getchar()))\n        {\n            wordcount++;\n        }\n        if (letter == '\\n');\n        {\n            linecount++;\n        }\n        if (letter == '-')\n        {\n            charcount++;\n        }\n    }\n\n    //displays the total on screen.\n    printf_s(\"Words:\", wordcount, \"\\n\");\n    printf_s(\"Letters\", charcount, \"\\n\");\n    printf_s(\"Lines\", linecount, \"\\n\")\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c", "caesar-cipher"], "comments": [{"owner": {"reputation": 218, "user_id": 4792622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1b8f1978ba0a0810d670e1308f6085?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob McCarthy", "link": "https://stackoverflow.com/users/4792622/jacob-mccarthy"}, "edited": false, "score": 1, "creation_date": 1480524783, "post_id": 40893861, "comment_id": 69001679, "body": "You&#39;ll have to check the ascii value after the shift, its its greater than &#39;Z&#39;, then subtract 26 and you&#39;ll loop back around. Decrypting will simply be the opposite. I&#39;m also assuming the shift amount will never be greater than 26 for this"}, {"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 1, "creation_date": 1480526509, "post_id": 40893861, "comment_id": 69002716, "body": "Your indentation makes me sad."}, {"owner": {"reputation": 64564, "user_id": 302139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ea13e6d50c94ba30296c4e5326e1634?s=128&d=identicon&r=PG", "display_name": "Edwin Buck", "link": "https://stackoverflow.com/users/302139/edwin-buck"}, "reply_to_user": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 1, "creation_date": 1480527906, "post_id": 40893861, "comment_id": 69003575, "body": "@Kay Can&#39;t have an increase in indentation caused world sadness.  Reformatted for your pleasure!"}, {"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "reply_to_user": {"reputation": 64564, "user_id": 302139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ea13e6d50c94ba30296c4e5326e1634?s=128&d=identicon&r=PG", "display_name": "Edwin Buck", "link": "https://stackoverflow.com/users/302139/edwin-buck"}, "edited": false, "score": 0, "creation_date": 1480528125, "post_id": 40893861, "comment_id": 69003702, "body": "@EdwinBuck, thank you! It&#39;s like an early Christmas present. :D"}, {"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1480661388, "post_id": 40893861, "comment_id": 69064103, "body": "<code>*theString = (*theString - &#39;A&#39; + shift) % 26 + &#39;A&#39;;</code> so you do operation <code>mod 26</code> (26 is not magic, but the number of letters in the alphabet)"}, {"owner": {"reputation": 11, "user_id": 5544940, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d1e58b4e83b729f06c8f28f82d99163?s=128&d=identicon&r=PG&f=1", "display_name": "Alaska", "link": "https://stackoverflow.com/users/5544940/alaska"}, "edited": false, "score": 0, "creation_date": 1480990427, "post_id": 40893861, "comment_id": 69182643, "body": "So I tried using the - 26 code and the one directly above, but I keep getting the same error. Whenever I type string &quot;zzzz&quot; I get &quot;????&quot; as a result. All the other letters work, and when I type &quot;ZZZZ&quot; I get the correct output. The code is exactly the same for both upper and lower, so what is causing this error?"}], "answers": [{"comments": [{"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 1, "creation_date": 1480526900, "post_id": 40894525, "comment_id": 69002951, "body": "&quot;subtract off &#39;Z&#39; add &#39;A&#39; and subtract 1&quot;, or simply subtract 26. I think we can take the number of letters in the ASCII alphabet as a well known constant. :)"}, {"owner": {"reputation": 64564, "user_id": 302139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ea13e6d50c94ba30296c4e5326e1634?s=128&d=identicon&r=PG", "display_name": "Edwin Buck", "link": "https://stackoverflow.com/users/302139/edwin-buck"}, "reply_to_user": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 2, "creation_date": 1480527081, "post_id": 40894525, "comment_id": 69003067, "body": "@Kay Always nice to avoid magic numbers, even when they work :)"}, {"owner": {"reputation": 27420, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 2, "creation_date": 1480528107, "post_id": 40894525, "comment_id": 69003696, "body": "That is not a method that conform with the C standard.  The C standard only requires the digits <code>&#39;0&#39;</code>-<code>&#39;9&#39;</code> to be represented consecutively."}, {"owner": {"reputation": 64564, "user_id": 302139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ea13e6d50c94ba30296c4e5326e1634?s=128&d=identicon&r=PG", "display_name": "Edwin Buck", "link": "https://stackoverflow.com/users/302139/edwin-buck"}, "reply_to_user": {"reputation": 27420, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 1, "creation_date": 1480528747, "post_id": 40894525, "comment_id": 69004097, "body": "@AndrewHenle True, but the C standard doesn&#39;t require any particular character set, so it is both impossible to &quot;conform to the C standard&quot; and impossible to &quot;violate the C standard&quot; with regard to character manipulation.  EBCDIC is the only character set that comes to mind where the alphabet is not continuous, and the only sane way to do it there is a lookup table."}], "tags": [], "owner": {"reputation": 64564, "user_id": 302139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ea13e6d50c94ba30296c4e5326e1634?s=128&d=identicon&r=PG", "display_name": "Edwin Buck", "link": "https://stackoverflow.com/users/302139/edwin-buck"}, "is_accepted": false, "score": 1, "last_activity_date": 1480529044, "last_edit_date": 1480529044, "creation_date": 1480526762, "answer_id": 40894525, "question_id": 40893861, "link": "https://stackoverflow.com/questions/40893861/caesar-cipher-going-back-to-a-a/40894525#40894525", "title": "Caesar Cipher Going back to &#39;A&#39;/&#39;a&#39;", "body": "<p>First rotate the character.  This might lead to invalid characters (rotating past Z).</p>\n\n<p>After rotating the character, check the character to see if it is greater than 'Z'.  If it is, then you need to figure out how far past 'Z' it is.  To do this, subtract 'Z' from the character.</p>\n\n<p>You now have \"how far past Z\" the character is.  You need to take this number and convert it to \"how far past A\", which means you would subtract 1.</p>\n\n<p>Now that you have \"how far past A\", you can just add the character 'A' to the value, and you will get the desired value.</p>\n\n<p>To summarize, \"subtract off 'Z', add 'A' and subtract 1\".</p>\n\n<pre><code>while (*theString) {\n    if (isalpha(*theString) &amp;&amp; isLower(*theString)) {\n        *theString += shift;\n        while (*theString &gt; 'z') {\n            *theString = *theString - 'z' - 1 + 'a';\n        }\n    } else if (isalpha(*theString) &amp;&amp; isUpper(*theString)) {\n        *theString += shift;\n        while (*theString &gt; 'Z') {\n            *theString = *theString - 'Z' - 1 + 'A';\n        }\n    }\n    theString++;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5544940, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d1e58b4e83b729f06c8f28f82d99163?s=128&d=identicon&r=PG&f=1", "display_name": "Alaska", "link": "https://stackoverflow.com/users/5544940/alaska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1480641609, "creation_date": 1480524625, "last_edit_date": 1480527828, "question_id": 40893861, "link": "https://stackoverflow.com/questions/40893861/caesar-cipher-going-back-to-a-a", "title": "Caesar Cipher Going back to &#39;A&#39;/&#39;a&#39;", "body": "<pre><code>#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;ctype.h&gt;\n\n\nvoid encrypt(char *theString, int shift) {\n    while (*theString) {\n        if (isalpha(*theString)) {\n            *theString += shift;\n        }\n        theString++;\n    }\n}\n\nint main(void) {\n    int shift;\n    int *ip;\n\n    ip = &amp;shift;\n    char theString[80];\n    printf(\"Enter String: \");\n    fgets(theString, 80, stdin);\n    printf(\"Enter Number: \");\n    scanf(\"%d\", &amp;shift);\n\n    encrypt(theString,shift);\n    puts(theString);\n\n    return(0);\n}\n</code></pre>\n\n<p>Got this far, thanks for the help.  </p>\n\n<p>Now, I need help going back to 'A' when the user types 'Z', instead of going to [ (and for lowercase letters).  I know I need some if statements, not sure which ones. Thanks for any and all help.</p>\n"}, {"tags": ["c++", "c", "winapi"], "comments": [{"owner": {"reputation": 2445, "user_id": 3476780, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abf771bddcd864626a0e1499ccfc699b?s=128&d=identicon&r=PG&f=1", "display_name": "yano", "link": "https://stackoverflow.com/users/3476780/yano"}, "edited": false, "score": 1, "creation_date": 1480524143, "post_id": 40893539, "comment_id": 69001220, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb968803%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a> . I&#39;ve worked with Microsoft&#39;s <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=44226\" rel=\"nofollow noreferrer\">Message Analyzer</a> before and it&#39;s functionality is built upon event tracing (just a quick plug, I&#39;m no fan of Microsoft, but that&#39;s a good tool for capturing IPv4 and IPv6 loopback traffic on Windows, among other things, if you need to do that). Not sure if Message Analyzer will display an event trace from any source."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1480538365, "post_id": 40893539, "comment_id": 69009222, "body": "<code>TraceMessage()</code> is part of the ETW (Event Tracing for Windows) API. Message Analyzer supports ETW sources, both from live events and saved log files."}, {"owner": {"reputation": 1887, "user_id": 1895684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00fd5a7d6ac810a215f6b4262722a515?s=128&d=identicon&r=PG", "display_name": "toster-cx", "link": "https://stackoverflow.com/users/1895684/toster-cx"}, "edited": false, "score": 0, "creation_date": 1480596086, "post_id": 40893539, "comment_id": 69034026, "body": "Thanks for the tips! It seems it would work in most cases, unfortunately I&#39;m stuck on a legacy system still running XP :( Message Analyzer can be installed on W7+, remote analysis since W8.1. It seems the command line tool <code>logman</code> should be able to do the same thing. Trying to get it running atm."}], "owner": {"reputation": 1887, "user_id": 1895684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00fd5a7d6ac810a215f6b4262722a515?s=128&d=identicon&r=PG", "display_name": "toster-cx", "link": "https://stackoverflow.com/users/1895684/toster-cx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480537993, "creation_date": 1480523752, "last_edit_date": 1480537993, "question_id": 40893539, "link": "https://stackoverflow.com/questions/40893539/capture-tracemessage-output", "title": "Capture TraceMessage output", "body": "<p>I'm debugging an old closed-source library. I'm seeing lots of useful calls to <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa364139.aspx\" rel=\"nofollow noreferrer\"><code>TraceMessage</code></a> with debug information when functions fail.</p>\n\n<p>I've never heard of this \"Event Tracing\" that MSDN speaks of. Are there any tools that can capture these messages, or dump them to a log file? They seem to be meant for debugging, but I can't make any sense of the docs.</p>\n\n<p>As a last resort, I plan to hook the function and write a custom dumper, but that is a lot of work. Surely there must be an easier way?</p>\n"}, {"tags": ["c", "arrays", "pointers", "casting"], "comments": [{"owner": {"reputation": 7022, "user_id": 7659995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iZH7M.png?s=128&g=1", "display_name": "MD XF", "link": "https://stackoverflow.com/users/7659995/md-xf"}, "edited": false, "score": 0, "creation_date": 1480522184, "post_id": 40892951, "comment_id": 68999865, "body": "What errors does the compiler give you?"}, {"owner": {"reputation": 7022, "user_id": 7659995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iZH7M.png?s=128&g=1", "display_name": "MD XF", "link": "https://stackoverflow.com/users/7659995/md-xf"}, "edited": false, "score": 1, "creation_date": 1480522269, "post_id": 40892951, "comment_id": 68999920, "body": "This compiles fine for me when I comment the <code>...</code>. So what code are you omitting? That part&#39;s probably the problem."}, {"owner": {"reputation": 3853, "user_id": 2474248, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BDsoE.jpg?s=128&g=1", "display_name": "machine_1", "link": "https://stackoverflow.com/users/2474248/machine-1"}, "edited": false, "score": 0, "creation_date": 1480528053, "post_id": 40892951, "comment_id": 69003666, "body": "&quot;I have to execuse me&quot;??"}, {"owner": {"reputation": 1103, "user_id": 5987899, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c5cc248e55c258a3dc58c390512c53e1?s=128&d=identicon&r=PG&f=1", "display_name": "jam", "link": "https://stackoverflow.com/users/5987899/jam"}, "reply_to_user": {"reputation": 3853, "user_id": 2474248, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BDsoE.jpg?s=128&g=1", "display_name": "machine_1", "link": "https://stackoverflow.com/users/2474248/machine-1"}, "edited": false, "score": 0, "creation_date": 1480528149, "post_id": 40892951, "comment_id": 69003721, "body": "@machine_1 german speaker."}], "answers": [{"comments": [{"owner": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "edited": false, "score": 0, "creation_date": 1480522977, "post_id": 40893176, "comment_id": 69000428, "body": "Well, you still the fastest gun in the west. I wrote the same/identical code ;)"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "reply_to_user": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "edited": false, "score": 1, "creation_date": 1480523067, "post_id": 40893176, "comment_id": 69000488, "body": "@LPs There&#39;s still a merit in posting the answer if you had it written, even if it&#39;s identical. Means there&#39;s two people saying exactly the same thing, which gives the answer(s) more weight :)"}, {"owner": {"reputation": 2445, "user_id": 3476780, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abf771bddcd864626a0e1499ccfc699b?s=128&d=identicon&r=PG&f=1", "display_name": "yano", "link": "https://stackoverflow.com/users/3476780/yano"}, "edited": false, "score": 0, "creation_date": 1480523667, "post_id": 40893176, "comment_id": 69000890, "body": "perhaps a <code>free(result); return 0;</code> for completeness?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480524421, "post_id": 40893176, "comment_id": 69001434, "body": "I&#39;ll accept that use of <code>void **</code> is highly questionable, but &quot;<code>void</code> pointers in general is something you should avoid&quot; seems overly broad.  Indeed, one cannot easily avoid all use of <code>void</code> pointers, and you yourself did not do so in your own code, as that&#39;s what <code>malloc()</code> returns.  Consider also the <code>%p</code> field descriptor for <code>printf</code>, comparison functions for use with <code>qsort()</code>, <i>etc</i>.."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480525269, "post_id": 40893176, "comment_id": 69001989, "body": "Also, although this answer provides useful information, it does not respond to the actual question.  It cannot do so, as the premise of the question as currently written is false -- the OP&#39;s code is valid, except for the ellipsis."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480578364, "post_id": 40893176, "comment_id": 69022943, "body": "@JohnBollinger Yes the standard C library is very flawed and irrationally written, but we just have to suck it up, it won&#39;t get fixed. That doesn&#39;t mean you should run off to write your own code in a similar way. The <code>qsort</code> function is an exception: the use of void pointers is justified there."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480578880, "post_id": 40893176, "comment_id": 69023190, "body": "And it does respond to problem that was to be solved with the code in the question. The OP used the wrong solution to solve the problem. It is then our responsibility to point this out and provide the correct solution, not to help him fix his wrong solution. <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">What is the XY problem?</a>"}], "tags": [], "owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "is_accepted": true, "score": 3, "last_activity_date": 1480522747, "creation_date": 1480522747, "answer_id": 40893176, "question_id": 40892951, "link": "https://stackoverflow.com/questions/40892951/how-to-assign-a-void-array-return-value-of-a-function-to-a-variable/40893176#40893176", "title": "How to assign a void** array (return value of a function) to a variable?", "body": "<p>If you come up with the need to use a <code>void**</code>, it is a strong indication of poor program design. Just forget about this idea. <code>void</code> pointers in general is something you should avoid. </p>\n\n<p>What you actually want to do seems to be something like this:</p>\n\n<pre><code>typedef struct\n{\n  int i;\n  char c;\n} something_t;\n\nsomething_t* foo (void)\n{\n  something_t* result = malloc (sizeof(*result));\n  ...\n  return result;\n}\n\nint main(int argc, char* argv[]){\n  something_t* result = foo();\n  int* val1 = &amp;result-&gt;i;\n  char* val2 = &amp;result-&gt;c;\n}\n</code></pre>\n\n<p>If the struct members need to be pointers, simply change the struct.</p>\n"}, {"comments": [{"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480525348, "post_id": 40893478, "comment_id": 69002038, "body": "Good recommendation, but it doesn&#39;t respond directly to the OP&#39;s &quot;Why doesn&#39;t this compile?&quot; question."}], "tags": [], "owner": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "is_accepted": false, "score": 1, "last_activity_date": 1480523564, "creation_date": 1480523564, "answer_id": 40893478, "question_id": 40892951, "link": "https://stackoverflow.com/questions/40892951/how-to-assign-a-void-array-return-value-of-a-function-to-a-variable/40893478#40893478", "title": "How to assign a void** array (return value of a function) to a variable?", "body": "<p>You should use structure to do your job</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n#define STRING_WIDTH 32\n\nstruct test\n{\n    int val1;\n    char *val2;\n};\n\nstruct test *foo(void)\n{\n    struct test *bar = malloc(sizeof(struct test));\n\n    if (bar != NULL)\n    {\n        bar-&gt;val1 = 0;\n        bar-&gt;val2 = calloc (STRING_WIDTH, 1);\n\n        if (bar-&gt;val2 == NULL)\n            return NULL;\n    }\n\n    return bar;\n}\n\n\nint main( void )\n{\n    struct test *result = foo();\n\n    if (result != NULL)\n    {\n        // USE YOUR STRUCT\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Take note that <code>malloc</code>ated memory must be <code>free</code>d</p>\n"}], "owner": {"reputation": 1103, "user_id": 5987899, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c5cc248e55c258a3dc58c390512c53e1?s=128&d=identicon&r=PG&f=1", "display_name": "jam", "link": "https://stackoverflow.com/users/5987899/jam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 40893176, "answer_count": 2, "score": -3, "last_activity_date": 1480592454, "creation_date": 1480522090, "last_edit_date": 1480528111, "question_id": 40892951, "link": "https://stackoverflow.com/questions/40892951/how-to-assign-a-void-array-return-value-of-a-function-to-a-variable", "title": "How to assign a void** array (return value of a function) to a variable?", "body": "<p>Needed: A function which returns two different values (int,str)</p>\n\n<p>So foo calculates smth. and stores the addresses of the two values\nin the return array.</p>\n\n<p>Now I want to read the values back into variables of these types.</p>\n\n<pre><code>void** foo(){\n    void** bar = malloc(2 * sizeof(void*));\n    ...\n    return bar;\n}\n\n\nint main(int argc, char* argv[]){\n    void** result = foo();\n    int* val1 = (int*)result[0];\n    char* val2 = (char*)result[1];\n}\n</code></pre>\n\n<p>This snippet is not compiling.</p>\n\n<h2>Excuse me:</h2>\n\n<p>the problem was not the code but that I declared it in a case branch\nwithout any compution instructions.</p>\n\n<pre><code>int main(int argc, char* argv[]){\n    switch(xyz){\n      case a:\n        void** result = foo();\n        int* val1 = (int*)result[0];\n        char* val2 = (char*)result[1];\n      break;\n    }\n}\n</code></pre>\n\n<p>Which seems not to make sense in a case.</p>\n\n<p>Thanks though.</p>\n"}, {"tags": ["c", "process", "pipe", "fork"], "comments": [{"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "edited": false, "score": 0, "creation_date": 1480522294, "post_id": 40892753, "comment_id": 68999934, "body": "You need buf[5] i think, assuming int is 4 byte long in your machine."}], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 5790802, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6ddf496b81a77764925c5d47101e65fd?s=128&d=identicon&r=PG&f=1", "display_name": "Luki", "link": "https://stackoverflow.com/users/5790802/luki"}, "edited": false, "score": 0, "creation_date": 1480522742, "post_id": 40893086, "comment_id": 69000278, "body": "sorry I edited the code... I ment close(pipe3[1]).. So I shouldn&#39;t close pipes before switch case and in every if statement I need _exit(0) at the end?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 347, "user_id": 5790802, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6ddf496b81a77764925c5d47101e65fd?s=128&d=identicon&r=PG&f=1", "display_name": "Luki", "link": "https://stackoverflow.com/users/5790802/luki"}, "edited": false, "score": 0, "creation_date": 1480522942, "post_id": 40893086, "comment_id": 69000397, "body": "@Luki, The parent should not close its copy of any pipe end before forking all children that need to use that pipe end.  Avoiding all closures until after the loop would be a simple way to accomplish that.  You do need to ensure that each child exits when it has completed its intended work; putting an <code>_exit(0)</code> in each one&#39;s <code>if</code> block would be one way to accomplish that."}, {"owner": {"reputation": 347, "user_id": 5790802, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6ddf496b81a77764925c5d47101e65fd?s=128&d=identicon&r=PG&f=1", "display_name": "Luki", "link": "https://stackoverflow.com/users/5790802/luki"}, "edited": false, "score": 0, "creation_date": 1480523324, "post_id": 40893086, "comment_id": 69000668, "body": "I have solved it :) Thank you for a very clear answer."}, {"owner": {"reputation": 107, "user_id": 3917820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d06e07252c080264e0f44b35bf770b6?s=128&d=identicon&r=PG&f=1", "display_name": "shamba", "link": "https://stackoverflow.com/users/3917820/shamba"}, "edited": false, "score": 0, "creation_date": 1480528850, "post_id": 40893086, "comment_id": 69004158, "body": "I don&#39;t understand how your code works even after all comments ans answers you received, you never write in pipe3 (the if case j == 2 is missing)"}], "tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": true, "score": 2, "last_activity_date": 1480522486, "creation_date": 1480522486, "answer_id": 40893086, "question_id": 40892753, "link": "https://stackoverflow.com/questions/40892753/using-pipes-to-pass-data-between-child-processes-in-c/40893086#40893086", "title": "Using pipes to pass data between child processes in C", "body": "<p>What do you think happens when one of your child processes executes the <code>break</code> statement in the code you presented?  Hint: it doesn't exit.</p>\n\n<p>Additionally, I'm doubtful that your pipes can work quite like that.  You close the write ends of two of them (one of those twice) <em>before</em> forking any children.  Those will not magically be reopened for the children, so their whole pipes are useless.</p>\n"}], "owner": {"reputation": 347, "user_id": 5790802, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6ddf496b81a77764925c5d47101e65fd?s=128&d=identicon&r=PG&f=1", "display_name": "Luki", "link": "https://stackoverflow.com/users/5790802/luki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 40893086, "answer_count": 1, "score": 0, "last_activity_date": 1480522614, "creation_date": 1480521521, "last_edit_date": 1480522614, "question_id": 40892753, "link": "https://stackoverflow.com/questions/40892753/using-pipes-to-pass-data-between-child-processes-in-c", "title": "Using pipes to pass data between child processes in C", "body": "<p>My homework task is to write a C program that creates 4 child processes and each child has to do something with an integer number and send it to the next child that does something else with it and the last one has to print the changed value. I have to use anonymous pipes to communicate between children. Parent process has no other work than to open pipes for children. I have written the program, but the problem is I get funny output when I try to print the number using the last child. It prints out 8 numbers instead of one (actually one of them is the right one). The part of code is following:</p>\n\n<pre><code>int pipe1[2];\nint pipe2[2];\nint pipe3[2];\npipe(pipe1);\npipe(pipe2);\npipe(pipe3);\n\nint j;\n\nclose(pipe1[1]);   //close pipes for writing on parent process\nclose(pipe2[1]);\nclose(pipe3[1]);\n\nfor (j = 0; j &lt; 4; j++) {\n   switch(fork()) {\n   case 0:\n       if (j == 0) {\n          int value = 100;\n          write(pipe1[1], &amp;value, sizeof(int));\n          close(pipe1[1]);\n       }\n       else if (j == 1) {\n          int value;\n          read(pipe1[0], &amp;value, sizeof(int));\n          close(pipe1[0]);\n          value = value * 10;\n          write(pipe2[1], &amp;value, sizeof(int));\n          close(pipe2[1]);\n       }\n    //and so on until the last process\n       else if (j == 3) {\n          int value;\n          read(pipe3[0], &amp;value, sizeof(int));\n          char buf[4] = {0};\n          memset(buf, 0, sizeof(buf));\n          snprintf(buf, sizeof(value), \"%d \", value);\n          write(1, buf, strlen(buf));\n       }\n       break;\n   }\n}\nclose(pipe1[0]);\nclose(pipe2[0]);\nclose(pipe3[0]);\nsleep(1);\n\nint k;\n\nfor (k = 0; k &lt; 4; k++) {\n   wait(0);\n}\n</code></pre>\n\n<p>What do I have to do for this case, just to get one (and the proper one) output?</p>\n"}, {"tags": ["python", "c"], "comments": [{"owner": {"reputation": 538888, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 2, "creation_date": 1480521096, "post_id": 40892551, "comment_id": 68999085, "body": "No, hex() converts a number to a string containing the hexadecimal representation of that number."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1480521271, "post_id": 40892551, "comment_id": 68999223, "body": "from IDA to Python: nice touch! you just don&#39;t have to use <code>hex</code>, <code>ord</code> is already a number."}], "answers": [{"tags": [], "owner": {"reputation": 7083, "user_id": 4211135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70fd7db022a4fc71ad40335fce1e750e?s=128&d=identicon&r=PG&f=1", "display_name": "brianpck", "link": "https://stackoverflow.com/users/4211135/brianpck"}, "is_accepted": true, "score": 2, "last_activity_date": 1480521605, "creation_date": 1480521605, "answer_id": 40892782, "question_id": 40892551, "link": "https://stackoverflow.com/questions/40892551/syntax-invalid-while-translating-c-code-to-python/40892782#40892782", "title": "syntax invalid while translating C code to Python", "body": "<p>As mentioned, <code>hex</code> returns a string, which obviously does not support bitwise operations like <code>&amp;</code> with a numeric type:</p>\n\n<pre><code>&gt;&gt;&gt; type(hex(3))\n&lt;class 'str'&gt;\n&gt;&gt;&gt; hex(3) &amp; 0xf\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: unsupported operand type(s) for &amp;: 'str' and 'int'\n</code></pre>\n\n<p>The <code>ord</code> function already returns an int, so you can just remove the <code>hex</code> function altogether:</p>\n\n<pre><code>&gt;&gt;&gt; ord('c') &amp; 0xff\n99\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 585, "user_id": 7039091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1228413217190279/picture?type=large", "display_name": "yLaguardia", "link": "https://stackoverflow.com/users/7039091/ylaguardia"}, "is_accepted": false, "score": 2, "last_activity_date": 1480521729, "creation_date": 1480521729, "answer_id": 40892820, "question_id": 40892551, "link": "https://stackoverflow.com/questions/40892551/syntax-invalid-while-translating-c-code-to-python/40892820#40892820", "title": "syntax invalid while translating C code to Python", "body": "<p><code>ord</code> is already an int, you don't need the <code>hex</code>, which returns a string.</p>\n\n<p>And I may be wrong, but this line may give you problems </p>\n\n<pre><code>bstr[v29] = v33 &amp; 0xff\n</code></pre>\n\n<p>You'd need to cast it to string again:  </p>\n\n<pre><code>bstr[v29] = chr(v33 &amp; 0xff)\n</code></pre>\n"}], "owner": {"reputation": 2337, "user_id": 930169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be36a036900e8c4a2d810db772e43280?s=128&d=identicon&r=PG", "display_name": "JACK M", "link": "https://stackoverflow.com/users/930169/jack-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 40892782, "answer_count": 2, "score": 2, "last_activity_date": 1480521729, "creation_date": 1480520923, "question_id": 40892551, "link": "https://stackoverflow.com/questions/40892551/syntax-invalid-while-translating-c-code-to-python", "title": "syntax invalid while translating C code to Python", "body": "<p>I have C snippet(decompiled from IDA) to be translated to Python:</p>\n\n<pre><code>  # v29 = 0;\n  # v30 = -1342924972;\n  # while ( v29 &lt; v62 ) // v62 is length of string to be decoded\n  # {\n  #   v31 = (int *)v60;\n  #   v32 = __ROL4__(v30, 3);\n  #   v33 = *((_BYTE *)v31 + v29) - v29 - v32;\n  #   v34 = (int *)v60;\n  #   *((_BYTE *)v34 + v29) = v33;\n  #   v35 = __ROR4__(v33, 11);\n  #   v36 = __ROL4__(v30, 5);\n  #   v30 = v30 + (v29++ ^ v36 ^ v35) - 1204489519;\n  # }\n\n\ndef decode_msg(dstr, str_len):\n  bstr = list(dstr)\n  v29 = 0\n  v32 = 0\n  v33=0\n  v35=0\n  v30 = -1342924972\n  while(v29 &lt; str_len):\n    v32 = ((v30 &amp; 0xffffffff) &lt;&lt; 3) &amp; 0xffffffff\n    v33 = ((hex(ord(bstr[v29])) &amp; 0xff) - v32) &amp; 0xff\n    bstr[v29] = v33 &amp; 0xff\n    v35 = ((v33 &amp; 0xffffffff) &gt;&gt; 11) &amp; 0xffffffff\n    v36 = ((v30 &amp; 0xffffffff) &lt;&lt; 5) &amp; 0xffffffff\n    v29 = v29 + 1\n    v30 = (v30 &amp; 0xffffffff) + (v29 ^ v36 ^ v35) - 1204489519\n  return ''.join(bstr)\n</code></pre>\n\n<p>C code is in comments. The C code decodes a byte array, v60 is the array. I have error:</p>\n\n<pre><code>v33 = ((hex(ord(bstr[v29])) &amp; 0xff) - v32) &amp; 0xff\nTypeError: unsupported operand type(s) for &amp;: 'str' and 'int' \n</code></pre>\n\n<p>I am totally Python noob. I think <code>hex()</code> converts each item in <code>dstr</code> to a number. So why is it still <code>str</code>?</p>\n"}, {"tags": ["c", "variables", "redefinition", "redefine"], "comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1480520069, "post_id": 40892201, "comment_id": 68998360, "body": "I&#39;ve reformatted and tagged as C since you&#39;re using <code>&lt;stdio.h&gt;</code>. Do retag if it&#39;s C++."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480523295, "post_id": 40892201, "comment_id": 69000650, "body": "&quot; redefinition of &#39;i&#39;&quot;  Well... look at the code. Why do you think it doesn&#39;t work?"}], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 7231592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-pqtvxM0bnQM/AAAAAAAAAAI/AAAAAAAAAFc/BGT7D-FZXDU/photo.jpg?sz=128", "display_name": "Yellowfun", "link": "https://stackoverflow.com/users/7231592/yellowfun"}, "edited": false, "score": 0, "creation_date": 1480520129, "post_id": 40892247, "comment_id": 68998405, "body": "Output is i + j is 465 i + j is 465"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "reply_to_user": {"reputation": 368, "user_id": 7231592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-pqtvxM0bnQM/AAAAAAAAAAI/AAAAAAAAAFc/BGT7D-FZXDU/photo.jpg?sz=128", "display_name": "Yellowfun", "link": "https://stackoverflow.com/users/7231592/yellowfun"}, "edited": false, "score": 1, "creation_date": 1480520177, "post_id": 40892247, "comment_id": 68998448, "body": "That&#39;s because you don&#39;t re-evalute <code>result</code> after changing <code>i</code> and <code>j</code>. I&#39;ve amended the answer."}], "tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": true, "score": 6, "last_activity_date": 1480520243, "last_edit_date": 1480520243, "creation_date": 1480520021, "answer_id": 40892247, "question_id": 40892201, "link": "https://stackoverflow.com/questions/40892201/how-can-i-redefine-variables-in-c/40892247#40892247", "title": "How can I redefine variables in C?", "body": "<p>Replace <code>int i = 100</code> with <code>i = 100</code>.</p>\n\n<p>You are not allowed to redeclare a variable in the same scope in C and C++. But you can set <code>i</code> to a different value, which is what my change does.</p>\n\n<p>Finally, if you want the final output of <code>result</code> to be the sum of the <em>new</em> values of <code>i</code> and <code>j</code>, then you have to recompute. Put <code>result = i + j;</code> just before the <code>printf</code> call.</p>\n"}], "owner": {"reputation": 368, "user_id": 7231592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-pqtvxM0bnQM/AAAAAAAAAAI/AAAAAAAAAFc/BGT7D-FZXDU/photo.jpg?sz=128", "display_name": "Yellowfun", "link": "https://stackoverflow.com/users/7231592/yellowfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4947, "favorite_count": 0, "accepted_answer_id": 40892247, "answer_count": 1, "score": 2, "last_activity_date": 1480520243, "creation_date": 1480519876, "last_edit_date": 1480520040, "question_id": 40892201, "link": "https://stackoverflow.com/questions/40892201/how-can-i-redefine-variables-in-c", "title": "How can I redefine variables in C?", "body": "<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\n    int i = 365, j = 100, result = i + j;\n\n    printf(\"i + j is %i\\n\", result);\n\n    int i = 100, j = 1;\n    printf(\"i + j is %i\\n\", result);\n\n    return 0;\n}\n</code></pre>\n\n<p>9.c:10:10: error: declaration shadows a local variable [-Werror,-Wshadow]\n9.c:8:9: error: redefinition of 'i'</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 97942, "user_id": 25324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c812d568dcbf02b96796728be3cac626?s=128&d=identicon&r=PG", "display_name": "pmg", "link": "https://stackoverflow.com/users/25324/pmg"}, "edited": false, "score": 1, "creation_date": 1480519669, "post_id": 40891898, "comment_id": 68998056, "body": "<code>questionLength</code> looks like a troublesome name for an array."}], "answers": [{"tags": [], "owner": {"reputation": 97942, "user_id": 25324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c812d568dcbf02b96796728be3cac626?s=128&d=identicon&r=PG", "display_name": "pmg", "link": "https://stackoverflow.com/users/25324/pmg"}, "is_accepted": false, "score": 0, "last_activity_date": 1480519293, "creation_date": 1480519293, "answer_id": 40891999, "question_id": 40891898, "link": "https://stackoverflow.com/questions/40891898/stop-reading-from-fgets-if-there-are-too-many-characters/40891999#40891999", "title": "Stop reading from fgets if there are too many characters", "body": "<p>Check if the last character was a newline. If it was, the input is good (you may want to remove the newline), otherwise read all available chars up to and including the next newline (minding read errors,  eof) and repeat.</p>\n\n<pre><code>char questionLength[50];\ntryagain:\nprintf(\"Second can you tell me the question for your answer\\n\");\nfgets(questionLength, 50, stdin);\nsize_t len = strlen(questionLength);\nif (questionLength[len - 1] != '\\n') {\n    int ch;\n    do ch = getchar(); while (ch != '\\n'); /* error checking ommited */\n    goto tryagain;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1480519347, "creation_date": 1480519347, "answer_id": 40892026, "question_id": 40891898, "link": "https://stackoverflow.com/questions/40891898/stop-reading-from-fgets-if-there-are-too-many-characters/40892026#40892026", "title": "Stop reading from fgets if there are too many characters", "body": "<p>You can check if the last character is a newline in <code>questionLength</code> (<code>fgets()</code> will read in the newline if there's room). If so, you know it's less than or equal to 50 chars.\nOtherwise, the input is longer.</p>\n\n<p>When the input is <em>exactly</em> 49 bytes then there won't be a newline. You can work around it by reading one more character (change <code>questionLength</code> size of 51).</p>\n"}, {"tags": [], "owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "is_accepted": false, "score": 0, "last_activity_date": 1480520060, "creation_date": 1480520060, "answer_id": 40892264, "question_id": 40891898, "link": "https://stackoverflow.com/questions/40891898/stop-reading-from-fgets-if-there-are-too-many-characters/40892264#40892264", "title": "Stop reading from fgets if there are too many characters", "body": "<p>You'll know if the whole string was read because it contains a <code>newline</code>. If you want to discard the remainder of any long string, an easy way is to read it all in the first place. If it was read in a single attempt, that's good.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n\n#define STRLEN 50\n\nint main(void) \n{\n    char questionLength[STRLEN+2];          // 1 for newline, 1 for EOS\n    int tries;\n\n    while(1) {\n        tries = 0;\n        printf(\"Second can you tell me the question for your answer\\n\");\n        do {\n            if(fgets(questionLength, sizeof questionLength, stdin) == NULL) {\n                exit(1);\n            }\n            tries++;\n        } while(strchr(questionLength, '\\n') == NULL);\n\n        if(tries == 1) {\n            printf(\"You entered: %s\", questionLength);\n        }\n        else {\n            printf(\"Your entry was too long\\n\");\n        }\n        printf(\"\\n\");\n    }\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5990469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41ec69e2598830cf3339fe28dfce519e?s=128&d=identicon&r=PG", "display_name": "some guy", "link": "https://stackoverflow.com/users/5990469/some-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1421, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1480520137, "creation_date": 1480518952, "last_edit_date": 1480520137, "question_id": 40891898, "link": "https://stackoverflow.com/questions/40891898/stop-reading-from-fgets-if-there-are-too-many-characters", "title": "Stop reading from fgets if there are too many characters", "body": "<p>So i have a char array and using fgets I store the string into my fgets. I want to stop reading and prompt the user to enter the string again with less characters. I do not want the string that was too long to be stored but just to be forgotten.</p>\n\n<pre><code>char questionLength[50];\n  printf(\"Second can you tell me the question for your answer\\n\");\n  fgets(questionLength, 50, stdin);\n</code></pre>\n\n<p>so more than 50 characters are entered, a prompt to ask the user to reenter the string which is then stored if its less than or equal to 50 characters.</p>\n"}, {"tags": ["c", "swift", "pointers", "swift3"], "comments": [{"owner": {"reputation": 834, "user_id": 7131047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a1cf5eb86c98bcf94e80e722fff20e?s=128&d=identicon&r=PG&f=1", "display_name": "Fefux", "link": "https://stackoverflow.com/users/7131047/fefux"}, "edited": false, "score": 0, "creation_date": 1480520402, "post_id": 40891881, "comment_id": 68998608, "body": "Possible duplicate of : <a href=\"http://stackoverflow.com/questions/40569800/how-to-get-value-of-unsafemutablerawpointer\" title=\"how to get value of unsafemutablerawpointer\">stackoverflow.com/questions/40569800/&hellip;</a>"}, {"owner": {"reputation": 106086, "user_id": 15809, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2ULwK.jpg?s=128&g=1", "display_name": "Mecki", "link": "https://stackoverflow.com/users/15809/mecki"}, "reply_to_user": {"reputation": 834, "user_id": 7131047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a1cf5eb86c98bcf94e80e722fff20e?s=128&d=identicon&r=PG&f=1", "display_name": "Fefux", "link": "https://stackoverflow.com/users/7131047/fefux"}, "edited": false, "score": 0, "creation_date": 1480521589, "post_id": 40891881, "comment_id": 68999452, "body": "@Fefux If that&#39;s really a duplicate of that other question, then the answers over there are pretty poor, considering the super elegant solution MartinR has provided ;)"}, {"owner": {"reputation": 834, "user_id": 7131047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a1cf5eb86c98bcf94e80e722fff20e?s=128&d=identicon&r=PG&f=1", "display_name": "Fefux", "link": "https://stackoverflow.com/users/7131047/fefux"}, "edited": false, "score": 0, "creation_date": 1480521881, "post_id": 40891881, "comment_id": 68999644, "body": "Yes, I posted this possible duplicate, but i read answers and they are not really helpful."}], "answers": [{"comments": [{"owner": {"reputation": 106086, "user_id": 15809, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2ULwK.jpg?s=128&g=1", "display_name": "Mecki", "link": "https://stackoverflow.com/users/15809/mecki"}, "edited": false, "score": 0, "creation_date": 1480521127, "post_id": 40892251, "comment_id": 68999109, "body": "Awesome! That really works! :) You don&#39;t even need the <code>if let</code> as <code>bitPattern:</code> actually takes <code>UnsafeMutableRawPointer?</code>"}], "tags": [], "owner": {"reputation": 486140, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "is_accepted": true, "score": 5, "last_activity_date": 1480521332, "last_edit_date": 1480521332, "creation_date": 1480520025, "answer_id": 40892251, "question_id": 40891881, "link": "https://stackoverflow.com/questions/40891881/swift3-converting-raw-pointer-to-int-pointer-itself-being-the-int-value-doesn/40892251#40892251", "title": "Swift3: Converting raw pointer to Int (pointer itself being the int value, doesn&#39;t point anywhere!)", "body": "<p>You can use <code>Int(bitPattern:)</code> to get the pointer value as an\ninteger:</p>\n\n<pre><code>func someFunction ( _ type: Int, _ someData: UnsafeMutableRawPointer? ) -&gt; Void {\n    let value = Int(bitPattern: someData)\n    print(value)\n}\n</code></pre>\n"}], "owner": {"reputation": 106086, "user_id": 15809, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2ULwK.jpg?s=128&g=1", "display_name": "Mecki", "link": "https://stackoverflow.com/users/15809/mecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 1, "accepted_answer_id": 40892251, "answer_count": 1, "score": 4, "last_activity_date": 1480521332, "creation_date": 1480518894, "question_id": 40891881, "link": "https://stackoverflow.com/questions/40891881/swift3-converting-raw-pointer-to-int-pointer-itself-being-the-int-value-doesn", "title": "Swift3: Converting raw pointer to Int (pointer itself being the int value, doesn&#39;t point anywhere!)", "body": "<p>Consider the following code in C:</p>\n\n<pre><code>void someFunction ( int type, void * someData ) {\n    unsigned value = (int)someData;\n}\n</code></pre>\n\n<p>I know this code looks a bit strange but this function is a callback function and the callback function must take a <code>void *</code> argument, as very often <code>someData</code> is in fact a pointer to some memory structure (<code>type</code> would tell me which structure) but in that case it isn't. In that case it is really just an unsigned int value; not a pointer to such a value but the value itself. The caller really calls this function like this:</p>\n\n<pre><code>unsigned value = ...;\ncallbackFunction(type, (void *)value);\n</code></pre>\n\n<p>Yeah, that's stupid and ugly but I haven't written the code and I cannot change it either. I just have to implement the callback. And I would really love to do so in Swift (Swift 3). But in Swift, the callback has to look like this:</p>\n\n<pre><code>func someFunction ( _ type: Int, _ someData: UnsafeMutableRawPointer? ) -&gt; Void\n</code></pre>\n\n<p>And my function is called just fine... but how do I get the numeric pointer value as I need the unsigned int value and pass it on to another function.</p>\n"}, {"tags": ["c", "arrays", "string", "sum"], "comments": [{"owner": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "edited": false, "score": 2, "creation_date": 1480519126, "post_id": 40891659, "comment_id": 68997675, "body": "<code>if (i == &#39;g&#39;) </code> inside loop is totally non sense...."}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "edited": false, "score": 0, "creation_date": 1480520155, "post_id": 40891659, "comment_id": 68998427, "body": "what is t? tonne??"}, {"owner": {"reputation": 257, "user_id": 7231463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00de634f69a0e0ef96b93f978ccc02c?s=128&d=identicon&r=PG&f=1", "display_name": "NoIdea", "link": "https://stackoverflow.com/users/7231463/noidea"}, "edited": false, "score": 0, "creation_date": 1480520372, "post_id": 40891659, "comment_id": 68998584, "body": "Yes, t stands for tons."}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "edited": false, "score": 0, "creation_date": 1480521823, "post_id": 40891659, "comment_id": 68999608, "body": "@NoIdea: Can you give some other example string which you are going to use?"}, {"owner": {"reputation": 257, "user_id": 7231463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00de634f69a0e0ef96b93f978ccc02c?s=128&d=identicon&r=PG&f=1", "display_name": "NoIdea", "link": "https://stackoverflow.com/users/7231463/noidea"}, "edited": false, "score": 0, "creation_date": 1480523646, "post_id": 40891659, "comment_id": 69000876, "body": "it should work with any string of this format: &quot;double, unit&quot;. Here are a few examples: &quot;9, kg, 8, g, 0.2, t, 733, g, 1, t, 17.5, kg&quot; or &quot;0.1, g, 9.7, kg&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "edited": false, "score": 0, "creation_date": 1480521536, "post_id": 40892509, "comment_id": 68999411, "body": "<i>tring that consists of weights and their units <b>such as that one</b>: &quot;10, kg, 500, g, 0.5, t&quot;</i>....your code works only for the proposed example, it isn&#39;t a workable/usable solution..."}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "reply_to_user": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "edited": false, "score": 0, "creation_date": 1480521663, "post_id": 40892509, "comment_id": 68999502, "body": "I assume the question is about the string with weights in that format. Also, I have clearly mentioned it in my answer."}, {"owner": {"reputation": 257, "user_id": 7231463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00de634f69a0e0ef96b93f978ccc02c?s=128&d=identicon&r=PG&f=1", "display_name": "NoIdea", "link": "https://stackoverflow.com/users/7231463/noidea"}, "edited": false, "score": 0, "creation_date": 1480522677, "post_id": 40892509, "comment_id": 69000224, "body": "First of all thank you for the answer. I have to use arrays in this exercise ,though."}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "reply_to_user": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "edited": false, "score": 1, "creation_date": 1480528298, "post_id": 40892509, "comment_id": 69003825, "body": "@LPs: I have a solution (Update3). I think it is not as optimised as yours. But it works."}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "reply_to_user": {"reputation": 257, "user_id": 7231463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00de634f69a0e0ef96b93f978ccc02c?s=128&d=identicon&r=PG&f=1", "display_name": "NoIdea", "link": "https://stackoverflow.com/users/7231463/noidea"}, "edited": false, "score": 0, "creation_date": 1480528736, "post_id": 40892509, "comment_id": 69004086, "body": "@NoIdea: Can you test the function in Update2? Please note String type is not valid in C. You have to use char*."}, {"owner": {"reputation": 257, "user_id": 7231463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00de634f69a0e0ef96b93f978ccc02c?s=128&d=identicon&r=PG&f=1", "display_name": "NoIdea", "link": "https://stackoverflow.com/users/7231463/noidea"}, "edited": false, "score": 0, "creation_date": 1481046726, "post_id": 40892509, "comment_id": 69212360, "body": "Sorry for the late reply. I didn&#39;t have to use stardard C in my last task so I didn&#39;t quiet get what you did there. But now I have a similar task with standard C and your code works perfectly. Thank you very much! I have a question though. Why do you have to use !strcmp with the exclamation mark?"}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "reply_to_user": {"reputation": 257, "user_id": 7231463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00de634f69a0e0ef96b93f978ccc02c?s=128&d=identicon&r=PG&f=1", "display_name": "NoIdea", "link": "https://stackoverflow.com/users/7231463/noidea"}, "edited": false, "score": 0, "creation_date": 1481088822, "post_id": 40892509, "comment_id": 69227966, "body": "@NoIdea: strcmp() compares two strings and return 0 if they are same and a non-zero value if they are different. In C, 0 is considered false and non-zero is considered as true if they are used in a condition statement. Also, &#39;!&#39; is boolean NOT. I wanted to execute something if strings were same. so I used if(!strcmp()), which will be true if strings are same: Read more here: <a href=\"https://www.tutorialspoint.com/c_standard_library/c_function_strcmp.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/c_standard_library/c_function_strcmp.htm</a>"}], "tags": [], "owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "is_accepted": true, "score": 1, "last_activity_date": 1480528877, "last_edit_date": 1480528877, "creation_date": 1480520833, "answer_id": 40892509, "question_id": 40891659, "link": "https://stackoverflow.com/questions/40891659/how-the-sum-of-a-string-array/40892509#40892509", "title": "How the sum of a string array?", "body": "<p>If string format is be fixed you can use sscanf() to read values from it.</p>\n\n<pre><code>double total_weight_kg(String s) {\n    double        kg = 0.0;\n    double        g  = 0.0;\n    double        t  = 0.0;\n\n    //Assuming \"&lt;kg_val&gt;, kg, &lt;g_val&gt;, g, &lt;t_val&gt;, t\" format.\n    sscanf(\"%lf, kg, %lf, g, %lf, t\", &amp;kg, &amp;g, &amp;t);\n\n    kg += (g/1000.0) + (t*1000.0);\n\n    return kg;\n}\n</code></pre>\n\n<p><strong>Update1:</strong>\nI saw <a href=\"https://www.google.co.in/?gws_rd=ssl#q=ton%20to%20tonne\" rel=\"nofollow noreferrer\">this conversion</a>. To be clear in my answer i assumed \"tonne\" and not \"ton\". For \"ton\", you can use this program.</p>\n\n<pre><code>double total_weight_kg(String s) {\n    double        kg = 0.0;\n    double        g  = 0.0;\n    double        t  = 0.0;\n\n    //Assuming \"&lt;kg_val&gt;, kg, &lt;g_val&gt;, g, &lt;t_val&gt;, t\" format.\n    sscanf(\"%lf, kg, %lf, g, %lf, t\", &amp;kg, &amp;g, &amp;t);\n\n    kg += (g/1000.0) + (t*907.185);\n\n    return kg;\n}\n</code></pre>\n\n<p><strong>Update2</strong>\nIf I have to add weights in a string like \"9, kg, 8, g, 0.2, t, 733, g, 1, t, 17.5, kg\" or \"0.1, g, 9.7, kg\", I would use the following program.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n\ndouble total_weight_kg(char* s) \n{\n    double        kg             = 0.0;\n    double        wieght_val     = 0.0; //If you want to use array, make this an array, store value in diff indices and add them at the end.\n    char          wieght_unit[4] = \"\"; //Max string is \"kg,\".\n    char          *str           = s;\n\n\n    while(0 &lt; strlen(str))\n    {\n        sscanf(str, \"%lf, %s,\", &amp;wieght_val, wieght_unit);\n        printf(\"Read: %lf, %s\\n\", wieght_val, wieght_unit);\n\n        if(!strcmp(wieght_unit, \"kg,\") || !strcmp(wieght_unit, \"kg\"))\n            kg += wieght_val;\n        else if(!strcmp(wieght_unit, \"g,\") || !strcmp(wieght_unit, \"g\"))\n            kg += wieght_val / 1000.0;\n        else if(!strcmp(wieght_unit, \"t,\") || !strcmp(wieght_unit, \"t\"))\n            kg += wieght_val * 1000.0; //OR 907.185\n\n        //Update string pointer.\n        str = strstr(str, wieght_unit);\n        str += strlen(wieght_unit);\n\n        //Resetting values.\n        strcpy( wieght_unit, \"\");\n        wieght_val = 0.0;\n    }\n\n    return kg;\n}\n\nint main() {\n\n    printf(\"Weight is %lf kg\\n\", total_weight_kg(\"9, kg, 8, g, 0.2, t, 733, g, 1, t, 17.5, kg\"));\n\n    return 1;\n} \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Read: 9.000000, kg,                                                                                                                             \nRead: 8.000000, g,                                                                                                                              \nRead: 0.200000, t,                                                                                                                              \nRead: 733.000000, g,                                                                                                                            \nRead: 1.000000, t,                                                                                                                              \nRead: 17.500000, kg                                                                                                                             \nWeight is 1227.241000 kg \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "reply_to_user": {"reputation": 257, "user_id": 7231463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00de634f69a0e0ef96b93f978ccc02c?s=128&d=identicon&r=PG&f=1", "display_name": "NoIdea", "link": "https://stackoverflow.com/users/7231463/noidea"}, "edited": false, "score": 0, "creation_date": 1480528976, "post_id": 40892513, "comment_id": 69004223, "body": "<i>doesn&#39;t work</i> doesn&#39;t give&#236; me information: WhatsApp wrong?"}], "tags": [], "owner": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "is_accepted": false, "score": 0, "last_activity_date": 1480520838, "creation_date": 1480520838, "answer_id": 40892513, "question_id": 40891659, "link": "https://stackoverflow.com/questions/40891659/how-the-sum-of-a-string-array/40892513#40892513", "title": "How the sum of a string array?", "body": "<p>Looking at <a href=\"http://hci.uni-hannover.de/files/prog1lib/string__array_8h.html#afce905269828bedb2e4daffe1c0ad10d\" rel=\"nofollow noreferrer\">the man of used library</a>, something like the following code should work.</p>\n\n<pre><code>for (int i = 0; i &lt; n; i++) \n{   \n   if ((i%2) != 0)\n   {\n      if (strcmp(sa_get(w,i), \"g\") == 0) \n      {\n         gram += get(double, w, i - 1);\n      }\n   } \n}\n</code></pre>\n\n<p><strong>CODE IS NOT TESTED</strong></p>\n"}], "owner": {"reputation": 257, "user_id": 7231463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00de634f69a0e0ef96b93f978ccc02c?s=128&d=identicon&r=PG&f=1", "display_name": "NoIdea", "link": "https://stackoverflow.com/users/7231463/noidea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 40892509, "answer_count": 2, "score": -2, "last_activity_date": 1480528877, "creation_date": 1480518283, "last_edit_date": 1480520466, "question_id": 40891659, "link": "https://stackoverflow.com/questions/40891659/how-the-sum-of-a-string-array", "title": "How the sum of a string array?", "body": "<p>I need to write a program that can compute a string that consists of weights and their units such as that one: \"10, kg, 500, g, 0.5, t\" into the total sum of the weights. It has to convert the different weights into kilograms first, though. This is what i got so far for converting the grams but it doesn't work. I am using C.</p>\n\n<pre><code>double total_weight_kg(String s) {         \n    Array a = sa_of_string(s);\n    Array w = da_of_string(s);\n    double gram = 0;\n    int n = a_length(a);     \n    for (int i = 0; i &lt; n; i++) {       \n        if (i == 'g') {\n            gram += get(double, w, i = i - 1);\n        }\n    }\n    return gram * 0.001;\n }\n</code></pre>\n"}, {"tags": ["c", "if-statement", "conditional"], "comments": [{"owner": {"reputation": 38863, "user_id": 2415822, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zxy7G.jpg?s=128&g=1", "display_name": "JAL", "link": "https://stackoverflow.com/users/2415822/jal"}, "edited": false, "score": 2, "creation_date": 1480518222, "post_id": 40891581, "comment_id": 68996996, "body": "You return before <code>raise_error</code> is called (if <code>someconditions</code> is true).  The control flow leaves the function."}, {"owner": {"reputation": 770, "user_id": 3960650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71715843217569b290f0980cd7b72da?s=128&d=identicon&r=PG&f=1", "display_name": "DejaVuSansMono", "link": "https://stackoverflow.com/users/3960650/dejavusansmono"}, "edited": false, "score": 0, "creation_date": 1480518233, "post_id": 40891581, "comment_id": 68997009, "body": "Because of the return, it breaks out of the method before reaching the error if the if is met. So that is the behavior you would notice. For clarity however, if you want that error based on the if, put it in an else."}, {"owner": {"reputation": 303, "user_id": 3533800, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f653249d58dc703698638fef36c3943b?s=128&d=identicon&r=PG&f=1", "display_name": "Ozeta", "link": "https://stackoverflow.com/users/3533800/ozeta"}, "edited": false, "score": 0, "creation_date": 1480518286, "post_id": 40891581, "comment_id": 68997062, "body": "in this case, if someconditions is verified, then the function returns 1 so the function exits and the rest of the code (raise_error) isn&#39;t executed"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1480518315, "post_id": 40891581, "comment_id": 68997079, "body": "What makes you think the code <b>after</b> the <code>if</code> <b>statement</b> is in anyway affected by the statement before it?? And why the <code>return</code> is not executed? We are no tutoring site. What <b>specifically</b> in your C book and online resources you can very easily find about both statements do you not understand?"}, {"owner": {"reputation": 149, "user_id": 2168419, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/c9s8w.jpg?s=128&g=1", "display_name": "noodlesegg", "link": "https://stackoverflow.com/users/2168419/noodlesegg"}, "edited": false, "score": 0, "creation_date": 1480518393, "post_id": 40891581, "comment_id": 68997134, "body": "before it will reach the <code>return 0</code> <code>raise_error</code> will be executed first. But I think no need for the other person to answer this question just run the code and see it for yourself. :)"}, {"owner": {"reputation": 8660, "user_id": 5749570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d2d0247d580de0aae4511d84551f10?s=128&d=identicon&r=PG&f=1", "display_name": "VHS", "link": "https://stackoverflow.com/users/5749570/vhs"}, "edited": false, "score": 0, "creation_date": 1480518492, "post_id": 40891581, "comment_id": 68997206, "body": "In general, you don&#39;t want to use too many <code>return</code> statements in your code.  It is not considered good coding practice. You should use <code>if-else</code> statement for your purpose. To answer your question, yes the above code snippet will in effect work the same way as <code>if-else</code>."}, {"owner": {"reputation": 71, "user_id": 7231480, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/91348ab660b7bcca80facfdf0fcf3d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher M.", "link": "https://stackoverflow.com/users/7231480/christopher-m"}, "reply_to_user": {"reputation": 303, "user_id": 3533800, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f653249d58dc703698638fef36c3943b?s=128&d=identicon&r=PG&f=1", "display_name": "Ozeta", "link": "https://stackoverflow.com/users/3533800/ozeta"}, "edited": false, "score": 0, "creation_date": 1480518508, "post_id": 40891581, "comment_id": 68997216, "body": "@Ozeta buf if it is not verified? what happen there? does it go to the raise_error?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 8660, "user_id": 5749570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d2d0247d580de0aae4511d84551f10?s=128&d=identicon&r=PG&f=1", "display_name": "VHS", "link": "https://stackoverflow.com/users/5749570/vhs"}, "edited": false, "score": 0, "creation_date": 1480518630, "post_id": 40891581, "comment_id": 68997319, "body": "@VHS: This is a disputable position. There are coding styles which use such structure like filters for parameters and value errors instead of a bunch of nested conditionals and possibly <code>bool</code> helper-flags or <code>goto</code> constructs."}, {"owner": {"reputation": 303, "user_id": 3533800, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f653249d58dc703698638fef36c3943b?s=128&d=identicon&r=PG&f=1", "display_name": "Ozeta", "link": "https://stackoverflow.com/users/3533800/ozeta"}, "edited": false, "score": 0, "creation_date": 1480600236, "post_id": 40891581, "comment_id": 69036788, "body": "@ChristopherM. yes of course. it executes raise_error(&quot;error happened&quot;), then goes back to afunction(somevariables) and then returns 0"}], "answers": [{"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1480518466, "creation_date": 1480518466, "answer_id": 40891717, "question_id": 40891581, "link": "https://stackoverflow.com/questions/40891581/c-if-structure/40891717#40891717", "title": "C &quot;if&quot; structure", "body": "<blockquote>\n  <p>if the <code>if</code> statement isn't met (success), then it will go to the <code>raise_error</code>?</p>\n</blockquote>\n\n<p>Yes. When <code>if</code> condition is not met, the control is passed to <code>else</code> branch if it exists; otherwise, the entire <code>if</code> statement is skipped.</p>\n\n<blockquote>\n  <p>in other words, does the <code>raise_errors</code> position act like if it was in a else statement?</p>\n</blockquote>\n\n<p>In this case, the answer is \"yes\", but only because your <code>if</code> branch is structured in a way that terminates the function due to <code>return</code> statement at the end.</p>\n\n<p>Without that <code>return</code> at the end the control would go to <code>raise_error</code> upon completion of the <code>if</code> branch.</p>\n"}, {"tags": [], "owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1480518480, "creation_date": 1480518480, "answer_id": 40891727, "question_id": 40891581, "link": "https://stackoverflow.com/questions/40891581/c-if-structure/40891727#40891727", "title": "C &quot;if&quot; structure", "body": "<blockquote>\n  <p>in other words,does the raise_errors position act like if it was in a else statement</p>\n</blockquote>\n\n<p>Yes. Unless <code>raise_error()</code> does something that exits process, the <code>return 0</code> will be executed aferwards.</p>\n\n<blockquote>\n  <p>Basically im confused on how to make a propre if condition--if this condition isnt meet--then call raise_error.</p>\n</blockquote>\n\n<p>The code is fine. But if it makes it easier to understand then you can use an <code>else</code> clause too.\nYour code is functionally equivalent to:</p>\n\n<pre><code> int afunction(somevariables)\n    {\n    if (someconditions) {\n         do some stuff\n         return 1;\n        }\n    else {\n        raise_error(\"error happened\")\n        return 0;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 5244029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4hYZz.png?s=128&g=1", "display_name": "hhafeez", "link": "https://stackoverflow.com/users/5244029/hhafeez"}, "is_accepted": false, "score": 0, "last_activity_date": 1480518554, "creation_date": 1480518554, "answer_id": 40891761, "question_id": 40891581, "link": "https://stackoverflow.com/questions/40891581/c-if-structure/40891761#40891761", "title": "C &quot;if&quot; structure", "body": "<p>The code or line that is not under some condition will always be executed unless you get out of the code before getting to that unconditional line. You don't need else in this case since you return 1 and does not execute remaining lines </p>\n"}], "owner": {"reputation": 71, "user_id": 7231480, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/91348ab660b7bcca80facfdf0fcf3d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher M.", "link": "https://stackoverflow.com/users/7231480/christopher-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1480518554, "creation_date": 1480518096, "question_id": 40891581, "link": "https://stackoverflow.com/questions/40891581/c-if-structure", "title": "C &quot;if&quot; structure", "body": "<p>I am learning C and my question might be silly but im confused.In a function like:</p>\n\n<pre><code>  int afunction(somevariables)\n    {\n        if (someconditions)\n        {\n         do some stuff\n         return 1;\n        }\n        raise_error(\"error happened\")\n        return 0;\n    }\n</code></pre>\n\n<p>My question is,if the if statement isnt meeted(success),then it will go to the raise_error ? in other words,does the raise_errors position act like if it was in a else statement,or its because you have to return something at the end(return 0)?or would it need a proper else statement?Basically im confused on how to make a propre if condition--if this condition isnt meet--then call raise_error.</p>\n\n<p>thank you!</p>\n"}, {"tags": ["c", "sockets", "server", "port"], "comments": [{"owner": {"reputation": 2048, "user_id": 4961259, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9b82c25cbde4d52888e6eccc44764b80?s=128&d=identicon&r=PG&f=1", "display_name": "Kami Kaze", "link": "https://stackoverflow.com/users/4961259/kami-kaze"}, "edited": false, "score": 0, "creation_date": 1480517139, "post_id": 40891207, "comment_id": 68996194, "body": "how about <code>close()</code> <a href=\"https://linux.die.net/man/7/socket\" rel=\"nofollow noreferrer\">linux.die.net/man/7/socket</a>"}, {"owner": {"reputation": 406, "user_id": 6422468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d8622bb1b203d0548d5938c30588f8c?s=128&d=identicon&r=PG&f=1", "display_name": "Hardik Sanghvi", "link": "https://stackoverflow.com/users/6422468/hardik-sanghvi"}, "edited": false, "score": 0, "creation_date": 1480517177, "post_id": 40891207, "comment_id": 68996223, "body": "wait for 5-10 mins and run the program again.."}, {"owner": {"reputation": 211, "user_id": 7187819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f73fef38d30e091a89a2b26ed1c5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Razin", "link": "https://stackoverflow.com/users/7187819/razin"}, "reply_to_user": {"reputation": 2048, "user_id": 4961259, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9b82c25cbde4d52888e6eccc44764b80?s=128&d=identicon&r=PG&f=1", "display_name": "Kami Kaze", "link": "https://stackoverflow.com/users/4961259/kami-kaze"}, "edited": false, "score": 0, "creation_date": 1480517311, "post_id": 40891207, "comment_id": 68996312, "body": "@KamiKaze I already have <code>close()</code> in my program but when I terminate program using ctrl^c, <code>close()</code> is not helpful."}, {"owner": {"reputation": 2048, "user_id": 4961259, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9b82c25cbde4d52888e6eccc44764b80?s=128&d=identicon&r=PG&f=1", "display_name": "Kami Kaze", "link": "https://stackoverflow.com/users/4961259/kami-kaze"}, "edited": false, "score": 0, "creation_date": 1480517369, "post_id": 40891207, "comment_id": 68996361, "body": "restart your machine or wait for some time."}, {"owner": {"reputation": 211, "user_id": 7187819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f73fef38d30e091a89a2b26ed1c5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Razin", "link": "https://stackoverflow.com/users/7187819/razin"}, "edited": false, "score": 0, "creation_date": 1480517733, "post_id": 40891207, "comment_id": 68996613, "body": "Waiting for some time does help"}], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 7187819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f73fef38d30e091a89a2b26ed1c5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Razin", "link": "https://stackoverflow.com/users/7187819/razin"}, "edited": false, "score": 0, "creation_date": 1480518298, "post_id": 40891367, "comment_id": 68997068, "body": "I tried to kill the process that binds the port but it doesn&#39;t work. I still have to wait for few minutes to reuse the port."}], "tags": [], "owner": {"reputation": 51929, "user_id": 1084774, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/13403db744d8aa130bb317576cc1df30?s=128&d=identicon&r=PG", "display_name": "PSkocik", "link": "https://stackoverflow.com/users/1084774/pskocik"}, "is_accepted": true, "score": 3, "last_activity_date": 1480517491, "creation_date": 1480517491, "answer_id": 40891367, "question_id": 40891207, "link": "https://stackoverflow.com/questions/40891207/how-to-reuse-port-in-socket-server-application/40891367#40891367", "title": "How to reuse port in socket server application?", "body": "<p>Kill the process that binds the port:</p>\n\n<pre><code> fuser -TERM 80/tcp #kills processes on tcp port 80 using signal SIGTERM\n</code></pre>\n\n<p>and start again. </p>\n\n<p>TCP sockets normally aren't reusable for a while (a few minutes), unless they had the <code>SO_REUSEADDR</code> option set (with <code>setsockopt</code>) before they were bound.</p>\n\n<p>(This option somewhat decreases robustness, but should be fairly safe to use in a testing environment.)</p>\n"}], "owner": {"reputation": 211, "user_id": 7187819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f73fef38d30e091a89a2b26ed1c5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Razin", "link": "https://stackoverflow.com/users/7187819/razin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1700, "favorite_count": 1, "closed_date": 1480518367, "accepted_answer_id": 40891367, "answer_count": 1, "score": 1, "last_activity_date": 1480517491, "creation_date": 1480516983, "question_id": 40891207, "link": "https://stackoverflow.com/questions/40891207/how-to-reuse-port-in-socket-server-application", "closed_reason": "Duplicate", "title": "How to reuse port in socket server application?", "body": "<p>I am trying to write a basic server socket program. I use the following code to bind the server socket.</p>\n\n<pre><code>/* Bind the server socket */\nif (bind(serversock, (struct sockaddr *) &amp;server, sizeof(server)) &lt; 0)\n{\n    perror(\"Failed to bind the server socket\");\n    exit(1);\n}\n</code></pre>\n\n<p>When I run the program for the first time, it works fine but when I run it the second time, I get this error: </p>\n\n<p><a href=\"https://i.stack.imgur.com/ZlVHD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZlVHD.jpg\" alt=\"error\"></a></p>\n\n<p>I think when I run the program second time, it gives this error because the port was already linked to program which I run the first time. Can someone tell me how to close the port currently in use? Or suggest me something else which can solve this error.</p>\n"}, {"tags": ["c", "multithreading", "semaphore", "race-condition"], "comments": [{"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 2, "creation_date": 1480516163, "post_id": 40890842, "comment_id": 68995484, "body": "Why do you create a new thread and immediately join it? It doesn&#39;t make sense."}, {"owner": {"reputation": 1154, "user_id": 5511084, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/ypNzt.jpg?s=128&g=1", "display_name": "Berkin Akayd\u0131n", "link": "https://stackoverflow.com/users/5511084/berkin-akayd%c4%b1n"}, "reply_to_user": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480516290, "post_id": 40890842, "comment_id": 68995575, "body": "I think that pthread_join function returns the value of the thread. In ptread_create function goes there and does its job than returns it(pthread_exit).I can read phtread_exit with pthread_join, am i wrong :("}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480516572, "post_id": 40890842, "comment_id": 68995780, "body": "But when one thread joins another, the former waits for the latter to complete.  If the former is not going to perform any work at all in parallel with the latter, then it might as well have performed the latter thread&#39;s work directly."}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480516576, "post_id": 40890842, "comment_id": 68995785, "body": "It waits until the thread finishes, so it&#39;s pointless to create a thread and then wait for it immediately, it would be better to call the function directly."}, {"owner": {"reputation": 1154, "user_id": 5511084, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/ypNzt.jpg?s=128&g=1", "display_name": "Berkin Akayd\u0131n", "link": "https://stackoverflow.com/users/5511084/berkin-akayd%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1480516958, "post_id": 40890842, "comment_id": 68996055, "body": "But i have to use threads. I can send the functions by using .h libraries but how can i do that by using threads"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480517417, "post_id": 40890842, "comment_id": 68996392, "body": "So track the thread IDs as you create the threads, and join all of them later, some time after creating the last of them."}, {"owner": {"reputation": 1154, "user_id": 5511084, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/ypNzt.jpg?s=128&g=1", "display_name": "Berkin Akayd\u0131n", "link": "https://stackoverflow.com/users/5511084/berkin-akayd%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1480517572, "post_id": 40890842, "comment_id": 68996496, "body": "Wow, it means i have to use a thread array? I will try it, thank you"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480517575, "post_id": 40890842, "comment_id": 68996500, "body": "Or if possible, change <i>how</i> you use threads.  Threads have non-trivial overhead, so they are not well suited for microtasks such as you are making yours perform.  You might, for instance, create a single thread that generates brides and a single one that generates grooms, plus one other to perform marriages (or use the main thread for the last)."}], "answers": [{"comments": [{"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480516901, "post_id": 40891064, "comment_id": 68996017, "body": "It&#39;s not just about ordering.  Semaphores, when used appropriately, also ensure that each thread sees the effects of the others&#39; writes.  The fact that threads might <i>not</i> see each others&#39; writes without some form of synchronization is one of the more common things that cause people trouble with threads."}, {"owner": {"reputation": 1154, "user_id": 5511084, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/ypNzt.jpg?s=128&g=1", "display_name": "Berkin Akayd\u0131n", "link": "https://stackoverflow.com/users/5511084/berkin-akayd%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1480516908, "post_id": 40891064, "comment_id": 68996023, "body": "Thank you for your reply. I use registrar semaphore because i have 2 registrars in this case. One of it does marriable, registrarCount--;  But i think that there is a problem while im using threads :( I know that, one thread can execute one function. Am i wrong? Im opening two threads for increase and decrease for that purpose :) Our teachers said that bride and grooms must be a thread and im trying to do these operations by using threads"}, {"owner": {"reputation": 2048, "user_id": 4961259, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9b82c25cbde4d52888e6eccc44764b80?s=128&d=identicon&r=PG&f=1", "display_name": "Kami Kaze", "link": "https://stackoverflow.com/users/4961259/kami-kaze"}, "edited": false, "score": 2, "creation_date": 1480516914, "post_id": 40891064, "comment_id": 68996029, "body": "Mutex are also a (maybe easier) possibilty."}, {"owner": {"reputation": 1154, "user_id": 5511084, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/ypNzt.jpg?s=128&g=1", "display_name": "Berkin Akayd\u0131n", "link": "https://stackoverflow.com/users/5511084/berkin-akayd%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1480517257, "post_id": 40891064, "comment_id": 68996266, "body": "I changed binary semaphores to mutex as you said. But my problem seems in the thread part i guess"}], "tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 2, "last_activity_date": 1480516545, "creation_date": 1480516545, "answer_id": 40891064, "question_id": 40890842, "link": "https://stackoverflow.com/questions/40890842/changing-a-value-in-mulithread-programming/40891064#40891064", "title": "Changing A Value in Mulithread Programming", "body": "<p>Semaphores are used to make sure only one of the threads that might make a particular change does so at a time.  The things being changed in this case are the bride and groom counts, so you need to \"protect\" them using semaphores.  You even seem to have created semaphores for this purpose (<code>brideSemaphore</code> and <code>groomSemaphore</code>); you just need to use them.</p>\n\n<p>By the way: if you use a semaphore only in a single thread, you're wasting your time (as seems to be the case w/ your <code>registrarSemaphore</code>) in <code>marriage()</code>).  Either it needs to be used elsewhere as well, or not at all.</p>\n"}], "owner": {"reputation": 1154, "user_id": 5511084, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/ypNzt.jpg?s=128&g=1", "display_name": "Berkin Akayd\u0131n", "link": "https://stackoverflow.com/users/5511084/berkin-akayd%c4%b1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480517137, "creation_date": 1480515976, "last_edit_date": 1480517137, "question_id": 40890842, "link": "https://stackoverflow.com/questions/40890842/changing-a-value-in-mulithread-programming", "title": "Changing A Value in Mulithread Programming", "body": "<p>I have a project about marriage operations. In this program, a thread called registrar uses marriage function. In this marriage operations, we have brides and grooms. Marriage function does decrease bride count and groom count one by one. But i have a problem while i want to decrease these count. </p>\n\n<blockquote>\n  <h1>MAIN.c</h1>\n</blockquote>\n\n<pre><code>#include&lt;pthread.h&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;stdio.h&gt;\n#include&lt;semaphore.h&gt;\n#include \"bride.h\"\n#include \"groom.h\"\n\npthread_t groomThread;\npthread_t brideThread;\nsem_t registrarSemaphore;\npthread_mutex_t lock;\n\nint *groomCount = 14;\nint *brideCount = 20;\nint *availableRegistrar;\n\nvoid createBride(int *brideCount) {\n    pthread_create(&amp;brideThread, NULL, &amp;increaseBrideCount, (void *) brideCount);\n}\n\nvoid createGroom(int *groomCount) {\n    pthread_create(&amp;groomThread, NULL, &amp;increaseGroomCount, (void *) groomCount);\n}\n\nvoid deleteGroom(int *groomCount) {\n    pthread_create(&amp;groomThread, NULL, &amp;decreaseGroomCount, (void *) groomCount);\n}\n\nvoid deleteBride(int *brideCount) {\n    pthread_create(&amp;brideThread, NULL, &amp;decreaseBrideCount, (void *) brideCount);\n}\n\n\nvoid marriage() {\n    sem_init(&amp;registrarSemaphore, 0, 2);\n\n    while (1) {\n        sem_getvalue(&amp;registrarSemaphore, &amp;availableRegistrar);\n\n        printf(\"\\nAvailable Registrar Number = %d\\n\", availableRegistrar);\n\n        printf(\"bride %d\\n\", brideCount);\n        printf(\"groom %d\\n\", groomCount);\n\n        if (brideCount &gt; 0 &amp;&amp; groomCount &gt; 0) {\n            sem_wait(&amp;registrarSemaphore);\n            sem_getvalue(&amp;registrarSemaphore, &amp;availableRegistrar);\n            printf(\"Available Registrar %d \\n\", availableRegistrar);\n\n            printf(\"Marriage Bride %d and Groom %d \\n\", brideCount, groomCount);\n            pthread_mutex_lock(&amp;lock);\n            deleteBride(brideCount);\n            pthread_mutex_unlock(&amp;lock);\n            //pthread_join(brideThread, &amp;brideCount);\n            pthread_mutex_lock(&amp;lock);\n            deleteGroom(groomCount);\n            pthread_mutex_unlock(&amp;lock);\n            //pthread_join(groomThread, &amp;groomCount);\n            printf(\"Exiting critical region...\\n\\n\");\n            /* END CRITICAL REGION */\n            sem_post(&amp;registrarSemaphore);\n        }\n\n\n        int random = rand() % 100;\n        if (random % 7 &gt; 4) {\n            printf(\"Bride Created\\n\");\n            pthread_mutex_lock(&amp;lock);\n            createBride(brideCount);\n            //pthread_join(brideThread, &amp;brideCount);\n            pthread_mutex_unlock(&amp;lock);\n\n        }\n\n        if (random % 7 &lt; 2) {\n            printf(\"Groom Created\\n\");\n            pthread_mutex_lock(&amp;lock);\n            createGroom(groomCount);\n            //pthread_join(groomThread, &amp;groomCount);\n            pthread_mutex_unlock(&amp;lock);\n        }\n\n        pthread_join(brideThread, &amp;brideCount);\n        pthread_join(groomThread, &amp;groomCount);\n\n        for (int i = 0; i &lt; 100000000; i++);\n        printf(\"------------------------------\");\n    }\n}\n\nint main(void) {\n    marriage();\n}\n</code></pre>\n\n<p>In pthread_create part, there are some functions as you can see. It defined in .h part. For example in bride.h, there are 2 functions about bride. </p>\n\n<blockquote>\n  <h1>BRIDE.H</h1>\n</blockquote>\n\n<pre><code>#ifndef BRIDE_H\n#define BRIDE_H\n\nvoid* increaseBrideCount(void * bride);\nvoid* decreaseBrideCount(void * bride);\n\n#endif\n</code></pre>\n\n<blockquote>\n  <h1>BRIDE.C</h1>\n</blockquote>\n\n<pre><code>#include &lt;pthread.h&gt;\n#include \"bride.h\"\n\n\nvoid* increaseBrideCount(void *bride){\n    int brideCount = (int)bride;\n    brideCount++;\n    pthread_exit(brideCount);\n}\n\nvoid* decreaseBrideCount(void* bride){\n    int brideCount = (int)bride;\n    brideCount--;\n    pthread_exit(brideCount);\n}\n</code></pre>\n\n<p>While im creating new bride,i cant send the new value of bride to the function. For example :</p>\n\n<p>I have 20 brides and 14 grooms at first. \nI have 2 available registrar</p>\n\n<p>Marraige does. </p>\n\n<p>Bride count = 19, groom count = 13</p>\n\n<p>Then, i want to create new bride.</p>\n\n<p>It count goes to = 1 :( Im trying to make it 20 again. </p>\n\n<p>If you can help, i would be very happy. Thank you</p>\n"}, {"tags": ["c", "string", "file", "text"], "comments": [{"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 1, "creation_date": 1480515981, "post_id": 40890807, "comment_id": 68995353, "body": "By reading from the file using the <code>myfile</code> pointer. And then searching for white spaces and counting them."}, {"owner": {"reputation": 159, "user_id": 6603030, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/15caa66f9d200b13cc528d8539dc815c?s=128&d=identicon&r=PG&f=1", "display_name": "Walker Base", "link": "https://stackoverflow.com/users/6603030/walker-base"}, "reply_to_user": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480516267, "post_id": 40890807, "comment_id": 68995561, "body": "can u provide code?"}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 1, "creation_date": 1480516532, "post_id": 40890807, "comment_id": 68995745, "body": "NO, I can&#39;t. You should try something, if there is no effort you don&#39;t deserve the help! <code>fopen(path, &quot;r&quot;)</code> is no effort at all."}, {"owner": {"reputation": 159, "user_id": 6603030, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/15caa66f9d200b13cc528d8539dc815c?s=128&d=identicon&r=PG&f=1", "display_name": "Walker Base", "link": "https://stackoverflow.com/users/6603030/walker-base"}, "reply_to_user": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480516678, "post_id": 40890807, "comment_id": 68995857, "body": "right! ^......^"}, {"owner": {"reputation": 159, "user_id": 6603030, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/15caa66f9d200b13cc528d8539dc815c?s=128&d=identicon&r=PG&f=1", "display_name": "Walker Base", "link": "https://stackoverflow.com/users/6603030/walker-base"}, "reply_to_user": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480516955, "post_id": 40890807, "comment_id": 68996053, "body": "I had tried, but it need initial the char before, how not to initial the char line? plz see my edit"}, {"owner": {"reputation": 159, "user_id": 6603030, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/15caa66f9d200b13cc528d8539dc815c?s=128&d=identicon&r=PG&f=1", "display_name": "Walker Base", "link": "https://stackoverflow.com/users/6603030/walker-base"}, "reply_to_user": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480517312, "post_id": 40890807, "comment_id": 68996314, "body": "@iharob  ........."}], "answers": [{"comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1480518231, "post_id": 40890839, "comment_id": 68997005, "body": "You are wrong on <a href=\"http://en.cppreference.com/w/c/io/fgets\" rel=\"nofollow noreferrer\"><code>fgets</code></a>. It will <i>not</i> read an entire line from a file (not always), and you do <i>not</i> need to know the length of the longest line. Please read its description, and see the example in that same link."}, {"owner": {"reputation": 634, "user_id": 3735245, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a92a967d5a1f2efe4fba36f81ef5b536?s=128&d=identicon&r=PG&f=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3735245/rorschach"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1480519535, "post_id": 40890839, "comment_id": 68997957, "body": "&quot;The C library function char *fgets(char *str, int n, FILE *stream) reads a line from the specified stream and stores it into the string pointed to by str. It stops when either (n-1) characters are read, the newline character is read, or the end-of-file is reached, whichever comes first.&quot; - if you know how long you <i>line</i> is going to be, <code>fgets()</code> can do what I wrote it would do."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1480519783, "post_id": 40890839, "comment_id": 68998157, "body": "My point is, you do not <i>need</i> to know the length of the lines to use <code>fgets</code>. Either the returned string ends with a newline, and then you know you&#39;ve read &quot;a line&quot;, or it does not, and then you&#39;re at the end of the file or the buffer is full. (For OP&#39;s purpose, he doesn&#39;t even need to read entire lines, so a buffer size of 2 would already be enough. Note that he says &quot;thousands of string in a one line&quot;.)"}], "tags": [], "owner": {"reputation": 634, "user_id": 3735245, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a92a967d5a1f2efe4fba36f81ef5b536?s=128&d=identicon&r=PG&f=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3735245/rorschach"}, "is_accepted": false, "score": 0, "last_activity_date": 1480515970, "creation_date": 1480515970, "answer_id": 40890839, "question_id": 40890807, "link": "https://stackoverflow.com/questions/40890807/c-how-to-read-a-txt-file-how-many-string-split-by-space/40890839#40890839", "title": "C - how to read a txt file how many string split by space?", "body": "<p><code>fgets()</code> function will read entire line from file (you need to know maximum possible size of that line. Then, you can use <code>strtok()</code> from ` to parse the string and count the words.</p>\n"}, {"tags": [], "owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1480517679, "creation_date": 1480517679, "answer_id": 40891439, "question_id": 40890807, "link": "https://stackoverflow.com/questions/40890807/c-how-to-read-a-txt-file-how-many-string-split-by-space/40891439#40891439", "title": "C - how to read a txt file how many string split by space?", "body": "<p>You don't need the <code>strtok()</code> as you only need to count the number of space characters.</p>\n\n<pre><code>while (fgets(line, sizeof line, myfile) != NULL) {\n    for (size_t i = 0; line[i]; i++) {\n        if (line[i] == ' ') totalStrings++;\n    }\n}\n</code></pre>\n\n<p>If you want to consider <em>any</em> whitespace character then you can use <a href=\"http://man7.org/linux/man-pages/man3/isalpha.3.html\" rel=\"nofollow noreferrer\"><code>isspace()</code></a> function.</p>\n\n<p>You can read character by character as well without using an array:</p>\n\n<pre><code>int ch;\nwhile ((ch=fgetc(myfile)) != EOF) {\n    if (ch == ' ') totalStrings++;\n}\n</code></pre>\n\n<p>But I don't see why you want to avoid using an array as it would probably be more efficient (reading more chars at a time rather than reading one byte at a time).</p>\n"}, {"tags": [], "owner": {"reputation": 811, "user_id": 4895040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YLzeG.jpg?s=128&g=1", "display_name": "raymelfrancisco", "link": "https://stackoverflow.com/users/4895040/raymelfrancisco"}, "is_accepted": false, "score": 0, "last_activity_date": 1480520947, "last_edit_date": 1480520947, "creation_date": 1480518296, "answer_id": 40891662, "question_id": 40890807, "link": "https://stackoverflow.com/questions/40890807/c-how-to-read-a-txt-file-how-many-string-split-by-space/40891662#40891662", "title": "C - how to read a txt file how many string split by space?", "body": "<p>Using <a href=\"https://www.tutorialspoint.com/c_standard_library/c_function_fgetc.htm\" rel=\"nofollow noreferrer\"><code>fgetc()</code></a>, you can count the spaces. </p>\n\n<p>Take note that in cases wherein there are spaces at the beginning of the string, those will be counted as well and it is okay if spaces are present on the start of the line. Else, it won't give accurate results as the first string won't be counted because it has no space before it.</p>\n\n<p>To solve that, we need to check first the first character and increment the string counter if it is an alphabet character.</p>\n\n<pre><code>int str_count = 0;\nint c;\n\n// first char\nif( isalpha(c = fgetc(myfile)) )\n    str_count++;\nelse\n    ungetc(c, myfile);\n</code></pre>\n\n<p>Then, we loop through the rest of the contents.\nChecking if an alphabet character follows a space will verify if there is a next string after the space, else a space at the end of the line will be counted as well, giving an inaccurate result.</p>\n\n<pre><code>do\n{\n    c = fgetc(myfile);\n    if( c == EOF )\n         break;\n\n    if(isspace(c)) {\n        if( isalpha(c = fgetc(myfile)) ) {\n            str_count++;\n            ungetc(c, myfile);\n\n        } else if(c == '\\n') { // for multiple newlines\n            str_count++;\n        }\n    }\n\n} while(1);\n</code></pre>\n\n<p>Tested on a <a href=\"http://www.lipsum.com/\" rel=\"nofollow noreferrer\">Lorem Ipsum generator</a> of 1500 words:\n<a href=\"http://pastebin.com/w6EiSHbx\" rel=\"nofollow noreferrer\">http://pastebin.com/w6EiSHbx</a></p>\n"}], "owner": {"reputation": 159, "user_id": 6603030, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/15caa66f9d200b13cc528d8539dc815c?s=128&d=identicon&r=PG&f=1", "display_name": "Walker Base", "link": "https://stackoverflow.com/users/6603030/walker-base"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1120, "favorite_count": 1, "answer_count": 3, "score": -3, "last_activity_date": 1480521178, "creation_date": 1480515860, "last_edit_date": 1480521178, "question_id": 40890807, "link": "https://stackoverflow.com/questions/40890807/c-how-to-read-a-txt-file-how-many-string-split-by-space", "title": "C - how to read a txt file how many string split by space?", "body": "<p>I have text file which include thousands of string</p>\n\n<p>but each string split by a space \" \"</p>\n\n<p>How can i count how many strings there are?</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 634, "user_id": 3735245, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a92a967d5a1f2efe4fba36f81ef5b536?s=128&d=identicon&r=PG&f=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3735245/rorschach"}, "edited": false, "score": 1, "creation_date": 1480515568, "post_id": 40890662, "comment_id": 68995048, "body": "You need to provide us with <code>find_middle_artist</code> signature... Typecasting has nothing to do with it, its something else."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 1, "creation_date": 1480515851, "post_id": 40890662, "comment_id": 68995259, "body": "In the first call you cast it, but not in the second."}], "owner": {"reputation": 15, "user_id": 7231192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6f765debb1a58ebff7c7036d3d157c?s=128&d=identicon&r=PG&f=1", "display_name": "jk98988", "link": "https://stackoverflow.com/users/7231192/jk98988"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480515459, "creation_date": 1480515459, "question_id": 40890662, "link": "https://stackoverflow.com/questions/40890662/warning-passing-argument-1-of-find-middle-artist-from-incompatible-pointer-ty", "title": "warning: passing argument 1 of \u2018find_middle_artist\u2019 from incompatible pointer type", "body": "<p>So, I'm making a program that sorts a list of artists with three values as their members. But every time I compile, I get the title error. I am casting, and cannot see why this is happening.</p>\n\n<pre><code>struct artist *sort_artists(struct play *artistl, int criterion){\n\n   if (!(criterion == PLAYCOUNT || criterion == ARTISTID)){\n     printf(\"[ERROR]: Incorrect Criterion\");\n     return (struct artist *)artistl;\n   }\n   else{\n     if (criterion == PLAYCOUNT){\n      struct artist *m = NULL;\n      struct artist *x = NULL;\n      struct artist *y = NULL;\n      if (artistl == NULL || artistl-&gt;next == NULL)\n        return (struct artist *)artistl;\n\n      x = (struct artist *)artistl;\n      m = find_middle_artist((struct artist *)artistl);\n      y = m;\n      m-&gt;next = NULL;\n      return merge(sort_artists(x, criterion), sort_artists(y, criterion));\n    }\n  else if (criterion == ARTISTID){\n    struct artist *m = NULL;\n    struct artist *x = NULL;\n    struct artist *y = NULL;\n\n    if (artistl == NULL || artistl-&gt;next == NULL)\n      return (struct artist *)artistl;\n\n    x = (struct artist *)artistl;\n    m = find_middle_artist(artistl);\n    y = m;\n    m-&gt;next = NULL;\n    return merge(sort_artists(x, criterion), sort_artists(y, criterion));\n  }\n</code></pre>\n\n<p>}\n}</p>\n"}, {"tags": ["c", "c-preprocessor"], "comments": [{"owner": {"reputation": 1064, "user_id": 2317487, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/S9GeT.jpg?s=128&g=1", "display_name": "Aus", "link": "https://stackoverflow.com/users/2317487/aus"}, "edited": false, "score": 1, "creation_date": 1480515263, "post_id": 40890499, "comment_id": 68994818, "body": "You missed the operator preceedence  <a href=\"http://en.cppreference.com/w/c/language/operator_precedence\" rel=\"nofollow noreferrer\">en.cppreference.com/w/c/language/operator_precedence</a>"}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1480518243, "post_id": 40890499, "comment_id": 68997020, "body": "I hope this is only an exercise. You never would write code like this in the real world. BTW what result did you expect?"}, {"owner": {"reputation": 11, "user_id": 7231211, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-no-DoasSLsA/AAAAAAAAAAI/AAAAAAAABAY/KpJ_A0iBWPk/photo.jpg?sz=128", "display_name": "Vivek ", "link": "https://stackoverflow.com/users/7231211/vivek"}, "reply_to_user": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1481013555, "post_id": 40890499, "comment_id": 69190624, "body": "@Michael Walz are you naturally dumb or playing dumb? If XXX is 10..basic multiplication tables suggests 10*10 is 100. If you still can&#39;t understand, may god help you!"}], "answers": [{"tags": [], "owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "is_accepted": false, "score": 4, "last_activity_date": 1480515179, "last_edit_date": 1480515179, "creation_date": 1480515009, "answer_id": 40890509, "question_id": 40890499, "link": "https://stackoverflow.com/questions/40890499/why-the-following-program-gives-80-as-output/40890509#40890509", "title": "why the following program gives -80 as output?", "body": "<p>In your code</p>\n\n<pre><code>a = XXX * 10;\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>a = ABC - XYZ * 10;\n</code></pre>\n\n<p>which is</p>\n\n<pre><code>a = 20 - 10 * 10;\n</code></pre>\n\n<p>the answer is <code>20 -100</code>, <code>-80</code>.</p>\n\n<p>That is why, in general, it is advised to make use of parentheses in MACRO definition. Something like</p>\n\n<pre><code>  #define XXX (ABC - XYZ)\n</code></pre>\n\n<p>is what you were <em>expecting</em>.</p>\n\n<p>That said, the conforming signature of <code>main()</code> in a hosted environment is <code>int main(void)</code>, at least.</p>\n"}, {"tags": [], "owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "is_accepted": false, "score": 1, "last_activity_date": 1480515263, "creation_date": 1480515263, "answer_id": 40890596, "question_id": 40890499, "link": "https://stackoverflow.com/questions/40890499/why-the-following-program-gives-80-as-output/40890596#40890596", "title": "why the following program gives -80 as output?", "body": "<p>This is, how the preprocessor works. Defines does not create a partial expression or a statement. Instead the macro is literally replaced by its definition.</p>\n\n<p>Therefore in</p>\n\n<pre><code>a = XXX * 10;\n</code></pre>\n\n<p>XXX is literally replaces by </p>\n\n<pre><code>ABC - XYZ\n</code></pre>\n\n<p>what results in </p>\n\n<pre><code>a = ABC - XYZ * 10;\n</code></pre>\n\n<p>Because <code>*</code> has a higher binding than <code>-</code>, it is</p>\n\n<pre><code>a = ABC - (XYZ * 10);\n</code></pre>\n\n<p>which is -80.</p>\n\n<p>It is a good idea to at least write parenthesis around expressions in macros:</p>\n\n<pre><code>#define XXX (ABC - XYZ)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7231211, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-no-DoasSLsA/AAAAAAAAAAI/AAAAAAAABAY/KpJ_A0iBWPk/photo.jpg?sz=128", "display_name": "Vivek ", "link": "https://stackoverflow.com/users/7231211/vivek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480515263, "creation_date": 1480514940, "last_edit_date": 1480515238, "question_id": 40890499, "link": "https://stackoverflow.com/questions/40890499/why-the-following-program-gives-80-as-output", "title": "why the following program gives -80 as output?", "body": "<pre><code>    #define ABC 20\n#define XYZ 10\n#define XXX ABC - XYZ\n\nmain()\n{\nint     a;\na = XXX * 10;\nprintf(\"%d\\n\", a);\n}\n</code></pre>\n\n<p>I checked XXX has the value 10. Then why is the output -80? This could  be silly but, I am new to c programming.</p>\n"}, {"tags": ["c", "grep", "pipe", "fork", "dup2"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1480514890, "post_id": 40890426, "comment_id": 68994536, "body": "One major problem in the first child is that <code>numeFisier</code> doesn&#39;t contain a <i>null terminated</i> string."}, {"owner": {"reputation": 1751, "user_id": 2959769, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/9WfJf.jpg?s=128&g=1", "display_name": "Vinay Shukla", "link": "https://stackoverflow.com/users/2959769/vinay-shukla"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1480516038, "post_id": 40890426, "comment_id": 68995398, "body": "It would be helpful if the code is in english :) @Someprogrammerdude Joachim you are awesome waiting for your answer to this"}, {"owner": {"reputation": 73, "user_id": 7230331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RT6UA.gif?s=128&g=1", "display_name": "R.  Barbus", "link": "https://stackoverflow.com/users/7230331/r-barbus"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1480517232, "post_id": 40890426, "comment_id": 68996250, "body": "@Someprogrammerdude i don&#39;t understand why that is a problem, I use it only in 2 functions in child one and the file opening is ok, I mean child one send perfectly the content of the file to child 2"}, {"owner": {"reputation": 73, "user_id": 7230331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RT6UA.gif?s=128&g=1", "display_name": "R.  Barbus", "link": "https://stackoverflow.com/users/7230331/r-barbus"}, "reply_to_user": {"reputation": 1751, "user_id": 2959769, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/9WfJf.jpg?s=128&g=1", "display_name": "Vinay Shukla", "link": "https://stackoverflow.com/users/2959769/vinay-shukla"}, "edited": false, "score": 0, "creation_date": 1480517328, "post_id": 40890426, "comment_id": 68996326, "body": "@VinayShukla Sorry for that, i translated the code :)"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1480529557, "post_id": 40890426, "comment_id": 69004550, "body": "If a string is not terminated, you will have <i>undefined behavior</i>. That it <i>seems</i> to work is just a fluke. It might stop working when you least expect it."}], "answers": [{"tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1480520108, "creation_date": 1480520108, "answer_id": 40892276, "question_id": 40890426, "link": "https://stackoverflow.com/questions/40890426/unable-to-use-pipe-as-input-for-grep-in-c/40892276#40892276", "title": "Unable to use pipe as input for grep in C", "body": "<p>It's a bit silly that you transfer the file name to the first child via a pipe, but rely on that child inheriting its length from its parent.  If you're going to inherit the name's length, then you might as well inherit the whole file name, dispensing with the first pipe.</p>\n\n<p>You could conceivably send the (fixed-size) length value over the pipe first to avoid inheriting it, but such a scheme is pointless -- not only do forked child processes inherit data from their parents, you cannot avoid relying on that in your program.  In particular, the children <em>must</em> inherit the open pipe ends and the arrays of pipe file descriptors from the parent for the single-parent approach to work at all.</p>\n\n<p>Note also that you are (maybe) lucking into null termination of the file name received over the pipe.  The first child neither reads it from the pipe nor sets it explicitly.</p>\n\n<p>But the main problem appears to be that you have stray open pipe ends.  You create all three pipes in the parent, before forking any children.  At each fork, the child will therefore inherit the open file descriptors for <em>all</em> pipe ends that the parent has not yet closed.  The child processes should close all of the open pipe ends they do not use, but they only close some of them.  Programs such as <code>grep</code> (and <code>cat</code>) don't exit until they see the end of the file, and they won't see that on a pipe while <em>any</em> process holds the write end open.</p>\n\n<p>Specifically, the parent process never closes the write end of <code>pipe2</code>, and in fact the third child inherits that open descriptor and also does not close it.  The first child closes its copy of that FD when it exits, but with two other handles on the pipe end open, that end remains open.  Therefore, when the second child is taking its input from that pipe, it never sees end-of-file, and never exits.  Making the parent close both ends of <code>pipe2</code> between forking the second child and forking the third child should solve that problem.</p>\n"}], "owner": {"reputation": 73, "user_id": 7230331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RT6UA.gif?s=128&g=1", "display_name": "R.  Barbus", "link": "https://stackoverflow.com/users/7230331/r-barbus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 777, "favorite_count": 2, "answer_count": 1, "score": -1, "last_activity_date": 1480520108, "creation_date": 1480514697, "last_edit_date": 1480518585, "question_id": 40890426, "link": "https://stackoverflow.com/questions/40890426/unable-to-use-pipe-as-input-for-grep-in-c", "title": "Unable to use pipe as input for grep in C", "body": "<p>On Ubuntu 16 I am trying to write a program exercising pipes, forking, and execing:</p>\n\n<ul>\n<li>the program will accept a file name via a command-line argument;</li>\n<li>a child process will open the named file and exec <code>cat</code> to transfer the content to a second child process; and</li>\n<li>the second child will exec <code>grep</code> to select the lines that contain numbers for forwarding to a third child process</li>\n<li>the third child process prints the received lines.</li>\n</ul>\n\n<p>Here's my code:</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;unistd.h&gt;\n#include &lt;string.h&gt;\n#include &lt;sys/types.h&gt;\n#include&lt;sys/wait.h&gt;\n#include&lt;fcntl.h&gt;\n\n#define BLOCK_SIZE 4096\n\nint main(int argc, char** argv)\n{\n    int PID;\n    int pipe1[2];\n    int pipe2[2];\n    int pipe3[2];\n    char fileName[256];\n    int lengthfileName = strlen(argv[1]);\n    char content[BLOCK_SIZE];\n    char modifiedContent[BLOCK_SIZE];\n    int file;\n    if(argc &lt; 2)\n    {\n        printf(\"Usage prog file\\n\");\n        exit(1);\n    }\n    if(pipe(pipe1) &lt; 0)\n    {\n        printf(\"Error at pipe\\n\");\n        exit(1);\n    }\n    if(pipe(pipe2) &lt; 0)\n    {\n        printf(\"Error at pipe\\n\");\n        exit(1);\n    }\n    if(pipe(pipe3) &lt; 0)\n    {\n        printf(\"Error at pipe\\n\");\n        exit(1);\n    }\n    if((PID = fork()) &lt; 0)\n    {\n        printf(\"Error at process\\n\");\n        exit(1);\n    }\n\n\n    if(PID == 0) //first child\n    {\n        close(pipe1[1]);\n        read(pipe1[0],fileName,lengthfileName); \n        close(pipe1[0]);\n\n        close(pipe2[0]); \n        dup2(pipe2[1],1);\n        close(pipe2[1]); \n        execlp(\"/bin/cat\",\"cat\",fileName,NULL);\n\n\n        exit(0);\n    }\n    else // parent\n    {\n        close(pipe1[0]); \n        write(pipe1[1],argv[1],lengthfileName);\n        close(pipe1[1]);\n\n        int status;\n\n        if((PID = fork()) &lt; 0)\n        {\n        printf(\"Error at process\\n\");\n        exit(1);\n        }\n        if(PID == 0) // child 2\n        {\n            close(pipe2[1]);\n            //read(pipe2[0],content,BLOCK_SIZE);\n            //dup2(pipe2[0],0);// ***********************MARKED LINE HERE *****************************************\n            close(pipe2[0]);    \n\n            close(pipe3[0]);\n            dup2(pipe3[1],1);\n            close(pipe3[1]);    \n\n            execlp(\"grep\",\"grep\",\"[0-9]\",NULL);\n\n            exit(0);\n\n        }\n\n        if((PID = fork()) &lt; 0)\n        {\n            printf(\"Error at process\\n\");\n            exit(1);\n        }\n        if(PID == 0) //cod fiu 2\n        {\n            close(pipe3[1]);\n            read(pipe3[0],modifiedContent,BLOCK_SIZE);\n            close(pipe3[0]);\n            printf(\"GOT FROM PIPE:%s\",modifiedContent);\n            exit(0);\n        }\n        waitpid(PID, &amp;status, 0);\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>My problem is inside the child process 2 code, where I try to use the pipeline as input for <code>grep</code>. As presented the input is taken from the terminal; if I uncomment the marked lines then the program hangs, and I have to manually kill it to make it stop. </p>\n\n<p>What's wrong with how I'm using <code>pipe2</code> to feed data to <code>grep</code> in child process 2?  Or is the problem somewhere else?</p>\n"}, {"tags": ["c", "arm", "llvm", "simd", "neon"], "comments": [{"owner": {"reputation": 20255, "user_id": 645128, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/G0V8Q.jpg?s=128&g=1", "display_name": "ryyker", "link": "https://stackoverflow.com/users/645128/ryyker"}, "edited": false, "score": 0, "creation_date": 1480515268, "post_id": 40890319, "comment_id": 68994820, "body": "Why do you feel your code looks inefficient? I see no complicated looping or branching.  Just sequential.  And is there a problem other than efficiency that you are trying to solve? i.e. does the code do what it is supposed to do?"}, {"owner": {"reputation": 35, "user_id": 3167620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b6dfad8edd5ac077ed680c15b6d8414?s=128&d=identicon&r=PG&f=1", "display_name": "Shun", "link": "https://stackoverflow.com/users/3167620/shun"}, "reply_to_user": {"reputation": 20255, "user_id": 645128, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/G0V8Q.jpg?s=128&g=1", "display_name": "ryyker", "link": "https://stackoverflow.com/users/645128/ryyker"}, "edited": false, "score": 0, "creation_date": 1480515687, "post_id": 40890319, "comment_id": 68995137, "body": "Because LLVM assembly code is complicated after compile it, so I&#39;d like to know is there easier way to do this such as an neon intrinsic."}, {"owner": {"reputation": 35, "user_id": 3167620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b6dfad8edd5ac077ed680c15b6d8414?s=128&d=identicon&r=PG&f=1", "display_name": "Shun", "link": "https://stackoverflow.com/users/3167620/shun"}, "reply_to_user": {"reputation": 20255, "user_id": 645128, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/G0V8Q.jpg?s=128&g=1", "display_name": "ryyker", "link": "https://stackoverflow.com/users/645128/ryyker"}, "edited": false, "score": 0, "creation_date": 1480516078, "post_id": 40890319, "comment_id": 68995421, "body": "The problem for my goal is auto generate LLVM-IR through a pass, it is difficult for me if the LLVM-IR code is complicated."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 3167620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b6dfad8edd5ac077ed680c15b6d8414?s=128&d=identicon&r=PG&f=1", "display_name": "Shun", "link": "https://stackoverflow.com/users/3167620/shun"}, "edited": false, "score": 0, "creation_date": 1480563007, "post_id": 40900526, "comment_id": 69017725, "body": "Your answer is helpful! There are <code>shufflevector</code> instructions instead of  type conversion instruction such as <code>trunc</code> or <code>sext</code> in my LLVM IR. Thanks a lot!"}], "tags": [], "owner": {"reputation": 18029, "user_id": 3156750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e00c291e7b746a34f28622a64f0492?s=128&d=identicon&r=PG&f=1", "display_name": "Notlikethat", "link": "https://stackoverflow.com/users/3156750/notlikethat"}, "is_accepted": true, "score": 4, "last_activity_date": 1480551135, "creation_date": 1480551135, "answer_id": 40900526, "question_id": 40890319, "link": "https://stackoverflow.com/questions/40890319/how-to-add-all-int32-element-in-a-lane-using-neon-intrinsic/40900526#40900526", "title": "How to add all int32 element in a lane using neon intrinsic", "body": "<p>If you only want a 32-bit result, presumably either intermediate overflow is unlikely or you simply don't care about it, in which case you could just stay 32-bit all the way:</p>\n\n<pre><code>int32x2_t temp = vadd_s32(vget_high_s32(accl), vget_low_s32(accl));\nint32x2_t temp2 = vpadd_s32(temp, temp);\nint32_t sum1 = vget_lane_s32(temp2, 0);\n</code></pre>\n\n<p>However, using 64-bit accumulation isn't actually any more hassle, and can also be done without dropping out of NEON - it's just a different order of operations:</p>\n\n<pre><code>int64x2_t temp = vpaddlq_s32(accl);\nint64x1_t temp2 = vadd_s64(vget_high_s64(temp), vget_low_s64(temp));\nint32_t sum1 = vget_lane_s32(temp2, 0);\n</code></pre>\n\n<p>Either of those boils down to just 3 NEON instructions and no scalar arithmetic. The crucial trick on 32-bit ARM is that a pairwise add of two halves of a Q register is simply a normal add of two D registers - that doesn't apply to AArch64 where the SIMD register layout is different, but then AArch64 has the aforementioned horizontal <code>addv</code> anyway.</p>\n\n<p>Now, how horrible any of that looks in LLVM IR I don't know - I suppose it depends on how it treats vector types and operations internally - but in terms of the final ARM machine code both could be considered optimal.</p>\n"}], "owner": {"reputation": 35, "user_id": 3167620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b6dfad8edd5ac077ed680c15b6d8414?s=128&d=identicon&r=PG&f=1", "display_name": "Shun", "link": "https://stackoverflow.com/users/3167620/shun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2070, "favorite_count": 0, "accepted_answer_id": 40900526, "answer_count": 1, "score": 3, "last_activity_date": 1480551135, "creation_date": 1480514436, "last_edit_date": 1495542629, "question_id": 40890319, "link": "https://stackoverflow.com/questions/40890319/how-to-add-all-int32-element-in-a-lane-using-neon-intrinsic", "title": "How to add all int32 element in a lane using neon intrinsic", "body": "<p>Here is my code for adding all int16x4 element in a lane: </p>\n\n<pre><code>#include &lt;arm_neon.h&gt;\n...\nint16x4_t acc = vdup_n_s16(1);\nint32x2_t acc1;\nint64x1_t acc2;\nint32_t sum;\nacc1 = vpaddl_s16(acc);\nacc2 = vpaddl_s32(acc1);\nsum = (int)vget_lane_s64(acc2, 0);\nprintf(\"%d\\n\", sum);// 4\n</code></pre>\n\n<p>And I tried to add all int32x4 element in a lane.</p>\n\n<p>but my code looks inefficient:</p>\n\n<pre><code>#include &lt;arm_neon.h&gt;\n...\nint32x4_t accl = vdupq_n_s32(1);\nint64x2_t accl_1;\nint64_t temp;\nint64_t temp2;\nint32_t sum1;\naccl_1=vpaddlq_s32(accl);\ntemp = (int)vgetq_lane_s64(accl_1,0);\ntemp2 = (int)vgetq_lane_s64(accl_1,1);\nsum1=temp+temp2;\nprintf(\"%d\\n\", sum);// 4\n</code></pre>\n\n<p>Is there simply and clearly way to do this? I hope the LLVM assembly code is simply and clearly after compile it. and I also hope the final type of <code>sum</code> is 32 bits. </p>\n\n<p>I used <a href=\"http://ellcc.org/\" rel=\"nofollow noreferrer\">ellcc</a> cross-compiler base on LLVM compiler infrastructure to compile it.</p>\n\n<p>I saw the similar question(<a href=\"https://stackoverflow.com/questions/12171117/add-all-elements-in-a-lane\">Add all elements in a lane</a>) on stackoverflow, but the intrinsic <code>addv</code> doesn't work on my host.</p>\n"}, {"tags": ["c", "pointers", "char", "malloc", "free"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1480514373, "post_id": 40890255, "comment_id": 68994154, "body": "What &quot;errors&quot; are you &quot;having&quot;?"}, {"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 7, "creation_date": 1480514425, "post_id": 40890255, "comment_id": 68994191, "body": "simple example? with four starts? You&#39;re way beyond becoming a t(h)ree-star programmer."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 2, "creation_date": 1480514455, "post_id": 40890255, "comment_id": 68994213, "body": "WOW! You are the first 4-star C programmer I see! You are aware being a 3-star C programmer is not a compliment already, are you?"}, {"owner": {"reputation": 13, "user_id": 7150976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634454102bb6b8a35e37f37824119a0e?s=128&d=identicon&r=PG&f=1", "display_name": "John Richards", "link": "https://stackoverflow.com/users/7150976/john-richards"}, "edited": false, "score": 0, "creation_date": 1480514510, "post_id": 40890255, "comment_id": 68994260, "body": "*** Error in ..................   double free or corruption (fasttop): 0x00000000020e8050 *** the msg in third after is: third RUN FINISHED; Aborted; real time: 0ms; user: 0ms; system: 0ms"}, {"owner": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "edited": false, "score": 0, "creation_date": 1480514523, "post_id": 40890255, "comment_id": 68994275, "body": "Use of not initialize variable result in Undefined Behavior (every <code>printf</code> with <code>the msg in xxx is :%s</code>). And for <code>change</code> and <code>third</code> you allocate 5 char but copy respectively 7 and 6 =&gt; UB"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 1, "creation_date": 1480514538, "post_id": 40890255, "comment_id": 68994286, "body": "@SouravGhosh: What is a <b>tree</b>-star programmer? Someone living on a tree? ;-))"}, {"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1480514664, "post_id": 40890255, "comment_id": 68994382, "body": "@Olaf edited...but it&#39;s true, if I keep writing code like this, the safest place (to avoid the maintainer) would be a tree-house only. ;-)"}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "edited": false, "score": 1, "creation_date": 1480514746, "post_id": 40890255, "comment_id": 68994429, "body": "Remove change() and third() and start analyzing from the beginning."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1480514766, "post_id": 40890255, "comment_id": 68994448, "body": "We have a phrase here which literaly translates to &quot;putting me on a palmtree&quot; which means &quot;aggravates me&quot;. That just came into mind ..."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480514965, "post_id": 40890255, "comment_id": 68994589, "body": "This program doesn&#39;t need more than 2 levels of indirection. There&#39;s no need to keep piling them, just pass the pointer-to-pointer on to the next function."}, {"owner": {"reputation": 13, "user_id": 7150976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634454102bb6b8a35e37f37824119a0e?s=128&d=identicon&r=PG&f=1", "display_name": "John Richards", "link": "https://stackoverflow.com/users/7150976/john-richards"}, "reply_to_user": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480515300, "post_id": 40890255, "comment_id": 68994851, "body": "@Lundin do you meen this   change(<i>&amp;msg); void change(char*</i>msg)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7150976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634454102bb6b8a35e37f37824119a0e?s=128&d=identicon&r=PG&f=1", "display_name": "John Richards", "link": "https://stackoverflow.com/users/7150976/john-richards"}, "edited": false, "score": 0, "creation_date": 1480515022, "post_id": 40890460, "comment_id": 68994638, "body": "Alright, I understand. Then what about free-ing the memory. Is the free in test enough?"}, {"owner": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "reply_to_user": {"reputation": 13, "user_id": 7150976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634454102bb6b8a35e37f37824119a0e?s=128&d=identicon&r=PG&f=1", "display_name": "John Richards", "link": "https://stackoverflow.com/users/7150976/john-richards"}, "edited": false, "score": 0, "creation_date": 1480515546, "post_id": 40890460, "comment_id": 68995026, "body": "@JohnRichards I think my edit answers your question"}], "tags": [], "owner": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "is_accepted": false, "score": 1, "last_activity_date": 1480515866, "last_edit_date": 1495541324, "creation_date": 1480514808, "answer_id": 40890460, "question_id": 40890255, "link": "https://stackoverflow.com/questions/40890255/c-char-array-pointers-malloc-free/40890460#40890460", "title": "C char array, pointers, malloc, free", "body": "<p>In real life, avoid use as much \"star\" (ie number of indirection). Also your code has several issue involving <a href=\"https://stackoverflow.com/questions/2397984/undefined-unspecified-and-implementation-defined-behavior\">undefined behavior (UB)</a></p>\n\n<pre><code>void third(char ****msg) {\n    ***msg = malloc(5 * sizeof (char));\n    printf(\"\\nthe msg in third is :%s \", ***msg);// Don't do that, ***msg is not intialize =&gt; UB\n    strcpy(***msg, \"third\"); // Don't do that =&gt; ***msg has 5 bytes, and you copy 6 char =&gt; UB\n    printf(\"\\nthe msg in third after is: %s\", ***msg);\n    // free(***msg);\n}\n\nvoid change(char***msg) {\n    **msg = malloc(5 * sizeof (char));\n    printf(\"\\nthe msg in change is :%s \", **msg);// Don't do that, **msg is not intialize =&gt; UB\n    strcpy(**msg, \"change\"); // Don't do that =&gt; **msg has 5 bytes, and you copy 7 char =&gt; UB\n    printf(\"\\nthe msg in change after is: %s\", **msg);\n    third(&amp;msg);\n    //   free(**msg);\n}\n\nvoid test(char ** msg) {\n    *msg = malloc(5 * sizeof (char));\n    printf(\"\\n the msg in test is: %s\", *msg); // Don't do that, *msg is not intialize =&gt; UB\n\n    strcpy(*msg, \"test\");\n    printf(\"\\nthe msg in test after is: %s\\n\", *msg);\n\n    change(&amp;msg);\n    free(*msg);\n}\n\nint main(int argc, char** argv) {\n\n    char * msg;\n    test(&amp;msg);\n    printf(\"\\nthe msg back in main is: %s\", msg); //UB =&gt; you use freed variable\n}\n</code></pre>\n\n<p>After correcting this multiple sources of UB, it still a bad design: use of <code>free</code> function</p>\n\n<p>According fact that you use pointer of pointer of... when you do a <code>malloc</code> inside a function, you also modify pointer of caller. Try run this and see:</p>\n\n<pre><code>void first(char **t)\n{\n    *t = malloc(5*sizeof(char));\n}\n\nint main(int argc, char * argv[])\n{\n    char * t = NULL;\n    printf(\"%p\\n\", t);\n    first(&amp;t);\n    printf(\"%p\\n\", t);\n    return 0;\n}\n</code></pre>\n\n<p>it produce <a href=\"http://ideone.com/sdAxH2\" rel=\"nofollow noreferrer\">(demo)</a>:</p>\n\n<blockquote>\n<pre><code>(nil)\n 0x995f008 (or another address)\n</code></pre>\n</blockquote>\n\n<p>So when you free in <code>test</code>, you free memory allocated in <code>third</code></p>\n\n<hr>\n\n<p>Finally, as already mentioned in commentary, only 2 stars is enough:</p>\n\n<pre><code>void third(char **msg) {\n    free(*msg); // Free before allocate and change address stored in pointer\n    *msg = malloc(6 * sizeof (char));\n    strcpy(*msg, \"third\");\n    printf(\"\\nthe msg in third after is: %s\", *msg);\n}\n\nvoid change(char **msg) {\n    free(*msg); // Free before allocate and change address stored in pointer\n    *msg = malloc(7 * sizeof (char));\n    strcpy(*msg, \"change\");\n    printf(\"\\nthe msg in change after is: %s\", *msg);\n    third(msg);\n}\n\nvoid test(char ** msg) {\n    *msg = malloc(5 * sizeof (char));\n\n    strcpy(*msg, \"test\");\n    printf(\"\\nthe msg in test after is: %s\\n\", *msg);\n\n    change(msg);\n}\n\nint main(int argc, char** argv) {\n\n    char * msg;\n    test(&amp;msg);\n    printf(\"\\nthe msg back in main is: %s\", msg);\n    free(msg); // Deallocate memory ONLY when you don't need it anymore\n    msg = NULL; // Good practice, set to NULL freed pointer to inform that no more memory are allocated\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 7150976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634454102bb6b8a35e37f37824119a0e?s=128&d=identicon&r=PG&f=1", "display_name": "John Richards", "link": "https://stackoverflow.com/users/7150976/john-richards"}, "edited": false, "score": 0, "creation_date": 1480516011, "post_id": 40890805, "comment_id": 68995376, "body": "Excellent ! Now I understand. Does this apply for other data types e.g. int or int [] ?"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "reply_to_user": {"reputation": 13, "user_id": 7150976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634454102bb6b8a35e37f37824119a0e?s=128&d=identicon&r=PG&f=1", "display_name": "John Richards", "link": "https://stackoverflow.com/users/7150976/john-richards"}, "edited": false, "score": 0, "creation_date": 1480517760, "post_id": 40890805, "comment_id": 68996629, "body": "@JohnRichards The data type of the array doesn&#39;t matter, but <code>char</code> arrays used as strings is a special case, since they need to be null terminated. When declaring <code>const char str[] = &quot;test&quot;;</code> you get an array of 4 characters + 1 null terminator. That&#39;s why <code>sizeof(str)</code> works."}], "tags": [], "owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "is_accepted": true, "score": 2, "last_activity_date": 1480515857, "creation_date": 1480515857, "answer_id": 40890805, "question_id": 40890255, "link": "https://stackoverflow.com/questions/40890255/c-char-array-pointers-malloc-free/40890805#40890805", "title": "C char array, pointers, malloc, free", "body": "<p>Just forget about that program, there's just too much wrong with it:</p>\n\n<ul>\n<li>You don't need multiple levels of indirection. Two levels is enough. Simply pass on the pointer-to-pointer to the next function, if that function needs to change the address.</li>\n<li>You try to print the string before it has been initialized.</li>\n<li>You try to use the string after freeing it.</li>\n<li>You create memory leaks by repeatedly calling malloc without cleaning up the old contents. Use realloc instead.</li>\n<li>You allocate incorrect amounts of memory so the arrays aren't large enough to hold the strings you strcpy into them. Also note that you need to allocate enough room for the null terminator.</li>\n</ul>\n\n<p>And so on. Here's a fixed version:</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\n\nvoid third(char** msg) {\n    const char str[] = \"third\";\n\n    *msg = realloc(*msg, sizeof(str));\n    printf(\"the msg in third is :%s\\n\", *msg);\n\n    strcpy(*msg, str);\n    printf(\"the msg in third after is: %s\\n\", *msg);\n}\n\nvoid change(char** msg) {\n    const char str[] = \"change\";\n\n    *msg = realloc(*msg, sizeof(str));\n    printf(\"the msg in change is :%s\\n\", *msg);\n\n    strcpy(*msg, str);\n    printf(\"the msg in change after is: %s\\n\", *msg);\n\n    third(msg);\n}\n\nvoid test(char** msg) {\n    const char str[] = \"test\";\n\n    *msg = malloc(sizeof(str));\n    printf(\"the msg in test is just garabage at this point, no need to print it.\\n\");\n\n    strcpy(*msg, str);\n    printf(\"the msg in test after is: %s\\n\", *msg);\n\n    change(msg);\n}\n\nint main(int argc, char** argv) {\n\n    char* msg;\n    test(&amp;msg);\n    printf(\"the msg back in main is: %s\\n\", msg);\n\n    free(msg);\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7150976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634454102bb6b8a35e37f37824119a0e?s=128&d=identicon&r=PG&f=1", "display_name": "John Richards", "link": "https://stackoverflow.com/users/7150976/john-richards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 1, "closed_date": 1480520637, "accepted_answer_id": 40890805, "answer_count": 2, "score": -5, "last_activity_date": 1480515866, "creation_date": 1480514227, "last_edit_date": 1480514488, "question_id": 40890255, "link": "https://stackoverflow.com/questions/40890255/c-char-array-pointers-malloc-free", "closed_reason": "Not suitable for this site", "title": "C char array, pointers, malloc, free", "body": "<p>I am trying to understand pointers and I've got this simple example</p>\n\n<pre><code>void third(char ****msg) {\n    ***msg = malloc(5 * sizeof (char));\n    printf(\"\\nthe msg in third is :%s \", ***msg);\n    strcpy(***msg, \"third\");\n    printf(\"\\nthe msg in third after is: %s\", ***msg);\n    // free(***msg);\n}\n\nvoid change(char***msg) {\n    **msg = malloc(5 * sizeof (char));\n    printf(\"\\nthe msg in change is :%s \", **msg);\n    strcpy(**msg, \"change\");\n    printf(\"\\nthe msg in change after is: %s\", **msg);\n    third(&amp;msg);\n    //   free(**msg);\n}\n\nvoid test(char ** msg) {\n    *msg = malloc(5 * sizeof (char));\n    printf(\"\\n the msg in test is: %s\", *msg);\n\n    strcpy(*msg, \"test\");\n    printf(\"\\nthe msg in test after is: %s\\n\", *msg);\n\n    change(&amp;msg);\n    free(*msg);\n}\n\nint main(int argc, char** argv) {\n\n    char * msg;\n    test(&amp;msg);\n    printf(\"\\nthe msg back in main is: %s\", msg);\n}\n</code></pre>\n\n<p>I could say it is working fine, but could you tell me when and how I need to free the allocated memory, because if I remove the // from functions change and third and run it I am having errors. And is there a way to get the content of the message in the first print statement of each function - see the otuput:</p>\n\n<pre><code>the msg in test is: \nthe msg in test after is: test\nthe msg in change is :0\ufffd\ufffd \nthe msg in change after is: change\nthe msg in third is :P\ufffd\ufffd \nthe msg in third after is: third\nthe msg back in main is: \n</code></pre>\n\n<p>Is there a way to get the msg in change is : test and then\nthe msg in third is : change</p>\n"}, {"tags": ["c", "file", "text"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1480513569, "post_id": 40889898, "comment_id": 68993548, "body": "<code>fgetc</code> returns an <code>int</code>, not a <code>char</code>. And please format your code in a consistent manner. And consider  to learn how to use a debugger."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6825441, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/af9bd2ffef4166030a3175db0d812721?s=128&d=identicon&r=PG&f=1", "display_name": "sls1981", "link": "https://stackoverflow.com/users/6825441/sls1981"}, "edited": false, "score": 0, "creation_date": 1480583272, "post_id": 40890046, "comment_id": 69025462, "body": "Thank you. I will give it a go. Functions, however, are where I started to really struggle with this  module. Up until then I understood what I had been learning. Will keep trying though. Thanks again Scott. :)"}], "tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 1, "last_activity_date": 1480513604, "creation_date": 1480513604, "answer_id": 40890046, "question_id": 40889898, "link": "https://stackoverflow.com/questions/40889898/text-file-statistics-and-problems-displaying-them/40890046#40890046", "title": "text file statistics and problems displaying them", "body": "<p>Your first loop reads &amp; displays the first file, not attempting to either collect or report any statistics; your second loop reads, collects &amp; reports statistics, but does not attempt to display.</p>\n\n<p>My suggestions would be to write a function to do all of this for a single file, and then call it once for each file you wish so processed.</p>\n"}], "owner": {"reputation": 53, "user_id": 6825441, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/af9bd2ffef4166030a3175db0d812721?s=128&d=identicon&r=PG&f=1", "display_name": "sls1981", "link": "https://stackoverflow.com/users/6825441/sls1981"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1480514685, "creation_date": 1480513250, "last_edit_date": 1480514685, "question_id": 40889898, "link": "https://stackoverflow.com/questions/40889898/text-file-statistics-and-problems-displaying-them", "title": "text file statistics and problems displaying them", "body": "<p>I am working on an assignment for class and we basically have to prompt a user to input two text files. The program should then read the files, display them, and also display the separate file statistics. </p>\n\n<p>I have been working on the code and seem to have hit a brick wall. I can only seem to display the statistics for the second text file; moreover, the text from said file doesn't seem to be getting displayed. </p>\n\n<p>Very confused indeed, so any help will be hugely appreciated. I am still really struggling with this class, despite my efforts. :(</p>\n\n<p>Anyway, the code (a total mess I am sure):</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n\n\nFILE *fp;\nchar ch;\nint lineCount, wordCount, charCount;\n\nchar filename[50], filename2[50];\n\nlineCount = 0;\nwordCount = 0;\ncharCount = 0;\n\n\nprintf(\"Enter a filename: \");\n\ngets(filename);\n\n    fp=fopen(filename, \"r\");\n\nif(fp==NULL) {\n\nprintf(\"Error!\\n\");\n\nreturn 1;\n\n}\n\nwhile((ch=fgetc(fp)) != EOF) {\n\nputchar(ch);\n\n}\n\nfclose(fp);\n\nprintf(\"\\n\");\n\nprintf(\"Enter a second filename: \");\n\ngets(filename2);\n\n    fp=fopen(filename2, \"r\");\n\nif(fp==NULL) {\n\nprintf(\"Error!\\n\");\n\nreturn 1;\n\n}\n\nwhile((ch=fgetc(fp)) != EOF) {\n   if ( fp )\n   {\n       while ((ch=getc(fp)) != EOF) {\n        if (ch != ' ' &amp;&amp; ch != '\\n') { ++charCount; }\n           if (ch == ' ' || ch == '\\n') { ++wordCount; }\n           if (ch == '\\n') { ++lineCount; }\n           }\n\n       if (charCount &gt; 0) {\n        ++lineCount;\n        ++wordCount;\n       }\n    }\n\n    printf(\"Lines counted: %d \\n\", lineCount);\n    printf(\"Words counted: %d \\n\", wordCount);\n    printf(\"Characters counted: %d \\n\", charCount);\n\ngetchar();\n\nputchar(ch);\n\n}\n\nfclose(fp);\n\nprintf(\"\\n\");\n\nreturn 0;\n\n}\n</code></pre>\n"}, {"tags": ["c", "embedded"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1480512449, "post_id": 40889581, "comment_id": 68992790, "body": "I suggest you start by reading about <a href=\"https://en.wikipedia.org/wiki/Bitwise_operation\" rel=\"nofollow noreferrer\">bitwise operations in general</a>."}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "edited": false, "score": 0, "creation_date": 1480512460, "post_id": 40889581, "comment_id": 68992796, "body": "Question is not clear. What do you mean by equal? Give another example."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 3, "creation_date": 1480512474, "post_id": 40889581, "comment_id": 68992808, "body": "<code>0b101</code> is decimal <code>5</code>, not <code>3</code>!"}, {"owner": {"reputation": 217, "user_id": 6701599, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ihw-taH00ZU/AAAAAAAAAAI/AAAAAAAAAoA/LVhK_HfOlx4/photo.jpg?sz=128", "display_name": "Fernando Coelho", "link": "https://stackoverflow.com/users/6701599/fernando-coelho"}, "edited": false, "score": 0, "creation_date": 1480512513, "post_id": 40889581, "comment_id": 68992844, "body": "If you always have 0 and always want to set to other number, just use x | other_number. But I have the feeling that is not what you need."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 1, "creation_date": 1480512529, "post_id": 40889581, "comment_id": 68992855, "body": "Also, standard C does not support binary notation."}, {"owner": {"reputation": 522, "user_id": 5472899, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/906d78201e3d2cdf72b9ca471f77a568?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Sanford", "link": "https://stackoverflow.com/users/5472899/josh-sanford"}, "edited": false, "score": 4, "creation_date": 1480512763, "post_id": 40889581, "comment_id": 68993004, "body": "By assigning your decimal value to your variable, you automatically set the proper binary bits.  What are you actually trying to do?"}, {"owner": {"reputation": 1, "user_id": 6097599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd971ddb0f4225bcbcacbea676493a2b?s=128&d=identicon&r=PG&f=1", "display_name": "mordowiciel", "link": "https://stackoverflow.com/users/6097599/mordowiciel"}, "edited": false, "score": 0, "creation_date": 1480513227, "post_id": 40889581, "comment_id": 68993300, "body": "I&#39;ve added more details to my question, sorry for vagueness."}, {"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 1, "creation_date": 1480515632, "post_id": 40889581, "comment_id": 68995101, "body": "You&#39;re not going to be able to encode all morse characters with only 5 bits, e.g. punctuation characters typically require 6 (e.g. <code>?</code> = <code>..--..</code>) and the symbol for &quot;mistake&quot; is 8 dots."}, {"owner": {"reputation": 522, "user_id": 5472899, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/906d78201e3d2cdf72b9ca471f77a568?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Sanford", "link": "https://stackoverflow.com/users/5472899/josh-sanford"}, "reply_to_user": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 1, "creation_date": 1480516139, "post_id": 40889581, "comment_id": 68995466, "body": "As @PaulR points out, you may not be able to fit everything in an 8-bit variable.  Bitfields can help with what you want, but it&#39;s just as easy in this case to shift your count and OR it into place.  I agree with SomeProgrammerDude that you may want to read up on bitwise operations in general."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "reply_to_user": {"reputation": 522, "user_id": 5472899, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/906d78201e3d2cdf72b9ca471f77a568?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Sanford", "link": "https://stackoverflow.com/users/5472899/josh-sanford"}, "edited": false, "score": 0, "creation_date": 1480522185, "post_id": 40889581, "comment_id": 68999866, "body": "@JoshSanford The C language does not allow to declare 8 bit long bit-fields. Never use C bit-fields, it is a completely broken language feature."}, {"owner": {"reputation": 522, "user_id": 5472899, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/906d78201e3d2cdf72b9ca471f77a568?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Sanford", "link": "https://stackoverflow.com/users/5472899/josh-sanford"}, "reply_to_user": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480525608, "post_id": 40889581, "comment_id": 69002204, "body": "@Lundin The following compiles just fine under c89:  <code>struct { uint8_t count : 3; uint8_t bits : 5; } my_struct;</code>  The result of <code>sizeof(my_struct)</code> is 1 as expected.  When working with embedded systems, as the OP seems to be doing, bitfields are reasonable to use.  And if he isn&#39;t communicating with hardware, why try to pack two pieces of data into a single variable?"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1480545651, "post_id": 40889581, "comment_id": 69012917, "body": "Null question - you can&#39;t pack three bits of number of dots/dashes AND the pattern of dots/dashes into 8 bits likes this."}, {"owner": {"reputation": 522, "user_id": 5472899, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/906d78201e3d2cdf72b9ca471f77a568?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Sanford", "link": "https://stackoverflow.com/users/5472899/josh-sanford"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1480550178, "post_id": 40889581, "comment_id": 69014543, "body": "@barny Although the question has all kinds of problems, the OP is trying to pack 3 + 5 bits into an 8-bit value.  Why do you say that can&#39;t be done?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 522, "user_id": 5472899, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/906d78201e3d2cdf72b9ca471f77a568?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Sanford", "link": "https://stackoverflow.com/users/5472899/josh-sanford"}, "edited": false, "score": 1, "creation_date": 1480550198, "post_id": 40889581, "comment_id": 69014555, "body": "@JoshSanford: There is no guarantee for the layout, nor the size of the <code>struct</code> to be 1 byte. It is well possible to be padded to the next word (or larger) boundary. Especially for embedd these are vital issues. There is a good reason MCU headers don&#39;t use them, but <code>uintN_t</code> and bitops instead."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "reply_to_user": {"reputation": 522, "user_id": 5472899, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/906d78201e3d2cdf72b9ca471f77a568?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Sanford", "link": "https://stackoverflow.com/users/5472899/josh-sanford"}, "edited": false, "score": 0, "creation_date": 1480579437, "post_id": 40889581, "comment_id": 69023450, "body": "@JoshSanford Your compiler is bad or misconfigured. Apart from stdint.h obviously not being present in C89, you get the following error when compiling with <code>gcc -std=c89 -pedantic-errors</code> &quot;error: type of bit-field &#39;count&#39; is a GCC extension&quot;."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "reply_to_user": {"reputation": 522, "user_id": 5472899, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/906d78201e3d2cdf72b9ca471f77a568?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Sanford", "link": "https://stackoverflow.com/users/5472899/josh-sanford"}, "edited": false, "score": 0, "creation_date": 1480588852, "post_id": 40889581, "comment_id": 69029326, "body": "@JoshSanford OP stated he is encoding morse, and that he is hoping to encode the morse dot-dash pattern into five bits. As PaulR pointed out, there are morse symbols longer than five dots/dashes. If the question were &quot;how do I pack two values with 3 and five bits into 8&quot; that would be, err, a different question."}], "answers": [{"tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 1, "last_activity_date": 1480512516, "creation_date": 1480512516, "answer_id": 40889652, "question_id": 40889581, "link": "https://stackoverflow.com/questions/40889581/set-proper-bits-on-n-bit-number-with-given-decimal-value/40889652#40889652", "title": "Set proper bits on n-bit number with given decimal value", "body": "<p>You switch bits on using <code>|</code>. Let's stick with your non-standard notation for binary literals (note that C++14 onwards supports it):</p>\n\n<p><code>0b000 | 0b100</code> is <code>0b100</code>.</p>\n\n<p><code>0b100 | 0b001</code> is <code>0b101</code>.</p>\n\n<p>Note that you can <em>toggle</em> bits using <code>^</code> (work through some examples as an exercise).</p>\n\n<p>Finally, you can switch <em>off</em> bits using '&amp;~`.</p>\n"}, {"comments": [{"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480521857, "post_id": 40892243, "comment_id": 68999630, "body": "This is complete nonsense. Shifting 5 bits to the left will only set the 5 LSB to zero, while moving the data you had there 5 bits away. So this code <i>sets bits 5 to 9</i> and not <i>0 to 2</i> which was what the question was about."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480522280, "post_id": 40892243, "comment_id": 68999925, "body": "Now if you actually want to set the 3 lowest bits you would do <code>something = (something &amp; 0xF8) | (value &amp; 0x07)</code>. I see that you&#39;ve edited the question so that it asks something else. Please don&#39;t do that when there are answers present."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480550309, "post_id": 40892243, "comment_id": 69014579, "body": "The &quot;first 3 bits&quot; are bit 2..0, not bit 7..5 ."}], "tags": [], "owner": {"reputation": 1, "user_id": 6097599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd971ddb0f4225bcbcacbea676493a2b?s=128&d=identicon&r=PG&f=1", "display_name": "mordowiciel", "link": "https://stackoverflow.com/users/6097599/mordowiciel"}, "is_accepted": false, "score": -2, "last_activity_date": 1480520009, "creation_date": 1480520009, "answer_id": 40892243, "question_id": 40889581, "link": "https://stackoverflow.com/questions/40889581/set-proper-bits-on-n-bit-number-with-given-decimal-value/40892243#40892243", "title": "Set proper bits on n-bit number with given decimal value", "body": "<p>Solved, if you want to set the first 3 bits, then shift 5 bits to the left (where value is the number you want to set on 3 first bits):</p>\n\n<pre><code>value = value &lt;&lt; 5;\n</code></pre>\n\n<p>And then OR it with the rest of bits:</p>\n\n<pre><code>morseBits = morseBits | value;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6097599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd971ddb0f4225bcbcacbea676493a2b?s=128&d=identicon&r=PG&f=1", "display_name": "mordowiciel", "link": "https://stackoverflow.com/users/6097599/mordowiciel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "closed_date": 1480523851, "answer_count": 2, "score": -3, "last_activity_date": 1480520009, "creation_date": 1480512296, "last_edit_date": 1480513171, "question_id": 40889581, "link": "https://stackoverflow.com/questions/40889581/set-proper-bits-on-n-bit-number-with-given-decimal-value", "closed_reason": "Needs more focus", "title": "Set proper bits on n-bit number with given decimal value", "body": "<p>Suppose I have the number 0b000 and I need to set the correct bits, so that they will be equal for ex. 5. (0b101).\nHow do I do that, using bitwise operations algorithm?</p>\n\n<p>Okay, more details then. I'm developing morse code decoder, and to describe a input, I'm using 8 bits: <strong>000 00000</strong>, where first three bits are t<strong>he number of dot/dashes given</strong>, and the rest of bits are reserved for the input, where dot is 0, and dash is 1.\nFor example, the letter A (.-) would be: <strong>010 01000</strong>.</p>\n\n<p>The question is, how can I modify the first three bits so that they will show how many dot/dashes were given during the input?</p>\n"}, {"tags": ["c", "linux", "ipc", "message-queue"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1480511975, "post_id": 40889356, "comment_id": 68992444, "body": "If you pass zero as the flags (or at least not pass the <code>IPC_CREAT</code> flag) , then the call will fail with <code>errno</code> set to <code>ENOENT</code> if there is no message queue with the specified key. I recommend you <a href=\"http://man7.org/linux/man-pages/man2/msgget.2.html\" rel=\"nofollow noreferrer\">read the manual page</a>."}, {"owner": {"reputation": 9, "user_id": 7230913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d19cb4456f10f36eda2168c774dff64?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7230913/patrick"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1480560184, "post_id": 40889356, "comment_id": 69017072, "body": "Thanks for the tip, I read the manual, didn&#39;t notice the <code>ENOENT</code> flag."}], "answers": [{"tags": [], "owner": {"reputation": 1676, "user_id": 3264809, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/d36a2da1d4a8b8336b4684eac4c9fee8?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Gemini", "link": "https://stackoverflow.com/users/3264809/sumit-gemini"}, "is_accepted": false, "score": 0, "last_activity_date": 1480512812, "last_edit_date": 1480512812, "creation_date": 1480512504, "answer_id": 40889648, "question_id": 40889356, "link": "https://stackoverflow.com/questions/40889356/check-if-a-ipc-message-queue-already-exists-without-creating-it/40889648#40889648", "title": "Check if a IPC message queue already exists without creating it", "body": "<p>ipcs(1) provides information on the IPC facilities and ipcrm(1) can be used to remove the IPC objects from the system.</p>\n\n<p>List shared memory segments:</p>\n\n<p>ipcs -m</p>\n\n<p>List message queues:</p>\n\n<p>ipcs -q</p>\n\n<p>Remove shared memory segment created with shmkey:</p>\n\n<p>ipcrm -M key</p>\n\n<p>Remove shared memory segment identified by shmid:</p>\n\n<p>ipcrm -m id</p>\n\n<p>Remove message queue created with msgkey:</p>\n\n<p>ipcrm -Q key</p>\n\n<p>Remove message queue identified by msgid:</p>\n\n<p>ipcrm -q id</p>\n"}], "owner": {"reputation": 9, "user_id": 7230913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d19cb4456f10f36eda2168c774dff64?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7230913/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 916, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480512812, "creation_date": 1480511692, "question_id": 40889356, "link": "https://stackoverflow.com/questions/40889356/check-if-a-ipc-message-queue-already-exists-without-creating-it", "title": "Check if a IPC message queue already exists without creating it", "body": "<p>How can I just check if a message queue exists or not without making it?</p>\n\n<p>When using <code>msgget</code> with <code>O_CREAT | O_EXCL</code> flag, if it exists, the call will fail with return value -1, but if it doesn't, it will then create a new message queue. Is there any way to just check?</p>\n"}, {"tags": ["c", "function"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 3, "creation_date": 1480511006, "post_id": 40889041, "comment_id": 68991768, "body": "It appears to be conversion from decimal to hexadecimal"}, {"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480511638, "post_id": 40889041, "comment_id": 68992172, "body": "Given that <code>L2</code> is only 32 bits, I am not so sure about that."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480512037, "post_id": 40889041, "comment_id": 68992483, "body": "@Gerhardh: I came to my conclusion empirically. Without more meaningful names and comments, it&#39;s difficult to say otherwise what is going on."}, {"owner": {"reputation": 32098, "user_id": 646887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YJ0Ye.jpg?s=128&g=1", "display_name": "Klas Lindb&#228;ck", "link": "https://stackoverflow.com/users/646887/klas-lindb%c3%a4ck"}, "reply_to_user": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480512507, "post_id": 40889041, "comment_id": 68992838, "body": "@Gerhardh  If the number contains data above 32 bits then it will return 0 and print nothing. For numbers that fit into 32 bits it will print the hex representation and return the number of hexadecimal digits printed."}, {"owner": {"reputation": 2048, "user_id": 4961259, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9b82c25cbde4d52888e6eccc44764b80?s=128&d=identicon&r=PG&f=1", "display_name": "Kami Kaze", "link": "https://stackoverflow.com/users/4961259/kami-kaze"}, "edited": false, "score": 0, "creation_date": 1480513612, "post_id": 40889041, "comment_id": 68993579, "body": "why cast a 32 bit uint to 64bit then shift and write it back to 32bit? (see L2)"}], "answers": [{"comments": [{"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 0, "creation_date": 1480521722, "post_id": 40889155, "comment_id": 68999532, "body": "Not to be a pedant, but why give the OP a solution / alternative in C++?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 0, "creation_date": 1480522223, "post_id": 40889155, "comment_id": 68999887, "body": "@KevinDTimm: With questions like these, the asker is typically new enough that they don&#39;t recognize when they&#39;re using a C++ compiler, so I instinctively assumed as much."}, {"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 0, "creation_date": 1480522431, "post_id": 40889155, "comment_id": 69000036, "body": "They&#39;ve tagged the question as <code>c</code> and their compiler shouldn&#39;t matter - your example won&#39;t be of much use to a <code>c</code> programmer or in a <code>c</code> class."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 0, "creation_date": 1480522716, "post_id": 40889155, "comment_id": 69000256, "body": "@KevinDTimm: Fair point. I&#39;ve edited the post with more C-specific information. I still think the C++ bit is useful, though."}], "tags": [], "owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "is_accepted": true, "score": 1, "last_activity_date": 1480522690, "last_edit_date": 1480522690, "creation_date": 1480511120, "answer_id": 40889155, "question_id": 40889041, "link": "https://stackoverflow.com/questions/40889041/what-is-this-c-function-doing/40889155#40889155", "title": "What is this C function doing?", "body": "<p>This code accepts a decimal value and prints the hexadecimal representation.</p>\n\n<p><a href=\"http://ideone.com/YWVHOT\" rel=\"nofollow noreferrer\">Try it out yourself</a></p>\n\n<p>In C we can use the <code>%x</code> (<code>%X</code>) format specifier flag to <code>printf</code> to do it for us:</p>\n\n<pre><code>printf(\"%X\", 16); // 10\nprintf(\"\\n\");\nprintf(\"%X\", 42); // 2A\n</code></pre>\n\n<p>If you're using a C++ compiler, we can instead use the <a href=\"http://en.cppreference.com/w/cpp/io/manip/hex\" rel=\"nofollow noreferrer\"><code>std::hex</code></a> stream manipulation flag on <code>iostream</code> to achieve the same result:</p>\n\n<pre><code>std::cout &lt;&lt; std::hex &lt;&lt; 16 &lt;&lt; std::endl; // 10\nstd::cout &lt;&lt; std::hex &lt;&lt; 42 &lt;&lt; std::endl; // 2a\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4561812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ca81189f3efd3df7b7ed7227f84dd6?s=128&d=identicon&r=PG&f=1", "display_name": "EgerStu", "link": "https://stackoverflow.com/users/4561812/egerstu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 40889155, "answer_count": 1, "score": -7, "last_activity_date": 1480534184, "creation_date": 1480510792, "last_edit_date": 1480534184, "question_id": 40889041, "link": "https://stackoverflow.com/questions/40889041/what-is-this-c-function-doing", "title": "What is this C function doing?", "body": "<p>I understand that it's going to take in a number and return a character. I understand what each line of code is doing, but I can't really express what it's doing overall in a meaningful way. Any ideas?</p>\n\n<pre><code>int function(uint64_t P1) {\n    uint64_t L1 = P1;\n    uint32_t L2 = 1;\n\n    while (L1 &gt; 15) {\n        L2 = (uint64_t)L2 &lt;&lt; 4;\n        L1 = L1 &gt;&gt; 4;\n    }\n    uint32_t L3 = 0;\n\n    while (L2 != 0) {\n        L1 = P1;\n        uint32_t L4 = 0;\n\n        L4 = L1 % L2;\n        uint64_t L5 = (uint64_t)L4;\n        sub_function(L1 / L2);\n        L3++;\n        P1 = L5;\n        L2 = (uint64_t)L2 &gt;&gt; 4;\n    }\n    L1 = L3;\n\n    return L1;\n}\n\nvoid sub_function(uint64_t P1) {\n    if (P1 &lt;= 9) {\n        printf(\"%c\", P1 + 48);\n    } else {\n        printf(\"%c\", P1 + 55);\n    }\n}\n</code></pre>\n"}, {"tags": ["c", "linux", "memory"], "comments": [{"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 3, "creation_date": 1480510107, "post_id": 40888758, "comment_id": 68991186, "body": "<a href=\"https://www.kernel.org/doc/Documentation/vm/overcommit-accounting\" rel=\"nofollow noreferrer\">kernel.org/doc/Documentation/vm/overcommit-accounting</a>"}, {"owner": {"reputation": 6034, "user_id": 4460500, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7TTnO.jpg?s=128&g=1", "display_name": "VolAnd", "link": "https://stackoverflow.com/users/4460500/voland"}, "edited": false, "score": 2, "creation_date": 1480510700, "post_id": 40888758, "comment_id": 68991561, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2798330/maximum-memory-which-malloc-can-allocate\">maximum memory which malloc can allocate</a>"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 1, "creation_date": 1480510717, "post_id": 40888758, "comment_id": 68991574, "body": "Out of curiousity, why on earth would you ever need to allocate 100GB RAM?"}, {"owner": {"reputation": 155, "user_id": 1655997, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/76ab4193128868348c58f358771e5855?s=128&d=identicon&r=PG", "display_name": "Yuansheng liu", "link": "https://stackoverflow.com/users/1655997/yuansheng-liu"}, "reply_to_user": {"reputation": 6034, "user_id": 4460500, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7TTnO.jpg?s=128&g=1", "display_name": "VolAnd", "link": "https://stackoverflow.com/users/4460500/voland"}, "edited": false, "score": 0, "creation_date": 1480510918, "post_id": 40888758, "comment_id": 68991714, "body": "@VolAnd Yes. similar problem. But I can&#39;t find an answer in that problem."}, {"owner": {"reputation": 155, "user_id": 1655997, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/76ab4193128868348c58f358771e5855?s=128&d=identicon&r=PG", "display_name": "Yuansheng liu", "link": "https://stackoverflow.com/users/1655997/yuansheng-liu"}, "reply_to_user": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480511137, "post_id": 40888758, "comment_id": 68991852, "body": "@Lundin You can think that this is my test. Actually, another guy write this in his code. I also very curiosity, and I want to understand the principle of mac OS can do that."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1480516457, "post_id": 40888758, "comment_id": 68995693, "body": "&quot;I find that 100GB can be allocated in macOS with 8 GB RAM&quot;. That&#39;s an illusion. Read about memory overcommitment."}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 1655997, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/76ab4193128868348c58f358771e5855?s=128&d=identicon&r=PG", "display_name": "Yuansheng liu", "link": "https://stackoverflow.com/users/1655997/yuansheng-liu"}, "edited": false, "score": 0, "creation_date": 1480511347, "post_id": 40889120, "comment_id": 68991981, "body": "This is a fact that the memory what I want to allocated more than RAM (100GB &gt; 48GB). But the mac OS only 8GB RAM also can malloc(100GB). Why?"}, {"owner": {"reputation": 155, "user_id": 1655997, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/76ab4193128868348c58f358771e5855?s=128&d=identicon&r=PG", "display_name": "Yuansheng liu", "link": "https://stackoverflow.com/users/1655997/yuansheng-liu"}, "edited": false, "score": 0, "creation_date": 1480511569, "post_id": 40889120, "comment_id": 68992130, "body": "The redhat system is 64bit release. Maybe not in 32 bit mode? Increasing physical memory is out of my intention. Swap size is 4GB. I will check the third suggestion."}, {"owner": {"reputation": 1676, "user_id": 3264809, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/d36a2da1d4a8b8336b4684eac4c9fee8?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Gemini", "link": "https://stackoverflow.com/users/3264809/sumit-gemini"}, "reply_to_user": {"reputation": 155, "user_id": 1655997, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/76ab4193128868348c58f358771e5855?s=128&d=identicon&r=PG", "display_name": "Yuansheng liu", "link": "https://stackoverflow.com/users/1655997/yuansheng-liu"}, "edited": false, "score": 0, "creation_date": 1480511607, "post_id": 40889120, "comment_id": 68992148, "body": "Have you checked swap space of Mac OS. Actually I faced this issue in java apps. At that time my machine was over loaded by processes and swap space was very less."}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "reply_to_user": {"reputation": 155, "user_id": 1655997, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/76ab4193128868348c58f358771e5855?s=128&d=identicon&r=PG", "display_name": "Yuansheng liu", "link": "https://stackoverflow.com/users/1655997/yuansheng-liu"}, "edited": false, "score": 0, "creation_date": 1480512518, "post_id": 40889120, "comment_id": 68992847, "body": "@Yuanshengliu MacOS is a 64 bits system and has dynamic virtual memory, and it lets you allocate huge chunks of memory (its lazy allocation greatly helps in that case). Linux (depending on the version) has different limitations."}, {"owner": {"reputation": 1676, "user_id": 3264809, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/d36a2da1d4a8b8336b4684eac4c9fee8?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Gemini", "link": "https://stackoverflow.com/users/3264809/sumit-gemini"}, "edited": false, "score": 0, "creation_date": 1480512899, "post_id": 40889120, "comment_id": 68993083, "body": "Actually I am not aware about Mac OS. So can not say more on it."}], "tags": [], "owner": {"reputation": 1676, "user_id": 3264809, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/d36a2da1d4a8b8336b4684eac4c9fee8?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Gemini", "link": "https://stackoverflow.com/users/3264809/sumit-gemini"}, "is_accepted": false, "score": 0, "last_activity_date": 1480512209, "last_edit_date": 1480512209, "creation_date": 1480511021, "answer_id": 40889120, "question_id": 40888758, "link": "https://stackoverflow.com/questions/40888758/how-to-use-malloc-allocates-memory-more-than-ram-in-redhat/40889120#40889120", "title": "How to use malloc() allocates memory more than RAM in redhat?", "body": "<p>Possible reasons:</p>\n\n<ol>\n<li><p>The system is out of physical RAM or swap space.</p></li>\n<li><p>In 32 bit mode, the process size limit was hit.</p></li>\n</ol>\n\n<p>Possible solutions:</p>\n\n<ol>\n<li><p>Reduce memory load on the system.</p></li>\n<li><p>Increase physical memory or swap space.</p></li>\n<li><p>Check if swap backing store is full. </p></li>\n</ol>\n\n<p>I think these point can help you to understand malloc failure issue.</p>\n\n<p>Input validation. For example, you've asked for many gigabytes of memory in a single allocation. The exact limit (if any) differs by malloc implementation; POSIX says nothing about a maximum value, short of its type being a size_t.</p>\n\n<p>Allocation failures. With a data segment-based malloc, this means brk failed. This occurs when the new data segment is invalid, the system is low on memory, or the process has exceeded its maximum data segment size (as specified by RLIMIT_DATA). With a mapping-based malloc, this means mmap failed. This occurs when the process is out of virtual memory (specified by RLIMIT_AS), has exceeded its limit on mappings, or has requested too large a mapping. Note most modern Unix systems use a combination of brk and mmap to implement malloc, choosing between the two based on the size of the requested allocation.</p>\n"}], "owner": {"reputation": 155, "user_id": 1655997, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/76ab4193128868348c58f358771e5855?s=128&d=identicon&r=PG", "display_name": "Yuansheng liu", "link": "https://stackoverflow.com/users/1655997/yuansheng-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1480554106, "creation_date": 1480509984, "last_edit_date": 1495541788, "question_id": 40888758, "link": "https://stackoverflow.com/questions/40888758/how-to-use-malloc-allocates-memory-more-than-ram-in-redhat", "title": "How to use malloc() allocates memory more than RAM in redhat?", "body": "<p>System information: Linux version 2.6.32-573.12.1.el6.x86_64 (mockbuild@x86-031.build.eng.bos.redhat.com) (gcc version 4.4.7 20120313 (Red Hat 4.4.7-16) (GCC) ) #1 SMP Mon Nov 23 12:55:32 EST 2015</p>\n\n<p>RAM 48 GB</p>\n\n<p>Problem: I want to malloc() 100 GB memory. But it fail to allocate on redhat system.</p>\n\n<p>I find that 100GB can be allocated in macOS with 8 GB RAM (clang compile). I am very confuse about that.</p>\n\n<p>Maybe lazy allocation described in this link? <a href=\"https://stackoverflow.com/questions/31164136/why-malloc-doesnt-stop-on-os-x?noredirect=1&amp;lq=1\">Why malloc() doesn't stop on OS X?</a></p>\n\n<p>But why linux system can not? I try ubuntu and redhat, both fail to to that.</p>\n\n<hr>\n\n<p><strong>Result</strong>:\nAfter investigation, I find that the following two steps will let malloc() unlimited:</p>\n\n<ol>\n<li><p>echo \"1\" > /proc/sys/vm/overcommit_memory</p></li>\n<li><p>ulimit -v unlimited</p></li>\n</ol>\n"}, {"tags": ["c", "function", "recursion", "variable-assignment"], "comments": [{"owner": {"reputation": 634, "user_id": 3735245, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a92a967d5a1f2efe4fba36f81ef5b536?s=128&d=identicon&r=PG&f=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3735245/rorschach"}, "edited": false, "score": 2, "creation_date": 1480510110, "post_id": 40888686, "comment_id": 68991189, "body": "People will be more eager to help you if you provide some code in which you tried and failed. Just a tip for future."}, {"owner": {"reputation": 29, "user_id": 7106518, "user_type": "registered", "profile_image": "https://graph.facebook.com/1139957386082875/picture?type=large", "display_name": "Miko\u0142aj Kuci\u0144ski", "link": "https://stackoverflow.com/users/7106518/miko%c5%82aj-kuci%c5%84ski"}, "reply_to_user": {"reputation": 634, "user_id": 3735245, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a92a967d5a1f2efe4fba36f81ef5b536?s=128&d=identicon&r=PG&f=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3735245/rorschach"}, "edited": false, "score": 0, "creation_date": 1480510704, "post_id": 40888686, "comment_id": 68991563, "body": "Actually i have nothing to work on. Just a name of function I have to implement.  int recCounter(char * source, int letter). I know how to do the task using iterative function but recursive one is too difficult."}, {"owner": {"reputation": 2048, "user_id": 4961259, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9b82c25cbde4d52888e6eccc44764b80?s=128&d=identicon&r=PG&f=1", "display_name": "Kami Kaze", "link": "https://stackoverflow.com/users/4961259/kami-kaze"}, "edited": false, "score": 0, "creation_date": 1480510822, "post_id": 40888686, "comment_id": 68991648, "body": "We are not a homework service. You should consult a good book or tutorial to get the concept this way you won&#39;t learn it ever."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1480524620, "post_id": 40888686, "comment_id": 69001547, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/on-topic\">on topic</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> apply here. StackOverflow is not a coding or tutorial service."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7106518, "user_type": "registered", "profile_image": "https://graph.facebook.com/1139957386082875/picture?type=large", "display_name": "Miko\u0142aj Kuci\u0144ski", "link": "https://stackoverflow.com/users/7106518/miko%c5%82aj-kuci%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1480510858, "post_id": 40888977, "comment_id": 68991669, "body": "Thanks mate, i will study this code as soon as i get home. Really appreciate it."}], "tags": [], "owner": {"reputation": 634, "user_id": 3735245, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a92a967d5a1f2efe4fba36f81ef5b536?s=128&d=identicon&r=PG&f=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3735245/rorschach"}, "is_accepted": false, "score": 1, "last_activity_date": 1480511012, "last_edit_date": 1480511012, "creation_date": 1480510634, "answer_id": 40888977, "question_id": 40888686, "link": "https://stackoverflow.com/questions/40888686/using-recursive-function-to-count-occurences-of-letters/40888977#40888977", "title": "Using recursive function to count occurences of letters", "body": "<p>This should work for you...\nEDIT: You added more info, so code has changed a bit</p>\n\n<pre><code>int recCounter(char * source, int letter) {\n    if(*source == '\\0')\n        return 0;\n\n    if(source[0] == letter) {\n        *source++;\n        return 1 + recCounter(source, letter);\n    }\n\n    *source++;\n    return 0 + recCounter(source, letter);\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7106518, "user_type": "registered", "profile_image": "https://graph.facebook.com/1139957386082875/picture?type=large", "display_name": "Miko\u0142aj Kuci\u0144ski", "link": "https://stackoverflow.com/users/7106518/miko%c5%82aj-kuci%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1110, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1480511012, "creation_date": 1480509749, "question_id": 40888686, "link": "https://stackoverflow.com/questions/40888686/using-recursive-function-to-count-occurences-of-letters", "title": "Using recursive function to count occurences of letters", "body": "<p>i was asked to prepare an assignment using recursive function but this kind of function is hard for me to understand. Could you please help me? Program has to count the occurences of specifed letters in source string.</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 1220, "user_id": 5878272, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14e96159153b67fab5222b7c5fa18c71?s=128&d=identicon&r=PG&f=1", "display_name": "Fredrik", "link": "https://stackoverflow.com/users/5878272/fredrik"}, "edited": false, "score": 2, "creation_date": 1480508624, "post_id": 40888252, "comment_id": 68990248, "body": "Use &amp;biology and &amp;chemistry"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1480508651, "post_id": 40888252, "comment_id": 68990264, "body": "Just about any <a href=\"http://stackoverflow.com/questions/562303/the-definitive-c-book-guide-and-list\">beginners book</a> will tell you what you need to know. Please find and read one."}], "answers": [{"tags": [], "owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1480508609, "creation_date": 1480508609, "answer_id": 40888286, "question_id": 40888252, "link": "https://stackoverflow.com/questions/40888252/error-when-running-c-program-after-first-input/40888286#40888286", "title": "Error when running C-program after first input", "body": "<p>You are passing incorrect arguments to scanf() calls. You must pass the <em>address</em> of the variables (see <a href=\"http://man7.org/linux/man-pages/man3/scanf.3.html\" rel=\"nofollow noreferrer\"><code>scanf()</code></a>'s documentation) to match <code>%d</code> format.</p>\n\n<pre><code>scanf(\"%d\", &amp;biology);\n...\nscanf(\"%d\", &amp;chemistry);\n</code></pre>\n\n<p>You should also check the return code to see if the <code>scanf()</code> calls succeeded.</p>\n"}, {"tags": [], "owner": {"reputation": 1751, "user_id": 2959769, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/9WfJf.jpg?s=128&g=1", "display_name": "Vinay Shukla", "link": "https://stackoverflow.com/users/2959769/vinay-shukla"}, "is_accepted": false, "score": 5, "last_activity_date": 1480509386, "last_edit_date": 1495541630, "creation_date": 1480509050, "answer_id": 40888435, "question_id": 40888252, "link": "https://stackoverflow.com/questions/40888252/error-when-running-c-program-after-first-input/40888435#40888435", "title": "Error when running C-program after first input", "body": "<p>C function parameters are always \"pass-by-value\", which means that the function <code>scanf</code> only sees a copy of the current value of whatever you specify as the argument expression.</p>\n\n<p>If you passed <code>biology</code>, then it would only see an uninitialized value. On the other hand <code>&amp;biology</code> is a pointer value that refers to the variable i.e <code>scanf</code> can use this to modify <code>biology</code>.</p>\n\n<p>The <code>scanf</code>would need to be modified as follows</p>\n\n<pre><code>scanf(\"%d\", &amp;biology);\nscanf(\"%d\", &amp;chemistry);\n</code></pre>\n\n<p>To understand this in detail read <a href=\"https://stackoverflow.com/questions/10597606/why-does-scanf-require\">Why does scanf require &amp;</a></p>\n"}], "owner": {"reputation": 13, "user_id": 3934169, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7d31572896b75de93aa6f1b6f0905919?s=128&d=identicon&r=PG&f=1", "display_name": "user3934169", "link": "https://stackoverflow.com/users/3934169/user3934169"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1480525272, "answer_count": 2, "score": 0, "last_activity_date": 1480512633, "creation_date": 1480508475, "last_edit_date": 1480512633, "question_id": 40888252, "link": "https://stackoverflow.com/questions/40888252/error-when-running-c-program-after-first-input", "closed_reason": "Not suitable for this site", "title": "Error when running C-program after first input", "body": "<p>The program shuts down after I enter the first input </p>\n\n<pre><code>#include&lt;stdio.h&gt;\nint main(void)\n{\n    int biology,chemistry;\n    printf(\"\\nEnter marks for maths\");\n    scanf(\"%d\",biology);\n    printf(\"\\nEnter marks for tech1\");\n    scanf(\"%d\",chemistry);\n    return(0);\n}\n</code></pre>\n"}, {"tags": ["c", "linux", "driver"], "comments": [{"owner": {"reputation": 1301, "user_id": 3339818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bVVg1.jpg?s=128&g=1", "display_name": "surajs1n", "link": "https://stackoverflow.com/users/3339818/surajs1n"}, "edited": false, "score": 1, "creation_date": 1480508461, "post_id": 40888190, "comment_id": 68990135, "body": "code ?? where is your code ?"}], "answers": [{"tags": [], "owner": {"reputation": 1676, "user_id": 3264809, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/d36a2da1d4a8b8336b4684eac4c9fee8?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Gemini", "link": "https://stackoverflow.com/users/3264809/sumit-gemini"}, "is_accepted": false, "score": 0, "last_activity_date": 1480509913, "creation_date": 1480509913, "answer_id": 40888737, "question_id": 40888190, "link": "https://stackoverflow.com/questions/40888190/c-read-data-that-is-written-to-one-char-device-by-other-char-devices-of-the/40888737#40888737", "title": "c - Read data, that is written to one char device, by other char devices of the same driver", "body": "<p>First of all you should know , a device file is pipe. So there should be one reader and writer. In your example you want writer write on pipe1 and reader on pipe2 read what was written in pipe1. It is not possible in kernel module by opening single device. If you want it you have to open two device and then it is possible. </p>\n"}], "owner": {"reputation": 1, "user_id": 7230663, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-l_niVKFlBxs/AAAAAAAAAAI/AAAAAAAAA1E/i8sW3h5jtc4/photo.jpg?sz=128", "display_name": "AleX werton", "link": "https://stackoverflow.com/users/7230663/alex-werton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1480509913, "creation_date": 1480508322, "question_id": 40888190, "link": "https://stackoverflow.com/questions/40888190/c-read-data-that-is-written-to-one-char-device-by-other-char-devices-of-the", "title": "c - Read data, that is written to one char device, by other char devices of the same driver", "body": "<p>I have a task to create a driver for char devices, in which data, which is written into one char device, can be read by other devices. I know how to create multiple devices within one driver and how to read/write from/to them, but i can't find a solution to \"read from one by others\". Is this possible ?</p>\n"}, {"tags": ["c", "gcc", "netbeans"], "owner": {"reputation": 1973, "user_id": 1187098, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2c31da844ec3d4c6889e2dd5e9323037?s=128&d=identicon&r=PG", "display_name": "art vanderlay", "link": "https://stackoverflow.com/users/1187098/art-vanderlay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1480508338, "creation_date": 1480506974, "last_edit_date": 1480508338, "question_id": 40887743, "link": "https://stackoverflow.com/questions/40887743/netbeans-cannot-find-include-file-on-remote-tool-chain", "title": "netbeans cannot find include file on remote tool chain", "body": "<p>I am moving from intellij to NetBeans and am hitting an issue with code assist for remote C projects. </p>\n\n<p>I have the set up as below, with the correct directories added under code assist. However NetBeans reports two types of problem with the red underline and light-bulb </p>\n\n<ol>\n<li><code>cannot find include file #Include &lt;gst/gst.h.&gt;</code> + many others. </li>\n<li><code>Unable to resolve identifier .....</code> from include file gst.h. </li>\n</ol>\n\n<p>When running build from NetBeans , it uploads and comiles the code on the remote machine with no errors reported and compile happens as expected. </p>\n\n<p>What am I doing wrong in my set up? </p>\n\n<pre><code>Local NetBeans Machine\n    Windows 10 \n    Product Version: NetBeans IDE 8.2 (Build 201609300101) \n    Java: 1.8.0_91; Java HotSpot(TM) 64-Bit Server VM 25.91-b15 \n\nRemote Build Host \n    SSH with PPK (password protected) \n    centos 7 \n    Build Tools: GNU GCC 5.4.0 \n\nOptions -&gt; code Assist -&gt; C compiler -&gt; included Directories \n[with key symbol] /home/ec2-user/gst/master/gstreamer\n</code></pre>\n\n<p>The password for the PPK is not saved in NetBeans.</p>\n\n<pre><code>myScript.c \n#include &lt;gst/gst.h&gt;\n</code></pre>\n\n<p>On remote host host I have the file </p>\n\n<pre><code>/home/ec2-user/gst/master/gstreamer/gst/gst.c \n/home/ec2-user/gst/master/gstreamer/gst/gst.h \n</code></pre>\n\n<p>Thanks \nArt</p>\n"}, {"tags": ["c", "compiler-errors"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1480506785, "post_id": 40887619, "comment_id": 68989099, "body": "Can you explain what you are tring to do in more detail, IDK what you are talking about with wanting a different version for &quot;reference version&quot; etc."}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480506816, "post_id": 40887619, "comment_id": 68989112, "body": "Then remove <code>static</code>."}], "answers": [{"comments": [{"owner": {"reputation": 16818, "user_id": 2759376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ea961d84ee1a515db154423fdb8c5a71?s=128&d=identicon&r=PG", "display_name": "goldenmean", "link": "https://stackoverflow.com/users/2759376/goldenmean"}, "edited": false, "score": 0, "creation_date": 1480512260, "post_id": 40887710, "comment_id": 68992670, "body": "Thanks. Maybe i was unclear in OP. The static inline version is a platform specific version which ha some constructs valid only on a certain target platform e.g. say ARM. and other version being the plain C reference code without any platform specific constructs. So if I wrap as u say, the C reference version will fail to build/link."}, {"owner": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "reply_to_user": {"reputation": 16818, "user_id": 2759376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ea961d84ee1a515db154423fdb8c5a71?s=128&d=identicon&r=PG", "display_name": "goldenmean", "link": "https://stackoverflow.com/users/2759376/goldenmean"}, "edited": false, "score": 0, "creation_date": 1480514821, "post_id": 40887710, "comment_id": 68994485, "body": "@goldenmean You should use preprocessor directives for that."}], "tags": [], "owner": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "is_accepted": false, "score": 2, "last_activity_date": 1480507279, "last_edit_date": 1480507279, "creation_date": 1480506859, "answer_id": 40887710, "question_id": 40887619, "link": "https://stackoverflow.com/questions/40887619/errors-due-to-static-inline-version-of-a-earlier-non-static-non-inline-function/40887710#40887710", "title": "Errors due to static inline version of a earlier non-static non-inline function", "body": "<p>A function defined with static storage-class specifier has internal linkage. You cannot refer to it outside that translation unit. </p>\n\n<p>If you cannot change the declaration of myfunc in the header, then write two \nfunctions in the source file. One called myfuncreal, which does all the work and is defined with static inline:</p>\n\n<pre><code>__attribute__((always_inline)) static inline  int myfuncreal(int a)\n{\n     //uses parameter a and returns the result\n}\n</code></pre>\n\n<p>And the other called myreal that wraps around myfuncreal, defined as: </p>\n\n<pre><code>int myfunc(int a)\n{\n    return myfuncreal(a);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480507128, "post_id": 40887772, "comment_id": 68989316, "body": "First of all, you did not explain anything. Second of all, this will cause the same problem if <code>DEBUG</code> is NOT defined."}, {"owner": {"reputation": 1119, "user_id": 6797534, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tu8Gt9iJGt8/AAAAAAAAAAI/AAAAAAAAAI0/Diz261BzMYk/photo.jpg?sz=128", "display_name": "Ray Hamel", "link": "https://stackoverflow.com/users/6797534/ray-hamel"}, "reply_to_user": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480508397, "post_id": 40887772, "comment_id": 68990097, "body": "My solution is much the same as yours, except it has the advantage of being readable and not polluting the namespace. And I <i>said</i> this is under the assumption that DEBUG is defined for non-optimized builds, which any reasonable compiler does. It could be replaced with RELEASE or whatever relevant macro there might be should that not be the case. Btw, the tactic of trying to raise your visibility by downvoting answers other than your own the second they&#39;re posted is perhaps a sign you need an internet break."}], "tags": [], "owner": {"reputation": 1119, "user_id": 6797534, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tu8Gt9iJGt8/AAAAAAAAAAI/AAAAAAAAAI0/Diz261BzMYk/photo.jpg?sz=128", "display_name": "Ray Hamel", "link": "https://stackoverflow.com/users/6797534/ray-hamel"}, "is_accepted": false, "score": 0, "last_activity_date": 1480507563, "last_edit_date": 1480507563, "creation_date": 1480507060, "answer_id": 40887772, "question_id": 40887619, "link": "https://stackoverflow.com/questions/40887619/errors-due-to-static-inline-version-of-a-earlier-non-static-non-inline-function/40887772#40887772", "title": "Errors due to static inline version of a earlier non-static non-inline function", "body": "<pre class=\"lang-c prettyprint-override\"><code>#ifndef DEBUG\nstatic inline\n#endif\nint myfunc(int);\n</code></pre>\n\n<p>Assuming DEBUG is defined in your debug builds but not in your optimized builds. Note that this example is for a declaration in a .c file or a definition in a .h file; for a declaration in a .h <em>and</em> a definition in a .c do</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>/* foo.h */\n#ifdef DEBUG\nint myfunc(int);\n#endif\n\n/* foo.c */\n#ifndef DEBUG\nstatic inline int myfunc(int);\n#endif\n/* code that uses myfunc() */\n#ifndef DEBUG\nstatic inline\n#endif\nint myfunc(int) {/* definition */}\n</code></pre>\n"}], "owner": {"reputation": 16818, "user_id": 2759376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ea961d84ee1a515db154423fdb8c5a71?s=128&d=identicon&r=PG", "display_name": "goldenmean", "link": "https://stackoverflow.com/users/2759376/goldenmean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1480509005, "creation_date": 1480506485, "last_edit_date": 1480506947, "question_id": 40887619, "link": "https://stackoverflow.com/questions/40887619/errors-due-to-static-inline-version-of-a-earlier-non-static-non-inline-function", "title": "Errors due to static inline version of a earlier non-static non-inline function", "body": "<p>I have a function which is initially declared in a header file my.h to have external linkage(no storage class specified)</p>\n\n<pre><code>int myfunc(int);\n</code></pre>\n\n<p>And this function definition and it's call is present in source file my.c\nmy.c includes my.h</p>\n\n<p>This all is fine.</p>\n\n<p>But now I wanted to make this function myfunc inline \nSo I declare a new prototype in my.c </p>\n\n<p>as </p>\n\n<pre><code>__attribute__((always_inline)) static inline  int myfunc(int)\n</code></pre>\n\n<p>and define it so in same function as before, </p>\n\n<p>as expected I keep getting an error saying</p>\n\n<blockquote>\n  <p>static declaration of 'myfunc' follows non-static declaration</p>\n</blockquote>\n\n<p>I need to keep the non-static,non-inline version of this function for a C reference version of code , and the static inline version for a optimized version of the code.</p>\n\n<p>How can I work around this problem , as I need a static declaration of that function., within this existing source/header files setup I have</p>\n\n<p>One way is I change the name of the static inline function to myfuncinline and work with it! </p>\n\n<p>But is there any way within current setup.</p>\n"}, {"tags": ["c", "oracle", "oracle-call-interface"], "owner": {"reputation": 1095, "user_id": 2878256, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/JkziT.png?s=128&g=1", "display_name": "Sujith Gunawardhane", "link": "https://stackoverflow.com/users/2878256/sujith-gunawardhane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1480508418, "creation_date": 1480505815, "last_edit_date": 1480508418, "question_id": 40887377, "link": "https://stackoverflow.com/questions/40887377/using-sqlt-bdouble-for-numberx-y-oracle-columns", "title": "Using SQLT_BDOUBLE for NUMBER(x,y) Oracle columns", "body": "<p>In my application, I have created Oracle columns as <code>NUMBER(x,y)</code> and used <code>SQLT_FLT</code> for bind and define application double variables for writing and reading data to and from Oracle database as follows.</p>\n\n<pre><code>b_IsErr = OCIDefineByPos(p_sql, &amp;p_dfn, p_DBCon-&gt;p_err, iPos, \n    (dvoid*)pdValue, sizeof(double), SQLT_FLT, 0, 0, 0, \n    OCI_DEFAULT);\n\nb_IsErr = OCIBindByPos(p_sql, &amp;p_bnd, p_DBCon-&gt;p_err, iPos,\n    (dvoid*)pdValue, sizeof(double), SQLT_FLT, 0, 0, 0, 0, 0, OCI_DEFAULT);\n</code></pre>\n\n<p>But, due to the possible precision loss I tried to use the Oracle recommended IEEE754 data types <code>BINARY_DOUBLE</code>. According to the Oracle guide the bind and define functions should be called with <code>SQLT_BDOUBLE</code> for dealing with <code>BINARY_DOUBLE</code> data types.</p>\n\n<p>But my application still uses some <code>NUMBER(x,y)</code> columns and I tried to use the same way (<code>SQLT_BDOUBLE</code>) for dealing with <code>NUMBER(x,y)</code> columns and seems it is working fine. </p>\n\n<p>I was unable to find any document contains whether this is correct or not.\nSomeone know the OCI please assist.</p>\n"}, {"tags": ["c", "pointers", "struct", "linked-list", "sizeof"], "comments": [{"owner": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "edited": false, "score": 0, "creation_date": 1480507994, "post_id": 40887233, "comment_id": 68989814, "body": "If it isn&#39;t completely obvious, this is written for anyone trying to answer this question. The line: <code>struct LinkedList *freeList = (void *) a;</code> causes undefined behavior in most cases on modern machines, and dereferencing <code>freeList</code> will always cause undefined behavior."}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "reply_to_user": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "edited": false, "score": 1, "creation_date": 1480508850, "post_id": 40887233, "comment_id": 68990384, "body": "@2501 Since it isn&#39;t obvious perhaps you should answer quoting the standard and explaining why it is undefined behavior."}, {"owner": {"reputation": 797, "user_id": 5093005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHlop.jpg?s=128&g=1", "display_name": "jboockmann", "link": "https://stackoverflow.com/users/5093005/jboockmann"}, "edited": false, "score": 1, "creation_date": 1480512656, "post_id": 40887233, "comment_id": 68992942, "body": "I hope you have a damn good reason for programming in this way"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 7184462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f45a5b1e797d003975061da6ff8cf00e?s=128&d=identicon&r=PG&f=1", "display_name": "Suneth Perera", "link": "https://stackoverflow.com/users/7184462/suneth-perera"}, "edited": false, "score": 0, "creation_date": 1480505681, "post_id": 40887278, "comment_id": 68988453, "body": "thanx mate i just want to know what happens in my code from struct LinkedList <i>freeList=(void</i>)a; code segment"}, {"owner": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "reply_to_user": {"reputation": 65, "user_id": 7184462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f45a5b1e797d003975061da6ff8cf00e?s=128&d=identicon&r=PG&f=1", "display_name": "Suneth Perera", "link": "https://stackoverflow.com/users/7184462/suneth-perera"}, "edited": false, "score": 0, "creation_date": 1480506509, "post_id": 40887278, "comment_id": 68988937, "body": "@SunethPerera Undefined behavior happens."}], "tags": [], "owner": {"reputation": 634, "user_id": 3735245, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a92a967d5a1f2efe4fba36f81ef5b536?s=128&d=identicon&r=PG&f=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3735245/rorschach"}, "is_accepted": false, "score": 0, "last_activity_date": 1480505528, "creation_date": 1480505528, "answer_id": 40887278, "question_id": 40887233, "link": "https://stackoverflow.com/questions/40887233/linkedlist-traversal-of-an-array-using-pointers/40887278#40887278", "title": "Linkedlist traversal of an array using pointers", "body": "<p>Declare a local pointer and assign it to head pointer, then run it trough entire array, and you'll pass trough each element in the array.</p>\n\n<pre><code> int traverse(struct LinkedList* head) {\n\n  struct LinkedList* it = head;\n  int size = 0;\n\n  while(it != NULL) {\n    size++;\n    it = it-&gt;next;\n  }\n\n  return size;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480506656, "post_id": 40887609, "comment_id": 68989030, "body": "Hello, please be aware that since the size is architecture dependent as you said, you can&#39;t ensure it will print <code>24</code>. That&#39;s why I edited the answer. Also, you can learn about markdown in the help section of the site, that way you can improve the visual quality and readability of your answers. The rest of course, is good taste. Whether you care about how your answer looks and if the users can read it clearly is a matter of taste."}, {"owner": {"reputation": 1676, "user_id": 3264809, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/d36a2da1d4a8b8336b4684eac4c9fee8?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Gemini", "link": "https://stackoverflow.com/users/3264809/sumit-gemini"}, "reply_to_user": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1480507368, "post_id": 40887609, "comment_id": 68989458, "body": "@inarob, thanks for editing. For size, I already machine in 64 bit machine you will 24."}], "tags": [], "owner": {"reputation": 1676, "user_id": 3264809, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/d36a2da1d4a8b8336b4684eac4c9fee8?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Gemini", "link": "https://stackoverflow.com/users/3264809/sumit-gemini"}, "is_accepted": false, "score": 0, "last_activity_date": 1480506534, "last_edit_date": 1480506534, "creation_date": 1480506467, "answer_id": 40887609, "question_id": 40887233, "link": "https://stackoverflow.com/questions/40887233/linkedlist-traversal-of-an-array-using-pointers/40887609#40887609", "title": "Linkedlist traversal of an array using pointers", "body": "<p>For your Query :-</p>\n\n<p><strong><em>I just want to know what happens from <code>struct LinkedList *freeList = (void *) a</code>; in the code</em></strong></p>\n\n<p>Nothing will happen. It will work fine, and your structure pointer will point to base address of array. </p>\n\n<p><strong><em>I want to know the size of the Linkedlist structure.</em></strong></p>\n\n<p>If you try <code>printf(\"%zu\\n\", sizeof(struct LinkedList));</code> it will probably print 24, by the way struct size depend on architecture.</p>\n\n<p>And if you try with struct <code>LinkedList *freeList1;</code>\n<code>printf(\"%d\\n\", sizeof(freeList));</code> will probably give you 8 (64bit machine). </p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 939545, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/568e6d977b62277889c933726b32273b?s=128&d=identicon&r=PG", "display_name": "Esash", "link": "https://stackoverflow.com/users/939545/esash"}, "is_accepted": false, "score": -2, "last_activity_date": 1480508787, "last_edit_date": 1480508787, "creation_date": 1480507842, "answer_id": 40888033, "question_id": 40887233, "link": "https://stackoverflow.com/questions/40887233/linkedlist-traversal-of-an-array-using-pointers/40888033#40888033", "title": "Linkedlist traversal of an array using pointers", "body": "<p>To find the number of elements in the linkedlist, you can follow the above method. But to find the size of the linkedlist,</p>\n\n<pre><code>char a[100];\nstruct LinkedList {\n    size_t size;\n    int free;\n    struct LinkedList *next;\n};\n\nstruct LinkedList *freeList = (void *)a;\n\nint main()\n{\n    struct LinkedList l;\n    std::cout &lt;&lt; sizeof(l) &lt;&lt; endl &lt;&lt; sizeof(l.size) &lt;&lt; endl &lt;&lt; sizeof(l.free) &lt;&lt; endl &lt;&lt; sizeof(l.next);\n    std::cout &lt;&lt; endl &lt;&lt; \"size of freelist : \" &lt;&lt; sizeof(freeList);\n    _getch();\n}\n</code></pre>\n\n<p>You cannot have struct LinkedList *freeList = (void *) a; You will get an error saying </p>\n\n<blockquote>\n  <p>error C2440: 'initializing': cannot convert from 'void *' to 'LinkedList <em>'\n  note: Conversion from 'void</em>' to pointer to non-'void' requires an explicit cast</p>\n</blockquote>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 65, "user_id": 7184462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f45a5b1e797d003975061da6ff8cf00e?s=128&d=identicon&r=PG&f=1", "display_name": "Suneth Perera", "link": "https://stackoverflow.com/users/7184462/suneth-perera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1480508970, "creation_date": 1480505373, "last_edit_date": 1480508465, "question_id": 40887233, "link": "https://stackoverflow.com/questions/40887233/linkedlist-traversal-of-an-array-using-pointers", "title": "Linkedlist traversal of an array using pointers", "body": "<p>I am new to C programming, </p>\n\n<pre><code>char a[100];\nstruct LinkedList {\n    size_t size;\n    int free;\n    struct LinkedList *next; \n};\n\nstruct LinkedList *freeList = (void *) a;\n</code></pre>\n\n<p>The above code is used to create a struct type linkedlist in order to traverse <code>char</code> array named 'a'. I just want to know what happens from <code>struct LinkedList *freeList = (void *) a;</code> in the code and also I want to know the size of the <code>Linkedlist</code> structure</p>\n"}, {"tags": ["c", "cs50"], "comments": [{"owner": {"reputation": 755, "user_id": 6139796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e8ec623799f48125b0aa020475091d?s=128&d=identicon&r=PG", "display_name": "Holger", "link": "https://stackoverflow.com/users/6139796/holger"}, "edited": false, "score": 0, "creation_date": 1480506836, "post_id": 40887159, "comment_id": 68989129, "body": "Your init inner loop breaks after the1st or 2nd loop. <code>if(k%2!=0) break</code>. <code>if((board[i][j]==2) &amp;&amp; (board[i][j-1]==1))</code> will never happen, becaus you fill the board with <code>k--</code> and if the current <code>board[i][j]==2</code> there can no entry be 1."}, {"owner": {"reputation": 755, "user_id": 6139796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e8ec623799f48125b0aa020475091d?s=128&d=identicon&r=PG", "display_name": "Holger", "link": "https://stackoverflow.com/users/6139796/holger"}, "edited": false, "score": 0, "creation_date": 1480507019, "post_id": 40887159, "comment_id": 68989240, "body": "In draw() you are filling the board again like init. You often access board with i-1 or j-1 which may result in board[-1]."}, {"owner": {"reputation": 755, "user_id": 6139796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e8ec623799f48125b0aa020475091d?s=128&d=identicon&r=PG", "display_name": "Holger", "link": "https://stackoverflow.com/users/6139796/holger"}, "edited": false, "score": 0, "creation_date": 1480507258, "post_id": 40887159, "comment_id": 68989390, "body": "In won() you declare win_board and use it in compares without initializing. In won() the first compare (i==0 and j==0) returns true or false."}, {"owner": {"reputation": 755, "user_id": 6139796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e8ec623799f48125b0aa020475091d?s=128&d=identicon&r=PG", "display_name": "Holger", "link": "https://stackoverflow.com/users/6139796/holger"}, "edited": false, "score": 0, "creation_date": 1480507384, "post_id": 40887159, "comment_id": 68989465, "body": "The indent is horrible to find the executing code."}, {"owner": {"reputation": 8510, "user_id": 1292918, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/44cdb725bf1a393149554bae7f5f9d46?s=128&d=identicon&r=PG", "display_name": "Toby", "link": "https://stackoverflow.com/users/1292918/toby"}, "edited": false, "score": 0, "creation_date": 1480508525, "post_id": 40887159, "comment_id": 68990182, "body": "There is a CS50x Q &amp; A site that will probably be able to help you better! <a href=\"http://cs50.stackexchange.com/\">cs50.stackexchange.com</a>"}, {"owner": {"reputation": 1, "user_id": 6508849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMAXo.jpg?s=128&g=1", "display_name": "TabithaWamucii", "link": "https://stackoverflow.com/users/6508849/tabithawamucii"}, "edited": false, "score": 0, "creation_date": 1481203389, "post_id": 40887159, "comment_id": 69288332, "body": "Thank you Holger and Toby"}, {"owner": {"reputation": 1, "user_id": 6508849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMAXo.jpg?s=128&g=1", "display_name": "TabithaWamucii", "link": "https://stackoverflow.com/users/6508849/tabithawamucii"}, "reply_to_user": {"reputation": 755, "user_id": 6139796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e8ec623799f48125b0aa020475091d?s=128&d=identicon&r=PG", "display_name": "Holger", "link": "https://stackoverflow.com/users/6139796/holger"}, "edited": false, "score": 0, "creation_date": 1481280971, "post_id": 40887159, "comment_id": 69324132, "body": "@Holger i made the corrections all seems to work fine except move, it changes the_ to 95.hints please?<a href=\"https://gist.github.com/a6cbbc29a9f839d2ebc6865e2cd0c65c\" rel=\"nofollow noreferrer\">gist.github.com/a6cbbc29a9f839d2ebc6865e2cd0c65c</a>"}, {"owner": {"reputation": 755, "user_id": 6139796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e8ec623799f48125b0aa020475091d?s=128&d=identicon&r=PG", "display_name": "Holger", "link": "https://stackoverflow.com/users/6139796/holger"}, "edited": false, "score": 0, "creation_date": 1481284768, "post_id": 40887159, "comment_id": 69326329, "body": "As I told, move() accesses board with [i-1] or [j-1]. But i and j maybe 0 at that time."}, {"owner": {"reputation": 1, "user_id": 6508849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMAXo.jpg?s=128&g=1", "display_name": "TabithaWamucii", "link": "https://stackoverflow.com/users/6508849/tabithawamucii"}, "reply_to_user": {"reputation": 755, "user_id": 6139796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e8ec623799f48125b0aa020475091d?s=128&d=identicon&r=PG", "display_name": "Holger", "link": "https://stackoverflow.com/users/6139796/holger"}, "edited": false, "score": 0, "creation_date": 1481627227, "post_id": 40887159, "comment_id": 69442812, "body": "@Holger do you mean i will go off the the grid? if so i thought am covered with if statment......what is your suggestion?"}, {"owner": {"reputation": 755, "user_id": 6139796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e8ec623799f48125b0aa020475091d?s=128&d=identicon&r=PG", "display_name": "Holger", "link": "https://stackoverflow.com/users/6139796/holger"}, "edited": false, "score": 0, "creation_date": 1481702718, "post_id": 40887159, "comment_id": 69478298, "body": "You should change <code>if(board[i-1][j]==blank_space)</code> to <code>if(i&gt;0 &amp;&amp; board[i-1][j]==blank_space)</code>. Same with <code>j-1</code>. And <code>if(board[i+1][j]==blank_space)</code> to <code>if((i+1)&lt;d &amp;&amp; board[i+1][j]==blank_space)</code>. Same with <code>j+1</code>. You fill the board beginning with d*d-1. So the last entry <code>[d-1][d-1]</code> will get the value 0. If you look for the tiles 2 and 1 in <code>if(board[3][1]==2 &amp;&amp; board[3][2]==1)</code> it should be <code>if(board[d-1][d-3]==2 &amp;&amp; board[d-1][d-2]==1)</code>. But only if d&gt;=3."}], "owner": {"reputation": 1, "user_id": 6508849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMAXo.jpg?s=128&g=1", "display_name": "TabithaWamucii", "link": "https://stackoverflow.com/users/6508849/tabithawamucii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1480806234, "creation_date": 1480505146, "last_edit_date": 1480806234, "question_id": 40887159, "link": "https://stackoverflow.com/questions/40887159/trouble-with-pset3-game-of-fifteen", "title": "Trouble with pset3 game of fifteen", "body": "<p>My functions (init,draw,move and win) are not working properly. Can anyone shed some light on where I am going wrong?</p>\n\n<ul>\n<li>init - should initialer the board and swap 1 and 2.</li>\n<li>draw - should draw the current state of the board.</li>\n<li>move - should move the tile if not illegal move.</li>\n<li>win - should check the board if its in descending order.</li>\n</ul>\n\n<hr>\n\n<pre><code>/**\n * fifteen.c\n *\n * Computer Science 50\n * Problem Set 3\n *\n * Implements Game of Fifteen (generalized to d x d).\n *\n * Usage: fifteen d\n *\n * whereby the board's dimensions are to be d x d,\n * where d must be in [DIM_MIN,DIM_MAX]\n *\n * Note that usleep is obsolete, but it offers more granularity than\n * sleep and is simpler to use than nanosleep; `man usleep` for more.\n */\n#\ndefine _XOPEN_SOURCE 500\n\n# include &lt; cs50.h &gt; #include &lt; stdio.h &gt; #include &lt; string.h &gt; #include &lt;\n    stdlib.h &gt; #include &lt; unistd.h &gt;\n\n    // constants\n    #define DIM_MIN 3# define DIM_MAX 9\n\n// board\nint board[DIM_MAX][DIM_MAX];\n\n// dimensions\nint d;\n\n// prototypes\nvoid clear(void);\nvoid greet(void);\nvoid init(void);\nvoid draw(void);\nbool move(int tile);\nbool won(void);\nvoid metrytoexchange(int * a, int * b);\n\nint main(int argc, string argv[]) {\n    // ensure proper usage\n    if (argc != 2) {\n        printf(\"Usage: fifteen d\\n\");\n        return 1;\n    }\n\n    // ensure valid dimensions\n    d = atoi(argv[1]);\n    if (d &lt; DIM_MIN || d &gt; DIM_MAX) {\n        printf(\"Board must be between %i x %i and %i x %i, inclusive.\\n\",\n            DIM_MIN, DIM_MIN, DIM_MAX, DIM_MAX);\n        return 2;\n    }\n\n    // open log\n    FILE * file = fopen(\"log.txt\", \"w\");\n    if (file == NULL) {\n        return 3;\n    }\n\n    // greet user with instructions\n    greet();\n\n    // initialize the board\n    init();\n\n    // accept moves until game is won\n    while (true) {\n        // clear the screen\n        clear();\n\n        // draw the current state of the board\n        draw();\n\n        // log the current state of the board (for testing)\n        for (int i = 0; i &lt; d; i++) {\n            for (int j = 0; j &lt; d; j++) {\n                fprintf(file, \"%i\", board[i][j]);\n                if (j &lt; d - 1) {\n                    fprintf(file, \"|\");\n                }\n            }\n            fprintf(file, \"\\n\");\n        }\n        fflush(file);\n\n        // check for win\n        if (won()) {\n            printf(\"ftw!\\n\");\n            break;\n        }\n\n        // prompt for move\n        printf(\"Tile to move: \");\n        int tile = GetInt();\n\n        // quit if user inputs 0 (for testing)\n        if (tile == 0) {\n            break;\n        }\n\n        // log move (for testing)\n        fprintf(file, \"%i\\n\", tile);\n        fflush(file);\n\n        // move if possible, else report illegality\n        if (!move(tile)) {\n            printf(\"\\nIllegal move.\\n\");\n            usleep(500000);\n        }\n\n        // sleep thread for animation's sake\n        usleep(500000);\n    }\n\n    // close log\n    fclose(file);\n\n    // success\n    return 0;\n}\n\n/**\n * Clears screen using ANSI escape sequences.\n */\nvoid clear(void) {\n    printf(\"\\033[2J\");\n    printf(\"\\033[%d;%dH\", 0, 0);\n}\n\n/**\n * Greets player.\n */\nvoid greet(void) {\n    clear();\n    printf(\"WELCOME TO GAME OF FIFTEEN\\n\");\n    usleep(2000000);\n}\n\n/**\n * Initializes the game's board with tiles numbered 1 through d*d - 1\n * (i.e., fills 2D array with values but does not actually print them).  \n */\nvoid init(void) {\n    // TODO\n    int i, j;\n    int k = d * d - 1;\n    for (i = 0; i &lt; d; i++) {\n        for (j = 0; j &lt; d; j++) {\n            board[i][j] = k--;\n            if (k % 2 != 0) {\n                break;\n            } else {\n                if ((board[i][j] == 2) &amp;&amp; (board[i][j - 1] == 1))\n                    metrytoexchange( &amp; board[i][j], &amp; board[i][j - 1]);\n            }\n        }\n    }\n}\n\n/**\n * Prints the board in its current state.\n */\nvoid draw(void) { // TODO\n    int k = d * d - 1;\n    for (int i = 0; i &lt; d; i++) {\n        for (int j = 0; j &lt; d; j++) {\n            board[i][j] = k--;\n            if (board[i][j] == 0) {\n                printf(\"_\");\n            } else\n                printf(\"%d \\t\", board[i][j]);\n        }\n        printf(\"\\n\");\n    }\n}\nvoid metrytoexchange(int * a, int * b) {\n    int temp = * a; *\n    a = * b; *\n    b = temp;\n}\n\n/**\n * If tile borders empty space, moves tile and returns true, else\n * returns false. \n */\nbool move(int tile) {\n    int k = d * d - 1;\n    int blank_space = 0;\n    //dont go beyond the grid\n    for (int i = 0; i &lt; d; i++) {\n        for (int j = 0; j &lt; d; j++) {\n\n            if (tile &lt; k &amp;&amp; tile &gt; 0 &amp;&amp; tile == board[i][j]) {\n                continue;\n            } else {\n                break;\n            }\n            //iterate to check the position of of blank tile;left to right up and down if not return false\n            if (board[i - 1][j] != blank_space || board[i][j - 1] !=\n                blank_space || board[i + 1][j] != blank_space || board[i][j +\n                    1\n                ] != blank_space) {\n                return false;\n            }\n            //else swap tile with blank_space\n            else {\n                metrytoexchange( &amp; tile, &amp; blank_space);\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\n/**\n * Returns true if game is won (i.e., board is in winning configuration), \n * else false.\n */\nbool won(void) {\n    // TODO\n    // creat a variable that increases as the loop condition increases.let it start from 1 increasing\n    int win_board[d][d];\n    for (int i = 0; i &lt; d; i++) {\n        for (int j = 0; j &lt; d; j++) {\n            if (win_board[i][j] == board[i][j]) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"}, {"tags": ["c", "omnet++", "veins"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 2, "creation_date": 1480504169, "post_id": 40886753, "comment_id": 68987481, "body": "<i>It always returns an error</i>: good to know, but which error ??"}, {"owner": {"reputation": 33, "user_id": 7088620, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/65b0ba0693f08cc130c0dd29c65cedfe?s=128&d=identicon&r=PG&f=1", "display_name": "FMA", "link": "https://stackoverflow.com/users/7088620/fma"}, "reply_to_user": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1480504465, "post_id": 40886753, "comment_id": 68987680, "body": "In case 1,2 and 4 &quot;Error: syntax error, unexpected BIN_XOR, expecting $end&quot;; in case 3 &quot;Error: syntax error, unexpected NAME, expecting $end&quot;."}, {"owner": {"reputation": 33, "user_id": 7088620, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/65b0ba0693f08cc130c0dd29c65cedfe?s=128&d=identicon&r=PG&f=1", "display_name": "FMA", "link": "https://stackoverflow.com/users/7088620/fma"}, "reply_to_user": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1480504500, "post_id": 40886753, "comment_id": 68987706, "body": "sorry case 2 is #include &lt;veins/asn/BasicSafetyMessage.h&gt;"}, {"owner": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "edited": false, "score": 0, "creation_date": 1480505405, "post_id": 40886753, "comment_id": 68988295, "body": "Seems like the file is included just fine, as would be expected if the compiler knows or is told where to look for it. The syntax error is just that - an error of syntax, as opposed to an error of being unable to find and include a file. These can occur (amongst other times) when incompatible versions of libraries are mixed or when files are included in the wrong order."}, {"owner": {"reputation": 33, "user_id": 7088620, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/65b0ba0693f08cc130c0dd29c65cedfe?s=128&d=identicon&r=PG&f=1", "display_name": "FMA", "link": "https://stackoverflow.com/users/7088620/fma"}, "edited": false, "score": 0, "creation_date": 1480506820, "post_id": 40886753, "comment_id": 68989115, "body": "In both cases? Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 5342, "user_id": 4653172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c894c1021e3092a98cdd62d88e69819?s=128&d=identicon&r=PG&f=1", "display_name": "Jerzy D.", "link": "https://stackoverflow.com/users/4653172/jerzy-d"}, "reply_to_user": {"reputation": 33, "user_id": 7088620, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/65b0ba0693f08cc130c0dd29c65cedfe?s=128&d=identicon&r=PG&f=1", "display_name": "FMA", "link": "https://stackoverflow.com/users/7088620/fma"}, "edited": false, "score": 0, "creation_date": 1480507407, "post_id": 40887520, "comment_id": 68989472, "body": "I have edited my answer and added <code>extern &quot;C&quot;</code>. The other way is to add <code>extern &quot;C&quot;</code> in your file <code>BasicSafetyMessage.h</code>."}], "tags": [], "owner": {"reputation": 5342, "user_id": 4653172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c894c1021e3092a98cdd62d88e69819?s=128&d=identicon&r=PG&f=1", "display_name": "Jerzy D.", "link": "https://stackoverflow.com/users/4653172/jerzy-d"}, "is_accepted": true, "score": 2, "last_activity_date": 1480514858, "last_edit_date": 1480514858, "creation_date": 1480506182, "answer_id": 40887520, "question_id": 40886753, "link": "https://stackoverflow.com/questions/40886753/including-c-files-in-msg-files-veins/40887520#40887520", "title": "Including c files in .msg files (Veins)", "body": "<p>Using a C or C++ code in the message's definition in <code>OMNeT++</code> is described in details in <a href=\"https://omnetpp.org/doc/omnetpp/manual/#sec:msg-defs:cplusplus-blocks\" rel=\"nofollow noreferrer\">OMNeT++ Simulation Manual, chapter 6.5</a>. <br>\nYou should use <code>cplusplus</code> keyword, an example for C code in <code>BasicSafetyMessage.h</code>:</p>\n\n<pre><code>cplusplus {{\nextern \"C\" {\n#include \"veins/asn/BasicSafetyMessage.h\"\n};\n}}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7088620, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/65b0ba0693f08cc130c0dd29c65cedfe?s=128&d=identicon&r=PG&f=1", "display_name": "FMA", "link": "https://stackoverflow.com/users/7088620/fma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 40887520, "answer_count": 1, "score": -1, "last_activity_date": 1480514858, "creation_date": 1480503991, "last_edit_date": 1480508654, "question_id": 40886753, "link": "https://stackoverflow.com/questions/40886753/including-c-files-in-msg-files-veins", "title": "Including c files in .msg files (Veins)", "body": "<p>I'm  trying to implement a BSM in Veins 4.4. In order to reach this purpose I would like to import my libasn which are C files (.c and .h ) in the WaveShortMessage.msg in order to populate the BSM.</p>\n\n<p>I tried to import them as follows:</p>\n\n<ol>\n<li><p><code>#include \"veins/asn/BasicSafetyMessage.h\"</code></p></li>\n<li><p><code>#include &lt;veins/asn/BasicSafetyMessage.h&gt;</code></p></li>\n</ol>\n\n<p>3.</p>\n\n<pre><code>extern \"C\" {\n   #include \"veins/asn/BasicSafetyMessage.h\"\n};\n</code></pre>\n\n<p>4.</p>\n\n<pre><code>    #ifdef __cplusplus\n    extern \"C\" {\n    #endif\n    #include \"veins/asn/BasicSafetyMessage.h\"\n    #ifdef __cplusplus\n    }\n    #endif\n</code></pre>\n\n<p>but it doesn't work. It always returns an error.</p>\n\n<p>Could you suggest the right way to do it? Thanks a lot</p>\n"}, {"tags": ["c++", "c", "visual-c++", "cmake"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 7172205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83feaaf5c640e3574ed68827ab30fdeb?s=128&d=identicon&r=PG&f=1", "display_name": "hrshl90", "link": "https://stackoverflow.com/users/7172205/hrshl90"}, "edited": false, "score": 0, "creation_date": 1480515721, "post_id": 40887480, "comment_id": 68995164, "body": "Thanks for your response.. but it still does not work"}, {"owner": {"reputation": 13260, "user_id": 6612932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3mwe.jpg?s=128&g=1", "display_name": "rgmt", "link": "https://stackoverflow.com/users/6612932/rgmt"}, "reply_to_user": {"reputation": 61, "user_id": 7172205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83feaaf5c640e3574ed68827ab30fdeb?s=128&d=identicon&r=PG&f=1", "display_name": "hrshl90", "link": "https://stackoverflow.com/users/7172205/hrshl90"}, "edited": false, "score": 1, "creation_date": 1480516163, "post_id": 40887480, "comment_id": 68995485, "body": "Did you clean your build directory before configuring again? I edited my answer with an alternative. If it doesn&#39;t work either, please edit your question with your complete CMake code"}, {"owner": {"reputation": 61, "user_id": 7172205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83feaaf5c640e3574ed68827ab30fdeb?s=128&d=identicon&r=PG&f=1", "display_name": "hrshl90", "link": "https://stackoverflow.com/users/7172205/hrshl90"}, "edited": false, "score": 0, "creation_date": 1480607666, "post_id": 40887480, "comment_id": 69042221, "body": "Thanks again for your response. It was very helpful, I will try another method later. got some other issue. thanks again."}, {"owner": {"reputation": 61, "user_id": 7172205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83feaaf5c640e3574ed68827ab30fdeb?s=128&d=identicon&r=PG&f=1", "display_name": "hrshl90", "link": "https://stackoverflow.com/users/7172205/hrshl90"}, "edited": false, "score": 0, "creation_date": 1481036013, "post_id": 40887480, "comment_id": 69204925, "body": "I tried the other method and it works. First, I enable to use precompiled header for all file and then using another command /Y- , disabled it to particular files.  Thanks again,"}], "tags": [], "owner": {"reputation": 13260, "user_id": 6612932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3mwe.jpg?s=128&g=1", "display_name": "rgmt", "link": "https://stackoverflow.com/users/6612932/rgmt"}, "is_accepted": true, "score": 4, "last_activity_date": 1480516078, "last_edit_date": 1480516078, "creation_date": 1480506096, "answer_id": 40887480, "question_id": 40886738, "link": "https://stackoverflow.com/questions/40886738/disable-precompiled-header-for-a-single-file/40887480#40887480", "title": "disable precompiled header for a single file", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/1hy7a92h.aspx\" rel=\"nofollow noreferrer\"><code>/Y-</code></a> doesn't take arguments. Try:</p>\n\n<pre><code>set_source_files_properties(xyz.c\n  PROPERTIES COMPILE_FLAGS /Y-)\n</code></pre>\n\n<p>Alternatively, instead of using <code>/Yu</code> on all files and disable it only for your <code>.c</code> file, you can use the opposite approach and only use <code>/Yu</code> for the <code>.cpp</code> files. Given your <code>.cpp</code> files are listed in a variable <code>SOURCES</code> and <code>my_pch.h</code> is your precompiled header:</p>\n\n<pre><code>set_source_files_properties(${SOURCES}\n  PROPERTIES COMPILE_FLAGS /Yumy_pch.h)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3488, "user_id": 2338477, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ac00e047724e6fbed304a083bc8234f?s=128&d=identicon&r=PG", "display_name": "TarmoPikaro", "link": "https://stackoverflow.com/users/2338477/tarmopikaro"}, "is_accepted": false, "score": 4, "last_activity_date": 1579372185, "creation_date": 1579372185, "answer_id": 59803632, "question_id": 40886738, "link": "https://stackoverflow.com/questions/40886738/disable-precompiled-header-for-a-single-file/59803632#59803632", "title": "disable precompiled header for a single file", "body": "<p>Starting from cmake 3.16 setting <code>/Y-</code> compiler option will not work. Correct way to disable precompiled headers for individual file is like this:</p>\n\n<pre><code>set_source_files_properties(non-pch.cpp PROPERTIES SKIP_PRECOMPILE_HEADERS ON)\n</code></pre>\n\n<p>Documentation:\n<a href=\"https://cmake.org/cmake/help/v3.16/prop_sf/SKIP_PRECOMPILE_HEADERS.html\" rel=\"nofollow noreferrer\">https://cmake.org/cmake/help/v3.16/prop_sf/SKIP_PRECOMPILE_HEADERS.html</a></p>\n\n<p>(Not so useful anyway)</p>\n"}], "owner": {"reputation": 61, "user_id": 7172205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83feaaf5c640e3574ed68827ab30fdeb?s=128&d=identicon&r=PG&f=1", "display_name": "hrshl90", "link": "https://stackoverflow.com/users/7172205/hrshl90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2154, "favorite_count": 0, "accepted_answer_id": 40887480, "answer_count": 2, "score": 5, "last_activity_date": 1579372185, "creation_date": 1480503935, "last_edit_date": 1500401926, "question_id": 40886738, "link": "https://stackoverflow.com/questions/40886738/disable-precompiled-header-for-a-single-file", "title": "disable precompiled header for a single file", "body": "<p>I am working on a project with many <code>.cpp</code> files on <code>vs2013</code>, and using a precompiled header for them. I am using CMake to build my project.</p>\n\n<p>But I have one <code>.c</code> file (let's call it <code>xyz.c</code>) for which I want to disable precompiled header.</p>\n\n<p>I tried several methods, but if I enable precompiled headers to all <code>.cpp</code> file, it automatically turns on for the <code>.c</code> file as well. This is what I tried:</p>\n\n<pre><code>set_source_files_properties (xyz.c\n  PROPERTIES COMPILE_FLAGS /Y-xyz.c )\n</code></pre>\n\n<p>Assuming that <code>/Yu</code> is on for all files, I just try to turn off this option for <code>xyz.c</code>.</p>\n\n<p>If any one knows any method, please let me know.</p>\n"}, {"tags": ["python", "c", "uart"], "answers": [{"comments": [{"owner": {"reputation": 14229, "user_id": 574115, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CtK6N.png?s=128&g=1", "display_name": "Daan Timmer", "link": "https://stackoverflow.com/users/574115/daan-timmer"}, "edited": false, "score": 1, "creation_date": 1480505781, "post_id": 40886967, "comment_id": 68988507, "body": "I would personally use <code>with open(&quot;your_file&quot;, &quot;r&quot;) as f: for line in f: do_something(line)</code>. Which avoids the possibility of not closing the file in case of exceptions."}, {"owner": {"reputation": 1093, "user_id": 3968346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ksx6B.png?s=128&g=1", "display_name": "Musen", "link": "https://stackoverflow.com/users/3968346/musen"}, "reply_to_user": {"reputation": 14229, "user_id": 574115, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CtK6N.png?s=128&g=1", "display_name": "Daan Timmer", "link": "https://stackoverflow.com/users/574115/daan-timmer"}, "edited": false, "score": 0, "creation_date": 1480506041, "post_id": 40886967, "comment_id": 68988653, "body": "@DaanTimmer I agree. I personally do not use &quot;with&quot; key word very often, but it is a better practice."}, {"owner": {"reputation": 47, "user_id": 7216667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b4da1d00d74c790d7d20e97214c7a81?s=128&d=identicon&r=PG&f=1", "display_name": "nani92", "link": "https://stackoverflow.com/users/7216667/nani92"}, "edited": false, "score": 0, "creation_date": 1480518395, "post_id": 40886967, "comment_id": 68997137, "body": "I am so sorry, It works just one time then I am back the encryption one line"}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1480520839, "post_id": 40886967, "comment_id": 68998905, "body": "2nd code snipped should start <code>with open(&quot;your_file&quot;) as f:</code>"}, {"owner": {"reputation": 47, "user_id": 7216667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b4da1d00d74c790d7d20e97214c7a81?s=128&d=identicon&r=PG&f=1", "display_name": "nani92", "link": "https://stackoverflow.com/users/7216667/nani92"}, "edited": false, "score": 0, "creation_date": 1480522027, "post_id": 40886967, "comment_id": 68999750, "body": "I already correct it, f = open(r&#39;C:\\\\Users\\\\user\\\\Plaintxt.txt&#39;, &#39;r&#39;)   or as you notice, thank you"}], "tags": [], "owner": {"reputation": 1093, "user_id": 3968346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ksx6B.png?s=128&g=1", "display_name": "Musen", "link": "https://stackoverflow.com/users/3968346/musen"}, "is_accepted": false, "score": 2, "last_activity_date": 1480589055, "last_edit_date": 1480589055, "creation_date": 1480504605, "answer_id": 40886967, "question_id": 40886685, "link": "https://stackoverflow.com/questions/40886685/how-to-iterate-lines-from-a-text-file-in-python/40886967#40886967", "title": "How to iterate lines from a text file in python?", "body": "<p>You may want to do as following:</p>\n\n<pre><code>f = open(\"your_file\", \"r\")\nfor line in f:\n    do_something(line)\nf.close()\n</code></pre>\n\n<p>or as the comment pointed out:</p>\n\n<pre><code>with open(\"your_file\", \"r\") as f:\n    for line in f:\n        do_something(line)\n</code></pre>\n\n<p>Python will iterate over every line and give the string of the line as variable line here. You can handle every line in the file this way. Also, doing so, python reads one line each time, so it is effective for larger files.</p>\n"}, {"comments": [{"owner": {"reputation": 14229, "user_id": 574115, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CtK6N.png?s=128&g=1", "display_name": "Daan Timmer", "link": "https://stackoverflow.com/users/574115/daan-timmer"}, "edited": false, "score": 0, "creation_date": 1480506317, "post_id": 40887123, "comment_id": 68988821, "body": "Yeah, I know ;-) Just thought it said readline ;-) and not readline_s_"}, {"owner": {"reputation": 47, "user_id": 7216667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b4da1d00d74c790d7d20e97214c7a81?s=128&d=identicon&r=PG&f=1", "display_name": "nani92", "link": "https://stackoverflow.com/users/7216667/nani92"}, "edited": false, "score": 0, "creation_date": 1480508618, "post_id": 40887123, "comment_id": 68990241, "body": "@jonie83, do you mean that i must remove for example the print(clear_msg)??"}], "tags": [], "owner": {"reputation": 906, "user_id": 1898982, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gBO7t.jpg?s=128&g=1", "display_name": "jonie83", "link": "https://stackoverflow.com/users/1898982/jonie83"}, "is_accepted": false, "score": 0, "last_activity_date": 1480505394, "last_edit_date": 1480505394, "creation_date": 1480505060, "answer_id": 40887123, "question_id": 40886685, "link": "https://stackoverflow.com/questions/40886685/how-to-iterate-lines-from-a-text-file-in-python/40887123#40887123", "title": "How to iterate lines from a text file in python?", "body": "<p>During your for loop</p>\n\n<pre><code>for a in range (0,2):\n\n   line_array=lines[a]\n   plaintxt_16b=line_array[0:32]\n\n   plaintext=binascii.unhexlify(plaintxt_16b)\n   clear_msg=b'\\x24'+b'\\x73'+b'\\x10'+plaintext\n</code></pre>\n\n<p>your overwrite the variable <code>clear_msg</code> in each iteration.\nOnce you leave the loop it contains the last value. In your case the last line (encrypted). Then you send the variable <code>clear_msg</code> several times without changing its content.\nYou need to indent the following block as well:</p>\n\n<pre><code>print(clear_msg)\nser.write(clear_msg)\ntime.sleep(0.4)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 7216667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b4da1d00d74c790d7d20e97214c7a81?s=128&d=identicon&r=PG&f=1", "display_name": "nani92", "link": "https://stackoverflow.com/users/7216667/nani92"}, "edited": false, "score": 0, "creation_date": 1480507487, "post_id": 40887369, "comment_id": 68989515, "body": "It gives me errors with that splitlines, it is like it can&#39;t read any line"}, {"owner": {"reputation": 15, "user_id": 5404335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSf8f.jpg?s=128&g=1", "display_name": "viajero c&#243;smico", "link": "https://stackoverflow.com/users/5404335/viajero-c%c3%b3smico"}, "reply_to_user": {"reputation": 47, "user_id": 7216667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b4da1d00d74c790d7d20e97214c7a81?s=128&d=identicon&r=PG&f=1", "display_name": "nani92", "link": "https://stackoverflow.com/users/7216667/nani92"}, "edited": false, "score": 0, "creation_date": 1480509530, "post_id": 40887369, "comment_id": 68990787, "body": "What kind of errors. The splitlines is there to assure that you don&#39;t get th <code>\\n</code> character."}, {"owner": {"reputation": 47, "user_id": 7216667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b4da1d00d74c790d7d20e97214c7a81?s=128&d=identicon&r=PG&f=1", "display_name": "nani92", "link": "https://stackoverflow.com/users/7216667/nani92"}, "edited": false, "score": 0, "creation_date": 1480510265, "post_id": 40887369, "comment_id": 68991293, "body": "Sorry, it was a syntax error from me, but it still give me just one line."}], "tags": [], "owner": {"reputation": 15, "user_id": 5404335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSf8f.jpg?s=128&g=1", "display_name": "viajero c&#243;smico", "link": "https://stackoverflow.com/users/5404335/viajero-c%c3%b3smico"}, "is_accepted": false, "score": 0, "last_activity_date": 1480505787, "creation_date": 1480505787, "answer_id": 40887369, "question_id": 40886685, "link": "https://stackoverflow.com/questions/40886685/how-to-iterate-lines-from-a-text-file-in-python/40887369#40887369", "title": "How to iterate lines from a text file in python?", "body": "<p>According to <a href=\"http://stupidpythonideas.blogspot.dk/2013/06/readlines-considered-silly.html\" rel=\"nofollow noreferrer\">this</a>, calling readlines() makes your code slower, less explicit, less concise, for absolutely no benefit.</p>\n\n<p>A good approach to open a file without the need of closing it is by using <code>while</code></p>\n\n<pre><code>with open(file) as f:\n    line = f.read().splitlines()\n</code></pre>\n\n<p><code>line</code> is a list that contains all the lines of your file. You can iterate and get any entry as you would do in a list </p>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 7216667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b4da1d00d74c790d7d20e97214c7a81?s=128&d=identicon&r=PG&f=1", "display_name": "nani92", "link": "https://stackoverflow.com/users/7216667/nani92"}, "is_accepted": true, "score": 0, "last_activity_date": 1480581243, "creation_date": 1480581243, "answer_id": 40905890, "question_id": 40886685, "link": "https://stackoverflow.com/questions/40886685/how-to-iterate-lines-from-a-text-file-in-python/40905890#40905890", "title": "How to iterate lines from a text file in python?", "body": "<p>The problem was spaces in python file: the for loop  must contains </p>\n\n<pre><code>       ser.write(clear_msg)\n       time.sleep(0.4)\n       print(ser.read(70))\n</code></pre>\n\n<p>By that way, it will not take just the last plaintext from the plaintext file. </p>\n\n<pre><code>import string\nimport serial\nimport time\nfrom array import array\nimport struct\nimport binascii\n\nser = serial.Serial(\n                    port='COM4',\\\n                    baudrate=230400,\\\n                    parity=serial.PARITY_NONE,\\\n                    stopbits=serial.STOPBITS_ONE,\\\n                    bytesize=serial.EIGHTBITS,\\\n                    timeout=0)  \n\nf = open(r'C:\\\\Users\\\\user\\\\Plaintxt.txt', 'r')\nfor a in f:\n   plaintxt_16b=a[0:32]\n   plaintext=binascii.unhexlify(plaintxt_16b)\n   clear_msg=b'\\x24'+b'\\x73'+b'\\x10'+plaintext\n   ser.write(clear_msg)\n   time.sleep(0.4)\n   print(ser.read(70))\nser.close()                # close ports\n</code></pre>\n\n<p>My problem is resolved. Thank you very much for your help. </p>\n"}], "owner": {"reputation": 47, "user_id": 7216667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b4da1d00d74c790d7d20e97214c7a81?s=128&d=identicon&r=PG&f=1", "display_name": "nani92", "link": "https://stackoverflow.com/users/7216667/nani92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 40905890, "answer_count": 4, "score": 1, "last_activity_date": 1480589055, "creation_date": 1480503798, "last_edit_date": 1480580969, "question_id": 40886685, "link": "https://stackoverflow.com/questions/40886685/how-to-iterate-lines-from-a-text-file-in-python", "title": "How to iterate lines from a text file in python?", "body": "<p>I update my question because At first I think that I have the best solution However, I don't have it until now.It was my mistake in execution. I think that the error comes from the loop while in the file C. </p>\n\n<p>I am trying to read lines from a text file\"Plaintext.txt\". </p>\n\n<pre><code>e0370734313198a2885a308d3243f6a8\nccddeeff8899aabb4455667700112233\n8e73b0f7da0e6452c810f32bc4567a22\n</code></pre>\n\n<p>It contains now tow lines, I put just two in order to make simple test, but I must put more then 1000 texts (means more than 1000 lines)  I want to read each line then send it to the uart where I will do encryption for every plaintext (The encryption algorithm is in C): This is my script:   </p>\n\n<p>I edit it as you tell me but I still have the encryption of one line </p>\n\n<pre><code>    import string\nimport serial\nimport time\nfrom array import array\nimport struct\nimport binascii\n\nser = serial.Serial(\n                    port='COM4',\\\n                    baudrate=230400,\\\n                    parity=serial.PARITY_NONE,\\\n                    stopbits=serial.STOPBITS_ONE,\\\n                    bytesize=serial.EIGHTBITS,\\\n                    timeout=0)  \n\nf = open(r'C:\\\\Users\\\\user\\\\Plaintxt.txt', 'r')\nfor a in f:\n   plaintxt_16b=a[0:32]\n   plaintext=binascii.unhexlify(plaintxt_16b)\n   clear_msg=b'\\x24'+b'\\x73'+b'\\x10'+plaintext\n\nser.write(clear_msg)\ntime.sleep(0.4)\n\nwhile True: \n  print(ser.read(70))\nser.close()                # close ports\n</code></pre>\n\n<p>In the C file:</p>\n\n<pre><code>   while(1)\n    {\n        int rx_length = dev_uart_ptr-&gt;uart_read((void*)rx_buffer, 19);\n\n        if (rx_length &lt;19)\n        {\n\n            if (rx_buffer[0]=='\\x24')\n            {\n                if (rx_buffer[1]=='\\x73')\n                {\n                    if (rx_buffer[2]=='\\x10')\n                    {\n                        plaintext[0] = (rx_buffer[3] &lt;&lt; 24)  |\n                                (rx_buffer[4] &lt;&lt; 16)  |\n                                (rx_buffer[5] &lt;&lt; 8)   |\n                                rx_buffer[6];\n                        plaintext[1] = (rx_buffer[7] &lt;&lt; 24)  |\n                                (rx_buffer[8] &lt;&lt; 16)  |\n                                (rx_buffer[9] &lt;&lt; 8)   |\n                                rx_buffer[10];\n                        plaintext[2] = (rx_buffer[11] &lt;&lt; 24) |\n                                (rx_buffer[12] &lt;&lt; 16) |\n                                (rx_buffer[13] &lt;&lt; 8)  |\n                                rx_buffer[14];\n                        plaintext[3] = (rx_buffer[15] &lt;&lt; 24) |\n                                (rx_buffer[16] &lt;&lt; 16) |\n                                (rx_buffer[17] &lt;&lt; 8)  |\n                                rx_buffer[18];\n\n                        xprintf(\"**************************\\n\");\n                        xprintf(\"%8x %8x %8x %8x \\n\",plaintext[0],plaintext[1],plaintext[2],plaintext[3]);\n                        aes2_set_msg((unsigned int *)plaintext);    /** Reset AES message buffer */\n                        aes2_set_key128((unsigned int *)key128);    /** Put the key 128 into AES */\n                        /** Configure  AES register  to enable IRQ and ENCODE */\n                        regs_aes2_ptr-&gt; CFG =  AES2_CFG_ENC_DEC_BIT | AES2_CFG_IRQ_MASK_BIT;\n                        /** Reset AES internaly */\n                        regs_aes2_ptr-&gt; CTRL = AES2_CTRL_SWRESET_BIT;\n\n#if DEBUG\n                        xprintf(\"Go encrypt..\\n\");\n#endif\n                        /** Start the ENCODE function */\n                        regs_aes2_ptr-&gt; CTRL = AES2_CTRL_START_BIT;\n\n                        while(!aes2_irq_flag); /** Wait for irq flag */\n                        aes2_irq_flag=0;    /** Reset irq flag */\n\n#if DEBUG\n                        xprintf(\"Encrypt done..\\n\");\n#endif\n\n                        aes2_get_msg((unsigned int *)ciphertext);   /** Retrieve encrypted message */\n                        xprintf(\"%8x %8x %8x %8x \\n\",ciphertext[0],ciphertext[1],ciphertext[2],ciphertext[3]);\n                        xprintf(\"**************************\\n\");\n\n                    }\n                    else\n                    {\n                        printf (\"false\");\n                    }\n\n                }\n                else\n                {\n                    printf (\"false\");\n                }\n            }\n\n        }\n\n    }// End While\n\n}//end of C_Entry\n</code></pre>\n\n<p>So the problem is that It takes just the last line and repeat all the time the same encryption of that line:</p>\n\n<pre><code>    $**************************\nccddeeff 8899aabb 44556677   112233\nGo encrypt..\nEncrypt do\nne..\nd6e4d64b 27d8d055 c5c7573a 8df4e9aa\n**************************\n******************\n********\nccddeeff 8899aabb 44556677   112233\nGo encrypt..\nEncrypt done..\nd6e4d64b 27d\n8d055 c5c7573a 8df4e9aa\n**************************\n**************************\nccddeeff\n 8899aabb 44556677   112233\nGo encrypt..\nEncrypt done..\nd6e4d64b 27d8d055 c5c7573a 8df\n4e9aa\n**************************\n**************************\nccddeeff 8899aabb 44556677\n   112233\nGo encrypt..\nEncrypt done..\nd6e4d64b 27d8d055 c5c7573a 8df4e9aa\n**********\n****************\n**************************\nccddeeff 8899aabb 44556677   112233\nGo enc\nrypt..\nEncrypt done..\nd6e4d64b 27d8d055 c5c7573a 8df4e9aa\n....................\n</code></pre>\n\n<p>I would be very grateful if you could help me. </p>\n"}, {"tags": ["c++", "c", "linux", "memory"], "comments": [{"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 7, "creation_date": 1480503344, "post_id": 40886453, "comment_id": 68986942, "body": "The operating system knows because it is what handles allocating and managing memory for each process. What exactly are you asking here? What problem are you trying to solve?"}, {"owner": {"reputation": 33, "user_id": 7220591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/440bc5cbdeda389231cc393e0f385d43?s=128&d=identicon&r=PG&f=1", "display_name": "Ciomco", "link": "https://stackoverflow.com/users/7220591/ciomco"}, "reply_to_user": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1480503724, "post_id": 40886453, "comment_id": 68987215, "body": "How does operating system know that when data is written to some memory address, then it is reflected in VmRSS value. For example, when memory is allocated, the process can call mmap system call to get some memory from OS, so OS can track it. But when data is just written to this memory, then no system calls are called. When something like that is done *ptr = data, then no system calls are called, but somehow OS knows that this data is now physically in RAM and it&#39;s reflected in VmRSS value."}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1480504422, "post_id": 40886453, "comment_id": 68987645, "body": "I can&#39;t say exactly how Linux works (although I&#39;m sure Google could), but in Windows, there is a distinction between <i>reserved</i> memory and <i>committed</i> memory. You reserve a block of memory using <code>malloc</code> (or <code>mmap</code> or whatever), but it may not actually be committed yet. When you access that block of memory, if it has not yet been committed, this generates a page fault exception, which the system handles, committing the memory (<i>i.e.</i>, mapping the memory to either physical memory or the page file). So you don&#39;t need to explicitly make a system call because the system handles the PF exception."}], "answers": [{"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 3, "last_activity_date": 1480506682, "last_edit_date": 1480506682, "creation_date": 1480504890, "answer_id": 40887059, "question_id": 40886453, "link": "https://stackoverflow.com/questions/40886453/how-does-linux-know-how-much-physical-memory-is-used-by-a-process/40887059#40887059", "title": "How does Linux know how much physical memory is used by a process?", "body": "<blockquote>\n  <p>How does Linux know how much physical memory (VmRSS) is used by a process?</p>\n</blockquote>\n\n<p>When the process tries to access virtual memory that has not been mapped to physical memory, the CPU (assuming it has a hardware memory management unit) will trigger an interrupt (specifically, a page fault) that is handled by the operating system. The operating system allocates the physical memory to the process and updates the translation look aside buffer (part of the MMU, which is used to map virtual memory to physical).</p>\n\n<p>So, since it is the operating system that allocates the physical memory, it can also track how much it has allocated to each process.</p>\n"}], "owner": {"reputation": 33, "user_id": 7220591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/440bc5cbdeda389231cc393e0f385d43?s=128&d=identicon&r=PG&f=1", "display_name": "Ciomco", "link": "https://stackoverflow.com/users/7220591/ciomco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 2, "accepted_answer_id": 40887059, "answer_count": 1, "score": 3, "last_activity_date": 1480506682, "creation_date": 1480503159, "question_id": 40886453, "link": "https://stackoverflow.com/questions/40886453/how-does-linux-know-how-much-physical-memory-is-used-by-a-process", "title": "How does Linux know how much physical memory is used by a process?", "body": "<p>I was investigating memory usage of an example process. First I allocate some memory, check what is the size of virtual memory and resident memory (in RAM). Then I write data to the allocated memory and check again these values.</p>\n\n<pre><code>int main()\n{\n int pid = getpid();\n std::stringstream s;\n s &lt;&lt; \"cat /proc/\" &lt;&lt; pid &lt;&lt; \"/status | grep \\\"VmSize\\\\|VmRSS\\\"\";\n std::string command = s.str();\n std::cout &lt;&lt; \"Before allocation\\n\";\n system(command.c_str());\n char* mem = new char[10000000];\n std::cout &lt;&lt; \"After allocation\\n\";\n system(command.c_str());\n memset(mem, 0, 10000000);\n std::cout &lt;&lt; \"After writing\\n\";\n system(command.c_str());\n return 0; \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Before allocation\nVmSize:     3412 kB\nVmRSS:       852 kB\nAfter allocation\nVmSize:    13180 kB\nVmRSS:       852 kB\nAfter writing\nVmSize:    13180 kB\nVmRSS:     10568 kB\n</code></pre>\n\n<p>When memory is allocated by operator new, only the value of VmSize changes. When data is written to the memory, then value of VmRSS changes. How does Linux know how much physical memory (VmRSS) is used by a process?</p>\n"}, {"tags": ["c", "opencv", "image-resizing"], "answers": [{"comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 85, "user_id": 4832100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2462aaf988a659bf68390d0bbcc92886?s=128&d=identicon&r=PG&f=1", "display_name": "Viktoriia", "link": "https://stackoverflow.com/users/4832100/viktoriia"}, "edited": false, "score": 0, "creation_date": 1480509139, "post_id": 40888100, "comment_id": 68990551, "body": "Glad it helped ;D"}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 3, "last_activity_date": 1480508030, "creation_date": 1480508030, "answer_id": 40888100, "question_id": 40886415, "link": "https://stackoverflow.com/questions/40886415/resize-image-with-opencv-with-double-scale/40888100#40888100", "title": "Resize image with OpenCV with double scale", "body": "<p>Old OpenCV versions usually don't lay out the data continuosly in memory, but use some padding at the end of each row. The length of the row plus the padding is given by <code>widthStep</code>. If you use <code>width</code> you don't consider the (evantual) padding, and as a result you get this <em>diagonalization</em> effect.</p>\n\n<p>So you need to do:</p>\n\n<pre><code>img2-&gt;imageData[j*img2-&gt;widthStep + i] = 255;\n</code></pre>\n\n<hr>\n\n<p><sub>\nYou should really avoid to use OpenCV 1, since it's 10 years old now, and it's <strong>obsolete</strong>. \n</sub></p>\n"}], "owner": {"reputation": 85, "user_id": 4832100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2462aaf988a659bf68390d0bbcc92886?s=128&d=identicon&r=PG&f=1", "display_name": "Viktoriia", "link": "https://stackoverflow.com/users/4832100/viktoriia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 40888100, "answer_count": 1, "score": 2, "last_activity_date": 1480508594, "creation_date": 1480503051, "last_edit_date": 1480508594, "question_id": 40886415, "link": "https://stackoverflow.com/questions/40886415/resize-image-with-opencv-with-double-scale", "title": "Resize image with OpenCV with double scale", "body": "<p>I have the following problem. I resize image with OpenCV 1 in this way:</p>\n\n<pre><code>cvResize(img1, img2); \n</code></pre>\n\n<p>where:</p>\n\n<pre><code>img2= cvCreateImage( cvSize(img1-&gt;width * ratioScale + 0.5, img1-&gt;height * ratioScale + 0.5), IPL_DEPTH_8U, 1 );\n</code></pre>\n\n<p>Then, I want to fill the half image with 255 (just to test): </p>\n\n<pre><code>for (int j = 0; j &lt; img2-&gt;height; j++){ \n  for (int i = 0; i &lt; img2-&gt;width/2; i++){ \n     img2-&gt;imageData[j*img2-&gt;width + i] = 255;\n  }\n}\n</code></pre>\n\n<p>When <code>ratioScale</code> has precision 1 digit after decimal point(e.g. 1.5), it works correctly. Otherwise(e.g. 1.59), it gives several white diagonals and not half of image. I do not understand why. All images are grayscale.</p>\n\n<hr>\n\n<p><strong>I must use OpenCV 1</strong> because it is obligation from the company.</p>\n"}, {"tags": ["c++", "c", "image", "textures", "sdl"], "comments": [{"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1480502972, "post_id": 40886350, "comment_id": 68986691, "body": "C or C++ ? can&#39;t be both."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7230249, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EGo86_QfahA/AAAAAAAAAAI/AAAAAAAAAHQ/CoQfFlVPodk/photo.jpg?sz=128", "display_name": "errno", "link": "https://stackoverflow.com/users/7230249/errno"}, "edited": false, "score": 0, "creation_date": 1480505476, "post_id": 40886710, "comment_id": 68988338, "body": "Thanks. It helped."}], "tags": [], "owner": {"reputation": 1761, "user_id": 2641959, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4c6d8336fe8a675f9f20f519faec5fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Mohan", "link": "https://stackoverflow.com/users/2641959/mohan"}, "is_accepted": true, "score": 1, "last_activity_date": 1480503861, "creation_date": 1480503861, "answer_id": 40886710, "question_id": 40886350, "link": "https://stackoverflow.com/questions/40886350/how-to-connect-multiple-textures-in-the-one-in-sdl2/40886710#40886710", "title": "How to connect multiple textures in the one in SDL2?", "body": "<p>You need to  create your target_texture or something like this:</p>\n\n<pre><code>SDL_Texture* target_tex =SDL_CreateTexture(.....); //Add arg according to you\nSDL_SetRenderTarget(my_renderer, target_tex);\n\nSDL_Texture* t1 = SDL_CreateTextureFromSurface(my_renderer, someSurface);\nSDL_Texture* t2 = SDL_CreateTextureFromSurface(my_renderer, someOtherSurface);\n.\n.\n.\n.\nSDL_RenderCopy(my_renderer, t1, NULL, NULL);\nSDL_RenderCopy(my_renderer, t2, NULL, NULL);\nSDL_RenderCopy(my_renderer, t3, NULL, NULL);\n.\n.\n.\nSDL_SetRenderTarget(my_renderer, NULL);\nSDL_RendererPresent(my_renderer);\n\n\nSDL_RenderClear(my_renderer);\nSDL_RenderCopy(my_renderer, target_tex, NULL, NULL);\nSDL_RendererPresent(my_renderer);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7230249, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EGo86_QfahA/AAAAAAAAAAI/AAAAAAAAAHQ/CoQfFlVPodk/photo.jpg?sz=128", "display_name": "errno", "link": "https://stackoverflow.com/users/7230249/errno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1062, "favorite_count": 0, "accepted_answer_id": 40886710, "answer_count": 1, "score": 2, "last_activity_date": 1480506690, "creation_date": 1480502844, "last_edit_date": 1480506690, "question_id": 40886350, "link": "https://stackoverflow.com/questions/40886350/how-to-connect-multiple-textures-in-the-one-in-sdl2", "title": "How to connect multiple textures in the one in SDL2?", "body": "<p>In my code I want to connect (or combine) multiple <code>SDL_Texture</code> or array into one <code>SDL_Texture</code> which will contain images each put down under another. </p>\n\n<p>It may look just like this</p>\n\n<pre><code>SDL_Texture* t1 = SDL_CreateTextureFromSurface(my_renderer, someSurface);\nSDL_Texture* t2 = SDL_CreateTextureFromSurface(my_renderer, someOtherSurface);\n//Some SDL code manipulations to make one SDL_Texture wich contains t1 and t2\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["c", "file", "char", "spaces"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1480502760, "post_id": 40886206, "comment_id": 68986549, "body": "Read about strings in your C textbook."}, {"owner": {"reputation": 2034, "user_id": 4688321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5b21d8c934125839996c5eac897fc1?s=128&d=identicon&r=PG&f=1", "display_name": "kiner_shah", "link": "https://stackoverflow.com/users/4688321/kiner-shah"}, "edited": false, "score": 0, "creation_date": 1480507051, "post_id": 40886206, "comment_id": 68989268, "body": "Use <a href=\"https://www.gnu.org/software/libc/manual/html_node/Line-Input.html\" rel=\"nofollow noreferrer\">getline</a> function."}], "answers": [{"tags": [], "owner": {"reputation": 362958, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "is_accepted": true, "score": 1, "last_activity_date": 1480502822, "creation_date": 1480502822, "answer_id": 40886343, "question_id": 40886206, "link": "https://stackoverflow.com/questions/40886206/saving-variables-in-line-from-file/40886343#40886343", "title": "saving variables in line from file?", "body": "<p>That's a great start, using <code>fgets()</code> to read in whole lines which can then be parsed is a good approach in general.</p>\n\n<p>Next you need to think about how to store your dictionary. One way might be a statically sized array of structures:</p>\n\n<pre><code>struct {\n char *english;\n char *spanish;\n} words[1000];\n</code></pre>\n\n<p>This assumes no more than 1000 words.</p>\n\n<p>To store each line, just find the first space character and let that be the split between English and Spanish:</p>\n\n<pre><code>size_t word_count = 0;\nwhile(fgets(line, sizeof line, file) != NULL)\n{\n  char * const sp = strchr(line, ' ');\n  if(sp != NULL)\n  {\n    *sp = '\\0';\n    while(isspace((unsigned char) *++sp))\n      ;\n    if(isalpha((unsigned char) *sp)\n    {\n      words[word_count].english = strdup(line);\n      words[word_count++].spanish = strdup(sp);\n    }\n  }\n}\n</code></pre>\n\n<p>Something like that should get you started. This assumes the existance of <code>strdup()</code>, if you don't have that re-implementing it is trivial. Of course you should add code to check for memory allocation failures.</p>\n"}, {"tags": [], "owner": {"reputation": 17989, "user_id": 365102, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/e3139989e6548e7deac2cd45253d60df?s=128&d=identicon&r=PG", "display_name": "Mateen Ulhaq", "link": "https://stackoverflow.com/users/365102/mateen-ulhaq"}, "is_accepted": false, "score": 0, "last_activity_date": 1480503096, "creation_date": 1480503096, "answer_id": 40886428, "question_id": 40886206, "link": "https://stackoverflow.com/questions/40886206/saving-variables-in-line-from-file/40886428#40886428", "title": "saving variables in line from file?", "body": "<p>Try this:</p>\n\n<pre><code>char english[256];\nchar spanish[256];\n\nwhile(fscanf(file,\"%[a-z]%*[ ]%[a-z, ]\\n\", english, spanish) != 0) {\n    fprintf(stdout, \"English: %s\\n Spanish: %s\\n\", english, spanish);\n}\n</code></pre>\n"}], "owner": {"reputation": 669, "user_id": 6675878, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/29885f3542cb5b00a06b1175caa1736e?s=128&d=identicon&r=PG&f=1", "display_name": "STOPIMACODER", "link": "https://stackoverflow.com/users/6675878/stopimacoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 40886343, "answer_count": 2, "score": 0, "last_activity_date": 1480503096, "creation_date": 1480502497, "question_id": 40886206, "link": "https://stackoverflow.com/questions/40886206/saving-variables-in-line-from-file", "title": "saving variables in line from file?", "body": "<p>I'm trying to read lines and extract information from it. My text has for example;</p>\n\n<pre><code>abate   terminar, hacer cesar\nabated  amainado, amplacado, mitigado\n</code></pre>\n\n<p>which is a dictionary. \nFirst word is english and rest are Spanish. I'm trying to save the english word into one variable and then the rest of the line into another one variable. I have no idea how to do that? I wrote this code that reads all the text file and prints it all.</p>\n\n<pre><code>int main(int argc, const char * argv[]) {\n\n    char filename[] = \"/Users/MyName/Desktop/span.rtf\";\n    FILE *file = fopen ( filename, \"r\" );\n\n    if (file != NULL) {\n        char line [1000];\n        while(fgets(line,sizeof line,file)!= NULL) /* read a line from a file */ {\n                fprintf(stdout,\"%s\",line);        }\n\n        fclose(file);\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c", "pointers"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1480502097, "post_id": 40886070, "comment_id": 68986105, "body": "Indent your code please."}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1480502152, "post_id": 40886070, "comment_id": 68986146, "body": "An array of <code>n</code> integers contains elements in the range from <code>0</code> to <code>n - 1</code>. Now take a look at your loop again, and think about that loop condition."}, {"owner": {"reputation": 1805, "user_id": 6284997, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1376431542382698/picture?type=large", "display_name": "MayurK", "link": "https://stackoverflow.com/users/6284997/mayurk"}, "edited": false, "score": 0, "creation_date": 1480502162, "post_id": 40886070, "comment_id": 68986152, "body": "it should be for(i=0;i&lt;n;i++)"}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1480502214, "post_id": 40886070, "comment_id": 68986199, "body": "<i>, it report me an error in the pointer</i> which error ?"}, {"owner": {"reputation": 43, "user_id": 5483806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c377f1926a7428a59104bfc71992faf?s=128&d=identicon&r=PG&f=1", "display_name": "fenigo69", "link": "https://stackoverflow.com/users/5483806/fenigo69"}, "reply_to_user": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1480502254, "post_id": 40886070, "comment_id": 68986228, "body": "@MichaelWalz how can i ident my code?"}, {"owner": {"reputation": 43, "user_id": 5483806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c377f1926a7428a59104bfc71992faf?s=128&d=identicon&r=PG&f=1", "display_name": "fenigo69", "link": "https://stackoverflow.com/users/5483806/fenigo69"}, "edited": false, "score": 0, "creation_date": 1480502311, "post_id": 40886070, "comment_id": 68986265, "body": "ok i&#39;ve fix the loop condition but the program still doesn&#39;t work"}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1480502457, "post_id": 40886070, "comment_id": 68986366, "body": "@fenigo69 somebody has done it for you and edited the question. You see the difference ?"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480502541, "post_id": 40886070, "comment_id": 68986410, "body": "<code>i&lt;=n</code> should be <code>i&lt;n</code>. Voting to close this as simple typo."}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1480502626, "post_id": 40886070, "comment_id": 68986461, "body": "Please elaborate on &quot;doesn&#39;t work&quot;. If it doesn&#39;t build then please include the build errors. If it crashes then use a debugger to locate where in your code it happens. If you get unexpected output then include the input and the expected <i>and</i> actual output."}, {"owner": {"reputation": 43, "user_id": 5483806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c377f1926a7428a59104bfc71992faf?s=128&d=identicon&r=PG&f=1", "display_name": "fenigo69", "link": "https://stackoverflow.com/users/5483806/fenigo69"}, "edited": false, "score": 0, "creation_date": 1480502726, "post_id": 40886070, "comment_id": 68986518, "body": "it compile it, but when i run it, it report me &quot;the program it not reconized as a executive program or a batch file&quot;"}, {"owner": {"reputation": 43, "user_id": 5483806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c377f1926a7428a59104bfc71992faf?s=128&d=identicon&r=PG&f=1", "display_name": "fenigo69", "link": "https://stackoverflow.com/users/5483806/fenigo69"}, "edited": false, "score": 0, "creation_date": 1480502899, "post_id": 40886070, "comment_id": 68986650, "body": "sorry guys, i&#39;ve change compiler, now it working without problem, thanks everybodys"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1480503006, "post_id": 40886070, "comment_id": 68986707, "body": "In that case I think you should delete the question, as it&#39;s not really useful in its current form."}], "answers": [{"comments": [{"owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "reply_to_user": {"reputation": 43, "user_id": 5483806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c377f1926a7428a59104bfc71992faf?s=128&d=identicon&r=PG&f=1", "display_name": "fenigo69", "link": "https://stackoverflow.com/users/5483806/fenigo69"}, "edited": false, "score": 0, "creation_date": 1480502468, "post_id": 40886130, "comment_id": 68986370, "body": "Did you add the error checking I suggested? Please describe what &quot;doesn&#39;t work&quot;. It <a href=\"http://ideone.com/I5rfrg\" rel=\"nofollow noreferrer\">works as expected</a>."}, {"owner": {"reputation": 43, "user_id": 5483806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c377f1926a7428a59104bfc71992faf?s=128&d=identicon&r=PG&f=1", "display_name": "fenigo69", "link": "https://stackoverflow.com/users/5483806/fenigo69"}, "edited": false, "score": 0, "creation_date": 1480502551, "post_id": 40886130, "comment_id": 68986414, "body": "the compiler compile the program, but when i&#39;m going to run it,report me &quot;the program It is not recognized as executive program or a batch file&quot;"}, {"owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "reply_to_user": {"reputation": 43, "user_id": 5483806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c377f1926a7428a59104bfc71992faf?s=128&d=identicon&r=PG&f=1", "display_name": "fenigo69", "link": "https://stackoverflow.com/users/5483806/fenigo69"}, "edited": false, "score": 0, "creation_date": 1480502861, "post_id": 40886130, "comment_id": 68986626, "body": "That appears to a problem with your environment. Check your <code>PATH</code> is correct. See <a href=\"http://superuser.com/questions/943785/sample-exe-not-recognised-as-internal-or-external-command-operable-program-or\">this</a> and related posts linked in that page."}], "tags": [], "owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "is_accepted": true, "score": 3, "last_activity_date": 1505359931, "last_edit_date": 1505359931, "creation_date": 1480502212, "answer_id": 40886130, "question_id": 40886070, "link": "https://stackoverflow.com/questions/40886070/error-in-array-allocation-in-c/40886130#40886130", "title": "Error in array allocation in C", "body": "<p>Index range for <code>ptra</code> must be from <code>0</code> to <code>n-1</code> (both inclusive). But here:</p>\n\n<pre><code>for(i=0;i&lt;=n;i++){\n</code></pre>\n\n<p>you are going out of bounds, which is <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow noreferrer\">undefined behaviour</a>. Change it to:</p>\n\n<pre><code>for(i = 0; i &lt; n; i++) {\n</code></pre>\n\n<p>Note: Always check the return of all the standard functions for failures (<code>scanf()</code> and <code>malloc()</code> in your code).</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 5483806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c377f1926a7428a59104bfc71992faf?s=128&d=identicon&r=PG&f=1", "display_name": "fenigo69", "link": "https://stackoverflow.com/users/5483806/fenigo69"}, "edited": false, "score": 0, "creation_date": 1480502500, "post_id": 40886155, "comment_id": 68986390, "body": "it report me &quot;the program It is not recognized as executive program or a batch file&quot;"}], "tags": [], "owner": {"reputation": 42880, "user_id": 982161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/kutcC.png?s=128&g=1", "display_name": "\u03a6Xoc\u0119 \uc6c3 \u041fepe&#250;pa \u30c4", "link": "https://stackoverflow.com/users/982161/%ce%a6xoc%c4%99-%ec%9b%83-%d0%9fepe%c3%bapa-%e3%83%84"}, "is_accepted": false, "score": 0, "last_activity_date": 1480502635, "last_edit_date": 1480502635, "creation_date": 1480502322, "answer_id": 40886155, "question_id": 40886070, "link": "https://stackoverflow.com/questions/40886070/error-in-array-allocation-in-c/40886155#40886155", "title": "Error in array allocation in C", "body": "<p>Your for loop is going one step beyond the limit: must go as long as <strong><code>i&lt;n</code></strong> and not <strong><code>i&lt;=n</code></strong></p>\n\n<p>try doing:</p>\n\n<pre><code>for(i=0; i&lt;n; i++){\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5483806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c377f1926a7428a59104bfc71992faf?s=128&d=identicon&r=PG&f=1", "display_name": "fenigo69", "link": "https://stackoverflow.com/users/5483806/fenigo69"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 40886130, "answer_count": 2, "score": 1, "last_activity_date": 1505359931, "creation_date": 1480502052, "last_edit_date": 1480505139, "question_id": 40886070, "link": "https://stackoverflow.com/questions/40886070/error-in-array-allocation-in-c", "title": "Error in array allocation in C", "body": "<p>i've try to compile this simple program, it will alloc a dyamic array and return it with a multiple of 5 in every location. but it doesn't work, it report me an error in the pointer.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main(int argc, char const *argv[]) {\n    int n;\n    int i;\n    int* ptra;\n    scanf(\"%d\", &amp;n);\n    ptra = malloc(n*(sizeof(int)));\n\n    for(i=0; i&lt;=n; i++){\n        ptra[i] = (5*(i+1));\n        printf(\"%d\\n\", ptra[i]);\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 1, "creation_date": 1480501429, "post_id": 40885795, "comment_id": 68985603, "body": "What output do you expect ? Learn to use a debugger."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7230090, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/aa018c5093d187424003b4e6355e4dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Achilles", "link": "https://stackoverflow.com/users/7230090/achilles"}, "edited": false, "score": 0, "creation_date": 1480501893, "post_id": 40885825, "comment_id": 68985961, "body": "Yeap, that was it! Thank you very much Gopi!"}], "tags": [], "owner": {"reputation": 19499, "user_id": 3883560, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ndXdL.jpg?s=128&g=1", "display_name": "Gopi", "link": "https://stackoverflow.com/users/3883560/gopi"}, "is_accepted": false, "score": 3, "last_activity_date": 1480501354, "creation_date": 1480501354, "answer_id": 40885825, "question_id": 40885795, "link": "https://stackoverflow.com/questions/40885795/program-exe-has-stopped-working-c/40885825#40885825", "title": "program.exe has stopped working (c)", "body": "<pre><code>while (ptr&gt;=p)\n</code></pre>\n\n<p><code>p</code> pointer is uninitalized. Using uninitialized values leads to UB.</p>\n\n<p>You are assigning <code>ptr</code> to <code>p</code>. At that point <code>ptr</code> itself is not pointing to any valid memory location.</p>\n"}], "owner": {"reputation": 29, "user_id": 7230090, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/aa018c5093d187424003b4e6355e4dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Achilles", "link": "https://stackoverflow.com/users/7230090/achilles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1480501354, "creation_date": 1480501275, "question_id": 40885795, "link": "https://stackoverflow.com/questions/40885795/program-exe-has-stopped-working-c", "title": "program.exe has stopped working (c)", "body": "<p>In case my question is stupid or has already been answered, you'll have to excuse me, since it's the 1st time I am using the forum + when it comes to programming I am still a newbie. I will learn in time.</p>\n\n<p>Anyway, I wrote some lines of code which do not seem to work. When I am compiling and running the program, a small window pops which says that \"myprogram.exe has stopped working\" and that windows is checking a solution to the problem. If it gives you any clue, I am using codeblocks. </p>\n\n<p>Here is the program:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main(void)\n{\n    char *ptr,*p;\n    p=ptr;\n    ptr=\"Lineage\";\n    while (*ptr!='\\0')\n        ptr++;\n    ptr--;\n    while (ptr&gt;=p)\n        {\n        putchar(*ptr);\n        ptr--;\n        }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 5, "creation_date": 1480500357, "post_id": 40885394, "comment_id": 68984835, "body": "No, because in the second example <code>strcmp(input, &quot;quit&quot;)</code> is equivalent to <code>strcmp(input, &quot;quit&quot;) != 0</code>. In C all non-0 values are considered to be true."}, {"owner": {"reputation": 10281, "user_id": 51760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI89u.jpg?s=128&g=1", "display_name": "Aif", "link": "https://stackoverflow.com/users/51760/aif"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480500407, "post_id": 40885394, "comment_id": 68984880, "body": "No, see @WeatherVane&#39;s comment. But you can use <code>!strcmp(input, &quot;quit&quot;)</code>."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 1, "creation_date": 1480500554, "post_id": 40885394, "comment_id": 68984980, "body": "<a href=\"https://linux.die.net/man/3/strcmp\" rel=\"nofollow noreferrer\">man strcmp</a>."}, {"owner": {"reputation": 7, "user_id": 7230163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40afadca1849e3bf7ecc9df446205680?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/7230163/carlos"}, "edited": false, "score": 0, "creation_date": 1480581433, "post_id": 40885394, "comment_id": 69024437, "body": "That makes sense. If  INPUT is not &quot;quit&quot;, but any other string such as &quot;beer is good&quot;, the program needs to skip the instructions nested inside the IF curly brackets."}], "answers": [{"comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1480500536, "post_id": 40885451, "comment_id": 68984967, "body": "Technically any non-null value is considered to be <code>true</code>"}, {"owner": {"reputation": 7, "user_id": 7230163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40afadca1849e3bf7ecc9df446205680?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/7230163/carlos"}, "edited": false, "score": 0, "creation_date": 1480581454, "post_id": 40885451, "comment_id": 69024452, "body": "That makes sense. If  INPUT is not &quot;quit&quot;, but any other string such as &quot;beer is good&quot;, the program needs to skip the instructions nested inside the IF curly brackets."}], "tags": [], "owner": {"reputation": 1821, "user_id": 3599496, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/bab42d4541957a275a3f4615c36aa749?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Bakker", "link": "https://stackoverflow.com/users/3599496/joshua-bakker"}, "is_accepted": false, "score": 2, "last_activity_date": 1480500607, "last_edit_date": 1480500607, "creation_date": 1480500432, "answer_id": 40885451, "question_id": 40885394, "link": "https://stackoverflow.com/questions/40885394/using-0-with-an-if-statement/40885451#40885451", "title": "using &quot;== 0&quot; with an &quot;IF&quot; statement", "body": "<p>No. The first one checks if the result of <code>strcmp</code> is 0.</p>\n\n<p>The second checks if the result of <code>strcmp</code> is true. But true is equal to any other non-null value (thanks to UnholySheep for telling me as I forgot) and 0 is equal to NULL. So they're different.</p>\n\n<p>These would be the same though:</p>\n\n<pre><code>if (input != NULL &amp;&amp; strcmp(input, \"quit\") == 0)\n\nif (input != NULL &amp;&amp; !strcmp(input, \"quit\"))\n</code></pre>\n\n<p>As <code>!strcmp</code> checks if the value is false. False is equal to 0.</p>\n"}, {"tags": [], "owner": {"reputation": 9942, "user_id": 2876799, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f4774e789da0e393d56db22b62b9d292?s=128&d=identicon&r=PG&f=1", "display_name": "chasep255", "link": "https://stackoverflow.com/users/2876799/chasep255"}, "is_accepted": false, "score": 0, "last_activity_date": 1480500520, "creation_date": 1480500520, "answer_id": 40885487, "question_id": 40885394, "link": "https://stackoverflow.com/questions/40885394/using-0-with-an-if-statement/40885487#40885487", "title": "using &quot;== 0&quot; with an &quot;IF&quot; statement", "body": "<p>You would need to write.</p>\n\n<pre><code>if(input != NULL &amp;&amp; !strcmp(input, \"quit\"))\n</code></pre>\n\n<p>This is because strcmp is zero if they are equal which means it returns \"false\" when they are the same.  That is why you need the logical not.</p>\n\n<p>Also just for your information NULL is really just a constant zero so you could also write.</p>\n\n<pre><code>if(input &amp;&amp; !strcmp(input, \"quit\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7, "user_id": 7230163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40afadca1849e3bf7ecc9df446205680?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/7230163/carlos"}, "edited": false, "score": 0, "creation_date": 1480581483, "post_id": 40885536, "comment_id": 69024470, "body": "That makes sense. If  INPUT is not &quot;quit&quot;, but any other string such as &quot;beer is good&quot;, the program needs to skip the instructions nested inside the IF curly brackets."}, {"owner": {"reputation": 2040, "user_id": 5939079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54d6ff8fc2f032cf9d4e34de6eb60940?s=128&d=identicon&r=PG&f=1", "display_name": "cokceken", "link": "https://stackoverflow.com/users/5939079/cokceken"}, "reply_to_user": {"reputation": 7, "user_id": 7230163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40afadca1849e3bf7ecc9df446205680?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/7230163/carlos"}, "edited": false, "score": 0, "creation_date": 1480581598, "post_id": 40885536, "comment_id": 69024546, "body": "If input is quit then strcmp(input, &quot;quit&quot;) is 0. if(0) means don&#39;t execute if scope."}], "tags": [], "owner": {"reputation": 2040, "user_id": 5939079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54d6ff8fc2f032cf9d4e34de6eb60940?s=128&d=identicon&r=PG&f=1", "display_name": "cokceken", "link": "https://stackoverflow.com/users/5939079/cokceken"}, "is_accepted": false, "score": 0, "last_activity_date": 1480500639, "creation_date": 1480500639, "answer_id": 40885536, "question_id": 40885394, "link": "https://stackoverflow.com/questions/40885394/using-0-with-an-if-statement/40885536#40885536", "title": "using &quot;== 0&quot; with an &quot;IF&quot; statement", "body": "<p>In C, <code>if</code> statements only check if the value is <code>zero or non-zero</code>. for example <code>if(3)</code> or <code>if(-1)</code> is always works but <code>if(0)</code> won't work.</p>\n\n<p>Also <code>strcmp()</code> function returns the difference between two strings, the result may be 1, 35, -27... according to your inputs. <code>strcmp()</code> results 0 if only the strings are equal.</p>\n\n<p>So <code>if(input &amp;&amp; !strcmp(input, \"quit\"))</code> is not <code>if(input &amp;&amp; !strcmp(input, \"quit\") == 0)</code></p>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 3110903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7211aad2406113c878b4ae36eae3d7cf?s=128&d=identicon&r=PG&f=1", "display_name": "Amr Arafat", "link": "https://stackoverflow.com/users/3110903/amr-arafat"}, "is_accepted": false, "score": 0, "last_activity_date": 1480500831, "creation_date": 1480500831, "answer_id": 40885619, "question_id": 40885394, "link": "https://stackoverflow.com/questions/40885394/using-0-with-an-if-statement/40885619#40885619", "title": "using &quot;== 0&quot; with an &quot;IF&quot; statement", "body": "<p>This function returns the following values:</p>\n\n<ul>\n<li><p>if Return value &lt; 0 then it indicates str1 is less than str2.</p></li>\n<li><p>if Return value > 0 then it indicates str2 is less than str1.</p></li>\n<li><p>if Return value = 0 then it indicates str1 is equal to str2.</p></li>\n</ul>\n\n<p>For your case,  strcmp(input, \"quit\") is not equal to 0. So the first statement will be false while the second is true.</p>\n\n<p>For more, check this out: <a href=\"https://www.tutorialspoint.com/c_standard_library/c_function_strcmp.htm\" rel=\"nofollow noreferrer\">link</a></p>\n"}], "owner": {"reputation": 7, "user_id": 7230163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40afadca1849e3bf7ecc9df446205680?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/7230163/carlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 4, "score": -4, "last_activity_date": 1480502671, "creation_date": 1480500295, "last_edit_date": 1480502671, "question_id": 40885394, "link": "https://stackoverflow.com/questions/40885394/using-0-with-an-if-statement", "title": "using &quot;== 0&quot; with an &quot;IF&quot; statement", "body": "<p>Are the two statement equivalent?</p>\n\n<pre><code>if (input != NULL &amp;&amp; strcmp(input, \"quit\") == 0)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>if (input != NULL &amp;&amp; strcmp(input, \"quit\"))\n</code></pre>\n"}, {"tags": ["c", "macros", "static-analysis", "dead-code"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 4, "creation_date": 1480499452, "post_id": 40885037, "comment_id": 68984195, "body": "Comment out all <code>#define</code> directives and rebuild. Check which symbols are complained about."}, {"owner": {"reputation": 13762, "user_id": 694733, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0a3de8cd40d9ffb86cc1fed0c8cf2e19?s=128&d=identicon&r=PG", "display_name": "user694733", "link": "https://stackoverflow.com/users/694733/user694733"}, "edited": false, "score": 2, "creation_date": 1480499903, "post_id": 40885037, "comment_id": 68984502, "body": "Sidenote: Since your code compiles, remember to compare binaries before and after macro removal. You may accidentally remove macro which is used in conditional compilation, and get no warnings or errors."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1480500935, "post_id": 40885037, "comment_id": 68985257, "body": "@Someprogrammerdude: See edit. I want to be lazier than that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2512323"}, "edited": false, "score": 1, "creation_date": 1480501327, "post_id": 40885037, "comment_id": 68985524, "body": "What about code excluded by preprocessor? Should macro <code>FOO</code> be listed if it is excluded by, say, <code>#ifdef DEBUG</code>?"}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1480508327, "post_id": 40885037, "comment_id": 68990052, "body": "@deniss: Unused. But see edit."}, {"owner": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1480511239, "post_id": 40885037, "comment_id": 68991916, "body": "One could probably produce a list of all identifiers which are followed by optional whitespace and then a round bracket with grep or similar. That should be a list of all function and macro definitions and calls. Compare those with a list of symbols produced by <code>objdump</code> or <code>nm</code>."}, {"owner": {"reputation": 27420, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1480511816, "post_id": 40885037, "comment_id": 68992313, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2224334/gcc-dump-preprocessor-defines\">GCC dump preprocessor defines</a>"}, {"owner": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "reply_to_user": {"reputation": 27420, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1480514445, "post_id": 40885037, "comment_id": 68994203, "body": "@AndrewHenle Interesting link; although I think the OP wants not the definitions (there are plenty) but only the few <i>uses</i> of some of the definitions."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 27420, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1480521319, "post_id": 40885037, "comment_id": 68999254, "body": "@AndrewHenle: Actually, this question is about how to <i>not</i> get the entire dump of preprocessor defines."}], "answers": [{"comments": [{"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1480691272, "post_id": 40896849, "comment_id": 69081702, "body": "deniss, is that available in clang-3.8? I&#39;m having trouble locating it on my Kubuntu 16.04 distribution."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2512323"}, "reply_to_user": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1480716963, "post_id": 40896849, "comment_id": 69094878, "body": "@einpoklum, it should be. Unfortunately, I only ever built it from sources, so unsure if it is redistributed as binary."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1480865122, "post_id": 40896849, "comment_id": 69129517, "body": "Well, just so you know: <a href=\"http://askubuntu.com/posts/comments/1319419?noredirect=1\">it&#39;s missing from *buntu 16.04 and nobody knows why.</a>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2512323"}, "is_accepted": false, "score": 3, "last_activity_date": 1480535013, "creation_date": 1480535013, "answer_id": 40896849, "question_id": 40885037, "link": "https://stackoverflow.com/questions/40885037/how-can-i-quickly-determine-which-macros-my-code-uses/40896849#40896849", "title": "How can I quickly determine which macros my code uses?", "body": "<p>There exists <code>clang</code> tool named <a href=\"http://clang.llvm.org/extra/pp-trace.html\" rel=\"nofollow noreferrer\">pp-trace</a>. It outputs every preprocessor invocation with its parameters.</p>\n\n<p>You are interested in <code>MacroExpands</code> event, it looks like so in <code>pp-trace</code> output:</p>\n\n<pre><code>...\n\n- Callback: MacroExpands\n  MacroNameTok: X_IMPL\n  MacroDirective: MD_Define\n  Range: [(nonfile), (nonfile)]\n  Args: [a &lt;plus&gt; y, b]\n\n...\n</code></pre>\n\n<p>Extracting <code>MacroNameTok</code> from <code>MacroExpands</code> block should do the trick for you.</p>\n"}], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1480535013, "creation_date": 1480499305, "last_edit_date": 1495535415, "question_id": 40885037, "link": "https://stackoverflow.com/questions/40885037/how-can-i-quickly-determine-which-macros-my-code-uses", "title": "How can I quickly determine which macros my code uses?", "body": "<p>I have cut out a piece of code out of a larger (C) project. The code has many many macros defined, in many place - some of them are only used by the original, larger codebase, and not used by the part of the code I cut out.</p>\n\n<p>I want to quickly determine which of these macros are in actual use, and which aren't (so that I can remove those that aren't). I don't care whether the code paths which uses them get taken or not (i.e. <code>if (1+1 == 3) { MY_MACRO(a,b,c); }</code> is a use as far as I'm concerned.</p>\n\n<p>What's a good way to do this? The best I could think of is preprocess everything with -E and look for source position comments which mention the macro somehow.</p>\n\n<p><strong>Notes:</strong></p>\n\n<ul>\n<li>If you have a solution that also lists the functions in use, that's fine too.</li>\n<li>I only directly call certain functions in the code I cut out of the project. If your solution can limit the macros listed to those in functions which many actually get called from the entry-points, that's even better</li>\n<li>My code compiles and runs (and you can assume gprof output if that helps)</li>\n<li>Just commenting out all macros, while obviously feasible, is a hassle; so I want a solution which does not require my doing that.</li>\n<li>Code excluded by the preprocessor is unused; but if you have a solution which does not observe this restriction, that's still better than nothing.</li>\n<li>I don't want to <a href=\"https://stackoverflow.com/questions/2224334\">\"dump the list of preprocessor defines\"</a> - but rather those defines <em>that are in use</em>.</li>\n</ul>\n"}, {"tags": ["c", "gtk", "file-handling", "gio"], "comments": [{"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480500305, "post_id": 40884738, "comment_id": 68984803, "body": "What is your problem? What have you tried to solve it? What do you mean with &quot;print on terminal&quot;? Does it mean &quot;not within a GUI&quot;?  And where should GTK come into the game? File handling is not related to GUI framework."}, {"owner": {"reputation": 43, "user_id": 6935336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c967e025906a0b682f1a89699ad06f09?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/6935336/sri"}, "reply_to_user": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480500729, "post_id": 40884738, "comment_id": 68985109, "body": "i should write it using GIO. G_FIle handling should be done instead of normal file handling operations."}, {"owner": {"reputation": 43, "user_id": 6935336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c967e025906a0b682f1a89699ad06f09?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/6935336/sri"}, "reply_to_user": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480500892, "post_id": 40884738, "comment_id": 68985219, "body": "I should print the contents on screen."}, {"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480501034, "post_id": 40884738, "comment_id": 68985332, "body": "Then if you want GIO, what is the connection to GTK? And what is your specific problem? Are you asking for a tutorial where to start from beginning?"}, {"owner": {"reputation": 43, "user_id": 6935336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c967e025906a0b682f1a89699ad06f09?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/6935336/sri"}, "reply_to_user": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480502187, "post_id": 40884738, "comment_id": 68986177, "body": "I am going through the tutorial. But I could not understand totally as I am a student and I know only C. So, I wanted to try with this program. So, If anyone can provide it, It will be helpful."}, {"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480505924, "post_id": 40884738, "comment_id": 68988578, "body": "Maybe you should remove gtk from your question  Now you attract people like me to look into the question for GTK issue but there is no GTK issue at all. As i don&#39;t know about the GIO part, I am out of it now."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6935336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c967e025906a0b682f1a89699ad06f09?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/6935336/sri"}, "edited": false, "score": 0, "creation_date": 1480569183, "post_id": 40900656, "comment_id": 69019286, "body": "These are the errors that I am getting.                                            error: expected expression before \u2018GFile\u2019      g_autoptr(GFile) file = g_file_new_for_path(&quot;locations.txt&quot;); error: expected \u2018;\u2019 before \u2018file\u2019      g_autoptr(GFile) file = g_file_new_for_path(&quot;locations.txt&quot;); error: expected expression before \u2018GFileInputStream\u2019    g_autoptr(GFileInputStream) in = g_file_read(file, NULL, NULL); error: expected \u2018;\u2019 before \u2018in\u2019    g_autoptr(GFileInputStream) in = g_file_read(file, NULL, NULL)           ^ error: \u2018in\u2019 undeclared (first use in this function)      if(!in)"}, {"owner": {"reputation": 1943, "user_id": 1391824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20b30c131f358c299e7b5c89870c3761?s=128&d=identicon&r=PG", "display_name": "TingPing", "link": "https://stackoverflow.com/users/1391824/tingping"}, "reply_to_user": {"reputation": 43, "user_id": 6935336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c967e025906a0b682f1a89699ad06f09?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/6935336/sri"}, "edited": false, "score": 1, "creation_date": 1480573630, "post_id": 40900656, "comment_id": 69020966, "body": "You must have a rather old version of GLib. You can just remove the <code>g_autoptr()</code> stuff but you have to call <code>g_object_unref()</code> manually then."}, {"owner": {"reputation": 43, "user_id": 6935336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c967e025906a0b682f1a89699ad06f09?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/6935336/sri"}, "edited": false, "score": 0, "creation_date": 1480585244, "post_id": 40900656, "comment_id": 69026680, "body": "Even if I remove g_autoptr() and use g_object_unref() the errors remain the same. How can I modify the code to use #include&lt;gtk/gtk.h&gt; instead of #include&lt;gio/gio.h&gt;"}, {"owner": {"reputation": 43, "user_id": 6935336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c967e025906a0b682f1a89699ad06f09?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/6935336/sri"}, "edited": false, "score": 0, "creation_date": 1480586333, "post_id": 40900656, "comment_id": 69027451, "body": "I am getting output when I change it to g_object_unref. After displaying the result, I am getting an error:       error in &#39;./a.out&#39; : free(): invalid pointer: 0xbfa30f74      aborted (core dumped)"}], "tags": [], "owner": {"reputation": 1943, "user_id": 1391824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20b30c131f358c299e7b5c89870c3761?s=128&d=identicon&r=PG", "display_name": "TingPing", "link": "https://stackoverflow.com/users/1391824/tingping"}, "is_accepted": false, "score": 3, "last_activity_date": 1480552131, "creation_date": 1480552131, "answer_id": 40900656, "question_id": 40884738, "link": "https://stackoverflow.com/questions/40884738/file-handling-using-gio/40900656#40900656", "title": "File handling using GIO", "body": "<p>This is a rough approximation of the exact behavior you currently have.\nIt could be improved with error messages, reading a line at a time, etc.</p>\n\n<pre><code>#include &lt;gio/gio.h&gt;\n\nint main(void)\n{\n    g_autoptr(GFile) file = g_file_new_for_path(\"locations.txt\");\n    g_autoptr(GFileInputStream) in = g_file_read(file, NULL, NULL);\n    if(!in)\n        return 1;\n\n    gssize read;\n    char temp[1000];\n\n    while (TRUE)\n    {\n      read = g_input_stream_read(G_INPUT_STREAM(in), temp, G_N_ELEMENTS(temp) - 1, NULL, NULL);\n      if (read &gt; 0)\n      {\n          temp[read] = '\\0';\n          g_print(\"%s\", temp);\n      }\n      else if (read &lt; 0)\n          return 1;\n      else\n         break;\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12075, "user_id": 2241569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMrPS.jpg?s=128&g=1", "display_name": "Jussi Kukkonen", "link": "https://stackoverflow.com/users/2241569/jussi-kukkonen"}, "edited": false, "score": 2, "creation_date": 1480592652, "post_id": 40907789, "comment_id": 69031821, "body": "This just a copy of tingpings answer without g_autoptr (and with unneeded gtk include) right?"}], "tags": [], "owner": {"reputation": 43, "user_id": 6935336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c967e025906a0b682f1a89699ad06f09?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/6935336/sri"}, "is_accepted": false, "score": 0, "last_activity_date": 1480587040, "creation_date": 1480587040, "answer_id": 40907789, "question_id": 40884738, "link": "https://stackoverflow.com/questions/40884738/file-handling-using-gio/40907789#40907789", "title": "File handling using GIO", "body": "<p>The answer to my question:</p>\n\n<pre><code>#include &lt;gtk/gtk.h&gt;\n\nint main(void)\n{\nGFile *file = g_file_new_for_path(\"FINAL_SERVER_URLS.txt\");\n\nGFileInputStream *in = g_file_read(file, NULL, NULL);\nif(!in)\n    return 1;\n\ngssize read;\ngchar temp[1000];\n\nwhile (TRUE)\n{\n  read = g_input_stream_read(G_INPUT_STREAM(in), temp, G_N_ELEMENTS(temp) - 1, NULL, NULL);\n  if (read &gt; 0)\n  {\n      temp[read] = '\\0';\n      g_print(\"%s\", temp);\n  }\n  else if (read &lt; 0)\n      return 1;\n  else\n     break;\n}\n//g_free(temp);\ng_object_unref(file);\ng_object_unref(in);\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6935336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c967e025906a0b682f1a89699ad06f09?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/6935336/sri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1204, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1480587040, "creation_date": 1480498518, "last_edit_date": 1480523678, "question_id": 40884738, "link": "https://stackoverflow.com/questions/40884738/file-handling-using-gio", "title": "File handling using GIO", "body": "<p>I need to open a file to read the contents and display its contents on the screen. This should be done using GIO file handling. I am going through the tutorial but as a practice, I need the code using GIO for the following c code.\nIn c the program could be:</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n#include&lt;string.h&gt;\nint main()\n{\n\n  FILE *fp;\n  char temp[1000];\n  if(fp=fopen(\"locations.txt\", \"r\") != NULL)\n   {\n     fgets(temp, 1000, fp);\n     printf(\"%s\", temp[1000]);\n    }\n fclose(fp);\nreturn 0;\n}\n</code></pre>\n\n<p>thanks in advance.</p>\n"}, {"tags": ["c", "linker", "linker-errors", "ld", "extern"], "comments": [{"owner": {"reputation": 362958, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "edited": false, "score": 1, "creation_date": 1480498358, "post_id": 40884654, "comment_id": 68983447, "body": "What? Do you have a memory-mapped flash drive? That sounds very unusual ... what hardware platform is this?"}, {"owner": {"reputation": 191, "user_id": 7109320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3071821c606e9c9fe1fa5a40a8f59b?s=128&d=identicon&r=PG&f=1", "display_name": "Christy Wald", "link": "https://stackoverflow.com/users/7109320/christy-wald"}, "reply_to_user": {"reputation": 362958, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "edited": false, "score": 0, "creation_date": 1480498858, "post_id": 40884654, "comment_id": 68983773, "body": "Yes, I do have a memory mapped flash.. Its a ST micro controller..."}, {"owner": {"reputation": 191, "user_id": 7109320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3071821c606e9c9fe1fa5a40a8f59b?s=128&d=identicon&r=PG&f=1", "display_name": "Christy Wald", "link": "https://stackoverflow.com/users/7109320/christy-wald"}, "reply_to_user": {"reputation": 362958, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "edited": false, "score": 0, "creation_date": 1480498924, "post_id": 40884654, "comment_id": 68983814, "body": "@unwind Or help me with how you just write it to a normal ram location..."}, {"owner": {"reputation": 362958, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "edited": false, "score": 2, "creation_date": 1480500122, "post_id": 40884654, "comment_id": 68984656, "body": "The embedded flash on a microcontroller is not generally referred to as a &quot;flash drive&quot;, that&#39;s what confused me. Also, it&#39;s not always easily writable, i.e. you can&#39;t always expect to just move data there, there&#39;s sometimes other things you need to do (peripheral registers to poke) in order to control the write process. You need to specify exactly which controller you&#39;re talking about for this question to be even remotely answerable."}, {"owner": {"reputation": 191, "user_id": 7109320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3071821c606e9c9fe1fa5a40a8f59b?s=128&d=identicon&r=PG&f=1", "display_name": "Christy Wald", "link": "https://stackoverflow.com/users/7109320/christy-wald"}, "reply_to_user": {"reputation": 362958, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "edited": false, "score": 0, "creation_date": 1480500624, "post_id": 40884654, "comment_id": 68985033, "body": "SPC56EC64 is the micro controller used.. Thanks for the suggestion.. I have edited it."}, {"owner": {"reputation": 191, "user_id": 7109320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3071821c606e9c9fe1fa5a40a8f59b?s=128&d=identicon&r=PG&f=1", "display_name": "Christy Wald", "link": "https://stackoverflow.com/users/7109320/christy-wald"}, "reply_to_user": {"reputation": 362958, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "edited": false, "score": 0, "creation_date": 1481188232, "post_id": 40884654, "comment_id": 69278426, "body": "The below answer is what I was expecting..."}, {"owner": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "edited": false, "score": 0, "creation_date": 1481188627, "post_id": 40884654, "comment_id": 69278654, "body": "You can achieve the same thing as described in this answer, which is <b>not</b> just for GCC: <a href=\"https://stackoverflow.com/questions/4067811/how-to-place-a-variable-at-a-given-absolute-address-in-memory-with-gcc/4067819#4067819\" title=\"how to place a variable at a given absolute address in memory with gcc\">stackoverflow.com/questions/4067811/&hellip;</a>   <i>(This is without using the linker, but it may actually be simpler to leave the linker out of it.)</i>"}, {"owner": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "reply_to_user": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "edited": false, "score": 0, "creation_date": 1481296317, "post_id": 40884654, "comment_id": 69333798, "body": "@Prof.Falken The pointed solution works only if you want to store data inside ram or if you want to access to a peripheral. For flash location, you simply can&#39;t do that, because flash is a read only memory and you have to initialize it at linker step (Of course, some embedded devices offer you possibility to rewrite flash, but it a non trivial procedure)"}, {"owner": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "reply_to_user": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "edited": false, "score": 0, "creation_date": 1481406676, "post_id": 40884654, "comment_id": 69367467, "body": "@Garf365, sorry I don&#39;t follow. You use absolute addresses in your answer too?"}, {"owner": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "reply_to_user": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "edited": false, "score": 0, "creation_date": 1481446231, "post_id": 40884654, "comment_id": 69374421, "body": "@prof.falken The issue isn&#39;t absolute address but the access of memory. The issue here is to locate data inside flash memory, which is read only. So you can&#39;t assign data at an address located inside RO memory at runtime... you can only access it, not assign it"}, {"owner": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "reply_to_user": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "edited": false, "score": 0, "creation_date": 1481478329, "post_id": 40884654, "comment_id": 69383129, "body": "@Garf365, I still don&#39;t understand how the linker will help you there. If the memory is RO, how will the linker make it not readonly?"}, {"owner": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "reply_to_user": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "edited": false, "score": 0, "creation_date": 1481481000, "post_id": 40884654, "comment_id": 69384001, "body": "@prof.falken Linker generate the executable. After that, you will use a specific tool with a specific procedure to load program into the flash. All this step are done before program is executed, before runtime."}, {"owner": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "reply_to_user": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "edited": false, "score": 0, "creation_date": 1481531468, "post_id": 40884654, "comment_id": 69397929, "body": "@Garf365, thank you, now I understand!"}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 7109320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3071821c606e9c9fe1fa5a40a8f59b?s=128&d=identicon&r=PG&f=1", "display_name": "Christy Wald", "link": "https://stackoverflow.com/users/7109320/christy-wald"}, "edited": false, "score": 0, "creation_date": 1480507822, "post_id": 40887460, "comment_id": 68989719, "body": "Thanks a lot :) . I have an exe file for my linker.. i.e., I am building it in a Windows environment. Should I rebuild the exe with my new ld file reference?"}, {"owner": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "reply_to_user": {"reputation": 191, "user_id": 7109320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3071821c606e9c9fe1fa5a40a8f59b?s=128&d=identicon&r=PG&f=1", "display_name": "Christy Wald", "link": "https://stackoverflow.com/users/7109320/christy-wald"}, "edited": false, "score": 0, "creation_date": 1480509888, "post_id": 40887460, "comment_id": 68991013, "body": "You don&#39;t have to rebuild your linker, only your final app"}], "tags": [], "owner": {"reputation": 3483, "user_id": 3932569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bca364f93a9dfab17419b31a8a1a504?s=128&d=identicon&r=PG&f=1", "display_name": "Garf365", "link": "https://stackoverflow.com/users/3932569/garf365"}, "is_accepted": true, "score": 4, "last_activity_date": 1480506042, "creation_date": 1480506042, "answer_id": 40887460, "question_id": 40884654, "link": "https://stackoverflow.com/questions/40884654/allocate-an-array-in-c-a-specific-location-using-linker-commands/40887460#40887460", "title": "Allocate an array in C a specific location using linker commands", "body": "<p><strong>First solution</strong></p>\n\n<p>in \".c\":</p>\n\n<pre><code>// Talk to linker to place this in \".mysection\"\n__attribute__((section(\".mysection\"))) char MyArrray[52];\n</code></pre>\n\n<p>in \".ld\":</p>\n\n<pre><code>MEMORY {\n   m_interrupts (RX)    : ORIGIN = 0x00040000, LENGTH = 0x000001E8\n   m_text      (RX)     : ORIGIN = 0x00050000, LENGTH = 0x000BFE18\n   /* memory which will contain secion \".mysection\" */\n   m_my_memory (RX)       : ORIGIN = 0x00045000, LENGTH = 0x00000100\n}\n\nSECTIONS\n{\n  /***** Other sections *****/\n\n  /* place \"mysection\" inside \"m_my_memory\" */\n  .mysection :\n  {\n    . = ALIGN(4);\n    KEEP(*(.mysection));\n    . = ALIGN(4);\n  } &gt; m_my_memory\n\n  /***** Other sections *****/\n}\n</code></pre>\n\n<p><strong>Second solution</strong></p>\n\n<p>in  \".c\"</p>\n\n<pre><code>extern char myArray[52];\n</code></pre>\n\n<p>in \".ld\"</p>\n\n<pre><code>MEMORY {\n   m_interrupts (RX)    : ORIGIN = 0x00040000, LENGTH = 0x000001E8\n   m_text      (RX)     : ORIGIN = 0x00050000, LENGTH = 0x000BFE18\n   /* memory which will contain secion \"myArray\" */\n   m_my_memory (RX)       : ORIGIN = 0x00045000, LENGTH = 0x00000100\n}\n\nSECTIONS\n{\n  /***** Other sections *****/\n\n  /* place \"myArray\" inside \"m_my_memory\" */\n  .mysection :\n  {\n    . = ALIGN(4);\n    myArray = .; /* Place myArray at current address, ie first address of m_my_memory */\n    . = ALIGN(4);\n  } &gt; m_my_memory\n\n  /***** Other sections *****/\n}\n</code></pre>\n\n<hr>\n\n<p>See <a href=\"https://www.eecs.umich.edu/courses/eecs373/readings/Linker.pdf\" rel=\"nofollow noreferrer\">this good manual</a> to learn more how to place elements where you want</p>\n"}], "owner": {"reputation": 191, "user_id": 7109320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3071821c606e9c9fe1fa5a40a8f59b?s=128&d=identicon&r=PG&f=1", "display_name": "Christy Wald", "link": "https://stackoverflow.com/users/7109320/christy-wald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1318, "favorite_count": 2, "accepted_answer_id": 40887460, "answer_count": 1, "score": 4, "last_activity_date": 1495460448, "creation_date": 1480498278, "last_edit_date": 1481188306, "question_id": 40884654, "link": "https://stackoverflow.com/questions/40884654/allocate-an-array-in-c-a-specific-location-using-linker-commands", "title": "Allocate an array in C a specific location using linker commands", "body": "<p>I am a beginner... I would like to write to a specific memory location in my embedded flash...How do I mention it in my C header file? And then link  it with the specific memory location using linker scripts. Right now I have declared the array as extern and it compiles properly. While liking, I need to tell the linker that I need it at this particular location. Should it be given in .ld file? What is a .dld file? This is not for GCC, for diab compiler. I have seen a sample code bubble.dld for bubble sort. But in some projects .dld files are created while making the project. In what step is it actually created?</p>\n"}, {"tags": ["c", "embedded", "stm32", "spi", "dma"], "comments": [{"owner": {"reputation": 313, "user_id": 2390668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752a1ba199d3c1990177d55b3c6fd460?s=128&d=identicon&r=PG&f=1", "display_name": "MrMuMu", "link": "https://stackoverflow.com/users/2390668/mrmumu"}, "edited": false, "score": 1, "creation_date": 1480499729, "post_id": 40884590, "comment_id": 68984385, "body": "check <a href=\"http://www.st.com/resource/en/reference_manual/cd00171190.pdf\" rel=\"nofollow noreferrer\">this</a>, page 282. I am not sure if your implementations are correct but according to datasheet <code>DMA1_Channel1</code> has no relation with SPI"}, {"owner": {"reputation": 115, "user_id": 5556415, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a1c68f45771033f863d6e0f9a205ff24?s=128&d=identicon&r=PG&f=1", "display_name": "kmbm", "link": "https://stackoverflow.com/users/5556415/kmbm"}, "reply_to_user": {"reputation": 313, "user_id": 2390668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752a1ba199d3c1990177d55b3c6fd460?s=128&d=identicon&r=PG&f=1", "display_name": "MrMuMu", "link": "https://stackoverflow.com/users/2390668/mrmumu"}, "edited": false, "score": 0, "creation_date": 1480501122, "post_id": 40884590, "comment_id": 68985396, "body": "It works on channel 3. Thanks a lot."}, {"owner": {"reputation": 6260, "user_id": 3820025, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zXOn4.png?s=128&g=1", "display_name": "Bence Kaulics", "link": "https://stackoverflow.com/users/3820025/bence-kaulics"}, "reply_to_user": {"reputation": 313, "user_id": 2390668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752a1ba199d3c1990177d55b3c6fd460?s=128&d=identicon&r=PG&f=1", "display_name": "MrMuMu", "link": "https://stackoverflow.com/users/2390668/mrmumu"}, "edited": false, "score": 1, "creation_date": 1480533439, "post_id": 40884590, "comment_id": 69006670, "body": "@NanonA You should post it as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 313, "user_id": 2390668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752a1ba199d3c1990177d55b3c6fd460?s=128&d=identicon&r=PG&f=1", "display_name": "MrMuMu", "link": "https://stackoverflow.com/users/2390668/mrmumu"}, "is_accepted": false, "score": 5, "last_activity_date": 1480572831, "creation_date": 1480572831, "answer_id": 40903774, "question_id": 40884590, "link": "https://stackoverflow.com/questions/40884590/stm32-spi-dma/40903774#40903774", "title": "stm32 SPI + DMA", "body": "<p>As I mentioned in comments, your SPI has no connection with <code>DMA1_Channel1</code>. According to <a href=\"http://www.st.com/content/ccc/resource/technical/document/reference_manual/59/b9/ba/7f/11/af/43/d5/CD00171190.pdf/files/CD00171190.pdf/jcr:content/translations/en.CD00171190.pdf\" rel=\"nofollow noreferrer\">this data sheet</a>, you should use <code>DMA1_Channel3</code>.</p>\n"}], "owner": {"reputation": 115, "user_id": 5556415, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a1c68f45771033f863d6e0f9a205ff24?s=128&d=identicon&r=PG&f=1", "display_name": "kmbm", "link": "https://stackoverflow.com/users/5556415/kmbm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2948, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1480572831, "creation_date": 1480498080, "last_edit_date": 1480498196, "question_id": 40884590, "link": "https://stackoverflow.com/questions/40884590/stm32-spi-dma", "title": "stm32 SPI + DMA", "body": "<p>I try to send data with SPI using DMA channel. When I send without DMA everything is OK, but with DMA sth is wrong. When I debug my program SPI DR register is always 0. I would like to use dma circular mode to send my array all the time. There is my code\nGPIO INIT:</p>\n\n<pre><code>GPIO_InitTypeDef GPIO_InitStructure;\nRCC_APB2PeriphClockCmd(SPI_PERIPH_CLOCK, ENABLE);\nRCC_AHBPeriphClockCmd(GPIO_PERIPH_CLOCK, ENABLE);\nRCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA1, ENABLE);\n\nGPIO_PinAFConfig(GPIOB, AF_PIN_SOURCE, GPIO_AF);\n\nGPIO_InitStructure.GPIO_Pin = GPIO_PIN_5;\nGPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;\nGPIO_InitStructure.GPIO_OType = GPIO_OType_PP;\nGPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_DOWN;\nGPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;\n\nGPIO_Init(GPIOB, &amp;GPIO_InitStructure);\n</code></pre>\n\n<p>SPI INIT</p>\n\n<pre><code>SPI_I2S_DeInit(SPI1);\n\nSPI_InitTypeDef SPI_InitStructure;\nSPI_InitStructure.SPI_Mode = SPI_Mode_Master;\nSPI_InitStructure.SPI_Direction = SPI_Direction_1Line_Tx;\nSPI_InitStructure.SPI_DataSize = SPI_DataSize_16b;\nSPI_InitStructure.SPI_CPOL = SPI_CPOL_Low;\nSPI_InitStructure.SPI_CPHA = SPI_CPHA_1Edge;\nSPI_InitStructure.SPI_NSS = SPI_NSS_Soft;\nSPI_InitStructure.SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_32;\nSPI_InitStructure.SPI_FirstBit = SPI_FirstBit_MSB;\nSPI_InitStructure.SPI_CRCPolynomial = 7;\nSPI_Init(SPI1, &amp;SPI_InitStructure);\n\nSPI_Cmd(SPI1, ENABLE);\n</code></pre>\n\n<p>DMA INIT:</p>\n\n<pre><code>    DMA_InitTypeDef dma;\n    DMA_DeInit(DMA1_Channel1);\n    DMA_StructInit(&amp;dma);\n\n    dma.DMA_PeripheralBaseAddr = (uint32_t)&amp;SPI1-&gt;DR;\n    dma.DMA_PeripheralInc = DMA_PeripheralInc_Disable;\n    dma.DMA_PeripheralDataSize = DMA_PeripheralDataSize_HalfWord;\n    dma.DMA_MemoryBaseAddr = (uint32_t)spi_tx_buffer;\n    dma.DMA_MemoryInc = DMA_MemoryInc_Enable;\n    dma.DMA_MemoryDataSize = DMA_MemoryDataSize_HalfWord;\n    dma.DMA_DIR = DMA_DIR_PeripheralDST;\n    dma.DMA_BufferSize = BUFFERSIZE;   \n    dma.DMA_Mode = DMA_Mode_Circular;\n    dma.DMA_M2M = DMA_M2M_Disable;\n\n    DMA_ITConfig(DMA1_Channel1, DMA_IT_TC, ENABLE);\n\n    NVIC_InitTypeDef NVIC_InitStructure;\n\n    NVIC_InitStructure.NVIC_IRQChannel = DMA1_Channel1_IRQn;\n    NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 6;\n    NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;\n    NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;\n    NVIC_Init(&amp;NVIC_InitStructure);\n\n    DMA_Init(DMA1_Channel1, &amp;dma);\n    SPI_I2S_DMACmd(SPI1, SPI_I2S_DMAReq_Tx, ENABLE);\n\n    DMA_Cmd(DMA1_Channel1, ENABLE);\n</code></pre>\n\n<p>simple main</p>\n\n<pre><code>int main(void) {\n\nperiph_init();\n\nwhile (1) {     \n    for(int j=0; j&lt;10000000; j++){\n        j++;\n        j--;\n    }\n}\nreturn 0;\n}\n</code></pre>\n\n<p>What I'm doing wrong?</p>\n"}, {"tags": ["python", "c", "arrays", "numpy"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1480499053, "post_id": 40884508, "comment_id": 68983903, "body": "Why not doing all this in python directly?"}, {"owner": {"reputation": 158, "user_id": 7229807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a049d139e0da46796dea5318a17749c0?s=128&d=identicon&r=PG&f=1", "display_name": "Petrus1904", "link": "https://stackoverflow.com/users/7229807/petrus1904"}, "reply_to_user": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1480512589, "post_id": 40884508, "comment_id": 68992889, "body": "@JulienBernu, because python is a &#39;very slow&#39; language. simple comparison codes I wrote resulted in that the same code written in C is about 200 times faster than in python. I want to perform a convolution over an 2592x1944 image, huge loops with simple tasks. the program is intended to perform real-time image operations. 1-2 seconds for just the convolution is just too long"}, {"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1480672188, "post_id": 40884508, "comment_id": 69069342, "body": "native python is slow, yes (although not always), but numpy is pretty much same as C, and you don&#39;t have to re-invent the wheel."}, {"owner": {"reputation": 158, "user_id": 7229807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a049d139e0da46796dea5318a17749c0?s=128&d=identicon&r=PG&f=1", "display_name": "Petrus1904", "link": "https://stackoverflow.com/users/7229807/petrus1904"}, "reply_to_user": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 1, "creation_date": 1480686926, "post_id": 40884508, "comment_id": 69078677, "body": "@JulienBernu, indeed. I do have to mention that I use numpy for as good as everything. But I already found out that both PIL and the opencv libraries have a &quot;convolution&quot; function (cant say if this is really convolution but results show the same). where my (with numpy) python convolution took 2.7 seconds. the opencv one did it in 0.75 seconds. which is nice, can be done better maybe but for now its nice"}], "answers": [{"comments": [{"owner": {"reputation": 158, "user_id": 7229807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a049d139e0da46796dea5318a17749c0?s=128&d=identicon&r=PG&f=1", "display_name": "Petrus1904", "link": "https://stackoverflow.com/users/7229807/petrus1904"}, "edited": false, "score": 0, "creation_date": 1480512286, "post_id": 40885555, "comment_id": 68992695, "body": "Ok, I&#39;ve never though of using pointers (because, I didnt know that they exists). But how do i use the pointer to get the array in C? the pointer is only a integer of the memory location, simply writing something like double array[500] = &amp;43058432; doesnt work right?"}], "tags": [], "owner": {"reputation": 1539, "user_id": 1021242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9076cf754044e715d77ab21d29c796c3?s=128&d=identicon&r=PG", "display_name": "podshumok", "link": "https://stackoverflow.com/users/1021242/podshumok"}, "is_accepted": true, "score": 0, "last_activity_date": 1480500677, "creation_date": 1480500677, "answer_id": 40885555, "question_id": 40884508, "link": "https://stackoverflow.com/questions/40884508/convert-numpy-c-array-to-c-double-and-back/40885555#40885555", "title": "convert numpy-C array to C double* [] and back", "body": "<p>Usually you can get a pointer from numpy array by calling (in python):</p>\n\n<pre><code>arr.__array_interface__['data']\n</code></pre>\n\n<p>Be aware of stribes, though.</p>\n\n<p>Given a c-buffer you can construct numpy array via <code>numpy.frombuffer</code> function:</p>\n\n<pre><code>arr = numpy.frombuffer(buf, dtype, size, offset=0)\n</code></pre>\n\n<p>(I assume you create new read-write buffer via python or its C API and than use it to store results of computation)</p>\n"}], "owner": {"reputation": 158, "user_id": 7229807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a049d139e0da46796dea5318a17749c0?s=128&d=identicon&r=PG&f=1", "display_name": "Petrus1904", "link": "https://stackoverflow.com/users/7229807/petrus1904"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 0, "accepted_answer_id": 40885555, "answer_count": 1, "score": 0, "last_activity_date": 1480508189, "creation_date": 1480497850, "last_edit_date": 1480508189, "question_id": 40884508, "link": "https://stackoverflow.com/questions/40884508/convert-numpy-c-array-to-c-double-and-back", "title": "convert numpy-C array to C double* [] and back", "body": "<p>After a long struggle I managed to succesfully import a numpy array into C, as well return an empty numpy array back with the same size. Now I would like to perform a convolution with a given 3x3 kernel. I am used to create a second C function which performs the operation, while the callable function from python just converts the input arguments to pass them to the function. so what I would like to do is:</p>\n\n<ol>\n<li>receive the numpy array from python </li>\n<li>convert it to a C-double array</li>\n<li>perform the convolution (leave this to me for now)</li>\n<li>convert the convoluted array back to C-numpy array</li>\n<li>return the C-numpy array back to python.</li>\n</ol>\n\n<p>So step 1 and 5 already done. code:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>static PyObject *CPtest_convolute(PyObject *self, PyObject *args)\n{\n    PyArrayObject *in_array;\n    PyObject *out_array;\n\n    /*extract input array, create output array*/\n    if (!PyArg_ParseTuple(args, \"O!\", &amp;PyArray_Type, &amp;in_array))    return NULL;\n\n    /*convert numpy to double*[]*/\n    /*convArr = convolute(in_array, kernel);*/\n\n    out_array = PyArray_NewLikeArray(in_array, NPY_ANYORDER, NULL, 0);\n    if (out_array == NULL)\n        /*for now, i am not going to throw an error, instead return 0.\n          python can use that 0 to throw the error */\n        return Py_BuildValue(\"i\", 0); \n\n    /*convert convArr to out_array*/\n\n    return out_array;\n};\n</code></pre>\n\n<p>further notes, I use Python 2.7 on Windows 8. the PyMODINIT_FUNC and PyMethodDef are properly initialize (which means, no errors and correct results). While I have found multiple results, they all used things like ctypes or SWIG, not C. Although I am somewhat new in C, I am familiar with the basics (from Arduino C).</p>\n\n<p>thanks in advance!</p>\n"}, {"tags": ["c", "winapi", "combobox"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 3, "creation_date": 1480496584, "post_id": 40883995, "comment_id": 68982313, "body": "You can use <code>CB_SETITEMDATA</code> to associate a pointer-sized data value with an item, and <code>CB_GETITEMDATA</code> to retrieve it."}, {"owner": {"reputation": 79, "user_id": 7229792, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157933156495571/picture?type=large", "display_name": "c-dev", "link": "https://stackoverflow.com/users/7229792/c-dev"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1480496727, "post_id": 40883995, "comment_id": 68982391, "body": "Do you mean after adding all strings, with cb addstring say blue red white I make a loop to cb_setitemdata  specifying indexed 0,1,2 with 12,13,14  as values if 12 means blue?"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 1, "creation_date": 1480497387, "post_id": 40883995, "comment_id": 68982742, "body": "@c-dev - you need call <code>CB_SETITEMDATA</code> just after <code>CB_ADDSTRING</code> or <code>CB_INSERTSTRING</code> and use returned index from this message for   <code>CB_SETITEMDATA</code> , but not assume 0,1,2"}], "answers": [{"tags": [], "owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "is_accepted": false, "score": 3, "last_activity_date": 1480498869, "last_edit_date": 1480498869, "creation_date": 1480498503, "answer_id": 40884732, "question_id": 40883995, "link": "https://stackoverflow.com/questions/40883995/win32-api-c-struct-in-combobox-items/40884732#40884732", "title": "Win32 API C struct in ComboBox items", "body": "<p>You can use the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb775909(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>CB_SETITEMDATA</code></a> and <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb775859(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>CB_GETITEMDATA</code></a> messages.</p>\n\n<p>Basically, after you insert a new string in the combo-box, e.g. via <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb775828(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>CB_ADDSTRING</code></a>, the zero-based index of the added string is returned on success.</p>\n\n<p>Then you can use this index with <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb775909(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>CB_SETITEMDATA</code></a>, associating to that item (having that index) your own custom data (passed via <em>pointer</em> in the <code>lParam</code>).</p>\n\n<p>Similarly, you can retrieve that data using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb775859(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>CB_GETITEMDATA</code></a>, specifying in the <code>wParam</code> the 0-based index of the item you want to retrieve the data from.</p>\n\n<p><strong>P.S.</strong> You may want to use some higher-level more convenient <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ff485900(v=vs.85).aspx\" rel=\"nofollow noreferrer\">helper macros for ComboBoxes</a> instead of raw Windows messages, like <code>ComboBox_SetItemData</code> or <code>ComboBox_GetItemData</code>. </p>\n"}], "owner": {"reputation": 79, "user_id": 7229792, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157933156495571/picture?type=large", "display_name": "c-dev", "link": "https://stackoverflow.com/users/7229792/c-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1480499026, "creation_date": 1480496265, "last_edit_date": 1480499026, "question_id": 40883995, "link": "https://stackoverflow.com/questions/40883995/win32-api-c-struct-in-combobox-items", "title": "Win32 API C struct in ComboBox items", "body": "<p>Does anybody know how to add items from a <code>struct</code> to a ComboBox in C like in HTML - using the Win32 API in C and neither C# nor C++?</p>\n\n<pre><code>struct item {\n  char *label, \n  int value;\n};\n</code></pre>\n\n<p>So when we retrieve the selected item we retrieve the value and not the displayed string. </p>\n"}, {"tags": ["c", "multithreading", "struct", "pthreads"], "comments": [{"owner": {"reputation": 25908, "user_id": 242520, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0623460a9ea717d56fd359f797f98d77?s=128&d=identicon&r=PG", "display_name": "ta.speot.is", "link": "https://stackoverflow.com/users/242520/ta-speot-is"}, "edited": false, "score": 0, "creation_date": 1480493903, "post_id": 40883313, "comment_id": 68980751, "body": "<code>data-&gt;x</code> and <code>data-&gt;y</code> but you have undefined behaviour with <code>*data = ...</code>"}, {"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1480493914, "post_id": 40883313, "comment_id": 68980756, "body": "The compiler tells you exactly what the problem is. Data is not a structure and not a union. Data is a pointer. Handle it like a pointer."}], "answers": [{"tags": [], "owner": {"reputation": 571, "user_id": 7168422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9fa7fc75e75f6299101840f47fd4173?s=128&d=identicon&r=PG&f=1", "display_name": "C. L.", "link": "https://stackoverflow.com/users/7168422/c-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1480493944, "creation_date": 1480493944, "answer_id": 40883379, "question_id": 40883313, "link": "https://stackoverflow.com/questions/40883313/c-error-while-passing-structure-to-threads/40883379#40883379", "title": "C - Error while passing structure to threads", "body": "<p><code>data</code> is a pointer, so use <code>(*data).x</code> or <code>data-&gt;x</code></p>\n"}, {"tags": [], "owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": true, "score": 2, "last_activity_date": 1480493960, "creation_date": 1480493960, "answer_id": 40883382, "question_id": 40883313, "link": "https://stackoverflow.com/questions/40883313/c-error-while-passing-structure-to-threads/40883382#40883382", "title": "C - Error while passing structure to threads", "body": "<p>The problem is that <code>data</code> is a <em>pointer</em> to a structure, and for those you need to use the \"arrow\" operator <code>-&gt;</code>, like in <code>data-&gt;x</code>.</p>\n\n<hr>\n\n<p>There is a worse problem though:</p>\n\n<pre><code>struct dotData *data;\n*data = *((struct dotData*)(thisdot));\n</code></pre>\n\n<p>The pointer <code>data</code> doesn't point anywhere. Uninitialized local (non-static) variables will have an <em>indeterminate</em> value. To use a pointer you actually need to make it point somewhere.</p>\n\n<p>Or, for a simple solution and the one I recommend, not use pointers at all:</p>\n\n<pre><code>struct dotData = *(struct dotData *) thisdot;\n</code></pre>\n\n<hr>\n\n<p>You also have <em>another</em> big problem, in how you pass data to the threads. All the threads will get the same pointer to the same structure. So the modifications you make in the thread-creation loop will be set for <em>all</em> the data in <em>all</em> the threads.</p>\n\n<p>This can be solved by dynamically allocating the structure you pass to the threads. You can then just copy the pointer instead of copy the structure. And you must remember to <code>free</code> the data or you will have a memory leak.</p>\n"}], "owner": {"reputation": 53, "user_id": 7081805, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9lxi5.png?s=128&g=1", "display_name": "knifecentipede", "link": "https://stackoverflow.com/users/7081805/knifecentipede"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 40883382, "answer_count": 2, "score": 0, "last_activity_date": 1480499515, "creation_date": 1480493704, "last_edit_date": 1480499515, "question_id": 40883313, "link": "https://stackoverflow.com/questions/40883313/c-error-while-passing-structure-to-threads", "title": "C - Error while passing structure to threads", "body": "<p>Here I have a <code>struct</code></p>\n\n<pre><code>struct dotData{\n    long x;\n    long y;\n};\n</code></pre>\n\n<p>Which I try to pass to multiple <code>threads</code></p>\n\n<pre><code>void *find_z(void *thisdot)\n{\n    long z;\n    struct dotData *data;\n    *data = *((struct dotData*)(thisdot));\n    z = data.x + data.y;\n    printf(\"Here's our dot! %ld * %ld = %ld \\n\", data.x, data.y, z);\n    pthread_exit(NULL);\n}\n</code></pre>\n\n<p>From <code>main()</code> where I create a struct <code>thisdot</code>, which is passed as an argument to <code>find_z</code> every time its elements <code>x</code> and <code>y</code> are changed</p>\n\n<pre><code>int main()\n{\n.\n.\n.\n    struct dotData thisdot;\n\n    int NUM_THREADS;\n    NUM_THREADS = N*M;\n    pthread_t threads[NUM_THREADS];\n    int i, j;\n\n    for(i = 0; i &lt; M; i++){\n        for (j = 0; j &lt; N; j++) {\n            thisdot.x = x_dotBegin + x_interval*j;\n            thisdot.y = y_dotBegin + y_interval*i;\n            pthread_create(&amp;threads[NUM_THREADS], NULL, find_z, &amp;thisdot);\n        }\n    }\n    pthread_exit(NULL);\n}\n</code></pre>\n\n<p>However, during compilation I get an error in <code>z = data.x + data.y;</code></p>\n\n<pre><code>error: request for member \u2018x\u2019 in something not a structure or union|\nerror: request for member \u2018y\u2019 in something not a structure or union|\n</code></pre>\n\n<p>How do I correctly pass this struct to threads?</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 732, "user_id": 1952009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92b213144223d7c866ab308fe6700633?s=128&d=identicon&r=PG", "display_name": "reuns", "link": "https://stackoverflow.com/users/1952009/reuns"}, "edited": false, "score": 0, "creation_date": 1480490946, "post_id": 40882522, "comment_id": 68979318, "body": "the function <code>convert</code> modifies the array : it is because the array isn&#39;t copied, only its address (pointer) is passed to the function"}, {"owner": {"reputation": 1119, "user_id": 6797534, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tu8Gt9iJGt8/AAAAAAAAAAI/AAAAAAAAAI0/Diz261BzMYk/photo.jpg?sz=128", "display_name": "Ray Hamel", "link": "https://stackoverflow.com/users/6797534/ray-hamel"}, "edited": false, "score": 0, "creation_date": 1480491246, "post_id": 40882522, "comment_id": 68979456, "body": "When you pass an array to a function, it becomes a pointer (so this is clear, I prefer to declare functions using pointer syntax: <code>void convert(float *heat)</code>). Passing by reference (by pointer in C) means the function can modify the actual argument passed to the function, while passing by value means that the function works on a local copy of the argument."}], "answers": [{"tags": [], "owner": {"reputation": 8833, "user_id": 337149, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3bbd41f2b74254f902cfe20acef9030b?s=128&d=identicon&r=PG", "display_name": "August Karlstrom", "link": "https://stackoverflow.com/users/337149/august-karlstrom"}, "is_accepted": false, "score": 0, "last_activity_date": 1480492284, "last_edit_date": 1480492284, "creation_date": 1480491865, "answer_id": 40882865, "question_id": 40882522, "link": "https://stackoverflow.com/questions/40882522/c-coding-for-loop-call-by-reference-confusion/40882865#40882865", "title": "C Coding: For loop/call by reference confusion", "body": "<p>The function <em>convert</em> receives a pointer to the first element of the <em>temps</em> array and then modifies its elements. In other words, the array is never copied. Since only a pointer is passed there is no way to tell how long the formal parameter <em>heat</em> is inside <em>convert</em>. It is therefor a good idea to pass the length of the array as well. Here is how I would do it:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n#define LEN(arr) ((int) (sizeof (arr) / sizeof (arr)[0]))\n\nvoid convert(float heat[], int heatLen)\n{\n    int i;\n\n    for (i = 0; i &lt; heatLen; i++) {\n        heat[i] = (5.0 / 9.0) * (heat[i] - 32);\n    }\n}\n\n\nint main(void)\n{\n    float temps[31];\n    int i, nRead;\n\n    for (i = 0; i &lt; LEN(temps) ; i++) {\n        printf(\"Enter temperature #%d: \", i);\n        nRead = scanf(\"%f\", &amp;temps[i]);\n        if (nRead != 1) {\n            fprintf(stderr, \"Invalid input\\n\");\n            exit(EXIT_FAILURE);\n        }\n    }\n\n    convert(temps, LEN(temps));\n\n    for (i = 0; i &lt; LEN(temps) ; i++) {\n        printf(\"%6.2f\\n\", temps[i]);\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "is_accepted": false, "score": 0, "last_activity_date": 1480493920, "creation_date": 1480493920, "answer_id": 40883372, "question_id": 40882522, "link": "https://stackoverflow.com/questions/40882522/c-coding-for-loop-call-by-reference-confusion/40883372#40883372", "title": "C Coding: For loop/call by reference confusion", "body": "<p>There are no such thing as <code>call by reference</code> in C. The language <strong>only</strong> support call by value.</p>\n\n<p>The call</p>\n\n<pre><code>convert(temps);\n</code></pre>\n\n<p>passes a <strong>value</strong>. Since <code>temps</code> is an array it really passes the <code>address of the first element in the array</code>. For the function it looks like a <code>pointer to float</code> - we say that the array decays into a pointer when used as a function argument.</p>\n\n<p>Inside the <code>convert</code> function you can then change the value of the elements in the array by using the passed address value (aka by using the pointer). This can be done be simple indexing, like</p>\n\n<pre><code>temps[i] = .....;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>*(temps + i) = ....;\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5107022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460aa805bb82e29cb1edf9aec4cac57a?s=128&d=identicon&r=PG&f=1", "display_name": "Dwight", "link": "https://stackoverflow.com/users/5107022/dwight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1480494139, "creation_date": 1480490602, "last_edit_date": 1480494139, "question_id": 40882522, "link": "https://stackoverflow.com/questions/40882522/c-coding-for-loop-call-by-reference-confusion", "title": "C Coding: For loop/call by reference confusion", "body": "<p>In this program, I don't quite understand what's going on below the comment: /*pass the array */. The output of this program should be 31 iterations of    Enter temperature #0,#1,#2.....#30 and then convert those user entered values into Celsius. My confusion is in what purpose or how the function call convert(temps) works and how everything below that functions as a whole.</p>\n\n<p>Any clarification on how the code 'works' to achieve said output would be great. In addition is the call by referencing happening at the convert function, if so could somebody please explain the dynamics within there. </p>\n\n<p>Thank You.</p>\n\n<pre><code>#define COUNT 31\nvoid convert (float heat[]);\nvoid main()\n{\n    float temps[COUNT];\n    int index;\n    /*load the array with values*/\n    for (index = 0; index &lt; COUNT ; index++)\n    {\n        printf(\"Enter temperature #%d: \", index);\n        scanf(\"%f\", &amp;temps[index]);\n    }\n    /*pass the array */\n    convert(temps);\n    for (index = 0; index &lt; COUNT ; index++)\n        printf(\"%6.2f\\n\", temps[index]);\n}\n\n/*******************convert function ************************/\nvoid convert (float heat[])\n{\n    int index;\n    for (index = 0; index &lt; COUNT; index++)\n    {\n        heat[index] = (5.0/9.0)*(heat[index]-32);\n    }\n}\n</code></pre>\n"}, {"tags": ["c", "jpeg", "ansi", "zigzag"], "comments": [{"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 1, "creation_date": 1480489354, "post_id": 40882020, "comment_id": 68978592, "body": "Take a look to the <a href=\"https://rosettacode.org/wiki/Zig-zag_matrix\" rel=\"nofollow noreferrer\">&quot;Rosetta code - Zig-zag matrix&quot;</a>."}, {"owner": {"reputation": 183, "user_id": 2875443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9LOaH.jpg?s=128&g=1", "display_name": "oOpSgEo", "link": "https://stackoverflow.com/users/2875443/oopsgeo"}, "edited": false, "score": 0, "creation_date": 1480489557, "post_id": 40882020, "comment_id": 68978682, "body": "With that said, you can either create 2 more loops one that encapsulates your iteration, and the another loop that would offset your loop, both loops would have to be nested in conditional statements and the parent loop&#39;s count would choose the conditional statement in order to traverse the proper way.  Although, off the top of my head, the solution I proposed adds complexity to the algorithm. Keep in mind I haven&#39;t slept since Monday morning and I stayed at a Holiday Inn express last night."}, {"owner": {"reputation": 37, "user_id": 7227973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef43c322ddc92ea1102b02d9fb95c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/7227973/piotr"}, "reply_to_user": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 1, "creation_date": 1480490630, "post_id": 40882020, "comment_id": 68979185, "body": "@J. Piquard I saw that, but C code shown there is too advanced for me."}, {"owner": {"reputation": 1343, "user_id": 2205845, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1dea1209ebf27edf4244bbef686d366?s=128&d=identicon&r=PG", "display_name": "KC Wong", "link": "https://stackoverflow.com/users/2205845/kc-wong"}, "edited": false, "score": 0, "creation_date": 1480491331, "post_id": 40882020, "comment_id": 68979502, "body": "The way I see the moving pattern is this: 1. Start at [0,0]. 2. Take one step horizontally forward to [1,0]. 3. Travel diagonally, horizontally backwards and vertically forward until you hit an edge (in this case, [0, 1]). 4. Take one step vertically forward to [0,2]. 5. Travel diagonally, horizontally forward and vertically backward until you hit an edge (in this case, [2,0]). Repeat the process until you hit the last element at [n,n]."}, {"owner": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "edited": false, "score": 0, "creation_date": 1480491393, "post_id": 40882020, "comment_id": 68979545, "body": "This page briefly touches on zig-zag ordering and as a a bonus even includes some code. The downside is that it performs Morton order zig-zagging, which as somewhat different than the scheme you&#39;ve presented. The fella now works with NVIDIA afaik and knows his stuff. <a href=\"http://www.iquilezles.org/www/articles/wavelet/wavelet.htm\" rel=\"nofollow noreferrer\">iquilezles.org/www/articles/wavelet/wavelet.htm</a>"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 7227973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef43c322ddc92ea1102b02d9fb95c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/7227973/piotr"}, "edited": false, "score": 0, "creation_date": 1480495717, "post_id": 40883166, "comment_id": 68981748, "body": "I see, the results vary depending if the given size is odd or even. That shouldn&#39;t be a big problem. Thank you :)"}, {"owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "reply_to_user": {"reputation": 37, "user_id": 7227973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef43c322ddc92ea1102b02d9fb95c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/7227973/piotr"}, "edited": false, "score": 0, "creation_date": 1480535094, "post_id": 40883166, "comment_id": 69007478, "body": "@Piotr, the fix turned out to be trivial: change the <code>if (z % 2) {</code> in my new code to <code>if (z % 2 == n % 2) {</code>.  I&#39;ve updated my code and provided example output to confirm the fix.  Enjoy."}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": true, "score": 0, "last_activity_date": 1480534965, "last_edit_date": 1480534965, "creation_date": 1480493140, "answer_id": 40883166, "question_id": 40882020, "link": "https://stackoverflow.com/questions/40882020/zigzag-array-in-ansi-c/40883166#40883166", "title": "Zigzag array in ANSI C", "body": "<blockquote>\n  <p>I saw that, but C code shown there is too advanced for me</p>\n</blockquote>\n\n<p>You could just keep doing what you're doing with another nested set of <code>for</code> loops and revised indexes:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nvoid zigZagArray(int *array, int n) {\n    int r = 1;\n\n    for (int z = 0; z &lt; n; z++) {\n        if (z % 2 == 0) {\n            for (int i = 0; i &lt;= z; i++) {\n                // array[z - i][i] = r++;\n                *((array + (z - i) * n) + i) = r++;\n            }\n        } else {\n            for (int i = 0; i &lt;= z; i++) {\n                // array[i][z - i] = r++;\n                *((array + i * n) + z - i) = r++;\n            }\n        }\n    }\n\n    for (int z = 1; z &lt; n; z++) {\n        if (z % 2 == n % 2) {\n            for (int i = 1; i &lt;= n - z; i++) {\n                // array[z + i - 1][n - i] = r++;\n                *((array + (z + i - 1) * n) + n - i) = r++;\n            }\n        } else {\n            for (int i = 1; i &lt;= n - z; i++) {\n                // array[n - i][z + i - 1] = r++;\n                *((array + (n - i) * n) + z + i - 1) = r++;\n            }\n        }\n    }\n}\n\nvoid printArray(int *array, int n)\n{\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            printf(\"%2d \", *((array + i * n) + j));\n        }\n        printf(\"\\n\");\n    }\n}\n\nint main() {\n\n    int a[7][7];\n    zigZagArray((int *) a, 7);\n    printArray((int *) a, 7);\n\n    printf(\"\\n\");\n\n    int b[8][8];\n    zigZagArray((int *) b, 8);\n    printArray((int *) b, 8);\n\n    printf(\"\\n\");\n\n    int c[9][9];\n    zigZagArray((int *) c, 9);\n    printArray((int *) c, 9);\n\n    return 0;\n}\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>% ./a.out\n 1  2  6  7 15 16 28 \n 3  5  8 14 17 27 29 \n 4  9 13 18 26 30 39 \n10 12 19 25 31 38 40 \n11 20 24 32 37 41 46 \n21 23 33 36 42 45 47 \n22 34 35 43 44 48 49 \n\n 1  2  6  7 15 16 28 29 \n 3  5  8 14 17 27 30 43 \n 4  9 13 18 26 31 42 44 \n10 12 19 25 32 41 45 54 \n11 20 24 33 40 46 53 55 \n21 23 34 39 47 52 56 61 \n22 35 38 48 51 57 60 62 \n36 37 49 50 58 59 63 64 \n\n 1  2  6  7 15 16 28 29 45 \n 3  5  8 14 17 27 30 44 46 \n 4  9 13 18 26 31 43 47 60 \n10 12 19 25 32 42 48 59 61 \n11 20 24 33 41 49 58 62 71 \n21 23 34 40 50 57 63 70 72 \n22 35 39 51 56 64 69 73 78 \n36 38 52 55 65 68 74 77 79 \n37 53 54 66 67 75 76 80 81 \n%\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7227973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef43c322ddc92ea1102b02d9fb95c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/7227973/piotr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 839, "favorite_count": 1, "accepted_answer_id": 40883166, "answer_count": 1, "score": 2, "last_activity_date": 1480534965, "creation_date": 1480488699, "last_edit_date": 1480490366, "question_id": 40882020, "link": "https://stackoverflow.com/questions/40882020/zigzag-array-in-ansi-c", "title": "Zigzag array in ANSI C", "body": "<p>I'm just a beginner and I'm trying to figure out how to create two-dimensional array, filled with numbers diagonally like in JPEG zigzag ordering: <a href=\"https://en.wikipedia.org/wiki/File:JPEG_ZigZag.svg\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/File:JPEG_ZigZag.svg</a></p>\n\n<p>I figured out how to get the upper-left part:</p>\n\n<pre><code>r=1;\nfor(z=0;z&lt;n;z++)\n{\n    if(z%2=0)\n    {\n        for(i=0;i&lt;=z;i++)\n        {\n           t[z-i][i]=r;\n           ++r;\n        }\n    }\n    else\n    {\n        for(i=0;i&lt;=z;i++)\n        {\n           t[i][z-i]=r;\n           ++r;\n        }\n    }\n}  \n</code></pre>\n\n<p>And it works fine, but I can't figure out how to get the rest of it. </p>\n"}, {"tags": ["c", "assembly", "x86-64", "att"], "comments": [{"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1480486903, "post_id": 40881528, "comment_id": 68977552, "body": "<code>int y=&amp;x;</code> is invalid. <code>y</code> is not a pointer"}, {"owner": {"reputation": 107, "user_id": 5296353, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4836446b030e255f3c1e111125c93368?s=128&d=identicon&r=PG&f=1", "display_name": "BrainsOfSteel", "link": "https://stackoverflow.com/users/5296353/brainsofsteel"}, "reply_to_user": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1480487355, "post_id": 40881528, "comment_id": 68977743, "body": "Sorry i made a rookie mistake while writing the code..... I have corrected it now"}, {"owner": {"reputation": 240639, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1480491588, "post_id": 40881528, "comment_id": 68979636, "body": "Easier to read example: pass a pointer to a local to an external function.  Then you can enable optimization without everything optimizing away.  <a href=\"https://godbolt.org/g/N6ESby\" rel=\"nofollow noreferrer\">See source + asm on the Godbolt compiler explorer</a>, which strips out all the <code>.seh_</code> and other directives that set metadata for the object file."}], "answers": [{"comments": [{"owner": {"reputation": 240639, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1480491728, "post_id": 40881594, "comment_id": 68979703, "body": "Would probably be good to point out why rbp-8 is <code>&amp;x</code>: because it&#39;s on the stack.  I&#39;m not sure which part the OP doesn&#39;t understand, whether it&#39;s what <a href=\"http://stackoverflow.com/questions/1658294/whats-the-purpose-of-the-lea-instruction\">LEA does</a>, or why it&#39;s used <i>that way</i>."}], "tags": [], "owner": {"reputation": 1207, "user_id": 1641854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/79e6b5b23adf85e9a616af4cf4690cce?s=128&d=identicon&r=PG", "display_name": "user1641854", "link": "https://stackoverflow.com/users/1641854/user1641854"}, "is_accepted": false, "score": 6, "last_activity_date": 1480503461, "last_edit_date": 1480503461, "creation_date": 1480486839, "answer_id": 40881594, "question_id": 40881528, "link": "https://stackoverflow.com/questions/40881528/understanding-pointer-assignment-in-x86-64-assembly-code/40881594#40881594", "title": "Understanding pointer assignment in x86-64 Assembly Code", "body": "<pre><code>    leaq    -8(%rbp), %rax\n    movl    %eax, -4(%rbp)\n    movl    $0, %eax\n    addq    $48, %rsp\n    popq    %rbp\n    ret\n</code></pre>\n\n<ol>\n<li><p><code>leaq</code> saves address of variable <code>x</code> on the stack to register <code>rax</code>. Variable <code>x</code> is automatic variable on the stack, hence it address is calculated as offset from register that holds stack frame pointer(<code>rbp</code>).</p></li>\n<li><p><code>movl eax</code> to stack saves <code>argc</code> argument to the stack.</p></li>\n<li><p>next step is to put return value in <code>eax</code> register from <code>main</code> function(return 0)</p></li>\n<li><p>two next opcodes are function epilogue - you are cleaning up used stack and restore previous frame pointer register.</p></li>\n<li><p>and the last one instruction is simple return.</p></li>\n</ol>\n"}], "owner": {"reputation": 107, "user_id": 5296353, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4836446b030e255f3c1e111125c93368?s=128&d=identicon&r=PG&f=1", "display_name": "BrainsOfSteel", "link": "https://stackoverflow.com/users/5296353/brainsofsteel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1480503461, "creation_date": 1480486521, "last_edit_date": 1480488925, "question_id": 40881528, "link": "https://stackoverflow.com/questions/40881528/understanding-pointer-assignment-in-x86-64-assembly-code", "title": "Understanding pointer assignment in x86-64 Assembly Code", "body": "<p>I am trying to understand assembly code. I am stuck in the portion where the pointer is assigned and the code after <code>leaq</code> command</p>\n\n<p>This is my C code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include&lt;stdlib.h&gt;\n\nint main(){\n    int x=50;\n    int *y=&amp;x;\n    return 0;\n}\n</code></pre>\n\n<p>This is my corresponding ASSEMBLY code:</p>\n\n<pre><code>.file   \"AssemlyCode.c\"\n    .def    __main; .scl    2;  .type   32; .endef\n    .text\n    .globl  main\n    .def    main;   .scl    2;  .type   32; .endef\n    .seh_proc   main\nmain:\n    pushq   %rbp\n    .seh_pushreg    %rbp\n    movq    %rsp, %rbp\n    .seh_setframe   %rbp, 0\n    subq    $48, %rsp\n    .seh_stackalloc 48\n    .seh_endprologue\n    call    __main\n    movl    $50, -12(%rbp)\n    leaq    -12(%rbp), %rax\n    movq    %rax, -8(%rbp)\n    movl    $0, %eax\n    addq    $48, %rsp\n    popq    %rbp\n    ret\n    .seh_endproc\n    .ident  \"GCC: (GNU) 5.4.0\"\n</code></pre>\n"}, {"tags": ["c", "function", "recursion"], "comments": [{"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480492192, "post_id": 40881517, "comment_id": 68979930, "body": "Is there any reason why you can&#39;t do this in a loop? It will be thousand times faster, consume less memory and be far more readable."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 7150824, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0bb1f71e8ee38822aeb643e96c9ff88b?s=128&d=identicon&r=PG&f=1", "display_name": "SOFUser", "link": "https://stackoverflow.com/users/7150824/sofuser"}, "edited": false, "score": 0, "creation_date": 1480487344, "post_id": 40881632, "comment_id": 68977735, "body": "Thanks a lot!! I was thinking about some middle variable !!"}], "tags": [], "owner": {"reputation": 1263, "user_id": 1104939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3a1ad1ff0b65408e93d8ce846a3a7a77?s=128&d=identicon&r=PG", "display_name": "user1104939", "link": "https://stackoverflow.com/users/1104939/user1104939"}, "is_accepted": true, "score": 3, "last_activity_date": 1480486995, "creation_date": 1480486995, "answer_id": 40881632, "question_id": 40881517, "link": "https://stackoverflow.com/questions/40881517/how-to-initialize-an-integer-in-a-recursive-function-only-when-the-function-is/40881632#40881632", "title": "How to initialize an integer in a recursive function, only when the function is called from other functions?", "body": "<p>To directly answer your question:</p>\n\n<pre><code>int entrycal(int i,int j,int m,int n,int k,int a[m][n],int b[n][k],int q) {\n    static int sum = 0;\n    int total_sum = 0;\n    sum += a[i][q] * b[q][j];\n    if ( q+1 &lt; n )\n        entrycal(i,j,m,n,k,a,b,q+1);\n    total_sum = sum;\n    sum = 0;\n    return total_sum;\n}\n</code></pre>\n\n<p>However I would implement it like:</p>\n\n<pre><code>int entrycal(int i,int j,int m,int n,int k,int a[m][n],int b[n][k],int q) {\n    int sum = a[i][q] * b[q][j];\n    if ( q+1 &lt; n )\n        return sum + entrycal(i,j,m,n,k,a,b,q+1);\n    return sum;\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 7150824, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0bb1f71e8ee38822aeb643e96c9ff88b?s=128&d=identicon&r=PG&f=1", "display_name": "SOFUser", "link": "https://stackoverflow.com/users/7150824/sofuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 40881632, "answer_count": 1, "score": 0, "last_activity_date": 1480486995, "creation_date": 1480486487, "question_id": 40881517, "link": "https://stackoverflow.com/questions/40881517/how-to-initialize-an-integer-in-a-recursive-function-only-when-the-function-is", "title": "How to initialize an integer in a recursive function, only when the function is called from other functions?", "body": "<p>I have written a function for calculating multiplication of 2 matrices.\nThis is the function : </p>\n\n<pre><code>int entrycal(int i,int j,int m,int n,int k,int a[m][n],int b[n][k],int q) {\nstatic int sum = 0;\nsum += a[i][q] * b[q][j];\nif ( q+1 &lt; n )\n    entrycal(i,j,m,n,k,a,b,q+1);\nreturn sum;\n}\n</code></pre>\n\n<p>I have tried using     static int , but when I need to calculate a new entry (after returning sum and calling the function again from the main function ) ,it doesn't get initialized to zero.\nI have solved the problem using a global variable \"sum\" and initializing it in the main function every time I call the \"entrycal\" function, but I like to solve it without using global variables.Is it possible ? </p>\n\n<p>secondary question : \nIf there is a problem with my function arguments and they can get better I would be happy to learn more!</p>\n\n<p>sorry for my english</p>\n\n<p>thanks</p>\n"}, {"tags": ["c", "strtol"], "comments": [{"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 1, "creation_date": 1480486238, "post_id": 40881414, "comment_id": 68977228, "body": "<code>uint32_t</code> is always 32 bits on any C99 compliant compiler. However the correct format specifier for it is <a href=\"http://stackoverflow.com/q/12936798/995714\"><code>PRIx32</code></a>"}, {"owner": {"reputation": 1422, "user_id": 4538770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adfd2f0b91001372439c7e23c60e4c52?s=128&d=identicon&r=PG", "display_name": "Jo&#235;l Hecht", "link": "https://stackoverflow.com/users/4538770/jo%c3%abl-hecht"}, "edited": false, "score": 1, "creation_date": 1480486645, "post_id": 40881414, "comment_id": 68977438, "body": "Try to test the value of <code>errno</code> after the conversion, it may gives some clue."}, {"owner": {"reputation": 14789, "user_id": 682869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/vJH1M.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/682869/jake"}, "reply_to_user": {"reputation": 1422, "user_id": 4538770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adfd2f0b91001372439c7e23c60e4c52?s=128&d=identicon&r=PG", "display_name": "Jo&#235;l Hecht", "link": "https://stackoverflow.com/users/4538770/jo%c3%abl-hecht"}, "edited": false, "score": 0, "creation_date": 1480487738, "post_id": 40881414, "comment_id": 68977912, "body": "@Jo&#235;lHecht errno states <code>Errno: Math result not representable</code>"}, {"owner": {"reputation": 897, "user_id": 3830887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa739aedfb6760abc3605091e12810e?s=128&d=identicon&r=PG&f=1", "display_name": "TonyB", "link": "https://stackoverflow.com/users/3830887/tonyb"}, "edited": false, "score": 1, "creation_date": 1480488309, "post_id": 40881414, "comment_id": 68978143, "body": "Perhaps your platform has strtoul() available, if so use it."}, {"owner": {"reputation": 14789, "user_id": 682869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/vJH1M.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/682869/jake"}, "reply_to_user": {"reputation": 897, "user_id": 3830887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa739aedfb6760abc3605091e12810e?s=128&d=identicon&r=PG&f=1", "display_name": "TonyB", "link": "https://stackoverflow.com/users/3830887/tonyb"}, "edited": false, "score": 0, "creation_date": 1480489705, "post_id": 40881414, "comment_id": 68978751, "body": "@TonyB: That worked. Thanks !"}], "answers": [{"tags": [], "owner": {"reputation": 532, "user_id": 5575101, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/add6836672110b43184a99e5fdabf4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Kaushal", "link": "https://stackoverflow.com/users/5575101/arun-kaushal"}, "is_accepted": true, "score": 2, "last_activity_date": 1480488840, "creation_date": 1480488840, "answer_id": 40882054, "question_id": 40881414, "link": "https://stackoverflow.com/questions/40881414/hex-string-conversion-using-strtol-giving-wrong-output/40882054#40882054", "title": "Hex string conversion using strtol() giving wrong output", "body": "<p>You are actually getting LONG_MAX (which is 2147483647 or 0x7FFFFFFF) as return value, which happens when the value passed to strtol is greater than LONG_MAX. You should use the unsigned type to represent that number on your machine. Please use function strtoul() in place of strtol.</p>\n"}], "owner": {"reputation": 14789, "user_id": 682869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/vJH1M.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/682869/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 40882054, "answer_count": 1, "score": 0, "last_activity_date": 1480488840, "creation_date": 1480485896, "question_id": 40881414, "link": "https://stackoverflow.com/questions/40881414/hex-string-conversion-using-strtol-giving-wrong-output", "title": "Hex string conversion using strtol() giving wrong output", "body": "<p>I have a situation where I need to convert a hex string <code>0x8aaaf200</code> to a <code>uint32_t</code>. I first tested it on my local machine (Linux Debian box).</p>\n\n<pre><code>// str contains \"0x8aaaf200\"\n\nuint32_t var = (uint32_t)strtol(str, NULL, 0); \nprintf(\"conversion: %x \\n\\n\", var); // prints 8aaaf200\n</code></pre>\n\n<p>I then ran it on a different machine (Android based), but to my surprise, the output comes out to be <code>7fffffff</code>. I think it may be related to <code>uint32_t</code> size on different machines. </p>\n\n<p>Does anyone have a suggestion on how to fix it ? I can't change the <code>uin32_t</code> type usage, as it is part of code written by someone else.</p>\n"}, {"tags": ["c", "linux", "sockets", "ipv6"], "comments": [{"owner": {"reputation": 1422, "user_id": 4538770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adfd2f0b91001372439c7e23c60e4c52?s=128&d=identicon&r=PG", "display_name": "Jo&#235;l Hecht", "link": "https://stackoverflow.com/users/4538770/jo%c3%abl-hecht"}, "edited": false, "score": 2, "creation_date": 1480486912, "post_id": 40881334, "comment_id": 68977558, "body": "Try your code with a <code>\\n</code> in the end of our <code>printf</code> statments to be sure that the output is not stuck in the buffer."}, {"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 4, "creation_date": 1480497379, "post_id": 40881334, "comment_id": 68982734, "body": "<code>&quot;127.0.0.1&quot;</code> is not a valid IPv6 address"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 6914841, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/327e7771744ce8cd83ea58181403e79a?s=128&d=identicon&r=PG&f=1", "display_name": "enamel", "link": "https://stackoverflow.com/users/6914841/enamel"}, "is_accepted": false, "score": 0, "last_activity_date": 1480488040, "creation_date": 1480488040, "answer_id": 40881867, "question_id": 40881334, "link": "https://stackoverflow.com/questions/40881334/socket-programming-ipv6-client-program-not-working/40881867#40881867", "title": "socket programming , ipv6 client program not working", "body": "<p>The problem was the inet_pton function . After passing the loopback address in IPv6 formate (0:0:0:0:0:0:0:1) , the program runs fine. </p>\n"}, {"tags": [], "owner": {"reputation": 1361, "user_id": 6821811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7RGA.png?s=128&g=1", "display_name": "Danny", "link": "https://stackoverflow.com/users/6821811/danny"}, "is_accepted": false, "score": 0, "last_activity_date": 1480488282, "creation_date": 1480488282, "answer_id": 40881929, "question_id": 40881334, "link": "https://stackoverflow.com/questions/40881334/socket-programming-ipv6-client-program-not-working/40881929#40881929", "title": "socket programming , ipv6 client program not working", "body": "<p>Your program is stuck at the blocking read(sock...).\nYou need to add every where you have printf <code>\\n</code> to flush output to STDOUT to see output with printf!</p>\n"}], "owner": {"reputation": 81, "user_id": 6914841, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/327e7771744ce8cd83ea58181403e79a?s=128&d=identicon&r=PG&f=1", "display_name": "enamel", "link": "https://stackoverflow.com/users/6914841/enamel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480488282, "creation_date": 1480485549, "question_id": 40881334, "link": "https://stackoverflow.com/questions/40881334/socket-programming-ipv6-client-program-not-working", "title": "socket programming , ipv6 client program not working", "body": "<p>Below is my code for IPv6 client program on local machine. When I run this program it just pauses like Reading Mode , not even printing \"Start:\".\nWhen I comment the line of socket() system call , then only it proceeds .</p>\n\n<pre><code>#include&lt;stdio.h&gt; \n#include&lt;string.h&gt;    \n#include&lt;sys/socket.h&gt;\n#include&lt;arpa/inet.h&gt; \n#include&lt;unistd.h&gt;\n#include&lt;errno.h&gt;\n\nint main( int argc, char *argv[])\n{\n    printf(\"Start:\");\n    int sock;\n    char msg[20];\n    struct sockaddr_in6 server;\n\n    server.sin6_family=AF_INET6;\n    server.sin6_port=htons(8888);\n    inet_pton(AF_INET6, \"127.0.0.1\", &amp;(server.sin6_addr) );\n\n\n    sock=socket(AF_INET6, SOCK_STREAM , 0);\n    if( sock == -1)\n    {\n     perror(\"Socket Creation Failed\");\n     return 1;\n    }\n\n    printf(\"Connecting\");\n\n   if( connect(sock, (struct sockaddr *)&amp;server , sizeof(server)) &lt; 0)\n   {\n    perror(\"Connection Failed\");\n    return 1;\n   }\n\n   if( read(sock, msg , sizeof(msg)) &lt; 0)\n   {\n    perror(\"Reading Failed\");\n    return 1;\n   }\n\n   puts(msg);\n   }\n</code></pre>\n"}, {"tags": ["c", "cmd", "windows-10"], "comments": [{"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1480485788, "post_id": 40881320, "comment_id": 68977045, "body": "what compiler are you using?"}, {"owner": {"reputation": 13, "user_id": 6085327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fa7fb06dace43d23530a9e0de0128?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie ", "link": "https://stackoverflow.com/users/6085327/charlie"}, "reply_to_user": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1480485895, "post_id": 40881320, "comment_id": 68977093, "body": "Wingw... the command is a gcc command"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1480486165, "post_id": 40881320, "comment_id": 68977201, "body": "gcc is the compiler, mingw is a port of gcc on Windows"}, {"owner": {"reputation": 13, "user_id": 6085327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fa7fb06dace43d23530a9e0de0128?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie ", "link": "https://stackoverflow.com/users/6085327/charlie"}, "reply_to_user": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1480486393, "post_id": 40881320, "comment_id": 68977302, "body": "All I know is I have not changed anything and it was working and now it&#39;s not... I will get the visual 2015 maybe the developer prompt will fix the issue I don&#39;t know"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1480486581, "post_id": 40881320, "comment_id": 68977409, "body": "There&#39;s no information in your answer so no one will be able to answer. What&#39;s the command you used for compiling? Anyway mingw is not quite updated and has many bugs. Use mingw-w64 instead, it&#39;s much better"}, {"owner": {"reputation": 13, "user_id": 6085327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fa7fb06dace43d23530a9e0de0128?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie ", "link": "https://stackoverflow.com/users/6085327/charlie"}, "reply_to_user": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1480486813, "post_id": 40881320, "comment_id": 68977513, "body": "Ok I&#39;ll get wingw 64 as well.... I&#39;m just trying to see if any one has had the same issue and fixed it. I honestly don&#39;t know how to 1. Show the issue or 2. Ask the question in the right manner for an answer to really be found... I am lost with this problem bc everything was working Monday night"}, {"owner": {"reputation": 6034, "user_id": 4460500, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7TTnO.jpg?s=128&g=1", "display_name": "VolAnd", "link": "https://stackoverflow.com/users/4460500/voland"}, "edited": false, "score": 0, "creation_date": 1480660898, "post_id": 40881320, "comment_id": 69063882, "body": "If your problem is still unsolved, try to ask with step-by-step demonstration: 1) result of running <code>gcc</code> without parameters (test that compiler was found when run in <code>cmd</code>); 2) result of running <code>gcc</code> for simple hello-world program (perhaps it works for new program, so run the program to show output); 3) changes made in hello-world (e.g. output text &quot;Hello, world&quot; -&gt; &quot;Hello, GCC&quot;); 4) compilation (2) of changed program (output of <code>gcc</code>) and result of running after that; 5) Your question."}, {"owner": {"reputation": 13, "user_id": 6085327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fa7fb06dace43d23530a9e0de0128?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie ", "link": "https://stackoverflow.com/users/6085327/charlie"}, "edited": false, "score": 0, "creation_date": 1480732965, "post_id": 40881320, "comment_id": 69098558, "body": "I fixed this with the visual studios 2015 and the developer command prompt.  I do not know if I was missing something before but its working now so I am happy go lucky for now. Thanks for all the input!"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6085327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fa7fb06dace43d23530a9e0de0128?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie ", "link": "https://stackoverflow.com/users/6085327/charlie"}, "edited": false, "score": 0, "creation_date": 1480485727, "post_id": 40881357, "comment_id": 68977022, "body": "What is cl.exe?"}, {"owner": {"reputation": 13, "user_id": 6085327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fa7fb06dace43d23530a9e0de0128?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie ", "link": "https://stackoverflow.com/users/6085327/charlie"}, "edited": false, "score": 0, "creation_date": 1480485749, "post_id": 40881357, "comment_id": 68977031, "body": "Like I said I haven&#39;t had this problem till tonight"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1480485752, "post_id": 40881357, "comment_id": 68977033, "body": "the compiler in MS Visual Studio"}, {"owner": {"reputation": 13, "user_id": 6085327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fa7fb06dace43d23530a9e0de0128?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie ", "link": "https://stackoverflow.com/users/6085327/charlie"}, "edited": false, "score": 0, "creation_date": 1480485940, "post_id": 40881357, "comment_id": 68977108, "body": "I will have to look into that"}], "tags": [], "owner": {"reputation": 6034, "user_id": 4460500, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7TTnO.jpg?s=128&g=1", "display_name": "VolAnd", "link": "https://stackoverflow.com/users/4460500/voland"}, "is_accepted": true, "score": 0, "last_activity_date": 1480486058, "last_edit_date": 1480486058, "creation_date": 1480485639, "answer_id": 40881357, "question_id": 40881320, "link": "https://stackoverflow.com/questions/40881320/compiling-c-code-in-cmd-prompt/40881357#40881357", "title": "Compiling C code in cmd prompt", "body": "<p>If you have installed Visual Studio 2015 (or other edition) on Windows 10 and create source code file with <code>.c</code> extension, you can use <code>cl.exe</code>.</p>\n\n<p>It is better to use Visual C++ developer command prompt (can be started from Start button).</p>\n\n<pre><code>C:\\Program Files (x86)\\Microsoft Visual Studio 14.0&gt;cl prog.c\n</code></pre>\n\n<p>Visual C++ developer command prompt provides environment settings like Path.\nIf you just run <code>cl.exe</code> without parameters you should see something like </p>\n\n<blockquote>\n  <p>Microsoft (R) C/C++ Optimizing Compiler Version 19.00.23918 for x86<br>\n  Copyright (C) Microsoft Corporation.  All rights reserved. </p>\n</blockquote>\n\n<p>This way is not for Mingw. But, perhaps, compiler is not limiting... so Visual Studio can work at the same PC. Just as an option</p>\n"}], "owner": {"reputation": 13, "user_id": 6085327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fa7fb06dace43d23530a9e0de0128?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie ", "link": "https://stackoverflow.com/users/6085327/charlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 40881357, "answer_count": 1, "score": 0, "last_activity_date": 1480486058, "creation_date": 1480485473, "question_id": 40881320, "link": "https://stackoverflow.com/questions/40881320/compiling-c-code-in-cmd-prompt", "title": "Compiling C code in cmd prompt", "body": "<p>I use sublime text as my text editor and the cmd prompt to compile and run the code. The cmd prompt out of no where will no longer update the exe with the new code added to the program. Has anyone had this problem? It was working the other night and I have not changed any settings on the computer that would make this not work. Also the program has no errors </p>\n"}, {"tags": ["c", "multithreading", "semaphore"], "answers": [{"comments": [{"owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "edited": false, "score": 0, "creation_date": 1480501336, "post_id": 40883081, "comment_id": 68985531, "body": "<a href=\"http://stackoverflow.com/a/4793662/412080\">You can build a semaphore from a mutex and a conditional variable</a>. Both of which can be process-shared and placed in the shared memory, hence providing an inter-process communication mechanism."}, {"owner": {"reputation": 1138, "user_id": 2685239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b377571ae1b0f324171100cfab8c7df?s=128&d=identicon&r=PG&f=1", "display_name": "mariusm", "link": "https://stackoverflow.com/users/2685239/mariusm"}, "reply_to_user": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "edited": false, "score": 0, "creation_date": 1480533895, "post_id": 40883081, "comment_id": 69006931, "body": "@MaximEgorushkin sure, you can build one out of another (it&#39;s a performance overkill), but I would like to see standard/native CV with IPC, e.g. I don&#39;t see such an option in pthread_cond_init."}, {"owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "edited": false, "score": 1, "creation_date": 1480534516, "post_id": 40883081, "comment_id": 69007188, "body": "Process shared mutexes and condition variables have been standard for decades now. <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_condattr_setpshared.html\" rel=\"nofollow noreferrer\">pubs.opengroup.org/onlinepubs/9699919799/functions/&hellip;</a>"}, {"owner": {"reputation": 1138, "user_id": 2685239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b377571ae1b0f324171100cfab8c7df?s=128&d=identicon&r=PG&f=1", "display_name": "mariusm", "link": "https://stackoverflow.com/users/2685239/mariusm"}, "reply_to_user": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "edited": false, "score": 0, "creation_date": 1480534861, "post_id": 40883081, "comment_id": 69007359, "body": "@MaximEgorushkin somehow I can&#39;t find it in Linux manuals.. but it exists in pthread.h, thanks!"}], "tags": [], "owner": {"reputation": 1138, "user_id": 2685239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b377571ae1b0f324171100cfab8c7df?s=128&d=identicon&r=PG&f=1", "display_name": "mariusm", "link": "https://stackoverflow.com/users/2685239/mariusm"}, "is_accepted": false, "score": 1, "last_activity_date": 1480534889, "last_edit_date": 1480534889, "creation_date": 1480492765, "answer_id": 40883081, "question_id": 40881290, "link": "https://stackoverflow.com/questions/40881290/condition-variable-vs-semaphore-example/40883081#40883081", "title": "Condition Variable vs Semaphore example", "body": "<p>Semaphore has a state protected by atomic operations, meanwhile the condition variable (CV) does not have its own state and is not even protected (the usual assumption is that the program has its own, more complicated shared state than just an integer and thus needs to maintain it \"manually\").</p>\n\n<p>The correct use of CV requires that both signal and wait operations are protected (surrounded by the associated mutex locking), <strong>otherwise the waiting thread may miss the signalling</strong>. So the program needs to ensure the proper locking sequence on CVs.</p>\n\n<p>Meanwhile semaphore operations are hidden from developer, and <strong>the code is simpler and cannot go wrong in ways CVs can</strong>, but it also maintains very simple/small shared state with very specific operations.</p>\n"}], "owner": {"reputation": 35, "user_id": 5576008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1f1e756f376905724bba626693cf68?s=128&d=identicon&r=PG&f=1", "display_name": "Kim", "link": "https://stackoverflow.com/users/5576008/kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480534889, "creation_date": 1480485335, "question_id": 40881290, "link": "https://stackoverflow.com/questions/40881290/condition-variable-vs-semaphore-example", "title": "Condition Variable vs Semaphore example", "body": "<p>I'm having a hard time solving this homework problem. Does calling x.signal() in one thread and later x.wait() in another thread produce a different result when x is a condition variable and when x is a semaphore?</p>\n\n<p>My guess is that in this particular case it won't matter if x is a condition variable or a semaphore.</p>\n\n<p>Thank you for help!</p>\n"}, {"tags": ["c", "string", "data-structures", "pattern-matching", "string-algorithm"], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 2960669, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c2ec30affca3d0a1fa9926e60afda3e?s=128&d=identicon&r=PG&f=1", "display_name": "Huntkil", "link": "https://stackoverflow.com/users/2960669/huntkil"}, "is_accepted": false, "score": 1, "last_activity_date": 1480484095, "creation_date": 1480484095, "answer_id": 40881024, "question_id": 40880956, "link": "https://stackoverflow.com/questions/40880956/an-optimized-algorithm-or-a-method-to-find-a-multi-word-string-keywords-in-a-s/40881024#40881024", "title": "An optimized algorithm or a method to find a multi word string (keywords) in a sentence (that has multi words)?", "body": "<p>If you're criteria is only the complete word should match not just half of it, use break when the character is not matching/ string has ended and string check whether the index+1 of the main string is a white space or comma or full stop or whatever as per your need. If it is then your string is exact match otherwise it will be a character.</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 7017242, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8b5f6df2df96ec0f1360c72a98a32156?s=128&d=identicon&r=PG&f=1", "display_name": "Gurpreet ", "link": "https://stackoverflow.com/users/7017242/gurpreet"}, "edited": false, "score": 0, "creation_date": 1480485843, "post_id": 40881205, "comment_id": 68977072, "body": "It doesnt work like that.Let me explain a bit what actually i need. I have a file having 1000 strings (first question how to store/construct a data structure so that there shall be fast searching) i.e &quot;hello this is string 1&quot;, &quot;Hello this is string 2&quot;. I want to search a keywords i.e (hello this, is string 3) 100 requests per seconds. Your soln will significantly drop the performance of an application if i would do strstr at every single request.If you have got any way to do it, kindly share or discuss.Also, if i have a string: &quot;Hello&quot; &amp; i want to search a keyword=&quot;Hello&quot;. Your soln will fail."}, {"owner": {"reputation": 149, "user_id": 6354410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TAFlKdEnrHA/AAAAAAAAAAI/AAAAAAAAAKw/xPRezBjz7fU/photo.jpg?sz=128", "display_name": "Dinesh Suthar", "link": "https://stackoverflow.com/users/6354410/dinesh-suthar"}, "reply_to_user": {"reputation": 17, "user_id": 7017242, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8b5f6df2df96ec0f1360c72a98a32156?s=128&d=identicon&r=PG&f=1", "display_name": "Gurpreet ", "link": "https://stackoverflow.com/users/7017242/gurpreet"}, "edited": false, "score": 0, "creation_date": 1480485886, "post_id": 40881205, "comment_id": 68977089, "body": "In this case .. you can use trie data structure and insert every word of string as a node in trie."}, {"owner": {"reputation": 17, "user_id": 7017242, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8b5f6df2df96ec0f1360c72a98a32156?s=128&d=identicon&r=PG&f=1", "display_name": "Gurpreet ", "link": "https://stackoverflow.com/users/7017242/gurpreet"}, "edited": false, "score": 0, "creation_date": 1480486258, "post_id": 40881205, "comment_id": 68977235, "body": "I can not use trie data structure. Since the length of the keywords and a string is not fixed. Though trie searches in O(n), but as per above case; it will significantly increase search time. Another issue is, if i have 100 files then i will have to maintain 100 trie&#39;s which is not good from resident memory perspective. i hope you understand the challenges."}, {"owner": {"reputation": 440, "user_id": 2594180, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/maj12.jpg?s=128&g=1", "display_name": "shawn", "link": "https://stackoverflow.com/users/2594180/shawn"}, "reply_to_user": {"reputation": 17, "user_id": 7017242, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8b5f6df2df96ec0f1360c72a98a32156?s=128&d=identicon&r=PG&f=1", "display_name": "Gurpreet ", "link": "https://stackoverflow.com/users/7017242/gurpreet"}, "edited": false, "score": 0, "creation_date": 1480496007, "post_id": 40881205, "comment_id": 68981930, "body": "@Gurpreet  I do not understand &quot;Your soln will significantly drop the performance of an application if i would do strstr at every single request.&quot; If you do not do some operation at every single request, how to calculate the result of every single request? you want a result cache mechanism to cache your previous results??"}, {"owner": {"reputation": 440, "user_id": 2594180, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/maj12.jpg?s=128&g=1", "display_name": "shawn", "link": "https://stackoverflow.com/users/2594180/shawn"}, "reply_to_user": {"reputation": 17, "user_id": 7017242, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8b5f6df2df96ec0f1360c72a98a32156?s=128&d=identicon&r=PG&f=1", "display_name": "Gurpreet ", "link": "https://stackoverflow.com/users/7017242/gurpreet"}, "edited": false, "score": 0, "creation_date": 1480496112, "post_id": 40881205, "comment_id": 68982018, "body": "@Gurpreet Please edit question with your more detailed description in your comment."}], "tags": [], "owner": {"reputation": 149, "user_id": 6354410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TAFlKdEnrHA/AAAAAAAAAAI/AAAAAAAAAKw/xPRezBjz7fU/photo.jpg?sz=128", "display_name": "Dinesh Suthar", "link": "https://stackoverflow.com/users/6354410/dinesh-suthar"}, "is_accepted": false, "score": 0, "last_activity_date": 1480484897, "creation_date": 1480484897, "answer_id": 40881205, "question_id": 40880956, "link": "https://stackoverflow.com/questions/40880956/an-optimized-algorithm-or-a-method-to-find-a-multi-word-string-keywords-in-a-s/40881205#40881205", "title": "An optimized algorithm or a method to find a multi word string (keywords) in a sentence (that has multi words)?", "body": "<p>If you are searching for complete words in string. Add space after the keyword and follow these steps.</p>\n\n<pre><code>char * string = \"Hello this is a string\";\nchar * keyword = \"Hello t \";\n\nif(strstr(string,keyword) != NULL)\n    printf(\"Matched\");\nelse\n    printf(\"Not Matched\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1340, "user_id": 3312772, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/72099df70072c33488c4d4f53cae8d97?s=128&d=identicon&r=PG&f=1", "display_name": "instance", "link": "https://stackoverflow.com/users/3312772/instance"}, "is_accepted": false, "score": 0, "last_activity_date": 1480513012, "creation_date": 1480513012, "answer_id": 40889815, "question_id": 40880956, "link": "https://stackoverflow.com/questions/40880956/an-optimized-algorithm-or-a-method-to-find-a-multi-word-string-keywords-in-a-s/40889815#40889815", "title": "An optimized algorithm or a method to find a multi word string (keywords) in a sentence (that has multi words)?", "body": "<p>Suffix tree can be an option. Please read <a href=\"https://en.wikipedia.org/wiki/Suffix_tree\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Suffix_tree</a></p>\n"}], "owner": {"reputation": 17, "user_id": 7017242, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8b5f6df2df96ec0f1360c72a98a32156?s=128&d=identicon&r=PG&f=1", "display_name": "Gurpreet ", "link": "https://stackoverflow.com/users/7017242/gurpreet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1480513012, "creation_date": 1480483710, "question_id": 40880956, "link": "https://stackoverflow.com/questions/40880956/an-optimized-algorithm-or-a-method-to-find-a-multi-word-string-keywords-in-a-s", "title": "An optimized algorithm or a method to find a multi word string (keywords) in a sentence (that has multi words)?", "body": "<p>I have a string (Hello this is a string) and i want to search a keywords in it. How shall i do it ?</p>\n\n<p>I have to search the following keywords in a string:</p>\n\n<p>String: Hello this is a string.</p>\n\n<p>Keywords:\n1. Hello this (should match)\n2. Hello (should match) \n3. Hello t (should not match)\n4. Hello this i (should not match)</p>\n\n<p>Please suggest the optimised way to construct a data structure to store and search?</p>\n"}, {"tags": ["c"], "comments": [{"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 1, "creation_date": 1480483848, "post_id": 40880944, "comment_id": 68976368, "body": "&quot;in another c file&quot;. That&#39;s not going to work. It needs to be defined in every C file it is used in. Either directly or in an included header file."}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1480483900, "post_id": 40880944, "comment_id": 68976388, "body": "Or the parameter may be changed to <code>ClientInfo *item</code>."}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1480483935, "post_id": 40880944, "comment_id": 68976401, "body": "@kaylum in my assignment it states &quot;Structure definition and operations can either be written in a separate .h and .c files or they can reside in client.h and client.c&quot;"}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1480484018, "post_id": 40880944, "comment_id": 68976426, "body": "@KenY-N I got an error by doing that"}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "reply_to_user": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1480484198, "post_id": 40880944, "comment_id": 68976480, "body": "What your assignment says does not change the C standard :-)  But what @KenY-N tells you is correct and addresses the assignment. The full <code>ClientInfo</code> is not needed by your list implementation. You should be storing pointers. If you have errors when you do that then you should ask about those errors."}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1480484395, "post_id": 40880944, "comment_id": 68976552, "body": "@kaylum by adding the full <code>ClientInfo</code> it compiled with no error. If I try @KenY-N&#39;s, I come up with an error. I&#39;ll update my post with the error."}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1480484703, "post_id": 40880944, "comment_id": 68976675, "body": "@KenY-N I did what you suggested and posted the error up so you can see."}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 1, "creation_date": 1480484788, "post_id": 40880944, "comment_id": 68976705, "body": "You need to of course also change the places that call those functions to pass in a pointer instead of the struct."}, {"owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "reply_to_user": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1480484926, "post_id": 40880944, "comment_id": 68976761, "body": "@kaylum I don&#39;t have any calls to these functions yet"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1583128865, "post_id": 40880944, "comment_id": 106998502, "body": "See also <a href=\"https://stackoverflow.com/q/750178/151168\">Is it a good idea to typedef pointers</a> \u2014 TL;DR the answer is usually &quot;No&quot;, with possible exceptions for function pointers."}], "answers": [{"tags": [], "owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "is_accepted": true, "score": 2, "last_activity_date": 1480492865, "creation_date": 1480492865, "answer_id": 40883106, "question_id": 40880944, "link": "https://stackoverflow.com/questions/40880944/c-programming-parameter-has-incomplete-type-error/40883106#40883106", "title": "C Programming: parameter has incomplete type error", "body": "<blockquote>\n  <p>typedef struct ClientInfo ClientInfo;</p>\n</blockquote>\n\n<p>This is a forward declaration - a declaration of an incomplete type that will later on get completed in your client.c file. However, this design with a forward declaration in a header file makes the contents of the struct private. </p>\n\n<p>No other file in your program will know what the struct contains, nor will they be able to access members. For them, the struct will still be incomplete and therefore they can't declare variables of this struct type. They can however declare pointers to the struct.</p>\n\n<p>This is actually how you do private encapsulation of objects in C. The concept is called \"opaque type\" and is considered good OO design practice.</p>\n\n<p>What you can do to fix the problems, is to change all functions in \"client.h\" and \"client.c\" so that they work with <code>ClientInfo*</code> pointers instead. Then every other file using <code>ClientInfo</code> will have to use pointers. Since they won't be able to declare any object of that type, you'll have to provide a constructor (and destructor). For example:</p>\n\n<pre><code>ClientInfo* client_create (void)\n{\n  return malloc(sizeof(ClientInfo));\n}\n</code></pre>\n"}], "owner": {"reputation": 293, "user_id": 6055902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c418f398a3c003e389ec51766693370b?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmine", "link": "https://stackoverflow.com/users/6055902/jasmine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1607, "favorite_count": 0, "accepted_answer_id": 40883106, "answer_count": 1, "score": 0, "last_activity_date": 1583128336, "creation_date": 1480483684, "last_edit_date": 1583128336, "question_id": 40880944, "link": "https://stackoverflow.com/questions/40880944/c-programming-parameter-has-incomplete-type-error", "title": "C Programming: parameter has incomplete type error", "body": "<p>I've been trying to find answers from previous posts of my same issue but it's not working out. Below is only a few of the links I've checked:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/5996795/parameter-has-incomplete-type-warning\">&quot;parameter has incomplete type&quot; warning</a></li>\n<li><a href=\"https://stackoverflow.com/questions/371608/c-typedef-parameter-has-incomplete-type\">C typedef: parameter has incomplete type</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29371704/how-to-resolve-parameter-has-incomplete-type-error\">How to resolve &quot;parameter has incomplete type&quot; error?</a></li>\n</ul>\n\n<p>Code: </p>\n\n<pre><code>#include \"listADT.h\"\n#include \"client.h\"\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n\n\nstruct node {\n   ClientInfo *data; // added pointer here\n   struct node * next;\n};\n\nstruct list_type {\n   struct node * front;\n   int size;\n};\n\nListType create() {\n\n    ListType listptr = malloc(sizeof(struct list_type));\n\n    if (listptr != NULL) {\n        listptr-&gt;front = NULL;\n        listptr-&gt;size = 0;\n    }\n    return listptr;\n}\n\n\n\nvoid push(ListType listptr, ClientInfo item) {  &lt;--- error here\n\n   struct node *temp = malloc(sizeof(struct node));\n\n   if (temp != NULL) {\n       temp-&gt;data = item;\n       temp-&gt;next = listptr-&gt;front;\n       listptr-&gt;front = temp;\n       (listptr-&gt;size)++;\n   }\n}\n\nint is_empty(ListType l) {\n    return l-&gt;size == 0;\n}\n\nint size_is(ListType l) {\n    return l-&gt;size;\n}\n\nvoid make_empty(ListType listptr) {\n\n    struct node* current = listptr-&gt;front;\n\n    while (current-&gt;next != NULL) {\n        destroy(listptr);\n        current = current-&gt;next;        \n    }\n\n    (listptr-&gt;size)--;\n\n}\n\nvoid destroy(ListType listptr) {\n    struct node *temp = malloc(sizeof(struct node));\n    temp = listptr-&gt;front;\n    listptr-&gt;front = listptr-&gt;front-&gt;next;\n\n    free(temp); \n    (listptr-&gt;size)--;\n}\n\nvoid delete(ListType listptr, ClientInfo item) { &lt;--- error here\n    struct node* current = listptr-&gt;front;\n    struct node *temp = malloc(sizeof(struct node));\n\n    while (current-&gt; data != item) {\n        temp = current;\n        current = current-&gt;next;        \n    }\n\n    temp-&gt;next = current-&gt;next;\n    (listptr-&gt;size)--;\n}\n\nint is_full(ListType l) {\n\n}\n</code></pre>\n\n<p>Here is what the struct ClientInfo contains in another c file:</p>\n\n<pre><code>typedef struct ClientInfo {\n    char id[5];\n    char name[30];\n    char email[30];\n    char phoneNum[15];\n} ClientInfo;\n</code></pre>\n\n<p>And here is the error I'm getting:</p>\n\n<pre><code>listADT.c:41:40: error: parameter 2 (\u2018item\u2019) has incomplete type\nvoid push(ListType listptr, ClientInfo item) {\n                                    ^\nlistADT.c:83:42: error: parameter 2 (\u2018item\u2019) has incomplete type\nvoid delete(ListType listptr, ClientInfo item) {\n</code></pre>\n\n<p>I'm absolutely lost at this point on how to fix it. Please let me know if there is any other info I need to include.</p>\n\n<p>EDIT PORTION |</p>\n\n<p>listADT.h:</p>\n\n<pre><code>#ifndef LISTADT_H\n#define LISTADT_H\n\ntypedef struct list_type *ListType;\ntypedef struct ClientInfo ClientInfo;\n\nListType create(void);\nvoid destroy(ListType listP);\nvoid make_empty(ListType listP);\nint is_empty(ListType listP);\nint is_full(ListType listP);\nvoid push(ListType listP, ClientInfo item);\nvoid delete(ListType listP, ClientInfo item);\nvoid printl(ListType listP);\n\n#endif\n</code></pre>\n\n<p>Error after changing <code>ClientInfo item</code> to <code>ClientInfo *item</code>:</p>\n\n<pre><code>listADT.h:12:6: note: expected \u2018ClientInfo * {aka struct ClientInfo *}\u2019 \nbut argument is of type \u2018ClientInfo {aka struct ClientInfo}\u2019\nvoid push(ListType listP, ClientInfo *item);\n</code></pre>\n"}]