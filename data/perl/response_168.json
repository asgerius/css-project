[{"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1522324578, "post_id": 49545488, "comment_id": 86118061, "body": "Why? Seems like premature optimization to me."}, {"owner": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1522343410, "post_id": 49545488, "comment_id": 86131354, "body": "@shawnhcorey I was more looking for cases this could break in."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1522358604, "post_id": 49545488, "comment_id": 86138773, "body": "I don&#39;t follow. Why do you want to batch them? What benefit do you hope for over simply iterating over the array one at a time?"}, {"owner": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1522359289, "post_id": 49545488, "comment_id": 86139033, "body": "@shawnhcorey because the algorithm of the batching is being used for some other purpose. In this example I replaced it with printing because what the batches are being used for didn&#39;t seem relevant."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1522285119, "post_id": 49545700, "comment_id": 86100296, "body": "As long as you are ok with the original array being emptied"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 5, "last_activity_date": 1522279288, "creation_date": 1522279288, "answer_id": 49545700, "question_id": 49545488, "link": "https://stackoverflow.com/questions/49545488/how-to-split-an-array-in-uneven-batches-in-perl/49545700#49545700", "title": "How to split an array in uneven batches in Perl", "body": "<p>I think <a href=\"https://perldoc.perl.org/functions/splice.html\" rel=\"noreferrer\"><code>splice</code></a> would be simpler and cleaner:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @array = (1 .. 1100);\nmy $batch_size = 500;\n\nwhile (@array) {\n    my @batch = splice(@array, 0, $batch_size);\n    # ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "edited": false, "score": 0, "creation_date": 1522280131, "post_id": 49545829, "comment_id": 86099073, "body": "thanks, I assume the splice operation is also inclusive?"}, {"owner": {"reputation": 768, "user_id": 4623259, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sNAyd.png?s=128&g=1", "display_name": "iPherian", "link": "https://stackoverflow.com/users/4623259/ipherian"}, "reply_to_user": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "edited": false, "score": 0, "creation_date": 1522280534, "post_id": 49545829, "comment_id": 86099180, "body": "@Seephor <a href=\"https://perldoc.perl.org/functions/splice.html\" rel=\"nofollow noreferrer\">splice</a> is different: <code>splice(@source_array, $start_index, $length)</code>. Needless to say, the <code>$start_index</code> is inclusive."}], "tags": [], "owner": {"reputation": 768, "user_id": 4623259, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sNAyd.png?s=128&g=1", "display_name": "iPherian", "link": "https://stackoverflow.com/users/4623259/ipherian"}, "is_accepted": false, "score": 3, "last_activity_date": 1522280080, "creation_date": 1522280080, "answer_id": 49545829, "question_id": 49545488, "link": "https://stackoverflow.com/questions/49545488/how-to-split-an-array-in-uneven-batches-in-perl/49545829#49545829", "title": "How to split an array in uneven batches in Perl", "body": "<p>Keep in mind that perl's <a href=\"https://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\" title=\"range\">range</a> operator <code>start..end</code> is inclusive both sides. <code>0..500</code> gives you: <code>0, 1, ..., 499, 500</code></p>\n\n<p>Assuming you don't want to duplicate boundary elements (e.g. index 500 included in two sub arrays), try the following.</p>\n\n<p>Summary:</p>\n\n<ul>\n<li>change <code>$end</code> initialization to <code>499</code></li>\n<li>inside the loop set <code>$start = $end+1</code></li>\n<li>when checking if the new end is overflowing use <code>&gt;=</code> instead: <code>$end + 500 &gt;= $array_size</code></li>\n</ul>\n\n<p>code</p>\n\n<pre><code>my @array = [prepopulated];\nmy $array_size = scalar(@array);\nmy $start = 0;\nmy $end = 499;\n\nwhile ($start &lt; $array_size) {\n    my @subArray = @array[$start..$end];\n    print Dumper(\\@subArray);\n    $start = $end+1;\n    if($end + 500 &gt;= $array_size) {\n        $end = $array_size-1;\n    } else {\n        $end += 500;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "is_accepted": true, "score": 6, "last_activity_date": 1522281824, "creation_date": 1522281824, "answer_id": 49546039, "question_id": 49545488, "link": "https://stackoverflow.com/questions/49545488/how-to-split-an-array-in-uneven-batches-in-perl/49546039#49546039", "title": "How to split an array in uneven batches in Perl", "body": "<p><code>List::MoreUtils</code> covers exactly this kind of task: </p>\n\n<pre><code>use strict; use warnings;\nuse List::MoreUtils qw(natatime);\n\nmy @Array = (1..1100);\nmy $it = natatime 500, @Array;\nwhile (my @vals = $it-&gt;()) {\n    printf \"%d\\n\", 0+@vals;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>500\n500\n100\n</code></pre>\n\n<p>No need to reinvent the wheel.</p>\n"}, {"comments": [{"owner": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "edited": false, "score": 0, "creation_date": 1522348222, "post_id": 49555702, "comment_id": 86133768, "body": "interesting, so does min give the lowest numerical value of the two lists passed? so in the case start+500 exceeds array size, then it returns array size?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "edited": false, "score": 0, "creation_date": 1522348323, "post_id": 49555702, "comment_id": 86133816, "body": "@Seephor, <a href=\"http://search.cpan.org/perldoc?List::Util#min\" rel=\"nofollow noreferrer\"><i>Similar to &quot;max&quot; but returns the entry in the list with the lowest numerical value. If the list is empty then undef is returned.</i></a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "edited": false, "score": 0, "creation_date": 1522348601, "post_id": 49555702, "comment_id": 86133957, "body": "@Seephor, The phrase &quot;two lists&quot; is almost never going to make any sense, and it definitely makes no sense how you used it. Two scalars are passed to <code>min</code>. (This could also be phrased as &quot;a list of two scalars are passd to <code>min</code>&quot;.)"}, {"owner": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "edited": false, "score": 0, "creation_date": 1522348919, "post_id": 49555702, "comment_id": 86134118, "body": "I meant list sizes, but glad you were able to extract the gist."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "edited": false, "score": 0, "creation_date": 1522349287, "post_id": 49555702, "comment_id": 86134311, "body": "@Seephor, That&#39;s even worse. If &quot;two lists&quot; makes no sense, neither does &quot;sizes of two lists&quot;."}, {"owner": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "edited": false, "score": 0, "creation_date": 1522349692, "post_id": 49555702, "comment_id": 86134529, "body": "You are right, list sizes is not correct. I was caught up thinking in terms of context, the indices of the batch size and muddled it with list size. I haven&#39;t finished my coffee. The brain is a funny thing and I obviously didn&#39;t put much thought into what I was trying to convey. No need to be condescending, but thanks for the help."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "edited": false, "score": 0, "creation_date": 1522352329, "post_id": 49555702, "comment_id": 86135756, "body": "@Seephor Why do you find it &quot;condescending&quot;?  I read down the comments and saw nothing personal. &quot;List&quot; is a subtle notion and your statements were deeply wrong in that sense; ikegami is just straight up letting you know.  (Look up &quot;difference between lists and arrays&quot; (or such); there are a few really informative old SO posts.)  I appreciate it a lot when I&#39;m told clearly that I&#39;m messing up.  Nobody&#39;s putting you down here."}, {"owner": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522352922, "post_id": 49555702, "comment_id": 86136023, "body": "@zdim - they edited what they wrote previously. I think we can all put this comment thread to rest."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "edited": false, "score": 0, "creation_date": 1522353810, "post_id": 49555702, "comment_id": 86136443, "body": "@Seephor OK, I&#39;ll monitor this thread and will be quick to remove my comment as soon as that word is gone."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1522325464, "creation_date": 1522325464, "answer_id": 49555702, "question_id": 49545488, "link": "https://stackoverflow.com/questions/49545488/how-to-split-an-array-in-uneven-batches-in-perl/49555702#49555702", "title": "How to split an array in uneven batches in Perl", "body": "<p>Creating a second array of indexes for <code>natatime</code> is extremely wasteful.</p>\n\n<pre><code>use List::Util qw( min );\n\nfor (my $start=0; $start&lt;@array; $start+=500) {\n    my $end = min($start+500, 0+@array);\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1556, "user_id": 315015, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7396baec346f6ebce3fed84678d041d?s=128&d=identicon&r=PG", "display_name": "Seephor", "link": "https://stackoverflow.com/users/315015/seephor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 49546039, "answer_count": 4, "score": 0, "last_activity_date": 1522325464, "creation_date": 1522277865, "last_edit_date": 1522301986, "question_id": 49545488, "link": "https://stackoverflow.com/questions/49545488/how-to-split-an-array-in-uneven-batches-in-perl", "title": "How to split an array in uneven batches in Perl", "body": "<p>I am trying to split an array into batches of 500, but I want to cover the case where the array size is not evenly divided by 500 as well. For example:</p>\n\n<pre><code>Array = [1,...,1100]\nsubArray1 = [1..500]\nsubArray2 = [500..1000]\nsubArray3 = [1000..1100]\n</code></pre>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>my @array = [prepopulated];\nmy $array_size = scalar(@array);\nmy $start = 0;\nmy $end = 500;\n\nwhile ($start &lt; $array_size) {\n    my @subArray = @array[$start..$end];\n    print Dumper(\\@subArray);\n    $start = $end;\n    if($end + 500 &gt; $array_size) {\n        $end = $start + ($array_size % 500);\n    } else {\n        $end += 500;\n    }\n}\n</code></pre>\n\n<p>This seems to work, but is there a better way to do this or does this break for some case I am not seeing?</p>\n"}, {"tags": ["perl", "openssl", "cryptography", "rsa", "x509"], "answers": [{"tags": [], "owner": {"reputation": 3662, "user_id": 980807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c69185b30a79d0c3d2c99e10d127c3?s=128&d=identicon&r=PG", "display_name": "Erwan Legrand", "link": "https://stackoverflow.com/users/980807/erwan-legrand"}, "is_accepted": false, "score": 0, "last_activity_date": 1522319969, "creation_date": 1522319969, "answer_id": 49553960, "question_id": 49543320, "link": "https://stackoverflow.com/questions/49543320/netssleay-x509-store-add-cert-function/49553960#49553960", "title": "Net::SSLeay X509_STORE_add_cert function", "body": "<p>If this is triggering a segmentation fault, then there is a bug <code>Net::SSLeay</code>. You should report the bug to the developers.</p>\n"}], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522319969, "creation_date": 1522267805, "question_id": 49543320, "link": "https://stackoverflow.com/questions/49543320/netssleay-x509-store-add-cert-function", "title": "Net::SSLeay X509_STORE_add_cert function", "body": "<p>I'd like to use the newly-added <code>X509_verify_cert</code> function in <code>Net::SSLeay</code>, but am unable to put the low-level pieces together. This segfaults where marked. Any idea what I'm doing wrong?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse Net::SSLeay;\n\n# create a new BIO\nmy $cert_file = '/path/to/AppleIncRootCertificate.pem';\nmy $bio = Net::SSLeay::BIO_new_file($cert_file, 'r');\n\n# make an x509 struct\nmy $x509 = Net::SSLeay::PEM_read_bio_X509($bio) || die \"read_bio failed\";\n# returns: value corresponding to openssl's X509 structure (0 on failure)\n\nmy $store = Net::SSLeay::X509_STORE_CTX_new();\n\n# segfaults here   \\/ \\/ \\/ \nmy $add_rv = Net::SSLeay::X509_STORE_add_cert($store, $x509);\n# $store - value corresponding to openssl's X509_STORE structure\n# $x509 - value corresponding to openssl's X509 structure\n\n# next step?\n# my $verify_rv = Net::SSLeay::X509_verify_cert(...?);\n</code></pre>\n\n<p>If I get that working, I'd like to the load the BIO from memory instead of going to the filesystem, and then get use the X509_verify_cert function</p>\n\n<p>Documents are here:\n<a href=\"http://search.cpan.org/~mikem/Net-SSLeay-1.85/lib/Net/SSLeay.pod#Low_level_API:_X509_STORE_\" rel=\"nofollow noreferrer\">http://search.cpan.org/~mikem/Net-SSLeay-1.85/lib/Net/SSLeay.pod#Low_level_API:_X509_STORE_</a>*_related_functions</p>\n"}, {"tags": ["perl", "split", "scalar"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522255550, "post_id": 49539951, "comment_id": 86087240, "body": "Which Perl versions are you running on the two different systems? Check <code>perl -v</code>."}, {"owner": {"reputation": 404, "user_id": 6776142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2K8LT.jpg?s=128&g=1", "display_name": "Jet_C", "link": "https://stackoverflow.com/users/6776142/jet-c"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522255783, "post_id": 49539951, "comment_id": 86087366, "body": "perl versions 5.16.3(redhat) and 5.10.0(suse)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1522256591, "post_id": 49539951, "comment_id": 86087850, "body": "<i>&quot;I&#39;m ignoring the warning &quot;Scalar value @_[0] better written as $_[0]&quot; as it makes no difference&quot;</i> It is <i>never</i> a good idea to ignore warnings: they are generated for a reason. Changing <code>@_[0]</code> to <code>$_[0]</code> <i>does</i> make a difference: it changes the expression from a single-element array slice to a single array element, which is what you intended. Whether or not a piece of code &quot;works&quot; is a very poor measure of its correctness."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1522256919, "last_edit_date": 1522256919, "creation_date": 1522256251, "answer_id": 49540247, "question_id": 49539951, "link": "https://stackoverflow.com/questions/49539951/perl-split-with-array-results-in-uninitialized-value/49540247#49540247", "title": "Perl Split with array results in uninitialized value", "body": "<p>The <a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"noreferrer\">documentation for <code>split</code></a> has this</p>\n\n<blockquote>\n  <p>Prior to Perl 5.11, it also overwrote @_ with the list in void and scalar context. If you target old perls, beware.</p>\n</blockquote>\n\n<p>The first subsequent <em>stable release</em> is v5.12, whereafter <code>split</code> no longer overwrites <code>@_</code> if it is called in scalar context: the list of fields is simply discarded, but the <em>number</em> of fields is still returned. (Note that calling <code>split</code> in void context is therefore completely ineffective: neither the list nor its size are saved anywhere.) It would previously overwrite the parameters to the current subroutine, and so was a very bad idea</p>\n\n<p>Your code should look like this</p>\n\n<pre><code>my $str    = 'Cat|Dog|Bird';\nmy @fields = split /\\|/, $str;\nmy $number = @fields;\nmy $type   = $fields[0];\n\nprint \"number of args: $number and type is: $type \\n\";\n</code></pre>\n\n<p>This will work correctly on all versions of Perl</p>\n"}], "owner": {"reputation": 404, "user_id": 6776142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2K8LT.jpg?s=128&g=1", "display_name": "Jet_C", "link": "https://stackoverflow.com/users/6776142/jet-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 49540247, "answer_count": 1, "score": 0, "last_activity_date": 1522256919, "creation_date": 1522255205, "last_edit_date": 1522256466, "question_id": 49539951, "link": "https://stackoverflow.com/questions/49539951/perl-split-with-array-results-in-uninitialized-value", "title": "Perl Split with array results in uninitialized value", "body": "<p>I have the same Perl script running on two different machines (Redhat &amp; SUSE). On SUSE the script runs fine but it does not on Redhat.\nThis is the whole script I'm running as is:</p>\n\n<pre><code>#!/usr/bin/perl\n$str = \"Cat|Dog|Bird\"; \n$number = split /\\|/, $str;\n$type = @_[0];\nprint \"number of args: $number and type is: $type \\n\";\n</code></pre>\n\n<p>I get 2 different outputs</p>\n\n<p>SUSE:</p>\n\n<pre><code>number of args: 3 and type is: Cat\n</code></pre>\n\n<p>Redhat:</p>\n\n<pre><code>number of args: 3 and type is: \n</code></pre>\n\n<p>I want to know what could be causing this??? In the first one <code>$type</code> is initialized somehow</p>\n\n<p>Note: I'm ignoring the warning <em>\"Scalar value @_[0] better written as $_[0]\"</em> as it makes no difference if I change it. The output will be the same.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522253869, "post_id": 49539490, "comment_id": 86086206, "body": "Your code does not have an array. and <code>$_</code> will be interpolated to whatever its value is in your pattern."}, {"owner": {"reputation": 61, "user_id": 5666214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb051dee0e394c907370cf1a5e9fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o V.", "link": "https://stackoverflow.com/users/5666214/jo%c3%a3o-v"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522254222, "post_id": 49539490, "comment_id": 86086431, "body": "Just corrected this"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522254716, "post_id": 49539490, "comment_id": 86086749, "body": "You can&#39;t just change <code>$</code> to <code>@</code>. That code will test the <i>number of elements in <code>@time</code></i> as a string against a regex built from the contents of <code>$_</code> and a couple of colons. If you never make a better attempt than that to solve your own problems then you will always be a programmer who gets others to do their work."}, {"owner": {"reputation": 61, "user_id": 5666214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb051dee0e394c907370cf1a5e9fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o V.", "link": "https://stackoverflow.com/users/5666214/jo%c3%a3o-v"}, "edited": false, "score": 0, "creation_date": 1522254835, "post_id": 49539490, "comment_id": 86086817, "body": "That it&#39;s not what is in the code itself. The code is: <code>$tableData{$date[$count_date]}{$company[$aux2]}{$ip[$aux2]}{&zwnj;&#8203;$info[$aux3]}</code> this is just a simplification"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522255055, "post_id": 49539490, "comment_id": 86086942, "body": "Good job on simplifying. However, there&#39;s no array there. There might be an array reference, but we don&#39;t know. In any case, if there&#39;s a list of things involved, you have to iterate."}, {"owner": {"reputation": 61, "user_id": 5666214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb051dee0e394c907370cf1a5e9fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o V.", "link": "https://stackoverflow.com/users/5666214/jo%c3%a3o-v"}, "edited": false, "score": 0, "creation_date": 1522255454, "post_id": 49539490, "comment_id": 86087174, "body": "Yes, this is inside some <code>for</code> loops"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5666214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb051dee0e394c907370cf1a5e9fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o V.", "link": "https://stackoverflow.com/users/5666214/jo%c3%a3o-v"}, "edited": false, "score": 0, "creation_date": 1522254651, "post_id": 49539604, "comment_id": 86086713, "body": "What does the <code>$</code> at the end of the <code>&#47;^[0-9]{2}:[0-9]{2}:[0-9]{2}$&#47;</code> expression means?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 61, "user_id": 5666214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb051dee0e394c907370cf1a5e9fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o V.", "link": "https://stackoverflow.com/users/5666214/jo%c3%a3o-v"}, "edited": false, "score": 1, "creation_date": 1522254743, "post_id": 49539604, "comment_id": 86086768, "body": "@Jo&#227;oV. <code>$</code> is the anchor for the end of the string. Please refer to a tool like <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">regex101.com</a> for explanations of what patterns mean. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 61, "user_id": 5666214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb051dee0e394c907370cf1a5e9fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o V.", "link": "https://stackoverflow.com/users/5666214/jo%c3%a3o-v"}, "edited": false, "score": 0, "creation_date": 1522255010, "post_id": 49539604, "comment_id": 86086915, "body": "@Jo&#227;oV. see my update. That should clear up all your questions and hopefully give you a few new ones, which will lead to reading documentation ;)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522259084, "post_id": 49539604, "comment_id": 86089256, "body": "<code>\\z</code> means end of string. <code>$</code> means something different, and shouldn&#39;t be used here."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1522254985, "last_edit_date": 1522254985, "creation_date": 1522254074, "answer_id": 49539604, "question_id": 49539490, "link": "https://stackoverflow.com/questions/49539490/check-if-an-array-contais-a-time-perl/49539604#49539604", "title": "Check if an array contais a time - Perl", "body": "<h2>Matching the time</h2>\n\n<p>To check for <code>HH:MM:SS</code> with a regular expression match, the simplest pattern would be</p>\n\n<pre><code>/\\d\\d:\\d\\d:\\d\\d/\n</code></pre>\n\n<p>If you only want this, add anchors for start (<code>^</code>) and end (<code>$</code>) of the string.</p>\n\n<pre><code>/^\\d\\d:\\d\\d:\\d\\d$/\n</code></pre>\n\n<p>If you want to make sure that your digits are only <code>0</code> to <code>9</code> and not digits from any script, use a character group.</p>\n\n<pre><code>/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/\n</code></pre>\n\n<p>If you also want to make sure the time is a valid time, things get more complicated.</p>\n\n<p>You might want to read <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a> and <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a>. The <a href=\"https://stackoverflow.com/tags/regex/info\">tag wiki on Regular Expressions here on Stack Overflow</a> has a lot of useful information and links to tools as well.</p>\n\n<hr>\n\n<h2>On arrays and scalars</h2>\n\n<p>However, there is no <em>array</em> in the code you've shown. In Perl, a variable with a <code>$</code> as its <em>sigil</em> is called a <em>scalar</em> and represents a single value. That's the only thing you can pattern match against. An array would start with an <code>@</code> symbol.</p>\n\n<p>What you can do is match against every element in your array. For that, you have to <em>iterate</em> the array.</p>\n\n<p>A very verbose way to do that would be:</p>\n\n<pre><code>my $matches;\nforeach my $time (@times) {\n    ++$matches if $time =~ m/\\d\\d:\\d\\d:\\d\\d/;\n}\n</code></pre>\n\n<p>A more Perlish way would be to use <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\"><code>grep</code></a>.</p>\n\n<pre><code>my $matches = grep { m/\\d\\d:\\d\\d:\\d\\d/ } @times;\n</code></pre>\n\n<p>This makes use of the fact that the list returned by <code>grep</code> will be converted to its number of elements in <em>scalar context</em>. If all you want is to know whether any of the elements matched, this is enough.</p>\n\n<hr>\n\n<h2>What your code did</h2>\n\n<p>The <code>$_</code> variable is called the <em>topic</em> in Perl, and often contains some kind of default value for certain operators, if no other value is specified. Depending on where in your program you used your line of code, you are matching the number of elements in <code>@time</code> (because of scalar context, see above) against a pattern built up of the content of <code>$_</code> and colons.</p>\n\n<pre><code>if (\n  @time  # number of elements in array @times\n  =~     # because this operator forces scalar context\n  /\n    $_   # value of $_ based on surrounding code, or undef\n    :    # a literal colon\n    $_   # see above\n    :    # a literal colon\n    $_   # see above\n  /x     # ( I added /x to allow comments so this compiles)\n) { ... }\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5666214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb051dee0e394c907370cf1a5e9fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o V.", "link": "https://stackoverflow.com/users/5666214/jo%c3%a3o-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 49539604, "answer_count": 1, "score": -3, "last_activity_date": 1552404658, "creation_date": 1522253722, "last_edit_date": 1552404658, "question_id": 49539490, "link": "https://stackoverflow.com/questions/49539490/check-if-an-array-contais-a-time-perl", "title": "Check if an array contais a time - Perl", "body": "<p>How do I check if an array contains a time value? I've tried checking like this:</p>\n\n<pre><code>if ( @time =~ /$_:$_:$_/)\n</code></pre>\n\n<p>But it didn't work. Any ideas? </p>\n\n<p>P.S.: The time is given like this: <strong>HH:MM:SS</strong></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1522253467, "post_id": 49539385, "comment_id": 86085937, "body": "Just to clarify, your questions are: <code>Which regex engine first introduced the lookaround?</code> and <code>Which lookaround assertion was first created?</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522255499, "post_id": 49539385, "comment_id": 86087202, "body": "Yes, this doesn&#39;t really fit here. It&#39;s not a concrete programming problem. Either CS or Software Engineering."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522258397, "post_id": 49539385, "comment_id": 86088891, "body": "This isn&#39;t a question about CS theory, but about actual programming language versions. That makes SO the most appropriate SE site for this question. /// That said, it&#39;s a rather broad question. It doesn&#39;t look like the OP tried to establish when lookaround assertions were added to Perl or anything else. They didn&#39;t even verify their (incorrect) assumption that lookbehind was implemented after lookahead."}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 3, "last_activity_date": 1522474320, "last_edit_date": 1522474320, "creation_date": 1522473901, "answer_id": 49584547, "question_id": 49539385, "link": "https://stackoverflow.com/questions/49539385/which-regex-engine-first-introduced-the-lookaround/49584547#49584547", "title": "Which regex engine first introduced the lookaround?", "body": "<p>The regular expression lookahead and lookbehind assertions in perl were introduced in Perl 5.000 in 1994.  From the <code>perlre</code> in version 5.000 from <a href=\"https://github.com/Perl/perl5/commit/a0d0e21ea6ea90a22318550944fe6cb09ae10cda\" rel=\"nofollow noreferrer\">https://github.com/Perl/perl5/commit/a0d0e21ea6ea90a22318550944fe6cb09ae10cda</a></p>\n\n<blockquote>\n  <p>The patterns used in pattern matching are regular expressions such as\n  those supplied in the Version 8 regexp routines.\n  (In fact, the routines are derived from Henry Spencer's freely redistributable reimplementation of the V8 routines.)</p>\n</blockquote>\n\n<p>Henry Spencer's regular expression library code is available at <a href=\"https://garyhouston.github.io/regex/\" rel=\"nofollow noreferrer\">https://garyhouston.github.io/regex/</a>  You are encouraged to look through the commit logs to get the actual dates you are looking for.  The <a href=\"https://en.wikipedia.org/wiki/Regular_expression#History\" rel=\"nofollow noreferrer\">wikipedia Regular Expression</a> article dates those libraries to 1986.</p>\n"}], "owner": {"reputation": 131, "user_id": 2549735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eG5Ei.png?s=128&g=1", "display_name": "Hoshinoma Araki", "link": "https://stackoverflow.com/users/2549735/hoshinoma-araki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "accepted_answer_id": 49584547, "answer_count": 1, "score": -1, "last_activity_date": 1522474320, "creation_date": 1522253360, "last_edit_date": 1522253486, "question_id": 49539385, "link": "https://stackoverflow.com/questions/49539385/which-regex-engine-first-introduced-the-lookaround", "title": "Which regex engine first introduced the lookaround?", "body": "<p>My question is described above as title, that's all.</p>\n\n<p>I think the answer is <strong>Perl's regexp engine</strong>, but I don't know when Perl introduces lookaround. And I guess Perl implements lookahead operator only at first and implements lookbehind after.</p>\n\n<p>Another my concern: should I ask to Computer Science Stack Exchange instead?</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522253179, "post_id": 49539279, "comment_id": 86085732, "body": "How do you call that command? Asking questions on Stack Overflow works best if you show us what you are talking about. A general description is really hard to debug. Please <a href=\"https://stackoverflow.com/posts/49539279/edit\">edit</a> your question and add your code, and the output you&#39;re getting as well as the expected output. Also see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522253238, "post_id": 49539279, "comment_id": 86085770, "body": "See <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a>"}, {"owner": {"reputation": 11, "user_id": 9476974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/plHeB.jpg?s=128&g=1", "display_name": "Locutus", "link": "https://stackoverflow.com/users/9476974/locutus"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522253534, "post_id": 49539279, "comment_id": 86085993, "body": "@simbabque I don&#39;t have any code to show you because I do not yet know how to create it. I call the commands using system()."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1522253642, "post_id": 49539279, "comment_id": 86086070, "body": "@Locutus: If you <i>&quot;call the commands using system()&quot;</i> then you have code. Please show it."}, {"owner": {"reputation": 11, "user_id": 9476974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/plHeB.jpg?s=128&g=1", "display_name": "Locutus", "link": "https://stackoverflow.com/users/9476974/locutus"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522253972, "post_id": 49539279, "comment_id": 86086268, "body": "@Borodin Added to post."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1522493259, "post_id": 49539279, "comment_id": 86181475, "body": "Why are you running this command in the background if the rest of the script needs to wait for it anyway?"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1522578571, "post_id": 49539279, "comment_id": 86201410, "body": "Seems like you posted a very similar question on PerlMonks as <a href=\"https://www.perlmonks.org/?node_id=1212005\" rel=\"nofollow noreferrer\">Executing a command after the preceding command finished processing</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1522259684, "last_edit_date": 1522259684, "creation_date": 1522258579, "answer_id": 49540862, "question_id": 49539279, "link": "https://stackoverflow.com/questions/49539279/how-to-use-perl-to-check-when-a-unix-command-has-finished-processing/49540862#49540862", "title": "How to use Perl to check when a Unix command has finished processing", "body": "<p>You could try to use <a href=\"https://metacpan.org/pod/IPC::Open3\" rel=\"nofollow noreferrer\"><code>IPC::Open3</code></a> instead of <code>system</code>:</p>\n\n<pre><code>use IPC::Open3;\nmy $pid = open3(\"&lt;&amp;STDIN\", \"&gt;&amp;STDOUT\", \"&gt;&amp;STDERR\", 'nohup scripts_pl/RunAll.pl');\nwaitpid( $pid, 0 );\n</code></pre>\n\n<p>Or, if you need to run <code>nohup</code> through the shell:</p>\n\n<pre><code>my $pid = open3(\"&lt;&amp;STDIN\", \"&gt;&amp;STDOUT\", \"&gt;&amp;STDERR\", 'bash','-c', 'nohup scripts_pl/RunAll.pl &amp; wait');\n</code></pre>\n\n<p><strong>Update</strong>: Thanks to @ikegami. A better approach if you would like <code>STDIN</code> to stay open after running the command: </p>\n\n<pre><code>open(local *CHILD_STDIN, \"&lt;&amp;\", '/dev/null') or die $!;\nmy $pid = open3(\"&lt;&amp;CHILD_STDIN\", \"&gt;&amp;STDOUT\", \"&gt;&amp;STDERR\", 'nohup scripts_pl/RunAll.pl');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9578323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1312841115526688/picture?type=large", "display_name": "Kiyoaki Yoshioka", "link": "https://stackoverflow.com/users/9578323/kiyoaki-yoshioka"}, "is_accepted": false, "score": 1, "last_activity_date": 1522492272, "creation_date": 1522492272, "answer_id": 49586760, "question_id": 49539279, "link": "https://stackoverflow.com/questions/49539279/how-to-use-perl-to-check-when-a-unix-command-has-finished-processing/49586760#49586760", "title": "How to use Perl to check when a Unix command has finished processing", "body": "<p>I'm sorry if I didn't understand your asking context.\nBut couldn't you use perl process fork function instead of <code>&amp;</code> if you would like to do parallel process?</p>\n\n<pre><code># parent process\nif (my $pid = fork) {\n    # this block behaves as a normal process\n\n    system(\"nohup scripts_pl/RunAll2.pl\"); # you can call other system (like RunAll2.pl)\n    wait; # wait for the background processing\n    say 'finished both';\n}\n# child process\nelse {\n    # this block behaves as a background process\n    system(\"nohup scripts_pl/RunAll.pl\"); # trim &amp;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9476974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/plHeB.jpg?s=128&g=1", "display_name": "Locutus", "link": "https://stackoverflow.com/users/9476974/locutus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522492272, "creation_date": 1522253065, "last_edit_date": 1522253957, "question_id": 49539279, "link": "https://stackoverflow.com/questions/49539279/how-to-use-perl-to-check-when-a-unix-command-has-finished-processing", "title": "How to use Perl to check when a Unix command has finished processing", "body": "<p>I am working on a capstone project and am hoping for some insight.</p>\n\n<p>This is the first time I've worked with Perl and it's pretty much a basic Perl script to automate a few different Unix commands that need to be executed in a specific order. There are two lines throughout the script which executes a Unix command that needs to finish processing before it is acceptable for the rest of the script to run (data will be incorrect otherwise).</p>\n\n<p>How am I able to use Perl (or maybe this is a Unix question?) to print a simple string once the Unix command has finished processing? I am looking into ways to read in the Unix command name but am not sure how to implement a way to check if the process is no longer running and to print a string such as \"X command has finished processing\" upon it's completion.</p>\n\n<p>Example:</p>\n\n<pre><code>system(\"nohup scripts_pl/RunAll.pl &amp;\");\n</code></pre>\n\n<p>This runs a command in the background that takes time to process. I am asking how I can use Perl (or Unix?) to print a string once the process has finished.</p>\n"}, {"tags": ["perl", "return", "system", "return-code"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522265603, "post_id": 49538637, "comment_id": 86092982, "body": "I can imagine issues with the first case but the second one is strange. What system are you on?  Do your Perl programs normally run ok -- or is this the first one you tried? If you redirect output to a file (<code>system(&#39;ls &gt; ls.txt&#39;)</code> or such) do you get the correct file after this?  If you use backticks instead, <code>my $ret = qx(ls);</code> what do you get in <code>$ret</code>?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1522314013, "post_id": 49538637, "comment_id": 86110872, "body": "What was the value of <code>$SIG{CHLD}</code>? Why wasn&#39;t the value change <a href=\"http://p3rl.org/local\" rel=\"nofollow noreferrer\">local</a>ized?"}, {"owner": {"reputation": 133, "user_id": 4142780, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000232611649/picture?type=large", "display_name": "Romero Junior", "link": "https://stackoverflow.com/users/4142780/romero-junior"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1522315506, "post_id": 49538637, "comment_id": 86111904, "body": "@choroba what do you mean by &quot;Why wasn&#39;t the value change localized?&quot; $SIG{CHLD} was previously undefined, which defaults to <code>IGNORE</code> (as far as I understood the documentation)."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1522323787, "post_id": 49538637, "comment_id": 86117539, "body": "Ah, OK. The remaining question is why Perl fails to wait() for the <code>system</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522353016, "post_id": 49538637, "comment_id": 86136072, "body": "Nice that you dug into it and updated but note that this doesn&#39;t at all explain the strange behavior that you report in the second snippet. The fact that installing a signal handler (and to default!) &quot;fixes&quot; it is good diagnostics but there is something seriously off there."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 4142780, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000232611649/picture?type=large", "display_name": "Romero Junior", "link": "https://stackoverflow.com/users/4142780/romero-junior"}, "edited": false, "score": 0, "creation_date": 1522311012, "post_id": 49538672, "comment_id": 86109089, "body": "Thank you, sir! I wasn&#39;t aware (at all) of <code>$!</code>... This gave me some extra details: <code>No child processes</code>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1522251419, "creation_date": 1522251419, "answer_id": 49538672, "question_id": 49538637, "link": "https://stackoverflow.com/questions/49538637/perl-system-function-returns-1-even-after-successful-execution/49538672#49538672", "title": "Perl system function returns -1 even after successful execution", "body": "<p>Right in the documentation you linked to (emphasis mine):</p>\n\n<blockquote>\n  <p>Return value of <strong>-1</strong> indicates a failure to start the program or an error of the wait(2) system call (inspect <code>$!</code> for the reason).</p>\n</blockquote>\n"}], "owner": {"reputation": 133, "user_id": 4142780, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000232611649/picture?type=large", "display_name": "Romero Junior", "link": "https://stackoverflow.com/users/4142780/romero-junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1522313555, "creation_date": 1522251320, "last_edit_date": 1522313555, "question_id": 49538637, "link": "https://stackoverflow.com/questions/49538637/perl-system-function-returns-1-even-after-successful-execution", "title": "Perl system function returns -1 even after successful execution", "body": "<p>I've got some weird situation going on with a 3rd party perl script. To demonstrate:</p>\n\n<pre><code>my $rc = system(\"tar -C /app/src -xvf /app/package.tar.gz\");\n\nif ($rc != 0)\n{\n   print \"Return code: $rc\";  \n}\n</code></pre>\n\n<p>Running <code>tar -C /app/src -xvf /app/package.tar.gz</code> directly on the shell works just fine, <code>echo $?</code> shows the exit status <code>0</code>. All good. </p>\n\n<p>Also, when running this small perl snippet the return is <em>always</em> <code>-1</code>. If I try something like:</p>\n\n<pre><code>my $rc = system(\"ls\");\n\nif ($rc != 0)\n{\n   print \"Return code: $rc\";  \n} \n</code></pre>\n\n<p>...the return code will also be <code>-1</code>. </p>\n\n<p>I don't have much knowledge in perl, so I wonder what could possibly trigger this behaviour.</p>\n\n<p>The documentation doesn't mention anything in particular regarding this (<a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/functions/system.html</a>).</p>\n\n<hr>\n\n<p><strong>Solution:</strong></p>\n\n<p>Fetching <code>$!</code>to get some more details about the error:</p>\n\n<pre><code>my $rc = system(\"tar -C /app/src -xvf /app/package.tar.gz\");\n\nif ($rc != 0)\n{\n   print \"Return code: $rc\\n\";\n   print \"Reason: $!\";  \n}\n</code></pre>\n\n<p>Returned:</p>\n\n<pre><code>Return code: -1\nReason: No child processes\n</code></pre>\n\n<p>Applying <code>$SIG{'CHLD'} = 'DEFAULT';</code> fixed the issue:</p>\n\n<pre><code>$SIG{'CHLD'} = 'DEFAULT';\n\nmy $rc = system(\"tar -C /app/src -xvf /app/package.tar.gz\");\n\nif ($rc != 0)\n{\n   print \"Return code: $rc\\n\";\n   print \"Reason: $!\";  \n}\n</code></pre>\n\n<p>Some details from:\n<a href=\"https://stackoverflow.com/questions/8389400/whats-the-difference-between-various-sigchld-values\">What&#39;s the difference between various $SIG{CHLD} values?</a></p>\n"}, {"tags": ["perl", "www-mechanize-firefox"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522252440, "post_id": 49538301, "comment_id": 86085158, "body": "What is going to happen with that form? If you submit that, it will not be included in the request without a name. There has to be some Javascript that does tings to the values. The classes <code>input-field</code> and <code>postal-code-validate</code> and the <code>autocomplete</code> and the fact that there are ids but not names support that. Mechanize::Firefox cannot execute Javascript, though. I doubt even if you manage to put something in them it will be of much use. Inspect the communication on the page with a real browser and look at what it does, then try to simulate that instead."}], "owner": {"reputation": 11, "user_id": 9564917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "David Copperfield", "link": "https://stackoverflow.com/users/9564917/david-copperfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522250620, "creation_date": 1522250330, "last_edit_date": 1522250620, "question_id": 49538301, "link": "https://stackoverflow.com/questions/49538301/filling-unnamed-text-fields-in-mechanizefirefox", "title": "Filling unnamed text fields in Mechanize::Firefox", "body": "<p>I'm trying to fill some unnamed fields using <code>$mech-&gt;fields</code> but I ran out of hair on my head to pull off, please help.</p>\n\n<pre><code>&lt;input id=\"af-city\" class=\"input-field af-city\" autocomplete=\"address-level2\" type=\"text\" aria-required=\"true\" placeholder=\"\"&gt;\n&lt;input id=\"af-zip\" class=\"input-field postal-code-validate af-zip\" autocomplete=\"postal-code\" type=\"text\" aria-required=\"true\" placeholder=\"\"&gt;\n</code></pre>\n\n<p>have tried using xpath, no use, adding a dot or a hash in front of the id to let <code>$mech</code> know this is an id not a name, no use.</p>\n\n<pre><code>$mech-&gt;field( \".af-city\", \"Monsey\");\n$mech-&gt;field( {xpath =&gt; '//*[@id=\"af-zip\"]'}, \"10952\");\n</code></pre>\n"}, {"tags": ["perl", "io"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522246290, "post_id": 49536450, "comment_id": 86080294, "body": "In general your Capture::Tiny implementation does less IO. It&#39;s not reading and writing to the disk. Weird."}, {"owner": {"reputation": 33, "user_id": 9563683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea74c16c6c98e6b83c33b0caeb82e7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/9563683/matthew"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522246449, "post_id": 49536450, "comment_id": 86080408, "body": "Slight typo... should have been &#39;system(&quot;cmd &lt; stdin.txt 1&gt; stdout.txt 2&gt; stderr.txt&quot;)&#39;, sorry."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522246756, "post_id": 49536450, "comment_id": 86080671, "body": "You can <a href=\"https://stackoverflow.com/posts/49536450/edit\">edit</a> your question with the <a href=\"https://stackoverflow.com/posts/49536450/edit\">edit</a> link below the question, or use this <a href=\"https://stackoverflow.com/posts/49536450/edit\">edit</a> link. ;)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522265356, "post_id": 49536450, "comment_id": 86092839, "body": "The two code snippets behave differently. In the first case you are letting the shell manage input to <code>cmd</code> from a file which you first wrote, in the second case you are feeding it input ... how? Can you show how <code># write cmd input to $fh</code> goes (in a nutshell)? As it stands I don&#39;t see why it would incur <i>more</i> disk access."}, {"owner": {"reputation": 33, "user_id": 9563683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea74c16c6c98e6b83c33b0caeb82e7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/9563683/matthew"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522309637, "post_id": 49536450, "comment_id": 86108341, "body": "@zdim In the first case I print the text expected by the external program to a file, and then let the shell pass this to cmd&#39;s stdin (as you said). In the second case I open a pipe to cmd and thereby print the same text directly to cmd&#39;s stdin. (i.e. avoiding the need for my script to write an intermediary file.) Sorry if this wasn&#39;t clear, I&#39;ve edited my post to (hopefully) improve this."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522313134, "post_id": 49536450, "comment_id": 86110298, "body": "Thanks.  I was thinking that the nature of what is done may matter, but in fact <code>capture</code> just does use files, plain and simple. See my answer."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522317307, "post_id": 49551601, "comment_id": 86113196, "body": "Shouldn&#39;t that <code>run3</code> command with output to a scalar be using a reference to a scalar: <code>run3 \\@cmd, \\undef, \\my $cmd_out</code>, or am I missing something?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522317607, "post_id": 49551601, "comment_id": 86113412, "body": "@H&#229;konH&#230;gland right, but that invocation uses files (it explains it at the link).  I thought that it can perhaps be tricked -- write to a filehandle (&quot;<i>if the redirector already specifies a filehandle it just uses that</i>&quot;) but open it to a scalar ... but it doesn&#39;t seem to work."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522318080, "post_id": 49551601, "comment_id": 86113742, "body": "@H&#229;konH&#230;gland  Edited that footnote, hopefully my attempt is clearer now. Thank you"}, {"owner": {"reputation": 33, "user_id": 9563683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea74c16c6c98e6b83c33b0caeb82e7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/9563683/matthew"}, "edited": false, "score": 0, "creation_date": 1522319140, "post_id": 49551601, "comment_id": 86114446, "body": "Thanks very much for your detailed reply, with possible alternative methods. I&#39;d seen the use of File::Temp (which I was also using in my version that used system()) but I couldn&#39;t tell if it was used for all streams or something else."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522349208, "post_id": 49551601, "comment_id": 86134257, "body": "@zdim Yes, I think I understand the issue now. Thanks for the clarification!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522360525, "post_id": 49551601, "comment_id": 86139522, "body": "@H&#229;konH&#230;gland  Recalled why this &quot;idea&quot; fails and updated."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 33, "user_id": 9563683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea74c16c6c98e6b83c33b0caeb82e7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/9563683/matthew"}, "edited": false, "score": 0, "creation_date": 1522360591, "post_id": 49551601, "comment_id": 86139543, "body": "@Matthew  Glad that it helps. I&#39;ve updated the footnote, with a reason why one can&#39;t write to an in-memory &quot;filehandle&quot; (which isn&#39;t)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1581710422, "last_edit_date": 1581710422, "creation_date": 1522313043, "answer_id": 49551601, "question_id": 49536450, "link": "https://stackoverflow.com/questions/49536450/does-perls-capturetinycapture-avoid-disk-io-required-when-using-system/49551601#49551601", "title": "does Perl&#39;s Capture::Tiny::capture() avoid disk io required when using system()?", "body": "<p>The documentation for <a href=\"http://search.cpan.org/~dagolden/Capture-Tiny-0.46/lib/Capture/Tiny.pm#capture\" rel=\"nofollow noreferrer\">Capture::Tiny::capture</a>  states that files are indeed used</p>\n\n<blockquote>\n  <p>Captures are normally done to an anonymous temporary filehandle. </p>\n</blockquote>\n\n<p>This can be seen in the source for the <a href=\"https://metacpan.org/source/DAGOLDEN/Capture-Tiny-0.46/lib/Capture/Tiny.pm#L303\" rel=\"nofollow noreferrer\">_capture_tee</a> sub, used as a generic routine for all methods. About half-way through this sub we find a <a href=\"https://metacpan.org/source/DAGOLDEN/Capture-Tiny-0.46/lib/Capture/Tiny.pm#L360\" rel=\"nofollow noreferrer\">call to <code>File::Temp-&gt;new</code></a> happening, unless named files are to be used (see below).  The rest of processing can be traced with some care.<sup>&dagger;</sup></p>\n\n<p>The docs proceed to offer a way to monitor all this via named files instead</p>\n\n<blockquote>\n  <p>To capture via a named file (e.g. to externally monitor a long-running capture), provide custom filehandles as a trailing list of option pairs:  </p>\n\n<pre><code>my $out_fh = IO::File-&gt;new(\"out.txt\", \"w+\");\nmy $err_fh = IO::File-&gt;new(\"out.txt\", \"w+\");\ncapture { ... } stdout =&gt; $out_fh, stderr =&gt; $err_fh;  \n</code></pre>\n  \n  <p>The filehandles must be read/write and seekable. Modifying the files or filehandles during a capture operation will give unpredictable results. Existing IO layers on them may be changed by the capture.</p>\n</blockquote>\n\n<p>(If this is done then the call to <code>File::Temp</code> doesn't go, as mentioned above. See source.)</p>\n\n<p>If this disk activity is a problem you can use piped <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a> to read <code>cmd</code>'s output\n(write its input to a file first), or use <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">qx</a> (backticks).  But then you'd have to merge or redirect <code>STDERR</code> and go through more hoops to check and handle error.</p>\n\n<p>Another option is to use <a href=\"http://search.cpan.org/~rjbs/IPC-Run3-0.048/lib/IPC/Run3.pm\" rel=\"nofollow noreferrer\">IPC::Run3</a>. While it also <a href=\"http://search.cpan.org/~rjbs/IPC-Run3-0.048/lib/IPC/Run3.pm#HOW_IT_WORKS\" rel=\"nofollow noreferrer\">uses files</a> it offers far more options which may be leveraged to lessen the disk I/O, or perhaps avoid disk altogether. (The idea to invoke with a filehandle <em>opened to a scalar</em> (in-memory) doesn't work since this isn't a real filehandle.<sup>&Dagger;</sup> )</p>\n\n<p>The \"nuclear\" option is the more complex <a href=\"http://search.cpan.org/~toddr/IPC-Run-0.97/lib/IPC/Run.pm\" rel=\"nofollow noreferrer\">IPC::Run</a> which can take output without using disk.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> A crude sketch</p>\n\n<p>The \"dispatch\" of all methods to <code>_capture_tee</code> is done <a href=\"https://metacpan.org/source/DAGOLDEN/Capture-Tiny-0.46/lib/Capture/Tiny.pm#L36\" rel=\"nofollow noreferrer\">in the beginning</a>, where a set of flags is <code>unshift</code>ed to <code>@_</code> before <code>goto &amp;func</code> takes it away, to distinguish methods. For <code>capture</code> this is <code>1,1,0,0</code>, what sets up variables <code>$do_stdout</code> and <code>$do_stderr</code> in <code>_capture_tee</code>. These are then used to set up the <a href=\"https://metacpan.org/source/DAGOLDEN/Capture-Tiny-0.46/lib/Capture/Tiny.pm#L306\" rel=\"nofollow noreferrer\"><code>%do</code> hash</a>, which keys are <a href=\"https://metacpan.org/source/DAGOLDEN/Capture-Tiny-0.46/lib/Capture/Tiny.pm#L360\" rel=\"nofollow noreferrer\">iterated over to set up <code>$stash</code></a>.</p>\n\n<p>If extra arguments were passed to <code>capture</code> (for named files) then <a href=\"https://metacpan.org/source/DAGOLDEN/Capture-Tiny-0.46/lib/Capture/Tiny.pm#L309\" rel=\"nofollow noreferrer\"><code>$stash-&gt;{capture}</code> is set</a>, otherwise a <code>File::Temp</code> object is assigned.\nThe <code>$stash</code> is later <a href=\"https://metacpan.org/source/DAGOLDEN/Capture-Tiny-0.46/lib/Capture/Tiny.pm#L370\" rel=\"nofollow noreferrer\">passed to <code>_open_std</code></a> where the redirection happens.</p>\n\n<p>There is a lot more, but mostly related to manipulation of localized globs and layers.</p>\n\n<hr>\n\n<p><sup>&Dagger;</sup> &nbsp;  The most usual invocation writes to scalar(s)</p>\n\n<pre><code>run3 \\@cmd, \\my $in, \\my $out, \\my $err;\n</code></pre>\n\n<p>but this uses files, as explained in docs under <a href=\"http://search.cpan.org/~rjbs/IPC-Run3-0.048/lib/IPC/Run3.pm#HOW_IT_WORKS\" rel=\"nofollow noreferrer\">How it works</a>.</p>\n\n<p>An attempt to trick it into not using files, by writing to a filehandle which is opened to a scalar</p>\n\n<pre><code>my @cmd = qw(ls -l .);\nopen my $fh, '&gt;', \\my $cmd_out;  # not a real filehandle ...\nrun3 \\@cmd, \\undef, $fh;         # ... so this won't work\n</code></pre>\n\n<p>aborts with</p>\n\n<pre>\nrun3(): Invalid argument redirecting STDOUT at ...\n</pre>\n\n<p>This is because an <code>open</code> to a scalar doesn't set up a real filehandle. See <a href=\"https://stackoverflow.com/a/47045319/4653379\">this post</a>.</p>\n\n<p>If the filehandle is opened to a file this works as intended, writing to that file.  This may well result in a more efficient disk I/O operation, compared with what <code>Capture::Tiny</code> does.</p>\n"}], "owner": {"reputation": 33, "user_id": 9563683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea74c16c6c98e6b83c33b0caeb82e7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/9563683/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 49551601, "answer_count": 1, "score": 2, "last_activity_date": 1581710422, "creation_date": 1522245272, "last_edit_date": 1522309456, "question_id": 49536450, "link": "https://stackoverflow.com/questions/49536450/does-perls-capturetinycapture-avoid-disk-io-required-when-using-system", "title": "does Perl&#39;s Capture::Tiny::capture() avoid disk io required when using system()?", "body": "<p>When calling an external program from a Perl script, does Capture::Tiny avoid disk io required when using system()? I get essentially the same performance when using either. A colleague is using my code and told me that it was hammering his disks. I (perhaps) don't have this problem when running on my local machine and writing to local disks.</p>\n\n<p>I was previously doing this:</p>\n\n<pre><code>open($fhStdin, \"&gt;stdin.txt\");\nprint $fhStdin \"some text\\n\";\nclose($fhStdin);\nsystem(\"cmd &lt; stdin.txt 1&gt; stdout.txt 2&gt; stderr.txt\"); \n# open and read stdout.txt\n# open and read stderr.txt\n</code></pre>\n\n<p>And changed to this:</p>\n\n<pre><code>($stdout, $stderr, $exit) = capture {\n    open($fhStdin, '| cmd');\n    print $fhStdin \"some text\\n\";\n    close($fhStdin);\n};\n</code></pre>\n\n<p>But NYTProf tells me that they take essentially the same amount of time to run (but NYTProf removes disk io overheads from subroutine times). So I wondered if capture() is writing to temporary files under the hood? (I tried reading the Tiny.pm source code but am ashamed to say I couldn't tell from that.)</p>\n\n<p>Thanks for any tips.</p>\n"}, {"tags": ["regex", "perl", "capturing-group"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522238019, "post_id": 49533776, "comment_id": 86073819, "body": "I don&#39;t understand what the Ruby one does. You can have named capture groups in Perl."}, {"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "edited": false, "score": 0, "creation_date": 1522238231, "post_id": 49533776, "comment_id": 86073985, "body": "what you need is probably <code>keys %+</code>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522238215, "post_id": 49533888, "comment_id": 86073970, "body": "Hang on, isn&#39;t it <code>%+</code>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522238275, "post_id": 49533888, "comment_id": 86074010, "body": "Oh. perlvar has the difference."}, {"owner": {"reputation": 13, "user_id": 9563795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c611d1f38dab73f9b92c7293ba779a81?s=128&d=identicon&r=PG&f=1", "display_name": "abjY6U54", "link": "https://stackoverflow.com/users/9563795/abjy6u54"}, "edited": false, "score": 0, "creation_date": 1522238572, "post_id": 49533888, "comment_id": 86074229, "body": "I need to extract the names without having to match the regex"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13, "user_id": 9563795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c611d1f38dab73f9b92c7293ba779a81?s=128&d=identicon&r=PG&f=1", "display_name": "abjY6U54", "link": "https://stackoverflow.com/users/9563795/abjy6u54"}, "edited": false, "score": 2, "creation_date": 1522239230, "post_id": 49533888, "comment_id": 86074705, "body": "@abjY6U54: If you think you need to know the names of capture groups in a regex pattern that hasn&#39;t been applied to a string then you need to think again. It&#39;s something that can&#39;t be done in Perl, and with good reason. The values are available only after a <i>successful</i> match in the current lexical scope."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1522238556, "last_edit_date": 1522238556, "creation_date": 1522238154, "answer_id": 49533888, "question_id": 49533776, "link": "https://stackoverflow.com/questions/49533776/is-there-a-perl-equivalent-for-rubys-regexp-names/49533888#49533888", "title": "Is there a Perl equivalent for Ruby&#39;s Regexp.names?", "body": "<p>You can extract the names of the groups after a successful match:</p>\n\n<pre><code>my $re = qr/(?&lt;foo&gt;.)(?&lt;bar&gt;.)(?&lt;baz&gt;.)/;\n'abc' =~ $re;\nsay for keys %-;\n</code></pre>\n\n<p>See also <a href=\"http://p3rl.org/Tie::Hash::NamedCapture\" rel=\"nofollow noreferrer\">Tie::Hash::NamedCapture</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9563795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c611d1f38dab73f9b92c7293ba779a81?s=128&d=identicon&r=PG&f=1", "display_name": "abjY6U54", "link": "https://stackoverflow.com/users/9563795/abjy6u54"}, "edited": false, "score": 0, "creation_date": 1522239028, "post_id": 49534070, "comment_id": 86074585, "body": "Thank you! That was I was looking for."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522243158, "post_id": 49534070, "comment_id": 86077752, "body": "Note that this requires the regexp pattern to be parsed seperately as a <code>PPIx::Regexp</code> obiect. It will not work with an ordinary compiled Perl regex."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1522239831, "last_edit_date": 1522239831, "creation_date": 1522238648, "answer_id": 49534070, "question_id": 49533776, "link": "https://stackoverflow.com/questions/49533776/is-there-a-perl-equivalent-for-rubys-regexp-names/49534070#49534070", "title": "Is there a Perl equivalent for Ruby&#39;s Regexp.names?", "body": "<p>See <a href=\"https://metacpan.org/pod/PPIx::Regexp#capture_names\" rel=\"nofollow noreferrer\">PPIx::Regexp::capture_names</a>:</p>\n\n<blockquote>\n<pre><code>foreach my $name ( $re-&gt;capture_names() ) {\n      print \"Capture name '$name'\\n\";\n }\n</code></pre>\n  \n  <p>This convenience method returns the capture names found in the regular expression.</p>\n</blockquote>\n\n<p>I have not tried this module, so I am not sure if it is a 100% reliable way extracting the information you want.</p>\n\n<p>See also @ikegami's answer to <a href=\"https://stackoverflow.com/q/11851336/100754\">this question</a> which led me to re-read <a href=\"https://perldoc.perl.org/re.html#Exportable-Functions\" rel=\"nofollow noreferrer\">perldoc re</a>:</p>\n\n<blockquote>\n  <p><code>regnames($all)</code></p>\n  \n  <p>Returns a list of all of the named buffers defined in the last\n          successful match. If <code>$all</code> is true, then it returns all names defined,\n          if not it returns only names which were involved in the match.</p>\n</blockquote>\n\n<p>So close, yet not quite. I am not aware of a builtin way of doing introspection on regular expression patterns in Perl in the way Ruby's <code>.names</code> does.</p>\n"}], "owner": {"reputation": 13, "user_id": 9563795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c611d1f38dab73f9b92c7293ba779a81?s=128&d=identicon&r=PG&f=1", "display_name": "abjY6U54", "link": "https://stackoverflow.com/users/9563795/abjy6u54"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 49534070, "answer_count": 2, "score": 1, "last_activity_date": 1522239831, "creation_date": 1522237828, "last_edit_date": 1522238391, "question_id": 49533776, "link": "https://stackoverflow.com/questions/49533776/is-there-a-perl-equivalent-for-rubys-regexp-names", "title": "Is there a Perl equivalent for Ruby&#39;s Regexp.names?", "body": "<p>In Ruby you can extract the named captured groups of a regex using the <code>names</code>method:</p>\n\n<pre><code>/(?&lt;foo&gt;.)(?&lt;bar&gt;.)(?&lt;baz&gt;.)/.names\n#=&gt; [\"foo\", \"bar\", \"baz\"]\n</code></pre>\n\n<p>Is there a Perl equivalent for such method? I could extract the names doing something like this:</p>\n\n<pre><code>while ( $re =~ m/\\?&lt;(.+?)&gt;/g ) {\n    say $1;\n}\n</code></pre>\n\n<p>But I don't know how robust/efficient/elegant that solutions is.</p>\n\n<p><strong>EDITED</strong>: I know that you can get the names after a match but I need to extract the names before using the regex.</p>\n"}, {"tags": ["xml", "perl", "xslt"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522238565, "post_id": 49533613, "comment_id": 86074223, "body": "Is that a one-off job or a regular thing with varying input?"}, {"owner": {"reputation": 68419, "user_id": 7585, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Txewo.jpg?s=128&g=1", "display_name": "Tim C", "link": "https://stackoverflow.com/users/7585/tim-c"}, "edited": false, "score": 2, "creation_date": 1522240371, "post_id": 49533613, "comment_id": 86075574, "body": "If your XML is not well-formed then you won&#39;t be able to use XSLT on it, as that only accepts well-formed XML as an input. Well, potentially, you could use <code>unparsed-text</code>in XSLT 2.0, but you would then have to manipulate the document as a single string, not XML. Ideally you need to fix the issue at source, by correcting whatever process created the badly formed XML in the first place."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1522240407, "post_id": 49533613, "comment_id": 86075589, "body": "This is why the XML spec says &#39;errors are fatal&#39;. Because forward-fixing XML is a nasty job."}, {"owner": {"reputation": 111, "user_id": 7094972, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MFzON7aFdJQ/AAAAAAAAAAI/AAAAAAAAACE/G7NU15JWWLk/photo.jpg?sz=128", "display_name": "Rudraprasad Pradhan", "link": "https://stackoverflow.com/users/7094972/rudraprasad-pradhan"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1522308925, "post_id": 49533613, "comment_id": 86107966, "body": "@Sobrique , Is there any way to make the XML valid using Perl?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1522313675, "post_id": 49533613, "comment_id": 86110642, "body": "No. Even the XML spec says &#39;don&#39;t try to fix XML&#39;. The problem is with the thing generating the XML, and you should take it up with them. Look at how it works with HTML - broken HTML is often handled by browsers, but it&#39;s done so badly and inconsistently. The whole point of XML is that there isn&#39;t any &quot;interpretation&quot; because it&#39;s a data transfer format."}], "owner": {"reputation": 111, "user_id": 7094972, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MFzON7aFdJQ/AAAAAAAAAAI/AAAAAAAAACE/G7NU15JWWLk/photo.jpg?sz=128", "display_name": "Rudraprasad Pradhan", "link": "https://stackoverflow.com/users/7094972/rudraprasad-pradhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "closed_date": 1522240940, "answer_count": 0, "score": 0, "last_activity_date": 1522238786, "creation_date": 1522237372, "last_edit_date": 1522237609, "question_id": 49533613, "link": "https://stackoverflow.com/questions/49533613/formatting-the-xml", "closed_reason": "Duplicate", "title": "Formatting the XML", "body": "<p>I have one XML, but it's not formatted. That's why I'm facing to do any transformation by XSLT. Extra <code>&lt;</code> &amp; <code>&gt;</code> should be replaced with <code>&amp;gt;</code>.</p>\n\n<p>XML:</p>\n\n<pre><code>              &lt;output&gt;\n                &lt;line index=\"1\"&gt;0a1,3&lt;/line&gt;\n                &lt;line index=\"2\"&gt;&gt; ***************1# &lt;/line&gt;\n                &lt;line index=\"3\"&gt;&gt; Building configuration... &lt;/line&gt;\n                &lt;line index=\"4\"&gt;&gt;  &lt;/line&gt;\n                &lt;line index=\"5\"&gt;75c78&lt;/line&gt;\n                &lt;line index=\"6\"&gt;&lt; enable secret 5 xxx&lt;/line&gt;\n                &lt;line index=\"7\"&gt;---&lt;/line&gt;\n                &lt;line index=\"8\"&gt;&gt; enable secret 5 $1$okZh$nSIVWr7vNHAqk231PisjN0 &lt;/line&gt;\n                &lt;line index=\"9\"&gt;1986c1989&lt;/line&gt;\n                &lt;line index=\"10\"&gt;&lt; snmp-server community  xxx&lt;/line&gt;\n                &lt;line index=\"11\"&gt;---&lt;/line&gt;\n                &lt;line index=\"12\"&gt;&gt; snmp-server community sph1nkx5 v1default RO 5 &lt;/line&gt;\n                &lt;line index=\"13\"&gt;2043c2046&lt;/line&gt;\n                &lt;line index=\"14\"&gt;&lt; tacacs-server key 7 xxx&lt;/line&gt;\n                &lt;line index=\"15\"&gt;---&lt;/line&gt;\n                &lt;line index=\"16\"&gt;&gt; tacacs-server key 7 00070A160C5E190A002247 &lt;/line&gt;\n                &lt;line index=\"17\"&gt;2577a2581&lt;/line&gt;\n                &lt;line index=\"18\"&gt;&gt; *************# &lt;/line&gt;\n              &lt;/output&gt;\n</code></pre>\n\n<p>I want to convert it to:</p>\n\n<pre><code>         &lt;output&gt;\n            &lt;line index=\"1\"&gt;0a1,3&lt;/line&gt;\n            &lt;line index=\"2\"&gt;&amp;gt; ***************# &lt;/line&gt;\n            &lt;line index=\"3\"&gt;&amp;gt; Building configuration... &lt;/line&gt;\n            &lt;line index=\"4\"&gt;&amp;gt;  &lt;/line&gt;\n            &lt;line index=\"5\"&gt;75c78&lt;/line&gt;\n            &lt;line index=\"6\"&gt;&amp;lt; enable secret 5 xxx&lt;/line&gt;\n            &lt;line index=\"7\"&gt;---&lt;/line&gt;\n            &lt;line index=\"8\"&gt;&amp;gt; enable secret 5 $1$okZh$nSIVWr7vNHAqk231PisjN0 &lt;/line&gt;\n            &lt;line index=\"9\"&gt;1986c1989&lt;/line&gt;\n            &lt;line index=\"10\"&gt;&amp;lt; snmp-server community  xxx&lt;/line&gt;\n            &lt;line index=\"11\"&gt;---&lt;/line&gt;\n            &lt;line index=\"12\"&gt;&amp;gt; snmp-server community sph1nkx5 v1default RO 5 &lt;/line&gt;\n            &lt;line index=\"13\"&gt;2043c2046&lt;/line&gt;\n            &lt;line index=\"14\"&gt;&amp;lt; tacacs-server key 7 xxx&lt;/line&gt;\n            &lt;line index=\"15\"&gt;---&lt;/line&gt;\n            &lt;line index=\"16\"&gt;&amp;gt; tacacs-server key 7 00070A160C5E190A002247 &lt;/line&gt;\n            &lt;line index=\"17\"&gt;2577a2581&lt;/line&gt;\n            &lt;line index=\"18\"&gt;&amp;gt; *************# &lt;/line&gt;\n          &lt;/output&gt;\n</code></pre>\n\n<p>Perl &amp; XSLT languages are okay to transform.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1522242991, "post_id": 49533073, "comment_id": 86077640, "body": "What have you tried? What problems are you having? Please show us your code."}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 2, "last_activity_date": 1522235980, "creation_date": 1522235980, "answer_id": 49533148, "question_id": 49533073, "link": "https://stackoverflow.com/questions/49533073/how-to-print-the-variables-of-an-array-as-checkbox-names-in-a-cgi-form/49533148#49533148", "title": "How to print the variables of an array as checkbox names in a cgi-form?", "body": "<p>You have several problems.</p>\n\n<ol>\n<li>If you want to pass multiple values to a single property in a hash, then you need to pass a <em>reference</em>. Your code (before you deleted it from the question during the grace period when edits are not recorded) will be interpreted as: <code>checkbox(\"-values\" -&gt; \"apple\", \"orange\" =&gt; \"berry\")</code>.</li>\n<li><code>checkbox</code> only takes one value. If you want to pass multiple, then you need to call it multiple times</li>\n<li>CGI.pm's <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">HTML generation functions should no longer be used</a>. Switch to a template system instead.</li>\n</ol>\n\n<p>For example:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse v5.10;\nuse strict;\nuse warnings;\n\nuse Template;\n\nmy @checkbox_values = qw[apple orange berry];\nmy $template = q[\n    Example template\n    [% FOR item IN checkbox_values %]\n    &lt;input type=\"checkbox\" name=\"example\" value=\"[% item | html %]\"&gt;\n    [%- END %]\n];\n\nprint Template-&gt;new()-&gt;process(\\$template, { checkbox_values =&gt; \\@checkbox_values })\n</code></pre>\n\n<p>NB: Templates are better stored in separate files.</p>\n"}], "owner": {"reputation": 11, "user_id": 8758040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4351c79044839484098208fcb9be9073?s=128&d=identicon&r=PG&f=1", "display_name": "Sherlock.H", "link": "https://stackoverflow.com/users/8758040/sherlock-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1522235980, "creation_date": 1522235770, "question_id": 49533073, "link": "https://stackoverflow.com/questions/49533073/how-to-print-the-variables-of-an-array-as-checkbox-names-in-a-cgi-form", "title": "How to print the variables of an array as checkbox names in a cgi-form?", "body": "<p>Is there a simple way to print check boxes in an cgi form whose names are variables of an array?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 9902, "user_id": 1960027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z89Jo.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/1960027/simon"}, "edited": false, "score": 3, "creation_date": 1522234255, "post_id": 49532423, "comment_id": 86071249, "body": "What would be your desired behavior if there are files that would be overwritten? There are many potential alternatives, including not overwriting, halting with an error, writing the files to a different folder, re-naming the files so there is no overwrite, etc. etc."}, {"owner": {"reputation": 49, "user_id": 8955234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcb0c5062c7a054b45bbe5d1001945f?s=128&d=identicon&r=PG&f=1", "display_name": "user260834", "link": "https://stackoverflow.com/users/8955234/user260834"}, "reply_to_user": {"reputation": 9902, "user_id": 1960027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z89Jo.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/1960027/simon"}, "edited": false, "score": 0, "creation_date": 1522235104, "post_id": 49532423, "comment_id": 86071831, "body": "Either the data should be append with same file name or the file name will get renamed with filename _1,filename_2 every time the file is being moved to ARCHIVE folder having same name as in test1 folder."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1522236260, "post_id": 49532423, "comment_id": 86072603, "body": "You don&#39;t appear to have attempted to code for this situation at all, which makes me think that you&#39;ve simply copied this code from somewhere and want us to &quot;fix it up&quot; for you. That isn&#39;t going to happen. Make your best attempt and ask for help if you find it impossible to get it working. Hint: the new file will be <code>&quot;$dstdir&#47;$_&quot;</code> and it makes sense to check whether it exists before you do the <code>move</code>."}, {"owner": {"reputation": 9902, "user_id": 1960027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z89Jo.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/1960027/simon"}, "edited": false, "score": 0, "creation_date": 1522236446, "post_id": 49532423, "comment_id": 86072739, "body": "OK -- if you could try to achieve the outcome you are looking and find you cannot do it, you could then ask a specific question about the problem you encounter. Hint: How would you check that a given file name already exists and, if you find that the file already exists, how could you modify the filename by appending characters to give the naming scheme that you&#39;re looking for?"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 8955234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcb0c5062c7a054b45bbe5d1001945f?s=128&d=identicon&r=PG&f=1", "display_name": "user260834", "link": "https://stackoverflow.com/users/8955234/user260834"}, "edited": false, "score": 1, "creation_date": 1522314329, "post_id": 49535111, "comment_id": 86111073, "body": "This above solution worked for me. I am a newbie in perl trying to understand things. Thanks all for your support."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 49, "user_id": 8955234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcb0c5062c7a054b45bbe5d1001945f?s=128&d=identicon&r=PG&f=1", "display_name": "user260834", "link": "https://stackoverflow.com/users/8955234/user260834"}, "edited": false, "score": 1, "creation_date": 1522358798, "post_id": 49535111, "comment_id": 86138866, "body": "@user260834  Then please see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1522241572, "creation_date": 1522241572, "answer_id": 49535111, "question_id": 49532423, "link": "https://stackoverflow.com/questions/49532423/move-the-files-older-than-three-hours-to-archive-folder-without-overwriting-exis/49535111#49535111", "title": "Move the files older than three hours to archive folder without overwriting existing files", "body": "<p>Add the epoch to the file name. But don't run your code more than once a second.</p>\n\n<pre><code>my $now = strftime( '%Y%m%d%H%M%S', localtime );\nfind(\n    sub {\n        if ( -f $_ &amp;&amp; -M _ &gt;= 3 / 24 ) {\n            print STDERR \"Moving '$_'\\n\";\n            my $dst = \"$dstdir/$_.$now\";\n            move( $File::Find::name, $dst ) or die \"$!\\n\";\n        }\n    },\n    @ARGV\n);\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 8955234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcb0c5062c7a054b45bbe5d1001945f?s=128&d=identicon&r=PG&f=1", "display_name": "user260834", "link": "https://stackoverflow.com/users/8955234/user260834"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1522241572, "creation_date": 1522233848, "last_edit_date": 1522236449, "question_id": 49532423, "link": "https://stackoverflow.com/questions/49532423/move-the-files-older-than-three-hours-to-archive-folder-without-overwriting-exis", "title": "Move the files older than three hours to archive folder without overwriting existing files", "body": "<p>The below script will move the files having modification time older than three hours from <code>/tmp/test1</code> folder to <code>/data/ARCHIVE</code> folder.</p>\n\n<p>The issue is that if the <code>ARCHIVE</code> folder already has a file with same name as in the <code>test1</code> folder it will overwrite them, which is unwanted.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Find;\nuse File::Copy;\n\nmy $dstdir = '/data/ARCHIVE/';\n\n@ARGV = (\"/tmp/test1\") unless @ARGV;\n\nprint STDERR \"Begin @ \", scalar localtime, \"\\n\";\n\nfind(\n    sub {\n        if ( -f $_ &amp;&amp; -M _ &gt;= 3 / 24 ) {\n            print STDERR \"Moving '$_'\\n\";\n            move( $File::Find::name, $dstdir ) or die \"$!\\n\";\n        }\n    },\n    @ARGV\n);\n\nprint STDERR \"Ended @ \", scalar localtime, \"\\n\";\n\n1;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522267165, "post_id": 49530214, "comment_id": 86093819, "body": "Works for me (on v5.16), in all variations (your code as well as with a normal package). But: do you really have to <code>require</code> modules (and not <code>use</code> them), and must it be a file with subs instead of a <code>package</code> (it isn&#39;t a <code>package</code> if what is shown are the exact programs and they work).  Also, nice that you have <code>use strict</code> but <code>use warnings</code> must be there."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1522232363, "post_id": 49530920, "comment_id": 86069851, "body": "That&#39;s new to me. Thank you."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1522229502, "creation_date": 1522229502, "answer_id": 49530920, "question_id": 49530214, "link": "https://stackoverflow.com/questions/49530214/why-signal-can-not-be-caught-in-the-module-in-perl/49530920#49530920", "title": "Why signal can not be caught in the module in Perl", "body": "<p>See <a href=\"http://p3rl.org/Perl::Unsafe::Signals#DESCRIPTION\" rel=\"nofollow noreferrer\">Perl::Unsafe::Signals#DESCRIPTION</a>.</p>\n\n<pre><code>use Perl::Unsafe::Signals;\nuse strict;\n\nsub sleep_func {\n    UNSAFE_SIGNALS {\n        sleep 10;\n    }\n}\n1;\n</code></pre>\n\n<p>When (not if) this breaks, you get to keep the pieces.</p>\n"}, {"comments": [{"owner": {"reputation": 285, "user_id": 655046, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/65f6df745f29959c88d2243d2f90b862?s=128&d=identicon&r=PG", "display_name": "jaslip", "link": "https://stackoverflow.com/users/655046/jaslip"}, "edited": false, "score": 0, "creation_date": 1522287780, "post_id": 49535653, "comment_id": 86100915, "body": "Yes. I forgot to flush. Thanks a lot."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1522243047, "creation_date": 1522243047, "answer_id": 49535653, "question_id": 49530214, "link": "https://stackoverflow.com/questions/49530214/why-signal-can-not-be-caught-in-the-module-in-perl/49535653#49535653", "title": "Why signal can not be caught in the module in Perl", "body": "<p>One reason it doesn't work is because you are <a href=\"https://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">suffering from buffering</a>.\nThe signal is probably being caught, and the signal handler is probably running, but you don't see the output until the end of the program because Perl is buffering the output.</p>\n\n<p>Some fixes are</p>\n\n<ul>\n<li><p>to append \"\\n\" to the output in your signal handler -- standard output to a terminal is \"line buffered\" by default in Perl, so Perl will flush the output buffer when it sees a newline</p>\n\n<pre><code>$SIG{INT} = sub { print \"sigint caught in main\\n\" };\n</code></pre></li>\n<li><p>to set <code>$|=1</code> in your script -- this enables autoflushing on standard output</p>\n\n<pre><code>$|=1; $SIG{INT} = sub { print \"siging caught in main\" };\n</code></pre></li>\n<li><p>to write the output to standard error instead of standard ouptut -- standard error is autoflushed by default</p>\n\n<pre><code>$SIG{INT} = sub { print STDERR \"sigint caught in main\" };\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 285, "user_id": 655046, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/65f6df745f29959c88d2243d2f90b862?s=128&d=identicon&r=PG", "display_name": "jaslip", "link": "https://stackoverflow.com/users/655046/jaslip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "accepted_answer_id": 49535653, "answer_count": 2, "score": 1, "last_activity_date": 1522247424, "creation_date": 1522227597, "last_edit_date": 1522247424, "question_id": 49530214, "link": "https://stackoverflow.com/questions/49530214/why-signal-can-not-be-caught-in-the-module-in-perl", "title": "Why signal can not be caught in the module in Perl", "body": "<p>I set the global signal handler in the main program.\nThe signal can be caught only after the <code>sleep_func</code> in <code>module.pm</code> is finished. \nWhen I press <kbd>Ctrl</kbd>+<kbd>C</kbd>, The signal handler doesn't take any effect in <code>sleep_func</code>.</p>\n\n<p>I'd expect this to work like in a C program. Does anyone know how I can implement it?</p>\n\n<p>I used <code>local $SIG{INT}=...</code>, but that does not work.</p>\n\n<p>The main program:</p>\n\n<pre><code>use strict;\n$SIG{INT}=sub {print \"sigint caught in main\"};\nrequire \"module.pm\";\nsleep_func();\nsleep 10; \n</code></pre>\n\n<p>The module.pm:</p>\n\n<pre><code>use strict;\n\nsub sleep_func {\n    sleep 10;\n}\n1;\n</code></pre>\n"}, {"tags": ["perl", "routes", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522226738, "post_id": 49527313, "comment_id": 86065575, "body": "That would essentially eliminate the need to have any other routes. You would practically make Mojo behave like Catalyst. It should be possible, but might not be advisable"}], "owner": {"reputation": 143, "user_id": 512114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c43350b9c62a8b35c5c4b2024c1beee?s=128&d=identicon&r=PG", "display_name": "dimorphus", "link": "https://stackoverflow.com/users/512114/dimorphus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522217552, "creation_date": 1522217552, "question_id": 49527313, "link": "https://stackoverflow.com/questions/49527313/mojolicious-determine-controller-based-on-placeholder-parameters", "title": "Mojolicious: determine controller based on placeholder parameters", "body": "<p>I know that it's possible to write code like this.</p>\n\n<pre><code>$r-&gt;post('/v1/:controller/:action')\n</code></pre>\n\n<p>And mojo will call appropriate controller class.</p>\n\n<p>Is it possible to do something like this in Mojo (maybe with stash):</p>\n\n<pre><code>$r-&gt;post('/v1/:model/:method')-&gt;to(\n         action =&gt; ':method',\n         controller =&gt; sub {\n                          my ($captures) = @_;\n                          my $controller = $captures-&gt;{'model'};\n                          ...\n                          return $controller;\n                       }\n         )\n</code></pre>\n"}, {"tags": ["c", "perl"], "comments": [{"owner": {"reputation": 12179, "user_id": 1480131, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/WZPm4.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/1480131/pablo"}, "edited": false, "score": 0, "creation_date": 1522187786, "post_id": 49522959, "comment_id": 86051990, "body": "If <code>execvp</code> fails, then <code>errno</code> is set. Add a <code>perror(&quot;execvp&quot;)</code> after <code>execvp</code> to see why it&#39;s failing."}, {"owner": {"reputation": 12179, "user_id": 1480131, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/WZPm4.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/1480131/pablo"}, "edited": false, "score": 0, "creation_date": 1522188071, "post_id": 49522959, "comment_id": 86052099, "body": "Also note that <code>sizeof(&quot;&#47;home&#47;me&#47;the.pl&quot;) == strlen(&quot;&#47;home&#47;me&#47;the.pl&quot;) + 1</code>, because <code>&quot;&#47;home&#47;me&#47;the.pl&quot;</code> is a string literal."}], "answers": [{"comments": [{"owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1522246156, "post_id": 49523053, "comment_id": 86080181, "body": "I tried this. It works if the sticky-bit on the C binary isn&#39;t set, but fails if it does.  If it&#39;s set, then it runs in taint mode, and despite the documentation, running the perl executable with -I &lt;lib&gt; alone isn&#39;t good enough.  This may be another security roadblock.  Explicitly listing the libs in the perl source with &quot;use lib&quot; does work but defeats the dynamicity of PERL5LIB. At this point I feel like I&#39;m trying to hack around security roadblocks.  I think I&#39;m going to back off and seek a different angle.  Thanks for all the help !  Hope this helps others."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1522255695, "post_id": 49523053, "comment_id": 86087317, "body": "@daveg, As I previously pointed out, you are talking about the setuid bit, not the setuid bit."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1522259892, "post_id": 49523053, "comment_id": 86089715, "body": "I&#39;ve had to do this before (e.g. setuid launch of <code>perl</code> script). When you setup a setuid program (e.g. changing ownership to root and doing <code>chmod 6741 ...</code>), it will only set euid (effective user id) to 0/root and <i>not</i> uid (real user id). <code>perl</code> will see uid!=0 and euid==0 and set taint mode. Have the launcher program do <code>setuid(0)</code> and <code>setgid(0)</code> so that <code>perl</code> sees everything as root and it won&#39;t complain. Not sure, but the setuid program <i>may</i> wipe some of the environment, so you may need the launcher to set up the environment variables (e.g. <code>PERL5LIB</code>, etc.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522272410, "post_id": 49523053, "comment_id": 86096606, "body": "(uh, my prev comment should be &quot;you are talking about the setuid bit, not the sticky bit&quot;)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522272538, "post_id": 49523053, "comment_id": 86096665, "body": "@Craig Estey, Trying to fool Perl into using the caller&#39;s PERL5LIB is an awful idea. It <i>should</i> be ignored, as not ignoring it would allow the caller to run arbitrary code as root."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522273515, "post_id": 49523053, "comment_id": 86097039, "body": "@ikegami I&#39;ve had to do this in production code. It&#39;s up to the [setuid] launcher to do restrictions. If you can establish a setuid program, you can do whatever you want because you&#39;re already root. This can be used for embedded systems that want to run [mostly] as non-root but still have to run some perl scripts [or apps] as root."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522273991, "post_id": 49523053, "comment_id": 86097227, "body": "Ah, you didn&#39;t mean reusing the parent&#39;s PERL5LIB. Fine. Still crazy to use an insecure C wrapper instead of using <code>use lib</code>."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522274802, "post_id": 49523053, "comment_id": 86097556, "body": "@ikegami Right, the setuid must prevent misuse but prevent <code>perl</code> from complaining. It&#39;s like <code>sudo</code> without the pw prompt, which is unsuitable if you have to do <code>sudo</code>-like things on an unattended/embedded system. I wrote my first setuid program circa 1993 [or earlier] and has a <code>&#47;etc&#47;*.conf</code> file that listed restrictions (i.e. <i>&quot;I was doing sudo before sudo was cool&quot;</i> ;-). The concept has been around since the 1970&#39;s: access by secure program and was available on an IBM/370 OS I used/programmed. Any file could designate a <i>program</i> that could access it with what permissions, like an ACL."}], "tags": [], "owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "is_accepted": false, "score": 5, "last_activity_date": 1522192733, "last_edit_date": 1522192733, "creation_date": 1522187755, "answer_id": 49523053, "question_id": 49522959, "link": "https://stackoverflow.com/questions/49522959/how-does-one-pass-includes-to-execvp-thats-running-a-perl-script/49523053#49523053", "title": "How does one pass includes to execvp that&#39;s running a perl script?", "body": "<p>You need each argument to be a separate entry in <code>args</code>. Try this:</p>\n\n<pre><code>#include &lt;unistd.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n\nint\nmain(int argc, char *argv[])\n{\n    char *args[4];       /* args will be passed to execvp.  prepend perl executable */\n\n    args[0] = \"/tools/bin/perl\";\n    args[1] = \"-I/proj/perlmods\";\n    args[2] = \"/home/me/the.pl\";\n    args[3] = NULL;\n\n    execvp(args[0], args);\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1522246363, "post_id": 49523875, "comment_id": 86080334, "body": "This works, but static defs of the libs in the perl source doesn&#39;t fit our model of using $PERL5LIB as a dynamic set of libs set up in the env.  Using the C wrapper which could echo the content of $PERL5LIB as includes would work (in theory), but it appears they threw up other security roadblocks to prevent that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 1, "creation_date": 1522258740, "post_id": 49523875, "comment_id": 86089052, "body": "@daveg, NO NO NO, don&#39;t use <code>PERL5LIB</code>. You&#39;ll let the initial user run any code as the setuid user! You should definitely be using <code>use lib</code> in a setuid situation. (And get rid of the C wrapper, as I previously mentioned.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1522193334, "last_edit_date": 1522193334, "creation_date": 1522193007, "answer_id": 49523875, "question_id": 49522959, "link": "https://stackoverflow.com/questions/49522959/how-does-one-pass-includes-to-execvp-thats-running-a-perl-script/49523875#49523875", "title": "How does one pass includes to execvp that&#39;s running a perl script?", "body": "<p>You're doing something wrong if you're using <code>-I</code>. The script's executer shouldn't have to care about where the script's libraries are located.</p>\n\n<ul>\n<li><p>If <code>/proj/perlmods</code> is used by multiple applications, you should add the following to your login script:</p>\n\n<pre><code>export PERL5LIB=/proj/perlmods\n</code></pre></li>\n<li><p>If <code>/proj/perlmods</code> is only used by that one Perl program, add the following to the Perl program:</p>\n\n<pre><code>use lib qw( /proj/perlmods );\n</code></pre></li>\n</ul>\n\n<p>Then, the C program becomes</p>\n\n<pre><code>char *args[2];                  # Or char **args = malloc(2 * sizeof(char*));\nargs[0] = \"/home/me/the.pl\";    # No need to duplicate the string; just copy the ptr.\nargs[1] = NULL;\n\nexecvp(args[0], args);\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>char *args[4];                  # Or char **args = malloc(4 * sizeof(char*));\nargs[0] = \"/tools/bin/perl\";\nargs[1] = \"-I/proj/perlmods\";\nargs[2] = \"/home/me/the.pl\";\nargs[3] = NULL;\n\nexecvp(args[0], args);\n</code></pre>\n"}], "owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1522193334, "creation_date": 1522187325, "question_id": 49522959, "link": "https://stackoverflow.com/questions/49522959/how-does-one-pass-includes-to-execvp-thats-running-a-perl-script", "title": "How does one pass includes to execvp that&#39;s running a perl script?", "body": "<p>RHEL6                 </p>\n\n<p>In C, how does one pass includes to execvp which in turn runs a perl executable ? (this is a means to replace missing translation of PERL5LIB to @INC when taint mode is on)</p>\n\n<p>This question is looking for a working implementation of an answer provided by mob to...\n<a href=\"https://stackoverflow.com/questions/49516416/why-does-inc-change-when-setgid-bit-of-c-wrapper-around-perl-script-change\">Why does @INC change when setgid-bit of C wrapper around perl script change?</a>.</p>\n\n<p>I'm wrapping a perl script execution in a C program that uses execvp to call the perl.  Because taint mode is enabled, @INC will not be loaded with the content of $PERL5LIB, so I have pass the paths to the perl executable using \"-I\".  perlsec says this is possible (ref the answer provided by mob in the note sited above).  </p>\n\n<p>My attempts to do this have failed.  My C program attempted to run the perl executable as the first arg to execvp and then the perl script as part of the argument list.  The includes were made part of the perl script executable statement.  Here's the example...</p>\n\n<pre><code>#include &lt;unistd.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n\nint main(int argc, char *argv[])\n{\n  char **args;  /*args will be passed to execvp.  prepend perl executable*/\n\n  args=malloc(3*sizeof(char*));\n\n  args[0]=malloc(sizeof(\"/tools/bin/perl -I/proj/perlmods\")+1);\n  strcpy(args[0],\"/tools/bin/perl -I/proj/perlmods\");\n\n  args[1]=malloc(sizeof(\"/home/me/the.pl\")+1);\n  strcpy(args[1],\"/home/me/the.pl\");\n\n  args[2]=NULL;\n\n  execvp(\"/tools/bin/perl\",args);\n\n}\n</code></pre>\n\n<p>The perl script is simply...</p>\n\n<pre><code>use html_mail;\nprint \"In my.pl\\n\";\nexit;\n</code></pre>\n\n<p>/proj/perlmods has html_mail.pm</p>\n\n<p>A straight out perl execution at the linux prompt using -I works...</p>\n\n<pre><code>% /tools/bin/perl -I /proj/perlmods /home/me/my.pl\nIn my.pl\n</code></pre>\n\n<p>But running the C binary does not.  It complains that the perl module can't be found.  If, however, /proj/perlmods is put in PERL5LIB, then it does work.  So I think args is good as far as the perl script being in args[1].  </p>\n\n<p>I believe the include statement I threw into args is being ignored.  If I stick it as a suffix to the perl executable call in the execvp...</p>\n\n<pre><code>  execvp(\"/tools/bin/perl -I /proj/perlmods\",args);\n</code></pre>\n\n<p>...the C program fails, so I don't think it belongs there.  If I put the include as part of the perl script call....</p>\n\n<pre><code>  strcpy(args[1],\"/home/me/the.pl -I /proj/perlmods\");\n</code></pre>\n\n<p>... it fails.  If I add it as a new element of args (args[3]), it just gets passed as an arg to the perl script and has no affect.</p>\n\n<p>I looked at execvpe, but that just looks like a means to set env vars.</p>\n\n<p>Question is, how does one actually pass the include information to the execvp ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522184691, "post_id": 49522168, "comment_id": 86050663, "body": "You dumped the contents of <code>@column</code>, but you seem to have ignored the output because it identifies the problem."}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522184824, "post_id": 49522168, "comment_id": 86050727, "body": "I used,   use strict; use warnings qw( all ); Just didn&#39;t pasted it here."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1522185102, "post_id": 49522168, "comment_id": 86050845, "body": "<code>map {s&#47;=&#47; &#47;g;} $data ;</code> is one of the craziest ways of doing <code>$data =~ s&#47;=&#47; &#47;g;</code> I&#39;ve seen so far. Even <code>s&#47;=&#47; &#47;g for $data;</code> would&#39;ve been less WTFy."}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1522186140, "post_id": 49522168, "comment_id": 86051312, "body": "what error does it gives you ? I am able to compile it on my end. I have used some libraries (INFO) which you may not have imported. I posted the code which I actually ran only.  I"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522210862, "post_id": 49522168, "comment_id": 86057788, "body": "Tip: Don&#39;t use global variables. <code>open(FILE, ...)</code> should be <code>open(my $FILE, ...)</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522210911, "post_id": 49522168, "comment_id": 86057801, "body": "Tip: Don&#39;t pass one path to <code>open</code> (<code>&quot;$RESULTS_FILE&#47;$ASSIGNMENT_MESSAGE_OUTPUT&quot;</code>) and use a different path (<code>$ASSIGNMENT_MESSAGE_OUTPUT</code>) in the error message."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522210951, "post_id": 49522168, "comment_id": 86057808, "body": "Tip: Include the reason <code>open</code> failed (<code>$!</code>) in the error message."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522211035, "post_id": 49522168, "comment_id": 86057834, "body": "Tip: You use <code>use strict;</code> to force Perl to make you declare your variables (good), but then you go and declare all the variables at the top of the program (awful). The whole point of declaring variable is to limit their scope to where they are needed. Declare them where they need to be declared, not sooner."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522211150, "post_id": 49522168, "comment_id": 86057866, "body": "Tip: What&#39;s the point of turning on warnings and dumping the contents of variable if you ignore both?"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1522184928, "creation_date": 1522184928, "answer_id": 49522430, "question_id": 49522168, "link": "https://stackoverflow.com/questions/49522168/parsing-a-large-file-in-perl/49522430#49522430", "title": "Parsing a large file in perl", "body": "<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %mp_demand_by_mrule;\n\nwhile (&lt;DATA&gt;) {\n    next unless /mrule/;\n    my %record = split(/[=\\s]+/);\n    push(@{$mp_demand_by_mrule{$record{mrule}}}, $record{mp_demand});\n}\n\nprint Dumper(\\%mp_demand_by_mrule);\n\n__DATA__\nra_uuid: 592bbb0c-2c6b-11e8-8580-00e081ea0e98\ncms_uuid: a4e6bffc-2c6a-11e8-a7cf-00e081ea0e8e\nmpd_uuid: bf3fd34c-2c57-11e8-8bc5-00e081ea0e5c\namLeader: 0\nnumAssignments = 20909996\nmpg=1 mrule=140 reg=7989 score=10625 rank=0 perc=100 mp_demand=40\nmpg=2 mrule=140 reg=7989 score=10625 rank=0 perc=100 mp_demand=50\nmpg=1 mrule=140 reg=7989 score=10625 rank=0 perc=100 mp_demand=100\nmpg=2 mrule=140 reg=7989 score=10625 rank=0 perc=100 mp_demand=40\nmpg=3 mrule=150 reg=7989 score=0 rank=0 perc=100 mp_demand=20\nmpg=4 mrule=150 reg=7989 score=10625 rank=0 perc=100 mp_demand=40\nmpg=3 mrule=150 reg=7989 score=0 rank=0 perc=100 mp_demand=20\nmpg=4 mrule=150 reg=7989 score=10625 rank=0 perc=100 mp_demand=40\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          '140' =&gt; [\n                     '40',\n                     '50',\n                     '100',\n                     '40'\n                   ],\n          '150' =&gt; [\n                     '20',\n                     '40',\n                     '20',\n                     '40'\n                   ]\n        };\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 49522430, "answer_count": 1, "score": -4, "last_activity_date": 1522210709, "creation_date": 1522183766, "last_edit_date": 1522210709, "question_id": 49522168, "link": "https://stackoverflow.com/questions/49522168/parsing-a-large-file-in-perl", "title": "Parsing a large file in perl", "body": "<p>I have a large file, over 1GB and I want to parse it by two values in it and make a hash of array references. </p>\n\n<p>The following is a sampling of the file:</p>\n\n<pre><code>ra_uuid: 592bbb0c-2c6b-11e8-8580-00e081ea0e98\ncms_uuid: a4e6bffc-2c6a-11e8-a7cf-00e081ea0e8e\nmpd_uuid: bf3fd34c-2c57-11e8-8bc5-00e081ea0e5c\namLeader: 0\nnumAssignments = 20909996\nmpg=1 mrule=140 reg=7989 score=10625 rank=0 perc=100 mp_demand=40\nmpg=2 mrule=140 reg=7989 score=10625 rank=0 perc=100 mp_demand=50\nmpg=1 mrule=140 reg=7989 score=10625 rank=0 perc=100 mp_demand=100\nmpg=2 mrule=140 reg=7989 score=10625 rank=0 perc=100 mp_demand=40\nmpg=3 mrule=150 reg=7989 score=0 rank=0 perc=100 mp_demand=20\nmpg=4 mrule=150 reg=7989 score=10625 rank=0 perc=100 mp_demand=40\nmpg=3 mrule=150 reg=7989 score=0 rank=0 perc=100 mp_demand=20\nmpg=4 mrule=150 reg=7989 score=10625 rank=0 perc=100 mp_demand=40\n</code></pre>\n\n<p>So I want to get all the values for the field <code>mrule</code> as a key for the hash and all the values corresponding to its <code>mp_demand</code> in a array reference. </p>\n\n<p>The following is the output I desire for the above sample:</p>\n\n<pre><code>{\n    '140' =&gt; [40,50,100,40],\n    '150' =&gt; [20,40,20,40]\n}\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper qw( Dumper );\n\nmy @bigarray;\nmy %hash;\nmy $hash_ref;\nmy @column;\nmy $key;\nmy $value;\n\nopen(FILE, \"&lt;\", \"$RESULTS_FILE/$ASSIGNMENT_MESSAGE_OUTPUT\") or die(\"Could not open $ASSIGNMENT_MESSAGE_OUTPUT to read\");\n\nwhile(my $data = &lt;FILE&gt;){\n    map {s/=/ /g;} $data;\n    @column = split(/\\t/, $data);\n    print(\"the column is \". Dumper(\\@column));\n    $key = $column[3];\n    $value = $column[13];\n    $hash{$key} = $value ;\n}\n\n$hash_ref = \\%hash ;\npush(@bigarray, $hash_ref);\nprint(\"the hash is \". Dumper($hash_ref));\nprint(\"the demand array is \". Dumper(\\@bigarray));\n</code></pre>\n\n<p>It produces the following output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>the column is $VAR1 = [\n          'ra_uuid: 592bbb0c-2c6b-11e8-8580-00e081ea0e98\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 1.\nthe column is $VAR1 = [\n          'cms_uuid: a4e6bffc-2c6a-11e8-a7cf-00e081ea0e8e\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 2.\nthe column is $VAR1 = [\n          'mpd_uuid: bf3fd34c-2c57-11e8-8bc5-00e081ea0e5c\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 3.\nthe column is $VAR1 = [\n          'amLeader: 0\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 4.\nthe column is $VAR1 = [\n          'numAssignments   20909996\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 5.\nthe column is $VAR1 = [\n          'mpg 1 mrule 140 reg 7989 score 10625 rank 0 perc 100 mp_demand 40\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 6.\nthe column is $VAR1 = [\n          'mpg 2 mrule 140 reg 7989 score 10625 rank 0 perc 100 mp_demand 50\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 7.\nthe column is $VAR1 = [\n          'mpg 1 mrule 140 reg 7989 score 10625 rank 0 perc 100 mp_demand 100\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 8.\nthe column is $VAR1 = [\n          'mpg 2 mrule 140 reg 7989 score 10625 rank 0 perc 100 mp_demand 40\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 9.\nthe column is $VAR1 = [\n          'mpg 3 mrule 150 reg 7989 score 0 rank 0 perc 100 mp_demand 20\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 10.\nthe column is $VAR1 = [\n          'mpg 4 mrule 150 reg 7989 score 10625 rank 0 perc 100 mp_demand 40\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 11.\nthe column is $VAR1 = [\n          'mpg 3 mrule 150 reg 7989 score 0 rank 0 perc 100 mp_demand 20\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 12.\nthe column is $VAR1 = [\n          'mpg 4 mrule 150 reg 7989 score 10625 rank 0 perc 100 mp_demand 40\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 13.\nthe column is $VAR1 = [\n          '\n'\n        ];\nUse of uninitialized value $key in hash element at a.pl line 19, &lt;FILE&gt; line 14.\nthe hash is $VAR1 = {\n          '' =&gt; undef\n        };\nthe demand array is $VAR1 = [\n          {\n            '' =&gt; undef\n          }\n        ];\n</code></pre>\n"}, {"tags": ["c", "linux", "perl", "permissions"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522174290, "post_id": 49516416, "comment_id": 86044992, "body": "Do you really need <i>eighty-seven</i> locations in <code>@INC</code>? That&#39;s a hell of a lot and the build is going to be very inefficient."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522182803, "post_id": 49516416, "comment_id": 86049765, "body": "Don&#39;t use a wrapper like in the linked answer! That&#39;s crazy dangerous!!! Set the setuid/setgid bit on the script itself instead. (Alternate method 1 mentioned in the linked answer)"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1522183054, "post_id": 49517074, "comment_id": 86049884, "body": "@daveg, You should have someone review your code for insecurities; you&#39;re skirting with multiple major security violations. For starters, mob forgot to mention the directories in <code>@INC</code> and the files in those directories should only be writable by the impersonated user."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 8, "last_activity_date": 1522165022, "creation_date": 1522165022, "answer_id": 49517074, "question_id": 49516416, "link": "https://stackoverflow.com/questions/49516416/why-does-inc-change-when-setgid-bit-of-c-wrapper-around-perl-script-change/49517074#49517074", "title": "Why does @INC change when setgid-bit of C wrapper around perl script change?", "body": "<p>A setuid perl script is run in taint mode, and <a href=\"https://metacpan.org/pod/perlsec#Taint-mode-and-@INC\" rel=\"noreferrer\">perlsec</a> says:</p>\n\n<blockquote>\n  <p>When the taint mode (\"<code>-T</code>\") is in effect, <strong>the \"<code>.</code>\" directory is removed\n         from <code>@INC</code>, and the environment variables \"<code>PERL5LIB</code>\" and \"<code>PERLLIB</code>\" are\n         ignored by Perl</strong>. You can still adjust <code>@INC</code> from outside the program by\n         using the \"<code>-I</code>\" command line option as explained in <code>perlrun</code>. The two\n         environment variables are ignored because they are obscured, and a user\n         running a program could be unaware that they are set, whereas the \"<code>-I</code>\"\n         option is clearly visible and therefore permitted.</p>\n</blockquote>\n\n<p>If you cannot adjust <code>@INC</code> inside the program (say, with <code>use lib ...</code>), you will want to rewrite your C program to call the <code>perl</code> executable instead of your script name, and to prepend <code>argv</code> with your script name and any appropriate <code>-I...</code> arguments that you want to use.</p>\n"}], "owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1522182461, "creation_date": 1522163050, "last_edit_date": 1522182461, "question_id": 49516416, "link": "https://stackoverflow.com/questions/49516416/why-does-inc-change-when-setgid-bit-of-c-wrapper-around-perl-script-change", "title": "Why does @INC change when setgid-bit of C wrapper around perl script change?", "body": "<p>This is all on RHEL6</p>\n\n<p>I am trying to run a perl script as a specific user (owner of the perl script) by wrapping it inside a C binary and then setting the setgid bit of the binary (ref: <a href=\"https://superuser.com/questions/440363/can-i-make-a-script-always-execute-as-root\">https://superuser.com/questions/440363/can-i-make-a-script-always-execute-as-root</a>). The perl script uses various perl modules.  If the perl modules are in PERL5LIB of the account trying to run the C binary, and the setgid-bit is NOT set on the C binary, it runs fine.  If the setgid-bit IS set, then it fails because the used perl modules are not in @INC.  </p>\n\n<p>Some code to demo how @INC changes with the sticky bit...</p>\n\n<p>the.pl</p>\n\n<pre><code>#!/usr/bin/env perl\nprint \"Size of INC: \".scalar(@INC).\"\\n\";\nexit;\n</code></pre>\n\n<p>wrapper.c</p>\n\n<pre><code>#include &lt;unistd.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main(int argc, char *argv[])\n{\n  exit(execvp(\"/home/me/the.pl\",(char **)argv));\n}\n</code></pre>\n\n<p>The perl script permissions are -rwxrwxr-x</p>\n\n<p>When I set the wrapper's permissions to -rwxr-xr-x (note the setgid bit is not set), then run the binary from some other account, I get...</p>\n\n<pre><code>Size of INC = 87\n</code></pre>\n\n<p>...which is what I would expect (there are 87 elements in PERL5LIB).</p>\n\n<p>But when I set the wrapper's permissions to -rwxr-sr-x (note the setgid bit is set), then run the binary from some other account, I get...</p>\n\n<pre><code>Size of INC = 4\n</code></pre>\n\n<p>I get the same results even if I load PERL5LIB with all 87 elements in the .cshrc of both the perl script's owner and that of the account that's running the wrapper.</p>\n\n<p>I need to run the binary as the owner of the perl script because that account has a priv that the user's accounts don't have.  The root user is not a player in any of this.</p>\n\n<p>Why am I losing those PERL5LIB elements?\nIs there a way I can get around this ?</p>\n\n<p>Thanks in Advance!</p>\n"}, {"tags": ["arrays", "perl", "automation"], "comments": [{"owner": {"reputation": 2599, "user_id": 2730399, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/55f1223c407a8d06c677fec00c1ed32e?s=128&d=identicon&r=PG", "display_name": "Azsgy", "link": "https://stackoverflow.com/users/2730399/azsgy"}, "edited": false, "score": 0, "creation_date": 1522156474, "post_id": 49513613, "comment_id": 86032417, "body": "does the &quot;diff&quot; shell command do what you want?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1522157908, "post_id": 49513613, "comment_id": 86033626, "body": "With the code you have shown us, you produce a syntax error for <code>@array</code> and a one-element array that contains a hash reference for <code>@array1</code>."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1522158054, "post_id": 49513919, "comment_id": 86033749, "body": "Neither <code>()</code> nor <code>[]</code> define an array. The <code>@</code> sigil tells Perl that a variable is an array. The <code>()</code> is the list constructor, and in <i>list context</i> the list will be assigned to the array. <code>[]</code> constructs an <i>array reference</i>, which in list context will be treated as a one-element list and thus if you assign that to an array, you will end up with a one element array like <code>@foo = ( [ 1, 2, 3 ] )</code>. The OP is using <code>{}</code>, which constructs a hash reference, and works the same way, but since one of the two has an uneven number of elements, it will error out."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522158167, "post_id": 49513919, "comment_id": 86033845, "body": "Your approach is fine, though, but for the wrong comparison operator. Since it&#39;s only numbers, use <code>==</code> and not <code>eq</code>. But you should always <code>use strict</code> and <code>use warnings</code> in all programs, especially when you write answers here for other people to find later. We want these people to learn things properly after all. :)"}, {"owner": {"reputation": 162, "user_id": 9555953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95ad33f64777f5592b0dc9b9da6cc67?s=128&d=identicon&r=PG", "display_name": "Nothing Mi", "link": "https://stackoverflow.com/users/9555953/nothing-mi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522158211, "post_id": 49513919, "comment_id": 86033881, "body": "@simbabque you are right! thanks for your reply!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1522158268, "post_id": 49513919, "comment_id": 86033933, "body": "Feel free to <a href=\"https://stackoverflow.com/posts/49513919/edit\">edit</a> your answer. You can use my comment in your answer if you want."}], "tags": [], "owner": {"reputation": 162, "user_id": 9555953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95ad33f64777f5592b0dc9b9da6cc67?s=128&d=identicon&r=PG", "display_name": "Nothing Mi", "link": "https://stackoverflow.com/users/9555953/nothing-mi"}, "is_accepted": true, "score": 1, "last_activity_date": 1522159072, "last_edit_date": 1522159072, "creation_date": 1522156589, "answer_id": 49513919, "question_id": 49513613, "link": "https://stackoverflow.com/questions/49513613/comparing-two-files-in-perl/49513919#49513919", "title": "Comparing two files in perl", "body": "<p>the code maybe looks like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @array = ('1','2','3','5','6');\nmy @array2 = ('1', '3', '7', '6');\n\nfor my $item(@array2)\n{\n    if (grep($_ == $item, @array) &gt; 0)\n    {\n         print \"$item, Match\\n\";\n    }\n    else\n    {\n        print \"$item, Not Match\\n\";\n    }\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>1, Match\n3, Match\n7, Not Match\n6, Match\n</code></pre>\n\n<p>PS: reference from a comment by @simbabque</p>\n\n<blockquote>\n  <p>The <code>@</code> sigil tells Perl that a variable is an array. The <code>()</code> is the list constructor, and in list context the list will be assigned to the array. <code>[]</code> constructs an array reference, which in list context will be treated as a one-element list and thus if you assign that to an array, you will end up with a one element array like <code>@foo = ( [ 1, 2, 3 ] )</code>. The OP is using <code>{}</code>, which constructs a hash reference, and works the same way, but since one of the two has an uneven number of elements, it will error out. </p>\n</blockquote>\n"}], "owner": {"reputation": 7, "user_id": 9558227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Yi2hrHHe3Xw/AAAAAAAAAAI/AAAAAAAAA94/vLM31AHfU-E/photo.jpg?sz=128", "display_name": "Naveen Francis Bara", "link": "https://stackoverflow.com/users/9558227/naveen-francis-bara"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1522159294, "accepted_answer_id": 49513919, "answer_count": 1, "score": -5, "last_activity_date": 1522159072, "creation_date": 1522155736, "last_edit_date": 1522158210, "question_id": 49513613, "link": "https://stackoverflow.com/questions/49513613/comparing-two-files-in-perl", "closed_reason": "Not suitable for this site", "title": "Comparing two files in perl", "body": "<p>I'm writing a Perl script where I need to compare two files.\nFor example :-</p>\n\n<p>I've two arrays</p>\n\n<pre><code>@array  = {'1', '2',' 3', '5', '6'}\n@array1 = {'1', '3', '7', '6'}\n</code></pre>\n\n<p>I want values of <code>@array</code> to look into <code>@array1</code> and if that value is present in 2nd array it should print match.</p>\n\n<p>Output should look like this :</p>\n\n<pre><code>1,Match\n\n3,Match\n\n7,Not Match\n\n6.Match\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1522153245, "post_id": 49512657, "comment_id": 86029938, "body": "&quot;by the Perl script&quot; \u2014 What Perl script? Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 1, "creation_date": 1522154831, "post_id": 49512657, "comment_id": 86031132, "body": "Thanks to <b>indent properly</b> your code."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1522154956, "post_id": 49512657, "comment_id": 86031223, "body": "And <b>need the expected output</b> as already said in fisrt comment"}, {"owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "edited": false, "score": 2, "creation_date": 1522155347, "post_id": 49512657, "comment_id": 86031529, "body": "I have never used Perl on Windows, but note that you are reading the file line by line -- this means the input record seperator matters. I would guess that the files use different line separators and that&#39;s why it isn&#39;t working."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522155866, "post_id": 49512657, "comment_id": 86031919, "body": "Your script does not really do much. It just reads the file line by line and outputs filenames in front of lines that contain a certain letter combination, and discards the others. There is no difference between the two files that should be relevant besides the line endings. You say you&#39;re on Windows, so that would be it. Note that you <code>&#47;n</code> pattern modifier is superfluous and that the patterns should probably start with <code>^</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522156190, "post_id": 49512657, "comment_id": 86032179, "body": "@simbabque: There&#39;s no way I can see that the line endings can affect the result of this. The only difference is that Windows-based files read on a Linux platform will have a spurious CR before the terminating LF."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522156249, "post_id": 49512657, "comment_id": 86032238, "body": "What do you mean by <i>&quot;This format is being ignored&quot;</i>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522156263, "post_id": 49512657, "comment_id": 86032249, "body": "@Borodin what if it tries to terminate on <code>CRLF</code> and can&#39;t find it?"}, {"owner": {"reputation": 27, "user_id": 8477211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04e9d6da56a9fba1d331a7cdbb1834f?s=128&d=identicon&r=PG&f=1", "display_name": "normbeef", "link": "https://stackoverflow.com/users/8477211/normbeef"}, "edited": false, "score": 0, "creation_date": 1522156346, "post_id": 49512657, "comment_id": 86032315, "body": "Hi,   I have now got to the bottom of this annoying issue..  I am using PLINK from powershell on a windows server to get the files.  when using the CMD prompt on the same machine it&#39;s producing files that do not have the issue.   so it seem to be some kind of encoding issue when using powershell."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522156414, "post_id": 49512657, "comment_id": 86032375, "body": "@simbabque: Standard PerlIO always terminates on LF by default. (The value of <code>$&#47;</code>). The <code>:crlf</code> layer is used on Windows to convert CR LF to LF before the data is scanned by <code>readline</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522156739, "post_id": 49512657, "comment_id": 86032650, "body": "@normbeef: Can you examine a hex dump of the two files? I know that Windows sometimes uses UTF-16 encoding, which would explain the problem, but I am surprised that it differs between <code>cmd</code> and <code>powershell</code>. I&#39;m not in a position to test at present. Comparing the sizes of the two files would help: if one is about twice the size of the other then it has UTF-16 encoding."}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1522222910, "post_id": 49512657, "comment_id": 86063104, "body": "You say &quot;it&#39;s as if the file is not being picked up&quot;. Maybe that&#39;s the case. Use perl -d for debugging the script to check that, or just print the name of the file that it&#39;s being read before opening it. Also, you don&#39;t need the <a href=\"https://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\"><code>n</code> switch, which is used to prevent parentheses from capturing</a>. Some other things: you don&#39;t need the quotes around <code>$file</code>, the four lines in the regular expression can go into just one <code>&#47;(Fa&#47;Fi&#47;Ge&#47;TE)&#47;</code> (and in this case, you might use the <code>n</code> switcth), and it&#39;s better if you add <code>use strict</code> at the beginning."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1522157875, "creation_date": 1522157875, "answer_id": 49514437, "question_id": 49512657, "link": "https://stackoverflow.com/questions/49512657/file-format-issues-with-perl-script/49514437#49514437", "title": "File format issues with Perl script", "body": "<p>The problem is that, by default, Windows PowerShell generates UTF-16LE output, which means that each character occupies two bytes instead of one</p>\n\n<p>Since you are not decoding this, the regexes aren't matching so nothing is printed</p>\n\n<p>Take a look at <a href=\"https://mohitgoyal.co/2017/03/03/understanding-default-encoding-and-change-the-same-in-powershell/\" rel=\"nofollow noreferrer\"><em>Understanding default encoding and Change the same in PowerShell</em></a></p>\n\n<p>It should work better if you change <code>open(FILE, \"$file\")</code> to <code>open(FILE, '&lt;:encoding(UTF-16)', $file)</code> for the PowerShell output (the original quotes are superfluous). Note that there is also an initial BOM character which you may need to remove</p>\n"}], "owner": {"reputation": 27, "user_id": 8477211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04e9d6da56a9fba1d331a7cdbb1834f?s=128&d=identicon&r=PG&f=1", "display_name": "normbeef", "link": "https://stackoverflow.com/users/8477211/normbeef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1522157875, "creation_date": 1522153100, "last_edit_date": 1522155933, "question_id": 49512657, "link": "https://stackoverflow.com/questions/49512657/file-format-issues-with-perl-script", "title": "File format issues with Perl script", "body": "\n\n<p>I am having issues running a Perl script against some text files that we have been getting from Cisco switches. It seems that, depending on the method we use to get the information from the switch, the file has a different format that is either parsed correctly or ignored by the Perl script.  </p>\n\n<p>I'm not sure how to show the format on the question </p>\n\n<p>This format is being ignored: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Load for five secs: 32%/0%; one minute: 14%; five minutes: 13%\nTime source is NTP, 11:32:05.154 BST Tue Mar 27 2018\nFa0/1         1059225247       10607505            308           4511 \nFa0/13         266860396        1052489          79896              6 \nGi0/1       173770642844       20858446      958514311      452445559 \nGi0/2       161741166272       11443033     1056101155      429442472 \nPo6         335511809116       32301479     2014615466      881888031 \nFa0/1         1874849888       10258324        1643899        2235298 \nFa0/13        1146650530        1515709        1754689        9028035 \nGi0/1         1152699582       10607505         206750           4483 \nGi0/2          818776784        3355128         206663           4690 \nPo6           1971476366       13962633         413413           9173 \n</code></pre>\n\n<p>This format works fine</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Load for five secs: 8%/0%; one minute: 13%; five minutes: 14%\nTime source is NTP, .11:00:56.345 GMT Mon Feb 26 2018\n\nPort            InOctets    InUcastPkts    InMcastPkts    InBcastPkts \nFa0/1        12479523313       18114137          73428              7 \nFa0/2                  0              0              0              0 \nFa0/3                  0              0              0              0 \nFa0/4       133519690294      108839334          51277              0 \nFa0/5                  0              0              0              0 \nFa0/6        53741520430       53710739          51253              0 \nFa0/7        41441297607       48481526          51268              0 \nFa0/8       135436414967      109360255          51179              0 \nFa0/9                  0              0              0              0 \nFa0/10       15777946932       28964665          92027              7 \nFa0/11       18242079587       37105281          92028              8 \nFa0/12           6957880          94578              2             21 \nFa0/13          14966233         195958              2             20 \nFa0/14           6383951          87892              2             23 \nFa0/15          99056361         626574              8             35 \nFa0/16         534303664        1033306              8             36 \nFa0/17          99952212         629958              8             36 \nFa0/18         518959271        1027977              8             36 \nFa0/19      399717840577      296105605       17969848              0 \nFa0/20                 0              0              0              0 \nFa0/21                 0              0              0              0 \nFa0/22         796038075        4653515          14895          24243 \nFa0/23          81876696         212575          92046             13 \nFa0/24                 0              0              0              0 \nGi0/1       712152233997      245342838     1214298205      700443702 \nGi0/2        41503317082        8378680       78384491      326407250 \n</code></pre>\n\n<p>This is the script I use; It works perfectly for what I need. I pasted the non-working text into a \"working file\" and that worked, so it's almost as if the file is not being picked up.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/perl/bin/perl\n\nuse warnings;\n\nmy @files = &lt;c:/perl64/SOUTH/*&gt;;\n\nforeach $file ( @files ) {\n\n    open(FILE, \"$file\");\n\n    while ( $line = &lt;FILE&gt; ) {\n\n        print \"$file $line\" if $line =~ /Fa/n;\n        print \"$file $line\" if $line =~ /Gi/n;\n        print \"$file $line\" if $line =~ /Te/n;\n        print \"$file $line\" if $line =~ /GE/n;\n    }\n\n    close FILE; \n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1522142080, "post_id": 49507556, "comment_id": 86021754, "body": "<code>print ORA &lt;STDIN&gt;</code> perhaps?  Why not just open the adminclient directly and interact with it normally?"}, {"owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522145844, "post_id": 49507556, "comment_id": 86024563, "body": "Hi, Actually we dont want to enter long connect string everytime while work with adminclient CLI, like &#39;connect http//&lt;SERVER_NAME&gt;:&lt;PORT&gt; as  &lt;USER_NAME&gt; password &lt;PASSWORD&gt; .. SO want to make small auto connect script which jump directly into it.."}, {"owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522145968, "post_id": 49507556, "comment_id": 86024653, "body": "I found system(&#39;adminclient&#39;,&#39;-hold&#39;,&#39;-e&#39;) works..means it keep adminclient CLI open..  but don&#39;t know how to pass STDIN (Atlest connect string) ?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522148051, "post_id": 49507556, "comment_id": 86026097, "body": "why not just write a bash wrapper script that you call instead of adminclient"}, {"owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522153879, "post_id": 49507556, "comment_id": 86030413, "body": "Hi, well Im not quite sure how to achieve it with bash wrapper.. I tried by simply put like as below.. but it doesn&#39;t solve my purpose.."}, {"owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522153989, "post_id": 49507556, "comment_id": 86030481, "body": "test.sh -- exec adminclient  and in Perl script, open(MESSAGE, &quot;| ./test.sh |&quot;) or die(&quot;adminclient failed\\n&quot;); print MESSAGE &quot;connect http://&lt;server_name&gt;:9000 as oggadmin password xxxxxx\\ninfo all\\n&quot;; close(MESSAGE); It simply executed and come out to shell prompt.."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522155824, "post_id": 49507556, "comment_id": 86031879, "body": "No, I mean, skip the perl script, just write a bash script which starts up adminclient with the right parameters."}, {"owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522158508, "post_id": 49507556, "comment_id": 86034128, "body": "I tried it first.. But i soon found its not possible with  my limited knowledge of bash script.."}, {"owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522158661, "post_id": 49507556, "comment_id": 86034258, "body": "It also not allowed me to stay at adminclient CLI, after connecting..  connect=&quot;connect http://&lt;SERVER_NAME&gt;:9000 as oggadmin password xxxxxx&quot; adminclient &lt;&lt; EOF $connect info all EOF"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "edited": false, "score": 0, "creation_date": 1522220581, "post_id": 49514748, "comment_id": 86061640, "body": "Hi, I tried but it still not work.. it simply hang.. I mean it even donot show me adminclient prompt.. ------------ open ORA, &quot;| adminclient&quot; or die &quot;Can&#39;t pipe to adminclient: $!&quot;; print ORA &quot;connect http://&lt;SERVER_NAME&gt;:&lt;PORT&gt; as oggadmin password &lt;PASSWORD&gt;\\n&quot;; print ORA &quot;info all&quot;; print ORA $_ while &lt;STDIN&gt;; close(ORA); ---------------"}, {"owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "edited": false, "score": 0, "creation_date": 1522220643, "post_id": 49514748, "comment_id": 86061676, "body": "-bash-4.1$ perl call_final.pl  Oracle GoldenGate Administration Client for Oracle Version 12.3.0.1.2 OGGCORE_12.3.0.1.0_PLATFORMS_171208.0005  Copyright (C) 1995, 2017, Oracle and/or its affiliates. All rights reserved.  Linux, x64, 64bit (optimized) on Dec  8 2017 07:43:27 Operating system character set identified as UTF-8."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "edited": false, "score": 0, "creation_date": 1522232252, "post_id": 49514748, "comment_id": 86069777, "body": "It won&#39;t show the prompt, but should pass on commands that you type."}, {"owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "edited": false, "score": 0, "creation_date": 1522243483, "post_id": 49514748, "comment_id": 86078012, "body": "Hi, well i tried it as well.. but it wont pass commands to adminclient prompt.. whatever I type... I need to Ctrl+c to comeout from this  ^C -bash-4.1$ OGG (not connected) 1&gt;"}, {"owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "edited": false, "score": 0, "creation_date": 1522243674, "post_id": 49514748, "comment_id": 86078167, "body": "OGG (not connected) 1&gt;  ..... This is adminclient prompt...but it simply show here after existing with Ctrl+C.."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1522158617, "creation_date": 1522158617, "answer_id": 49514748, "question_id": 49507556, "link": "https://stackoverflow.com/questions/49507556/how-to-open-a-command-line-application-and-leave-it-open-to-accept-keyboard-inpu/49514748#49514748", "title": "How to open a command-line application and leave it open to accept keyboard input", "body": "<p>You're most of the way to having a Perl wrapper for <code>adminclient</code>. Just add</p>\n\n<pre><code>print ORA $_ while &lt;STDIN&gt;\n</code></pre>\n\n<p>before the <code>close</code> and your Perl program will accept and pass on commands from the keyboard</p>\n"}], "owner": {"reputation": 1, "user_id": 9556808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chirag", "link": "https://stackoverflow.com/users/9556808/chirag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1522159982, "creation_date": 1522138126, "last_edit_date": 1522159982, "question_id": 49507556, "link": "https://stackoverflow.com/questions/49507556/how-to-open-a-command-line-application-and-leave-it-open-to-accept-keyboard-inpu", "title": "How to open a command-line application and leave it open to accept keyboard input", "body": "<p>Is it possible to open a third-party command line through Perl, execute a few commands through it, and then leave it open to accept more commands from the keyboard?</p>\n\n<p>We have 'adminclient' CLI program from Oracle. I want to execute the <code>connect</code> command through <code>adminclient</code> and then leave it to accept more manual commands.</p>\n\n<p>I used,</p>\n\n<pre><code>open ORA, \"| adminclient\" or die \"Can't pipe to adminclient: $!\";\nprint ORA \"connect http://xyz:9000 as oggadmin password xxxxxx\\n\";\nprint ORA \"info all\";\nclose(ORA);\n</code></pre>\n\n<p>This works, but it returns to the shell prompt once done. Here I want my <code>adminclient</code> program left open to accept more commands manually.</p>\n"}, {"tags": ["linux", "shell", "perl", "awk", "scripting"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1522137003, "post_id": 49507095, "comment_id": 86018422, "body": "Please wrap your samples in code tags and let us know on same then."}, {"owner": {"reputation": 187, "user_id": 9153621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16524bc3fd6f15b17877f5d04a326dc7?s=128&d=identicon&r=PG&f=1", "display_name": "as7951", "link": "https://stackoverflow.com/users/9153621/as7951"}, "reply_to_user": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1522137362, "post_id": 49507095, "comment_id": 86018637, "body": "Have done..Please check now"}, {"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 0, "creation_date": 1522139736, "post_id": 49507095, "comment_id": 86020169, "body": "What did you try so far?"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1522141993, "post_id": 49507095, "comment_id": 86021691, "body": "@as7951, please post expected output too in your post in code tags."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1522148027, "post_id": 49507095, "comment_id": 86026081, "body": "What have you tried? What problems are you having? Please show us your code."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 9153621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16524bc3fd6f15b17877f5d04a326dc7?s=128&d=identicon&r=PG&f=1", "display_name": "as7951", "link": "https://stackoverflow.com/users/9153621/as7951"}, "edited": false, "score": 0, "creation_date": 1522144658, "post_id": 49508361, "comment_id": 86023625, "body": "@kvantour..thank you very much.. i believe solution provided by you will run without any error.. May be i require your help for one more query..thanks a ton once again"}, {"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "reply_to_user": {"reputation": 187, "user_id": 9153621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16524bc3fd6f15b17877f5d04a326dc7?s=128&d=identicon&r=PG&f=1", "display_name": "as7951", "link": "https://stackoverflow.com/users/9153621/as7951"}, "edited": false, "score": 0, "creation_date": 1522144832, "post_id": 49508361, "comment_id": 86023773, "body": "@as7951 be aware that I assumed no empty lines in any file. You might have to add an extra check for that."}], "tags": [], "owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "is_accepted": false, "score": 0, "last_activity_date": 1522140677, "creation_date": 1522140677, "answer_id": 49508361, "question_id": 49507095, "link": "https://stackoverflow.com/questions/49507095/awk-to-check-if-value-of-column1-from-file-1-is-present-in-file2-and-update-fiel/49508361#49508361", "title": "Awk to check if value of column1 from file 1 is present in file2 and update field in another column", "body": "<p>As far as I understand you want to :</p>\n\n<ul>\n<li>If column 1 in file1 is in column 1 in file2, then replace column 2 in file1 with <code>EXPWT</code> if and only if column 2 in file2 is not <code>INR</code>.</li>\n</ul>\n\n<p>So the idea is to store <code>file2</code> in an array <code>a</code> indexed by <code>$1</code>. We do not store all values, but only then ones where <code>$2 != \"INR\"</code>. When <code>file2</code> is fully indexed, we can process <code>file1</code> by just checking if the key <code>$1</code> is in <code>a</code>. If so, you do the replace. This translates as:</p>\n\n<pre><code>awk '(NR==FNR)&amp;&amp;(FNR&gt;1)&amp;&amp;($2!=\"INR\") {a[$1]=1; next}\n     (FNR==1){print;next}\n     ($1 in a) { $2=\"EXPWT\" }\n     1' file2 file1\n</code></pre>\n\n<p>If you want to keep the spacing identical, you can replace <code>$2=\"EXPWT\"</code> by <code>sub($2,\"EXPWT\")</code></p>\n"}, {"comments": [{"owner": {"reputation": 347, "user_id": 8470034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6WTSQ.png?s=128&g=1", "display_name": "ZNZNZ", "link": "https://stackoverflow.com/users/8470034/znznz"}, "reply_to_user": {"reputation": 187, "user_id": 9153621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16524bc3fd6f15b17877f5d04a326dc7?s=128&d=identicon&r=PG&f=1", "display_name": "as7951", "link": "https://stackoverflow.com/users/9153621/as7951"}, "edited": false, "score": 0, "creation_date": 1522145089, "post_id": 49509700, "comment_id": 86023981, "body": "@as7951 btw, be careful of the another answer, it will print extra lines"}], "tags": [], "owner": {"reputation": 347, "user_id": 8470034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6WTSQ.png?s=128&g=1", "display_name": "ZNZNZ", "link": "https://stackoverflow.com/users/8470034/znznz"}, "is_accepted": true, "score": 1, "last_activity_date": 1522144779, "last_edit_date": 1522144779, "creation_date": 1522144330, "answer_id": 49509700, "question_id": 49507095, "link": "https://stackoverflow.com/questions/49507095/awk-to-check-if-value-of-column1-from-file-1-is-present-in-file2-and-update-fiel/49509700#49509700", "title": "Awk to check if value of column1 from file 1 is present in file2 and update field in another column", "body": "<pre><code>awk 'NR==FNR { if(FNR!=1&amp;&amp;$2!=\"INR\") arr[$1]=1; next}\n FNR!=1 &amp;&amp; $0 &amp;&amp; $1 in arr  { $2=\"EXPWT\" }\n 1;' file2 file1\n</code></pre>\n\n<p>result is</p>\n\n<pre><code>DocumentN   SupplyType\n\n262842964 EXPWT\n\nE08/1002/00798        TAX\n\nE08/1002/00816 EXPWT\n\nINDTR1117GSM1459      CAN\n\nINDTR1117GSM5530 EXPWT\n\n262852823             TAX\n</code></pre>\n\n<p>I assume you just want to update the 2nd fields of records in file1, where it has <code>non-IND</code> currency in file2, to <code>EXPWT</code></p>\n\n<p>$0 in <code>FNR!=1 &amp;&amp; $0 &amp;&amp; $1 in arr</code>, is to take consideration of empty lines</p>\n\n<p>as @kvantour answered you may use <code>sub($2,\"EXPWT\")</code> to retain the original field separator, but make sure the first field doesn't contain the string of second field</p>\n"}], "owner": {"reputation": 187, "user_id": 9153621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16524bc3fd6f15b17877f5d04a326dc7?s=128&d=identicon&r=PG&f=1", "display_name": "as7951", "link": "https://stackoverflow.com/users/9153621/as7951"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 49509700, "answer_count": 2, "score": 1, "last_activity_date": 1522144779, "creation_date": 1522136659, "last_edit_date": 1522137339, "question_id": 49507095, "link": "https://stackoverflow.com/questions/49507095/awk-to-check-if-value-of-column1-from-file-1-is-present-in-file2-and-update-fiel", "title": "Awk to check if value of column1 from file 1 is present in file2 and update field in another column", "body": "<p>Request your help.\nNeed to do the below task in linux with awk.\nI have two file.\nI need to check if any documentN(column1) value from file 1 is also present in file2 in column1(Billdoc) and if found, then corresponding to this BillDoc value in file 2, if we have Curr(column2) value as other than INR, then in file 1 need to replace supply type(column2) as EXPWT against that documentN value in file 1.</p>\n\n<p>For example we have value 262842964 in both file1 and file2 and against that value in file2 to we have Curr(column2) value as USD(which is NON INR). So i need to replace the column2(supplytype) value which is CAN in file 1 with EXPWT.</p>\n\n<p><strong>File 1</strong></p>\n\n<pre><code>DocumentN   SupplyType\n\n262842964          CAN\n\nE08/1002/00798        TAX\n\nE08/1002/00816        TAX\n\nINDTR1117GSM1459      CAN\n\nINDTR1117GSM5530      TAX\n\n262852823             TAX\n</code></pre>\n\n<p><strong>File 2</strong></p>\n\n<pre><code>BillDoc         Curr\n\n 262881626      INR \n\n 262881627      INR \n\n 262842964      USD\n\n 262881629      INR\n\n E08/1002/00816     USD\n\n INDTR1117GSM5530    USD\n</code></pre>\n"}, {"tags": ["perl", "hashref", "perl-hash"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1522137064, "creation_date": 1522137064, "answer_id": 49507210, "question_id": 49506888, "link": "https://stackoverflow.com/questions/49506888/merging-n-no-of-files-based-on-their-first-column-in-perl/49507210#49507210", "title": "Merging N no of files based on their first column in perl", "body": "<p>Just read the input files into a hash of arrays. The topmost key is the ID, each inner array contains the value for file <em>i</em> on the <em>i</em>-th position. When printing, use the <code>//</code> defined-or operator to replace <a href=\"http://p3rl.org/undef\" rel=\"nofollow noreferrer\">undef</a>s with zeroes:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy %merged;\n\nmy $file_tally = 0;\nwhile (my $file = shift) {\n    open my $in, '&lt;', $file or die \"$file: $!\";\n    &lt;$in&gt;;  # skip the header\n    while (&lt;$in&gt;) {\n        my ($id, $value) = split;\n        $merged{$id}[$file_tally] = $value;\n    }\n    ++$file_tally;\n}\n\nfor my $value (keys %merged) {\n    my @values = @{ $merged{$value} };\n    say join \"\\t\", $value, map $_ // 0, @values[0 .. $file_tally - 1];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1522153343, "creation_date": 1522153343, "answer_id": 49512735, "question_id": 49506888, "link": "https://stackoverflow.com/questions/49506888/merging-n-no-of-files-based-on-their-first-column-in-perl/49512735#49512735", "title": "Merging N no of files based on their first column in perl", "body": "<p>program.pl</p>\n\n<pre><code>my %val;\n/ (\\d+) \\s+ (\\d+) /x and $val{$1}{$ARGV} = $2 while &lt;&gt;;\npr( 'ID', my @f = sort keys %{{map%$_,values%val}} );\npr( $_, map$_//0, @{$val{$_}}{@f} ) for sort keys %val;\nsub pr{ print join(\"\\t\",@_).\"\\n\" }\n</code></pre>\n\n<p>Run:</p>\n\n<pre><code>perl program.pl s1.txt s2.txt\n\nID  s1.txt  s2.txt\n123 1   1\n211 0   4\n231 2   0\n312 0   3\n323 3   0\n541 7   6\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 49507210, "answer_count": 2, "score": 0, "last_activity_date": 1522153343, "creation_date": 1522136045, "last_edit_date": 1522136414, "question_id": 49506888, "link": "https://stackoverflow.com/questions/49506888/merging-n-no-of-files-based-on-their-first-column-in-perl", "title": "Merging N no of files based on their first column in perl", "body": "<p>My question is similar to this <a href=\"https://stackoverflow.com/questions/12377892/merging-two-files-based-on-first-column-and-returns-multiple-values-for-each-key\">question</a> posted earlier.</p>\n\n<p>I am having many files which I need to merge them based on the presence or absence of the first column ID, but while merging I am getting lots of empty values in my output file, I want those empty values to be zero if it is not present in another file. The example below is based on only two files content, but I have many sample files like this format (tabular).</p>\n\n<p>For example:</p>\n\n<pre><code>File1\nID   Value\n123  1\n231  2\n323  3\n541  7\nFile2\nID   Value\n541  6\n123  1\n312  3\n211  4\nExpected Output:\nID    File1    File2\n123    1       1\n231    2       0\n323    3       0\n541    7       6\n312    0       3\n211    0       4\n\nObtaining Output:\nID    File1    File2\n123    1       1\n231    2       \n323    3       \n541    7       6\n312    undef   3\n211    undef   4\n</code></pre>\n\n<p>As you can see above I am getting output but in file2 column, it's not adding zero or leaving empty and in case of file1 column it is having undef value. I have checked undef values and then my final output gives zeros in place of undef values but still I am having those empty spaces. Please find my code below (hardcoded only for two files).</p>\n\n<pre><code>    #!/usr/bin/perl\n    use strict;\n    use warnings;\n    use diagnostics;\n    use Data::Dumper;\n    my $path = \"/home/pranjay/Projects/test\";\n    my @files = (\"s1.txt\",\"s2.txt\");\n    my %classic_com;\n    my $cnt;\n    my $classic_txt;\n    my $sample_cnt = 0;\n    my $classic_txtcomb = \"test_classic.txt\";\n    open($classic_txt,\"&gt;$path/$classic_txtcomb\") or die \"Couldn't open file \n    $classic_txtcomb for writing,$!\";\n\n    print $classic_txt \"#ID\\t\".\"file1\\tfile2\\n\";\n\n    foreach my $file(@files){\n    $sample_cnt++;\n    print \"$sample_cnt\\n\";\n    open($cnt,\"&lt;$path/$file\")or die \"Couldn't open file $file for reading,$!\";\n    while(&lt;$cnt&gt;){\n\n            chomp($_);\n            my @count = ();\n            next if($_=~/^ID/);\n            my @record=();\n            @record=split(/\\t/,$_);\n            my $scnt = $sample_cnt -1;\n            if((exists($classic_com{$record[0]})) and ($sample_cnt &gt; 0)){\n                    ${$classic_com{$record[0]}}[$scnt]=$record[1];\n            }else{\n                    $count[$scnt] = \"$record[1]\";\n                    $classic_com{$record[0]}= [@count];\n            }\n        }\n    }\n\n\nmy %final_txt=();\n    foreach my $key ( keys %classic_com ) {\n            #print \"$key: \";\n            my @val = @{ $classic_com{$key} };\n            my @v;\n            foreach my $i ( @val ) {\n                    if(not defined($i)){\n                            $i = 0;\n                            push(@v, $i);\n                    }else{\n                            push(@v, $i);\n                            next;\n                    }\n            }\n            $final_txt{$key} = [@v];\n    }\n    #print Dumper %classic_com;\n    while(my($key,$value)=each(%final_txt)){\n            my $val=join(\"\\t\", @{$value});\n            print $classic_txt \"$key\\t\".\"@{$value}\".\"\\n\";\n    }\n</code></pre>\n"}, {"tags": ["python", "shell", "perl"], "comments": [{"owner": {"reputation": 6485, "user_id": 1116230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a894894150db28d6641f0c57e48bac?s=128&d=identicon&r=PG", "display_name": "Nico Haase", "link": "https://stackoverflow.com/users/1116230/nico-haase"}, "edited": false, "score": 1, "creation_date": 1522134929, "post_id": 49506507, "comment_id": 86017055, "body": "What do you mean by &quot;it&#39;s not giving anything&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 9388993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-_LGMOnyC-KY/AAAAAAAAAAI/AAAAAAAADF8/_sjkP7vlLB0/photo.jpg?sz=128", "display_name": "Aakash k.u.", "link": "https://stackoverflow.com/users/9388993/aakash-k-u"}, "edited": false, "score": 0, "creation_date": 1522142213, "post_id": 49506931, "comment_id": 86021830, "body": "How can i read some arguments from command line and pass as an input . For Ex : perl Hello.pl &lt;some variable name&gt;"}, {"owner": {"reputation": 2098, "user_id": 6632342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVUAp.jpg?s=128&g=1", "display_name": "Venkatesh Wadawadagi", "link": "https://stackoverflow.com/users/6632342/venkatesh-wadawadagi"}, "reply_to_user": {"reputation": 85, "user_id": 9388993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-_LGMOnyC-KY/AAAAAAAAAAI/AAAAAAAADF8/_sjkP7vlLB0/photo.jpg?sz=128", "display_name": "Aakash k.u.", "link": "https://stackoverflow.com/users/9388993/aakash-k-u"}, "edited": false, "score": 0, "creation_date": 1522144685, "post_id": 49506931, "comment_id": 86023653, "body": "@Aakashk.u: I&#39;ve edited the answer to include what you&#39;ve asked though it&#39;s &#39;out of the scope of the original question&#39; asked. Please &#39;mark answer as accepted&#39; if it served the purpose or helped you."}], "tags": [], "owner": {"reputation": 2098, "user_id": 6632342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVUAp.jpg?s=128&g=1", "display_name": "Venkatesh Wadawadagi", "link": "https://stackoverflow.com/users/6632342/venkatesh-wadawadagi"}, "is_accepted": false, "score": 2, "last_activity_date": 1522144395, "last_edit_date": 1522144395, "creation_date": 1522136195, "answer_id": 49506931, "question_id": 49506507, "link": "https://stackoverflow.com/questions/49506507/run-perl-command-in-python-file/49506931#49506931", "title": "run perl command in python file", "body": "<p>From <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate\" rel=\"nofollow noreferrer\">this</a> documentation for <code>communicate()</code>:</p>\n\n<blockquote>\n  <p>Interact with process: Send data to stdin. Read data from stdout and\n  stderr, until end-of-file is reached. <strong>Wait for process to terminate</strong>.</p>\n</blockquote>\n\n<p>Don't use <code>shell=True</code>, if you want to write and read without waiting for the process to stop. Refer this <a href=\"https://docs.python.org/2/library/subprocess.html#frequently-used-arguments\" rel=\"nofollow noreferrer\">doc</a> for details.</p>\n\n<p>Use this code:</p>\n\n<pre><code>import subprocess\nresult=subprocess.Popen(['perl','Hello.pl'],stdout=subprocess.PIPE)\nout,err=result.communicate()\nprint out\n</code></pre>\n\n<p><em>How can i read some arguments from command line and pass as an input . For Ex : perl Hello.pl some_variable_name</em></p>\n\n<p><strong>You can do that using <a href=\"https://docs.python.org/2/library/argparse.html\" rel=\"nofollow noreferrer\">argparse</a></strong></p>\n\n<p>Python code:</p>\n\n<pre><code>import subprocess\nimport argparse\n\nparser = argparse.ArgumentParser(description='Test Python Code')\nparser.add_argument('first_name', metavar='FIRST_NAME', type=str,\n                    help='Enter the first name')\nparser.add_argument('second_name', metavar='SECOND_NAME', type=str,\n                    help='Enter the second name')\n\n# Parse command line arguments\nargs = parser.parse_args()\n\nresult=subprocess.Popen(['perl','Hello.pl',args.first_name,args.second_name],stdout=subprocess.PIPE)\nout,err=result.communicate()\nprint out\n</code></pre>\n\n<p>Perl Code:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\n# (1) quit unless we have the correct number of command-line args\n$num_args = $#ARGV + 1;\nif ($num_args != 2) {\n    print \"\\nUsage: name.pl first_name last_name\\n\";\n    exit;\n}\n\n# (2) we got two command line args, so assume they are the\n# first name and last name\n$first_name=$ARGV[0];\n$last_name=$ARGV[1];\n\nprint \"First name: $first_name \\nSecond name: $last_name\\n\";\n</code></pre>\n\n<p>Sample output:\n<a href=\"https://i.stack.imgur.com/evf9j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/evf9j.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 85, "user_id": 9388993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-_LGMOnyC-KY/AAAAAAAAAAI/AAAAAAAADF8/_sjkP7vlLB0/photo.jpg?sz=128", "display_name": "Aakash k.u.", "link": "https://stackoverflow.com/users/9388993/aakash-k-u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522144395, "creation_date": 1522134837, "last_edit_date": 1522135130, "question_id": 49506507, "link": "https://stackoverflow.com/questions/49506507/run-perl-command-in-python-file", "title": "run perl command in python file", "body": "<pre><code>import subprocess\nresult=subprocess.Popen(['perl','Hello.pl'],stdout=subprocess.PIPE,shell=True)\nout,err=result.communicate()\nprint out\n</code></pre>\n\n<p>This is my program , i am trying to run a <code>perl</code> program inside a python file . I am using python <code>2.6v</code> . </p>\n\n<blockquote>\n  <p>While running this file it's not giving anything .</p>\n</blockquote>\n\n<p>I am new to python . </p>\n\n<p>Can anyone help ?</p>\n"}, {"tags": ["perl", "mason"], "comments": [{"owner": {"reputation": 157, "user_id": 3943543, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13a344060dd373f3cdac843a4e0c8c89?s=128&d=identicon&r=PG&f=1", "display_name": "user3943543", "link": "https://stackoverflow.com/users/3943543/user3943543"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522155058, "post_id": 49505010, "comment_id": 86031278, "body": "With js and liquid"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1522155646, "post_id": 49505010, "comment_id": 86031736, "body": "I am not familiar with Mason at all, but I doubt regex is the answer here. Wait for someone who knows Mason to come by. I suggest you do some research though. Right now your question looks like a <i>do my work for me for free</i> request."}, {"owner": {"reputation": 157, "user_id": 3943543, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13a344060dd373f3cdac843a4e0c8c89?s=128&d=identicon&r=PG&f=1", "display_name": "user3943543", "link": "https://stackoverflow.com/users/3943543/user3943543"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522155830, "post_id": 49505010, "comment_id": 86031881, "body": "Thanks for taking. I have been spinning my gears all night. I first went with regex, with no positive results."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1522156212, "post_id": 49505010, "comment_id": 86032196, "body": "Then please <a href=\"https://stackoverflow.com/posts/49505010/edit\">edit</a> the question and show us what you&#39;ve tried. Also see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}], "answers": [{"tags": [], "owner": {"reputation": 157, "user_id": 3943543, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13a344060dd373f3cdac843a4e0c8c89?s=128&d=identicon&r=PG&f=1", "display_name": "user3943543", "link": "https://stackoverflow.com/users/3943543/user3943543"}, "is_accepted": false, "score": 0, "last_activity_date": 1522195426, "creation_date": 1522195426, "answer_id": 49524147, "question_id": 49505010, "link": "https://stackoverflow.com/questions/49505010/perl-mason-working-and-passing-variables/49524147#49524147", "title": "perl, mason, working and passing variables", "body": "<p>Ended up making a component for the header and adding a condition for the passed in arg. Then pirnt the correct HTML. </p>\n"}], "owner": {"reputation": 157, "user_id": 3943543, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13a344060dd373f3cdac843a4e0c8c89?s=128&d=identicon&r=PG&f=1", "display_name": "user3943543", "link": "https://stackoverflow.com/users/3943543/user3943543"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522195426, "creation_date": 1522128557, "last_edit_date": 1522169390, "question_id": 49505010, "link": "https://stackoverflow.com/questions/49505010/perl-mason-working-and-passing-variables", "title": "perl, mason, working and passing variables", "body": "<p>I'm trying to pass a 'mason' variable into a Perl autohandler script that runs before the HTML.\nIs this possible.</p>\n\n<pre><code>&lt;!--- MASON --&gt;\n&lt;html&gt;\n&lt;body&gt;\n    &lt;%init&gt;\n        my $sub_headline = 'this is text';\n    &lt;/%init&gt;\n    ###HEADER###\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;!--- AUTOHANDLER ---&gt;\nmy $m_header = '&lt;div class=\"m-portlet__head\"&gt;\n&lt;div class=\"m-portlet__head-caption\"&gt;\n  &lt;div class=\"m-portlet__head-title\"&gt;\n    &lt;h3 class=\"m-portlet__head-text\"&gt;###TITLE###&lt;/h3&gt;\n  &lt;/div&gt;\n  &lt;p&gt;$sub_headline&lt;/p&gt;\n&lt;/div&gt;&lt;!-- /.caption --&gt;\n&lt;/div&gt;&lt;!-- /.head --&gt;';\n$html   =~ s/###HEADER###/${m_header}/i;\n</code></pre>\n"}, {"tags": ["linux", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 4, "creation_date": 1522117700, "post_id": 49502534, "comment_id": 86011080, "body": "Stack Overflow is not a code writing service. Please show your code. Since Stack Overflow hides the Close reason from you: <i>Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/\">How to create a Minimal, Complete, and Verifiable example</a>.</i>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1522118913, "post_id": 49502534, "comment_id": 86011373, "body": "In your output, why is the penultimate non-blank line <code>%%%% - Info | Date: (16-02-18)-Day=047 - %%%%</code> and not <code>%%%% - Info | Date: (13-02-18)-Day=044 - %%%%</code>.  The latter has only one blank line before it; the one you show has two."}, {"owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "edited": false, "score": 0, "creation_date": 1522121798, "post_id": 49502534, "comment_id": 86012033, "body": "Advice to newcomers: If an answer solves your problem, please accept it by clicking the large check mark (\u2713) next to it and optionally also up-vote it (up-voting requires at least 15 reputation points). If you found other answers helpful, please up-vote them. Accepting and up-voting helps future readers. Please see [the relevant help-center article][1] [1]: stackoverflow.com/help/someone-answers"}, {"owner": {"reputation": 59, "user_id": 8620477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16c5bd00ee8a3271aaf30ab0d91c306?s=128&d=identicon&r=PG&f=1", "display_name": "murilo.xd", "link": "https://stackoverflow.com/users/8620477/murilo-xd"}, "edited": false, "score": 0, "creation_date": 1522122583, "post_id": 49502534, "comment_id": 86012238, "body": "You&#39;re right, I made the mistake of editing. A daily bookmark &quot;%%%%&quot; is preceded by two blank lines: echo -e &quot;\\n\\n\\t%%%% - Info | Date: <code>date +&quot;(%d-%m-%y)-Day=%j&quot;</code> - %%%%&quot; &gt;&gt; $LOG A log event is preceded by only one line: echo -e &#39;\\n&#39;Wi-Fi up - USB <code>date +&quot;(%d-%m-%y %T)&quot;</code> &gt;&gt; $LOG"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 8620477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16c5bd00ee8a3271aaf30ab0d91c306?s=128&d=identicon&r=PG&f=1", "display_name": "murilo.xd", "link": "https://stackoverflow.com/users/8620477/murilo-xd"}, "edited": false, "score": 1, "creation_date": 1522120846, "post_id": 49503577, "comment_id": 86011789, "body": "This is amazing, it worked fine in my log file deleting a series of empty records and making it easier to control them. Thank you very much."}, {"owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "reply_to_user": {"reputation": 59, "user_id": 8620477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16c5bd00ee8a3271aaf30ab0d91c306?s=128&d=identicon&r=PG&f=1", "display_name": "murilo.xd", "link": "https://stackoverflow.com/users/8620477/murilo-xd"}, "edited": false, "score": 0, "creation_date": 1522120904, "post_id": 49503577, "comment_id": 86011797, "body": "@murilo.xd: great that it helped you, if you are satisfied with my answer could you put it as correct answer? Thanks"}], "tags": [], "owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "is_accepted": true, "score": 0, "last_activity_date": 1522118575, "creation_date": 1522118575, "answer_id": 49503577, "question_id": 49502534, "link": "https://stackoverflow.com/questions/49502534/sed-remove-text-that-precedes-two-blank-lines/49503577#49503577", "title": "sed - Remove text that precedes two blank lines", "body": "<p><code>sed</code> is a very powerful tool, however it is not the best tool to use for multi-lines processing, just use the following <code>awk</code> solution for your task. </p>\n\n<pre><code>$ awk 'BEGIN{RS=\"%%%%[^%]+%%%%\\n\\n\\n\"}{printf \"%s\",$0}' input.log\n%%%% Info | Date: (11-02-18)-Day=042 - %%%%\n\nOLD: android-902 (11-02-18 02:30)\n\nWi-Fi up - USB (11-02-18 03:21:21)\n\n%%%% - Info | Date: (12-02-18)-Day=043 - %%%%\n\nWi-Fi up - USB (12-02-18 07:17:02)\n\nSmart Connected (12-02-18 10:19)\n\n%%%% - Info | Date: (16-02-18)-Day=047 - %%%%\n\nWi-Fi up - USB (16-02-18 06:32:24)\n</code></pre>\n\n<p>Explanations:</p>\n\n<p><code>RS=\"%%%%[^%]+%%%%\\n\\n\\n\"</code> is the record separator that will be used by <code>awk</code> in order to find each record, as you use the default <code>ORS</code> those fields will just be removed from the output and replace by an <code>\\n</code></p>\n"}], "owner": {"reputation": 59, "user_id": 8620477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16c5bd00ee8a3271aaf30ab0d91c306?s=128&d=identicon&r=PG&f=1", "display_name": "murilo.xd", "link": "https://stackoverflow.com/users/8620477/murilo-xd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 49503577, "answer_count": 1, "score": -1, "last_activity_date": 1522118575, "creation_date": 1522109659, "last_edit_date": 1522116940, "question_id": 49502534, "link": "https://stackoverflow.com/questions/49502534/sed-remove-text-that-precedes-two-blank-lines", "title": "sed - Remove text that precedes two blank lines", "body": "<p>I need help removing a text that precedes two blank lines.</p>\n\n<p>Can anyone help do this with SED?</p>\n\n<p>Example: (my log file)\nlines with: \"%%%% Info | Date: ...\"</p>\n\n<p>Source:</p>\n\n<pre><code>%%%% Info | Date: (11-02-18)-Day=042 - %%%%\n\nOLD: android-902 (11-02-18 02:30)\n\nWi-Fi up - USB (11-02-18 03:21:21)\n\n%%%% - Info | Date: (12-02-18)-Day=043 - %%%%\n\nWi-Fi up - USB (12-02-18 07:17:02)\n\nSmart Connected (12-02-18 10:19)\n\n%%%% - Info | Date: (13-02-18)-Day=044 - %%%%\n\n\n%%%% - Info | Date: (14-02-18)-Day=045 - %%%%\n\n\n%%%% - Info | Date: (15-02-18)-Day=046 - %%%%\n\n\n%%%% - Info | Date: (16-02-18)-Day=047 - %%%%\n\nWi-Fi up - USB (16-02-18 06:32:24)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>%%%% Info | Date: (11-02-18)-Day=042 - %%%%\n\nOLD: android-902 (07-02-18 02:30)\n\nWi-Fi up - USB (07-02-18 03:21:21)\n\n%%%% - Info | Date: (12-02-18)-Day=043 - %%%%\n\nWi-Fi up - USB (12-02-18 07:17:02)\n\nSmart Connected (12-02-18 10:19)\n\n%%%% - Info | Date: (16-02-18)-Day=047 - %%%%\n\nWi-Fi up - USB (16-02-18 06:32:24)\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["json", "perl", "serialization", "moose"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522159415, "post_id": 49502456, "comment_id": 86034858, "body": "Take a look at <a href=\"https://metacpan.org/pod/MooseX::Storage\" rel=\"nofollow noreferrer\">metacpan.org/pod/MooseX::Storage</a>"}, {"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522160677, "post_id": 49502456, "comment_id": 86035912, "body": "@simbabque, thanks, MooseX::Storage is nearly there. Unfortunately it implements the selection of which attributes to expand via Traits, whereas this use case (web api) probably needs to be able to select attributes dynamically to avoid unnecessarily large (and expensive-to-compute) output."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522162044, "post_id": 49502456, "comment_id": 86037089, "body": "I don&#39;t think that exists open sourced. You could have a JSON schema and feed the objects through that to &quot;throw away&quot; the attributes you don&#39;t want. So you&#39;re not talking about serializing for restoring the whole object. That&#39;s important to note here. The serialization is non-reversible and the overall object cannot be deserialized (in most cases)."}, {"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522165434, "post_id": 49502456, "comment_id": 86039740, "body": "@simbabque, absolutely true -- the serialization is not intended to be reversible. &quot;Throwing away&quot; unwanted attributes still means potentially building computationally-expensive data. I&#39;m thinking about rolling my own and perhaps open-sourcing. Non-ref values would always be built; for others, the selection of attributes to expand would be a list passed as method parameters, e.g., as_hashref( &#39;driver&#39;, &#39;owner&#39;, &#39;owner-&gt;favorite_assets&#39; )."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522166056, "post_id": 49502456, "comment_id": 86040160, "body": "I&#39;m thinking a JSON schema could work. Your API has certain types of messages that you can map your objects to. That way your code does not need to know about the underlying structure of the objects."}, {"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522257239, "post_id": 49502456, "comment_id": 86088218, "body": "Thanks for the inspiration &amp; ideas!"}], "answers": [{"tags": [], "owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "is_accepted": false, "score": 1, "last_activity_date": 1522338208, "last_edit_date": 1522338208, "creation_date": 1522253760, "answer_id": 49539509, "question_id": 49502456, "link": "https://stackoverflow.com/questions/49502456/how-to-serialize-a-moose-object-including-nested-moose-objects/49539509#49539509", "title": "How to serialize a Moose object, including nested Moose objects", "body": "<p>I decided to roll my own. I'm posting my code here for the benefit of others who might need a quick &amp; easy solution.</p>\n\n<p>For best results, add this within a role to your Moose class tree.</p>\n\n<pre><code>=item as_serializable - Converts self to serializable hashref\n\nINPUT: $schema is a nested hashref of attributes to expand or suppress. \n\nThis example expands the 'owner' and 'driver' attributes within Car, further expands the 'favorite_assets' attribute within Person, and suppresses mileage:\n\n  my $car = Car();\n  my $car_serializable = $car-&gt;as_serializable({\n    owner =&gt; {},\n    driver =&gt; {\n      favorite_assets =&gt; {}\n    },\n    mileage =&gt; 0\n  });\n\nOUTPUT: $hashref\n\nRULES:\n1. All scalars are expanded by default, unless they're private (name starts with _)\n2. DateTime's are stringified and treated as scalars.\n3. HashRefs, ArrayRefs, and Moose objects are not expanded by default.\n4. To expand a given attribute, set corresponding $schema node to {}, adding sub-attributes to expand as desired.\n5. To suppress expansion/building a given attribute, set corresponding $schema node to 0.\n6. HashRefs &amp; ArrayRefs are all-or-none in $schema. No option to pick by specific hash-keys or array-elements.\n7. Unless specifically suppressed, all attributes are built even if lazy.\n8. Any attribute without a value is skipped.\n\n=cut\n\nsub as_serializable {\n  my ( $self, $schema ) = @_;\n  return $self-&gt;_serialize_value( $self, $schema || {} );\n}\n\nsub _serialize_value {\n  my ( $self, $value, $schema ) = @_;\n\n  # scalar\n  if ( !ref($value) ) {\n    return $value;\n  }\n\n  # DateTime as scalar\n  if ( ref($value) eq 'DateTime' ) {\n    return ''.$value;   #stringify\n  }\n\n  # hashref\n  if ( ref($value) eq 'HASH' ) {\n    my $h = {};\n    foreach my $k (keys %{ $value }) {\n      $h-&gt;{ $k } = $self-&gt;_serialize_value( $value-&gt;{$k}, $schema );\n    }\n    return $h;\n  }\n\n  # arrayref\n  if ( ref($value) eq 'ARRAY' ) {\n    return [ map { $self-&gt;_serialize_value($_, $schema) } @{ $value } ];\n  }\n\n  # Moose object\n  if ( blessed($value) &amp;&amp; $value-&gt;can('meta') ) {\n    my $h = {};\n    foreach my $attr ( $value-&gt;meta-&gt;get_all_attributes ) {\n      my $name = $attr-&gt;name;\n      if ( exists($schema-&gt;{ $name }) &amp;&amp; !$schema-&gt;{ $name } ) {  # suppress expansion (including get_value) if $schema-&gt;{ $name } is false\n        next;\n      }\n\n      my $attr_val = $attr-&gt;get_value( $value );  \n      if ( !$attr-&gt;has_value( $value ) ) {   # suppress attributes with no value\n        next;\n      }\n\n      if ( $schema-&gt;{ $name } || ( !($name =~ /^_/) &amp;&amp; ( !ref($attr_val) || (ref($attr_val) eq 'DateTime') ) ) ) {   # expand non-private scalars + all attributes specified by $schema\n        $h-&gt;{ $name } = $self-&gt;_serialize_value( $attr_val, $schema-&gt;{ $name } );\n      }\n    }\n\n    return $h;\n  }\n\n  # if/as needed, add support for other reference types here...\n\n  die \"unsupported ref='\" . ref($value) . \"' required by schema\";\n}\n</code></pre>\n\n<p>Note I baked in my own way of serializing/stringifying DateTime, which is specific to the way I consistently build my DateTime objects. You may need to change this for your project.</p>\n\n<p>Thanks to @simbabque for the constructive comments that led to this solution, and thanks to @nothingmuch for the separate assistance and final code review.</p>\n"}], "owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1522338208, "creation_date": 1522109022, "last_edit_date": 1522253843, "question_id": 49502456, "link": "https://stackoverflow.com/questions/49502456/how-to-serialize-a-moose-object-including-nested-moose-objects", "title": "How to serialize a Moose object, including nested Moose objects", "body": "<p>Trying to build an elegant way to serialize a Moose object with nested Moose objects.  Example:</p>\n\n<pre><code>package Asset;\nuse Moose::Role;\n\nhas 'value' =&gt; (\n  isa =&gt; 'Int'\n);\n\nhas 'owner' =&gt; (\n  isa =&gt; 'Person',\n);\n\nsub as_serializable {\n...\n}\n\n\npackage Car;\nuse Moose;\n\nwith 'Asset';  # role\n\nhas 'mileage' =&gt; (\n  isa =&gt; 'Int',\n);\n\nhas 'driver' =&gt; (    \n  isa =&gt; 'Person',\n);\n\n\npackage House;\nuse Moose;\n\nwith 'Asset';  # role\n\nhas 'bathrooms' =&gt; (\n  isa =&gt; 'Int'\n);\n\n\n\npackage Person;\nuse Moose;\n\nhas 'name' =&gt; (\n  isa =&gt; 'Str',\n);\n\nhas 'favorite_assets' =&gt; (    \n  isa =&gt; 'ArrayRef[Asset]',  # and so on... and just to complicate things a bit...\n  lazy =&gt; 1\n);\n</code></pre>\n\n<p>What I'd like is some way to serialize, perhaps like this:</p>\n\n<pre><code>use JSON;\nmy $car = Car();\nreturn JSON::encode_json( $car-&gt;as_serializable() );\n</code></pre>\n\n<p>Perhaps the <code>as_serializable()</code> method contains some set of parameters that specifies which attributes (and nested attributes) to expand, and perhaps there's some protection against circular expansion as I've implied in the <code>favorite_assets</code> attribute.</p>\n\n<p>Before I embark upon rolling my own, does something like this already exist?  I have to believe someone somewhere has faced this exact challenge.  I've looked all over the Moose docs and done a few searches, but haven't found anything obvious, but then again I'm still a newb.</p>\n\n<p>The use-case is to be able to quickly serialize and make complex Moose'ish objects available via an http web api, i.e. accessible from JavaScript running within a client-side web browser.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["bash", "perl", "buffer"], "answers": [{"tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 2, "last_activity_date": 1522099681, "creation_date": 1522099681, "answer_id": 49500916, "question_id": 49500770, "link": "https://stackoverflow.com/questions/49500770/tail-f-file1-perl-pe-file2-does-not-output-anything-to-file2/49500916#49500916", "title": "tail -f file1 | perl -pe &#39;$_&#39; &gt; file2 does not output anything to file2", "body": "<p>The one with no output suffers from a combination of buffered output and non-termination. <code>tail -f</code> will never exit, waiting forever for <code>file1</code> to grow. However, the output of <code>perl</code> is (apparently) buffered, so it waits until it has some minimal amount of output (more than a single line containing \"content\") to actually write to <code>file2</code>. Until more output is generated, or <code>perl</code> exits, the output remains unflushed.</p>\n\n<p>Each of your working examples either terminates, flushing any buffered output at that time; or its output is unbuffered, allowing it to appear as it is generated.</p>\n"}, {"tags": [], "owner": {"reputation": 100758, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "is_accepted": false, "score": 5, "last_activity_date": 1522099692, "creation_date": 1522099692, "answer_id": 49500919, "question_id": 49500770, "link": "https://stackoverflow.com/questions/49500770/tail-f-file1-perl-pe-file2-does-not-output-anything-to-file2/49500919#49500919", "title": "tail -f file1 | perl -pe &#39;$_&#39; &gt; file2 does not output anything to file2", "body": "<p><code>perl</code> has detected that stdout is not a terminal. For efficiency, it waits until it has a full block of data to write. Since you don't provide more data, it won't write anything until <code>tail</code> exits and the program can finish.</p>\n\n<p>You can <a href=\"https://stackoverflow.com/questions/8804220/perl-operator-dollar-sign-pipe-plus-plus\">enable autoflushing</a> with <code>$|++</code>:</p>\n\n<pre><code>tail -f file1 | perl -pe '$|++; $_' &gt; file2\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 9554870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09d995bec4aa7dc573070619afd4df3a?s=128&d=identicon&r=PG&f=1", "display_name": "vibl", "link": "https://stackoverflow.com/users/9554870/vibl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1522099855, "creation_date": 1522099115, "last_edit_date": 1522099855, "question_id": 49500770, "link": "https://stackoverflow.com/questions/49500770/tail-f-file1-perl-pe-file2-does-not-output-anything-to-file2", "title": "tail -f file1 | perl -pe &#39;$_&#39; &gt; file2 does not output anything to file2", "body": "<p>This command does not output anything to file2:</p>\n\n<pre><code>#!/bin/bash\necho content &gt; file1\ntail -f file1 | perl -pe '$_' &gt; file2\n</code></pre>\n\n<p>Whereas these commands work ok:</p>\n\n<pre><code>tail -f file1 &gt; file2\ntail -f file1 | perl -pe '$_'\ntail file1 | perl -pe '$_' &gt; file2\ntail -f /tmp/file1 | while read line; do echo $line | perl -pe '$_' &gt; /tmp/file2 ; done\n</code></pre>\n\n<p>Anyone knows what's happening?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 644, "user_id": 948070, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ad2b8f0156c0da6a1c57288efb089e28?s=128&d=identicon&r=PG", "display_name": "pconley", "link": "https://stackoverflow.com/users/948070/pconley"}, "is_accepted": true, "score": 9, "last_activity_date": 1522099473, "creation_date": 1522099473, "answer_id": 49500868, "question_id": 49500648, "link": "https://stackoverflow.com/questions/49500648/how-do-i-get-the-perl-version-string-without-license-and-build-information/49500868#49500868", "title": "How do I get the Perl version string without license and build information?", "body": "<p>The variable <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"noreferrer\">$^V</a> has that information. You can print it directly from inside Perl:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint $^V;\n</code></pre>\n\n<p>or you can get it in bash:</p>\n\n<pre><code>perl -e 'print $^V'\n</code></pre>\n\n<p>Both versions print \"v5.22.1\" on my system.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 7, "last_activity_date": 1522100075, "creation_date": 1522100075, "answer_id": 49501002, "question_id": 49500648, "link": "https://stackoverflow.com/questions/49500648/how-do-i-get-the-perl-version-string-without-license-and-build-information/49501002#49501002", "title": "How do I get the Perl version string without license and build information?", "body": "<pre><code>perl -e'print substr($^V, 1)'      # 5.10+\n\nperl -MConfig -e'print $Config{version}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 6, "last_activity_date": 1522104575, "creation_date": 1522104575, "answer_id": 49501844, "question_id": 49500648, "link": "https://stackoverflow.com/questions/49500648/how-do-i-get-the-perl-version-string-without-license-and-build-information/49501844#49501844", "title": "How do I get the Perl version string without license and build information?", "body": "<p>In addition to <code>$^V</code> and <code>$Config{version}</code>, there is also <code>$]</code>, which holds a numeric value of the version.</p>\n\n<pre><code>$ perl -MConfig -E 'say for $], $^V, $Config{version}'\n5.016003\nv5.16.3\n5.16.3\n</code></pre>\n"}], "owner": {"reputation": 39041, "user_id": 27358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fed1635f89478c88eda07e87de452bcf?s=128&d=identicon&r=PG", "display_name": "David Moles", "link": "https://stackoverflow.com/users/27358/david-moles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 49500868, "answer_count": 3, "score": 5, "last_activity_date": 1522104575, "creation_date": 1522098626, "question_id": 49500648, "link": "https://stackoverflow.com/questions/49500648/how-do-i-get-the-perl-version-string-without-license-and-build-information", "title": "How do I get the Perl version string without license and build information?", "body": "<p><code>perl --version</code> prints all this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>This is perl 5, version 26, subversion 1 (v5.26.1) built for darwin-thread-multi-2level\n\nCopyright 1987-2017, Larry Wall\n\nPerl may be copied only under the terms of either the Artistic License or the\nGNU General Public License, which may be found in the Perl 5 source kit.\n\nComplete documentation for Perl, including FAQ lists, should be found on\nthis system using \"man perl\" or \"perldoc perl\".  If you have access to the\nInternet, point your browser at http://www.perl.org/, the Perl Home Page.\n</code></pre>\n\n<p>What I want is this:</p>\n\n<pre><code>5.26.1\n</code></pre>\n\n<p>Is there any out-of-the-box way to get that, or do I need to write my own regular expression to extract it from the verbose output?</p>\n"}, {"tags": ["perl", "pdf"], "comments": [{"owner": {"reputation": 9258, "user_id": 5665870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQBw0.png?s=128&g=1", "display_name": "Sphinx", "link": "https://stackoverflow.com/users/5665870/sphinx"}, "edited": false, "score": 1, "creation_date": 1522089554, "post_id": 49498274, "comment_id": 86000716, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/662602/how-can-i-get-the-page-orientation-of-a-pdf-page\">How can I get the page orientation of a PDF page?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6399023, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154098218601798/picture?type=large", "display_name": "DavidA", "link": "https://stackoverflow.com/users/6399023/davida"}, "edited": false, "score": 0, "creation_date": 1522135962, "post_id": 49499334, "comment_id": 86017763, "body": "my ($llx, $lly, $x, $y) = $page-&gt;get_mediabox();"}, {"owner": {"reputation": 1, "user_id": 6399023, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154098218601798/picture?type=large", "display_name": "DavidA", "link": "https://stackoverflow.com/users/6399023/davida"}, "edited": false, "score": 0, "creation_date": 1522135982, "post_id": 49499334, "comment_id": 86017775, "body": "What are the llx and lly values?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1522093137, "creation_date": 1522093137, "answer_id": 49499334, "question_id": 49498274, "link": "https://stackoverflow.com/questions/49498274/can-i-get-the-page-size-and-page-orientation-using-pdfapi2/49499334#49499334", "title": "Can I get the page size and page orientation using PDF::API2?", "body": "<p>You probably want</p>\n\n<pre><code>$page-&gt;get_mediabox\n</code></pre>\n\n<p>The result is two <em>x,y</em> coordinates which will also define the orientation</p>\n"}], "owner": {"reputation": 1, "user_id": 6399023, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154098218601798/picture?type=large", "display_name": "DavidA", "link": "https://stackoverflow.com/users/6399023/davida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522093137, "creation_date": 1522088987, "last_edit_date": 1522092757, "question_id": 49498274, "link": "https://stackoverflow.com/questions/49498274/can-i-get-the-page-size-and-page-orientation-using-pdfapi2", "title": "Can I get the page size and page orientation using PDF::API2?", "body": "<p>I can't see any way to get the page size (A4, US Letter, A3 etc) or the page orientation (portrait or landscape) using\n<a href=\"https://metacpan.org/pod/PDF::API2\" rel=\"nofollow noreferrer\"><code>PDF::API2</code></a>.</p>\n\n<p>Are there any ways to get this information?</p>\n"}, {"tags": ["c++", "perl", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 2117, "user_id": 4593433, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mXZY7.png?s=128&g=1", "display_name": "frankenapps", "link": "https://stackoverflow.com/users/4593433/frankenapps"}, "is_accepted": true, "score": 0, "last_activity_date": 1523099748, "creation_date": 1523099748, "answer_id": 49706801, "question_id": 49497183, "link": "https://stackoverflow.com/questions/49497183/mingw-and-perl-conflict-regarding-includepath/49706801#49706801", "title": "MinGW and Perl conflict regarding IncludePath", "body": "<p>I have now installed MinGW after I installed Perl and everything works fine. I do however not really know what the Issue was...</p>\n"}], "owner": {"reputation": 2117, "user_id": 4593433, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mXZY7.png?s=128&g=1", "display_name": "frankenapps", "link": "https://stackoverflow.com/users/4593433/frankenapps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 49706801, "answer_count": 1, "score": 1, "last_activity_date": 1523099807, "creation_date": 1522085049, "last_edit_date": 1523099807, "question_id": 49497183, "link": "https://stackoverflow.com/questions/49497183/mingw-and-perl-conflict-regarding-includepath", "title": "MinGW and Perl conflict regarding IncludePath", "body": "<p>I have installed MinGW and StrawberryPerl and now whenever I type <code>gcc -v</code> the version installed with StrawberryPerl is executed. But I want to execute the MinGW version, because otherwise my VS Code setup gives me the error:</p>\n\n<blockquote>\n  <p>cannot open source file \"vcruntime.h\" (dependency of \"iostream\")</p>\n</blockquote>\n\n<p>But besides that error message my program still is compiled and works.</p>\n\n<p>How is that possible?</p>\n\n<p>Additional Informations:\nI am on Windows 10.\nThe output when I run <code>gcc -v</code>:</p>\n\n<pre><code>Using built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=C:/Strawberry/c/bin/../libexec/gcc/x86_64-w64- \nmingw32/7.1.0/lto-wrapper.exe\nTarget: x86_64-w64-mingw32\nConfigured with: ../../../src/gcc-7.1.0/configure --host=x86_64-w64-mingw32 --build=x86_64-w64-mingw32 --target=x86_64-w64-mingw32 --prefix=/mingw64 --enable-shared --enable-static --disable-multilib --enable-languages=c,c++,fortran,lto --enable-libstdcxx-time=yes --enable-threads=posix --enable-libgomp --enable-libatomic --enable-lto --enable-graphite --enable-checking=release --enable-fully-dynamic-string --enable-version-specific-runtime-libs --enable-libstdcxx-filesystem-ts=yes --disable-libstdcxx-pch --disable-libstdcxx-debug --disable-bootstrap --disable-rpath --disable-win32-registry --disable-nls --disable-werror --disable-symvers --with-gnu-as --with-gnu-ld --with-arch=nocona --with-tune=core2 --with-libiconv --with-system-zlib --with-gmp=/opt/build/prerequisites/x86_64-w64-mingw32-static --with-mpfr=/opt/build/prerequisites/x86_64-w64-mingw32-static --with-mpc=/opt/build/prerequisites/x86_64-w64-mingw32-static --with-isl=/opt/build/prerequisites/x86_64-w64-mingw32-static --with-pkgversion='x86_64-posix-seh, Built by strawberryperl.com project' CFLAGS='-O2 -pipe -fno-ident -I/opt/build/x86_64-710-posix-seh-rt_v502/mingw64/opt/include -I/opt/build/prerequisites/x86_64-zlib-static/include -I/opt/build/prerequisites/x86_64-w64-mingw32-static/include' CXXFLAGS='-O2 -pipe -fno-ident -I/opt/build/x86_64-710-posix-seh-rt_v502/mingw64/opt/include -I/opt/build/prerequisites/x86_64-zlib-static/include -I/opt/build/prerequisites/x86_64-w64-mingw32-static/include' CPPFLAGS=' -I/opt/build/x86_64-710-posix-seh-rt_v502/mingw64/opt/include -I/opt/build/prerequisites/x86_64-zlib-static/include -I/opt/build/prerequisites/x86_64-w64-mingw32-static/include' LDFLAGS='-pipe -fno-ident -L/opt/build/x86_64-710-posix-seh-rt_v502/mingw64/opt/lib -L/opt/build/prerequisites/x86_64-zlib-static/lib -L/opt/build/prerequisites/x86_64-w64-mingw32-static/lib '\nThread model: posix\ngcc version 7.1.0 (x86_64-posix-seh, Built by strawberryperl.com project)\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 3, "creation_date": 1522076294, "post_id": 49494467, "comment_id": 85992779, "body": "Can you please provide some code that can run and shows the problem? The variables $threads @c %rsdev are undefined."}, {"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1522078228, "post_id": 49494467, "comment_id": 85994180, "body": "I fixed. Can You take a look?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522080335, "post_id": 49494467, "comment_id": 85995617, "body": "<code>my ($pid,$exit_code,$ident,$exit_signal,$core_dump,$data)=@_;</code> should be in the sub."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522080345, "post_id": 49494467, "comment_id": 85995619, "body": "<code>\\$data-&gt;[0]</code> looks wrong."}, {"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522081509, "post_id": 49494467, "comment_id": 85996252, "body": "But how fix it? :D"}, {"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522081914, "post_id": 49494467, "comment_id": 85996514, "body": "I edited question with Your suggestions. I change $data-&gt;[0] to $data-&gt;{$i}. But im still don&#39;t know do I do it correctly. As the question is incomprehensible, write it. I will try to put it differently."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522082102, "post_id": 49495956, "comment_id": 85996633, "body": "But about &#39;pop&#39;: Do all will be fine when I will use more variables or hashes on finish (in array) callback? Im talking about something like this: $pm-&gt;finish(0, (%rsdev, $variable));"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1522097360, "post_id": 49495956, "comment_id": 86004780, "body": "if each run is returning much less data than you expect in the parent hash, better to do <code>@hash{ keys %$data } = values %$data;</code> to merge the new stuff in"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 0, "last_activity_date": 1522080588, "creation_date": 1522080588, "answer_id": 49495956, "question_id": 49494467, "link": "https://stackoverflow.com/questions/49494467/perl-parallelforkmanager-share-hash-with-parrent-and-merge-with-exists/49495956#49495956", "title": "Perl Parallel::ForkManager - share hash with parrent and merge with exists", "body": "<pre><code>use Parallel::ForkManager qw();\nuse Data::Dumper qw(Dumper);\nmy $pm = Parallel::ForkManager-&gt;new(10);\nmy %hash;\n$pm-&gt;run_on_finish(sub {\n    my $data = pop @_;\n    %hash = (%hash, %$data);\n});\nmy %rsdev;\nfor my $i (0..9) {\n    my $pid = $pm-&gt;start and next;\n    $rsdev{$i} = localtime;\n    $pm-&gt;finish(0, \\%rsdev);\n}\n$pm-&gt;wait_all_children;\nprint Dumper \\%hash;\n__END__\n{\n    '9' =&gt; 'Mon Mar 26 18:08:40 2018',\n    '2' =&gt; 'Mon Mar 26 18:08:40 2018',\n    '5' =&gt; 'Mon Mar 26 18:08:40 2018',\n    '0' =&gt; 'Mon Mar 26 18:08:40 2018',\n    '4' =&gt; 'Mon Mar 26 18:08:40 2018',\n    '8' =&gt; 'Mon Mar 26 18:08:40 2018',\n    '3' =&gt; 'Mon Mar 26 18:08:40 2018',\n    '6' =&gt; 'Mon Mar 26 18:08:40 2018',\n    '7' =&gt; 'Mon Mar 26 18:08:40 2018',\n    '1' =&gt; 'Mon Mar 26 18:08:40 2018'\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522083892, "post_id": 49496036, "comment_id": 85997643, "body": "It dont work: print Dumper \\$rsdevs; - $VAR1 = \\undef;"}, {"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522084157, "post_id": 49496036, "comment_id": 85997810, "body": "I read the documentation about $ident - my for loop and keys was just an example. In fact, the keys will not be successive numbers just a string. This solution only works with the $i (0..9) loop?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522085156, "post_id": 49496036, "comment_id": 85998331, "body": "@F. Grela, Re &quot;<i>It dont work: print Dumper \\$rsdevs; - $VAR1 = \\undef;</i>&quot;, There&#39;s no var named <code>$rsdevs</code> in my code. Always use <code>use strict; use warnings qw( all );</code>!!! We omit them from answers to keep them short. /// The results are stored in <code>%rsdevs</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522085279, "post_id": 49496036, "comment_id": 85998391, "body": "@F. Grela, <code>$ident</code> can be any string that&#39;s unique for each worker."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522085427, "post_id": 49496036, "comment_id": 85998475, "body": "@F. Grela, In a comment to the other answer, you said you wanted to return multiple values in a hash, so I have updated the answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522086157, "post_id": 49496036, "comment_id": 85998906, "body": "@F. Grela, You should probably use <code>time</code>, not <code>localtime</code>. Only use <code>localtime</code> when it comes time to output."}, {"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522087397, "post_id": 49496036, "comment_id": 85999581, "body": "Thank you for the quick reply. I understand, but I do not want the key to be the child ident, I want the key to be a string from array with parrent. Child is irrelevant to me. I asked the question because variables and hashes die with child. I just want to get them in the form they look like without using ForkManager.  I&#39;ve misspelled my question. I am new and I&#39;m just learning :) I corrected the question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1522087740, "post_id": 49496036, "comment_id": 85999769, "body": "Re &quot;<i>I do not want the key to be the child ident [...] I corrected the question</i>&quot;, The corrected question still uses the child ident as the key."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1522087672, "last_edit_date": 1522087672, "creation_date": 1522080899, "answer_id": 49496036, "question_id": 49494467, "link": "https://stackoverflow.com/questions/49494467/perl-parallelforkmanager-share-hash-with-parrent-and-merge-with-exists/49496036#49496036", "title": "Perl Parallel::ForkManager - share hash with parrent and merge with exists", "body": "<ul>\n<li><p><code>my (...) = @_;</code> should be in the sub.</p></li>\n<li><p>The value you return is also much more complicated than it needs to be.</p></li>\n</ul>\n\n<p>Fixed:</p>\n\n<pre><code>use Parallel::ForkManager qw( );\n\nmy $pm = Parallel::ForkManager-&gt;new(10);\n\nmy %rsdevs;\n$pm-&gt;run_on_finish(sub {\n    my ($pid, $exit_code, $id, $exit_signal, $core_dump, $rsdev) = @_;\n\n    warn(\"Child $id killed by signal $exit_signal\"), return if $exit_signal;\n    warn(\"Child $id exited with error $exit_code\"),  return if $exit_code;\n    warn(\"Child $id encountered an unknown error\"),  return if !$rsdev;\n\n    $rsdevs{$ident} = $rsdev;\n});\n\nmy @tablicas = ('jeden', 'dwa', 'trzy');\nfor my $id (@tablicas) {\n   my $pid = $pm-&gt;start($id) and next;\n   my $rsdev = { ts =&gt; \"\".localtime, foo =&gt; rand };\n   $pm-&gt;finish(0, $rsdev);\n}\n\n$pm-&gt;wait_all_children;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 49495956, "answer_count": 2, "score": -1, "last_activity_date": 1522087672, "creation_date": 1522076093, "last_edit_date": 1522087345, "question_id": 49494467, "link": "https://stackoverflow.com/questions/49494467/perl-parallelforkmanager-share-hash-with-parrent-and-merge-with-exists", "title": "Perl Parallel::ForkManager - share hash with parrent and merge with exists", "body": "<p>Im begineer in programming languages. First time Im using run_on_finish callback for hashref. Do I do it correctly? Im trying send hash to parrent and merge keys and values with rest values of this hash. I want to get exactly the same hash that I would get without using ForkManager and child processes.</p>\n\n<pre><code>use Hash::Merge qw/merge/;\nuse Parallel::ForkManager;\nuse Data::Dumper;\nmy $pm = Parallel::ForkManager-&gt;new(10);\nmy %hash;\n\n$pm-&gt;run_on_finish(sub {\nmy ($pid,$exit_code,$ident,$exit_signal,$core_dump,$data)=@_;\n  %hash = %{ merge( \\%hash, \\$data-&gt;{$i} ) };\n  print \"TEST: $data-&gt;{$i} \\n\";\n});\nmy @tablica = ('jeden', 'dwa', 'trzy');\nforeach (@tablica) {\n  my $pid = $pm-&gt;start and next;\n  $rsdev{$_} = localtime;\n  $pm-&gt;finish(0, \\%rsdev);\n}\n\nprint Dumper \\%hash;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>perl \"untitled.pl\"\nTEST:  \nTEST:  \nTEST:  \n$VAR1 = {};\n</code></pre>\n\n<p>Im trying to get output like this:</p>\n\n<pre><code>$VAR1 = {\n          'jeden' =&gt; 'Mon Mar 26 17:26:01 2018',\n          'dwa' =&gt; 'Mon Mar 26 17:26:01 2018',\n          'trzy' =&gt; 'Mon Mar 26 17:26:01 2018',\n        };\n</code></pre>\n\n<p>Im dont know why but $data->[0] value is empty. What Im doing wrong?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522076788, "post_id": 49494296, "comment_id": 85993167, "body": "That&#39;s latex, isn&#39;t it? Have you considered using a parser?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522077021, "post_id": 49494296, "comment_id": 85993349, "body": "A simple question that is <code>array elements need to check </code>1 of 1 and 1 of 2 and 1 of 3... and so on.  And the last array check is <code>13 of 1</code> ... <code>13 of 13</code>... in a file contains matching string."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1522078257, "post_id": 49494296, "comment_id": 85994201, "body": "The regex you&#39;re using in the <code>while</code> loop looks fine, so the problem is likely down to the values of <code>$join1</code> and <code>$join2</code> (which should be the same value). If you uncomment the <code>print</code> does it show the right values?"}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 0, "last_activity_date": 1522077089, "creation_date": 1522077089, "answer_id": 49494822, "question_id": 49494296, "link": "https://stackoverflow.com/questions/49494296/array-elements-to-match-in-regressively-using-perl-script/49494822#49494822", "title": "Array elements to match in regressively using perl script", "body": "<p>Loop over the list of terms twice, nested. This will result in the <a href=\"http://p3rl.org/Cartesian_product\" rel=\"nofollow noreferrer\">cartesian product</a>.</p>\n\n<pre><code>use 5.026;\nuse strictures;\nuse Data::Munge qw(list2re);\nmy @markup = qw(boldsymbol mathbb mathbbm  mathbf mathcal mathbf mathit\n    mathbf mathcal  mathfrak mathit mathrm mathscr mathsf);\n\nmy $BS = '\\\\'; # a single backslash\nmy @expressions;\nfor my $first_term (@markup) {\n    for my $second_term (@markup) {\n        push @expressions, \"$BS${first_term}{$BS$second_term\"\n    }\n}\nmy $regex = list2re @expressions;\n\nmy $input = &lt;&lt;'';\nAs the HF exchange \\mathcal{\\mathsf{}} operator adopted \nin, the same HF exchange operator is adopted in without further \noptimization. However, the remaining \\mathbb{\\mathbbm{}}\n\\mathbm{\\mathbf{}}, \\mathbf{\\mathit{}}. When compared with those\nadopted in the MR hybrid functionals developed by Henderson {\\it et al.}\nfor different \\mathrm{\\mathscr{}} \\mathsf{\\mathfrak{}}\n\nmy @results = $input =~ m/$regex/gms;\n# (\n#     '\\\\mathcal{\\\\mathsf',\n#     '\\\\mathbb{\\\\mathbbm',\n#     '\\\\mathbf{\\\\mathit',\n#     '\\\\mathrm{\\\\mathscr',\n#     '\\\\mathsf{\\\\mathfrak'\n# )\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 49494822, "answer_count": 1, "score": -3, "last_activity_date": 1522077089, "creation_date": 1522075622, "last_edit_date": 1522076900, "question_id": 49494296, "link": "https://stackoverflow.com/questions/49494296/array-elements-to-match-in-regressively-using-perl-script", "title": "Array elements to match in regressively using perl script", "body": "<p>My Input file:</p>\n\n<pre><code>my $inp = \"sample.txt\";\n\n#Sample.txt\nAs the HF exchange `\\mathcal{\\mathsf{}}` operator adopted \nin, the same HF exchange operator is adopted in without further \noptimization. However, the remaining `\\mathbb{\\mathbbm{}}`\n`\\mathbm{\\mathbf{}}`, `\\mathbf{\\mathit{}}`. When compared with those\nadopted in the MR hybrid functionals developed by Henderson {\\it et al.}\nfor different `\\mathrm{\\mathscr{}}`, `\\mathsf{\\mathfrak{}}`\n</code></pre>\n\n<p>My Array Elements:</p>\n\n<pre><code>my @arr = qw(boldsymbol mathbb mathbbm  mathbf mathcal mathbf mathit mathbf mathcal  mathfrak mathit mathrm mathscr mathsf);\n</code></pre>\n\n<blockquote>\n  <p>My concern is need to check the below pattern:</p>\n</blockquote>\n\n<p><code>\\\\$arr[0]{$arr[1] ... \\\\$arr[0]{$arr[2] .... \\\\$arr[0]{$arr[3] ... \\\\$arr[0]{$arr[13]</code></p>\n\n<p><code>...</code></p>\n\n<p><code>...</code></p>\n\n<p><code>\\\\$arr[13]{$arr[0] ... \\\\$arr[13]{$arr[1] ... \\\\$arr[13]{$arr[2] ... \\\\$arr[13]{$arr[13]</code></p>\n\n<p>For Example:</p>\n\n<p><code>\\boldsymbol{\\mathbb} and \\\\boldsymbol{\\mathbbm} ...</code></p>\n\n<p><code>\\mathbb{\\boldsymbol} and \\\\mathbb{\\mathbbm} ...</code></p>\n\n<pre><code>#My  Ist attempt\nreadFileinString($inp,\\$inpcnt);\n\nmy $i = 1; my $j = 1; my $cls = $#arr;\nwhile($inpcnt=~m/\\\\$arr[$i]\\{\\\\$arr[$j]/g)\n{\n    print \"LL: $&amp;\\n\";\n    $j += 1;\n    if($j == $cls) {  $i++;  }\n}\n\n#IInd Attempt\n\nmy (@arr1,@arr2) = ();\nwhile(&lt;&gt;)\n{\n    chomp;\n    push(@arr1, $_);\n}\nmy $join1 = join \"|\", @arr1;\nmy $join2 = join \"|\", @arr1;\n\n#print \"($join1)\\{($join2)\";\n\nwhile($str=~m/($join1)\\{($join2)/g)\n{\n    print \"Matched: $&amp;\\n\";\n}\n\n\n#------------------&gt;Reading a file\nsub readFileinString\n#------------------&gt;\n{\n    my $File = shift;\n    my $string = shift;\n    use File::Basename;\n    my $filenames = basename($File);\n    open(FILE1, \"&lt;$File\") or die \"\\nFailed Reading File: [$File]\\n\\tReason: $!\";\n    read(FILE1, $$string, -s $File, 0);\n    close(FILE1);\n}\n\n__DATA__\n\\boldsymbol\n\\mathbb\n\\mathbbm \n\\mathbf\n\\mathcal\n\\mathbf\n\\mathit\n\\mathbf\n\\mathcal \n\\mathfrak\n\\mathit\n\\mathrm\n\\mathscr \n\\mathsf\n</code></pre>\n\n<p>Could you please anyone guide me where I am doing wrong on this coding flow.</p>\n"}, {"tags": ["rest", "perl", "action", "catalyst"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522075683, "post_id": 49493739, "comment_id": 85992278, "body": "If I recall correctly you need to have the <code>:Args(n)</code> on the <code>sub thingy</code>. The <code>sub thingy_GET</code> cannot have arguments. It&#39;s not an action, it&#39;s just a sub. So if you want several different behaviours you have to implement a <code>sub thingy</code> and a <code>sub thingies</code>, both of which can have <code>:Path(&#39;&#47;thingy&#39;)</code> but different <code>:Args(n)</code>. This is what I think is correct, so I&#39;m not writing it up just yet. I know if you want to chain several of these, you chain the <code>sub thingy : ActionClass(&#39;REST&#39;)</code> bit, and not the <code>thingy_GET</code>. Should behave in the same way here."}], "answers": [{"tags": [], "owner": {"reputation": 198, "user_id": 1398279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e695595848c22589bec86b333fbbafd?s=128&d=identicon&r=PG", "display_name": "Dave Hodgkinson", "link": "https://stackoverflow.com/users/1398279/dave-hodgkinson"}, "is_accepted": false, "score": 0, "last_activity_date": 1522232969, "last_edit_date": 1522232969, "creation_date": 1522075758, "answer_id": 49494348, "question_id": 49493739, "link": "https://stackoverflow.com/questions/49493739/perl-catalyst-rest-action-not-working/49494348#49494348", "title": "perl Catalyst REST action not working", "body": "<p>OK, that was (relatively) simple. Don't call the subs the same thing. My screen is too small, I missed the:</p>\n\n<p>Subroutine thing_GET redefined at lib/foo/Controller/Thingy.pm line 40.</p>\n\n<p>And yet the docs as far as I read them make no mention.</p>\n\n<p>Fortunately #catalyst yelled at me. And I scrolled up the plackup output.</p>\n"}, {"tags": [], "owner": {"reputation": 3918, "user_id": 669631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sOwLc.jpg?s=128&g=1", "display_name": "M Somerville", "link": "https://stackoverflow.com/users/669631/m-somerville"}, "is_accepted": false, "score": 1, "last_activity_date": 1522075766, "creation_date": 1522075766, "answer_id": 49494350, "question_id": 49493739, "link": "https://stackoverflow.com/questions/49493739/perl-catalyst-rest-action-not-working/49494350#49494350", "title": "perl Catalyst REST action not working", "body": "<p>Your second <code>thingy_GET</code> function needs a different function name. Perhaps <code>thingy_GET_list</code> and <code>thingy_GET_resource</code>, or whatever you want.</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1522075787, "creation_date": 1522075787, "answer_id": 49494358, "question_id": 49493739, "link": "https://stackoverflow.com/questions/49493739/perl-catalyst-rest-action-not-working/49494358#49494358", "title": "perl Catalyst REST action not working", "body": "<p>Subs cannot have the same name, a different attribute is not enough, and Sub::Multi does not help here.</p>\n\n<p>Use <code>__PACKAGE__-&gt;config(action =&gt; { \u2026</code> to configure the actions instead.</p>\n"}], "owner": {"reputation": 198, "user_id": 1398279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e695595848c22589bec86b333fbbafd?s=128&d=identicon&r=PG", "display_name": "Dave Hodgkinson", "link": "https://stackoverflow.com/users/1398279/dave-hodgkinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1522232969, "creation_date": 1522074129, "last_edit_date": 1522074753, "question_id": 49493739, "link": "https://stackoverflow.com/questions/49493739/perl-catalyst-rest-action-not-working", "title": "perl Catalyst REST action not working", "body": "<p>So I'm writing a simple API server, and obviously C::C::R is the right answer. I have an action to get a \"list of thingies\" working fine:</p>\n\n<pre><code>package stuff::Controller::Thingy;\nuse Moose;\nuse namespace::autoclean;\nBEGIN { extends 'Catalyst::Controller::REST'; }\n__PACKAGE__-&gt;config(namespace =&gt; '');\n\nsub thingy : Local : ActionClass('REST') { }\n\nsub thingy_GET :Args(0) :Path(\"/thingy\") {\n}\n</code></pre>\n\n<p>This works great. Also yay HashrefInflator and a JSON view. Makes the code really small.</p>\n\n<p>But! If I add a second action to get a single thingy, my original action stops working:</p>\n\n<pre><code>sub thingy_GET :Args(1) :Path(\"/thingy\") {\n    my ( $self, $c, $thingy_id ) = @_;\n}\n</code></pre>\n\n<p>When plackup starts, I get:</p>\n\n<pre><code>[debug] Loaded Path actions:\n    .-------------------------------------+--------------------------------------.\n| Path                                | Private                              |\n+-------------------------------------+--------------------------------------+\n| /...                                | /default                             |\n| /bar/thingy/...                      | /bar/thingy                         |\n| /thingy/*                            | /thingy_GET                           |\n| /thingy/...                          | /thingy                               |\n'-------------------------------------+--------------------------------------'\n</code></pre>\n\n<p>If I call <code>/thingy</code> I get:</p>\n\n<pre><code>{\n    \"data\": []\n}\n</code></pre>\n\n<p>Ideas?</p>\n"}, {"tags": ["perl", "xml-twig"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1522071486, "post_id": 49492276, "comment_id": 85989104, "body": "Please include a full program for us to test."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1522072220, "creation_date": 1522072220, "answer_id": 49493127, "question_id": 49492276, "link": "https://stackoverflow.com/questions/49492276/xmltwig-sort-children-on-attribute-perl/49493127#49493127", "title": "XML::Twig sort children on attribute (perl)", "body": "<p>Twig's sorting methods don't accepts a custom sort method, but you can always use Perl's <a href=\"http://p3rl.org/sort\" rel=\"nofollow noreferrer\">sort</a> and cut/paste the nodes:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse XML::Twig;\n\nmy $xml = '&lt;Entries&gt;...&lt;/Entries&gt;';\n\nsub sort_children {\n    my $parent = $_;\n    my @children = sort {\n        length $a-&gt;att('a') &lt;=&gt; length $b-&gt;att('a')\n        or $a-&gt;att('a') cmp $b-&gt;att('a')\n    } $parent-&gt;cut_children;\n    $_-&gt;paste(last_child =&gt; $parent) for @children;\n}\n\nmy $twig = 'XML::Twig'-&gt;new(twig_handlers =&gt; { Entries =&gt; \\&amp;sort_children });\n$twig-&gt;parse($xml);\n$twig-&gt;print;\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 7866968, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a05d28d5bbdcb5ae6c14c033b9275555?s=128&d=identicon&r=PG&f=1", "display_name": "gauss76", "link": "https://stackoverflow.com/users/7866968/gauss76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 49493127, "answer_count": 1, "score": 1, "last_activity_date": 1522072220, "creation_date": 1522069716, "question_id": 49492276, "link": "https://stackoverflow.com/questions/49492276/xmltwig-sort-children-on-attribute-perl", "title": "XML::Twig sort children on attribute (perl)", "body": "<p>Hi,</p>\n\n<p>I need to sort the children of the \"Entries\" element using the \"a\" attribute with XML::Twig but cannot find a method to do so. The structure is as follows:</p>\n\n<pre><code>&lt;Entries&gt;\n    &lt;datatag1 a=\"A1\"&gt;\n        &lt;t&gt;A&lt;/t&gt;\n    &lt;/datatag1&gt;\n    &lt;datatag1 a=\"ABA1\"&gt;\n        &lt;t&gt;D&lt;/t&gt;\n    &lt;/datatag1&gt;\n    &lt;datatag1 a=\"C1\"&gt;\n        &lt;t&gt;1&lt;/t&gt;\n    &lt;/datatag1&gt;\n    &lt;datatag1 a=\"F1\"&gt;\n        &lt;t&gt;14&lt;/t&gt;\n    &lt;/datatag1&gt;\n    &lt;datatag1 a=\"AB1\"&gt;\n        &lt;t&gt;1&lt;/t&gt;\n    &lt;/datatag1&gt;\n&lt;/Entries&gt;\n</code></pre>\n\n<p>The desired order after sorting needs to be:</p>\n\n<pre><code>&lt;Entries&gt;\n    &lt;datatag1 a=\"A1\"&gt;\n        &lt;t&gt;A&lt;/t&gt;\n    &lt;/datatag1&gt;\n    &lt;datatag1 a=\"C1\"&gt;\n        &lt;t&gt;1&lt;/t&gt;\n    &lt;/datatag1&gt;\n    &lt;datatag1 a=\"F1\"&gt;\n        &lt;t&gt;14&lt;/t&gt;\n    &lt;/datatag1&gt;\n    &lt;datatag1 a=\"AB1\"&gt;\n        &lt;t&gt;1&lt;/t&gt;\n    &lt;/datatag1&gt;\n    &lt;datatag1 a=\"ABA1\"&gt;\n        &lt;t&gt;D&lt;/t&gt;\n    &lt;/datatag1&gt;\n&lt;/Entries&gt;\n</code></pre>\n\n<p>However the alphabetical sorting using:</p>\n\n<pre><code>$root-&gt;sort_children_on_att('a');\n</code></pre>\n\n<p>does not give the desired results. This is expected as alphabetically AB follows A. Is there any other way to do the sorting with XML::Twig to get the desired result?</p>\n\n<p>Any help much appreciated.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1522070484, "post_id": 49492181, "comment_id": 85988406, "body": "Randomly I have tried, <code>111</code> <code>222</code> <code>333</code> <code>444</code> ... <code>999</code>  is considering for substitution but rest of all not considering for substitution"}], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 2, "creation_date": 1522075548, "post_id": 49492594, "comment_id": 85992178, "body": "Not for all index <code>111</code> <code>222</code> <code>333</code> ..<code>999</code> for those it will give the result"}, {"owner": {"reputation": 1406, "user_id": 261131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7718c473801541072186c8caaaa510d0?s=128&d=identicon&r=PG", "display_name": "DrHyde", "link": "https://stackoverflow.com/users/261131/drhyde"}, "edited": false, "score": 4, "creation_date": 1522083639, "post_id": 49492594, "comment_id": 85997513, "body": "FYI I&#39;ve done the perlbug dance: <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=133027\" rel=\"nofollow noreferrer\">rt.perl.org/Public/Bug/Display.html?id=133027</a>"}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 5, "last_activity_date": 1522070734, "creation_date": 1522070734, "answer_id": 49492594, "question_id": 49492181, "link": "https://stackoverflow.com/questions/49492181/regex-substitution-using-a-list-element-with-just-3-digits-index-doesnt-work-as/49492594#49492594", "title": "Regex substitution using a list element with just 3 digits index doesn&#39;t work as I expected", "body": "<p>Apparently perl is getting confused between an array index and regular expression character sets (e.g. <code>/[a-z]/</code>). The behaviour is not consistent. The indexes of 100 to 998 seems to be effected by this. Please report the bug using the script <a href=\"http://perldoc.perl.org/perlbug.html\" rel=\"noreferrer\"><code>perlbug</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 2453528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KRxFO.jpg?s=128&g=1", "display_name": "Fred Gannett", "link": "https://stackoverflow.com/users/2453528/fred-gannett"}, "is_accepted": false, "score": 2, "last_activity_date": 1522072243, "creation_date": 1522072243, "answer_id": 49493135, "question_id": 49492181, "link": "https://stackoverflow.com/questions/49492181/regex-substitution-using-a-list-element-with-just-3-digits-index-doesnt-work-as/49493135#49493135", "title": "Regex substitution using a list element with just 3 digits index doesn&#39;t work as I expected", "body": "<p>Expression evaluates consistently when bracketed as  </p>\n\n<pre><code>s/${x[100]}/bar/;\n</code></pre>\n\n<p>Inconsistency of interpretation when index is 100..998 seems bug like.</p>\n"}], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 49492594, "answer_count": 2, "score": 5, "last_activity_date": 1522238255, "creation_date": 1522069473, "last_edit_date": 1522238255, "question_id": 49492181, "link": "https://stackoverflow.com/questions/49492181/regex-substitution-using-a-list-element-with-just-3-digits-index-doesnt-work-as", "title": "Regex substitution using a list element with just 3 digits index doesn&#39;t work as I expected", "body": "<p>Today I encountered <a href=\"https://twitter.com/shinh/status/663715003690692608\" rel=\"nofollow noreferrer\">a twitter post</a> told me another mysterious Perl behaviour.  Could someone please tell me what's wrong with the 3rd statement in following script?  I'm looking for relevant part of document in perldoc.</p>\n\n<pre><code>#!/usr/bin/perl\n\n$x[1]    = \"foo\"; $_ = \"foo\"; s/$x[1]/bar/;    print \"$_\\n\";\n$x[10]   = \"foo\"; $_ = \"foo\"; s/$x[10]/bar/;   print \"$_\\n\";\n$x[100]  = \"foo\"; $_ = \"foo\"; s/$x[100]/bar/;  print \"$_\\n\";\n$x[1000] = \"foo\"; $_ = \"foo\"; s/$x[1000]/bar/; print \"$_\\n\";\n\n__END__\nbar\nbar\nfoo\nbar\n</code></pre>\n\n<p>It seems like perl interpreter tends to separate <code>$x</code> from <code>[100]</code>.</p>\n\n<pre><code>$x[100] = 'foo';\n$_ = 'foo';\ns/${x}[100]/bar/;\nprint \"$_\\n\";\n</code></pre>\n\n<hr>\n\n<h2>Edit</h2>\n\n<p>Thank you all.  I found a documentation in the Camel Book, and it recommends\nexact same as @fred-gannet said.  The factors of the heuristic are the number\nof character occurrences and the pruning strategy in the bracket.</p>\n\n<p><a href=\"https://books.google.com/books?id=xx5JBSqcQzIC&amp;lpg=PR1&amp;pg=PA65#v=onepage&amp;q&amp;f=false\" rel=\"nofollow noreferrer\">https://books.google.com/books?id=xx5JBSqcQzIC&amp;lpg=PR1&amp;pg=PA65#v=onepage&amp;q&amp;f=false</a></p>\n\n<blockquote>\n  <p>Within search patterns, which also undergo double-quotish interpolation,\n  there is an unfortunate ambiguity: is <code>/$foo[bar]/</code> to be interpolated as\n  <code>/${foo}[bar]/</code> (where [bar] is character class for the regular expression)\n  or as <code>/${foo[bar]}/</code> (where [bar] is the subscript to array @foo)?  If\n  <code>@foo</code> doesn't otherwise exists, it's obviously a character class.  If <code>@foo</code>\n  exists, Perl takes a good guess about [bar], and is almost always right.\u2020  If\n  it does guess wrong, or if you're just plain paranoid, you can force the\n  correct interpolation with braces as shown earlier.  Even if you're merely\n  prudent, it's probably not a bad idea.</p>\n</blockquote>\n\n<p><a href=\"https://rt.perl.org/Public/Bug/Display.html?id=133027#txn-1542459\" rel=\"nofollow noreferrer\">https://rt.perl.org/Public/Bug/Display.html?id=133027#txn-1542459</a></p>\n\n<blockquote>\n  <p>The code is in S_intuit_more().</p>\n</blockquote>\n\n<p><a href=\"https://github.com/Perl/perl5/blob/823ba440369100de3f2693420a3887a645a57d28/toke.c#L4207-L4217\" rel=\"nofollow noreferrer\">https://github.com/Perl/perl5/blob/823ba440369100de3f2693420a3887a645a57d28/toke.c#L4207-L4217</a></p>\n\n<pre><code>if (*s == '$')\n    weight -= 3;\nelse if (isDIGIT(*s)) {\n    if (s[1] != ']') {\n    if (isDIGIT(s[1]) &amp;&amp; s[2] == ']')\n        weight -= 10;\n    }\n    else\n    weight -= 100;\n}\nZero(seen,256,char);\n</code></pre>\n\n<p>And there is an explanation of the logic, in Japanese. (surprisingly!)</p>\n\n<p><a href=\"https://8-p.info/perl-interpolation/\" rel=\"nofollow noreferrer\">https://8-p.info/perl-interpolation/</a></p>\n"}, {"tags": ["regex", "perl", "if-statement", "logic", "perl-module"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1522071950, "post_id": 49490941, "comment_id": 85989460, "body": "I don&#39;t know; what <i>are</i> you doing wrong? We have no idea what you&#39;re doing so we can&#39;t say what is <i>wrong</i>. What is happening that shouldn&#39;t happen? We can&#39;t really help you without seeing what you&#39;ve written. You reveal below that you are <i>&quot;slurping an input file using a <code>while</code> loop&quot;</i>. That&#39;s a start, but it should be in your question, not a comment. And <i>why</i> are you slurping the whole thing?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1522073106, "post_id": 49490941, "comment_id": 85990272, "body": "<a href=\"http://www.perlmonks.org/?node_id=1211742\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1211742</a>"}, {"owner": {"reputation": 115, "user_id": 803271, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a7d3df17c57ad5a5c55e28204daa46e5?s=128&d=identicon&r=PG", "display_name": "user803271", "link": "https://stackoverflow.com/users/803271/user803271"}, "edited": false, "score": 0, "creation_date": 1522074395, "post_id": 49490941, "comment_id": 85991255, "body": "Thanks for the feedback. I have updated the program a simple test to explain what I am trying to do."}, {"owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "edited": false, "score": 1, "creation_date": 1522074952, "post_id": 49490941, "comment_id": 85991706, "body": "As far as I can see, you are reading the file linewise. &quot;Slurping&quot; means reading the file in one go. This way your check can never match, as you expect each line to contain only one of your criteria."}, {"owner": {"reputation": 332, "user_id": 2010012, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/01f47bec1cf38b0bc2ba112a6613fe1c?s=128&d=identicon&r=PG", "display_name": "james28909", "link": "https://stackoverflow.com/users/2010012/james28909"}, "edited": false, "score": 0, "creation_date": 1522078798, "post_id": 49490941, "comment_id": 85994576, "body": "in the data you posted, the lines are not preceded by tabs (\\t+). they are preceded by multiple spaces (\\s+)."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 803271, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a7d3df17c57ad5a5c55e28204daa46e5?s=128&d=identicon&r=PG", "display_name": "user803271", "link": "https://stackoverflow.com/users/803271/user803271"}, "edited": false, "score": 0, "creation_date": 1522067741, "post_id": 49491174, "comment_id": 85986417, "body": "This code would be part of a larger program. I am slurping an input file using a while loop. The file contains multiple records. Each record starts with &lt;SUBBEGIN followed by lines which I parse and ends with &lt;SUBEND. The main while loop opens the input file checks each line of the file. So I am not sure how to formulate the while loop you suggest in this context?"}, {"owner": {"reputation": 332, "user_id": 2010012, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/01f47bec1cf38b0bc2ba112a6613fe1c?s=128&d=identicon&r=PG", "display_name": "james28909", "link": "https://stackoverflow.com/users/2010012/james28909"}, "edited": false, "score": 0, "creation_date": 1522077421, "post_id": 49491174, "comment_id": 85993647, "body": "there is no reason to slurp the entire file and then read it. just read the file line by line or in paragraph mode. see my answer for details"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 0, "last_activity_date": 1522066253, "creation_date": 1522066253, "answer_id": 49491174, "question_id": 49490941, "link": "https://stackoverflow.com/questions/49490941/check-if-multiple-lines-exist-in-text-file/49491174#49491174", "title": "Check if multiple lines exist in text file", "body": "<p>Typically perl processes file \"line by line\".<br>\nTry something like sample script below:</p>\n\n<pre><code>my($line1,$line2);\nwhile(&lt;STDIN&gt;) {\n  $line1=$_ if /\\t*CF=(CFU-TS10-ACT-(NONE|\\d+))/\n  $line2=$_ if /\\t*CF=(CFB-TS10-ACT-(NONE|\\d+))/\n  if( $line1 and $line2 ) {  \n    say \"this case is found here .....\";\n    last; # skip processing remaning lines\n  }\n}\n</code></pre>\n\n<p>Alternatively you may \"slurp\" whole file into one scalar variable.</p>\n"}, {"tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": false, "score": 1, "last_activity_date": 1522075569, "last_edit_date": 1522075569, "creation_date": 1522074530, "answer_id": 49493894, "question_id": 49490941, "link": "https://stackoverflow.com/questions/49490941/check-if-multiple-lines-exist-in-text-file/49493894#49493894", "title": "Check if multiple lines exist in text file", "body": "<p>Per default regexes match linewise. </p>\n\n<p>So <strong>if</strong> you were trying to match an input that contains multiple lines, you would have to use one of the modifiers that allows the regex to match the entire string.</p>\n\n<p>See the <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">the perl regex documentation</a> - the chapter \"Modifiers\".</p>\n\n<p>Then you should add the <code>s</code> modifiler and change your if statement to:</p>\n\n<pre><code>if ( /\\t*CF=(CFB-TS10-ACT-(NONE|\\d+))/s &amp;&amp;\n     /\\t*CF=(CFU-TS10-ACT-(NONE|\\d+))/s ) {\n   say \"found\";\n}\n</code></pre>\n\n<p>If you read linewise you will never have both of your regexes match for the same line, so you would need to do your regexes seperately as already suggested by the other answer. </p>\n"}, {"tags": [], "owner": {"reputation": 332, "user_id": 2010012, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/01f47bec1cf38b0bc2ba112a6613fe1c?s=128&d=identicon&r=PG", "display_name": "james28909", "link": "https://stackoverflow.com/users/2010012/james28909"}, "is_accepted": false, "score": 1, "last_activity_date": 1522078576, "last_edit_date": 1522078576, "creation_date": 1522075841, "answer_id": 49494374, "question_id": 49490941, "link": "https://stackoverflow.com/questions/49490941/check-if-multiple-lines-exist-in-text-file/49494374#49494374", "title": "Check if multiple lines exist in text file", "body": "<pre><code>#$/ = \"\"; #without paragraph mode\n\nopen my $file, '&lt;', 'data_file';\nbinmode $file; \n\nwhile(&lt;$file&gt;){\n        print $_  if ( $_ =~ /\\s+CF=CFU-TS10-ACT-NONE-YES-NO-NONE-YES-\\d+-YES-YES-NO-NO-NO-NO-NO-NO-NO-NO;/ || \n                       $_ =~ /\\s+CF=CFB-TS10-ACT-NONE-YES-NO-NONE-YES-\\d+-YES-YES-NO-NO-NO-NO-NO-NO-NO-NO;/  );\n    }\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>OR, you can do it in paragraph mode if conditions allow it. </p>\n\n<pre><code>$/ = \"\"; \n\nopen my $file, '&lt;', 'data_file';\nbinmode $file;\n\nwhile(&lt;$file&gt;){\n    (undef, $first) = split (/\\s+(CF=CFU-TS10-ACT-NONE-YES-NO-NONE-YES-\\d+-YES-YES-NO-NO-NO-NO-NO-NO-NO-NO;)/, $_);\n    (undef, $second) = split(/\\s+(CF=CFB-TS10-ACT-NONE-YES-NO-NONE-YES-\\d+-YES-YES-NO-NO-NO-NO-NO-NO-NO-NO;)/, $_ );\n     print $first . \"\\n\" . $second;\n}\n</code></pre>\n\n<p>Code is tested and seems to work fine with supplied data. </p>\n\n<p>Also, those are not tabs \"\\t\" ... those are spaces \"\\s+\" preceding those lines. Best thing is to learn your data set before you try to parse it ;)</p>\n"}], "owner": {"reputation": 115, "user_id": 803271, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a7d3df17c57ad5a5c55e28204daa46e5?s=128&d=identicon&r=PG", "display_name": "user803271", "link": "https://stackoverflow.com/users/803271/user803271"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1522078576, "creation_date": 1522065536, "last_edit_date": 1522076806, "question_id": 49490941, "link": "https://stackoverflow.com/questions/49490941/check-if-multiple-lines-exist-in-text-file", "title": "Check if multiple lines exist in text file", "body": "<p>Using Perl I would like to check if the two lines highlighted below exist in a text file . Each line is preceded by a tab. </p>\n\n<pre><code>CF=CFU-ALL-PROV-NONE-YES-NO-NONE-YES;\nCF=CFB-ALL-PROV-NONE-YES-YES-NONE-YES;\n***CF=CFU-TS10-ACT-NONE-YES-NO-NONE-YES;***\nCF=CFNRY-ALL-PROV-NONE-YES-YES-NONE-YES;\nCF=CFNRC-ALL-PROV-NONE-YES-NO-NONE-YES;\n***CF=CFB-TS10-ACT-NONE-YES-NO-NONE-YES;***\nCF=CFD-TS10-REG-9124445544-YES-YES;\n</code></pre>\n\n<p>I am using the following if statement but it is not matched</p>\n\n<pre><code>if (/\\t*CF=(CFU-TS10-ACT-(NONE|\\d+))/  &amp;&amp; /\\t*CF=(CFB-TS10-ACT-(NONE|\\d+))/)\n{       \n say \"this case is found here .....\";\n}\n</code></pre>\n\n<p>What am I doing wrong ?</p>\n\n<p><em>Edited</em>\nThis is the program I wrote :-</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy $HSSIN='D:\\testproject\\HSS-export-test-run-small.txt';\nmy $ofile = 'D:\\testproject\\HSS-output.txt';\nopen (INFILE, $HSSIN) or die \"Can't open input file\";\nopen (OUTFILE,\"&gt; $ofile\" ) or die \"Cant open file\"; \nmy $add;\nmy $MSISDN;\n\nmy $line; \n\n\n sub callForwardingsCF()\n\n    {\n\n if (/\\t*CF=(CFU-TS10-ACT-(NONE|\\d+))/  &amp;&amp; /\\t*CF=(CFB-TS10-ACT-(NONE|+\\d+))/)\n\n    {\n\n   say \"this case is found here .....\";\n\n\n    } \n\n    } # end sub callForwardingsCFD\n\n\n\nwhile (&lt;INFILE&gt;) \n{\n    if (/&lt;SUBEND/)  \n    {\n        say \"SUBEND found\";\n        #$line = $1 if /^\\s*MSISDN=(\\d+);/;\n        print OUTFILE \"processSingle UpdateCommand GSUB MKEY $line\";\n        print OUTFILE \"\\n\";\n\n    }\n\n    if ($_ =~ /^\\t*MSISDN=(\\d+);/) \n    {   #find MSISDN in file global search\n\n     say \"STARTER MSISDN is $1\";  \n     $MSISDN = $1;  \n     $add = $1;     \n     $line = \"$1\";   #group 1 \n\n    }  \n\ncallForwardingsCF();  #callForwardings \n\n}\n</code></pre>\n\n<p>close INFILE;\nclose OUTFILE;</p>\n\n<p>Example of a record in the input file </p>\n\n<pre><code>&lt;BEGINFILE&gt;\n&lt;SUBBEGIN\n    IMSI=232191400029053;\n    MSISDN=4369050064401;\n    DEFCALL=TS11;\n    CURRENTNAM=BOTH;\n    CAT=COMMON;\n    TBS=TS11&amp;TS12&amp;TS21&amp;TS22;\n    VLRLIST=10;\n    SGSNLIST=10;\n    SMDP=MSC;\n    CB=BAOC-ALL-PROV;\n    CB=BOIC-ALL-PROV;\n    CB=BOICEXHC-ALL-PROV;\n    CB=BICROAM-ALL-PROV;\n    CW=CW-ALL-PROV;\n    CF=CFU-ALL-PROV-NONE-YES-NO-NONE-YES-65535-NO-NO-NO-NO-NO-NO-NO-NO-NO-NO;\n    CF=CFB-ALL-PROV-NONE-YES-YES-NONE-YES-65535-NO-NO-NO-NO-NO-NO-NO-NO-NO-NO;\n    CF=CFU-TS10-ACT-NONE-YES-NO-NONE-YES-65535-YES-YES-NO-NO-NO-NO-NO-NO-NO-NO;\n    CF=CFNRY-ALL-PROV-NONE-YES-YES-NONE-YES-65535-NO-NO-NO-NO-NO-NO-NO-NO-NO-NO;\n    CF=CFNRC-ALL-PROV-NONE-YES-NO-NONE-YES-65535-NO-NO-NO-NO-NO-NO-NO-NO-NO-NO;\n    CF=CFB-TS10-ACT-NONE-YES-NO-NONE-YES-65535-YES-YES-NO-NO-NO-NO-NO-NO-NO-NO;\n    CF=CFD-TS10-REG-91436903000-YES-YES-25-YES-65535-YES-YES-NO-NO-NO-YES-YES-YES-YES-NO;\n    TCSISTATE=YES;\n    OCSISTATE=YES;\n    CONTROL=SUB;\n    WPA=0;\n    GS=HOLD&amp;MPTY&amp;ECT&amp;CLIR&amp;CLIP;\n    CLIRES=TEMPALLOW;\n    CLIPOC=NO;\n    OCSI=10;\n    CFSMS=ACT-10-914366488325207-YES-YES-NO-NO-NO;\n    ARD=PROV;\n    SUBRES=ALLPLMN;\n    IST_ALERT_TIMER=120;\n    IST_ALERT_RESPONSE=2;\n    SUB_AGE=0;\n    MIMSI=240076400029053-ONELIVE-2-2-1-0-0;\n    MIMSI=232191400029053-ONELIVE-1-1-1-0-0;\n    SID=2805158185721065;\n    MCSISTATE=YES;\n    CLRBSG=CLIP-YES-NO-NO-NO-NO;\n    UPLCSLCK=NO;\n    UPLPSLCK=NO;\n    DEFOFAID=10;\n    EPS_PROFILE_ID=1;\n    TGPPAMBRMAXUL=50000000;\n    TGPPAMBRMAXDL=150000000;\n    ARD_EXT=NULL-NULL-NULL-N3GPPNOTALLOWED;\n    FRAUDTPL_ID=10;\n    HLR_INDEX=1;\n    LTEAUTOPROV=NO;\n    PSSER=1-1-10-1-NONE-DYNAMIC-00000000;\n    EPSSER=1-10-10-1-NONE-DYNAMIC-00000000-1;\n    MPS=NO;\n&lt;SUBEND\n</code></pre>\n\n<p>Thanks, \nGraham </p>\n"}, {"tags": ["perl", "mocking"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9551490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48826cff5dd762690fdff02912d34969?s=128&d=identicon&r=PG", "display_name": "Christian Breitkreutz", "link": "https://stackoverflow.com/users/9551490/christian-breitkreutz"}, "edited": false, "score": 0, "creation_date": 1522070453, "post_id": 49491410, "comment_id": 85988380, "body": "I thought also about this, but i was not sure if this is a evil hack ;-) So i did it now like this:     sub <i>AddPrototype {my ($Path, $Sub) = @</i>;         my $Prototype = prototype($Path);         if($Prototype){              my $CodeAsString = B::Deparse-&gt;new()-&gt;coderef2text($Sub);             return  eval( &quot;sub ($Prototype) {$CodeAsString};&quot;);         }         return $Sub;     }"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 0, "last_activity_date": 1522066962, "creation_date": 1522066962, "answer_id": 49491410, "question_id": 49490635, "link": "https://stackoverflow.com/questions/49490635/how-to-set-the-prototype-of-an-anonymous-perl-function/49491410#49491410", "title": "How to set the prototype of an anonymous perl function", "body": "<p>Use string <a href=\"http://p3rl.org/eval\" rel=\"nofollow noreferrer\">eval</a>:</p>\n\n<pre><code>eval \"*Hello::FunctionWithPrototype = sub (\" .\n    prototype('Hello::FunctionWithPrototype') .\n    \") {return 'overriden'};\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1406, "user_id": 261131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7718c473801541072186c8caaaa510d0?s=128&d=identicon&r=PG", "display_name": "DrHyde", "link": "https://stackoverflow.com/users/261131/drhyde"}, "is_accepted": false, "score": 2, "last_activity_date": 1522084086, "creation_date": 1522084086, "answer_id": 49496933, "question_id": 49490635, "link": "https://stackoverflow.com/questions/49490635/how-to-set-the-prototype-of-an-anonymous-perl-function/49496933#49496933", "title": "How to set the prototype of an anonymous perl function", "body": "<p>You want the <a href=\"https://metacpan.org/pod/Sub::Prototype\" rel=\"nofollow noreferrer\">Sub::Prototype</a> module. Use it thus:</p>\n\n<pre><code>my $original = \\&amp;foo;\nmy $replacement = sub { ... };\nSub::Prototype::set_prototype(\n    $replacement,\n    prototype($original)\n);\n*foo = $replacement;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 9551490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48826cff5dd762690fdff02912d34969?s=128&d=identicon&r=PG", "display_name": "Christian Breitkreutz", "link": "https://stackoverflow.com/users/9551490/christian-breitkreutz"}, "is_accepted": false, "score": 0, "last_activity_date": 1522099576, "creation_date": 1522099576, "answer_id": 49500891, "question_id": 49490635, "link": "https://stackoverflow.com/questions/49490635/how-to-set-the-prototype-of-an-anonymous-perl-function/49500891#49500891", "title": "How to set the prototype of an anonymous perl function", "body": "<p>I decided for the eval approach. Works fine for me. Since the eval will swallow possible typos, I throw the Error in order to have useful error messages for debugging.</p>\n\n<pre><code>sub AddPrototypeToSub {\n    my ($Path, $Sub) = @_;\n    my $Prototype = prototype($Path);\n    if($Prototype){\n         my $SubWithPrototype =  eval( 'return sub ('. $Prototype .') {$Sub-&gt;(@_)}');\n         die($@) if($@); # Rethrow error if something went wrong in the eval.\n        return $SubWithPrototype;\n    }\n    return $Sub;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3208, "user_id": 2162673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9XSFy.jpg?s=128&g=1", "display_name": "Francisco Zarabozo", "link": "https://stackoverflow.com/users/2162673/francisco-zarabozo"}, "is_accepted": false, "score": 0, "last_activity_date": 1596920615, "last_edit_date": 1596920615, "creation_date": 1596920308, "answer_id": 63320175, "question_id": 49490635, "link": "https://stackoverflow.com/questions/49490635/how-to-set-the-prototype-of-an-anonymous-perl-function/63320175#63320175", "title": "How to set the prototype of an anonymous perl function", "body": "<p>Clarifying a little bit on <a href=\"https://stackoverflow.com/users/261131/drhyde\">DrHide</a>'s answer for people who may get confused:</p>\n<p>The question is about setting a prototype for an anonymous sub. It's as simple as this:</p>\n<pre><code>use Sub::Prototype;\n\nBEGIN { # Important\n    my $code = sub { ... };\n    set_prototype($code, '&amp;@');\n}\n</code></pre>\n<p>However, as noted in the original answer, if you are replacing the existing definition of a subroutine with a code ref, then that code ref should have the same prototype that was declared for that subroutine. You get the original prototype definition with the function <code>prototype(\\&amp;subroutine_name)</code>.</p>\n<p>Setting it in a <code>BEGIN</code> block is important because <strong>prototypes can only be set at compilation time</strong>. It won't matter much if you try to set or change the prototype of a normal subroutine at run time.</p>\n<p><a href=\"https://perldoc.perl.org/perlmod.html#BEGIN%2C-UNITCHECK%2C-CHECK%2C-INIT-and-END\" rel=\"nofollow noreferrer\">More on Perl execution phases here</a>.</p>\n<p><a href=\"https://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow noreferrer\">More on Perl prototypes here</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 9551490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48826cff5dd762690fdff02912d34969?s=128&d=identicon&r=PG", "display_name": "Christian Breitkreutz", "link": "https://stackoverflow.com/users/9551490/christian-breitkreutz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 1, "accepted_answer_id": 49491410, "answer_count": 4, "score": 2, "last_activity_date": 1596920615, "creation_date": 1522064593, "question_id": 49490635, "link": "https://stackoverflow.com/questions/49490635/how-to-set-the-prototype-of-an-anonymous-perl-function", "title": "How to set the prototype of an anonymous perl function", "body": "<p>I need to dynamically replace functions with anonymous subs for my mocking framework Test::Mockify. Internely I used Sub::Override.\nBut I have here an Issue with the prototype of the functions I like to mock. I recognized the Issue because of the warning (Prototype mismatch: sub ($;$) vs none).\nIn order to show the problem I reproduced the Issue without this frameworks in plain perl.</p>\n\n<p>My example package with a function with prototype:</p>\n\n<pre><code>package Hello;\nsub FunctionWithPrototype($;$){\n    my ($Mandatory, $Optional) = @_;\n    return \"original. m:$Mandatory. o:$Optional\";\n}\n1;\n</code></pre>\n\n<p>My example test:</p>\n\n<pre><code>use Hello;\nsub test {\n    no warnings 'redefine';\n    # no warnings 'prototype'; # This would hide the problem\n\n    is(Hello::FunctionWithPrototype('mand', 'opt'), 'original. m:mand. o:opt' ,'prove return value before change');\n    is (prototype('Hello::FunctionWithPrototype'),'$;$', 'Prove prototype output of function');\n\n    my $OriginalCode = *Hello::FunctionWithPrototype{CODE};\n    # warn: Prototype mismatch: sub Hello::FunctionWithPrototype ($;$) vs none\n    *Hello::FunctionWithPrototype = sub {return 'overriden'};\n\n\n    is(Hello::FunctionWithPrototype('mand', 'opt'), 'overriden','prove the mocked function');\n    # warn: Prototype mismatch: sub Hello::FunctionWithPrototype: none vs ($;$)\n    *Hello::FunctionWithPrototype = $OriginalCode; # \n\n    is(Hello::FunctionWithPrototype('mand', 'opt'), 'original. m:mand. o:opt' ,'prove return value before change (should be as before)');\n}\n</code></pre>\n\n<p>I could think of a solution like:</p>\n\n<pre><code>my $proto = prototype('FunctionWithPrototype') ? (prototype('FunctionWithPrototype')):undef;\n*t::TestDummies::DummyImportTools::Doubler = sub $proto {};\n</code></pre>\n\n<p>But this is , of course, not compiling: 'Illegal declaration of anonymous subroutine', adding a var in the sub is not possible</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 10748, "user_id": 13992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c81f585328c241594864f888f1154025?s=128&d=identicon&r=PG", "display_name": "badp", "link": "https://stackoverflow.com/users/13992/badp"}, "edited": false, "score": 0, "creation_date": 1522063762, "post_id": 49490339, "comment_id": 85983639, "body": "I realize that it&#39;s entirely possible for a coderef to be generated on the fly (e.g. <code>my $potato = eval &quot;sub { $the_code }&quot;</code>) and in those cases there might not be a good way to attribute paternity to the coderef. I&#39;m happy to be right some of the time rather than none of the time, however."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522064106, "post_id": 49490339, "comment_id": 85983900, "body": "Could you use <a href=\"https://perldoc.perl.org/functions/__LINE__.html\" rel=\"nofollow noreferrer\"><code>__LINE__</code></a> and <a href=\"https://perldoc.perl.org/functions/__FILE__.html\" rel=\"nofollow noreferrer\"><code>__FILE__</code></a> ?"}, {"owner": {"reputation": 10748, "user_id": 13992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c81f585328c241594864f888f1154025?s=128&d=identicon&r=PG", "display_name": "badp", "link": "https://stackoverflow.com/users/13992/badp"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522064167, "post_id": 49490339, "comment_id": 85983942, "body": "@H&#229;konH&#230;gland wouldn&#39;t those be the <code>__LINE__</code> and the <code>__FILE__</code> of <code>try_hard</code>? checking..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1522064201, "post_id": 49490339, "comment_id": 85983967, "body": "Yes I guess they would... Maybe you could try <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow noreferrer\"><code>caller</code></a> then?"}, {"owner": {"reputation": 10748, "user_id": 13992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c81f585328c241594864f888f1154025?s=128&d=identicon&r=PG", "display_name": "badp", "link": "https://stackoverflow.com/users/13992/badp"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1522064500, "post_id": 49490339, "comment_id": 85984149, "body": "<code>__LINE__</code> does not work: <a href=\"https://paste.ubuntu.com/p/jFQdcbHjC4/\" rel=\"nofollow noreferrer\">paste.ubuntu.com/p/jFQdcbHjC4</a>"}], "answers": [{"comments": [{"owner": {"reputation": 10748, "user_id": 13992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c81f585328c241594864f888f1154025?s=128&d=identicon&r=PG", "display_name": "badp", "link": "https://stackoverflow.com/users/13992/badp"}, "edited": false, "score": 0, "creation_date": 1522064643, "post_id": 49490533, "comment_id": 85984261, "body": "...I guess that would be a useful approximation, if I can&#39;t know where <code>$sub</code> is I will at least know where the call to <code>try_hard</code> is. This will also be more useful should the one <code>$sub</code> be <code>try_hard</code>ed multiple times."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1522064235, "creation_date": 1522064235, "answer_id": 49490533, "question_id": 49490339, "link": "https://stackoverflow.com/questions/49490339/how-can-i-get-the-line-number-and-file-name-of-a-coderef/49490533#49490533", "title": "How can I get the line number and file name of a coderef?", "body": "<p><a href=\"http://p3rl.org/caller\" rel=\"nofollow noreferrer\">caller</a>:</p>\n\n<pre><code>my ($package, $filename, $line, $subroutine) = caller(1);\nmy $success = $sub-&gt;(@_) or die \"sub returned false value at \".\n    \"$filename line $line in sub $subroutine in package $package\";\n</code></pre>\n\n<p>Also see: <a href=\"https://stackoverflow.com/q/229009\">How can I get a call stack listing in Perl?</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1522089913, "creation_date": 1522089913, "answer_id": 49498510, "question_id": 49490339, "link": "https://stackoverflow.com/questions/49490339/how-can-i-get-the-line-number-and-file-name-of-a-coderef/49498510#49498510", "title": "How can I get the line number and file name of a coderef?", "body": "<p>Use <code>croak</code> instead of <code>die</code>. You can force a backtrace by starting your script using</p>\n\n<pre><code>perl -MCarp::Always script\n</code></pre>\n\n<p>or</p>\n\n<pre><code>PERL5OPT=-MCarp::Always script\n</code></pre>\n"}], "owner": {"reputation": 10748, "user_id": 13992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c81f585328c241594864f888f1154025?s=128&d=identicon&r=PG", "display_name": "badp", "link": "https://stackoverflow.com/users/13992/badp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1522089913, "creation_date": 1522063604, "question_id": 49490339, "link": "https://stackoverflow.com/questions/49490339/how-can-i-get-the-line-number-and-file-name-of-a-coderef", "title": "How can I get the line number and file name of a coderef?", "body": "<p>Say I've got some bit of library code, not entirely unlike this:</p>\n\n<pre><code>sub try_hard {\n  my $sub = shift;\n  my $tries = 3;\n  my @failures;\n  while($tries--) {\n    eval {\n      my $success = $sub-&gt;(@_) or die \"sub returned false value\";\n      1;\n    } or do {\n      push @failures, $@;\n    }\n  }\n  die \"try_hard: failed 3 times: $failures[-1]\"\n}\n</code></pre>\n\n<p>This might fail like this:</p>\n\n<pre><code>try_hard: failed 3 times: sub returned false value at BadUtils.pm line 7 \n</code></pre>\n\n<p>...which is not useful if you're calling <code>try_hard</code> in a number of places and you don't know which call was the one that soft-failed.</p>\n\n<p>If I could get the source of <code>$sub</code>, I could change that die to:</p>\n\n<pre><code>  my $success = $sub-&gt;(@_) or die \"sub returned false value at $file line $lineno\n\";\n</code></pre>\n\n<p>and the library would be slightly DWIMmer. Is it possible to achieve this?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1522054863, "post_id": 49487499, "comment_id": 85977774, "body": "With Strawbery, the <code>cpan</code> command should work. <a href=\"https://stackoverflow.com/q/6643939/1030675\">stackoverflow.com/q/6643939/1030675</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522055518, "post_id": 49487499, "comment_id": 85978240, "body": "Interesting that you have a PPM on a Strawberry Perl. I thought that&#39;s ActivePerl only. Do you also have an ActivePerl installed?"}, {"owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "edited": false, "score": 0, "creation_date": 1522057431, "post_id": 49487499, "comment_id": 85979432, "body": "run <code>cpan install DateTime</code> from Command Prompt"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1522058345, "post_id": 49487499, "comment_id": 85980033, "body": "<code>Time::Piece</code> is core, and should be included. That might do what you want."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1522060206, "post_id": 49487499, "comment_id": 85981223, "body": "Download the module from <a href=\"http://search.cpan.org/~drolsky/DateTime-1.47/lib/DateTime.pm\" rel=\"nofollow noreferrer\">here</a> and try to install by using these <a href=\"https://stackoverflow.com/questions/7541019/manual-installation-of-a-perl-module\">steps</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "edited": false, "score": 1, "creation_date": 1522061721, "post_id": 49487499, "comment_id": 85982198, "body": "@flamey actually it&#39;s <code>cpan DateTime</code>. The <code>install</code> is only needed when you are <i>in the CPAN shell</i>. In fact, your command tells <code>cpan</code> to install two modules. <a href=\"https://metacpan.org/pod/install\" rel=\"nofollow noreferrer\">install</a> and <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow noreferrer\">DateTime</a>. :)"}, {"owner": {"reputation": 1558, "user_id": 3573403, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a2cc28c2fa85b9e517150043362eaff3?s=128&d=identicon&r=PG&f=1", "display_name": "user3573403", "link": "https://stackoverflow.com/users/3573403/user3573403"}, "edited": false, "score": 0, "creation_date": 1522117496, "post_id": 49487499, "comment_id": 86011041, "body": "Hi everyone, I tried with &quot;cpan DateTime&quot; and &quot;cpan DateTime::Format::Strptime&quot; and had successfully installed the modules. Thanks."}, {"owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522238613, "post_id": 49487499, "comment_id": 86074260, "body": "@simbabque thanks, didn&#39;t realize it! I install any modules from cpan shell."}], "owner": {"reputation": 1558, "user_id": 3573403, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a2cc28c2fa85b9e517150043362eaff3?s=128&d=identicon&r=PG&f=1", "display_name": "user3573403", "link": "https://stackoverflow.com/users/3573403/user3573403"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2095, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522054479, "creation_date": 1522054479, "question_id": 49487499, "link": "https://stackoverflow.com/questions/49487499/perl-how-to-install-the-datetime-module-for-timestamp-parsing", "title": "Perl: how to install the DateTime module for timestamp parsing", "body": "<p>I am using Perl for the first time, and I need to use the DateTime class to parse timestamps, compare timestamps, etc. However, I found that it is not included with Perl (I am using Strawberry 5.26.1.1) and needs to be separately downloaded and installed. After spending some time googling, I am still not sure where to download and how to install. I tried the following but it does not work. I have already set the http_proxy, http_proxy_user and http_proxy_pass variables.</p>\n\n<pre><code>PPM interactive shell (11.11_03) - type 'help' for available commands.\nPPM&gt; install DateTime\nInstall package 'DateTime?' (y/N): y\nInstalling package 'DateTime'...\nError installing package 'DateTime': Could not locate a PPD file for package DateTime\nPPM&gt;\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["regex", "linux", "bash", "perl", "sed"], "comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 5, "creation_date": 1522054443, "post_id": 49487320, "comment_id": 85977482, "body": "what did you try?"}, {"owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 0, "creation_date": 1522054931, "post_id": 49487320, "comment_id": 85977828, "body": "<code>sed &#39;s&#47;=&quot;&#47;&amp;quiz &#47;g&#39;</code> should do"}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1522055195, "post_id": 49487320, "comment_id": 85978003, "body": "even learning simple sed syntax of <code>s&#47;search&#47;replace&#47;</code> would have given you <code>sed &#39;s&#47;&quot;&#47;&quot;quiz &#47;&#39;</code> ... honest question, is it really that difficult to search for sed examples? and you could always check info pages here <a href=\"https://stackoverflow.com/tags/sed/info\">stackoverflow.com/tags/sed/info</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "is_accepted": true, "score": 2, "last_activity_date": 1522054957, "last_edit_date": 1522054957, "creation_date": 1522054318, "answer_id": 49487450, "question_id": 49487320, "link": "https://stackoverflow.com/questions/49487320/add-a-command-in-the-beginning-of-quotation-mark-by-using-bash/49487450#49487450", "title": "add a command in the beginning of quotation mark by using bash", "body": "<p>You can just use the following <code>sed</code> command</p>\n\n<pre><code>$ echo 'test=\"testabc\"' | sed 's/=\"\\([^\"]*\\)\"/=\"quiz \\1\"/'                                                                                     \ntest=\"quiz testabc\"\n</code></pre>\n\n<p>Explanations:</p>\n\n<ul>\n<li><code>s/pattern/replacement/</code> use sed in search/replace mode.</li>\n<li><code>=\"\\([^\"]*\\)\"</code> this regex will fetch <code>=\"some string\"</code>.</li>\n<li>then you can use a capturing group <code>( )</code> and back reference <code>\\1</code> to it in order to keep the string content and add your quiz</li>\n<li><code>s/pattern/replacement/g</code> use the global replacement mode if you need to search and replace more than one occurrence of this pattern</li>\n</ul>\n\n<p>or the following <code>perl</code> solution works as well:</p>\n\n<pre><code>$ echo 'test=\"testabc\"' | perl -pe 's/(?&lt;==\")([^\"]*)(?=\")/quiz \\1/'\ntest=\"quiz testabc\"\n</code></pre>\n\n<p>For regex details: <a href=\"http://www.rexegg.com/regex-quickstart.html\" rel=\"nofollow noreferrer\">http://www.rexegg.com/regex-quickstart.html</a></p>\n\n<p><strong>Improvements:</strong> </p>\n\n<ul>\n<li><code>sed 's/test=\"\\([^\"]*\\)\"/test=\"quiz \\1\"/'</code> add the variable name to be sure to change only that variable.</li>\n<li><code>sed 's/=\"/&amp;quiz /g'</code> or if you don't care about the variable names and want to change every assignation. </li>\n</ul>\n"}], "owner": {"reputation": 3859, "user_id": 1336041, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/e7c011510a89bda2022c046a2b98fe15?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/1336041/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 2, "accepted_answer_id": 49487450, "answer_count": 1, "score": -3, "last_activity_date": 1522055092, "creation_date": 1522053889, "last_edit_date": 1522054969, "question_id": 49487320, "link": "https://stackoverflow.com/questions/49487320/add-a-command-in-the-beginning-of-quotation-mark-by-using-bash", "title": "add a command in the beginning of quotation mark by using bash", "body": "<p>I would like to use sed to do the following steps:</p>\n\n<pre><code>before: test=\"testabc\"\n\nafter: test=\"quiz testabc\"\n</code></pre>\n\n<p>How can I add quiz followed by a space in the beginning of the quotation mark?</p>\n\n<p>Thank you for your help.</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522054040, "post_id": 49487201, "comment_id": 85977239, "body": "Welcome to the Perl side of things here on Stack Overflow. You&#39;re asking two questions at once. There&#39;s probably an answer for the second one out there, and there is a very detailed one for the first. I&#39;m inclined to hammer as a duplicate for the first question. You will want to look into the <code>cpan</code> command line utility for installation of DateTime. Keep in mind that DateTime does not parse strings. You need a DateTime::Format::* module for that as well, though your format is fairly standard."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522054147, "post_id": 49487201, "comment_id": 85977304, "body": "I suggest you split your question into two distinct questions, and also try to find a Time::Piece solution on your own. Ask about that including the code you can&#39;t get to work and people will be more inclined to help you."}, {"owner": {"reputation": 1558, "user_id": 3573403, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a2cc28c2fa85b9e517150043362eaff3?s=128&d=identicon&r=PG&f=1", "display_name": "user3573403", "link": "https://stackoverflow.com/users/3573403/user3573403"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522054243, "post_id": 49487201, "comment_id": 85977359, "body": "Hi, I will split the question now."}, {"owner": {"reputation": 1558, "user_id": 3573403, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a2cc28c2fa85b9e517150043362eaff3?s=128&d=identicon&r=PG&f=1", "display_name": "user3573403", "link": "https://stackoverflow.com/users/3573403/user3573403"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522054516, "post_id": 49487201, "comment_id": 85977542, "body": "My question on DateTime is at: <a href=\"https://stackoverflow.com/questions/49487499/perl-how-to-install-the-datetime-module-for-timestamp-parsing\" title=\"perl how to install the datetime module for timestamp parsing\">stackoverflow.com/questions/49487499/&hellip;</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522055855, "post_id": 49487201, "comment_id": 85978439, "body": "Found you an answer. The <code>localtime</code> bit is the relevant part of Schwern&#39;s answer there. If that doesn&#39;t help, let me know and we&#39;ll reopen the question. (As a gold badge user I can duplicate close-hammer questions in this tag)"}, {"owner": {"reputation": 1558, "user_id": 3573403, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a2cc28c2fa85b9e517150043362eaff3?s=128&d=identicon&r=PG&f=1", "display_name": "user3573403", "link": "https://stackoverflow.com/users/3573403/user3573403"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522064623, "post_id": 49487201, "comment_id": 85984240, "body": "Hi @simbabque, I don&#39;t think localtime will work for me. My program needs to be able to run anywhere. If I run in Singapore, the localtime will have time zone of GMT+8, isn&#39;t it? If my timestamp object is GMT, and I want to convert to EST, I can&#39;t use localtime right?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522064752, "post_id": 49487201, "comment_id": 85984334, "body": "You can pass arguments to it."}, {"owner": {"reputation": 1558, "user_id": 3573403, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a2cc28c2fa85b9e517150043362eaff3?s=128&d=identicon&r=PG&f=1", "display_name": "user3573403", "link": "https://stackoverflow.com/users/3573403/user3573403"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522065290, "post_id": 49487201, "comment_id": 85984686, "body": "Hi @simbabque, a working example of localtime with a different timezone would be appreciated."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522071289, "post_id": 49487201, "comment_id": 85988978, "body": "There is <a href=\"https://stackoverflow.com/q/753346/1331451\">stackoverflow.com/q/753346/1331451</a>, but I cannot get it to work currently."}], "owner": {"reputation": 1558, "user_id": 3573403, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a2cc28c2fa85b9e517150043362eaff3?s=128&d=identicon&r=PG&f=1", "display_name": "user3573403", "link": "https://stackoverflow.com/users/3573403/user3573403"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "closed_date": 1522055816, "answer_count": 0, "score": 1, "last_activity_date": 1522070497, "creation_date": 1522053466, "last_edit_date": 1522070497, "question_id": 49487201, "link": "https://stackoverflow.com/questions/49487201/perl-working-with-timestamps-with-timepiece", "closed_reason": "Duplicate", "title": "Perl working with timestamps with Time::Piece", "body": "<p>I am using Perl for the first time and I need to do the following:</p>\n\n<ol>\n<li><p>Parse two separate timestamp strings which are in the format <code>YYYY/mm/dd HH:MM:SS:NNNNNN</code>. The timezone of both strings is assumed to be EST. For example, both strings are:</p>\n\n<pre><code>\"2018/03/24 12:11:57:123456\"\n\"2018/03/26 13:10:57:123456\"\n</code></pre></li>\n<li><p>Convert the timezone of the above two into a different timezone, say GMT, then print them out.</p></li>\n<li><p>Find the differences, in hours, of the above two timestamps.</p></li>\n</ol>\n\n<p>Is it possible to achieve the above with the Time::Piece module? I have looked through this web site:</p>\n\n<p><a href=\"https://www.perl.com/article/59/2014/1/10/Solve-almost-any-datetime-need-with-Time--Piece/\" rel=\"nofollow noreferrer\">https://www.perl.com/article/59/2014/1/10/Solve-almost-any-datetime-need-with-Time--Piece/</a></p>\n\n<p>It shows me how to achieve my first objective, the parsing. But so far I am not able to find out how to convert from one timezone to another, and also the difference in hours between two timestamps.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "fasta"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522052852, "post_id": 49487007, "comment_id": 85976609, "body": "Please show a few sample lines of input files, and the desired output"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522073172, "post_id": 49487007, "comment_id": 85990315, "body": "Are there really blank lines between the sequences in the FASTA file?"}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1522077526, "post_id": 49487007, "comment_id": 85993717, "body": "How is <code>&gt;GUP5213.2</code> in your output produced when it&#39;s not in your <code>sequence.fasta</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1522073211, "post_id": 49488914, "comment_id": 85990349, "body": "I suspect the FASTA file is actually contiguous without any blank lines."}, {"owner": {"reputation": 19, "user_id": 8392790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94e3b6c8293ecced985afe05c3f6450c?s=128&d=identicon&r=PG&f=1", "display_name": "user8392790", "link": "https://stackoverflow.com/users/8392790/user8392790"}, "edited": false, "score": 0, "creation_date": 1522112837, "post_id": 49488914, "comment_id": 86009897, "body": "Thanks for your useful answers @kjetil and Sobrique. It worked!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1522058981, "creation_date": 1522058981, "answer_id": 49488914, "question_id": 49487007, "link": "https://stackoverflow.com/questions/49487007/how-to-extract-fasta-sequences-from-a-file-using-sequence-ids-in-adifferent-file/49488914#49488914", "title": "How to extract FASTA sequences from a file using sequence IDs in adifferent file?", "body": "<p>The problem here is that one-liners are very hard to follow, understand and untangle.</p>\n\n<p>So write it out 'long hand':</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nopen ( my $id_file, '&lt;', 'ids.txt' ) or die $!;\n#use split here, to split any lines on whitespace. \nchomp ( my @ids = map { split } &lt;$id_file&gt; );\nclose ( $id_file );\n\nmy %sequences;\n\nopen ( my $input, '&lt;', 'sequence.fasta' ) or die $!;\n{\n   local $/ = '';    #paragraph mode; Read until blank line\n\n   while ( &lt;$input&gt; ) {\n      my ( $id, $sequence ) = m/&gt;\\s*(\\S+)\\n(.*)/ms;\n      $sequences{$id} = $sequence;\n   }\n}\n\nforeach my $id (@ids) {\n   if ( $sequences{$id} ) {\n      print \"&gt;$id\\n\";\n      print \"$sequences{$id}\\n\";\n   }\n}\n</code></pre>\n\n<p>If you want to read the filenames from <code>@ARGV</code>:</p>\n\n<pre><code>my ( $ids_file, $sequence_file ) = @ARGV; \n</code></pre>\n\n<p>I wouldn't try and compress this back into a one liner - you probably could, but it'll be quite hard to understand when you come back to it.  </p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522073023, "post_id": 49490241, "comment_id": 85990223, "body": "If you want to &quot;have fun&quot; with one-liners then please do it without the help of the rest of us who prefer clear code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522092570, "post_id": 49490241, "comment_id": 86002412, "body": "If you make announcements like that then inexperienced people like <b>user8392790</b> will think, <i>&quot;This guy with over 700 times my experience says that one-liners are</i> fun, <i>and starts asking us all to help him to be involved in this fun&quot;</i>. We then have to persuade him otherwise. It&#39;s irresponsible."}], "tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1522079151, "last_edit_date": 1522079151, "creation_date": 1522063283, "answer_id": 49490241, "question_id": 49487007, "link": "https://stackoverflow.com/questions/49487007/how-to-extract-fasta-sequences-from-a-file-using-sequence-ids-in-adifferent-file/49490241#49490241", "title": "How to extract FASTA sequences from a file using sequence IDs in adifferent file?", "body": "<p>If a one liner is what you want - which your post in fact suggests - this is what you could do:</p>\n\n<pre><code>perl -pe '$i=$1if/^&gt;(\\S+)/;map$i{$_}++,split;$i{$i}or$_=\"\"' ids.txt seq.fasta\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8392790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94e3b6c8293ecced985afe05c3f6450c?s=128&d=identicon&r=PG&f=1", "display_name": "user8392790", "link": "https://stackoverflow.com/users/8392790/user8392790"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 990, "favorite_count": 1, "accepted_answer_id": 49488914, "answer_count": 2, "score": 0, "last_activity_date": 1522079151, "creation_date": 1522052746, "last_edit_date": 1522072895, "question_id": 49487007, "link": "https://stackoverflow.com/questions/49487007/how-to-extract-fasta-sequences-from-a-file-using-sequence-ids-in-adifferent-file", "title": "How to extract FASTA sequences from a file using sequence IDs in adifferent file?", "body": "\n\n<p>I have two files:</p>\n\n<p><code>sequence.fasta</code> - a big file with multiple FASTA sequences </p>\n\n<p><code>ids.txt</code> - consisting of sequence IDs in a tab-delimited format.</p>\n\n<p>I want to extract those sequences into another file from <code>sequence.fasta</code> whose IDs matched in <code>ids.txt</code>.</p>\n\n<p>A sample of <code>sequence.fasta</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;AUP4056.1\nMFKSLIQFFKSKSNTSNIKKENAVQRQERQDIEGWITPYSGQELLNTELRQHHLGLLWQQVSMTREMFEH\nLYQKPIERYAEMVQLLPASESHHHSHLGGMLDHGLEVISFAAKLRQNYVLPLNAAPEDQAKQKDAWTAAV\nIYLALVHDIGKSIVDIEIQLQDGKRWLAWHGIPTLPYKFRYIKQRDYELHPVLGGFIANQLIAKETFDWL\nATYPEVFSALMYAMAGHYDKANVLAEIVQKADQNSVALALGGDITKLVQKPVISFAKQLI`\n\n&gt;XIM5213.2\nFKISSKGPGDGWLTEDGLWLMSKTTADQIRAYLMGQGISVPSDNRKLFDEMQAHRVIESTSEGNAIWYCQ\nLSADAGWKPKDKFSLLRIKPEVIWDNIDDRPELFAGTICVVEKENEAEEKISNTVNEVQDTVPINKKENI\nELTSNLQEENTALQSLNPSQNPEVVVENCDNNSVDFLLNMFSDNNEQQVMNIPSADAEAGTTMILKSEPE\nNLNTHIEVEANAIPKLPTNDDTHLKSEGQKFVDWLKD\n</code></pre>\n\n<p>A sample of <code>ids.txt</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>AUP4056.1 GUP5213.2 ARD5364.5 HAE6893.7\nJIK6023.5 YUP7086.9\n</code></pre>\n\n<p>I need output as follows</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;AUP4056.1\nMFKSLIQFFKSKSNTSNIKKENAVQRQERQDIEGWITPYSGQELLNTELRQHHLGLLWQQVSMTREMFEH\nLYQKPIERYAEMVQLLPASESHHHSHLGGMLDHGLEVISFAAKLRQNYVLPLNAAPEDQAKQKDAWTAAV\nIYLALVHDIGKSIVDIEIQLQDGKRWLAWHGIPTLPYKFRYIKQRDYELHPVLGGFIANQLIAKETFDWL\nATYPEVFSALMYAMAGHYDKANVLAEIVQKADQNSVALALGGDITKLVQKPVISFAKQLI\n\n&gt;GUP5213.2\nELTSNLQEENTALQSLNPSQNPEVVVENCDNNSVDFLLNMFSDNNEQQVMNIPSADAEAGTTMILKSEPE\nNLNTHIEVEANAIPKLPTNDDTHLKSEGQKFVDWLKDKLFKKQLTFNDRTAKVHIVNDCLFIVSPSSFEL\nYLQEKGESYDEECINNLQYEFQALGLHRKRIIKNDTINFWRCKVIGPKKESFLVGYLVPNTRLFFGDKIL\nINNRHLLLEE\n</code></pre>\n\n<p>I have tried a Perl one-liner, but this is not working. Neither giving any error nor any output.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -ne 'if(/^&gt;(\\S+)/){$c=$i{$1}}$c?print:chomp;$i{$_}=1 if @ARGV' ids.txt sequence.fasta\n</code></pre>\n\n<p>Could anybody help me correct this code or if there is any other Perl script?</p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "hash"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522039825, "post_id": 49483629, "comment_id": 85971059, "body": "Its actually not that clear what you are looking for...do you want to iterate over pairs subhashes in your array and compare values?"}, {"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522040622, "post_id": 49483629, "comment_id": 85971235, "body": "Yes, I want to iterate over 2 pairs of arrays which contains n number of subhashes."}], "owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522309163, "creation_date": 1522035861, "last_edit_date": 1522041256, "question_id": 49483629, "link": "https://stackoverflow.com/questions/49483629/perl-printing-arbitrary-number-of-hash-values-of-2-arrays-of-hashes", "title": "Perl Printing arbitrary number of hash values of 2 arrays of hashes", "body": "<p>I am trying to find a way to print the subhash values of a pair of arrays of hashes in the same loop.</p>\n\n<p>This is how my hash looks like:</p>\n\n<pre><code>$VAR1 = {\n    'countrya' =&gt; [\n                   [ { 'area' =&gt; 'statea', 'population' =&gt; '10' }, \n                     { 'area' =&gt; 'stateb', 'population' =&gt; '20' } ], # previous\n                   [ { 'area' =&gt; 'statea', 'population' =&gt; '30' }, \n                     { 'area' =&gt; 'stateb', 'population' =&gt; '40' } ] # current      \n               ],\n    'countryb' =&gt; [\n                   [ { 'area' =&gt; 'statec', 'population' =&gt; '50' }, \n                     { 'area' =&gt; 'stated', 'population' =&gt; '60' } ], # previous\n                   [ { 'area' =&gt; 'statec', 'population' =&gt; '70' }, \n                     { 'area' =&gt; 'stated', 'population' =&gt; '80' } ] # current \n               ]\n}\n</code></pre>\n\n<p>And this is the output of what I am hoping to achieve:</p>\n\n<pre><code>countrya\n*****\nstatea -&gt; 10\nstatea -&gt; 30\n\nstateb -&gt; 20\nstateb -&gt; 40\n\ncountryb\n*****\nstatec -&gt; 50\nstatec -&gt; 70\n\nstated -&gt; 60\nstated -&gt; 80\n</code></pre>\n\n<p>The first array of subhashes in <code>countrya</code> and <code>countryb</code> represents previous values, while the second array represent current values. And therefore the values have to be printed after the other. </p>\n\n<p>So far I have managed to get the output that I want through this loop:</p>\n\n<pre><code>foreach my $h (keys %countries) {\n    print \"$h\\n\";\n    foreach my $i ($countries{$h}) {\n        print \"$$i[0][0]{'area'} -&gt; \";\n        print \"$$i[0][0]{'population'}\\n\";\n        print \"$$i[1][0]{'area'} -&gt; \";\n        print \"$$i[1][0]{'population'}\\n\";\n        print \"$$i[0][1]{'area'} -&gt; \";\n        print \"$$i[0][1]{'population'}\\n\";\n        print \"$$i[1][1]{'area'} -&gt; \";\n        print \"$$i[1][1]{'population'}\\n\";\n    } \n}\n</code></pre>\n\n<p>However, the above code only works with the assumption that there are only two subhashes in each array. How should I modify the code to support any number of subhashes?</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 182823, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1522034914, "post_id": 49483502, "comment_id": 85969920, "body": "<a href=\"https://stackoverflow.com/a/2149386/2970947\">stackoverflow.com/a/2149386/2970947</a>"}, {"owner": {"reputation": 109, "user_id": 7510504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2a53bd17cbe70c7bf9be7ca0cf478cf8?s=128&d=identicon&r=PG&f=1", "display_name": "Eva Cheung", "link": "https://stackoverflow.com/users/7510504/eva-cheung"}, "reply_to_user": {"reputation": 182823, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1522035264, "post_id": 49483502, "comment_id": 85969974, "body": "Hi, I know how to list all files in a directory but I hope can have number in front for selection."}], "owner": {"reputation": 109, "user_id": 7510504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2a53bd17cbe70c7bf9be7ca0cf478cf8?s=128&d=identicon&r=PG&f=1", "display_name": "Eva Cheung", "link": "https://stackoverflow.com/users/7510504/eva-cheung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "closed_date": 1522037692, "answer_count": 0, "score": 0, "last_activity_date": 1522034778, "creation_date": 1522034778, "question_id": 49483502, "link": "https://stackoverflow.com/questions/49483502/is-there-any-selection-function-in-perl", "closed_reason": "Duplicate", "title": "Is there any selection function in perl?", "body": "<p>In bash script, we know that there is a select function that can list all the files in current directory with number for selection. Once choose the number, can get the value behind. </p>\n\n<pre><code>select application in */; do test -n \"$application\" &amp;&amp; break; echo \"&gt;&gt;&gt; Invalid Selection\"; done\n</code></pre>\n\n<p>Is there any similar function in perl?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "variables", "replace", "line"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 3, "last_activity_date": 1522022898, "creation_date": 1522022898, "answer_id": 49482292, "question_id": 49481918, "link": "https://stackoverflow.com/questions/49481918/replace-fix-position-in-muti-line-perl-variable/49482292#49482292", "title": "replace fix position in muti line perl variable", "body": "<p>You can perform a regular expression replacement on a multi-line string by using the <code>m</code> flag.  To perform all such replacements, use the <code>g</code> flag.  In the multi-line context, the <code>^</code> character will match the beginning of each line of the multi-line string. </p>\n\n<p><code>$numbers =~ s|^(\\d{2})(\\d{4})|$1$replacement|mg;</code></p>\n\n<p>means find all matches of lines starting with 2-digits followed by 4-digits and \nreplace that with the first 2-digits which are captured in <code>$1</code> followed by the string inside variable <code>$replacement</code>.</p>\n\n<p><a href=\"https://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perldoc perlretut</a> gives a gentle introduction to the topic.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmy $numbers = &lt;&lt;EONUMBERS;\n2100010000\n2200010000\n2300010000\n3100010001\n3200010001\nEONUMBERS\n\nmy $replacement = '0004';\n\nprint \"before:\\n$numbers\";\n$numbers =~ s|^(\\d{2})(\\d{4})|$1$replacement|mg;\nprint \"after:\\n$numbers\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>before:\n2100010000\n2200010000\n2300010000\n3100010001\n3200010001\nafter:\n2100040000\n2200040000\n2300040000\n3100040001\n3200040001\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3433747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b75c1c57b5c32a7ba63b08d12eb01bee?s=128&d=identicon&r=PG&f=1", "display_name": "user3433747", "link": "https://stackoverflow.com/users/3433747/user3433747"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525208468, "creation_date": 1522019310, "last_edit_date": 1525208468, "question_id": 49481918, "link": "https://stackoverflow.com/questions/49481918/replace-fix-position-in-muti-line-perl-variable", "title": "replace fix position in muti line perl variable", "body": "<p>A perl variable is having multiple line value assigned to it.    </p>\n\n<pre><code>2100010000   \n2200010000  \n2300010000  \n3100010001  \n3200010001        \n</code></pre>\n\n<p>I want to replace position 3 to 6 at each line with another value like 0004.   </p>\n\n<pre><code>2100040000  \n2200040000  \n2300040000  \n3100040001  \n3200040001   \n</code></pre>\n\n<p>I don't want to loop through each line in perl variable.  </p>\n"}, {"tags": ["perl", "string-comparison"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1522010736, "post_id": 49480629, "comment_id": 85964361, "body": "1) <code>chomp</code> doesn&#39;t return the chomped string; it modifies its argument in place. 2) Do the string comparison before the numerical comparison. 3) You don&#39;t handle EOF (<code>!defined($g)</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 5, "last_activity_date": 1522024482, "last_edit_date": 1522024482, "creation_date": 1522021901, "answer_id": 49482194, "question_id": 49480629, "link": "https://stackoverflow.com/questions/49480629/if-statement-wont-catch-a-string-in-perl/49482194#49482194", "title": "If statement won&#39;t catch a string in perl", "body": "<p>The <code>chomp</code> command removes the trailing newline, but acts on the variable itself, its return value is the number of characters removed.  So typically, one only needs to <code>chomp</code> a variable or an expression once.   Since there are 2-types of comparison operators in perl, <code>&lt; &lt;= == != &gt;= &gt;</code> for numbers, <code>lt le eq ne ge gt</code> for strings, we should determine what kind of value we have before performing the comparison to avoid triggering a warning. </p>\n\n<p>The <code>$guess =~ m|^\\d+$|</code> statement returns true if <code>$guess</code> is a positive integer or 0, by checking that the stringified version of <code>$guess</code> is only made up of digits.  </p>\n\n<p>Since <code>rand</code> returns a decimal <code>0 &lt;= x &lt; 1</code> then <code>rand 25</code> will return a number \n<code>0 &lt;= x &lt; 25</code> so <code>25</code> will never be reached.  <code>int</code> will round the number down towards zero, so <code>int rand 25</code> will return one of <code>(0,1,2,...,22,23,24)</code>.  To get <code>(1,2,...,25)</code> we need to add <code>1</code>.</p>\n\n<p>Single letter variables like <code>$g</code> are generally a bad idea, as they do not convey the meaning of the variable and make it more difficult to rename later if it becomes prevalent in the code.  I have replaced it with <code>$guess</code>.  In perl, the only generally accepted single letter variables are <code>$a</code> and <code>$b</code> which are global and used for comparison functions, and the perl predefined variables like <code>$_</code>, <code>$@</code>, etc. which are documented in <a href=\"https://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perldoc perlvar</a></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $guess = 0;\nmy $int_max = 25;\nmy $rn = int(rand($int_max)) + 1;\n\nprint \"I have picked a number between 1 and $int_max, can you guess it?\\n\";\nuntil ($guess == $rn) {\n    chomp ($guess = &lt;STDIN&gt;);\n    if ( $guess =~ m|^\\d+$| ) {\n        # Answer is an integer\n        if ( $guess == $rn ) {\n            print \"You got it!\\n\";\n        } elsif ( $guess &gt; $rn ) {\n            print \"Too high, try again.\\n\";\n        } elsif ( $guess &lt; $rn ) {\n            print \"Too low, try again.\\n\";\n        }\n    } else {\n        # Anything else\n        if ('quit' eq $guess or 'exit' eq $guess) {\n            print \"Exiting...\\n\";\n            exit 0;\n        } else {\n            print \"Unclear answer : '$guess' : try again!\\n\";\n            $guess = 0; # So the equality test does not warn\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 6132816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb1848bbf8584c4cc3ab4ef9d2974d3?s=128&d=identicon&r=PG&f=1", "display_name": "masral", "link": "https://stackoverflow.com/users/6132816/masral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "closed_date": 1522073710, "accepted_answer_id": 49482194, "answer_count": 1, "score": 3, "last_activity_date": 1522024482, "creation_date": 1522009878, "question_id": 49480629, "link": "https://stackoverflow.com/questions/49480629/if-statement-wont-catch-a-string-in-perl", "closed_reason": "Duplicate", "title": "If statement won&#39;t catch a string in perl", "body": "<p>I'm trying to get my if statement to catch when a person enters an input that says quit or exit but it isn't. Here is my code</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $g=0;\nmy $rn = int(rand(25));\nuntil ($g == $rn) {\n      $g = &lt;STDIN&gt;;\n      if ($g == $rn) {\n            print \"You got it\";\n            } elsif (chomp($g) eq \"quit\" || chomp($g) eq \"exit\") {\n            print \"it triggered\";\n            } elsif ($g &gt; $rn) { \n            print \"incorrect its lower\";\n            } elsif ($g &lt;$rn) {\n            print \"incorrect its higher\";\n            } else {\n            print \"end\";\n            }      \n}\n}\n</code></pre>\n\n<p>The </p>\n\n<pre><code>elsif (chomp($g) eq \"quit\" || chomp($g) eq \"exit) {\n</code></pre>\n\n<p>line is not catching despite numerous attempts to catch the error. I've tried printing off what the program is seeing to no avail. What I get in response when I type in quit from the strict/warnings is that </p>\n\n<pre><code>argument \"quit\\n\" isn't numeric in numeric eq (==) at ./program24.pl line 30, &lt;STDIN&gt; line 1.\nargument \"quit\" isn't numeric in numeric gt (&gt;) at ./program24.pl line 36, line 1.\n</code></pre>\n\n<p>I've looked at several of the other posts on this but nothing from them seems to be whats causing this. What am I doing wrong?</p>\n"}, {"tags": ["perl", "biginteger", "modulo"], "comments": [{"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "edited": false, "score": 0, "creation_date": 1522003194, "post_id": 49479245, "comment_id": 85961728, "body": "Works ok for me on both 64bit and 32bit Perl 5.26"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1522003270, "post_id": 49479245, "comment_id": 85961765, "body": "Yeah, I just tried it on a 64-bit Perl and it worked fine, so I thought it would break on a 32-bit Perl."}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 9, "last_activity_date": 1522003712, "last_edit_date": 1522003712, "creation_date": 1522003125, "answer_id": 49479478, "question_id": 49479245, "link": "https://stackoverflow.com/questions/49479245/why-does-perl-modulo-operator-work-with-large-integers-using-bignum-but-not-math/49479478#49479478", "title": "Why does Perl modulo operator work with large integers using bignum but not Math::BigInt?", "body": "<p>You're still using native Perl numbers first and then converting them to <code>Math::BigInt</code> objects. Try this instead:</p>\n\n<pre><code>my $x = Math::BigInt-&gt;new('19999999999999999') % Math::BigInt-&gt;new('10000000000000000');\n</code></pre>\n\n<p>Quoting from <a href=\"https://metacpan.org/pod/Math::BigInt#Input\" rel=\"noreferrer\"><code>perldoc Math::BigInt</code></a>:</p>\n\n<blockquote>\n  <p>Input given as scalar numbers might lose precision. Quote your input to ensure that no digits are lost:</p>\n\n<pre><code>$x = Math::BigInt-&gt;new( 56789012345678901234 );   # bad\n$x = Math::BigInt-&gt;new('56789012345678901234');   # good\n</code></pre>\n</blockquote>\n\n<p>(Also, don't use <code>$b</code> outside of <code>sort</code> and similar routines.)</p>\n"}], "owner": {"reputation": 3200, "user_id": 782011, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/MCSoz.jpg?s=128&g=1", "display_name": "pacoverflow", "link": "https://stackoverflow.com/users/782011/pacoverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 49479478, "answer_count": 1, "score": 1, "last_activity_date": 1522003712, "creation_date": 1522001849, "last_edit_date": 1522003708, "question_id": 49479245, "link": "https://stackoverflow.com/questions/49479245/why-does-perl-modulo-operator-work-with-large-integers-using-bignum-but-not-math", "title": "Why does Perl modulo operator work with large integers using bignum but not Math::BigInt?", "body": "<p>I tried the following in a Perl script:</p>\n\n<pre><code>$b = 19999999999999999 % 10000000000000000;\nprint \"$b\\n\";\n</code></pre>\n\n<p>It incorrectly outputted <code>0</code>.</p>\n\n<p>Then I found <a href=\"https://stackoverflow.com/questions/4620054/performing-math-operations-on-very-large-numbers-in-perl\">an answer</a> saying to use <code>bignum</code>:</p>\n\n<pre><code>use bignum;\n$b = 19999999999999999 % 10000000000000000;\nprint \"$b\\n\";\n</code></pre>\n\n<p>It correctly outputted <code>9999999999999999</code>.</p>\n\n<p>But <code>bignum</code> just converts all integer constants into a Math::BigInt.  So I tried the following which should be the same as using <code>bignum</code>:</p>\n\n<pre><code>use Math::BigInt;\n$b = Math::BigInt-&gt;new(19999999999999999) % Math::BigInt-&gt;new(10000000000000000);\nprint \"$b\\n\";\n</code></pre>\n\n<p>But that incorrectly outputted <code>0</code>.  Am I doing something wrong with Math::BigInt?</p>\n"}, {"tags": ["algorithm", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521988117, "post_id": 49476470, "comment_id": 85956383, "body": "The obvious enhancement is to perform <code>my $key = join( &quot;&quot;, sort( split (&#47;&#47;, fc($word) ) ) )</code> only once. That should make  a big difference. On top of that you can prefilter the words in the dictionary to select only those words that (say) begin with two of the letters in the original word."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1521992609, "post_id": 49476470, "comment_id": 85957777, "body": "Finding anagrams is a variation on the &quot;N-letter&quot; problem (what N letters spell the most other words of N or fewer letters). One of the most efficient solutions is to create a bit histogram where the first 32bit word represents a-z, the second layer represents duplicates of a-z... you seldom have to look past the 4th layer (which would indicate the same letter appears 4 times). By converting every word in the dictionary to its bit histogram you can seek matches using integer &amp; comparisons, and reject at the earliest possible layer."}, {"owner": {"reputation": 41, "user_id": 9473574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c4c34059cb7ab18676c991de8f945b2?s=128&d=identicon&r=PG&f=1", "display_name": "D.123perl456", "link": "https://stackoverflow.com/users/9473574/d-123perl456"}, "edited": false, "score": 0, "creation_date": 1521993724, "post_id": 49476470, "comment_id": 85958180, "body": "can you give  an example how it should look?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1521994581, "post_id": 49476470, "comment_id": 85958472, "body": "Apple becomes 10001000000100000000000000000000, 00000000000000010000000000000000. All words with one a, one e, one l, and two p`s will have the same pattern."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1521994777, "post_id": 49476470, "comment_id": 85958549, "body": "Maybe you would prefer a straightforward and easy t reason about approach that is reasonably performant instead of the most performant but harder to reason about."}, {"owner": {"reputation": 41, "user_id": 9473574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c4c34059cb7ab18676c991de8f945b2?s=128&d=identicon&r=PG&f=1", "display_name": "D.123perl456", "link": "https://stackoverflow.com/users/9473574/d-123perl456"}, "edited": false, "score": 0, "creation_date": 1521995033, "post_id": 49476470, "comment_id": 85958658, "body": "where I can read about it?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1521996162, "post_id": 49476470, "comment_id": 85959107, "body": "@DavidO: Using a string formed from the sorted letters in the original word will provide a similar key. The OP has already done this, and it produces shorter keys than your proposal without any disadvantages that I can see. Perhaps if the requirement were to find words that use a <i>subset</i> of the original word then bitmaps would be more useful, but that is not the OP&#39;s requirement."}, {"owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 1, "creation_date": 1521997952, "post_id": 49476470, "comment_id": 85959809, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/55210/algorithm-to-generate-anagrams\">Algorithm to generate anagrams</a>"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 9473574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c4c34059cb7ab18676c991de8f945b2?s=128&d=identicon&r=PG&f=1", "display_name": "D.123perl456", "link": "https://stackoverflow.com/users/9473574/d-123perl456"}, "edited": false, "score": 0, "creation_date": 1522014360, "post_id": 49480811, "comment_id": 85965391, "body": "also suits function sort which goes over dictionary and have block in where we can fill our hash. It works very fast. I&#39;m surprised."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1522029561, "post_id": 49480811, "comment_id": 85968762, "body": "I think you mean to do: <code>my $key = join &#39;&#39;, sort split &#47;&#47;, CORE::fc($_); </code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522029612, "post_id": 49480811, "comment_id": 85968771, "body": "<code>fc</code> vs <code>CORE::fc</code> depending on if your perl version is &gt;= 5.16"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1522031896, "post_id": 49480811, "comment_id": 85969300, "body": "@xxfelixxx, <code>CORE::fc</code> or <code>use feature qw( fc );</code>, your pick"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1522032480, "last_edit_date": 1522032480, "creation_date": 1522011094, "answer_id": 49480811, "question_id": 49476470, "link": "https://stackoverflow.com/questions/49476470/what-is-the-most-efficient-algorithm-to-find-anagrams-from-a-dictionary/49480811#49480811", "title": "What is the most efficient algorithm to find anagrams from a dictionary?", "body": "<p>O(N).</p>\n\n<pre><code>my %grouped;\nwhile (&lt;&gt;) {\n   chomp;\n   my $key = sort split //, fc($_);\n   push @{ $grouped{$key} }, $_;\n}\n\nmy @anagrams = grep { @$_ &gt;= 2 } values(%grouped);\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9473574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c4c34059cb7ab18676c991de8f945b2?s=128&d=identicon&r=PG&f=1", "display_name": "D.123perl456", "link": "https://stackoverflow.com/users/9473574/d-123perl456"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522061960, "creation_date": 1521984928, "last_edit_date": 1522061960, "question_id": 49476470, "link": "https://stackoverflow.com/questions/49476470/what-is-the-most-efficient-algorithm-to-find-anagrams-from-a-dictionary", "title": "What is the most efficient algorithm to find anagrams from a dictionary?", "body": "<p>I want to create a hash: keys will be first met different words, the value is a reference to anon array with anagrams of this key.</p>\n\n<p>I wrote the following code, which works when the amount of words is in range (0 to a few thousand) but I want to make it faster. </p>\n\n<p>Below is my way to check if a string is an anagram. I iterate for all words and for all keys of the hash.</p>\n\n<pre><code>join(\"\", sort(split (//, fc($word)))) eq join(\"\", sort(split (//, fc($key)))))\n</code></pre>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1522018049, "post_id": 49471465, "comment_id": 85966374, "body": "One item to change in your code would be <code>key =&gt; &#39;asset&#39;,</code>"}, {"owner": {"reputation": 141, "user_id": 6277637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75bd241571946bd8060b505d56ec4b?s=128&d=identicon&r=PG&f=1", "display_name": "James E Keenan", "link": "https://stackoverflow.com/users/6277637/james-e-keenan"}, "edited": false, "score": 0, "creation_date": 1527036225, "post_id": 49471465, "comment_id": 87970134, "body": "I have released a new version of Text::CSV::Hashify to CPAN to address some of the concerns raised in this thread.  See <a href=\"http://search.cpan.org/~jkeenan/Text-CSV-Hashify-0.11/\" rel=\"nofollow noreferrer\">search.cpan.org/~jkeenan/Text-CSV-Hashify-0.11</a>.  See also <a href=\"https://rt.cpan.org/Ticket/Display.html?id=125384\" rel=\"nofollow noreferrer\">rt.cpan.org/Ticket/Display.html?id=125384</a> and <a href=\"https://rt.cpan.org/Ticket/Display.html?id=125385\" rel=\"nofollow noreferrer\">rt.cpan.org/Ticket/Display.html?id=125385</a>."}], "answers": [{"comments": [{"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 2, "creation_date": 1521943605, "post_id": 49471620, "comment_id": 85946365, "body": "Do not use &quot;no warnings&quot;. Use warnings to discover problems in your code, so always put &quot;use strict; use warnings;&quot; (on 2 lines) in all your progams."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1521955594, "post_id": 49471620, "comment_id": 85948100, "body": "<code>no warnings &#39;uninitialized&#39;;</code> won&#39;t make a difference. If the warning is indeed spurious, remove <code>-w</code> and add <code>use warnings qw( all );</code>."}, {"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "reply_to_user": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1521983364, "post_id": 49471620, "comment_id": 85954913, "body": "@PatrickMevzek Don&#39;t be so sure about &quot;no warnings&quot;. Just run <code>grep -r --include=&#39;*.pm&#39; &#39;no warnings&#39;  . | wc -l </code> in your perl/lib directory. For me it returns about 150 occurrences."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1521984098, "post_id": 49471620, "comment_id": 85955176, "body": "And? The fact that others are doing a mistake justify to do the same? Even more that should justify giving this very bad advice to a beginner, the exact target that would get useful help from such feature?"}, {"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "reply_to_user": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1521984735, "post_id": 49471620, "comment_id": 85955354, "body": "@PatrickMevzek perl/lib is the standard perl distribution. They put &quot;no warnings&quot; there for the very practical purposes, it is <i>not</i> a mistake.   As to beginners, I &#39;ve rewritten my answer to be more clear about the scope of &quot;no warnings&quot;.   And yes, it actually does not apply for this case."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1521985635, "post_id": 49471620, "comment_id": 85955621, "body": "And so (again) ? Writers of module inside the perl standard distribution have probably just a tad better experience than the poster or any Perl beginner. So giving a beginner an advice to remove &quot;use warnings&quot; is just plain wrong, this is not debatable. When the beginner will have enough experience to understand what &quot;use warnings&quot; does and why sometimes we can do without then and only then he could remove it. But starting to develop in Perl without &quot;use strict; use warnings;&quot; is just very very bad advice."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1521985673, "post_id": 49471620, "comment_id": 85955633, "body": "The warnings show up because the library is not used as it should. Use the library correctly and you will not  get warnings."}, {"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "reply_to_user": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1521986156, "post_id": 49471620, "comment_id": 85955764, "body": "@PatrickMevzek I never adviced anyone to remove <code>use warnings</code>.  And adding the disclaimer <code>use strict; use warnings;</code> into every answer is just plain silly."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1521986378, "post_id": 49471620, "comment_id": 85955844, "body": "Yes, you edited your answer multiple times. The first one was: put no warnings &#39;uninitialized&#39;;  This is a bad advice and I will stop there. Put &quot;use strict; use warnings;&quot; in any code when you begin is the right way to learn Perl and would probably cut the number of questions here by half just with that."}, {"owner": {"reputation": 989, "user_id": 4970442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed9f7f093bc4915bfe51e794e846ea2?s=128&d=identicon&r=PG", "display_name": "Pablo Bianchi", "link": "https://stackoverflow.com/users/4970442/pablo-bianchi"}, "edited": false, "score": 0, "creation_date": 1526753875, "post_id": 49471620, "comment_id": 87871181, "body": "I file <a href=\"https://github.com/jkeenan/text-csv-hashify/issues/4\" rel=\"nofollow noreferrer\">this issue</a> on Hashify git repo."}], "tags": [], "owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "is_accepted": true, "score": 1, "last_activity_date": 1521983586, "last_edit_date": 1521983586, "creation_date": 1521940645, "answer_id": 49471620, "question_id": 49471465, "link": "https://stackoverflow.com/questions/49471465/use-of-uninitialized-in-textcsvhashify/49471620#49471620", "title": "Use of uninitialized in Text::CSV::Hashify", "body": "<p>After a cursory look at the module:<br>\nYou specified 'asa' as a key, but your data missing that field.<br>\nThis causes the: <code>Key '' already seen at csv.pl line 13.</code></p>\n\n<p>The warnings show up because you run the script with <code>-w</code> option (and also because the module author didn't take care of uninitialized variables).</p>\n\n<p>In general you use <code>no warnings 'uninitialized';</code> to silence expected warnings that come from <em>your</em> code (scoping it to the smallest block necessary).  </p>\n\n<p>In this case the warnings have come from the module code that you don't control (well, you can patch it, but this of course should be avoided).<br>\nTo alleviate the problem you can: </p>\n\n<ul>\n<li>do not override module's warnings levels with <code>-w</code>, use <code>use warnings</code>, which applies only to your code. </li>\n<li>trap warnings coming from the module with <code>$SIG{__WARN__} = \\&amp;handler_sub</code>, (more details: <code>perldoc perlvar</code> -> <code>%SIG</code>).  This is not guaranteed to work with every module though. </li>\n</ul>\n"}], "owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 49471620, "answer_count": 1, "score": 1, "last_activity_date": 1521983586, "creation_date": 1521938652, "question_id": 49471465, "link": "https://stackoverflow.com/questions/49471465/use-of-uninitialized-in-textcsvhashify", "title": "Use of uninitialized in Text::CSV::Hashify", "body": "<p>I'm a beginner. I am trying to assign values from a CSV file to a hash. I get tired all day. I'm closing my hands already. My csv:</p>\n\n<pre><code>currency,asset,exchange,strategy,profit,profitday,yearlyprofit,marketchange,profitmarket,tradeamount,tradesday,winingtrades,lossetrades,percentagewins,bestwin,medianwins,worstloss,medianloss,candlesize,warmupperiod,daysofdataset,backteststart,datasetfrom,datasetto,pricevolality,note\nUSD,BTC,bitfinex,BBRSI,0.00,-1,0,-2.55,2.55,0,-1,0,0,-1,,na,,na,5,144,0,\"2018-03-25 01:15:39\",\"2018-03-24 00:00:00\",\"2018-03-24 12:00:00\",11.20,\"shorter period\"\nUSD,XMR,bitfinex,BBRSI,0.00,-1,0,-2.18,2.18,0,-1,0,0,-1,,na,,na,5,144,0,\"2018-03-25 01:15:39\",\"2018-03-24 00:00:00\",\"2018-03-24 12:00:00\",17.41,\"shorter period\"\n</code></pre>\n\n<p>At line end is \\r\\n.</p>\n\n<p>Script:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Data::Dumper;\n\nmy $csvfile = 'gekko/backtestbitfinex/testowy.csv';\n\nmy $obj;\nuse Text::CSV::Hashify;\n\n\n# Object-oriented interface\nuse Text::CSV::Hashify;\n$obj = Text::CSV::Hashify-&gt;new( {\nfile =&gt; $csvfile,\nformat =&gt; 'hoh', # hash of hashes, which is default\nkey =&gt; 'asa',\n#eol =&gt; '\\r\\n',\nsep_char =&gt; ',',\nquote_char =&gt; '',\nescape_char =&gt; '',\nbinary =&gt; 1,\ndecode_utf8 =&gt; 0,\nauto_diag =&gt; 1,\ndiag_verbose =&gt; 1,\nblank_is_undef =&gt; 0,\nempty_is_undef =&gt; 0,\nallow_whitespace =&gt; 1,\nallow_loose_quotes =&gt; 1,\nallow_loose_escapes =&gt; 1,\nallow_unquoted_escape =&gt; 1,\nalways_quote =&gt; 1,\nquote_empty =&gt; 1,\nquote_space =&gt; 1,\nescape_null =&gt; 1,\nquote_binary =&gt; 1,\nkeep_meta_info =&gt; 1,\nverbatim =&gt; 0,\n\n\n} ); \nprint Dumper \\$obj;\n</code></pre>\n\n<p>Output error:</p>\n\n<pre><code>Use of uninitialized value $kk in hash element at /usr/local/share/perl/5.22.1/Text/CSV/Hashify.pm line 353, &lt;GEN0&gt; line 2.\nUse of uninitialized value $kk in hash element at /usr/local/share/perl/5.22.1/Text/CSV/Hashify.pm line 357, &lt;GEN0&gt; line 2.\nUse of uninitialized value $kk in hash element at /usr/local/share/perl/5.22.1/Text/CSV/Hashify.pm line 359, &lt;GEN0&gt; line 2.\nUse of uninitialized value $kk in hash element at /usr/local/share/perl/5.22.1/Text/CSV/Hashify.pm line 353, &lt;GEN0&gt; line 3.\nUse of uninitialized value $kk in concatenation (.) or string at /usr/local/share/perl/5.22.1/Text/CSV/Hashify.pm line 354, &lt;GEN0&gt; line 3.\nKey '' already seen at csv.pl line 13.\n</code></pre>\n\n<p>By default When I set: <code>eol =&gt; '\\r\\n',</code> get error: <code>'_ERROR_DIAG' =&gt; 'EOF - End of data in parsing input stream',</code></p>\n\n<p>What's wrong with my CSV?</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1521925238, "post_id": 49468823, "comment_id": 85942186, "body": "You don&#39;t want to change a field; you want the same fields with a different field <i>delimiter</i>."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1521935773, "post_id": 49468823, "comment_id": 85944938, "body": "The &quot;get empty data&quot; problem is you&#39;re missing the <code>print</code> statement to produce output."}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 9169752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa4ea1d5239935a9e8a698f297ed7b9?s=128&d=identicon&r=PG&f=1", "display_name": "Dr Jay", "link": "https://stackoverflow.com/users/9169752/dr-jay"}, "edited": false, "score": 0, "creation_date": 1521924505, "post_id": 49468840, "comment_id": 85941962, "body": "what if the data have  demo:@example.com:john will become 2 field and that i told you i need a regex after email .com: (.*@.*&#41;:"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 377, "user_id": 9169752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa4ea1d5239935a9e8a698f297ed7b9?s=128&d=identicon&r=PG&f=1", "display_name": "Dr Jay", "link": "https://stackoverflow.com/users/9169752/dr-jay"}, "edited": false, "score": 1, "creation_date": 1521935896, "post_id": 49468840, "comment_id": 85944961, "body": "and of course <code>tr &#39;:&#39; &#39;|&#39;</code>. @DrJay if you have cases like you just asked about in your comment then obviously they should be present in your question, don&#39;t wait until people have answered and THEN tell us the sample input you posted isn&#39;t very good at representing your real input. Since you&#39;ve already accepted an answer it&#39;s unlikely you&#39;ll get other answers now."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 377, "user_id": 9169752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa4ea1d5239935a9e8a698f297ed7b9?s=128&d=identicon&r=PG&f=1", "display_name": "Dr Jay", "link": "https://stackoverflow.com/users/9169752/dr-jay"}, "edited": false, "score": 0, "creation_date": 1521946565, "post_id": 49468840, "comment_id": 85946803, "body": "@DrJay, check my edited answer now and let me know if this helps you."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": true, "score": 2, "last_activity_date": 1521947185, "last_edit_date": 1521947185, "creation_date": 1521918975, "answer_id": 49468840, "question_id": 49468823, "link": "https://stackoverflow.com/questions/49468823/change-field-after-or-before-a-regex/49468840#49468840", "title": "change field after or before a regex", "body": "<p><strong><em>EDIT:</em></strong> Seems OP needs to cover mail id always and then want to change colon, so following may help on this case then.</p>\n\n<pre><code>echo \"demo:@example.com:john\" | sed 's/\\(.*\\.com\\):\\(.*\\)/\\1|\\2/'\n</code></pre>\n\n<hr>\n\n<p>Simple <code>sed</code></p>\n\n<pre><code>sed 's/:/|/' Input_file\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>echo \"demo@example.com:john\" | sed 's/:/|/'\n</code></pre>\n\n<p><strong><em>Solution 2nd:</em></strong></p>\n\n<pre><code>echo \"demo@example.com:john\" | sed 's/\\([^:]*\\):\\(.*\\)/\\1|\\2/'\n</code></pre>\n\n<p><strong><em>solution 3rd:</em></strong></p>\n\n<pre><code>echo \"demo@example.com:john\" | awk '{sub(/:/,\"|\")} 1'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3396, "user_id": 2586108, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9bfe0d3e55c7d7a9693c713a67d8618?s=128&d=identicon&r=PG", "display_name": "John B", "link": "https://stackoverflow.com/users/2586108/john-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1521931156, "creation_date": 1521931156, "answer_id": 49470700, "question_id": 49468823, "link": "https://stackoverflow.com/questions/49468823/change-field-after-or-before-a-regex/49470700#49470700", "title": "change field after or before a regex", "body": "<p>If you want to conditionally replace the field separator based on whether the value before the delimiter matches the regex, here is an Awk option:</p>\n\n<pre><code>$ echo -e \"demo@example.com:john\\nnot an email:dave\" |\n      awk 'BEGIN { FS=\":\"; OFS=\"|\" } NF == 2 &amp;&amp; $1 ~ /^.*@.*$/ { $1=$1 } 1'\ndemo@example.com|john\nnot an email:jacob\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 9169752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa4ea1d5239935a9e8a698f297ed7b9?s=128&d=identicon&r=PG&f=1", "display_name": "Dr Jay", "link": "https://stackoverflow.com/users/9169752/dr-jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 49468840, "answer_count": 2, "score": 1, "last_activity_date": 1521947185, "creation_date": 1521918911, "question_id": 49468823, "link": "https://stackoverflow.com/questions/49468823/change-field-after-or-before-a-regex", "title": "change field after or before a regex", "body": "<p>i'm trying to change the field after email with regex.</p>\n\n<pre><code>demo@example.com:john\n\ndesired output demo@example.com|john\n</code></pre>\n\n<p>here is my script , but i get empty data whats the problem??</p>\n\n<pre><code>awk '{sub(/\\(.*@.*\\):/,\"|\")}'\n</code></pre>\n"}, {"tags": ["perl", "bioinformatics"], "comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1521967693, "post_id": 49468804, "comment_id": 85950445, "body": "When you try to run GeneMark-ES, what happens, including the <i>exact text</i> of any error messages you receive? How does this differ from what you expect to happen? What makes you think that <code>Simple.pm</code> might be in any way related to the problem?"}, {"owner": {"reputation": 41, "user_id": 4343913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRjNP.jpg?s=128&g=1", "display_name": "juanmonroynieto", "link": "https://stackoverflow.com/users/4343913/juanmonroynieto"}, "edited": false, "score": 0, "creation_date": 1522097784, "post_id": 49468804, "comment_id": 86004988, "body": "The error output is: <code>Can&#39;t locate simple.pm in @INC (@INC contains: &quot;Directories in this variable&quot;) BEGIN failed--compilation aborted at .&#47;gmes_petap.pl line 82.</code>  I have gone past it by copying one by one every file in the screenshot into the expected path. Eventually, I stopped receiving errors. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4343913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRjNP.jpg?s=128&g=1", "display_name": "juanmonroynieto", "link": "https://stackoverflow.com/users/4343913/juanmonroynieto"}, "edited": false, "score": 0, "creation_date": 1521919554, "post_id": 49468911, "comment_id": 85940327, "body": "How do I choose the right distribution for the program I am trying to run?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 41, "user_id": 4343913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRjNP.jpg?s=128&g=1", "display_name": "juanmonroynieto", "link": "https://stackoverflow.com/users/4343913/juanmonroynieto"}, "edited": false, "score": 0, "creation_date": 1521919663, "post_id": 49468911, "comment_id": 85940364, "body": "The program should have documentation regarding which distributions to use."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 41, "user_id": 4343913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRjNP.jpg?s=128&g=1", "display_name": "juanmonroynieto", "link": "https://stackoverflow.com/users/4343913/juanmonroynieto"}, "edited": false, "score": 0, "creation_date": 1521934237, "post_id": 49468911, "comment_id": 85944628, "body": "@minombreespollo: Pretty much any version of the modules should at least compile. <b>stevieb</b> hasn&#39;t explained this very well, but you should start by removing <code>PERL5LIB</code> altogether. If you will copy and paste that text into your question instead of posting images then we can progress from there. Please also show the result of <code>perl -E &#39;say for @INC&#39;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 41, "user_id": 4343913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRjNP.jpg?s=128&g=1", "display_name": "juanmonroynieto", "link": "https://stackoverflow.com/users/4343913/juanmonroynieto"}, "edited": false, "score": 0, "creation_date": 1521934427, "post_id": 49468911, "comment_id": 85944668, "body": "@minombreespollo: You shouldn&#39;t mark a question as being accepted until all of the issues in your question have been fulfilled. Most people won&#39;t look at questions with an accepted answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 41, "user_id": 4343913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRjNP.jpg?s=128&g=1", "display_name": "juanmonroynieto", "link": "https://stackoverflow.com/users/4343913/juanmonroynieto"}, "edited": false, "score": 0, "creation_date": 1521934930, "post_id": 49468911, "comment_id": 85944769, "body": "@minombreespollo: Please also add the output of <code>which -a perl</code> <i>in texr format</i>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521935348, "post_id": 49468911, "comment_id": 85944840, "body": "<i>&quot;Those <code>Simple.pm</code> files are module files, and each one is for a different &quot;distribution&quot;&quot;</i> While this has been exacerbated by the OP latching on to the first &quot;answer&quot; that appeared, what you write is highly misleading if not downright wrong. The OP&#39;s list shows <i>ten distinct modules</i>, and while different modules will of course have different &quot;distributions&quot;, it&#39;s far from being useful to explain things that way. Please don&#39;t post solutions unless you are pretty much certain of what you are saying."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 3, "last_activity_date": 1521919628, "last_edit_date": 1521919628, "creation_date": 1521919398, "answer_id": 49468911, "question_id": 49468804, "link": "https://stackoverflow.com/questions/49468804/why-are-there-several-modules-in-perl-with-the-same-name-but-different-file-size/49468911#49468911", "title": "Why are there several modules in Perl with the same name but different file size?", "body": "<p>Those <code>Simple.pm</code> files are module files, and each one is for a different \"distribution\".</p>\n\n<p>For example, the one highlighted in the image is for <a href=\"https://metacpan.org/pod/Locale::Maketext::Simple\" rel=\"nofollow noreferrer\">Locale::Maketext::Simple</a>. <code>Simple.pm</code> is the actual module file itself. The first one in the image is for <a href=\"https://metacpan.org/pod/Bio::Location::Simple\" rel=\"nofollow noreferrer\">Bio::Location::Simple</a> etc. The <code>Bio/Location</code> part of the path signifies the actual name of the distribution as you can see.</p>\n\n<p>The installation instructions should outline exactly which distributions it requires. You don't just use the <code>Simple.pm</code> file directly.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1521936300, "creation_date": 1521936300, "answer_id": 49471241, "question_id": 49468804, "link": "https://stackoverflow.com/questions/49468804/why-are-there-several-modules-in-perl-with-the-same-name-but-different-file-size/49471241#49471241", "title": "Why are there several modules in Perl with the same name but different file size?", "body": "<p>You need to read <a href=\"https://perldoc.perl.org/perlmod.html#Perl-Modules\" rel=\"nofollow noreferrer\"><strong><em>Perl Modules</em></strong></a> from the documentation to understand how Perl uses module names</p>\n\n<p>After absorbing that, you will see that there are in reality only three different library locations which together contain ten module files that end with <code>Simple.pm</code></p>\n\n<ul>\n<li><code>/home/pollo/perl5/lib/perl5</code></li>\n<li><code>/usr/share/perl5/core_perl</code></li>\n<li><code>/usr/share/perl5/vendor_perl</code></li>\n</ul>\n\n<p>Nowhere is there anything that looks like <code>GeneMark-ES</code>, but it seems unlikely that it would end with <code>::Simple</code> if it were even there</p>\n\n<p>Please open a <strong><em>new question</em></strong> and describe your experience trying to install the module that you require instead of offering misleading and irrelevant facts</p>\n"}], "owner": {"reputation": 41, "user_id": 4343913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRjNP.jpg?s=128&g=1", "display_name": "juanmonroynieto", "link": "https://stackoverflow.com/users/4343913/juanmonroynieto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 49468911, "answer_count": 2, "score": -1, "last_activity_date": 1521936300, "creation_date": 1521918815, "last_edit_date": 1521934563, "question_id": 49468804, "link": "https://stackoverflow.com/questions/49468804/why-are-there-several-modules-in-perl-with-the-same-name-but-different-file-size", "title": "Why are there several modules in Perl with the same name but different file size?", "body": "<p>I am trying to install <a href=\"http://topaz.gatech.edu/GeneMark/\" rel=\"nofollow noreferrer\">GeneMark-ES</a> but when trying to run as specified in the documentation several PERL modules are missing. I have tried to point to all the necessary files by defining PERL5LIB variable.</p>\n\n<p>However, I have come across several files which are installed but there is more than one file in various directories. Not only that, each file has different file sizes.</p>\n\n<p>Why is that happening? What file should I use?</p>\n\n<p>Here is a GUI search for files named <code>Simple.pm</code></p>\n\n<p><img src=\"https://i.stack.imgur.com/dZ8JG.png\" alt=\"GUI search\"></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 8, "creation_date": 1521904636, "post_id": 49465885, "comment_id": 85935316, "body": "Please do not post code as images."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1521964444, "post_id": 49465885, "comment_id": 85949667, "body": "This has nothing to do with <code>join</code>. Compare <code>print &#39;\\n&#39;</code> and <code>print &quot;\\n&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1521902177, "creation_date": 1521902177, "answer_id": 49465926, "question_id": 49465885, "link": "https://stackoverflow.com/questions/49465885/different-between-join-with-n-and-join-with-n-in-perl/49465926#49465926", "title": "Different between join with &quot;\\n&quot; and join with &#39;\\n&#39; in Perl", "body": "<p>In single quotes, only <code>\\'</code> and <code>\\\\</code> are special.</p>\n\n<p>In double quotes, many character combinations have special meaning. We say that double quotes are \"interpolating\". See \"Quote and Quote-like Operators\" in <a href=\"http://p3rl.org/perlop\" rel=\"nofollow noreferrer\">perlop</a> for details.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1522061804, "creation_date": 1522061804, "answer_id": 49489812, "question_id": 49465885, "link": "https://stackoverflow.com/questions/49465885/different-between-join-with-n-and-join-with-n-in-perl/49489812#49489812", "title": "Different between join with &quot;\\n&quot; and join with &#39;\\n&#39; in Perl", "body": "<p>This is about creating quoted strings. It has nothing to do with <code>join()</code>.</p>\n\n<p>From <a href=\"https://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">perldoc perldata</a>:</p>\n\n<blockquote>\n  <p>String literals are usually delimited by either single or double\n  quotes. They work much like quotes in the standard Unix shells:\n  double-quoted string literals are subject to backslash and variable\n  substitution; single-quoted strings are not (except for \"\\'\" and\n  \"\\\"). The usual C-style backslash rules apply for making characters\n  such as newline, tab, etc., as well as some more exotic forms. See\n  \"Quote and Quote-like Operators\" in perlop for a list.</p>\n</blockquote>\n\n<p>Following the advice to read <a href=\"https://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">perldoc perlop</a>, we find this list which tells us which quote-like operators interpolate variables and C-style escape sequences (like <code>\\n</code>):</p>\n\n<blockquote>\n<pre><code>Customary  Generic        Meaning          Interpolates\n''         q{}            Literal          no\n\"\"         qq{}           Literal          yes\n``         qx{}           Command          yes*\n           qw{}           Word list        no\n//         m{}            Pattern match    yes*\n           qr{}           Pattern          yes*\n           s{}{}          Substitution     yes*\n           tr{}{}         Transliteration  no (but see below)          \n           y{}{}          Transliteration  no (but see below)\n           &lt;&lt;EOF          here-doc         yes*\n\n* unless the delimiter is ''.\n</code></pre>\n</blockquote>\n\n<p>And this list of escape sequences:</p>\n\n<blockquote>\n<pre><code>Sequence     Note  Description\n\\t                  tab               (HT, TAB)\n\\n                  newline           (NL)\n\\r                  return            (CR)\n\\f                  form feed         (FF)\n\\b                  backspace         (BS)\n\\a                  alarm (bell)      (BEL)\n\\e                  escape            (ESC)\n\\x{263A}     [1,8]  hex char          (example: SMILEY)\n\\x1b         [2,8]  restricted range hex char (example: ESC)\n\\N{name}     [3]    named Unicode character or character sequence\n\\N{U+263D}   [4,8]  Unicode character (example: FIRST QUARTER MOON)\n\\c[          [5]    control char      (example: chr(27))\n\\o{23072}    [6,8]  octal char        (example: SMILEY)\n\\033         [7,8]  restricted range octal char  (example: ESC)\n</code></pre>\n</blockquote>\n\n<p>(I've omitted the notes - they can be found at the link above.)</p>\n\n<p>Summarising all of that, the answer to your question is that <code>\\n</code> (along with most other C-style escape sequences) are expanded in double-quoted strings and not in single-quoted strings.</p>\n\n<p>This is a feature that Perl shares with many (probably most) other programming languages.</p>\n"}], "owner": {"reputation": 1361, "user_id": 5798231, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/609adac6167f55126b0cb7fc93f4e589?s=128&d=identicon&r=PG&f=1", "display_name": "huy nguyen", "link": "https://stackoverflow.com/users/5798231/huy-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1522061804, "creation_date": 1521901939, "last_edit_date": 1521964516, "question_id": 49465885, "link": "https://stackoverflow.com/questions/49465885/different-between-join-with-n-and-join-with-n-in-perl", "title": "Different between join with &quot;\\n&quot; and join with &#39;\\n&#39; in Perl", "body": "<p>I have a list of all image names, now i want to join it by newline before run so i did this:</p>\n\n<pre><code>print (join '\\n', @all_img_name);\n</code></pre>\n\n<p>The above line will produce this kind of output:</p>\n\n<blockquote>\n  <p><code>meomeo_0\\nmeomeo_1\\nmeomeo_2\\nmeomeo_3\\nmeomeo_4\\nmeomeo_5\\nmeomeo_6\\nmeomeo_7\\nmeomeo_8\\nmeomeo_9\\nmeomeo_10\\nmeomeo_11\\nmeomeo_12\\nmeomeo_13\\nmeomeo_14\\nmeomeo_15</code></p>\n</blockquote>\n\n<p>while if i do this, i get everything right:</p>\n\n<pre><code>print (join \"\\n\", @all_img_name);\n</code></pre>\n\n<p>What is the difference between those two ways?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1521911577, "post_id": 49465045, "comment_id": 85937524, "body": "It will work for Parallel::ForkManager ??"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1521918957, "post_id": 49465045, "comment_id": 85940139, "body": "Parallel::ForkManager` provides for a child process to send data back to parent, explained in its docs. The downside is that it uses files for this. See <a href=\"https://stackoverflow.com/a/41891334/4653379\">this post</a> and <a href=\"https://stackoverflow.com/a/40434889/4653379\">this post</a> for examples."}, {"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521919889, "post_id": 49465045, "comment_id": 85940437, "body": "I tried IPC::Shareable. Had erros <code>IPC::Shareable::SharedMem: shmget: File exists at &#47;home&#47;f&#47;perl5&#47;lib&#47;perl5&#47;IPC&#47;Shareable.pm line 567.</code> In DBM::Deep I had errors <code>DBM::Deep: Cannot write to a deleted spot in DBM::Deep. at .&#47;backtest.pl line 581</code> and others. I read about run_on_exit and this way don&#39;t looking easy in my case."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1521958893, "post_id": 49465045, "comment_id": 85948604, "body": "Show your code using DBM::Deep and IPC::Shareable"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521899396, "post_id": 49465316, "comment_id": 85933608, "body": "<a href=\"https://perldoc.perl.org/threads.html\" rel=\"nofollow noreferrer\"><i>&quot;The use of interpreter-based threads in perl is officially discouraged&quot;</i></a>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1521899616, "post_id": 49465316, "comment_id": 85933683, "body": "@Borodin: I understand that people at IRC are tired of answering the same questions again and again, but I still don&#39;t understand why their feeling is reflected in the official documentation."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1521900456, "post_id": 49465316, "comment_id": 85933929, "body": "For details see <a href=\"https://www.nntp.perl.org/group/perl.perl5.porters/2015/05/msg227743.html\" rel=\"nofollow noreferrer\">nntp.perl.org/group/perl.perl5.porters/2015/05/msg227743.htm&zwnj;&#8203;l</a> or <a href=\"http://www.perlmonks.org/?node_id=1107534\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1107534</a> ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521903111, "post_id": 49465316, "comment_id": 85934837, "body": "That&#39;s very interesting; thank you."}, {"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1521910532, "post_id": 49465316, "comment_id": 85937214, "body": "I&#39;m using ForkManager not threads. I wrote this in question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1521913482, "post_id": 49465316, "comment_id": 85938146, "body": "@F.Grela: <b>choroba</b> is saying that it would be simpler to use threads instead."}, {"owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "edited": false, "score": 0, "creation_date": 1521919441, "post_id": 49465316, "comment_id": 85940284, "body": "This is not the answer to my question. I asked for a module to store the hash. I still have not found a solution."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1521899050, "last_edit_date": 1521899050, "creation_date": 1521898601, "answer_id": 49465316, "question_id": 49465045, "link": "https://stackoverflow.com/questions/49465045/parallelforkmanager-what-is-better-way-to-share-hash-between-parent-and-chil/49465316#49465316", "title": "Parallel::ForkManager - what is better way to share hash between parent and child?", "body": "<p>Threads can share data easily:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse threads;\nuse Thread::Queue;\n\nmy $q = 'Thread::Queue'-&gt;new;\n\nmy @workers = map 'threads'-&gt;create(sub {\n    $q-&gt;enqueue([ 'threads'-&gt;tid, scalar localtime ]);\n}), 1 .. 4;\n\n$_-&gt;join for @workers;\n\nmy %hash;\nwhile ($q-&gt;pending) {\n    my $data = $q-&gt;dequeue;\n    $hash{ $data-&gt;[0] } = $data-&gt;[1];\n}\n\nuse Data::Dumper; print Dumper \\%hash;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 9495076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0e20d815c07a771cbc3aab0e3328d?s=128&d=identicon&r=PG&f=1", "display_name": "F. Grela", "link": "https://stackoverflow.com/users/9495076/f-grela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "closed_date": 1521965854, "answer_count": 1, "score": 1, "last_activity_date": 1521965846, "creation_date": 1521896953, "last_edit_date": 1521919769, "question_id": 49465045, "link": "https://stackoverflow.com/questions/49465045/parallelforkmanager-what-is-better-way-to-share-hash-between-parent-and-chil", "closed_reason": "Duplicate", "title": "Parallel::ForkManager - what is better way to share hash between parent and child?", "body": "<p>I want to get a hash with all elements from all children using <code>Parallel::ForkManager</code>.</p>\n\n<pre><code>use strict;\n\nuse Parallel::ForkManager;\n\nmy @arr2 = (a, b, c, d);\n\nforeach ( @arr2 ) {\n\n    $pid = $pm-&gt;start\n\n    $hash{$_} = localtime;\n\n    # STORE ABOVE ELEMENT TO EXIST HASH\n\n    my $pid = $pm-&gt;start and next;\n}\n\n$pm-&gt;wait_all_children;\n\nREAD %hash\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>$hash{a} = 11:02\n$hash{b} = 11:03\n$hash{c} = 11:04\n$hash{d} = 11:05\n</code></pre>\n\n<p>Is it possible to share elements of hash by <code>run_on_exit</code> callback? Or I must use an external file? Which module does it in the easiest way? I tried IPC::Shareable and DBM::Deep. They do not work on my script.</p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 8, "last_activity_date": 1521881424, "creation_date": 1521881424, "answer_id": 49462891, "question_id": 49462856, "link": "https://stackoverflow.com/questions/49462856/programmatically-get-a-list-of-all-included-perl-packages/49462891#49462891", "title": "Programmatically get a list of all included Perl packages", "body": "<p>The hash <code>%INC</code> contains all the loaded packages, see <a href=\"http://p3rl.org/perlvar\" rel=\"noreferrer\">perlvar</a>.</p>\n\n<pre><code>print \"$_\\n\" for keys %INC;\n</code></pre>\n"}], "owner": {"reputation": 3124, "user_id": 354633, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kx0E0.jpg?s=128&g=1", "display_name": "antred", "link": "https://stackoverflow.com/users/354633/antred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 49462891, "answer_count": 1, "score": 4, "last_activity_date": 1521881424, "creation_date": 1521881127, "question_id": 49462856, "link": "https://stackoverflow.com/questions/49462856/programmatically-get-a-list-of-all-included-perl-packages", "title": "Programmatically get a list of all included Perl packages", "body": "<p>Does anyone know of a way to iterate, at Perl run time, through all packages that have actually been included (i.e. <code>use</code>'d or <code>require</code>'d) in a Perl program? I have found lots of answers regarding how to find all <strong>installed</strong> packages, but that's not what I'm interested in. I specifically want to get a list of only those packages that the program has actually included. Is this possible at all?</p>\n\n<p>I'm using Perl 5.26.0, by the way.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed", "scripting"], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 0, "last_activity_date": 1521877283, "last_edit_date": 1592644375, "creation_date": 1521877283, "answer_id": 49462416, "question_id": 49462320, "link": "https://stackoverflow.com/questions/49462320/allocate-a-sequence-number-to-items-until-set-items-are-found-unique-then-jump-o/49462416#49462416", "title": "allocate a sequence number to items until set items are found unique then jump on to next number in the sequence", "body": "<p>You may use <code>awk</code>:</p>\n<pre><code>awk -v s='GST-17/18/SO-004072' 'BEGIN{k=s; sub(/^.+-/, &quot;&quot;, k)}\np &amp;&amp; p != $1{sub(/-[^-]+$/, sprintf(&quot;-%06d&quot;, ++k), s)}\n{print $1, s; p=$1}' file\n</code></pre>\n\n<pre><code>773 GST-17/18/SO-004072\n773 GST-17/18/SO-004072\n289 GST-17/18/SO-004073\n289 GST-17/18/SO-004073\n912 GST-17/18/SO-004074\n912 GST-17/18/SO-004074\n912 GST-17/18/SO-004074\n912 GST-17/18/SO-004074\n644 GST-17/18/SO-004075\n644 GST-17/18/SO-004075\n644 GST-17/18/SO-004075\n</code></pre>\n<p>Learn <code>awk</code>:</p>\n<ul>\n<li><a href=\"https://www.gnu.org/s/gawk/manual/gawk.pdf\" rel=\"nofollow noreferrer\">Effective AWK Programming</a></li>\n<li><a href=\"http://www.grymoire.com/Unix/Awk.html\" rel=\"nofollow noreferrer\">Awk Tutorial</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 0, "last_activity_date": 1521880820, "creation_date": 1521880820, "answer_id": 49462816, "question_id": 49462320, "link": "https://stackoverflow.com/questions/49462320/allocate-a-sequence-number-to-items-until-set-items-are-found-unique-then-jump-o/49462816#49462816", "title": "allocate a sequence number to items until set items are found unique then jump on to next number in the sequence", "body": "<p>Following <code>awk</code> may also help you on same.</p>\n\n<pre><code>awk -v s1=\"-\" -v num=\"GST-17/18/SO-004072\" 'BEGIN{split(num, array,\"-\")} prev!=$0 &amp;&amp; prev{array[3]++;val=array[1] s1 array[2] s1 sprintf(\"%06d\",array[3])} {val=val?val:num;print $0,val;prev=$1}'  Input_file\n</code></pre>\n\n<p>Adding a non-one liner form of solution too here.</p>\n\n<pre><code>awk -v s1=\"-\" -v num=\"GST-17/18/SO-004072\" '\nBEGIN{\n  split(num, array,\"-\")}\nprev!=$0 &amp;&amp; prev{\n  array[3]++;\n  val=array[1] s1 array[2] s1 sprintf(\"%06d\",array[3])}\n{\n  val=val?val:num;\n  print $0,val;\n  prev=$1}\n'   Input_file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "is_accepted": false, "score": -1, "last_activity_date": 1521892475, "creation_date": 1521892475, "answer_id": 49464373, "question_id": 49462320, "link": "https://stackoverflow.com/questions/49462320/allocate-a-sequence-number-to-items-until-set-items-are-found-unique-then-jump-o/49464373#49464373", "title": "allocate a sequence number to items until set items are found unique then jump on to next number in the sequence", "body": "<p>A perl one-liner:</p>\n\n<pre><code>perl -lpe '$_=$s=sprintf q{%d GST-17/18/SO-%06d}, $_, ($t//=4071)+=($s!=$_)' in.txt\n</code></pre>\n\n<p>which is equivalent (except for safety checks) to the following long version:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ($t,$s)=(4072-1,);\nwhile (&lt;&gt;) {\n  chomp;\n  no warnings qw(numeric uninitialized);\n  if ($s!=$_) {\n    $t++;\n  }\n  $s=sprintf \"%d GST-17/18/SO-%06d\\n\", $_, $t;\n  print $s;\n}\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 5689640, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ff547ae6dcdfc09af3d0884767a223be?s=128&d=identicon&r=PG&f=1", "display_name": "asokan", "link": "https://stackoverflow.com/users/5689640/asokan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 49462416, "answer_count": 3, "score": -1, "last_activity_date": 1521892475, "creation_date": 1521876375, "question_id": 49462320, "link": "https://stackoverflow.com/questions/49462320/allocate-a-sequence-number-to-items-until-set-items-are-found-unique-then-jump-o", "title": "allocate a sequence number to items until set items are found unique then jump on to next number in the sequence", "body": "<p>allocate a sequence number to items until items are found unique then jump on to next number in the sequence</p>\n\n<p>for example sequence number starts with GST-17/18/SO-004072</p>\n\n<p>items</p>\n\n<pre><code>773\n773\n289\n289\n912\n912\n912\n912\n644\n644\n644\n</code></pre>\n\n<p>for allocate the first number in the sequence would be like shown below</p>\n\n<pre><code>773 GST-17/18/SO-004072\n773 GST-17/18/SO-004072\n</code></pre>\n\n<p>and jump on to next unique set of items and so on</p>\n\n<pre><code>289 GST-17/18/SO-004073\n289 GST-17/18/SO-004073\n</code></pre>\n\n<p>final desired result would be</p>\n\n<pre><code>773 GST-17/18/SO-004072\n773 GST-17/18/SO-004072\n289 GST-17/18/SO-004073\n289 GST-17/18/SO-004073\n912 GST-17/18/SO-004074\n912 GST-17/18/SO-004074\n912 GST-17/18/SO-004074\n912 GST-17/18/SO-004074\n644 GST-17/18/SO-004075\n644 GST-17/18/SO-004075\n644 GST-17/18/SO-004075\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1521870965, "post_id": 49461181, "comment_id": 85926265, "body": "I&#39;m thinking it would be easier to answer this if you also posted the output you want from your two small example files."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1521873311, "post_id": 49461181, "comment_id": 85926732, "body": "By what you show all your &#39;keys&#39; are the same (<code>23032018</code>).  Then as you assign to your hash <code>$hash</code> it always overwrites value for that one key and will only have one key-value pair in the end, with the value of the last line processed.  But I suspect that this can&#39;t be (that they are all the same)?  The question is unclear, can you improve it?"}, {"owner": {"reputation": 49, "user_id": 8802831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb28b8b09d0b36a9a1d2395b056662?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/8802831/ebk"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1521907821, "post_id": 49461181, "comment_id": 85936365, "body": "@Kjetil S. life_1,201810021569661,a_0300,true life_1,201810021569678,a_0300,true life_1,201810021569685,a_0300,true life_1,201810021569708,a_0300,true life_1,201810021569715,a_0300,true life_1,201810021569722,a_0300,true life_1,201810021569739,a_0300,true life_1,201810021569746,a_0300,true life_1,201810021569753,a_0300,true life_1,201810021569760,a_0300,true"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 8802831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb28b8b09d0b36a9a1d2395b056662?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/8802831/ebk"}, "edited": false, "score": 0, "creation_date": 1521910501, "post_id": 49462000, "comment_id": 85937200, "body": "I quite understand your idea I have a question. When would exist the FOR stop?         for my $timestamp ( @{ $ts{$key} } ) {             print join( &quot;,&quot;, $life, $timestamp, $id, $bool ).&quot;\\n&quot;;         } In this example: life_1,23032018,a_0300,true,21 I need to run through 21 lines the File B"}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "reply_to_user": {"reputation": 49, "user_id": 8802831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb28b8b09d0b36a9a1d2395b056662?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/8802831/ebk"}, "edited": false, "score": 0, "creation_date": 1521911542, "post_id": 49462000, "comment_id": 85937519, "body": "Not sure if I understand, but if the key doesn&#39;t exists the <code>@{ $ts{$key} }</code> array will be empty and nothing is printed.Ok, but now I think I understand the $num variable. It&#39;s a limit to how many can be printed for each line in FileA? If so, add <code>--$num or last;</code> right under the <code>print</code> line. <code>--$num</code> will subtract <code>1</code> from $num and it will be false when $num reaches <code>0</code> and then <code>last</code> will be called and break out of the for loop even if the array has more elements."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "reply_to_user": {"reputation": 49, "user_id": 8802831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb28b8b09d0b36a9a1d2395b056662?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/8802831/ebk"}, "edited": false, "score": 0, "creation_date": 1521912290, "post_id": 49462000, "comment_id": 85937751, "body": "Or add the line <code>last if $num-- &lt; 1;</code> like in my last answer above now. This also allow for $num == 0 to print nothing."}, {"owner": {"reputation": 49, "user_id": 8802831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb28b8b09d0b36a9a1d2395b056662?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/8802831/ebk"}, "edited": false, "score": 0, "creation_date": 1521918157, "post_id": 49462000, "comment_id": 85939877, "body": "Exactly but not FileA is the FileB. File A I need only position $life, $id, $bool. With these changes, only File A is printing."}], "tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1521912215, "last_edit_date": 1521912215, "creation_date": 1521873593, "answer_id": 49462000, "question_id": 49461181, "link": "https://stackoverflow.com/questions/49461181/join-2-files-with-conditional-and-loop/49462000#49462000", "title": "Join 2 files with conditional and loop", "body": "<p>You have tried yourself and where close enough, so I decided to help. </p>\n\n<p>First: with your <code>$hash{$col1[1]} = $col1[0]</code> you overwrite the hash value every time. You want to add it to an array connected to the key instead. A hash of arrays.</p>\n\n<p>Second: it was confusing to me (and others + yourself?) when you name the files A and B, then name the file handlers IN1 and IN2, and at last the arrays <code>@col2</code> and <code>@col1</code> with numbers in the opposite order. Good naming makes code more readable.</p>\n\n<pre><code>open( A, '&lt;', \"FileA\") or die \"FileA not found!\";\nopen( B, '&lt;', \"FileB\") or die \"FileB not found!\";\nmy %hash;\nwhile ( &lt;B&gt; ) {\n    chomp;\n    my @B = split \",\";\n    push @{ $hash{$B[1]} }, $B[0];\n}\nwhile ( &lt;A&gt; ) {\n    chomp;\n    my @A = split \",\";\n    print join( \",\", $A[0], $_, @A[2,3] ).\"\\n\" for @{ $hash{$A[1]} };\n}\n</code></pre>\n\n<p>Third: using field names instead of \"magic numbers\" for array indexes makes it even more readable.</p>\n\n<pre><code>my %ts;\nwhile ( &lt;B&gt; ) {\n    chomp;\n    my($timestamp, $key) = split \",\";\n    push @{ $ts{$key} }, $timestamp;\n}\nwhile ( &lt;A&gt; ) {\n    chomp;\n    my($life, $key, $id, $bool, $num) = split \",\";\n    for my $timestamp ( @{ $ts{$key} } ) {\n        last if $num-- &lt; 1;       #escape for loop after $num prints\n        print join( \",\", $life, $timestamp, $id, $bool ).\"\\n\";\n    }\n}\n</code></pre>\n\n<p>Fourth point: This kind of joining is what databases and SQL are good at. If you have large amounts of data you work with often in different ways, look into that. Maybe try SQLite first if databases is new to you. You can also use SQL in Perl with the DBI module or with <code>system(\"sqlite3 file.sql\")</code> for simple cases.</p>\n"}], "owner": {"reputation": 49, "user_id": 8802831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb28b8b09d0b36a9a1d2395b056662?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/8802831/ebk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521912215, "creation_date": 1521865233, "last_edit_date": 1521871713, "question_id": 49461181, "link": "https://stackoverflow.com/questions/49461181/join-2-files-with-conditional-and-loop", "title": "Join 2 files with conditional and loop", "body": "<p>I have a silly problem.\nI have 2 files:\nFile A with 9 or more lines.</p>\n\n<pre><code>life_1,23032018,a_0300,true,21\nlife_1,23032018,a_0200,true,21\nlife_1,23032018,a_0100,true,20\nlife_1,23032018,c_0300,true,21\nlife_1,23032018,c_0200,true,21\nlife_1,23032018,c_0100,true,25\nlife_1,23032018,d_0300,true,23\nlife_1,23032018,d_0200,true,21\nlife_1,23032018,d_0100,true,24\n</code></pre>\n\n<p>File B with 800 or more lines.</p>\n\n<pre><code>201810021569661,23032018\n201810021569678,23032018\n201810021569685,23032018\n201810021569708,23032018\n201810021569715,23032018\n201810021569722,23032018\n201810021569739,23032018\n201810021569746,23032018\n201810021569753,23032018\n201810021569760,23032018\n</code></pre>\n\n<p>I am using perl in the File A and using the 5th column to run through the number of lines of the File B and creating a third file. The keys are the second column (23032018) in both files. </p>\n\n<pre><code>life_1,201810021569661,a_0300,true\nlife_1,201810021569678,a_0300,true\nlife_1,201810021569685,a_0300,true\nlife_1,201810021569708,a_0300,true\nlife_1,201810021569715,a_0300,true\nlife_1,201810021569722,a_0300,true\nlife_1,201810021569739,a_0300,true\nlife_1,201810021569746,a_0300,true\nlife_1,201810021569753,a_0300,true\nlife_1,201810021569760,a_0300,true\n.\n.\n.\nlife_1,201810021569661,a_0200,true and so on.\n</code></pre>\n\n<p>But I did this the script in Perl but and it is always printing the last position of the File B and not each position of the second File.</p>\n\n<pre><code>$inputfile1 = \"FileA\";\n$inputfile2 = \"FileB\";\n\nopen ( IN1, '&lt;', $inputfile1) || die ( \"File $inputfile1 Not Found!\" );\nopen ( IN2, '&lt;', $inputfile2) || die ( \"File $inputfile2 Not Found!\" );\nmy %hash;\n\n\nwhile ( &lt;IN2&gt; ) {\n    chomp;\n    my @col1 = split \",\";\n    $hash{$col1[1]} = $col1[0];\n}\n\nwhile ( &lt;IN1&gt; ) {\n    chomp;\n    my @col2 = split \",\";\n    #print $col2[4] . \"\\n\";\n\n        if ( exists( $hash{$col2[1]} ) ) {\n                for (my $i=1; $i &lt;= $col2[4]; $i++){\n                        print $col2[0] . \",\" . $hash{$col2[1]} . \",\" . $col2[2] . \",\" . $col2[3] . \",\" . $i . \"\\n\";\n                }\n        }\n}\n</code></pre>\n\n<p>Could someone help with this issue?</p>\n"}, {"tags": ["perl", "file"], "comments": [{"owner": {"reputation": 312, "user_id": 3814817, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2be9806badbefc0091d6c94e90bd5b89?s=128&d=identicon&r=PG&f=1", "display_name": "Ancora Imparo", "link": "https://stackoverflow.com/users/3814817/ancora-imparo"}, "edited": false, "score": 0, "creation_date": 1521859658, "post_id": 49460613, "comment_id": 85924361, "body": "Which version of Perl are you using?"}, {"owner": {"reputation": 8002, "user_id": 1143850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2927fac544c9960cd5433688fe4cae1d?s=128&d=identicon&r=PG", "display_name": "Serge", "link": "https://stackoverflow.com/users/1143850/serge"}, "edited": false, "score": 1, "creation_date": 1521859946, "post_id": 49460613, "comment_id": 85924395, "body": "you are missing yet another closing <code>)</code> at this line."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521860556, "post_id": 49460613, "comment_id": 85924474, "body": "The syntax error being identified by <b>Serge</b> (missing closing paren in <code>if</code>), what does &quot;<i>all unique strings per column</i>&quot; mean? Your code is finding unique strings in the first column."}], "answers": [{"comments": [{"owner": {"reputation": 426, "user_id": 6878278, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/639151fbe5711929bd103a4db4637154?s=128&d=identicon&r=PG&f=1", "display_name": "willer2k", "link": "https://stackoverflow.com/users/6878278/willer2k"}, "edited": false, "score": 0, "creation_date": 1521909074, "post_id": 49460830, "comment_id": 85936747, "body": "Lifesaver! Thank you. :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1521861366, "last_edit_date": 1521861366, "creation_date": 1521861052, "answer_id": 49460830, "question_id": 49460613, "link": "https://stackoverflow.com/questions/49460613/perl-syntax-error-without-explanation-while-opening-file-to-manage-data/49460830#49460830", "title": "Perl syntax error without explanation while opening file to manage data", "body": "<pre><code>if ( grep( /^$master_fields[0]$/, @found ){\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>if ( grep( /^$master_fields[0]$/, @found ) ){\n</code></pre>\n\n<hr>\n\n<p>Since <code>$master_fields[0]</code> doesn't contain a regex pattern, you need to convert it into a regex pattern.</p>\n\n<pre><code>grep( /^$master_fields[0]$/, @found )\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>grep( /^\\Q$master_fields[0]\\E$/, @found )\n</code></pre>\n\n<hr>\n\n<p>Since you want to a perfect match against <code>$master_fields[0]</code>,</p>\n\n<pre><code>grep( /^\\Q$master_fields[0]\\E$/, @found )\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>grep( /^\\Q$master_fields[0]\\E\\z/, @found )\n</code></pre>\n\n<p>or better yet,</p>\n\n<pre><code>grep( $_ eq $master_fields[0], @found )\n</code></pre>\n\n<hr>\n\n<p>Finally, you're misusing the CSV parser &mdash;let it determine where a records ends by using <code>getline</code> instead of splitting on newlines&mdash; and you're being extremely inefficient &mdash;O(N<sup>2</sup>) instead of O(N)&mdash; by using an array instead of a hash.</p>\n\n<pre><code>my $csv = Text::CSV_XS-&gt;new({ binary =&gt; 1, auto_diag =&gt; 2 });  # Or Text::CSV\n\nmy $qfn = 'data.csv';\nopen(my $fh, '&lt;', $qfn)\n    or die(\"Unable to open \\\"$qfn\\\": $!\\n\");\n\nmy %found;\nwhile ( my $row = $csv-&gt;getline($fh) ) {\n    ++$found{ $row-&gt;[0] };\n}\n\nmy @found = sort keys %found;\n</code></pre>\n"}], "owner": {"reputation": 426, "user_id": 6878278, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/639151fbe5711929bd103a4db4637154?s=128&d=identicon&r=PG&f=1", "display_name": "willer2k", "link": "https://stackoverflow.com/users/6878278/willer2k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 49460830, "answer_count": 1, "score": 1, "last_activity_date": 1521907990, "creation_date": 1521858497, "last_edit_date": 1521907990, "question_id": 49460613, "link": "https://stackoverflow.com/questions/49460613/perl-syntax-error-without-explanation-while-opening-file-to-manage-data", "title": "Perl syntax error without explanation while opening file to manage data", "body": "\n\n<p>I am trying to go over a very large CSV file to find all unique strings per column. For example:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>John\nJohn\nJohn\nMark\n</code></pre>\n\n<p>should return <code>John</code> and <code>Mark</code>.</p>\n\n<p>I can't figure out what the problem is with my code. The error message is not helpful either (specifically 3rd and 4th error):</p>\n\n<blockquote>\n  <p>\"my\" variable @found masks earlier declaration in same scope at getdata.pl line 66.<br>\n     \"my\" variable $answer masks earlier declaration in same statement at getdata.pl line 67.<br>\n     syntax error at getdata.pl line 55, near \"){\"<br>\n     Global symbol \"@master_fields\" requires explicit package name (did you forget to declare \"my @master_fields\"?) at getdata.pl line 58.<br>\n  syntax error at getdata.pl line 61, near \"} else\"  </p>\n</blockquote>\n\n<p>Could someone point me in the right direction?</p>\n\n<p>Here is the code I have:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># open file\nopen my $lines, '&lt;', 'data.csv' or die \"Unable to open data.csv\\n\";\nmy @records = &lt;$lines&gt;;\nclose $lines or die \"Unable to close data.csv\\n\";   # Close the input file\n\n# iterate through each line\nforeach my $line ( @records ) {\n\n    if ( $csv-&gt;parse($line) ) {\n\n        my @master_fields = $csv-&gt;fields();\n\n        # if the string is already in the @found array, go to next line.\n        if ( grep( /^$master_fields[0]$/, @found ) {\n            next;\n        }\n        else {\n            # else; add to the @found array\n            push @found, $master_fields[0];\n        }        \n    }\n    else {\n        warn \"Line/record could not be parsed: @yob_records\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "openssl", "rsa", "x509"], "comments": [{"owner": {"reputation": 841, "user_id": 1408148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb10ae68d41c8ee347732eb7faa38090?s=128&d=identicon&r=PG", "display_name": "Kostia Shiian", "link": "https://stackoverflow.com/users/1408148/kostia-shiian"}, "edited": false, "score": 0, "creation_date": 1521869374, "post_id": 49460188, "comment_id": 85925981, "body": "Take a look at <a href=\"http://search.cpan.org/~chrisa/Crypt-OpenSSL-VerifyX509-0.10/VerifyX509.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~chrisa/Crypt-OpenSSL-VerifyX509-0.10/&hellip;</a>"}, {"owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "reply_to_user": {"reputation": 841, "user_id": 1408148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb10ae68d41c8ee347732eb7faa38090?s=128&d=identicon&r=PG", "display_name": "Kostia Shiian", "link": "https://stackoverflow.com/users/1408148/kostia-shiian"}, "edited": false, "score": 0, "creation_date": 1522080870, "post_id": 49460188, "comment_id": 85995897, "body": "Yeah, I&#39;ve been looking at that. The unit tests don&#39;t pass, they&#39;re not failing in obvious ways, and they fail differently on different platforms (Centos 6, Centos 7, MacOS)."}, {"owner": {"reputation": 841, "user_id": 1408148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb10ae68d41c8ee347732eb7faa38090?s=128&d=identicon&r=PG", "display_name": "Kostia Shiian", "link": "https://stackoverflow.com/users/1408148/kostia-shiian"}, "edited": false, "score": 0, "creation_date": 1522298348, "post_id": 49460188, "comment_id": 86103536, "body": "The source code of Crypt::OpenSSL::VerifyX509 looks pretty simple. Can you give more info about failing?"}], "answers": [{"tags": [], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1522349081, "creation_date": 1522349081, "answer_id": 49563060, "question_id": 49460188, "link": "https://stackoverflow.com/questions/49460188/how-to-validate-an-rsa-cert-in-perl/49563060#49563060", "title": "How to validate an RSA cert in perl", "body": "<p>After extensive research, the closest thing to a complete solution besides Crypt::OpenSSL::VerifyX509 (see above) is Net::SSLeay, which has a whole bunch of low-level bindings to openssl. They recently added these:</p>\n\n<pre><code>1.83 2018-01-06\n    X509_STORE_CTX_new and X509_verify_cert\n</code></pre>\n\n<p>but the documentation is sparse, and I wasn't able to get past related segfaults.</p>\n\n<p>Instead I validated the cert chain by hand:</p>\n\n<ol>\n<li>use Convert::ASN1 to re-encode the tbsCertificate data I had decoded\nin my PKCS#7 file (\"tbs\" is \"to-be-signed\") </li>\n<li>get the signature from the PCKS#7 data </li>\n<li>get the subjectPublicKeyInfo.subjectPublic Key from the cert that signed this cert </li>\n<li>feed that to $signer_key = Crypt::OpenSSL::RSA->new_public_key($signer_key_pem); </li>\n<li>and then do $signer_key->verify($cert_as_signed, $signature)</li>\n</ol>\n\n<p>and repeat for each cert in the chain.</p>\n\n<p>Checking validity dates and extension capabilities on each cert is part of all that.</p>\n"}], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522349081, "creation_date": 1521853223, "question_id": 49460188, "link": "https://stackoverflow.com/questions/49460188/how-to-validate-an-rsa-cert-in-perl", "title": "How to validate an RSA cert in perl", "body": "<p>How do you validate an cert given a root cert that signed it?  I've got this far:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code> $root_x509 = Crypt::OpenSSL::X509-&gt;new_from_string($root_key_data, FORMAT_ASN1);\n $root_key = Crypt::OpenSSL::RSA-&gt;new_public_key($x509-&gt;pubkey());  \n\n $other_x509 = Crypt::OpenSSL::X509-&gt;new_from_string($other_key_data, FORMAT_ASN1);\n $other_key = Crypt::OpenSSL::RSA-&gt;new_public_key($x509-&gt;pubkey());  \n</code></pre>\n\n<p>Ok, then what? I'm not seeing an obvious <code>$root_key-&gt;verify_certificate($other_x509)</code>;  Is Crypt::OpenSSL::VerifyX509 the only/best answer? That module is being problematic to compile and install, but I'll continue in that vein if it's the way to go. But I feel like I'm missing something.</p>\n\n<p>It looks like python, for example, has an obvious API an equivalent to which I'm not seeing in any of the OpenSSL perl libraries:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>trusted_store = X509Store()\ntrusted_store.add_cert(trusted_root)\n\ntry:\n  X509StoreContext(trusted_store, itunes_cert).verify_certificate()\nexcept X509StoreContextError as e:\n  print(\"iTunes certificate invalid\")\n</code></pre>\n"}, {"tags": ["perl", "binary", "openvswitch"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1521867317, "last_edit_date": 1521867317, "creation_date": 1521850640, "answer_id": 49459955, "question_id": 49458782, "link": "https://stackoverflow.com/questions/49458782/create-collection-of-bitwise-matches-from-an-integer-range/49459955#49459955", "title": "Create collection of bitwise matches from an integer range", "body": "<p>Let's pretend we trying to solve the equivalent problem for decimal for a second.</p>\n\n<p>Say you want 567 (inclusive) to 1203 (exclusive).</p>\n\n<ol>\n<li>Enlarging phase\n\n<ol>\n<li>You increment by 1 until you have the a multiple of 10 or you would exceed the range.\n\n<ol>\n<li>&rArr;598 (Creates 597-597)</li>\n<li>&rArr;599 (Creates 598-598)</li>\n<li>&rArr;600 (Creates 599-599)</li>\n</ol></li>\n<li>You increment by 10 until you have a multiple of 100 or you would exceed the range.</li>\n<li>You increment by 100 until you have a multiple of 1000 or you would exceed the range.\n\n<ol>\n<li>&rArr;700 (Creates 600-699)</li>\n<li>&rArr;800 (Creates 700-799)</li>\n<li>&rArr;900 (Creates 800-899)</li>\n<li>&rArr;1000 (Creates 900-999)</li>\n</ol></li>\n<li>You increment by 1000 until you have a multiple of 10000 or you would exceed the range.\n\n<ol>\n<li>[Would exceed limit]</li>\n</ol></li>\n</ol></li>\n<li>Shrinking phase\n\n<ol>\n<li>You increment by 100 until you would exceed the range.\n\n<ol>\n<li>&rArr;1100 (Creates 1000-1099)</li>\n<li>&rArr;1200 (Creates 1100-1199)</li>\n</ol></li>\n<li>You increment by 10 until you would exceed the range.</li>\n<li>You increment by 1 until you would exceed the range.\n\n<ol>\n<li>&rArr;1201 (Creates 1200-1200)</li>\n<li>&rArr;1202 (Creates 1201-1201)</li>\n<li>&rArr;1203 (Creates 1202-1202)</li>\n</ol></li>\n</ol></li>\n</ol>\n\n<p>Same in binary, but with powers of 2 instead of powers of 10.</p>\n\n<pre><code>my $start = 1000;\nmy $end   = 1999 + 1;\n\nmy @ranges;\n\nmy $this = $start;\nmy $this_power = 1;\nOUTER: while (1) {\n   my $next_power = $this_power * 2;\n   while ($this % $next_power) {\n      my $next = $this + $this_power;\n      last OUTER if $next &gt; $end;\n\n      my $mask = ~($this_power - 1) &amp; 0xFFFF;\n      push @ranges, sprintf(\"0x%04x/0x%x\", $this, $mask);\n      $this = $next;\n   }\n\n   $this_power = $next_power;\n}\n\nwhile ($this_power &gt; 1) {\n   $this_power /= 2;\n   while (1) {\n      my $next = $this + $this_power;\n      last if $next &gt; $end;\n\n      my $mask = ~($this_power - 1) &amp; 0xFFFF;\n      push @ranges, sprintf(\"0x%04x/0x%x\", $this, $mask);\n      $this = $next;\n   }\n}\n\nsay for @ranges;\n</code></pre>\n\n<p>We can optimize that by taking advantage of the fact that we're dealing with binary.</p>\n\n<pre><code>my $start = 1000;\nmy $end   = 1999 + 1;\n\nmy @ranges;\n\nmy $this = $start;\nmy $power = 1;\nmy $mask = 0xFFFF;\nwhile ($start &amp; $mask) {\n   if ($this &amp; $power) {\n      push @ranges, sprintf(\"0x%04x/0x%x\", $this, $mask);\n      $this += $power;\n   }\n\n   $mask &amp;= ~$power;\n   $power &lt;&lt;= 1;\n}\n\nwhile ($end &amp; ~$mask) {\n   $power &gt;&gt;= 1;\n   $mask |= $power;\n\n   if ($end &amp; $power) {\n      push @ranges, sprintf(\"0x%04x/0x%x\", $this, $mask);\n      $this |= $power;\n   }\n}\n\nsay for @ranges;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0x03e8/0xfff8\n0x03f0/0xfff0\n0x0400/0xfe00\n0x0600/0xff00\n0x0700/0xff80\n0x0780/0xffc0\n0x07c0/0xfff0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7853075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35b66151bce833e22ac1869c5a9990f3?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Harrison", "link": "https://stackoverflow.com/users/7853075/joe-harrison"}, "is_accepted": false, "score": -1, "last_activity_date": 1617727754, "last_edit_date": 1617727754, "creation_date": 1617654111, "answer_id": 66959306, "question_id": 49458782, "link": "https://stackoverflow.com/questions/49458782/create-collection-of-bitwise-matches-from-an-integer-range/66959306#66959306", "title": "Create collection of bitwise matches from an integer range", "body": "<p>I attempted to use the very elegant solution provided by @ikegami but found there were edge cases with resulting ports outside of the range or missing ports (e.g. 1-6, 1000-4000, 1000-10000). This alternative approach seems to avoid these issues.</p>\n<pre class=\"lang-perl prettyprint-override\"><code>my $LIMIT = 65535;\n\nsub maxPort {\n    my ($port, $mask) = @_;\n\n    my $xid = $LIMIT - $mask;\n    my $nid = $port &amp; $mask;\n    return $nid + $xid;\n}\n\nsub portMask {\n    my ($port, $end) = @_;\n\n    my $mask = $LIMIT;\n    my $test_mask = $LIMIT;\n    my $bit = 1;\n    my $net = $port &amp; $LIMIT;\n    my $max_port = maxPort($net, $LIMIT);\n\n    while ($net &amp;&amp; ($max_port &lt;= $end)) {\n        $net = $port &amp; $test_mask;\n        if ($net &lt; $port) {\n            last;\n        }\n        $max_port = maxPort($net, $test_mask);\n        if ($max_port &lt;= $end) {\n            $mask = $test_mask;\n        }\n        $test_mask -= $bit;\n        $bit &lt;&lt;= 1;\n    }\n\n    return $mask;\n}\n\nsub maskRange {\n    my ($start, $end) = @_;\n\n    my @portMasks;\n\n    if (($end &lt;= $start) || ($end &gt; $LIMIT)) {\n        exit 1;\n    }\n\n    my $mask = $LIMIT;\n    my $port = $start;\n\n    while ($port &lt;= $end) {\n        $mask = portMask($port, $end);\n        push @portMasks, sprintf(&quot;0x%04x/0x%x&quot;, $port, $mask);\n        $port = maxPort($port, $mask) + 1;\n    }\n\n    return @portMasks;\n}\n\nmy @ranges = maskRange(1000, 1999);\n\nfor (@ranges) {\n    print(&quot;$_&quot;, &quot;\\n&quot;);\n}\n</code></pre>\n<p>Outputs:</p>\n<pre><code>0x03e8/0xfff8\n0x03f0/0xfff0\n0x0400/0xfe00\n0x0600/0xff00\n0x0700/0xff80\n0x0780/0xffc0\n0x07c0/0xfff0\n</code></pre>\n"}], "owner": {"reputation": 4044, "user_id": 1170839, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9a847ecf864b5a6fa9c5956b997bb006?s=128&d=identicon&r=PG", "display_name": "GoldenNewby", "link": "https://stackoverflow.com/users/1170839/goldennewby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 49459955, "answer_count": 2, "score": 3, "last_activity_date": 1617727754, "creation_date": 1521842087, "last_edit_date": 1521867322, "question_id": 49458782, "link": "https://stackoverflow.com/questions/49458782/create-collection-of-bitwise-matches-from-an-integer-range", "title": "Create collection of bitwise matches from an integer range", "body": "<p><a href=\"http://www.openvswitch.org/support/dist-docs/ovs-fields.7.txt\" rel=\"nofollow noreferrer\">The OVS documentation</a> </p>\n\n<p>... describes populating rules in the following format:</p>\n\n<blockquote>\n  <p>Range matches can be expressed as a collection of bitwise matches. For\n  example, suppose that the goal is  to  match TCP source ports 1000 to\n  1999, inclusive. The binary representations of 1000 and 1999 are:</p>\n</blockquote>\n\n<pre><code>01111101000\n11111001111\n</code></pre>\n\n<blockquote>\n  <p>The following series of bitwise matches will  match  1000 and 1999 and\n  all the values in between:</p>\n</blockquote>\n\n<pre><code>01111101xxx\n0111111xxxx\n10xxxxxxxxx\n110xxxxxxxx\n1110xxxxxxx\n11110xxxxxx\n1111100xxxx\n</code></pre>\n\n<blockquote>\n  <p>which can be written as the following matches:</p>\n</blockquote>\n\n<pre><code>tcp,tp_src=0x03e8/0xfff8\ntcp,tp_src=0x03f0/0xfff0\ntcp,tp_src=0x0400/0xfe00\ntcp,tp_src=0x0600/0xff00\ntcp,tp_src=0x0700/0xff80\ntcp,tp_src=0x0780/0xffc0\ntcp,tp_src=0x07c0/0xfff0\n</code></pre>\n\n<p>I'm trying to determine the correct way to generate those matches based on a minimum and maximum integer value in perl. I looked at the module Bit::Vector , but I wasn't able to figure out how to effectively use it for this purpose.</p>\n"}, {"tags": ["linux", "perl", "permissions"], "comments": [{"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1521834102, "post_id": 49457136, "comment_id": 85917403, "body": "Can you not include the second script inside the first with <code>use script2</code>?"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1521834860, "post_id": 49457136, "comment_id": 85917730, "body": "If you make the second script a package, <code>use</code> that in the first script, and call the relevant methods, you should be fine. You can <code>chmod 0444</code> the second script (package). Aside from the fact that &#39;executing&#39; the package would not do much."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1521835253, "post_id": 49457136, "comment_id": 85917883, "body": "I don&#39;t think there&#39;s any way to do this kind of restriction."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1521835397, "post_id": 49457136, "comment_id": 85917933, "body": "Whatever check you add could be removed anyway, so the best you can do is prevent accidental misuse. All you need for that is to have script 1 pass a &quot;secret&quot; value to script 2 as a an argument, and have script 2 check for it."}, {"owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1521837279, "post_id": 49457136, "comment_id": 85918738, "body": "One unfortunate thing is that my users are perl savy.  So they too might simply use the perl module in a script of their own.   I thought of, and like, the idea of passing an access code from the first to the second.  But again, my perl savy users might just do the same thing if that passcode was in open text.  However, if it was encrypted somehow, maybe as an unreadable and uncopyable value which could be passed to the 2nd script, that might work."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521840213, "post_id": 49457136, "comment_id": 85919889, "body": "Well, hang on.  Do these nosy users of yours have read access to the second script?  If they do, I don&#39;t see how you can prevent them from using it. If not, you can use a password.   Or you can write a wrapper that checks how it&#39;s called and abort unless it is called from the first script.  One can still get around that but it would have to be a very deliberate action."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521863366, "post_id": 49460415, "comment_id": 85924928, "body": "This is the kind of a thing I do (for logging). But for this purpose it&#39;s beat by <code>stealing.pl script1.pl</code> -- where <code>stealing.pl</code> uses script1 <i>and</i> submits it on the command line (and discards that argument).  Like you say, anything can be defeated if script is readable but we can still strengthen this, by say <code>&#47;(perl\\s+)?script1\\.pl$&#47;</code> (or so)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521863772, "post_id": 49460415, "comment_id": 85924998, "body": "In fact, I think that <code>perl</code> <i>has to</i> be there so one can drop <code>?</code> quantifier"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521870201, "post_id": 49460415, "comment_id": 85926151, "body": "Yeah, but you can get around that too, using something like argv0 : <a href=\"https://cr.yp.to/ucspi-tcp/argv0.html\" rel=\"nofollow noreferrer\">cr.yp.to/ucspi-tcp/argv0.html</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521872511, "post_id": 49460415, "comment_id": 85926553, "body": "Completely agree(d). (They can even just name it <code>script1</code> in some other directory.  I am not sure whether that can be beat with <code>ps</code> options, but even if it can the process can lie about the name reported by <code>ps</code>). I meant that this still can be done to help a little."}, {"owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1521950414, "post_id": 49460415, "comment_id": 85947380, "body": "Thank You xxfelixxx and zdim.  That&#39;s ingenious and should do the trick."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1521871576, "last_edit_date": 1521871576, "creation_date": 1521856023, "answer_id": 49460415, "question_id": 49457136, "link": "https://stackoverflow.com/questions/49457136/can-execute-permissions-of-a-perl-script-be-restricted-to-call-from-another-perl/49460415#49460415", "title": "Can execute permissions of a perl script be restricted to call from another perl script?", "body": "<p>To guard against accidental misuse, you could simply check the parent process id and compare its command line execution to what you expect, something like the following, which uses <code>ps</code> to find that information.  But as long as the source code of your script is visible to other users, you can never truly prevent them from just copying/modifying it to suit their needs, so you may want to put a warning in the error message of <em>why</em> you think this is such a bad idea.</p>\n\n<p><strong>script1.pl</strong> and <strong>some_other_script.pl</strong> (both identical, with different names)</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\n(system('./script2.pl') == 0)\n    or die \"Unable to run script2.pl!\";\n</code></pre>\n\n<p><strong>script2.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nchomp(my $ppid = `ps -o ppid= -p $$`);\nchomp(my $parent_command = `ps -o command= $ppid`);\n\ndie \"script2.pl must only be called from script1.pl!\"\n    unless $parent_command =~ m|perl\\s+script1\\.pl$|; # as suggested by @zdim\n\nprint \"Have some pi : 3.14159\\n\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>$ perl script1.pl\nHave some pi : 3.14159\n\n$ perl script2.pl\nscript2.pl must only be called from script1.pl! at script2.pl line 9.\n\n$ perl some_other_script.pl\nscript2.pl must only be called from script1.pl! at ./script2.pl line 9.\nUnable to run script2.pl! at some_other_script.pl line 6.\n</code></pre>\n"}], "owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1521871576, "creation_date": 1521833535, "last_edit_date": 1521857105, "question_id": 49457136, "link": "https://stackoverflow.com/questions/49457136/can-execute-permissions-of-a-perl-script-be-restricted-to-call-from-another-perl", "title": "Can execute permissions of a perl script be restricted to call from another perl script?", "body": "<p>I have 2 perl scripts, one of them calls the other (system() call).  I do not want anything else to be able to execute that second perl script. Only the first perl script can run the second. The second perl script is a giant with lots of includes and forking and nested system calls of its own, so I'd like to avoid simply sticking it inside the first one as a subroutine (or anything like that).  However, it would be OK to wrap that second perl script inside a perl module/package or similar.  But the thing is I do not want any of the users of the first perl script to be able to execute the second perl script independently.  </p>\n\n<p>Is such a thing possible?<br>\nThis is to be done on RHEL6.    </p>\n\n<p>I'm going to tag this with both perl and linux because I'm open to linux based solutions too.  And I'll tag with permissions because that's at the heart of what I'm talking about.  Note though that I do not have root.</p>\n"}, {"tags": ["java", "perl", "subdomain"], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 2, "last_activity_date": 1521832251, "last_edit_date": 1521832251, "creation_date": 1521831323, "answer_id": 49456648, "question_id": 49456551, "link": "https://stackoverflow.com/questions/49456551/issue-taking-a-perl-api-call-that-is-in-json/49456648#49456648", "title": "issue taking a perl API call that is in JSON", "body": "<p>If it is truly a simple array reference (you can check by using <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a>), you need to iterate over the list and print each element/item:</p>\n\n<pre><code>for my $element (@{ $decoded-&gt;{'subdomains'} }){\n    print \"$element\\n\";\n}\n</code></pre>\n\n<p>That <code>@{}</code> syntax is a dereference operator. It dereferences the array reference held in the variable within its braces.</p>\n\n<p>See the <a href=\"https://perldoc.perl.org/perlreftut.html#Using-References\" rel=\"nofollow noreferrer\">Using References</a> section in the <a href=\"https://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> documentation for more information.</p>\n"}], "owner": {"reputation": 25, "user_id": 7944190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149f94e13e4167f75ad334793c220203?s=128&d=identicon&r=PG&f=1", "display_name": "z&#233;tfe ege&#232;e", "link": "https://stackoverflow.com/users/7944190/z%c3%a9tfe-ege%c3%a8e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 49456648, "answer_count": 1, "score": 0, "last_activity_date": 1521832251, "creation_date": 1521830965, "last_edit_date": 1521831469, "question_id": 49456551, "link": "https://stackoverflow.com/questions/49456551/issue-taking-a-perl-api-call-that-is-in-json", "title": "issue taking a perl API call that is in JSON", "body": "<p>hello I am having an issue taking a perl API call that is in JSON i want to get all subdomains from this link   </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse HTTP::Request;\nuse LWP::UserAgent;\nuse HTTP::Response;\nuse HTTP::Request::Common qw(POST);\nuse HTTP::Request::Common qw(GET);\nuse Data::Dumper;\nuse LWP::Simple;\nuse JSON qw( decode_json encode_json );\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua = LWP::UserAgent-&gt;new(keep_alive =&gt; 1);\n$ua-&gt;agent(\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.31 (KHTML, like Gecko) Chrome/26.0.1410.63 Safari/537.31\");\n\nmy $url = \"https://www.threatcrowd.org/searchApi/v2/domain/report/?domain=fb.com\";\n\nmy $request = $ua-&gt;get($url);\nmy $response = $request-&gt;content;\n\nmy $decoded = decode_json($response);\n\nprint $decoded-&gt;{'subdomains'};\n</code></pre>\n\n<p>and if run this script get this </p>\n\n<pre><code>C:\\Users\\USER\\Desktop&gt;1.pl\nARRAY(0x625c868\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1521824064, "post_id": 49454789, "comment_id": 85912432, "body": "There are no attributes and no objects in your example."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1521825487, "post_id": 49454789, "comment_id": 85913189, "body": "Some other languages call such a thing &quot;object&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 4, "last_activity_date": 1521825451, "creation_date": 1521825451, "answer_id": 49455202, "question_id": 49454789, "link": "https://stackoverflow.com/questions/49454789/perl-how-to-get-the-value-of-an-attribute-of-an-object/49455202#49455202", "title": "Perl: How to get the value of an attribute of an object", "body": "<p>You have a hash reference there (and those are often used as objects and that's what JSON calls an \"object\"). You can use the <code>-&gt;</code> to dereference it and put the key you want in curlies:</p>\n\n<pre><code>print $r_event-&gt;{'threaded'};\n</code></pre>\n\n<p>This is just like a normal hash. Note the <code>%</code> and the parens instead of curlies:</p>\n\n<pre><code>  %r_event = (\n            'type'      =&gt; 'READ_' . $task . '_STARTED',\n            'timestamp' =&gt; $timestamp,\n            'threadid'  =&gt; $threadId,\n            'fdn'       =&gt; $fdn\n        );\n</code></pre>\n\n<p>In that case it's just <code>$r_event{'threaded'}</code> with no arrow since there's no reference.</p>\n\n<p>My book <a href=\"https://www.intermediateperl.com\" rel=\"nofollow noreferrer\">Intermediate Perl</a> covers this and you'll also find it in <a href=\"https://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a>.</p>\n"}], "owner": {"reputation": 129, "user_id": 3414559, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1480602384/picture?type=large", "display_name": "Ray", "link": "https://stackoverflow.com/users/3414559/ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1521876572, "creation_date": 1521823986, "question_id": 49454789, "link": "https://stackoverflow.com/questions/49454789/perl-how-to-get-the-value-of-an-attribute-of-an-object", "title": "Perl: How to get the value of an attribute of an object", "body": "<p>In the below example, how would i print out the thread id?</p>\n\n<pre><code>  $r_event = {\n            'type'      =&gt; 'READ_' . $task . '_STARTED',\n            'timestamp' =&gt; $timestamp,\n            'threadid'  =&gt; $threadId,\n            'fdn'       =&gt; $fdn\n        };\n</code></pre>\n"}, {"tags": ["perl", "ocr", "cpan"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1521826817, "post_id": 49454434, "comment_id": 85913889, "body": "<a href=\"https://metacpan.org/search?q=OCR\" rel=\"nofollow noreferrer\">metacpan.org/search?q=OCR</a> turns up a few results; some of them pass their unit tests on Windows."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1521871635, "post_id": 49454434, "comment_id": 85926390, "body": "I once used Cygwin (getting Linux/Gnu tools on Windows, like <code>gcc</code>, <code>make</code> and <code>perl</code> for cygwin) and compiled tesseract there: <a href=\"https://vorba.ch/2014/tesseract-cygwin.html\" rel=\"nofollow noreferrer\">vorba.ch/2014/tesseract-cygwin.html</a> If the perl module doesn&#39;t run in Windows, you can run tesseract in perl inside cygwin like this: <code>system(&quot;tesseract -l eng input.tif output&quot;) == 0 or die &quot;ERROR: $? $!&quot;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 751, "user_id": 1585066, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/3i3lb.jpg?s=128&g=1", "display_name": "Rick Sarvas", "link": "https://stackoverflow.com/users/1585066/rick-sarvas"}, "edited": false, "score": 0, "creation_date": 1521832296, "post_id": 49455509, "comment_id": 85916580, "body": "I&#39;m glad people are still getting use out of that post. Sadly, I never did get a reply from that module author, so I think that module is truly in an abandoned state now :("}], "tags": [], "owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "is_accepted": false, "score": 2, "last_activity_date": 1521826817, "creation_date": 1521826817, "answer_id": 49455509, "question_id": 49454434, "link": "https://stackoverflow.com/questions/49454434/is-it-possible-to-do-ocr-in-perl-and-windows/49455509#49455509", "title": "Is it possible to do OCR in perl AND windows?", "body": "<p>Looking at CPAN, Tesseract seems to be the extent of serious OCR systems with Perl wrappers.  </p>\n\n<p>You might want to check out: \n<a href=\"https://stackoverflow.com/questions/19431336/perl-imageocrtesseract-module-on-windows\">Perl Image::OCR::Tesseract module on Windows</a></p>\n"}], "owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "closed_date": 1521828544, "answer_count": 1, "score": 0, "last_activity_date": 1521826817, "creation_date": 1521822820, "question_id": 49454434, "link": "https://stackoverflow.com/questions/49454434/is-it-possible-to-do-ocr-in-perl-and-windows", "closed_reason": "Not suitable for this site", "title": "Is it possible to do OCR in perl AND windows?", "body": "<p>The only library I've found that could do that is \"Image::OCR::Tesseract\", but it doesn't support windows. </p>\n\n<p>Is there any alternative to to that?</p>\n"}, {"tags": ["perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1521818980, "post_id": 49453000, "comment_id": 85909276, "body": "I don&#39;t have XML::Twig module installed and i cannot add this module"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1521821594, "post_id": 49453000, "comment_id": 85911028, "body": "@Developer What about XML::LibXML?"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 1, "creation_date": 1521821871, "post_id": 49453000, "comment_id": 85911195, "body": "@XML::LibXML i have"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1521822350, "post_id": 49453000, "comment_id": 85911475, "body": "I am trying to use perl one liner as well perl -pe &#39;my $new_date = &quot;2016-12-12&quot;; s/&lt;Start=(.*)&gt;/&lt;Start=$new_date&gt;/g&#39; Abc.xml but this not changing the value"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1521827946, "post_id": 49453000, "comment_id": 85914467, "body": "@Developer As Sobrique mentioned, modifying XML with regular expressions is a terrible idea. You&#39;ll need more than 1 line of code for this."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1522004475, "post_id": 49453000, "comment_id": 85962239, "body": "This above also works in <code>XML::LibXML</code>. It&#39;s not much different."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1521818692, "last_edit_date": 1521818692, "creation_date": 1521818220, "answer_id": 49453000, "question_id": 49452673, "link": "https://stackoverflow.com/questions/49452673/change-date-in-xml-file-from-perl/49453000#49453000", "title": "Change date in XML file from perl", "body": "<p>Changing XML with regular expressions is fundamentally flawed. XML is contextual, but regular expressions are not. </p>\n\n<p>The solution is therefore: Use a parser. </p>\n\n<p><code>XML::Twig</code> is pretty easy, and it supports <code>xpath</code> - which is quite a bit like a regular expression language, that works in a contextual fashion appropriate to XML:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\n# the parser\nuse XML::Twig;\n#time handling\nuse Time::Piece;\n#ONE_DAY macro. \nuse Time::Seconds;\n\n\nmy $filename = 'file_to_modify.xml'; \n\n#open and parse the file into memory. \nopen ( my $input, '&lt;', $filename ) or die $!;    \nmy $xml = XML::Twig -&gt; new -&gt; parsefile ( $input ); \nclose ( $input );\n\n#locate all nodes called '&lt;StayDateRange&gt;' \n#Note - could use '//StayDateRange[@Start]' to limit it to just the\n#ones with an attribute we're looking for. \nforeach my $staydaterange ( $xml -&gt; get_xpath('//StayDateRange') ) {\n    my $target_date = localtime;\n    #add 5 days to today. \n    $target_date += 5 * ONE_DAY; \n    #update the attribute of the XML element.\n    $staydaterange-&gt;set_att('Start', $target_date -&gt; strftime(\"%Y-%m-%d\"));\n}\n#set output format\n$xml -&gt; set_pretty_print('indented_a');\n#output to screen for testing\n$xml -&gt; print;\n\n#rewrite the file. \nopen ( my $output, '&gt;', $filename ) or warn $!;\n$xml -&gt; print ( $output );\nclose ( $output );\n</code></pre>\n\n<p>But to answer your underlying question - your problem is quoting. You have backticks, then single quotes, with single quotes inside them. Having execute quotes (<code>$()</code>) within backticks, with quotes around them is just asking for the trouble you're having. </p>\n\n<p>But you don't actually need to use <code>sed</code> within perl at all, because even if you just want to regex transform - <code>perl</code> can do that. </p>\n"}, {"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1521878100, "last_edit_date": 1521878100, "creation_date": 1521877717, "answer_id": 49462466, "question_id": 49452673, "link": "https://stackoverflow.com/questions/49452673/change-date-in-xml-file-from-perl/49462466#49462466", "title": "Change date in XML file from perl", "body": "<p>This command modifies your file <code>f.xml</code> and backs up the original to <code>f.xml.bk</code> </p>\n\n<pre><code>D9=`date +%Y-%m-%d -d9days` perl -i.bk -pe 's/(Start=)\".*?\"/$1\"$ENV{D9}\"/g' f.xml\n</code></pre>\n\n<p>Use <code>-i</code> instead of <code>-i.bk</code> to drop the backup part.</p>\n\n<p>Not sure if you wanted to use nine days after the existing dates or after today.</p>\n\n<p>While in general I agree with @Matt Jacob that XML should be parsed, in real life ad hoc situations when the clock is working against you and you can trust that nobody (your future self included) wont be adding <code>Start</code> attributes to other tags that might not even be dates, and nobody will begin writing <code>Start = \"...\"</code> or <code>Start        = '...'</code> with spaces and <code>'</code>, then I think simple regexp'es are ok. Depends on situation. XML-parsing should be in your \"tool box\" though.</p>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1521878100, "creation_date": 1521817274, "last_edit_date": 1521822640, "question_id": 49452673, "link": "https://stackoverflow.com/questions/49452673/change-date-in-xml-file-from-perl", "title": "Change date in XML file from perl", "body": "<p>I have a large file in which i have to update the date of next 5 day whenever my perl script run . I am using sed command to update the  date into the file but it is not working i am getting error :</p>\n\n<p>XML File format  :</p>\n\n<pre><code>&lt;StayDateRange Start=\"2011-03-28\"/&gt;\n</code></pre>\n\n<p>I am getting below error when executing the command from perl script but the same command is working from terminal :</p>\n\n<pre><code>sed: -e expression #1, char 51: Unterminated `s' command\n</code></pre>\n\n<p>Command :</p>\n\n<pre><code>my $change_date = `sed -ie 's/Start=\"\\(.*\\)\"/Start=\"'\"$(date +%Y-%m-%d -d \"$DATE + 9 day\")\"'\"/g' $file`;\n</code></pre>\n\n<p>I tried using quotemeta as well but i think there is some other issue in this </p>\n"}, {"tags": ["perl", "xml-libxml"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1521811556, "post_id": 49450660, "comment_id": 85903655, "body": "Those objects aren&#39;t implemented in Perl. You&#39;re probably dealing with a C data structure."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1521811622, "post_id": 49450660, "comment_id": 85903699, "body": "There&#39;s no such thing. XML::LibXML is a wrapper around <code>libxml2</code>, which is a C library, so the internal representation is not  Perl readable."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1521811715, "post_id": 49450660, "comment_id": 85903752, "body": "For consistency, shouldn&#39;t your name be &quot;vlad_zepesch&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "is_accepted": true, "score": 5, "last_activity_date": 1521836643, "last_edit_date": 1521836643, "creation_date": 1521813392, "answer_id": 49451288, "question_id": 49450660, "link": "https://stackoverflow.com/questions/49450660/dump-xmllibxml-elements/49451288#49451288", "title": "dump XML::LibXML elements", "body": "<p>You could use <code>serialize</code> method of <a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/Node.pod\" rel=\"nofollow noreferrer\"><code>LibXML::Node</code></a>:</p>\n\n<pre><code>use XML::LibXML;\nmy $parser = XML::LibXML-&gt;new();\nmy $doc    = $parser-&gt;parse_file($filename);\nmy @nodes  = $doc-&gt;findnodes($path);\nforeach my $node (@nodes)\n{\n    print $node-&gt;serialize;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 3, "last_activity_date": 1521816022, "creation_date": 1521816022, "answer_id": 49452221, "question_id": 49450660, "link": "https://stackoverflow.com/questions/49450660/dump-xmllibxml-elements/49452221#49452221", "title": "dump XML::LibXML elements", "body": "<p>Walk the tree to convert the opaque structure into a dumpable one.</p>\n\n<pre><code>use XML::LibXML qw(:libxml);\nuse Data::Visitor::Callback qw();\n\nmy $v = Data::Visitor::Callback-&gt;new(\n    'XML::LibXML::Text' =&gt; sub {\n        my ($v, $node) = @_;\n        return ($node-&gt;nodeValue =~ qr/\\S/)\n            ? {\n                n =&gt; $node-&gt;nodeName,\n                t =&gt; $node-&gt;nodeType,\n                v =&gt; $node-&gt;nodeValue,\n            }\n            : (); # skip whitespace text nodes\n    },\n    'XML::LibXML::Element' =&gt; sub {\n        my ($v, $node) = @_;\n        return {\n            c =&gt; [grep $_, $v-&gt;visit($node-&gt;childNodes)],\n            n =&gt; $node-&gt;nodeName,\n            t =&gt; $node-&gt;nodeType,\n        };\n    },\n);\n\nuse DDP; p $v-&gt;visit(\n    XML::LibXML-&gt;new-&gt;parse_file('foo.xml')-&gt;findnodes('/*')\n);\n</code></pre>\n"}], "owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 846, "favorite_count": 0, "accepted_answer_id": 49451288, "answer_count": 2, "score": 3, "last_activity_date": 1521836643, "creation_date": 1521811357, "question_id": 49450660, "link": "https://stackoverflow.com/questions/49450660/dump-xmllibxml-elements", "title": "dump XML::LibXML elements", "body": "<p>I would like to dump the xml doc tree similar to the way perl data types can be dumped.</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper($foo);\n</code></pre>\n\n<p>Recursivly dumps the structure contained by <code>$foo</code> (even if there are cyclic dependencies).</p>\n\n<p>However</p>\n\n<pre><code>use XML::LibXML;\nmy $parser = XML::LibXML-&gt;new();\nmy $doc    = $parser-&gt;parse_file($filename);\nmy @nodes  = $doc-&gt;findnodes($path);\nforeach(@nodes)\n{\n    print Dumper($_);\n}\n</code></pre>\n\n<p>just prints things like </p>\n\n<pre><code>$VAR1 = bless( do{\\(my $o = 46232224)}, 'XML::LibXML::Element' );\n</code></pre>\n\n<p>I would like to get a tree of LibXML - elements that represents the XML-structure.</p>\n"}, {"tags": ["perl", "dancer"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1521802283, "creation_date": 1521802283, "answer_id": 49447985, "question_id": 49447363, "link": "https://stackoverflow.com/questions/49447363/how-to-prevent-serialisation-in-one-route-in-a-perl-dancer-app/49447985#49447985", "title": "How to prevent serialisation in one route in a perl dancer app?", "body": "<p>Use <code>send_as</code>:</p>\n\n<pre><code>get '/download' =&gt; sub {\n    send_as Mutable =&gt; generateCsv();\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 5904894, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8087bd829fb272e8de8ffb98902b8400?s=128&d=identicon&r=PG&f=1", "display_name": "dontPanic", "link": "https://stackoverflow.com/users/5904894/dontpanic"}, "is_accepted": false, "score": 3, "last_activity_date": 1521803495, "creation_date": 1521803495, "answer_id": 49448383, "question_id": 49447363, "link": "https://stackoverflow.com/questions/49447363/how-to-prevent-serialisation-in-one-route-in-a-perl-dancer-app/49448383#49448383", "title": "How to prevent serialisation in one route in a perl dancer app?", "body": "<p>I've found that <code>send_file</code> also works:</p>\n\n<pre><code>get '/download' =&gt; sub {\n        send_file (\\&amp;generateCsv(), content_type =&gt; 'text/csv', filename =&gt; 'articleEbayStatus.csv');\n};\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5904894, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8087bd829fb272e8de8ffb98902b8400?s=128&d=identicon&r=PG&f=1", "display_name": "dontPanic", "link": "https://stackoverflow.com/users/5904894/dontpanic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1521803495, "creation_date": 1521800361, "question_id": 49447363, "link": "https://stackoverflow.com/questions/49447363/how-to-prevent-serialisation-in-one-route-in-a-perl-dancer-app", "title": "How to prevent serialisation in one route in a perl dancer app?", "body": "<p>I 've got a perl dancer app (providing a rest api) which works fine with JSON (de-)serialization.\nNow I'm need one additional special route, that provides a (dynamically created) csv file for download.</p>\n\n<p>Here is the sample code:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Dancer2;\nset serializer =&gt; 'JSON';\n\nget '/normal' =&gt; sub {\n    { 'I say ' =&gt; 'the json serializer works' };\n};\n\nget '/download' =&gt; sub {\n    content_type 'text/csv';\n    return  generateCsv();\n};\n\nsub generateCsv {\n    return '\n    1,2,3\n    4,5,6\n    ';\n}\n\ndance;\n</code></pre>\n\n<p>The response sent to the client has no body, only a http-header (with the correct content-type)</p>\n\n<pre><code>$&gt; curl  -I  http://localhost:3000/download\nHTTP/1.0 200 OK\nDate: Fri, 23 Mar 2018 10:10:14 GMT\nServer: Perl Dancer2 0.205002\nServer: Perl Dancer2 0.205002\nContent-Length: 0\nContent-Type: text/csv\n</code></pre>\n\n<p>The dancer serializer is not happy with this:</p>\n\n<pre><code>Failed to serialize content: hash- or arrayref expected \n(not a simple scalar, use allow_nonref to allow this) \nat /usr/local/share/perl/5.22.1/Dancer2/Serializer/JSON.pm line 40. \nin /usr/local/share/perl/5.22.1/Dancer2/Core/Response.pm \n</code></pre>\n\n<p>I can't find anything about the <code>allow_nonref</code> thing in the Dancer docs or in the source code.</p>\n\n<p>Has anybody a hint for me?</p>\n"}, {"tags": ["bash", "perl", "autocomplete"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1521798601, "post_id": 49446564, "comment_id": 85895010, "body": "Works for me. <code>rpm -qf &#47;usr&#47;share&#47;bash-completion&#47;completions&#47;perl</code> \u2424  <code>bash-completion-2.7-2.1.noarch</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8680478"}, "edited": false, "score": 1, "creation_date": 1521801923, "post_id": 49446564, "comment_id": 85897286, "body": "What&#39;s the output of <code>complete -p perl</code>?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1521816228, "post_id": 49446564, "comment_id": 85907127, "body": "@EmilyE.: <code>bash: complete: perl: no completion specification</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8680478"}, "edited": false, "score": 0, "creation_date": 1521822632, "post_id": 49446564, "comment_id": 85911634, "body": "Then the output of <code>complete -D -p</code>?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1521825747, "post_id": 49446564, "comment_id": 85913312, "body": "@EmilyE.: <code>complete -F _completion_loader -D</code>"}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1521875289, "post_id": 49446564, "comment_id": 85927108, "body": "Switching the order of <code>-Ilib</code> and <code>-d</code> works."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1521875728, "post_id": 49446564, "comment_id": 85927213, "body": "I&#39;m guessing the answer is somewhere in the output of <code>type _perl</code>. Run that to have a look."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1521876075, "post_id": 49446564, "comment_id": 85927294, "body": "@KjetilS.: Yes I know that, but it do not work if there <code>-d</code> option alone."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1521876084, "post_id": 49446564, "comment_id": 85927297, "body": "@KjetilS.: <code>bash: type: _perl: not found</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8680478"}, "edited": false, "score": 0, "creation_date": 1521891080, "post_id": 49446564, "comment_id": 85931165, "body": "Then you need to take a look at what <code>_completion_loader()</code> is doing."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1521894233, "post_id": 49446564, "comment_id": 85932191, "body": "@EmilyE.: Where to look?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8680478"}, "edited": false, "score": 0, "creation_date": 1521901410, "post_id": 49446564, "comment_id": 85934280, "body": "No idea where it&#39;s defined on your system but you can <code>type _completion_loader</code> to see its definition."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1521965688, "post_id": 49446564, "comment_id": 85949958, "body": "@EmilyE.: I have updated the question."}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1522049196, "post_id": 49474795, "comment_id": 85974599, "body": "This back [port](sudo add-apt-repository ppa:mail6543210/backports) does not support my system. <code>This PPA does not support xenial</code>. I have <code>Linux Mint 18.3</code>"}], "tags": [], "owner": {"reputation": 368, "user_id": 8500343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618f74886ab1cff3eca67c71af07caf?s=128&d=identicon&r=PG&f=1", "display_name": "Jochen Lutz", "link": "https://stackoverflow.com/users/8500343/jochen-lutz"}, "is_accepted": false, "score": 1, "last_activity_date": 1521979086, "last_edit_date": 1521979086, "creation_date": 1521973680, "answer_id": 49474795, "question_id": 49446564, "link": "https://stackoverflow.com/questions/49446564/why-filename-autocompletion-do-not-work/49474795#49474795", "title": "Why filename autocompletion do not work?", "body": "<p>I have the same problem on Ubuntu 16.04. I just tried on Ubuntu 17.10, there the completion works flawlessly for <code>perl -d te</code><kbd>TAB</kbd>+<kbd>TAB</kbd>.</p>\n\n<p>So the easiest solution would be to update your system. If you can't (or don't want to) do that, you could try to get a newer package for your system. For Uubuntu, you could try the PPA at <a href=\"https://launchpad.net/~mail6543210/+archive/ubuntu/backports\" rel=\"nofollow noreferrer\">https://launchpad.net/~mail6543210/+archive/ubuntu/backports</a>. Or you could get the upstream sources from <a href=\"http://bash-completion.alioth.debian.org/\" rel=\"nofollow noreferrer\">http://bash-completion.alioth.debian.org/</a> and completely deactive the bash-completion provided by your distribution.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1521979086, "creation_date": 1521798184, "last_edit_date": 1521965656, "question_id": 49446564, "link": "https://stackoverflow.com/questions/49446564/why-filename-autocompletion-do-not-work", "title": "Why filename autocompletion do not work?", "body": "<p>When I type command:</p>\n\n<p><code>$ perl -Ilib t/mojolicious/patt</code><kbd>TAB</kbd>+<kbd>TAB</kbd></p>\n\n<p>Autocompletion works fine. But when I use <code>-d</code> option:</p>\n\n<p><code>$ perl -Ilib -d t/mojolicious/patt</code><kbd>TAB</kbd>+<kbd>TAB</kbd></p>\n\n<p>It does not work. Why? How can I fix this?</p>\n\n<p><strong>UPD</strong> from comments</p>\n\n<pre><code>$ complete -p perl\nbash: complete: perl: no completion specification\n\n$ complete -D -p\ncomplete -F _completion_loader -D\n\n$ type _perl\nbash: type: _perl: not found\n\n$ type _completion_loader\n_completion_loader is a function\n_completion_loader () \n{ \n    local compfile=./completions;\n    [[ $BASH_SOURCE == */* ]] &amp;&amp; compfile=\"${BASH_SOURCE%/*}/completions\";\n    compfile+=\"/${1##*/}\";\n    [[ -f \"$compfile\" ]] &amp;&amp; . \"$compfile\" &amp;&gt; /dev/null &amp;&amp; return 124;\n    complete -F _minimal \"$1\" &amp;&amp; return 124\n}\n</code></pre>\n"}, {"tags": ["perl", "file"], "comments": [{"owner": {"reputation": 1421, "user_id": 4621141, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/80abf58b3f4ed527650483688cfcb1b9?s=128&d=identicon&r=PG&f=1", "display_name": "flen", "link": "https://stackoverflow.com/users/4621141/flen"}, "edited": false, "score": 0, "creation_date": 1521782173, "post_id": 49442742, "comment_id": 85887322, "body": "I don&#39;t fully understand what you are trying to achieve, If you want more conditionals (that is, to check if the file is also a text file), then you should include it in your if clause. Please edit your question to show us what exactly is the output you&#39;re getting and how it differs from what you expected"}, {"owner": {"reputation": 47, "user_id": 9431886, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "yibs", "link": "https://stackoverflow.com/users/9431886/yibs"}, "reply_to_user": {"reputation": 1421, "user_id": 4621141, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/80abf58b3f4ed527650483688cfcb1b9?s=128&d=identicon&r=PG&f=1", "display_name": "flen", "link": "https://stackoverflow.com/users/4621141/flen"}, "edited": false, "score": 0, "creation_date": 1521782285, "post_id": 49442742, "comment_id": 85887355, "body": "my issue is that when it checks the file to see if its executable, it comes up as it is. I dont think a regular text file is considered executable."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1521783534, "post_id": 49442742, "comment_id": 85887740, "body": "Did you do <code>ls -al</code> on the files? What do you see? Or is this on Windoze?"}, {"owner": {"reputation": 47, "user_id": 9431886, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "yibs", "link": "https://stackoverflow.com/users/9431886/yibs"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1521783926, "post_id": 49442742, "comment_id": 85887862, "body": "@JimGarrison is on mac, no I didnt to that, what does that do?"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 2, "creation_date": 1521784508, "post_id": 49442742, "comment_id": 85888047, "body": "The <code>-l</code> option shows the filemode, which shows if the file is executable.  If the filemode contains \u201cx\u201d the file is executable."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1521798286, "post_id": 49442742, "comment_id": 85894789, "body": "To preempt the follow-up question: to find the executables as the operating system understands them, use <a href=\"http://p3rl.org/File::Which\" rel=\"nofollow noreferrer\">p3rl.org/File::Which</a>"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1521801573, "last_edit_date": 1521801573, "creation_date": 1521796282, "answer_id": 49445956, "question_id": 49442742, "link": "https://stackoverflow.com/questions/49442742/checking-to-see-if-files-are-executable-perl/49445956#49445956", "title": "checking to see if files are executable perl", "body": "<p>It is quite possible for a text file to be executable. It might not be particularly useful in many cases, but it's certainly possible.</p>\n\n<p>In Unix (and your Mac is running a Unix-like operating system) the \"executable\" setting is just a flag that is set in the directory entry for a file. That flag can be set on or off for any file.</p>\n\n<p>There are actually three of these permissions why record if you can read, write or execute a file. You can see these permissions by using the <code>ls -l</code> command in a terminal window (see <a href=\"http://man7.org/linux/man-pages/man1/ls.1.html\" rel=\"nofollow noreferrer\">man ls</a> for more details of what various <code>ls</code> options mean). There are probably ways to view these permissions in the Finder too (perhaps a \"properties\" menu item or something like that - I don't have a Mac handy to check).</p>\n\n<p>You can change these permissions with the <code>chmod</code> (\"change mode\") command. See <a href=\"http://man7.org/linux/man-pages/man2/chmod.2.html\" rel=\"nofollow noreferrer\">man chmod</a> for details.</p>\n\n<p>For more information about Unix file modes, see <a href=\"https://en.wikipedia.org/wiki/Modes_(Unix)\" rel=\"nofollow noreferrer\">this Wikipedia article</a>.</p>\n\n<p>But whether or not a file is executable has nothing at all to do with its contents.</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 9539138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vG6ah.jpg?s=128&g=1", "display_name": "ppinto", "link": "https://stackoverflow.com/users/9539138/ppinto"}, "is_accepted": false, "score": -1, "last_activity_date": 1521802394, "creation_date": 1521802394, "answer_id": 49448014, "question_id": 49442742, "link": "https://stackoverflow.com/questions/49442742/checking-to-see-if-files-are-executable-perl/49448014#49448014", "title": "checking to see if files are executable perl", "body": "<p>The statement <code>if (-x $file)</code> does not check wether a file is an executable but if your user has execution priveleges on it.</p>\n\n<p>For checking if a file is executable or not, <strong>I'm affraid there isn't a magic method for it</strong>. You may try to use:</p>\n\n<blockquote>\n  <ul>\n  <li><code>if (-T $file)</code> for checking if the file has an ASCII or UTF-8 enconding.</li>\n  <li><code>if (-B $file)</code> for checking if the file is binary.</li>\n  </ul>\n</blockquote>\n\n<p>If this is unsuitable for your case, consider the following:</p>\n\n<p>Assuming you are on a Linux enviroment, note that every file can be executed. The question here is:  The execution of e.g.: <code>test.txt</code>, is going to throw a standard error (STDERR)? </p>\n\n<p>Most likely, it will.</p>\n\n<p>If <code>test.txt</code> file contains:</p>\n\n<p><code>Some text</code> </p>\n\n<p>And you launched it in your Perl script by: <code>system(\"./test.txt\");</code> This will display a STDERR like:</p>\n\n<p><code>./test.txt: line 1: Some: command not found</code></p>\n\n<p>If for some reason you are looking to run all the files of your directory (in a for loop for instance) <strong>be warned that this is pretty dangerous</strong>, since you will launch all your files and you may not be willing to do so. Specially if the perl script is in the same directory that you are checking (this will lead to undesirable script behaviour).</p>\n\n<p>Hope it helps ;)</p>\n"}], "owner": {"reputation": 47, "user_id": 9431886, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "yibs", "link": "https://stackoverflow.com/users/9431886/yibs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1521802394, "creation_date": 1521781832, "question_id": 49442742, "link": "https://stackoverflow.com/questions/49442742/checking-to-see-if-files-are-executable-perl", "title": "checking to see if files are executable perl", "body": "<p>I have a program that checks to see if the files in my directory are readable,writeable, and executable. </p>\n\n<p>i have it set up so it looks like</p>\n\n<pre><code>if (-e $file){  \nprint \"exists\";  \n}  \n\nif (-x $file){  \nprint \"executable\";  \n}  \n</code></pre>\n\n<p>and so on  </p>\n\n<p>but my issue is when I run it it shows that the text files are executable too. Plain text files with 1 word in them. I feel like there is an error. What did I do wrong. I am a complete perl noob so forgive me.</p>\n"}, {"tags": ["regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521764221, "post_id": 49439805, "comment_id": 85882948, "body": "Did you consider the core <a href=\"https://perldoc.perl.org/Text/Balanced.html\" rel=\"nofollow noreferrer\">Text::Balanced</a>? It won&#39;t blow up anything. See for example <a href=\"https://stackoverflow.com/a/46121634/4653379\">this post</a>"}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521765456, "post_id": 49439805, "comment_id": 85883207, "body": "@zdim - I&#39;ll check it out next time.  I&#39;m not sure learning this syntax is worthwhile.  (also see my edit at the bottom of my question)"}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521765979, "post_id": 49439805, "comment_id": 85883334, "body": "@zdim - sorry, by &quot;this&quot;, I mean the syntax <i>I&#39;m</i> trying to use, not what you&#39;re suggesting."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1521769819, "post_id": 49439805, "comment_id": 85884309, "body": "Aaand, I found the memory error.  All hail perl."}], "answers": [{"comments": [{"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 0, "creation_date": 1521765622, "post_id": 49440328, "comment_id": 85883244, "body": "This answers my question.  Curious if you have any thoughts on the edit (bottom).  Also wondering why this stops working if I change <code>utMemAlloc(</code> to <code>utMemAlloc(?:</code> (non-capturing)"}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 0, "creation_date": 1521766004, "post_id": 49440328, "comment_id": 85883345, "body": "Also, blessings be upon you <code>curl -sN https:&#47;&#47;www.kingjamesbibleonline.org&#47;Psalms-23-4&#47; | perl -0 -ne &#39;print $1 if &#47;(&lt;p class=&#39;&quot;&#39;&quot;&#39;pspace&#39;&quot;&#39;&quot;&#39;&gt;.*?&lt;\\&#47;p&gt;)&#47;&#39; | perl -lpe &#39;s&#47;\\&lt;.*?\\&gt;&#47;&#47;g; s&#47;\\b\\d?\\K(the lord|thou\\b|he\\b)&#47;Perl&#47;gi; s&#47;thy&#47;Perl&#39;&quot;&#39;&quot;&#39;s&#47;gi; s&#47;his&#47;its&#47;gi; s&#47;(\\d)&#47;\\n$1 &#47;g&#39;</code>"}, {"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "reply_to_user": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 2, "creation_date": 1521804256, "post_id": 49440328, "comment_id": 85898806, "body": "@zzxyz, thanks for the blessing, very funny. As to the update, you&#39;ve probably already known that <code>(?-1)</code> refers to the latest capturing subgroup, and with <code>(?:</code> you make the subgroup non-capturing."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 0, "creation_date": 1521824791, "post_id": 49440328, "comment_id": 85912833, "body": "@wolkrevokcats - I actually didn&#39;t know about <code>(?-1)</code>..I couldn&#39;t find any reference material that mentioned it.  I finally started just playing with it to figure out it referred to capture groups, which is why using a non-capturing group doesn&#39;t work."}, {"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "reply_to_user": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 1, "creation_date": 1521825793, "post_id": 49440328, "comment_id": 85913347, "body": "Finding related docs is as easy as running <code>perldoc perlre</code> and searching for <code>?R</code>. You can even find it through the table of contents -  <code>perldoc toc</code>."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 0, "creation_date": 1521826460, "post_id": 49440328, "comment_id": 85913715, "body": "Yeah, I really need to remember that perldoc is usually better than google for finding...perl documentation :)"}], "tags": [], "owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "is_accepted": true, "score": 1, "last_activity_date": 1521763394, "last_edit_date": 1521763394, "creation_date": 1521762901, "answer_id": 49440328, "question_id": 49439805, "link": "https://stackoverflow.com/questions/49439805/perl-balanced-constructs/49440328#49440328", "title": "perl balanced constructs", "body": "<p>With <code>$^R</code> you recurse to the beginning of the whole pattern, apparently this is not what you want.<br>\nIf you recurse to the paren character you will get the desired result:</p>\n\n<p><code>perl -0 -ne 'print $1 if /(utMemAlloc(\\((?&gt;[^()]|(?-1))*\\)))/g' liltester</code></p>\n\n<hr>\n\n<pre><code>utMemAlloc(\n               pManeuverObj-&gt;util.hMemory,\n               1,\n               (usTxtLen + 1),\n               (void **)&amp;pMnvr-&gt;Context.pDestinationString\n             )\n</code></pre>\n"}], "owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 49440328, "answer_count": 1, "score": 2, "last_activity_date": 1521765403, "creation_date": 1521759723, "last_edit_date": 1521765403, "question_id": 49439805, "link": "https://stackoverflow.com/questions/49439805/perl-balanced-constructs", "title": "perl balanced constructs", "body": "<p>Given the following input:</p>\n\n<pre><code>$ cat liltester\n      if ((ret = utMemAlloc(\n                   pManeuverObj-&gt;util.hMemory,\n                   1,\n                   (usTxtLen + 1),\n                   (void **)&amp;pMnvr-&gt;Context.pDestinationString\n                 )) &lt; 0)\n</code></pre>\n\n<p>The following produces the expected output (it strips out everything outside the outer parens)</p>\n\n<pre><code>$ perl -0 -ne 'print $1 if /((?:\\((?&gt;[^()]|(?R))*\\)))/g' liltester\n</code></pre>\n\n<p>I grabbed that from <a href=\"https://www.regular-expressions.info/recurse.html\" rel=\"nofollow noreferrer\">https://www.regular-expressions.info/recurse.html</a> , by the way.  However, it's been modified to 1) capture, and have the \"balanced\" portion be inside a non-capturing group.  The idea being I can do this</p>\n\n<pre><code>$ perl -0 -ne 'print $1 if /(utMemAlloc(?:\\((?&gt;[^()]|(?R))*\\)))/g' liltester\n</code></pre>\n\n<p>without modifying <code>(</code> being considered as my opening paren.  (As obviously trying to match <code>utMemAlloc(</code> with <code>)</code> is not going to work well.)</p>\n\n<p>However, the output is a blank line.  Expected output is:</p>\n\n<pre><code>utMemAlloc(\n                   pManeuverObj-&gt;util.hMemory,\n                   1,\n                   (usTxtLen + 1),\n                   (void **)&amp;pMnvr-&gt;Context.pDestinationString\n                 )\n</code></pre>\n\n<p>My end goal, for what it's worth, is to find instances of <code>utMemAlloc</code> that use <code>pDestinationString</code>in the parameter list.</p>\n\n<p>The following produces the expected output, by the way, but I'd prefer to avoid it for several reasons (one of which is that <code>$RE{balanced}</code> seems to blow up perl for an entire shell instance whenever I use it wrong):</p>\n\n<pre><code>perl -MRegexp::Common -0 -ne 'print $1 if /(utMemAlloc$RE{balanced}{-parens=&gt;'\"'\"'()'\"'\"'})/g' liltester\n</code></pre>\n\n<p><strong>Optional Reading</strong></p>\n\n<p>The other reason I prefer to avoid <code>Regexp::Common</code> is that I often use perl in a mingw terminal provided by a git UI..Basically to avoid having to push code through git to a linux box.  The <em>actual</em> code I ended up with (thanks to the current answer) is:</p>\n\n<pre><code>$ git grep -l 'pDestinationString' | \nxargs perl -0 -lne 'print for /(utMemAlloc\\s*(\\((?&gt;[^()]|(?-1))*\\)))/g' | \nperl -0 -ne 'print \"$_\\n\\n\\n\" if /utMemAlloc[\\s\\S]*pDestinationString/'\n</code></pre>\n\n<p>The 2nd test for utMemAlloc was necessary because there are two capture groups in the first expression, and when I tried to make the inner one a non-capturing group, the whole expression stopped working again.  This works, but it's damn ugly.</p>\n"}, {"tags": ["perl", "rsync", "quoting"], "comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 1, "creation_date": 1521821825, "post_id": 49436110, "comment_id": 85911158, "body": "You can try with <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow noreferrer\">Net::OpenSSH</a> using its <a href=\"https://metacpan.org/pod/Net::OpenSSH#%24ssh-%3Ersync_put(%5C%opts,-%24local1,-%24local2,...,-%24remote_dir_or_file)\" rel=\"nofollow noreferrer\">rsync_put</a> method."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1521744556, "creation_date": 1521744556, "answer_id": 49436298, "question_id": 49436110, "link": "https://stackoverflow.com/questions/49436110/perl-rsync-with-ssh-q-fails-with-exit-code-14/49436298#49436298", "title": "Perl: rsync with &#39;ssh -q&#39; fails with exit code 14", "body": "<p><code>system(..., \"--rsh=ssh -q\", ...)</code></p>\n\n<p>You are using the <code>system LIST</code> syntax, which already passes each argument uninterpolated to the called program. <code>\"--rsh=ssh -q\"</code> from Perl is equivalent to <code>--rsh='ssh -q'</code> in the shell. The quotes will treat the <code>ssh</code> and the <code>-q</code> as part of the same argument to the command, but the quotes themselves will be interpolated away in the shell, so <code>rsync</code> will receive the argument as <code>--rsh=ssh -q</code>.</p>\n"}], "owner": {"reputation": 256, "user_id": 733823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50855199f6184058d4c7150f84105413?s=128&d=identicon&r=PG", "display_name": "MTS", "link": "https://stackoverflow.com/users/733823/mts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 886, "favorite_count": 1, "accepted_answer_id": 49436298, "answer_count": 1, "score": 2, "last_activity_date": 1521744556, "creation_date": 1521743772, "question_id": 49436110, "link": "https://stackoverflow.com/questions/49436110/perl-rsync-with-ssh-q-fails-with-exit-code-14", "title": "Perl: rsync with &#39;ssh -q&#39; fails with exit code 14", "body": "<p>I need to run an rsync task from a perl script. (The code below is part of a larger script and using perl is unavoidable.) Since rsync is being run noninteractively, I'd like to avoid printing the ssh login banner from the server I'm uploading files to. I have seen that using the command <code>rsync -e 'ssh -q'</code> is the way to do this, and <strong>this works from the command line</strong>. (Well, I'm using the long option format <code>--rsh='ssh -q'</code> for readability in the script.)</p>\n\n<p>However, I cannot seem to get this to work from my perl script. Here is the relevant part of the code:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $src = '/path/to/myfile';\nmy $dest = 'remote:/path/to/target';\n\nmy @rsync_cmd;\n\n# this one works, returns 0\n@rsync_cmd = ('rsync', '--archive', '--update', '--rsh=ssh', $src, $dest);\nsystem(@rsync_cmd);\nprint \"Exit code: \", $? &gt;&gt; 8, \"\\n\\n\";\n\n# this one doesn't, returns 14\n@rsync_cmd = ('rsync', '--archive', '--update', '--rsh=\\'ssh -q\\'', $src, $dest);\nsystem(@rsync_cmd);\nprint \"Exit code: \", $? &gt;&gt; 8;\n</code></pre>\n\n<p>The first command works fine and returns 0. The second command returns 14 (Error in IPC code) and gives the following output:</p>\n\n<pre><code>rsync: Failed to exec ssh -q: No such file or directory (2)\nrsync error: error in IPC code (code 14) at pipe.c(85) [sender=3.1.1]\nrsync: connection unexpectedly closed (0 bytes received so far) [sender]\nrsync error: error in IPC code (code 14) at io.c(226) [sender=3.1.1]\n</code></pre>\n\n<p>As I said, however, running rsync with <code>--rsh='ssh -q'</code> from the command line does work fine, so I'm not sure what's going on here. I've tried various other ways of quoting the ssh command: </p>\n\n<ul>\n<li><code>'--rsh=\"ssh -q\"'</code></li>\n<li><code>q{--rsh='ssh -q'}</code></li>\n<li><code>q{--rsh=\"ssh -q\"}</code></li>\n</ul>\n\n<p>(plus a few more) and all of these give the same exit code (14).</p>\n\n<p>Other things I've tried with no success:</p>\n\n<ul>\n<li>Replacing <code>ssh</code> with <code>/usr/bin/ssh</code> in case rsync was having trouble finding the ssh binary.</li>\n<li>Using short option format <code>-e 'ssh -q'</code>.</li>\n<li>Using <a href=\"http://search.cpan.org/~leakin/File-Rsync/Rsync.pm\" rel=\"nofollow noreferrer\">File::Rsync</a> module (perl wrapper for rsync) to try to avoid quoting problems.</li>\n<li>Setting the <code>RSYNC_RSH</code> environment variable via <code>$ENV{'RSYNC_RSH'}=q{ssh -q}</code>.</li>\n<li>Removing the <code>--archive</code> and <code>--update</code> options for testing purposes.</li>\n</ul>\n\n<p>All of these result in the same exit code, 14. I am at my wits' end, please help.</p>\n"}, {"tags": ["java", "python", "html", "perl", "parsing"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5079353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17050a4bf88506b1389ecaff0610b201?s=128&d=identicon&r=PG&f=1", "display_name": "CatzRevenge", "link": "https://stackoverflow.com/users/5079353/catzrevenge"}, "edited": false, "score": 0, "creation_date": 1521742563, "post_id": 49435694, "comment_id": 85873425, "body": "Thanks for the quick answer! Is there no way to download the current html from the element inspector though? Because the element inspector is giving me what I want, but I don&#39;t wanna go into it every time to check if a single word is there."}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "reply_to_user": {"reputation": 13, "user_id": 5079353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17050a4bf88506b1389ecaff0610b201?s=128&d=identicon&r=PG&f=1", "display_name": "CatzRevenge", "link": "https://stackoverflow.com/users/5079353/catzrevenge"}, "edited": false, "score": 0, "creation_date": 1521742620, "post_id": 49435694, "comment_id": 85873454, "body": "you can just right click on the page and select &quot;show page source&quot; I believe"}, {"owner": {"reputation": 13, "user_id": 5079353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17050a4bf88506b1389ecaff0610b201?s=128&d=identicon&r=PG&f=1", "display_name": "CatzRevenge", "link": "https://stackoverflow.com/users/5079353/catzrevenge"}, "edited": false, "score": 0, "creation_date": 1521742797, "post_id": 49435694, "comment_id": 85873553, "body": "Yeah, but the source I get is more general. It probably gets some information from the backend, I can only get the information I want from the element inspector unfortunately. If I go into elem. inspector and click &quot;copy outer HTML&quot; I get exactly what I want but I don&#39;t want to do that every time, since I&#39;m trying to see if the content is changing."}, {"owner": {"reputation": 13, "user_id": 5079353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17050a4bf88506b1389ecaff0610b201?s=128&d=identicon&r=PG&f=1", "display_name": "CatzRevenge", "link": "https://stackoverflow.com/users/5079353/catzrevenge"}, "edited": false, "score": 0, "creation_date": 1521743068, "post_id": 49435694, "comment_id": 85873717, "body": "So like this: <a href=\"https://www.youtube.com/watch?v=pkrZD13OU8M\" rel=\"nofollow noreferrer\">youtube.com/watch?v=pkrZD13OU8M</a> Except I don&#39;t wanna click that button every 5 minutes :D"}], "tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": true, "score": 0, "last_activity_date": 1521742217, "creation_date": 1521742217, "answer_id": 49435694, "question_id": 49435630, "link": "https://stackoverflow.com/questions/49435630/how-to-read-current-source-html-from-a-webpage-using-java-perl-python-e-g-afte/49435694#49435694", "title": "How to read current source html from a webpage using Java/Perl/Python (e.g. after editing it using the js console)", "body": "<p>You can use <a href=\"http://selenium-python.readthedocs.io/api.html\" rel=\"nofollow noreferrer\"><code>selenium.webdriver</code></a> in python. Something like:</p>\n\n<pre><code>from selenium import webdriver\nbrowser = webdriver.Firefox()\nbrowser.get(\"https://web.whatsapp.com/\")\nhtml = browser.page_source\n</code></pre>\n\n<p>If you want to get <em>your own</em> whatsapp page, you should use selenium to log into the site before getting the page_source.</p>\n"}], "owner": {"reputation": 13, "user_id": 5079353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17050a4bf88506b1389ecaff0610b201?s=128&d=identicon&r=PG&f=1", "display_name": "CatzRevenge", "link": "https://stackoverflow.com/users/5079353/catzrevenge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 49435694, "answer_count": 1, "score": -2, "last_activity_date": 1521742217, "creation_date": 1521742013, "question_id": 49435630, "link": "https://stackoverflow.com/questions/49435630/how-to-read-current-source-html-from-a-webpage-using-java-perl-python-e-g-afte", "title": "How to read current source html from a webpage using Java/Perl/Python (e.g. after editing it using the js console)", "body": "<p>I realize this looks like a duplicate question, but it's not!(as far as I know, and I've searched a lot...) So for the last few days I've been trying to get the HTML content of my whatsapp web application but using the input stream reader provided by java seems to not give me the full html code. The URL I'm using is just <a href=\"https://web.whatsapp.com/\" rel=\"nofollow noreferrer\">https://web.whatsapp.com/</a>, which I suppose could be a problem, but there aren't any personal URLs as far as I'm aware. However, in developer tools using the element inspector I can easily access and read the DOM elements I'm interested in. I'm wondering if there's a way I can get this source directly using java/perl/python. </p>\n\n<p>I'm also looking to do this as a learning project, so preferably would like to stay away from tools such as jsoup and such. Thanks! </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521747023, "post_id": 49435501, "comment_id": 85875798, "body": "<i>&quot;you can&#39;t seek within a deflated stream&quot;</i> A zip archive file may be read from the start. There is a small initial header followed by a series of file entities that can stand alone. The trailing data isn&#39;t required."}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521748644, "post_id": 49435501, "comment_id": 85876663, "body": "The trailing data includes the directory. There&#39;s no way to reliably look up files by name without that -- while each file header contains the name of the file, there&#39;s no way of knowing whether that file is included in the directory. (It may have been deleted and left in situ.)"}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 0, "last_activity_date": 1521741611, "creation_date": 1521741611, "answer_id": 49435501, "question_id": 49434350, "link": "https://stackoverflow.com/questions/49434350/how-to-read-a-file-from-a-nested-zip-archive-using-perl/49435501#49435501", "title": "How to read a file from a nested zip archive using Perl", "body": "<blockquote>\n  <p>The file I am trying to read is 200MB and I don't want to extract.</p>\n</blockquote>\n\n<p>You'll probably have to extract it.</p>\n\n<p>If the inner ZIP file has been deflated, there's no choice -- you can't seek within a deflated stream, and ZIP archives cannot be read without seeking. (The table of contents is stored at the end of the archive.)</p>\n\n<p>If the inner ZIP file is stored (i.e, not compressed), it might be technically possible to treat the stored content as a ZIP archive, but I'm not aware of any way to make Archive::Zip do that.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 7830731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a20b66031a6a73d57db63fa11f1e73a4?s=128&d=identicon&r=PG&f=1", "display_name": "PExplorer", "link": "https://stackoverflow.com/users/7830731/pexplorer"}, "edited": false, "score": 0, "creation_date": 1521749753, "post_id": 49436780, "comment_id": 85877320, "body": "my script needs to read 360+ zip files of 200MB each. I also do not have write access to this archive location. All i can think of at the moment is to extract the zip to my temp location but there seems to be no options to extract to a specific location."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53, "user_id": 7830731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a20b66031a6a73d57db63fa11f1e73a4?s=128&d=identicon&r=PG&f=1", "display_name": "PExplorer", "link": "https://stackoverflow.com/users/7830731/pexplorer"}, "edited": false, "score": 0, "creation_date": 1521752440, "post_id": 49436780, "comment_id": 85878787, "body": "Please add information to your question rather than accumulating comments about it. What is the problem with reading 360 200MB files? Have you timed it? Unless those files are networked I wouldn&#39;t expect more than a few seconds delay. If you&#39;re being asked for a millisecond response time then you must report that it is impossible."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1521746328, "creation_date": 1521746328, "answer_id": 49436780, "question_id": 49434350, "link": "https://stackoverflow.com/questions/49434350/how-to-read-a-file-from-a-nested-zip-archive-using-perl/49436780#49436780", "title": "How to read a file from a nested zip archive using Perl", "body": "<p>200MB isn't a big file, and you shouldn't be anticipating bottlenecks in your code before you have done some timings</p>\n\n<p><code>File1.zip</code> has been doubly-compressed into <code>ParentFile.zip</code>. There is no way to extract the information from the former without expanding at least the relevant part of the latter</p>\n\n<p>Unless <code>File1.zip</code> is enormous (the zip format allows many gigabytes of simple data to be compressed to a few hundred bytes) you should simply extract the entire file and process it in a second step</p>\n\n<p>If you're desperate, then there are ways to extract a list of the items within a zip file without access to the entire contents, but I don't think that is going to help you</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1521814232, "post_id": 49450394, "comment_id": 85905536, "body": "<code>IO::Compress::Unzip</code> can be a convenient way to read data from a zip file, and it may <i>appear</i> to avoid decompressing the files, but there is no way to read zipped data without decompressing it and this is just an illusion"}, {"owner": {"reputation": 1323, "user_id": 2030808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRrvi.png?s=128&g=1", "display_name": "pmqs", "link": "https://stackoverflow.com/users/2030808/pmqs"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1521815146, "post_id": 49450394, "comment_id": 85906255, "body": "That is correct - there will still be the cost of uncompressing part of the outer and inner zip files - that cannot be avoided. This technique avoids the disk I/O when uncompressing the outer zip file by streaming it directly to the code that handles the uncompression of the inner zip files. That is what I read as the requirement from the original question."}], "tags": [], "owner": {"reputation": 1323, "user_id": 2030808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRrvi.png?s=128&g=1", "display_name": "pmqs", "link": "https://stackoverflow.com/users/2030808/pmqs"}, "is_accepted": false, "score": 2, "last_activity_date": 1521810403, "creation_date": 1521810403, "answer_id": 49450394, "question_id": 49434350, "link": "https://stackoverflow.com/questions/49434350/how-to-read-a-file-from-a-nested-zip-archive-using-perl/49450394#49450394", "title": "How to read a file from a nested zip archive using Perl", "body": "<p>You can use <a href=\"http://search.cpan.org/~pmqs/IO-Compress-2.074/lib/IO/Uncompress/Unzip.pm\" rel=\"nofollow noreferrer\">IO::Uncompress::Unzip</a> to work with a nested zip file without having to uncompress the complete nested zip file.</p>\n\n<p>Here is an example to show how it works.</p>\n\n<p>In my test setup I have a zip file called outer.zip that contains inner.zip. </p>\n\n<pre><code>$ unzip -l outer.zip \nArchive:  outer.zip\n  Length      Date    Time    Name\n---------  ---------- -----   ----\n      185  03-23-2018 12:53   inner.zip\n---------                     -------\n      185                     1 file\n</code></pre>\n\n<p>inner.zip contains the file we want to get access to.</p>\n\n<pre><code>$ unzip -l inner.zip \nArchive:  inner.zip\n  Length      Date    Time    Name\n---------  ---------- -----   ----\n       14  03-23-2018 12:53   payload.txt\n---------                     -------\n       14                     1 file\n</code></pre>\n\n<p>In this instance it just contains a few lines of text.</p>\n\n<pre><code>$ cat payload.txt \nline 1\nline 2\n</code></pre>\n\n<p>The script below will read the payload data from the inner zip and write to output.txt.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse IO::Uncompress::Unzip qw(unzip) ;\n\nmy $outer = \"outer.zip\";\nmy $inner = \"inner.zip\";\nmy $data = \"payload.txt\";\nmy $output = \"output.txt\";\n\nmy $z = new IO::Uncompress::Unzip $outer, Name =&gt; $inner\n    or die \"Cannot open $outer\\n\";\n\nunzip $z =&gt; $output, Name =&gt; $data\n    or die \"Cannot unzip $inner\";\n</code></pre>\n\n<p>This is what I see in output.txt</p>\n\n<pre><code>$ cat output.txt \nline 1\nline 2\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 7830731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a20b66031a6a73d57db63fa11f1e73a4?s=128&d=identicon&r=PG&f=1", "display_name": "PExplorer", "link": "https://stackoverflow.com/users/7830731/pexplorer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1521810403, "creation_date": 1521737871, "last_edit_date": 1521757612, "question_id": 49434350, "link": "https://stackoverflow.com/questions/49434350/how-to-read-a-file-from-a-nested-zip-archive-using-perl", "title": "How to read a file from a nested zip archive using Perl", "body": "<p>I am trying to read a txt file that is nested within a parent zip file. The folder structure is like below:</p>\n\n<p><strong>Parent Zip File:</strong> <code>ParentFile.zip</code></p>\n\n<p><strong>Contents:</strong> <code>ParentFolder/Subfolder1/Subfolder2/File1.zip</code></p>\n\n<p><code>File1.zip</code> contains <code>File1.txt</code> which I am trying to read in memory. I checked the documentation for <code>Archive::Zip and Archive::Zip::MemberRead</code>. I couldn't find a method that returns a new zip object from the members list so that i could use the below method. </p>\n\n<pre><code>$fh  = Archive::Zip::MemberRead-&gt;new($zipObj, \"File1.txt\");\n</code></pre>\n\n<p>The file I am trying to read is 200MB and I need to loop through 300 such files.  <code>ParentFile.zip</code> is located on a network drive and i only have read access to it. I am trying to find out how i can extract the zip file to my local drive. I found below approaches but doesn't seem to help when i have a nested structure.   </p>\n\n<pre><code>use strict;\nuse Archive::Zip; \n\nmy $destinationDirectory = 'C:\\test'; \nmy $zipObj = Archive::Zip-&gt;new('\\\\NetworkDrive\\ParentFile.zip'); #SourceFile Path\n#Cannot do below - No write permission on the network drive \n$zipObj-&gt;extractMember('ParentFolder/Subfolder1/Subfolder2/File1.zip')     \n\n#Cannot do below as well since i have a folder structure\nforeach my $member ($zip-&gt; members()){\n    my $extractName = $member-&gt;fileName;         \n    $member-&gt;extractToFileNamed(\"$destinationDirectory/$extractName\");\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1521732075, "post_id": 49431962, "comment_id": 85866503, "body": "Do you want the 4-char string returned by <code>&quot;\\360\\245\\242\\245&quot;</code>, or the 16-char string returned by <code>&quot;\\\\360\\\\245\\\\242\\\\245&quot;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521735237, "post_id": 49432161, "comment_id": 85868832, "body": "What is in that box character that my browser cannot render?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1521735747, "post_id": 49432161, "comment_id": 85869173, "body": "The usual use of <code>use utf8</code> is to allow non-ASCII characters to be used within strings and identifiers without a corresponding <code>utf8_encode</code> or similar. Offering an unidentifiable splat on the screen is a <i>misuse</i> of the facility, and you should know better."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1521738502, "post_id": 49432161, "comment_id": 85870990, "body": "The answer contains contains the appropriate level of detail and explanation given the content of the question. &quot;<i>Here, I have a character. How can I get the UTF-8 encoding of that?</i>&quot; ... &quot;<i>Use the <code>encode_utf8</code> function from the <code>Unicode::UTF8</code> module</i>&quot;. Whether this is said in English or code is irrelevant (or ought to be to people who consider themselves to be programmers)."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1521738803, "post_id": 49432161, "comment_id": 85871161, "body": "And, the glyph displays perfectly in my Vim window and Firefox (both the question and my answer). You might want to consider a more modern font configuration."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1521738108, "last_edit_date": 1521738108, "creation_date": 1521731402, "answer_id": 49432161, "question_id": 49431962, "link": "https://stackoverflow.com/questions/49431962/how-to-convert-utf8-multibyte-character-into-byte-string-perl/49432161#49432161", "title": "How to convert UTF8 multibyte character into byte string? Perl", "body": "<pre><code>#!/usr/bin/env perl\n\nuse utf8;\nuse strict;\nuse warnings;\n\nuse Unicode::UTF8 qw( encode_utf8 );\n\nmy $x = \"\ud856\udca5\";\nprint encode_utf8($x);\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> C:\\...\\Temp&gt; perl t.pl|xxd\n 00000000: f0a5 a2a5                                ....\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1521735442, "last_edit_date": 1521735442, "creation_date": 1521732765, "answer_id": 49432665, "question_id": 49431962, "link": "https://stackoverflow.com/questions/49431962/how-to-convert-utf8-multibyte-character-into-byte-string-perl/49432665#49432665", "title": "How to convert UTF8 multibyte character into byte string? Perl", "body": "<p>Given</p>\n\n<pre><code>use utf8;\nmy $s = \"\ud856\udca5\";   # Or \"\\x{258A5}\", or chr(0x258A5), or ...\n</code></pre>\n\n<p><strong>If you want want the 4-char string returned by <code>\"\\360\\245\\242\\245\"</code></strong></p>\n\n<p>In this case, you are asking to have the string encoded using UTF-8.</p>\n\n<pre><code>use Encode qw( encode_utf8 );\nencode_utf8($s)\n</code></pre>\n\n<p><strong>If you want the 16-char string returned by <code>\"\\\\360\\\\245\\\\242\\\\245\"</code></strong></p>\n\n<p>In this case, you are asking for a \"human-readable\" representation of the UTF-8 encoding of the string.</p>\n\n<pre><code>use Encode qw( encode_utf8 );\njoin \"\", map sprintf(\"\\\\%o\"), split //, encode_utf8($s)\n</code></pre>\n\n<p>Alternatives:</p>\n\n<ul>\n<li><p>&#x20;</p>\n\n<pre><code>use Encode qw( encode_utf8 );\nsprintf(\"%vo\", encode_utf8($s))   # 360.245.242.245\n</code></pre></li>\n<li><p>&#x20;</p>\n\n<pre><code>use Encode qw( encode_utf8 );\nsprintf(\"%vX\", encode_utf8($s))   # F0.A5.A2.A5\n</code></pre></li>\n<li><p>&#x20;</p>\n\n<pre><code>use Data::Dumper qw( Dumper );\nlocal $Data::Dumper::Useqq = 1;\nlocal $Data::Dumper::Terse = 1;\nlocal $Data::Dumper::Indent = 0;\nDumper($s)                        # \"\\x{258a5}\"\n</code></pre></li>\n<li><p>&#x20;</p>\n\n<pre><code>use Data::Dumper qw( Dumper );\nuse Encode       qw( encode_utf8 );\nlocal $Data::Dumper::Useqq = 1;\nlocal $Data::Dumper::Terse = 1;\nlocal $Data::Dumper::Indent = 0;\nDumper(encode_utf8($s))           # \"\\360\\245\\242\\245\"\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 5423, "user_id": 937922, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/VsV8g.png?s=128&g=1", "display_name": "Takkun", "link": "https://stackoverflow.com/users/937922/takkun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 1, "accepted_answer_id": 49432665, "answer_count": 2, "score": 2, "last_activity_date": 1521738108, "creation_date": 1521730893, "question_id": 49431962, "link": "https://stackoverflow.com/questions/49431962/how-to-convert-utf8-multibyte-character-into-byte-string-perl", "title": "How to convert UTF8 multibyte character into byte string? Perl", "body": "<p>I have a multibyte character '\ud856\udca5'. How can I convert this into '\\360\\245\\242\\245'?\n<code>use Devel::Peek;</code> gives me that information, but it only prints it to console...</p>\n"}, {"tags": ["python", "perl", "unpack"], "answers": [{"tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 3, "last_activity_date": 1521729345, "last_edit_date": 1521729345, "creation_date": 1521728954, "answer_id": 49431255, "question_id": 49430693, "link": "https://stackoverflow.com/questions/49430693/perl-unpack-function-to-python/49431255#49431255", "title": "perl unpack function to python", "body": "<p>There are two problems, only one of which was fixed in Python 3:</p>\n\n<ol>\n<li><p><code>struct.unpack</code> doesn't support arbitrary repetition. (Python 3.4 introduced <code>iter_unpack</code>, but that doesn't really help here.) You need an exact\n count for each specifier. You can't write <code>'BHB*B'</code>; instead, you need to compute the number of bytes expected after <code>BHB</code>. Fortunately, it's not that hard or ugly to do:</p>\n\n<pre><code>header_fmt = struct.Struct('BHB')\npacket_fmt = struct.Struct(header_fmt.format +\n                           '{}B'.format(188 - header_fmt.size))\n# packet_fmt.format == 'BHB183B'\n</code></pre>\n\n<p>(In general you might need to use <code>len(pkt)</code> instead of hardcoding 188.)</p>\n\n<p><code>'BHB*B'</code>, though would be nice.</p></li>\n<li><p>In Python 2, you have to extract the trailing bytes from the array explicitly:</p>\n\n<pre><code>fields = packet_fmt.unpack(pkt)\nsync, pid, afccc = fields[3:]\nbytes = fields[3:]\n</code></pre>\n\n<p>Alternatively, you can use <code>unpack_from</code> and splicing, since you don't unpack bytes so much as you extract them.</p>\n\n<pre><code>sync, pid, afccc = header_fmt.unpack_from(pkt)\nbytes = pkt[header_fmt.size:]\n</code></pre>\n\n<p>In Python 3, you can just use <code>*name</code> syntax with tuple unpacking.</p>\n\n<pre><code>sync, pid, afccc, *bytes = packet_fmt.unpack(pkt)\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 509, "user_id": 8194139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/126cdac8817612115ebf36928a3203f2?s=128&d=identicon&r=PG&f=1", "display_name": "NicoAdrian", "link": "https://stackoverflow.com/users/8194139/nicoadrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 49431255, "answer_count": 1, "score": -1, "last_activity_date": 1521729345, "creation_date": 1521727399, "last_edit_date": 1521728265, "question_id": 49430693, "link": "https://stackoverflow.com/questions/49430693/perl-unpack-function-to-python", "title": "perl unpack function to python", "body": "<p>I am trying to translate a Perl script into Python.</p>\n\n<p>I have some trouble translating this line:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my ($sync,$pid,$afccc,@bytes)=unpack('CnCC*',$pkt);\n</code></pre>\n\n<p>I tried this in Pyhton</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>bytes=[]\nsync,pid,afccc,bytes=struct.unpack_from('BHBB',pkt)\n</code></pre>\n\n<p>But the variable bytes is not a list after this line, then the execution fails.</p>\n\n<p>FYI, pkt is a 188 chars long string.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1521727750, "post_id": 49430649, "comment_id": 85863248, "body": "As the error message clearly says, there is no open file on the <code>IN</code> file handle. Showing the contents of the file and how you have tried to read it doesn&#39;t help at all. Please help us with a less restricted view of your code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1521728009, "post_id": 49430649, "comment_id": 85863458, "body": "The filehandle (<code>IN</code>) isn&#39;t open when you try to read from it. So either you never opened it successfully or you have accidentally closed it before reaching this line. It would help tremendously to see the line that opens the filehandle (it will start <code>open IN ...</code>). My guess would be that you don&#39;t open the file successfully (perhaps because the file isn&#39;t in the right place) and you don&#39;t check the return code from the call to <code>open()</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1521728116, "post_id": 49430649, "comment_id": 85863534, "body": "Are there any calls to <code>close()</code> in your code? Particularly inside the <code>while</code> loop."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1521728138, "post_id": 49430649, "comment_id": 85863556, "body": "@Dave: The file handle has been opened correctly at some point to have reached <code>&lt;IN&gt; line 65</code>!"}, {"owner": {"reputation": 17, "user_id": 8950012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebf3eda73881f6237e7389c470b763c2?s=128&d=identicon&r=PG&f=1", "display_name": "TwanK", "link": "https://stackoverflow.com/users/8950012/twank"}, "edited": false, "score": 0, "creation_date": 1521728138, "post_id": 49430649, "comment_id": 85863557, "body": "Thank you for the input. The lines before open() looks like this: \t&gt;print &quot;Primer3 is done! \\n&quot;; \t&gt;my $forward = &quot;$snpid.for&quot;; \t&gt;my @forward_out; \t&gt;my $i=0; \t&gt;open(IN,$forward); \t&gt;while(&lt;IN&gt;){ \t\t&gt;chomp;s/\\r//;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1521728189, "post_id": 49430649, "comment_id": 85863594, "body": "Please <i>edit</i> your question to include additional code or data. It is unreadable within comments."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521728350, "post_id": 49430649, "comment_id": 85863710, "body": "Please change <code>open(IN, $forward)</code> to <code>open(IN, $forward) or die $!</code> and report the result."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521728400, "post_id": 49430649, "comment_id": 85863749, "body": "Please show the rest of the <code>while</code> block"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521728490, "post_id": 49430649, "comment_id": 85863817, "body": "Is the <code>open(IN, $forward)</code> itself inside a loop? Do you open multiple <code>$forward</code> files?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521728642, "post_id": 49430649, "comment_id": 85863921, "body": "My guess is that <code>$snpid</code> takes multiple values and you don&#39;t handle the case where it becomes undefined. Do you have <code>use strict</code> and <code>use warnings &#39;all&#39;</code> in place at the top of the program as they should be?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1521730815, "post_id": 49430649, "comment_id": 85865534, "body": "One more debugging change to your <code>open()</code> call. Can you change it to <code>open(IN,$forward) or die &quot;$forward: $!&quot;;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1521731572, "post_id": 49430649, "comment_id": 85866113, "body": "@TwanK: And please, if you want people to read and understand your code, take the time to format it properly. What are all those <code>&gt;</code> signs at the start of each line? And you only seem to have shown us half of the subroutine."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1521745466, "post_id": 49430649, "comment_id": 85875018, "body": "Why have you stopped responding? Please remember that <b><i>the primary purpose of a</i></b> <b>Stack Overflow</b> <b><i>page is to inform others who arrive here through a search</i></b>. This is not all just for you, and if you have discovered a solution then it is incumbent on you to describe and explain it, probably by writing an answer to your own question. Please be responsible and give at least as much help as you have received."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8950012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebf3eda73881f6237e7389c470b763c2?s=128&d=identicon&r=PG&f=1", "display_name": "TwanK", "link": "https://stackoverflow.com/users/8950012/twank"}, "edited": false, "score": 0, "creation_date": 1521825187, "post_id": 49434335, "comment_id": 85913027, "body": "Thank you all for your input and suggestions. (It is my first time doing something in perl and got the script through someone else).  I removed the if-commands which include a system del command, thus making sure everything will not be removed. But, the error message still is there."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1521737842, "creation_date": 1521737842, "answer_id": 49434335, "question_id": 49430649, "link": "https://stackoverflow.com/questions/49430649/end-of-file-in-readline/49434335#49434335", "title": "End of file in readline", "body": "<p>From what you've revealed, the problem will be this block</p>\n\n<pre><code>if ( -e \"$snpid.for\" ) { system \"del $snpid.for\"; } \n</code></pre>\n\n<p>followed soon afterwards by this</p>\n\n<pre><code>my $forward = \"$snpid.for\"; \n\nopen(IN, $forward) or die $!;\n</code></pre>\n\n<p>The new <code>or die $!</code> is presumably from my advice, so previously you were deleting <code>\"$snpid.for\"</code> and then trying to open it for input. The error you saw should be expected</p>\n\n<blockquote>\n  <p>No such file or directory at Test.pl line 367.</p>\n</blockquote>\n\n<p>You just deleted it!</p>\n\n<p>All I can think of that may help is to be more organised with your coding. What did you mean when you tried to open a file that you had just made sure didn't exist?</p>\n\n<p>Beyond that, you <em>must always</em> add <code>use strict</code> and <code>use warnings 'all'</code> at the top of <em>every</em> Perl program you write. Use <em>lexical file handles</em> together with the <em>three-parameter</em> form of <code>open</code> and <em>always check</em> the status of <em>every</em> <code>open</code> call, using <code>die</code> including the value of <code>$!</code> in the die string to explain why the <code>open</code> failed.</p>\n"}], "owner": {"reputation": 17, "user_id": 8950012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebf3eda73881f6237e7389c470b763c2?s=128&d=identicon&r=PG&f=1", "display_name": "TwanK", "link": "https://stackoverflow.com/users/8950012/twank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1521737842, "creation_date": 1521727273, "last_edit_date": 1592644375, "question_id": 49430649, "link": "https://stackoverflow.com/questions/49430649/end-of-file-in-readline", "title": "End of file in readline", "body": "<p>I'm trying to get an Perl program working. I get an error</p>\n<pre><code>readline() on closed filehandle IN at Test.pl line 368, &lt;IN&gt; line 65.\n</code></pre>\n<p>Lines 363-369 of the program looks like this</p>\n<pre><code>print &quot;Primer3 is done! \\n&quot;;\nmy $forward = &quot;$snpid.for&quot;;\nmy @forward_out;\nmy $i=0;\nopen(IN,$forward);\nwhile(&lt;IN&gt;){\n    chomp;s/\\r//;\n</code></pre>\n<p>And refers to the configuration file. The last line (line 65) looks like this</p>\n<pre><code>num_cpus = 40\n</code></pre>\n<p>So the configuration file is not correct, or Perl does not recognize that this is the end of the file.</p>\n<p>Is there a way to solve this?</p>\n<h3>Update</h3>\n<p>Based on the comments I added the <code>open() or die</code> command and got this:</p>\n<blockquote>\n<p>No such file or directory at Test.pl line 367.</p>\n</blockquote>\n<p>The <code>open</code> command is part of a subroutine <code>Primer3_Run</code></p>\n<pre><code>sub Primer3_Run {    \n    my $snpid = shift;  \n    my $seq   = shift;  \n\n    my $tmp_input = &quot;Primer3.tmp.input&quot;;    \n    my $len       = length($seq);    \n\n    open(OUT, &quot;&gt;$tmp_input&quot;);\n    \n    close OUT; \n    \n    if ( -e &quot;$snpid.for&quot; ) { \n        system &quot;del\n        $snpid.for&quot;;\n    } \n\n    if ( -e &quot;$snpid.rev&quot; ) { \n        system &quot;del $snpid.rev&quot;;\n    } \n    \n    system\n        &quot;$params{'primer3'}     \n        Primer3.tmp.input \n        Primer3.Log.txt 2&gt;&amp;1 &quot;; \n    \n    my $forward = &quot;$snpid.for&quot;; \n    \n    my @forward_out;\n    my $i = 0; \n    \n    open(IN, $forward) or die $!;\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-twig"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1521715059, "post_id": 49424087, "comment_id": 85853772, "body": "&quot;%Hash_Vals requires explicit package name&quot; means you haven&#39;t declared <code>%Hash_Vals</code> correctly. But we can&#39;t see where you declare it, because you&#39;ve only posted a snippet. Also in your sub - <code>$Hash_Vals</code> is not related to <code>$Hash_Vals{$tag1}</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1521715093, "post_id": 49424087, "comment_id": 85853795, "body": "I would also suggest - don&#39;t use <code>twig_handlers</code> unless you really need to. If you&#39;re passing an anon sub with parameters, you&#39;re <i>probably</i> better off just parsing the whole thing, and then modifying it afterwards."}, {"owner": {"reputation": 137, "user_id": 7866968, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a05d28d5bbdcb5ae6c14c033b9275555?s=128&d=identicon&r=PG&f=1", "display_name": "gauss76", "link": "https://stackoverflow.com/users/7866968/gauss76"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1521717137, "post_id": 49424087, "comment_id": 85855293, "body": "Unfortunately I have to use an older version of perl that crashes if I try and load all of the twig structure at once when the xml files become large."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 7866968, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a05d28d5bbdcb5ae6c14c033b9275555?s=128&d=identicon&r=PG&f=1", "display_name": "gauss76", "link": "https://stackoverflow.com/users/7866968/gauss76"}, "edited": false, "score": 0, "creation_date": 1521717077, "post_id": 49426468, "comment_id": 85855247, "body": "Many thanks Sobrique. The problem was simply, as you have said, to use $Hash_Vals -&gt; {$tag1}"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1521715573, "last_edit_date": 1521715573, "creation_date": 1521715018, "answer_id": 49426468, "question_id": 49424087, "link": "https://stackoverflow.com/questions/49424087/xmltwig-parse-hash-to-twig-handler-sub/49426468#49426468", "title": "XML::Twig Parse Hash to twig handler sub", "body": "<p>This question seems a bit misleading. If you are getting: \"%Hash_Vals requires explicit package name and the same error for the variable %Hash_Types.\"</p>\n\n<p>... that means you haven't declared these variables. It's not a lot to do with <code>XML::Twig</code> or <code>XML</code> parsing at all. </p>\n\n<p>In your sub, you're doing something strange too - I suspect you're not doing what you want with:</p>\n\n<pre><code>sub Modify_tag1_data{\n    my ( $twig, $tag1,$Hash_Vals,$Hash_Types) = @_;\n    #\n    $tag1 = $_-&gt;att('f');\n    if($Hash_Vals{$tag1} eq 'f' &amp;&amp; $Hash_Types{$tag1} eq 'test'){\n        print $tag1 . \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Because <code>$Hash_Vals</code> in your parameters has <em>no</em> connection with <code>$Hash_Vals{$tag1}</code> aside from looking similar. You <em>probably</em> want <code>$Hash_Vals -&gt; {$tag1}</code> but it's hard to tell without knowing what <code>%Hash_Vals</code> actually contains. </p>\n"}], "owner": {"reputation": 137, "user_id": 7866968, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a05d28d5bbdcb5ae6c14c033b9275555?s=128&d=identicon&r=PG&f=1", "display_name": "gauss76", "link": "https://stackoverflow.com/users/7866968/gauss76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 49426468, "answer_count": 1, "score": 1, "last_activity_date": 1521715573, "creation_date": 1521708396, "question_id": 49424087, "link": "https://stackoverflow.com/questions/49424087/xmltwig-parse-hash-to-twig-handler-sub", "title": "XML::Twig Parse Hash to twig handler sub", "body": "<p>Hi,</p>\n\n<p>I have the following XML::Twig code to print out some tag information. However instead of parsing an array to the twig handler sub I need to parse a hash instead.</p> \n\n<pre><code>my $twig = XML::Twig-&gt;new(\n    pretty_print =&gt; 'indented',\n    twig_handlers =&gt;{'tag1'=&gt;sub{Modify_tag1_data(@_,\\@Array_Vals,\\@Array_Types)}}); \n\n\nsub Modify_tag1_data{\n    my ( $twig, $tag1,$Array_Vals,$Array_Types) = @_;\n    #\n    $tag1 = $_-&gt;att('f');\n    if($Array_Vals[$tag1] eq 'f' &amp;&amp; $Array_Types[$tag1] eq 'test'){\n        print $tag1 . \"\\n\";\n    }\n}\n</code></pre>\n\n<p>However the code below, now containing the hashes instead of the arrays, gives an error saying symbo %Hash_Vals requires explicit package name and the same error for the variable %Hash_Types.</p>\n\n<pre><code>my $twig = XML::Twig-&gt;new(\n    pretty_print =&gt; 'indented',\n    twig_handlers =&gt;{'tag1'=&gt;sub{Modify_tag1_data(@_,\\%Hash_Vals,\\%Hash_Types)}}); \n\n\nsub Modify_tag1_data{\n    my ( $twig, $tag1,$Hash_Vals,$Hash_Types) = @_;\n    #\n    $tag1 = $_-&gt;att('f');\n    if($Hash_Vals{$tag1} eq 'f' &amp;&amp; $Hash_Types{$tag1} eq 'test'){\n        print $tag1 . \"\\n\";\n    }\n}\n</code></pre>\n\n<p>What is wrong?</p>\n"}, {"tags": ["perl", "unicode", "surrogate-pairs"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1521702215, "last_edit_date": 1521702215, "creation_date": 1521691125, "answer_id": 49420290, "question_id": 49420085, "link": "https://stackoverflow.com/questions/49420085/how-to-reveal-the-surrogate-pairs-in-string-in-perl/49420290#49420290", "title": "How to reveal the surrogate pairs in String in perl", "body": "<p>It's not clear to me what you want to check, so I shall cover both possibilities.</p>\n\n<hr>\n\n<p><strong>To check if a decoded string contains any of U+D800..U+DFFF</strong></p>\n\n<p>The official Unicode standard says that no UTF forms, including UTF-16, can encode these code points, and Perl obliges.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -e'use open \":std\", \":encoding(UTF-8)\"; print \"ABC\\N{U+D800}DEF\\n\";'\nUnicode surrogate U+D800 is illegal in UTF-8 at -e line 1.\n\"\\x{d800}\" does not map to utf8 at -e line 1.\nABC\\x{D800}DEF\n</code></pre>\n\n<p>To check for those characters, you can use</p>\n\n<pre><code>$str =~ /[\\x{D800}-\\x{DFFF}]/\n</code></pre>\n\n<p>To check for any encoding error, you can use</p>\n\n<pre><code>eval { encode(\"UTF-8\", $str, Encode::FB_CROAK | Encode::LEAVE_SRC); 1 }\n</code></pre>\n\n<hr>\n\n<p><strong>To check if a decoded string contains a character above U+FFFF</strong></p>\n\n<p>Characters above U+FFFF can't be encoded using UCS-2, and require a surrogates to encode using UTF-16.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -e'use open \":std\", \":encoding(UTF-16le)\"; print \"\\N{U+10000}\";' | od -t x2\n0000000 d800 dc00\n0000004\n</code></pre>\n\n<p>To check for those characters, you can use</p>\n\n<pre><code>$str =~ /[^\\0-\\x{FFFF}]/\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5492106, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-nHK0-ceFgUc/AAAAAAAAAAI/AAAAAAAAABE/rf1EAW2KtuQ/photo.jpg?sz=128", "display_name": "Dengke Liu", "link": "https://stackoverflow.com/users/5492106/dengke-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521702215, "creation_date": 1521689593, "question_id": 49420085, "link": "https://stackoverflow.com/questions/49420085/how-to-reveal-the-surrogate-pairs-in-string-in-perl", "title": "How to reveal the surrogate pairs in String in perl", "body": "<p>I am working a perl code base to validate customer input, my goal is to block surrogate characters.</p>\n\n<p>My thought is first encoding the customer input as UTF-16 and </p>\n\n<pre><code> foreach my $messageChar (@MessageChars) {\n   my $messageCharUTF16 = Encode::encode(\"UTF-16\", $messageChar);\n   if (($messageCharUTF16 &gt;= 0xD800 &amp;&amp; $messageCharUTF16 &lt;= 0xDBFF)|( $messageCharUTF16 &gt;= 0xDC00 &amp;&amp; $messageCharUTF16 &lt;= 0xDFFF)) {\n      // Then we have surrogate pairs       \n   }   \n }\n</code></pre>\n\n<p>However, I am not getting the correct UTF-16 values from Encode::encode. </p>\n\n<p>How can I reveal the surrogate pairs? Is there any straight-forward way to verify if a string contains surrogate characters in Perl?</p>\n"}, {"tags": ["regex", "perl", "marpa"], "answers": [{"comments": [{"owner": {"reputation": 641, "user_id": 9302655, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/984d6b4e8ea8052988f483e00ed9486a?s=128&d=identicon&r=PG&f=1", "display_name": "zubug55", "link": "https://stackoverflow.com/users/9302655/zubug55"}, "edited": false, "score": 0, "creation_date": 1521744746, "post_id": 49428661, "comment_id": 85874620, "body": "In my question I have mentioned that in the second method I tried PARAM ::= STRING | REGEX_STRING REGEX_STRING ::= &#39;&quot;&#39; QUOTED_STRING &#39;&quot;&#39;  STRING ~ [^ \\/&#40;&#41;,&amp;:\\&quot;~]+ QUOTED_STRING ~ [^ ,&amp;:\\&quot;~]+ ; which is similar to what you are doing"}, {"owner": {"reputation": 641, "user_id": 9302655, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/984d6b4e8ea8052988f483e00ed9486a?s=128&d=identicon&r=PG&f=1", "display_name": "zubug55", "link": "https://stackoverflow.com/users/9302655/zubug55"}, "edited": false, "score": 0, "creation_date": 1521745524, "post_id": 49428661, "comment_id": 85875047, "body": "i understood the problem; the problem is, I have included rules like : PARAM ::= STRING | REGEX_STRING REGEX_STRING ::= &#39;&quot;&#39; QUOTED_STRING &#39;&quot;&#39;   STRING                     ~ [^ \\/&#40;&#41;,&amp;:\\&quot;~]+ QUOTED_STRING              ~ [^ \\/,&amp;:\\&quot;~]+   ; here regex of STRING and QUOTED_STRING is different, then only it gives error"}, {"owner": {"reputation": 641, "user_id": 9302655, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/984d6b4e8ea8052988f483e00ed9486a?s=128&d=identicon&r=PG&f=1", "display_name": "zubug55", "link": "https://stackoverflow.com/users/9302655/zubug55"}, "edited": false, "score": 0, "creation_date": 1521745562, "post_id": 49428661, "comment_id": 85875070, "body": "If i replace QUOTED_STRING with STRING; it will not give error"}, {"owner": {"reputation": 641, "user_id": 9302655, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/984d6b4e8ea8052988f483e00ed9486a?s=128&d=identicon&r=PG&f=1", "display_name": "zubug55", "link": "https://stackoverflow.com/users/9302655/zubug55"}, "edited": false, "score": 0, "creation_date": 1521745597, "post_id": 49428661, "comment_id": 85875092, "body": "Can you suggest how do i resolve this? My regex of STRING and Quoted_STRING has to be different only"}, {"owner": {"reputation": 641, "user_id": 9302655, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/984d6b4e8ea8052988f483e00ed9486a?s=128&d=identicon&r=PG&f=1", "display_name": "zubug55", "link": "https://stackoverflow.com/users/9302655/zubug55"}, "edited": false, "score": 0, "creation_date": 1525124380, "post_id": 49428661, "comment_id": 87234475, "body": "PLz help on this question: <a href=\"https://stackoverflow.com/questions/50108574/parse-single-quoted-string-using-marpar2-perl\" title=\"parse single quoted string using marpar2 perl\">stackoverflow.com/questions/50108574/&hellip;</a>"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 1, "last_activity_date": 1521797986, "last_edit_date": 1521797986, "creation_date": 1521721526, "answer_id": 49428661, "question_id": 49418453, "link": "https://stackoverflow.com/questions/49418453/how-to-parse-identify-double-quoted-string-from-the-big-expression-using-marpar/49428661#49428661", "title": "How to parse/identify double quoted string from the big expression using MARPA:R2 perl", "body": "<pre><code>use 5.026;\nuse strictures;\nuse Data::Dumper qw(Dumper);\nuse Marpa::R2 qw();\n\nmy $grammar = Marpa::R2::Scanless::G-&gt;new({\n    bless_package =&gt; 'parsetree',\n    source        =&gt; \\&lt;&lt;'',\n:default ::= action =&gt; [values] bless =&gt; ::lhs\nlexeme default = bless =&gt; ::name latm =&gt; 1\n:start ::= expression\nexpression ::= expression OP expression\nexpression ::= expression COMMA expression\nexpression ::= func LPAREN PARAM RPAREN\nexpression ::= PARAM\nPARAM ::= STRING | REGEXSTRING\n:discard    ~ sp\nsp          ~ [\\s]+\nCOMMA           ~ [,]\nSTRING          ~ [^ \\/\\(\\),&amp;:\\\"~]+\nREGEXSTRING     ::= '\"' QUOTEDSTRING '\"'\nQUOTEDSTRING    ~ [^ ,&amp;:\\\"~]+\nOP              ~ ' - ' | '&amp;'\nLPAREN          ~ '('\nRPAREN          ~ ')'\nfunc            ~ 'func'\n\n});\n# say $grammar-&gt;show_rules;\n\nfor my $input (\n    'func(foo)&amp;func(bar)', '\"foo\"', 'func(\"foo\") - func(\"bar\")', 'func(\"foo\")'\n) {\n    my $r = Marpa::R2::Scanless::R-&gt;new({\n        grammar =&gt; $grammar,\n#         trace_terminals =&gt; 1\n    });\n    $r-&gt;read(\\$input);\n    say \"# $input\";\n    say Dumper $r-&gt;value;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 641, "user_id": 9302655, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/984d6b4e8ea8052988f483e00ed9486a?s=128&d=identicon&r=PG&f=1", "display_name": "zubug55", "link": "https://stackoverflow.com/users/9302655/zubug55"}, "is_accepted": false, "score": 0, "last_activity_date": 1522084820, "creation_date": 1522084820, "answer_id": 49497130, "question_id": 49418453, "link": "https://stackoverflow.com/questions/49418453/how-to-parse-identify-double-quoted-string-from-the-big-expression-using-marpar/49497130#49497130", "title": "How to parse/identify double quoted string from the big expression using MARPA:R2 perl", "body": "<p>2nd method posted in question worked for me. I just have to include :</p>\n\n<pre><code>lexeme default = latm =&gt; 1\n</code></pre>\n\n<p>in my code.</p>\n"}], "owner": {"reputation": 641, "user_id": 9302655, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/984d6b4e8ea8052988f483e00ed9486a?s=128&d=identicon&r=PG&f=1", "display_name": "zubug55", "link": "https://stackoverflow.com/users/9302655/zubug55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 49428661, "answer_count": 2, "score": 2, "last_activity_date": 1522084820, "creation_date": 1521676921, "last_edit_date": 1521744817, "question_id": 49418453, "link": "https://stackoverflow.com/questions/49418453/how-to-parse-identify-double-quoted-string-from-the-big-expression-using-marpar", "title": "How to parse/identify double quoted string from the big expression using MARPA:R2 perl", "body": "<p>Problem in parsing/identifying double quoted string from the big expression.</p>\n\n<pre><code>use strict;\nuse Marpa::R2;\nuse Data::Dumper;\n\nmy $grammar = Marpa::R2::Scanless::G-&gt;new({\n    default_action =&gt; '[values]',\n    source =&gt; \\(&lt;&lt;'END_OF_SOURCE'),\n\n:start ::= expression\n\nexpression ::= expression OP expression\nexpression ::= expression COMMA expression\nexpression ::= func LPAREN PARAM RPAREN\nexpression ::= PARAM\nPARAM ::= STRING | REGEX_STRING\n\n:discard    ~ sp\nsp          ~ [\\s]+\n\nCOMMA                      ~ [,]\nSTRING                     ~ [^ \\/\\(\\),&amp;:\\\"~]+\nREGEX_STRING               ~ yet to identify\nOP                         ~ ' - ' | '&amp;'\nLPAREN                     ~ '('\nRPAREN                     ~ ')'\nfunc                       ~ 'func'\n\nEND_OF_SOURCE\n});\n\nmy $recce = Marpa::R2::Scanless::R-&gt;new({grammar =&gt; $grammar});\n</code></pre>\n\n<p><code>my $input1 = \"func(foo)&amp;func(bar)\";</code> -> able to parse it properly by parsing foo and bar as STRING LEXEME.</p>\n\n<p><code>my $input2 = \"\\\"foo\\\"\";</code> -> Here, I want to parse foo as regex_string LEXEME. REGEX_STRING is something which is enclosed in double quotes.</p>\n\n<p><code>my $input3 = \"func(\\\"foo\\\") - func(\\\"bar\\\")\";</code> -> Here, func should be taken as func LEXEME, ( should be LPAREN, ) should be RPAREN, foo as REGEX_STRING, - as OP and same for func(\\\"bar\\\")</p>\n\n<p><code>my $input4 = \"func(\\\"foo\\\")\";</code> -> Here, func should be taken as func LEXEME, ( should be LPAREN, ) should be RPAREN, foo as REGEX_STRING</p>\n\n<pre><code>print \"Trying to parse:\\n$input\\n\\n\";\n$recce-&gt;read(\\$input);\nmy $value_ref = ${$recce-&gt;value};\nprint \"Output:\\n\".Dumper($value_ref);\n</code></pre>\n\n<p>What did i try :\n <strong>1st method:</strong>\nMy REGEX_STRING should be something : <code>REGEX_STRING  -&gt; ~ '\\\"([^:]*?)\\\"'</code></p>\n\n<p>If i try putting above <code>REGEX_STRING</code> in the code with input expression as <code>my $input4 = \"func(\\\"foo\\\")\";</code> i get error like :</p>\n\n<p>Error in SLIF parse: No lexeme found at line 1, column 5\n* String before error: func(\n* The error was at line 1, column 5, and at character 0x0022 '\"', ...\n* here: \"foo\")\nMarpa::R2 exception</p>\n\n<p><strong>2nd method:</strong></p>\n\n<p>Tried including a rule like :</p>\n\n<pre><code>PARAM ::= STRING | REGEX_STRING\nREGEX_STRING ::= '\"' QUOTED_STRING '\"'\n\nSTRING ~ [^ \\/\\(\\),&amp;:\\\"~]+\nQUOTED_STRING ~ [^ ,&amp;:\\\"~]+\n</code></pre>\n\n<p>The problem here is-> Input is given using:</p>\n\n<p><code>my $input4 = \"func(\\\"foo\\\")\";</code></p>\n\n<p>So, here it gives error because there are now two ways to parse this expression, either whole thing between double quotes which is func(\\\"foo\\\")\nis taken as QUOTED_STRING or func should be taken as func LEXEME and so on.</p>\n\n<p>Please help how do i fix this thing.</p>\n"}]