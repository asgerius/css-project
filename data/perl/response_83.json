[{"tags": ["xml", "perl", "libxml2", "tab-delimited"], "comments": [{"owner": {"reputation": 6566, "user_id": 748019, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/939cc882ebaf28150d4f716b933d5960?s=128&d=identicon&r=PG", "display_name": "stevenl", "link": "https://stackoverflow.com/users/748019/stevenl"}, "edited": false, "score": 0, "creation_date": 1470899787, "post_id": 38881189, "comment_id": 65139373, "body": "I added the full code that worked for me"}, {"owner": {"reputation": 13, "user_id": 6673553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949eb5f45ab5c44f72c5bda9b467ad46?s=128&d=identicon&r=PG&f=1", "display_name": "sannag", "link": "https://stackoverflow.com/users/6673553/sannag"}, "reply_to_user": {"reputation": 6566, "user_id": 748019, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/939cc882ebaf28150d4f716b933d5960?s=128&d=identicon&r=PG", "display_name": "stevenl", "link": "https://stackoverflow.com/users/748019/stevenl"}, "edited": false, "score": 0, "creation_date": 1471018091, "post_id": 38881189, "comment_id": 65201275, "body": "Great! Thank you Stevenl it woks. Thank your for all you effort...I voted for your answer :)"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470862490, "post_id": 38882263, "comment_id": 65127659, "body": "If you are going to process the file line-by-line, don&#39;t slurp it. Read into the variable you are going to use. And, of course, use lexical filehandles. <code>while (my $line = &lt;$READFILE&gt;) { chomp $line; ... }</code>"}, {"owner": {"reputation": 13, "user_id": 6673553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949eb5f45ab5c44f72c5bda9b467ad46?s=128&d=identicon&r=PG&f=1", "display_name": "sannag", "link": "https://stackoverflow.com/users/6673553/sannag"}, "edited": false, "score": 0, "creation_date": 1470883181, "post_id": 38882263, "comment_id": 65133319, "body": "Thanks! I will change the for loop to while loop"}, {"owner": {"reputation": 6566, "user_id": 748019, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/939cc882ebaf28150d4f716b933d5960?s=128&d=identicon&r=PG", "display_name": "stevenl", "link": "https://stackoverflow.com/users/748019/stevenl"}, "edited": false, "score": 0, "creation_date": 1470900019, "post_id": 38882263, "comment_id": 65139520, "body": "Another Perl tip: <code>use warnings</code>"}, {"owner": {"reputation": 6566, "user_id": 748019, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/939cc882ebaf28150d4f716b933d5960?s=128&d=identicon&r=PG", "display_name": "stevenl", "link": "https://stackoverflow.com/users/748019/stevenl"}, "edited": false, "score": 0, "creation_date": 1470900112, "post_id": 38882263, "comment_id": 65139588, "body": "And, remove the <code>()</code> from your subroutine declaration. These are not like other languages for specifying the arguments, but to &quot;let you define subroutines that work like built-in functions&quot;."}, {"owner": {"reputation": 13, "user_id": 6673553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949eb5f45ab5c44f72c5bda9b467ad46?s=128&d=identicon&r=PG&f=1", "display_name": "sannag", "link": "https://stackoverflow.com/users/6673553/sannag"}, "edited": false, "score": 0, "creation_date": 1470925292, "post_id": 38882263, "comment_id": 65156817, "body": "Thanks! will incorporate those two suggestions."}], "tags": [], "owner": {"reputation": 6566, "user_id": 748019, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/939cc882ebaf28150d4f716b933d5960?s=128&d=identicon&r=PG", "display_name": "stevenl", "link": "https://stackoverflow.com/users/748019/stevenl"}, "is_accepted": false, "score": 1, "last_activity_date": 1470899763, "last_edit_date": 1470899763, "creation_date": 1470858395, "answer_id": 38882263, "question_id": 38881189, "link": "https://stackoverflow.com/questions/38881189/building-xml-in-perl-with-tab-delimited-file/38882263#38882263", "title": "Building XML in Perl with Tab Delimited File", "body": "<ul>\n<li>The problem is that in your <code>else</code> block<code>$report</code> is a newly created\nelement that has not been added to <code>$root</code>.</li>\n<li>What you should be doing\nis to reuse the existing <code>$report</code> element rather than creating a new\none.</li>\n</ul>\n\n<p>So I have would modify your code as follows:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $READFILENAME = \"data.txt\";\nmy $WRITEFILENAME = \"test.xml\";\n\nmy $doc = XML::LibXML::Document-&gt;new('1.0');\nmy $root = $doc-&gt;createElement(\"XML_FILE\");\nopen my $FILEWRITE, '&gt;', $WRITEFILENAME;\nopen my $READFILE, '&lt;', $READFILENAME;\nmy $copy_person_pin = \"XX\";\nmy $report;\nwhile (my $line = &lt;$READFILE&gt;) {\n    chomp $line;\n    my @data = split(/\\s+/,$line);\n    my $reason1 = $data[0];\n    my $reason2 = $data[1];\n    my $reason3 = $data[2];\n    my $person_pin = $data[3];\n    my $name = $data[4];\n    my $zip = $data[5];\n    my $date = $data[6];\n    my $time = $data[7];\n\n    if ($person_pin ne $copy_person_pin)\n    {  \n        $report = $doc-&gt;createElement(\"REPORT\");\n        # Build the Report tags\n        # I had to put $report out of if loop so that $report is avalible in else statement\n        # my $report = $doc-&gt;createElement(\"REPORT\");\n        $report-&gt;setAttribute('TYPE'=&gt;'AB');\n        my @sortedReportTag = qw ( REASON1\n                  REASON2\n                  REASON3\n                  ); \n\n        my %reportHashTags;\n        @reportHashTags { @sortedReportTag } = ($reason1,\n                       $reason2,\n                       $reason3\n                           );                                                                            \n        buildXMLElements(\\@sortedReportTag, \\%reportHashTags, $report); \n\n        $root-&gt; appendChild($report);\n\n        # Build the element for Person Tag\n        my $person = $doc-&gt;createElement(\"PERSON\");\n        my @sortedPersonTag = qw ( PIN\n                  NAME\n                  ZIP); \n        my %personHashTags;\n        @personHashTags { @sortedPersonTag } = ($person_pin,\n                       $name,\n                       $zip\n                           );\n        # Build the elements for Person Tag                                        \n        buildXMLElements(\\@sortedPersonTag, \\%personHashTags, $person);\n        $report-&gt; appendChild($person); \n\n\n        # Build the elements for Charge Tag\n        my $charge = $doc-&gt;createElement(\"CHARGE\");     \n        my @sortedChargeTag = qw ( DATE\n                  TIME\n                  );\n        my %chargeHashTags;\n        @chargeHashTags { @sortedChargeTag } = ($date,\n                       $time\n                        );  \n        # Build the elements for Charge Tag                                     \n        buildXMLElements(\\@sortedChargeTag, \\%chargeHashTags, $charge);\n        $report-&gt; appendChild($charge);\n        $copy_person_pin = $person_pin;\n    }\n    else {\n        my $charge = $doc-&gt;createElement(\"CHARGE\");     \n        my @sortedChargeTag = qw ( DATE\n                  TIME\n                  );\n        my %chargeHashTags;\n        @chargeHashTags { @sortedChargeTag } = ($date,\n                       $time\n                        );  \n        # Build the elements for Charge Tag                                     \n        buildXMLElements(\\@sortedChargeTag, \\%chargeHashTags, $charge);\n        $report-&gt; appendChild($charge); \n    }\n}\n\n$doc-&gt;setDocumentElement($root);\n\n# Write the XML to a file\nprint $FILEWRITE ($doc-&gt;toString());\nclose $FILEWRITE;\n\nsub buildXMLElements {\n  my($elementTags, $hashTags, $parentElement) = @_;\n  for my $name (@$elementTags) {\n    my $reportTag = $doc-&gt;createElement($name);\n    my $reportValue = $hashTags-&gt;{$name};\n    $reportTag-&gt;appendTextNode($reportValue);\n    $parentElement-&gt;appendChild($reportTag);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6673553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949eb5f45ab5c44f72c5bda9b467ad46?s=128&d=identicon&r=PG&f=1", "display_name": "sannag", "link": "https://stackoverflow.com/users/6673553/sannag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470899763, "creation_date": 1470854457, "last_edit_date": 1470869055, "question_id": 38881189, "link": "https://stackoverflow.com/questions/38881189/building-xml-in-perl-with-tab-delimited-file", "title": "Building XML in Perl with Tab Delimited File", "body": "<p>I am relative new to Perl. Please check to see what I am doing wrong.</p>\n\n<p>I have following input tab delimited file, which need to be built to XML, 'pin'number is the unique identifier. If the 'Pin' matches then\npopulate and show multiple 'CHARGE' under the report.</p>\n\n<pre><code>Reason1 Reason2 Reason3 Pin Name    Zip Date    Time\n\ndata1   data2   data3   Pin 1   data5   data6   data7   data8\ndata1   data2   data3   Pin 1   data5   data6   data9   data10\ndata1   data2   data3   Pin 1   data5   data6   data11  data12\n</code></pre>\n\n<p>I want it to build following XML</p>\n\n<pre><code>&lt;XML_FILE&gt;\n  &lt;REPORT TYPE=\"AB\"&gt;\n    &lt;REASON1&gt;data1&lt;/REASON&gt;\n    &lt;REASON2&gt;data2&lt;/REASON2&gt;\n    &lt;REASON3&gt;data3&lt;/REASON3&gt;\n    &lt;PERSON&gt;\n      &lt;PIN&gt;Pin 1&lt;/PIN&gt;\n      &lt;NAME&gt;data5&lt;/NAME&gt;\n      &lt;ZIP&gt;data6&lt;ZIP&gt;\n    &lt;/PERSON&gt;\n    &lt;CHARGE&gt;\n      &lt;DATE&gt;data7&lt;/DATE&gt;\n      &lt;TIME&gt;data8&lt;/TIME&gt;\n    &lt;/CHARGE&gt;\n    &lt;CHARGE&gt;\n       &lt;DATE&gt;data9&lt;/DATE&gt;\n       &lt;TIME&gt;data10&lt;TIME&gt;\n    &lt;/CHARGE&gt;\n    &lt;CHARGE&gt;\n       &lt;DATE&gt;data11&lt;/DATE&gt;\n       &lt;TIME&gt;data12&lt;/TIME&gt;\n    &lt;/CHARGE&gt;\n  &lt;/REPORT&gt;\n&lt;/XML_FILE&gt;\n\n\nuse strict;\nuse XML::LibXML;\n\nmy $READFILENAME = \"SomeDir\\\\data.txt\";\nmy $WRITEFILENAME = \"SomeDir\\\\test.xml\";\n\nmy $doc = XML::LibXML::Document-&gt;new('1.0');\nmy $root = $doc-&gt;createElement(\"XML_FILE\");\nopen (FILEWRITE, \"&gt;$WRITEFILENAME\");\nopen (READFILE, $READFILENAME);\nmy $copy_person_pin = \"XX\";\nforeach (&lt;READFILE&gt;) {\n    my $line = $_; chomp $line;\n    my @data = split(/\\t/,$line);\n    my $reason1 = $data[0];\n    my $reason2 = $data[1];\n    my $reason3 = $data[2];\n    my $person_pin = $data[3];\n    my $name = $data[4];\n    my $zip = $data[5];\n    my $date = $data[6];\n    my $time = $data[7];\n    my $report = $doc-&gt;createElement(\"REPORT\");\n    if ($person_pin ne $copy_person_pin)\n    {  \n      # Build the Report tags\n      # I had to put $report out of if loop so that $report is avalible in else statement\n      # my $report = $doc-&gt;createElement(\"REPORT\");\n      $report-&gt;setAttribute('TYPE'=&gt;'AB');\n      my @sortedReportTag = qw ( REASON1\n                REASON2\n                REASON3\n                ); \n\n      my %reportHashTags;\n      @reportHashTags { @sortedReportTag } = ($reason1,\n                     $reason2,\n                     $reason3\n                         );                                                                            \n      buildXMLElements(\\@sortedReportTag, \\%reportHashTags, $report); \n\n      $root-&gt; appendChild($report);\n\n      # Build the element for Person Tag\n      my $person = $doc-&gt;createElement(\"PERSON\");\n      my @sortedPersonTag = qw ( PIN\n                NAME\n                ZIP); \n      my %personHashTags;\n      @personHashTags { @sortedPersonTag } = ($person_pin,\n                     $name,\n                     $zip\n                         );\n      # Build the elements for Person Tag                                        \n      buildXMLElements(\\@sortedPersonTag, \\%personHashTags, $person);\n      $report-&gt; appendChild($person); \n\n\n      # Build the elements for Charge Tag\n      my $charge = $doc-&gt;createElement(\"CHARGE\");     \n      my @sortedChargeTag = qw ( DATE\n                TIME\n                );\n      my %chargeHashTags;\n      @chargeHashTags { @sortedChargeTag } = ($date,\n                     $time\n                      );  \n      # Build the elements for Charge Tag                                     \n      buildXMLElements(\\@sortedChargeTag, \\%chargeHashTags, $charge);\n      $report-&gt; appendChild($charge);\n      $copy_person_pin = $person_pin;\n    }\n    else {\n      my $charge = $doc-&gt;createElement(\"CHARGE\");     \n      my @sortedChargeTag = qw ( DATE\n                TIME\n                );\n      my %chargeHashTags;\n      @chargeHashTags { @sortedChargeTag } = ($date,\n                     $time\n                      );  \n      # Build the elements for Charge Tag                                     \n      buildXMLElements(\\@sortedChargeTag, \\%chargeHashTags, $charge);\n      $report-&gt; appendChild($charge); \n    }\n}\n\n$doc-&gt;setDocumentElement($root);\n\n# Write the XML to a file\nprint FILEWRITE ($doc-&gt;toString());\nclose FILEWRITE;\n\nsub buildXMLElements() {\n  my($elementTags, $hashTags, $parentElement) = @_;\n  for my $name (@$elementTags) {\n    my $reportTag = $doc-&gt;createElement($name);\n    my $reportValue = $hashTags-&gt;{$name};\n    $reportTag-&gt;appendTextNode($reportValue);\n    $parentElement-&gt;appendChild($reportTag);\n  }\n}\n</code></pre>\n\n<p>The output I get is, basically only the first 'CHARGE' is showing up not the other two. </p>\n\n<pre><code>&lt;XML_FILE&gt;\n &lt;REPORT TYPE=\"AB\"&gt;\n   &lt;REASON1&gt;data1&lt;/REASON&gt;\n   &lt;REASON2&gt;data2&lt;/REASON2&gt;\n   &lt;REASON3&gt;data3&lt;/REASON3&gt;\n   &lt;PERSON&gt;\n    &lt;PIN&gt;Pin 1&lt;/PIN&gt;\n    &lt;NAME&gt;data5&lt;/NAME&gt;\n    &lt;ZIP&gt;data6&lt;ZIP&gt;\n   &lt;/PERSON&gt;\n   &lt;CHARGE&gt;\n    &lt;DATE&gt;data7&lt;/DATE&gt;\n    &lt;TIME&gt;data8&lt;/TIME&gt;\n   &lt;/CHARGE&gt;\n  &lt;/REPORT&gt;\n   &lt;/XML_FILE&gt;\n</code></pre>\n\n<p>@stevenl thanks the reply. But it doesn't work. if I declared empty $report at the beginning as suggested then the script runs but it doesen't still add the second and third charge. It still has the same output as above. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470852676, "post_id": 38880527, "comment_id": 65122419, "body": "Tip: <code>while (&lt;&gt;)</code> will read from the file(s) passed as arguments, so you didn&#39;t need to <code>open FILE</code>."}, {"owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 0, "creation_date": 1470854464, "post_id": 38880527, "comment_id": 65123421, "body": "@Gary I added working example to my answer."}, {"owner": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "edited": false, "score": 0, "creation_date": 1471013526, "post_id": 38880527, "comment_id": 65198433, "body": "@Thanks markus I took a looked at what you did and man seems a lot more efficient then the route I took. I decided to read the lines from the file and store it within in array. Then read from the array to find what I need store it within a variable then read from the array again to substitute what I needed."}], "answers": [{"tags": [], "owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "is_accepted": true, "score": 4, "last_activity_date": 1470853875, "last_edit_date": 1470853875, "creation_date": 1470852520, "answer_id": 38880634, "question_id": 38880527, "link": "https://stackoverflow.com/questions/38880527/capture-group-stored-as-variable-substitution-operator-returns-it-as-blank/38880634#38880634", "title": "Capture group stored as variable, Substitution operator returns it as blank?", "body": "<p>You are reading file line-by-line in <code>while</code> loop.</p>\n\n<p>At line</p>\n\n<pre><code>chargeable_items   bit NOT NULL\n</code></pre>\n\n<p>you have not yet set <code>$line</code> to any value, so <code>chargeable_items</code> is replaced with empty value. You only set <code>$line</code> later on line</p>\n\n<pre><code>create unique clustered index host_idx on dbo.t_host (system_name, server_type, environment)\n</code></pre>\n\n<p>but <code>$line</code> is never used after that since there is no <code>chargeable_items</code> after that line.</p>\n\n<p>Working solution would be to read whole file at once and then do matching and substitution:</p>\n\n<pre><code>#!/approot/opt/bin/perl\nuse strict;\n\nmy $file = $ARGV[0];\nopen FILE, $file or die;\nlocal $/;\nmy $data = &lt;FILE&gt;;\n\nif ($data =~ m/create unique clustered index \\S+ on \\S+ \\(([^\\)]+)\\)/) {\n  my $line = $1;\n  $data =~ s/chargeable_items/$line/;\n}\n\nprint $data;\n</code></pre>\n\n<p>Here <code>local $/</code> sets special variable <code>$/</code> (input record separator) to undefined value locally, so that <code>&lt;FILE&gt;</code> will read whole file at once, instead of line-by-line, which is normal behaviour.</p>\n"}], "owner": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 2, "accepted_answer_id": 38880634, "answer_count": 1, "score": 0, "last_activity_date": 1470853875, "creation_date": 1470852159, "last_edit_date": 1470852489, "question_id": 38880527, "link": "https://stackoverflow.com/questions/38880527/capture-group-stored-as-variable-substitution-operator-returns-it-as-blank", "title": "Capture group stored as variable, Substitution operator returns it as blank?", "body": "<pre><code>#!/approot/opt/bin/perl\nuse strict;\n\nmy $file = $ARGV[0];\nopen FILE, $file or die;\nmy $line;\n\nwhile (&lt;FILE&gt;) {\n\nif (m/create unique clustered index \\S+ on \\S+ \\(([^\\)]+)\\)/) {\n  $line = $1;\n  }\ns/chargeable_items/$line/;\n\nprint;\n}\n</code></pre>\n\n<p>Here is the text file I am trying to make this work with but everytime it attempts to replace it. It replaces the string with a blank.</p>\n\n<pre><code>CREATE TABLE  t_test                                                                                                                         \n (\nsystem_name        varchar(20) NOT NULL,\nserver_type        smallint NOT NULL,\nchargeable_system  bit NOT NULL,\nchargeable_items   bit NOT NULL\n )\ncreate unique clustered index host_idx on dbo.t_host (system_name, server_type, environment)                                                                                                                                                                                                                                                                                                                                                                                                                                                             \ncreate nonclustered index tt_host on dbo.t_host (N.A.)\n</code></pre>\n\n<p>Everytime it does the substitution operator it replaces \"chargeable_items\" with a blank value as shown below</p>\n\n<pre><code>CREATE TABLE  t_test                                                                                                                         \n (\nsystem_name        varchar(20) NOT NULL,\nserver_type        smallint NOT NULL,\nchargeable_system  bit NOT NULL,\n   bit NOT NULL\n )\ncreate unique clustered index host_idx on dbo.t_host (system_name, server_type, environment)                                                                                                                                                                                                                                                                                                                                                                                                                                                             \ncreate nonclustered index tt_host on dbo.t_host (N.A.) \n</code></pre>\n"}, {"tags": ["perl", "attributes", "moose"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470844974, "post_id": 38878324, "comment_id": 65117996, "body": "Can you please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can run this?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470846204, "post_id": 38878324, "comment_id": 65118798, "body": "The writer is supposed to write into the hash directly, not into an object?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470846334, "post_id": 38878324, "comment_id": 65118867, "body": "I&#39;m trying to do this, but I think I broke Moose."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470846424, "post_id": 38878324, "comment_id": 65118909, "body": "Do you have to use Moose? Do you need the MOP for anything once you are done creating the objects? Or do you just want an OOP-approach to access your tied hash?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470846583, "post_id": 38878324, "comment_id": 65119005, "body": "You might find <a href=\"http://www.perlmonks.org/?node_id=969044\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=969044</a> a good read."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470850943, "post_id": 38878324, "comment_id": 65121388, "body": "@simbabque Yes, I was ordered to use Moose"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470851118, "post_id": 38878324, "comment_id": 65121492, "body": "@porton Then your orders are wrong ... Moose doesn&#39;t make sense if all you want to do is get/set values in an hash."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470851258, "post_id": 38878324, "comment_id": 65121569, "body": "By whom? Do they know what that implies, or is it just a <i>we do Moose here</i> thing? Sometimes arguing pays off if you can actually demonstrate you are right."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470851733, "post_id": 38878324, "comment_id": 65121849, "body": "Here&#39;s another thing: those very weird and abstract problems tend to attract a lot of <i>why are you doing this?</i> type of questions around here. I have had a few of those questions myself and know that it sometimes feels like this super-complicated approach is the only way to do it. But it actually helps to take a step back and look at what you really want to use it for, and how that thing is supposed to behave on the outside when it&#39;s done. Often that way  you can find another, less complicated way. So when we say <i>don&#39;t do that</i>, we only mean well. :)"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470852708, "post_id": 38878324, "comment_id": 65122438, "body": "@simbabque It is what my boss assigned me to do. There is no other variants for me (or to change the job)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470856912, "post_id": 38878324, "comment_id": 65124772, "body": "That doesn&#39;t sound like a happy place."}], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1470850899, "post_id": 38879115, "comment_id": 65121364, "body": "Great solution, but it does not work for me, because in the real code I call <code>$BusinessClass-&gt;meta-&gt;add_attribute(...);</code> in a base class serving for a derived class. Your proposed <code>around $Key</code> is called in the base class and fails with an error because <code>add_attribute()</code> was called for another (derived) class, and so there is no $Key attribute in the base class. What to do?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1470851090, "post_id": 38879115, "comment_id": 65121476, "body": "That should work in child classes. I will try when I have a computer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1470856151, "post_id": 38879115, "comment_id": 65124373, "body": "@porton I adapted the answer. <code>Test</code> was renamed to <code>Foo</code> and there is now a subclass. The trick is not to use the Moose <code>around</code>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1470856101, "last_edit_date": 1470856101, "creation_date": 1470847204, "answer_id": 38879115, "question_id": 38878324, "link": "https://stackoverflow.com/questions/38878324/perl-moose-accessors-generated-on-the-fly/38879115#38879115", "title": "Perl Moose accessors generated on the fly", "body": "<p>I think changing the reader and writer methods like that requires an unhealthy level of insanity. If you want to, take a look at <a href=\"https://metacpan.org/source/ETHER/Moose-2.1804/lib/Class/MOP/Method/Accessor.pm\" rel=\"nofollow\">the source code of Class::MOP::Method::Accessor</a>, which is used under the hood to create the accessors.</p>\n\n<p>Instead, I suggest to just overwrite (or attach) the functionality to the Moose-generated readers using an <code>around</code> method modifier. To get that to work with sub-classes, you can use <a href=\"https://metacpan.org/pod/Class::Method::Modifiers\" rel=\"nofollow\">Class::Method::Modifiers</a> instead of the Moose <code>around</code>.</p>\n\n<pre><code>package Foo::Subclass;\nuse Moose;\nextends 'Foo';\n\npackage Foo;\nuse Moose;\n\npackage main;\nrequire Class::Method::Modifiers; # no import because it would overwrite Moose\n\nmy @Fields = qw( af sdaf gdsg ewwq fsf );    # pretend that we have 100 fields\n\n# Imagine that this is a tied hash with 100 fields\nmy %Data = map { $_ =&gt; rand } @Fields;\n\nmy $class = 'Foo::Subclass';\nforeach my $Key (@Fields) {\n    $class-&gt;meta-&gt;add_attribute(\n        $Key =&gt; {\n            is       =&gt; 'rw',\n            isa      =&gt; 'Str',\n            lazy     =&gt; 0,\n            required =&gt; 0,\n        }\n    );\n\n    Class::Method::Modifiers::around( \"${class}::$Key\", sub {\n        my $orig = shift;\n        my $self = shift;\n\n        $self-&gt;$orig(@_);    # just so Moose is up to speed\n\n        # writer\n        $Data{$Key} = $_[0] if @_;\n\n        return $Data{$Key};\n    });\n}\n</code></pre>\n\n<p>And then run a test.</p>\n\n<pre><code>package main;\nuse Data::Printer;\nuse v5.10;\n\nmy $foo = Test-&gt;new;\nsay $foo-&gt;sdaf;\n$foo-&gt;sdaf('foobar');\nsay $foo-&gt;sdaf;\n\np %Data;\np $foo;\n</code></pre>\n\n<p>Here's the STDOUT/STDERR from my machine.</p>\n\n<pre><code>{\n    af     0.972962507120432,\n    ewwq   0.959195914302605,\n    fsf    0.719139421719849,\n    gdsg   0.140205658312095,\n    sdaf   \"foobar\"\n}\nFoo::Subclass  {\n   Parents       Foo\n    Linear @ISA   Foo::Subclass, Foo, Moose::Object\n    public methods (6) : af, ewwq, fsf, gdsg, meta, sdaf\n    private methods (0)\n    internals: {\n        sdaf   \"foobar\"\n    }\n}\n0.885114977459551\nfoobar\n</code></pre>\n\n<p>As you can see, Moose doesn't really know about the values inside of the hash, but if you use the accessors, it will read and write them. The Moose object will slowly fill up with new values when you use the writer, but otherwise the values inside of the Moose object do not really matter.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1470909455, "creation_date": 1470844665, "last_edit_date": 1470845690, "question_id": 38878324, "link": "https://stackoverflow.com/questions/38878324/perl-moose-accessors-generated-on-the-fly", "title": "Perl Moose accessors generated on the fly", "body": "<p>See the following fragment of Perl code which is based on Moose:</p>\n\n<pre><code>$BusinessClass-&gt;meta-&gt;add_attribute($Key =&gt; { is        =&gt; $rorw,\n                                              isa       =&gt; $MooseType,\n                                              lazy      =&gt; 0,\n                                              required  =&gt; 0,\n                                              reader    =&gt; sub { $_[0]-&gt;ORM-&gt;{$Key} },\n                                              writer    =&gt; sub { $_[0]-&gt;ORM-&gt;newVal($Key, $_[1]) },\n                                              predicate =&gt; \"has_$Key\",\n                                            });\n</code></pre>\n\n<p>I receive the error:</p>\n\n<p><code>bad accessor/reader/writer/predicate/clearer format, must be a HASH ref at /usr/local/lib/perl5/site_perl/mach/5.20/Class/MOP/Class.pm line 899</code></p>\n\n<p>The reason of the error is clear: reader and writer must be string names of functions.</p>\n\n<p>But what to do it in this specific case? I do not want to create a new function for each of a hundred ORM fields (ORM attribute here is a tied hash). So I can't pass a string here, I need a closure.</p>\n\n<p>Thus my coding needs resulted in a contradiction. I don't know what to do.</p>\n\n<hr>\n\n<p>The above was a fragment of real code. Now I present a minimal example:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy @Fields = qw( af sdaf gdsg ewwq fsf ); # pretend that we have 100 fields\n\n# Imagine that this is a tied hash with 100 fields \nmy %Data = map { $_ =&gt; rand } @Fields;\n\npackage Test;\nuse Moose;\n\nforeach my $Key (@Fields) {\n  __PACKAGE__-&gt;meta-&gt;add_attribute($Key =&gt; { is        =&gt; 'rw',\n                                             isa       =&gt; 'Str',\n                                             lazy      =&gt; 0,\n                                             required  =&gt; 0,\n                                             reader    =&gt; sub { $Data{$Key} },\n                                             writer    =&gt; sub { $Data{$Key} = $_[1] },\n                                           });\n}\n</code></pre>\n\n<p>Running it results in:</p>\n\n<pre><code>$ ./test.pl \nbad accessor/reader/writer/predicate/clearer format, must be a HASH ref at /usr/lib/i386-linux-gnu/perl5/5.22/Class/MOP/Class.pm line 899\n    Class::MOP::Class::try {...}  at /usr/share/perl5/Try/Tiny.pm line 92\n    eval {...} at /usr/share/perl5/Try/Tiny.pm line 83\n    Try::Tiny::try('CODE(0x9dc6cec)', 'Try::Tiny::Catch=REF(0x9ea0c60)') called at /usr/lib/i386-linux-gnu/perl5/5.22/Class/MOP/Class.pm line 904\n    Class::MOP::Class::_post_add_attribute('Moose::Meta::Class=HASH(0x9dc13f4)', 'Moose::Meta::Attribute=HASH(0x9dc6b5c)') called at /usr/lib/i386-linux-gnu/perl5/5.22/Class/MOP/Mixin/HasAttributes.pm line 39\n    Class::MOP::Mixin::HasAttributes::add_attribute('Moose::Meta::Class=HASH(0x9dc13f4)', 'Moose::Meta::Attribute=HASH(0x9dc6b5c)') called at /usr/lib/i386-linux-gnu/perl5/5.22/Moose/Meta/Class.pm line 572\n    Moose::Meta::Class::add_attribute('Moose::Meta::Class=HASH(0x9dc13f4)', 'af', 'HASH(0x9ea13a4)') called at test.pl line 18\n</code></pre>\n\n<p>I don't know what to do (how to create \"dynamic\" (closure-like) accessors, without writing an individual function for each of the 100 fields?)</p>\n"}, {"tags": ["perl", "sleep"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470841874, "post_id": 38877220, "comment_id": 65115832, "body": "Also <a href=\"http://stackoverflow.com/q/32676834/176646\">Why won&#39;t my perl daemon print?</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470841881, "post_id": 38877220, "comment_id": 65115841, "body": "Good catch @ThisSuitIsBlackNot."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470841920, "post_id": 38877220, "comment_id": 65115868, "body": "Also I just realized your name is not <i>ThisSuiteIsNotBlack</i>. How long have I been reading this wrong? oO"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1470842272, "post_id": 38877220, "comment_id": 65116110, "body": "lol, it happens @simbabeque ;)"}, {"owner": {"reputation": 43, "user_id": 2832295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a99409c0de8c4f2d77c21e2b507529?s=128&d=identicon&r=PG&f=1", "display_name": "pts2800", "link": "https://stackoverflow.com/users/2832295/pts2800"}, "edited": false, "score": 0, "creation_date": 1470843244, "post_id": 38877220, "comment_id": 65116852, "body": "thanks guys!!!! seems to have solved me issue!!!"}], "owner": {"reputation": 43, "user_id": 2832295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a99409c0de8c4f2d77c21e2b507529?s=128&d=identicon&r=PG&f=1", "display_name": "pts2800", "link": "https://stackoverflow.com/users/2832295/pts2800"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "closed_date": 1470841859, "answer_count": 0, "score": 0, "last_activity_date": 1470841676, "creation_date": 1470841676, "question_id": 38877220, "link": "https://stackoverflow.com/questions/38877220/sleep-function-stops-script", "closed_reason": "Duplicate", "title": "sleep function stops script", "body": "<p>I am trying to create an automation script. I ran into an issue were the sleep() command is preventing my script from running. Any ideas on what is happening? I'm currently trying out some 3rd party sleep libraries, i'm just curious for why this would happen?</p>\n\n<p>Example script below:</p>\n\n<pre><code>while(\"1\")\n{\n    sleep 2;\n    print \"test\";\n}\n</code></pre>\n\n<p>This script never prints out \"test\", but if i remove the sleep function then it works perfectly fine other then it doesn't sleep when i want it too. </p>\n"}, {"tags": ["perl", "timezone", "offset"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470824589, "post_id": 38870585, "comment_id": 65103264, "body": "Where in the world is your live server, and where are you? It sounds like one or the other of your systems is wrongly configured, but a discrepancy of 9.5 hours is enormous! There is no way for most PCs to know where they are unless the system operator tells them!"}, {"owner": {"reputation": 351, "user_id": 2598494, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/02d66fa0fdbd3eb34745afa352ff99e2?s=128&d=identicon&r=PG", "display_name": "Laeeq", "link": "https://stackoverflow.com/users/2598494/laeeq"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470824700, "post_id": 38870585, "comment_id": 65103342, "body": "Currently I am in India but server in USA"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470824937, "post_id": 38870585, "comment_id": 65103505, "body": "So the numbers are correct. You will have to pass your local time zone to the server to make the necessary adjustments."}, {"owner": {"reputation": 351, "user_id": 2598494, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/02d66fa0fdbd3eb34745afa352ff99e2?s=128&d=identicon&r=PG", "display_name": "Laeeq", "link": "https://stackoverflow.com/users/2598494/laeeq"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470825479, "post_id": 38870585, "comment_id": 65103876, "body": "Thanks! Can you help me please  to pass local time zone to server using script get it correctly?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1470827449, "post_id": 38870585, "comment_id": 65105141, "body": "How does user connect to server?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1470858672, "last_edit_date": 1470858672, "creation_date": 1470849186, "answer_id": 38879682, "question_id": 38870585, "link": "https://stackoverflow.com/questions/38870585/how-to-get-users-computer-local-timezone-with-offset-in-perl/38879682#38879682", "title": "How to get user&#39;s computer local timezone with offset in Perl?", "body": "<p>You'll need to provide the user's time zone. That is done as follows using <a href=\"http://search.cpan.org/perldoc?DateTime\" rel=\"nofollow\">DateTime</a>:</p>\n\n<pre><code>$ for tz in local Asia/Calcutta; do\n     perl -e'\n        use feature qw( say );\n        use DateTime qw( );\n        say DateTime-&gt;now( time_zone =&gt; $ARGV[0] );\n     ' \"$tz\"\n  done\n2016-08-10T13:20:06\n2016-08-10T22:50:06\n</code></pre>\n\n<p>You could also set the <code>TZ</code> env var appropriately.</p>\n\n<pre><code>$ export TZ\n$ for TZ in America/Toronto Asia/Calcutta; do\n     perl -e'\n        use feature qw( say );\n        use DateTime qw( );\n        say DateTime-&gt;now( time_zone =&gt; \"local\" );\n     '\n  done\n2016-08-10T13:20:06\n2016-08-10T22:50:06\n</code></pre>\n\n<p><code>TZ</code> also affects <code>localtime</code>.</p>\n\n<pre><code>$ export TZ\n$ for TZ in America/Toronto Asia/Calcutta; do\n     perl -e'\n        use feature qw( say );\n        use POSIX qw( strftime );\n        say strftime(\"%Y-%m-%dT%H:%M:%S\", localtime);\n     '\n  done\n2016-08-10T13:20:06\n2016-08-10T22:50:06\n</code></pre>\n\n<p>If you change <code>$ENV{TZ}</code> within your script, you need to call <code>POSIX::tzset();</code> afterwards.</p>\n\n<pre><code>$ perl -e'\n     use feature qw( say );\n     use POSIX qw( strftime tzset );\n     for my $tz (qw( America/Toronto Asia/Calcutta )) {\n        $ENV{TZ} = $tz;\n        tzset();\n        say strftime(\"%Y-%m-%dT%H:%M:%S\", localtime);\n     }\n  '\n2016-08-10T13:20:06\n2016-08-10T22:50:06\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 2598494, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/02d66fa0fdbd3eb34745afa352ff99e2?s=128&d=identicon&r=PG", "display_name": "Laeeq", "link": "https://stackoverflow.com/users/2598494/laeeq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1470858672, "creation_date": 1470824356, "question_id": 38870585, "link": "https://stackoverflow.com/questions/38870585/how-to-get-users-computer-local-timezone-with-offset-in-perl", "title": "How to get user&#39;s computer local timezone with offset in Perl?", "body": "<p>I am trying to get user's computer local timezone with offset in Perl using below code: </p>\n\n<pre><code>use POSIX;\nmy $timezone = strftime(\"%z\", localtime());\nprint \"\\n==Time zone offsets===\".$timezone.\"\\n\";\n</code></pre>\n\n<p>The above script print output like below when run script on local computer:</p>\n\n<pre><code>==Time zone offsets===+0530\n</code></pre>\n\n<p>When run same script from live server but on same computer, it displaying different output like below:</p>\n\n<pre><code>==Time zone offsets===-0400\n</code></pre>\n\n<p>I want script should always return timezone offset of user's local computer instead of server. </p>\n\n<p>Please help I am trying but not getting it. </p>\n"}, {"tags": ["perl", "snmp", "ipv6", "net-snmp", "snmpd"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1470825674, "post_id": 38870496, "comment_id": 65103999, "body": "What is the error? You must make sure the agent monitors at IP v6 addresses, or it will never respond."}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1470847855, "post_id": 38870496, "comment_id": 65119707, "body": "Lex Li , i checked the net-snmp module , it seems that SNMP package doesn&#39;t support IPv6 . Please suggest if I am wrong ."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1470849014, "post_id": 38870496, "comment_id": 65120334, "body": "Try changing the value of <code>DestHost</code> to <code>udp6:[::1]:162</code> (where <code>::1</code> is the actual address). The net-snmp library <a href=\"http://net-snmp.sourceforge.net/docs/FAQ.html#How_do_I_specify_IPv__addresses_in_tools_command_line_arguments_\" rel=\"nofollow noreferrer\">does support IPv6</a>, but I&#39;m not sure if the same approach will work for the Perl bindings."}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1470849616, "post_id": 38870496, "comment_id": 65120674, "body": "Thanks for your response .  Can you please confirm whether perl support snmpv3 + IPv6  fully."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470850028, "post_id": 38870496, "comment_id": 65120867, "body": "No, I can&#39;t test right now. Try my suggestion and see if it works. Note that you have to enable IPv6 when you compile the net-snmp C library."}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1470916719, "post_id": 38870496, "comment_id": 65150415, "body": "I have tried udp6:[ipv6_address], session creation is happening but i am not able to send trap . I am using perl package and not sure how to make it work ."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470931213, "post_id": 38870496, "comment_id": 65161133, "body": "@Ravi Create an <a href=\"https://metacpan.org/pod/SNMP#SNMP::TrapSession\" rel=\"nofollow noreferrer\">SNMP::TrapSession</a> and call its <code>trap</code> method, e.g. <code>my ($session, $error) = SNMP::TrapSession-&gt;new(...); $session-&gt;trap(...);</code> (By the way, the documentation is terrible so I&#39;m not surprised you&#39;re having trouble!)"}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470935010, "post_id": 38870496, "comment_id": 65163172, "body": "@ThisSuitIsBlackNot   I have tried earlier snmpv3 session with IPv4 and i was able to send trap as well . However the real problem is when i changed address as udp6:[ipv6_address], session is getting created but i am not able to send trap with same api($session-&gt;trap) . So I am not sure how to make it work .. Please suggest . Thanks a lot for your help !"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1470847217, "post_id": 38877159, "comment_id": 65119357, "body": "Thanks Vince for your response . For Net::SNMP ,I found below information NOTE:                                                                                        ====================================================  This method can only be used when the version of the object is set to SNMPv2c. SNMPv2-Trap-PDUs are supported by SNMPv3, but require the sender of the message to be an authoritative SNMP engine which is not currently supported by the Net::SNMP module."}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1470847387, "post_id": 38877159, "comment_id": 65119465, "body": "Here is link so i m doubtful whether it support SNMPv3 fully.  <a href=\"http://search.cpan.org/~dtown/Net-SNMP-v6.0.1/lib/Net/SNMP.pm#snmpv2_trap()_-_send_a_SNMP_snmpV2-trap_to_the_remote_manager\" rel=\"nofollow noreferrer\">search.cpan.org/~dtown/Net-SNMP-v6.0.1/lib/Net/&hellip;</a>"}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1471062599, "post_id": 38877159, "comment_id": 65214930, "body": "Can you please let me know the api you have used to send snmpv3 trap"}], "tags": [], "owner": {"reputation": 1, "user_id": 6701029, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/77a000a8056775b76ae82995b9229e58?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/6701029/vince"}, "is_accepted": false, "score": 0, "last_activity_date": 1470841509, "creation_date": 1470841509, "answer_id": 38877159, "question_id": 38870496, "link": "https://stackoverflow.com/questions/38870496/not-able-to-create-snmpv3-session-using-ipv6-address/38877159#38877159", "title": "Not able to create snmpv3 session using IPv6 address", "body": "<p>Looking at the SNMP.xs code, it doesn't appear that it supports IPv6.  You should look at <a href=\"http://search.cpan.org/perldoc?Net%3A%3ASNMP\" rel=\"nofollow\">Net::SNMP</a> which does support both IPv4 and IPv6 address families.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1470920973, "post_id": 38880257, "comment_id": 65153504, "body": "Can you please let me know how to pass EngineID while creating SNMPv3 session using Net::SNMP . I tried below    =========                             ($session,$error) = Net::SNMP-&gt;session (                    -hostname =&gt;  &#39;IP&#39;,                    -port =&gt; &#39;162&#39;,                    -version=&gt; &#39;SNMPv3&#39;,                    -domain =&gt; &#39;udp6&#39;;                    -username=&gt; &#39;skohrs&#39;;                    -authpassword =&gt; &#39;PaSSWoRDPaSSWoRDPaSS&#39;,                    -authprotocol =&gt; &#39;SHA&#39;,                    -privpassword =&gt; &#39;PaSSWoRDPaSSWoRD&#39;;                    -privprotocol =&gt; &#39;DES&#39;);===="}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1470921310, "post_id": 38880257, "comment_id": 65153763, "body": "Also Can you please let me know which API can be used to send SNMPv3 trap using Net::SNMP module ."}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1471778005, "post_id": 38880257, "comment_id": 65475878, "body": "Can you please let me know which API can be used to send SNMPv3 trap using Net::SNMP module"}], "tags": [], "owner": {"reputation": 1, "user_id": 6701619, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ee11180514936e6390a011d9edf1747c?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/6701619/vince"}, "is_accepted": false, "score": 0, "last_activity_date": 1470851250, "creation_date": 1470851250, "answer_id": 38880257, "question_id": 38870496, "link": "https://stackoverflow.com/questions/38870496/not-able-to-create-snmpv3-session-using-ipv6-address/38880257#38880257", "title": "Not able to create snmpv3 session using IPv6 address", "body": "<p><a href=\"http://search.cpan.org/perldoc?Net%3A%3ASNMP\" rel=\"nofollow\">Net::SNMP</a> is a pure Perl module so install is easy and you can test for yourself.  I've used it with SNMPv3 and IPv6 and had no issues.</p>\n"}], "owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1470851250, "creation_date": 1470824136, "last_edit_date": 1470824662, "question_id": 38870496, "link": "https://stackoverflow.com/questions/38870496/not-able-to-create-snmpv3-session-using-ipv6-address", "title": "Not able to create snmpv3 session using IPv6 address", "body": "<p>I am not able to create SNNMPv3 session in perl using IPv6 address .\nI am using below SNMP API to create SNMPv3 session but it throws error during session creation . If anyone have any idea , please let me know .</p>\n\n<pre><code>($session,$error) = new SNMP::Session(DestHost =&gt; 'IPv6 address',\n                             Version =&gt; 3,\n                             RemotePort =&gt; 162,\n                             SecEngineId =&gt; '80001f888001324def',\n                             SecName =&gt; 'skohrs',\n                             AuthProto =&gt; 'SHA',\n                             AuthPass =&gt; 'PaSSWoRDPaSSWoRDPaSS',\n                             PrivProto =&gt; 'DES',\n                             PrivPass =&gt; 'PaSSWoRDPaSSWoRD',\n                             SecLevel =&gt; 'authPriv');\n}\n</code></pre>\n"}, {"tags": ["c++", "linux", "apache", "perl", "coredump"], "comments": [{"owner": {"reputation": 2209, "user_id": 883572, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2df953841a456c642ce0d2a66b8cb919?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/883572/danny"}, "reply_to_user": {"reputation": 29294, "user_id": 2659313, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9828b91aef4c2b3cf14f3501e0a20e33?s=128&d=identicon&r=PG", "display_name": "Mohit Jain", "link": "https://stackoverflow.com/users/2659313/mohit-jain"}, "edited": false, "score": 0, "creation_date": 1470823960, "post_id": 38870189, "comment_id": 65102868, "body": "It is C++ related if there is a way to enable core dumps from within the C++ code, eg. if there is some sysctl, ioctl, etc API that would enable for this binary only."}, {"owner": {"reputation": 396, "user_id": 6554862, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c451fea2abf89a2c625404fe5cb0774b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/6554862/marcin"}, "edited": false, "score": 0, "creation_date": 1470991863, "post_id": 38870189, "comment_id": 65184689, "body": "Actually no idea why this doesn&#39;t work with Apache. Maybe Apache sets for some reasons hard limits which can&#39;t be risen by your child process. To investigate this I&#39;d call getrlimit to check soft and hard limits while running from perl wrapper and then from Apache. I also suggests checking for error code from setrlimit."}, {"owner": {"reputation": 2209, "user_id": 883572, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2df953841a456c642ce0d2a66b8cb919?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/883572/danny"}, "reply_to_user": {"reputation": 396, "user_id": 6554862, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c451fea2abf89a2c625404fe5cb0774b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/6554862/marcin"}, "edited": false, "score": 0, "creation_date": 1471413855, "post_id": 38870189, "comment_id": 65330456, "body": "Checking the limits, both &#39;cur&#39; and &#39;max&#39; are the same whether starting manually or via apache.  See the logs above.  The only difference seems to be the current working directory (as reported by get_current_dir_name()).  [and no core dumps in there either].  Could apache re-direct the location of the core files to somewhere else?"}, {"owner": {"reputation": 396, "user_id": 6554862, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c451fea2abf89a2c625404fe5cb0774b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/6554862/marcin"}, "edited": false, "score": 0, "creation_date": 1471445227, "post_id": 38870189, "comment_id": 65351427, "body": "That&#39;s the point! Core is dumped to current working directory. Your process (user running your application) doesn&#39;t have permission to write to the current working directory. Simply change current working directory at the beginning of your application to the one where you have permission to write. Try <code>chdir(&quot;&#47;tmp&quot;)</code> just before <code>setrlimit</code> for example."}, {"owner": {"reputation": 2209, "user_id": 883572, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2df953841a456c642ce0d2a66b8cb919?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/883572/danny"}, "reply_to_user": {"reputation": 396, "user_id": 6554862, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c451fea2abf89a2c625404fe5cb0774b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/6554862/marcin"}, "edited": false, "score": 0, "creation_date": 1471485426, "post_id": 38870189, "comment_id": 65369354, "body": "No joy.  The binary is running setuid root so figured it could write anywhere.  But tried chdir /tmp but same behavior.  I&#39;ve included the process listing with  PID/PPID in case that&#39;s helpful.  This doesn&#39;t make sense..."}], "answers": [{"tags": [], "owner": {"reputation": 396, "user_id": 6554862, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c451fea2abf89a2c625404fe5cb0774b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/6554862/marcin"}, "is_accepted": false, "score": 3, "last_activity_date": 1470824465, "creation_date": 1470824465, "answer_id": 38870631, "question_id": 38870189, "link": "https://stackoverflow.com/questions/38870189/enable-core-dumps-for-c-app-called-via-apache-perl-c/38870631#38870631", "title": "Enable Core dumps for C++ app (called via apache -&gt; Perl -&gt; C++)", "body": "<p>Yes, there is a possibility to set system limits from C++ code.\nLook at <code>getrlimit</code>, <code>setrlimit</code> functions.</p>\n\n<pre><code>#include &lt;sys/resource.h&gt;\n\nrlimit limitValue;\nlimitValue.rlim_cur = RLIM_INFINITY;\nlimitValue.rlim_max = RLIM_INFINITY;\n\nsetrlimit(RLIMIT_CORE, &amp;limitValue);\n</code></pre>\n\n<p><code>RLIMIT_CORE</code> stands for core size\n<code>RLIM_INFINITY</code> - unlimited\n<code>rlim_cur</code> - soft limit\n<code>rlim_max</code> - hard limit</p>\n"}], "owner": {"reputation": 2209, "user_id": 883572, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2df953841a456c642ce0d2a66b8cb919?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/883572/danny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1471485234, "creation_date": 1470823375, "last_edit_date": 1471485234, "question_id": 38870189, "link": "https://stackoverflow.com/questions/38870189/enable-core-dumps-for-c-app-called-via-apache-perl-c", "title": "Enable Core dumps for C++ app (called via apache -&gt; Perl -&gt; C++)", "body": "<p>I have a web GUI which provides ON/OFF control of a C++ application. The C++ app is called from a perl wrapper who's job it is to keep the program running and restart it if it has stopped.</p>\n\n<p>Clicking the web page button (ultimately) launches <code>startWrapper.pl</code> <em>in the background</em>.</p>\n\n<p>The problem is the C++ app crashes with segfault once every few days.  I'd like enable core dumps for this background task.</p>\n\n<p>However, everything I've read seems to require a tty and/or login session (eg. ulimit command).</p>\n\n<p>How would I enable core dumps for this background task?  Possible to set the configuration from within the C++ source code?  Linux config file?</p>\n\n<p>As pseudo code, <code>startWrapper.pl</code> (briefly) looks like:</p>\n\n<pre><code>if (is_process_running() )\n{\n    return;\n}\nelse\n{\n    while (1)\n    {\n        system(\"/path/to/c++/application &amp;\");\n\n        while (1)\n        {\n            if (not_running_anymore())\n                 break;\n            sleep(10);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong>\nI clicked the answer too soon. Using <code>setrlimit</code> works if I a) call the binary directly or b) call it from the perl wrapper.  But if the perl wrapper is called from apache it doesn't dump the core.  (I put a \"bomb\" in the program to segfault after 10s.  When called from apache, the wrapper detected it and restarted the binary but no core file.)</p>\n\n<p>Could this be some user ID vs effective ID issue?  </p>\n\n<p>Apache starts the perl wrapper as <em>apache</em>. The perl wrapper uses <code>system</code> to launch the binary which is setuid root.</p>\n\n<p><strong>EDIT II</strong></p>\n\n<p><strong>Started Manually</strong></p>\n\n<pre><code>2016-08-17 13:50:35 : DvStorStartASIRecord.pl starting\n2016-08-17 13:50:35 : DvStorStartASIRecord.pl: Starting DvASIRecord 0 0\n2016-08-17 13:50:35 : DvASIRecord Current Dir: '/usr/local/dvstor/bin'\n2016-08-17 13:50:35 : DvASIRecord Core Limits - Cur: 18446744073709551615 Max: 18446744073709551615\n2016-08-17 13:50:35 : DvASIRecord: ASI recording started 0 0\n2016-08-17 13:50:46 : DvStorStartASIRecord: DvASIRecord terminated unexpectedly. Restarting\n</code></pre>\n\n<p><strong>Started via apache</strong></p>\n\n<pre><code>2016-08-17 13:50:59 : DvStorOperation.cgi::startRecord() from 192.168.2.10\n2016-08-17 13:50:59 : DvStorStartASIRecord.pl starting\n2016-08-17 13:50:59 : DvStorStartASIRecord.pl: Starting DvASIRecord 0 0\n2016-08-17 13:50:59 : DvASIRecord Current Dir: '/usr/local/dvstor/cgi-bin'\n2016-08-17 13:50:59 : DvASIRecord Core Limits - Cur: 18446744073709551615 Max: 18446744073709551615\n2016-08-17 13:50:59 : DvASIRecord: ASI recording started 0 0\n2016-08-17 13:51:09 : DvStorStartASIRecord: DvASIRecord terminated unexpectedly. Restarting\n</code></pre>\n\n<p><strong>EDIT III</strong></p>\n\n<p>ps listing of related processes</p>\n\n<pre><code>F S UID        PID  PPID  C PRI  NI ADDR SZ WCHAN  STIME TTY          TIME CMD\n1 S root      1999     1  0  80   0 -  7525 poll_s Aug16 ?        00:00:01 /usr/sbin/httpd\n5 S apache    2023  1999  0  80   0 -  7721 inet_c Aug16 ?        00:00:02 /usr/sbin/httpd\n5 S apache    2024  1999  0  80   0 -  7721 inet_c Aug16 ?        00:00:02 /usr/sbin/httpd\n5 S apache    2025  1999  0  80   0 -  7719 inet_c Aug16 ?        00:00:02 /usr/sbin/httpd\n5 S apache    2026  1999  0  80   0 -  7719 inet_c Aug16 ?        00:00:02 /usr/sbin/httpd\n5 S apache    2027  1999  0  80   0 -  7719 inet_c Aug16 ?        00:00:02 /usr/sbin/httpd\n5 S apache    2028  1999  0  80   0 -  7721 inet_c Aug16 ?        00:00:02 /usr/sbin/httpd\n5 S apache    2029  1999  0  80   0 -  7721 inet_c Aug16 ?        00:00:02 /usr/sbin/httpd\n5 S apache    2030  1999  0  80   0 -  7721 inet_c Aug16 ?        00:00:02 /usr/sbin/httpd\n5 S apache   27793  1999  0  80   0 -  7719 inet_c 09:47 ?        00:00:00 /usr/sbin/httpd\n0 S apache   29436     1  0  80   0 -  1315 hrtime 09:48 ?        00:00:00 /usr/bin/perl /usr/local/dvstor/bin/DvStorStartASIRecord.pl tsNum=0\n4 S root     29573     1  3 -40   - - 26599 hrtime 09:49 ?        00:00:00 /usr/local/dvstor/bin/DvASIRecord 0 2\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1470821904, "post_id": 38869342, "comment_id": 65101485, "body": "<code>pop()</code> is for arrays only, and you don&#39;t have an array. <a href=\"http://perldoc.perl.org/functions/pop.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/pop.html</a>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1470821944, "post_id": 38869342, "comment_id": 65101517, "body": "You can&#39;t use pop function in Scalar variables."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1470823842, "post_id": 38869342, "comment_id": 65102781, "body": "Your first lesson is that the language is called <b><i>Perl</i></b>; the second is that you <i>must always</i> start <i>every</i> Perl program with <code>use strict</code> and <code>use warnings &#39;all&#39;</code>, and indent your code by four spaces inside blocks so that the structure is clear."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470841324, "post_id": 38869342, "comment_id": 65115450, "body": "Perl is not C. Strings are not arrays. Also, Perl strings can have multiple embedded <code>NUL</code>s in them. <code>&quot;\\0&quot;</code> is not an empty string."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470849983, "post_id": 38869342, "comment_id": 65120840, "body": "<code>chop</code> does what you want."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470824028, "post_id": 38869720, "comment_id": 65102907, "body": "<code>substr $str, 0, 0, substr $str, -1, 1, &quot;&quot;</code> or perhaps not!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 9, "last_activity_date": 1470829353, "last_edit_date": 1495535435, "creation_date": 1470822167, "answer_id": 38869720, "question_id": 38869342, "link": "https://stackoverflow.com/questions/38869342/not-an-array-reference-error-in-popstr/38869720#38869720", "title": "Not an ARRAY reference error in &quot;pop($str)&quot;", "body": "<p><strong>Why your approach doesn't work</strong></p>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/pop.html\" rel=\"nofollow noreferrer\"><code>pop</code> keyword</a> does not work on strings. Strings in Perl are not automatically cast to character arrays, and those array keywords only work on arrays.</p>\n\n<p>The error message is <em>Not an ARRAY reference</em> because <code>pop</code> sees a scalar variable. References are scalars in Perl (the scalar here is something like a reference to the address of the actual array in memory). The <code>pop</code> built-in <a href=\"http://perldoc.perl.org/5.24.0/functions/pop.html\" rel=\"nofollow noreferrer\">takes array references</a> in Perl versions between 5.14 and 5.22. It was experimental, <a href=\"http://perldoc.perl.org/5.24.0/perldelta.html#The-autoderef-feature-has-been-removed\" rel=\"nofollow noreferrer\">but got removed in the (currently latest) 5.24</a>.</p>\n\n<blockquote>\n  <p>Starting with Perl 5.14, an experimental feature allowed pop to take a scalar expression. This experiment has been deemed unsuccessful, and was removed as of Perl 5.24.</p>\n</blockquote>\n\n<p><strong>How to make it work</strong></p>\n\n<p>You have to <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> and <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow noreferrer\"><code>join</code></a> your string first. </p>\n\n<pre><code>my $str = 'foo';\n\n# turn it into an array\nmy @chars = split //, $str;\n\n# remove the last char and put it at the front\nunshift @chars, pop @chars;\n\n# turn it back into a string\n$str = join '', @chars;\n\nprint $str;\n</code></pre>\n\n<p>That will give you <code>ofo</code>.</p>\n\n<p>Now to use that as a sub, you should pass a parameter. Otherwise you do not need a subroutine.</p>\n\n<pre><code>sub last_to_first {\n    my $str = shift;\n\n    my @chars = split //, $str;\n    unshift @chars, pop @chars;\n    $str = join '', @chars;\n\n    return $str;\n}\n</code></pre>\n\n<p>You can call that sub with any string argument. You should do the <code>chomp</code> to remove the trailing newline from STDIN outside of the sub, because it is not needed for switching the chars. Always build your subs in the smallest possible <em>unit</em> to make it easy to debug them. One piece of code should do exactly one functionality.</p>\n\n<p>You also do not need to initialize a string with <code>\\0</code>. In fact, that doesn't make sense.</p>\n\n<p>Here's a full program.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $str = &lt;STDIN&gt;;\nchomp $str;\n\nprint last_to_first($str);\n\nsub last_to_first {\n    my $str = shift;\n\n    my @chars = split //, $str;\n    unshift @chars, pop @chars;\n    $str = join '', @chars;\n\n    return $str;\n}\n</code></pre>\n\n<p><strong>Testing your program</strong></p>\n\n<p>Because you now have one <em>unit</em> in your <code>last_to_first</code> function, you can easily implement a unit test. Perl brings <a href=\"https://metacpan.org/pod/Test::Simple\" rel=\"nofollow noreferrer\">Test::Simple</a> and <a href=\"https://metacpan.org/pod/Test::More\" rel=\"nofollow noreferrer\">Test::More</a> (and other tools) for that purpose. Because this is simple, we'll go with Test::Simple.</p>\n\n<p>You load it, tell it how many tests you are going to do, and then use the <code>ok</code> function. Ideally you would put the stuff you want to test into its own module, but for simplicity I'll have it all in the same program.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse Test::Simple tests =&gt; 3;\n\nok last_to_first('foo', 'ofo');\nok last_to_first('123', '321');\nok last_to_first('qqqqqq', 'qqqqqq');\n\nsub last_to_first {\n    my $str = shift;\n\n    my @chars = split //, $str;\n    unshift @chars, pop @chars;\n    $str = join '', @chars;\n\n    return $str;\n}\n</code></pre>\n\n<p>This will output the following:</p>\n\n<pre><code>1..3\nok 1\nok 2\nok 3\n</code></pre>\n\n<p>Run it with <code>prove</code> instead of <code>perl</code> to get a bit more comprehensive output.</p>\n\n<p><strong>Refactoring it</strong></p>\n\n<p>Now let's change the implementation of <code>last_to_first</code> to use a <a href=\"http://perldoc.perl.org/functions/s.html\" rel=\"nofollow noreferrer\">regular expression substitution with <code>s///</code></a> instead of the array approach.</p>\n\n<pre><code>sub last_to_first {\n    my $str = shift;\n\n    $str =~ s/^(.+)(.)$/$2$1/;\n\n    return $str;\n}\n</code></pre>\n\n<p>This code uses a pattern match with two groups <code>()</code>. The first one has a lot of chars after the beginning of the string <code>^</code>, and the second one has exactly one char, after which the string ends <code>$</code>. You can check it out <a href=\"https://regex101.com/r/hB0aR2/1\" rel=\"nofollow noreferrer\">here</a>. Those groups end up in <code>$1</code> and <code>$2</code>, and all we need to do is switch them around.</p>\n\n<p>If you replace your function in the program with the test, and then run it, the output will be the same. You have just refactored one of the units in your program.</p>\n\n<p>You can also try the <code>substr</code> approach from <a href=\"https://stackoverflow.com/a/38869728/1331451\">zdim's answer</a> with this test, and you will see that the tests still pass.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470822760, "post_id": 38869728, "comment_id": 65102058, "body": "TIMTOWTDI :) - but those keywords are called <i>built-ins</i>, not <i>library functions</i> in Perl"}, {"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 0, "creation_date": 1470822845, "post_id": 38869728, "comment_id": 65102110, "body": "An alternative solution using the ARGV variable instead of &lt;STDIN&gt; :      <code>use strict;   use warnings;    my $str = $ARGV[0];   my $last_char = substr $str, -1;   print my $new_str = &quot;$last_char&quot;.&quot;$str&quot;;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 0, "creation_date": 1470822969, "post_id": 38869728, "comment_id": 65102189, "body": "@Baptiste actually that&#39;s not an alternative, because <code>@ARGV</code> contains the command line arguments, and not <code>STDIN</code>. See <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470822982, "post_id": 38869728, "comment_id": 65102200, "body": "@simbabque Indeed they are, but when people are just starting a generic term may make it clearer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470823026, "post_id": 38869728, "comment_id": 65102235, "body": "@simbabque  And indeed, TIMTOWTDI -- and it came out well :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470823208, "post_id": 38869728, "comment_id": 65102348, "body": "And you could do it in one line by using <code>substr</code> as an lvalue too. <code>substr( $str, 0 ) = substr( $str, -1, 1, q{} );</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470823299, "post_id": 38869728, "comment_id": 65102417, "body": "@simbabque  I typed in something very similar in there ... and removed it.  I think that it isn&#39;t the best advice for someone just starting."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470823365, "post_id": 38869728, "comment_id": 65102468, "body": "I agree. The extra step is way easier to understand. Just wanted to add it for completeness since we were talking about TIMTOWTDI. ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470824289, "post_id": 38869728, "comment_id": 65103081, "body": "I&#39;m surprised how much &quot;<i>library function</i>&quot; jars and I think it means pretty much the opposite of what you intend. (Library books are books that you check out because you don&#39;t have them on your shelf at home.) I prefer <i>operator</i>, <i>core function</i>, or <i>built-in</i> and I don&#39;t think a beginner would have an issue with any of those except Perl&#39;s unusual use of &quot;operator&quot;."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470824578, "post_id": 38869728, "comment_id": 65103257, "body": "@Borodin Great, <i>core function</i> is it. Thank you. What I used has been bothering me as well. (I normally never use that in Perl. I think that it was the desire for a generic term that sneaked it in.)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1470826107, "last_edit_date": 1495535435, "creation_date": 1470822179, "answer_id": 38869728, "question_id": 38869342, "link": "https://stackoverflow.com/questions/38869342/not-an-array-reference-error-in-popstr/38869728#38869728", "title": "Not an ARRAY reference error in &quot;pop($str)&quot;", "body": "<p>The core function <a href=\"http://perldoc.perl.org/functions/pop.html\" rel=\"nofollow noreferrer\"><code>pop</code></a> takes an array, and removes and returns its last element.</p>\n\n<p>To manipulate characters in a string you can use <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow noreferrer\"><code>substr</code></a>, for example</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $str = &lt;STDIN&gt;;\nchomp($str);\n\nmy $last_char = substr $str, -1, 1, '';\nmy $new_str = $last_char . $str;\n</code></pre>\n\n<p>The arguments to <code>substr</code> mean: search the variable <code>$str</code>, at offset <code>-1</code> (one from the back), for a substring of length <code>1</code>, and replace that with an empty string <code>''</code> (thus removing it).  The substring that is found, here the last character, is returned. See the documentation page linked above.</p>\n\n<p>In the last line the returned character is concatenated with the remaining string, using the <code>.</code> operator.</p>\n\n<hr>\n\n<p>You can browse the list of functions broken down by categories at <a href=\"http://perldoc.perl.org/index-functions-by-cat.html\" rel=\"nofollow noreferrer\"><code>Perl functions by category</code></a>.\nPerl documentation has a lot of goodies, please look around.</p>\n\n<p>Strings are very often manipulated using <em>regular expressions</em>.  See the tutorial <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\"><code>perlretut</code></a>, the quick start <a href=\"http://perldoc.perl.org/perlrequick.html\" rel=\"nofollow noreferrer\"><code>perlrequick</code></a>, the quick reference <a href=\"http://perldoc.perl.org/perlreref.html\" rel=\"nofollow noreferrer\"><code>perlreref</code></a>, and the full reference <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perlre</code></a>.</p>\n\n<p>You can also split a string into a character array and work with that. This is shown in detail in the <a href=\"https://stackoverflow.com/a/38869720/4653379\">answer by simbabque</a>, which packs a whole lot more of good advice.</p>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1470822750, "creation_date": 1470822750, "answer_id": 38869936, "question_id": 38869342, "link": "https://stackoverflow.com/questions/38869342/not-an-array-reference-error-in-popstr/38869936#38869936", "title": "Not an ARRAY reference error in &quot;pop($str)&quot;", "body": "<p>This is for substring function used for array variables:</p>\n\n<pre><code>my @arrays = qw(jan feb mar); \nlast_to_first(@arrays);\n\nsub last_to_first\n{\n    my @lists = @_;\n    my $last = pop(@lists);\n    #print $last;\n    unshift @lists, $last;\n    print @lists;\n}\n</code></pre>\n\n<p>This is for substring function used for scalar variables:</p>\n\n<pre><code>my $str = \"\";\n$str = &lt;STDIN&gt;;\nchomp ($str);\n\nlast_to_first($str);\n\nsub last_to_first\n{\n    my $chr = shift;\n    my $lastchar = substr($chr, -1);\n    print $lastchar;\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 38869720, "answer_count": 3, "score": 1, "last_activity_date": 1470829353, "creation_date": 1470821258, "last_edit_date": 1470823627, "question_id": 38869342, "link": "https://stackoverflow.com/questions/38869342/not-an-array-reference-error-in-popstr", "title": "Not an ARRAY reference error in &quot;pop($str)&quot;", "body": "\n\n<p>I am learning Perl for work and I'm trying to practise with some basic programs.</p>\n\n<p>I want my program to take a string from STDIN and modify it by taking the last character and putting it at the start of the string.</p>\n\n<p>I get an error when I use variable <code>$str</code> in <code>$str = &lt;STDIN&gt;</code>.</p>\n\n<p>Here is my code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $str = \"\\0\";\n$str = &lt;STDIN&gt;;\n\nsub last_to_first {\n    chomp($str);\n    pop($str);\n    print $str;\n}\n\nlast_to_first;\n</code></pre>\n\n<p>Exec :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Matrix :hi\nNot an ARRAY reference at matrix.pl line 13, &lt;STDIN&gt; line 1.\n</code></pre>\n"}, {"tags": ["json", "perl", "hash"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1470819185, "post_id": 38868413, "comment_id": 65099508, "body": "Could you please write <code>$source_json</code> and use <code>Data::Dumper;</code> to print <code>$data</code>, So we can have a look."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 6, "creation_date": 1470825629, "post_id": 38868413, "comment_id": 65103968, "body": "Writing &quot;<b><i>URGENT!!!</i></b>&quot; really doesn&#39;t achieve anything when you&#39;re not paying people for their work :-)"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 4, "creation_date": 1470831217, "post_id": 38868413, "comment_id": 65107702, "body": "@TheGr8Adakron: your urgent begging has been edited out of three out of your prior four questions, and now this one as well. What do we need to do to make it clear <b>these phrases do not belong here?</b>"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 2, "creation_date": 1470831677, "post_id": 38868413, "comment_id": 65108016, "body": "(Note that if you get too many downvotes your account will automatically reach a question ban, so paying attention to this feedback is a good idea)."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1470821770, "last_edit_date": 1470821770, "creation_date": 1470821460, "answer_id": 38869434, "question_id": 38868413, "link": "https://stackoverflow.com/questions/38868413/perl-cant-use-an-undefined-value-as-a-hash-reference-at-new-pl-line-24/38869434#38869434", "title": "Perl : Can&#39;t use an undefined value as a HASH reference at new.pl line 24", "body": "<p><code>parse_json_safe</code> returns <code>undef</code> (<a href=\"https://metacpan.org/pod/distribution/JSON-Parse/lib/JSON/Parse.pod#parse_json_safe\" rel=\"nofollow\">and displays warning</a>), and you need hash reference in order to deference a hash.</p>\n\n<p>You should be using <a href=\"https://metacpan.org/pod/distribution/JSON-Parse/lib/JSON/Parse.pod#parse_json\" rel=\"nofollow\"><code>parse_json()</code></a> which would throw exception since you're not doing any checking.</p>\n"}], "owner": {"reputation": 1012, "user_id": 5866942, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-tFRIV7rG-M4/AAAAAAAAAAI/AAAAAAAAAHw/kUupZIXcBpI/photo.jpg?sz=128", "display_name": "The Gr8 Adakron", "link": "https://stackoverflow.com/users/5866942/the-gr8-adakron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "answer_count": 1, "score": -7, "last_activity_date": 1485759575, "creation_date": 1470818859, "last_edit_date": 1485759575, "question_id": 38868413, "link": "https://stackoverflow.com/questions/38868413/perl-cant-use-an-undefined-value-as-a-hash-reference-at-new-pl-line-24", "title": "Perl : Can&#39;t use an undefined value as a HASH reference at new.pl line 24", "body": "<pre><code>1. my $source_json = $_;\n2. my $data = parse_json_safe($source_json);\n3. my %data=%{$data};   #Error . \n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>**Error** : Can't use an undefined value as a HASH reference at new.pl , &lt;FH&gt; line 3.\n</code></pre>\n\n<p>This is just a part of the code. Someone please explain why it is giving this warning or error. I am new to Perl.\nIt has been solved guys, can you take your down votes back. I  cant ask another questions. Please! guys.</p>\n"}, {"tags": ["perl", "datetime-format", "iso8601"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6699160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ed25b4f36797f2618b94d346ccf7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/6699160/eric"}, "edited": false, "score": 0, "creation_date": 1470821718, "post_id": 38869030, "comment_id": 65101356, "body": "&quot;I&#39;m not sure about your arithmetic! 17:05:05 on 9 August plus seven hours for the time zone is 00:05:05 on 10 August&quot;"}, {"owner": {"reputation": 11, "user_id": 6699160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ed25b4f36797f2618b94d346ccf7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/6699160/eric"}, "edited": false, "score": 0, "creation_date": 1470821742, "post_id": 38869030, "comment_id": 65101373, "body": "The +2 hours is because of my timezone CEST/Amsterdam"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 6699160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ed25b4f36797f2618b94d346ccf7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/6699160/eric"}, "edited": false, "score": 0, "creation_date": 1470821942, "post_id": 38869030, "comment_id": 65101514, "body": "Ah! Then you will want <code>$dt-&gt;set_time_zone(&#39;2:00&#39;)</code>. For some reason <code>$dt-&gt;set_time_zone(&#39;CEST&#47;Amsterdam&#39;)</code> doesn&#39;t work, but I&#39;m looking at why. `"}, {"owner": {"reputation": 11, "user_id": 6699160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ed25b4f36797f2618b94d346ccf7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/6699160/eric"}, "edited": false, "score": 0, "creation_date": 1470822063, "post_id": 38869030, "comment_id": 65101598, "body": "in your solution, can you use the extra calculation from UTC to CEST, thus adding the extra 2 hours?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 6699160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ed25b4f36797f2618b94d346ccf7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/6699160/eric"}, "edited": false, "score": 0, "creation_date": 1470822342, "post_id": 38869030, "comment_id": 65101772, "body": "@Eric: I&#39;ve used <code>Europe&#47;Amsterdam</code> instead, which works fine. See my amended answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 6699160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ed25b4f36797f2618b94d346ccf7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/6699160/eric"}, "edited": false, "score": 0, "creation_date": 1470822884, "post_id": 38869030, "comment_id": 65102134, "body": "@Eric: Please fix your question to say that you want to move from UTC-7:00 (California?) to &quot;Europe/Amsterdam&quot; (CEST) time, which is UTC+2:00."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 6699160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ed25b4f36797f2618b94d346ccf7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/6699160/eric"}, "edited": false, "score": 0, "creation_date": 1470823324, "post_id": 38869030, "comment_id": 65102438, "body": "@Eric: You will probably find that you can use <code>$dt-&gt;set_time_zone(&#39;local&#39;)</code> but that is platform-dependent."}, {"owner": {"reputation": 11, "user_id": 6699160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ed25b4f36797f2618b94d346ccf7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/6699160/eric"}, "edited": false, "score": 0, "creation_date": 1470829412, "post_id": 38869030, "comment_id": 65106484, "body": "tested successfully your solution and fixed the question"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1470822621, "last_edit_date": 1470822621, "creation_date": 1470820511, "answer_id": 38869030, "question_id": 38867832, "link": "https://stackoverflow.com/questions/38867832/convert-iso-8601-timestamp-from-utc-700-to-europe-amsterdam-cest-time-whic/38869030#38869030", "title": "Convert ISO-8601 timestamp from UTC-7:00 to &quot;Europe/Amsterdam&quot; (CEST) time, which is UTC+2:00", "body": "\n\n<p>The <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\"><code>DateTime</code></a> modules are the obvious choice for this. Your original string is formatted according to the ISO-8601 standard so the <a href=\"https://metacpan.org/pod/DateTime::Format::ISO8601\" rel=\"nofollow\"><code>DateTime::Format::ISO8601</code></a> will parse it directly</p>\n\n<p>Then it is simply a matter of setting the time zone to zero and formatting the result as required</p>\n\n<p>Here's the code</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse DateTime::Format::ISO8601;\n\nsay localise_time('2016-08-09T17:05:05.414-07:00');\n\nsub localise_time {\n    my ($dt) = @_;\n\n    $dt = DateTime::Format::ISO8601-&gt;parse_datetime($dt);\n    $dt-&gt;set_time_zone('Europe/Amsterdam');\n\n    $dt-&gt;strftime('%Y-%m-%d %H:%M:%S');\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>2016-08-10 02:05:05\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6699160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ed25b4f36797f2618b94d346ccf7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/6699160/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1060, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470830846, "creation_date": 1470817134, "last_edit_date": 1470830846, "question_id": 38867832, "link": "https://stackoverflow.com/questions/38867832/convert-iso-8601-timestamp-from-utc-700-to-europe-amsterdam-cest-time-whic", "title": "Convert ISO-8601 timestamp from UTC-7:00 to &quot;Europe/Amsterdam&quot; (CEST) time, which is UTC+2:00", "body": "<p>In Perl I use a bash command to convert an ISO-8601 timestamp to local format <code>YYYY-mm-dd HH:MM:SS</code>.</p>\n\n<p>These timestamps, for example, are used in Google Cloud JSON APIs. For example\n<code>2016-08-09T17:05:05.414-07:00</code>. Check the source below for a working example.</p>\n\n<p>This works fine, but is there a way to accomplish the same in Perl without using a bash command? Of course I'm sure there is, but I couldn't find anything simple.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nmy $f = `date -d 2016-08-09T17:05:05.414-07:00 +'%Y-%m-%d %H:%M:%S'`;\nchop $f;\n\nprint \"$f\\n\";    # 2016-08-10 02:05:05\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470817760, "post_id": 38867397, "comment_id": 65098643, "body": "Can you provide more information on the particular system? In your case the error says it&#39;s missing Test::MockModule. You can try and install it beforehand, although maybe that one needs some external dependency. On the other hand, I have been able to install it using cpanm in Ubuntu without a problem, so we need more info to reproduce the problem."}, {"owner": {"reputation": 2964, "user_id": 4485955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d31f821e9c645e34ff7ee6f729843076?s=128&d=identicon&r=PG&f=1", "display_name": "prgrm", "link": "https://stackoverflow.com/users/4485955/prgrm"}, "reply_to_user": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470818028, "post_id": 38867397, "comment_id": 65098783, "body": "@jjmerelo added the conf"}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470818388, "post_id": 38867397, "comment_id": 65099010, "body": "still no clue about Perl version or operating system. Anyway, whenever some dependency fails, try to install it by itself, to see exactly what&#39;s the problem. If you are using Linux (which you should), it might be prepackaged for that particular distribution, which saves the hassle of installing external dependencies. In that particular case, <code>libtest-mockmodule-perl - Perl module to override subroutines in a module for unit testing</code>. So, try and install it from operating system repos, that fails, do cpan Test::MockModule, that fails, it will give you a clue of what&#39;s the problem."}, {"owner": {"reputation": 2964, "user_id": 4485955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d31f821e9c645e34ff7ee6f729843076?s=128&d=identicon&r=PG&f=1", "display_name": "prgrm", "link": "https://stackoverflow.com/users/4485955/prgrm"}, "reply_to_user": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470818583, "post_id": 38867397, "comment_id": 65099134, "body": "@jjmerelo I actually added that I am using CentOS. Will try your solution anyway."}, {"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1470818636, "post_id": 38867397, "comment_id": 65099166, "body": "Try this: <code>look Test::MockModule</code>, then <code>perl Build.PL</code>"}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470818821, "post_id": 38867397, "comment_id": 65099273, "body": "Try yum list MockModule to see if it&#39;s available (it does not seem to be), and then proceed to install it by itself as above, checking out what seems to be the problem with it. Which version of CentOS are you using? Anyway, that module does not seem to have been tested for CentOS <a href=\"http://www.cpantesters.org/distro/T/Test-MockModule.html#Test-MockModule-0.11\" rel=\"nofollow noreferrer\">cpantesters.org/distro/T/&hellip;</a> so your mileage might vary."}, {"owner": {"reputation": 2964, "user_id": 4485955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d31f821e9c645e34ff7ee6f729843076?s=128&d=identicon&r=PG&f=1", "display_name": "prgrm", "link": "https://stackoverflow.com/users/4485955/prgrm"}, "reply_to_user": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1470818965, "post_id": 38867397, "comment_id": 65099366, "body": "@rustyx test::mockmodule says no such file or directory. There are 4 different build.pl: ./.cpan/build/Test-MockModule-0.11-_LrG4F/Build.PL ./.cpan/build/Test-MockModule-0.11-ELO8uh/Build.PL ./.cpan/build/Text-Reform-1.20-awzh_H/Build.PL ./.cpan/build/Test-MockModule-0.11-SU5BkX/Build.PL"}, {"owner": {"reputation": 2964, "user_id": 4485955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d31f821e9c645e34ff7ee6f729843076?s=128&d=identicon&r=PG&f=1", "display_name": "prgrm", "link": "https://stackoverflow.com/users/4485955/prgrm"}, "reply_to_user": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470819061, "post_id": 38867397, "comment_id": 65099435, "body": "@jjmerelo I am using CentOS 7"}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "reply_to_user": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1470819375, "post_id": 38867397, "comment_id": 65099641, "body": "Good for you, but please try what I said above. Also, those dirs you list above are failed installation dirs for that module. Get into any one of them and try what @rustyx mentioned, to see what seems to be the problem with that specific module. Might be some CentOS quirk, might be some external dependency you might have to install by itself, that is why you should first try and have <code>yum</code> take care of everything by installing that module from OS repos if possible."}, {"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1470820559, "post_id": 38867397, "comment_id": 65100453, "body": "@prgrm try either one. <code>cd .&#47;.cpan&#47;build&#47;Test-MockModule-0.11-_LrG4F&#47;; perl Build.PL</code>"}], "answers": [{"tags": [], "owner": {"reputation": 300, "user_id": 6701530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a176c0213539f76b5f4abd78c40b365f?s=128&d=identicon&r=PG&f=1", "display_name": "James Aanderson", "link": "https://stackoverflow.com/users/6701530/james-aanderson"}, "is_accepted": true, "score": 13, "last_activity_date": 1470863634, "last_edit_date": 1470863634, "creation_date": 1470849896, "answer_id": 38879870, "question_id": 38867397, "link": "https://stackoverflow.com/questions/38867397/cannot-install-archivezip-with-cpan/38879870#38879870", "title": "Cannot install Archive::Zip with Cpan", "body": "<p>Try this: </p>\n\n<pre><code>cpan -f Archive::Zip\n</code></pre>\n\n<p>I believe I ran into this problem a few weeks ago, and it was just the test suite that was busted. The module worked fine. YMMV</p>\n"}], "owner": {"reputation": 2964, "user_id": 4485955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d31f821e9c645e34ff7ee6f729843076?s=128&d=identicon&r=PG&f=1", "display_name": "prgrm", "link": "https://stackoverflow.com/users/4485955/prgrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10870, "favorite_count": 1, "accepted_answer_id": 38879870, "answer_count": 1, "score": 2, "last_activity_date": 1470863634, "creation_date": 1470815750, "last_edit_date": 1470818008, "question_id": 38867397, "link": "https://stackoverflow.com/questions/38867397/cannot-install-archivezip-with-cpan", "title": "Cannot install Archive::Zip with Cpan", "body": "<p>I am trying to install Archive::Zip with the following command:</p>\n\n<pre><code>cpan[3]&gt; install Archive::Zip\n</code></pre>\n\n<p>However it never gets installed. I am not sure what to do next. Here is the log I get:</p>\n\n<pre><code>Running install for module 'Archive::Zip'\nRunning make for P/PH/PHRED/Archive-Zip-1.58.tar.gz\n  Has already been unwrapped into directory /root/.cpan/build/Archive-Zip-1.58-1OzAcc\n---- Unsatisfied dependencies detected during ----\n----       PHRED/Archive-Zip-1.58.tar.gz      ----\n    Test::MockModule [requires]\nRunning make test\n  Delayed until after prerequisites\nRunning make install\n  make test had returned bad status, won't install without force\n  Delayed until after prerequisites\nRunning install for module 'Test::MockModule'\nRunning Build for G/GF/GFRANKS/Test-MockModule-0.11.tar.gz\n  Has already been unwrapped into directory /root/.cpan/build/Test-MockModule-0.11-_LrG4F\n  '/usr/bin/perl Build.PL ' returned status 512, won't make\nRunning Build test\n  Make had some problems, won't test\nRunning Build install\n  Make had some problems, won't install\nRunning make for P/PH/PHRED/Archive-Zip-1.58.tar.gz\n  Has already been unwrapped into directory /root/.cpan/build/Archive-Zip-1.58-1OzAcc\nWarning: Prerequisite 'Test::MockModule =&gt; 0' for 'PHRED/Archive-Zip-1.58.tar.gz' failed when processing 'GFRANKS/Test-MockModule-0.11.tar.gz' with 'writemakefile =&gt; NO '/usr/bin/perl Build.PL ' returned status 512'. Continuing, but chances to succeed are limited.\n  Has already been made\nRunning make test\nPERL_DL_NONLAZY=1 /usr/bin/perl \"-MExtUtils::Command::MM\" \"-e\" \"test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/01_compile.t ................ ok\nt/02_main.t ................... ok\nt/03_ex.t ..................... ok\nt/04_readmember.t ............. ok\nt/05_tree.t ................... ok\nt/06_update.t ................. ok\nt/07_filenames_of_0.t ......... ok\nt/08_readmember_record_sep.t .. ok\nt/09_output_record_sep.t ...... ok\nt/10_chmod.t .................. ok\nt/11_explorer.t ............... ok\nt/12_bug_47223.t .............. skipped: Only required on Win32.\nt/13_bug_46303.t .............. ok\nt/14_leading_separator.t ...... ok\nt/15_decrypt.t ................ ok\nt/16_decrypt.t ................ ok\nt/17_101092.t ................. ok\nt/18_bug_92205.t .............. ok\nt/19_bug_101240.t ............. ok\nt/20_bug_github11.t ........... ok\nt/21_zip64.t .................. ok\nt/22_deflated_dir.t ........... ok\nt/23_closed_handle.t .......... Can't locate Test/MockModule.pm in @INC (@INC contains: /root/.cpan/build/Archive-Zip-1.58-1OzAcc/blib/lib /root/.cpan/build/Archive-Zip-1.58-1OzAcc/blib/arch /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at t/23_closed_handle.t line 9.\nBEGIN failed--compilation aborted at t/23_closed_handle.t line 9.\nt/23_closed_handle.t .......... Dubious, test returned 2 (wstat 512, 0x200)\nNo subtests run\nt/24_unicode_win32.t .......... ok\n</code></pre>\n\n<p>And here is the test summary after I the installation:</p>\n\n<pre><code>Test Summary Report\n-------------------\nt/23_closed_handle.t        (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nFiles=24, Tests=302,  2 wallclock secs ( 0.07 usr  0.01 sys +  1.72 cusr  0.28 csys =  2.08 CPU)\nResult: FAIL\nFailed 1/24 test programs. 0/302 subtests failed.\nmake: *** [test_dynamic] Error 255\n  PHRED/Archive-Zip-1.58.tar.gz\none dependency not OK (Test::MockModule); additionally test harness failed\n  /usr/bin/make test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports PHRED/Archive-Zip-1.58.tar.gz\nRunning make install\n  make test had returned bad status, won't install without force\nFailed during this command:\n PHRED/Archive-Zip-1.58.tar.gz                : make_test NO one dependency not OK (Test::MockModule); additionally test harness failed\n</code></pre>\n\n<p>Here is my o conf of cpan.pm:</p>\n\n<pre><code>cpan[2]&gt; o conf\n$CPAN::Config options from /root/.cpan/CPAN/MyConfig.pm:\n    commit             [Commit changes to disk]\n    defaults           [Reload defaults from disk]\n    help               [Short help about 'o conf' usage]\n    init               [Interactive setting of all options]\n\n    applypatch         []\n    auto_commit        [0]\n    build_cache        [100]\n    build_dir          [/root/.cpan/build]\n    build_dir_reuse    [0]\n    build_requires_install_policy [yes]\n    bzip2              [/usr/bin/bzip2]\n    cache_metadata     [1]\n    check_sigs         [0]\n    colorize_debug     undef\n    colorize_output    undef\n    colorize_print     undef\n    colorize_warn      undef\n    commandnumber_in_prompt [1]\n    commands_quote     undef\n    connect_to_internet_ok [1]\n    cpan_home          [/root/.cpan]\n    curl               undef\n    dontload_hash      undef\n    dontload_list      undef\n    ftp                undef\n    ftp_passive        [1]\n    ftp_proxy          []\n    ftpstats_period    undef\n    ftpstats_size      undef\n    getcwd             [cwd]\n    gpg                [/usr/bin/gpg]\n    gzip               [/usr/bin/gzip]\n    halt_on_failure    [0]\n    histfile           [/root/.cpan/histfile]\n    histsize           [100]\n    http_proxy         []\n    inactivity_timeout [0]\n    index_expire       [1]\n    inhibit_startup_message [0]\n    keep_source_where  [/root/.cpan/sources]\n    load_module_verbosity [none]\n    lynx               undef\n    make               [/usr/bin/make]\n    make_arg           []\n    make_install_arg   []\n    make_install_make_command [sudo /usr/bin/make]\n    makepl_arg         []\n    mbuild_arg         []\n    mbuild_install_arg []\n    mbuild_install_build_command [sudo ./Build]\n    mbuildpl_arg       []\n    ncftp              undef\n    ncftpget           undef\n    no_proxy           []\n    pager              [/usr/bin/less]\n    password           undef\n    patch              []\n    patches_dir        undef\n    perl5lib_verbosity [none]\n    prefer_external_tar [1]\n    prefer_installer   [MB]\n    prefs_dir          [/root/.cpan/prefs]\n    prerequisites_policy [follow]\n    proxy_pass         undef\n    proxy_user         undef\n    randomize_urllist  undef\n    scan_cache         [atstart]\n    shell              [/bin/bash]\n    show_unparsable_versions [0]\n    show_upload_date   [0]\n    show_zero_versions [0]\n    tar                [/usr/bin/tar]\n    tar_verbosity      [none]\n    term_is_latin      [1]\n    term_ornaments     [1]\n    test_report        [0]\n    trust_test_report_history [0]\n    unzip              [/usr/bin/unzip]\n    urllist\n        0 [http://cpan.perl-hackers.net/]\n        1 [http://download.xs4all.nl/CPAN/]\n        2 [http://cpan.mirrors.uk2.net/]\n    use_sqlite         [0]\n    username           undef\n    version_timeout    [15]\n    wait_list          undef\n    wget               [/usr/bin/wget]\n    yaml_load_code     [0]\n    yaml_module        [YAML]\n</code></pre>\n\n<p>I am using CentOS.</p>\n"}, {"tags": ["perl", "cpan", "mason"], "answers": [{"comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1470908285, "post_id": 38882730, "comment_id": 65144811, "body": "Nice answer, +1 :)"}], "tags": [], "owner": {"reputation": 6566, "user_id": 748019, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/939cc882ebaf28150d4f716b933d5960?s=128&d=identicon&r=PG", "display_name": "stevenl", "link": "https://stackoverflow.com/users/748019/stevenl"}, "is_accepted": false, "score": 2, "last_activity_date": 1470860865, "last_edit_date": 1470860865, "creation_date": 1470860132, "answer_id": 38882730, "question_id": 38865097, "link": "https://stackoverflow.com/questions/38865097/execute-perl-script-using-mason-template/38882730#38882730", "title": "Execute perl script using mason template", "body": "<p>There is no need to put your files in the directory where Mason is installed:</p>\n\n<ul>\n<li>Perl should know where to find Mason when you import it with <code>use</code> (assuming your perl installation is correct). </li>\n<li>Mason will know where to find the .mc file via the <code>comp_root</code> argument.</li>\n<li>The component name needs to be specified as a path relative to <code>comp_root</code>, always beginning with <code>/</code>.</li>\n<li>You need to leave out the <code>.mc</code> from the component name.</li>\n</ul>\n\n<p>So, if you place the 2 files in your home directory, then the script should look like this:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse Mason;\nmy $mason = Mason-&gt;new(comp_root =&gt; $HOME_DIR); # where $HOME_DIR is `C:\\User\\your_name`\nprint $mason-&gt;run('/first_mason')-&gt;output;\n</code></pre>\n\n<p>From the <a href=\"https://metacpan.org/pod/distribution/Mason/lib/Mason/Manual/Components.pod#The-component-root-and-component-paths\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <h2>The component root and component paths</h2>\n  \n  <p>When you use Mason, you specify a component root that all component\n  files live under. Thereafter, any component will be referred to by its\n  virtual path relative to the root, rather than its full filename.</p>\n  \n  <p>For example, if the component root is '/opt/web/comps', then the\n  component path '/foo/bar.mc' refers to the file\n  '/opt/web/comps/foo/bar.mc'.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": true, "score": 1, "last_activity_date": 1470908778, "last_edit_date": 1470908778, "creation_date": 1470908254, "answer_id": 38892610, "question_id": 38865097, "link": "https://stackoverflow.com/questions/38865097/execute-perl-script-using-mason-template/38892610#38892610", "title": "Execute perl script using mason template", "body": "<p>@stevenl fully answers your question. Simply don't blindly copy the Synopsis from the <a href=\"https://metacpan.org/pod/Mason\" rel=\"nofollow\">Mason</a> docs, need read the docs too. :) E.g. in the example code:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse Mason;\nmy $mason = Mason-&gt;new(comp_root =&gt; '...');\nprint $mason-&gt;run('/foo')-&gt;output;\n</code></pre>\n\n<p>you need replace</p>\n\n<ul>\n<li>and the <em>shebang line</em> <code>#!/usr/local/bin/perl</code> with the real path to your perl interpreter</li>\n<li>the <code>'...'</code> with the real path in the filesystem, where your component are, e.g.</li>\n</ul>\n\n\n\n<pre><code>comp_root =&gt; '/some/real/path/here/where/my/component/root/is'\n</code></pre>\n\n<hr>\n\n<p>However,  I wrote this answer mainly with a reason: if you want use the Mason for the <strong>web-app</strong> development, check the <a href=\"https://metacpan.org/pod/Poet\" rel=\"nofollow\">Poet</a> module too. It GREATLY simplifies the whole process, and you will not need care about many-many things. E.g. after installing the <code>Poet</code> you can simply:</p>\n\n<pre><code>poet new MyApp\nmyapp/bin/run.pl\n</code></pre>\n\n<p>and you will immediately get (<em>without <strong>any</em></strong> configuration) an WORKING web-app, and you could access it in your browser at <a href=\"http://localhost:5000\" rel=\"nofollow\">http://localhost:5000</a>. Your <code>component_root</code> will be inside of the <code>myapp</code> directory as <code>myapp/comps</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 2899571, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002072558506/picture?type=large", "display_name": "Krishna Priya", "link": "https://stackoverflow.com/users/2899571/krishna-priya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 38892610, "answer_count": 2, "score": 2, "last_activity_date": 1470908778, "creation_date": 1470807812, "last_edit_date": 1470809335, "question_id": 38865097, "link": "https://stackoverflow.com/questions/38865097/execute-perl-script-using-mason-template", "title": "Execute perl script using mason template", "body": "<p>I have installed Mason module from cpan. Now i am executing my first program using mason template.</p>\n\n<p><strong>first_mason.mc</strong></p>\n\n<pre><code>% my $name = \"Mason\";\n    Hello world! Welcome to &lt;% $name %&gt;. \n</code></pre>\n\n<p><strong>first_mason.pl</strong></p>\n\n<pre><code>#!/usr/local/bin/perl\nuse Mason;\nmy $mason = Mason-&gt;new(comp_root =&gt; '...');\nprint $mason-&gt;run('first_mason.mc')-&gt;output;\n</code></pre>\n\n<p>This throws an <strong>error</strong> as follows</p>\n\n<blockquote>\n  <p>first_mason.mc is not an absolute path at C:/Perl/site/lib/Mason/Request.pm line 256**</p>\n</blockquote>\n\n<p><strong><em>Note</em></strong></p>\n\n<p>I am placing both files in the path where mason is installed(to find an installation path ,i used <code>perldoc -l Mason</code>) and executed a program using <code>perl first_mason.pl</code></p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1470814208, "post_id": 38864676, "comment_id": 65096544, "body": "This works fine for me.  What do you do to get that error? Is the placement of this file, <code>Constants.pm</code>,correct? The other thought -- apparently there happens to be a module with the exact same name, <code>use</code>d by <code>Log::Syslog::Fast</code>. Is this related, are there conflicts?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1470821037, "post_id": 38864676, "comment_id": 65100817, "body": "By &quot;works for me&quot; I mean the following. I <code>use</code> this module (in the file <code>Constants.pm</code> placed in <code>Log&#47;Syslog&#47;Fast&#47;</code>) in a script, and after <code>use Log::Syslog::Fast::Constants qw(:severities)</code> I can print the constant (as bareword) <code>LOG_DEBUG</code>, etc. Does this help?"}], "answers": [{"tags": [], "owner": {"reputation": 3227, "user_id": 249199, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0878f26eba467efc1d90fc6959b9b531?s=128&d=identicon&r=PG", "display_name": "Zac B", "link": "https://stackoverflow.com/users/249199/zac-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1470843327, "creation_date": 1470843327, "answer_id": 38877875, "question_id": 38864676, "link": "https://stackoverflow.com/questions/38864676/cant-use-an-undefined-value-as-an-array-reference-at-modules-log-syslog-const/38877875#38877875", "title": "Can&#39;t use an undefined value as an ARRAY reference at ~/modules/Log/Syslog/Constants.pm line 28", "body": "<p>The problem is caused by using a <code>Log::Syslog::Constants</code> module that is not compatible with your <code>Log::Syslog::Constants::Fast</code> module.</p>\n\n<p>The <code>::Fast</code> module is trying to delegate imports to <code>Log::Syslog::Constants</code>, but one or more of the delegate import groups (one of the list <code>qw(facilities severities)</code>) is not in the <code>%EXPORT_OK</code> hash of the <code>Log::Syslog::Constants</code> module, meaning that the <code>::Fast</code> module pulls in <code>undef</code> instead of a value for that field on line 27.</p>\n\n<p>There are a couple of ways that this could happen:</p>\n\n<p><strong>Possibility 1:</strong> there's an unrelated module calling itself <code>Log::Syslog::Constants</code>.</p>\n\n<p>To debug this, do <code>use Data::Dumper; print Dumper(\\%INC);</code> in the <code>::Fast</code> module to see what <code>Constants.pm</code> is getting loaded, and make sure it's in the same place where the rest of the <code>Log::Syslog</code> non-fast module lives.</p>\n\n<p>If it's not, <a href=\"http://perlmaven.com/how-to-change-inc-to-find-perl-modules-in-non-standard-locations\" rel=\"nofollow\">check your module search path</a> and make sure that it can find the non-<code>::Fast</code> module and that nothing is modifying search locations (e.g. <code>use lib</code>) to find something else that calls itself <code>Log::Syslog::Constants</code> before the real thing--this would cause a bad module to \"shadow\" the good one, and always get loaded instead.</p>\n\n<p><strong>Possibility 2:</strong> The version of <code>Log::Syslog::Constants</code> installed on your system is not compatible with the version of <code>Log::Syslog::Constants::Fast</code>.</p>\n\n<p>TO debug this, check the source code of <code>Log::Syslog::Constants</code> to make sure that both of the delegate import groups are contained in its <code>%EXPORT_OK</code>.</p>\n\n<p>If they are not, determine whether or not you should upgrade, downgrade, or change the package source (usually not a great idea) to solve the issue. It may also be solvable by upgrading, downgrading, or changing the <code>::Fast</code> module's source as well; whichever you would prefer. You'll need to have a <code>::Fast</code> wrapper that is compatible with the non-<code>::Fast</code> base version regardless, though.</p>\n"}], "owner": {"reputation": 41, "user_id": 6698473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad22531cc51a06816027d48edd9c0c9?s=128&d=identicon&r=PG&f=1", "display_name": "Mayati", "link": "https://stackoverflow.com/users/6698473/mayati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1091, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1470843327, "creation_date": 1470805736, "question_id": 38864676, "link": "https://stackoverflow.com/questions/38864676/cant-use-an-undefined-value-as-an-array-reference-at-modules-log-syslog-const", "title": "Can&#39;t use an undefined value as an ARRAY reference at ~/modules/Log/Syslog/Constants.pm line 28", "body": "<p>Can't use an undefined value as an ARRAY reference at ~/modules/Log/Syslog/Constants.pm line 28. \n(F) A value used as either a hard reference or a symbolic reference must\n    be a defined value.  This helps to delurk some insidious errors.\nFull code is as follows: </p>\n\n<pre><code>package Log::Syslog::Fast::Constants;\n\nuse strict;\n\nuse warnings;\n\nuse Log::Syslog::Constants ();\nuse Carp 'croak';\n\nrequire Exporter;\nour @ISA = qw(Exporter);\n\n\nuse constant LOG_UDP    =&gt; 0; # UDP\nuse constant LOG_TCP    =&gt; 1; # TCP\nuse constant LOG_UNIX   =&gt; 2; # UNIX socket\n\n\nuse constant LOG_RFC3164 =&gt; 0;\nuse constant LOG_RFC5424 =&gt; 1;\n\nour @EXPORT = ();\nour %EXPORT_TAGS = (\n    protos =&gt;  [qw/ LOG_TCP LOG_UDP LOG_UNIX /],\n    formats =&gt; [qw/ LOG_RFC3164 LOG_RFC5424 /],\n);\n$EXPORT_TAGS{$_} = $Log::Syslog::Constants::EXPORT_TAGS{$_}\n    for qw(facilities severities);\nour @EXPORT_OK = @{ $EXPORT_TAGS{all} } = map {@$_} values %EXPORT_TAGS;\n\nsub AUTOLOAD {\n    (my $meth = our $AUTOLOAD) =~ s/.*:://;\n    if (Log::Syslog::Constants-&gt;can($meth)) {\n        return Log::Syslog::Constants-&gt;$meth(@_);\n    }\n    croak \"Undefined subroutine $AUTOLOAD\";\n}\n\n1;\n</code></pre>\n"}, {"tags": ["perl", "variables", "variable-names"], "comments": [{"owner": {"reputation": 25945, "user_id": 743464, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3a21f6147bcc6bd9d997d5cc5b5f87c?s=128&d=identicon&r=PG", "display_name": "Andy Ray", "link": "https://stackoverflow.com/users/743464/andy-ray"}, "edited": false, "score": 2, "creation_date": 1470804994, "post_id": 38864402, "comment_id": 65092166, "body": "<a href=\"https://metacpan.org/pod/perlfaq7#How-can-I-use-a-variable-as-a-variable-name\" rel=\"nofollow noreferrer\">metacpan.org/pod/&hellip;</a>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 5, "creation_date": 1470805355, "post_id": 38864402, "comment_id": 65092296, "body": "Note that using <code>use strict;</code> prevents you from doing it.  Are you sure you want it?  Using the technique usually means things are not properly organized (maybe you should be using a hash)."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1470821052, "post_id": 38864402, "comment_id": 65100830, "body": "<a href=\"https://eval.in/620376\" rel=\"nofollow noreferrer\">eval.in/620376</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470821328, "post_id": 38864402, "comment_id": 65101066, "body": "The bottom line is <i>don&#39;t do it</i>. It looks like you want a hash, say <code>%values</code>. Then you can write <code>$values{myvar} = &#39;foo&#39;</code> and <code>print $values{$x.$y}</code> and get the correct result."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1470822721, "post_id": 38864402, "comment_id": 65102030, "body": "<a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">Why it&#39;s stupid to use a variable as a variable name</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1470840729, "post_id": 38864402, "comment_id": 65115032, "body": "@JonathanLeffler I don&#39;t think that&#39;s the best dupe target, since the clear solution to that question is to use an array. I think <a href=\"http://stackoverflow.com/q/26473593/176646\">this question</a> would be better (and I just cleaned it up to make it a suitable canonical). Edit: On second thought, the other question should also use an array, so maybe neither is a great dupe target. Oh well."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470841270, "post_id": 38864402, "comment_id": 65115408, "body": "@ThisSuitIsBlackNot: Both <a href=\"http://stackoverflow.com/questions/1549685/\">How can I use a variable as a variable name in Perl?</a> and <a href=\"http://stackoverflow.com/questions/26473593/\">How can I combine two strings and treat the result as the name of a variable?</a> cover the territory \u2014 and the first listed was answered 5 years earlier.  Either could be used as a duplicate \u2014 I don&#39;t think the difference is big enough to warrant changing, but if some other Perl Mj&#246;lnir-wielder disagrees and switches, I won&#39;t fight over it."}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "closed_date": 1470806677, "answer_count": 0, "score": 0, "last_activity_date": 1470804802, "creation_date": 1470804109, "last_edit_date": 1470804802, "question_id": 38864402, "link": "https://stackoverflow.com/questions/38864402/how-to-use-variable-for-a-variable-name", "closed_reason": "Duplicate", "title": "How to use variable for a variable name?", "body": "<pre><code>my $myvar = \"foo\";\nmy $x = \"my\";\nmy $y = \"var\";\n\nprint ${$x$y};  # output is foo?\n</code></pre>\n\n<p>How can I use a variable to make up a variable name?</p>\n"}, {"tags": ["perl", "memory-leaks", "declaration"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470838362, "post_id": 38864135, "comment_id": 65113054, "body": "Not only is it not bad, but in Perl it&#39;s actually preferred to declare variables as close as possible to where you use them."}], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1470872910, "post_id": 38864311, "comment_id": 65131106, "body": "Isn&#39;t it a bit strange that the memory locations are the same?  Wouldn&#39;t some other process have taken up those locations in the next iteration?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1470879373, "post_id": 38864311, "comment_id": 65132507, "body": "@CJ7 Perl doesn&#39;t free the memory, which means it&#39;s not given back to the OS and other processes can&#39;t use it. See <a href=\"http://www.perlmonks.org/?node_id=803515\" rel=\"nofollow noreferrer\">Mini-Tutorial: Perl&#39;s Memory Management</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1470892153, "post_id": 38864311, "comment_id": 65135812, "body": "@CJ7 <a href=\"https://en.wikipedia.org/wiki/Virtual_memory\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Virtual_memory</a> - Every process has its own address space. Memory addresses are relative to some process, not global. So even if perl released the memory for the variables (which it doesn&#39;t), it doesn&#39;t matter what other processes do with their memory."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 5, "last_activity_date": 1470804290, "last_edit_date": 1470804290, "creation_date": 1470803573, "answer_id": 38864311, "question_id": 38864135, "link": "https://stackoverflow.com/questions/38864135/bad-to-declare-variables-in-for-loop/38864311#38864311", "title": "Bad to declare variables in for loop?", "body": "<p>(First off, <code>$i</code> shouldn't be a global variable, so that should be <code>for my $i (...)</code>. Second, don't use the names <code>$a</code> and <code>$b</code>, not even in examples, because they're special variables used by <a href=\"http://perldoc.perl.org/functions/sort.html\"><code>sort</code></a>.)</p>\n\n<p>The naive answer to that question is no, because <code>$a</code>, <code>$b</code>, and <code>$c</code> are freed when reaching the end of the block <code>}</code>, so the net result of an iteration is zero change in memory use.</p>\n\n<p>The actual implementation in perl is even smarter: It reuses the memory for <code>$a</code>/<code>$b</code>/<code>$c</code> so it doesn't have to repeatedly free and then reallocate the same piece of memory. (Of course, it can't do that if you create a reference to one of the local variables that persists beyond the loop body, because then the variable stays alive even though its name has gone out of scope.)</p>\n\n<p>You can confirm that is the case by changing the loop to this:</p>\n\n<pre><code>for my $i (1 .. 5) {\n    my $x = rand 10;\n    my $y = rand 10;\n    my $z = rand 10;\n    print join(\" \", \\$x, \\$y, \\$z), \"\\n\";\n}\n</code></pre>\n\n<p>The output will be something like</p>\n\n<pre><code>SCALAR(0x4a5788) SCALAR(0x4a5728) SCALAR(0x4a56c8)\nSCALAR(0x4a5788) SCALAR(0x4a5728) SCALAR(0x4a56c8)\nSCALAR(0x4a5788) SCALAR(0x4a5728) SCALAR(0x4a56c8)\nSCALAR(0x4a5788) SCALAR(0x4a5728) SCALAR(0x4a56c8)\nSCALAR(0x4a5788) SCALAR(0x4a5728) SCALAR(0x4a56c8)\n</code></pre>\n\n<p>which demonstrates that the memory locations are identical in all loop iterations.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1470804290, "creation_date": 1470802629, "question_id": 38864135, "link": "https://stackoverflow.com/questions/38864135/bad-to-declare-variables-in-for-loop", "title": "Bad to declare variables in for loop?", "body": "<pre><code>for $i (1..1000000)\n{\n    my $a = rand(10);\n    my $b = rand(10);\n    my $c = rand(10);\n}\n</code></pre>\n\n<p>Will the above code allocate new memory locations for <code>$a</code>, <code>$b</code> and <code>$c</code> during each iteration of the loop, thereby using up more memory than the following code?</p>\n\n<pre><code>my ($a,$b,$c);\nfor $i (1..1000000)\n{\n    $a = rand(10);\n    $b = rand(10);\n    $c = rand(10);\n}\n</code></pre>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1470800434, "post_id": 38863629, "comment_id": 65090920, "body": "no secret to it. you need a script on the server that does whatever you want it to do. then generally you run it from ssh or schedule it is a cron job."}], "answers": [{"tags": [], "owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "is_accepted": true, "score": 0, "last_activity_date": 1470809612, "creation_date": 1470809612, "answer_id": 38865542, "question_id": 38863629, "link": "https://stackoverflow.com/questions/38863629/read-all-the-files-in-a-remote-directory-in-perl/38865542#38865542", "title": "Read all the files in a remote directory in perl", "body": "<p>Good Morning!\nAs already said in the comments there is no secret in it. I recommend you to use <strong>Net::SSH::Perl</strong> fo that kind of job:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse lib qw(\"/path/to/module/\");\n\nuse Net::SSH::Perl;\n\nmy $host     = \"hostname\";\nmy $user     = \"username\";\nmy $password = \"password\";\n\nmy $command = 'dir /var/log/'; #your command to read the directory\n\nmy $ssh = Net::SSH::Perl-&gt;new(\"$host\", debug=&gt;0);\n$ssh-&gt;login(\"$user\",\"$password\");\nmy ($stdout,$stderr,$exit) = $ssh-&gt;cmd(\"$command\"); #the standard outputs will be fetched\nprint $stdout; #obviously the STDOUT will be printed\n</code></pre>\n\n<p>For more informations about this Module you can read its documentation on CPAN: <a href=\"http://search.cpan.org/~schwigon/Net-SSH-Perl-2.01/lib/Net/SSH/Perl.pm\" rel=\"nofollow\">Net::SSH::Perl</a></p>\n\n<p>I hope I could help you!</p>\n\n<p><strong>EDIT:</strong>\nFor sure you can run your script on the server and fetch its output in the same way. You just have to modify the <code>$command</code>. For example: <code>$command: = \"perl /home/$user/my_script.pl\"</code>.</p>\n"}], "owner": {"reputation": 63, "user_id": 3791136, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c198f98ba75bfde7161218e9d042b2cc?s=128&d=identicon&r=PG&f=1", "display_name": "Saiprasad", "link": "https://stackoverflow.com/users/3791136/saiprasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 38865542, "answer_count": 1, "score": -1, "last_activity_date": 1470809612, "creation_date": 1470798622, "last_edit_date": 1470799040, "question_id": 38863629, "link": "https://stackoverflow.com/questions/38863629/read-all-the-files-in-a-remote-directory-in-perl", "title": "Read all the files in a remote directory in perl", "body": "<p>I'm new to perl. I'd like to parse through a list of log files in a remote server(unix) probably around 200mb each to create a daily report.</p>\n\n<p>What is the best way to read the log files from a remote server securely using ssh and efficiently.</p>\n\n<p>Any pointer would be greatly appreciated.</p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 4, "creation_date": 1470796305, "post_id": 38863306, "comment_id": 65090061, "body": "While I salute your bravery, do try to avoid re-inventing the wheel. Frameworks like <a href=\"http://mojolicious.org\" rel=\"nofollow noreferrer\">Mojolicious</a> and <a href=\"http://www.catalystframework.org\" rel=\"nofollow noreferrer\">Catalyst</a> are already implemented and ready to go. Writing your own framework might be educational, but the results are often unusable because of how risky running untested, untrusted code on the public internet is."}, {"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1470841601, "post_id": 38863306, "comment_id": 65115647, "body": "yes for primary work.  no for the occasional user (like me) who only uses it once a year for small projects.  there is too much to learn and remember.  in such cases, a more minimalist structure is better."}, {"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1470841878, "post_id": 38863306, "comment_id": 65115839, "body": "I cannot help but note that some novice programmers get sucked into php (yikes) by the easy beginnings.  framework requirements are an early stopper.  I can think of no php advantages over perl other than the easier entry when used without framework."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1470851361, "post_id": 38863306, "comment_id": 65121639, "body": "&quot;Too much to learn&quot; is all about where your focus will be. You can get a lot done by half-understanding a framework, it&#39;ll have your back. You will make a giant mess of things if you only half-understand the language and are programming from first principles. I have never seen that turn out well."}, {"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1470866865, "post_id": 38863306, "comment_id": 65129477, "body": "another problem with a framework is that perl does not have one, but many.  so, I will need peers who happen to know the specific framework.  it&#39;s almost like choosing a language.  perl is a standard that I can expect many others to know.  php is the most widely used language on the web---and not because it is good.  it can be used by someone who writes a 500-line web app once every 2 years, and works on other things the rest of the time."}, {"owner": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "edited": false, "score": 0, "creation_date": 1470886059, "post_id": 38863306, "comment_id": 65133996, "body": "PHP&#39;s other best and worst feature is that so much of what would require using a CPAN module in perl is in PHP already. If you are on a simple shared host, or don&#39;t have control over your server it&#39;s quite fiddly for a novice to get those perl modules installed."}], "answers": [{"comments": [{"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "edited": false, "score": 0, "creation_date": 1470841202, "post_id": 38863387, "comment_id": 65115363, "body": "mojolicious is great, but the learning curve is high and the underlying code base is still changing.  simulating $_SESSION is a very low-level substitute that can, at least for smaller projects, be useful."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1470851291, "post_id": 38863387, "comment_id": 65121596, "body": "You really don&#39;t want to use <code>CGI.pm</code> in 2016. It&#39;s from an era when requirements were significantly simpler and people weren&#39;t that intent on causing harm."}, {"owner": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "edited": false, "score": 0, "creation_date": 1470870569, "post_id": 38863387, "comment_id": 65130530, "body": "As I said I don&#39;t recommend new code use the CGI.pm module these days as it&#39;s so low level compared to Mojo etc., but the CGI.pm is probably fairly secure though, I&#39;ll wager more secure than these newer frameworks. Look how many security fixes it&#39;s had over the years"}, {"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "edited": false, "score": 0, "creation_date": 1470883442, "post_id": 38863387, "comment_id": 65133371, "body": "let&#39;s say I just want to request and record a user&#39;s email, store it on a file on the computer, and show it at the top of the page.  would you really use a full framework?  crank up complexity just a little.  say one form.  now a framework?  there is a tradeoff.  at some simple enough point, frameworks are probably not the right solution."}, {"owner": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "edited": false, "score": 1, "creation_date": 1470885921, "post_id": 38863387, "comment_id": 65133962, "body": "Take a look at the link I&#39;ve added, it compares using CGI,pm (probably what you mean by using no framework?) vs the alertnatives"}], "tags": [], "owner": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "is_accepted": false, "score": 2, "last_activity_date": 1470871182, "last_edit_date": 1470871182, "creation_date": 1470796516, "answer_id": 38863387, "question_id": 38863306, "link": "https://stackoverflow.com/questions/38863306/perl-equivalent-of-phps-session/38863387#38863387", "title": "perl equivalent of PHP&#39;s $_SESSION", "body": "<p>PHP as used on websites is a language and also a web framework, albeit a very simple one. So if you are choosing perl you will also need to choose a perl web library/framework. I would recommend <a href=\"http://mojolicious.org/\" rel=\"nofollow\">http://mojolicious.org/</a> personally, but you will see lots of older code using CGI.pm which was great back in the day, but will seem very low level these days.</p>\n\n<p>Here's a nice quick summary here of <a href=\"http://search.cpan.org/~leejo/CGI-Alternatives-0.14/lib/CGI/Alternatives.pm\" rel=\"nofollow\">alternatives to CGI.pm</a>.</p>\n"}], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1470957067, "creation_date": 1470795961, "last_edit_date": 1470957067, "question_id": 38863306, "link": "https://stackoverflow.com/questions/38863306/perl-equivalent-of-phps-session", "title": "perl equivalent of PHP&#39;s $_SESSION", "body": "<p>php was a nice experiment, but the language seems inferior.  so, I am thinking of converting my modest codebase from php to perl.</p>\n\n<p>however, some php aspects are worthy of keeping--if only to make code translation easier.  The most important are <code>$_SERVER</code>, <code>$_POST</code>, <code>$_GET</code> and especially <code>$_SESSION</code>.</p>\n\n<p><code>start_session()</code> and then the <code>$_SESSION</code> hash (ahem, associative array) have immediate assignability.  perl6's CGI::Session has much of the functionality but not the same syntax.  I am assuming that CGI::Session is still the most common and trouble-free module.  I think I will need something like</p>\n\n<pre><code>our $_SESSION;\n## iterate over the session; docs don't say how; maybe\nforeach ($session-&gt;param) {  $_SESSION[$_]= session-&gt;param($_); }\n## and now trap all deaths to call save_param\n</code></pre>\n\n<p>or perhaps a Tie functionality?  or perhaps this already exists as a module other than CGI::Session?!</p>\n\n<p>advice appreciated.</p>\n\n<p>/iaw</p>\n"}, {"tags": ["perl", "csv", "parsing"], "comments": [{"owner": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "edited": false, "score": 0, "creation_date": 1470793765, "post_id": 38862984, "comment_id": 65089519, "body": "Take a good look at the the file in a text editor with Show All Characters/Show Whitespace turned on, at about the 8th or 9th row. Perhaps there&#39;s an extra tab, or missing tab, or unescaped one. I would also try and import the CSV file into a spreadsheet just to check all the columns are correctly set out."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1470794076, "post_id": 38862984, "comment_id": 65089586, "body": "Can you show a few consecutive rows, some of which are OK and some which are not?  (Are the good ones the first eight, or some &#39;random&#39; ones?) After you&#39;ve checked for missing stuff, per comment by <a href=\"http://stackoverflow.com/users/74585/matthew-lock\">Mathew Lock</a>."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1470799469, "post_id": 38862984, "comment_id": 65090697, "body": "Use Data::Dumper and dump each row to see what the last line it processes is"}], "answers": [{"comments": [{"owner": {"reputation": 4843, "user_id": 834140, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dba32ebf9d12c67b53f1c5e2d4737eca?s=128&d=identicon&r=PG", "display_name": "srchulo", "link": "https://stackoverflow.com/users/834140/srchulo"}, "edited": false, "score": 0, "creation_date": 1471416865, "post_id": 38873045, "comment_id": 65331956, "body": "Sorry for the late accept, but thanks for the great and detailed response. I wish in Text::CSV the default was to fail explicitly with a silent fail option. Thanks!"}, {"owner": {"reputation": 9014, "user_id": 86404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1656e3b5977a7695b6f4044edb5ea85b?s=128&d=identicon&r=PG", "display_name": "BlairHippo", "link": "https://stackoverflow.com/users/86404/blairhippo"}, "edited": false, "score": 0, "creation_date": 1571947598, "post_id": 38873045, "comment_id": 103417827, "body": "Thank you. I couldn&#39;t for the life of me figure out why my code was suddenly failing."}], "tags": [], "owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "is_accepted": true, "score": 6, "last_activity_date": 1470948252, "last_edit_date": 1592644375, "creation_date": 1470830907, "answer_id": 38873045, "question_id": 38862984, "link": "https://stackoverflow.com/questions/38862984/issues-parsing-a-csv-file-in-perl-using-textcsv/38873045#38873045", "title": "Issues parsing a CSV file in perl using Text::CSV", "body": "<p>Text::CSV_XS is silently failing with an error. If you put the following after your while loop:</p>\n<pre><code> my ($cde, $str, $pos) = $csv-&gt;error_diag ();\n print &quot;$cde, $str, $pos\\n&quot;;\n</code></pre>\n<p>You can see if there were errors parsing the file and you get the output:</p>\n<pre><code>2034, EIF - Loose unescaped quote, 336\n</code></pre>\n<p>Which means the column:</p>\n<pre><code>GT New Coupe 5.0L CD Wheels: 18&quot; x 8&quot; Magnetic Painted/Machined 6 Speakers\n</code></pre>\n<p>has an unquoted escape string (there is no backslash before the &quot;).</p>\n<p>The <code>Text::CSV</code> perldoc states:</p>\n<blockquote>\n<p>allow_loose_quotes</p>\n<p>By default, parsing fields that have quote_char characters inside an unquoted field, like</p>\n<pre><code>1,foo &quot;bar&quot; baz,42\n</code></pre>\n<p>would result in a parse error. Though it is still bad practice to allow this format, we cannot help there are some vendors that make their applications spit out lines styled like this.</p>\n</blockquote>\n<p>If you change your arguments to the creation of <code>Text::CSV_XS</code> to:</p>\n<pre><code>my $csv = Text::CSV_XS-&gt;new ({ sep_char =&gt; &quot;\\t&quot;, binary =&gt; 1,\n    eol=&gt; &quot;\\n&quot;, allow_loose_quotes =&gt; 1 });\n</code></pre>\n<p>The problem goes away, well until row 105265, when Error 2023 rears its head:</p>\n<pre><code>2023, EIQ - QUO character not allowed, 406\n</code></pre>\n<p>Details of this error in the perldoc:</p>\n<blockquote>\n<p>2023 &quot;EIQ - QUO character not allowed&quot;</p>\n<p>Sequences like &quot;foo &quot;bar&quot; baz&quot;,qu and 2023,&quot;,2008-04-05,&quot;Foo, Bar&quot;,\\n will cause this error.</p>\n</blockquote>\n<p>Setting your quote character empty (setting <code>quote_char =&gt; ''</code> on your call to <code>Text::CSV_XS-&gt;new()</code>) does seem to work around this and allow processing of the whole file. However I would take time to check if this is a sane option with the CSV data.</p>\n<p><strong>TL;DR</strong>    The long and short is that your CSV is not in the greatest format, and you will have to work around it.</p>\n"}], "owner": {"reputation": 4843, "user_id": 834140, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dba32ebf9d12c67b53f1c5e2d4737eca?s=128&d=identicon&r=PG", "display_name": "srchulo", "link": "https://stackoverflow.com/users/834140/srchulo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3362, "favorite_count": 0, "accepted_answer_id": 38873045, "answer_count": 1, "score": 2, "last_activity_date": 1470948252, "creation_date": 1470793529, "question_id": 38862984, "link": "https://stackoverflow.com/questions/38862984/issues-parsing-a-csv-file-in-perl-using-textcsv", "title": "Issues parsing a CSV file in perl using Text::CSV", "body": "<p>I'm trying to use <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a> to parse this <a href=\"https://drive.google.com/file/d/0B4X7SGbdS7iJRzJOdnZPMERjdEE/view?usp=sharing\" rel=\"nofollow\">CSV file</a>. Here is how I am doing it:</p>\n\n<pre><code>open my $fh, '&lt;', 'test.csv' or die \"can't open csv\";\nmy $csv = Text::CSV_XS-&gt;new ({ sep_char =&gt; \"\\t\", binary =&gt; 1 , eol=&gt; \"\\n\"});\n$csv-&gt;column_names($csv-&gt;getline($fh));\n\nwhile(my $row = $csv-&gt;getline_hr($fh)) {\n    # use row\n}\n</code></pre>\n\n<p>Because the file has 169,252 rows (not counting the headers line), I expect the loop to run that many times. However, it only runs 8 times and gives me 8 rows. I'm not sure what's happening, because the CSV just seems like a normal CSV file with <code>\\n</code> as the line separator and <code>\\t</code> as the field separator. If I loop through the file like this:</p>\n\n<pre><code>while(my $line = &lt;$fh&gt;) {\n    my $fields = $csv-&gt;parse($line);\n}\n</code></pre>\n\n<p>Then the loop goes through all rows. </p>\n"}, {"tags": ["function", "perl", "perl-module"], "comments": [{"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1470786116, "post_id": 38862056, "comment_id": 65087952, "body": "Do you have a specific <code>WWW::Mechanize</code> example where a function is used without including it by name? Can you post an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1470786186, "post_id": 38862056, "comment_id": 65087970, "body": "@ray <code>use WWW::Mechanize; my $mech = new WWW::Mechanize; $mech-&gt;get(&quot;http:&#47;&#47;www.google.com&quot;);</code>"}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1470786247, "post_id": 38862056, "comment_id": 65087992, "body": "<code>$mech-&gt;get(...)</code> is simply an object calling an instance method, so it&#39;s not really the same thing."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1470786612, "post_id": 38862056, "comment_id": 65088072, "body": "@CJ7, because <code>WWW::Mechanize-&gt;new</code> was called, created a <code>WWW::Mechanize</code> object and methods were called from there. Some modules <i>will</i> export a bunch of functions into main, but that&#39;s consider impolite these days. If you need a function from a module, <i>ask</i> for it."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1470786622, "post_id": 38862056, "comment_id": 65088075, "body": "@ray I have my own <code>Funcs.pm</code> file with functions in it.  In order to import the functions all I have to do is <code>use Funcs;</code>."}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1470786820, "post_id": 38862056, "comment_id": 65088115, "body": "@CJ7 Did you define the <code>@EXPORT_OK</code> array?"}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1470786918, "post_id": 38862056, "comment_id": 65088140, "body": "@CJ7: Please update your OP to include an MCVE, as I asked a few minutes ago."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 2, "creation_date": 1470789480, "post_id": 38862056, "comment_id": 65088687, "body": "@ray: You&#39;re giving bad advice. An MCVE isn&#39;t really relevant to this question, and the issue of the OP&#39;s own <code>Funcs</code> module needs to be a separate question if the want to ask about it."}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470789687, "post_id": 38862056, "comment_id": 65088739, "body": "@Borodin, I&#39;m not so sure I am, especially given his apparent confusion between an actual function, an object with methods, and his comment that he has a <code>Funcs.pm</code> module where he gets to import and use all the content without defining <code>EXPORT</code>/<code>EXPORT_OK</code> in it. Something&#39;s amiss and it would&#39;ve helped to see what code he was using that actually led him to his question. I don&#39;t think it needs to be a separate question, since it&#39;s relevant to clarifying his situation."}], "answers": [{"tags": [], "owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "is_accepted": false, "score": 1, "last_activity_date": 1470788917, "last_edit_date": 1495541302, "creation_date": 1470786792, "answer_id": 38862202, "question_id": 38862056, "link": "https://stackoverflow.com/questions/38862056/why-does-a-function-name-have-to-be-specified-in-a-use-statement/38862202#38862202", "title": "Why does a function name have to be specified in a use statement?", "body": "<p>The reason is that some modules simply contain functions in them and they may or may not have chosen to export them by default, and that means they may need to be explicitly imported by the script to access directly or use a fully qualified name to access them. For example:</p>\n\n<pre><code># in some script\nuse SomeModule;\n# ...\nSomeModule::some_function(...);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use SomeModule ('some_function');\n# ...\nsome_function(...);\n</code></pre>\n\n<p>This can be the case if the module was not intended to be used in an object-oriented way, i.e. where no classes have been defined and lines such as <code>my $obj = SomeModule-&gt;new()</code> wouldn't work.</p>\n\n<p>If the module has defined content in the <code>EXPORT_OK</code> array, it means that the client code will only get access to it if it \"asks for it\", rather than \"automatically\" when it's actually present in the <code>EXPORT</code> array.</p>\n\n<p>Some modules automatically export their content by means of the <code>@EXPORT</code> array. <a href=\"https://stackoverflow.com/questions/17912400/export-vs-export-ok-in-perl\">This question</a> and the <a href=\"http://perldoc.perl.org/Exporter.html\" rel=\"nofollow noreferrer\"><code>Exporter</code> docs</a> have more detail on this.</p>\n\n<p>Without you actually posting an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, it's difficult to know what you've done in your <code>Funcs.pm</code> module that may be allowing you to import everything without using <code>EXPORT</code> and <code>EXPORT_OK</code> arrays. Perhaps you did not include the <code>package Funcs;</code> line in your module, as @JonathanLeffler suggested in the comments. Perhaps you did something else. Perl is one of those languages where people pride themselves in the <a href=\"https://en.wiktionary.org/wiki/TMTOWTDI\" rel=\"nofollow noreferrer\">TMTOWTDI</a> mantra, often to a detrimental/counter-productive level, IMHO.</p>\n\n<p>The 2nd example you presented is very different and fairly straightforward. When you have something like:</p>\n\n<pre><code>use WWW::Mechanize;\nmy $mech = new WWW::Mechanize;\n$mech-&gt;get(\"http://www.google.com\");\n</code></pre>\n\n<p>you're simply instantiating an object of type <code>WWW::Mechanize</code> and calling an instance method, called <code>get</code>, on it. There's no need to import an object's methods because the methods are <em>part of the object itself</em>. Modules looking to have an OOP approach are not meant to export anything. They're different situations.</p>\n"}, {"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1470788072, "post_id": 38862323, "comment_id": 65088397, "body": "I have my own <code>Funcs.pm</code> file with functions in it. In order to import the functions all I have to do is <code>use Funcs;</code>  The <code>Funcs.pm</code> file simply contains the functions and there is no mention anywhere of <code>@EXPORT_OK</code>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 3, "creation_date": 1470788600, "post_id": 38862323, "comment_id": 65088492, "body": "@CJ7 I think you didn&#39;t put a package name in Funcs.pm, so it&#39;s all going into <code>main</code>, the default package. This is very impolite. It is a very strong convention that Funcs.pm will use the Funcs package and not pollute other packages without a very good reason"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 1, "creation_date": 1470788604, "post_id": 38862323, "comment_id": 65088493, "body": "@CJ7: Presumably, you don&#39;t have the package notations in your file, so the whole thing is automatically available in the global namespace.  You can do that \u2014 it works.  But formal modules (such as <code>WWW::Mechanize</code>) use the package notations to avoid exposing their internals, and the well-disciplined modules only export the minimum of necessary names, or the user-specified list of names.  It avoids unnecessary pollution of the namespace."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 9, "last_activity_date": 1470787831, "creation_date": 1470787831, "answer_id": 38862323, "question_id": 38862056, "link": "https://stackoverflow.com/questions/38862056/why-does-a-function-name-have-to-be-specified-in-a-use-statement/38862323#38862323", "title": "Why does a function name have to be specified in a use statement?", "body": "<p>Each module chooses what functions it exports by default. Some choose to export <em>no</em> functions by default at all, you have to ask for them. There's a few good reasons to do this, and one bad one.</p>\n\n<p>If you're a class like <a href=\"https://metacpan.org/pod/WWW::Mechanize\">WWW::Mechanize</a>, then you don't need to export any functions. Everything is a class or object method. <code>my $mech = WWW::Mechanize-&gt;new</code>.</p>\n\n<p>If you're a pragma like <a href=\"https://metacpan.org/pod/DBI\">strict</a> then there are no functions nor methods, it does its work simply by being loaded.</p>\n\n<p>Some modules export waaay too many functions by default. An example is <a href=\"https://metacpan.org/pod/Test::Deep#EXPORTS\">Test::Deep</a> which exports...</p>\n\n<blockquote>\n  <p>all any array array_each arrayelementsonly arraylength arraylengthonly bag blessed bool cmp_bag cmp_deeply cmp_methods cmp_set code eq_deeply hash\n  hash_each hashkeys hashkeysonly ignore Isa isa listmethods methods noclass\n  none noneof num obj_isa re reftype regexpmatches regexponly regexpref\n  regexprefonly scalarrefonly scalref set shallow str subbagof subhashof\n  subsetof superbagof superhashof supersetof useclass</p>\n</blockquote>\n\n<p>The problem comes when another module tries to export the same functions, or if you write a function with the same name. Then they clash and you get mysterious warnings.</p>\n\n<pre><code>$ cat ~/tmp/test.plx\nuse Test::Deep;\nuse List::Util qw(all);\n\n$ perl -w ~/tmp/test.plx\nSubroutine main::all redefined at /Users/schwern/perl5/perlbrew/perls/perl-5.20.2/lib/5.20.2/Exporter.pm line 66.\n at /Users/schwern/tmp/test.plx line 2.\nPrototype mismatch: sub main::all: none vs (&amp;@) at /Users/schwern/perl5/perlbrew/perls/perl-5.20.2/lib/5.20.2/Exporter.pm line 66.\n at /Users/schwern/tmp/test.plx line 2.\n</code></pre>\n\n<p>For this reason, exporting lots of functions is discouraged. For example, <a href=\"http://perldoc.perl.org/5.14.1/Exporter.html#Selecting-What-To-Export\">the Exporter documentation advises</a>...</p>\n\n<blockquote>\n  <p>Do not export method names!</p>\n  \n  <p>Do not export anything else by default without a good reason!</p>\n  \n  <p>Exports pollute the namespace of the module user. If you must export try to use @EXPORT_OK in preference to @EXPORT and avoid short or common symbol names to reduce the risk of name clashes.</p>\n</blockquote>\n\n<p>Unfortunately, some modules take this too far. <a href=\"https://metacpan.org/pod/Data::DPath\">Data::DPath</a> is a good example. It has a really clear main function, dpath(), which it should export by default. Otherwise it's basically useless.</p>\n\n<p>You can always turn off exporting with <code>use Some::Module ();</code>.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1537383068, "creation_date": 1470785751, "last_edit_date": 1537383068, "question_id": 38862056, "link": "https://stackoverflow.com/questions/38862056/why-does-a-function-name-have-to-be-specified-in-a-use-statement", "title": "Why does a function name have to be specified in a use statement?", "body": "<p>In <code>perl</code>, sometimes it is necessary to specify the function name in the <code>use</code> statement.</p>\n\n<p>For example:</p>\n\n<pre><code>use Data::DPath ('dpath');\n</code></pre>\n\n<p>will work but</p>\n\n<pre><code>use Data::DPath;\n</code></pre>\n\n<p>won't.</p>\n\n<p>Other modules don't need the function names specified, for example:</p>\n\n<pre><code>use WWW::Mechanize;\n</code></pre>\n\n<p>Why?</p>\n"}, {"tags": ["perl", "loops", "while-loop"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1470784475, "post_id": 38861004, "comment_id": 65087514, "body": "what if I want to store it in 3 different variables ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1470789545, "post_id": 38861004, "comment_id": 65088702, "body": "@nims Literally? Alright, I&#39;ll add something about that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1470790684, "post_id": 38861004, "comment_id": 65088932, "body": "@nims  Added an example, with comments."}, {"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1470797140, "post_id": 38861004, "comment_id": 65090243, "body": "perfect. thanks for the explanation. That was very helpful"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1470797384, "post_id": 38861004, "comment_id": 65090306, "body": "@nims  Great :).  Let me know if more explanation/clarification can be useful."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1470872585, "last_edit_date": 1495541687, "creation_date": 1470779379, "answer_id": 38861004, "question_id": 38860953, "link": "https://stackoverflow.com/questions/38860953/while-loop-to-execute-a-command-multiple-times-and-store-the-output-in-a-differe/38861004#38861004", "title": "while loop to execute a command multiple times and store the output in a different variable each time", "body": "<p>You can store output in an array</p>\n\n<pre><code>my @output;\n\nfor (1..3) {\n   my $cmd = '...';\n   push @output, scalar qx($cmd);\n}\n</code></pre>\n\n<p>Now elements of <code>@output</code> have the output of consecutive command runs. </p>\n\n<p>Note that <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\"><code>qx</code></a> (backticks) can return either a string with all lines of output from a command, or a list with lines of the output being the elements, depending on the context in which it is called.  </p>\n\n<pre><code>my @out = qx(ls -l .);  # @out elements have lines from output\nmy $out = qx(ls -l .);  # all lines from output are in string $out\n</code></pre>\n\n<p>Since <a href=\"http://perldoc.perl.org/functions/push.html\" rel=\"nofollow noreferrer\"><code>push</code></a> takes a list to push onto an array, the <em>list context</em> is imposed and (without the <code>scalar</code>) <code>qx</code> would return a list of lines from a command (when the output has more than one line). Thus each line would be added as a separate element to <code>@output</code>. But <a href=\"http://perldoc.perl.org/functions/scalar.html\" rel=\"nofollow noreferrer\"><code>scalar</code></a> forces the <em>scalar context</em> and then the whole output of each command goes into a string, which is added as a signle element. So we get an array with three elements, each being a (potentially multi-line) string. Thanks to <a href=\"https://stackoverflow.com/users/176646/thissuitisblacknot\">ThisSuitIsBlackNot</a> for a comment.</p>\n\n<p>How you are getting the output of a command is a different question. Here I've assumed that the \"<em>command</em>\" implies an external command which prints to its <code>STDOUT</code>, and I omit error checking.  It is better to run <code>qx</code> and capture its output, check for errors, and only then put output on the array. </p>\n\n<hr>\n\n<p>There is a specific requirement to assign to separate variables. One way</p>\n\n<pre><code>my ($out1, $out2, $out3);\n\nfor ($out1, $out2, $out3) {\n    my $cmd = '...';\n    $_ = qx($cmd);\n}\n</code></pre>\n\n<p>Here you have to explicitly list variable names, both to declare them and to loop over them. That doesn't make for very good code, since you have to list all variables, it is harder to keep track of things, and any changes that come have to be applied to multiple places.</p>\n\n<p>If you are thinking about constructing variable names on the fly, to avoid dealing with lists of variables, that means dealing with <a href=\"http://perldoc.perl.org/perlref.html#Symbolic-references\" rel=\"nofollow noreferrer\"><code>symbolic references</code></a> -- and you don't want to do that. A lot has been said against it over time and it is a very clearly discouraged practice.  See, for example, <a href=\"https://stackoverflow.com/questions/1298035/how-do-i-use-symbolic-references-in-perl\"><code>this post</code></a>. For one thing, <code>use strict</code> doesn't allow it.</p>\n\n<p>If you insist on having names, you could use a hash with key names built at runtime</p>\n\n<pre><code>my %out;\n\nfor (1..3) {\n    my $cmd = '...';\n    my $key = 'o' . $_;  # name keys as 'o1', 'o2', etc\n    $out{$key} = qx($cmd);\n}\n\nfor (sort keys %out) {\n    print \"$_ =&gt; $out{$_}\\n\";\n}\n</code></pre>\n\n<p>Note that you again have to make up those specific key names and keep track of them.</p>\n\n<p>I'd advise to use an array, if at all possible. When you process that you can always assign to a named variable as you loop over it, for example. Or, better, to reconsider the design that leads to this need.</p>\n"}], "owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 38861004, "answer_count": 1, "score": 0, "last_activity_date": 1470872585, "creation_date": 1470779131, "question_id": 38860953, "link": "https://stackoverflow.com/questions/38860953/while-loop-to-execute-a-command-multiple-times-and-store-the-output-in-a-differe", "title": "while loop to execute a command multiple times and store the output in a different variable each time", "body": "<p>I want to execute a command thrice, and store the output of the command execution in a different variable each time.  The below code is to store it in the same variable each time. How do i store in different variable ?  </p>\n\n<pre><code>   int $i=0;\n   while ( $i&lt; 3 ) {\n    $a = ( \" command gets executed her \" );\n    $i = $i+1 ;\n   } \n</code></pre>\n\n<p>I want the output to be  stored in  three  different variables say $a $ b and $ c.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1470776101, "post_id": 38860209, "comment_id": 65084538, "body": "The variable that is being looked at here is: <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-filehandles\" rel=\"nofollow noreferrer\"><code>$.</code></a> which represents the current line number for the last filehandle accessed. Note: you can find it in the section about variables for filehandles."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1470776129, "post_id": 38860209, "comment_id": 65084552, "body": "<a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Range-Operators</a>"}], "answers": [{"comments": [{"owner": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "edited": false, "score": 0, "creation_date": 1470835226, "post_id": 38860836, "comment_id": 65110645, "body": "OOOOHHHH I didn&#39;t know Perl would automatically use $. here. I always thought that Perl would default to $_ if there wasn&#39;t a variable declared. This is cooooool stuff. Thanks man"}], "tags": [], "owner": {"reputation": 34922, "user_id": 586873, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/11ba1f932f0af556969448ffba230d9a?s=128&d=identicon&r=PG", "display_name": "Grzegorz Szpetkowski", "link": "https://stackoverflow.com/users/586873/grzegorz-szpetkowski"}, "is_accepted": true, "score": 4, "last_activity_date": 1470778881, "last_edit_date": 1470778881, "creation_date": 1470778559, "answer_id": 38860836, "question_id": 38860209, "link": "https://stackoverflow.com/questions/38860209/how-does-the-range-operator-work-with-constants-like-in-print-if-2-4/38860836#38860836", "title": "How does the range operator work with constants, like in `print if 2..4`?", "body": "<p>There is certain amount of magic between range operator and <code>$.</code> built-in variable, which is described in following sentence from <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">perlop</a> (emphasis mine):</p>\n\n<blockquote>\n  <p>If <strong>either</strong> operand of scalar <code>\"..\"</code> is a <strong>constant expression</strong>, that\n  operand is considered true if it is equal (<code>==</code> ) to the current input\n  line number (the <code>$.</code> variable).</p>\n</blockquote>\n\n<p>Essentially, the <code>$.</code> is a number of processed line (starting by one), which is compared with range. You may obtain the same result using named variable simply as:</p>\n\n<pre><code>while (my $line = &lt;$fh&gt;) {\n   print $line if 2..4;\n}\n</code></pre>\n\n<p>or if your prefer to write full-fledged if statement, there is an equaivalent form:</p>\n\n<pre><code>while (my $line = &lt;$fh&gt;) {\n    if (2..4) {\n        print $line;\n    }\n}\n</code></pre>\n\n<p>The complete, self-contained solution may be written as:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nwhile (my $line = &lt;DATA&gt;) {\n    print $line if 2..4;\n}\n\n__DATA__\none\ntwo\nthree\nfour\nfive\n</code></pre>\n\n<p>yielding output as:</p>\n\n<pre><code>two\nthree\nfour\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1470780218, "last_edit_date": 1470780218, "creation_date": 1470778560, "answer_id": 38860837, "question_id": 38860209, "link": "https://stackoverflow.com/questions/38860209/how-does-the-range-operator-work-with-constants-like-in-print-if-2-4/38860837#38860837", "title": "How does the range operator work with constants, like in `print if 2..4`?", "body": "<p>From <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">Range operators</a>,</p>\n\n<blockquote>\n  <p>In scalar context, <code>\"..\"</code> returns a boolean value. The operator is bistable, like a flip-flop, and emulates the line-range (comma) operator of <strong>sed</strong>, <strong>awk</strong>, and various editors. Each <code>\"..\"</code> operator maintains its own boolean state, even across calls to a subroutine that contains it. It is false as long as its left operand is false. Once the left operand is true, the range operator stays true until the right operand is true, <em>AFTER</em> which the range operator becomes false again. It doesn't become false till the next time the range operator is evaluated. It can test the right operand and become false on the same evaluation it became true (as in <strong>awk</strong>), but it still returns true once. If you don't want it to test the right operand until the next evaluation, as in <strong>sed</strong>, just use three dots (<code>\"...\"</code>) instead of two. In all other regards, <code>\"...\"</code> behaves just like <code>\"..\"</code> does.</p>\n</blockquote>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>for my $i (1,2,3,4,5,6,7,8,7,6,5,4,3,2,1) {\n   printf(\"%d: %s\\n\",\n      $i,\n      ($i == 4) .. ($i == 6 || $i == 2) ? 'true' : 'false',\n   );\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1: false\n2: false\n3: false\n4: true\n5: true\n6: true\n7: false\n8: false\n7: false\n6: false\n5: false\n4: true\n3: true\n2: true\n1: false\n</code></pre>\n\n<ul>\n<li><code>($i == 4)</code> is when the operator starts returning true.</li>\n<li><code>($i == 6 || $i == 2)</code> is when the operator stops returning true.</li>\n</ul>\n\n<hr>\n\n<pre><code>if 2..4\n</code></pre>\n\n<p>is short for </p>\n\n<pre><code>if ($. == 2) .. ($. == 4)\n</code></pre>\n\n<p>which is short for</p>\n\n<pre><code>if !$in\n   ? do { $in = 1 if ($. == 2); $in }\n   : do { $in = 0 if ($. == 4); 1   }\n</code></pre>\n\n<p>And since <code>$.</code> usually increases monotonously, it's equivalent to</p>\n\n<pre><code>if $. &gt;= 2 &amp;&amp; $. &lt;= 4\n</code></pre>\n"}], "owner": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "accepted_answer_id": 38860836, "answer_count": 2, "score": 2, "last_activity_date": 1470780218, "creation_date": 1470775903, "last_edit_date": 1470776529, "question_id": 38860209, "link": "https://stackoverflow.com/questions/38860209/how-does-the-range-operator-work-with-constants-like-in-print-if-2-4", "title": "How does the range operator work with constants, like in `print if 2..4`?", "body": "<p>Let's say I have a file called text.txt that has this</p>\n\n<pre><code>one\ntwo\nthree\nfour\nfive\n</code></pre>\n\n<p>If I have this in a perl script</p>\n\n<pre><code>open($fh, '&lt;', text.txt) or die \"blah blah\";\nwhile(&lt;$fh&gt;){\n   print if 2..4;\n}\n</code></pre>\n\n<p>it will print two, three and four. How is that if statement comparing $_ with the range 2..4 in the background? In other words, If I use a different variable like $line instead of $_, what would I have to write that if comparison? </p>\n\n<pre><code>while(my $line = &lt;$fh&gt;){\n   print if........... 2..4   ?????????\n}\n</code></pre>\n\n<p>Thank you. I love Perl, but there are a few things that I can't understand how it does them in the background.</p>\n"}, {"tags": ["php", "perl", "html-escape-characters"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1470770873, "post_id": 38858890, "comment_id": 65081939, "body": "Instead of &quot;the micro-optimizer in me just feels like there must be a better way&quot;, consider: &quot;the [virtuously] lazy programmer in me wishes to avoid reinventing the wheel&quot;. Strive to find and use other/existing methods that have been written correctly."}, {"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1470771673, "post_id": 38858890, "comment_id": 65082397, "body": "@user2864740 Thank you for the sentiment but I certainly did try to find the proper existing method for quite some time, and there is certainly a plethora of information, but I was unsuccessful. Asking on SO is usually my final resort for all issues I have."}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1470781051, "post_id": 38858890, "comment_id": 65086563, "body": "Make sure SO is not the first resort: <a href=\"https://www.google.com/webhp?q=perl%20html%20encode\" rel=\"nofollow noreferrer\">google.com/webhp?q=perl%20html%20encode</a>"}], "answers": [{"comments": [{"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1470771222, "post_id": 38858916, "comment_id": 65082115, "body": "Hmm, I could have sworn that this is a solution which I tried and received server errors but I literally started Perl yesterday so the error was probably in some other section of code. Anyways, this solution works for me and is error-free. Thanks!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1470770838, "creation_date": 1470770838, "answer_id": 38858916, "question_id": 38858890, "link": "https://stackoverflow.com/questions/38858890/perl-equivalent-to-htmlentities/38858916#38858916", "title": "Perl equivalent to htmlentities()", "body": "<p>Use <a href=\"http://search.cpan.org/perldoc?HTML::Entities\" rel=\"nofollow\">HTML::Entities</a>'s <code>encode_entities</code>. (It obviously won't be 100% equivalent since the beavhour of <code>htmlentities</code> varies based on the arguments passed to it.)</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470771118, "post_id": 38858925, "comment_id": 65082060, "body": "That&#39;s the inverse of what the OP asked for"}, {"owner": {"reputation": 484, "user_id": 6666017, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Xeyin.jpg?s=128&g=1", "display_name": "StackB00m", "link": "https://stackoverflow.com/users/6666017/stackb00m"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470771232, "post_id": 38858925, "comment_id": 65082123, "body": "Since the above answer already mentioned about encoding, i have edited my answer to decode so user knows both !  see above my answer was edited ."}, {"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1470771444, "post_id": 38858925, "comment_id": 65082255, "body": "Good Perl examples seem to be a hit or miss so I would like to allow this answer for future Googlers :-) +1"}, {"owner": {"reputation": 484, "user_id": 6666017, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Xeyin.jpg?s=128&g=1", "display_name": "StackB00m", "link": "https://stackoverflow.com/users/6666017/stackb00m"}, "edited": false, "score": 0, "creation_date": 1470771534, "post_id": 38858925, "comment_id": 65082314, "body": "Thats the spirit that develops us !. Peace"}], "tags": [], "owner": {"reputation": 484, "user_id": 6666017, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Xeyin.jpg?s=128&g=1", "display_name": "StackB00m", "link": "https://stackoverflow.com/users/6666017/stackb00m"}, "is_accepted": false, "score": 0, "last_activity_date": 1470770885, "creation_date": 1470770885, "answer_id": 38858925, "question_id": 38858890, "link": "https://stackoverflow.com/questions/38858890/perl-equivalent-to-htmlentities/38858925#38858925", "title": "Perl equivalent to htmlentities()", "body": "<p>Hey what you asked for can be achieved by using decode_entities()</p>\n\n<p>Example code:-</p>\n\n<pre><code>use HTML::Entities; my $html = \"Hey &amp;amp; &amp;lt\"; print decode_entities($html), \"\\n\";\n</code></pre>\n\n<p>Use this as a reference :- <a href=\"http://search.cpan.org/~gaas/HTML-Parser-3.72/lib/HTML/Entities.pm\" rel=\"nofollow\">Reference</a></p>\n"}], "owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 38858916, "answer_count": 2, "score": -1, "last_activity_date": 1470774929, "creation_date": 1470770725, "last_edit_date": 1470774929, "question_id": 38858890, "link": "https://stackoverflow.com/questions/38858890/perl-equivalent-to-htmlentities", "title": "Perl equivalent to htmlentities()", "body": "<p>I am new to Perl.</p>\n\n<p>I am trying to duplicate some/most of the functionality of PHP's <a href=\"http://php.net/manual/en/function.htmlentities.php\" rel=\"nofollow\"><code>htmlentities()</code></a></p>\n\n<p>So far I have this:</p>\n\n<pre><code>$str = '\" \\' &lt; &gt;';\n\n$str = join('&amp;lt;', split('&lt;', $str));\n$str = join('&amp;gt;', split('&gt;', $str));\n$str = join('&amp;quot;', split('\"', $str));\n$str = join('&amp;#039;', split(\"'\", $str));\n\nprint $str;\n</code></pre>\n\n<p>It is working for my needs but the micro-optimizer in me just feels like there must be a better way.</p>\n\n<p>I am terrible with regex and so many Perl tutorials deal with custom or non-standard libraries or it just seems this way due to my inexperience.</p>\n\n<p><code>perl -v</code> produces:</p>\n\n<blockquote>\n  <p>v5.10.1</p>\n</blockquote>\n"}, {"tags": ["perl", "if-statement", "switch-statement"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1470770761, "post_id": 38858850, "comment_id": 65081873, "body": "Related: <a href=\"http://stackoverflow.com/q/2630547/5830574\">stackoverflow.com/q/2630547/5830574</a>"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1470771369, "post_id": 38858850, "comment_id": 65082206, "body": "That answers my first question, thanks! It&#39;s also nice to know that <code>given</code> has more capabilities."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470774357, "post_id": 38858850, "comment_id": 65083679, "body": "<code>given</code> used to set lexical <code>$_</code>, but that doesn&#39;t exist anymore. /// <code>given</code>&#39;s expression is evaluated in scalar context, whereas <code>for</code> loops over the returned scalars. /// Something tells me there&#39;s a difference in the flow-control keywords allowed in <code>given</code> vs <code>for</code>."}], "answers": [{"comments": [{"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1470775483, "post_id": 38859736, "comment_id": 65084226, "body": "Great answer. Instinct told me <code>if-elsif-else</code> is slower than dedicated statements and modules for case handling, so if it&#39;s not slower at all, why even create these modules in the first place?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 2, "creation_date": 1470775617, "post_id": 38859736, "comment_id": 65084310, "body": "It&#39;s just syntax. For example, <code>given ($x) { when ([qw( a b c )]) { ... } when ([qw( d e f )]) { ... } ... }</code> vs <code>if (grep { $x eq $_ } qw( a b c )) { ... } elsif (grep { $x eq $_ } qw( d e f )) { ... }  ...</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1470774411, "last_edit_date": 1495540109, "creation_date": 1470774062, "answer_id": 38859736, "question_id": 38858850, "link": "https://stackoverflow.com/questions/38858850/switch-vs-given-vs-for-when-vs-if-elsif-else-in-perl/38859736#38859736", "title": "switch vs. given vs. for-when vs. if-elsif-else in Perl", "body": "<p>Perl's <code>when</code> and smart-matching are experimental, and they <a href=\"https://stackoverflow.com/q/16927024/589924\">won't</a> become features without backward-incompatible changes. You should not use these.</p>\n\n<p><a href=\"http://search.cpan.org/perldoc?Switch\" rel=\"nofollow noreferrer\">Switch.pm</a> is a source filter, so it can produce incorrect error message when something's wrong. It also suffers from the same problems as smart-matching. You should not use this.</p>\n\n<p>So, of the options you listed, only one is viable, and it's not any slower at all!</p>\n"}], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1707, "favorite_count": 0, "accepted_answer_id": 38859736, "answer_count": 1, "score": 3, "last_activity_date": 1470774411, "creation_date": 1470770588, "last_edit_date": 1470771196, "question_id": 38858850, "link": "https://stackoverflow.com/questions/38858850/switch-vs-given-vs-for-when-vs-if-elsif-else-in-perl", "title": "switch vs. given vs. for-when vs. if-elsif-else in Perl", "body": "<p>In one of the last scripts I wrote, I needed a behavior similar to a switch statement behavior. A simple search of an equivalent in Perl led me to <code>use Switch</code>. At the beginning, all was fine and working, until everything just crashed with errors that are not very descriptive (it happened on a switch statement that had cases with regex, but strangely it didn't happen on other switch statements that are alike).</p>\n\n<p><b>EDIT:</b> the code that crashed was looking like this one:</p>\n\n<pre><code>switch ($var) {\n    case /pattern1/ {...}\n    case /pattern2/ {...}\n    ...\n    else {...}\n}\n</code></pre>\n\n<p>That led me to abandon the use of <code>Switch.pm</code> and search for an alternative.</p>\n\n<p>I found <code>given</code> and <code>for-when</code> and of course there's always the straightforward and somewhat naive <code>if-elsif-else</code>.</p>\n\n<ol>\n<li>Why is <code>Switch.pm</code> so unstable?</li>\n<li>It seems <code>given</code> and <code>for-when</code> have a similar structure, but I guess there's a difference (because both exist). What is it?</li>\n<li>Is <code>if-elsif-else</code> significantly slower than the other options?</li>\n</ol>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1470775185, "post_id": 38859521, "comment_id": 65084073, "body": "@user3781528  I&#39;ve edited the original answer considerably (also removing a bug in an edge case)"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1470775609, "post_id": 38859521, "comment_id": 65084304, "body": "Yes, I saw that. Thank you, your code works great. if I wanted to write all of the lines back to a new array, including the &quot;blank row found&quot; lines. do I push each line into a new array at the end of the foreach loop?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1470775732, "post_id": 38859521, "comment_id": 65084370, "body": "@user3781528  Yes, it is probably simplest to <code>push</code>.  Wherever it does a <code>print</code> replace with <code>push</code>."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1470775822, "post_id": 38859521, "comment_id": 65084411, "body": "It would push lines back into the same array? interesting, thank you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1470775827, "post_id": 38859521, "comment_id": 65084413, "body": "@user3781528  Please note that my test case uses spaces in fact"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1470775988, "post_id": 38859521, "comment_id": 65084487, "body": "@user No, I meant what your comment said -- make a new array.  I meant to say that you do that where the <code>print</code>s are. So where it says <code>print &quot;blank ...&quot;</code> you&#39;d say <code>push @new_file, &#39;blank ...&#39;;</code> and where it goes <code>print $line</code> you say <code>push @new_file, $line;</code>.  (You <i>could</i> manipulate the original array, too.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1470776935, "post_id": 38859521, "comment_id": 65084909, "body": "@user3781528  I added that to the answer. Also, I now see that I didn&#39;t address the comment above properly (?) so you may have not seen it!"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1470777047, "post_id": 38859521, "comment_id": 65084952, "body": "I saw the comment and was able to implement the changes. Thank you so much for your help!!!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1470779203, "post_id": 38859521, "comment_id": 65085854, "body": "@Borodin  Thank you for the early edit, fixing the <code>split</code> pattern"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470783990, "post_id": 38859521, "comment_id": 65087396, "body": "@zdim: You&#39;re welcome. I always prefer slashes <code>&#47;\\t&#47;</code> for split as in truth it is a regex pattern."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470861695, "post_id": 38859521, "comment_id": 65127255, "body": "@Borodin I do use <code>&#39;&#39;</code> sometimes, to distinguish from regex, provide a clue that it isn&#39;t ... which got me in trouble here.  Should probably abandon that."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1475049872, "last_edit_date": 1495540108, "creation_date": 1470773161, "answer_id": 38859521, "question_id": 38858832, "link": "https://stackoverflow.com/questions/38858832/identify-and-insert-the-missing-rows/38859521#38859521", "title": "identify and insert the missing rows", "body": "<p><strong>Note</strong> &nbsp;  The best version is reached at the end.  It is a few lines of code.</p>\n\n<hr>\n\n<p>If I get it right, you have a separate reference list of key-words that need to be in the second field in a row, with rows in that order.  One way to find skipped rows is to iterate through both lists. </p>\n\n<p>That approach can be picky and error prone but here it can be made easier by removing the front element from the reference list each time. Then you always need to compare the current line against the first element in the reference list. Here is the basic logic, with the better version further below.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen my $cnv_fh, '&lt;', $CNV_file or die \"Can't open $CNV_file: $!\";\nmy @CNVarray = &lt;$cnv_fh&gt;;\nclose $cnv_fh;\n# chomp(@CNVarray);\n\nmy @ref_list = qw(MTOR JAK1 ...);\n\nforeach my $line (@CNVarray) \n{\n    if ( (split /\\t/, $line)[1] eq $ref_list[0] ) {  # good row\n        shift @ref_list;\n        print $line, \"\\n\";\n    }\n    else {\n        shift @ref_list;\n        print \"blank row found\\n\";\n        while ( (split /\\t/, $line)[1] ne $ref_list[0] ) {\n            # multiple missing rows? keep going through the reference list\n            shift @ref_list;\n            print \"blank row found\\n\";\n    }\n }\n # We are done with the array, but are there more reference items?\n print \"blank row found\\n\" for @ref_list;\n</code></pre>\n\n<p>The <code>while</code> loop is needed since multiple rows can be missing (in a row), so we need to get to the place in the reference list that does match the current row. A few notes on the code. </p>\n\n<ul>\n<li>The filehandle read <code>&lt;...&gt;</code> in the list context returns a list with all lines from the resource. </li>\n<li>The <a href=\"http://perldoc.perl.org/functions/chop.html\" rel=\"nofollow noreferrer\"><code>chop</code></a> in the original code removes the last <em>character</em>, probably not what you want. It is the <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\"><code>chomp</code></a> that removes the new line (or really <code>$/</code>).</li>\n</ul>\n\n<p>Tested against the reference list <code>qw(AA BB CC DD EE)</code> with the input file (note spaces not tabs)</p>\n\n<pre>\n1 AA first\n2 BB more\n5 EE last\n</pre>\n\n<p>To test with this, change <code>/\\t/</code> to <code>/\\s/</code> (what will then work for tabs as well).  It prints</p>\n\n<pre>\n1 AA first\n2 BB more\nblank row found\nblank row found\n5 EE last\n</pre>\n\n<p>With further elements added to the <code>@ref_list</code> (<code>FF</code> etc) further <code>blank ...</code> lines are printed.</p>\n\n<hr>\n\n<p>The code above can be simplified.  Lines are also collected in an array, then printed to a new file.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen my $cnv_fh, '&lt;', $CNV_file or die \"Can't open $CNV_file: $!\";\nmy @CNVarray = &lt;$cnv_fh&gt;;\nclose $cnv_fh;\nchomp(@CNVarray);\n\nmy @ref_list = qw(MTOR JAK1 ...);\nmy @new_lines;\n\nforeach my $line (@CNVarray) \n{\n    while ( (split /\\t/, $line)[1] ne $ref_list[0] ) {\n        shift @ref_list;\n        push @new_lines, 'blank row found';\n        print \"blank row found\\n\";\n    }\n    shift @ref_list;\n    push @new_lines, $line;         \n    print $line, \"\\n\";\n}\n# There may be more items remaining on the reference list\nfor (@ref_list) {\n    push @new_lines, 'blank row found';\n    print \"blank row found\\n\" \n}\n\n\nmy $filled_file = 'skipped_rows_added.txt';\nopen my $out_fh, '&gt;', $filled_file  or die \"Can't open $filled_file: $!\";\nprint $out_fh \"$_\\n\" for @new_lines;\nclose $out_fh;\n</code></pre>\n\n<p>This behaves the same way with the test input above. It can be simplified further yet</p>\n\n<pre><code>foreach my $line (@CNVarray) \n{\n    while ( (split /\\t/, $line)[1] ne shift @ref_list ) {\n        print \"blank row found\\n\";\n    }\n    print $line, \"\\n\";\n}\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/shift.html\" rel=\"nofollow noreferrer\"><code>shift</code></a> returns the removed element, which is what need be tested against.</p>\n\n<hr>\n\n<p>A note on <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> syntax, following the code update (<code>\"\\t\"</code> changed to <code>/\\t/</code>).  </p>\n\n<p>When invoked as <code>split /$patt/, $str</code>, the <code>$patt</code> is used as a <em>regular expression</em>, with a few very minor differences.  So with <code>/\\s/</code> the string is split on white space as understood in regex, thus including the tab, for example. </p>\n\n<p>With double quotes <code>\"...\"</code> used instead of <code>/.../</code>, what is inside is interpolated first which may result in surprises, in particular with escapes. (Unless it is used as <code>m\"...\"</code> in which case it is merely a regex with <code>\"</code> being the delimiter.)</p>\n\n<p>In the above code for the tab one can use <code>/\\t/</code>, or <code>\"\\t\"</code>, or <code>'\\t'</code> (or <code>/\\s/</code> which includes yet other types of space).  The <code>\"\\t\"</code> was changed to <code>/\\t/</code>, which is better in my opinion, being clearer (it <em>is</em> a regex, no questions asked). Thanks to <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> for the early edit and for the comment.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1470783633, "creation_date": 1470783633, "answer_id": 38861747, "question_id": 38858832, "link": "https://stackoverflow.com/questions/38858832/identify-and-insert-the-missing-rows/38861747#38861747", "title": "identify and insert the missing rows", "body": "\n\n<p>I would write this</p>\n\n<p>The input file is read into a hash, keyed by the value of the second column. Then the hash is read back and printed in the specified sequence of keys</p>\n\n<p>Most of the code is finding the input file and setting up the sequence of keys. The core of the program is only three lines of code</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse File::Spec::Functions 'catfile';\n\nmy $home = '/data';\n\nmy @run_folder = grep -f, glob catfile($home, 'test_all_runs', '*', 'CNV.txt');\ndie \"No CNV file found\" unless @run_folder;\n\nmy $cnv_file = $run_folder[-1];\nprint \"The file is $cnv_file\\n\\n\";\n\nmy @sequence = qw/\n    MTOR    JAK1    NRAS    DDR2    MYCN    ALK\n    IDH1    ERBB4   RAF1    CTNNB1  PIK3CA  DCUN1D1\n    FGFR3   PDGFRA  KIT     APC     FGFR4   ROS1\n    ESR1    EGFR    CDK6    MET     SMO     BRAF\n    FGFR1   MYC     JAK2    GNAQ    RET     FGFR2\n    HRAS    CCND1   BIRC2   KRAS    ERBB3   CDK4\n    AKT1    MAP2K1  IDH2    NF1     ERBB2   BRCA1\n    GNA11   MAP2K2  JAK3    AR      MED12\n/;\n\nopen my $fh, '&lt;', $cnv_file or die qq{Unable to open \"$cnv_file\" for input: $!};\n\nmy %data;\n$data{ (split)[1] } = $_ while &lt;$fh&gt;;\n\nprint $data{$_} // \"no data for $_\\n\" for @sequence;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>The file is /data/test_all_runs/XXX/CNV.txt\n\nchr1:11174372   MTOR    42939   42939   7\nchr1:65310459   JAK1    1948    1948    3\nno data for NRAS\nno data for DDR2\nno data for MYCN\nno data for ALK\nno data for IDH1\nno data for ERBB4\nno data for RAF1\nno data for CTNNB1\nno data for PIK3CA\nno data for DCUN1D1\nno data for FGFR3\nno data for PDGFRA\nno data for KIT\nno data for APC\nno data for FGFR4\nno data for ROS1\nno data for ESR1\nno data for EGFR\nno data for CDK6\nno data for MET\nno data for SMO\nno data for BRAF\nno data for FGFR1\nno data for MYC\nno data for JAK2\nno data for GNAQ\nno data for RET\nno data for FGFR2\nno data for HRAS\nno data for CCND1\nno data for BIRC2\nno data for KRAS\nno data for ERBB3\nno data for CDK4\nno data for AKT1\nno data for MAP2K1\nno data for IDH2\nno data for NF1\nno data for ERBB2\nno data for BRCA1\nno data for GNA11\nno data for MAP2K2\nno data for JAK3\nno data for AR\nno data for MED12\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "accepted_answer_id": 38859521, "answer_count": 2, "score": 0, "last_activity_date": 1475049872, "creation_date": 1470770526, "question_id": 38858832, "link": "https://stackoverflow.com/questions/38858832/identify-and-insert-the-missing-rows", "title": "identify and insert the missing rows", "body": "<p>An array is populated from a tab delimited text (5 column) file that sometimes is missing rows. I need to identify and insert the missing rows. Inserting a string \"blank row found\" is sufficient.</p>\n\n<p>Here is an example of data from file:</p>\n\n<pre><code>chr1:11174372   MTOR    42939   42939   7\nchr1:65310459   JAK1    1948    1948    3\n</code></pre>\n\n<p>I\u2019ve created an array of elements that identifies the second column of each row that should be present in the file, in the order each row should be present. However, I'm not sure how to continue from here, since I'm unable to install any Perl modules on the server (e.g. Arrays::Utils). </p>\n\n<p>Is comparing arrays the correct way of approaching this problem?  Perhaps there is a straightforward solution, that doesn\u2019t require installation of any CPAN modules? Thanks for your help.</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\nuse File::Basename;\n#use Arrays::Utils;\n\nopendir my $dir, \"/data/test_all_runs\" or die \"Cannot open directory: $!\";\nmy @run_folder = readdir $dir;\nclosedir $dir;\n\nmy $run_folder = pop @run_folder; print \"The folder is\".$run_folder.\"\\n\";\n\nmy $home=\"/data/\";                                                     \n\nmy $CNV_file = $home.\"test_all_runs/\".$run_folder.\"/CNV.txt\";\n\nmy @CNVarray;\nopen(TXT2, \"$CNV_file\");\n        while (&lt;TXT2&gt;){\n            push (@CNVarray, $_);   \n            }\n    close(TXT2);\n\nforeach (@CNVarray){\n    chop($_);\n}\n\nmy @array1 = map { $_-&gt;[1] } @CNVarray;\n\nmy @array2 = qw(MTOR JAK1 NRAS DDR2 MYCN ALK IDH1 ERBB4 RAF1 CTNNB1 PIK3CA DCUN1D1 FGFR3 PDGFRA KIT APC FGFR4 ROS1 ESR1 EGFR CDK6 MET SMO BRAF FGFR1 MYC JAK2 GNAQ RET FGFR2 HRAS CCND1 BIRC2 KRAS ERBB3 CDK4 AKT1 MAP2K1 IDH2 NF1 ERBB2 BRCA1 GNA11 MAP2K2 JAK3 AR MED12);\n\n    my %array1_hash;\n    my %array2_hash;\n\n    # Create a hash entry for each element in @array1\n    for my $element ( @array1 ) {\n       $array1_hash{$element} = @array1;\n    }\n\n    # Same for @array2: This time, use map instead of a loop\n    map { $array_2{$_} = 1 } @array2;\n\n    for my $entry ( @array2 ) {\n\n            if ( not $array1_hash{$entry} ) {\n                return 1;  #Entry in @array2 but not @array1: Differ\n\n        }else {\n           return 0;   #Arrays contain the same elements\n        }\n    #if ( keys %array_hash1 != keys %array_hash2 ) {\n       #return 1;   #Arrays differ\n    }\n</code></pre>\n"}, {"tags": ["perl", "perl-module", "cpan", "www-mechanize"], "comments": [{"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470779374, "post_id": 38856970, "comment_id": 65085931, "body": "When I first configured cpan, I did not give it permission to write in the system&#39;s perl installation. Rather, it created a new folder: /users/(me)/Perl5, where I have been installing modules so far."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470780576, "post_id": 38856970, "comment_id": 65086390, "body": "Then you shouldn&#39;t need <code>sudo</code>."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470782958, "post_id": 38856970, "comment_id": 65087116, "body": "@Sinan&#220;n&#252;r Ah ok, I was just using a command I found on the internet for installing modules. I get the same result with or without <code>sudo</code>. More importantly, is this error (<code>t&#47;live&#47;wikipidia.t</code>) something I can force install over safely? (Also, how would I force install using this command?)"}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470818146, "post_id": 38856970, "comment_id": 65098853, "body": "The module error matrix shows no problem with OSX <a href=\"http://www.cpantesters.org/distro/W/WWW-Mechanize.html#WWW-Mechanize-1.78\" rel=\"nofollow noreferrer\">cpantesters.org/distro/W/WWW-Mechanize.html#WWW-Mechanize-1.&zwnj;&#8203;78</a> It must be a problem with the local configuration. Try to open some webserver in that port, 51623, and see if you can access it. Maybe it&#39;s closed by a firewall or otherwise restricted, but my point is that you should check your local configuration, it does not seem to be a general problem."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1470821549, "post_id": 38856970, "comment_id": 65101238, "body": "It looks like you&#39;re having problems with networking generally. The mech test suite is now quite extensive and try access live websites (wikipedia) as well as running and checking things on your local machine (the localhost:51623 stuff). If you use a firewall/proxy you may have to provide credentials to allow access to such things. You can install via the normal method, skipping the tests if you want, however since you likely want to use the module with sites it&#39;s more likely you want to resolve the general issue"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6242095, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LXl7rB9NOVA/AAAAAAAAAAI/AAAAAAAAABI/3zHzdcO5Yk0/photo.jpg?sz=128", "display_name": "Carneir&#227;o Mont&#234;s", "link": "https://stackoverflow.com/users/6242095/carneir%c3%a3o-mont%c3%aas"}, "is_accepted": false, "score": -3, "last_activity_date": 1470764473, "creation_date": 1470764473, "answer_id": 38857239, "question_id": 38856970, "link": "https://stackoverflow.com/questions/38856970/installing-wwwmechanize-error-geting-localhost-cant-connect-to-localhost/38857239#38857239", "title": "Installing WWW::Mechanize \u2013 Error GETing localhost: Can&#39;t connect to localhost", "body": "<p>If you don't need IP v6, remove it from your 'hosts' file. But to me doesn't make any sense CPAN are trying to get modules from 'localhost' because of this. Anyways, remove that 'ip v6 thing' from your host and try again, please!</p>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "is_accepted": true, "score": 0, "last_activity_date": 1470864889, "creation_date": 1470864889, "answer_id": 38883962, "question_id": 38856970, "link": "https://stackoverflow.com/questions/38856970/installing-wwwmechanize-error-geting-localhost-cant-connect-to-localhost/38883962#38883962", "title": "Installing WWW::Mechanize \u2013 Error GETing localhost: Can&#39;t connect to localhost", "body": "<p>The (only) failed test I get when installing without force failed due to the certificate authenticity of the wikipedia page that was being used. After force installing WWW::Mechanize, the module works fine.</p>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 904, "favorite_count": 0, "accepted_answer_id": 38883962, "answer_count": 2, "score": 0, "last_activity_date": 1532617230, "creation_date": 1470763411, "last_edit_date": 1532617230, "question_id": 38856970, "link": "https://stackoverflow.com/questions/38856970/installing-wwwmechanize-error-geting-localhost-cant-connect-to-localhost", "title": "Installing WWW::Mechanize \u2013 Error GETing localhost: Can&#39;t connect to localhost", "body": "<p>I am using the command </p>\n\n<pre><code>sudo perl -MCPAN -e 'install WWW::Mechanize' \n</code></pre>\n\n<p>to try and install WWW::Mechanize on macOS, and kept getting the error </p>\n\n<pre><code>1/13 Error GETing http://localhost:51623/: Can't connect to localhost:51623 (Connection refused) at t/local/referer.t line 39. \n</code></pre>\n\n<p>I somewhat fixed this by changing the file /etc/hosts by adding a -v6 at the end of the second instance of the word \"localhost\". /etc/hosts now reads </p>\n\n<pre><code>127.0.0.1   localhost\n255.255.255.255 broadcasthost\n::1             localhost-v6 \n</code></pre>\n\n<p>Now, at the end of the installation process, I get this Test Summary Report:</p>\n\n<pre><code>t/live/wikipedia.t     (Wstat: 512 Tests: 1 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nFiles=58, Tests=608, 69 wallclock secs ( 0.25 usr  0.11 sys +  8.25 cusr  1.28 csys =  9.89 CPU)\nResult: FAIL\nFailed 1/58 test programs. 0/608 subtests failed.\nmake: *** [test_dynamic] Error 255\n  OALDERS/WWW-Mechanize-1.78.tar.gz\n  /usr/bin/make test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports OALDERS/WWW-Mechanize-1.78.tar.gz\nRunning make install\n  make test had returned bad status, won't install without force\n</code></pre>\n\n<p>How can I install WWW::Mechanize?</p>\n"}, {"tags": ["perl", "lwp", "lwp-useragent"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470757767, "post_id": 38854289, "comment_id": 65074728, "body": "For your use-case, <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow noreferrer\">metacpan.org/pod/WWW::Mechanize</a> makes more sense than using LWP::UserAgent. It&#39;s a subclass that makes clicking easier and basically behaves like a browser without JavaScript support."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470757833, "post_id": 38855251, "comment_id": 65074775, "body": "To make your answer better, you should include that full statement from the code, and show how what to do instead."}], "tags": [], "owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "is_accepted": false, "score": 1, "last_activity_date": 1470763348, "last_edit_date": 1470763348, "creation_date": 1470757699, "answer_id": 38855251, "question_id": 38854289, "link": "https://stackoverflow.com/questions/38854289/perl-lwp-submitting-a-query-error-400-url-must-be-absolute/38855251#38855251", "title": "Perl LWP: Submitting a Query - Error 400 URL must be absolute", "body": "<p>$url on line ~10 in single quotes, which means that it is the character sequence $ u r l instead of the value of the variable $url.</p>\n\n<pre><code>'$url',\n</code></pre>\n\n<p>to </p>\n\n<pre><code>$url,\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1470761294, "creation_date": 1470761294, "answer_id": 38856392, "question_id": 38854289, "link": "https://stackoverflow.com/questions/38854289/perl-lwp-submitting-a-query-error-400-url-must-be-absolute/38856392#38856392", "title": "Perl LWP: Submitting a Query - Error 400 URL must be absolute", "body": "<p>The code</p>\n\n<pre><code>'$url'\n</code></pre>\n\n<p>produces the 4-character string</p>\n\n<pre><code>$url\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>http://genome.ucsc.edu/cgi-bin/hgBlat?hgsid=502819467_w6Oj12MTSqOIIJuSjAKsza4x9yeA&amp;command=start\n</code></pre>\n\n<p>Simply replace</p>\n\n<pre><code>'$url'\n</code></pre>\n\n<p>with </p>\n\n<pre><code>$url\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4800, "favorite_count": 0, "accepted_answer_id": 38856392, "answer_count": 2, "score": 0, "last_activity_date": 1470763348, "creation_date": 1470754885, "last_edit_date": 1592644375, "question_id": 38854289, "link": "https://stackoverflow.com/questions/38854289/perl-lwp-submitting-a-query-error-400-url-must-be-absolute", "title": "Perl LWP: Submitting a Query - Error 400 URL must be absolute", "body": "<p>I need to create a script that accesses a website, submits a query, 'clicks' on one of the hits, and sends back the url of the result. What I'm stuck on is submitting the query in the first place. Here is what I have:</p>\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\nmy $entry = $ARGV[0] or die;\nmy $url = 'http://genome.ucsc.edu/cgi-bin/hgBlat?hgsid=502819467_w6Oj12MTSqOIIJuSjAKsza4x9yeA&amp;command=start';\nmy $browser = LWP::UserAgent-&gt;new;\nmy $response = $browser-&gt;post(\n  '$url',\n  [\n    'sequence'  =&gt; $entry,\n    'search' =&gt; 'submit'\n  ],\n);\ndie &quot;Error: &quot;, $response-&gt;status_line\n unless $response-&gt;is_success;\n</code></pre>\n<p>I keep getting this error: Error: 400 URL must be absolute at LWPtest.pl line 14. Can someone explain what this means, and how I should fix the problem? Also how do I approach the &quot;'clicks' on one of the hits, and sends back the url of the result&quot; bit?</p>\n<h1>EDIT:</h1>\n<p>I found this on the website in question:</p>\n<blockquote>\n<p>When including a Genome Browser URL, please remove the hgsid parameter. It is an internally-used parameter that expires after about a day.</p>\n</blockquote>\n<p>Not sure if this is part of the problem; it may become a problem after &quot;about a day&quot;.</p>\n"}, {"tags": ["perl", "path-variables", "opendds"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 4, "creation_date": 1470754924, "post_id": 38854253, "comment_id": 65072692, "body": "just add <code>--compiler=gcc</code>, should work"}, {"owner": {"reputation": 93, "user_id": 3235290, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/725324c3e100706166ba9d4db2a8dfb3?s=128&d=identicon&r=PG&f=1", "display_name": "user3235290", "link": "https://stackoverflow.com/users/3235290/user3235290"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1470755220, "post_id": 38854253, "comment_id": 65072910, "body": "Bingo, thank you. Feel free to post as an answer and I will accept, if not I will answer myself to close the question in ~1 day."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470760964, "post_id": 38854253, "comment_id": 65076836, "body": "First instruction: &quot;Ensure that your environment has: Visual Studio, Perl&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 3, "last_activity_date": 1470760432, "creation_date": 1470760432, "answer_id": 38856142, "question_id": 38854253, "link": "https://stackoverflow.com/questions/38854253/perl-script-lacking-path-for-compiler-what-compiler/38856142#38856142", "title": "perl script lacking path for compiler - what compiler?", "body": "<p>I suppose that windows does not list <code>gcc</code> as a naturally installed compiler.</p>\n\n<p>On linux it would have worked right away.</p>\n\n<p>So just add <code>--compiler=gcc</code> if <code>gcc</code> is in the path, it should work.</p>\n"}], "owner": {"reputation": 93, "user_id": 3235290, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/725324c3e100706166ba9d4db2a8dfb3?s=128&d=identicon&r=PG&f=1", "display_name": "user3235290", "link": "https://stackoverflow.com/users/3235290/user3235290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 38856142, "answer_count": 1, "score": 1, "last_activity_date": 1470760432, "creation_date": 1470754785, "question_id": 38854253, "link": "https://stackoverflow.com/questions/38854253/perl-script-lacking-path-for-compiler-what-compiler", "title": "perl script lacking path for compiler - what compiler?", "body": "<p>When following the openDDS <a href=\"http://opendds.org/quickstart/GettingStartedWindows.html\" rel=\"nofollow\">install guide</a> I attempt to run <code>configure</code> from within the command prompt but receive this output:</p>\n\n<p>C:\\Users\\Supervisor\\Desktop\\opendds>C:\\Users\\Supervisor\\Desktop\\opendds\\configure.cmd</p>\n\n<pre><code>Can't find a compiler, set PATH or run this script with the --compiler option.\nFor Microsoft Visual C++, run this script from the Visual Studio Command Prompt.\nStopped at configure line 336.\n</code></pre>\n\n<p>This error relates to this section of code within the perl script (as seen by the line number): </p>\n\n<pre><code>if ($opts{'compiler'}) {\n    my $standard = 0;\n    for my $stdcomp (@{$platforminfo{$opts{'host'}}-&gt;{'compilers'}}) {\n        $standard = 1 if $opts{'compiler'} eq $stdcomp;\n    }\n    $opts{'nonstdcompiler'} = 1 unless $standard;\n}\nelse {\n    print \"Auto-detecting compiler\\n\" if $opts{'verbose'};\n    for my $stdcomp (@{$platforminfo{$opts{'host'}}-&gt;{'compilers'}}) {\n        my $path = which($stdcomp);\n        if ($path) {\n            print \"Found $stdcomp at: $path\\n\" if $opts{'verbose'};\n            $opts{'compiler'} = $stdcomp;\n            last;\n        }\n    }\n    if (!defined $opts{'compiler'}) {\n        die \"Can't find a compiler, set PATH or run this script with the \".\n        \"--compiler option.\\n\" . ($slash eq '\\\\' ? \"  For Microsoft Visual C++, \".\n        \"run this script from the Visual Studio \".\n        \"Command Prompt.\\n\" : '') . \"Stopped\";\n    }\n}\n</code></pre>\n\n<p>What compiler does it want? I have <code>gcc</code> and <code>make</code> working - they are on the system path.</p>\n"}, {"tags": ["xml", "perl", "xslt"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470758431, "post_id": 38852721, "comment_id": 65075247, "body": "Are you sure it&#39;s <code>exsl:document</code> and not <code>xsl:document</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470760207, "post_id": 38852721, "comment_id": 65076351, "body": "@Sobrique: It&#39;s a bunch of non-standard extensions to XSLT 1.0. Take a look at <a href=\"http://exslt.org/exsl/elements/document/index.html\" rel=\"nofollow noreferrer\">exslt.org</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1470760104, "creation_date": 1470760104, "answer_id": 38856047, "question_id": 38852721, "link": "https://stackoverflow.com/questions/38852721/exsldocument-in-xslif-block/38856047#38856047", "title": "exsl:document in xsl:if block", "body": "<p>The main problem here is that you're defining <code>dotransformation</code> as a <em>result tree fragment</em> and not a boolean value. Only an empty fragment is <em>false</em>, so your test <code>$dotransformation = true()</code> is always <em>true</em></p>\n\n<p>You have a few options. The most obvious is to put a real boolean value into <code>dotransformation</code> like this</p>\n\n<pre><code>&lt;xsl:variable name=\"dotransformation\" select=\"$isfile = 'true'\" /&gt;\n</code></pre>\n\n<p>then your existing test will work, or you may say just</p>\n\n<pre><code>&lt;xsl:if test=\"$dotransformation\"&gt;\n</code></pre>\n\n<p>Alternatively, of course, you may write simply</p>\n\n<pre><code>&lt;xsl:if test=\"$isfile = 'true'\"&gt;\n</code></pre>\n\n<p>and forget about the intermediate variable</p>\n\n<p>Another issue is that the <code>match=\"Author\"</code> template is executed only because you have</p>\n\n<pre><code>&lt;xsl:apply-templates select=\"/Article/Authors/Author\" /&gt;\n</code></pre>\n\n<p>within the conditional section. If that section is disabled then there is nothing to cause anything beneath the root node to be processed and, as it stands, neither file will be generated</p>\n\n<p>The solution is to put a simple recursion template in there that will cause the processor to follow through all the layers of elements</p>\n\n<pre><code>&lt;xsl:template match=\"*\"&gt;\n    &lt;xsl:apply-templates select=\"*\" /&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n"}], "owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 38856047, "answer_count": 1, "score": 0, "last_activity_date": 1470760104, "creation_date": 1470750757, "question_id": 38852721, "link": "https://stackoverflow.com/questions/38852721/exsldocument-in-xslif-block", "title": "exsl:document in xsl:if block", "body": "<p>Here is a toned down version of my use case.</p>\n\n<p>1) I have a transformation xsl file which is as follows</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n    xmlns:xalan=\"http://xml.apache.org/xslt\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:exsl=\"http://exslt.org/common\"\n    extension-element-prefixes=\"exsl\"&gt;\n    &lt;xsl:output method=\"xml\" version=\"1.0\" encoding=\"UTF-8\" indent=\"yes\" media-type=\"text/xml\"/&gt;\n\n    &lt;xsl:param name=\"isfile\"/&gt;\n\n    &lt;xsl:variable name=\"dotransformation\"&gt;\n        &lt;xsl:choose&gt;\n            &lt;xsl:when test=\"$isfile = 'true'\"&gt; \n                &lt;xsl:value-of select=\"true()\"/&gt;\n            &lt;/xsl:when&gt;\n            &lt;xsl:otherwise&gt;\n                &lt;xsl:value-of select=\"false()\"/&gt;\n            &lt;/xsl:otherwise&gt;\n        &lt;/xsl:choose&gt;\n    &lt;/xsl:variable&gt;\n\n    &lt;xsl:template match=\"/\"&gt;\n        &lt;xsl:if test=\"$dotransformation = true()\"&gt;\n            &lt;exsl:document href = \"outputfile1.xml\" method=\"xml\" version=\"1.0\" encoding=\"UTF-8\" indent=\"yes\"&gt;                  \n                Article:- &lt;xsl:value-of select=\"/Article/Title\"/&gt;\n                Authors:- &lt;xsl:apply-templates select=\"/Article/Authors/Author\"/&gt;\n            &lt;/exsl:document&gt;\n        &lt;/xsl:if&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=\"Author\"&gt;\n        &lt;exsl:document href = \"outputfile2.xml\" method=\"xml\" version=\"1.0\" encoding=\"UTF-8\" indent=\"yes\"&gt;                  \n            always Generate this output!! &lt;xsl:value-of select=\".\" /&gt;\n        &lt;/exsl:document&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>2) I have an example file which needs to transformed and output needs to generated to <code>output1.xml</code> and <code>output2.xml</code> depending on condition in the xsl file</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;?xml-stylesheet type=\"xsl\" href=\"trans.xsl\"?&gt;\n&lt;Article&gt;\n  &lt;Title&gt;My Article&lt;/Title&gt;\n  &lt;Authors&gt;\n    &lt;Author&gt;Mr. Foo&lt;/Author&gt;\n    &lt;Author&gt;Mr. Bar&lt;/Author&gt;\n  &lt;/Authors&gt;\n  &lt;Body&gt;This is my article text.&lt;/Body&gt;\n&lt;/Article&gt;\n</code></pre>\n\n<p>3) Here is the perl script that I use for transformation</p>\n\n<pre><code>#!/usr/local/bin/perl -w\n\nuse strict;\nuse warnings;\nuse File::Path;\nuse File::Spec;\nuse File::Basename;\nuse XML::LibXSLT;\nuse XML::LibXML;\n\nmy $isfile;\n\nmy ($xmlfile,$xsltfile,$samplefile) = qw/ Example.xml trans.xsl sample.xml/;\n\nif(-f $samplefile)\n{\n    $isfile = \"true\";\n    print \"File is present\\n\";\n}\nelse\n{\n    $isfile = \"false\";\n    print \"File is absent\\n\";\n}\n\nmy %args = ( \"isfile\" =&gt; $isfile ); \nmy $xslt = XML::LibXSLT-&gt;new;\nmy $stylesheet = $xslt-&gt;parse_stylesheet_file($xsltfile);\nmy $results  = \n$stylesheet-&gt;transform_file($xmlfile,XML::LibXSLT::xpath_to_string(%{args}));\n0;\n</code></pre>\n\n<p>From my perl script, I am supplying a parameter named <code>$isfile</code> which checks if certain other file <code>sample.xml</code> is available in the directory and sets its value accordingly. </p>\n\n<p>I receive that parameter my xsl transformation template file and I create a new variable <code>dotransformation</code> out of it.</p>\n\n<p>I need to generate <code>output1.xml</code> only when <code>$dotransformation</code> has a true value otherwise it should generate <code>output2.xml</code>.</p>\n\n<p>However, even when <code>sample.xml</code> is not present in the directory, <code>exsl:document</code> is generating both <code>output1.xml</code> and <code>output2.xml</code> instead of just <code>output2.xml</code>. </p>\n\n<p>Why is this happening? Does <code>exsl:document</code> not work with <code>xsl:if</code> ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470736658, "post_id": 38847310, "comment_id": 65059812, "body": "I don&#39;t understand the desired output. Do you mean unique over the whole file? How large is the file?"}, {"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470738169, "post_id": 38847310, "comment_id": 65060707, "body": "The file contains around 400000 lines &amp; around 60 different values in col1"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1470743134, "post_id": 38847310, "comment_id": 65063919, "body": "What if two rows have <code>col2 .. col5</code> = <code>a b c d</code> but <code>col6</code> is <code>x</code> in one row and <code>y</code> in the other?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1470753775, "last_edit_date": 1470753775, "creation_date": 1470743594, "answer_id": 38849990, "question_id": 38847310, "link": "https://stackoverflow.com/questions/38847310/perl-convert-lines-to-columns-when-values-match/38849990#38849990", "title": "perl convert lines to columns when values match", "body": "<p>This solution does two passes of the file. It has some special treatment for <code>__DATA__</code> that you can remove if you work with files.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\nuse List::MoreUtils 'uniq';\nuse Fcntl 'SEEK_SET';\n\n# grab the header and split up the headings\nchomp( my $header = &lt;DATA&gt; );\nmy @fields = split /\\s+/, $header;\n\n# we need this because __DATA__ is not a regular filehandle\nmy $data_start = tell DATA;\n\n# this name is bad, because we don't know what this the column really contains\nmy %col6;\n\n# first pass\nwhile ( my $row = &lt;DATA&gt; ) {\n    chomp $row;\n    my @cols = split /\\s+/, $row;\n\n    # in a hash with col2 to col5 as key, use col1 as key and col6 as value\n    $col6{ join q{::}, @cols[ 1 .. 4 ] }-&gt;{ $cols[0] } = $cols[5];\n}\n\n# reset DATA to beginning, this is not needed if you work with a file\nseek DATA, $data_start, SEEK_SET;\n\n# get the additional headings from the col1 mapping\nmy @new_fields = sort +uniq map { keys %{ $col6{$_} } } keys %col6;\n\n# output them\nsay join \"\\t\", @fields, @new_fields;\n\n# second pass\nwhile ( my $row = &lt;DATA&gt; ) {\n    chomp $row;\n    my @cols = split /\\s+/, $row;\n\n    # go through all the new headings and either print the value of the col6, or a dash\n    say join \"\\t\", @cols, map { $col6{ join q{::}, @cols[ 1 .. 4 ] }-&gt;{$_} || q{-} } @new_fields;\n}\n\n__DATA__\ncol1    col2    col3    col4    col5    col6\nT1      a       b       c       d       x\nT5      a       b       c       d       x\nT3      a       b       c       e       y\nT50     e       f       g       h       y\nT2      e       f       g       h       y\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>col1    col2    col3    col4    col5    col6    T1  T2  T3  T5  T50\nT1  a   b   c   d   x   x   -   -   x   -\nT5  a   b   c   d   x   x   -   -   x   -\nT3  a   b   c   e   y   -   -   y   -   -\nT50 e   f   g   h   y   -   y   -   -   y\nT2  e   f   g   h   y   -   y   -   -   y\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 0, "last_activity_date": 1470743806, "creation_date": 1470743806, "answer_id": 38850059, "question_id": 38847310, "link": "https://stackoverflow.com/questions/38847310/perl-convert-lines-to-columns-when-values-match/38850059#38850059", "title": "perl convert lines to columns when values match", "body": "<p>You need to break down the problem:</p>\n\n<ul>\n<li><p>Identify all unique combinations for <code>col2 .. col6</code> and associate the corresponding <code>col1</code> value with them. This screams for a hash:</p>\n\n<pre><code>my ( %unique, %label);\nwhile ( &lt;$table1&gt; ) {\n    my @record = split;\n    my $id = $record[0];\n    my $label = $record[5];\n    my $result = join '~', @record[1..4];\n    push @{ $unique{$result} }, $id;\n    $label{$id} = $label;\n}\n</code></pre></li>\n<li><p>Generate the output matrix as per your requirement</p></li>\n</ul>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 38849990, "answer_count": 2, "score": 0, "last_activity_date": 1470753775, "creation_date": 1470735867, "last_edit_date": 1470743343, "question_id": 38847310, "link": "https://stackoverflow.com/questions/38847310/perl-convert-lines-to-columns-when-values-match", "title": "perl convert lines to columns when values match", "body": "<p>I have a tab-delimited text file with the following structure</p>\n\n<pre><code>col1    col2    col3    col4    col5    col6\nT1      a       b       c       d       x\nT5      a       b       c       d       x \nT3      a       b       c       e       y\nT50     e       f       g       h       y\nT2      e       f       g       h       y\nT60     a       b       c       d       y\n</code></pre>\n\n<p>*If the values in col2, col3, col4 &amp; col5 are the same for two or more lines, I want the value of col6 for all the matching lines to be put in an extra column that has the value of col1 in the header. \nSo in this case lines 1 and 2 should be considered as the same, because there values for col2,3,4,5 are the same (abcd). The same holds for lines 4 and 5 (efgh)</p>\n\n<p>*If the values in col2, col3, col4 &amp; col5 are unique, then it's just the value of the col6 for that one line that should be put in a new column.\nSo in this case line 3 is unique, because none of the other lines has abce as values for col2,3,4,5.</p>\n\n<p>So the output should look like this.</p>\n\n<pre><code>col1    col2    col3    col4    col5    col6    T1    T2    T3    T5    T50  T60\nT1      a       b       c       d       x       x     -     -     x     -    y\nT5      a       b       c       d       x       x     -     -     x     -    y\nT3      a       b       c       e       y       -     -     y     -     -    -\nT50     e       f       g       h       y       -     y     -     -     y    -\nT2      e       f       g       h       y       -     y     -     -     y    -\nT60     a       b       c       d       y       x     -     -     x     -    y\n</code></pre>\n\n<p>I want to do this in perl. But I have no idea how to do this. Should I work with a hash to store the values of col2-col3-col4-col5? Below is just the start of the script to open input and output files</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\n\nopen(my $table1,'&lt;', \"input.txt\") or die \"$! - [$input]\"; #input file \nopen(my $table2, '+&gt;', \"output.txt\") || die (\"Can't write new file: $!\"); #output file\n</code></pre>\n"}, {"tags": ["perl", "xpath"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470736175, "post_id": 38847096, "comment_id": 65059448, "body": "The <code>Name</code> elements in your sample data are identical, and nither of them match your XPath expression."}, {"owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470736440, "post_id": 38847096, "comment_id": 65059633, "body": "my bad. was tinkering with code before I edited. Have updated the right value now"}], "answers": [{"comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 2, "creation_date": 1470746491, "post_id": 38847975, "comment_id": 65066313, "body": "Instead of <code>Name&#47;text()=&#39;...&#39;</code>, I&#39;d recommend <code>Name=&#39;...&#39;</code> which compares the <a href=\"https://www.w3.org/TR/xpath/#element-nodes\" rel=\"nofollow noreferrer\">string value</a> of the element instead of the contents of its first text child. I&#39;d also use a single predicate with multiple expressions <code>and</code>ed together: <code>&#47;data&#47;row[Name=&#39;...&#39; and Term=&#39;...&#39; and OnTheRun=&#39;Y&#39;]</code>. I think it&#39;s a little clearer and it should be slightly more performant."}, {"owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1470747525, "post_id": 38847975, "comment_id": 65066995, "body": "thanks Borodin and nwellhof.. this is very helpful!! I also just realised that I could have tested my xpath at <a href=\"http://www.freeformatter.com/xpath-tester.html\" rel=\"nofollow noreferrer\">freeformatter.com/xpath-tester.html</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1470748912, "post_id": 38847975, "comment_id": 65067978, "body": "@nwellnhof: I agree that it&#39;s better to omit <code>text()</code> in this case, but the use of <code>and</code> is a cosmetic preference. Adding further predicates saves several characters and I think it makes it more readable."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1470748733, "last_edit_date": 1470748733, "creation_date": 1470737578, "answer_id": 38847975, "question_id": 38847096, "link": "https://stackoverflow.com/questions/38847096/right-xpath-expression-for-xml-when-using-xmllibxml/38847975#38847975", "title": "Right XPath expression for XML when using XML::LibXML", "body": "\n\n<p>XPath expressions are very like Linux file paths. If you remove all the predicates from what you have written, you get</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/data/row/Name/../Term/../OnTheRun\n</code></pre>\n\n<p>You can see here that, from the <code>row</code> element, you're descending into <code>Name</code> and going back up one level, then into <code>Term</code> and going back up one level, and finally into <code>OnTheRun</code>, where the expression stops</p>\n\n<p>This is why you see only the value of the <code>OnTheRun</code> element, and a simple fix would be to append another <code>..</code> path step to get back up to the <code>row</code> element that you want to access</p>\n\n<p>This XPath expression works fine</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/data/row/Name[text()='iTraxx SovX Westn Europe']/../Term[text()='5Y']/../OnTheRun[text()='Y']/..\n</code></pre>\n\n<p>but it is very awkward to read</p>\n\n<p>I think the neatest way to do this is to apply multiple predicates to the main <code>/data/row</code> selector, like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/data/row[Name=\"iTraxx SovX Westn Europe\"][Term=\"5Y\"][OnTheRun=\"Y\"]\n</code></pre>\n\n<p>Here's a full program that uses it to process you sample data</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse open IO  =&gt; \":encoding(iso-8859-1)\";\n\nuse XML::LibXML;\n\nmy $doc = XML::LibXML-&gt;load_xml( location =&gt; 'indices_composites.xml' );\n\nmy @nodes = $doc-&gt;findnodes('/data/row[Name=\"iTraxx SovX Westn Europe\"][Term=\"5Y\"][OnTheRun=\"Y\"]');\n\nprintf \"%d node%s found:\\n\\n\", scalar @nodes, @nodes == 1 ? '' : 's';\n\nprint $nodes[0], \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>1 node found:\n\n&lt;row&gt;\n    &lt;CompositePrice&gt;1.010227784212584&lt;/CompositePrice&gt;\n    &lt;CompositeSpread&gt;0.002568273865609903&lt;/CompositeSpread&gt;\n    &lt;Date&gt;2016-08-05&lt;/Date&gt;\n    &lt;Depth&gt;4&lt;/Depth&gt;\n    &lt;Heat&gt;0.0201994587386602&lt;/Heat&gt;\n    &lt;IndexID&gt;ITRAXX-SOVXWES8V1-5Y&lt;/IndexID&gt;\n    &lt;Maturity&gt;2017-12-20&lt;/Maturity&gt;\n    &lt;ModelPrice&gt;1.0103988929051526&lt;/ModelPrice&gt;\n    &lt;ModelSpread&gt;0.002445016658588964&lt;/ModelSpread&gt;\n    &lt;Name&gt;iTraxx SovX Westn Europe&lt;/Name&gt;\n    &lt;OnTheRun&gt;Y&lt;/OnTheRun&gt;\n    &lt;REDCode&gt;5C769MAO9&lt;/REDCode&gt;\n    &lt;RequestKey&gt;iTraxx SovX Westn Europe|5Y|Y&lt;/RequestKey&gt;\n    &lt;Series&gt;8&lt;/Series&gt;\n    &lt;ShortName/&gt;\n    &lt;Term&gt;5Y&lt;/Term&gt;\n    &lt;Version&gt;1&lt;/Version&gt;\n  &lt;/row&gt;\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 1, "accepted_answer_id": 38847975, "answer_count": 1, "score": -1, "last_activity_date": 1470748733, "creation_date": 1470735355, "last_edit_date": 1592644375, "question_id": 38847096, "link": "https://stackoverflow.com/questions/38847096/right-xpath-expression-for-xml-when-using-xmllibxml", "title": "Right XPath expression for XML when using XML::LibXML", "body": "<p>I have an issue in arriving at the right xpath to query data from xml. I use use <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow noreferrer\"><code>XML::LibXML</code></a> to do this</p>\n<h3>The XML</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;\n&lt;data&gt;\n  &lt;header&gt;\n    &lt;date&gt;2016-08-07&lt;/date&gt;\n    &lt;name&gt;Indices Composites&lt;/name&gt;\n    &lt;version&gt;1.1a&lt;/version&gt;\n  &lt;/header&gt;\n  &lt;row&gt;\n    &lt;CompositePrice&gt;1.010227784212584&lt;/CompositePrice&gt;\n    &lt;CompositeSpread&gt;0.002568273865609903&lt;/CompositeSpread&gt;\n    &lt;Date&gt;2016-08-05&lt;/Date&gt;\n    &lt;Depth&gt;4&lt;/Depth&gt;\n    &lt;Heat&gt;0.0201994587386602&lt;/Heat&gt;\n    &lt;IndexID&gt;ITRAXX-SOVXWES8V1-5Y&lt;/IndexID&gt;\n    &lt;Maturity&gt;2017-12-20&lt;/Maturity&gt;\n    &lt;ModelPrice&gt;1.0103988929051526&lt;/ModelPrice&gt;\n    &lt;ModelSpread&gt;0.002445016658588964&lt;/ModelSpread&gt;\n    &lt;Name&gt;iTraxx SovX Westn Europe&lt;/Name&gt;\n    &lt;OnTheRun&gt;Y&lt;/OnTheRun&gt;\n    &lt;REDCode&gt;5C769MAO9&lt;/REDCode&gt;\n    &lt;RequestKey&gt;iTraxx SovX Westn Europe|5Y|Y&lt;/RequestKey&gt;\n    &lt;Series&gt;8&lt;/Series&gt;\n    &lt;ShortName&gt;&lt;/ShortName&gt;\n    &lt;Term&gt;5Y&lt;/Term&gt;\n    &lt;Version&gt;1&lt;/Version&gt;\n  &lt;/row&gt;\n  &lt;row&gt;\n    &lt;CompositePrice&gt;1.0208723593556004&lt;/CompositePrice&gt;\n    &lt;CompositeSpread&gt;0.006539233068666665&lt;/CompositeSpread&gt;\n    &lt;Date&gt;2016-08-05&lt;/Date&gt;\n    &lt;Depth&gt;3&lt;/Depth&gt;\n    &lt;Heat&gt;0.0307106033333336&lt;/Heat&gt;\n    &lt;IndexID&gt;ITRAXX-SOVXWES8V1-10Y&lt;/IndexID&gt;\n    &lt;Maturity&gt;2022-12-20&lt;/Maturity&gt;\n    &lt;ModelPrice&gt;1.0219657857189512&lt;/ModelPrice&gt;\n    &lt;ModelSpread&gt;0.006361337372712667&lt;/ModelSpread&gt;\n    &lt;Name&gt;iTraxx SovX Westn Europe&lt;/Name&gt;\n    &lt;OnTheRun&gt;Y&lt;/OnTheRun&gt;\n    &lt;REDCode&gt;5C769MAO9&lt;/REDCode&gt;\n    &lt;RequestKey&gt;iTraxx SovX Westn Europe|10Y|Y&lt;/RequestKey&gt;\n    &lt;Series&gt;8&lt;/Series&gt;\n    &lt;ShortName&gt;&lt;/ShortName&gt;\n    &lt;Term&gt;10Y&lt;/Term&gt;\n    &lt;Version&gt;1&lt;/Version&gt;\n  &lt;/row&gt;\n&lt;/data&gt;\n</code></pre>\n<p>I need to filter based on the values of certain tags. The code is like below.</p>\n<pre><code>my $parser = XML::LibXML-&gt;new;\n\nmy $doc = $parser-&gt;parse_file($inputFile);\n\nmy @nodes = $doc-&gt;findnodes(&quot;/data/row/Name[text()='iTraxx SovX Westn Europe']/../Term[text()='5Y']/../OnTheRun[text()='Y']&quot;);\n\nprint &quot;@nodes \\n&quot;;\n</code></pre>\n<p>The output I get is</p>\n<pre><code>&lt;OnTheRun&gt;Y&lt;/OnTheRun&gt;\n</code></pre>\n<p>whereas I would like to get the entire node which satisfies the condition.</p>\n<p>Is the XPath expression right here ?</p>\n"}, {"tags": ["linux", "performance", "perl", "caching", "shared-memory"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1470734000, "post_id": 38846474, "comment_id": 65057859, "body": "Yes, it&#39;s called a &quot;database&quot;."}, {"owner": {"reputation": 119, "user_id": 5694610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3cdb2ef4205c9f91bbc9a25b4ce27866?s=128&d=identicon&r=PG&f=1", "display_name": "zakaria35", "link": "https://stackoverflow.com/users/5694610/zakaria35"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470735129, "post_id": 38846474, "comment_id": 65058709, "body": "i&#39;m using cache to reduce my dataBase overload."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1470739373, "post_id": 38846474, "comment_id": 65061476, "body": "Would placing your <code>&#47;tmp&#47;chifolder&#47;chaches</code> on a RAM disk (tmpfs) help?"}, {"owner": {"reputation": 119, "user_id": 5694610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3cdb2ef4205c9f91bbc9a25b4ce27866?s=128&d=identicon&r=PG&f=1", "display_name": "zakaria35", "link": "https://stackoverflow.com/users/5694610/zakaria35"}, "edited": false, "score": 0, "creation_date": 1470743297, "post_id": 38846474, "comment_id": 65064033, "body": "it looks like a good idea,   but i never used &#39;tmpfs&#39;.    i ll try to findout how to use a folder in RAM diskand and give it a try"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1470747887, "post_id": 38846474, "comment_id": 65067247, "body": "@zakaria35 For a simple try you could use <code>sudo mount -t tmpfs none &#47;tmp&#47;chifolder&#47;chaches</code> This reserves max. 50% of RAM for the ramdisk. But: first come, first serve, i.e. if you only have 20 % free RAM, then the ramdisk will only benefit from these 20%."}, {"owner": {"reputation": 119, "user_id": 5694610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3cdb2ef4205c9f91bbc9a25b4ce27866?s=128&d=identicon&r=PG&f=1", "display_name": "zakaria35", "link": "https://stackoverflow.com/users/5694610/zakaria35"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1471453932, "post_id": 38846474, "comment_id": 65356805, "body": "thanks @PerlDog, this works faster"}], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 5694610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3cdb2ef4205c9f91bbc9a25b4ce27866?s=128&d=identicon&r=PG&f=1", "display_name": "zakaria35", "link": "https://stackoverflow.com/users/5694610/zakaria35"}, "is_accepted": true, "score": 0, "last_activity_date": 1470763359, "creation_date": 1470763359, "answer_id": 38856954, "question_id": 38846474, "link": "https://stackoverflow.com/questions/38846474/perl-caching-data-in-shared-memory-ram/38856954#38856954", "title": "perl : caching data in shared memory (ram)", "body": "<p>thanks for youre help @PerlDog ,<br>\ni think that (<em>RAM disk ,tmpfs</em>) is what i needed,<br>\ni ll do more tests to know if the execution time is better and to make sure that i'm not using this the wrong way to avoid causing any troubles with the server...<br>\ni ll let you know the results</p>\n"}], "owner": {"reputation": 119, "user_id": 5694610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3cdb2ef4205c9f91bbc9a25b4ce27866?s=128&d=identicon&r=PG&f=1", "display_name": "zakaria35", "link": "https://stackoverflow.com/users/5694610/zakaria35"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "accepted_answer_id": 38856954, "answer_count": 1, "score": 0, "last_activity_date": 1470763359, "creation_date": 1470733674, "question_id": 38846474, "link": "https://stackoverflow.com/questions/38846474/perl-caching-data-in-shared-memory-ram", "title": "perl : caching data in shared memory (ram)", "body": "<p>i would like to know if it's possible to access a perl cached data from different scripts/crones ( using RAM, <strong>not the DISK</strong> ) <br>\ni was able to access shared cached data using perl's module 'CHI' with the driver <em>FastMmap</em> .<br>\nit works fine, but it does <em>too much reading/writing</em> on the disk which makes it slow,<br>\nUsing Ram cache drivers (like <em>Memory or RawMemory</em> ) is faster but the cache is visible only for the current process and it's child processes !</p>\n\n<p><strong>so is it possible to make cached data in the memory '<em>RAM</em>' accessible to foreign perl scripts ?!</strong></p>\n\n<p><em>for installing CHI and FastMmap on linux</em></p>\n\n<pre><code>sudo cpan -i CHI \nsudo cpan -i -f Cache::FastMmap\n</code></pre>\n\n<p>here is a small exemple,<br>execute it twice and it'll work fine unless you use other driver !</p>\n\n<pre><code>#!/usr/bin/perl\nuse CHI;\nmy $cache = CHI-&gt;new( driver =&gt; 'FastMmap',namespace =&gt; 'myApp' ,root_dir   =&gt; '/tmp/chifolder/chaches',cache_size =&gt; '5M');\n\nif( !defined $cache-&gt;get('data') ){\n        print \"#creating caches  !\\n\";\n        $cache-&gt;set( 'data' , \"some shared data\\n\" );\n}else{\n          print \"#caches already exists \\n\";\n}\nprint  $cache-&gt;get('data');\n</code></pre>\n\n<p>thanks in advance for your help.</p>\n"}, {"tags": ["perl", "getopt-long"], "answers": [{"comments": [{"owner": {"reputation": 2192, "user_id": 1984289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8439edb6b6125f42df7333c3fca61bd0?s=128&d=identicon&r=PG", "display_name": "Fazlin", "link": "https://stackoverflow.com/users/1984289/fazlin"}, "edited": false, "score": 0, "creation_date": 1470734729, "post_id": 38846715, "comment_id": 65058436, "body": "Thanks it worked. Yes i missed this part of the documentation."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2192, "user_id": 1984289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8439edb6b6125f42df7333c3fca61bd0?s=128&d=identicon&r=PG", "display_name": "Fazlin", "link": "https://stackoverflow.com/users/1984289/fazlin"}, "edited": false, "score": 2, "creation_date": 1470734978, "post_id": 38846715, "comment_id": 65058600, "body": "@Fazlin the <code>sub { ... }</code> creates what we call a <i>code reference</i> in Perl, or an <i><a href=\"https://en.wikipedia.org/wiki/Anonymous_function\" rel=\"nofollow noreferrer\">anonymous function</a></i> or <i>lambda function</i> in more general terms. It&#39;s basically <i>here is some code, you can run that when you want</i>. It does not get executed when those lines are encountered."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1470734278, "creation_date": 1470734278, "answer_id": 38846715, "question_id": 38846414, "link": "https://stackoverflow.com/questions/38846414/assign-values-to-same-variable-using-getoptlong/38846715#38846715", "title": "Assign values to same variable using Getopt::Long", "body": "<p>You were very close, but I think you slightly misread the <a href=\"https://metacpan.org/pod/Getopt::Long\">Getopt::Long documentation</a>. Any code that you want to run when an option is found needs to be in a subroutine.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse Getopt::Long;\n\nmy $op_type = \"\";\nmy @q_users;\n\nGetOptions (\n  'query'  =&gt; sub { $op_type = 'query' },\n  'create' =&gt; sub { $op_type = 'create' },\n  'modify' =&gt; sub { $op_type = 'modify' },\n  'delete' =&gt; sub { $op_type = 'delete' },\n  'user=s' =&gt; \\@q_users\n) or usage (\"Invalid options.\");\n\nprint \"operation : $op_type\\n\";\n</code></pre>\n\n<p>Note that I've just added <code>sub { ... }</code> around your existing <code>$op_type = '...'</code> code.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1470734472, "creation_date": 1470734472, "answer_id": 38846781, "question_id": 38846414, "link": "https://stackoverflow.com/questions/38846414/assign-values-to-same-variable-using-getoptlong/38846781#38846781", "title": "Assign values to same variable using Getopt::Long", "body": "<p><strong>Explanation of what your code does</strong></p>\n\n<p>You are misunderstanding the syntax. Let's add some parenthesis to clarify how Perl sees this code.</p>\n\n<pre><code>GetOptions(\n  'query'  =&gt; ( $op_type = \"query\"  ),\n  'create' =&gt; ( $op_type = \"create\" ),\n  'modify' =&gt; ( $op_type = \"modify\" ),\n  'delete' =&gt; ( $op_type = \"delete\" ),\n  'user=s' =&gt; \\@q_users\n) or usage (\"Invalid options.\");\n</code></pre>\n\n<p>It will first run the assignment operations inside the parens. Each of those return the value that is assigned to <code>$op_type</code>.</p>\n\n<pre><code>$ perl -e 'print $foo = \"bar\"'\nbar\n</code></pre>\n\n<p>Since all of them assign something to the same variable, the code is identical to this code.</p>\n\n<pre><code>GetOptions(\n  'query'  =&gt; \"query\",\n  'create' =&gt; \"create\",\n  'modify' =&gt; \"modify\",\n  'delete' =&gt; \"delete\",\n  'user=s' =&gt; \\@q_users\n) or usage (\"Invalid options.\");\n$op_type = \"delete\";\n</code></pre>\n\n<p><code>GetOptions</code> wants you to pass references to variables so it can assign values to the variables for you. But you are doing that only for <code>user</code> with <code>\\@q_users</code>. The rest of them is just strings.</p>\n\n<p>In the end, you are printing the value of <code>$op_type</code>, which always has the value of the last assignment. As we saw above, that's <em>delete</em>. It cannot be anything else, because <code>GetOptions</code> never gets a reference to <code>$op_type</code>, so it cannot assign.</p>\n"}], "owner": {"reputation": 2192, "user_id": 1984289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8439edb6b6125f42df7333c3fca61bd0?s=128&d=identicon&r=PG", "display_name": "Fazlin", "link": "https://stackoverflow.com/users/1984289/fazlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 38846715, "answer_count": 2, "score": 3, "last_activity_date": 1470734643, "creation_date": 1470733482, "question_id": 38846414, "link": "https://stackoverflow.com/questions/38846414/assign-values-to-same-variable-using-getoptlong", "title": "Assign values to same variable using Getopt::Long", "body": "<p>I was trying to write a small perl script to understand <code>Getopt::Long</code>.</p>\n\n<p>Below is the script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse Getopt::Long;\n\nmy $op_type = \"\";\nmy @q_users;\n\nGetOptions (\n  'query' =&gt; $op_type = \"query\",\n  'create' =&gt; $op_type = \"create\",\n  'modify' =&gt; $op_type = \"modify\",\n  'delete' =&gt; $op_type = \"delete\",\n  'user=s' =&gt; \\@q_users\n) or usage (\"Invalid options.\");\n\nprint \"operation : $op_type\\n\";\n</code></pre>\n\n<p>When i ran this script as shown below:</p>\n\n<pre><code>$ ./all_opt.pl --query\noperation : delete\n</code></pre>\n\n<p>I am assuming that am missing some kind of break statment in my program. I was expecting <code>operation : query</code> as the result.</p>\n\n<p>Please let me know what i am missing here.</p>\n"}, {"tags": ["perl", "elasticsearch", "kibana"], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 3475508, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5237ed5ee5b673a0716ff58c8787841d?s=128&d=identicon&r=PG&f=1", "display_name": "LogicalKip", "link": "https://stackoverflow.com/users/3475508/logicalkip"}, "edited": false, "score": 0, "creation_date": 1470815052, "post_id": 38855322, "comment_id": 65097058, "body": "Thank you, you reminded me I forgot to write something important : I actually delete the data before I start the process (see edited answer). Therefore doesn&#39;t the mapping step create the index, to which I then send the data ?"}, {"owner": {"reputation": 1550, "user_id": 43526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d9be261edc536870ebb2653f490f72f?s=128&d=identicon&r=PG", "display_name": "const314", "link": "https://stackoverflow.com/users/43526/const314"}, "reply_to_user": {"reputation": 526, "user_id": 3475508, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5237ed5ee5b673a0716ff58c8787841d?s=128&d=identicon&r=PG&f=1", "display_name": "LogicalKip", "link": "https://stackoverflow.com/users/3475508/logicalkip"}, "edited": false, "score": 0, "creation_date": 1470845603, "post_id": 38855322, "comment_id": 65118385, "body": "Does ES return correct mapping for your index when you perform GET request to <a href=\"http://localhost:9200/your-index-name?pretty=true\" rel=\"nofollow noreferrer\">localhost:9200/your-index-name?pretty=true</a> after your script completed? If so, I would try refreshing field list in Kibana for the index pattern. If this won&#39;t work, then maybe there are still old indices with the old mapping present that match the Kibana index pattern? Anyway, take a look at index templates I mentioned, since they will apply correct mappings on index creation and you won&#39;t need to modify mapping by yourself."}, {"owner": {"reputation": 526, "user_id": 3475508, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5237ed5ee5b673a0716ff58c8787841d?s=128&d=identicon&r=PG&f=1", "display_name": "LogicalKip", "link": "https://stackoverflow.com/users/3475508/logicalkip"}, "edited": false, "score": 0, "creation_date": 1470900351, "post_id": 38855322, "comment_id": 65139746, "body": "Still not sure why it didn&#39;t work before, but using automatic index templates did the trick. Thank you."}], "tags": [], "owner": {"reputation": 1550, "user_id": 43526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d9be261edc536870ebb2653f490f72f?s=128&d=identicon&r=PG", "display_name": "const314", "link": "https://stackoverflow.com/users/43526/const314"}, "is_accepted": true, "score": 1, "last_activity_date": 1470757886, "creation_date": 1470757886, "answer_id": 38855322, "question_id": 38846191, "link": "https://stackoverflow.com/questions/38846191/not-analyzed-in-mapping-is-ignored/38855322#38855322", "title": "not_analyzed in mapping is ignored", "body": "<p>Mappings for existing data cannot be updated. You need to create a new index with the correct mappings and reindex your documents into that index. Here is the link to ES docs: <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html#_updating_existing_mappings\" rel=\"nofollow\">https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html#_updating_existing_mappings</a></p>\n\n<p>You can also use index templates to apply mapping to newly created indices automatically: <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates.html\" rel=\"nofollow\">https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates.html</a></p>\n"}], "owner": {"reputation": 526, "user_id": 3475508, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5237ed5ee5b673a0716ff58c8787841d?s=128&d=identicon&r=PG&f=1", "display_name": "LogicalKip", "link": "https://stackoverflow.com/users/3475508/logicalkip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 38855322, "answer_count": 1, "score": 1, "last_activity_date": 1470815037, "creation_date": 1470732861, "last_edit_date": 1470815037, "question_id": 38846191, "link": "https://stackoverflow.com/questions/38846191/not-analyzed-in-mapping-is-ignored", "title": "not_analyzed in mapping is ignored", "body": "<p>TLDR : Some fields are analyzed even though the mapping says not_analyzed.</p>\n\n<p>I have several sets of data, each is sent to an Elasticsearch index based on the date included in the set (which gives index names like index-25012016). Some sets have the same date and therefore the same index.</p>\n\n<p>I use the following perl command to send the mapping to ES</p>\n\n<p><code>print  `curl -s -XPUT \"http://$ELASTIC_SEARCH_URL/$currentIndexName?pretty\" -d ' $mapping'`</code></p>\n\n<p>where $currentIndexName and $mapping are strings that respectively looks like <code>index-25012016</code> and </p>\n\n<pre><code>{\n    \"mappings\": {\n        \"myMappingType\": {\n            \"properties\": {\n                \"present\": {\n                    \"type\":\"boolean\"\n                },\n                \"records\": {\n                    \"type\":\"integer\"\n                },\n                \"batchID\": {\n                    \"type\":\"string\",\n                    \"index\":\"not_analyzed\"\n                },\n                \"version\": {\n                    \"type\":\"string\",\n                    \"index\":\"not_analyzed\"\n                },\n                \"date\": {\n                    \"type\":\"date\",\n                    \"format\":\"yyyy-MM-dd\"\n                },\n                \"packageCreationDate\": {\n                    \"type\":\"date\",\n                    \"format\":\"MM/dd/yyyy-HH:mm\"\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>with a few more fields.\nThis command is repeated for all sets, except for any $currentIndexName I have already done previously. \nWhen the command is run, the answer from ES is </p>\n\n<pre><code>{\n  \"acknowledged\" : true\n}\n</code></pre>\n\n<p>Whether this mapping step was skipped or achieved, I then send the data to ES with <code>`curl -s -XPOST \"$ELASTIC_SEARCH_URL/$currentIndexName/_bulk?pretty\" --data-binary \\@$outputFileName`;</code>\nwhere $outputFileName is the name of a json file.</p>\n\n<p>The problem is that even though I specify not_analyzed, in Kibana/Settings/Indices, the string fields are marked both analyzed and indexed, where I just want indexed. Therefore, for example, since the version field is the same for all (\"3.2.506 64-bit\"), a pie chart will show three equal slices of \"3.2.506\", \"64\" and \"bit\" instead of a whole unsliced \"3.2.506 64-bit\" pie. The boolean, number, date fields and meta-fields, though, are not analyzed. </p>\n\n<p>The index pattern in Kibana matches all those indexes (index-*) and uses date as the time-based event field.\nI tried to recreate the index pattern after the data is sent, it doesn't change anything.\nI'm on Windows 7 and don't use logstash.</p>\n\n<p>EDIT : Since I do a lot of testing at the moment, every time the script starts, I remove the data before iterating over the sets with\n    <code>print `curl -s -XDELETE \"http://localhost:9200/index-*?pretty`;</code>\nTherefore the script looks like :</p>\n\n<pre><code>Remove data  \nfor each set in allSets \n    mapping (if not already mapped in a previous iteration)  \n    send data to ES \n</code></pre>\n"}, {"tags": ["perl", "ssh"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1470743357, "post_id": 38845901, "comment_id": 65064069, "body": "Try add <code>use strict; use warnings;</code>. Make sure there are no warnings."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1470754423, "post_id": 38845901, "comment_id": 65072258, "body": "It could also be that your code works just fine. According to <a href=\"http://stackoverflow.com/q/12639615/2173773\">cygwin ssh gives \u201cKilled by signal 1\u201d on exit</a> it could be some kind of residual output when using a proxy command. This message could then safely be ignored or even silenced (see the link)."}], "answers": [{"tags": [], "owner": {"reputation": 92, "user_id": 6552041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e71ee113389b570b21fd6e2ead1fe22?s=128&d=identicon&r=PG&f=1", "display_name": "Devansh Modi", "link": "https://stackoverflow.com/users/6552041/devansh-modi"}, "is_accepted": false, "score": 1, "last_activity_date": 1470757016, "creation_date": 1470757016, "answer_id": 38855007, "question_id": 38845901, "link": "https://stackoverflow.com/questions/38845901/perl-ssh-error-killed-by-signal-1/38855007#38855007", "title": "Perl SSH error - Killed by signal 1", "body": "<p>You should add this option in your new() method call.  </p>\n\n<pre><code>kill_ssh_on_timeout =&gt; 0\n</code></pre>\n\n<p>If your code doesn't timeout now, then you know there is a connectivity issue.</p>\n\n<p>And for more help, just add this line to see all errors:</p>\n\n<pre><code>$Net::OpenSSH::debug = ~0;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5413854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b0ed89f6db1059d12cebe468228deb5?s=128&d=identicon&r=PG&f=1", "display_name": "Hayk Hovhannisyan", "link": "https://stackoverflow.com/users/5413854/hayk-hovhannisyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1319, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470757016, "creation_date": 1470732014, "last_edit_date": 1470743409, "question_id": 38845901, "link": "https://stackoverflow.com/questions/38845901/perl-ssh-error-killed-by-signal-1", "title": "Perl SSH error - Killed by signal 1", "body": "<p>I my trying to connect via SSH, and getting error message \"Killed by signal 1.\"</p>\n\n<p>This is my code.</p>\n\n<pre><code>use CGI;\nuse Net::OpenSSH;\n\nmy $machineCon = 'my-server';\nmy $username = 'my-username';\nmy $password = 'my-password';\n\n$ssh_obj = Net::OpenSSH-&gt;new(\n    $machineCon,\n    strict_mode =&gt; 0,\n    master_opts =&gt; [-o =&gt; \"StrictHostKeyChecking=no\"],\n    ctl_dir =&gt; \"/tmp/\",\n    timeout =&gt; 200,\n    strict_mode =&gt; 0,\n    user     =&gt; $username,\n    password =&gt; $password,\n    ssh_cmd =&gt; '/usr/bin/ssh'\n);\n\nif( !$ssh_obj-&gt;error )\n{\n    # Is my process running?\n    my $PROC = $ssh_obj-&gt;capture( \"pwd\" );\n    print $PROC;\n}\nelse\n{\n     print $ssh_obj-&gt;error\n}\n</code></pre>\n\n<p>I have looked many comments, but it is not help me.\nAny advice.\nThanks</p>\n"}, {"tags": ["perl", "trie"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1470745829, "post_id": 38842701, "comment_id": 65065839, "body": "If you look at the <a href=\"http://cpansearch.perl.org/src/AVIF/Tree-Trie-1.5/Trie.pm\" rel=\"nofollow noreferrer\">sources</a> of <code>Tree::Trie</code>, you&#39;ll see that the data are added to the trie as soon as you <code>add</code> them (you can see <code>add</code> calling <code>_add_internal</code>). And the documentation states as much."}], "answers": [{"comments": [{"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1470727868, "post_id": 38844518, "comment_id": 65054178, "body": "I want the database to be stored in trie format. Something like the database will be converted to trie structure which means database might be similar to a object file. In simple words is there a way where I can compile the database so that a trie structureed object file is generated which can be used for lookup."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 4, "last_activity_date": 1470727369, "creation_date": 1470727369, "answer_id": 38844518, "question_id": 38842701, "link": "https://stackoverflow.com/questions/38842701/create-a-trie-in-perl/38844518#38844518", "title": "Create a trie in perl", "body": "<p>If you look again at the synopsis in the <code>Tree::Trie</code> documentation that you linked to, you will see that the trie is only created once (<code>my($trie) = new Tree::Trie;</code> - although this should be written as <code>my $trie = Tree::Trie-&gt;new;</code> rather than using indirect object notation) and data is only added to it once (<code>$trie-&gt;add(...);</code>), and then the trie is used for multiple lookups (<code>my(@all) = $trie-&gt;lookup(\"\");</code> and <code>my(@ms)  = $trie-&gt;lookup(\"m\");</code>).</p>\n\n<p>The way to create the trie once and then use it for lookups, then, is to simply keep the <code>$trie</code> variable around (in scope) and use it for all your lookups instead of creating new <code>Tree::Trie</code> instances each time.</p>\n\n<p>If this answer isn't useful to you, please update your question to include a small, self-contained, runnable example program showing how you're using <code>Tree::Trie</code> and we can show you how to modify it so that the trie only gets built once.</p>\n"}], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1470751990, "creation_date": 1470720443, "last_edit_date": 1470751990, "question_id": 38842701, "link": "https://stackoverflow.com/questions/38842701/create-a-trie-in-perl", "title": "Create a trie in perl", "body": "<p>Objective is to create a trie data structure. I had seen <a href=\"http://search.cpan.org/~avif/Tree-Trie-1.5/Trie.pm\" rel=\"nofollow\"><code>Tree::Trie</code></a> and used it. It converts data into trie structure only after the file(database) is read. So this will make processing slow as each time a lookup is needed entire data is converted into trie.</p>\n\n<p>Is there a way where I can create a trie for one time and use it the trie structure for lookups.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1470719357, "post_id": 38842471, "comment_id": 65050116, "body": "Remove that <code>$</code> sign, for: <code>sprintf(&quot;%.1f lbs&quot;, ...)</code>. See <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\"><code>sprintf</code></a>."}, {"owner": {"reputation": 7279, "user_id": 1342470, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/84c1d5157acabf63e53136322bda723f?s=128&d=identicon&r=PG", "display_name": "verbose", "link": "https://stackoverflow.com/users/1342470/verbose"}, "edited": false, "score": 0, "creation_date": 1470719947, "post_id": 38842471, "comment_id": 65050294, "body": "what are you trying to print? The <code>$</code> needs an argument position before it, but you don&#39;t specify which argument."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470731567, "post_id": 38842540, "comment_id": 65056220, "body": "Changing the double-quotes to single-quotes is simpler and doesn&#39;t change the output."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470732655, "post_id": 38842540, "comment_id": 65056901, "body": "Its one of the way to avoid <code>$</code> symbol as variable and  I am not sure about the output requirement .I believe the questioner was interested about the value only."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470732829, "post_id": 38842540, "comment_id": 65057027, "body": "You might be right, as he accepted your answer. But you were guessing. I&#39;d always assume that the person asking the question knows what output they want and would give an answer that reproduces the original output over one that doesn&#39;t."}], "tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": true, "score": 1, "last_activity_date": 1470719555, "creation_date": 1470719555, "answer_id": 38842540, "question_id": 38842471, "link": "https://stackoverflow.com/questions/38842471/cannot-get-correct-return-value-in-sprintf-function-call/38842540#38842540", "title": "Cannot get correct return value in sprintf function call", "body": "<p>Perl uses <strong>dolar($)</strong> symbol to declare a scalar variable, you need to remove the <code>$</code> symbol from the sprintf.</p>\n\n<p>corrected code </p>\n\n<pre><code>my $var = sprintf(\"%.1f lbs\",(77*2.20462));\nprint $var;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>169.8 lbs\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1470731289, "creation_date": 1470731289, "answer_id": 38845652, "question_id": 38842471, "link": "https://stackoverflow.com/questions/38842471/cannot-get-correct-return-value-in-sprintf-function-call/38845652#38845652", "title": "Cannot get correct return value in sprintf function call", "body": "<p>Your problem is that Perl interprets \"$%.1f\" as the variable <code>$%</code> followed by \".1f\". <code>$%</code> is a special Perl variable containing \"The current page number of the currently selected output channel\" (see <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perlvar</a>) and that has the value 0, so what gets printed is the string \"0.1f\".</p>\n\n<p>There are a few ways round this.</p>\n\n<p>You can remove the dollar sign: <code>sprintf(\"%.1f lbs\",(77*2.20462))</code>. But that changes the string that you display.</p>\n\n<p>You can escape the dollar to tell Perl that it's not special: <code>sprintf(\"\\$%.1f lbs\",(77*2.20462))</code>.</p>\n\n<p>But I think there's a better solution. Perl treats dollar signs as special characters in double-quoted strings. But there's no reason for your string to be double-quoted. So just change your format string to use single quotes: <code>sprintf('$%.1f lbs',(77*2.20462))</code>.</p>\n\n<p>That last one is the solution I'd use.</p>\n"}], "owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 38842540, "answer_count": 2, "score": 0, "last_activity_date": 1470731289, "creation_date": 1470719205, "question_id": 38842471, "link": "https://stackoverflow.com/questions/38842471/cannot-get-correct-return-value-in-sprintf-function-call", "title": "Cannot get correct return value in sprintf function call", "body": "<p>My problem is that the return value im printing is not being translated into a value. </p>\n\n<p>I have the following code in a test file.</p>\n\n<pre><code>#!/usr/bin/perl -I/srv/www/jonathan/m/www    \nmy $var = sprintf(\"$%.1f lbs\",(77*2.20462));\nprint $var;\n</code></pre>\n\n<p>Its returning: <code>0.1f</code> instead of the value i need to see.</p>\n\n<p>What am i doing incorrectly here? I'm a perl newbie.     </p>\n"}, {"tags": ["json", "perl", "path"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470731357, "post_id": 38840941, "comment_id": 65056109, "body": "perl really could do with a solid implementation of <code>jq</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470733691, "post_id": 38840941, "comment_id": 65057625, "body": "@Sobrique: There&#39;s a slightly-documented C API for jq, so it should be possible. I&#39;ll take a look some time."}], "answers": [{"tags": [], "owner": {"reputation": 2465, "user_id": 302249, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/38c467a8b11ef0dde2bc97919502a047?s=128&d=identicon&r=PG", "display_name": "Dan Walmsley", "link": "https://stackoverflow.com/users/302249/dan-walmsley"}, "is_accepted": false, "score": 2, "last_activity_date": 1470712429, "creation_date": 1470712429, "answer_id": 38841445, "question_id": 38840941, "link": "https://stackoverflow.com/questions/38840941/how-to-query-json-derived-data-like-xpath-for-xml/38841445#38841445", "title": "How to query JSON derived data like XPath for XML?", "body": "<p>You could try using the grep (<a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/grep.html</a>) and map (<a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/map.html</a>) functions in perl. Like this</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict; \nuse warnings; \nuse Data::Dumper;\n\nmy @t   =   (    \n                {\n                     'name' =&gt; 'Provincial Court of Stratton and Smythe',\n                     'jurisdiction' =&gt; 'ab',\n                     'databaseId' =&gt; 'pcss'\n                },\n                {\n                     'name' =&gt; 'Law Society of New Holland',\n                     'jurisdiction' =&gt; 'cd',\n                     'databaseId' =&gt; 'lsnh'\n                },\n                {\n                     'name' =&gt; 'General Protection Tribunal',\n                     'jurisdiction' =&gt; 'de',\n                     'databaseId' =&gt; 'gpt'\n                }\n            );\n\n#Just to prove the data is as we think it should be\nprint \"\\nPrint Original data:\\n\";\nprint Data::Dumper::Dumper( @t);\nprint \"\\n\"; \n\n#now filter to the ones that match the name we want\nmy @foo = grep($_-&gt;{'name'} eq 'Law Society of New Holland' , @t);  \nprint \"\\nPrint filtered data:\\n\";\nprint Data::Dumper::Dumper( @foo);\nprint \"\\n\"; \n\n#now only list the databaseid's using the map function\nmy @bar = map { $_-&gt;{'databaseId'} } @foo; \n\nprint \"\\nPrint only ids:\\n\"; \nprint Data::Dumper::Dumper( @bar);\nprint \"\\n\"; \n</code></pre>\n\n<p>Basically you use the grep to filter the data down, and the map to convert it into an array of only ids. You could even make it a one liner. I've left it a bit longer so it's easier to follow.</p>\n"}, {"tags": [], "owner": {"reputation": 796, "user_id": 2631988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e60ce2b2d975666fbb07340265d166?s=128&d=identicon&r=PG", "display_name": "Liam Mitchell", "link": "https://stackoverflow.com/users/2631988/liam-mitchell"}, "is_accepted": false, "score": 1, "last_activity_date": 1470719837, "creation_date": 1470719837, "answer_id": 38842599, "question_id": 38840941, "link": "https://stackoverflow.com/questions/38840941/how-to-query-json-derived-data-like-xpath-for-xml/38842599#38842599", "title": "How to query JSON derived data like XPath for XML?", "body": "<p>JSON::Path\n<a href=\"http://search.cpan.org/~tobyink/JSON-Path-0.205/lib/JSON/Path.pm\" rel=\"nofollow\">http://search.cpan.org/~tobyink/JSON-Path-0.205/lib/JSON/Path.pm</a></p>\n\n<blockquote>\n  <p>This module implements JSONPath, an XPath-like language for\n  searching JSON-like structures.</p>\n  \n  <p>JSONPath is described at <a href=\"http://goessner.net/articles/JsonPath/\" rel=\"nofollow\">http://goessner.net/articles/JsonPath/</a>.</p>\n</blockquote>\n\n<pre><code>#!/usr/bin/perl\n\n#Install JSON::Path\n# I used sudo cpan install JSON::Path\nuse strict;\nuse warnings;\n\nuse JSON::Path;\nuse Data::Dumper;\n\n# NOTE: The stuff between \"?(\" and \")\" is a Perl expression that must return a boolean, used to filter results.\n# As arbitrary Perl may be used, this is clearly quite dangerous unless used in a controlled environment.\n# Thus, it's disabled by default. This enables it.\n$JSON::Path::Safe = 0;\n\n# You can read in your json however you want to something in this form.\nmy $data = [\n            {\n                 'name' =&gt; 'Provincial Court of Stratton and Smythe',\n                 'jurisdiction' =&gt; 'ab',\n                 'databaseId' =&gt; 'pcss'\n            },\n            {\n                 'name' =&gt; 'Law Society of New Holland',\n                 'jurisdiction' =&gt; 'cd',\n                 'databaseId' =&gt; 'lsnh'\n            },\n            {\n                 'name' =&gt; 'General Protection Tribunal',\n                 'jurisdiction' =&gt; 'de',\n                 'databaseId' =&gt; 'gpt',\n                 'price' =&gt; 1\n            }\n        ];\n\n# We escape the ' around the name.\n# Security warning: This evals perl code DO NOT let users input this search string! (At least not without strict validation).\nmy $jpath = JSON::Path-&gt;new('$[?($_-&gt;{name} eq \\'Law Society of New Holland\\')].databaseId');\nmy @databaseIds = $jpath-&gt;values($data);\n\nprint \"Your database Ids are:\\n\";\nprint Dumper(@databaseIds).\"\\n\";\n</code></pre>\n\n<p>Caution! Consider the risk of this evaluating perl for the condition filter.</p>\n\n<p>Much better to use a grep and map unless you are sure it will not have bad input.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1470719837, "creation_date": 1470708247, "question_id": 38840941, "link": "https://stackoverflow.com/questions/38840941/how-to-query-json-derived-data-like-xpath-for-xml", "title": "How to query JSON derived data like XPath for XML?", "body": "<p>How can I query <code>JSON</code> derived data in the same way as using <code>XPath</code> to query <code>XML</code>?</p>\n\n<p>For example, if I have the following data, how can I get the <code>databaseId</code> where <code>name</code> equals <code>Law Society of New Holland</code>?</p>\n\n<pre><code>$VAR1   =   [    \n                {\n                     'name' =&gt; 'Provincial Court of Stratton and Smythe',\n                     'jurisdiction' =&gt; 'ab',\n                     'databaseId' =&gt; 'pcss'\n                },\n                {\n                     'name' =&gt; 'Law Society of New Holland',\n                     'jurisdiction' =&gt; 'cd',\n                     'databaseId' =&gt; 'lsnh'\n                },\n                {\n                     'name' =&gt; 'General Protection Tribunal',\n                     'jurisdiction' =&gt; 'de',\n                     'databaseId' =&gt; 'gpt'\n                }\n            ];\n</code></pre>\n"}, {"tags": ["perl", "wxwidgets", "activestate", "wxperl", "perlapp"], "comments": [{"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "edited": false, "score": 0, "creation_date": 1470747831, "post_id": 38840412, "comment_id": 65067200, "body": "do you call setlocale() anywhere in you program?"}, {"owner": {"reputation": 10941, "user_id": 849065, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/459a908e745eae60a8bea21d5f6d50a0?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/849065/paul"}, "reply_to_user": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "edited": false, "score": 0, "creation_date": 1470772196, "post_id": 38840412, "comment_id": 65082693, "body": "I do...I&#39;ll post my solution in case anyone has a similar issue."}], "answers": [{"tags": [], "owner": {"reputation": 10941, "user_id": 849065, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/459a908e745eae60a8bea21d5f6d50a0?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/849065/paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1470772251, "creation_date": 1470772251, "answer_id": 38859296, "question_id": 38840412, "link": "https://stackoverflow.com/questions/38840412/wxlocale-not-working-with-perlapp/38859296#38859296", "title": "wxLocale not working with PerlApp", "body": "<p>Here is what I was missing:</p>\n\n<pre><code>use Wx::Locale qw(:default);\nWx::Locale-&gt;new( &amp;Wx::wxLANGUAGE_DEFAULT );\n\nuse POSIX qw( setlocale LC_ALL );\nsetlocale(LC_ALL, 'C');\n</code></pre>\n\n<p>Setting the locale to LC_ALL, 'C' resolved my issue.</p>\n\n<p>-Paul</p>\n"}], "owner": {"reputation": 10941, "user_id": 849065, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/459a908e745eae60a8bea21d5f6d50a0?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/849065/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470772251, "creation_date": 1470703352, "last_edit_date": 1592644375, "question_id": 38840412, "link": "https://stackoverflow.com/questions/38840412/wxlocale-not-working-with-perlapp", "title": "wxLocale not working with PerlApp", "body": "<p>When I run my wxperl app from the command line it works great but after using the PerlApp from: <a href=\"http://www.activestate.com/perl-dev-kit\" rel=\"nofollow noreferrer\">http://www.activestate.com/perl-dev-kit</a> to create an executable I'm seeing the following debug alert (shown below)</p>\n<p><a href=\"https://i.stack.imgur.com/Z8Dnd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z8Dnd.jpg\" alt=\"wxWidgets Debug Alert\" /></a></p>\n<p>I've tried adding Locale for myFrame like so but I'm still missing something</p>\n<pre><code>use Wx::Locale qw(:default); \n</code></pre>\n<p>Any thoughts?</p>\n<p>Thanks,\n-Paul</p>\n"}, {"tags": ["git", "perl", "svn"], "comments": [{"owner": {"reputation": 13146, "user_id": 1665673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97641352cacca84166f35e74173a1a5f?s=128&d=identicon&r=PG", "display_name": "Lajos Veres", "link": "https://stackoverflow.com/users/1665673/lajos-veres"}, "edited": false, "score": 0, "creation_date": 1470695928, "post_id": 38839498, "comment_id": 65044749, "body": "Which script are you using? Based on the error message it tries to migrate the repository branches from your local working copy which is a bit suspicious. If it is this one: <code>git svn clone http:&#47;&#47;svn&#47;repo&#47;here&#47;trunk</code>, then it can migrate only trunk which means probably you should append trunk to your repository url."}, {"owner": {"reputation": 23, "user_id": 4009786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85dc2a1ca4555a2fc97aa19c09ee8590?s=128&d=identicon&r=PG&f=1", "display_name": "Pen2", "link": "https://stackoverflow.com/users/4009786/pen2"}, "reply_to_user": {"reputation": 13146, "user_id": 1665673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97641352cacca84166f35e74173a1a5f?s=128&d=identicon&r=PG", "display_name": "Lajos Veres", "link": "https://stackoverflow.com/users/1665673/lajos-veres"}, "edited": false, "score": 0, "creation_date": 1470696154, "post_id": 38839498, "comment_id": 65044818, "body": "This is the command line I&#39;m using ... git svn clone --stdlayout --authors-file=users.txt  svn+ssh://zhenyuh@svn-stg.XXXX.XXXX/var/svnroot/XXXX/XXXX/XX&zwnj;&#8203;XX/ dest_dir-tmp       And, I&#39;m running this command line in svn repository, with branch/trunk/tag mapping. @Lajos Veres"}, {"owner": {"reputation": 13146, "user_id": 1665673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97641352cacca84166f35e74173a1a5f?s=128&d=identicon&r=PG", "display_name": "Lajos Veres", "link": "https://stackoverflow.com/users/1665673/lajos-veres"}, "edited": false, "score": 0, "creation_date": 1470728128, "post_id": 38839498, "comment_id": 65054338, "body": "Is your repository really follows the standard layout? It looks like it can&#39;t find that specific branch. Maybe it worth try to skip it. It seems to be a quite complicated tool: <a href=\"https://git-scm.com/docs/git-svn\" rel=\"nofollow noreferrer\">git-scm.com/docs/git-svn</a>"}, {"owner": {"reputation": 23, "user_id": 4009786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85dc2a1ca4555a2fc97aa19c09ee8590?s=128&d=identicon&r=PG&f=1", "display_name": "Pen2", "link": "https://stackoverflow.com/users/4009786/pen2"}, "reply_to_user": {"reputation": 13146, "user_id": 1665673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97641352cacca84166f35e74173a1a5f?s=128&d=identicon&r=PG", "display_name": "Lajos Veres", "link": "https://stackoverflow.com/users/1665673/lajos-veres"}, "edited": false, "score": 0, "creation_date": 1470781074, "post_id": 38839498, "comment_id": 65086572, "body": "I found this <a href=\"http://jmoses.co/2014/03/21/moving-from-svn-to-git.html\" rel=\"nofollow noreferrer\">jmoses.co/2014/03/21/moving-from-svn-to-git.html</a>, and it worked for me. so, mkdir, cd into it, init with svn repo url, config with user.txt, and fetch. branch/trunk/tag are all in the new dir. I didn&#39;t figure out what is exactly going wrong with my first approach, but I think @LajosVeres is right about &quot;only migrating trunk&quot;, I think...."}], "owner": {"reputation": 23, "user_id": 4009786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85dc2a1ca4555a2fc97aa19c09ee8590?s=128&d=identicon&r=PG&f=1", "display_name": "Pen2", "link": "https://stackoverflow.com/users/4009786/pen2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1239, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1470695928, "creation_date": 1470695696, "last_edit_date": 1495542786, "question_id": 38839498, "link": "https://stackoverflow.com/questions/38839498/svn-to-git-migration-filesystem-has-no-item", "title": "svn to git migration -- Filesystem has no item", "body": "<p>I'm trying to move a project on a server (using svn) to another server (using git). My approach is converting svn to git first, then pushing the git repository to the new server.</p>\n\n<p>While I was trying to convert svn to git, I referred to this link --\n<a href=\"https://stackoverflow.com/questions/79165/how-to-migrate-svn-repository-with-history-to-a-new-git-repository\">How to migrate SVN repository with history to a new Git repository?</a></p>\n\n<p>It worked fine, until I hit -- </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Filesystem has no item: Working copy path 'branches/Some_Tests' does not exist in repository at /mingw64/share/perl5/site_perl/Git/SVN/Ra.pm line 312.\n</code></pre>\n\n<p>The path in question definitely exists in the repository, and I have no problem commit changes to the files in the folder. Apparently I don't know much about perl. But if anyone has any suggestion in modifying script or any different approach, I'd definitely love to try it out. Appreciate all the help!</p>\n"}, {"tags": ["perl", "svn"], "owner": {"reputation": 5392, "user_id": 238644, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/60ef42a066987f20df7156205c322689?s=128&d=identicon&r=PG", "display_name": "Dang Khoa", "link": "https://stackoverflow.com/users/238644/dang-khoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1470700675, "creation_date": 1470689288, "last_edit_date": 1592644375, "question_id": 38838254, "link": "https://stackoverflow.com/questions/38838254/svnclient-how-can-i-get-the-latest-revision-number-of-a-file", "title": "SVN::Client - how can I get the latest revision number of a file?", "body": "<p>I'm using <a href=\"http://search.cpan.org/%7Emschwern/Alien-SVN-v1.8.11.0/src/subversion/subversion/bindings/swig/perl/native/Client.pm\" rel=\"nofollow noreferrer\">SVN::Client</a> in a Perl script. The documentation demonstrates how to get info about a file stored in SVN:</p>\n<blockquote>\n<p><code>$client-&gt;info($path_or_url, $peg_revision, $revision, \\&amp;receiver, $recurse)</code>;</p>\n<p>Invokes <code>\\&amp;receiver</code> passing it information about <code>$path_or_url</code> for <code>$revision</code>. <strong>The information returned is system-generated metadata, not the sort of &quot;property&quot; metadata created by users.</strong> For methods available on the object passed to <code>\\&amp;receiver</code>, see <code>svn_info_t</code>.</p>\n</blockquote>\n<pre><code> my $receiver = sub {\n     my( $path, $info, $pool ) = @_;\n     print &quot;Current revision of $path is &quot;, $info-&gt;rev, &quot;\\n&quot;;\n };\n $client-&gt;info( 'foo/bar.c', undef, 'WORKING', $receiver, 0 );\n</code></pre>\n<p>I want to return <code>$info-&gt;rev</code>, but trying something like</p>\n<pre><code>my $rev_num = $client-&gt;info('foo/bar.c', undef, 'WORKING', $receiver, 0);\n</code></pre>\n<p>returns <code>undef</code>. (obviously, modify the above code snippet to <code>return $info-&gt;rev</code>)</p>\n<p>Is there any way I can retrieve this information (or otherwise extract <code>$info</code> from this method)?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1492365102, "post_id": 38836928, "comment_id": 73937384, "body": "&quot;no way to identify which Pool ID to grab without knowing where the client is held&quot; ... yet this turns out to be just a matter of grabbing the pool ID, and then the very next client which occurs?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6692637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb12896899ff951c3a1ad1197d05ee1?s=128&d=identicon&r=PG&f=1", "display_name": "Logan", "link": "https://stackoverflow.com/users/6692637/logan"}, "edited": false, "score": 0, "creation_date": 1470744693, "post_id": 38838202, "comment_id": 65065023, "body": "I actually need to grab the whole line to include the memory information, but the same method still applies, just different regex. Thanks for the help."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1470689092, "creation_date": 1470689092, "answer_id": 38838202, "question_id": 38836928, "link": "https://stackoverflow.com/questions/38836928/multiline-lookback-regex/38838202#38838202", "title": "Multiline lookback regex", "body": "<p></p>\n\n<p>It's usually a bad idea to read an entire file into memory, as you most often then need to split it into lines to process it and you may as well read it line by line in the first place</p>\n\n<p>If I understand you correctly, you just need to store every Pool ID that you encounter. Then when you find the PLU client, the relevant Pool ID is the most recent one you encountered</p>\n\n<p>It would look something like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy ($pool_id, $client_id);\n\nwhile ( &lt;DATA&gt; ) {\n    if ( /Pool ID/ ) {\n        while ( &lt;DATA&gt; ) {\n            last if ($pool_id) = /^0x(\\p{hex}+)/;    \n        }\n    }\n    elsif ( /\\sPLU\\s*$/) {\n        ($client_id) = /^0x(\\p{hex}+)/;\n        last;\n    }\n}\n\nprint \"Pool ID:       $pool_id\\n\";\nprint \"PLU Client ID: $client_id\\n\";\n\n__DATA__\n       Pool ID      Type      Term       User/Sys     Total Size           Free\n       -------      ----      ----       --------     ----------           ----\n0x7FC636000000   CONTROL      LONG           USER     1609564160      335224768\n\n     Client ID      Memory Alloc'd      (Normal/Small)    Client Name\n     ---------      --------------      --------------    -----------\n0x7FC636001A90             7470051       (7469056/995)    DiskControl\n0x7FC6360017D8             4067072         (4067072/0)    KJS\n0x7FC636001520          1158242183 (1157640768/601415)    PLU\n0x7FC636001268            68499632     (68498240/1392)    Splitter\n0x7FC636000FB0            36665368     (36664256/1112)    BackView\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Pool ID:       7FC636000000\nPLU Client ID: 7FC636001520\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6692637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb12896899ff951c3a1ad1197d05ee1?s=128&d=identicon&r=PG&f=1", "display_name": "Logan", "link": "https://stackoverflow.com/users/6692637/logan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 3, "accepted_answer_id": 38838202, "answer_count": 1, "score": 1, "last_activity_date": 1470689276, "creation_date": 1470683877, "last_edit_date": 1470689276, "question_id": 38836928, "link": "https://stackoverflow.com/questions/38836928/multiline-lookback-regex", "title": "Multiline lookback regex", "body": "\n\n<p>I'm working with a script that outputs a bunch of memory values to a log file and I need to extract a few specific lines that are relative to each other. </p>\n\n<p>Here is a sample of a chunk of the log output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>       Pool ID      Type      Term       User/Sys     Total Size           Free\n       -------      ----      ----       --------     ----------           ----\n0x7FC636000000   CONTROL      LONG           USER     1609564160      335224768\n\n     Client ID      Memory Alloc'd      (Normal/Small)    Client Name\n     ---------      --------------      --------------    -----------\n0x7FC636001A90             7470051       (7469056/995)    DiskControl\n0x7FC6360017D8             4067072         (4067072/0)    KJS\n0x7FC636001520          1158242183 (1157640768/601415)    PLU\n0x7FC636001268            68499632     (68498240/1392)    Splitter\n0x7FC636000FB0            36665368     (36664256/1112)    BackView\n</code></pre>\n\n<hr>\n\n<p>I need to extract the PLU line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0x7FC636001520          1158242183 (1157640768/601415)    PLU\n</code></pre>\n\n<p>I also need to extract the Pool ID </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0x7FC636000000   CONTROL      LONG           USER     1609564160      335224768\n</code></pre>\n\n<p>This chunk is one of many and there is no way to identify which Pool ID to grab without knowing where the client is held (so I need to find where the PLU is first before I find the pool).</p>\n\n<p>Finding the PLU line was easy:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/(.*)PLU/\n</code></pre>\n\n<p>But finding the pool line has proven to be much more difficult.</p>\n\n<p>I've found suggestions for using a multi-line regex search which hasn't seemed to work. I have also tried using lookbacks which doesn't seem to work.</p>\n\n<p>Ignoring for the moment the necessary relation to the specific client and pool, I tried this for just the pool line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/(?&lt;=----).*(?=Client)/gm\n</code></pre>\n\n<p>That doesn't highlight anything on regexr.</p>\n\n<p>I'd appreciate some help if anyone can give it. I'm using Perl to write this script for extracting the info ( whole infrastructure is in Perl ).</p>\n"}, {"tags": ["perl", "unzip"], "comments": [{"owner": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 0, "creation_date": 1470681500, "post_id": 38836234, "comment_id": 65038058, "body": "When the casing can vary, I usually reach for <code>lc</code> and compare that."}], "answers": [{"tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1470684491, "creation_date": 1470684491, "answer_id": 38837083, "question_id": 38836234, "link": "https://stackoverflow.com/questions/38836234/perl-unzip-dynamic-naming-and-error-handling/38837083#38837083", "title": "Perl unzip / dynamic naming and error handling", "body": "<p>You can grep all the files with with .doc and .zip extensions ignoring the case and do what you need to do with them:</p>\n\n<pre><code>opendir(DIR, '/tmp/');\nmy @files = grep {/\\.(doc|zip)$/i} readdir(DIR);\nclosedir DIR;\n\nforeach my $file (@files) {\n    #do what you need to do with each file\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3973, "user_id": 266747, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/da5e3914edcd58b1abd64a38a2cff8a5?s=128&d=identicon&r=PG", "display_name": "Barton Chittenden", "link": "https://stackoverflow.com/users/266747/barton-chittenden"}, "is_accepted": false, "score": 0, "last_activity_date": 1470696270, "creation_date": 1470696270, "answer_id": 38839579, "question_id": 38836234, "link": "https://stackoverflow.com/questions/38836234/perl-unzip-dynamic-naming-and-error-handling/38839579#38839579", "title": "Perl unzip / dynamic naming and error handling", "body": "<p>I would suggest avoiding filenames -- you're looking for zip files, so use that as your filter:</p>\n\n<pre><code>use File::Type;\nmy $ft = File::Type-&gt;new();\n\nopendir(DIR, '/tmp/');\nmy @files = grep { $ft-&gt;mime_type( $_ ) =~ qr\"application/zip\" } readdir(DIR);\nclosedir DIR;\n\nforeach my $file (@files) {\n    #do what you need to do with each file\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6692534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c9c0278c3bfa5ce09b1c12ee70d8e6?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Sinford", "link": "https://stackoverflow.com/users/6692534/mark-sinford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1470696270, "creation_date": 1470681370, "question_id": 38836234, "link": "https://stackoverflow.com/questions/38836234/perl-unzip-dynamic-naming-and-error-handling", "title": "Perl unzip / dynamic naming and error handling", "body": "<p>I ran into a bit of a snag recently with a long running (and working) script and have come to the conclusion that there needs to be a better approach to this problem.  </p>\n\n<p>Once a day a file is emailed to a generic account.  Postfix hands it off to this script for processing, essentially it just looks for any file attachments and saves them off.  99.9% of the time there's just 1 attachment, a zip file, and it's sent with a .DOC extension to get it through the spam filter.</p>\n\n<p>Sometimes, however, the file is sent as 'file.DOC' other times 'file.doc' and still others 'file.doc.zip' or 'file.DOC.zip'  In each case there's only 1 file attached, but in order to handle these scenarios my script looks like this:</p>\n\n<pre><code>if ( &lt;/tmp/*.doc&gt; ){\n        unzip '&lt;/tmp/*.doc&gt;' =&gt; '&lt;/media/win/#1.txt&gt;'\n                or die \"unzip failed: $UnzipError\\n\";\n}\n\nif ( &lt;/tmp/*.DOC&gt; ){\n        unzip '&lt;/tmp/*.DOC&gt;' =&gt; '&lt;/media/win/#1.txt&gt;'\n            or die \"unzip failed: $UnzipError\\n\";\n}\n</code></pre>\n\n<p>Is there a better way to handle these possible conditions with the filenaming that I can't control? It could be .zip, .ZIP, .DOC, .doc, or whatever else the human decides to type that day despite clear instructions.  (Isn't that always the case?\"  I know generally how large the file will be - could I unzip based on that, or find some other non-filename way to do it?</p>\n"}, {"tags": ["regex", "perl", "perl-module"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1470682137, "post_id": 38836149, "comment_id": 65038408, "body": "You are talking about page source, not source code, am I right?"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1470711951, "last_edit_date": 1470711951, "creation_date": 1470682688, "answer_id": 38836598, "question_id": 38836149, "link": "https://stackoverflow.com/questions/38836149/why-i-can-not-fetch-source-code-from-the-website-in-perl/38836598#38836598", "title": "why I can not fetch source code from the website in perl?", "body": "<blockquote>\n  <p><code>Error GETing https://www.splithistory.com/zsl/: Not Found at J:\\perl_project\\demo_spli.pl line 9.</code></p>\n</blockquote>\n\n<p>That's because the site returns \"404 Not Found\" inside the HTTP header. A successful response would have the status code 200:</p>\n\n<pre>HTTP/1.1 404 Not Found\nDate: Mon, 08 Aug 2016 18:50:46 GMT\nServer: Apache/2.2.31 (Unix) mod_ssl/2.2.31 OpenSSL/1.0.2h mod_jk/1.2.40 mod_perl/2.0.9 Perl/v5.8.9\nTransfer-Encoding: chunked\nContent-Type: text/html; charset=ISO-8859-1</pre>\n\n<p>WWW::Mechanize will croak if the web site returns an error and that's what you see. To get the data anyway use:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>eval { $mech-&gt;get($url); };\nmy $res = $mech-&gt;res();\n$script = $res-&gt;content;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6634729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8fbd232a5b4a7080d2b06774f176eb51?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/6634729/sanket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470711951, "creation_date": 1470681073, "question_id": 38836149, "link": "https://stackoverflow.com/questions/38836149/why-i-can-not-fetch-source-code-from-the-website-in-perl", "title": "why I can not fetch source code from the website in perl?", "body": "<p>I want to fetch source code of this website :\n<a href=\"https://www.splithistory.com/zsl/\" rel=\"nofollow\">https://www.splithistory.com/zsl/</a>\nbut it gives error, I tried it by WWW::Mechanize and by LWP::Simple but I got error like :Error GETing website Not Found at J:\\perl_project\\demo_spli.pl line 9.\nbut when I try to fetch data from this website :\n<a href=\"https://www.splithistory.com/aapl/\" rel=\"nofollow\">https://www.splithistory.com/aapl/</a>\nit works ok.....</p>\n\n<p>here is my code</p>\n\n<pre><code>#!/usr/bin/perl\n#!perl -w\nuse DBI;\nuse strict;\nuse WWW::Mechanize; \nmy $mech= WWW::Mechanize-&gt;new();\nmy $url= 'https://www.splithistory.com/zsl/';\n$mech -&gt; get($url);\nmy $script = $mech -&gt; content;\nopen (MYFILE, '&gt;sd.txt');   #open file in write mode\nprint MYFILE $script;       #copy source code of website in file\nclose(MYFILE);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Error GETing https://www.splithistory.com/zsl/: Not Found at J:\\perl_project\\demo_spli.pl line 9.\n</code></pre>\n"}, {"tags": ["perl", "printf"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470681299, "post_id": 38836093, "comment_id": 65037952, "body": "C&#39;s <code>printf</code> is unrelated to Perl&#39;s function of the same name. You&#39;ve used a floating-point field specifier, so whatever value is passed will be evaluated as a number. If you had warnings enabled as you should, then you would get a message telling you about this"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1470681916, "post_id": 38836093, "comment_id": 65038289, "body": "@Mat: The C program doesn&#39;t have undefined behavior because <code>&quot;&quot;</code> is not a <code>float</code>. It has undefined behavior because <code>&quot;&quot;</code> is neither a <code>double</code> (which is what <code>%f</code> requires) nor a <code>float</code> (which would be promoted to <code>double</code>)."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1470682155, "post_id": 38836093, "comment_id": 65038417, "body": "@Mat: What&#39;s the difference? <code>float</code> is a specific type. The three types <code>float</code>, <code>double</code>, and <code>long double</code> are collectively the <i>floating-point types</i>, not &quot;float&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1470682438, "last_edit_date": 1470682438, "creation_date": 1470681678, "answer_id": 38836305, "question_id": 38836093, "link": "https://stackoverflow.com/questions/38836093/avoid-printf-from-printing-zeros-on-empty-values/38836305#38836305", "title": "Avoid &quot;printf&quot; from printing zeros on empty values", "body": "\n\n<p>You need to convert the value to a string according to its contents</p>\n\n<p>This code shows the idea, but it's probably over-elaborate, and can be reduced depending on the expected contents of your variable</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nfor my $val ( undef, \"\", 'XX', 0, 0.3 ) {\n    my $sval = defined $val &amp;&amp;  length $val ? sprintf '%.4f', $val : '';\n    printf \"Value is %s\\n\", $sval;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Value is \nValue is \nArgument \"XX\" isn't numeric in sprintf at E:\\Perl\\source\\012.pl line 7.\nValue is 0.0000\nValue is 0.0000\nValue is 0.3000\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>Another way would be to use <code>looks_like_number</code> from the core <code>Scalar::Util</code> module</p>\n\n<p>This code also handles undefined values by converting them to the string <code>undef</code>. Again, the best way to code this will depend on your requirements</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Scalar::Util 'looks_like_number';\n\nfor my $val ( undef, \"\", 'XX', 0, 0.3 ) {\n    my $sval = $val // 'undef';\n    $sval = sprintf '%.4f', $sval if looks_like_number($sval);\n    printf \"Value is %s\\n\", $sval;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Value is undef\nValue is \nValue is XX\nValue is 0.0000\nValue is 0.3000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1470682237, "post_id": 38836432, "comment_id": 65038453, "body": "I was going to suggest something along the lines of <code>printf &quot;%.4f&quot;, $foo if defined $foo;</code>  Same idea."}], "tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": false, "score": 3, "last_activity_date": 1470682441, "last_edit_date": 1470682441, "creation_date": 1470682074, "answer_id": 38836432, "question_id": 38836093, "link": "https://stackoverflow.com/questions/38836093/avoid-printf-from-printing-zeros-on-empty-values/38836432#38836432", "title": "Avoid &quot;printf&quot; from printing zeros on empty values", "body": "<p>The C program tells you nothing. It has undefined behavior, because <code>\"\"</code> is not of the correct type for the format string.</p>\n\n<p>You're getting floating-point output because that's what you asked for by using <code>\"%.4f\"</code>.</p>\n\n<p>In Perl, if you print something using <code>printf \"%.4f\", ...</code>, it will treat the argument as a real number and format it accordingly. The special value <code>undef</code> is apparently treated as <code>0.0</code> in this context. If you want to print the empty string (or, equivalently, print nothing) for an <code>undef</code> argument, then you need to use a different format string -- or just not call <code>printf</code> at all.</p>\n\n<pre><code>if (defined $foo) {\n    printf \"%.4f\", $foo;\n}\n</code></pre>\n\n<p>Note that this only checks whether <code>$foo</code> is defined, not whether it's numeric. If the value of <code>$foo</code> is a reference, for example, you'll get a meaningless numeric representation of some memory address.</p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1470682504, "creation_date": 1470680840, "last_edit_date": 1470682504, "question_id": 38836093, "link": "https://stackoverflow.com/questions/38836093/avoid-printf-from-printing-zeros-on-empty-values", "title": "Avoid &quot;printf&quot; from printing zeros on empty values", "body": "<p>I wonder how to avoid getting zeros from <code>printf</code> when printing an undefined value or empty string with Perl:</p>\n\n<pre><code>$ perl -le 'printf \"%.4f\", undef'\n0.0000\n</code></pre>\n\n<p>This little C program tells me that that's the way <code>printf</code> works.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nmain()\n{\n    printf (\"%.4f\\n\", \"\");\n}\n</code></pre>\n\n<p>Is there anyway within <code>printf</code> to avoid printing zeros?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1470691026, "post_id": 38837382, "comment_id": 65042886, "body": "This is great! Thank you very much!"}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 1, "last_activity_date": 1470685716, "creation_date": 1470685716, "answer_id": 38837382, "question_id": 38836083, "link": "https://stackoverflow.com/questions/38836083/matching-string-with-substrings/38837382#38837382", "title": "Matching string with substrings", "body": "<blockquote>\n  <p>The following code works well when the sample names are different but fails if multiple sample names begin with the same substring. I have no idea how to account for multiple sample names that begging with the same substring.</p>\n</blockquote>\n\n<p>The key to solving your problem is sorting the 'Sample Name' names by length - longest first.</p>\n\n<p>For example, <code>MATCHES RA_4090_dup</code> should be before <code>MATCHES RA_4090</code> in the <code>@matrix_key</code> array so it will attempt to match the longer string first. Then, after a match, you stop searching (I used <code>first</code> from the <code>List::Util</code> module which is part of core perl since version 5.08).</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse List::Util 'first';\n\nmy @files = qw(\nRA_4090_v1_RA_4090_RNA_v1.vcf\nRA_4090_dup_v1_RA_4090_dup_RNA_v1.vcf\nRA_565_v1.vcf\nRA_565_dup_v1.vcf\nRA_HCC-78-2.vcf\n);\n\nopen my $key, '&lt;', 'junk.txt' or die $!; # key file\n\n&lt;$key&gt;; # throw away header line in key file (first line)\n\nmy @matrix_key = sort {length($b-&gt;[1]) &lt;=&gt; length($a-&gt;[1])} map [ split ],  &lt;$key&gt;;\nclose $key or die $!;\n\nfor my $tsv_file (@files) {\n    if ( my $aref = first { index($tsv_file, $_-&gt;[1]) != -1 } @matrix_key ) {\n        print \"$tsv_file \\t MATCHES $aref-&gt;[1]\\n\";\n        print \"\\t$aref-&gt;[1]_$aref-&gt;[0]\\n\\n\";    \n    }\n}\n</code></pre>\n\n<p>This produced this output:</p>\n\n<pre><code>RA_4090_v1_RA_4090_RNA_v1.vcf    MATCHES RA_4090\n        RA_4090_IonSelect-2\n\nRA_4090_dup_v1_RA_4090_dup_RNA_v1.vcf    MATCHES RA_4090_dup\n        RA_4090_dup_IonSelect-10\n\nRA_565_v1.vcf    MATCHES RA_565\n        RA_565_IonSelect-4\n\nRA_565_dup_v1.vcf        MATCHES RA_565_dup\n        RA_565_dup_IonSelect-12\n\nRA_HCC-78-2.vcf          MATCHES RA_HCC-78-2\n        RA_HCC-78-2_IonSelect-6\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 38837382, "answer_count": 1, "score": 0, "last_activity_date": 1470685716, "creation_date": 1470680810, "question_id": 38836083, "link": "https://stackoverflow.com/questions/38836083/matching-string-with-substrings", "title": "Matching string with substrings", "body": "<p>I\u2019m working with multiple vcf files in a directory (Linux server) and also a tab delimited key file that contains the sample names and the corresponding barcodes. </p>\n\n<p>Here is how the files are named:</p>\n\n<pre><code>RA_4090_v1_RA_4090_RNA_v1.vcf\nRA_4090_dup_v1_RA_4090_dup_RNA_v1.vcf\nRA_565_v1.vcf\nRA_565_dup_v1.vcf\nRA_HCC-78-2.vcf\n</code></pre>\n\n<p>Here are contents of the key file:</p>\n\n<pre><code>Barcode ID      Sample Name\nIonSelect-2     RA_4090\nIonSelect-4     RA_565\nIonSelect-6     RA_HCC-78-2\nIonSelect-10    RA_4090_dup\nIonSelect-12    RA_565_dup\n</code></pre>\n\n<p>I need to correlate the correct sample names with each .vcf file and then rename each .vcf file. </p>\n\n<p>There is always one vcf file for each sample.  However, sometimes the samples names begin with the same substring and it\u2019s impossible to match them up correctly, since the sample names are not standardized. </p>\n\n<p>The following code works well when the sample names are different but fails if multiple sample names begin with the same substring. I have no idea how to account for multiple sample names that begging with the same substring.</p>\n\n<p>Please suggest something that will work. Here is the current code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse File::Copy qw(move);\n\nmy $home=\"/data/\";                                                     \nmy $bam_directory = $home.\"test_all_runs/\".$ARGV[0];\n\nmy $matrix_key = $home.\"test_all_runs/\".$ARGV[0].\"/key.txt\";\n\nmy @matrix_key = ();\n\nopen(TXT2, \"$matrix_key\") or die \"Can't open '$matrix_key': $!\";\n        while (&lt;TXT2&gt;){  \n                push (@matrix_key, $_);   \n                }\nclose(TXT2);\n\nmy @ant_vcf = glob \"$bam_directory/*.vcf\";\n\nfor my $tsv_file (@ant_vcf){\n\n        my $matrix_barcode_vcf = \"\";\n        my $matrix_sample_vcf = \"\";\n\n        foreach (@matrix_key){\n                chomp($_);\n                my @matrix_key = split (\"\\t\", $_);##  \n                if (index ($tsv_file,$matrix_key[1]) != -1) {\n                  $matrix_barcode_vcf = $matrix_key[0]; print $matrix_key[0];\n                  $matrix_sample_vcf = $matrix_key[1];\n                  chomp $matrix_barcode_vcf;\n                  chomp $matrix_sample_vcf;\n                  #print $bam_directory.\"/\".$matrix_sample_id.\"_\".$matrix_barcode.\".bam\";\n                  move $tsv_file, $bam_directory.\"/\".$matrix_sample_vcf.\"_\".$matrix_sample_vcf.\".vcf\";\n                }       \n        }\n\n}\n</code></pre>\n"}, {"tags": ["perl", "text", "hash"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1470678618, "post_id": 38835341, "comment_id": 65036475, "body": "Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and then <a href=\"https://stackoverflow.com/posts/38835341/edit\">edit</a> this question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6692359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abae544cb63d226966fffcefa2288b7d?s=128&d=identicon&r=PG&f=1", "display_name": "jon v", "link": "https://stackoverflow.com/users/6692359/jon-v"}, "edited": false, "score": 0, "creation_date": 1470680461, "post_id": 38835678, "comment_id": 65037459, "body": "thank you for the response ikegami. what I need help understanding is how I would create a hash in the subfunction which will return the entire hash after it&#39;s done looping."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1470680627, "last_edit_date": 1470680627, "creation_date": 1470679165, "answer_id": 38835678, "question_id": 38835341, "link": "https://stackoverflow.com/questions/38835341/text-file-to-hash-table/38835678#38835678", "title": "Text file to hash table", "body": "<pre><code>my %commands;\nmy $name;\nmy $body;\nwhile (&lt;&gt;) {\n    if (my ($new_name) = /===\\|([^|]*)\\|/) {\n        $commands{$name} = $body if defined($name);\n        $name = $new_name;\n        $body = '';\n    } else {\n        $body .= $_;\n    }\n}\n\n$commands{$name} = $body if defined($name);\n</code></pre>\n\n<p>Assumes the body of the command starts on the line after the header, and stop on the line before the one with the next header.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7104529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd51999dc83f589da0537d3cfed453e?s=128&d=identicon&r=PG&f=1", "display_name": "c0mm4", "link": "https://stackoverflow.com/users/7104529/c0mm4"}, "is_accepted": false, "score": 0, "last_activity_date": 1478097851, "creation_date": 1478097851, "answer_id": 40382810, "question_id": 38835341, "link": "https://stackoverflow.com/questions/38835341/text-file-to-hash-table/40382810#40382810", "title": "Text file to hash table", "body": "<p>You probably have it already working, but adding a small comment still, regarding the question on how to return the hash from a function.</p>\n\n<p>Here's an example:</p>\n\n<p><strong>Input -file</strong> (used the following, which, I think contains similar structure as your input -file.</p>\n\n<pre><code>===|showcommand|\ncmd1\ncmd2\ncmd3\ncmd4\n===|testcommand|\ncommand1\ncommand2\ncommand3\n===|anothercommand|\nanother1\nanother2\nanother3\nanother4\n</code></pre>\n\n<p><strong>Perl -script:</strong></p>\n\n<pre><code>use strict;\n\n# Calling ReadCommandFile to build hash.\nmy %commands = ReadCommandFile(\"./commands.txt\");\n\n# ReadCommandFile - reads commands.txt and builds\n# a hash.\nsub ReadCommandFile()\n{\n  my $file = shift;\n  my %hash = ();\n  my $name;\n\n  open(FILE, \"&lt;$file\");\n\n  while(&lt;FILE&gt;)\n  {\n    if($_ =~ /===\\|(.*)\\|/)\n    {\n      $name = $1;\n      $hash{$name} = [];      \n    }\n    else\n    {\n      my $line = $_;\n      $line =~ s/\\n$//;\n      push(@{$hash{$name}}, $line);\n    }\n  }\n\n  close(FILE);\n\n  return %hash;\n}\n</code></pre>\n\n<p>As a result, you should get the following hash (output from Data::Dumper):</p>\n\n<pre><code>$VAR1 = 'anothercommand';\n$VAR2 = [\n          'another1',\n          'another2',\n          'another3',\n          'another4'\n        ];\n$VAR3 = 'showcommand';\n$VAR4 = [\n          'cmd1',\n          'cmd2',\n          'cmd3',\n          'cmd4'\n        ];\n$VAR5 = 'testcommand';\n$VAR6 = [\n          'command1',\n          'command2',\n          'command3'\n        ];\n</code></pre>\n\n<p>You can then access individual elements like this:</p>\n\n<h1>Get the third command from \"showcommand\":</h1>\n\n<pre><code>print \"\\nCommand #3: \" . $commands{'showcommand'}[2];\n</code></pre>\n\n<p>Output: <strong>cmd3</strong></p>\n\n<p>The data from the file is copied to a hash and the commands are added as an array under the respective keywords.</p>\n\n<p>Thanks!</p>\n"}], "owner": {"reputation": 21, "user_id": 6692359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abae544cb63d226966fffcefa2288b7d?s=128&d=identicon&r=PG&f=1", "display_name": "jon v", "link": "https://stackoverflow.com/users/6692359/jon-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1478097851, "creation_date": 1470677788, "last_edit_date": 1470679232, "question_id": 38835341, "link": "https://stackoverflow.com/questions/38835341/text-file-to-hash-table", "title": "Text file to hash table", "body": "<p>I want to create a hash table for the data in my file.</p>\n\n<p>The file contains a bunch of commands that are written as</p>\n\n<pre><code>===|showcommand|\n</code></pre>\n\n<p>Every time I see this delimiter I want to create a hash key and store the data below it as an array in the value until it sees the next delimiter.</p>\n\n<p>The next delimiter will do the same thing which is to create a hash key with the delimiter name and store the data on the next lines following it into an array as a value.</p>\n"}, {"tags": ["perl", "pdf", "cpan", "strawberry-perl", "cam-pdf"], "owner": {"reputation": 11, "user_id": 6679550, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ktp-qS_AZtU/AAAAAAAAAAI/AAAAAAABTiA/4dJGkD3WaRo/photo.jpg?sz=128", "display_name": "markdid", "link": "https://stackoverflow.com/users/6679550/markdid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1470682535, "creation_date": 1470676264, "last_edit_date": 1470682535, "question_id": 38834953, "link": "https://stackoverflow.com/questions/38834953/errors-reading-pdf-with-cam-pdf-use-of-uninitialized-value-in-addition-line", "title": "Errors reading PDF with CAM-PDF: use of uninitialized value in addition &lt;+&gt; line 667", "body": "<p>I'm new to perl and I'm trying to read a pdf file using <code>CAM::PDF</code> here is my code:</p>\n\n<p>When I try to run this in the command prompt I get these errors: </p>\n\n<blockquote>\n  <p>\"Use of uninitialized value in addition &lt;+> at\n  C:/Strawberry/perl/site/lib/CAM/PDF.pm line 667 ...  substr outside of\n  str at C:/Strawberry/perl/site/lib/CAM/PDF.pm line 657 ... (at the\n  end)... \"Bad request for object 60 at position 0 in the file Can't\n  call method \"getPageContentTree\" on the undefined value at C:...</p>\n</blockquote>\n\n<p>The weird thing is I have the exact same files and program on a separate computer that runs just fine. It prints everything perfectly where this computer can't.</p>\n\n<p>I've tried reinstalling CAM::PDF and reinstalling <code>cpan</code>. The reinstall actually failed for some reason too. Thanks for the help.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse CAM::PDF;\nuse CAM::PDF::PageText;\n\n#in cmd: courts.pl samplePDF.pdf\n\nmy $filename = shift || die \"Supply pdf on command line\\n\";\n\nmy $pdf = CAM::PDF-&gt;new($filename);\n\n\n#print text_from_page(1);\n\nmy $string = text_from_page(1);\n#print $string;\n\n$string =~ s/\\b \\b//g;\nprint $string;\n\nopen(my $fh, '&gt;', 'reports.txt');\nprint $fh \"$string\";\nclose $fh;\nprint \"done\\n\";\n\nsub text_from_page {\nmy $pg_num = shift;\n\nreturn\nCAM::PDF::PageText-&gt;render($pdf-&gt;getPageContentTree($pg_num));\n}\n</code></pre>\n"}, {"tags": ["perl", "multidimensional-array", "reference", "yaml"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1470675049, "post_id": 38833376, "comment_id": 65034523, "body": "Why are you taking a data structure that looks reasonable and flattening it into multiple arrays?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470676696, "post_id": 38833376, "comment_id": 65035376, "body": "I hope there&#39;s more to your YAML file than that, as it has a number of aliases that are undefined. Please show enough data for us to run your code and try this for ourselves"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470680112, "post_id": 38833376, "comment_id": 65037262, "body": "<i>&quot;I don&#39;t get the desire results&quot;</i> is a classy variation on <i>&quot;it doesn&#39;t work&quot;</i>, and isn&#39;t a proper problem description. It tells us nothing. There is no way we can help unless you show your <i>real, complete</i> data. By the way, &quot;parsing&quot; is what <code>YAML::XS</code> does. After that you&#39;re just messing with the Perl data structure, probably unnecessarily as <a href=\"http://stackoverflow.com/questions/38833376/acessing-array-of-array-of-hash-pointers#comment65034523_38833376\"><b>Matt Jacob</b> says</a>"}, {"owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470724598, "post_id": 38833376, "comment_id": 65052333, "body": "@Borodin : I have updated my yaml file , please have a look at it now and let me know if you need any other info. Also i know i am messing with the data structure but i am new to perl so this is how i did, gradually with experience i will improve but for now if u have a better approach do let me know. my problem seems to be with the same array is being filled for rulesfile"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1470733513, "post_id": 38833376, "comment_id": 65057491, "body": "@hanish You updated your &quot;YAML&quot; file but you did not read flyx answer thoroughly enough. The answer clearly states in the first paragraph that you cannot have alias to anchors. The YAML 1.2 specs state &quot;In the representation graph, a node may appear in more than one collection. When serializing such data, the <i>first</i> occurrence of the node is identified by an anchor&quot;. If your parser doesn&#39;t complain about that, you should use a different parser.  Apart from that <code>run_target_platform</code> is indented only one space, where the <code>stand_alone_execution</code> has two, making this incorrect YAML."}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1470733567, "post_id": 38833376, "comment_id": 65057542, "body": "Does your parser really parse this, what you present here?"}, {"owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "reply_to_user": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1470734156, "post_id": 38833376, "comment_id": 65057983, "body": "@Anthon yes it does parse properly, i have added the space... this is a legacy code which i can&#39;t change from the scratch as of now. this is just the added functionality which i have introduced and its causing errors ( not completely errors but it&#39;s not giving me desired results)."}, {"owner": {"reputation": 23530, "user_id": 347964, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bE90m.png?s=128&g=1", "display_name": "flyx", "link": "https://stackoverflow.com/users/347964/flyx"}, "edited": false, "score": 0, "creation_date": 1470753484, "post_id": 38833376, "comment_id": 65071556, "body": "You still did not specify what you mean by <i>I don&#39;t get the desired results</i>. What results <i>are</i> you getting?"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "edited": false, "score": 0, "creation_date": 1470730230, "post_id": 38844927, "comment_id": 65055470, "body": "Thanks. i had tried to keep it minimalist...i have corrected it pls check and let me know if u can help with resolving the data structures"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1470733639, "post_id": 38844927, "comment_id": 65057592, "body": "Not sure who downvoted you. Looks like the Perl parser for YAML is a bit to forgiving."}], "tags": [], "owner": {"reputation": 23530, "user_id": 347964, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bE90m.png?s=128&g=1", "display_name": "flyx", "link": "https://stackoverflow.com/users/347964/flyx"}, "is_accepted": false, "score": 0, "last_activity_date": 1470728756, "creation_date": 1470728756, "answer_id": 38844927, "question_id": 38833376, "link": "https://stackoverflow.com/questions/38833376/acessing-array-of-array-of-hash-pointers/38844927#38844927", "title": "Acessing array of array of hash pointers", "body": "<p>In your YAML file, you use aliases to anchors which are not defined at all (<code>rulesid_03</code>, <code>rulesid_04</code>) or somewhere after the alias in the YAML stream (<code>rulesid_01</code>, others). Both leads to invalid YAML.</p>\n\n<p>Moreover, you have indentation issues. <code>run_target_platforms</code> is less indented than the previous keys <code>rules_file</code> and <code>standalone_execution</code>. This is also invalid. Finally, this probably does not do what you want:</p>\n\n<pre><code>- run_target_id: &amp;runid_01\n  target_connection_info: \n  run_target_hostname: \n  run_target_username: \n  run_target_password:\n</code></pre>\n\n<p>It is a list item that contains a mapping. The first key of the mapping is <code>run_target_id</code> and its corresponding value is empty, but annotated with the anchor <code>runid_01</code>. You probably want to make the rest of the keys in this mapping to be part of a child mapping which is the value of the first key.</p>\n\n<p>Here is a modified YAML with proper anchors, aliases and indentation:</p>\n\n<pre><code>rules_file: \n- rules_file_id: &amp;rulesid_01 \n    name: tpsm_rulesfile_LE \n    hostname:       \n\n- rules_file_id: &amp;rulesid_02\n    name: tpsm_rulesfile_BE        \n    hostname:  \n\nrun_target_platforms: \n- run_target_id: &amp;runid_01\n    target_connection_info: \n    run_target_hostname: \n    run_target_username: \n    run_target_password: \n\n- run_target_id: &amp;runid_02\n    target_connection_info: \n    run_target_hostname: \n    run_target_username: \n    run_target_password: \n\nstandalone_execution:  \n- utpsm_executable: &amp;seid_01   \n    name: tpsm_BE         \n    rulesfile: [*rulesid_02,*rulesid_01]\n    target_list: [*runid_01]\n\n- utpsm_executable: &amp;seid_02\n    name: tpsm_LE         \n    rulesfile: []\n    target_list: [*runid_02]\n</code></pre>\n\n<p>Note that I removed <code>*rulesid_03,*rulesid_04</code> because they do not exist. You can of course add content with those anchors and then re-add the aliases.</p>\n"}], "owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470734033, "creation_date": 1470670783, "last_edit_date": 1470734033, "question_id": 38833376, "link": "https://stackoverflow.com/questions/38833376/acessing-array-of-array-of-hash-pointers", "title": "Acessing array of array of hash pointers", "body": "<p>This is my YAML File </p>\n\n<pre><code>  standalone_execution:  \n  - utpsm_executable: &amp;seid_01   \n     name: tpsm_BE         \n     rulesfile: [*rulesid_02,*rulesid_01]\n     target_list: [*runid_01]\n\n  - utpsm_executable: &amp;seid_02\n     name: tpsm_LE         \n     rulesfile: [*rulesid_01,*rulesid_02]\n     target_list: [*runid_02,*runid_01]\n\n  rules_file: \n  - rules_file_id: &amp;rulesid_01 \n     name: tpsm_rulesfile_LE \n     hostname:       \n\n  - rules_file_id: &amp;rulesid_02\n     name: tpsm_rulesfile_BE        \n     hostname:  \n\n  run_target_platforms: \n  - run_target_id: &amp;runid_01\n     target_connection_info: \n      run_target_hostname: \n      run_target_username: \n      run_target_password: \n\n  - run_target_id: &amp;runid_02\n     target_connection_info: \n      run_target_hostname: \n      run_target_username: \n      run_target_password: \n</code></pre>\n\n<p>This is how I parse the Yaml :</p>\n\n<pre><code>   $yaml_input = YAML::XS::LoadFile(\"$input_file\");\n   Yaml_Lib::parse_yaml($yaml_input);\n</code></pre>\n\n<p>here is my function from where I extract the parameters </p>\n\n<pre><code>sub parse_yaml_standalone($) {\n    my ($yaml_input) = @_;\n\n    $standalone_exec = $yaml_input-&gt;{standalone_execution};\n\n    @utpsm_exec    = ();\n    @se_exec_name  = ();\n    @se_tgt_list   = ();\n    @se_rulesfile  = ();\n    @se_rules_name = ();\n\n    @se_run_target_controls = ();\n    @se_run_target_controls = ();\n\n    my $k = 0;\n    my $j = 0;\n    my $i = 0;\n\n    for my $seindex ( @$standalone_exec ) {\n\n        $utpsm_exec[$k]   = $seindex-&gt;{utpsm_executable};\n        $se_exec_name[$k] = $utpsm_exec[$k]-&gt;{name};\n        $se_tgt_list[$k]  = $utpsm_exec[$k]-&gt;{target_list};\n        $se_rulesfile[$k] = $utpsm_exec[$k]-&gt;{rulesfile};\n\n        for my $rindex ( @{ $se_rulesfile[$k] } ) {\n            $se_rules_name[$j] = $rindex-&gt;{name};\n            $j++;\n        }\n\n        for my $run_index ( @{ $se_tgt_list[$k] } ) {\n            $se_run_target_controls[$i] = $run_index-&gt;{target_controls};\n            $se_run_target_types[$i]    = $se_run_target_controls[$i]-&gt;{run_target_type};\n            $se_run_target_active[$i]   = $se_run_target_controls[$i]-&gt;{run_target_active};\n            $i++;\n        }\n\n        $k++;\n\n    }    #end of main for\n\n    print \"yaml rules: @se_rules_name\\n\";\n}\n</code></pre>\n\n<p>Here, each of the target_list element should run with every rulesfile element, so i write the following code but for index = 1, I don't get the desire results, can anybody correct me where i am going wrong ?</p>\n\n<pre><code>my $i = 0;\nmy $j = 0;\n\nforeach my $se_index ( @{$Yaml_Lib::standalone_exec} ) {\n    print \"parent hash : $se_index\\n\";\n\n    foreach my $se_runid ( @{ $Yaml_Lib::se_tgt_list[$i] } ) {\n\n        my $pid = fork();\n        die \"INFO :: Cannot fork new process for run target on host : $!\" unless defined($pid);\n\n        # In Child Processing\n        if ( $pid == 0 ) {\n\n            my $k    = 0;\n            my $cpid = ($$);\n            print \"INFO :: In run target : child $j process , pid : ($$)\\n\";\n            Client_Lib::client_logs($cpid);\n\n            #send the tpsm exec($i in this case) details as well with run targets(by $j)\n            print \"child hash $se_index\\n\";\n\n            foreach my $rindex ( @{ $Yaml_Lib::se_rulesfile[$i] } ) {\n                print \"rules array : $rindex\\n\";\n                Client_Lib::cap_prints( $Client_Lib::prints_file, \"$Yaml_Lib::se_rulesfile[$i]\\n\" );\n                $k++;\n            }\n\n            #exit from child process\n\n            exit 0;\n        }\n</code></pre>\n\n<p>The following code is basically the parent waiting for the child to terminate and other checks which I am not displaying due to the length of the question.</p>\n\n<p>Please let me know where I am going wrong.</p>\n"}, {"tags": ["html", "perl", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1470670446, "post_id": 38833181, "comment_id": 65031824, "body": "The code you have there is <b>Old</b> with a capital O."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6605424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23c9ea44f921cd8dbd66a80fc8f92730?s=128&d=identicon&r=PG&f=1", "display_name": "Girish Tiwari", "link": "https://stackoverflow.com/users/6605424/girish-tiwari"}, "edited": false, "score": 0, "creation_date": 1470677631, "post_id": 38833229, "comment_id": 65035930, "body": "Thanks for the help! I simply deleted the decoding code like you suggested, and it works exactly as it does online!"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 2, "last_activity_date": 1470670904, "last_edit_date": 1470670904, "creation_date": 1470670317, "answer_id": 38833229, "question_id": 38833181, "link": "https://stackoverflow.com/questions/38833181/perl-cgi-gets-more-than-text-from-input-textarea/38833229#38833229", "title": "PERL/CGI- gets more than text from input textarea", "body": "<p>The encoding scheme forms use (by default) to POST data over HTTP consists of <code>key=value</code> pairs (hence the <code>=</code>) which are separated by <code>&amp;</code> characters.</p>\n\n<p>The latter doesn't much matter for your form since it has only one control in it.</p>\n\n<p>This is described pretty succinctly in <a href=\"https://www.w3.org/TR/html4/interact/forms.html#h-17.13.4.1\" rel=\"nofollow\">the HTML 4 specification</a> and in more detail in <a href=\"https://www.w3.org/TR/html5/forms.html#url-encoded-form-data\" rel=\"nofollow\">the HTML 5 specification</a>. </p>\n\n<p>If you aren't dealing with data from a form, you should remove all the form decoding code.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1470671863, "creation_date": 1470671863, "answer_id": 38833707, "question_id": 38833181, "link": "https://stackoverflow.com/questions/38833181/perl-cgi-gets-more-than-text-from-input-textarea/38833707#38833707", "title": "PERL/CGI- gets more than text from input textarea", "body": "<p>Not sure where you got that code from, but it's prehistoric (from the last millennium).</p>\n\n<p>You should be able to replace it all with.</p>\n\n<pre><code>use CGI ':cgi';\n\nmy $atoms = param('ATOMS');\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6605424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23c9ea44f921cd8dbd66a80fc8f92730?s=128&d=identicon&r=PG&f=1", "display_name": "Girish Tiwari", "link": "https://stackoverflow.com/users/6605424/girish-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 38833229, "answer_count": 2, "score": 1, "last_activity_date": 1470671863, "creation_date": 1470670184, "question_id": 38833181, "link": "https://stackoverflow.com/questions/38833181/perl-cgi-gets-more-than-text-from-input-textarea", "title": "PERL/CGI- gets more than text from input textarea", "body": "<p>I'm not at all familiar with perl, but have some understanding of html. I'm currently trying to configure code from an online program that processes text inputted from the user to calculate and output a few important numbers in order to do the same for a large number of files containing text in a local directory. The problem lies in my lack of understanding for how or why the code from the site is splitting the inputted text by looking for &amp; and =, as the inputted text never contains these characters, and neither my files. Here's some of the code from the online program:</p>\n\n<pre><code>if ($ENV{'REQUEST_METHOD'} ne \"POST\") { \n    &amp;error('Error','Use Standard Input by METHOD=POST'); \n}\n\nread(STDIN, $buffer, $ENV{'CONTENT_LENGTH'});\n\nif ($buffer eq '') { \n    &amp;error('Error','Can not execute directly','Check the usage'); \n}\n\n$ref = $ENV{'HTTP_REFERER'};\n\n@pairs = split(/&amp;/,$buffer);\n\nforeach $pair (@pairs) {\n    ($name,$value) = split(/=/,$pair);\n    if ($name eq \"ATOMS\") { $atoms = $value; }\n</code></pre>\n\n<p>It then uses these \"pairs\" to appropriately calculate the required numbers. The input from the user is simply a textarea named \"ATOMS\", and the form action is the cgi script:</p>\n\n<pre><code>&lt;form method=POST action=\"/path/to/the/cgi/file.cgi\"&gt;\n&lt;textarea name=\"ATOMS\" rows=20 cols=80&gt;&lt;/textarea&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I've left out the less important details of both the html and perl codes. So far all I've been able to do is get all the content from all files in a given directory in a text format, but when I input this into the script that uses the text from textarea to calculate the values (in place of the variable $buffer), it doesn't work, which I suspect is due to the split codes, which cannot find the &amp; and = symbols. How does the code get these symbols from the online script, and how can I implement that to use for my local files? Let me know if any additional information is needed, and thanks in advance!</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470672743, "post_id": 38833134, "comment_id": 65033199, "body": "Tip: <code>warn(&quot;x\\n&quot;)</code> is not only shorter than <code>print(STDERR &quot;x\\n&quot;)</code>, is also causes <code>$SIG{__WARN__}</code> to be called if set. This is a better approach."}, {"owner": {"reputation": 79, "user_id": 5597209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GwBzy1gfne4/AAAAAAAAAAI/AAAAAAAAAEI/iZJfktln3C0/photo.jpg?sz=128", "display_name": "Tsaari", "link": "https://stackoverflow.com/users/5597209/tsaari"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470673017, "post_id": 38833134, "comment_id": 65033336, "body": "That makes sense. Thanks for the tip!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470673521, "post_id": 38833134, "comment_id": 65033610, "body": "You could print a message after the dequeue loops to see if the thread exited because the dequeue returned false, or for some other reason."}, {"owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "edited": false, "score": 0, "creation_date": 1471530939, "post_id": 38833134, "comment_id": 65392416, "body": "I don&#39;t know much about Thread::Queue, but you might need to flush your stderr buffer. If it fills up from some sort of error from your data, it could be a problem.  I don&#39;t know if IO::Select is thread safe, but I use it to cycle through the output handles I get back from IO::Pipe::Producer. I know that with child processes, if you don&#39;t do that, you can run into problems."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470671488, "post_id": 38833380, "comment_id": 65032454, "body": "<code>$exonerate_request_queue-&gt;end();</code> is indeed being called too soon, although it&#39;s not necessarilly called as soon as <code>$blast_request_queue-&gt;end();</code> is called. The code on which the OP based his did not suffer from this problem. That said, I&#39;m not convinced this is the problem the OP is asking about."}, {"owner": {"reputation": 79, "user_id": 5597209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GwBzy1gfne4/AAAAAAAAAAI/AAAAAAAAAEI/iZJfktln3C0/photo.jpg?sz=128", "display_name": "Tsaari", "link": "https://stackoverflow.com/users/5597209/tsaari"}, "edited": false, "score": 0, "creation_date": 1470672252, "post_id": 38833380, "comment_id": 65032907, "body": "I should have noted that I tried removing that line as well. I&#39;ll edit my Q to reflect this. The result was the same, frustratingly."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1470670799, "creation_date": 1470670799, "answer_id": 38833380, "question_id": 38833134, "link": "https://stackoverflow.com/questions/38833134/perl-multithreading-worker-threads-stops-working/38833380#38833380", "title": "Perl Multithreading - worker threads stops working", "body": "<p>Without your source information, I can't test it - but my money would be on the first time you:</p>\n\n<pre><code>$exonerate_request_queue-&gt;end();\n</code></pre>\n\n<p>In that async block.</p>\n\n<p>Because I think it's quite possible there, that <em>as soon</em> as you close the  </p>\n\n<pre><code>$blast_request_queue-&gt;end(); \n</code></pre>\n\n<p>Then a thread will exit soon after, close the 'output' queue, and in doing so - mean you lose anything that was pending, because the queue is closed. </p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 5597209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GwBzy1gfne4/AAAAAAAAAAI/AAAAAAAAAEI/iZJfktln3C0/photo.jpg?sz=128", "display_name": "Tsaari", "link": "https://stackoverflow.com/users/5597209/tsaari"}, "edited": false, "score": 0, "creation_date": 1470672812, "post_id": 38833813, "comment_id": 65033232, "body": "Thanks Ikegami, I will try this approach as well as delete that line. To clarify, would you also advise changing the way that I handle errors within the subroutine, having them die rather than print to STDERR?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 79, "user_id": 5597209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GwBzy1gfne4/AAAAAAAAAAI/AAAAAAAAAEI/iZJfktln3C0/photo.jpg?sz=128", "display_name": "Tsaari", "link": "https://stackoverflow.com/users/5597209/tsaari"}, "edited": false, "score": 2, "creation_date": 1470673131, "post_id": 38833813, "comment_id": 65033394, "body": "You mean how you print on <code>open</code> failure, but then try to use the handle anyway? Yeah, that needs to be changed."}, {"owner": {"reputation": 79, "user_id": 5597209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GwBzy1gfne4/AAAAAAAAAAI/AAAAAAAAAEI/iZJfktln3C0/photo.jpg?sz=128", "display_name": "Tsaari", "link": "https://stackoverflow.com/users/5597209/tsaari"}, "edited": false, "score": 0, "creation_date": 1470681683, "post_id": 38833813, "comment_id": 65038163, "body": "Wow, yeah I agree that&#39;s pretty egregious. I definitely avoided <code>die</code>, mostly out of ignorance. I think I see how it will come together now."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1470672550, "last_edit_date": 1470672550, "creation_date": 1470672210, "answer_id": 38833813, "question_id": 38833134, "link": "https://stackoverflow.com/questions/38833134/perl-multithreading-worker-threads-stops-working/38833813#38833813", "title": "Perl Multithreading - worker threads stops working", "body": "<p>You've gone to a lot of trouble to avoid <code>die</code>, when you should simply have added an <code>eval BLOCK</code> around the worker code.</p>\n\n<p>Change</p>\n\n<pre><code>my $result = job1($job);\n$job2_request_queue-&gt;enqueue($result);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my $result = eval { job1($job) };\nif ($@) {\n   warn(\"Job failed: $@\");\n} else {\n   $job2_request_queue-&gt;enqueue($result);\n}\n</code></pre>\n\n<p>This is far more reliable. For example, <code>run</code> can throw an exception which will kill your child.</p>\n\n<hr>\n\n<p>Also, as Sobrique mentioned, the topmost instance of <code>$exonerate_request_queue-&gt;end();</code> should not been added. That prevents further work from being added to the queue (and signals the exonerate workers to exit once all the work currently in the queue has been performed). That should only be done after every blast worker has exited, but this addition causes this to be done as soon as the first blast worker exits.</p>\n"}], "owner": {"reputation": 79, "user_id": 5597209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GwBzy1gfne4/AAAAAAAAAAI/AAAAAAAAAEI/iZJfktln3C0/photo.jpg?sz=128", "display_name": "Tsaari", "link": "https://stackoverflow.com/users/5597209/tsaari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1470672550, "creation_date": 1470670072, "last_edit_date": 1495540294, "question_id": 38833134, "link": "https://stackoverflow.com/questions/38833134/perl-multithreading-worker-threads-stops-working", "title": "Perl Multithreading - worker threads stops working", "body": "<p>I have the following perl code which makes asynchronous calls to two external bioinformatics programs. First, it runs a blastJob, and then it takes the results from that and runs an exonerateJob. I've adapted this code from a <a href=\"https://stackoverflow.com/a/38253862/5597209\">previous question</a> about moving my code to a multi-threaded approach.</p>\n\n<p>The problem is frustrating because it only happens after several hours of running. I will leave the program to run overnight and find in the morning that the exonerateJobs are no longer running, but new blastJobs are still cranking through. There are no reported errors or anything. Another tidbit of information is that I've gone back and tested the input queries where the logs show that the exonerateJobs stopped working. The program completes just fine if I run a small number of queries through it, even if they're the queries that seemed to have caused problems previously. Since I'm not too familiar with the rules of multithreading, I'd like to know if there's a problem with my approach, or if it's potentially a problem with the external programs that are called. Here's the bit of code: </p>\n\n<pre><code>#Asynchronous calls to blast and exonerate\n{\n   my $blast_request_queue = Thread::Queue-&gt;new();\n   my $exonerate_request_queue = Thread::Queue-&gt;new();\n\n   my @blast_threads;\n   for (1..NUM_BLAST_WORKERS) {\n      push @blast_threads, async {\n         while (my $q = $blast_request_queue-&gt;dequeue()) {\n            my @results = blastJob($q, $blastopts_ref);\n            foreach (@results) {\n               my @args = ($q, $_);\n               $exonerate_request_queue-&gt;enqueue(\\@args);\n            }\n         }\n\n         $exonerate_request_queue-&gt;end(); # I've tried with and without this line, the result seems to be the same\n      };\n   }\n\n   my @exonerate_threads;\n   for (1..NUM_EXONERATE_WORKERS) {\n      push @exonerate_threads, async {\n         while (my $args_ref = $exonerate_request_queue-&gt;dequeue()) {\n            my ($queryFile, $targetName) = @$args_ref; #De-reference args\n            my $regex = qr/\\Q$targetName\\E/;\n            #Check for target file\n            my ($file_match) = grep { $_ =~ $regex } keys %targets;\n            if ($file_match) {\n                my $targetFile = $options{'t'} . $file_match;\n                my $result = exonerateJob($queryFile, $targetFile, $exonopts_ref);\n                #Print result to file after job is finished\n                my ($Qname, $Qpath, $Qsuffix) = fileparse($queryFile);\n                my $outFN = $Qname . \".exonerate_out\";\n                open(OUTFH, \"&gt;&gt;$outFN\") or print STDERR \"Can't open $outFN: $!\";\n                print OUTFH $result;\n            } else {\n                print STDERR \"Target file not found: $targetName. Can't run exonerate\";\n            }\n         }\n      };\n   }\n\n    foreach (@queries) {\n        #Concatenate query path with name\n        my $queryFile = $options{'q'} . $_;\n        $blast_request_queue-&gt;enqueue($queryFile);\n    }\n    #my $queryFile = $options{'q'} . $queries[3];\n    #$blast_request_queue-&gt;enqueue($queryFile);\n\n   $blast_request_queue-&gt;end();    \n   $_-&gt;join() for @blast_threads;\n   $exonerate_request_queue-&gt;end();\n   $_-&gt;join() for @exonerate_threads;\n}\n\n#I'm using IPC::Run to launch the programs.\n#There is some error handling which I believe should catch any probs\nsub blastJob {\n    my ($query, $blastopts_ref) = @_;\n    #De-reference blast options\n    my @blastCmd = @$blastopts_ref;\n    my ($blastOut, $err); #for blast output\n    #Add query information after first blast option\n    splice(@blastCmd, 1, 0, (\"-query\", $query));\n    my ($Qname, $Qpath, $Qsuffix) = fileparse($query);\n    print \"Running $blastCmd[0]: query $Qname...\\n\";\n    run \\@blastCmd, \\undef, \\$blastOut, \\$err;\n    if ($err) {\n        print \"Error in BLAST query $Qname. $err\\n\";\n    }\n    my @results = split(\"\\n\", $blastOut);\n    return uniq(@results);\n}\n\nsub exonerateJob {\n    my ($query, $target, $exonopts_ref) = @_;\n    #De-reference exonerate options\n    my @exonCmd = @$exonopts_ref;\n    my ($exonOut, $err); #for exonerate output\n    #Add program, query, and target information to exonerate options\n    unshift (@exonCmd, (\"exonerate\", \"-q\", $query, \"-t\", $target));\n    my ($Qname, $Qpath, $Qsuffix) = fileparse($query);\n    my ($Tname, $Tpath, $Tsuffix) = fileparse($target);\n    eval {\n        print \"Running exonerate: query $Qname, target $Tname...\\n\";\n        run \\@exonCmd, \\undef, \\$exonOut, \\$err, timeout(240);\n        if ($err) {\n            print STDERR \"Error in exonerate query $Qname, target $Tname. $err\\n\";\n        }\n    };\n    if ($@ =~ /timeout/) {\n        print STDERR \"Error: timeout in exonerate query $Qname, target $Tname\\n\";\n    }\n\n    return $exonOut;\n}\n</code></pre>\n"}, {"tags": ["perl", "encoding", "base64"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470670006, "post_id": 38832772, "comment_id": 65031510, "body": "Tip: base64 is an encoding algorithm. It&#39;s not an encryption algorithm because there is no secret (key). As such, saying that <code>decode_base64</code> decrypts is inappropriate."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1470670045, "last_edit_date": 1470670045, "creation_date": 1470669740, "answer_id": 38833022, "question_id": 38832772, "link": "https://stackoverflow.com/questions/38832772/mimebase64decode-base64-wrong-characters/38833022#38833022", "title": "MIME::Base64::decode_base64 wrong characters", "body": "<p>This is clearly not text, so it's no surprise it doesn't render properly when printed as text. base64decode.org actually produces the same correct result as <code>decode_base64</code>, which is the following bytes:</p>\n\n<pre><code>95.5B.DF.AF.1D.B7.8D.7E.EF.5F.71.E0.87.22.46.C6.8E.28.8A.FA.81.22\n</code></pre>\n\n<p>You can use either of the following to remove the characters you identified, but that's is most definitely the wrong thing to do.</p>\n\n<pre><code>$content =~ tr/\\x1D\\x87\\x8D\\x95//d;\n  -or-\n$content =~ s/[\\x1D\\x87\\x8D\\x95]//g;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4730065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c305ba4ca84b1a062207c678f73b9f5?s=128&d=identicon&r=PG&f=1", "display_name": "Lorenzow", "link": "https://stackoverflow.com/users/4730065/lorenzow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470670045, "creation_date": 1470669034, "question_id": 38832772, "link": "https://stackoverflow.com/questions/38832772/mimebase64decode-base64-wrong-characters", "title": "MIME::Base64::decode_base64 wrong characters", "body": "<p>I get some troubles using perl MIME::Base64::decode_base64</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse MIME::Base64;\n$string_to_decrypt=\"lVvfrx23jX7vX3HghyJGxo4oivqBIg\";\n$content=MIME::Base64::decode_base64($string_to_decrypt);\nopen(WRITE,\"&gt;/home/laurent/decrypted.txt\");\nprint WRITE $content;\nclose(WRITE);\nexit;\n</code></pre>\n\n<p>Using online decoder (like <a href=\"https://www.base64decode.org/\" rel=\"nofollow\">https://www.base64decode.org/</a>) result should be:</p>\n\n<pre><code>[\u00df\u00af\u00b7~\u00ef_q\u00e0\"F\u00c6(\u00fa\"\n</code></pre>\n\n<p>But in my file, I get:</p>\n\n<pre><code>&lt;95&gt;[\u00df\u00af^]\u00b7&lt;8d&gt;~\u00ef_q\u00e0&lt;87&gt;\"F\u00c6&lt;8e&gt;(&lt;8a&gt;\u00fa&lt;81&gt;\"\n</code></pre>\n\n<p>I don't know how to get rid of:</p>\n\n<pre><code> &lt;95&gt;, ^], &lt;8d&gt;,&lt;87&gt; ....\n</code></pre>\n\n<p>Thanks\nLaurent</p>\n"}, {"tags": ["xml", "perl"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6581336, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rdtc4oA0Wx8/AAAAAAAAAAI/AAAAAAAAAmI/WvppqrPjZSw/photo.jpg?sz=128", "display_name": "Manuel De Oliveira", "link": "https://stackoverflow.com/users/6581336/manuel-de-oliveira"}, "edited": false, "score": 0, "creation_date": 1470682956, "post_id": 38832450, "comment_id": 65038812, "body": "I`ve applied the code that you suggest to me, but the result was all the XML file, and as i told you i need only the two mentioned data, thanks for your reply :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 13, "user_id": 6581336, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rdtc4oA0Wx8/AAAAAAAAAAI/AAAAAAAAAmI/WvppqrPjZSw/photo.jpg?sz=128", "display_name": "Manuel De Oliveira", "link": "https://stackoverflow.com/users/6581336/manuel-de-oliveira"}, "edited": false, "score": 0, "creation_date": 1470730762, "post_id": 38832450, "comment_id": 65055762, "body": "That code worked with the snipped you provided. What do you mean by &#39;all the XML file&#39;?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1470668169, "creation_date": 1470668169, "answer_id": 38832450, "question_id": 38832244, "link": "https://stackoverflow.com/questions/38832244/parsing-in-a-long-xml-file-with-perl/38832450#38832450", "title": "Parsing in a long XML file with perl", "body": "<p>For long XML, I find <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a> has really got it good - it can use <code>twig_handers</code> and <code>purge</code> as you're parsing, so you can handle subsets of XML efficiently.</p>\n\n<p>So assuming you're wanting to go by \"item\":</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy @things = ( './datetime', './value[@channel=\"Traffic Total (speed)\"]' );\n\nsub process_item {\n   my ( $twig, $item ) = @_;      \n   print join \"\\t\", (map { $item -&gt; get_xpath($_,0) -&gt; text } @things),\"\\n\";\n   $twig-&gt;purge;\n}\n\nmy $twig = XML::Twig -&gt; new ( twig_handlers =&gt; { 'item' =&gt; \\&amp;process_item } );\n   $twig -&gt; parsefile ('your_file.xml'); \n</code></pre>\n\n<p>What <code>purge</code> does is discard 'up to this point' from memory, making it quite efficient for XML containing a large number of similar elements. </p>\n"}], "owner": {"reputation": 13, "user_id": 6581336, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rdtc4oA0Wx8/AAAAAAAAAAI/AAAAAAAAAmI/WvppqrPjZSw/photo.jpg?sz=128", "display_name": "Manuel De Oliveira", "link": "https://stackoverflow.com/users/6581336/manuel-de-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 38832450, "answer_count": 1, "score": 1, "last_activity_date": 1470668169, "creation_date": 1470667595, "question_id": 38832244, "link": "https://stackoverflow.com/questions/38832244/parsing-in-a-long-xml-file-with-perl", "title": "Parsing in a long XML file with perl", "body": "<p>Hi everyone im a new perl programmer and im now trying to fetch some data from a long XML file. But i cant to get the two data at the same time in general my code, please i need to check how to use efficiently a loop or any structure to get the data that i need. </p>\n\n<pre><code>&lt;item&gt;\n    &lt;datetime&gt;7/28/2016 12:00:00 AM - 12:00:15 AM&lt;/datetime&gt;\n    &lt;datetime_raw&gt;42579.1668402778&lt;/datetime_raw&gt;\n    &lt;value channel=\"Traffic Total (volume)\" channelid=\"1\"&gt;4,664,204 KByte&lt;/value&gt;\n    &lt;value_raw channel=\"Traffic Total (volume)\" channelid=\"1\"&gt;4776145337.3504&lt;/value_raw&gt;\n    &lt;value channel=\"Traffic Total (speed)\" channelid=\"1\"&gt;517,319 kbit/s&lt;/value&gt;\n    &lt;value_raw channel=\"Traffic Total (speed)\" channelid=\"1\"&gt;64664843.4518&lt;/value_raw&gt;\n    &lt;value channel=\"Traffic DL (volume)\" channelid=\"2\"&gt;3,805,763 KByte&lt;/value&gt;\n    &lt;value_raw channel=\"Traffic DL (volume)\" channelid=\"2\"&gt;3897101197.8596&lt;/value_raw&gt;\n    &lt;value channel=\"Traffic DL (speed)\" channelid=\"2\"&gt;422,107 kbit/s&lt;/value&gt;\n    &lt;value_raw channel=\"Traffic DL (speed)\" channelid=\"2\"&gt;52763352.2591&lt;/value_raw&gt;\n    &lt;value channel=\"Traffic UL (volume)\" channelid=\"3\"&gt;858,442 KByte&lt;/value&gt;\n    &lt;value_raw channel=\"Traffic UL (volume)\" channelid=\"3\"&gt;879044139.4907&lt;/value_raw&gt;\n    &lt;value channel=\"Traffic UL (speed)\" channelid=\"3\"&gt;95,212 kbit/s&lt;/value&gt;\n    &lt;value_raw channel=\"Traffic UL (speed)\" channelid=\"3\"&gt;11901491.1927&lt;/value_raw&gt;\n    &lt;coverage&gt;100 %&lt;/coverage&gt;\n    &lt;coverage_raw&gt;0000010000&lt;/coverage_raw&gt;\n   &lt;/item&gt;\n</code></pre>\n\n<p>I have hundrends of items like these and i need to extrac the pair datatime and the specific value channel=\"Traffic Total (volume)\" at the same time, here an extract of my perl code: </p>\n\n<pre><code>my $reader = XML::LibXML::Reader-&gt;new(string =&gt; \"$HDF\") or die \"cannot read file.xml\\n\";\n\nwhile ($reader-&gt;nextElement( 'item' )) {\n                    my $item = $reader-&gt;readInnerXml;\n                    while ($reader-&gt;nextElement( 'datetime' )) {\n                        $DT = $reader-&gt;readInnerXml;\n                        print $DT;\n\n                        while ($reader-&gt;nextElement( 'value' )) {\n                            my $value = $reader-&gt;readInnerXml;\n                            if ($value eq 'Traffic Total (speed)'){\n                                $HD = $reader-&gt;readInnerXml;\n                                print $HD;\n                            }\n                        }\n                    }\n                }\n</code></pre>\n\n<p>Thanks for your comments about it. </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": 0, "last_activity_date": 1470667558, "creation_date": 1470667558, "answer_id": 38832234, "question_id": 38831763, "link": "https://stackoverflow.com/questions/38831763/perl-searching-for-values-in-one-file-which-could-be-present-in-another/38832234#38832234", "title": "Perl- searching for values in one file which could be present in another", "body": "<p>Please try this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Cwd;\n\nmy $lopfile = \"listofprod.txt\";\nmy $jsonfile = \"LOP.json\";\n\nmy ($tmp,$jsontxt) = \"\";\nopen(LOP, $lopfile) || die \"Can't open the file '$lopfile': $!\\n\";\n{ local $/; $_ = &lt;LOP&gt;; $tmp = $_; }\nclose(LOP);\n\nmy @listofprod = split/\\s/, $tmp;\n#print join \"\\n\", @listofprod;\n\nopen(JSN, $jsonfile) || die \"Can't open the file '$jsonfile': $!\\n\";\n{ local $/; $_ = &lt;JSN&gt;; $jsontxt = $_; }\nclose(JSN);\n\nopen(OUT, \"&gt;Report.txt\") || die \"Can't create the file 'Report.txt': $!\\n\";\nfor(0..$#listofprod)\n{\n    if($jsontxt=~m/$listofprod[$_]/g)\n    {\n        print OUT \"YES: It's matched '$listofprod[$_]'...\\n\";\n    }\n    else\n    {\n        print OUT \"NO: It's not matched '$listofprod[$_]'...\\n\";\n    }\n}\nclose(OUT);\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code> NO: It's not matched 'DL750-12D1'...\n NO: It's not matched 'DL750-12D2'...\n YES: It's matched 'DL750-12D3'...\n NO: It's not matched 'DL750-12D4'...\n YES: It's matched 'DL750-12D5'...\n NO: It's not matched 'DL750-12D6'...\n YES: It's matched 'DL750-12D9'...\n NO: It's not matched 'DL750-12D11'...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6684042, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jU8uEKtkGag/AAAAAAAAAAI/AAAAAAAAMrA/2FYK4kqzTKM/photo.jpg?sz=128", "display_name": "Pannaga Gayathri", "link": "https://stackoverflow.com/users/6684042/pannaga-gayathri"}, "edited": false, "score": 0, "creation_date": 1470924669, "post_id": 38863904, "comment_id": 65156339, "body": "Thanks for the solution"}], "tags": [], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "is_accepted": false, "score": 1, "last_activity_date": 1470801038, "creation_date": 1470801038, "answer_id": 38863904, "question_id": 38831763, "link": "https://stackoverflow.com/questions/38831763/perl-searching-for-values-in-one-file-which-could-be-present-in-another/38863904#38863904", "title": "Perl- searching for values in one file which could be present in another", "body": "<pre><code>use Algorithm::Diff qw(diff);\n\nbag(\"Usage: $0 oldfile newfile\") unless @ARGV == 2;\n\nmy ($file1, $file2) = @ARGV;\n\n-f $file1 or bag(\"$file1: not a regular file\");\n-f $file2 or bag(\"$file2: not a regular file\");\n\nopen (F1, $file1) or bag(\"Couldn't open $file1: $!\");\nopen (F2, $file2) or bag(\"Couldn't open $file2: $!\");\nchomp(@f1 = &lt;F1&gt;);\nclose F1;\nchomp(@f2 = &lt;F2&gt;);\nclose F2;\n\n$diffs = diff(\\@f1, \\@f2);\nexit 0 unless @$diffs;\n\nforeach $chunk (@$diffs) {\n\n    foreach $line (@$chunk) {\n\n        my ($sign, $lineno, $text) = @$line;\n        printf \"%4d$sign %s\\n\", $lineno+1, $text;\n    }\n}\nexit 1;\n\nsub bag {\n   my $msg = shift;\n   $msg .= \"\\n\";\n   warn $msg;\n   exit 2;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6684042, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jU8uEKtkGag/AAAAAAAAAAI/AAAAAAAAMrA/2FYK4kqzTKM/photo.jpg?sz=128", "display_name": "Pannaga Gayathri", "link": "https://stackoverflow.com/users/6684042/pannaga-gayathri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 38832234, "answer_count": 2, "score": 0, "last_activity_date": 1470801038, "creation_date": 1470666217, "last_edit_date": 1470667486, "question_id": 38831763, "link": "https://stackoverflow.com/questions/38831763/perl-searching-for-values-in-one-file-which-could-be-present-in-another", "title": "Perl- searching for values in one file which could be present in another", "body": "<p>I have a file where the following list of products are mentioned :</p>\n\n<pre><code>DL750-12D1\nDL750-12D2\nDL750-12D3\nDL750-12D4\nDL750-12D5\nDL750-12D6\nDL750-12D9\nDL750-12D11\n</code></pre>\n\n<p>I have another file which contains list of JSON objects which are as follows:</p>\n\n<pre><code> {\n      \"Type\": \"DL750-12D5\",\n      \"ProductLevelSimCheck\": false,\n      \"HWCompatibilityCheck\": true,\n      \"FWVersionCheck\": true,\n      \"ConfigCheck\": true,\n      \"createdAt\": \"2016-07-23T04:00:00.000Z\",\n      \"Active\": true,\n      \"IMEIRequired\": true,\n      \"HWCompatibility\": \"01 01 01 01 01 00 00 00\",\n      \"FWVersion\": \"D6.57\",\n      \"Config\": \"TMC02\",\n      \"Generation\": \"Gen 2\",\n      \"ModifiedBy\": \"chanakyav\",\n      \"updatedAt\": \"2016-07-28T17:42:48.249Z\",\n      \"id\": \"5794182ba6832e7056349c76\"\n    }\n</code></pre>\n\n<p>How does one search if the list of products listed in products page can be found in product JSON page. And is there a way to list if the product is not present in JSON page?</p>\n\n<p>I have implemented the following code in perl, but doesn't fetch me any results :</p>\n\n<pre><code>#!C:/Dwimperl/perl/bin/perl.exe \n\nuse File::Slurp;\n\n#open (PL, \"C:/Pannaga/ProjDocs/Prod/products_list.txt\");\n#open FILE, \"&lt;C:/Pannaga/ProjDocs/Prod/products_page_json.txt\";\nopen(Out,'&gt;', \"C:/Pannaga/ProjDocs/Prod/Output.txt\");\n\n\nmy @file1 = do {\n    open my $fh, \"&lt;\", \"C:/Pannaga/ProjDocs/Prod/products_list.txt\"\n        or die \"could not open $filename: $!\";\n    &lt;$fh&gt;;\n};\n\n$count =0;\nfor my $i (0 .. $#file1)\n{\n\n      $count++;\n      $find = $file1[$i];\n\n      print Out \"$count --&gt;Line that matched $find\\n\";\n\n\nmy @line =  do {\n    open my $fh2, \"&lt;\", \"C:/Pannaga/ProjDocs/Prod/products_page_json.txt\"\n        or die \"could not open $filename: $!\";\n    &lt;$fh2&gt;;\n};\n\nfor my $j (0 .. $#line) {\n\n    if (index($line[j], $file1[$i]) != -1) {\n   print \"'$line[j]' contains '$file1[$i]'\\n\";\n}\n}\n\n      }\n\nclose(Out);\n</code></pre>\n"}, {"tags": ["xml", "perl", "utf-8"], "comments": [{"owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "edited": false, "score": 0, "creation_date": 1470666236, "post_id": 38831484, "comment_id": 65028798, "body": "Normally I would expect code like <code>XML::LibXML::Reader-&gt;new(location =&gt; &quot;http:&#47;&#47;example.com&#47;file.xml&quot;)</code>, then the XML parser will take care of parsing and decoding as needed. If you load from a string with <code>new(string =&gt; $content)</code>, where/how do you create that string when you get the error about improper UTF-8?"}, {"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "reply_to_user": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "edited": false, "score": 0, "creation_date": 1470666690, "post_id": 38831484, "comment_id": 65029133, "body": "I have just added an edit near the top."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470667834, "post_id": 38831484, "comment_id": 65029965, "body": "Tip: <code>open(my $fh, &#39;&lt;:raw&#39;, $qfn) or die $!;</code> would be better, as it ensures the file is &quot;binary&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470667844, "post_id": 38831484, "comment_id": 65029976, "body": "Tip: <code>XML::LibXML::Reader-&gt;new(IO =&gt; $fh)</code> would make far more sense than loading the entire file into memory."}, {"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1470668504, "post_id": 38831484, "comment_id": 65030471, "body": "Thanks ikegami, there&#39;s a different process that loads the files in which is why it was that way, but I will look to see if we can change that slightly, as reducing memory would be valuable. I will also look at the loading in as binary. Very useful."}], "answers": [{"comments": [{"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1470672202, "post_id": 38832086, "comment_id": 65032874, "body": "Thank you, this has led me in the right direction now with looking at valid xml."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1470675351, "last_edit_date": 1470675351, "creation_date": 1470667121, "answer_id": 38832086, "question_id": 38831484, "link": "https://stackoverflow.com/questions/38831484/improper-utf-8-and-libxmlreader/38832086#38832086", "title": "Improper UTF-8 and LibXML::Reader", "body": "<p>The error message is misleading; the problem has nothing to do with encoding<sup>[1]</sup>. In fact, the error I receive is the following<sup>[2]</sup>:</p>\n\n<pre><code>:1: parser error : PCDATA invalid Char value 26\n</code></pre>\n\n<p>From the XML spec,</p>\n\n<blockquote>\n<pre><code>Char ::= #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF]\n</code></pre>\n</blockquote>\n\n<p>U+001A may not legally appear in XML files, not even as a character reference (<code>&amp;#x1A;</code>).</p>\n\n<blockquote>\n  <p>Characters referred to using character references <code>must</code> match the production for Char.</p>\n</blockquote>\n\n<p>If the file is to contain binary data, the binary portions should be encoded (e.g. using base64).</p>\n\n<hr>\n\n<ol>\n<li><p><code>1A</code>, <code>20</code> and <code>73</code> are all less than <code>80</code>.</p></li>\n<li><p>I tested using XML::LibXML rather than XML::LibXML::Reader, but I suspect the relevant difference is actually a difference in the version of XML::LibXML or libxml2.</p></li>\n</ol>\n"}], "owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 38832086, "answer_count": 1, "score": 0, "last_activity_date": 1470675351, "creation_date": 1470665431, "last_edit_date": 1495541289, "question_id": 38831484, "link": "https://stackoverflow.com/questions/38831484/improper-utf-8-and-libxmlreader", "title": "Improper UTF-8 and LibXML::Reader", "body": "<p>I have a large XML file from a remote source, that says it is 'UTF8', file shows us-ascii.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;...\n\nfile -bi &lt;file&gt; indicates application/xml; charset=us-ascii\nEncode::Guess indicates UTF8\n</code></pre>\n\n<p>Edit: There is also some code which reads in the file, originally output from a LWP get...I have also try to force some encoding here, but get other errors like wide chars.</p>\n\n<pre><code>my $fh = IO::File-&gt;new;\n$fh-&gt;open( '&lt;' . $filename )\n$content = join '', &lt;$fh&gt;;\n</code></pre>\n\n<p>I am using XML::Reader</p>\n\n<pre><code>my $reader = XML::LibXML::Reader-&gt;new(string =&gt; $content) or die qq(cannot read content: $!);\n\nwhile ($reader-&gt;nextElement($template-&gt;{ 'item' } )) {\n    my $copy = $reader-&gt;copyCurrentNode(1);\n    my $test = $copy-&gt;findvalue( 'description' )\n...# do other stuff with $copy\n</code></pre>\n\n<p>This works fine through most of the contents. However, there looks to be some invalid utf-8 or malformed data as it gives an error half way through..<br>\n(note, in XML::Bare the whole xml is processed 'fine' as its more forgiving, but the file is on the limit of memory size, so I need a smaller memory xml parser).</p>\n\n<pre><code>Entity: line 64070: parser error : Input is not proper UTF-8, indicate encoding !\nBytes: 0x1A 0x73 0x20 0x73\n</code></pre>\n\n<p>If I look in vim at the point after last success, I can see </p>\n\n<pre><code>^Z  or &lt;^Z&gt;  26,  Hex 1a,  Octal 032 with :ascii in vim\n</code></pre>\n\n<p>I have looked <a href=\"https://stackoverflow.com/questions/6234386/how-do-i-sanitize-invalid-utf-8-in-perl\">here on SO</a> to try and ensure at least valid UTF-8 as I can't get the origin fixed, and trying...</p>\n\n<pre><code>use Encode qw( encode decode );\nmy $octets = decode('UTF-8', $content, Encode::FB_DEFAULT );\n$content = encode('UTF-8', $octets, Encode::FB_CROAK );\n</code></pre>\n\n<p>But I still get the same error. I am happy to skip any parts with invalid UTF-8, but the whole parser dies, and I can't see any way to carry on processing later (which I believe is supposed to happen with XML parsing).</p>\n\n<p>My question is, is this the best way to guarantee UTF-8 (assuming I can't get the file changed), or is there a method that should get around the error (I could probably regex that particular char out, but I'm assuming there may be other similar issues later, so feels clunky) ? </p>\n"}, {"tags": ["regex", "perl", "file", "parsing", "file-handling"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1470665241, "post_id": 38831343, "comment_id": 65028029, "body": "How do you expect the file to be split?"}, {"owner": {"reputation": 1, "user_id": 6691509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59167079f352c8362a4fc6354ce205e3?s=128&d=identicon&r=PG&f=1", "display_name": "wittywater", "link": "https://stackoverflow.com/users/6691509/wittywater"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1470665664, "post_id": 38831343, "comment_id": 65028348, "body": "I expect the code to make a file for every occurrence of 00:00:00:00, ending just before the next instance. How would I implement this if all of the lines with 00:00:00:00&#39;s were shifted down a few lines?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1470666086, "post_id": 38831343, "comment_id": 65028683, "body": "what is your expected output?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1470666326, "post_id": 38831343, "comment_id": 65028863, "body": "You should show us the expected output from your sample data, and your sample data should illustrate any corner cases that have to be dealt with (not having <code>00:00:00:00</code> in the first column of the first row, for example)."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6691509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59167079f352c8362a4fc6354ce205e3?s=128&d=identicon&r=PG&f=1", "display_name": "wittywater", "link": "https://stackoverflow.com/users/6691509/wittywater"}, "edited": false, "score": 0, "creation_date": 1470667338, "post_id": 38831848, "comment_id": 65029575, "body": "It&#39;s working with your proposed change, now I just need to understand the significance of the second condition :)"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 1, "user_id": 6691509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59167079f352c8362a4fc6354ce205e3?s=128&d=identicon&r=PG&f=1", "display_name": "wittywater", "link": "https://stackoverflow.com/users/6691509/wittywater"}, "edited": false, "score": 0, "creation_date": 1470667501, "post_id": 38831848, "comment_id": 65029703, "body": "Suppose the first line starts 01.  The regex match fails, but the file isn&#39;t open so the or condition is true. The code skips the close and opens the new file and the line is written.  Thereafter, the file is open so the second half of the condition doesn&#39;t change the decision making (except to slow it down marginally and probably immeasurably)."}, {"owner": {"reputation": 1, "user_id": 6691509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59167079f352c8362a4fc6354ce205e3?s=128&d=identicon&r=PG&f=1", "display_name": "wittywater", "link": "https://stackoverflow.com/users/6691509/wittywater"}, "edited": false, "score": 0, "creation_date": 1470668061, "post_id": 38831848, "comment_id": 65030137, "body": "That clarifies my confusion, I appreciate the help."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 1, "user_id": 6691509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59167079f352c8362a4fc6354ce205e3?s=128&d=identicon&r=PG&f=1", "display_name": "wittywater", "link": "https://stackoverflow.com/users/6691509/wittywater"}, "edited": false, "score": 0, "creation_date": 1470668789, "post_id": 38831848, "comment_id": 65030690, "body": "The question was clarified since I proffered my solution. If you want to discard the rows before the first zero marker, modify the print to print only if the file handle is open."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 1, "last_activity_date": 1470670864, "last_edit_date": 1470670864, "creation_date": 1470666492, "answer_id": 38831848, "question_id": 38831343, "link": "https://stackoverflow.com/questions/38831343/file-splitting-using-perl/38831848#38831848", "title": "File splitting using Perl", "body": "<p>Does modifying the condition in the loop like this not do the job?</p>\n\n<pre><code>if ($line =~ /^00:00:00:00/ || !$outfh)\n</code></pre>\n\n<p>Suppose the first line does not start <code>00:00:00:00</code> (a 'zero marker'). The regex match fails, but the file isn't open so the <code>|| !$outfh</code> condition is true. The code in the <code>if</code> body skips the close and opens the new file and the line is written to the new file. Thereafter, the file is open, so the second half of the condition doesn't change the decision making (except to slow it down marginally and probably immeasurably).</p>\n\n<p>The question was clarified since I first proffered my solution. If you want to discard the rows before the first zero marker, modify the print to print only if the file handle is open (instead of the modified condition to open the file if the first line does not start with a zero marker).</p>\n\n<pre><code>print $outfh $line or die \"Failed to write to file: $!\" if $outfh;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6691509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59167079f352c8362a4fc6354ce205e3?s=128&d=identicon&r=PG&f=1", "display_name": "wittywater", "link": "https://stackoverflow.com/users/6691509/wittywater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470670864, "creation_date": 1470665098, "last_edit_date": 1492086984, "question_id": 38831343, "link": "https://stackoverflow.com/questions/38831343/file-splitting-using-perl", "title": "File splitting using Perl", "body": "<p>I'm trying to split a large text files into several text files. I found another thread from a few years ago with a very similar premise but couldn't find my exact situation. </p>\n\n<p><a href=\"https://unix.stackexchange.com/a/64691/183674\">https://unix.stackexchange.com/a/64691/183674</a></p>\n\n<p>How would I split the following data if the first line didn't start with 00:00:00:00?</p>\n\n<pre><code>00:00:00:00 00:00:05:00 01SC_001.jpg\n00:00:14:29 00:00:19:29 01SC_002.jpg\n00:01:07:20 00:01:12:20 01SC_003.jpg\n00:00:00:00 00:00:03:25 02MI_001.jpg\n00:00:03:25 00:00:08:25 02MI_002.jpg\n00:00:35:27 00:00:40:27 02MI_003.jpg\n00:00:00:00 00:00:05:00 03Bi_001.jpg\n00:00:05:19 00:00:10:19 03Bi_002.jpg\n00:01:11:17 00:01:16:17 03Bi_003.jpg\n00:00:00:00 00:00:05:00 04CG_001.jpg\n00:00:11:03 00:00:16:03 04CG_002.jpg\n00:01:12:25 00:01:17:25 04CG_003.jpg\n</code></pre>\n\n<p>Here's the code for reference:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nopen(my $infh, '&lt;', 'ABC_TabDelim.txt') or die $!;\n\nmy $outfh;\nmy $filecount = 0;\nwhile ( my $line = &lt;$infh&gt; ) {\n    if ( $line =~ /^00:00:00:00/ ) {\n        close($outfh) if $outfh;\n        open($outfh, '&gt;', sprintf('ABC%02d_TabDelim.txt', ++$filecount)) or die $!;        \n    }\n    print {$outfh} $line or die \"Failed to write to file: $!\";\n}\n\nclose($outfh);\nclose($infh);\n</code></pre>\n\n<p>I tried adding a <code>print $line;</code> in the next line after the while statement to attempt to make it read line by line as shown in other tutorials but this did not rectify the issue.</p>\n\n<p>I would appreciate any input. </p>\n\n<p>edit: So for an example like</p>\n\n<pre><code>    00:01:16:17 00:00:05:00 01SC_001.jpg\n    00:00:14:29 00:00:19:29 01SC_002.jpg\n    00:01:07:20 00:01:12:20 01SC_003.jpg\n    00:00:00:00 00:00:03:25 02MI_001.jpg\n    00:00:03:25 00:00:08:25 02MI_002.jpg\n    00:00:35:27 00:00:40:27 02MI_003.jpg\n    00:00:00:00 00:00:05:00 03Bi_001.jpg\n    00:00:05:19 00:00:10:19 03Bi_002.jpg\n    00:01:11:17 00:01:16:17 03Bi_003.jpg\n    00:00:00:00 00:00:05:00 04CG_001.jpg\n    00:00:11:03 00:00:16:03 04CG_002.jpg\n    00:01:12:25 00:01:17:25 04CG_003.jpg\n</code></pre>\n\n<p>I would like to get three seperate files, respectively containing</p>\n\n<pre><code>00:00:00:00 00:00:03:25 02MI_001.jpg\n00:00:03:25 00:00:08:25 02MI_002.jpg\n00:00:35:27 00:00:40:27 02MI_003.jpg\n\n00:00:00:00 00:00:05:00 03Bi_001.jpg\n00:00:05:19 00:00:10:19 03Bi_002.jpg\n00:01:11:17 00:01:16:17 03Bi_003.jpg\n\n00:00:00:00 00:00:05:00 04CG_001.jpg\n00:00:11:03 00:00:16:03 04CG_002.jpg\n00:01:12:25 00:01:17:25 04CG_003.jpg\n</code></pre>\n\n<p>discarding the first three lines.</p>\n"}, {"tags": ["sql-server", "perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 4, "creation_date": 1470659973, "post_id": 38829430, "comment_id": 65024398, "body": "did you install DBD::ODBC?"}, {"owner": {"reputation": 145, "user_id": 5436341, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3xhK0.jpg?s=128&g=1", "display_name": "Mounika", "link": "https://stackoverflow.com/users/5436341/mounika"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1470720839, "post_id": 38829430, "comment_id": 65050621, "body": "I tried to install using the command:  cpan -i DBD::ODBC  But after installation when I verified if it installed properly using the command: &quot;perl -e &#39;use DBD::ODBC;&#39;&quot; , I got the following error. Can&#39;t locate DBD/ODBC.pm in @INC   So, can you please let me know how to install it properly?"}], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 5436341, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3xhK0.jpg?s=128&g=1", "display_name": "Mounika", "link": "https://stackoverflow.com/users/5436341/mounika"}, "is_accepted": true, "score": 1, "last_activity_date": 1471864472, "creation_date": 1471864472, "answer_id": 39078104, "question_id": 38829430, "link": "https://stackoverflow.com/questions/38829430/err-install-driverodbc-failed-cant-locate-dbd-odbc-pm-in-inc/39078104#39078104", "title": "ERR: install_driver(ODBC) failed: Can&#39;t locate DBD/ODBC.pm in @INC", "body": "<p>This error got fixed when I exported the following environmental variables to the corresponding values: LD_LIBRARY_PATH &amp; PERL5LIB</p>\n"}], "owner": {"reputation": 145, "user_id": 5436341, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3xhK0.jpg?s=128&g=1", "display_name": "Mounika", "link": "https://stackoverflow.com/users/5436341/mounika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2244, "favorite_count": 0, "accepted_answer_id": 39078104, "answer_count": 1, "score": 0, "last_activity_date": 1471864472, "creation_date": 1470659833, "last_edit_date": 1470660089, "question_id": 38829430, "link": "https://stackoverflow.com/questions/38829430/err-install-driverodbc-failed-cant-locate-dbd-odbc-pm-in-inc", "title": "ERR: install_driver(ODBC) failed: Can&#39;t locate DBD/ODBC.pm in @INC", "body": "<p>I am trying to connect to a mssql database using perl script.</p>\n\n<p>My code looks as follows:</p>\n\n<pre><code>#!/home/fds/freeware/perl/bin/perl\n\nuse DBI;\n\nmy $user = \"username\";\nmy $pass = \"password\";\nmy $server = \"server_name\";\nmy $database_name = \"db\";\n\nmy $DSN = \"driver={SQL Server};server=$server;database=$database_name;uid=$user;pwd=$pass\";\n\nmy $DBH = DBI-&gt;connect(\"DBI:ODBC:$DSN\") or die \"Couldn't open database: $DBI::errstr\\n\";\n</code></pre>\n\n<p>When I run that script, I am getting the following error:</p>\n\n<blockquote>\n  <p>install_driver(ODBC) failed: Can't locate DBD/ODBC.pm in @INC (@INC\n  contains:\n  /export/fds/Linux_RHEL6_x86_64/lang/perl/FDSperl5.12-CPANmodules-5.12-20160408/lib/perl5/x86_64-linux-thread-multi\n  /export/fds/Linux_RHEL6_x86_64/lang/perl/FDSperl5.12-CPANmodules-5.12-20160408/lib/perl5\n  /export/fds/Linux_RHEL6_x86_64/lang/perl/5.12/lib/site_perl/5.12.5/x86_64-linux-thread-multi\n  /export/fds/Linux_RHEL6_x86_64/lang/perl/5.12/lib/site_perl/5.12.5\n  /export/fds/Linux_RHEL6_x86_64/lang/perl/5.12/lib/5.12.5/x86_64-linux-thread-multi\n  /export/fds/Linux_RHEL6_x86_64/lang/perl/5.12/lib/5.12.5 .) at (eval\n  3) line 3. Perhaps the DBD::ODBC perl module hasn't been fully\n  installed, or perhaps the capitalisation of 'ODBC' isn't right.\n  Available drivers: AnyData, CSV, DBM, ExampleP, Excel, File, Gofer,\n  Mock, Multi, Multiplex, PgPP, Proxy, SQLite, Sponge, Wire10, mysql,\n  mysqlPP.  at test_connect line 12</p>\n</blockquote>\n\n<p>Can someone let me know how to proceed?</p>\n"}, {"tags": ["arrays", "perl", "command-line"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470655730, "post_id": 38827706, "comment_id": 65021646, "body": "Which version of Perl is this?"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1470655793, "post_id": 38827706, "comment_id": 65021681, "body": "What does <code>which perl</code> return?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 2, "creation_date": 1470655914, "post_id": 38827706, "comment_id": 65021773, "body": "I cannot reproduce this. I do have different Perls, and it works on both of them. Executing <code>.&#47;script.pl</code> will invoke the Perl named in the shebang, which is <code>&#47;usr&#47;bin&#47;perl</code>. That&#39;s your system Perl. Calling <code>perl</code> might, as @Zaid implied, give you a different Perl that you have installed as well, possibly with Perlbrew."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470656006, "post_id": 38827706, "comment_id": 65021826, "body": "Add <code>warn Getopt::Long::VERSION</code> after the <code>use Getopt::Long</code> and tell us what each of them says. Are they different? Mine are (because of what I said above)."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1470656364, "post_id": 38827706, "comment_id": 65022054, "body": "Multiple perl versions it is. One is <code>5.8.5</code> and the other is <code>5.8.8</code>. Thank you all!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1470656523, "post_id": 38827706, "comment_id": 65022152, "body": "I don&#39;t think the problem is the Perl version, but rather the version of Getopt::Long that came with it. One might be so old it doesn&#39;t support that syntax."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1470657052, "post_id": 38827706, "comment_id": 65022501, "body": "When I switched to invoking perl v5.8.8, the script ran with no errors. I guess it&#39;s the version of the Getopt::Long module  as you suggested."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470658361, "post_id": 38827706, "comment_id": 65023333, "body": "You should add that as an answer yourself so future readers can find it, and accept the answer tomorrow."}], "answers": [{"tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": true, "score": 2, "last_activity_date": 1470659071, "creation_date": 1470659071, "answer_id": 38829161, "question_id": 38827706, "link": "https://stackoverflow.com/questions/38827706/save-multiple-values-of-a-command-line-option-in-perl-array/38829161#38829161", "title": "Save multiple values of a command line option in Perl array", "body": "<p>Turns out I have more than one version of perl installed. One of them (the older one) probably has an older version of the Getopt::Long module that doesn't support the <code>input=s{1,}</code> syntax. When I switched to invoking perl from the most up-to-date version installed, the script ran with no errors.</p>\n"}], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 38829161, "answer_count": 1, "score": 4, "last_activity_date": 1470659071, "creation_date": 1470654604, "question_id": 38827706, "link": "https://stackoverflow.com/questions/38827706/save-multiple-values-of-a-command-line-option-in-perl-array", "title": "Save multiple values of a command line option in Perl array", "body": "<p>I have a script that needs to take some options, one of these is -i (input).\nI tried the following code to get the input parameters into an array:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Getopt::Long;\n\nmy @input = ();\nmy $help = '';\nmy $other = '';\n\nGetOptions(\n    'help'          =&gt;  \\$help,\n    'input=s{1,}'   =&gt;  \\@input,\n    'other=s'       =&gt;  \\$other\n);\n</code></pre>\n\n<p>When I try to run it as <code>./my_script.pl -i param1 param2 -o aaa</code> I get this:</p>\n\n<pre><code>Error in option spec: \"input=s{1,}\"\n</code></pre>\n\n<p>If i run it explicitly with perl as <code>perl my_script.pl -i param1 param2 -o aaa</code> everything works smoothly.\nIs there a way to get these parameters into an array (not using <code>@ARGV</code>) without explicitly invoking perl from the command line?</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 4, "creation_date": 1470648720, "post_id": 38825424, "comment_id": 65017223, "body": "What have you tried? Show us your code and tell us what result you&#39;re expecting and how it differs from what your code provides."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1470649102, "post_id": 38825424, "comment_id": 65017470, "body": "Please check the link <a href=\"http://www.perlmonks.org/?node=How%20do%20I%20get%20a%20file%27s%20timestamp%20in%20perl%3F\" rel=\"nofollow noreferrer\">perlmonks.org/&hellip;</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 3, "creation_date": 1470650707, "post_id": 38825424, "comment_id": 65018606, "body": "@Arijit: Please don&#39;t link to PerlMonks&#39; copy of the FAQ. It&#39;s really old and outdated (and it says that at the top of the page!) The version at <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">perldoc.perl.org</a> will always be up to date. <a href=\"http://perldoc.perl.org/perlfaq5.html#How-do-I-get-a-file%27s-timestamp-in-perl?\" rel=\"nofollow noreferrer\">How do I get a file&#39;s timestamp in perl?</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3208, "user_id": 623159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ef830f89dcfd4e31c3c801f21a0111?s=128&d=identicon&r=PG", "display_name": "gaoithe", "link": "https://stackoverflow.com/users/623159/gaoithe"}, "edited": false, "score": 0, "creation_date": 1470654689, "post_id": 38826206, "comment_id": 65020999, "body": "Nice. Easier than fiddling around with localtime/timelocal. &#39;sudo cpan -i Time::Piece&#39; to install."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3208, "user_id": 623159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ef830f89dcfd4e31c3c801f21a0111?s=128&d=identicon&r=PG", "display_name": "gaoithe", "link": "https://stackoverflow.com/users/623159/gaoithe"}, "edited": false, "score": 1, "creation_date": 1470654780, "post_id": 38826206, "comment_id": 65021068, "body": "No need to install it. Time::Piece has been a part of the standard Perl installation since Perl 5.10 (in 2007)."}, {"owner": {"reputation": 3208, "user_id": 623159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ef830f89dcfd4e31c3c801f21a0111?s=128&d=identicon&r=PG", "display_name": "gaoithe", "link": "https://stackoverflow.com/users/623159/gaoithe"}, "edited": false, "score": 0, "creation_date": 1470656351, "post_id": 38826206, "comment_id": 65022046, "body": "On older machines may need to install. I had to do it for redhat fc19. perl 5 version 16."}, {"owner": {"reputation": 3208, "user_id": 623159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ef830f89dcfd4e31c3c801f21a0111?s=128&d=identicon&r=PG", "display_name": "gaoithe", "link": "https://stackoverflow.com/users/623159/gaoithe"}, "edited": false, "score": 0, "creation_date": 1470657514, "post_id": 38826206, "comment_id": 65022794, "body": "Time::Piece - object-oriented - is definitely the thing to use - much simpler. But I see also had to install it for CentOS7 7.2.1511 (2015). fc19 is 2013. This Q interesting: <a href=\"http://stackoverflow.com/questions/2049735/how-can-i-tell-if-a-perl-module-is-core-or-part-of-the-standard-install\" title=\"how can i tell if a perl module is core or part of the standard install\">stackoverflow.com/questions/2049735/&hellip;</a>  Time::Piece is in core modules here: <a href=\"http://perldoc.perl.org/index-modules-T.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/index-modules-T.html</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3208, "user_id": 623159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ef830f89dcfd4e31c3c801f21a0111?s=128&d=identicon&r=PG", "display_name": "gaoithe", "link": "https://stackoverflow.com/users/623159/gaoithe"}, "edited": false, "score": 1, "creation_date": 1470657656, "post_id": 38826206, "comment_id": 65022881, "body": "That&#39;s because of Red Hat&#39;s deliberately broken standard Perl installation. If you&#39;re using Centos (or RHEL) 6 or greater then rather than installing individual modules, you should <code>yum install perl-core</code> to fix your Perl installation. More information in <a href=\"http://perlhacks.com/2012/08/a-cautionary-tale/\" rel=\"nofollow noreferrer\">this old blog post</a>."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1470650266, "creation_date": 1470650266, "answer_id": 38826206, "question_id": 38825424, "link": "https://stackoverflow.com/questions/38825424/perl-get-time-stamp-of-a-file-and-check-is-this-today-or-not/38826206#38826206", "title": "Perl: Get time-stamp of a file and check is this today or not", "body": "<p>If helps if you show us exactly what you have tried and what problems you are having.</p>\n\n<p>You can use <a href=\"https://metacpan.org/pod/File::stat\" rel=\"nofollow\">File::stat</a> to get information about a file.</p>\n\n<pre><code>use File::stat;\nmy $stat = stat($file);\n</code></pre>\n\n<p>You can get three different timestamps by calling three different methods on the <code>$stat</code> object.</p>\n\n<pre><code>my $ctime = $stat-&gt;ctime; # inode change time\nmy $atime = $stat-&gt;atime; # last access time\nmy $mtime = $stat-&gt;mtime; # last modification time\n</code></pre>\n\n<p>I think you probably want <code>$mtime</code>, but I can't be sure. Each of these variables contain the time as the number of seconds since your system's epoch (almost certainly 00:00 on 1st Jan 1970).</p>\n\n<p>You can convert these epoch values into useful objects using <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a>.</p>\n\n<pre><code>use Time::Piece;\nmy $file_date = localtime($mtime);\n</code></pre>\n\n<p>And you can compare that with the current date.</p>\n\n<pre><code>if ($file_date-&gt;date eq localtime-&gt;date) {\n  # file was created today\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1470652540, "post_id": 38826423, "comment_id": 65019661, "body": "&quot;Modified less than a day ago&quot; isn&#39;t quite the same thing as &quot;modified today&quot;."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470660296, "post_id": 38826423, "comment_id": 65024607, "body": "You can set <code>-M</code> in relation to <code>$^T</code> which is the starting time of the script, i.e. <code>my $mtime_abs = $^T + (-M $filename);</code>. But it&#39;s still true what @DaveCross says."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1470650881, "creation_date": 1470650881, "answer_id": 38826423, "question_id": 38825424, "link": "https://stackoverflow.com/questions/38825424/perl-get-time-stamp-of-a-file-and-check-is-this-today-or-not/38826423#38826423", "title": "Perl: Get time-stamp of a file and check is this today or not", "body": "<p>I would (probably) use <code>-M</code>:</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/-X.html</a></p>\n\n<blockquote>\n  <p>-M  Script start time minus file modification time, in days.</p>\n</blockquote>\n\n<p>This means you can do:</p>\n\n<pre><code>if ( -M $filename &lt; 1 ) { \n    #if file is less than a day old\n}\n</code></pre>\n\n<p>This of course, only applies relative to script start, rather than <em>right now</em> so isn't suitable for long running scripts. </p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470654283, "post_id": 38827487, "comment_id": 65020753, "body": "&quot;localtime returns array or integer (ctime) depending on context&quot; - I think you mean &quot;string&quot;, not &quot;integer&quot;. <code>localtime</code> never returns a (single) integer."}, {"owner": {"reputation": 3208, "user_id": 623159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ef830f89dcfd4e31c3c801f21a0111?s=128&d=identicon&r=PG", "display_name": "gaoithe", "link": "https://stackoverflow.com/users/623159/gaoithe"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470655274, "post_id": 38827487, "comment_id": 65021365, "body": "oops! yes. Thank you. I didn&#39;t think properly about that!"}], "tags": [], "owner": {"reputation": 3208, "user_id": 623159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ef830f89dcfd4e31c3c801f21a0111?s=128&d=identicon&r=PG", "display_name": "gaoithe", "link": "https://stackoverflow.com/users/623159/gaoithe"}, "is_accepted": false, "score": 0, "last_activity_date": 1470656143, "last_edit_date": 1592644375, "creation_date": 1470654003, "answer_id": 38827487, "question_id": 38825424, "link": "https://stackoverflow.com/questions/38825424/perl-get-time-stamp-of-a-file-and-check-is-this-today-or-not/38827487#38827487", "title": "Perl: Get time-stamp of a file and check is this today or not", "body": "<ol>\n<li>Read about File::stat and get timestamp of file.\n<a href=\"https://stackoverflow.com/questions/509576/how-do-i-get-a-files-last-modified-time-in-perl\">How do I get a file&#39;s last modified time in Perl?</a></li>\n</ol>\n<blockquote>\n<pre><code>use File::stat;\n # we don't need anything but mtime\n # my ($dev, $ino, $mode, $nlink, $uid, $gid, $rdev, $size,\n #    $atime, $mtime, $ctime, $blksize, $blocks) = stat($filename);\nmy $ts = stat($filename)-&gt;mtime;\nprint &quot;ts:$ts&quot;;\nprint &quot; date/time &quot; . localtime($ts) . &quot;\\n&quot;;\n\nts:1469028287 date/time Wed Jul 20 16:24:47 2016\n</code></pre>\n</blockquote>\n<p>Oh look. mtime is a big number. How many . . minutes / hours / days / years is that ?  (dc is a command-line calculator.)</p>\n<pre><code>$ dc\n1469028287\n60/p\n24483804\n60/p\n408063\n24/p\n17002\n356.25/p\n47\n</code></pre>\n<p>47 years. (gained/lost some time up there with the integer division using dc). Now (Mon 8 Aug 10:58ish 2016) - 46(where 46 =ish<em>ahem</em>= 47) years = 1/1/1970 00:00:00 = the unix date/time stamp epoch.</p>\n<ol start=\"2\">\n<li>Read about localtime, get 'now' time, get times from midnight to midnight for today.  <a href=\"http://perldoc.perl.org/functions/localtime.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/functions/localtime.html</a> <a href=\"http://www.perlhowto.com/working_with_date_time\" rel=\"nofollow noreferrer\">http://www.perlhowto.com/working_with_date_time</a>\n<a href=\"https://stackoverflow.com/questions/2591995/how-do-i-use-perls-localtime-with-print-to-get-the-timestamp\">How do I use Perl&#39;s localtime with print to get the timestamp?</a>\nNote the value of year from localtime is 116 (116 years since 1900).\nNote the value of month from localtime is 7 (7 for August. yes because 0 = January, 1 = Feb, e.t.c.).</li>\n</ol>\n<blockquote>\n<pre><code># localtime returns array or string depending on context.\nmy $time = localtime;\nmy @time = localtime;\nprint &quot;time:$time\\n&quot;;    \nprint &quot;time array: &quot; . join (&quot;:&quot;, (@time)) . &quot;\\n&quot;;\n\nmy ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime;\nuse Time::Local;\nmy $btime = timelocal(0,0,0,$mday,$mon,$year);\nmy $etime = timelocal(59,59,23,$mday,$mon,$year);\nprint &quot;btime:$btime &quot; . localtime($btime) . &quot; etime:$etime &quot; . localtime($etime) . &quot;\\n&quot;;\nprint &quot;year:$year\\n&quot;;\n\ntime:Mon Aug  8 11:40:33 2016\ntime array: 33:40:11:8:7:116:1:220:1\nbtime:1470610800 Mon Aug  8 00:00:00 2016 etime:1470697199 Mon Aug  8 23:59:59 2016\nyear:116\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li>Check file timestamp is between the midnight times. Check all the stuffs.</li>\n</ol>\n<blockquote>\n<pre><code>if (($ts &gt;= $btime) &amp;&amp; ($ts &lt;= $etime)) {\n   print &quot;File time $ts (&quot;.localtime($ts).&quot;) is TODAY.\\n&quot;;\n} else {\n   print &quot;File time $ts (&quot;.localtime($ts).&quot;) is NOT today.\\n&quot;;\n   if ($ts &lt; $btime) {\n       print &quot;File is BEFORE today. $ts &lt; $btime\\n&quot;;\n   } elsif ($ts &gt; $etime) {\n       print &quot;File is in FUTURE. $ts &gt; $etime\\n&quot;;\n   } else {\n       print &quot;KERBOOM.\\n&quot;\n   }\n}\n</code></pre>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1470658100, "post_id": 38828136, "comment_id": 65023164, "body": "Shortening slightly - <code>perl -E&#39;say &quot;file $ARGV[0] updated at &quot; . localtime((stat $ARGV[0])[9])&#39; file</code> :-)"}], "tags": [], "owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1470655903, "creation_date": 1470655903, "answer_id": 38828136, "question_id": 38825424, "link": "https://stackoverflow.com/questions/38825424/perl-get-time-stamp-of-a-file-and-check-is-this-today-or-not/38828136#38828136", "title": "Perl: Get time-stamp of a file and check is this today or not", "body": "<p>One of the <a href=\"http://perldoc.perl.org/perlfaq5.html#How-do-I-get-a-file%27s-timestamp-in-perl?\" rel=\"nofollow\">ways</a> how to do it condensed to a one-liner: <code>perl -e '$f = shift; printf \"file %s updated at %s\\n\", $f, scalar localtime((stat $f)[9])' file</code>.</p>\n"}], "owner": {"reputation": 269, "user_id": 6239384, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/491422b5d64a8d352c3babc8d2771d6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlexPham", "link": "https://stackoverflow.com/users/6239384/alexpham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2673, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1470656143, "creation_date": 1470647990, "question_id": 38825424, "link": "https://stackoverflow.com/questions/38825424/perl-get-time-stamp-of-a-file-and-check-is-this-today-or-not", "title": "Perl: Get time-stamp of a file and check is this today or not", "body": "<p>In Perl, how can I get time-stamp of a file and check is this today or not ? </p>\n\n<p>Thank you.</p>\n\n<p>Alex </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "edited": false, "score": 0, "creation_date": 1470662442, "post_id": 38825616, "comment_id": 65026043, "body": "Thanks a lot @Grant McLean for the explanation. It clarified my understanding of FindBin now. Your answer was helpful."}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 0, "last_activity_date": 1470648554, "creation_date": 1470648554, "answer_id": 38825616, "question_id": 38824743, "link": "https://stackoverflow.com/questions/38824743/include-perl-module-from-a-different-location/38825616#38825616", "title": "Include perl module from a different location", "body": "<p>The <code>FindBin</code> module is the best fit for your needs. The important thing to remember is that <code>$FindBin::Bin</code> refers to the directory that contains <em>the script</em>. So when you refer to it ...</p>\n\n<pre><code>use lib $FindBin::Bin . '/../../etc';\n</code></pre>\n\n<p>the '/../..' path must describe the path from the script directory to the lib directory.</p>\n\n<p>The other important thing to take into consideration is the error message.  It will start with <code>Can't locate Your/Module/Name.pm</code> but will then go on to list all the directories in <code>@INC</code> - the library search path.  Check this list of directories to make sure it includes the lib path you intended to add.</p>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "edited": false, "score": 0, "creation_date": 1470662744, "post_id": 38825663, "comment_id": 65026258, "body": "Sorry @Dave Cross. I forgot to mentioned the error. Yes , i got the error you mentioned. Thank you for your detailed explanation. This gave me better understanding of when to use FindBin and a better perspective also. Thank you for your time."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1470653949, "last_edit_date": 1470653949, "creation_date": 1470648714, "answer_id": 38825663, "question_id": 38824743, "link": "https://stackoverflow.com/questions/38824743/include-perl-module-from-a-different-location/38825663#38825663", "title": "Include perl module from a different location", "body": "<p>You don't say what problems you're having. Just saying you're \"not sure why it doesn't work\" isn't really helpful. I assume you're getting a \"Can't locate [some module] in @INC\" error.</p>\n\n<p>There are three (recommended) ways to change the value of <code>@INC</code>. Each have their uses.</p>\n\n<ul>\n<li>Inside a program, you can use <code>use lib</code></li>\n<li>From the command line (or in a shebang), you can use <code>-I</code></li>\n<li>In your shell environment, you can set <code>PERL5LIB</code></li>\n</ul>\n\n<p>In all these cases, the new directories will be added to the start of <code>@INC</code>, so these directories will be searched before the standard library directories.</p>\n\n<p>You can also manually manipulate <code>@INC</code>. Note that in order for manual manipulation of <code>@INC</code> to have any effect on <code>use</code> statements in your code, they will need to be executed in a <code>BEGIN</code> block (as <code>use</code> statements are executed at compile time).  It looks like you have tried that too, but that you used <code>Begin</code> rather than <code>BEGIN</code> - which wouldn't work.</p>\n\n<p>If you are running your program from a location that is completely unrelated to the directories where the libraries are kept, then <a href=\"https://metacpan.org/pod/FindBin\" rel=\"nofollow\">FindBin</a> is likely to be of limited use. FindBin is useful where the location of the executable file and the libraries are closely related (for example the executable file is in <code>./bin</code> and the libraries is in <code>./lib</code>).</p>\n\n<p>It also seems that you are trying to adjust <code>@INC</code> from within a library (<code>./abc/xyz/lib/tuv/abc.pm</code>). Note that FindBin will not set <code>$FindBin::Bin</code> to this directory. <code>$FindBin::Bin</code> is always set to the directory that contains the executable file which is running.</p>\n\n<p>Without knowing more about the actual paths that you are using (you have only given relative paths in your examples) it's hard to know for sure what the best approach is. But I think that in your situation I'd be setting <code>PERL5LIB</code> to the absolute path of your extra libraries.</p>\n"}], "owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 38825616, "answer_count": 2, "score": 4, "last_activity_date": 1470653949, "creation_date": 1470645832, "last_edit_date": 1470646228, "question_id": 38824743, "link": "https://stackoverflow.com/questions/38824743/include-perl-module-from-a-different-location", "title": "Include perl module from a different location", "body": "<p>my problem is as follows</p>\n\n<ol>\n<li>I have the lib in location ./abc/def/lib</li>\n<li>I am using it in path ./abc/xyz/lib/tuv/abc.pm</li>\n</ol>\n\n<p>I am running the code from a different location altogether\nwhich is something like ./abc/xyz/blah1/blah2/../../ . I'm running the code here.</p>\n\n<p>I have created env params</p>\n\n<pre><code>setenv def ./abc/def \nsetenv xyz ./abc/xyz\n</code></pre>\n\n<p>I tried the below solutions</p>\n\n<ol>\n<li><p><code>Begin { push(@INC, $ENV{def}.\"/lib\" ) }</code><br>\nAlong with the providing the path for other libraries i used\nuse lib $ENV{xyz}.\"/lib\"</p>\n\n<p>This solution didn't work. I get the error saying the library in ./abc/def/lib\nis not included.</p></li>\n<li><p>I tried the FindBin</p>\n\n<pre><code># for the libs present in ./abc/def/lib\nuse FindBin;\nuse lib \"$FindBin::Bin/../../\";\nuse mylib::abc;\nuse mylib::def;\n</code></pre></li>\n</ol>\n\n<p>(I tried giving the path also of root from where to start looking..in FindBin)</p>\n\n<p>I tried using different combinations but not sure why it doesn't work.\nCan someone point out what i am doing wrong or is my understanding of FindBin wrong.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": 0, "last_activity_date": 1470645297, "creation_date": 1470645297, "answer_id": 38824587, "question_id": 38823679, "link": "https://stackoverflow.com/questions/38823679/how-to-use-a-variable-in-command-while-running-from-perl/38824587#38824587", "title": "How to use a variable in command while running from perl?", "body": "<p>There is a <code>sleep</code> function in perl . You can use that function to wait for certain amount of time</p>\n\n<pre><code>sleep (n);\n</code></pre>\n\n<p>where n is the number of seconds you want to sleep.In your case put </p>\n\n<pre><code>sleep(30);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "is_accepted": true, "score": 1, "last_activity_date": 1470645406, "creation_date": 1470645406, "answer_id": 38824615, "question_id": 38823679, "link": "https://stackoverflow.com/questions/38823679/how-to-use-a-variable-in-command-while-running-from-perl/38824615#38824615", "title": "How to use a variable in command while running from perl?", "body": "<p>Since you are using <code>&amp;&amp;</code> chaining, the sleep (<code>$cmd4</code>) will not be executed if any of the earlier commands (<code>$cmd1</code>, <code>$cmd2</code>, <code>$cmd3</code>) fails, so print your <code>$stderr</code> and <code>$exit</code> variables to see if there are any errors.</p>\n\n<p>If you want to check status of each command, you should do separate <code>cmd</code> calls. Then you can also use Perl <code>sleep</code> instead of shell <code>sleep</code> between commands 3 and 5:</p>\n\n<pre><code>my ($stdout,$stderr,$exit) = $ssh-&gt;cmd($cmd1);\n...\n($stdout,$stderr,$exit) = $ssh-&gt;cmd($cmd2);\n...\n($stdout,$stderr,$exit) = $ssh-&gt;cmd($cmd3);\n...\nsleep(30);\n($stdout,$stderr,$exit) = $ssh-&gt;cmd($cmd5);\n...\n($stdout,$stderr,$exit) = $ssh-&gt;cmd($cmd6);\n...\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5330375, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Mu-fiNIqwxE/AAAAAAAAAAI/AAAAAAAAAlA/IHGwO6EORqw/photo.jpg?sz=128", "display_name": "shashank shukla", "link": "https://stackoverflow.com/users/5330375/shashank-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 38824615, "answer_count": 2, "score": 0, "last_activity_date": 1470645406, "creation_date": 1470642027, "question_id": 38823679, "link": "https://stackoverflow.com/questions/38823679/how-to-use-a-variable-in-command-while-running-from-perl", "title": "How to use a variable in command while running from perl?", "body": "<p>Script.pl</p>\n\n<p>This script is using netem on netwrok interface for packet drop.\nThis script uses configuration file and serverlist.cfg file and runs on all     the servers mentioned in serverlist.cfg.\nIt takes one server and run all the commands on that server.\nBut the issue I am facing, sleep is not working for the above script.</p>\n\n<pre><code>    #!/usr/bin/perl\n    use strict;\n    use warnings;\n    use List::Util qw( shuffle );\n    use Net::SSH::Perl;\n    use lib qw(\"/usr/share/Net-SSH-Perl-1.42/Net-SSH-Perl-1.42/lib/Net/SSH/\");\n\n    require \"configuration.pl\";\n\n    my $filename = 'serverlist.cfg';\n    my $line_count = 0;\n    my $hostname;\n    my $username;\n    my $password;\n    my @lines;\n\n    open(my $data, '&lt;', $filename) or die \"could not open '$filename' $!\\n\";\n    push @lines, join(' ', shuffle split) for &lt;$data&gt;;\n\n    my @line = shuffle &lt;@lines&gt;;\n\n    while (my $line = &lt;@line&gt;)\n    {\n            foreach ($line)\n            {\n                    my @fields = split \",\",$line;\n                    my $hostname = \"$fields[0]\";\n                    my $network_interface = get_network_interface();\n                    my $packet_drop = get_packet_drop();\n                    my $do_nothing= get_do_nothing();\n\n\n                    print \"The server with packet loss of $packet_drop will be\\:$hostname\";\n\n                    my $username = \"$fields[1]\";\n                    my $password = \"$fields[2]\";\n\n                    my $cmd1 = \"tc \\-s qdisc ls dev $network_interface\";\n                    my $cmd2 = \"tc qdisc add dev $network_interface root netem loss $packet_drop\";\n                    my $cmd3 = \"tc \\-s qdisc ls dev $network_interface\";\n                    my $cmd4 = \"sleep 30\";\n                    my $cmd5 = \"tc qdisc del dev $network_interface root netem\";\n                    my $cmd6 = \"tc \\-s qdisc ls dev $network_interface\";\n\n                    my $ssh = Net::SSH::Perl-&gt;new(\"$hostname\");\n                    $ssh-&gt;login(\"$username\",\"$password\");\n\n                    my ($stdout,$stderr,$exit) = $ssh-&gt;cmd(\"$cmd1 &amp;&amp; $cmd2 &amp;&amp; $cmd3 &amp;&amp; $cmd4 &amp;&amp; $cmd5 &amp;&amp; $cmd6\");\n\n                    print $stdout;\n            }\n    }\n\n\n**configuration.pl**\n\nsub get_network_interface {return \"eth4\"};\nsub get_packet_drop {return \"30%\"};\nsub get_do_nothing{return \"30\"};\n</code></pre>\n\n<p>These variables are used in above script and declared under configuratio.pl</p>\n\n<p>script is working fine but it completes the process within msec despite giving sleep of 30secs for each server.</p>\n\n<p>Script should implement it on one server and then wait for sleep declared and then it should delete the rule and run the same for next server.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 2873, "user_id": 1719755, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EGRbw.jpg?s=128&g=1", "display_name": "lordkain", "link": "https://stackoverflow.com/users/1719755/lordkain"}, "edited": false, "score": 0, "creation_date": 1470641397, "post_id": 38823461, "comment_id": 65013156, "body": "why this line ....  my $header_copy=\\@headers;"}, {"owner": {"reputation": 1012, "user_id": 5866942, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-tFRIV7rG-M4/AAAAAAAAAAI/AAAAAAAAAHw/kUupZIXcBpI/photo.jpg?sz=128", "display_name": "The Gr8 Adakron", "link": "https://stackoverflow.com/users/5866942/the-gr8-adakron"}, "reply_to_user": {"reputation": 2873, "user_id": 1719755, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EGRbw.jpg?s=128&g=1", "display_name": "lordkain", "link": "https://stackoverflow.com/users/1719755/lordkain"}, "edited": false, "score": 0, "creation_date": 1470641570, "post_id": 38823461, "comment_id": 65013245, "body": "This is just an example, I wanted to read a csv file so that is giving me  csv rows in array reference format similar to $header_copy."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1470652587, "post_id": 38823461, "comment_id": 65019690, "body": "If you want a true copy that is safe to destroy, neither of the two answers will work as intended."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1470662200, "post_id": 38823461, "comment_id": 65025879, "body": "<code>print @{$header_copy}-&gt;[2];</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470828101, "post_id": 38823461, "comment_id": 65105593, "body": "No need for the quote characters in either of your <code>print()</code> statements,"}], "answers": [{"tags": [], "owner": {"reputation": 2873, "user_id": 1719755, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EGRbw.jpg?s=128&g=1", "display_name": "lordkain", "link": "https://stackoverflow.com/users/1719755/lordkain"}, "is_accepted": false, "score": 0, "last_activity_date": 1470641560, "creation_date": 1470641560, "answer_id": 38823559, "question_id": 38823461, "link": "https://stackoverflow.com/questions/38823461/perl-array-referencing-reversing/38823559#38823559", "title": "Perl array referencing reversing", "body": "<pre><code># reads data\nmy @headers=qw/January February March April May June/;\n\n# use a foreach loop and store local copy of item nr in $headeritem_copy\nforeach my $headeritem_copy (@headers) {\n    print(\"$headeritem_copy\\n\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1012, "user_id": 5866942, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-tFRIV7rG-M4/AAAAAAAAAAI/AAAAAAAAAHw/kUupZIXcBpI/photo.jpg?sz=128", "display_name": "The Gr8 Adakron", "link": "https://stackoverflow.com/users/5866942/the-gr8-adakron"}, "edited": false, "score": 0, "creation_date": 1470643551, "post_id": 38823683, "comment_id": 65014263, "body": "Thanx for telling the difference. This is what i wanted!"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "reply_to_user": {"reputation": 1012, "user_id": 5866942, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-tFRIV7rG-M4/AAAAAAAAAAI/AAAAAAAAAHw/kUupZIXcBpI/photo.jpg?sz=128", "display_name": "The Gr8 Adakron", "link": "https://stackoverflow.com/users/5866942/the-gr8-adakron"}, "edited": false, "score": 0, "creation_date": 1470831745, "post_id": 38823683, "comment_id": 65108057, "body": "@TheGr8Adakron: if this is the answer, please accept it. To do so, click the green tick mark to the left, so that the question is marked as answered, and so the answerer gets some credit for helping you."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 3, "last_activity_date": 1470662515, "last_edit_date": 1470662515, "creation_date": 1470642038, "answer_id": 38823683, "question_id": 38823461, "link": "https://stackoverflow.com/questions/38823461/perl-array-referencing-reversing/38823683#38823683", "title": "Perl array referencing reversing", "body": "<p>You are taking the reference of <code>@headers</code> array using <code>\\@headers</code> into <code>$header_copy</code>. So, before accessing it, you need to dereference it.</p>\n\n<p>There are two ways(actually more than that) for it:</p>\n\n<ol>\n<li>Using <a href=\"http://perldoc.perl.org/perlop.html#The-Arrow-Operator\" rel=\"nofollow\"><code>Arrow operator(-&gt;)</code></a> - Most suitable for accesing a single item from arrayref</li>\n<li>Using <a href=\"http://perldoc.perl.org/perlreftut.html#Using-References\" rel=\"nofollow\"><code>@ { }</code></a> - Suitable for iterating over arrayrefs .</li>\n</ol>\n\n<p><code>$header_copy[2]</code> will give error because you are accessing an element from arrayref without dereferencing it. The interpreter assumes it as an array <code>@header_copy</code> not an arrayref because the syntax says it. </p>\n\n<p>Below program summarizes both approach:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n# define @ headers\nmy @headers = qw/January February March April May June/;\n\n# taken refrence of @headers array into $header_copy\nmy $header_copy = \\@headers;\n\n# dereferencing using arrow(-&gt;) operator\nprint $header_copy -&gt; [2],\"\\n\"; \n\n# derefrencing for iteration using @{...}\nforeach(@{ $header_copy }) {\n    print $_,\"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470827823, "post_id": 38830319, "comment_id": 65105399, "body": "No need for the quote characters in either of your <code>print()</code> statements."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470827990, "post_id": 38830319, "comment_id": 65105518, "body": "` print(&quot;$header_copy[2]&quot;);    #Gives Error.` in the question the user mentioned the same and I copied and pasted here with modification."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470828163, "post_id": 38830319, "comment_id": 65105638, "body": "I&#39;ve copied the comment to the original question :-) But, in general, I like to clean up little things like that when giving answers."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470828273, "post_id": 38830319, "comment_id": 65105717, "body": "Okay... I will follow this"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1470662408, "creation_date": 1470662408, "answer_id": 38830319, "question_id": 38823461, "link": "https://stackoverflow.com/questions/38823461/perl-array-referencing-reversing/38830319#38830319", "title": "Perl array referencing reversing", "body": "<pre><code>my @headers=qw/January February March April May June/;\nmy $header_copy=\\@headers;\nprint(\"$header_copy-&gt;[2]\");  # Prints \"March\" Correctly\n</code></pre>\n\n<p>De-reference the particular index</p>\n\n<pre><code>print(\"@{$header_copy}-&gt;[2]\");    #Gives Error.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1470827738, "creation_date": 1470827738, "answer_id": 38871937, "question_id": 38823461, "link": "https://stackoverflow.com/questions/38823461/perl-array-referencing-reversing/38871937#38871937", "title": "Perl array referencing reversing", "body": "<p>The error 'Global symbol \"...\" requires explicit package name' is Perl-speak for \"you're trying to use an undeclared variable\". It even tells you the name of the undeclared variable - in this case it's <code>@header_copy</code>.</p>\n\n<p>And if you look in your code, you'll see there's no declaration for an array called <code>@header_copy</code>. Oh, you have a scalar variable called <code>$header_copy</code>. And that contains a reference to an array (the array <code>@headers</code>). But that has no connection to an array called <code>@header_copy</code>.</p>\n\n<p>So why does Perl think you want to use the array <code>@header_copy</code>? Well in the last line of your code, you use <code>$header_copy[2]</code> - which means \"the third element in array <code>@header_copy</code>\". And that generates an error because (as I've already pointed out) you don't have that array.</p>\n\n<p>On the previous line you use <code>$header_copy-&gt;[2]</code>. And that works fine because <code>-&gt;[...]</code> is the correct way to look up an element in an array that you have a reference to.</p>\n\n<p>The important thing to realise is that <code>$header_copy-&gt;[2]</code> and <code>$header_copy[2]</code> mean two completely different things and refer to two completely different variables.</p>\n\n<p>You also ask how you can get back to an array that you have a reference to (this is called \"dereferencing\"). That is simple. In general you use:</p>\n\n<pre><code>@{ expression that returns an array reference }\n</code></pre>\n\n<p>So, in your case, that would be:</p>\n\n<pre><code>@{ $header_copy }\n</code></pre>\n\n<p>But in cases where your expression is a scalar variable, you can simplify it by omitting the braces, so it becomes:</p>\n\n<pre><code>@$header_copy\n</code></pre>\n\n<p>So you want:</p>\n\n<pre><code>foreach my $i (@$header_copy) {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1012, "user_id": 5866942, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-tFRIV7rG-M4/AAAAAAAAAAI/AAAAAAAAAHw/kUupZIXcBpI/photo.jpg?sz=128", "display_name": "The Gr8 Adakron", "link": "https://stackoverflow.com/users/5866942/the-gr8-adakron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 4, "score": -2, "last_activity_date": 1470839653, "creation_date": 1470641239, "last_edit_date": 1470839653, "question_id": 38823461, "link": "https://stackoverflow.com/questions/38823461/perl-array-referencing-reversing", "title": "Perl array referencing reversing", "body": "<p>I am newbie to perl. And have been working with CSV files, JSON strings, arrays and hashes.</p>\n\n<p>I have written this code, but it is giving me error. I want to use <code>$header_copy</code> in foreach loop.</p>\n\n<pre><code>    1. my @headers=qw/January February March April May June/;\n    2. my $header_copy=\\@headers;\n    3. print(\"$header_copy-&gt;[2]\");  # Prints \"March\" Correctly\n    4. print(\"$header_copy[2]\");    #Gives Error.\n</code></pre>\n\n<p>Error: </p>\n\n<blockquote>\n  <p>Global symbol \"@header_copy\" requires explicit package name at line 4</p>\n</blockquote>\n\n<p>And I want to use $header_copy in for loop: like:</p>\n\n<pre><code>foreach $i ($header_copy){ **code..** }\n</code></pre>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 3245, "user_id": 5575382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057515498825ff836584c58442d8d99c?s=128&d=identicon&r=PG&f=1", "display_name": "kritzel_sw", "link": "https://stackoverflow.com/users/5575382/kritzel-sw"}, "edited": false, "score": 0, "creation_date": 1470640529, "post_id": 38822711, "comment_id": 65012680, "body": "Can you share some code that you are using to read and modify the JSON object"}], "answers": [{"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 0, "last_activity_date": 1470641631, "creation_date": 1470641631, "answer_id": 38823585, "question_id": 38822711, "link": "https://stackoverflow.com/questions/38822711/perl-json-parser-changing-the-order-of-elements-in-the-json/38823585#38823585", "title": "Perl Json parser , changing the order of elements in the json", "body": "<p>You'll need to use some sort of tied hash to enforce the order of the keys: <a href=\"https://metacpan.org/pod/Tie::IxHash\" rel=\"nofollow\">Tie::IxHash</a>.</p>\n\n<p>The following is a proof of concept:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse JSON::XS;\n\nmy $JSON = JSON::XS-&gt;new-&gt;utf8-&gt;indent-&gt;space_after-&gt;convert_blessed;\n\nmy $data = {\n    a =&gt; 1,\n    b =&gt; 2,\n    c =&gt; 3,\n    d =&gt; 4,\n    e =&gt; 5,\n};\n\nsay $JSON-&gt;encode($data);      # Keys are unordered\n\nbless $data, 'MyAlphaHash';\n\nsay $JSON-&gt;encode($data);      # Keys are alphabetized\n\npackage MyAlphaHash;\n\nuse Tie::IxHash;\n\nsub TO_JSON {\n    my $self = shift;\n\n    tie my %hash, 'Tie::IxHash', %$self;\n\n    tied(%hash)-&gt;Reorder( sort keys %hash );\n\n    return \\%hash;\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>$ perl ordered.pl\n{\n   \"e\": 5,\n   \"c\": 3,\n   \"a\": 1,\n   \"b\": 2,\n   \"d\": 4\n}\n\n{\n   \"a\": 1,\n   \"b\": 2,\n   \"c\": 3,\n   \"d\": 4,\n   \"e\": 5\n}\n</code></pre>\n"}], "owner": {"reputation": 701, "user_id": 5706577, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/760641746caee62015c11694060bd75f?s=128&d=identicon&r=PG&f=1", "display_name": "Goutham Nithyananda", "link": "https://stackoverflow.com/users/5706577/goutham-nithyananda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 563, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470641631, "creation_date": 1470638472, "question_id": 38822711, "link": "https://stackoverflow.com/questions/38822711/perl-json-parser-changing-the-order-of-elements-in-the-json", "title": "Perl Json parser , changing the order of elements in the json", "body": "<p>I am using perl's json module to parse a json object and update it.</p>\n\n<p>After updating the json object we see, that the order of the element inside the json is changed, I understand the order of elements in json doesn't matter. </p>\n\n<p>But wanted to know is there a way i could keep the same order as input json object?Because we share the update json with many clients, I am afraid if some one is using a parser where the order of element is hard coded. </p>\n"}, {"tags": ["mime", "perl"], "comments": [{"owner": {"reputation": 1150, "user_id": 2976142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfd05e60ee1df85447ae8124d0f6a2a2?s=128&d=identicon&r=PG&f=1", "display_name": "P\u0159emysl \u0160\u0165astn&#253;", "link": "https://stackoverflow.com/users/2976142/p%c5%99emysl-%c5%a0%c5%a5astn%c3%bd"}, "edited": false, "score": 0, "creation_date": 1470636313, "post_id": 38822207, "comment_id": 65010742, "body": "Which Perl are you using?"}, {"owner": {"reputation": 135, "user_id": 6652879, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/166d44bc4065d394d236770e95543361?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/6652879/vikas"}, "reply_to_user": {"reputation": 1150, "user_id": 2976142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfd05e60ee1df85447ae8124d0f6a2a2?s=128&d=identicon&r=PG&f=1", "display_name": "P\u0159emysl \u0160\u0165astn&#253;", "link": "https://stackoverflow.com/users/2976142/p%c5%99emysl-%c5%a0%c5%a5astn%c3%bd"}, "edited": false, "score": 0, "creation_date": 1470636522, "post_id": 38822207, "comment_id": 65010813, "body": "@P\u0159emysl \u0160\u0165astn&#253;  I am using perl 5.12.5"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1470637417, "post_id": 38822207, "comment_id": 65011166, "body": "Do you send your email using SMTP AUTH? (smtp with password) Do you access your mailbox via IMAP protocol? Your problem has &quot;a few&quot; special cases."}, {"owner": {"reputation": 135, "user_id": 6652879, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/166d44bc4065d394d236770e95543361?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/6652879/vikas"}, "edited": false, "score": 0, "creation_date": 1470637919, "post_id": 38822207, "comment_id": 65011387, "body": "I have attached my script"}], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 0, "last_activity_date": 1470643259, "creation_date": 1470643259, "answer_id": 38824017, "question_id": 38822207, "link": "https://stackoverflow.com/questions/38822207/how-to-save-a-backup-of-mails-sent-through-mimelite-in-perl-5/38824017#38824017", "title": "How to save a backup of mails sent through MIME::Lite in Perl 5?", "body": "<p>Depends on how you access your inbox. In any case, you'll probably need <code>MIME::Lite</code>'s <code>as_string</code> method that you can call on messages to retrieve the entire text including headers and possibly attachments.\nFor local mailboxes:</p>\n\n<ul>\n<li>If your mail folders use the Maildir format, you could use <a href=\"https://metacpan.org/pod/Maildir::Lite\" rel=\"nofollow\"><code>Maildir::Lite</code></a> to simply write the returned string to an appropriately named (<code>Maildir::Lite</code> does that for you) file.</li>\n<li>For mbox folders, have a look at <a href=\"https://metacpan.org/pod/distribution/Mail-Box/lib/Mail/Box/Mbox.pod\" rel=\"nofollow\">Mail::Box::Mbox</a></li>\n</ul>\n\n<p>Local mailboxes can be handled in just a few lines of Perl. If your inbox is remote and needs IMAP, there's always <code>IMAP::Client</code> but I don't really have a clue about it. Perhaps a local Maildir plus <a href=\"http://www.offlineimap.org/\" rel=\"nofollow\">offlineimap</a> would do, too?</p>\n"}], "owner": {"reputation": 135, "user_id": 6652879, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/166d44bc4065d394d236770e95543361?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/6652879/vikas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470643259, "creation_date": 1470636228, "last_edit_date": 1470637895, "question_id": 38822207, "link": "https://stackoverflow.com/questions/38822207/how-to-save-a-backup-of-mails-sent-through-mimelite-in-perl-5", "title": "How to save a backup of mails sent through MIME::Lite in Perl 5?", "body": "<p>I am sending mail through MIME::Lite perl module.I want that my sent mails should be saved in Sent items folder of my mail inbox.Please suggest me a way to do this.\nThanks\nscript-</p>\n\n<pre><code>use MIME::Lite;\n\nmy $msg = MIME::Lite-&gt;new(\n    From    =&gt; 'xyz@abc.com',\n    To      =&gt; 'abcd@gmail.com',\n    Subject =&gt; 'sending mail',\n    Type    =&gt; 'multipart/mixed',\n);\n\n$msg-&gt;attach(\n    Type     =&gt; 'TEXT',\n    Path     =&gt; '/home/user/myName/cppLab/a.txt',\n    Filename =&gt; 'aabc.txt',\n    Disposition =&gt; 'attachment',\n);\n\n$msg-&gt;attach(\n    Type     =&gt; 'TEXT',\n    Data     =&gt; \"learning to send mail\",\n);\n\n\n #$msg-&gt;print(\\*STDOUT);\n  #$msg-&gt;print_header(\\*STDOUT);\n $msg-&gt;send;\nprint \"mail sent..\"\n</code></pre>\n"}, {"tags": ["json", "perl", "unicode"], "comments": [{"owner": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 0, "creation_date": 1470628984, "post_id": 38820947, "comment_id": 65008843, "body": "<a href=\"http://search.cpan.org/~you/Encode-Escape-0.14/lib/Encode/Escape/Unicode.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~you/Encode-Escape-0.14/lib/Encode/Escape/&hellip;</a>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1470630214, "post_id": 38820947, "comment_id": 65009091, "body": "@ysth Didn&#39;t work. I decoded the full JSON string using <code>decode_json</code> and it still printed out the literal &quot;\\u0027&quot; when I dumped the object."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1470630876, "post_id": 38820947, "comment_id": 65009244, "body": "@CJ7 show your original json?  it sounds like it may be doubly encoded"}, {"owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "edited": false, "score": 2, "creation_date": 1470640052, "post_id": 38820947, "comment_id": 65012407, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2667599/how-can-i-convert-a-unicode-codepoint-uxxxx-into-a-character-in-perl\">How can I convert a Unicode codepoint (\\uXXXX) into a character in Perl?</a>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1470696340, "post_id": 38820947, "comment_id": 65044867, "body": "How could this question possibly be &#39;too broad&#39; ?"}], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1470632450, "post_id": 38821440, "comment_id": 65009628, "body": "I am getting a <code>Wide character in subroutine entry</code> error on the <code>decode_json</code> line."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1470635193, "post_id": 38821440, "comment_id": 65010343, "body": "It seems like the <code>use open OUT =&gt; &#39;:utf8&#39;;</code> is unnecessary.  Am I correct?"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1470631493, "creation_date": 1470631493, "answer_id": 38821440, "question_id": 38820947, "link": "https://stackoverflow.com/questions/38820947/how-to-handle-unicode-in-uxxxx-format/38821440#38821440", "title": "How to handle unicode in \\uXXXX format?", "body": "<pre><code>use utf8;\nuse JSON::XS;\nuse open OUT =&gt; ':utf8';\nmy $decoder = JSON::XS-&gt;new-&gt;allow_nonref(1);\nmy $json_string = '\"Conseil de discipline de l\\\\u0027Ordre des comptables professionnels agr\u00e9\u00e9s du Qu\u00e9bec\"';\nprintf \"in: %s\\nout: %s\\n\", $json_string, $decoder-&gt;decode($json_string);\n</code></pre>\n\n<p>works for me. (use utf8 needed for literal utf8 in the perl source, allow_nonref needed to decode a just a string, not an object or array)</p>\n\n<p>If indeed you do have some doubly-encoded strings, you could do:</p>\n\n<pre><code>$string =~ s/\\\\u([[:xdigit:]]{4})/chr hex $1/g;\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 1, "closed_date": 1470649740, "answer_count": 1, "score": -1, "last_activity_date": 1470631493, "creation_date": 1470627394, "last_edit_date": 1470627909, "question_id": 38820947, "link": "https://stackoverflow.com/questions/38820947/how-to-handle-unicode-in-uxxxx-format", "closed_reason": "Needs more focus", "title": "How to handle unicode in \\uXXXX format?", "body": "<p>If have the text:</p>\n\n<blockquote>\n  <p>\"Conseil de discipline de l\\u0027Ordre des comptables professionnels\n  agr\u00e9\u00e9s du Qu\u00e9bec\"</p>\n</blockquote>\n\n<p>How do I deal with the <code>\\u0027</code>, which is obviously an apostrophe of some sort.  How can I convert this to a readable character?</p>\n\n<p>The data comes from <code>JSON</code>.</p>\n"}, {"tags": ["perl", "nginx", "fastcgi", "supervisord"], "answers": [{"comments": [{"owner": {"reputation": 3167, "user_id": 1751825, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c157caf2d0f9ff38e5a9820315c0a15f?s=128&d=identicon&r=PG&f=1", "display_name": "user1751825", "link": "https://stackoverflow.com/users/1751825/user1751825"}, "edited": false, "score": 0, "creation_date": 1485045662, "post_id": 41781572, "comment_id": 70762128, "body": "Thanks, I ended up going with an entirely different architecture that didn&#39;t use supervisord (or docker), but this certainly sounds like it could be the problem. I might see if I can dig up the old source code and try it out."}], "tags": [], "owner": {"reputation": 1434, "user_id": 1988874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fe769ae26b50048fb7a1220d682b0ad?s=128&d=identicon&r=PG", "display_name": "Cyrille Pontvieux", "link": "https://stackoverflow.com/users/1988874/cyrille-pontvieux"}, "is_accepted": true, "score": 0, "last_activity_date": 1485015337, "creation_date": 1485015337, "answer_id": 41781572, "question_id": 38820399, "link": "https://stackoverflow.com/questions/38820399/nginx-not-returning-errors-from-fcgiwrap-when-using-supervisord/41781572#41781572", "title": "nginx not returning errors from fcgiwrap when using supervisord", "body": "<p>You said to supervisord to monitor a socket (<code>/var/run/supervisor/fcgiwrap.sock</code>) but didn't say to fcgiwrap to use that socket.\nSo PHP connection through this empty socket will never reach fcgiwrap process, and hence you have no error message from fcgiwrap.</p>\n\n<p>You need to change the fcgiwrap <em>command</em> to specify the socket, <strong>using -s parameter</strong>.</p>\n"}], "owner": {"reputation": 3167, "user_id": 1751825, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c157caf2d0f9ff38e5a9820315c0a15f?s=128&d=identicon&r=PG&f=1", "display_name": "user1751825", "link": "https://stackoverflow.com/users/1751825/user1751825"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 41781572, "answer_count": 1, "score": 1, "last_activity_date": 1485015337, "creation_date": 1470622293, "question_id": 38820399, "link": "https://stackoverflow.com/questions/38820399/nginx-not-returning-errors-from-fcgiwrap-when-using-supervisord", "title": "nginx not returning errors from fcgiwrap when using supervisord", "body": "<p>I'm currently testing a perl cgi application in nginx and fcgiwrap. It's partially working. However I'm having issues getting errors back in the response.</p>\n\n<p>All requests return 200. If the cgi errors, it just returns blank content.</p>\n\n<p>I'm running both nginx and fcgiwrap from supervisord.</p>\n\n<p>This is my supervisord.conf file...</p>\n\n<pre><code>[supervisord]\nlogfile=/tmp/supervisord.log\nnodaemon=true\n\n[fcgi-program:fcgiwrap]\ncommand = /usr/sbin/fcgiwrap\nuser = www-data\nsocket = unix:///var/run/supervisor/%(program_name)s.sock\nsocket_owner = www-data:www-data\nsocket_mode = 0770\nautorestart=true\nautostart=true\nstartsecs=1\nstartretries=3\nstopsignal=QUIT\nstopwaitsecs=10\nenvironment=PATH='/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin'\nredirect_stderr=false\nstdout_logfile=/var/log/fcgiwrap_out.log\nstderr_logfile=/var/log/fcgiwrap_err.log\n\n[program:nginx]\ncommand=/usr/sbin/nginx -g 'daemon off;'\n</code></pre>\n\n<p>I get the errors appearing in /var/log/fcgiwrap_err.log. However the error message, and more importantly the status, aren't returned to nginx.</p>\n\n<p>This is my nginx config...</p>\n\n<pre><code>server {\n    listen 80 default_server;\n    listen [::]:80 default_server;\n\n    root /var/www/web;\n\n    index index.html index.cgi;\n\n    server_name _;\n\n    location / {\n            try_files $uri $uri/ =404;\n    }\n\n    location ~ \\.cgi$ {\n        gzip off;\n        include /etc/nginx/fastcgi_params;\n        fastcgi_pass unix:/var/run/supervisor/fcgiwrap.sock;\n        fastcgi_index index.cgi;\n        fastcgi_param SCRIPT_FILENAME /var/www/web$fastcgi_script_name;\n    }\n\n    # deny access to .htaccess files\n    location ~ /\\.ht {\n           deny all;\n    }\n}\n</code></pre>\n\n<p>I'm not sure whether the issue is due to a misconfiguration of fcgiwrap, nginx, or supervisord.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1470619355, "post_id": 38820062, "comment_id": 65006964, "body": "Is this question just &quot;<i>how do I use arrays in Perl?</i>&quot;?"}, {"owner": {"reputation": 1, "user_id": 6637505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae24a25f99dae5a7c010db66f0109fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Jae.B.Kim", "link": "https://stackoverflow.com/users/6637505/jae-b-kim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1470619709, "post_id": 38820062, "comment_id": 65007053, "body": "using array i get it, but im getting weird erros when implementing it with the excel commands. i was wondering if there&#39;s a different way to use the array with how the excel commands work"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1470619785, "post_id": 38820062, "comment_id": 65007067, "body": "What&#39;s your code? What are the errors?"}, {"owner": {"reputation": 1, "user_id": 6637505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae24a25f99dae5a7c010db66f0109fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Jae.B.Kim", "link": "https://stackoverflow.com/users/6637505/jae-b-kim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1470620183, "post_id": 38820062, "comment_id": 65007156, "body": "The error i get is : Can&#39;t use an undefined value as a HASH reference at test5.pl line 58."}, {"owner": {"reputation": 1, "user_id": 6637505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae24a25f99dae5a7c010db66f0109fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Jae.B.Kim", "link": "https://stackoverflow.com/users/6637505/jae-b-kim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1470620203, "post_id": 38820062, "comment_id": 65007161, "body": "The code i have (as a test) is: my @worksheets = $workbook1-&gt;Worksheets;"}, {"owner": {"reputation": 1, "user_id": 6637505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae24a25f99dae5a7c010db66f0109fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Jae.B.Kim", "link": "https://stackoverflow.com/users/6637505/jae-b-kim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1470620219, "post_id": 38820062, "comment_id": 65007167, "body": "(ugh sorry auto enter) $worksheets[0]-&gt;Cells($Row, $Col)-&gt;{&#39;Value&#39;} = $VCC1;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470655588, "post_id": 38820062, "comment_id": 65021553, "body": "Please note that you can edit comments for five minutes after posting them. You can also <a href=\"https://stackoverflow.com/posts/38820062/edit\">edit</a> your question with the <a href=\"https://stackoverflow.com/posts/38820062/edit\">edit</a> link underneath it."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1470655526, "creation_date": 1470655526, "answer_id": 38828009, "question_id": 38820062, "link": "https://stackoverflow.com/questions/38820062/how-can-perl-operate-multiple-worksheets-in-a-excel-file/38828009#38828009", "title": "How can Perl operate multiple worksheets in a Excel file?", "body": "<p>I am not entirely sure I get what you mean, but I think what you want to do is not repeat code. At least that is how I understand your Matlab code.</p>\n\n<p>You can put all the worksheets into one array in Perl like this.</p>\n\n<pre><code>my $worksheet1 = $workbook1-&gt;Worksheets(1);\nmy $worksheet2 = $workbook1-&gt;Worksheets(2);\nmy $worksheet3 = $workbook1-&gt;Worksheets(3);\n</code></pre>\n\n<p>Or shorter:</p>\n\n<pre><code>my @worksheets (\n    $workbook1-&gt;Worksheets(1),\n    $workbook1-&gt;Worksheets(2),\n    $workbook1-&gt;Worksheets(3),\n);\n</code></pre>\n\n<p>Or even shorter:</p>\n\n<pre><code>my @worksheets = map { $workbook1-&gt;Worksheets($_) } 1 .. 3;\n</code></pre>\n\n<p>Then you can iterate that array. The <code>$worksheet</code> variables are all objects, and objects in Perl are references. That means that if you put them into an array, you are not making copies of the objects.</p>\n\n<pre><code>foreach my $sheet ( @worksheets ) {\n    $sheet-&gt;Cells($row, $col)-&gt;{'Value'}     = $var1;\n    $sheet-&gt;Cells($row, $col + 1)-&gt;{'Value'} = $var2;\n}\n</code></pre>\n\n<p>That code will write <code>$var1</code> and <code>$var2</code> into the <code>$row</code>/<code>$col</code> cells in all three worksheets 1, 2 and 3.</p>\n\n<p>You don't even have to create an array. You can just supply a list of the workbooks if that's the only place where you use all of them together in that order.</p>\n\n<pre><code>foreach my $sheet ($worksheet1, $worksheet2, $worksheet3) {\n    $sheet-&gt;Cells($row, $col)-&gt;{'Value'}     = $var1;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6637505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae24a25f99dae5a7c010db66f0109fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Jae.B.Kim", "link": "https://stackoverflow.com/users/6637505/jae-b-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 918, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1470655526, "creation_date": 1470618954, "last_edit_date": 1470620765, "question_id": 38820062, "link": "https://stackoverflow.com/questions/38820062/how-can-perl-operate-multiple-worksheets-in-a-excel-file", "title": "How can Perl operate multiple worksheets in a Excel file?", "body": "<p>I'm still learing Perl, and am trying to perform the following task -- and am miserably stuck. </p>\n\n<p>Currently I have the following.</p>\n\n<ol>\n<li>Open the necessary Excel file</li>\n<li>Store Workbooks info under var <code>$workbook1</code></li>\n<li>Store Worksheets info under var <code>$worksheets1</code></li>\n</ol>\n\n<p></p>\n\n<pre><code>my $excel = Win32::OLE -&gt; new(\"Excel.Application\");\n$excel-&gt;{Visible} = 0;\n$excel-&gt;{DisplayAlerts}=0;\n$excel-&gt;{SheetsInNewWorkbook} = 1;\n\nmy $workbook1   = $excel-&gt;Workbooks-&gt;Open($OutFileName);\n\nmy $worksheet1  = $workbook1-&gt;Worksheets(1);\n</code></pre>\n\n<p>I later take this info and have Perl to write in the cells of the Excel file (the necessary <code>$Row</code> and <code>$Col</code> are initialized accordingly).</p>\n\n<pre><code>$worksheet1-&gt;Cells($Row, $Col)-&gt;{'Value'} = $var1;\n$worksheet1-&gt;Cells($Row, $Col+1)-&gt;{'Value'} = $var2;\n$worksheet1-&gt;Cells($Row, $Col+2)-&gt;{'Value'} = $var3;\n$worksheet1-&gt;Cells($Row, $Col+3)-&gt;{'Value'} = $var4;\n</code></pre>\n\n<p>So far this works fine. \nWhat I intend to do is operate on multiple worksheets instead of just one.</p>\n\n<ol>\n<li>Open the necessary Excel file</li>\n<li>Store Workbooks info under var $workbook1</li>\n<li>Store Wortsheets info under <strong>var(s) $worksheets1, $worksheets2, $worksheets3, $worksheets4, $worksheets5 (or store it into an array if it's possible?)</strong> </li>\n</ol>\n\n<p>I have a total of 5 worksheets I need to operate on in the Excel file. </p>\n\n<p>I'm trying to for loop the latter process (where I write in the cells) for each worksheet, but I'm trying to find an easier way to recall the $worksheet1, $worksheet2, ..., $worksheet5 variables. Cuz, for now without the proper array variable -- which I yet learned how to in Perl -- I need to do an if statement for each every for loop and write the according code, which is very ineffective.. Is there a way to perform this with an array or something else for the worksheet variable?</p>\n\n<p>I'm more familiar with how Matlab works.. and here's what I would like Perl to do if it were a Matlab script with arrays.</p>\n\n<pre><code>for i = 1:num_worksheets\n# write in worksheet[i] cell (j,k) with variable var1\nend\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1470605389, "post_id": 38818618, "comment_id": 65004348, "body": "Start with <code>use strict; use warnings;</code> and don&#39;t use global variables everywhere."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1470606443, "creation_date": 1470606443, "answer_id": 38818867, "question_id": 38818618, "link": "https://stackoverflow.com/questions/38818618/accessing-array-of-hash-in-perl/38818867#38818867", "title": "Accessing array of hash in Perl", "body": "<p>Since there is just one variable <code>@allowed</code> and one variable <code>%hash</code>, where you take references to them you are always getting the same value (which was cleared and set in the final iteration of the loop).</p>\n\n<p>Declare them inside the loop, and you will be get references to new variables each time through the loop:</p>\n\n<pre><code>for($i=0;$i&lt;scalar(@stem);++$i){\n    my @allowed;\n    my %hash;\n\n    for($j=0;$j&lt;scalar(@stem);++$j){\n        push @allowed,{stem=&gt;++$count,hinfo=&gt;++$count};\n    }\n    %hash = ( allowed=&gt;\\@allowed ,solution=&gt;++$count);\n    push (@ants,\\%hash);\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 6607399, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh3.googleusercontent.com/-wfc2Zry9D6M/AAAAAAAAAAI/AAAAAAAAAqI/WSBAsJ-nmls/photo.jpg?sz=128", "display_name": "Mina Shaigan", "link": "https://stackoverflow.com/users/6607399/mina-shaigan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1470606443, "creation_date": 1470604408, "last_edit_date": 1470606136, "question_id": 38818618, "link": "https://stackoverflow.com/questions/38818618/accessing-array-of-hash-in-perl", "title": "Accessing array of hash in Perl", "body": "<p>I have problem with accessing a hash in each element of array after creating it but it gave the last element. What should I do to access all the elements of my array?</p>\n\n<pre><code>@stem = ();\nfor($i=0;$i&lt;2;++$i){\n    push @stem,{u1=&gt;1 , u2 =&gt; 2 , u3 =&gt; 3};\n}\n@ants = ();\n$count = 0;\nfor($i=0;$i&lt;scalar(@stem);++$i){\n    @allowed = ();\n    %hash = ();\n\n    for($j=0;$j&lt;scalar(@stem);++$j){\n        push @allowed,{stem=&gt;++$count,hinfo=&gt;++$count};\n    }\n    %hash = ( allowed=&gt;\\@allowed ,solution=&gt;++$count);\n    push (@ants,\\%hash);\n\n}\n\nfor($i=0;$i&lt;scalar(@ants);++$i){\n    %test = %{$ants[$i]};\n    print \"=&gt;\",$test{solution},\"\\n\";\n    @temp = @{$test{allowed}};\n    for($j=0;$j&lt;scalar(@temp);++$j){\n        print $j,\":\",$temp[$j]-&gt;{stem},\" \",$temp[$j]-&gt;{hinfo},\"\\n\";\n    }\n}\n</code></pre>\n\n<p>output:<br>\n=>21<br>\n0:16 16<br>\n1:18 18<br>\n2:20 20<br>\n=>21<br>\n0:16 16<br>\n1:18 18<br>\n2:20 20<br></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1470595775, "post_id": 38817276, "comment_id": 65001791, "body": "show sample input file (with multiple RNA lines) and what output you are wanting"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470595851, "post_id": 38817276, "comment_id": 65001812, "body": "Please show your real program. What you have shown dies with <code>Undefined subroutine &amp;main::GetOptions</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470596466, "post_id": 38817276, "comment_id": 65001994, "body": "It would help you a lot if you laid your program out to be more readable. ysth and I have done it for you here so that we could read it ourselves"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470596653, "post_id": 38817276, "comment_id": 65002062, "body": "You have misnamed the <code>$column</code> variable, which is set to each <i>line</i> from the input file in turn. <code>@all_columns</code> contains the data in that line split into columns, and <code>$all_columns[0]</code> is the first column of the current line. Both will change for each iteration of the outer <code>for</code> loop. I don&#39;t know whether that corresponds to a misunderstanding of Perl."}, {"owner": {"reputation": 75, "user_id": 6686326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WR1Dw.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/6686326/leonardo"}, "edited": false, "score": 0, "creation_date": 1470790128, "post_id": 38817276, "comment_id": 65088816, "body": "Thank you guys. I&#39;m new to Perl and programming...  I edited the  post so now all the code is available."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 6686326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WR1Dw.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/6686326/leonardo"}, "edited": false, "score": 0, "creation_date": 1470791004, "post_id": 38817464, "comment_id": 65088994, "body": "Hi Borodin, RF is short for RF0001, for example. I changed the foreach loop for the substitution function. Thanks"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1470596401, "last_edit_date": 1470596401, "creation_date": 1470596078, "answer_id": 38817464, "question_id": 38817276, "link": "https://stackoverflow.com/questions/38817276/print-a-variable-which-is-inside-two-loops/38817464#38817464", "title": "Print a variable which is inside two loops", "body": "<blockquote>\n  <p>I would like to print other things which will be outside the loop and combine them to the $rfam_column content</p>\n</blockquote>\n\n<p>You can include anything that is in an <em>outer scope</em> in <code>print</code>. You can just put your <code>print</code> statement inside the inner loop</p>\n\n<p>By the way, I don't know what you mean by</p>\n\n<pre><code># insert \"|\" between RFs\n\nforeach $_ ($rfam_column) {\n    s/^/|/;\n}\n</code></pre>\n\n<p>That is the same as</p>\n\n<pre><code>$rfam_column =~ s/^/|/;\n</code></pre>\n\n<p>which just adds a pipe <code>|</code> character to the beginning of the string</p>\n\n<p>What is an RF?</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1470612053, "creation_date": 1470612053, "answer_id": 38819471, "question_id": 38817276, "link": "https://stackoverflow.com/questions/38817276/print-a-variable-which-is-inside-two-loops/38819471#38819471", "title": "Print a variable which is inside two loops", "body": "<p>I think you want</p>\n\n<pre><code>if ($in) {\n    ...\n\n    my @rfams;\n    for my $row (@list) {\n        my @fields = split(/\\t/, $row);\n        my $rfam = $fields[0];\n        push @rfams, $rfam;\n    }\n\n    my $rfams = join('|', @rfams);\n    print(\"$rfams\\n\");\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 6686326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WR1Dw.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/6686326/leonardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1470789911, "creation_date": 1470594774, "last_edit_date": 1470789911, "question_id": 38817276, "link": "https://stackoverflow.com/questions/38817276/print-a-variable-which-is-inside-two-loops", "title": "Print a variable which is inside two loops", "body": "\n\n<p>I couldn't figure it out how to escape this.</p>\n\n<p>I would like to print the variable <code>$rfam_column</code>, which is inside two loops. But I cannot just write the <code>print</code> command right after the place where <code>$rfam_column</code> appears, because I would like to print other things which will be outside the loop and combine them to the printed content.</p>\n\n<p>I would appreciate any advice as to what I'm doing wrong here.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use warnings;\nuse strict;\n\nmy $in;\nGetOptions('input' =&gt; \\$in) or die;\n\nif ( $in ) {\n\n    my $input = $ARGV[0] or die;\n\n    open (my $fh, '&lt;', $input) or die \"Can't open $input $!\\n\";\n    chomp (my @db_file = &lt;$fh&gt;);\n    close $fh;\n\n    my @list = grep /RNA/, @db_file;\n\n    my $column;\n    my @column = ();\n\n    foreach  $column ( @list ) {\n\n        my @all_columns = split (/\\t/, $column);\n        my $rfam_column = $all_columns[0];\n\n        # insert \"|\" between RFs\n\n        foreach $_ ( $rfam_column ) {\n            s/^/|/;\n        }\n    }\n}\n\nprint \"$rfam_column\";\n</code></pre>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Global symbol \"$rfam_column\" requires explicit package name at script_vbeta.pl line 90.\nExecution of script_vbeta.pl aborted due to compilation errors.\n</code></pre>\n</blockquote>\n\n<p>EDITED to include all the code and information of the input--output as suggested:</p>\n\n<p>Input file is a table with n lines vs n columns like this (I extracted a few columns otherwise it would be much long to represent in a line):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>RF00001 1302    5S ribosomal RNA\nRF00006 1307    Vault RNA\nRF00007 1308    U12 minor spliceosomal RNA\nRF00008 1309    Hammerhead ribozyme (type III) \n</code></pre>\n\n<p>Output should be like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>|RF00001|RF00006|RF00007 \n</code></pre>\n\n<p>And the code (usage: script.pl -i input_file):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use warnings;\nuse strict;\nuse Getopt::Long;\nGetopt::Long::Configure(\"pass_through\");\n\n\nmy $in;\nGetOptions('input' =&gt; \\$in) or die;\n\nif ( $in ) {\n\n    my $input = $ARGV[0] or die;\n\n    open (my $fh, '&lt;', $input) or die \"Can't open $input $!\\n\";\n    chomp (my @db_file = &lt;$fh&gt;);\n    close $fh;\n\n    my @list = grep /RNA/, @db_file;\n\n    my $column;\n    my @column = ();\n\n    foreach  $column ( @list ) {\n\n        my @all_columns = split (/\\t/, $column);\n        my $rfam_column = $all_columns[0];\n        # insert \"|\" between RFs\n        foreach $_ ( $rfam_column ) {\n            s/^/|/;\n        }\n    }\n}\nprint \"$rfam_column\";\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "edited": false, "score": 0, "creation_date": 1470584914, "post_id": 38815785, "comment_id": 64998877, "body": "Is there any reason you don&#39;t just replace <code>.mp4.mp3</code> with <code>.mp3</code>?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1470584935, "post_id": 38815785, "comment_id": 64998888, "body": "show sample input and expected and actual output"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1470585237, "post_id": 38815785, "comment_id": 64998978, "body": "you should always enable warnings, even on oneliners.  it isn&#39;t an actual problem here, but using \\1 instead of $1 on the right side of a substitution is an error."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1470585631, "post_id": 38815785, "comment_id": 64999085, "body": "since what follows is a fixed string up to the end of the line, your non-greedy matching won&#39;t have any effect on the results, and a trivial at best effect on the time it takes."}], "answers": [{"tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 1, "last_activity_date": 1500051933, "last_edit_date": 1500051933, "creation_date": 1470584958, "answer_id": 38815848, "question_id": 38815785, "link": "https://stackoverflow.com/questions/38815785/perl-regex-non-greedy-matching/38815848#38815848", "title": "Perl regex non-greedy matching", "body": "<p>Don't overthink it :)</p>\n\n<pre><code>s/\\.mp4\\.mp3$/.mp3/\n</code></pre>\n\n<p>Rename the files in Perl:</p>\n\n<pre><code>ls | perl -lne '($newname = $_ ) =~ s/\\.mp4\\.mp3$/.mp3/; rename($_, $newname)'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 6569876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPQrC.jpg?s=128&g=1", "display_name": "crazyfox", "link": "https://stackoverflow.com/users/6569876/crazyfox"}, "edited": false, "score": 0, "creation_date": 1470586591, "post_id": 38815864, "comment_id": 64999310, "body": "I was attempting to eventually pipe this into xargs -n2 mv, like I usually do with sed (but sed doesn&#39;t support non-greedy, which I don&#39;t really need) but I see that -p prints every line unlike the sed p which prints the lines where the replace happens. I see that perl can operate on files in place with -i, but how would I use this here?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 119, "user_id": 6569876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPQrC.jpg?s=128&g=1", "display_name": "crazyfox", "link": "https://stackoverflow.com/users/6569876/crazyfox"}, "edited": false, "score": 0, "creation_date": 1470589161, "post_id": 38815864, "comment_id": 64999983, "body": "Does my answer not work for you?  You can do in place  editing too, but that doesn&#39;t really help if you want to use xargs."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 119, "user_id": 6569876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPQrC.jpg?s=128&g=1", "display_name": "crazyfox", "link": "https://stackoverflow.com/users/6569876/crazyfox"}, "edited": false, "score": 0, "creation_date": 1470589339, "post_id": 38815864, "comment_id": 65000025, "body": "wait, are you trying to print both the old and new names so mv renames them?  then you want <code>print if s&#47;^((.*)\\.mp4\\.mp3)$&#47;$1\\n$2.mp3&#47;</code>.  or better yet, just use the rename command instead of perl."}, {"owner": {"reputation": 119, "user_id": 6569876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPQrC.jpg?s=128&g=1", "display_name": "crazyfox", "link": "https://stackoverflow.com/users/6569876/crazyfox"}, "edited": false, "score": 0, "creation_date": 1470589453, "post_id": 38815864, "comment_id": 65000061, "body": "Yeah, either inplace editing OR printing each line where the replace will happen followed by the replaced line for piping into xargs. I will go ahead and accept since I just asked for this first part though."}, {"owner": {"reputation": 119, "user_id": 6569876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPQrC.jpg?s=128&g=1", "display_name": "crazyfox", "link": "https://stackoverflow.com/users/6569876/crazyfox"}, "edited": false, "score": 0, "creation_date": 1470595364, "post_id": 38815864, "comment_id": 65001684, "body": "nice, yeah the comment is what I was looking for. I didn&#39;t think about being able to put a newline in there."}, {"owner": {"reputation": 119, "user_id": 6569876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPQrC.jpg?s=128&g=1", "display_name": "crazyfox", "link": "https://stackoverflow.com/users/6569876/crazyfox"}, "edited": false, "score": 0, "creation_date": 1470595612, "post_id": 38815864, "comment_id": 65001750, "body": "wait, no it doesn&#39;t seem to work when followed by &quot;| xargs -n2 mv&quot;. Something about the whitespace or hypens are messing it up."}, {"owner": {"reputation": 119, "user_id": 6569876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPQrC.jpg?s=128&g=1", "display_name": "crazyfox", "link": "https://stackoverflow.com/users/6569876/crazyfox"}, "edited": false, "score": 0, "creation_date": 1470595955, "post_id": 38815864, "comment_id": 65001848, "body": "that&#39;s cool though, I will just strip the whitespace and hyphens from file names."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 119, "user_id": 6569876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPQrC.jpg?s=128&g=1", "display_name": "crazyfox", "link": "https://stackoverflow.com/users/6569876/crazyfox"}, "edited": false, "score": 0, "creation_date": 1470596191, "post_id": 38815864, "comment_id": 65001908, "body": "if you have whitepace in filenames, try <code>perl -wne&#39;print if s&#47;^((.*)\\.mp4\\.mp3)\\n&#47;$1\\0$2.mp3\\0&#47;&#39; | xargs -0 -n2 mv</code> .   I don&#39;t see how hyphens could be a problem, unless you have leading hyphens, in which case you need <code>mv --</code> instead of just mv."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1470585139, "creation_date": 1470585139, "answer_id": 38815864, "question_id": 38815785, "link": "https://stackoverflow.com/questions/38815785/perl-regex-non-greedy-matching/38815864#38815864", "title": "Perl regex non-greedy matching", "body": "<p>If by 'operating on lines without \".mp4\" in them at all' you mean you only want to print out filenames that the substitution changes, you need to not use -p and explicitly print the ones you want:</p>\n\n<pre><code>ls | perl -wne'print if s/\\.mp4\\.mp3$/.mp3/'\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 6569876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPQrC.jpg?s=128&g=1", "display_name": "crazyfox", "link": "https://stackoverflow.com/users/6569876/crazyfox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "accepted_answer_id": 38815864, "answer_count": 2, "score": -2, "last_activity_date": 1500051933, "creation_date": 1470584495, "last_edit_date": 1500051893, "question_id": 38815785, "link": "https://stackoverflow.com/questions/38815785/perl-regex-non-greedy-matching", "title": "Perl regex non-greedy matching", "body": "<p>I am piping <code>ls</code> into Perl looking for lines that contain some any characters followed by \".mp4.mp3\" at the end of the line. I want to remove the \".mp4\" from the middle of the line. Here is my command:</p>\n\n<pre><code>ls | perl -pe 's|(.+?)\\.mp4\\.mp3$|\\1\\.mp3|'\n</code></pre>\n\n<p>I am using non-greedy matching so the regex will stop consuming the line when it runs into \".mp4.mp3\". I would expect this to only operate on lines that end in \".mp4.mp3\", but it is operating on lines without \".mp4\" in them at all.</p>\n\n<p>Input: foo . bar.mp4.mp3</p>\n\n<p>Expected output: foo . bar.mp3</p>\n"}, {"tags": ["performance", "perl", "eval"], "comments": [{"owner": {"reputation": 40394, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 0, "creation_date": 1470582374, "post_id": 38815434, "comment_id": 64998196, "body": "Sure it&#39;s less efficient. Is the difference enough to matter? In your (small) test case, apparently not. If you want to measure the difference, make your test cases larger. If the test cases are representative of actual use, then you&#39;ve answered your question."}, {"owner": {"reputation": 137, "user_id": 2454025, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cdf738ba6122adf3df31306e076a2a55?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/2454025/bob"}, "reply_to_user": {"reputation": 40394, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 1, "creation_date": 1470583994, "post_id": 38815434, "comment_id": 64998619, "body": "Ah... Yes, will try on my larger case. When I was using it in real project, there were thousands of files with thousands of individual metrics, and formulas were giant, one formula sometimes could take a page of text."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1470592349, "post_id": 38815434, "comment_id": 65000845, "body": "Benchmarking is hard.  Perl&#39;s <code>Benchmark</code> module is great, but easy to misuse in ways that render the results meaningless.  I recommend basing your tests on Perl&#39;s Benchmark module, but used with care.  Please post the actual code you used to benchmark the sample code, and the benchmark results. It is also useful to employ Test::More with tests written to prove that the different versions are equivalent."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1470604620, "post_id": 38815434, "comment_id": 65004160, "body": "It&#39;s not clear to me why you&#39;re using <code>eval</code> at all. In these examples, you could simply have used an anonymous sub: <code>$formulas_adv{formula_a} = sub { my $ref = shift @_; ... };</code>"}, {"owner": {"reputation": 137, "user_id": 2454025, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cdf738ba6122adf3df31306e076a2a55?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/2454025/bob"}, "edited": false, "score": 0, "creation_date": 1470611691, "post_id": 38815434, "comment_id": 65005553, "body": "Because formulas themselves were specified in files which had to be provided in a runtime."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470615259, "post_id": 38815434, "comment_id": 65006219, "body": "Are you simply asking us to benchmark for you???"}, {"owner": {"reputation": 137, "user_id": 2454025, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cdf738ba6122adf3df31306e076a2a55?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/2454025/bob"}, "edited": false, "score": 0, "creation_date": 1470616061, "post_id": 38815434, "comment_id": 65006335, "body": "No. I was concerned not seeing immediate effect on small test case, that&#39;s why I posted. But after I started to increase formulas length, I started to see advantage of evaluating subs once. So consider this closed. Thanks!"}], "owner": {"reputation": 137, "user_id": 2454025, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cdf738ba6122adf3df31306e076a2a55?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/2454025/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1470612916, "creation_date": 1470581997, "last_edit_date": 1470591440, "question_id": 38815434, "link": "https://stackoverflow.com/questions/38815434/eval-arithmetic-expression-as-a-string-vs-calling-function", "title": "eval arithmetic expression as a string vs calling function", "body": "<p>I was going to advice some fellow Perl developers against eval-ing formulas as a string each time the formula is calculated, and instead eval - once - functions for each formula. Thus, instead of calling eval thousands of times, a function is called. I.e:</p>\n\n<p>Instead of:</p>\n\n<pre><code>sub calc_formulas_naive\n{\n    my %formulas;\n    $formulas{formula_a} = '$ref-&gt;{metric_a} + $ref-&gt;{metric_b} * $ref-&gt;{metric_c} - 100 * $ref-&gt;{metric_c} / 1000 + 33.33 * $ref-&gt;{metric_d}';\n    $formulas{formula_b} = '$ref-&gt;{metric_a} * $ref-&gt;{metric_c} - 33';\n    $formulas{formula_c} = '$ref-&gt;{metric_a} * $ref-&gt;{metric_c} - 33 + 0.265 * ($ref-&gt;{metric_d} / $ref-&gt;{metric_c}) - $ref-&gt;{metric_a} + $ref-&gt;{metric_e} * ($ref-&gt;{metric_d} + 1)';\n\n    my $ref = shift @_;\n    my $form_a_val = eval $formulas{formula_a};\n    my $form_b_val = eval $formulas{formula_b};\n    my $form_c_val = eval $formulas{formula_c};\n}\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>my %formulas_adv;\nsub prep_formulas_adv # called only once prior to parsing!\n{\n    my $sub = 'sub { my $ref = shift @_; my $result = $ref-&gt;{metric_a} + $ref-&gt;{metric_b} * $ref-&gt;{metric_c} - 100 * $ref-&gt;{metric_c} / 1000 + 33.33 * $ref-&gt;{metric_d}; return $result; }';\n    $formulas_adv{formula_a} = eval $sub;\n    $sub = 'sub { my $ref = shift @_; my $result = $ref-&gt;{metric_a} * $ref-&gt;{metric_c} - 33; return $result; }';\n    $formulas_adv{formula_b} = eval $sub;\n    $sub = 'sub { my $ref = shift @_; my $result = $ref-&gt;{metric_a} * $ref-&gt;{metric_c} - 33 + 0.265 * ($ref-&gt;{metric_d} / $ref-&gt;{metric_c}) - $ref-&gt;{metric_a} + $ref-&gt;{metric_e} * ($ref-&gt;{metric_d} + 1); return $result; }';\n    $formulas_adv{formula_c} = eval $sub;\n}\n\nsub calc_formulas_advanced\n{\n    my $ref = shift @_;\n    my $form_a_val = $formulas_adv{formula_a}($ref);\n    my $form_b_val = $formulas_adv{formula_b}($ref);\n    my $form_c_val = $formulas_adv{formula_c}($ref);\n}\n</code></pre>\n\n<p>Now the question itself. I was totally sure that 2nd approach gives noticeable advantage when processing big amounts of data. I haven't had access to my old projects, but I also was quite sure I saw the 2nd approach working faster than the 1st. After all, Perl doesn't have to compile anything on-the-run in this case.</p>\n\n<p>But before giving the advice, I wrote a small artificial example with 5K text files populated with rand generated metrics, ran both implementations, and... I don't observe any advantage of using unnamed functions over strings evaluation.\nWhat's the matter? Was I hallucinating all the time, when I thought that eval is less effective than a function?</p>\n"}, {"tags": ["perl", "qif"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6688137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3bb800ffa9bd5b87d058c72beaa2f93?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/6688137/oliver"}, "edited": false, "score": 0, "creation_date": 1470635913, "post_id": 38818360, "comment_id": 65010594, "body": "Thanks a lot - this was the solution I was looking for --&gt; works now! :-)"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 1, "last_activity_date": 1470602542, "creation_date": 1470602542, "answer_id": 38818360, "question_id": 38815182, "link": "https://stackoverflow.com/questions/38815182/example-for-creating-split-transaction-in-perl-financeqif/38818360#38818360", "title": "Example for creating split-transaction in Perl Finance::QIF", "body": "<p>I know nothing about <code>Finance::QIF</code> but your <code>@splits</code> code makes no sense.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>my $record = {\n    header      =&gt; \"Type:Bank\",\n    date        =&gt; $outdatum,\n    memo        =&gt; $outtext,\n    transaction =&gt; $outbetrag,\n    splits      =&gt; [\n      {\n        category =&gt; \"Gesundheit:Arzt:Kind1\",\n        memo =&gt; \"L\",\n        amount =&gt; \"-161,66\",\n      },\n      {         \n        category =&gt; \"Gesundheit:Arzt:Kind2\",\n        memo =&gt; \"F\",\n        amount =&gt; \"-162,66\",\n      }\n    ],    \n};\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\"><code>perldoc perlreftut</code></a> for more information about references and data structures in Perl.</p>\n"}], "owner": {"reputation": 13, "user_id": 6688137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3bb800ffa9bd5b87d058c72beaa2f93?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/6688137/oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 38818360, "answer_count": 1, "score": 1, "last_activity_date": 1470602542, "creation_date": 1470580386, "last_edit_date": 1470594909, "question_id": 38815182, "link": "https://stackoverflow.com/questions/38815182/example-for-creating-split-transaction-in-perl-financeqif", "title": "Example for creating split-transaction in Perl Finance::QIF", "body": "<p>I need to import my bank-exported transactions (CSV) into GNUcash.\nI am almost finished with the perl script using Finance::QIF</p>\n\n<p>I parse the CSV and write it out like this:</p>\n\n<pre><code>my $record = {\nheader      =&gt; \"Type:Bank\",\ndate        =&gt; $outdatum,\nmemo        =&gt; $outtext,\ntransaction =&gt; $outbetrag,\n};\n$out-&gt;header( $record-&gt;{header} );\n$out-&gt;write($record);\n....\n</code></pre>\n\n<p>But my problem is creating a split.\n<a href=\"http://finance-qif.sourceforge.net/\" rel=\"nofollow\">http://finance-qif.sourceforge.net/</a>  says \"    If the transaction contains splits this will be defined and consist of an array of hash references. With each split potentially having the following values.\" - so I tried this:</p>\n\n<pre><code>my $record = {\nheader      =&gt; \"Type:Bank\",\ndate        =&gt; $outdatum,\nmemo        =&gt; $outtext,\ntransaction =&gt; $outbetrag,\n@splits = (\n  {\n    category =&gt; \"Gesundheit:Arzt:Kind1\",\n    memo =&gt; \"L\",\n    amount =&gt; \"-161,66\"\n  },\n  {         \n    category =&gt; \"Gesundheit:Arzt:Kind2\",\n    memo =&gt; \"F\",\n    amount =&gt; \"-162,66\"\n  }\n)\n};\n</code></pre>\n\n<p>This leads to the error:</p>\n\n<pre><code>Unsupported field 'HASH(0x221c9e8)' found in record ignored in file '&gt;_TESTqif.qif' line 22 at convert_bank_CSV.pl line 195.\n</code></pre>\n\n<p>Unfortunately, I nowhere found an example for creating a split, just for a normal transaction.</p>\n\n<p>Can someone please help how Finance::QIF can be used to create split-transactions?</p>\n"}, {"tags": ["perl", "oop"], "answers": [{"comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 7, "creation_date": 1470556382, "post_id": 38811535, "comment_id": 64991733, "body": "...and this is why you should <i>always</i> <code>use strict; use warnings;</code> in your Perl code. It will automatically catch typos like this one for you."}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": true, "score": 1, "last_activity_date": 1470551103, "creation_date": 1470551103, "answer_id": 38811535, "question_id": 38811508, "link": "https://stackoverflow.com/questions/38811508/error-in-object-creation-in-perl/38811535#38811535", "title": "error in object creation in perl", "body": "<pre><code>    bless($self,$calss);\n                 ^^^^^\n</code></pre>\n\n<p>Typo?</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1470567449, "last_edit_date": 1470567449, "creation_date": 1470566736, "answer_id": 38813335, "question_id": 38811508, "link": "https://stackoverflow.com/questions/38811508/error-in-object-creation-in-perl/38813335#38813335", "title": "error in object creation in perl", "body": "<p></p>\n\n<p>You have misspelled the name of your <code>$class</code> variable, resulting in <code>bless</code> trying to execute <code>bless $self, undef</code></p>\n\n<p>With <code>use strict</code> and <code>use warnings 'all'</code> in place, this would have resulted in the useful error messages</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Use of uninitialized value $calss in bless at PersonB.pm\n\nExplicit blessing to '' (assuming package main)\n</code></pre>\n</blockquote>\n\n<p>which is why your program is showing</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate object method \"name\" via package \"main\"\n</code></pre>\n</blockquote>\n\n<ul>\n<li><p>You <em>must always</em> add <code>use strict</code> and <code>use warnings 'all'</code> at the top of every Perl source file that you write</p></li>\n<li><p>Your package names should begin with a capital letter, and the name of the file that contains them should match exactly</p></li>\n<li><p>You should avoid using the indirect object notation <code>new person_b</code>. It is much better written as <code>PersonB-&gt;new</code></p></li>\n</ul>\n\n<p>This code works fine</p>\n\n<h3>PersonB.pm</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package PersonB;\n\nuse strict;\nuse warnings 'all';\n\nsub new {\n    my $class = shift;\n\n    bless {}, $class;\n}\n\nsub name {\n    print \"The name is ....\\n\";\n}\n\n1;\n</code></pre>\n\n<h3>main.pl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use PersonB;\n\nuse strict;\nuse warnings 'all';\n\nuse Scalar::Util 'blessed';\n\nmy $per = PersonB-&gt;new;\nprint blessed($per), \"\\n\";\n\n$per-&gt;name;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>PersonB\nThe name is ....\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 2899571, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002072558506/picture?type=large", "display_name": "Krishna Priya", "link": "https://stackoverflow.com/users/2899571/krishna-priya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 38811535, "answer_count": 2, "score": -2, "last_activity_date": 1470567449, "creation_date": 1470550856, "last_edit_date": 1470566946, "question_id": 38811508, "link": "https://stackoverflow.com/questions/38811508/error-in-object-creation-in-perl", "title": "error in object creation in perl", "body": "<p>I have created a class called <code>person_b</code> and I am trying to create an object from the class. But it is throwing an error</p>\n\n<blockquote>\n<pre><code>Can't locate object method \"name\" via package \"main\" at main_b.pl line 5.\n</code></pre>\n</blockquote>\n\n<h3>person_b.pm</h3>\n\n<pre><code>package person_b;\n\nsub new {\n    $class=shift;\n    $self={};\n    bless($self,$calss);\n    return $self;\n}\n\nsub name {\n    print \"The name is ....\\n\";\n}\n\n1;\n</code></pre>\n\n<h3>main.pl</h3>\n\n<pre><code>use person_b;\nuse Scalar::Util 'blessed';\n\n$per = new person_b();\nprint blessed($per), \"\\n\";\n$per-&gt;name();\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>main\nCan't locate object method \"name\" via package \"main\" at main_b.pl line 5.\n</code></pre>\n"}, {"tags": ["perl", "oop"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1470502473, "post_id": 38806532, "comment_id": 64981617, "body": "How are the files named?"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 7, "last_activity_date": 1470503067, "last_edit_date": 1470503067, "creation_date": 1470502759, "answer_id": 38806694, "question_id": 38806532, "link": "https://stackoverflow.com/questions/38806532/what-is-the-meaning-for-the-error-cant-locate-object-method-via-package-in-per/38806694#38806694", "title": "What is the meaning for the error &quot;cant locate object method via package&quot; in perl?", "body": "<p>Two problems here:</p>\n\n<ul>\n<li><code>chocalate_cake</code> and <code>chocolate_cake</code> are two different strings.</li>\n<li>your <code>birthday_cake.pm</code> is missing <code>use chocolate_cake</code>.</li>\n</ul>\n\n<p>Also, it'll help you in the future if you get into the habit of using <code>strict</code> and <code>warnings</code> in all your scripts.</p>\n\n<p>Writing <code>birthday_cake-&gt;new</code> is safer then the \"indirect object syntax\" you used (and if you're paranoic, you can use <code>'birthday_cake'-&gt;new</code> as I usually do, or even <code>birthday_cake::-&gt;new</code>, especially when you don't use Capitalized class names).</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1470567716, "last_edit_date": 1470567716, "creation_date": 1470565486, "answer_id": 38813176, "question_id": 38806532, "link": "https://stackoverflow.com/questions/38806532/what-is-the-meaning-for-the-error-cant-locate-object-method-via-package-in-per/38813176#38813176", "title": "What is the meaning for the error &quot;cant locate object method via package&quot; in perl?", "body": "\n\n<ul>\n<li><p>You should add <code>use strict</code> and <code>use warnings 'all'</code> at the top of every Perl source file you write</p></li>\n<li><p>You don't need a shebang line at the top of a module file because it is never normally run as a program</p></li>\n<li><p>You have misspelled as couple of things, such as <code>chocalate_cake</code> / <code>chocolate_cake</code> / <code>chocolatecake.pm</code> and <code>birthday_cake</code> / <code>birthdaycake.pm</code></p></li>\n<li><p>It's important that your module file names should match their package names, and should start with a capital letter</p></li>\n<li><p>To write a subclass, you need to both <code>require</code> a base class and put its name into <code>@ISA</code>. <code>use parent 'BaseClass'</code> is a convenient way to do both of these things at once</p></li>\n<li><p>Your subclass should probably call the constructor of the base class with <code>SUPER::new</code> before adding any new fields that you need</p></li>\n</ul>\n\n<p>This set of modules works fine. I have written <code>add_candles</code> to <em>add</em> a number of candles to the cake, and an accessor <code>candles</code> to discover how many candles it currently has</p>\n\n<h3>ChocolateCake.pm</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package ChocolateCake;\n\nuse strict;\nuse warnings 'all';\n\nsub new {\n    my $class = shift;\n\n    bless {}, $class;\n}\n\nsub bake {\n    print \"The cake is baking\\n\";\n}\n\nsub freeze {\n    print \"The cake is freezing\\n\";\n}\n\n1;\n</code></pre>\n\n<h3>BirthdayCake.pm</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package BirthdayCake;\n\nuse strict;\nuse warnings 'all';\n\nuse parent 'ChocolateCake';\n\nsub new {\n    my $class = shift;\n\n    my $self = $class-&gt;SUPER::new(@_);\n    $self-&gt;{candles} = 0;\n\n    $self;\n}\n\nsub add_candles {\n    my $self = shift;\n    my $num_candles = shift;\n    $self-&gt;{candles} += $num_candles;\n\n    print \"The cake has $self-&gt;{candles} candles\\n\";\n}\n\nsub candles {\n    my $self = shift;\n\n    $self-&gt;{candles};\n}\n\n1;\n</code></pre>\n\n<h3>main.pl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse BirthdayCake;\n\nmy $cake = BirthdayCake-&gt;new;\n\n$cake-&gt;bake;\n\n$cake-&gt;add_candles(10);\n$cake-&gt;add_candles(20);\n\nprintf \"My cake is a %s with %d candles\\n\", ref $cake, $cake-&gt;candles;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>The cake is baking\nThe cake has 10 candles\nThe cake has 30 candles\nMy cake is a BirthdayCake with 30 candles\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5066164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-x2ZqdtOLvd4/AAAAAAAAAAI/AAAAAAAABko/C3ENOLx_GLA/photo.jpg?sz=128", "display_name": "SAJITHA MARIYAM", "link": "https://stackoverflow.com/users/5066164/sajitha-mariyam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 38813176, "answer_count": 2, "score": -1, "last_activity_date": 1470567846, "creation_date": 1470501782, "last_edit_date": 1470567846, "question_id": 38806532, "link": "https://stackoverflow.com/questions/38806532/what-is-the-meaning-for-the-error-cant-locate-object-method-via-package-in-per", "title": "What is the meaning for the error &quot;cant locate object method via package&quot; in perl?", "body": "<p></p>\n\n<p>I have declared a base class <code>chocolatecake.pm</code> and a derived class <code>birthdaycake.pm</code> in Perl. The following error is shown.</p>\n\n<p>Can anyone please explain what this error means?</p>\n\n<h3>chocolatecake.pm</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code> #!usr/bin/perl\n    package chocolate_cake;\n    sub new\n    {\n        $class=shift;\n        $self={};\n    bless($self,$class);\n    return $self;\n}\n\nsub bake\n{\n    print \"The cake is backing\\n\"\n}\nsub frose\n{\n    print \"The cake is frosing\\n\";\n}\nsub put_handle_on\n\n{\n    $self=shift;\n    $numOfCan=shift;\n    print \"The $numOfCan in chocalate cake\\n\";\n}\n1;\n</code></pre>\n\n<h3>birthdaycake.pm</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package birthday_cake;\n@ISA = (chocalate_cake);\nsub new\n{\n    $class=shift;\n    $self={};\n    bless($self,$class);\n    return $self;\n}\nsub put_candles_on\n{\n    my $self=shift;\n    my $numOfCan=shift;\n    print \"The $numOfCan in birthday cake\\n\";\n}\n1;\n</code></pre>\n\n<h3>main.pl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use birthday_cake;\nuse Scalar::Util 'blessed';\n\n$cake_bi=new birthday_cake();\nprint blessed($cake_bi),\"\\n\";\n$cake_bi-&gt;bake();\n</code></pre>\n\n<p>I am getting the following error:</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate object method \"bake\" via package \"birthday_cake\"\n</code></pre>\n</blockquote>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1470495346, "post_id": 38805496, "comment_id": 64979830, "body": "What module are you using to create the Excel file? Please <a href=\"https://stackoverflow.com/posts/38805496/edit\">edit</a> and add some example code to reproduce this."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470499029, "post_id": 38805496, "comment_id": 64980743, "body": "Everything depends on whjat you are doing with <code>$string</code>, and you don&#39;t show that part of your code. As <a href=\"http://stackoverflow.com/questions/38805496/perl-print-a-string-containing-an-excel-hyperlink#comment64979830_38805496\">simbabque suggests</a> there is no way to know what may be wrong with your program until you show it. Please write an equivalent program that creates a spreadsheet with just a <i>single cell</i> containing this function that misbehaves in the same way. That would be a part of the debugging process anyway, and we will be able to help you when we can debug the code for ourselves."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1470505337, "last_edit_date": 1470505337, "creation_date": 1470499626, "answer_id": 38806207, "question_id": 38805496, "link": "https://stackoverflow.com/questions/38805496/perl-print-a-string-containing-an-excel-hyperlink/38806207#38806207", "title": "Perl: Print a String Containing an Excel Hyperlink", "body": "\n\n<p>There's no reason to escape multiple double-quote characters within a quoted string. Perl offers many much neater ways to construct the string that you want</p>\n\n<p>Also, the <code>print</code> operator is a very useful thing, and usually better than shutting your eyes before you run your code</p>\n\n<p>The output from your code doesn't look right at all. Did you look at it?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use v5.10;\n\nmy $filename = 'file_name.txt';\n\nmy $string = \"=HYPERLINK(\\\"file:///Users/me/folders/\" . \"$filename \\\" \\, Display_Name\\\")\";\n\nsay $string;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>=HYPERLINK(\"file:///Users/me/folders/file_name.txt \" , Display_Name\")\n</code></pre>\n\n<p>The output has a space before the closing double quote on the URL, and no opening quote on the display name</p>\n\n<p>How about this?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $file_name    = 'file_name.txt';\nmy $display_name = 'Display Name';\n\nmy $string = sprintf '=HYPERLINK(\"%s\", \"%s\")',\n        \"file:///Users/me/folders/$file_name\",\n        $display_name;\n\nprint $string, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>=HYPERLINK(\"file:///Users/me/folders/file_name.txt\", \"Display Name\")\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 38806207, "answer_count": 1, "score": -1, "last_activity_date": 1470508014, "creation_date": 1470494726, "last_edit_date": 1470508014, "question_id": 38805496, "link": "https://stackoverflow.com/questions/38805496/perl-print-a-string-containing-an-excel-hyperlink", "title": "Perl: Print a String Containing an Excel Hyperlink", "body": "<p>I need to print something along the lines of this into an excel file:</p>\n\n<pre><code>=HYPERLINK(\"file:///Users/me/folders/filename\", \"Display_Name\")\n</code></pre>\n\n<p>Every time I do so, the cell I'm trying to print into takes the value</p>\n\n<pre><code>=HYPERLINK(file:///Users/me/folders/filename\"\n</code></pre>\n\n<p>Where it is missing a double quote before \"file\", and does not contain the whole string! Rather, the cell adjacent takes the value</p>\n\n<pre><code> Display_Name\")\"\n</code></pre>\n\n<p>Where there is an extra double quote, and a missing comma.</p>\n\n<p>This is what I have so far to assign the value of the variable that gets outputted to that cell:</p>\n\n<pre><code>$string = \"=HYPERLINK(\\\"file:///Users/me/folders/\" . \"$filename \\\" \\, Display_Name\\\")\";\n</code></pre>\n\n<p>(The filename is another variable since I print this string in various cells leading to different files in the same folder)</p>\n\n<p><strong>EDIT:</strong>\nThis is the way I am writing to the .csv files (with the $string suggestion from Borodin):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nmy $sname = \"test\";\nmy $outfile = \"$sname.csv\";\nopen my $OUTFILE, \"&gt;\", $outfile or \n  die \"ERROR: Unable to open output file $outfile\\n\";\nmy @output;\nmy $file_name    = 'file_name.txt';\nmy $display_name = 'Display Name';\n\nmy $string = sprintf '=HYPERLINK(\"%s\", \"%s\")',\n        \"file:///Users/me/folders/$file_name\",\n        $display_name;\n$output[1]=$string;\nprint $OUTFILE @output, \"\\n\";\n</code></pre>\n\n<p>This still produces one cell that reads</p>\n\n<pre><code>=HYPERLINK(\"file:///Users/me/folders/file_name.txt\"\n</code></pre>\n\n<p>And one that reads</p>\n\n<pre><code> \"Display Name\")\n</code></pre>\n"}, {"tags": ["php", "mysql", "perl", "join"], "comments": [{"owner": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1470490424, "post_id": 38804823, "comment_id": 64978468, "body": "So <code>mysql string concat</code> shows your nothing?"}, {"owner": {"reputation": 12251, "user_id": 1714187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YfUwE.jpg?s=128&g=1", "display_name": "1000111", "link": "https://stackoverflow.com/users/1714187/1000111"}, "edited": false, "score": 0, "creation_date": 1470490883, "post_id": 38804823, "comment_id": 64978590, "body": "The missing values are null / empty?"}, {"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1470490952, "post_id": 38804823, "comment_id": 64978615, "body": "They are empty. Not NULL."}], "answers": [{"comments": [{"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1470490636, "post_id": 38804828, "comment_id": 64978530, "body": "<code>concat_ws</code> shows this &#39;, BBBBBBBBBBBB&#39; ... but the fields are not <code>NULL</code> just empty."}, {"owner": {"reputation": 6644, "user_id": 315024, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f34644378985962190b78d075d9a9ef5?s=128&d=identicon&r=PG", "display_name": "Walf", "link": "https://stackoverflow.com/users/315024/walf"}, "edited": false, "score": 0, "creation_date": 1470491617, "post_id": 38804828, "comment_id": 64978799, "body": "&quot;From a maintenance perspective (if that matters), going with doing it in the application rather than the SQL is preferable.&quot; Couldn&#39;t agree less."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 6644, "user_id": 315024, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f34644378985962190b78d075d9a9ef5?s=128&d=identicon&r=PG", "display_name": "Walf", "link": "https://stackoverflow.com/users/315024/walf"}, "edited": false, "score": 1, "creation_date": 1470491646, "post_id": 38804828, "comment_id": 64978803, "body": "@Walf why? Please explain."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6644, "user_id": 315024, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f34644378985962190b78d075d9a9ef5?s=128&d=identicon&r=PG", "display_name": "Walf", "link": "https://stackoverflow.com/users/315024/walf"}, "edited": false, "score": 0, "creation_date": 1470493532, "post_id": 38804828, "comment_id": 64979327, "body": "@Walf: That comment has left most of us unable to fathom what you&#39;re talking about. Do you have a real point? Most of us would prefer to reduce the source of a bug as quickly as possible. You seem to be alone in your hope that the functionality is spread over at least two domains."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470493659, "post_id": 38804828, "comment_id": 64979362, "body": "I suggest <code>IF (barcode &gt; &quot;&quot;, barcode, NULL)</code> so that all-blank  fields are also ignored."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470493784, "post_id": 38804828, "comment_id": 64979398, "body": "@Borodin I don&#39;t see the difference. Can you explain how this behaves different from <code>= &quot;&quot;</code> please?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470494009, "post_id": 38804828, "comment_id": 64979451, "body": "@simbabque: If <code>barcode</code> contains spaces or control characters then it will not be equal to the empty string, so <code>barcode = &quot;&quot;</code> will fail and the result will be a spurious comma. But MySQL space-extends the two parameters of a comparison, so anything that contains a non-space character will be &quot;greater than&quot; anything that doesn&#39;t. <code>IF (barcode &gt; &quot;&quot;, barcode, NULL)</code> turns to NULL anything that is just control characters (HT, LF, CR etc.) or spaces."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470494911, "post_id": 38804828, "comment_id": 64979703, "body": "@Borodin thank you. that makes sense. I added it to the answer."}, {"owner": {"reputation": 6644, "user_id": 315024, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f34644378985962190b78d075d9a9ef5?s=128&d=identicon&r=PG", "display_name": "Walf", "link": "https://stackoverflow.com/users/315024/walf"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470622920, "post_id": 38804828, "comment_id": 65007706, "body": "@simbabque, @borodin If you&#39;re always modifying the data as it comes out of the database in the same manner, i.e. defining the model, it&#39;s better to have it in that format before it ever gets to the app, then it is the same regardless of the method of retrieving the data. Ideally it should be in a <code>VIEW</code>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1470494898, "last_edit_date": 1495540293, "creation_date": 1470490460, "answer_id": 38804828, "question_id": 38804823, "link": "https://stackoverflow.com/questions/38804823/how-to-join-strings-in-mysql-as-php-join-function/38804828#38804828", "title": "How to join strings in MySQL as PHP join function?", "body": "<p>You can use <a href=\"http://dev.mysql.com/doc/refman/5.7/en/string-functions.html#function_concat\" rel=\"nofollow noreferrer\"><code>concat_ws()</code> in MySQL</a>. Since you don't have <code>NULL</code> but empty strings, you will need to implement a bit of logic to filter out those empty fields.</p>\n\n<pre><code>SELECT \n    name, \n    concat_ws(\n        ', ', \n        IF(barcode &gt; \"\", barcode, NULL),\n        IF(factory_code &gt; \"\", factory_code, NULL)\n    ) as 'code' \nFROM Table1;\n</code></pre>\n\n<p>As <a href=\"https://stackoverflow.com/questions/38804823/how-to-join-strings-in-mysql-as-php-join-function/38804828?noredirect=1#comment64979451_38804828\">Borodin points out in his comment</a>, if <code>barcode</code>contains spaces or control characters then it will not be equal to the empty string, so <code>barcode = \"\"</code> will fail and the result will be a spurious comma. But MySQL space-extends the two parameters of a comparison, so anything that contains a non-space character will be \"greater than\" anything that doesn't. <code>IF (barcode &gt; \"\", barcode, NULL)</code> turns to <code>NULL</code> anything that is just control characters (HT, LF, CR etc.) or spaces.</p>\n\n<p>Try it <a href=\"http://sqlfiddle.com/#!9/ae727/1/0\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>However, it's not going to give you a lot more speed to have the DB do it. For this rather small amount of data, it is negligible and I think it's not even worth thinking about.</p>\n\n<p>In Perl, you would also have to add checks for empty strings.</p>\n\n<pre><code>while (my $res = $sth-&gt;fetchrow_arrayref) {\n    my $name = shift @$res;\n    my $code = join ', ', grep { $_ } @$res;\n    # and then do stuff\n}\n</code></pre>\n\n<p>The <code>grep { $_ } @$res</code> filters out all values that are not considered to be a <em>true value</em>. That is, empty strings as well as <code>NULL</code> values, which are represented by <code>undef</code>.</p>\n\n<p>From a maintenance perspective (if that matters), going with doing it in the application rather than the SQL is preferable<sup>1</sup>. If it's throwaway code, I would personally go with the one that takes me the least amount of thinking.</p>\n\n<p><sup>1) That is, if we are talking about plain SQL mixed inside of a small application. On a larger scale, and if there is an actual model layer, I would move the aggregation into that model.</sup></p>\n"}, {"tags": [], "owner": {"reputation": 6644, "user_id": 315024, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f34644378985962190b78d075d9a9ef5?s=128&d=identicon&r=PG", "display_name": "Walf", "link": "https://stackoverflow.com/users/315024/walf"}, "is_accepted": false, "score": -1, "last_activity_date": 1470491200, "last_edit_date": 1470491200, "creation_date": 1470490672, "answer_id": 38804860, "question_id": 38804823, "link": "https://stackoverflow.com/questions/38804823/how-to-join-strings-in-mysql-as-php-join-function/38804860#38804860", "title": "How to join strings in MySQL as PHP join function?", "body": "<pre><code>SELECT name, TRIM(',' FROM TRIM(CONCAT_WS(', ', barcode, factory_code))) as code ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12251, "user_id": 1714187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YfUwE.jpg?s=128&g=1", "display_name": "1000111", "link": "https://stackoverflow.com/users/1714187/1000111"}, "edited": false, "score": 0, "creation_date": 1470494591, "post_id": 38804951, "comment_id": 64979611, "body": "<b>To whom it may concern:</b> Please state the reason behind downvoting so that I can refine my knowledge. Downvoting silently doesn&#39;t add anything <code>(+) ve</code>"}], "tags": [], "owner": {"reputation": 12251, "user_id": 1714187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YfUwE.jpg?s=128&g=1", "display_name": "1000111", "link": "https://stackoverflow.com/users/1714187/1000111"}, "is_accepted": false, "score": 0, "last_activity_date": 1470492703, "last_edit_date": 1470492703, "creation_date": 1470491264, "answer_id": 38804951, "question_id": 38804823, "link": "https://stackoverflow.com/questions/38804823/how-to-join-strings-in-mysql-as-php-join-function/38804951#38804951", "title": "How to join strings in MySQL as PHP join function?", "body": "<p>You can try something like that:</p>\n\n<pre><code>SET @a := 'abc';\nSET @b :='def';\n\nSELECT CONCAT(@a, IF(LENGTH(@a) &gt;0 AND LENGTH(@b) &gt;0,',',''), @b)\n</code></pre>\n\n<p><sub> Replace <code>@a</code> by <code>barcode</code> and <code>@b</code> by <code>factory_code</code> </sub></p>\n\n<p><strong>In your case:</strong></p>\n\n<pre><code>SELECT\n    name,\n    CONCAT(\n            barcode,\n            IF(LENGTH(barcode) &gt; 0  AND LENGTH(factory_code) &gt; 0, ',', ''),\n            factory_code\n    ) AS 'code'\nFROM t;\n</code></pre>\n\n<p><kbd><a href=\"http://sqlfiddle.com/#!9/9eecb7d/72742/1\" rel=\"nofollow\"><strong>WORKING DEMO</strong></a></kbd> <sub> When @a and @b are non-empty</sub></p>\n\n<p><kbd><a href=\"http://sqlfiddle.com/#!9/9eecb7d/72743\" rel=\"nofollow\"><strong>WORKING DEMO</strong></a></kbd> <sub> When @a empty and @b non-empty</sub></p>\n\n<p><kbd><a href=\"http://sqlfiddle.com/#!9/9eecb7d/72745\" rel=\"nofollow\"><strong>WORKING DEMO</strong></a></kbd> <sub> When @a non-empty and @b empty</sub></p>\n\n<p><kbd><a href=\"http://sqlfiddle.com/#!9/9eecb7d/72744/2\" rel=\"nofollow\"><strong>WORKING DEMO</strong></a></kbd> <sub> When @a and @b are empty</sub></p>\n"}, {"tags": [], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "is_accepted": false, "score": 0, "last_activity_date": 1470491589, "last_edit_date": 1495541693, "creation_date": 1470491589, "answer_id": 38804995, "question_id": 38804823, "link": "https://stackoverflow.com/questions/38804823/how-to-join-strings-in-mysql-as-php-join-function/38804995#38804995", "title": "How to join strings in MySQL as PHP join function?", "body": "<p>I find a simple solution based on <a href=\"https://stackoverflow.com/users/1714187/1000111\">1000111</a>'s answer.</p>\n\n<pre><code>SELECT CONCAT_WS(', ',\n          IF( LENGTH(barcode) &gt; 0, barcode, NULL),\n          IF( LENGTH(factory_code) &gt; 0, factory_code, NULL) AS code\n       FROM tablename;\n</code></pre>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 38804828, "answer_count": 4, "score": -1, "last_activity_date": 1470494898, "creation_date": 1470490358, "last_edit_date": 1470490707, "question_id": 38804823, "link": "https://stackoverflow.com/questions/38804823/how-to-join-strings-in-mysql-as-php-join-function", "title": "How to join strings in MySQL as PHP join function?", "body": "<p>I have this data structure in MySQL:</p>\n\n<pre><code>+-----------+-----------+--------------+\n| name      | barcode   | factory_code |\n+-----------+-----------+--------------+\n| product 1 | 123456789 |              |\n| product 2 | 987654321 |              |\n| product 3 |           | AAAAAAAAAAAA |\n| product 4 |           | BBBBBBBBBBBB |\n| product 5 | 111111111 | CCCCCCCCCCCC |\n+-----------+-----------+--------------+\n</code></pre>\n\n<p>And now I need to generate this result and show in HTML:</p>\n\n<pre><code>+-----------+-------------------------+\n| name      | code                    |\n+-----------+-------------------------+\n| product 1 | 123456789               |\n| product 2 | 987654321               |\n| product 3 | AAAAAAAAAAAA            |\n| product 4 | BBBBBBBBBBBB            |\n| product 5 | 111111111, CCCCCCCCCCCC |\n+-----------+-------------------------+\n</code></pre>\n\n<p>The fields are not <code>NULL</code>, just empty.</p>\n\n<p>I think I generate this with a MySQL query directly, to code less and maybe it will be work faster a little bit. I can do it with PHP's / Perl's <code>join</code> function. </p>\n\n<p>It is possible to do directly in MySQL?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 2, "last_activity_date": 1470485550, "last_edit_date": 1470485550, "creation_date": 1470477696, "answer_id": 38803002, "question_id": 38802849, "link": "https://stackoverflow.com/questions/38802849/what-is-the-meaning-of-0-in-perl/38803002#38803002", "title": "What is the meaning of \\0 in perl?", "body": "<p>The <a href=\"http://perldoc.perl.org/perlop.html#Bitwise-String-Operators\" rel=\"nofollow\">bitwise string operator</a> <code>^</code> returns the byte-wise <a href=\"https://en.wikipedia.org/wiki/Exclusive_or\" rel=\"nofollow\">xor</a> of each byte in its two <a href=\"http://perldoc.perl.org/perlpacktut.html#Bit-Strings\" rel=\"nofollow\">bit string</a> operators. So </p>\n\n<pre><code>$a = \"aaata\"; $b = \"aataa\";\nprintf \"%vX\\n\", ($a ^ $b);\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>0.0.15.15.0\n</code></pre>\n\n<p>because <code>ord(\"a\" ^ \"a\") == 0</code>, and <code>ord(\"a\" ^ \"t\") == 0x15</code> and <code>ord(\"t\" ^ \"a\") == 0x15</code> since the ASCII representation for <code>\"a\"</code> is hexadecimal <code>0x61</code> and binary \n<code>0b0110_0001</code> (try <code>printf \"%b\\n\", ord \"a\"</code>) and the ASCII value of \"t\" is <code>0x74</code> or binary <code>0b0111_0100</code>.</p>\n\n<p>Now, taking XOR of <code>0b0110_0001</code> and <code>0b0111_0100</code> gives <code>0b0001_0101</code> or hexadecimal <code>0x15</code>.</p>\n\n<p>The purpose of the <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow\">transliteration operator <code>tr</code></a> in <code>tr/\\0//c</code> is now to count the number of nonzero bytes \nin the 5 character long string.</p>\n\n<p>According to the <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p><strong>tr/SEARCHLIST/REPLACEMENTLIST/cdsr</strong>  </p>\n  \n  <p>Transliterates all occurrences of the characters found in the search\n  list with the corresponding character in the replacement list. It\n  returns the number of characters replaced or deleted.</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>If the <code>/c</code> modifier is specified, the <code>SEARCHLIST</code> character set is\n  complemented.</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>If the <code>REPLACEMENTLIST</code> is empty, the <code>SEARCHLIST</code> is replicated. This\n  latter is useful for counting characters in a class or for squashing\n  character sequences in a class.</p>\n</blockquote>\n\n<p>Further <a href=\"http://perldoc.perl.org/perlrebackslash.html#Character-Escapes\" rel=\"nofollow\">perlrebackslash</a> documents the meaning of <code>\\0</code>. It is an octal escape sequence:</p>\n\n<blockquote>\n  <p><strong>Octal escapes</strong></p>\n  \n  <p>There are two forms of octal escapes. Each is used to specify a\n  character by its code point specified in octal notation.</p>\n</blockquote>\n\n<p>So <code>tr/\\0//c</code> is equivalent to <code>tr/\\001-\\377/\\001-\\377/</code><sup>1</sup> and hence it will count any nonzero characters.</p>\n\n<p><strong>Footnotes:</strong></p>\n\n<p><sup>\n1. Usage of octal escapes on the form <code>\\xxx</code> are discouraged for numbers greater than <code>\\077</code>, see <a href=\"http://perldoc.perl.org/perlrebackslash.html#Character-Escapes\" rel=\"nofollow\">perlrebackslash</a> for more information. Hence, <code>tr/\\001-\\377//</code> is better written using the <code>\\o{}</code> escape as <code>tr/\\o{1}-\\o{377}//</code>\n</sup></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 7, "last_activity_date": 1470477734, "creation_date": 1470477734, "answer_id": 38803010, "question_id": 38802849, "link": "https://stackoverflow.com/questions/38802849/what-is-the-meaning-of-0-in-perl/38803010#38803010", "title": "What is the meaning of \\0 in perl?", "body": "<p>In general, an escape sequence consisting of up to three octal digits will insert a character with that code point, so <code>\\40</code> or <code>\\040</code> produce a space character, and <code>\\0</code> produces an ASCII NUL</p>\n\n<p>The code is counting the number of characters that are <em>different</em> between <code>$a</code> and <code>$b</code></p>\n\n<p>It does a bitwise XOR on the two strings. Any characters that are identical will XOR together to zero, producing a NUL character. The <code>tr/\\0//c</code> counts the number of characters in the resulting string that <em>other than NULs</em> (because of the <code>/c</code> modifier) so it will return 2 in this case because the two strings are different at the third and fourth character positions</p>\n\n<p>Dumping the value of the expression <code>$a ^ $b</code> shows this clearly</p>\n\n<pre><code>\"\\0\\0\\25\\25\\0\"\n</code></pre>\n\n<p>The <code>tr///</code> counts the two <code>\\25</code> characters, ignoring all NULs</p>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1508, "favorite_count": 1, "accepted_answer_id": 38803010, "answer_count": 2, "score": 7, "last_activity_date": 1470485550, "creation_date": 1470476644, "question_id": 38802849, "link": "https://stackoverflow.com/questions/38802849/what-is-the-meaning-of-0-in-perl", "title": "What is the meaning of \\0 in perl?", "body": "<pre><code>$a = \"aaata\";\n$b = \"aataa\";\n$count = ($a ^ $b) =~tr/\\0//c;  \n</code></pre>\n\n<p>output 2 (because of two miss matches perform by the <code>c</code> flag)\nwithout using <code>c</code> flag output is <code>3</code>(matches)</p>\n\n<p>Here what is the use of <code>\\0</code> in <code>tr</code>. Without using <code>tr</code>, script gives the some gibberish character. I don't know what is this and use of <code>tr</code> in here and use of the <code>\\0</code>. Apart from this where we use the <code>\\0</code> in perl. </p>\n"}, {"tags": ["perl"], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1470544791, "creation_date": 1470444310, "last_edit_date": 1470544791, "question_id": 38799504, "link": "https://stackoverflow.com/questions/38799504/implement-rpcinfo-command-using-perl-and-iosocketinet", "title": "Implement rpcinfo command using perl and IO::Socket::INET", "body": "<p>I'm trying to emulate <code>rpcinfo -T udp -p $HOST</code> using perl.</p>\n\n<p>It seems like I need to send some packets to port 111, but I could not find actual datagram from RFC 1833. <a href=\"https://www.rfc-editor.org/rfc/rfc1833.txt\" rel=\"nofollow\">https://www.rfc-editor.org/rfc/rfc1833.txt</a></p>\n\n<p>I also found a script labeled <code>rpcinfo.pl</code> (<a href=\"https://stuff.mit.edu/afs/sipb/project/eichin/common/perl/nem/rpcinfo.pl\" rel=\"nofollow\">https://stuff.mit.edu/afs/sipb/project/eichin/common/perl/nem/rpcinfo.pl</a>) and copy the datagram part into my script below, but no luck.</p>\n\n<p>My questions are: [1] Where can I find rpcinfo specification? [2] What's wrong with my following script?</p>\n\n<p>Thanks.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Carp;\nuse IO::Socket::INET;\nuse Data::Dumper;\n\nmy $remote_addr = $ARGV[0];\n\nmy $sock = IO::Socket::INET-&gt;new(\n    Proto    =&gt; 'udp',\n    PeerHost =&gt; $remote_addr,\n    PeerPort =&gt; 111,\n) or croak $@;\n\nmy $trx = int rand 10_000;\nmy $msg = pack(\n    \"N13\",\n    $trx,      # transaction\n    0,         # call\n    2,         # RPC version\n    100000,    # portmap program number\n    2,         # version number\n    4,         # procedure number\n);\n\n$sock-&gt;send($msg) or croak \"send() failed: $!\\n\";\n\nmy $resp = eval {\n    local $SIG{ALRM} = sub { croak \"Timed out\"; };\n    my $data;\n    alarm 3;\n    $sock-&gt;recv($data, 960) or croak \"recv() failed: $!\";\n    alarm 0;\n    return $data;\n} || ();\n\n\nprint Dumper $resp;\n\n1;\n</code></pre>\n"}, {"tags": ["perl", "fork", "zombie-process"], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1470433631, "post_id": 38798103, "comment_id": 64966733, "body": "You don&#39;t think Parallel::ForkManager already uses the SIGCHLD handler?"}, {"owner": {"reputation": 23, "user_id": 1060323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab5d41fcaf263ac21968debb677e7e8?s=128&d=identicon&r=PG", "display_name": "cwisch", "link": "https://stackoverflow.com/users/1060323/cwisch"}, "edited": false, "score": 0, "creation_date": 1470434124, "post_id": 38798103, "comment_id": 64966882, "body": "Great, I was concerned there was a code smell re: zombies. That perhaps I had missed a detail about shared state. As you said it could be that the children are completing before the wait_all_children is reached. Interesting bit about the on_finish, I&#39;ll keep that in mind as I see myself using more of ForkManager."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1470434571, "post_id": 38798103, "comment_id": 64967023, "body": "@mob, It doesn&#39;t (except under very specific circumstances in a very localized area). If it did, the zombies would be reap immediately upon child exit as the line I added does."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1470434481, "last_edit_date": 1470434481, "creation_date": 1470433140, "answer_id": 38798103, "question_id": 38798017, "link": "https://stackoverflow.com/questions/38798017/why-is-my-code-using-parallelforkmanager-producing-zombies/38798103#38798103", "title": "Why is my code using Parallel::ForkManager producing zombies?", "body": "<p>P::FM only reaps when <code>start</code> is called and the maximum number of children are running, and when <code>wait_children</code> or <code>wait_all_children</code> are called. Children that exit become zombies until then.</p>\n\n<p>You will never have more children (including zombies) than specified, so the temporary presence of zombies isn't a bad thing<sup>[1]</sup>. The only catch is that the <code>run_on_finish</code> handler will only be executed when the child process is reaped, so this indicates that it's not being called as soon as possible.</p>\n\n<p>I believe you can use the following to reap children sooner:</p>\n\n<pre><code>$SIG{CHLD} = sub { $pm-&gt;wait_children };\n</code></pre>\n\n<hr>\n\n<ol>\n<li>See <a href=\"https://unix.stackexchange.com/questions/74028/is-a-persistent-zombie-process-sign-of-a-bug\">Is a persistent zombie process sign of a bug?</a> for a general answer.</li>\n</ol>\n"}], "owner": {"reputation": 23, "user_id": 1060323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab5d41fcaf263ac21968debb677e7e8?s=128&d=identicon&r=PG", "display_name": "cwisch", "link": "https://stackoverflow.com/users/1060323/cwisch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "accepted_answer_id": 38798103, "answer_count": 1, "score": 2, "last_activity_date": 1470434832, "creation_date": 1470432597, "last_edit_date": 1470432910, "question_id": 38798017, "link": "https://stackoverflow.com/questions/38798017/why-is-my-code-using-parallelforkmanager-producing-zombies", "title": "Why is my code using Parallel::ForkManager producing zombies?", "body": "<p>A piece of code I'm writing uses <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow\">Parallel::ForkManager</a> and I'm noticing it is creating many zombies as the script runs. I'm wondering if I'm missing something when it comes to the <code>wait_all_children</code>.</p>\n\n<pre><code>my $fork_manager = new Parallel::ForkManager-&gt;($ENV{CPUS})\n\nfor(my $i = 0; $i &lt; scalar @plates; $i++){\n    my $offset = get_full_plate_offsets(@{$plates[$i]});\n    make_path(File::Spec-&gt;catfile($tmp_dir, $i));\n    foreach my $cell (keys %{$offset}){\n        my($x, $y) = @{$offset-&gt;{$cell}};\n        $fork_manager-&gt;start(\"$cell @ $x, $y\") and next;\n        my $out_file = File::Spec-&gt;catfile($tmp_dir, $i, \"$cell.jpg\");\n        my $out_text = File::Spec-&gt;catfile($tmp_dir, $i, \"$cell.txt\");\n        split_file($input_jpg, [$x, $y], $out_file);\n        my $result = do_something($out_file);\n        open(my $FH, '&gt;', $out_text);\n        print $FH \"$result\\n\";\n        $fork_manager-&gt;finish;\n    }\n    $fork_manager-&gt;wait_all_children;\n}\n</code></pre>\n\n<p>Also a clarifying question. Zombies are always bad right? </p>\n\n<p>At first I was under the impression that zombie processes are just processes that haven't been recovered by their parent yet. Now I'm wondering if my code is not waiting on the children at all.</p>\n"}, {"tags": ["regex", "perl", "if-statement", "do-while"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1470435041, "post_id": 38797939, "comment_id": 64967150, "body": "I think @Sinan &#220;n&#252;r meant <code>m{[\\Q*&#47;+-\\E]}</code>, though <code>m{[*&#47;+-]}</code> would suffice."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6684177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecf952418599c48e3f683a072c6e47a?s=128&d=identicon&r=PG&f=1", "display_name": "TermMiator", "link": "https://stackoverflow.com/users/6684177/termmiator"}, "edited": false, "score": 0, "creation_date": 1470432924, "post_id": 38798052, "comment_id": 64966506, "body": "why did you add my in front of all the variables?"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 5, "user_id": 6684177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecf952418599c48e3f683a072c6e47a?s=128&d=identicon&r=PG&f=1", "display_name": "TermMiator", "link": "https://stackoverflow.com/users/6684177/termmiator"}, "edited": false, "score": 0, "creation_date": 1470432983, "post_id": 38798052, "comment_id": 64966521, "body": "@TermMiator: you are really &quot;new to pearl&quot;! <code>my</code> is used to declare a new variable in the local scope."}, {"owner": {"reputation": 162, "user_id": 6512437, "user_type": "registered", "profile_image": "https://graph.facebook.com/132433723848304/picture?type=large", "display_name": "Anton Petrusevich", "link": "https://stackoverflow.com/users/6512437/anton-petrusevich"}, "edited": false, "score": 1, "creation_date": 1470433071, "post_id": 38798052, "comment_id": 64966555, "body": "To make them local."}, {"owner": {"reputation": 5, "user_id": 6684177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecf952418599c48e3f683a072c6e47a?s=128&d=identicon&r=PG&f=1", "display_name": "TermMiator", "link": "https://stackoverflow.com/users/6684177/termmiator"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1470433129, "post_id": 38798052, "comment_id": 64966580, "body": "@CasimiretHippolyte yes I&#39;m, I just start to learn it last night"}, {"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 2, "creation_date": 1470433208, "post_id": 38798052, "comment_id": 64966601, "body": "Don&#39;t forget to always add <code>use strict; use warnings;</code> to the top of every file which in your case will give you some errors to fix. <code>my</code> declares a locally scoped variable <a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/my.html</a>"}, {"owner": {"reputation": 5, "user_id": 6684177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecf952418599c48e3f683a072c6e47a?s=128&d=identicon&r=PG&f=1", "display_name": "TermMiator", "link": "https://stackoverflow.com/users/6684177/termmiator"}, "edited": false, "score": 0, "creation_date": 1470433702, "post_id": 38798052, "comment_id": 64966760, "body": "Thanks that use warnings show me all the errors on the file!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 6684177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecf952418599c48e3f683a072c6e47a?s=128&d=identicon&r=PG&f=1", "display_name": "TermMiator", "link": "https://stackoverflow.com/users/6684177/termmiator"}, "edited": false, "score": 0, "creation_date": 1470434995, "post_id": 38798052, "comment_id": 64967136, "body": "@TermMiator, fyi, <code>do BLOCK until EXPR</code> isn&#39;t a &quot;real loop&quot;, so <code>next</code>, <code>last</code>, and <code>redo</code> can&#39;t be used to control its flow. As such, some people (myself included) avoid it. That&#39;s probably why Anton converted them into <code>while</code> loops."}, {"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "reply_to_user": {"reputation": 5, "user_id": 6684177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecf952418599c48e3f683a072c6e47a?s=128&d=identicon&r=PG&f=1", "display_name": "TermMiator", "link": "https://stackoverflow.com/users/6684177/termmiator"}, "edited": false, "score": 0, "creation_date": 1470487822, "post_id": 38798052, "comment_id": 64977766, "body": "@TermMiator You might want to search for better (more up-to-date) learning materials. The <code>&amp;only_number();</code> subroutine call (with an ampersand) is Perl 4 style -- it was used over 20 years ago. It wasn&#39;t good style in 2000, it definitely isn&#39;t good style in 2016. Perl 5 style is <code>only_number();</code>"}, {"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1470488292, "post_id": 38798052, "comment_id": 64977881, "body": "(I mean, it&#39;s not about style alone. The ampersand was required in Perl 4; Perl 5 (1994) made it optional and discouraged its use. A guide that uses the ampersand for subroutine calls is probably ancient or low in quality and should be avoided.)"}], "tags": [], "owner": {"reputation": 162, "user_id": 6512437, "user_type": "registered", "profile_image": "https://graph.facebook.com/132433723848304/picture?type=large", "display_name": "Anton Petrusevich", "link": "https://stackoverflow.com/users/6512437/anton-petrusevich"}, "is_accepted": true, "score": 2, "last_activity_date": 1470439525, "last_edit_date": 1470439525, "creation_date": 1470432844, "answer_id": 38798052, "question_id": 38797939, "link": "https://stackoverflow.com/questions/38797939/why-does-my-perl-calculator-always-return-0/38798052#38798052", "title": "Why does my Perl calculator always return 0?", "body": "<p>Your function  only_number did not return value nor did it change its argument actually. You program should work this way.</p>\n\n<pre><code>sub only_number\n{\n    my $num;\n    while(1) {\n            print \"Type a Number: \";\n            chomp($num = &lt;STDIN&gt;);\n            if($num !~ /^\\d+$/){\n                    print \"Thats is not a number. &gt;:[ \\n\";\n                    next;\n\n            }\n            return $num;\n    }\n};\n\nmy $num1 = only_number();\n\nmy $operator;\nwhile(1) {\n    print \"What do you want to do? \";\n    chomp($operator = &lt;STDIN&gt;);\n    if($operator !~ /\\/|\\*|\\-|\\+/){\n            print \"Thats not a valid character (-_-;).\\n\"\n            next;\n    }\n    last;\n }\n\n my $num2 = only_number();\n\n if($operator eq \"*\"){\n    $result = $num1*$num2;\n }\n elsif($operator eq \"/\"){\n    $result = $num1/$num2;\n }\n elsif($operator eq \"+\"){\n    $result = $num1+$num2;\n }\n elsif($operator eq \"-\"){\n    $result = $num1-$num2;\n }\n print \"your answer is $result\\n\";\n\nexit;\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6684177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecf952418599c48e3f683a072c6e47a?s=128&d=identicon&r=PG&f=1", "display_name": "TermMiator", "link": "https://stackoverflow.com/users/6684177/termmiator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 38798052, "answer_count": 1, "score": 0, "last_activity_date": 1470439525, "creation_date": 1470432143, "last_edit_date": 1470434032, "question_id": 38797939, "link": "https://stackoverflow.com/questions/38797939/why-does-my-perl-calculator-always-return-0", "title": "Why does my Perl calculator always return 0?", "body": "<p>Hello I new to Perl and I learning the basics and the idea is write a calculator that can run, and perform the basic operations like multiplication, addition, ... Using as well RegEx.</p>\n\n<p>Now the problem is that I'm getting <code>0</code> no matter what and I was wondering if any one can check the code and maybe tell me if I did something wrong also I will like to ask about <code>chomp</code> is it better than <code>STDIN</code>?</p>\n\n<p>My Perl code is this:</p>\n\n<pre><code>sub only_number\n{\n        ($num) = @_;\n\n        do{\n                print \"Type a Number: \";\n                $num = &lt;STDIN&gt;;\n                if($num =~ /\\D+.*\\n$/){\n                        print \"Thats is not a number. &gt;:[ \\n\";\n                }\n        } until($num = $num + 0);\n};\n&amp;only_number($num1);\n\ndo{\n        print \"What do you want to do? \";\n        $operator = &lt;STDIN&gt;;\n        if($operator !~ /\\/|\\*|\\-|\\+/){\n                print \"Thats not a valid character (-_-;).\\n\"\n        }\n} until ($operator =~ /\\/|\\*|\\-|\\+/);\n\n&amp;only_number($num2);\n\nif($operator eq \"*\\n\"){\n        $result = $num1*$num2;\n}\nelsif($operator eq \"/\\n\"){\n        $result = $num1/$num2;\n}\nelsif($operator eq \"+\\n\"){\n        $result = $num1+$num2;\n}\nelsif($operator eq \"-\\n\"){\n        $result = $num1-$num2;\n}\nprint \"your answer is $result\\n\";\n\nexit;\n</code></pre>\n\n<p>Am I missing something?</p>\n"}, {"tags": ["regex", "perl", "pattern-matching"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1470430552, "post_id": 38797616, "comment_id": 64965613, "body": "Remove all useless capturing groups and use non-capturing groups when needed. Display only the group you want."}], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 6512437, "user_type": "registered", "profile_image": "https://graph.facebook.com/132433723848304/picture?type=large", "display_name": "Anton Petrusevich", "link": "https://stackoverflow.com/users/6512437/anton-petrusevich"}, "is_accepted": false, "score": 1, "last_activity_date": 1470431533, "creation_date": 1470431533, "answer_id": 38797821, "question_id": 38797616, "link": "https://stackoverflow.com/questions/38797616/regular-expression-matches-too-often/38797821#38797821", "title": "Regular expression matches too often", "body": "<p>This is because you have 3 matching groups:</p>\n\n<pre><code>$1 = ((CLASS1|CLASS2|CLASS3)(\\.[A-Za-z0-9_]+){1,})\n$2 = (CLASS1|CLASS2|CLASS3)\n$3 = (\\.[A-Za-z0-9_]+){1,}\n</code></pre>\n\n<p>and all these groups ($1, $2, $3) you put in @matches.</p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 3932580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c6a65af9058a70d4a086a3935c82052?s=128&d=identicon&r=PG&f=1", "display_name": "krebas", "link": "https://stackoverflow.com/users/3932580/krebas"}, "edited": false, "score": 0, "creation_date": 1470433260, "post_id": 38797844, "comment_id": 64966618, "body": "Thanks, that&#39;s the solution! I&#39;m not using regular expressions that often and didn&#39;t even know about non-capturing groups... Great, learned something new today ;)"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 0, "last_activity_date": 1470431658, "creation_date": 1470431658, "answer_id": 38797844, "question_id": 38797616, "link": "https://stackoverflow.com/questions/38797616/regular-expression-matches-too-often/38797844#38797844", "title": "Regular expression matches too often", "body": "<p>The regular expression</p>\n\n<pre><code>((CLASS1|CLASS2|CLASS3)(\\.[A-Za-z0-9_]+){1,}))\n</code></pre>\n\n<p>defines 3 capture groups, each delineated by a balanced pair or parentheses:    </p>\n\n<pre><code>1: ((CLASS1|CLASS2|CLASS3)(\\.[A-Za-z0-9_]+){1,})\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n2: ((CLASS1|CLASS2|CLASS3)(\\.[A-Za-z0-9_]+){1,})\n     ^^^^^^^^^^^^^^^^^^^^\n\n3: ((CLASS1|CLASS2|CLASS3)(\\.[A-Za-z0-9_]+){1,})\n                           ^^^^^^^^^^^^^^^\n</code></pre>\n\n<p>and so when one expression is successfully matched against this expression, the result will be 3 matches.</p>\n\n<p>Use the <code>(?:...)</code> syntax to keep an expression together as a logical unit in a regular expression but to designate it as a <em>non-capturing</em> group. This expression will only return one match on success:</p>\n\n<pre><code>((?:CLASS1|CLASS2|CLASS3)(?:\\.[A-Za-z0-9_]+){1,})\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 3932580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c6a65af9058a70d4a086a3935c82052?s=128&d=identicon&r=PG&f=1", "display_name": "krebas", "link": "https://stackoverflow.com/users/3932580/krebas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 38797844, "answer_count": 2, "score": 0, "last_activity_date": 1470431658, "creation_date": 1470430384, "last_edit_date": 1470430617, "question_id": 38797616, "link": "https://stackoverflow.com/questions/38797616/regular-expression-matches-too-often", "title": "Regular expression matches too often", "body": "<p>I have a string which contains certain class names + method calls. I'd like to extract these but the regex I wrote to do this returns more matches than intended.</p>\n\n<pre><code>#!/usr/bin/perl\n\n$someInput = \"Lorem ipsum  dolor sit CLASS3.aMethod.anotherMethod amet, consetetur sadipscing CLASS1.bMethod elitr, sed diam nonumy eirmod\";\n\n@matches = ($someInput =~ /((CLASS1|CLASS2|CLASS3)(\\.[A-Za-z0-9_]+){1,})/g);\nforeach my $match (@matches) {\n    print $match . \"\\n\";\n}\n</code></pre>\n\n<p>Instead of one match in the form \"CLASS.methodOne.methodTwo...\" it also matches the class name and the methods separately. Please have a look at the example result:</p>\n\n<pre><code>CLASS3.aMethod.anotherMethod\nCLASS3\n.anotherMethod\nCLASS1.bMethod\nCLASS1\n.bMethod\n</code></pre>\n\n<p>What I actually want:</p>\n\n<pre><code>CLASS3.aMethod.anotherMethod\nCLASS1.bMethod\n</code></pre>\n\n<p>I would appreciate it if anyone could help me with this. A short explanation would also be great :) Thanks!</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1470430879, "post_id": 38797602, "comment_id": 64965735, "body": "Please can you show an MCVE (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) of your code.  In particular, we need something equivalent to what you have as the <code>@stems</code> array.  It needn&#39;t contain more than a couple of entries, and there might not be any need to read data (hand-craft the data structure)."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1470433340, "post_id": 38797602, "comment_id": 64966645, "body": "Thanks for the update, but it isn&#39;t clear that we know from the code what <code>$length</code>, <code>@seq1</code>, <code>@seq2</code>, <code>@matrix</code> are.  An MCVE allows us to run your code.  We shouldn&#39;t have to spend time working out what it is that you&#39;ve got."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1470435349, "post_id": 38797602, "comment_id": 64967231, "body": "Why not write the extra information as: <code>my @seq1 = (&#39;a&#39;,&#39;a&#39;,&#39;b&#39;); my @seq2 = (&#39;b&#39;,&#39;a&#39;,&#39;b&#39;); my @matrix = (      [0,1,1],     [1,1,0],     [0,0,1],     );   my $length = 2;</code>?  Do you run with <code>use strict; use warnings;</code>?  I don&#39;t run Perl code without them; I&#39;ve only been using it 20-plus years and I don&#39;t know it well enough to risk not using them.  When I do run your code, I get told that the <code>if($matrix[$i+$w][$j+$w] eq &quot;.&quot;){++$count;}</code> line is accessing the array out of bounds.  Also, if the array contains 0 and 1 values, when will an element ever equal <code>&quot;.&quot;</code>?"}, {"owner": {"reputation": 49, "user_id": 6607399, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh3.googleusercontent.com/-wfc2Zry9D6M/AAAAAAAAAAI/AAAAAAAAAqI/WSBAsJ-nmls/photo.jpg?sz=128", "display_name": "Mina Shaigan", "link": "https://stackoverflow.com/users/6607399/mina-shaigan"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1470436810, "post_id": 38797602, "comment_id": 64967603, "body": "sorry... I rewrite the code you can run it ... I don&#39;t use  <code>use strict; use warnings</code> is it necessary to use them ??? ... for the matrix it contain space and dots but i didn&#39;t pay attention sorry"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1470436969, "post_id": 38797602, "comment_id": 64967643, "body": "Get in the habit of using them both \u2014 always.  It probably doesn&#39;t matter here at the moment, but better safe than sorry.  I wouldn&#39;t post Perl code on SO without them \u2014 too much risk of making an fool of myself without."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1470438592, "post_id": 38797602, "comment_id": 64967957, "body": "Add <code>use Data::Dumper;</code> to the top of your script.  Add <code>print Dumper(\\@stems);</code> or perhaps <code>print &quot;\\n&quot;, Data::Dumper-&gt;Dump([\\@stems], [qw(\\@stems)]), &quot;\\n&quot;;</code> to show what&#39;s in the <code>@stems</code> array, and similarly for the <code>@ants</code> array.  With a little practice, that will tell you a lot about your data structure contents.  I&#39;m not sure I understand what you want, but I can see what you get from the version of the code I first copied.  It looks like I need to start over; your need code seems to be quite a bit different."}], "answers": [{"tags": [], "owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1470435034, "last_edit_date": 1470435034, "creation_date": 1470433298, "answer_id": 38798127, "question_id": 38797602, "link": "https://stackoverflow.com/questions/38797602/accessing-array-of-hashes-in-perl/38798127#38798127", "title": "Accessing array of hashes in Perl", "body": "<blockquote>\n  <p>2) When I want push a hash to an array I use <code>{}</code> instead of <code>()</code> because if I don't it gave me error. How does it see when I use <code>{}</code>?</p>\n</blockquote>\n\n<p>I can answer this Question 2.</p>\n\n<p>When you use <code>()</code> perl sees as list of elements. When you use <code>{}</code> perl sees it as reference to a hash.</p>\n\n<p>So When you do this: <code>push @Arr, (x=&gt;2, y=&gt;5);</code> four elements will be pushed to <code>@Arr</code>: <code>x</code>, <code>2</code>, <code>y</code>, <code>5</code>. Which is not your intention.</p>\n\n<p>But When you do this: <code>push @Arr , {x =&gt; 2, y =&gt; 5};</code> a single reference to an anonymous hash containing <code>x</code> and <code>y</code> as the keys, and <code>2</code> and <code>5</code> as the respective values will be pushed to <code>@Arr</code>.</p>\n"}], "owner": {"reputation": 49, "user_id": 6607399, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh3.googleusercontent.com/-wfc2Zry9D6M/AAAAAAAAAAI/AAAAAAAAAqI/WSBAsJ-nmls/photo.jpg?sz=128", "display_name": "Mina Shaigan", "link": "https://stackoverflow.com/users/6607399/mina-shaigan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1596454160, "creation_date": 1470430296, "last_edit_date": 1596454160, "question_id": 38797602, "link": "https://stackoverflow.com/questions/38797602/accessing-array-of-hashes-in-perl", "title": "Accessing array of hashes in Perl", "body": "<ol>\n<li>I have problem with accessing a hash in each element of array after creating it but it gave the last element. What should I do to access all the elements of my array?</li>\n<li>When I want push a hash to an array I use <code>{}</code> instead of <code>()</code> because if I don't it gave me error. How does it see when I use {}?</li>\n</ol>\n<pre class=\"lang-perl prettyprint-override\"><code>    @stem = ();\n    for ($i = 0; $i &lt; 2; ++$i) {\n        push @stem, { u1 =&gt; 1, u2 =&gt; 2 , u3 =&gt; 3 };\n    }\n\n    @ants = ();\n    $count = 0;\n    for ($i = 0; $i &lt; scalar(@stem); ++$i) {\n        @allowed = ();\n        %hash = ();\n        for ($j = 0; $j &lt; scalar(@stem); ++$j) {\n            push @allowed, { stem =&gt; ++$count, hinfo =&gt; ++$count };\n        }\n        %hash = (allowed =&gt; \\@allowed, solution =&gt; ++$count);\n        push (@ants, \\%hash);\n    }\n\n    for ($i = 0; $i &lt; scalar(@ants); ++$i) {\n\n        %test = %{$ants[$i]};\n        print &quot;=&gt;&quot;, $test{solution}, &quot;\\n&quot;;\n        @temp = @{$test{allowed}};\n\n        for ($j = 0; $j &lt; scalar(@temp); ++$j) {\n            print $j, &quot;:&quot;, $temp[$j]-&gt;{stem}, &quot; &quot;, $temp[$j]-&gt;{hinfo}, &quot;\\n&quot;;\n        }\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>=&gt;21\n0:16 16\n1:18 18\n2:20 20\n=&gt;21\n0:16 16\n1:18 18\n2:20 20\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1470428583, "post_id": 38796835, "comment_id": 64964779, "body": "I suggest you split <code>$taxon</code> on <code>;</code> then loop through the items, checking each for  <code>&#47;ales&#47;</code>, also having a counter <code>$i</code> that increases for each match. If <code>$i == 2</code> the item must also match <code>&#47;ales_incertae_sedis$&#47; </code>. If <code>$i &gt; 2</code> nothing is printed."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1470474857, "post_id": 38800583, "comment_id": 64974245, "body": "Why did you use <code>(?{ })</code> here? You could simply do <code>my $m = $1 || $2;</code> in the next line."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1470476758, "post_id": 38800583, "comment_id": 64974721, "body": "@melpomene Simply  I used some special thing. Why is there any problem of using it?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1470482149, "post_id": 38800583, "comment_id": 64976115, "body": "<code>(?{ }</code>) is a pretty obscure feature. It doesn&#39;t buy you anything here; if anything, it makes the code harder to read. If you&#39;re going to use it, why move just the assignment to <code>$m</code> into the regex? You could&#39;ve put the whole <code>print</code> statement in there. Up until perl 5.20, it had this note in the documentation: &quot;<b>WARNING</b>: <i>This extended regular expression feature is considered experimental, and may be changed without notice.</i>&quot; And indeed it had serious bugs related to parsing/scoping up until perl 5.18, where it was rewritten."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1470482969, "post_id": 38800583, "comment_id": 64976312, "body": "@melpomene Thank you for your comment. I don&#39;t know this an experimental. Post edited. Thanks again :)"}, {"owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "edited": false, "score": 0, "creation_date": 1470763764, "post_id": 38800583, "comment_id": 65078246, "body": "thanks So much all of you, I will try all yours advises !! Thanks"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1470482918, "last_edit_date": 1495535321, "creation_date": 1470458232, "answer_id": 38800583, "question_id": 38796835, "link": "https://stackoverflow.com/questions/38796835/how-to-match-multiple-option-and-extract-it-in-perl/38800583#38800583", "title": "How to match multiple option and extract it in perl?", "body": "<p>Try this</p>\n\n<pre><code>use warnings;\nuse strict;\nmy $m;\n\nwhile ( &lt;INFILE&gt;&gt;) \n{\n    if($_=~/(?:([a-z]+ales;[^;]+;).+?family|(\\w+ales;))/i )\n    {\n            $m = $1 || $2;\n            print \"$m\\n\" if($m!~/^unc/)\n\n    }   \n}\n</code></pre>\n\n<p>In above i used the non-capturing group <code>(?:)</code></p>\n\n<p>More about non-capturing group <a href=\"https://stackoverflow.com/questions/36525579/when-do-we-need-non-capturing-groups/36526020#36526020\">see this answer</a></p>\n"}], "owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470482918, "creation_date": 1470426632, "last_edit_date": 1470428781, "question_id": 38796835, "link": "https://stackoverflow.com/questions/38796835/how-to-match-multiple-option-and-extract-it-in-perl", "title": "How to match multiple option and extract it in perl?", "body": "<p>I have a txt file with taxonomic assignations like:</p>\n\n<pre><code>#name_file\n\nBacteria;WS3;PRR-12;SSS58A 0.0 0.12 0.6\n\nBacteria;WS3;PRR-12;Sediment-1 0.5 0.1 0.3\n\nBacteria;Terrabacteria_group;Firmicutes;Bacilli; unclassified_Bacillales;Bacillaceae;Vulcanibacillu 0.2 0.2 0.6\n\nBacteria;Terrabacteria_group;Firmicutes;Bacilli;Bacillales;Bacillaceae;Vulcanibacillu 0.2 0.2 0.6\n\nBacteria;Terrabacteria_group;Firmicutes;Bacilli;Bacillales;Bacillales_incertae_sedis;Bacillales_Family_X 0.1 0.3 0.5\n\nBacteria;Terrabacteria_group;Firmicutes;Bacilli;Bacillales;Bacillales_incertae_sedis;Bacillales_Family_X._Incertae_Sedis;Thermicanus 0.4 0.13 0.9\n\nBacteria;Nitrospirae;Nitrospira;Nitrospirales;Thermodesulfovibrionaceae 0.1 0.2 0.6\n\nBacteria;Nitrospirae;Nitrospira;Nitrospirales;Thermodesulfovibrionaceae;BD2-6 0.0 0.0 0.6\n\nBacteria;PVC_group;Lentisphaerae;Lentisphaeria;Lentisphaerales 0.7 0.2 0.1\n</code></pre>\n\n<p>so I want to extract the first and the second (only if the second finish ales_incertae_sedis) words that match \"ales\" in each line, the print OUT will be like:</p>\n\n<pre><code>Bacillales\nBacillales;Bacillales_incertae_sedis \nBacillales;Bacillales_incertae_sedis\nNitrospirales\nNitrospirales\nLentisphaerales\n</code></pre>\n\n<p>but not the third one as: </p>\n\n<pre><code>Bacillales;Bacillales_incertae_sedis;Bacillales_Family\n</code></pre>\n\n<p>I have tried:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Getopt::Long;\n\nGetOptions (\n    'i=s'       =&gt;\\$infile,\n);\n\n\nopen INFILE, '&lt;', \"$infile\", or die \"cant open file $infile\";    \nopen OUTFILE, '&gt;', \"$results.txt\" or die \"cant open\"; \n\nwhile ( &lt;INFILE&gt;) {\n    my $line = $_;\n    chomp($line);\n    if ($line=~ m/^#/g) {\n        next;\n    }\n    elsif ($line=~ m/^$/g){\n        next;\n    }\n\n    elsif($line){\n        my @taxonomic=$_;\n        foreach (@taxonomic){\n            ($taxon, $val1, $val2, $val3) = split(/\\t/,$_);\n        }\n    #here is the problem \n        my (@orden) = ($taxon=~ m/(\\w*ales)[\\;]?/g);\n        foreach (@orden){\n           if ($_=~m/^$/g){\n               next;\n           }\n           elsif ($_=~ m/^unclassified/g){\n               next;\n           }\n           else {\n               print OUTFILE \"$_\\n\";\n           }\n       }\n   }\n}\nclose INFILE;            \nclose OUTFILE;\nexit;\n</code></pre>\n\n<p>my problem is the line :</p>\n\n<pre><code>my (@orden) = ($taxon=~ m/(\\w*ales)[\\;]?/g);\n</code></pre>\n\n<p>I`ve tried to make it for choose multiples options </p>\n\n<pre><code>my (@orden) = ($taxon=~ m/(\\w*ales)[\\;]?(;\\w*ales_incertae_sedis)/g);\nmy (@orden) = ($taxon=~ m/(\\w*ales[;\\w*ales_incertae_sedis]?)[\\;]?/g);\n</code></pre>\n\n<p>but it don\u00b4t work. </p>\n\n<p>thanks so much </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6641898, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d3bf9bc15cf8149b97309933e8f00129?s=128&d=identicon&r=PG&f=1", "display_name": "jreed21", "link": "https://stackoverflow.com/users/6641898/jreed21"}, "edited": false, "score": 1, "creation_date": 1470426457, "post_id": 38796301, "comment_id": 64963884, "body": "yes I found the problem, I was calling the sub incorrectly"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1470424313, "creation_date": 1470424313, "answer_id": 38796301, "question_id": 38796222, "link": "https://stackoverflow.com/questions/38796222/change-format-of-date-from-mm-dd-yyyy-to-yyyy-mm-dd/38796301#38796301", "title": "Change format of date from mm/dd/yyyy to yyyy-mm-dd", "body": "<p>What you have is correct.</p>\n\n<pre><code>$ perl -e'\n    use feature qw( say );\n\n    sub changeDate{\n        my $date = shift;\n        my @adate=split (/\\//, $date);\n        my $ndate=$adate[2].\"-\".sprintf(\"%02d\", $adate[1]).\"-\".sprintf(\"%02d\",$adate[0]);\n        return $ndate;\n    }\n\n    say changeDate(\"02/01/1999\");\n'\n1999-01-02\n</code></pre>\n\n<p>You must have passed something other than <code>02/01/1999</code> to <code>changeDate</code>.</p>\n\n<p>Note that <code>changeDate</code> can be reduce to the following:</p>\n\n<pre><code>sub changeDate { sprintf '%3$d-%1$02d-%2$02d', split /\\//, shift }\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6641898, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d3bf9bc15cf8149b97309933e8f00129?s=128&d=identicon&r=PG&f=1", "display_name": "jreed21", "link": "https://stackoverflow.com/users/6641898/jreed21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "accepted_answer_id": 38796301, "answer_count": 1, "score": 0, "last_activity_date": 1470424313, "creation_date": 1470423992, "last_edit_date": 1470424224, "question_id": 38796222, "link": "https://stackoverflow.com/questions/38796222/change-format-of-date-from-mm-dd-yyyy-to-yyyy-mm-dd", "title": "Change format of date from mm/dd/yyyy to yyyy-mm-dd", "body": "<p>How would I change 02/01/1999 to 1999-02-01 using perl? Ive tried this but it is returning DATE IS -00-00</p>\n\n<pre><code>sub changeDate{\n    my $date = shift;\n    my @adate=split (/\\//, $date);\n    my $ndate=$adate[2].\"-\".sprintf(\"%02d\", $adate[1]).\"-\".sprintf(\"%02d\",$adate[0]);\n    say \"DATE IS $ndate\";   \n    return $ndate;\n}\n</code></pre>\n"}, {"tags": ["perl", "perl-module", "cpan", "xml-libxml", "cpanm"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 2, "creation_date": 1470458926, "post_id": 38794002, "comment_id": 64971110, "body": "Installing &quot;pure Perl&quot; modules on Strawberry Perl for Windows and copying the files over to Linux might work but probably not easily.  But XML::LibXML is a wrapper around the libxml2 C library and the C wrapper code must be compiled for the right OS and the right version of Perl - so you can&#39;t just copy the .DLLs over to Linux.  I&#39;d really recommend talking to the person with root access and asking them to <a href=\"http://grantm.github.io/perl-libxml-by-example/installation.html#installing-on-linux\" rel=\"nofollow noreferrer\">install the OS package</a>."}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470819204, "post_id": 38794002, "comment_id": 65099519, "body": "You are trying to download a module from a local direction, &#39;  file:///data/cpan/sources/authors/id/P/PE/PERIGRIN/XML-Names&zwnj;&#8203;paceSupport-1.11.tar&zwnj;&#8203;.gz failed` Try and install that one from the repos by itself, and then try again with LibXML. If you are re-using the Strawberry Perl installation, maybe that module was not installed for some reason."}], "answers": [{"comments": [{"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470819119, "post_id": 38794317, "comment_id": 65099463, "body": "The installation for a particular module, XML::NamespaceSupport is failing. Having a local installation of CPAN is not going to help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470820853, "post_id": 38794317, "comment_id": 65100658, "body": "@jjmerelo: The build of <code>XML::NamespaceSupport</code> fails at the start when cpan tries to fetch the targz. minicpan will certainly fix that."}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470821183, "post_id": 38794317, "comment_id": 65100948, "body": "OK, I see your point. But if he&#39;s able to install minicpan, he will be able to install whatever he&#39;s looking for, right? The problem is that he&#39;s working on a system with no Internet and, additionally, no root access so he&#39;s got to make do with whatever is available."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1470821669, "post_id": 38794317, "comment_id": 65101321, "body": "@jjmerelo: His system is off line. I&#39;m suggesting that he uses an on line machine to create creates a minicpan database and copies it over to the off-line one, giving him access to all modules. You don&#39;t need root access to install a CPAN module."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1470416166, "creation_date": 1470416166, "answer_id": 38794317, "question_id": 38794002, "link": "https://stackoverflow.com/questions/38794002/download-xmllibxml-and-its-dependencies/38794317#38794317", "title": "Download XML::LibXML and its dependencies", "body": "<p>Installing <code>XML::LibXML</code> is unlikely to be the last of your requirements, and I suggest that you use <a href=\"http://search.cpan.org/~rjbs/CPAN-Mini-1.111016/bin/minicpan\" rel=\"nofollow\">minicpan</a> to create a local CPAN mirror which you can copy to your off-line system. You can then install anything you like from that mirror</p>\n"}], "owner": {"reputation": 1655, "user_id": 3493587, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0b29d44004eaedbc859bad8144bade93?s=128&d=identicon&r=PG&f=1", "display_name": "mikedu95", "link": "https://stackoverflow.com/users/3493587/mikedu95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 0, "accepted_answer_id": 38794317, "answer_count": 1, "score": 0, "last_activity_date": 1470422180, "creation_date": 1470414889, "last_edit_date": 1470422180, "question_id": 38794002, "link": "https://stackoverflow.com/questions/38794002/download-xmllibxml-and-its-dependencies", "title": "Download XML::LibXML and its dependencies", "body": "<p>I want to <strong>install XML::LibXML</strong> (among others) on a Linux machine with <strong>no internet</strong> and <strong>no root</strong> access. </p>\n\n<p>My current solution is to <strong>download</strong> XML::LibXML and its dependencies <strong>from Windows</strong>, with strawberry perl, <strong>then install</strong> them <strong>on</strong> my <strong>linux</strong> machine. But I haven't find out how to do that.</p>\n\n<p>Here's what I've tried:</p>\n\n<p>First, I <strong>download</strong> XML::LibXML <strong>from Windows</strong> CPAN shell:</p>\n\n<pre><code>cpan[1]&gt;get XML::LibXML\n</code></pre>\n\n<p>And it successfully downloads the package into:</p>\n\n<pre><code>C:\\Users\\mikedu95\\.cpan\\sources\\authors\\id\\S\\SH\\SHLOMIF\\XML-LibXML-2.0128.tar.gz\n</code></pre>\n\n<p>But not its dependencies. Indeed, <strong>now on Linux:</strong></p>\n\n<pre><code>cpanm XML::LibXML --from /data/cpan/sources/\n\n--&gt; Working on XML::LibXML\nFetching file:///data/cpan/sources/authors/id/S/SH/SHLOMIF/XML-LibXML-2.0128.tar.gz ... OK\nConfiguring XML-LibXML-2.0128 ... OK\n==&gt; Found dependencies: XML::SAX, XML::SAX::Exception, XML::NamespaceSupport, XML::SAX::Base\n--&gt; Working on XML::SAX\nFetching file:///data/cpan/sources/authors/id/G/GR/GRANTM/XML-SAX-0.99.tar.gz ... OK\nConfiguring XML-SAX-0.99 ... OK\n</code></pre>\n\n<p>We can see that <strong>XML::LibXML</strong> and its dependency <strong>XML::SAX</strong> are correctly found in my local mirror <code>/data/cpan/sources/</code>, because I have downloaded <strong>XML::SAX</strong> too.</p>\n\n<p>However, the other dependencies are not found:</p>\n\n<pre><code>==&gt; Found dependencies: XML::NamespaceSupport, XML::SAX::Base\n--&gt; Working on XML::NamespaceSupport\nFetching file:///data/cpan/sources/authors/id/P/PE/PERIGRIN/XML-NamespaceSupport-1.11.tar.gz ... FAIL\n! Download file:///data/cpan/sources/authors/id/P/PE/PERIGRIN/XML-NamespaceSupport-1.11.tar.gz failed. Retrying ...\n! Download file:///data/cpan/sources/authors/id/P/PE/PERIGRIN/XML-NamespaceSupport-1.11.tar.gz failed. Retrying ...\n! Download file:///data/cpan/sources/authors/id/P/PE/PERIGRIN/XML-NamespaceSupport-1.11.tar.gz failed. Retrying ...\n! Failed to download file:///data/cpan/sources/authors/id/P/PE/PERIGRIN/XML-NamespaceSupport-1.11.tar.gz\n! Failed to fetch distribution XML-NamespaceSupport-1.11\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1470413535, "post_id": 38793335, "comment_id": 64957560, "body": "if I do       <code>@parent = $sth-&gt;fetchrow_array or @default;</code>     It retuns undef  If I do      <code>@parent = $sth-&gt;fetchrow_array || @default;</code>  it returns array count, not the array."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470436697, "post_id": 38793335, "comment_id": 64967575, "body": "<code>or</code> and <code>||</code> evaluate their LHS operand in scalar context."}], "answers": [{"comments": [{"owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "edited": false, "score": 0, "creation_date": 1470415130, "post_id": 38793755, "comment_id": 64958342, "body": "The problem here is fetchrow_array does not return undef if no rows rather it returns a row with undef value. So the <code>@parent = @default if !@parent;</code> would still not work."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1470413893, "creation_date": 1470413893, "answer_id": 38793755, "question_id": 38793335, "link": "https://stackoverflow.com/questions/38793335/how-to-assign-array-to-default-if-fetchrow-array-returns-no-rows/38793755#38793755", "title": "How to assign array to default if fetchrow_array returns no rows", "body": "<p><code>@parent = $sth-&gt;fetchrow_array or @default;</code> parses as <code>(@parent = $sth-&gt;fetchrow_array) or @default;</code>, which should give you this warning:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Useless use of private array in void context at foo.pl line 123.\n</code></pre>\n\n<p><code>@parent = $sth-&gt;fetchrow_array || @default;</code> parses as <code>@parent = ($sth-&gt;fetchrow_array || @default);</code>, which is better. But <code>||</code> puts its left operand in scalar context (because it needs to check it as a boolean value) and it doesn't evaluate its left operand twice. So it ends up being the same as <code>@parent = scalar($sth-&gt;fetchrow_array) || @default;</code>, which is also not what you want.</p>\n\n<p>You can do the following:</p>\n\n<pre><code>@parent = $sth-&gt;fetchrow_array;\n@parent = @default if !@parent;\n</code></pre>\n\n<p>But there's no good way to do it in one statement.</p>\n"}, {"comments": [{"owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "edited": false, "score": 0, "creation_date": 1470416499, "post_id": 38794292, "comment_id": 64959066, "body": "Maybe I am doing something wrong while mocking. I return undef for fetchrow_array which instead returns a column with undef. <code>$mock_sth-&gt;mock( &#39;fetchrow_array&#39;, sub {return undef});</code>  <b>NOTE that NULL fields are returned as undef in the array returned by fetchrow_array (more about NULL values later).</b> according to this doc (<a href=\"http://www.easysoft.com/developer/languages/perl/dbd_odbc_tutorial_part_2.html\" rel=\"nofollow noreferrer\">easysoft.com/developer/languages/perl/&hellip;</a>)"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "edited": false, "score": 0, "creation_date": 1470416760, "post_id": 38794292, "comment_id": 64959203, "body": "<code>return undef</code> <a href=\"http://stackoverflow.com/questions/3435122\">is usually the wrong way to go</a> precisely because in list context you would want to return <code>()</code> and not <code>(undef)</code>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "edited": false, "score": 0, "creation_date": 1470417164, "post_id": 38794292, "comment_id": 64959397, "body": "Rendering NULL database values as <code>undef</code> in Perl makes sense, but that is a different &quot;NULL&quot; then the result of a database query with zero rows."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1470416065, "creation_date": 1470416065, "answer_id": 38794292, "question_id": 38793335, "link": "https://stackoverflow.com/questions/38793335/how-to-assign-array-to-default-if-fetchrow-array-returns-no-rows/38794292#38794292", "title": "How to assign array to default if fetchrow_array returns no rows", "body": "<pre><code>@parent = $sth-&gt;fetchrow_array  or  @parent = @default;\n(@parent = $sth-&gt;fetchrow_array) || (@parent = @default);\n@parent = @default unless @parent = $sth-&gt;fetchrow_array;\n</code></pre>\n\n<p>(this won't quite do what you want if @Shahid Siddique is correct that <code>fetchrow_array</code> can return an array with one <code>undef</code> element when the query has no results, but that hasn't been my experience)</p>\n"}, {"comments": [{"owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "edited": false, "score": 0, "creation_date": 1470426682, "post_id": 38794981, "comment_id": 64963982, "body": "Thank you, Borodin. This is what I did after giving up. But I still wanna know they way to make sure fetchrow_array never give  me row with undef value."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1472088974, "last_edit_date": 1472088974, "creation_date": 1470418718, "answer_id": 38794981, "question_id": 38793335, "link": "https://stackoverflow.com/questions/38793335/how-to-assign-array-to-default-if-fetchrow-array-returns-no-rows/38794981#38794981", "title": "How to assign array to default if fetchrow_array returns no rows", "body": "<p>Instead of <code>fetchrow_array</code> I suggest that you use <code>fetchrow_arrayref</code>, which returns <code>undef</code> if there is no more data to be returned</p>\n\n<p>Then you can write</p>\n\n<pre><code>@parent = @{ $sth-&gt;fetchrow_arrayref || \\@default };\n</code></pre>\n\n<p>or, if it's convenient, you could keep the result as a reference with</p>\n\n<pre><code>$parent = $sth-&gt;fetchrow_arrayref || \\@default;\n</code></pre>\n"}], "owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "accepted_answer_id": 38794981, "answer_count": 3, "score": 2, "last_activity_date": 1472088974, "creation_date": 1470412505, "question_id": 38793335, "link": "https://stackoverflow.com/questions/38793335/how-to-assign-array-to-default-if-fetchrow-array-returns-no-rows", "title": "How to assign array to default if fetchrow_array returns no rows", "body": "<p>I guess I can divide it into two questions.</p>\n\n<p>1.What if I want to do something below in one single step.</p>\n\n<pre><code>if($sth-&gt;fetchrow_array is empty /undef){\n    @parent = @default;\n}\n</code></pre>\n\n<p>I tried something like this but failed.</p>\n\n<pre><code>@parent = $sth-&gt;fetchrow_array or @default;\n## Problem is it assign undef if array1 is undef.\n\n@parent = $sth-&gt;fetchrow_array || @default;\n##  problem is it assign scalar value to the parent if it's not undef\n</code></pre>\n\n<p>2.Below is the sample code. Why I get scalar value in second output?</p>\n\n<pre><code>@default = (2,3,4);\n\n## First output\n@parent = $sth-&gt;fetchrow_array or @default;\nprint @parent;\n\n##Second output;\n@parent = $sth-&gt;fetchrow_array || @default;\nprint @parent;\n</code></pre>\n"}, {"tags": ["perl", "character-class"], "answers": [{"comments": [{"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 1, "creation_date": 1470422200, "post_id": 38795617, "comment_id": 64961869, "body": "For that matter: it&#39;s not clear what &quot;vowel&quot; would even mean for ideographic or syllabic characters."}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1470428123, "post_id": 38795617, "comment_id": 64964601, "body": "@ikegami: Let&#39;s say the problem is how to substitute an apostrophe for horizontal space between any word consisting solely in a single small latin letter <code>l</code>, and any vowel whatsover, in order to achieve French elision not only among French words, but also something like this: <code>j&#39;aime l&#39;\u1f10\u03c0\u03b9\u03c3\u03c4\u03ae\u03bc\u03b7</code>. Like this: <code>&quot;j aime l \u1f10\u03c0\u03b9\u03c3\u03c4\u03ae\u03bc\u03b7&quot; =~ s&#47; \\b l \\b \\K \\h+ (?= \\p{Vowel} ) &#47;&#39;&#47;gx</code>;"}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "reply_to_user": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1470428219, "post_id": 38795617, "comment_id": 64964643, "body": "@duskwuff: as ideographic or syllabic characters don&#39;t involve vowels, the problem simply doesn&#39;t arise for them."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1470428614, "post_id": 38795617, "comment_id": 64964792, "body": "You&#39;d actually have to determine if \u1f10\u03c0\u03b9\u03c3\u03c4\u03ae\u03bc\u03b7 starts with a <i>vowel sound</i> in the language to which the word begins. In French, those all start with vowels, and everything that starts with a vowel counts as a vowel (incl &quot;oi&quot;, which isn&#39;t actually a vowel sound), but I don&#39;t know if that&#39;s the case for all other languages. In fact, I&#39;ve just found an exception: The English word &quot;You&quot; does not start with a vowel sound. If there was something named &quot;You&quot;, it would be &quot;le You&quot;, not &quot;l&#39;You&quot;. This doesn&#39;t look like a problem that can be solved using regex."}, {"owner": {"reputation": 335869, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1604844162, "post_id": 38795617, "comment_id": 114464726, "body": "Also, consider <i>l&#39;homme</i>, <i>l&#39;h&#244;pital</i>, <i>l&#39;Hospital</i>, etc."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1470421713, "last_edit_date": 1470421713, "creation_date": 1470421341, "answer_id": 38795617, "question_id": 38792789, "link": "https://stackoverflow.com/questions/38792789/how-to-match-unicode-vowels/38795617#38795617", "title": "How to match Unicode vowels?", "body": "<p>There's no such property.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ uniprops --all a\nU+0061 &lt;a&gt; \\N{LATIN SMALL LETTER A}\n    \\w \\pL \\p{LC} \\p{L_} \\p{L&amp;} \\p{Ll}\n    AHex POSIX_XDigit All Alnum X_POSIX_Alnum Alpha X_POSIX_Alpha Alphabetic Any ASCII\n       ASCII_Hex_Digit Assigned Basic_Latin ID_Continue Is_IDC Cased Cased_Letter LC\n       Changes_When_Casemapped CWCM Changes_When_Titlecased CWT Changes_When_Uppercased CWU Ll L\n       Gr_Base Grapheme_Base Graph X_POSIX_Graph GrBase Hex X_POSIX_XDigit Hex_Digit IDC ID_Start\n       IDS Letter L_ Latin Latn Lowercase_Letter Lower X_POSIX_Lower Lowercase PerlWord POSIX_Word\n       POSIX_Alnum POSIX_Alpha POSIX_Graph POSIX_Lower POSIX_Print Print X_POSIX_Print Unicode Word\n       X_POSIX_Word XDigit XID_Continue XIDC XID_Start XIDS\n    Age=1.1 Age=V1_1 Block=Basic_Latin Bidi_Class=L Bidi_Class=Left_To_Right BC=L\n       Bidi_Paired_Bracket_Type=None Block=ASCII BLK=ASCII Canonical_Combining_Class=0\n       Canonical_Combining_Class=Not_Reordered CCC=NR Canonical_Combining_Class=NR\n       Decomposition_Type=None DT=None East_Asian_Width=Na East_Asian_Width=Narrow EA=Na\n       Grapheme_Cluster_Break=Other GCB=XX Grapheme_Cluster_Break=XX Hangul_Syllable_Type=NA\n       Hangul_Syllable_Type=Not_Applicable HST=NA Indic_Positional_Category=NA InPC=NA\n       Indic_Syllabic_Category=Other InSC=Other Joining_Group=No_Joining_Group JG=NoJoiningGroup\n       Joining_Type=Non_Joining JT=U Joining_Type=U Script=Latin Line_Break=AL\n       Line_Break=Alphabetic LB=AL Numeric_Type=None NT=None Numeric_Value=NaN NV=NaN\n       Present_In=1.1 IN=1.1 Present_In=2.0 IN=2.0 Present_In=2.1 IN=2.1 Present_In=3.0 IN=3.0\n       Present_In=3.1 IN=3.1 Present_In=3.2 IN=3.2 Present_In=4.0 IN=4.0 Present_In=4.1 IN=4.1\n       Present_In=5.0 IN=5.0 Present_In=5.1 IN=5.1 Present_In=5.2 IN=5.2 Present_In=6.0 IN=6.0\n       Present_In=6.1 IN=6.1 Present_In=6.2 IN=6.2 Present_In=6.3 IN=6.3 Present_In=7.0 IN=7.0\n       Present_In=8.0 IN=8.0 SC=Latn Script=Latn Script_Extensions=Latin Scx=Latn\n       Script_Extensions=Latn Sentence_Break=LO Sentence_Break=Lower SB=LO Word_Break=ALetter WB=LE\n       Word_Break=LE\n</code></pre>\n\n<p>The most important thing when dealing with i18n is to think about what you actually need, yet you didn't even mention what you are trying to accomplish. </p>\n\n<p>Find vowels? That can't be what you are actually trying to do. I could see a use for identifying vowel <em>sounds</em> in a word, but those are often formed from multiple letters (such as \"oo\" in English, and \"in\", \"an\"/\"en\", \"ou\", \"ai\", \"au\"/\"eau\", \"eu\" in French), and it would be language-specific.</p>\n\n<p>As it stands, you're asking for a global solution but you're defining the problem in local terms. You first need to start by defining the actual problem you are trying to solve.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 9572702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c330980bd9e60f66ec654006419c234?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Hatley", "link": "https://stackoverflow.com/users/9572702/robbie-hatley"}, "is_accepted": false, "score": 0, "last_activity_date": 1613952801, "creation_date": 1613952801, "answer_id": 66308545, "question_id": 38792789, "link": "https://stackoverflow.com/questions/38792789/how-to-match-unicode-vowels/66308545#66308545", "title": "How to match Unicode vowels?", "body": "<p>First of all, not all written languages have &quot;vowels&quot;. (For one example, \u4e2d\u6587 (Zh\u014dngw\u00e9n) (written Chinese) does not, as it is ideogrammatic instead of phonetic. For another example, Japanese mostly doesn't; it uses mostly consonant+vowel hiragana or katakana syllabics such as &quot;ga&quot;, &quot;wa&quot;, &quot;tsu&quot; instead.)</p>\n<p>And some written languages (for example, Hindi, Bangla, Greek, Russian) do have vowels, but use characters which are not easily mapable to aeiou. For such languages you'd have to find (search metacpan?) or make look-up tables specifying which letters are &quot;vowels&quot;.</p>\n<p>But if you're dealing with any written language based even loosely on the Latin alphabet (abcdefghijklmnopqrstuvwxyz), even if the language uses tons of diacritics (called &quot;combining marks&quot; in Perl and Unicode circles) (eg, Vietnamese), you <em>can</em> easily map those to &quot;vowel&quot; or &quot;not-vowel&quot;, yes. The way is to &quot;normalize-to-fully-decomposed-form&quot;, then strip-out all the combining marks, then fold-case, then compare each letter to regex /[aeiou]/. The following Perl script will find most-or-all &quot;vowels&quot; in any language using a Latin-based alphabet:</p>\n<pre><code>#!/usr/bin/perl -CSDA\n# vowel-count.pl\nuse v5.20;\nuse Unicode::Normalize 'NFD';\nmy $vcount;\nwhile (&lt;&gt;)\n{\n   $_ =~ s/[\\r\\n]+$//;\n   say &quot;\\nRaw string: $_&quot;;\n   my $decomposed = NFD $_;\n   my $stripped = ($decomposed =~ s/\\pM//gr);\n   say &quot;Stripped string: $stripped&quot;;\n   my $folded = fc $stripped;\n   my @base_letters = split //, $stripped;\n   $vcount = 0;\n   /[aeiou]/ and ++$vcount for @base_letters;\n   say &quot;# of vowels: $vcount&quot;;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1614969802, "creation_date": 1614969802, "answer_id": 66497956, "question_id": 38792789, "link": "https://stackoverflow.com/questions/38792789/how-to-match-unicode-vowels/66497956#66497956", "title": "How to match Unicode vowels?", "body": "<p>Setting aside the definition of a vowel and the obvious problem that different languages share symbols but use them differently, there's a way that you can <a href=\"https://perldoc.perl.org/perlunicode#User-Defined-Character-Properties\" rel=\"nofollow noreferrer\">define your own property</a> for use in a Perl pattern.</p>\n<p>Define a subroutine that starts with <code>In</code> or <code>Is</code> and specify the characters that can be in it. The simplest is one code number be line, or a range of code numbers separated by horizontal whitespace:</p>\n<pre><code>#!perl\nuse v5.10;\nuse utf8;\nuse open qw(:std :utf8);\n\nsub InSpecial {\n    return &lt;&lt;&quot;HERE&quot;;\n00A7\n00B6\n2295\\t229C\nHERE\n}\n\n\n$_ = &quot;ABC\\x{00A7}&quot;;\n\nsay $_;\nsay /\\p{InForeign}/ ? 'Matched' : 'Missed';\n</code></pre>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "accepted_answer_id": 38795617, "answer_count": 3, "score": 9, "last_activity_date": 1614969802, "creation_date": 1470410662, "last_edit_date": 1495542357, "question_id": 38792789, "link": "https://stackoverflow.com/questions/38792789/how-to-match-unicode-vowels", "title": "How to match Unicode vowels?", "body": "<p>What character class or Unicode property will match any <strong>Unicode</strong> vowel in Perl?</p>\n\n<p>Wrong answer: <code>[aeiouAEIOU]</code>. (<a href=\"https://stackoverflow.com/a/6163129/1839508\">sermon here</a>, item #24 in the laundry list)</p>\n\n<p><a href=\"http://perldoc.perl.org/perluniprops.html\" rel=\"nofollow noreferrer\">perluniprops</a> mentions vowels only for Hangul and Indic scripts.</p>\n\n<p>Let's set aside the question what a vowel is. Yes, <code>i</code> may not be a vowel in some contexts. So, any character that <em>can be a vowel</em> will do.</p>\n"}, {"tags": ["regex", "perl", "sqlite", "csv", "awk"], "comments": [{"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 2, "creation_date": 1470409640, "post_id": 38792449, "comment_id": 64955180, "body": "9th row? Do you mean 9th column?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1470409689, "post_id": 38792449, "comment_id": 64955214, "body": "@JMKS: please post your code ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470409746, "post_id": 38792449, "comment_id": 64955260, "body": "Why didn&#39;t you just <code>group_concat(distinct foo)</code> in your SQL query?"}, {"owner": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "reply_to_user": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 0, "creation_date": 1470410042, "post_id": 38792449, "comment_id": 64955440, "body": "@JamesBrown of course column, edited."}, {"owner": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470410190, "post_id": 38792449, "comment_id": 64955525, "body": "@simbabque I have done that, for some lines it was enough; others were not identical, but close - so it concatenated (those are separated by a comma within 9th column)."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 2, "creation_date": 1470410409, "post_id": 38792449, "comment_id": 64955663, "body": "What is supposed to happen if you have <code>IAB3;</code> and <code>IAB3,</code>? Which delimiter do you keep? Is it safe to convert all to semicolons?  A solution can&#39;t avoid addressing that question."}, {"owner": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1470410734, "post_id": 38792449, "comment_id": 64955849, "body": "@DavidO it is not essential for me; but let&#39;s keep it separated by &quot;;&quot; as the separator within those values."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470410872, "post_id": 38792449, "comment_id": 64955925, "body": "So basically, for some of the lines that were grouped, the value that went into the <code>group_concat</code> was <code>foo</code>, for some it was <code>bar</code>, but for some it was <code>foo;bar</code>. And that&#39;s why those were not already filtered out. From those three cases, you want your output to be only <code>foo;bar</code>. Is that correct?"}, {"owner": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470411263, "post_id": 38792449, "comment_id": 64956155, "body": "@simbabque Yes, something like that, but the possibilities are more mixed, it could be &quot;1;2;3&quot;, &quot;1;3;4&quot; and &quot;5;7;9&quot;, from which I would like to get &quot;1;2;3;4;5;7;9&quot;."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470412046, "post_id": 38792449, "comment_id": 64956626, "body": "@JMKS I edited that into your question for you. I hope you don&#39;t mind. It can be done in Perl, though not really as a one-liner."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1470412658, "post_id": 38792449, "comment_id": 64956992, "body": "Do you REALLY sometimes have commas and sometimes have semi-colons between the IAB values (<code>...IAB13;IAB23,IAB3...</code>)?"}, {"owner": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "edited": false, "score": 0, "creation_date": 1470413219, "post_id": 38792449, "comment_id": 64957349, "body": "It was a design choice (flaw?) before. I had some semi-preparated data, from which I preparated data to inject into SQLite. For it to properly import, I separated it with semicolons (to import into one cell, to preserve fixed column number). And in fact during group_concat I could have used semicolon as a separator; yes."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "edited": false, "score": 0, "creation_date": 1470410917, "post_id": 38792527, "comment_id": 64955952, "body": "I don&#39;t know what it exactly does, but definitely not what I was looking for - it truncated my file from ~1800 lines to ~50 lines."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470410981, "post_id": 38792527, "comment_id": 64955979, "body": "There goes the only copy... :D"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "edited": false, "score": 0, "creation_date": 1470499571, "post_id": 38792527, "comment_id": 64980870, "body": "@JMKS that is not possible. The <code>1</code> at the end means the script prints each line that is read in (after modification), it <b>will not</b> delete lines, nor will it have any effect on the original file."}, {"owner": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "edited": false, "score": 0, "creation_date": 1470507474, "post_id": 38792527, "comment_id": 64983046, "body": "Of course it has not messed with my original file, as it was not in-place edit (I did not lost any data, it was simply stating the fact that it was completely different from what I expected); but the result had 50 lines, compared to 1800 in original file. And the solution you posted originally was way different than it appears today (first of all, it was one line only, without explanation), so I don&#39;t exactly know what this one does. I tested it briefly now, and I&#39;m not sure, as after the Perl solution, I&#39;m not that interested anymore, but current solution is probably correct too."}], "tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": false, "score": -1, "last_activity_date": 1470499592, "last_edit_date": 1470499592, "creation_date": 1470409797, "answer_id": 38792527, "question_id": 38792449, "link": "https://stackoverflow.com/questions/38792449/kill-doubles-within-one-line-from-csv-file/38792527#38792527", "title": "Kill doubles within one line, from CSV file", "body": "<pre><code>$ awk -F\\\" '{split($2,a,\"[,;]\"); for(i in a) b[a[i]]; $2=\"\"; for(i in b) $2=$2($2==\"\" ? \"\" : \";\")\"\"i} 1' file\n148422,0.72499999999999998,0.72499999999999998,0.72500000000165021,wpolityce.pl,300x250,standard,3, IAB11;IAB12;IAB3;IAB13;IAB23;IAB15;IAB17;IAB9\n\nBEGIN {\n    FS=\"\\\"\"                         # field separate at \"\n}\n{\n    split($2,a,\"[,;]\")              # split from \",\" and \";\"\n    delete b                        # reset b\n    for(i in a) \n        b[a[i]]                     # pick unique strings from a\n    $2=\"\"                           # reset $2 for ternary operator below\n    for(i in b) \n        $2=$2($2==\"\" ? \"\" : \";\")\"\"i # rebuild $2 from i \";\" delimiting\n} \n1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "edited": false, "score": 0, "creation_date": 1470411444, "post_id": 38792948, "comment_id": 64956272, "body": "It should be fine. Very basic question - where input file goes? As I understand, it is a Bash script, but not all is clear to me (I use cygwin, and can use native Linux also, if necessary)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "edited": false, "score": 0, "creation_date": 1470411608, "post_id": 38792948, "comment_id": 64956368, "body": "@JMKS: You need to put the above code into, for instance, <code>script.pl</code> and then run <code>perl script.pl my_input_file.txt</code>"}, {"owner": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "edited": false, "score": 0, "creation_date": 1470412311, "post_id": 38792948, "comment_id": 64956793, "body": "Thanks, it worked! :) I was only using perl one-liners before, so I was a little confused."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "edited": false, "score": 0, "creation_date": 1470412711, "post_id": 38792948, "comment_id": 64957027, "body": "@JMKS: Yes, I didn&#39;t want to risk offering you a one-liner because of all those quotes to escape, as I don&#39;t have a Linux platform to test with at present."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1470411687, "last_edit_date": 1470411687, "creation_date": 1470411171, "answer_id": 38792948, "question_id": 38792449, "link": "https://stackoverflow.com/questions/38792449/kill-doubles-within-one-line-from-csv-file/38792948#38792948", "title": "Kill doubles within one line, from CSV file", "body": "<p></p>\n\n<p>As long as the column to be processed is always the only one in double quotes, and it is okay to replace all separators with semicolons, this will do as you ask</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'uniq';\n\nwhile ( &lt;&gt; ) {\n    s{ \" ([^\"]+) \" }{ '\"' . join(';', uniq $1 =~ /\\w+/g) . '\"' }ex;\n    print;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>148422,0.72499999999999998,0.72499999999999998,0.72500000000165021,wpolityce.pl,300x250,standard,3,\"IAB3;IAB11;IAB17;IAB12;IAB9;IAB15;IAB23;IAB13\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,728x90,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23;IAB9\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,750x100,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23;IAB9\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,750x200,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23;IAB9\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,750x300,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23;IAB9\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1470425770, "post_id": 38793611, "comment_id": 64963567, "body": "Dear drive-by downvoter - care to explain why the downvote?"}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": -1, "last_activity_date": 1470413399, "creation_date": 1470413399, "answer_id": 38793611, "question_id": 38792449, "link": "https://stackoverflow.com/questions/38792449/kill-doubles-within-one-line-from-csv-file/38793611#38793611", "title": "Kill doubles within one line, from CSV file", "body": "<pre><code>$ awk '\nBEGIN { FS=OFS=\"\\\"\" }\n{\n    split($2,iabs,/[,;]/)\n    tmp = \"\"\n    delete seen\n    for (i=1;i in iabs;i++) {\n        if (!seen[iabs[i]]++) {\n            tmp = (tmp ? \"\" : tmp \";\") iabs[i]\n        }\n    }\n    $2 = tmp\n}\n1\n' file\n148422,0.72499999999999998,0.72499999999999998,0.72500000000165021,wpolityce.pl,300x250,standard,3,\"IAB3;IAB11;IAB17;IAB12;IAB9;IAB15;IAB23;IAB13\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,728x90,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23;IAB9\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,750x100,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23;IAB9\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,750x200,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23;IAB9\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,750x300,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23;IAB9\"\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 6612861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffd5624cd35f06e18fc84f0257cb8f59?s=128&d=identicon&r=PG&f=1", "display_name": "JMKS", "link": "https://stackoverflow.com/users/6612861/jmks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 38792948, "answer_count": 3, "score": 0, "last_activity_date": 1470499592, "creation_date": 1470409556, "last_edit_date": 1470413629, "question_id": 38792449, "link": "https://stackoverflow.com/questions/38792449/kill-doubles-within-one-line-from-csv-file", "title": "Kill doubles within one line, from CSV file", "body": "<p>Input file is from group_concatenated SQL query output, where there were some duplicate values. It is already used with DISTINCT, but it was not enough, as only some substrings were identical.</p>\n\n<p>So, the column I'm interested in is the 9th column.\nThe idea is, to print on one line only non-duplicate IAB categories.</p>\n\n<p>Sample from that file:</p>\n\n<pre><code>148422,0.72499999999999998,0.72499999999999998,0.72500000000165021,wpolityce.pl,300x250,standard,3,\"IAB3;IAB11;IAB17;IAB12;IAB9;IAB15;IAB23,IAB3;IAB11;IAB17;IAB12;IAB9;IAB13;IAB23,IAB3;IAB11;IAB12;IAB9\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,728x90,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23,IAB3;IAB11;IAB12;IAB13;IAB23,IAB3;IAB11;IAB12;IAB9\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,750x100,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23,IAB3;IAB11;IAB12;IAB13;IAB23,IAB3;IAB11;IAB12;IAB9\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,750x200,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23,IAB3;IAB11;IAB12;IAB13;IAB23,IAB3;IAB11;IAB12;IAB9\"\n118243,0.72499999999999998,0.72499999999999998,0.72500000000058573,wpolityce.pl,750x300,standard,3,\"IAB3;IAB11;IAB1;IAB12;IAB13;IAB23,IAB3;IAB11;IAB12;IAB13;IAB23,IAB3;IAB11;IAB12;IAB9\"\n</code></pre>\n\n<p>I want to delete duplicate IAB categories, so for the first line it would go like this:</p>\n\n<pre><code>148422,0.72499999999999998,0.72499999999999998,0.72500000000165021,wpolityce.pl,300x250,standard,3,\"IAB3;IAB11;IAB17;IAB12;IAB9;IAB15;IAB23;IAB13;IAB23\"\n</code></pre>\n\n<p>In my SQL query, I have something like this:</p>\n\n<pre><code>SELECT GROUP_CONCAT(DISTINCT foo) FROM t;\n</code></pre>\n\n<p>Now the foo-column can contain values along of these lines:</p>\n\n<pre><code>foo\nbar\nqrr\nfoo;bar\nfoo;qrr\nfoo\nfoo;qrr\nbar\nqrr\nfoo\n</code></pre>\n\n<p>Concatenating those values using <code>DISTINCT</code> will remove all direct duplicates. Split up, that's as follows:</p>\n\n<pre><code>foo\nbar\nqrr\nfoo;bar\nfoo;qrr\n</code></pre>\n\n<p>I am interested in <em>individual values</em> (<code>foo</code>, <code>bar</code> and <code>qrr</code>). If the delimiter used to concat is <code>;</code> it will appear as if not all duplicates have been removed.</p>\n\n<p>The final output in that column after it has been concatenated with <code>;</code> should be:</p>\n\n<pre><code>foo;bar;baz\n</code></pre>\n\n<p><strong>How do I remove those duplicates?</strong></p>\n\n<p>I tried to do it, but alas I'm not that advanced in AWK etc.</p>\n\n<p>I'm working with Bash, although I can do it also \"one step earlier\", in SQLite.</p>\n"}, {"tags": ["arrays", "perl", "date", "datetime"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1470404125, "post_id": 38790192, "comment_id": 64951397, "body": "<b><i>Always</i></b> <code>use strict</code> at the top of <i>every</i> Perl program, and avoid using capital letters in your lexical variables as capitals are reserved for global identifiers."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470404227, "post_id": 38790192, "comment_id": 64951456, "body": "Note that it&#39;s a bad idea to skip the leading zero on the days and months, because 10, 11, 12 etc. will sort before 2, 3, 4 etc. in the list of files"}, {"owner": {"reputation": 23, "user_id": 6682630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0240a8d578be93d3fe9cdbd84cdd663?s=128&d=identicon&r=PG&f=1", "display_name": "M. Chico", "link": "https://stackoverflow.com/users/6682630/m-chico"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470846787, "post_id": 38790192, "comment_id": 65119121, "body": "Good notes! Unfortunately, I have no ability to change the directory structure. I&#39;m stuck with the month/day as they are."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470404107, "post_id": 38790630, "comment_id": 64951384, "body": "Maybe add that Time::Piece has been in core for a while."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470404438, "post_id": 38790630, "comment_id": 64951599, "body": "@simbabque: I think you just did it for me!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1470404345, "last_edit_date": 1470404345, "creation_date": 1470404029, "answer_id": 38790630, "question_id": 38790192, "link": "https://stackoverflow.com/questions/38790192/date-ranges-from-start-date-and-duration/38790630#38790630", "title": "Date ranges from start date and duration", "body": "\n\n<p>I don't think you have it clear in your mind exactly what you need, but this should help</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Time::Piece;\nuse Time::Seconds 'ONE_DAY';\n\n\nprint 'Enter start date (YYYY-MM-DD): ';\nchomp(my $start = &lt;&gt;);\n$start = Time::Piece-&gt;strptime($start, '%Y-%m-%d');\n\nprint 'Enter number of days: ';\nchomp(my $duration = &lt;&gt;);\n\n{\n    my $end = $start + ONE_DAY * ($duration-1);\n    die \"Period crosses end of year\" if $start-&gt;year != $end-&gt;year;\n}\n\nmy $date = $start;\n\nwhile ( --$duration ) {\n    my $dir = $date-&gt;strftime('\\%Y\\%m-%d');\n    $dir =~ s/\\D\\K0+//g;\n    print $dir, \"\\n\";\n    $date += ONE_DAY;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>E:\\Perl\\source&gt;perl date_duration.pl\nEnter start date (YYYY-MM-DD): 2016-7-18\nEnter number of days: 22\n\\2016\\7-18\n\\2016\\7-19\n\\2016\\7-20\n\\2016\\7-21\n\\2016\\7-22\n\\2016\\7-23\n\\2016\\7-24\n\\2016\\7-25\n\\2016\\7-26\n\\2016\\7-27\n\\2016\\7-28\n\\2016\\7-29\n\\2016\\7-30\n\\2016\\7-31\n\\2016\\8-1\n\\2016\\8-2\n\\2016\\8-3\n\\2016\\8-4\n\\2016\\8-5\n\\2016\\8-6\n\\2016\\8-7\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1470404919, "creation_date": 1470404919, "answer_id": 38790902, "question_id": 38790192, "link": "https://stackoverflow.com/questions/38790192/date-ranges-from-start-date-and-duration/38790902#38790902", "title": "Date ranges from start date and duration", "body": "<p>Here is an approach that uses DateTime. You don't need to create a DateTime::Duration object, DateTime does that implicitly for you whenever you use date math.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse DateTime;\nuse feature 'say';\n\nmy $duration = 4;\nmy ($year, $month, $day) = (2016, 4, 9);\nmy $start = DateTime-&gt;new( year =&gt; $year, month =&gt; $month, day =&gt; $day);\n\nmy @dates;\nforeach my $i ( 0 .. ( $duration - 1 )) {\n    my $date = $start-&gt;clone-&gt;add( days =&gt; $i )-&gt;strftime('\\%Y\\%m-%d');\n    $date =~ s/(?&lt;=\\D)0+//g;\n    push @dates, $date;\n}\n\nsay for @dates;\n</code></pre>\n\n<p>I left out the user input stuff and just set some values. Basically it builds each day, creates the folder names and puts them into an array.</p>\n\n<p><strong>Output</strong></p>\n\n<pre><code>\\2016\\4-9\n\\2016\\4-10\n\\2016\\4-11\n\\2016\\4-12\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6682630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0240a8d578be93d3fe9cdbd84cdd663?s=128&d=identicon&r=PG&f=1", "display_name": "M. Chico", "link": "https://stackoverflow.com/users/6682630/m-chico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 38790902, "answer_count": 2, "score": 2, "last_activity_date": 1470404919, "creation_date": 1470402780, "last_edit_date": 1470403164, "question_id": 38790192, "link": "https://stackoverflow.com/questions/38790192/date-ranges-from-start-date-and-duration", "title": "Date ranges from start date and duration", "body": "<p>New here, and to perl as well.</p>\n\n<p>I'm trying to write a perl script to do some data archiving at work. Our directory structure is separated at one level by year, then has every day/month inside that.</p>\n\n<p>So, for example:</p>\n\n<pre><code>\\2016\\1-1\n\\2016\\1-2\n....\n\\2016\\12-20\netc...\n</code></pre>\n\n<p>I'm trying to make this script usable for every test (some of which are run in the future), so I have a prompt for the user to enter the year, which I use to populate the directory structure in the code. I'm having trouble with the month-date portion.</p>\n\n<p>Usually tests are 3-4 days long. Right now I'm asking the user for the test length, then subtracting one. I do that because a 4 day test starting on the 8th, would be the 8 ,9 ,10, and 11th. If I don't subtract one, and just add the duration to the start date, it would go to the 12th.</p>\n\n<p>I can't figure out how to take a start date and duration, and get that range of dates into an array, that I can then call when I need to find/create directories for the archiving.</p>\n\n<p>Ideally, I'd like to have the user enter the year, start date, and length of the test, then create an array that will hold the month-day for all dates of the test. Then I could call those array dates when I create/find the needed directories.</p>\n\n<p>Right now I'm still working on getting the inputs from the user, so that is all that I have.</p>\n\n<p>Couple notes: I don't have every Perl module available to me. I have been using <code>DateTime</code>, and I'm not 100% sure what other modules I could use. Also, the directory structure does not have leading zeros on the month/date (i.e., 2-5, NOT 02-05).</p>\n\n<p>Here is the input code that I have so far. It gives me a start date of today (which I need to change), and gives me the correct end date based on the test length. As you can see, I have not been able to get very far in this:</p>\n\n<pre><code>use warnings;\n\nuse DateTime;\n\nmy @test_dates;\n\nprint \"What NAS?\";\nmy $NAS = &lt;STDIN&gt;;\nchomp($NAS);\n\nprint \"What is the Multi-Mission mode (ops/nonops)?\";\nmy $MM_Mode = &lt;STDIN&gt;;\nchomp($MM_Mode);\n\nprint \"What is the data mode (ops/sim/tst)?\";\nmy $Data_Mode = &lt;STDIN&gt;;\nchomp($Data_Mode);\n\nprint \"Which spacecraft (NPP/J01)?\";\nmy $sc = &lt;STDIN&gt;;\nchomp($sc);\n\nprint \"What LOM is being cleaned?\";\nmy $LOM = &lt;STDIN&gt;;\nchomp($LOM);\n\nprint \"What MDMZ is being cleaned?\";\nmy $MDMZ = &lt;STDIN&gt;;\nchomp($MDMZ);\n\nprint \"How many days is the test?\";\nmy $Length   = ( &lt;STDIN&gt; - 1 );\nmy $date     = DateTime-&gt;from_epoch( epoch =&gt; time );\nmy $Duration = DateTime::Duration-&gt;new( days =&gt; $Length );\n\nprint \"NAS is $NAS\\n\";\nprint \"Multi-Mission mode is $MM_Mode\\n\";\nprint \"Data Mode is $Data_Mode\\n\";\nprint \"LOM is $LOM\\n\";\nprint \"MDMZ is $MDMZ\\n\";\n\nprintf $date-&gt;ymd('/');\n\nprint @test_dates;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1470399705, "post_id": 38789091, "comment_id": 64948295, "body": "Why not using a sub?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1470399846, "post_id": 38789091, "comment_id": 64948384, "body": "@Toto: Can we reduce the line&#39;s for replacement if I am using sub? If yes please I am requesting the way in detail to solve."}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1470403775, "post_id": 38789091, "comment_id": 64951146, "body": "<a href=\"http://search.cpan.org/dist/HTML-Parser/lib/HTML/Entities.pm\" rel=\"nofollow noreferrer\">search.cpan.org/dist/HTML-Parser/lib/HTML/Entities.pm</a>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1470405193, "post_id": 38789091, "comment_id": 64952133, "body": "@mwp: Its not entities replacement. Its a content find and replace process."}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1470405469, "post_id": 38789091, "comment_id": 64952326, "body": "Well, okay. The example you&#39;ve given us definitely <i>is</i> entities replacement, so I thought it was worth a mention. :)"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1470406609, "post_id": 38789091, "comment_id": 64953080, "body": "@mwp: No worries. Cheers."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1470400466, "post_id": 38789257, "comment_id": 64948825, "body": "Excellent answer. (I will change the entity name also)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1470400341, "last_edit_date": 1470400341, "creation_date": 1470399998, "answer_id": 38789257, "question_id": 38789091, "link": "https://stackoverflow.com/questions/38789091/find-and-replace-for-same-characters-in-both-variables-in-single-shot/38789257#38789257", "title": "Find and Replace for same characters in both variables in single shot", "body": "<p>You can put your variables in a <code>for</code> loop, which will alias <code>$_</code> to each of them in turn. Note that neither underscore nor semicolon need to be escaped inside a regex pattern</p>\n\n<pre><code>for ( $str1, $str2 ) {\n    s/_/&amp;underscore;/g;\n    s/\\^/&amp;carrot;/g;\n}\n</code></pre>\n\n<p>However both of those are non-standard entities. Have you declared them yourself? And you probably mean <code>caret</code> rather than <code>carrot</code>, which is a vegetable! I have seen it called <code>&amp;Hat;</code>, but I think that is also non-standard. You could always use <code>&amp;#x5E;</code> (and <code>&amp;#x5F;</code> for the underscore)</p>\n"}, {"tags": [], "owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "is_accepted": false, "score": 1, "last_activity_date": 1470404554, "last_edit_date": 1470404554, "creation_date": 1470400656, "answer_id": 38789449, "question_id": 38789091, "link": "https://stackoverflow.com/questions/38789091/find-and-replace-for-same-characters-in-both-variables-in-single-shot/38789449#38789449", "title": "Find and Replace for same characters in both variables in single shot", "body": "<p>Probably the easiest way to do it would be to define your mapping rules, build a regex from those rules, and a provide function to apply them. Here's a stab at it:</p>\n\n<pre><code>my %map = (\n  \"_\" =&gt; \"&amp;underscore;\",\n  \"^\" =&gt; \"&amp;caret;\",\n);\n\nsub apply_map {\n  $_[0] =~ s/(${\\\n    join \"|\", map quotemeta, keys %map\n  })/$map{$1}/g;\n}\n\napply_map $str1;\napply_map $str2;\n</code></pre>\n\n<p>And, borrowing Borodin's answer to apply the map to multiple strings in fewer statements:</p>\n\n<pre><code>foreach ($str1, $str1) {\n  apply_map $_;\n}\n</code></pre>\n\n<p>Or, modify apply_map to take multiple arguments:</p>\n\n<pre><code>sub apply_map {\n  s/(${\\\n    join \"|\", map quotemeta, keys %map\n  })/$map{$1}/g foreach @_;\n}\n\napply_map $str1, $str2;\n</code></pre>\n\n<p>Note the <code>quotemeta</code>. This prevents any special characters in the map keys from affecting the behavior of the regexp. I'm also using <code>${\\ .. }</code> syntax to interpolate an expression in the <code>s///</code>, but it might be clearer to build a separate pattern string. If all the things you're replacing are one character long, you can join with <code>''</code> and use a character class (e.g. <code>[_^]</code>) instead of joining with <code>|</code>.</p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 38789257, "answer_count": 2, "score": 1, "last_activity_date": 1470404554, "creation_date": 1470399549, "question_id": 38789091, "link": "https://stackoverflow.com/questions/38789091/find-and-replace-for-same-characters-in-both-variables-in-single-shot", "title": "Find and Replace for same characters in both variables in single shot", "body": "<p>I want to find and replace in more than one scalar variables which stored content (content will vary for each string) Hence I need to insert two lines for same replacement for both variables.</p>\n\n<pre><code>$str1=~s/\\_/&amp;underscore\\;/g;\n$str1=~s/\\^/&amp;carrot\\;/g;\n\n$str2=~s/\\_/&amp;underscore\\;/g;\n$str2=~s/\\^/&amp;carrot\\;/g;\n</code></pre>\n\n<p>Is there any possibilities to replace in a single shot/simultaneously for all string to replace. Note that content will vary in strings. (May be my way of asking question is kid but I am doing the replacement more than 200 lines however trying to reduce the coding lines)</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 1833, "user_id": 2249798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/307a8136d4639a5110db1b821227fa9f?s=128&d=identicon&r=PG", "display_name": "m13r", "link": "https://stackoverflow.com/users/2249798/m13r"}, "edited": false, "score": 3, "creation_date": 1470379293, "post_id": 38782286, "comment_id": 64936081, "body": "Compatible in this context means that both modules are giving the same results and have the same function names. The underlying implementation is different though..."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 4, "creation_date": 1470380055, "post_id": 38782286, "comment_id": 64936474, "body": "<a href=\"http://shadow.cat/blog/matt-s-trout/mstpan-7/\" rel=\"nofollow noreferrer\">shadow.cat/blog/matt-s-trout/mstpan-7</a> is probably worth reading."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 5, "creation_date": 1470385137, "post_id": 38782630, "comment_id": 64939341, "body": "I prefer <code>perl -MJSON\\ 999</code> (with a backslash and a space) as that gives the version you have, or complains."}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470429317, "post_id": 38782630, "comment_id": 64965090, "body": "@simbabque: I hope that was not an explanation of why I received a down-vote?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470429990, "post_id": 38782630, "comment_id": 64965373, "body": "No, I think your answer is very good. I merely added additional information. Don&#39;t worry about a single down vote. There just sometimes is someone who thinks an answer is not useful. Everyone can vote how they want. Don&#39;t get discouraged from that. :-)"}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470430124, "post_id": 38782630, "comment_id": 64965421, "body": "@simbabque: No worries. I guess it&#39;s not great when you&#39;re told your answer is &quot;not useful&quot; but are not given a reason as to why that is the case from the down-voter&#39;s perspective. Sometimes it&#39;s something that can be easily addressed. Thanks."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470431747, "post_id": 38782630, "comment_id": 64966044, "body": "Most of the time they move on and will never see your comment. Nine people thought this is useful. That&#39;s pretty good. :-)"}], "tags": [], "owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "is_accepted": false, "score": 13, "last_activity_date": 1470460151, "last_edit_date": 1470460151, "creation_date": 1470378890, "answer_id": 38782630, "question_id": 38782286, "link": "https://stackoverflow.com/questions/38782286/whats-the-difference-between-these-json-perl-modules/38782630#38782630", "title": "What&#39;s the difference between these JSON Perl modules?", "body": "<p>Perl modules sometimes have different implementations. The <code>::PP</code> suffix is for the Pure Perl implementation (i.e. for portability), the <code>::XS</code> suffix is for the C-based implementation (i.e. for speed), and <code>JSON</code> is just the top-level module itself (i.e. the one you actually use).</p>\n\n<p>As noted by @Quentin, <a href=\"http://shadow.cat/blog/matt-s-trout/mstpan-7/\" rel=\"nofollow\">this site</a> has a good description of them. To quote:</p>\n\n<blockquote>\n  <h3>JSON</h3>\n  \n  <p>JSON.pm is a wrapper around <code>JSON::PP</code> and <code>JSON::XS</code> - it also does a bunch of moderately crazy things for compatibility reasons, including extra shim code for very old perls [...]</p>\n  \n  <h3>JSON::PP</h3>\n  \n  <p>This is the standard pure perl implementation, and if you're not performance dependent, there's nothing wrong with using it directly [...]</p>\n  \n  <h3>JSON::XS</h3>\n  \n  <p>Ridiculously fast JSON implementation in C. Absolutely wonderful [...]</p>\n</blockquote>\n\n<p>As you can see, just installing the top-level <code>JSON</code> module should do it for you. The part about compatibility just means that they both do the same thing, i.e. you should get the same output from both.</p>\n\n<p>I installed the Perl <code>JSON</code> module a few years ago on a RHEL server I managed and it was a really straightforward process: just install (or build) the module from the <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm\" rel=\"nofollow\">CPAN site</a> and you're done.</p>\n\n<p>Installing should be a simple case of either using the OS package manager (if in GNU/Linux), using the <code>cpan</code> utility, or building from source. The OS package manager is recommended, as it helps keep things updated automatically.</p>\n\n<p>To verify that it's installed, just try the following command from the terminal (assuming GNU/Linux):</p>\n\n<pre><code>$ perl -e 'use JSON;'\n</code></pre>\n\n<p>If it doesn't complain, then you should be good to go. If you get errors, then you should get ready to go in an adventure.</p>\n"}, {"comments": [{"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 2, "creation_date": 1470383734, "post_id": 38782835, "comment_id": 64938576, "body": "And that would answer this question?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1470383955, "post_id": 38782835, "comment_id": 64938686, "body": "@rustyx I think so. The answer is <i>&quot;use JSON;&quot;</i> What&#39;s wrong with that? I use it myself in the exact way Jose showed and it works. Why the downvotes?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1470384677, "post_id": 38782835, "comment_id": 64939102, "body": "The question is not <i>how do I use JSON?</i>. The question is why there are various different JSON modules."}, {"owner": {"reputation": 175, "user_id": 6281292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWEaV.jpg?s=128&g=1", "display_name": "Jose Bernalte", "link": "https://stackoverflow.com/users/6281292/jose-bernalte"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470384989, "post_id": 38782835, "comment_id": 64939263, "body": "@simbabque, the question is &quot;Which perl module should be used to decode JSON data?&quot; JSON module.  The best way to understand things, are examples."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1470385342, "post_id": 38782835, "comment_id": 64939460, "body": "The OP already knows that the JSON module exists, and from the way the question is asked it&#39;s pretty clear they know how to use it. While I agree with you that examples are great, I don&#39;t think your particular example of one function will help to clear up the confusion as to why there is a pure Perl and an XS implementation, and why their documentations say those are both compatible to each other."}, {"owner": {"reputation": 175, "user_id": 6281292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWEaV.jpg?s=128&g=1", "display_name": "Jose Bernalte", "link": "https://stackoverflow.com/users/6281292/jose-bernalte"}, "edited": false, "score": 0, "creation_date": 1470385657, "post_id": 38782835, "comment_id": 64939650, "body": "Really, the answer is the function &quot;from_json&quot; from module JSON"}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 3, "creation_date": 1470386908, "post_id": 38782835, "comment_id": 64940384, "body": "I did not down-vote, but this post misses the point. The question is which module among all the options presented, all of which have <code>JSON</code> in their name, should be used. The OP is clearly confused about the wrapper/implementation distinction. While your example might be correct, it does not address the question. As already mentioned, the question is not <i>how</i> to use the module, but <i>which one</i> of the options he came across is supposed to be the correct one, especially when there&#39;re several <code>JSON::*</code> available."}], "tags": [], "owner": {"reputation": 175, "user_id": 6281292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWEaV.jpg?s=128&g=1", "display_name": "Jose Bernalte", "link": "https://stackoverflow.com/users/6281292/jose-bernalte"}, "is_accepted": false, "score": -2, "last_activity_date": 1470379600, "creation_date": 1470379600, "answer_id": 38782835, "question_id": 38782286, "link": "https://stackoverflow.com/questions/38782286/whats-the-difference-between-these-json-perl-modules/38782835#38782835", "title": "What&#39;s the difference between these JSON Perl modules?", "body": "<p>You can install JSON module, cpan install JSON</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use JSON;\n\nmy $result = from_json($json);\nif($result-&gt;{field})\n{\n  # YOUR CODE\n};\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1471003940, "creation_date": 1470377528, "last_edit_date": 1470429557, "question_id": 38782286, "link": "https://stackoverflow.com/questions/38782286/whats-the-difference-between-these-json-perl-modules", "title": "What&#39;s the difference between these JSON Perl modules?", "body": "<p>What's the difference between the Perl JSON modules below?</p>\n\n<p>I have come across <a href=\"http://search.cpan.org/~makamaka/JSON-PP-2.27400/lib/JSON/PP.pm\" rel=\"nofollow\">JSON::PP</a> and <a href=\"http://search.cpan.org/~mlehmann/JSON-XS-3.02/XS.pm\" rel=\"nofollow\">JSON::XS</a>.  The documentation of <a href=\"http://search.cpan.org/~makamaka/JSON-PP-2.27400/lib/JSON/PP.pm\" rel=\"nofollow\">JSON::PP</a> says it is compatible with <a href=\"http://search.cpan.org/~mlehmann/JSON-XS-3.02/XS.pm\" rel=\"nofollow\">JSON::XS</a>. What does that mean?</p>\n\n<p>I am not sure what the difference between them are, let alone which of them to use. Can someone clarify?</p>\n"}, {"tags": ["perl", "awk", "tr"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1470361411, "post_id": 38779791, "comment_id": 64930991, "body": "awk is not shell, it&#39;s a tool that shell calls to manipulate text, just like shell could call a C program. You should not expect to be able to call shell commands directly from awk just like you can&#39;t call them directly from a C program."}], "answers": [{"tags": [], "owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "is_accepted": false, "score": 1, "last_activity_date": 1470362990, "last_edit_date": 1470362990, "creation_date": 1470361331, "answer_id": 38779864, "question_id": 38779791, "link": "https://stackoverflow.com/questions/38779791/using-tr-command-in-awk-to-replace-forward-slash-with-vertical-bar/38779864#38779864", "title": "Using tr command in awk to replace forward slash with vertical bar", "body": "<p><code>sed</code> is probably simplest here:</p>\n\n<pre><code>$ sed '/^&gt;/ s/\\//|/g' &lt;&lt;&lt;'&gt;m160505_c100980652550000001823221307061611/31156/269-572'\n&gt;m160505_c100980652550000001823221307061611|31156|269-572\n</code></pre>\n\n<ul>\n<li><p>After matching <code>&gt;</code> at the start of a line (<code>^</code>) - with the regex enclosed in (mandatory) delimiters <code>/.../</code>,</p></li>\n<li><p><code>s/\\//|/g</code> substitutes (<code>s</code>) a <code>|</code> for every (<code>g</code>) <code>/</code> (escaped as <code>\\/</code>, because <code>/</code> is used as the regex delimiter).</p></li>\n</ul>\n\n<p>Using alternate delimiter <code>@</code> for clarity: <code>sed s'/^&gt;/ s@/@|@g'</code>.</p>\n\n<hr>\n\n<p>A variant that works similarly to the separate <code>tr</code> utility, using <code>sed</code>'s <code>y</code> function:</p>\n\n<pre><code>sed '/^&gt;/ y/\\//|/' &lt;&lt;&lt;'&gt;m160505_c100980652550000001823221307061611/31156/269-572'\n</code></pre>\n\n<ul>\n<li>Function <code>y</code> replaces any characters in the 1st argument <em>individually</em> with the <em>corresponding</em> character in the 2nd argument - note that this implies that that the 1st and 2nd argument <em>must</em> have the <em>same length</em>  (<code>tr</code> does not require this).</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 1, "creation_date": 1470361974, "post_id": 38779866, "comment_id": 64931119, "body": "I know I said awk, but you are right. I am open to perl solutions, and happen to like this one the best out of the other, very good solutions posted. Thanks hobbs!"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 4, "last_activity_date": 1470361360, "creation_date": 1470361360, "answer_id": 38779866, "question_id": 38779791, "link": "https://stackoverflow.com/questions/38779791/using-tr-command-in-awk-to-replace-forward-slash-with-vertical-bar/38779866#38779866", "title": "Using tr command in awk to replace forward slash with vertical bar", "body": "<p><code>awk</code> doesn't have a <code>tr</code> command/function, nor does it have an <em>easy</em> way to get the same effect. Since you tagged this \"perl\", I'm assuming you're also open to a perl oneliner:</p>\n\n<pre><code>perl -lpe '/^&gt;/ and tr{/}{|}' &lt; Old.fasta &gt; New.fasta\n</code></pre>\n\n<p>does the same thing that the awk looks like it's trying to do; replace all <code>/</code> with <code>|</code> on lines beginning with <code>&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1470362395, "last_edit_date": 1470362395, "creation_date": 1470361505, "answer_id": 38779883, "question_id": 38779791, "link": "https://stackoverflow.com/questions/38779791/using-tr-command-in-awk-to-replace-forward-slash-with-vertical-bar/38779883#38779883", "title": "Using tr command in awk to replace forward slash with vertical bar", "body": "<pre><code>$ awk '/^&gt;/{gsub(\"/\",\"|\")}1' file\n&gt;m160505_c100980652550000001823221307061611|31156|269-572\n</code></pre>\n\n<p>If you DID need a tr() function in awk you'd have to write it, e.g.:</p>\n\n<pre><code>$ cat tr.awk\nfunction tr(oldStr,oldList,newList,     newStr,i,o2n,chr) {\n    for (i=1; i&lt;=length(oldList); i++) {\n        o2n[substr(oldList,i,1)] = substr(newList,i,1)\n    }\n    for (i=1; i&lt;=length(oldStr); i++) {\n        chr = substr(oldStr,i,1)\n        newStr = newStr (chr in o2n ? o2n[chr] : chr)\n    }\n    return newStr\n}\n{ print $0, \"-&gt;\", tr($0,\"xyz\",\"123\") }\n\n$ echo 'axbyczd' | awk -f tr.awk\naxbyczd -&gt; a1b2c3d\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 38779866, "answer_count": 3, "score": 1, "last_activity_date": 1470362990, "creation_date": 1470360756, "last_edit_date": 1470361480, "question_id": 38779791, "link": "https://stackoverflow.com/questions/38779791/using-tr-command-in-awk-to-replace-forward-slash-with-vertical-bar", "title": "Using tr command in awk to replace forward slash with vertical bar", "body": "<p>I have a large file that contains some lines that look something like: </p>\n\n<pre><code>&gt;m160505_c100980652550000001823221307061611/31156/269-572 \n</code></pre>\n\n<p>I need to replace all the forward slashes with vertical bars. I think awk is a great way to do this- it is fast and is simple. However, I am not sure how to incorporate tr and | into the command. So far I have the following, but I need help to correct it. </p>\n\n<pre><code>awk '/^&gt;/{tr{/}{|}; next}{print}' &lt; Old.fasta &gt; New.fasta\n</code></pre>\n\n<p>I am not opposed to writing a script for this, but I feel like awk might be faster way to do it.\nThanks</p>\n"}, {"tags": ["ruby", "bash", "perl", "logging", "sed"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470354889, "post_id": 38779118, "comment_id": 64929480, "body": "50MB is a tiny file, and it should take a fraction of a second to process it. Do you mean 50GB? Perl is best suited for processing text files."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470355310, "post_id": 38779118, "comment_id": 64929571, "body": "You say <i>&quot;I used &quot; -&gt; &quot; to delimit fields&quot;</i>, but what is the real delimiter? It&#39;s never a good idea to alter your live data when you post a question. What is <code>cut -d &quot; &quot; -f 5</code> supposed to produce? From your data it would be the second <code>-&gt;</code>, but I imagine you mean the first <code>Beijing</code>?"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1470357212, "post_id": 38779118, "comment_id": 64930034, "body": "Not sure why but I feel inclined to ask. Why are you not using a service for this? Google Analytics is extremely easy to implement and has a ruby app client. It would be far faster and more informative than parsing a text file. Otherwise load this into a database as it will again perform far better than text parsing."}, {"owner": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "edited": false, "score": 0, "creation_date": 1470358560, "post_id": 38779118, "comment_id": 64930362, "body": "Yes, I used &quot; -&gt; &quot; for delimiting fields, but &quot;cut&quot; command can cut input only by one character, so I used &quot; &quot; space to split the lines, and the 5th split is exactly the IP address."}, {"owner": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "edited": false, "score": 0, "creation_date": 1470358652, "post_id": 38779118, "comment_id": 64930383, "body": "File is only 50 MB now, but as the traffic builds up and time goes by it can grow huge."}, {"owner": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "edited": false, "score": 0, "creation_date": 1470358923, "post_id": 38779118, "comment_id": 64930441, "body": "Thx for offering Google Analytics, I have never heard of it till now.  I think in this case I can&#39;t use it, because I developed a few other services now which are based on this log file, for example filtering out robots, showing new visitors real time, showing the latest date of visit of recurring visitors real time, etc."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1470356511, "last_edit_date": 1470356511, "creation_date": 1470355969, "answer_id": 38779254, "question_id": 38779118, "link": "https://stackoverflow.com/questions/38779118/counting-daily-visitors-in-a-log-file/38779254#38779254", "title": "Counting daily visitors in a log file", "body": "<p>It's hard to know how to help without more information, but this Perl program will display the number of visits for every day logged</p>\n\n<p>The program expects the input file as a parameter on the command line. The output is as simplistic as the sample data you have given, and shows a single visit on 5 August 2016</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy %visits;\n\nwhile ( &lt;&gt; ) {\n    next unless /^(\\d\\d\\d\\d-\\d\\d-\\d\\d)/;\n    ++$visits{$1};\n}\n\nfor my $date ( sort keys %visits ) {\n    printf \"%s  --  %d\\n\", $date, $visits{$date};\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>2016-08-05  --  1\n</code></pre>\n\n<p>It should take only a second or two if your file is really only 50MB</p>\n\n<p>I have tested by replicating the line you show to create a 50MB file, and it is processed in less than half a second, reporting 162,823 visits on one day</p>\n\n<p>I suggest that you reformat your log file into a database so that you can query it more easily. That way you will have to process the log file just once; thereafter your queries will be instantaneous</p>\n"}], "owner": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 38779254, "answer_count": 1, "score": -2, "last_activity_date": 1470356822, "creation_date": 1470354728, "last_edit_date": 1470356822, "question_id": 38779118, "link": "https://stackoverflow.com/questions/38779118/counting-daily-visitors-in-a-log-file", "title": "Counting daily visitors in a log file", "body": "<p></p>\n\n<p>I have a log file of visitors which spans over 1.5 years. Every line represents a page load. Structure of each line is the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>2016-08-05 00:48:10 +0200 -&gt; 170.67.51.153   -&gt; Beijing - Beijing Shi: China -&gt; http://example.com/?ref=1676 -&gt; Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html) -&gt; AS55966 Beijing Baidu Netcom Science and Technology Co., Ltd. -&gt; Beijing Baidu Netcom Science and Technology Co. -&gt; 0.9301\n</code></pre>\n\n<p>I used \" -> \" to delimit fields.</p>\n\n<p>My Log file is about 50MB in size, and it takes a long time to parse the whole file for today's or yesterday's visitor count, because those actual lines are of course at the end of the file.</p>\n\n<p>I would like to use the bash command \"tac\" which is a reverse \"cat\" or something similar technique to get the lines in a reverse order. My first attempt was (to get daily visitors of for example 2016-08-04):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>tac visitor_log.txt|grep 2016-08-04|cut -d \" \" -f 5|sort|uniq|wc -l\n</code></pre>\n\n<p>It of course outputs the visitor count, but unfortunately it is also time consuming as it reads through the whole file, because one can't tell \"grep\" to stop matching the lines if the previous line matched and the actual line doesn't match.</p>\n\n<p>Maybe should I emulate \"tac\" in Ruby to get the daily visitor count effectively? Or should I using some flip-flop technique which is possibly available in \"sed\"? Unfortunately I don't know \"sed\" at all.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 1, "creation_date": 1470342055, "post_id": 38776715, "comment_id": 64924927, "body": "&quot;Can&#39;t use string as a HASH ref...&quot; &quot;Can&#39;t use string as an ARRAY ref...&quot; Which is it? And what line is the error on?"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1470342125, "post_id": 38776715, "comment_id": 64924966, "body": "I posted it <code>foreach (@arrFiles) { #Line 247</code>"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1470342238, "post_id": 38776715, "comment_id": 64925009, "body": "Sorry, missed the comment with the line number. So which error are you actually getting with that code?"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 1, "creation_date": 1470342394, "post_id": 38776715, "comment_id": 64925078, "body": "Can&#39;t use string (&quot;Server/Systems/Handlers/Buddies.&quot;...) as an ARRAY ref while &quot;strict refs&quot; in use at Server/ClubPenguin.pm line 247 is the correct error"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1470347037, "post_id": 38776715, "comment_id": 64927174, "body": "Each <code>$_</code> is a relative filename ending in <code>.pm</code>, not an array reference, so  <code>@$_</code> doesn&#39;t make any sense. What were you expecting?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1470347188, "post_id": 38776715, "comment_id": 64927245, "body": "Also, what is <code>method</code>? Functions/methods/subroutines are defined with <code>sub</code> in Perl."}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "edited": false, "score": 0, "creation_date": 1470347373, "post_id": 38776715, "comment_id": 64927318, "body": "<code>use Method::Signatures;</code>"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "edited": false, "score": 0, "creation_date": 1470347500, "post_id": 38776715, "comment_id": 64927351, "body": "and btw I get this <code>Can&#39;t locate object method &quot;new&quot; via package &quot;Buddies&quot; (perhaps you forgot to load &quot;Buddies&quot;?) at Server&#47;ClubPenguin.pm line 249.</code> It should work cause there&#39;s a file in the Handlers folder with the package Bubbies."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1470347581, "post_id": 38776715, "comment_id": 64927387, "body": "For future reference, if your code snippet uses modules, it would be useful to include the <code>use</code> lines with the code snippet."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1470347726, "post_id": 38776715, "comment_id": 64927432, "body": "How would that possibly work? You&#39;re not loading that module at runtime (at least, not in the code you posted), and I doubt you&#39;re loading it at compile time. The error message is pretty clear: <i>perhaps you forgot to load &quot;Buddies&quot;?</i>"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "edited": false, "score": 0, "creation_date": 1470347853, "post_id": 38776715, "comment_id": 64927498, "body": "I&#39;m using the same exact code but for plugins that retrieves the files from the Plugin folder. It works perfectly fine but the only difference here i&#39;m trying to retrieve files within two folders in the Systems folder"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 1, "creation_date": 1470347879, "post_id": 38776715, "comment_id": 64927519, "body": "And, like @smarx mentioned in his <a href=\"http://stackoverflow.com/questions/38776715/cant-use-string-as-a-array-ref-while-strict-refs-in-use#comment64925428_38776880\">comment</a>, the loading of the module is a separate issue."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1470353706, "post_id": 38776715, "comment_id": 64929152, "body": "@RyanFuhrman, I doubt that&#39;s true. But I think somebody thinks that if they put two arrays another array, they get an array of arrays. But with Perl&#39;s automatic flattening, you don&#39;t. <code>my @c = ( @a, @b )</code> gives you <code>@c</code> as a <i>concatenation</i> of the elements of <code>@a</code> and <code>@b</code>. Something funky has to be happening for <code>foreach my $files (@{$_})</code> to work on the return from <code>glob</code>.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470354051, "post_id": 38776715, "comment_id": 64929258, "body": "<i>&quot;It should work cause there&#39;s a file in the Handlers folder with the package <code>Bubbies</code>&quot;</i> Just leaving files lying around doesn&#39;t get them loaded. You&#39;ve misunderstood the code that you&#39;re copying."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "edited": false, "score": 0, "creation_date": 1470342726, "post_id": 38776880, "comment_id": 64925222, "body": "I get this error <code>Can&#39;t locate object method &quot;new&quot; via package &quot;Buddies&quot; (perhaps you forgot to load &quot;Buddies&quot;?) at Server&#47;ClubPenguin.pm line 249.</code>"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "reply_to_user": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "edited": false, "score": 1, "creation_date": 1470342826, "post_id": 38776880, "comment_id": 64925278, "body": "I&#39;m not sure that relates to the issue at hand here. The issue in your code is that the comma concatenated your list, so you just need one loop to iterate over all the elements."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "reply_to_user": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "edited": false, "score": 0, "creation_date": 1470342954, "post_id": 38776880, "comment_id": 64925334, "body": "You probably need to <code>require</code> the modules you find? <code>require $_;</code> perhaps?"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "edited": false, "score": 0, "creation_date": 1470343024, "post_id": 38776880, "comment_id": 64925381, "body": "well I use package Namehere;"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "reply_to_user": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "edited": false, "score": 2, "creation_date": 1470343116, "post_id": 38776880, "comment_id": 64925428, "body": "Anyway, this is off-topic. Ask a new question if you want help with this new issue."}], "tags": [], "owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "is_accepted": false, "score": 0, "last_activity_date": 1470342508, "creation_date": 1470342508, "answer_id": 38776880, "question_id": 38776715, "link": "https://stackoverflow.com/questions/38776715/cant-use-string-as-a-array-ref-while-strict-refs-in-use/38776880#38776880", "title": "Can&#39;t use string as a ARRAY ref while &quot;strict refs&quot; in use", "body": "<p>I think you need just this:</p>\n\n<pre><code>foreach (@arrFiles) {\n    my $strClass = basename($_, '.pm');\n    my $objSystem = $strClass-&gt;new($self);\n    $self-&gt;{systems}-&gt;{$strClass} = $objSystem;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1470353846, "creation_date": 1470353846, "answer_id": 38778991, "question_id": 38776715, "link": "https://stackoverflow.com/questions/38776715/cant-use-string-as-a-array-ref-while-strict-refs-in-use/38778991#38778991", "title": "Can&#39;t use string as a ARRAY ref while &quot;strict refs&quot; in use", "body": "<p>The issue is that this line</p>\n\n<pre><code>my @arrFiles    = ( @arrHandlers, @arrGames );\n</code></pre>\n\n<p>just combines the contents of the two arrays <code>@arrHandlers</code> and <code>@arrGames</code> intoi a single array. It doesn't create an array of two references, as you seem to expect</p>\n\n<p>You need to write just</p>\n\n<pre><code>for ( @arrFiles ) {\n    ...\n}\n</code></pre>\n\n<p>There's also no need to copy the original arrays, or even to store the result of the <code>glob</code> calls. You can write</p>\n\n<pre><code>for ( glob 'Server/Systems/{Handlers,Games}/*.pm' ) {\n    ...\n}\n</code></pre>\n\n<p>with the same effect</p>\n"}], "owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2205, "favorite_count": 0, "accepted_answer_id": 38778991, "answer_count": 2, "score": 0, "last_activity_date": 1470353846, "creation_date": 1470341851, "last_edit_date": 1470353571, "question_id": 38776715, "link": "https://stackoverflow.com/questions/38776715/cant-use-string-as-a-array-ref-while-strict-refs-in-use", "title": "Can&#39;t use string as a ARRAY ref while &quot;strict refs&quot; in use", "body": "<p>I've been trying to load files out of two folders, <code>Handlers</code> and <code>Games</code>, that are located in the <code>System</code> folder.</p>\n\n<p>It gives me an error</p>\n\n<blockquote>\n<pre><code>Can't use string (\"Server/Systems/Handlers/Buddies.\"...) as an ARRAY ref while \"strict refs\" in use at Server/ClubPenguin.pm line 247`\n</code></pre>\n</blockquote>\n\n<p>Here is the code </p>\n\n<pre><code>method loadSystems {\n\n    my @arrHandlers = glob('Server/Systems/Handlers/*.pm');\n    my @arrGames    = glob('Server/Systems/Games/*.pm');\n\n    my @arrFiles    = ( @arrHandlers, @arrGames );\n\n    foreach (@arrFiles) {    #Line 247\n\n        foreach my $files ( @{$_} ) {\n\n            my $strClass  = basename( $_, '.pm' );\n            my $objSystem = $strClass-&gt;new($self);\n\n            $self-&gt;{systems}-&gt;{$strClass} = $objSystem;\n        }\n    }\n\n    my $sysCount = scalar( keys %{ $self-&gt;{systems} } );\n\n    if ( $sysCount &gt; 0 ) {\n        $self-&gt;{modules}-&gt;{logger}-&gt;\n                output( 'Successfully Loaded ' . $sysCount . ' Systems', Logger::LEVELS-&gt;{inf} );\n    }\n    else {\n        $self-&gt;{modules}-&gt;{logger}-&gt;\n                output( 'Failed To Load Any Systems', Logger::LEVELS-&gt;{err} );\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "bioinformatics", "fasta"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1470353298, "last_edit_date": 1470353298, "creation_date": 1470346992, "answer_id": 38777885, "question_id": 38775912, "link": "https://stackoverflow.com/questions/38775912/write-a-perl-script-that-takes-in-a-fasta-and-reverses-all-the-sequences-withou/38777885#38777885", "title": "Write a Perl script that takes in a fasta and reverses all the sequences (without BioPerl)?", "body": "\n\n<p>This will do as you ask</p>\n\n<p>It builds a hash <code>%fasta</code> out of the FASTA file, keeping array <code>@keys</code> to keep the sequences in order, and then prints out each element of the hash</p>\n\n<p>Each line of the sequence is reversed using <code>reverse</code> before it is added to the hash, and using <code>unshift</code> adds the lines of the sequence in reverse order</p>\n\n<p>The program expects the input file as a parameter on the command line, and prints the result to STDOUT, which may be redirected on the command line</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy (%fasta, @keys);\n\n{\n    my $key;\n\n    while ( &lt;&gt; ) {\n\n        chomp;\n\n        if ( s/^&gt;\\K/REV/ ) {\n            $key = $_;\n            push @keys, $key;\n        }\n        elsif ( $key ) {\n            unshift @{ $fasta{$key} }, scalar reverse;\n        }\n    }\n}\n\nfor my $key ( @keys ) {\n    print $key, \"\\n\";\n    print \"$_\\n\" for @{ $fasta{$key} };\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;REVseq1\nGFEDCBA\n&gt;REVseq2\nNMLKJIH\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>If you prefer to rewrap the sequence so that short lines are at the end, then you just need to rewrite the code that dumps the hash</p>\n\n<p>This alternative uses the length of the longest line in the original file as the limit, and rerwraps the reversed sequence to the same length. It's claer that it would be simple to specify an explicit length instead of calculating it</p>\n\n<p>You will need to add <code>use List::Util 'max'</code> at the top of the program</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my $len = max map length, map @$_, values %fasta;\n\nfor my $key ( @keys ) {\n    print $key, \"\\n\";\n    my $seq = join '', @{ $fasta{$key} };\n    print \"$_\\n\" for $seq =~ /.{1,$len}/g;\n}\n</code></pre>\n\n<p>Given the original data the output is identical to that of the solution above. I used this as input</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;seq1\nABCDEFGHI\nJKLMNOPQRST\nUVWXYZ\n&gt;seq2\nHIJKLMN\nOPQRSTU\nVWXY\n</code></pre>\n\n<p>with this result. All lines have been wrapped to eleven characters - the length of the longest <code>JKLMNOPQRST</code> line in the original data</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;REVseq1\nZYXWVUTSRQP\nONMLKJIHGFE\nDCBA\n&gt;REVseq2\nYXWVUTSRQPO\nNMLKJIH\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 1, "last_activity_date": 1470368370, "creation_date": 1470368370, "answer_id": 38780705, "question_id": 38775912, "link": "https://stackoverflow.com/questions/38775912/write-a-perl-script-that-takes-in-a-fasta-and-reverses-all-the-sequences-withou/38780705#38780705", "title": "Write a Perl script that takes in a fasta and reverses all the sequences (without BioPerl)?", "body": "<p>I don't know if this is just for a class that uses toy datasets or actual research FASTAs that can be gigabytes in size. If the latter, it would make sense not to keep the whole data set in memory as both your program and Borodin's do but read it one sequence at a time, print that out reversed and forget about it. The following code does that and also deals with FASTA files that <a href=\"https://en.wikipedia.org/wiki/FASTA_format#History\" rel=\"nofollow\">may have asterisks as sequence-end markers</a> as long as they start with <code>&gt;</code>, not <code>;</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $COL_WIDTH = 80;\n\nmy $sequence = '';\nmy $seq_label;\n\nsub print_reverse {\n    my $seq_label = shift;\n    my $sequence = reverse shift;\n    return unless $sequence;\n    print \"$seq_label\\n\";\n    for(my $i=0; $i&lt;length($sequence); $i += $COL_WIDTH) {\n        print substr($sequence, $i, $COL_WIDTH), \"\\n\";\n    }\n}\n\nwhile(my $line = &lt;&gt;) {\n    chomp $line;\n    if($line =~ s/^&gt;/&gt;REV/) {\n        print_reverse($seq_label, $sequence);\n        $seq_label = $line;\n        $sequence = '';\n        next;\n    }\n    $line = substr($line, 0, -1) if substr($line, -1) eq '*';\n    $sequence .= $line;\n}\nprint_reverse($seq_label, $sequence);\n</code></pre>\n"}], "owner": {"reputation": 681, "user_id": 5667298, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/697b66ad849e59a8ac5751484f77bee8?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5667298/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 1, "accepted_answer_id": 38777885, "answer_count": 2, "score": 0, "last_activity_date": 1470368370, "creation_date": 1470339136, "question_id": 38775912, "link": "https://stackoverflow.com/questions/38775912/write-a-perl-script-that-takes-in-a-fasta-and-reverses-all-the-sequences-withou", "title": "Write a Perl script that takes in a fasta and reverses all the sequences (without BioPerl)?", "body": "<p>I dont know if this is just a quirk with Stawberry Perl, but I can't seem to get it to run. I just need to take a fasta and reverse every sequence in it.</p>\n\n<p>-The problem-</p>\n\n<p>I have a multifasta file:</p>\n\n<pre><code>&gt;seq1\nABCDEFG\n&gt;seq2\nHIJKLMN\n</code></pre>\n\n<p>and the expected output is:</p>\n\n<pre><code>&gt;REVseq1\nGFEDCBA\n&gt;REVseq2\nNMLKJIH\n</code></pre>\n\n<p>The script is here:</p>\n\n<pre><code>$NUM_COL = 80; ## set the column width of output file\n$infile = shift; ## grab input sequence file name from command line\n$outfile = \"test1.txt\"; ## name output file, prepend with \u201cREV\u201d\nopen (my $IN, $infile);\nopen (my $OUT, '&gt;', $outfile);\n$/ = undef; ## allow entire input sequence file to be read into memory\nmy $text = &lt;$IN&gt;; ## read input sequence file into memory\nprint $text; ## output sequence file into new decoy sequence file\nmy @proteins = split (/&gt;/, $text); ## put all input sequences into an array\n\n\nfor my $protein (@proteins) { ## evaluate each input sequence individually\n    $protein =~ s/(^.*)\\n//m; ## match and remove the first descriptive line of\n    ## the FATA-formatted protein\n    my $name = $1; ## remember the name of the input sequence\n    print $OUT \"&gt;REV$name\\n\"; ## prepend with #REV#; a # will help make the\n    ## protein stand out in a list\n    $protein =~ s/\\n//gm; ## remove newline characters from sequence\n    $protein = reverse($protein); ## reverse the sequence\n\n    while (length ($protein) &gt; $NUM_C0L) { ## loop to print sequence with set number of cols\n\n    $protein =~ s/(.{$NUM_C0L})//;\n    my $line = $1;\n    print $OUT \"$line\\n\";\n    }\n    print $OUT \"$protein\\n\"; ## print last portion of reversed protein\n}\n\nclose ($IN);\nclose ($OUT);\nprint \"done\\n\";\n</code></pre>\n"}, {"tags": ["perl", "character-class"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470327454, "post_id": 38771266, "comment_id": 64916566, "body": "You might be interested in the <code>unichars</code> (and <code>uniprops</code>) programs which are part of Unicode::Tussle."}], "answers": [{"tags": [], "owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "is_accepted": true, "score": 12, "last_activity_date": 1470331225, "last_edit_date": 1495540859, "creation_date": 1470325125, "answer_id": 38771787, "question_id": 38771266, "link": "https://stackoverflow.com/questions/38771266/why-does-w-match-some-word-characters-but-not-pword/38771787#38771787", "title": "Why does [^\\w] match some word characters but not [^\\p{Word}]?", "body": "<p>Unicode support in Perl is huge topic, see e.g. <a href=\"https://stackoverflow.com/a/6163129/6600109\">this answer</a></p>\n\n<p>To make <code>\\w</code> match same as <code>\\p{Word}</code>, you need to have <code>/u</code> character set modifier in effect (available in Perl since version 5.14).</p>\n\n<p>Simplest way is to just start program with</p>\n\n<pre><code>use v5.14;\n</code></pre>\n\n<p>which (among other things) enables feature <code>unicode_strings</code> and makes all regexes default to <code>/u</code> character set modifier. You can also just enable that feature explicitly:</p>\n\n<pre><code>use feature 'unicode_strings';\n</code></pre>\n\n<p>Third way is to use <code>/u</code> modified in regex to change character set on per-regex basis.</p>\n\n<p>You can read about effects of different regex character set modifiers from <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a> manpage. These are <code>/d</code>, <code>/u</code>, <code>/a</code> and <code>/l</code>.</p>\n\n<p>The <code>\\w</code> is explained in <a href=\"http://perldoc.perl.org/perlrecharclass.html#Backslash-sequences\" rel=\"nofollow noreferrer\">perlrecharclass</a> manpage.</p>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 38771787, "answer_count": 1, "score": 4, "last_activity_date": 1470331225, "creation_date": 1470323762, "last_edit_date": 1470324235, "question_id": 38771266, "link": "https://stackoverflow.com/questions/38771266/why-does-w-match-some-word-characters-but-not-pword", "title": "Why does [^\\w] match some word characters but not [^\\p{Word}]?", "body": "<p>I've written a Perl script that prints out characters matching a Unicode property. It seems to work all right for most properties so far.</p>\n\n<p>But it prints out <code>\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u00c6\u00c7\u00c8\u00c9\u00ca\u00cb\u00cc\u00cd\u00ce\u00cf\u00d0\u00d1\u00d2\u00d3\u00d4\u00d5\u00d6\u00d8\u00d9\u00da\u00db\u00dc\u00dd\u00de\u00df\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u00e6\u00e7\u00e8\u00e9\u00ea\u00eb\u00ec\u00ed\u00ee\u00ef\u00f0\u00f1\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u00f9\u00fa\u00fb\u00fc\u00fd\u00fe\n\u00ff</code> among characters matching <code>[^\\w]</code>. These characters should rather match <code>\\w</code>. Strangely enough, they match <code>\\p{Word}</code>.</p>\n\n<p>I've tried without success:</p>\n\n<ul>\n<li><code>map { decode ( \"UTF-8\", $_ ) }</code></li>\n<li><code>map { pack 'U0C*', unpack 'C*', $_ }</code></li>\n</ul>\n\n<p>How can I make <code>[^\\w]</code> not match those word characters?</p>\n\n<h3>chars.pl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse utf8;\n\nbinmode STDOUT, ':utf8';\n\nmy $c;\nmy $cols = 80;\nmy $arg = shift;\nmy $regex = qr/$arg/;\n\nfor ( map { chr } 0x20 .. 0xFFFF )\n{\n  next if /\\p{Unassigned}|\\p{NChar}|\\p{Cs}/;\n\n  if ( $_ =~ $regex )\n  {\n    print STDOUT;\n    print STDOUT \"\\n\" if ++$c % $cols == 0;\n  }\n\n}\n\nprint STDOUT \"\\n\" if defined $c and $c % $cols != 0;\nexit 0;\n</code></pre>\n\n<p>Good:</p>\n\n<pre><code>$ ./chars.pl '\\p{Cyrillic}'\n\u0400\u0401\u0402\u0403\u0404\u0405\u0406\u0407\u0408\u0409\u040a\u040b\u040c\u040d\u040e\u040f\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f\n\u0450\u0451\u0452\u0453\u0454\u0455\u0456\u0457\u0458\u0459\u045a\u045b\u045c\u045d\u045e\u045f\u0460\u0461\u0462\u0463\u0464\u0465\u0466\u0467\u0468\u0469\u046a\u046b\u046c\u046d\u046e\u046f\u0470\u0471\u0472\u0473\u0474\u0475\u0476\u0477\u0478\u0479\u047a\u047b\u047c\u047d\u047e\u047f\u0480\u0481\u0482\u0483\u0484\u0487\u048a\u048b\u048c\u048d\u048e\u048f\u0490\u0491\u0492\u0493\u0494\u0495\u0496\u0497\u0498\u0499\u049a\u049b\u049c\u049d\u049e\u049f\u04a0\u04a1\n\u04a2\u04a3\u04a4\u04a5\u04a6\u04a7\u04a8\u04a9\u04aa\u04ab\u04ac\u04ad\u04ae\u04af\u04b0\u04b1\u04b2\u04b3\u04b4\u04b5\u04b6\u04b7\u04b8\u04b9\u04ba\u04bb\u04bc\u04bd\u04be\u04bf\u04c0\u04c1\u04c2\u04c3\u04c4\u04c5\u04c6\u04c7\u04c8\u04c9\u04ca\u04cb\u04cc\u04cd\u04ce\u04cf\u04d0\u04d1\u04d2\u04d3\u04d4\u04d5\u04d6\u04d7\u04d8\u04d9\u04da\u04db\u04dc\u04dd\u04de\u04df\u04e0\u04e1\u04e2\u04e3\u04e4\u04e5\u04e6\u04e7\u04e8\u04e9\u04ea\u04eb\u04ec\u04ed\u04ee\u04ef\u04f0\u04f1\n\u04f2\u04f3\u04f4\u04f5\u04f6\u04f7\u04f8\u04f9\u04fa\u04fb\u04fc\u04fd\u04fe\u04ff\u0500\u0501\u0502\u0503\u0504\u0505\u0506\u0507\u0508\u0509\u050a\u050b\u050c\u050d\u050e\u050f\u0510\u0511\u0512\u0513\u0514\u0515\u0516\u0517\u0518\u0519\u051a\u051b\u051c\u051d\u051e\u051f\u0520\u0521\u0522\u0523\u0524\u0525\u0526\u0527\u1d2b\u1d78\u2de0\u2de1\u2de2\u2de3\u2de4\u2de5\u2de6\u2de7\u2de8\u2de9\u2dea\u2deb\u2dec\u2ded\u2dee\u2def\u2df0\u2df1\u2df2\u2df3\u2df4\u2df5\u2df6\u2df7\n\u2df8\u2df9\u2dfa\u2dfb\u2dfc\u2dfd\u2dfe\u2dff\ua640\ua641\ua642\ua643\ua644\ua645\ua646\ua647\ua648\ua649\ua64a\ua64b\ua64c\ua64d\ua64e\ua64f\ua650\ua651\ua652\ua653\ua654\ua655\ua656\ua657\ua658\ua659\ua65a\ua65b\ua65c\ua65d\ua65e\ua65f\ua660\ua661\ua662\ua663\ua664\ua665\ua666\ua667\ua668\ua669\ua66a\ua66b\ua66c\ua66d\ua66e\ua66f\ua670\ua671\ua672\ua673\ua67c\ua67d\ua67e\ua67f\ua680\ua681\ua682\ua683\ua684\ua685\ua686\ua687\ua688\ua689\ua68a\ua68b\ua68c\ua68d\ua68e\ua68f\n\ua690\ua691\ua692\ua693\ua694\ua695\ua696\ua697\n$\n</code></pre>\n\n<p>Good:</p>\n\n<pre><code>$ ./chars.pl '[^\\p{Word}]' | grep \u00c9\n$\n</code></pre>\n\n<p>Bad:</p>\n\n<pre><code>$ ./chars.pl '[^\\w]' | grep \u00c9\n\u00b0\u00b1\u00b2\u00b3\u00b4\u00b5\u00b6\u00b7\u00b8\u00b9\u00ba\u00bb\u00bc\u00bd\u00be\u00bf\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u00c6\u00c7\u00c8\u00c9\u00ca\u00cb\u00cc\u00cd\u00ce\u00cf\u00d0\u00d1\u00d2\u00d3\u00d4\u00d5\u00d6\u00d7\u00d8\u00d9\u00da\u00db\u00dc\u00dd\u00de\u00df\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u00e6\u00e7\u00e8\u00e9\u00ea\u00eb\u00ec\u00ed\u00ee\u00ef\u00f0\u00f1\u00f2\u00f3\u00f4\u00f5\u00f6\u00f7\u00f8\u00f9\u00fa\u00fb\u00fc\u00fd\u00fe\n$\n</code></pre>\n\n<p>Perl v5.14.2</p>\n"}, {"tags": ["perl", "www-mechanize"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470348006, "post_id": 38770971, "comment_id": 64927558, "body": "Are you sure you want to use <code>WWW::Mechanize</code> on a local file? There is little point in using the <code>LWP</code> suite when you can just <code>open</code> the file, and much of the purpose of the module is handling clicks on links, form filling and submission, and emulating the back and forward buttons on your browser. None of these are possible with a static file, so you are left with just analysis of the page, for which you need just <a href=\"https://metacpan.org/pod/HTML::TreeBuilder\" rel=\"nofollow noreferrer\">HTML::TreeBuilder</a> which <code>WWW::Mechanize</code> subclasses."}, {"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470382485, "post_id": 38770971, "comment_id": 64937901, "body": "As I said the purpose of my script is to work on online pages, local files are just an alternative, mainly for testing coding errors (And I really wanted to know why it didn&#39;t work ! ). Thanks for pointing out another way to do it though."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1470348868, "post_id": 38771359, "comment_id": 64927839, "body": "<i>&quot;URLs only understand forward slashes&quot;</i> The contents of a <code>file:</code> URI are platform-defined. <code>file:&#47;&#47;&#47;C:\\Temp\\t.txt</code> works just fine. <i>&quot;Windows&#39; warped backslash (\\&#41; monstrosities&quot;</i> This isn&#39;t the place for tribalism. Please just answer the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1470348940, "post_id": 38771359, "comment_id": 64927863, "body": "<i>&quot;The scheme is file://&quot;</i> Not quite. The scheme is <code>file</code>. Within a URI it that it must be followed by a colon and two slashes, then the <i>host</i> (in this case it&#39;s an empty string, indicating the local machine) another slash and the path."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1470392520, "last_edit_date": 1470392520, "creation_date": 1470324013, "answer_id": 38771359, "question_id": 38770971, "link": "https://stackoverflow.com/questions/38770971/use-perl-wwwmechanize-on-a-local-file/38771359#38771359", "title": "Use perl WWW::Mechanize on a local file", "body": "<p>The <code>get()</code> method from WWW::Mechanize takes a URL as its argument. So you just need to work out what the correct URL is for your local file. You're on the right lines with the \"file://\" scheme.</p>\n\n<p>I think you will need:</p>\n\n<pre><code>$mech-&gt;get( 'file:///C:/User/myfile.html' );\n</code></pre>\n\n<p>Note two important things that people often get wrong.</p>\n\n<ol>\n<li>URLs only understand forward slashes (<code>/</code>), so you need to convert Windows' warped backslash (<code>\\</code>) monstrosities. <strong>Update:</strong> As Borodin points out in a comment, this isn't true - you can use backslashes in URLs. However, backslashes often have special meanings in Perl strings, so I'd advise using forward slashes whenever possible.</li>\n<li>The scheme is <code>file</code>, which is followed by <code>://</code> (with two slashes), then the hostname (which is an empty string) a slash (<code>/</code>) and then your local path (<code>C:/</code>). So that means that there are three slashes after <code>file:</code>. That seems wrong, so people often omit one of them. <strong>Update:</strong> description made more accurate following advice from Borodin in a comment.</li>\n</ol>\n\n<p>Wikipedia (as always) has a lot more information - <a href=\"https://en.wikipedia.org/wiki/File_URI_scheme\" rel=\"nofollow\">file URI scheme</a></p>\n"}], "owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 0, "accepted_answer_id": 38771359, "answer_count": 1, "score": 4, "last_activity_date": 1470392520, "creation_date": 1470322960, "question_id": 38770971, "link": "https://stackoverflow.com/questions/38770971/use-perl-wwwmechanize-on-a-local-file", "title": "Use perl WWW::Mechanize on a local file", "body": "<p>I'm currently working on a Perl script and I use the CPAN module WWW:Mechanize to get HTML pages from websites. \nHowever, I would like to be able to work on offline HTML files as well (that I would save myself beforehand most likely) so I don't need the internet each time I'm trying a new script.\nSo basically my question is how can I transform this\u00a0:</p>\n\n<pre><code>$mech-&gt;get( 'http://www.websiteadress.html' );\n</code></pre>\n\n<p>into this\u00a0:</p>\n\n<pre><code>$mech-&gt;get( 'C:\\User\\myfile.html' );\n</code></pre>\n\n<p>I've seen that file:// could be useful but I obviously don't know how to use it as I get errors every time.</p>\n"}, {"tags": ["perl", "email"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 5, "creation_date": 1470317606, "post_id": 38768254, "comment_id": 64908749, "body": "Which line number is in the error message? Which version of MIME::Lite::HTML are you using? <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=41447\" rel=\"nofollow noreferrer\">This bug</a> was fixed in version 1.24."}, {"owner": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470378054, "post_id": 38768254, "comment_id": 64935515, "body": "The error is on calling <code>parse</code> method. MIME::Lite::HTML version is 1.24"}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "is_accepted": true, "score": 2, "last_activity_date": 1473240045, "creation_date": 1473240045, "answer_id": 39365969, "question_id": 38768254, "link": "https://stackoverflow.com/questions/38768254/perl-error-cant-call-method-replace-on-an-undefined-value-mimelitehtml/39365969#39365969", "title": "Perl error: Can&#39;t call method &quot;replace&quot; on an undefined value MIME::Lite::HTML", "body": "<p>Got the answer. Actually there was no error with the code. The request for parsing message using <code>MIME::Lite::HTML</code> was not reaching the server because of DNS resolve issue. If the request can't reach then it will return the object with no data and so replace function cannot be executed for empty data.</p>\n\n<p>Thanks for your responses.</p>\n"}], "owner": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 39365969, "answer_count": 1, "score": 1, "last_activity_date": 1473240045, "creation_date": 1470316093, "last_edit_date": 1470317607, "question_id": 38768254, "link": "https://stackoverflow.com/questions/38768254/perl-error-cant-call-method-replace-on-an-undefined-value-mimelitehtml", "title": "Perl error: Can&#39;t call method &quot;replace&quot; on an undefined value MIME::Lite::HTML", "body": "<p>I was trying to send a mail with response from a URL using MIME::Lite::HTML. But it shows </p>\n\n<blockquote>\n  <p>Can't call method \"replace\" on an undefined value at\n  /usr/local/share/perl/5.18.2/MIME/Lite/HTML.pm</p>\n</blockquote>\n\n<p>The code is like this</p>\n\n<pre><code>#!/usr/bin/perl\nuse MIME::Lite;\nuse MIME::Lite::HTML;\nuse strict;\n\nmy $mailed_html = new MIME::Lite::HTML(To =&gt; \"user\\@sample.com\",\n               From  =&gt; \"admin\\@sample.com\",\n               Subject =&gt; \"Thank you mail\"); # creates MIME::Lite::HTML object \nmy $msg = $mailed_html-&gt;parse(\"http://sample.com/thankyou.html?id=19&amp;mode=test\");\n$msg-&gt;send;\n</code></pre>\n\n<p>The variable <code>$mailed_html</code> have MIME::Lite::HTML object, confirmed by printing using <code>Data::Dumper</code>.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470314732, "post_id": 38767701, "comment_id": 64906526, "body": "You have to be more specific. <i>Leading zeroes</i> implies at the beginning of a string. It looks like that&#39;s not what you want."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1470315141, "post_id": 38767701, "comment_id": 64906846, "body": "you need to use a look-ahead regex to check if the following character is a number, different than 0"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 5, "creation_date": 1470315211, "post_id": 38767701, "comment_id": 64906893, "body": "Firstly, it looks you don&#39;t want to remove &quot;leading zeroes&quot;, you want to remove &quot;leading zeroes and zeroes that immediately follow a letter&quot;. Is that accurate? Secondly, StackOverflow is not here to write code for you. It is here to help you fix problems in your code. Please show us what you already have. If you don&#39;t already have any code, then you don&#39;t want StackOverflow, you want to pay a programmer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1470315382, "post_id": 38767701, "comment_id": 64907025, "body": "Most of <a href=\"http://stackoverflow.com/users/5179776/nissa?tab=questions\">your questions</a> have good answers, but only one was accepted. Please go back through your questions and accept answers that solved your problems."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470316032, "post_id": 38767701, "comment_id": 64907495, "body": "@DaveCross you are wrong, he wants to remove the zero&#39;s followed by a number"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1470316179, "post_id": 38767701, "comment_id": 64907621, "body": "@JohnDoe: We don&#39;t know what he wants. Your description and mine both match all of his examples. But until he clarifies, we&#39;re just guessing."}, {"owner": {"reputation": 219, "user_id": 5179776, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b67ce56655c6fd60e9e22f36f5df01f?s=128&d=identicon&r=PG&f=1", "display_name": "Nissa", "link": "https://stackoverflow.com/users/5179776/nissa"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1470317952, "post_id": 38767701, "comment_id": 64909068, "body": "What I means is &quot;leading zeros in all numbers&quot; within a string. 09, 30, 0123,etc. are all numbers in the string. Well, previously I think leading zero only apply to &quot;numbers&quot;, not the whole string, but I get the correct meaning now. Also, I cannot give any codes, although I know some perl and regex, I never heard of lookahead regex, so I just don&#39;t know where to start. @John Doe &#39;s reply is a good one, as he pointed out where should I look into, but Dave Cross &#39;s reply is a bad and unfriendly one.  Anyway, I&#39;ve looked into lookahead regex, and made the code successfully. So, problem solved!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470319346, "post_id": 38767701, "comment_id": 64910193, "body": "What about <code>A1005B</code>? The solution you have would strip the two zeroes right out and you&#39;d have <code>A15B</code>. Is that an expected result? Also, please post your own solution as an answer for future readers."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1470319925, "post_id": 38767701, "comment_id": 64910734, "body": "<code>{1,}</code> is more simply just <code>+</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470321251, "post_id": 38767701, "comment_id": 64911894, "body": "@Nissa: You should post your solution as an answer and then accept it. I&#39;m sorry that you thought my comment was unfriendly, but I was just explaining how StackOverflow works."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1470315256, "creation_date": 1470315256, "answer_id": 38767931, "question_id": 38767701, "link": "https://stackoverflow.com/questions/38767701/perl-stripping-leading-zero-in-alphanumeric-string/38767931#38767931", "title": "perl: Stripping leading zero in alphanumeric string", "body": "<p>You can use a lookbehind to match zeroes that are preceded by non-digits. In addition to that, you also need to match real leading zeroes at the beginning of the string.</p>\n\n<pre><code>my @strings = qw(03ABCDE 30ABCDE0123 30XY09ZZZ0001);\nforeach (@strings) {\n    print \"$_ --&gt; \";\n    s/^0+|(?&lt;=\\D)0+//g;\n    print \"$_\\n\";\n}\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/xF7uM9/1\" rel=\"nofollow\">https://regex101.com/r/xF7uM9/1</a> for a match demo.</p>\n"}], "owner": {"reputation": 219, "user_id": 5179776, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b67ce56655c6fd60e9e22f36f5df01f?s=128&d=identicon&r=PG&f=1", "display_name": "Nissa", "link": "https://stackoverflow.com/users/5179776/nissa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1470318419, "creation_date": 1470314677, "last_edit_date": 1470318419, "question_id": 38767701, "link": "https://stackoverflow.com/questions/38767701/perl-stripping-leading-zero-in-alphanumeric-string", "title": "perl: Stripping leading zero in alphanumeric string", "body": "<p>How to strip all leading zeros of an alphanumeric string in <code>Perl</code>?</p>\n\n<p>For example:</p>\n\n<pre><code>\"03ABCDE\" --&gt; \"3ABCDE\";\n\n\"30ABCDE0123\"--&gt; \"30ABCDE123\";\n\n\"30XY09ZZZ0001\" --&gt; \"30XY9ZZZ1\"\n</code></pre>\n\n<p>EDIT: John Doe pointed out the correct direction for solving this problem, and I made this code to solve this problem. Thanks!</p>\n\n<pre><code>$i =~s /0{1,}(?=[1-9])//g;\n</code></pre>\n"}, {"tags": ["perl", "file"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470314403, "post_id": 38767284, "comment_id": 64906261, "body": "How do you define <i>best</i>? Fastest, most memory-efficient, easiest to read for the next guy?"}], "answers": [{"comments": [{"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1470315161, "post_id": 38767630, "comment_id": 64906865, "body": "You can read a file in blocks from the end, searching for a newline. That way you don&#39;t read the whole file."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 1, "creation_date": 1470315298, "post_id": 38767630, "comment_id": 64906960, "body": "@rustyx yes that is what File::ReadBackwards does for you"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": -2, "last_activity_date": 1470314982, "last_edit_date": 1470314982, "creation_date": 1470314484, "answer_id": 38767630, "question_id": 38767284, "link": "https://stackoverflow.com/questions/38767284/which-is-best-method-to-read-or-write-a-particular-line-in-file-in-perl/38767630#38767630", "title": "Which is best method to read or write a particular line in file in perl?", "body": "<p>The thing is - there isn't a way that doesn't rely on reading the whole file. Files start at the beginning, and your process <em>will</em> have to seek all the way through. \nThis is the most expensive task your code will be doing, so it makes very little difference which approach you take.</p>\n\n<p>So I'd go for a very simple:</p>\n\n<pre><code> my $last_line; \n while ( my $line = &lt;$filehandle&gt; ) { $last_line = $line }; \n print $last_line,\"\\n\";\n</code></pre>\n\n<p>This may look inefficient, but it's doing no more than the other things are - reading the whole file, and discarding everything but the final line.</p>\n\n<p>If - as your question suggests - you're after a -specific- line - you can either use testing <code>$.</code> (current line number) or a regular expression and 'bail out' of the loop when a condition is met. Thus you don't read the whole file, which is marginally more efficient. </p>\n\n<p>E.g.:</p>\n\n<pre><code>while ( my $line = &lt;$filehandle&gt; ) { \n    $last_line = $line;\n    last if $. &gt;= 100; #bails out after we hit line 100. \n    last if m/END FILE/; #looks for 'END FILE' on the line, and bails out. \n}; \nprint $last_line,\"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470319901, "post_id": 38767994, "comment_id": 64910716, "body": "For comparison, <a href=\"http://pastebin.com/2Tqv4qym\" rel=\"nofollow noreferrer\">this</a> is an efficient alternative to your Tie::File snippet. It is uses <i>far</i> less memory and is <i>much</i> faster."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470320157, "post_id": 38767994, "comment_id": 64910936, "body": "@ikegami: do you have numbers for the &quot;less memory&quot;?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470320338, "post_id": 38767994, "comment_id": 64911104, "body": "Ignoring the line cache (which has a configurable size), T::F keeps in memory the index of each line it encounters. In your example, that would be every line of the file. IIRC, it was something like 64 bytes per line on the machine I was using. For your typical Perl program file, reading the file using T::F actually uses more memory than storing the entire file in one scalar in memory!!"}, {"owner": {"reputation": 3751, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470328732, "post_id": 38767994, "comment_id": 64917419, "body": "@ikegami: that should be an asnwer!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3751, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1470329092, "post_id": 38767994, "comment_id": 64917622, "body": "@Fabio Turati, You mean the linked code? it&#39;s specifically for small negative offsets. ysth&#39;s Tie::File snippet was using <code>$line[-10]</code> instead of <code>$line[42]</code> at the time. It&#39;s not a complete answer by far."}, {"owner": {"reputation": 3751, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470331732, "post_id": 38767994, "comment_id": 64919129, "body": "@ikegami To be honest I&#39;m behind a firewall that blocks access to pastebin, so I haven&#39;t seen it. But your description sounded promising, and the explanation that T::F takes more memory than storing the entire file is certainly interesting. That&#39;s why I was asking you to promote your comment(s) to an answer. But... Your call. If you think it is not enough for an answer, fine."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470360552, "post_id": 38767994, "comment_id": 64930767, "body": "@ikegami do you want to add your paste bin code to my answer, or make your own answer with it and whatever you want to take from mine and I&#39;ll delete my answer?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470420108, "post_id": 38767994, "comment_id": 64960811, "body": "@ysth, Incorporate it into your answer if you wish.  I don&#39;t have an answer in me given the lack of clarity of the question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3751, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1470420248, "post_id": 38767994, "comment_id": 64960891, "body": "@Fabio Turati, You can see it <a href=\"http://www.adaelis.com/misc/temp/replace_tenth_last_line.txt\" rel=\"nofollow noreferrer\">here</a> or <a href=\"http://chat.stackoverflow.com/rooms/120269/tiefile\">here</a>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 4, "last_activity_date": 1470322960, "last_edit_date": 1470322960, "creation_date": 1470315408, "answer_id": 38767994, "question_id": 38767284, "link": "https://stackoverflow.com/questions/38767284/which-is-best-method-to-read-or-write-a-particular-line-in-file-in-perl/38767994#38767994", "title": "Which is best method to read or write a particular line in file in perl?", "body": "<p>Your title asks a different question than your body.</p>\n\n<p>To read the last (or nth from last) line from an arbitrarily large file, absolutely do use File::ReadBackwards.</p>\n\n<p>To read or write an arbitrary single line in a file, use Tie::File:</p>\n\n<pre><code>use Tie::File;\ntie my @line, 'Tie::File', 'filename' or die \"unable to open filename: $!\";\nprint \"line 123 is $line[123].\";\n$line[42] = 'abc';\nprint \"line 42 is now abc.\";\n</code></pre>\n\n<p>For large files, this will be significantly more expensive than File::ReadBackwards, because it will need to read through the entire file up to the line you want to modify (or through the entire file, if using a negative index, so if you are doing that, you are better off using File::ReadBackwards and then manually updating the file).</p>\n"}], "owner": {"reputation": 195, "user_id": 6159321, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/92602372d8e9324d16527e5e2a2a63f0?s=128&d=identicon&r=PG&f=1", "display_name": "vaishali", "link": "https://stackoverflow.com/users/6159321/vaishali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1470322960, "creation_date": 1470313499, "question_id": 38767284, "link": "https://stackoverflow.com/questions/38767284/which-is-best-method-to-read-or-write-a-particular-line-in-file-in-perl", "title": "Which is best method to read or write a particular line in file in perl?", "body": "<p>I am trying to read a last line of the file.\nAnd There are many method available to read particular line of file.</p>\n\n<p>first:</p>\n\n<pre><code>  @array=&lt;FILE_HANDLE&gt;;\n    $line=(reverse @array)[0];\n</code></pre>\n\n<p>second: ReadBackwards package </p>\n\n<pre><code>$bw = File::ReadBackwards-&gt;new( 'log_file' ) or\n                        die \"can't read 'log_file' $!\" ;\n $log_line = $bw-&gt;readline;\n</code></pre>\n\n<p>I want to know that In perl which is preferable method, whether using package \nor stored whole file content into the variable .</p>\n"}, {"tags": ["windows", "perl", "shell"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 5, "last_activity_date": 1470318289, "last_edit_date": 1592644375, "creation_date": 1470312471, "answer_id": 38766899, "question_id": 38766418, "link": "https://stackoverflow.com/questions/38766418/how-windows-cmd-transforms-the-command-line-when-running-perl-one-liners/38766899#38766899", "title": "How Windows cmd transforms the command line when running Perl one-liners?", "body": "<p>Who cares? The <a href=\"https://blogs.msdn.microsoft.com/twistylittlepassagesallalike/2011/04/23/everyone-quotes-command-line-arguments-the-wrong-way/\" rel=\"nofollow noreferrer\">exact rules are convoluted and hard to remember</a>. Just avoid the problem by not using double quotes in your Perl one liners. You know you have <code>'</code>, <code>q{}</code> and <code>qq{}</code> available.</p>\n<blockquote>\n<p>All of cmd\u2019s transformations are triggered by the presence of one of the metacharacters <code>(</code>, <code>)</code>, <code>%</code>, <code>!</code>, <code>^</code>, <code>&quot;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&amp;</code>, and <code>|</code>. <code>&quot;</code> is particularly interesting: when cmd is transforming a command line and sees a <code>&quot;</code>, it copies a <code>&quot;</code> to the new command line, then begins copying characters from the old command line to the new one without seeing whether any of these characters is a metacharacter. This copying continues until cmd either reaches the end of the command line, runs into a variable substitution, or sees another <code>&quot;</code>. In the last case, cmd copies a <code>&quot;</code> to the new command line and resumes normal processing. This behavior is almost, but not quite like what CommandLineFromArgvW does with the same character; the difference is that cmd does not know about the <code>\\&quot;</code> sequence and begins interpreting metacharacters earlier than we would expect.</p>\n</blockquote>\n<p>Also:</p>\n<p><code>C:\\&gt; perl -MFile::Spec::Functions=splitdir -MFile::HomeDir -we &quot;print qq{'$_' } for splitdir home&quot;</code></p>\n<p><code>'C:' 'Users' 'sinan'</code></p>\n<p><code>perl -wE &quot;use File::Spec; print \\&quot;'$_' \\&quot; for File::Spec-&gt;splitdir( \\&quot;C:\\\\Users\\\\osiv\\\\\\\\\\&quot; )&quot;</code></p>\n<p><code>'C:' 'Users' 'osiv' ''</code></p>\n<p>which shows that you should omit the trailing directory separator.</p>\n<blockquote>\n<h3>A better method of quoting</h3>\n<p>While the <code>&quot;</code> metacharacter cannot fully protect metacharacters in our command lines against unintended shell interpretation, the <code>^</code> metacharacter can. When cmd transforms a command line and sees a <code>^</code>, it ignores the <code>^</code> character itself and copies the next character to the new command line literally, metacharacter or not. That\u2019s why <code>^</code> works as the line continuation character: it tells cmd to copy a subsequent newline as itself instead of regarding that newline as a command terminator. If we prefix with <code>^</code> every metacharacter in an argument string, cmd will transform that string into the one we mean to use.</p>\n</blockquote>\n<p>Trying to follow that, the best I can come up with is:</p>\n<p><code>perl -wE ^&quot;use File::Spec; print \\^&quot;'$_' \\^&quot; for File::Spec-^&gt;splitdir^(\\^&quot;C:\\\\Users\\\\osiv\\\\\\\\\\^&quot;^) ^&quot;</code></p>\n<p>As I said, avoid <code>&quot;</code> in one-liners, make use of <code>'</code>, <code>q{}</code>, and <code>qq{}</code>.</p>\n"}], "owner": {"reputation": 67, "user_id": 6677819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd31a5abc18a4ff84927da58d8b0e35a?s=128&d=identicon&r=PG&f=1", "display_name": "osiv", "link": "https://stackoverflow.com/users/6677819/osiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 1, "accepted_answer_id": 38766899, "answer_count": 1, "score": 1, "last_activity_date": 1470426401, "creation_date": 1470311019, "last_edit_date": 1470426401, "question_id": 38766418, "link": "https://stackoverflow.com/questions/38766418/how-windows-cmd-transforms-the-command-line-when-running-perl-one-liners", "title": "How Windows cmd transforms the command line when running Perl one-liners?", "body": "<p>I know that Windows shell passes the whole line after an executable name to the executable, and it is task of the executable to parse it.\nFor instance,</p>\n\n<pre><code>C:\\Users\\osiv\\Desktop\\&gt;perl -e \"use File::Spec; print $_.' ' foreach (File::Spec-&gt;splitdir(\\\"C:\\\\Users\\\\osiv\\\\\\\"));\"\n</code></pre>\n\n<p>should pass all characters after 'perl' to perl.exe found in a %PATH% value directory.</p>\n\n<p>Explain me the output</p>\n\n<pre><code>C:\\Users\\osiv\\Desktop\\&gt;perl -e \"use File::Spec; print $_.' ' foreach (File::Spec-&gt;splitdir(\\\"C:\\\\Users\\\\osiv\\\\\\\"));\"\nCan't find string terminator '\"' anywhere before EOF at -e line 1.\n\nC:\\Users\\osiv\\Desktop\\&gt;perl -e \"use File::Spec; print $_.' ' foreach (File::Spec-&gt;splitdir(\\\"C:\\\\Users\\\\osiv\\\\\\\\\"));\"\nCan't find string terminator '\"' anywhere before EOF at -e line 1.\n\nC:\\Users\\osiv\\Desktop\\&gt;perl -e \"use File::Spec; print $_.' ' foreach (File::Spec-&gt;splitdir(\\\"C:\\\\Users\\\\osiv\\\\\\\\\\\"));\"\nC: Users osiv\n</code></pre>\n\n<p>I expected that Perl parses the string passed by Windows shell by looking for strings which should have \" at the start and the end. I escape them by \\\", and expected e.g. <code>\\\"osiv\\\\\\\\\\\"));\"</code> to be parsed as <code>osiv\\\\</code>. But, <code>\\\"osiv\\\\\\\"));\"</code> is not parsed as <code>osiv\\</code>, so how it is actually parsed?</p>\n\n<p><a href=\"https://blogs.msdn.microsoft.com/twistylittlepassagesallalike/2011/04/23/everyone-quotes-command-line-arguments-the-wrong-way/\" rel=\"nofollow\">Explanation of cmd.exe, CreateProcess command line string metacharacters</a></p>\n"}]