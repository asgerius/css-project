[{"tags": ["perl", "dictionary", "syntax-error", "map-function"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1438212420, "post_id": 31712713, "comment_id": 51363459, "body": "Also dupe of <a href=\"http://stackoverflow.com/questions/21032709\">stackoverflow.com/questions/21032709</a>"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 4, "last_activity_date": 1438211824, "creation_date": 1438211824, "answer_id": 31712746, "question_id": 31712713, "link": "https://stackoverflow.com/questions/31712713/syntax-error-using-map-function/31712746#31712746", "title": "Syntax error using map function", "body": "<p><a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\"><code>perldoc -f map</code></a>:</p>\n\n<blockquote>\n  <p><code>{</code> starts both hash references and blocks, so <code>map { ...</code> could be either the start of map BLOCK LIST or map EXPR, LIST. Because Perl doesn't look ahead for the closing <code>}</code> it has to take a guess at which it's dealing with based on what it finds just after the <code>{</code>. Usually it gets it right, but if it doesn't it won't realize something is wrong until it gets to the <code>}</code> and encounters the missing (or unexpected) comma. The syntax error will be reported close to the <code>}</code>, but you'll need to change something near the <code>{</code> such as using a unary <code>+</code> or semicolon to give Perl some help:</p>\n\n<pre><code>    %hash = map {  \"\\L$_\" =&gt; 1  } @array # perl guesses EXPR. wrong\n    %hash = map { +\"\\L$_\" =&gt; 1  } @array # perl guesses BLOCK. right\n    %hash = map {; \"\\L$_\" =&gt; 1  } @array # this also works\n    %hash = map { (\"\\L$_\" =&gt; 1) } @array # as does this\n    %hash = map {  lc($_) =&gt; 1  } @array # and this.\n    %hash = map +( lc($_) =&gt; 1 ), @array # this is EXPR and works!\n\n    %hash = map  ( lc($_), 1 ),   @array # evaluates to (1, @array)\n</code></pre>\n  \n  <p>or to force an anon hash constructor use <code>+{</code>:</p>\n\n<pre><code>    @hashes = map +{ lc($_) =&gt; 1 }, @array # EXPR, so needs\n                                           # comma at end\n</code></pre>\n  \n  <p>to get a list of anonymous hashes each with only one entry apiece.</p>\n</blockquote>\n"}], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "closed_date": 1438212157, "accepted_answer_id": 31712746, "answer_count": 1, "score": 2, "last_activity_date": 1443216326, "creation_date": 1438211616, "last_edit_date": 1443216326, "question_id": 31712713, "link": "https://stackoverflow.com/questions/31712713/syntax-error-using-map-function", "closed_reason": "Duplicate", "title": "Syntax error using map function", "body": "<p>I've encountered an odd syntax error in a Perl program using the <code>map</code> function. I have a simple workaround (adding seemingly unnecessary parentheses), so this isn't critical, but I don't know why Perl reported a syntax error on the original code, or why adding parentheses fixed it.</p>\n\n<p>I wanted to create a hash that maps a series of short strings, each starting with '-', to the value <code>1</code> (basically a set data structure). My first attempt was similar to this:</p>\n\n<pre><code>my %hash = map { \"-$_\"  =&gt; 1 } qw(foo bar);\n</code></pre>\n\n<p>which should, I think, be equivalent to:</p>\n\n<pre><code>my %hash = ( \"-foo\" =&gt; 1, \"-bar\" =&gt; 1 );\n</code></pre>\n\n<p>Perl reported a syntax error. If I replace <code>\"-$_\"</code> by any single- or double-quoted string literal, I get a syntax error. If I replace <code>\"-$_\"</code> by <code>(\"-$_\")</code>, the syntax error goes away, and the code works correctly.</p>\n\n<p>I get similar results with Perl 5.10.1, 5.16.2, and 5.20.0.</p>\n\n<p>Here's a self-contained script that shows the problem (I've dropped the <code>-</code> prefix because it doesn't seem to be relevant):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy %h0 = map {   $_   =&gt; 1 } qw(foo bar);  # ok\nmy %h1 = map { (\"$_\") =&gt; 1 } qw(foo bar);  # ok\nmy %h2 = map {  \"$_\"  =&gt; 1 } qw(foo bar);  # line 8, syntax error\nmy %h3 = map { 'FOO'  =&gt; 1 } qw(foo bar);  # line 9, syntax error\nmy %h4 = map { \"FOO\"  =&gt; 1 } qw(foo bar);  # line 10, syntax error\n</code></pre>\n\n<p>and the output when I try to run it using Perl 5.20.0:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>syntax error at map-bug line 8, near \"} qw(foo bar)\"\nsyntax error at map-bug line 9, near \"} qw(foo bar)\"\nsyntax error at map-bug line 10, near \"} qw(foo bar)\"\nExecution of map-bug aborted due to compilation errors.\n</code></pre>\n\n<p>(With Perl 5.10.1 and 5.16.2, it also complains about \"Not enough arguments for map\" on line 8.)</p>\n\n<p>I've confirmed that each of the three syntax errors still occurs in isolation when the other two lines are commented out, so lines 9 and 10 are not cascade errors from line 8.</p>\n\n<p>Is this a bug in Perl, or am I missing some subtlety of the Perl syntax, or something else?</p>\n"}, {"tags": ["perl", "perlapp"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1438223721, "last_edit_date": 1495542313, "creation_date": 1438223721, "answer_id": 31714302, "question_id": 31712495, "link": "https://stackoverflow.com/questions/31712495/unpacking-from-perlapp-executable/31714302#31714302", "title": "Unpacking from PerlApp executable", "body": "<p>It is possible, but probably not easy.\nSee: </p>\n\n<p><a href=\"https://community.activestate.com/faq/code-obfuscation#comments\" rel=\"nofollow noreferrer\">Active State \"Will people be able to decompile the executables I've made with PerlApp?\"</a></p>\n\n<p>You will need to get familiar with decompilers:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/273145/is-it-possible-to-decompile-a-windows-exe-or-at-least-view-the-assembly\">Is it possible to \"decompile\" a Windows .exe?</a></p>\n\n<p>Consider using version control from now on for all of your work.  I recommend Git.</p>\n"}], "owner": {"reputation": 485, "user_id": 4108542, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Qflfs.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/4108542/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1438223721, "creation_date": 1438210282, "question_id": 31712495, "link": "https://stackoverflow.com/questions/31712495/unpacking-from-perlapp-executable", "title": "Unpacking from PerlApp executable", "body": "<p>I create exe with PerlApp 9.4 but unfortunately I lost .pl source file. How can I restore it from exe?</p>\n"}, {"tags": ["perl", "ubuntu", "makefile", "cpan"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1438209514, "post_id": 31712253, "comment_id": 51362655, "body": "<a href=\"https://metacpan.org/pod/install\" rel=\"nofollow noreferrer\"><code>cpan install</code></a> :-/"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 6, "creation_date": 1438209875, "post_id": 31712253, "comment_id": 51362767, "body": "<a href=\"http://www.ivan.fomichev.name/2009/11/cannot-allocate-memory-error-when.html\" rel=\"nofollow noreferrer\">ivan.fomichev.name/2009/11/&hellip;</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 8, "creation_date": 1438210056, "post_id": 31712253, "comment_id": 51362832, "body": "@choroba Alternatively, <a href=\"https://metacpan.org/pod/App::cpanminus#INSTALLATION\" rel=\"nofollow noreferrer\">cpanm</a> may use less memory than cpan."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1438210088, "post_id": 31712253, "comment_id": 51362844, "body": "@choroba I have a VPS with 256 MB memory and I don&#39;t run into this problem. Hmmmm ..."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1438222018, "post_id": 31712253, "comment_id": 51365717, "body": "How much memory do you have?  How much is being used by other programs?  Web browsers can be a big memory hog...  Try closing everything else and retrying."}, {"owner": {"reputation": 2626, "user_id": 2317381, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8cdbf09138cf04471950f1089e9a1a0a?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2317381/ricky"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1438240887, "post_id": 31712253, "comment_id": 51372138, "body": "Thanks @choroba. I ended up installing cpanm and this worked great. I&#39;m not sure why the original cpan did not."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438243683, "post_id": 31712253, "comment_id": 51373782, "body": "How often did you try? Could be your machine just had a hickup and it worked in cpanm because the lack of memory was over."}, {"owner": {"reputation": 2626, "user_id": 2317381, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8cdbf09138cf04471950f1089e9a1a0a?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2317381/ricky"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438271756, "post_id": 31712253, "comment_id": 51392932, "body": "@simbabque I actually rebooted my machine and tried again, to no avail. That&#39;s when I installed cpanm and it worked after."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438592629, "post_id": 31712253, "comment_id": 51495836, "body": "@Ricky can you please post your own answer and accept that, so the question doesn&#39;t show up as open any more and future visitors see the solution. Even if it&#39;s not really clear why it worked. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1440948654, "post_id": 32295983, "comment_id": 52472814, "body": "cpanp is likely to have the same problem."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1440957255, "post_id": 32295983, "comment_id": 52475383, "body": "&quot;<i>may be</i> another alternative&quot; should give you a hint to try cpanm first."}], "tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 8, "last_activity_date": 1440933624, "creation_date": 1440933624, "answer_id": 32295983, "question_id": 31712253, "link": "https://stackoverflow.com/questions/31712253/cpan1-fails-with-cannot-allocate-memory/32295983#32295983", "title": "cpan(1) fails with &#39;Cannot allocate memory&#39;", "body": "<p>Answering so it is no longer unanswered.\nThe OP solved his problem by using <a href=\"http://search.cpan.org/~miyagawa/App-cpanminus-1.7039/lib/App/cpanminus.pm\" rel=\"noreferrer\">cpanm</a>.</p>\n\n<p>If you have problems installing modules, <a href=\"http://search.cpan.org/~bingos/CPANPLUS-0.9154/lib/CPANPLUS.pm\" rel=\"noreferrer\">cpanp</a> may be another alternative to cpan you can look at.</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 5, "last_activity_date": 1440948984, "creation_date": 1440948984, "answer_id": 32298246, "question_id": 31712253, "link": "https://stackoverflow.com/questions/31712253/cpan1-fails-with-cannot-allocate-memory/32298246#32298246", "title": "cpan(1) fails with &#39;Cannot allocate memory&#39;", "body": "<p>If you're using <em>cpan(1)</em> on a system with limited memory, such as a bottom-level hosting account, it's likely that CPAN.pm can't fit the module index in memory or takes up most of the memory you do have. CPAN the repository is huge now, so what used to be a small index file is pretty large. Indeed, it's the most annoying part of the process for me since it takes a noticeably long time to download and load.</p>\n\n<p>cpanminus (cpanm) does things different by using the MetaCPAN API to look up the info it needs. It has a really small memory footprint.</p>\n\n<p>Or, you could be running something else at the same time that's taking up memory.</p>\n"}, {"tags": [], "owner": {"reputation": 412, "user_id": 375363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9236c3cb1570ede43a7c4ad25dd80b5?s=128&d=identicon&r=PG", "display_name": "Richard Wheeldon", "link": "https://stackoverflow.com/users/375363/richard-wheeldon"}, "is_accepted": false, "score": 3, "last_activity_date": 1520933230, "creation_date": 1520933230, "answer_id": 49252486, "question_id": 31712253, "link": "https://stackoverflow.com/questions/31712253/cpan1-fails-with-cannot-allocate-memory/49252486#49252486", "title": "cpan(1) fails with &#39;Cannot allocate memory&#39;", "body": "<p>I had the same problem recently on a box which had no swap partition. Adding a small swapfile (dd /dev/zero to new file, mkswap on the file, swapon) fixed the problem even though cpan doesn't appear to be using any significant amount of memory or swap.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 883996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36d0100905b9ff9e568318ad66c995e5?s=128&d=identicon&r=PG", "display_name": "Sabin Cheruvattil", "link": "https://stackoverflow.com/users/883996/sabin-cheruvattil"}, "is_accepted": false, "score": 0, "last_activity_date": 1564046802, "creation_date": 1564046802, "answer_id": 57198598, "question_id": 31712253, "link": "https://stackoverflow.com/questions/31712253/cpan1-fails-with-cannot-allocate-memory/57198598#57198598", "title": "cpan(1) fails with &#39;Cannot allocate memory&#39;", "body": "<p>I too have faced the same. If you are using Virtual Machine, increase base memory[RAM]. CPAN install should work.</p>\n"}], "owner": {"reputation": 2626, "user_id": 2317381, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8cdbf09138cf04471950f1089e9a1a0a?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2317381/ricky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5470, "favorite_count": 0, "answer_count": 4, "score": 9, "last_activity_date": 1601639971, "creation_date": 1438208869, "last_edit_date": 1440948649, "question_id": 31712253, "link": "https://stackoverflow.com/questions/31712253/cpan1-fails-with-cannot-allocate-memory", "title": "cpan(1) fails with &#39;Cannot allocate memory&#39;", "body": "<p>I'm getting the following error 'Cannot allocate memory' when attempting to install the Moose package for Perl.</p>\n\n<p>Can anyone advise what is wrong here?</p>\n\n<pre><code>ricky@rickyp:~$ sudo cpan install Moose\nReading '/home/ricky/.cpan/Metadata'\n  Database was generated on Wed, 29 Jul 2015 21:41:02 GMT\nRunning install for module 'Moose'\nRunning make for E/ET/ETHER/Moose-2.1405.tar.gz\nChecksum for /home/ricky/.cpan/sources/authors/id/E/ET/ETHER/Moose-2.1405.tar.gz ok\nUncompressed /home/ricky/.cpan/sources/authors/id/E/ET/ETHER/Moose-2.1405.tar.gz successfully\nUsing Tar:/bin/tar xf \"Moose-2.1405.tar\":\nCouldn't untar Moose-2.1405.tar: 'Cannot allocate memory'\nPackage seems to come without Makefile.PL.\n  (The test -f \"/home/ricky/.cpan/build/ETHER-Al52av/Makefile.PL\" returned false.)\n  Writing one on our own (setting NAME to Moose)\n  Had problems unarchiving. Please build manually\nRunning make test\n  Make had some problems, won't test\nRunning make install\n  Make had some problems, won't install\nricky@rickyp:~$\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438206813, "post_id": 31711771, "comment_id": 51361592, "body": "Works fine here: <code>perl -E &#39;$k=9; @clump=(); $n=4**$k; for($i=0;$i&lt;$n;$i++){ push(@clump,0)}&#39;</code>"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1438207121, "post_id": 31711771, "comment_id": 51361722, "body": "Works for me, as well.  Does <code>@clump = (0) x 4 ** $k</code> work for you?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1438208136, "post_id": 31711771, "comment_id": 51362147, "body": "Out of curiosity, what are you trying to do with 4^9 zeros?"}, {"owner": {"reputation": 47, "user_id": 5171152, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KzijGI9cID0/AAAAAAAAAAI/AAAAAAAAAKo/lQxrSVO4xQ0/photo.jpg?sz=128", "display_name": "Shubhra Agrawal", "link": "https://stackoverflow.com/users/5171152/shubhra-agrawal"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1442597126, "post_id": 31711771, "comment_id": 53161830, "body": "@Jim Davis -- @clump=(0)x 4**$k worked! Thank you so much."}, {"owner": {"reputation": 47, "user_id": 5171152, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KzijGI9cID0/AAAAAAAAAAI/AAAAAAAAAKo/lQxrSVO4xQ0/photo.jpg?sz=128", "display_name": "Shubhra Agrawal", "link": "https://stackoverflow.com/users/5171152/shubhra-agrawal"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1442597690, "post_id": 31711771, "comment_id": 53162138, "body": "@ThisSuitIsBlackNot I&#39;m writing a clump finding program using frequency arrays to find the ori site in Ecoli genome. For that I need to find the most frequent 9-nucleotide sequences in a genome file. The easiest way was to convert all possible sequences into corresponding array indices and +1 whenever the program encounters the sequence."}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1438213036, "post_id": 31712132, "comment_id": 51363604, "body": "Of course, rather than flushing after every a couple of characters, one might want to just use <code>print &quot;\\n&quot;;</code> after the loop, or <code>use IO::Handle; ... STDOUT-&gt;flush</code>."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 9, "last_activity_date": 1438208702, "last_edit_date": 1438208702, "creation_date": 1438208196, "answer_id": 31712132, "question_id": 31711771, "link": "https://stackoverflow.com/questions/31711771/perl-array-size-is-smaller-than-it-should-be/31712132#31712132", "title": "perl array size is smaller than it should be", "body": "<p><a href=\"http://perl.plover.com/FAQs/Buffering.html\" rel=\"noreferrer\">Suffering from buffering</a>? </p>\n\n<p>When I add a <code>sleep 1000</code> to the end of your program, stream the output to a file, and read the tail of the file, I also observe the last numbers to be printed are 261632 and 1952392. The remaining output is stuck in the output buffer, waiting for some event (the buffer filling up, the filehandle closing, the program exiting, or an explicit flush call) to flush the output.</p>\n\n<p>The buffering can be changed by one of the following statements early in your program</p>\n\n<p><a href=\"http://metacpan.org/pod/perlvar#OUTPUT_AUTOFLUSH\" rel=\"noreferrer\"><code>$|</code></a><code>= 1;</code><br>\n<code>STDOUT-&gt;autoflush(1);</code></p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 5171152, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KzijGI9cID0/AAAAAAAAAAI/AAAAAAAAAKo/lQxrSVO4xQ0/photo.jpg?sz=128", "display_name": "Shubhra Agrawal", "link": "https://stackoverflow.com/users/5171152/shubhra-agrawal"}, "edited": false, "score": 0, "creation_date": 1442597725, "post_id": 31712372, "comment_id": 53162162, "body": "Your first suggestion worked. Thank you for your help :)"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1438209652, "creation_date": 1438209652, "answer_id": 31712372, "question_id": 31711771, "link": "https://stackoverflow.com/questions/31711771/perl-array-size-is-smaller-than-it-should-be/31712372#31712372", "title": "perl array size is smaller than it should be", "body": "<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $k = 9;\nmy $n = 4 ** $k;\nmy @clump = (0) x $n;\n\nprint join(' ', @clump), \"\\n\";\nprintf \"%d elements in \\@clump\\n\", scalar @clump;\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $k = 9;\nmy $n = 4 ** $k;\nmy @clump;\n$#clump = $n - 1;\n$_ = 0 for @clump;\n\nprint join(' ', @clump), \"\\n\";\nprintf \"%d elements in \\@clump\\n\", scalar @clump;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>... \n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n262144 elements in @clump</pre>\n\n<p>Also, note that initialization with <code>0</code> is almost never required in Perl. Why do you need this?</p>\n"}], "owner": {"reputation": 47, "user_id": 5171152, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KzijGI9cID0/AAAAAAAAAAI/AAAAAAAAAKo/lQxrSVO4xQ0/photo.jpg?sz=128", "display_name": "Shubhra Agrawal", "link": "https://stackoverflow.com/users/5171152/shubhra-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 31712372, "answer_count": 2, "score": 1, "last_activity_date": 1438209652, "creation_date": 1438206412, "question_id": 31711771, "link": "https://stackoverflow.com/questions/31711771/perl-array-size-is-smaller-than-it-should-be", "title": "perl array size is smaller than it should be", "body": "<p>I want to initialize 4^9 (=262144) indices of @clump as 0. So I wrote this:</p>\n\n<pre><code>my $k=9;\nmy @clump=();\nmy $n=4**$k;\nfor(my $i=0;$i&lt;$n;$i++){\n   push(@clump,0);\n   print \"$i \";\n}\n</code></pre>\n\n<p>But it keeps freezing at 261632! I then tried making $n=5^9 (=1953125) and my code stopped at 1952392. So its definitely not a memory issue. This should be simple enough but I can't figure out what's wrong with my code. Help a newbie?</p>\n"}, {"tags": ["regex", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1438199946, "post_id": 31709824, "comment_id": 51357981, "body": "What nesting is there (if at all)?"}], "answers": [{"tags": [], "owner": {"reputation": 434, "user_id": 5149741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f387e2de222199c33e049f88eb3649bc?s=128&d=identicon&r=PG&f=1", "display_name": "zolo", "link": "https://stackoverflow.com/users/5149741/zolo"}, "is_accepted": false, "score": 0, "last_activity_date": 1438205809, "last_edit_date": 1438205809, "creation_date": 1438201198, "answer_id": 31710342, "question_id": 31709824, "link": "https://stackoverflow.com/questions/31709824/found-a-line-word-given-as-a-pattern-another-line-word-awk-perl-sed-grep/31710342#31710342", "title": "Found a line-word given as a pattern another line-word, awk, perl, sed, grep?", "body": "<p>Solution with sed. (yes, it is ugly, but works)</p>\n\n<pre><code>(read -p \"Search term: \" servername;tac list_of_servertree.txt |sed -n \"/$servername$/,/^[a-z]/p\"|tr '\\n' ' ';echo)|sed -e 's/\\([^\\-]\\)\\ \\([a-zA-Z]\\)/\\1\\n\\2/1' -e 's/\\(^\\|\\ \\)\\(--\\ \\{0,1\\}[a-zA-Z]\\)/\\n\\2/1' |sed 's/^\\(-\\+[^\\-]\\+\\).*/\\1/g'|grep -v '^$'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438202177, "post_id": 31710399, "comment_id": 51359227, "body": "For uncuddled elses the practice is to let the closing block brace <code>}</code> be vertically aligned with the following <code>elsif</code>.. see <a href=\"https://metacpan.org/pod/distribution/Perl-Tidy/docs/tutorial.pod\" rel=\"nofollow noreferrer\"><code>Perl-Tidy</code></a> and <a href=\"https://metacpan.org/pod/perlstyle\" rel=\"nofollow noreferrer\"><code>perlstyle</code></a>.."}, {"owner": {"reputation": 417, "user_id": 168161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db1c27523043366c2ba1c9be1fa3fa23?s=128&d=identicon&r=PG", "display_name": "Dave Jacoby", "link": "https://stackoverflow.com/users/168161/dave-jacoby"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1438202395, "post_id": 31710399, "comment_id": 51359358, "body": "I set my perltidyrc to give me this result. It may not be perlstyle, but there&#39;s more than one way to do it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1438202924, "post_id": 31710399, "comment_id": 51359648, "body": "@VarLogRant, But not all of them good. This is the worse style I&#39;ve seen; it&#39;s completely different than anyone else&#39;s. That makes your code extremely hard to read."}, {"owner": {"reputation": 417, "user_id": 168161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db1c27523043366c2ba1c9be1fa3fa23?s=128&d=identicon&r=PG", "display_name": "Dave Jacoby", "link": "https://stackoverflow.com/users/168161/dave-jacoby"}, "edited": false, "score": 0, "creation_date": 1438203709, "post_id": 31710399, "comment_id": 51360127, "body": "Not completely different from Ratliff. <a href=\"https://en.wikipedia.org/wiki/Indent_style#Ratliff_style\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Indent_style#Ratliff_style</a>"}], "tags": [], "owner": {"reputation": 417, "user_id": 168161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db1c27523043366c2ba1c9be1fa3fa23?s=128&d=identicon&r=PG", "display_name": "Dave Jacoby", "link": "https://stackoverflow.com/users/168161/dave-jacoby"}, "is_accepted": false, "score": 3, "last_activity_date": 1438202872, "last_edit_date": 1438202872, "creation_date": 1438201425, "answer_id": 31710399, "question_id": 31709824, "link": "https://stackoverflow.com/questions/31709824/found-a-line-word-given-as-a-pattern-another-line-word-awk-perl-sed-grep/31710399#31710399", "title": "Found a line-word given as a pattern another line-word, awk, perl, sed, grep?", "body": "<p><code>@ARGV</code> is the arguments given, so, in your case of <code>./find_parent_server.pl container10</code>, <code>container10</code> is found in <code>$ARGV[0]</code>. <code>shift</code>ing it off allows the use of the magical <code>&lt;&gt;</code>, which reads from STDIN or provided file names.</p>\n\n<pre><code>use feature qw{ say } ;\nuse strict ;\nuse warnings ;\n\nmy $input = shift\n    or die(\"usage\\n\") ;\n\nmy $host = '' ;\nmy $virt = '' ;\nwhile (&lt;&gt;) {\n    chomp ;\n    elsif (m{([^-\\s]\\S*)}) {\n        $host = $1;\n        next if $host ne $input;\n\n        say $host ;\n        }\n    elsif (m{^--\\s*([^-\\s]\\S*)}) {\n        $virt = $1;\n        next if $virt ne $input;\n\n        say $host ;\n        say \"-- $virt\" ;\n        }\n    elsif (m{^----\\s*([^-\\s]\\S*)}) {\n        my $container = $1;\n        next if $container ne $input;\n\n        say $host ;\n        say \"-- $virt\" ;\n        say \"---- $container\" ;\n        }\n    }\n</code></pre>\n\n<p>If your names have spaces in them, replace <code>[^-\\s]\\S*</code> with <code>[^-\\s].*</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1438210322, "last_edit_date": 1438210322, "creation_date": 1438203228, "answer_id": 31710913, "question_id": 31709824, "link": "https://stackoverflow.com/questions/31709824/found-a-line-word-given-as-a-pattern-another-line-word-awk-perl-sed-grep/31710913#31710913", "title": "Found a line-word given as a pattern another line-word, awk, perl, sed, grep?", "body": "<p>Storing it in hash in tree structure and then printing it according to your needs. Be careful about <code>--</code> and <code>----</code> i.e you shouldn't put extra spaces there.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy %hash = ();\nmy $key1;\nmy $key2;\n\nwhile ( &lt;DATA&gt; ) {\n\n    chomp;\n\n    if ( /^[a-z]+/ ) {\n        $key1 = $_;\n        $hash{$key1} = {};\n    }\n\n    if ( /^--[a-z]+/ ) {\n        $key2 = $_;\n        $key2 =~ s/--//g;\n        $hash{$key1}{$key2} = [];\n    }\n\n    if ( /^---- [a-z]+/ ) {\n        $_ =~ s/---- //g;\n        push( @{ $hash{$key1}{$key2} }, $_ );\n    }\n}\n\nmy $server = $ARGV[0];\nmy $flag   = 0;\n\nforeach my $key ( keys %hash ) {\n\n    foreach my $nkey ( keys %{ $hash{$key} } ) {\n\n        if ( $server eq $nkey ) {\n            $flag = 1;\n            print \"$key \\n--$server \\n\";\n            last;\n        }\n        elsif ( grep { $server eq $_ } @{ $hash{$key}{$nkey} } ) {\n            $flag = 1;\n            print \"$key \\n--$nkey \\n---- $server \\n\";\n            last;\n        }\n    }\n}\n\nprint \"Oops!! No Such server \\n\" if ( $flag == 0 );\n\n__DATA__\nmainserver1\n--virtualserver1\n---- container1\n---- container2\n--virtualserver2\n--virtualserver3\n---- container3\n---- container4\n---- container5\n--virtualserver4\n---- container6\n---- container7\n---- container8\n---- container9\n---- container10\n---- container11\n---- container12\n---- container13\nmainserver2\nmainserver3\nmainserver4\n--virtualserver5\n---- container14\n---- container15\n--virtualserver6\n--virtualserver7\nmainserver5\nmainserver6\n</code></pre>\n\n<p>Use it like </p>\n\n<pre><code>perl script.pl container10\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>mainserver1 \n--virtualserver4 \n---- container10\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 434, "user_id": 5149741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f387e2de222199c33e049f88eb3649bc?s=128&d=identicon&r=PG&f=1", "display_name": "zolo", "link": "https://stackoverflow.com/users/5149741/zolo"}, "edited": false, "score": 0, "creation_date": 1438207409, "post_id": 31711365, "comment_id": 51361855, "body": "Could you explain your regexp to me? I saw such &quot;($item)()()|&quot; before however I did not understand yet how it should work or how to combine these together. Anyway nice solution!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438207646, "post_id": 31711365, "comment_id": 51361944, "body": "Are you proposing that as a real solution?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 2, "last_activity_date": 1438204860, "creation_date": 1438204860, "answer_id": 31711365, "question_id": 31709824, "link": "https://stackoverflow.com/questions/31709824/found-a-line-word-given-as-a-pattern-another-line-word-awk-perl-sed-grep/31711365#31711365", "title": "Found a line-word given as a pattern another line-word, awk, perl, sed, grep?", "body": "<p>Could probably do it with a regex -  </p>\n\n<pre><code> # (?ms)(?|^($item)()()|^(\\w+)(?:(?!^\\w).)*?^(--\\h*$item)()|^(\\w+)(?:(?!^\\w).)*^(--\\h*\\w+)(?:(?!^\\w).)*?^(----\\h*$item))\n\n (?ms)\n (?|\n      ^ \n      ( $item )                     # (1)\n      ( )                           # (2)\n      ( )                           # (3)\n   |  \n      ^ \n      ( \\w+ )                       # (1)\n      (?:\n           (?! ^ \\w )\n           . \n      )*?\n      ^  \n      ( -- \\h* $item )              # (2)\n      ( )                           # (3)\n   |  \n      ^ \n      ( \\w+ )                       # (1)\n      (?:\n           (?! ^ \\w )\n           . \n      )*\n      ^  \n      ( -- \\h* \\w+ )                # (2)\n      (?:\n           (?! ^ \\w )\n           . \n      )*?\n      ^  \n      ( ---- \\h* $item )            # (3)\n )\n</code></pre>\n\n<p>Perl snippet:  </p>\n\n<pre><code>use strict;\nuse warnings;\n\n$/ = undef;\nmy $servers = &lt;DATA&gt;;\n\nmy @ary = ( 'container10', 'virtualserver4', 'mainserver1');\n\nforeach my $item ( @ary )\n{\n    if ( $servers =~ /(?ms)(?|^($item)()()|^(\\w+)(?:(?!^\\w).)*?^(--\\h*$item)()|^(\\w+)(?:(?!^\\w).)*^(--\\h*\\w+)(?:(?!^\\w).)*?^(----\\h*$item))/ )\n    {\n        print \"Found '$item' :\\n\";\n        print \"$1\\n\" if (length($1));\n        print \"$2\\n\" if (length($2));\n        print \"$3\\n\" if (length($3));\n        print \"\\n\";\n    }\n}\n\n\n__DATA__\n\nmainserver1\n--virtualserver1\n---- container1\n---- container2\n--virtualserver2\n--virtualserver3\n---- container3\n---- container4\n---- container5\n-- virtualserver4\n---- container6\n---- container7\n---- container8\n---- container9\n---- container10\n---- container11\n---- container12\n---- container13\nmainserver2\nmainserver3\nmainserver4\n--virtualserver5\n---- container14\n---- container15\n--virtualserver6\n--virtualserver7\nmainserver5\nmainserver6\n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code>Found 'container10' :\nmainserver1\n-- virtualserver4\n---- container10\n\nFound 'virtualserver4' :\nmainserver1\n-- virtualserver4\n\nFound 'mainserver1' :\nmainserver1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 1686910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5bc2324bca0165f724dac295c7689f?s=128&d=identicon&r=PG", "display_name": "harguer", "link": "https://stackoverflow.com/users/1686910/harguer"}, "edited": false, "score": 0, "creation_date": 1438273478, "post_id": 31711986, "comment_id": 51394061, "body": "Thank you man, it works pretty good, I dont have enogh knowladge in perl to do something like that. I was trying with bash/sh but it is so dificult. Need to learn perl but I heard it is the devil hehe."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33, "user_id": 1686910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5bc2324bca0165f724dac295c7689f?s=128&d=identicon&r=PG", "display_name": "harguer", "link": "https://stackoverflow.com/users/1686910/harguer"}, "edited": false, "score": 0, "creation_date": 1438274035, "post_id": 31711986, "comment_id": 51394335, "body": "@user1686910: Don&#39;t listen to them. It was the Big New Thing twenty years ago, and it&#39;s got many times better"}, {"owner": {"reputation": 33, "user_id": 1686910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5bc2324bca0165f724dac295c7689f?s=128&d=identicon&r=PG", "display_name": "harguer", "link": "https://stackoverflow.com/users/1686910/harguer"}, "edited": false, "score": 0, "creation_date": 1438274685, "post_id": 31711986, "comment_id": 51394709, "body": "k, got you, I will try it, but maybe will post more and more doubts/question here haha. Thanks again for the help!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1438209495, "last_edit_date": 1438209495, "creation_date": 1438207406, "answer_id": 31711986, "question_id": 31709824, "link": "https://stackoverflow.com/questions/31709824/found-a-line-word-given-as-a-pattern-another-line-word-awk-perl-sed-grep/31711986#31711986", "title": "Found a line-word given as a pattern another line-word, awk, perl, sed, grep?", "body": "<h3>Update</h3>\n\n<p>Here's a program that answers your question directly</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $wanted = shift or die &lt;&lt;__USAGE__;\nUsage:\n    $0 &lt;server name&gt;\n\n__USAGE__\n\nmy @ancestry;\n\nopen my $fh, '&lt;', 'servers.txt' or die $!;\n\nmy $found;\n\nwhile ( &lt;$fh&gt; ) {\n\n  next unless / (-*) \\s* (\\S+) /x;\n  my $index = length($1) / 2;\n  $ancestry[$#ancestry = $index] = $2;\n\n  if ( $2 eq $wanted ) {\n    if ( @ancestry == 1 ) {\n      printf \"%s is a Physical server\\n\", $2;\n    }\n    else {\n      printf \"%s %s\\n\", '--' x $_, $ancestry[$_] for 0 .. $#ancestry;\n    }\n    ++$found;\n    last;\n  }\n}\n\nprintf \"Server %s is unknown\\n\", $wanted unless $found;\n</code></pre>\n\n<h2>output</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;find_parent_server container10\n mainserver1\n-- virtualserver4\n---- container10\n\n&gt;find_parent_server virtualserver4\n mainserver1\n-- virtualserver4\n\n&gt;find_parent_server mainserver1\nmainserver1 is a Physical server\n\n&gt;find_parent_server container16\nServer container16 is unknown\n</code></pre>\n\n<hr>\n\n<h3>Original</h3>\n\n<p>Here's a way to build a hash that relates each node to its parent using your own data. It expects the server file as a parameter on the command line. If you need any help to use the resulting hash then please say so</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ( @ancestry, %parents );\n\nwhile ( &lt;&gt; ) {\n  next unless / (-*) \\s* (\\S+) /x;\n  my $index = length($1) / 2;\n  $ancestry[$#ancestry = $index] = $2;\n  $parents{$2} = $index ? $ancestry[-2] : 'NONE';\n}\n\nuse Data::Dump;\ndd \\%parents\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  container1     =&gt; \"virtualserver1\",\n  container10    =&gt; \"virtualserver4\",\n  container11    =&gt; \"virtualserver4\",\n  container12    =&gt; \"virtualserver4\",\n  container13    =&gt; \"virtualserver4\",\n  container14    =&gt; \"virtualserver5\",\n  container15    =&gt; \"virtualserver5\",\n  container2     =&gt; \"virtualserver1\",\n  container3     =&gt; \"virtualserver3\",\n  container4     =&gt; \"virtualserver3\",\n  container5     =&gt; \"virtualserver3\",\n  container6     =&gt; \"virtualserver4\",\n  container7     =&gt; \"virtualserver4\",\n  container8     =&gt; \"virtualserver4\",\n  container9     =&gt; \"virtualserver4\",\n  mainserver1    =&gt; \"NONE\",\n  mainserver2    =&gt; \"NONE\",\n  mainserver3    =&gt; \"NONE\",\n  mainserver4    =&gt; \"NONE\",\n  mainserver5    =&gt; \"NONE\",\n  mainserver6    =&gt; \"NONE\",\n  virtualserver1 =&gt; \"mainserver1\",\n  virtualserver2 =&gt; \"mainserver1\",\n  virtualserver3 =&gt; \"mainserver1\",\n  virtualserver4 =&gt; \"mainserver1\",\n  virtualserver5 =&gt; \"mainserver4\",\n  virtualserver6 =&gt; \"mainserver4\",\n  virtualserver7 =&gt; \"mainserver4\",\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1438216867, "creation_date": 1438216867, "answer_id": 31713465, "question_id": 31709824, "link": "https://stackoverflow.com/questions/31709824/found-a-line-word-given-as-a-pattern-another-line-word-awk-perl-sed-grep/31713465#31713465", "title": "Found a line-word given as a pattern another line-word, awk, perl, sed, grep?", "body": "<p>Inspired by @sln's regex solution.</p>\n\n<pre><code>T=container10 perl -0777 -ne \n   'print/.*(^\\w\\S+.)(?:.*^(--\\w\\S+.).*?^(---- )|.*?^(--))($ENV{T}\\b.)/ms' server.list\n</code></pre>\n\n<p>Capture groups correspond to the input you want. Greedy <code>.*</code> expressions take up all the input you don't want, with a non-greedy <code>.*?</code> just before your target expression.</p>\n"}], "owner": {"reputation": 33, "user_id": 1686910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5bc2324bca0165f724dac295c7689f?s=128&d=identicon&r=PG", "display_name": "harguer", "link": "https://stackoverflow.com/users/1686910/harguer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 31711986, "answer_count": 6, "score": 2, "last_activity_date": 1438244970, "creation_date": 1438199343, "last_edit_date": 1438244970, "question_id": 31709824, "link": "https://stackoverflow.com/questions/31709824/found-a-line-word-given-as-a-pattern-another-line-word-awk-perl-sed-grep", "title": "Found a line-word given as a pattern another line-word, awk, perl, sed, grep?", "body": "<p>Good day.</p>\n\n<p>Sorry for the title of this question, but it's difficult for me explain this.</p>\n\n<p>I have a file with something like this (hundred of servers)</p>\n\n<pre><code>mainserver1\n--virtualserver1\n---- container1\n---- container2\n--virtualserver2\n--virtualserver3\n---- container3\n---- container4\n---- container5\n-- virtualserver4\n---- container6\n---- container7\n---- container8\n---- container9\n---- container10\n---- container11\n---- container12\n---- container13\nmainserver2\nmainserver3\nmainserver4\n--virtualserver5\n---- container14\n---- container15\n--virtualserver6\n--virtualserver7\nmainserver5\nmainserver6\n</code></pre>\n\n<p>It means I have:</p>\n\n<pre><code>physicals servers\n--virtual servers running on the physcal servers\n---- containers (zones/dockers) running on virtual servers\n</code></pre>\n\n<p>Names can be different, I'm taking as a guide \"--\", \"----\" and physical hosts that start with [a-z].</p>\n\n<p>and as you can notice there is no space between \"--virtualserverx\" and there is one in \"---- continerx\"</p>\n\n<p>I want to find for some server and get the parent server.</p>\n\n<p><strong>Output expected</strong></p>\n\n<pre><code>./find_parent_server.sh container10\nmainserver1\n--virtualserver4\n---- container10\n\n./find_parent_server.sh virtualserver4\nmainserver1\n\n./find_parent_server.sh mainserver1\nmainserver1 is a Physical server (i think i can manage this)\n</code></pre>\n\n<p>Is it possible to do it?</p>\n\n<p>I was trying with grep and then some with perl, but not working as I expected, but better than nothing.</p>\n\n<pre><code>tac allservers | perl -lne 'print if /container10/ .. /^[a-z]/'\n---- container10\n---- container9\n---- container8\n---- container7\n---- container6\n-- virtualserver4\n---- container5\n---- container4\n---- container3\n--virtualserver3\n--virtualserver2\n---- container2\n---- container1\n--virtualserver1\nmainserver1\n</code></pre>\n\n<p>Some light will be appreciated, thanks in advance!</p>\n"}, {"tags": ["php", "mysql", "perl", "solr"], "answers": [{"tags": [], "owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "is_accepted": false, "score": 1, "last_activity_date": 1438267338, "creation_date": 1438267338, "answer_id": 31726893, "question_id": 31708060, "link": "https://stackoverflow.com/questions/31708060/way-to-add-multiple-documents-to-solr-v5-from-mysql-results-in-php/31726893#31726893", "title": "Way to add multiple documents to Solr V5 from Mysql results in PHP", "body": "<p>You're linking to the documentation for <code>addDocument-&gt;s&lt;-</code> while calling <code>addDocument</code> (without the plural s at the end).</p>\n\n<p>Use the correct method (<code>addDocuments</code>) and the documentation will be correct.</p>\n"}], "owner": {"reputation": 3982, "user_id": 2598292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/317d3c3e01a1804d630e3cdca783c272?s=128&d=identicon&r=PG&f=1", "display_name": "RedGiant", "link": "https://stackoverflow.com/users/2598292/redgiant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438267338, "creation_date": 1438193445, "question_id": 31708060, "link": "https://stackoverflow.com/questions/31708060/way-to-add-multiple-documents-to-solr-v5-from-mysql-results-in-php", "title": "Way to add multiple documents to Solr V5 from Mysql results in PHP", "body": "<p>I just followed the example <a href=\"http://php.net/manual/ro/solrclient.adddocuments.php\" rel=\"nofollow\">on this page</a> as to how to add multiple documents from a database using Perl Solr extension.</p>\n\n<p>Example Code:</p>\n\n<pre><code>$users = $dbh-&gt;prepare($sql);\n\n$users-&gt;execute();\n\n$result = $users-&gt;fetchAll(PDO::FETCH_ASSOC);\n\nforeach($result as $k=&gt;$r){\n  $docs_array[$k] = new SolrInputDocument();\n\n  $docs_array[$k]-&gt;addField('model_id', $r['model_id']);\n\n  $docs_array[$k]-&gt;addField('name', $r['name']);\n}\n\n$updateResponse = $client-&gt;addDocument($docs_array);\n</code></pre>\n\n<p>It isn't working and giving this error: </p>\n\n<pre><code>Argument 1 passed to SolrClient::addDocument() must be an instance of SolrInputDocument, array given\n</code></pre>\n\n<p>So I guess the only way to make that work is adding documents one by one in each loop, like this:</p>\n\n<pre><code>foreach($result as $k=&gt;$r){\n\n  $doc = new SolrInputDocument();\n\n  $doc-&gt;addField('model_id', $r['model_id']);\n\n  $doc-&gt;addField('name', $r['name']);\n\n  $updateResponse = $client-&gt;addDocument($doc);\n\n}\n</code></pre>\n\n<p>Since there isn't enough document on this extension, I'd like to make sure if it is an appropriate way of doing that. Thank you. </p>\n"}, {"tags": ["oracle", "perl", "sqlplus"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 1, "creation_date": 1438195297, "post_id": 31707920, "comment_id": 51355341, "body": "Double-quoting worked like a charm! (but single-quotes errored!?)Thanks again."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438204755, "post_id": 31707920, "comment_id": 51360702, "body": "I believe (later versions of?) the sql standard specify it must be double quotes.  Only some sql implementations allow either."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1438195469, "last_edit_date": 1438195469, "creation_date": 1438193021, "answer_id": 31707920, "question_id": 31707709, "link": "https://stackoverflow.com/questions/31707709/is-there-a-way-in-sqlplus-to-return-lowercase-col-aliases/31707920#31707920", "title": "Is there a way in sqlplus to return lowercase col aliases?", "body": "<p>You can quote an alias to return wanted name of some column</p>\n\n<pre><code>SELECT MYCOL as \"mycol\" from table;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>SELECT MYCOL as \"MyCol\" from table;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 0, "creation_date": 1438194184, "post_id": 31708035, "comment_id": 51354708, "body": "Thank you sirs, these are very helpful answers. I actually <i>considered</i> quoting the &quot;as&quot; names but I&#39;d already convinced myself it wouldn&#39;t work!"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1438193375, "creation_date": 1438193375, "answer_id": 31708035, "question_id": 31707709, "link": "https://stackoverflow.com/questions/31707709/is-there-a-way-in-sqlplus-to-return-lowercase-col-aliases/31708035#31708035", "title": "Is there a way in sqlplus to return lowercase col aliases?", "body": "<p>You can do:</p>\n\n<pre><code>$dbh-&gt;{FetchHashKeyName} = 'NAME_lc';\n</code></pre>\n\n<p>(or do it just on the statement handle) to make DBI convert all returned column names to lower case.</p>\n"}], "owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438195506, "creation_date": 1438192425, "last_edit_date": 1438195506, "question_id": 31707709, "link": "https://stackoverflow.com/questions/31707709/is-there-a-way-in-sqlplus-to-return-lowercase-col-aliases", "title": "Is there a way in sqlplus to return lowercase col aliases?", "body": "<p>I'm using something like</p>\n\n<pre><code>SELECT MYCOL as mycol from table;\n\nMYCOL\n______\n1\n2\n2\n3\n</code></pre>\n\n<p>I want:</p>\n\n<pre><code>mycol\n_____\n1\n2\n2\n3\n</code></pre>\n\n<p>I can lc the result with Perl but I'd prefer that the <code>fetchrow_hashref()</code> return lc hashkeys. I tried </p>\n\n<pre><code>SELECT MYCOL as LOWER(mycol) from table;\n</code></pre>\n\n<p>which predictbly errored.</p>\n\n<p>Is there a way to do this in SQLPLUS?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1438192466, "post_id": 31707686, "comment_id": 51353638, "body": "<code>require &quot;Utils.pl&quot;</code> makes no sense. <code>Utils.pl</code> is not a module."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438192553, "post_id": 31707686, "comment_id": 51353694, "body": "Re &quot;When I run Main.pl I&#39;m getting someSub is undefined error&quot;, No, you get a syntax error. (<code>syntax error at a.pl line 4, near &quot;my &quot;</code>)"}, {"owner": {"reputation": 343, "user_id": 1890619, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fd88cb3bcc4abdec0bf61d06399bb05c?s=128&d=identicon&r=PG", "display_name": "oybek.t", "link": "https://stackoverflow.com/users/1890619/oybek-t"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438192629, "post_id": 31707686, "comment_id": 51353735, "body": "second answer tells me I can use &quot;require&quot; <a href=\"http://stackoverflow.com/questions/1712016/how-do-i-include-functions-from-another-file-in-my-perl-script\" title=\"how do i include functions from another file in my perl script\">stackoverflow.com/questions/1712016/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438192791, "post_id": 31707686, "comment_id": 51353841, "body": "<code>require</code> is for files with a <code>package</code>. <code>do</code> is for files without (which is a very bad practice). See <a href=\"http://stackoverflow.com/a/6379109/589924\">this</a>"}, {"owner": {"reputation": 343, "user_id": 1890619, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fd88cb3bcc4abdec0bf61d06399bb05c?s=128&d=identicon&r=PG", "display_name": "oybek.t", "link": "https://stackoverflow.com/users/1890619/oybek-t"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438193385, "post_id": 31707686, "comment_id": 51354221, "body": "ok see the above update. I added &quot;package Utils;&quot; to Utils.pl but now I&#39;m getting parseConfigFile is undefined at Constants.pm line 6"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438193433, "post_id": 31707686, "comment_id": 51354250, "body": "You never import from from Utils, though"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438193469, "post_id": 31707686, "comment_id": 51354272, "body": "(And why wouldn&#39;t you name the file <code>Utils.pm</code>?)"}, {"owner": {"reputation": 343, "user_id": 1890619, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fd88cb3bcc4abdec0bf61d06399bb05c?s=128&d=identicon&r=PG", "display_name": "oybek.t", "link": "https://stackoverflow.com/users/1890619/oybek-t"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438193772, "post_id": 31707686, "comment_id": 51354463, "body": "What do you mean never import from Utils? I changed it Utils.pm but still getting the same error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438194336, "post_id": 31707686, "comment_id": 51354778, "body": "<code>use</code> is <code>require</code> + <code>import</code>. You bypassed the <code>import</code>, and you didn&#39;t setup <code>Utils</code> to export in the first place."}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1438194882, "post_id": 31708314, "comment_id": 51355094, "body": "How does <code>do</code> help?  The subs would still get defined in the wrong package."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1438201572, "post_id": 31708314, "comment_id": 51358918, "body": "@mob, Instead of being compiled into main <i>or</i> Constants, using <code>do</code> instead of <code>require</code> would have them compiled into both main <i>and</i> Constants. (Hum, the OP seems to have added <code>package Utils;</code>, completely negating my explanation.)"}, {"owner": {"reputation": 343, "user_id": 1890619, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fd88cb3bcc4abdec0bf61d06399bb05c?s=128&d=identicon&r=PG", "display_name": "oybek.t", "link": "https://stackoverflow.com/users/1890619/oybek-t"}, "edited": false, "score": 0, "creation_date": 1438349899, "post_id": 31708314, "comment_id": 51428685, "body": "@ikegami instead of separating into Constants and Utils and I just moved variables and subs into &#39;Utils.pm&#39; and importing Utils by using &#39;use&#39; in main.pl"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1438201933, "last_edit_date": 1438201933, "creation_date": 1438194262, "answer_id": 31708314, "question_id": 31707686, "link": "https://stackoverflow.com/questions/31707686/importing-sub-into-perl-module-package/31708314#31708314", "title": "Importing sub into perl module package", "body": "<p>[The following explanation applies to the original version of the question. The solution is the same.]</p>\n\n<p><code>require</code> only executes a file once, but you expect the identical subs to be present in two packages. The simple solution is to use <code>do</code> instead of <code>require</code>. But then you end up with a poor design. You end up with multiple instances of the variables and subs created by <code>Utils.pl</code>. It's much better to convert <code>Utils.pl</code> into a proper module (like <code>Constants.pm</code>).</p>\n\n<p><code>Constants.pm</code>:</p>\n\n<pre><code>package Constants;\n\nuse strict;\nuse warnings;\n\nuse Exporter qw( import );\nuse Utils    qw( parseConfigFile );\n\nour @EXPORT_OK = qw( $var1 $var2 $var3 );\n\nmy %config = parseConfigFile(\"File.properties\");\nour $var1 = $config{var1};\nour $var2 = $config{var2};\nour $var3 = $config{var3};\n\n1;\n</code></pre>\n\n<p><code>Utils.pm</code>:</p>\n\n<pre><code>package Utils;\n\nuse strict;\nuse warnings;\n\nuse Constants qw( ... );\nuse Exporter  qw( import );\n\nour @EXPORT_OK = qw( parseConfigFile someSub );\n\nsub parseConfigFile { ... }\nsub someSub { ... }\n\n1;\n</code></pre>\n\n<p><code>main.pl</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Constants qw( $var1 );\nuse Utils     qw( someSub );\n\nmy $var = someSub($var1);\n</code></pre>\n\n<p>But oops! Constants uses Utils, and Utils uses Constants, and they both import from the other. That's a problem. You can <a href=\"http://www.perlmonks.org/?node_id=778639\" rel=\"nofollow\">work around it</a>, but there's no reason for <code>parseConfigFile</code> to be in <code>Utils</code>, so let's just avoid the problem entirely.</p>\n\n<p><code>Constants.pm</code>:</p>\n\n<pre><code>package Constants;\n\nuse strict;\nuse warnings;\n\nuse Exporter qw( import );\n\nour @EXPORT_OK = qw( $var1 $var2 $var3 );\n\nsub parseConfigFile { ... }\n\nmy %config = parseConfigFile(\"File.properties\");\nour $var1 = $config{var1};\nour $var2 = $config{var2};\nour $var3 = $config{var3};\n\n1;\n</code></pre>\n\n<p><code>Utils.pm</code>:</p>\n\n<pre><code>package Utils;\n\nuse strict;\nuse warnings;\n\nuse Constants qw( ... );\nuse Exporter  qw( import );\n\nour @EXPORT_OK = qw( someSub );\n\nsub someSub { ... }\n\n1;\n</code></pre>\n\n<p>(I use <code>@EXPORT_OK</code> instead of <code>@EXPORT</code> because I believe it's a good idea to explicitly name your imports.)</p>\n"}], "owner": {"reputation": 343, "user_id": 1890619, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fd88cb3bcc4abdec0bf61d06399bb05c?s=128&d=identicon&r=PG", "display_name": "oybek.t", "link": "https://stackoverflow.com/users/1890619/oybek-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 31708314, "answer_count": 1, "score": 0, "last_activity_date": 1438350038, "creation_date": 1438192340, "last_edit_date": 1438350038, "question_id": 31707686, "link": "https://stackoverflow.com/questions/31707686/importing-sub-into-perl-module-package", "title": "Importing sub into perl module package", "body": "<p>Coming from Python and Java background this is confusing me a bit. I have the following files:</p>\n\n<p>Constants.pm</p>\n\n<p>Utils.pl</p>\n\n<p>Main.pl</p>\n\n<p><strong>Constants.pm</strong> has global variables that I'd like to share with <strong>Main.pl</strong> and <strong>Utils.pl</strong>. </p>\n\n<p><strong>Utils.pl</strong> has helper subs that I'd like to share with <strong>Constants.pm</strong> and <strong>Main.pl</strong></p>\n\n<pre><code>#################### Constants.pm\npackage Constants;\nrequire \"Utils.pl\";\nuse Exporter;\nour @ISA = 'Exporter';\n\nmy %config = parseConfigFile(\"File.properties\");\n\nour @EXPORT = qw($var1 $var2 $var3);\nour ($var1, $var2, $var3);\n\n$var1 = $config{var1};\n$var2 = $config{var2};\n$var3 = $config{var3};\n\n\n#################### Utils.pl\npackage Utils;\nuse Constants;\n\nsub parseConfigFile {};\nsub someSub {};\n\n#################### Main.pl\nuse Constants;\nrequire \"Utils.pl\"\n\nmy $var = someSub($var1);\n</code></pre>\n\n<p>When I run <strong>Main.pl</strong> I'm getting someSub is undefined error</p>\n\n<p>Please help, thanks!</p>\n\n<p>EDIT: I haven't tried @ikegami's answer instead I just moved everything in Constants into Utils.pm and importing Utils by using 'use' in main.pl</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1438185882, "post_id": 31705607, "comment_id": 51349694, "body": "What&#39;s wrong with just using <code>@$aref</code>?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438186481, "post_id": 31705607, "comment_id": 51350068, "body": "You can make <code>@a</code> a reference, <code>my $a = $aref</code>"}, {"owner": {"reputation": 73, "user_id": 3084726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b962f4ff7477efde0cf4388ce7e9ebd7?s=128&d=identicon&r=PG&f=1", "display_name": "Norman of Anstruther", "link": "https://stackoverflow.com/users/3084726/norman-of-anstruther"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438187077, "post_id": 31705607, "comment_id": 51350461, "body": "@ThisSuitIsBlackNot - I could just use @$aref. In fact I think I have to. But that does not answer the question!"}, {"owner": {"reputation": 73, "user_id": 3084726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b962f4ff7477efde0cf4388ce7e9ebd7?s=128&d=identicon&r=PG&f=1", "display_name": "Norman of Anstruther", "link": "https://stackoverflow.com/users/3084726/norman-of-anstruther"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438187152, "post_id": 31705607, "comment_id": 51350510, "body": "@H&#229;kon H&#230;gland - $a and @a are two different variables. How does what you suggest affect @a?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1438187210, "post_id": 31705607, "comment_id": 51350554, "body": "@NormanofAnstruther That&#39;s why I left a comment, not an answer. You can often get better answers if you explain <i>why</i> you want to do something instead of just how you want to do it."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1438187247, "post_id": 31705607, "comment_id": 51350578, "body": "it doesn&#39;t; he&#39;s suggesting you not use @a.  despite the alias suggestions given in the answers, that is really your best option."}, {"owner": {"reputation": 73, "user_id": 3084726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b962f4ff7477efde0cf4388ce7e9ebd7?s=128&d=identicon&r=PG&f=1", "display_name": "Norman of Anstruther", "link": "https://stackoverflow.com/users/3084726/norman-of-anstruther"}, "edited": false, "score": 0, "creation_date": 1438187761, "post_id": 31705607, "comment_id": 51350856, "body": "OK, I get the hint! I will not even try to do this, but will use @$aref instead. My reason was that I thought it would make for simpler code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1438188969, "post_id": 31705607, "comment_id": 51351590, "body": "@NormanofAnstruther: Remember that you generally don&#39;t want to refer to the entire array. Individual elements can be referred to as <code>$aref-&gt;[1]</code> etc.. The old-fashioned way is <code>${$aref}[1]</code> (bad) or <code>$$aref[1]</code> (worse). Also note that <code>use warnings</code> is superior in every way to <code>-w</code> on the command line or shebang line"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438240283, "post_id": 31705607, "comment_id": 51371750, "body": "I think this feels like an xy problem.  What are you actually trying to accomplish?"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1438187711, "post_id": 31705946, "comment_id": 51350823, "body": "absolutely avoid using the first suggestion in this answer; there is no good reason to use a non-lexical variable when you don&#39;t have to."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438193253, "post_id": 31705946, "comment_id": 51354141, "body": "@ysth: I think <i>absolutely avoid</i> is a little strong. Package variables have lexical scope, and need not be visible everywhere. I wouldn&#39;t be certain of choosing a module over, say <code>{ our @a; *a = $aref; $a[1] = 99; say &quot;@a&quot;; }</code> if it was necessary. Furthermore there is no choice of lexical identifiers when it comes to subroutines"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1438193671, "post_id": 31705946, "comment_id": 51354391, "body": "package variables have lexical scope?  that is false.  the lexical alias <code>our</code> creates is lexical, but the data is still global with all the potential for clobbering that brings.  perl 5.18 introduced (experimental) lexical subs; it&#39;s something that people have wanted for a long time."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438194181, "post_id": 31705946, "comment_id": 51354704, "body": "@ysth: Yes, of course. But I would prefer to put the blame on fully-qualified identifiers than on package variables themselves. I very rarely see package variables qualified with their package name, but then I also rarely see them scoped correctly. Sadly the same applies to lexical variables"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438204404, "post_id": 31705946, "comment_id": 51360507, "body": "You are addressing a side point, not the main point. <code>{ our $a; $a .= &quot;a&quot; } { our $a; $a .= &quot;b&quot;; print $a }</code> prints &quot;ab&quot;, not &quot;b&quot;, as does  <code>sub foo { our $a; $a = &quot;ab&quot; } { our $a; $a = &quot;b&quot;; foo(); print $a }</code>.  Global variables are a problem even without fully qualified identifiers because <i>they are not scoped</i>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438205067, "post_id": 31705946, "comment_id": 51360848, "body": "@ysth: I&#39;m addressing <i>your</i> point. It is up to you whether you label it a <i>side point</i>. And you know very well that global variables are scoped -- you even said so earlier, and <code>{our $a = 99} print $a</code> demonstrates it. Please try to restrict your comments to topics that will help the community. Occasionally declaring a variable with <code>our</code> as necessary never caused any grief if it was done with regard to scope, and it fills a hole in Perl 5. It is fair to discourage the use of <code>our</code> and of package variables, but your <b><i>absolutely avoid</i></b> is silly"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 7, "last_activity_date": 1438187465, "last_edit_date": 1438187465, "creation_date": 1438186710, "answer_id": 31705946, "question_id": 31705607, "link": "https://stackoverflow.com/questions/31705607/can-i-name-an-anonymous-array-in-perl/31705946#31705946", "title": "Can I name an anonymous array in Perl?", "body": "<p>I wonder <em>why</em> would you want to do this? I presume it's a performance issue, but the usual solution is to pass your data around by reference. It is just as easy to write <code>$aref-&gt;[1]</code> as <code>$a[1]</code></p>\n\n<p>You could <em>alias</em> your reference in the package symbol table by assigning to the typeglob, but the alias must be a package variable</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $aref = [1, 2, 3];\n\nour @a;\n*a = $aref;\n\n$a[1] = 99;\n\nprint \"aref = @$aref\\n\";\nprint \"a    = @a\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>aref = 1 99 3\na    = 1 99 3\n</code></pre>\n\n<p>There are a number of modules that offer a nice syntax and allow you to alias lexical variables</p>\n\n<p>Here's a version that uses <a href=\"https://metacpan.org/pod/Lexical::Alias\"><code>Lexical::Alias</code></a> which has the advantage of aliasing lexical variables, and could be more robust than assigning to typeglobs. <a href=\"https://metacpan.org/pod/Data::Alias\"><code>Data::Alias</code></a> works in a very similar way. The output is identical to the above</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Lexical::Alias qw/ alias_r /;\n\nmy $aref = [1, 2, 3];\n\nalias_r $aref, \\my @a;\n\n$a[1] = 99;\n\nprint \"aref = @$aref\\n\";\nprint \"a    = @a\\n\";\n</code></pre>\n\n<p>an alternative way is to use <code>alias</code> instead of <code>alias_r</code> with</p>\n\n<pre><code>alias @$aref, my @a;\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": false, "score": 1, "last_activity_date": 1438186819, "creation_date": 1438186819, "answer_id": 31705992, "question_id": 31705607, "link": "https://stackoverflow.com/questions/31705607/can-i-name-an-anonymous-array-in-perl/31705992#31705992", "title": "Can I name an anonymous array in Perl?", "body": "<p>To expand on Borodin's answer, I've tested this with the <a href=\"http://search.cpan.org/search?query=Lexical%3A%3AAlias\" rel=\"nofollow\">Lexical::Alias</a> module:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse Lexical::Alias 'alias_a';\n\nmy $aref = [1, 2, 3];\nmy @a;\nalias_a(@$aref, @a);\n$a[1] = 99;\nprint \"aref = @$aref\\n\";\nprint \"a = @a\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1138, "user_id": 1141332, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/289d9e007b4825c6961659b64dffbf7f?s=128&d=identicon&r=PG", "display_name": "Jozef Leg&#233;ny", "link": "https://stackoverflow.com/users/1141332/jozef-leg%c3%a9ny"}, "is_accepted": false, "score": 1, "last_activity_date": 1438187058, "last_edit_date": 1495540360, "creation_date": 1438186868, "answer_id": 31706008, "question_id": 31705607, "link": "https://stackoverflow.com/questions/31705607/can-i-name-an-anonymous-array-in-perl/31706008#31706008", "title": "Can I name an anonymous array in Perl?", "body": "<p>One option is to use the <a href=\"https://metacpan.org/pod/Data::Alias\" rel=\"nofollow noreferrer\"><code>Data::Alias</code></a> package from CPAN.</p>\n\n<p>This way you can write:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse Data::Alias qw( alias );\n\nmy $aref  = [1, 2, 3];\n\nalias my @a = @$aref;\n\n$a[1] = 99;\nprint \"aref = @$aref\\n\";\nprint \"a = @a\\n\";\n</code></pre>\n\n<p>A related question on SO can be found here: <a href=\"https://stackoverflow.com/questions/12958962/assign-address-of-one-array-to-another-in-perl-possible\">Assign address of one array to another in Perl possible?</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1438961209, "last_edit_date": 1438961209, "creation_date": 1438187336, "answer_id": 31706144, "question_id": 31705607, "link": "https://stackoverflow.com/questions/31705607/can-i-name-an-anonymous-array-in-perl/31706144#31706144", "title": "Can I name an anonymous array in Perl?", "body": "<ol>\n<li><p>&#x20;</p>\n\n<pre><code>our @array; local *array = $aref;\n</code></pre>\n\n<p>Pros: Built-in feature since 5.6.\n<br>Cons: Ugly. Uses a global variable, so the variable is seen by called subs.</p></li>\n<li><p>&#x20;</p>\n\n<pre><code>use Data::Alias qw( alias );\nalias my @array = @$aref;\n</code></pre>\n\n<p>Pros: Clean.\n<br>Cons: This module gets broken by just about every Perl release (though it gets fixed quickly if not before the actual release).</p></li>\n<li><p>&#x20;</p>\n\n<pre><code>use feature qw( refaliasing );\nno warnings qw( experimental::refaliasing );\n\\my @array = $aref;\n</code></pre>\n\n<p>Pros: Built-in feature.\n<br>Cons: Requires Perl 5.22+, and even then, the feature is experimental.</p></li>\n</ol>\n"}], "owner": {"reputation": 73, "user_id": 3084726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b962f4ff7477efde0cf4388ce7e9ebd7?s=128&d=identicon&r=PG&f=1", "display_name": "Norman of Anstruther", "link": "https://stackoverflow.com/users/3084726/norman-of-anstruther"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 1, "accepted_answer_id": 31705946, "answer_count": 4, "score": 5, "last_activity_date": 1438961209, "creation_date": 1438185764, "last_edit_date": 1438186078, "question_id": 31705607, "link": "https://stackoverflow.com/questions/31705607/can-i-name-an-anonymous-array-in-perl", "title": "Can I name an anonymous array in Perl?", "body": "<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nmy $aref = [1, 2, 3];\nmy @a = @$aref;              # this line\n$a[1] = 99;\nprint \"aref = @$aref\\n\";\nprint \"a = @a\\n\";\n</code></pre>\n\n<p>produces output:</p>\n\n<pre><code>aref = 1 2 3\na = 1 99 3\n</code></pre>\n\n<p>The output shows that <code>@a</code> and <code>@$aref</code> do not refer to the same array.</p>\n\n<p>The marked line is where my problem lies. The value of scalar <code>$aref</code> is a reference to an anonymous array. In the marked line I was hoping to be able to make the array variable <code>@a</code> refer to that array, but what happens is that the anonymous array is copied and <code>@a</code> refers to a copy of the anonymous array. The assignment and print statements show this.</p>\n\n<p>I understand that when you assign to an array the right hand side of the assignment is a list context, so the <code>@$aref</code> is coerced to a list of its elements. Is there a way to give the name <code>@a</code> to the array referred to by <code>$aref</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32298, "user_id": 20270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37335856df5e5e73d82bca5a805bd647?s=128&d=identicon&r=PG", "display_name": "Hasturkun", "link": "https://stackoverflow.com/users/20270/hasturkun"}, "edited": false, "score": 0, "creation_date": 1438184064, "post_id": 31701561, "comment_id": 51348383, "body": "I don&#39;t think <code>join</code> does what you&#39;re expecting it to do, instead <code>join( &quot;yes&quot;, &quot;cfgsave&quot; )</code> returns the string <code>&quot;cfgsave&quot;</code> (Since it&#39;s trying to put a <code>&quot;yes&quot;</code> between each element of a one element list). Perhaps you wanted to <code>join(&quot;\\n&quot;, &quot;cfgsave&quot;, &quot;yes&quot;, &quot;&quot;)</code>? (I&#39;m not posting this as an answer as I&#39;m not sure it will actually work afterwards, but this seems to be your issue)"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 1802870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a2da4e4f94d9d6afdf1fc2d794d07f1?s=128&d=identicon&r=PG", "display_name": "jana", "link": "https://stackoverflow.com/users/1802870/jana"}, "is_accepted": false, "score": 0, "last_activity_date": 1438316392, "creation_date": 1438316392, "answer_id": 31738019, "question_id": 31701561, "link": "https://stackoverflow.com/questions/31701561/perl-brocade-switch-issue-using-netopenssh/31738019#31738019", "title": "perl brocade switch issue using Net::OpenSSH", "body": "<p>issue was resolved,not by me but from perlmonks</p>\n\n<p>posting the answer</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse List::Util qw( first );\nuse Net::OpenSSH;\nuse Log::Log4perl qw(:easy);\nLog::Log4perl-&gt;easy_init($INFO);\n$Net::OpenSSH::debug = -1;\n\n\nmy $logger = get_logger();\n\n\n\nmy $username = 'admin';\nmy $password = 'password';\nmy $ip       = '10.227.0.216';\n\n\n$logger-&gt;info( \"performing ssh to the swicth\" );\nmy $ssh = Net::OpenSSH-&gt;new(\n    $ip,\n    user        =&gt; \"$username\",\n    password    =&gt; \"$password\",\n    master_opts =&gt; [-o =&gt; \"StrictHostKeyChecking=no\"] );\n\n$logger-&gt;info( \"listing zone on the switch $ip using zoneshow\" );\nmy ( $out, $err ) = $ssh-&gt;capture2( \"zoneshow\" );\nprint \"$out\\n\";\n$logger-&gt;info( \"zoneshow successful\" );\n\n$logger-&gt;info( \"listing zone on the switch $ip using nsshow\" );\n( $out, $err ) = $ssh-&gt;capture2( \"nsshow\" );\nprint \"$out\\n\";\n$logger-&gt;info( \"nsshow successful\" );\n\nsleep 3;\n\n$logger-&gt;info( \"create zone on the switch $ip using zonecreate\" );\n( $out, $err ) = $ssh-&gt;capture2( \"zonecreate \\\"test15\\\", \\\" 20:01:00:1\n+1:0d:34:57:00\\\" \" );\n$ssh-&gt;error and die \"remote find command failed: $!\" . $ssh-&gt;error;\nprint \"$out\\n\";\n$logger-&gt;info( \"zonecreate successful\" );\n\n##now add the zone to the config and save it\n( $out, $err ) = $ssh-&gt;capture2( \"cfgadd \\\"FC_DVT\\\", \\\"test15\\\"\" );\n$ssh-&gt;error and die \"remote find command failed: $!\" . $ssh-&gt;error;\nprint \"$out\\n\";\n\n( $out, $err ) = $ssh-&gt;capture2( { stdin_data =&gt;\"yes\\n\"}, \"cfgsave\"  )\n+;\n$ssh-&gt;error and die \"remote find command failed: $!\" . $ssh-&gt;error;\nprint \"$out\\n\";\n\n( $out, $err ) = $ssh-&gt;capture2( { stdin_data =&gt;\"yes\\n\"},\"cfgenable \\\"\n+FC_DVT\\\"\");\n$ssh-&gt;error and die \"remote find command failed: $!\" . $ssh-&gt;error;\nprint \"$out\\n\";\n[download]  \n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 1802870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a2da4e4f94d9d6afdf1fc2d794d07f1?s=128&d=identicon&r=PG", "display_name": "jana", "link": "https://stackoverflow.com/users/1802870/jana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438316392, "creation_date": 1438175797, "last_edit_date": 1438182635, "question_id": 31701561, "link": "https://stackoverflow.com/questions/31701561/perl-brocade-switch-issue-using-netopenssh", "title": "perl brocade switch issue using Net::OpenSSH", "body": "<p>I need help on configuring <code>brocade switch</code> from a remote system. I have the sample code using <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow\"><code>Net::OpenSSH</code></a></p>\n\n<p>the code is as follows</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse List::Util qw( first );\nuse Net::OpenSSH;\n\nuse Log::Log4perl qw( :easy );\nLog::Log4perl-&gt;easy_init( $INFO );\n\nuse Expect;\nuse 5.010;\n\nmy $logger = get_logger();\n\nmy $username = 'admin';\nmy $password = 'password';\nmy $ip       = '10.227.0.216';\n\n$logger-&gt;info( \"performing ssh to the swicth\" );\nmy $ssh = Net::OpenSSH-&gt;new(\n    $ip,\n    user        =&gt; \"$username\",\n    password    =&gt; \"$password\",\n    master_opts =&gt; [-o =&gt; \"StrictHostKeyChecking=no\"] );\n\n$logger-&gt;info( \"listing zone on the switch $ip using zoneshow\" );\nmy ( $out, $err ) = $ssh-&gt;capture2( \"zoneshow\" );\nprint \"$out\\n\";\n$logger-&gt;info( \"zoneshow successful\" );\n\n$logger-&gt;info( \"listing zone on the switch $ip using nsshow\" );\n( $out, $err ) = $ssh-&gt;capture2( \"nsshow\" );\nprint \"$out\\n\";\n$logger-&gt;info( \"nsshow successful\" );\n\nsleep 3;\n\n$logger-&gt;info( \"create zone on the switch $ip using zonecreate\" );\n( $out, $err ) = $ssh-&gt;capture2( \"zonecreate \\\"test5\\\", \\\" 20:01:00:11:0d:34:57:00\\\" \" );\n$ssh-&gt;error and die \"remote find command failed: $!\" . $ssh-&gt;error;\nprint \"$out\\n\";\n$logger-&gt;info( \"zonecreate successful\" );\n\n##now add the zone to the config and save it\n( $out, $err ) = $ssh-&gt;capture2( \"cfgadd \\\"FC_DVT\\\", \\\"test5\\\"\" );\n$ssh-&gt;error and die \"remote find command failed: $!\" . $ssh-&gt;error;\nprint \"$out\\n\";\n\n( $out, $err ) = $ssh-&gt;capture2( { stdin_data =&gt; join( \"yes\", \"cfgsave\" ) } );\n$ssh-&gt;error and die \"remote find command failed: $!\" . $ssh-&gt;error;\nprint \"$out\\n\";\n\n( $out, $err ) = $ssh-&gt;capture2( { stdin_data =&gt; join( \"yes\", \"cfgenable \\\"FC_DVT\\\"\" ) } );\n$ssh-&gt;error and die \"remote find command failed: $!\" . $ssh-&gt;error;\nprint \"$out\\n\";\n</code></pre>\n\n<p>The error is see is as follows </p>\n\n<pre><code>[root@localhost jana]# ./switchconfig.pl\n2015/07/29 23:59:57 performing ssh to the swicth\n2015/07/29 23:59:58 listing zone on the switch 10.227.0.216 using zoneshow\nDefined configuration:\ncfg:   FC_DVT  MEZZI; MEZZI1; test1\nzone:  MEZZI   mezzi1; mezzi2; sanblaze\nzone:  MEZZI1  mezzi3; mezzi4; sanblaze\nzone:  test1   20:00:00:11:0d:34:56:00\nzone:  vikash_enfield\n    10:00:00:00:c9:a1:95:aa; 10:00:00:00:c9:a1:95:ab;\n    20:00:00:11:0d:34:56:00\nalias: mezzi1  10:00:00:00:c9:cd:cc:6c\nalias: mezzi2  10:00:00:00:c9:cd:cc:6d\nalias: mezzi3  10:00:00:90:fa:2e:dd:9f\nalias: mezzi4  10:00:00:90:fa:2e:dd:a0\nalias: sanblaze\n    20:01:00:11:0d:34:57:00\n\nEffective configuration:\ncfg:   FC_DVT\nzone:  MEZZI   10:00:00:00:c9:cd:cc:6c\n    10:00:00:00:c9:cd:cc:6d\n    20:01:00:11:0d:34:57:00\nzone:  MEZZI1  10:00:00:90:fa:2e:dd:9f\n    10:00:00:90:fa:2e:dd:a0\n    20:01:00:11:0d:34:57:00\nzone:  test1   20:00:00:11:0d:34:56:00\n\n\n2015/07/29 23:59:59 zoneshow successful\n2015/07/29 23:59:59 listing zone on the switch 10.227.0.216 using nsshow\n{\nType Pid    COS     PortName                NodeName                 TTL(sec)\nN    010700;      3;50:0a:09:84:88:ed:66:d4;50:0a:09:80:88:ed:66:d4; na\nFC4s: FCP [NETAPP  LUN             7360]\nFabric Port Name: 20:07:00:05:33:d4:06:4d\nPermanent Port Name: 50:0a:09:84:88:ed:66:d4\nPort Index: 7\nShare Area: No\nDevice Shared in Other AD: No\nRedirect: No\nPartial: No\nLSAN: No\nN    010a00;      3;10:00:00:90:fa:2e:dd:9f;20:00:00:90:fa:2e:dd:9f; na\nFC4s: IPFC FCP\nPortSymb: [34] \"Emulex PPN-10:00:00:90:fa:2e:dd:9f\"\nNodeSymb: [37] \"Emulex 7101684 FV10.6.168.0 DV3.0.02 \"\nFabric Port Name: 20:0a:00:05:33:d4:06:4d\nPermanent Port Name: 10:00:00:90:fa:2e:dd:9f\nPort Index: 10\nShare Area: No\nDevice Shared in Other AD: No\nRedirect: No\nPartial: No\nLSAN: No\nN    010b00;    2,3;20:00:00:11:0d:34:56:00;20:00:00:11:0d:34:56:00; na\nFC4s: FCP\nPortSymb: [22] \"SANBlaze FC Port Targ0\"\nFabric Port Name: 20:0b:00:05:33:d4:06:4d\nPermanent Port Name: 20:00:00:11:0d:34:56:00\nPort Index: 11\nShare Area: No\nDevice Shared in Other AD: No\nRedirect: No\nPartial: No\nLSAN: No\nN    010e00;    2,3;20:01:00:11:0d:34:57:00;20:01:00:11:0d:34:57:00; na\nFC4s: FCP\nPortSymb: [22] \"SANBlaze FC Port Targ0\"\nFabric Port Name: 20:0e:00:05:33:d4:06:4d\nPermanent Port Name: 20:01:00:11:0d:34:57:00\nPort Index: 14\nShare Area: No\nDevice Shared in Other AD: No\nRedirect: No\nPartial: No\nLSAN: No\nThe Local Name Server has 4 entries }\n\n2015/07/30 00:00:00 nsshow successful\n2015/07/30 00:00:03 create zone on the switch 10.227.0.216 using zonecreate\n\n2015/07/30 00:00:04 zonecreate successful\n\nremote find command failed: child exited with code 248 at ./switchconfig.pl line 45.\n</code></pre>\n\n<p>I need to send a <em>yes</em> afer <code>cfgsave</code> and <code>cfgenable</code> as the switch prompts to <code>save</code> and <code>enable</code> the config using <code>yes</code> or <code>no</code> options\nthanks</p>\n\n<p>posting with debug output</p>\n\n<pre><code>[root@localhost jana]# vi switchconfig.pl\n[root@localhost jana]# ./switchconfig.pl\n2015/07/30 00:18:18 performing ssh to the swicth\n# open_ex: ['ssh','-V']\n# io3 mloop, cin: 0, cout: 1, cerr: 0\n# io3 fast, cin: 0, cout: 1, cerr: 0\n# stdout, bytes read: 46 at offset 0\n#&gt; 4f 70 65 6e 53 53 48 5f 35 2e 33 70 31 2c 20 4f 70 65 6e 53 53 4c 20 31 2e 30 2e 30 2d 66 69 70 | OpenSSH_5.3p1, OpenSSL 1.0.0-fip\n#&gt; 73 20 32 39 20 4d 61 72 20 32 30 31 30 0a                                                       | s 29 Mar 2010.\n# io3 fast, cin: 0, cout: 1, cerr: 0\n# stdout, bytes read: 0 at offset 46\n# leaving _io3()\n# _waitpid(5385) =&gt; pid: 5385, rc: 0, err:\n# OpenSSH verion is 5.3p1,\n# ctl_path: /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, ctl_dir: /root/.libnet-openssh-perl/\n# _is_secure_path(dir: /root/.libnet-openssh-perl, file mode: 16832, file uid: 0, euid: 0\n# _is_secure_path(dir: /root, file mode: 16744, file uid: 0, euid: 0\n# set_error(0 - 0)\n# call args: ['ssh','-o','StrictHostKeyChecking=no','-o','ServerAliveInterval=30','-2MNx','-o','NumberOfPasswordPrompts=1','-o','PreferredAuthentications=keyboard-interactive,password','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--']\n# master state jumping from _STATE_START to _STATE_LOGIN\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_LOGIN\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_LOGIN\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_LOGIN\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_LOGIN\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_LOGIN\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_LOGIN\n# tracer attached, ssh pid: 5386, tracer pid: 5387\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_LOGIN\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_LOGIN\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_LOGIN\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_LOGIN\n# passwd/passphrase requested (admin@10.227.0.216's password:)\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_AWAITING_MUX\n# file object not yet found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523, state:_STATE_AWAITING_MUX\n# file object found at /root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523\n# master state jumping from _STATE_AWAITING_MUX to _STATE_RUNNING\n# call args: ['ssh','-O','check','-T','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--']\n# open_ex: ['ssh','-O','check','-T','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--']\n# io3 mloop, cin: 0, cout: 1, cerr: 0\n# io3 fast, cin: 0, cout: 1, cerr: 0\n# stdout, bytes read: 27 at offset 0\n#&gt; 4d 61 73 74 65 72 20 72 75 6e 6e 69 6e 67 20 28 70 69 64 3d 35 33 38 36 29 0d 0a                | Master running (pid=5386)..\n# io3 fast, cin: 0, cout: 1, cerr: 0\n# stdout, bytes read: 0 at offset 27\n# leaving _io3()\n# _waitpid(5390) =&gt; pid: 5390, rc: 0, err:\n2015/07/30 00:18:21 listing zone on the switch 10.227.0.216 using zoneshow\n# call args: ['ssh','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--','zoneshow']\n# open_ex: ['ssh','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--','zoneshow']\n# io3 mloop, cin: 0, cout: 1, cerr: 1\n# io3 fast, cin: 0, cout: 1, cerr: 1\n# stdout, bytes read: 730 at offset 0\n#&gt; 44 65 66 69 6e 65 64 20 63 6f 6e 66 69 67 75 72 61 74 69 6f 6e 3a 0a 20 63 66 67 3a 09 46 43 5f | Defined configuration:. cfg:.FC_\n#&gt; 44 56 54 09 4d 45 5a 5a 49 3b 20 4d 45 5a 5a 49 31 3b 20 74 65 73 74 31 0a 20 7a 6f 6e 65 3a 09 | DVT.MEZZI; MEZZI1; test1. zone:.\n#&gt; 4d 45 5a 5a 49 09 6d 65 7a 7a 69 31 3b 20 6d 65 7a 7a 69 32 3b 20 73 61 6e 62 6c 61 7a 65 0a 20 | MEZZI.mezzi1; mezzi2; sanblaze.\n#&gt; 7a 6f 6e 65 3a 09 4d 45 5a 5a 49 31 09 6d 65 7a 7a 69 33 3b 20 6d 65 7a 7a 69 34 3b 20 73 61 6e | zone:.MEZZI1.mezzi3; mezzi4; san\n#&gt; 62 6c 61 7a 65 0a 20 7a 6f 6e 65 3a 09 74 65 73 74 31 09 32 30 3a 30 30 3a 30 30 3a 31 31 3a 30 | blaze. zone:.test1.20:00:00:11:0\n#&gt; 64 3a 33 34 3a 35 36 3a 30 30 0a 20 7a 6f 6e 65 3a 09 76 69 6b 61 73 68 5f 65 6e 66 69 65 6c 64 | d:34:56:00. zone:.vikash_enfield\n#&gt; 09 0a 09 09 31 30 3a 30 30 3a 30 30 3a 30 30 3a 63 39 3a 61 31 3a 39 35 3a 61 61 3b 20 31 30 3a | ....10:00:00:00:c9:a1:95:aa; 10:\n#&gt; 30 30 3a 30 30 3a 30 30 3a 63 39 3a 61 31 3a 39 35 3a 61 62 3b 20 0a 09 09 32 30 3a 30 30 3a 30 | 00:00:00:c9:a1:95:ab; ...20:00:0\n#&gt; 30 3a 31 31 3a 30 64 3a 33 34 3a 35 36 3a 30 30 0a 20 61 6c 69 61 73 3a 09 6d 65 7a 7a 69 31 09 | 0:11:0d:34:56:00. alias:.mezzi1.\n#&gt; 31 30 3a 30 30 3a 30 30 3a 30 30 3a 63 39 3a 63 64 3a 63 63 3a 36 63 0a 20 61 6c 69 61 73 3a 09 | 10:00:00:00:c9:cd:cc:6c. alias:.\n#&gt; 6d 65 7a 7a 69 32 09 31 30 3a 30 30 3a 30 30 3a 30 30 3a 63 39 3a 63 64 3a 63 63 3a 36 64 0a 20 | mezzi2.10:00:00:00:c9:cd:cc:6d.\n#&gt; 61 6c 69 61 73 3a 09 6d 65 7a 7a 69 33 09 31 30 3a 30 30 3a 30 30 3a 39 30 3a 66 61 3a 32 65 3a | alias:.mezzi3.10:00:00:90:fa:2e:\n#&gt; 64 64 3a 39 66 0a 20 61 6c 69 61 73 3a 09 6d 65 7a 7a 69 34 09 31 30 3a 30 30 3a 30 30 3a 39 30 | dd:9f. alias:.mezzi4.10:00:00:90\n#&gt; 3a 66 61 3a 32 65 3a 64 64 3a 61 30 0a 20 61 6c 69 61 73 3a 09 73 61 6e 62 6c 61 7a 65 09 0a 09 | :fa:2e:dd:a0. alias:.sanblaze...\n#&gt; 09 32 30 3a 30 31 3a 30 30 3a 31 31 3a 30 64 3a 33 34 3a 35 37 3a 30 30 0a 0a 45 66 66 65 63 74 | .20:01:00:11:0d:34:57:00..Effect\n#&gt; 69 76 65 20 63 6f 6e 66 69 67 75 72 61 74 69 6f 6e 3a 0a 20 63 66 67 3a 09 46 43 5f 44 56 54 09 | ive configuration:. cfg:.FC_DVT.\n#&gt; 0a 20 7a 6f 6e 65 3a 09 4d 45 5a 5a 49 09 31 30 3a 30 30 3a 30 30 3a 30 30 3a 63 39 3a 63 64 3a | . zone:.MEZZI.10:00:00:00:c9:cd:\n#&gt; 63 63 3a 36 63 0a 09 09 31 30 3a 30 30 3a 30 30 3a 30 30 3a 63 39 3a 63 64 3a 63 63 3a 36 64 0a | cc:6c...10:00:00:00:c9:cd:cc:6d.\n#&gt; 09 09 32 30 3a 30 31 3a 30 30 3a 31 31 3a 30 64 3a 33 34 3a 35 37 3a 30 30 0a 20 7a 6f 6e 65 3a | ..20:01:00:11:0d:34:57:00. zone:\n#&gt; 09 4d 45 5a 5a 49 31 09 31 30 3a 30 30 3a 30 30 3a 39 30 3a 66 61 3a 32 65 3a 64 64 3a 39 66 0a | .MEZZI1.10:00:00:90:fa:2e:dd:9f.\n#&gt; 09 09 31 30 3a 30 30 3a 30 30 3a 39 30 3a 66 61 3a 32 65 3a 64 64 3a 61 30 0a 09 09 32 30 3a 30 | ..10:00:00:90:fa:2e:dd:a0...20:0\n#&gt; 31 3a 30 30 3a 31 31 3a 30 64 3a 33 34 3a 35 37 3a 30 30 0a 20 7a 6f 6e 65 3a 09 74 65 73 74 31 | 1:00:11:0d:34:57:00. zone:.test1\n#&gt; 09 32 30 3a 30 30 3a 30 30 3a 31 31 3a 30 64 3a 33 34 3a 35 36 3a 30 30 0a 0a                   | .20:00:00:11:0d:34:56:00..\n# io3 fast, cin: 0, cout: 1, cerr: 1\n# stdout, bytes read: 0 at offset 730\n# stderr, bytes read: 0\n# leaving _io3()\n# _waitpid(5391) =&gt; pid: 5391, rc: 0, err:\nDefined configuration:\n cfg:   FC_DVT  MEZZI; MEZZI1; test1\n zone:  MEZZI   mezzi1; mezzi2; sanblaze\n zone:  MEZZI1  mezzi3; mezzi4; sanblaze\n zone:  test1   20:00:00:11:0d:34:56:00\n zone:  vikash_enfield\n                10:00:00:00:c9:a1:95:aa; 10:00:00:00:c9:a1:95:ab;\n                20:00:00:11:0d:34:56:00\n alias: mezzi1  10:00:00:00:c9:cd:cc:6c\n alias: mezzi2  10:00:00:00:c9:cd:cc:6d\n alias: mezzi3  10:00:00:90:fa:2e:dd:9f\n alias: mezzi4  10:00:00:90:fa:2e:dd:a0\n alias: sanblaze\n                20:01:00:11:0d:34:57:00\n\nEffective configuration:\n cfg:   FC_DVT\n zone:  MEZZI   10:00:00:00:c9:cd:cc:6c\n                10:00:00:00:c9:cd:cc:6d\n                20:01:00:11:0d:34:57:00\n zone:  MEZZI1  10:00:00:90:fa:2e:dd:9f\n                10:00:00:90:fa:2e:dd:a0\n                20:01:00:11:0d:34:57:00\n zone:  test1   20:00:00:11:0d:34:56:00\n\n\n2015/07/30 00:18:22 zoneshow successful\n2015/07/30 00:18:22 listing zone on the switch 10.227.0.216 using nsshow\n# call args: ['ssh','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--','nsshow']\n# open_ex: ['ssh','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--','nsshow']\n# io3 mloop, cin: 0, cout: 1, cerr: 1\n# io3 fast, cin: 0, cout: 1, cerr: 1\n# stdout, bytes read: 1568 at offset 0\n#&gt; 7b 0a 20 54 79 70 65 20 50 69 64 20 20 20 20 43 4f 53 20 20 20 20 20 50 6f 72 74 4e 61 6d 65 20 | {. Type Pid    COS     PortName\n#&gt; 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 4e 6f 64 65 4e 61 6d 65 20 20 20 20 20 20 20 20 20 |                NodeName\n#&gt; 20 20 20 20 20 20 20 20 54 54 4c 28 73 65 63 29 0a 20 4e 20 20 20 20 30 31 30 37 30 30 3b 20 20 |         TTL(sec). N    010700;\n#&gt; 20 20 20 20 33 3b 35 30 3a 30 61 3a 30 39 3a 38 34 3a 38 38 3a 65 64 3a 36 36 3a 64 34 3b 35 30 |     3;50:0a:09:84:88:ed:66:d4;50\n#&gt; 3a 30 61 3a 30 39 3a 38 30 3a 38 38 3a 65 64 3a 36 36 3a 64 34 3b 20 6e 61 0a 20 20 20 20 46 43 | :0a:09:80:88:ed:66:d4; na.    FC\n#&gt; 34 73 3a 20 46 43 50 20 5b 4e 45 54 41 50 50 20 20 4c 55 4e 20 20 20 20 20 20 20 20 20 20 20 20 | 4s: FCP [NETAPP  LUN\n#&gt; 20 37 33 36 30 5d 0a 20 20 20 20 46 61 62 72 69 63 20 50 6f 72 74 20 4e 61 6d 65 3a 20 32 30 3a |  7360].    Fabric Port Name: 20:\n#&gt; 30 37 3a 30 30 3a 30 35 3a 33 33 3a 64 34 3a 30 36 3a 34 64 20 0a 20 20 20 20 50 65 72 6d 61 6e | 07:00:05:33:d4:06:4d .    Perman\n#&gt; 65 6e 74 20 50 6f 72 74 20 4e 61 6d 65 3a 20 35 30 3a 30 61 3a 30 39 3a 38 34 3a 38 38 3a 65 64 | ent Port Name: 50:0a:09:84:88:ed\n#&gt; 3a 36 36 3a 64 34 0a 20 20 20 20 50 6f 72 74 20 49 6e 64 65 78 3a 20 37 0a 20 20 20 20 53 68 61 | :66:d4.    Port Index: 7.    Sha\n#&gt; 72 65 20 41 72 65 61 3a 20 4e 6f 0a 20 20 20 20 44 65 76 69 63 65 20 53 68 61 72 65 64 20 69 6e | re Area: No.    Device Shared in\n#&gt; 20 4f 74 68 65 72 20 41 44 3a 20 4e 6f 0a 20 20 20 20 52 65 64 69 72 65 63 74 3a 20 4e 6f 20 0a |  Other AD: No.    Redirect: No .\n#&gt; 20 20 20 20 50 61 72 74 69 61 6c 3a 20 4e 6f 0a 20 20 20 20 4c 53 41 4e 3a 20 4e 6f 0a 20 4e 20 |     Partial: No.    LSAN: No. N\n#&gt; 20 20 20 30 31 30 61 30 30 3b 20 20 20 20 20 20 33 3b 31 30 3a 30 30 3a 30 30 3a 39 30 3a 66 61 |    010a00;      3;10:00:00:90:fa\n#&gt; 3a 32 65 3a 64 64 3a 39 66 3b 32 30 3a 30 30 3a 30 30 3a 39 30 3a 66 61 3a 32 65 3a 64 64 3a 39 | :2e:dd:9f;20:00:00:90:fa:2e:dd:9\n#&gt; 66 3b 20 6e 61 0a 20 20 20 20 46 43 34 73 3a 20 49 50 46 43 20 46 43 50 20 0a 20 20 20 20 50 6f | f; na.    FC4s: IPFC FCP .    Po\n#&gt; 72 74 53 79 6d 62 3a 20 5b 33 34 5d 20 22 45 6d 75 6c 65 78 20 50 50 4e 2d 31 30 3a 30 30 3a 30 | rtSymb: [34] \"Emulex PPN-10:00:0\n#&gt; 30 3a 39 30 3a 66 61 3a 32 65 3a 64 64 3a 39 66 22 0a 20 20 20 20 4e 6f 64 65 53 79 6d 62 3a 20 | 0:90:fa:2e:dd:9f\".    NodeSymb:\n#&gt; 5b 33 37 5d 20 22 45 6d 75 6c 65 78 20 37 31 30 31 36 38 34 20 46 56 31 30 2e 36 2e 31 36 38 2e | [37] \"Emulex 7101684 FV10.6.168.\n#&gt; 30 20 44 56 33 2e 30 2e 30 32 20 22 0a 20 20 20 20 46 61 62 72 69 63 20 50 6f 72 74 20 4e 61 6d | 0 DV3.0.02 \".    Fabric Port Nam\n#&gt; 65 3a 20 32 30 3a 30 61 3a 30 30 3a 30 35 3a 33 33 3a 64 34 3a 30 36 3a 34 64 20 0a 20 20 20 20 | e: 20:0a:00:05:33:d4:06:4d .\n#&gt; 50 65 72 6d 61 6e 65 6e 74 20 50 6f 72 74 20 4e 61 6d 65 3a 20 31 30 3a 30 30 3a 30 30 3a 39 30 | Permanent Port Name: 10:00:00:90\n#&gt; 3a 66 61 3a 32 65 3a 64 64 3a 39 66 0a 20 20 20 20 50 6f 72 74 20 49 6e 64 65 78 3a 20 31 30 0a | :fa:2e:dd:9f.    Port Index: 10.\n#&gt; 20 20 20 20 53 68 61 72 65 20 41 72 65 61 3a 20 4e 6f 0a 20 20 20 20 44 65 76 69 63 65 20 53 68 |     Share Area: No.    Device Sh\n#&gt; 61 72 65 64 20 69 6e 20 4f 74 68 65 72 20 41 44 3a 20 4e 6f 0a 20 20 20 20 52 65 64 69 72 65 63 | ared in Other AD: No.    Redirec\n#&gt; 74 3a 20 4e 6f 20 0a 20 20 20 20 50 61 72 74 69 61 6c 3a 20 4e 6f 0a 20 20 20 20 4c 53 41 4e 3a | t: No .    Partial: No.    LSAN:\n#&gt; 20 4e 6f 0a 20 4e 20 20 20 20 30 31 30 62 30 30 3b 20 20 20 20 32 2c 33 3b 32 30 3a 30 30 3a 30 |  No. N    010b00;    2,3;20:00:0\n#&gt; 30 3a 31 31 3a 30 64 3a 33 34 3a 35 36 3a 30 30 3b 32 30 3a 30 30 3a 30 30 3a 31 31 3a 30 64 3a | 0:11:0d:34:56:00;20:00:00:11:0d:\n#&gt; 33 34 3a 35 36 3a 30 30 3b 20 6e 61 0a 20 20 20 20 46 43 34 73 3a 20 46 43 50 20 0a 20 20 20 20 | 34:56:00; na.    FC4s: FCP .\n#&gt; 50 6f 72 74 53 79 6d 62 3a 20 5b 32 32 5d 20 22 53 41 4e 42 6c 61 7a 65 20 46 43 20 50 6f 72 74 | PortSymb: [22] \"SANBlaze FC Port\n#&gt; 20 54 61 72 67 30 22 0a 20 20 20 20 46 61 62 72 69 63 20 50 6f 72 74 20 4e 61 6d 65 3a 20 32 30 |  Targ0\".    Fabric Port Name: 20\n#&gt; 3a 30 62 3a 30 30 3a 30 35 3a 33 33 3a 64 34 3a 30 36 3a 34 64 20 0a 20 20 20 20 50 65 72 6d 61 | :0b:00:05:33:d4:06:4d .    Perma\n#&gt; 6e 65 6e 74 20 50 6f 72 74 20 4e 61 6d 65 3a 20 32 30 3a 30 30 3a 30 30 3a 31 31 3a 30 64 3a 33 | nent Port Name: 20:00:00:11:0d:3\n#&gt; 34 3a 35 36 3a 30 30 0a 20 20 20 20 50 6f 72 74 20 49 6e 64 65 78 3a 20 31 31 0a 20 20 20 20 53 | 4:56:00.    Port Index: 11.    S\n#&gt; 68 61 72 65 20 41 72 65 61 3a 20 4e 6f 0a 20 20 20 20 44 65 76 69 63 65 20 53 68 61 72 65 64 20 | hare Area: No.    Device Shared\n#&gt; 69 6e 20 4f 74 68 65 72 20 41 44 3a 20 4e 6f 0a 20 20 20 20 52 65 64 69 72 65 63 74 3a 20 4e 6f | in Other AD: No.    Redirect: No\n#&gt; 20 0a 20 20 20 20 50 61 72 74 69 61 6c 3a 20 4e 6f 0a 20 20 20 20 4c 53 41 4e 3a 20 4e 6f 0a 20 |  .    Partial: No.    LSAN: No.\n#&gt; 4e 20 20 20 20 30 31 30 65 30 30 3b 20 20 20 20 32 2c 33 3b 32 30 3a 30 31 3a 30 30 3a 31 31 3a | N    010e00;    2,3;20:01:00:11:\n#&gt; 30 64 3a 33 34 3a 35 37 3a 30 30 3b 32 30 3a 30 31 3a 30 30 3a 31 31 3a 30 64 3a 33 34 3a 35 37 | 0d:34:57:00;20:01:00:11:0d:34:57\n#&gt; 3a 30 30 3b 20 6e 61 0a 20 20 20 20 46 43 34 73 3a 20 46 43 50 20 0a 20 20 20 20 50 6f 72 74 53 | :00; na.    FC4s: FCP .    PortS\n#&gt; 79 6d 62 3a 20 5b 32 32 5d 20 22 53 41 4e 42 6c 61 7a 65 20 46 43 20 50 6f 72 74 20 54 61 72 67 | ymb: [22] \"SANBlaze FC Port Targ\n#&gt; 30 22 0a 20 20 20 20 46 61 62 72 69 63 20 50 6f 72 74 20 4e 61 6d 65 3a 20 32 30 3a 30 65 3a 30 | 0\".    Fabric Port Name: 20:0e:0\n#&gt; 30 3a 30 35 3a 33 33 3a 64 34 3a 30 36 3a 34 64 20 0a 20 20 20 20 50 65 72 6d 61 6e 65 6e 74 20 | 0:05:33:d4:06:4d .    Permanent\n#&gt; 50 6f 72 74 20 4e 61 6d 65 3a 20 32 30 3a 30 31 3a 30 30 3a 31 31 3a 30 64 3a 33 34 3a 35 37 3a | Port Name: 20:01:00:11:0d:34:57:\n#&gt; 30 30 0a 20 20 20 20 50 6f 72 74 20 49 6e 64 65 78 3a 20 31 34 0a 20 20 20 20 53 68 61 72 65 20 | 00.    Port Index: 14.    Share\n#&gt; 41 72 65 61 3a 20 4e 6f 0a 20 20 20 20 44 65 76 69 63 65 20 53 68 61 72 65 64 20 69 6e 20 4f 74 | Area: No.    Device Shared in Ot\n#&gt; 68 65 72 20 41 44 3a 20 4e 6f 0a 20 20 20 20 52 65 64 69 72 65 63 74 3a 20 4e 6f 20 0a 20 20 20 | her AD: No.    Redirect: No .\n#&gt; 20 50 61 72 74 69 61 6c 3a 20 4e 6f 0a 20 20 20 20 4c 53 41 4e 3a 20 4e 6f 0a 54 68 65 20 4c 6f |  Partial: No.    LSAN: No.The Lo\n#&gt; 63 61 6c 20 4e 61 6d 65 20 53 65 72 76 65 72 20 68 61 73 20 34 20 65 6e 74 72 69 65 73 20 7d 0a | cal Name Server has 4 entries }.\n# io3 fast, cin: 0, cout: 1, cerr: 1\n# stdout, bytes read: 0 at offset 1568\n# stderr, bytes read: 0\n# leaving _io3()\n# _waitpid(5392) =&gt; pid: 5392, rc: 0, err:\n{\n Type Pid    COS     PortName                NodeName                 TTL(sec)\n N    010700;      3;50:0a:09:84:88:ed:66:d4;50:0a:09:80:88:ed:66:d4; na\n    FC4s: FCP [NETAPP  LUN             7360]\n    Fabric Port Name: 20:07:00:05:33:d4:06:4d\n    Permanent Port Name: 50:0a:09:84:88:ed:66:d4\n    Port Index: 7\n    Share Area: No\n    Device Shared in Other AD: No\n    Redirect: No\n    Partial: No\n    LSAN: No\n N    010a00;      3;10:00:00:90:fa:2e:dd:9f;20:00:00:90:fa:2e:dd:9f; na\n    FC4s: IPFC FCP\n    PortSymb: [34] \"Emulex PPN-10:00:00:90:fa:2e:dd:9f\"\n    NodeSymb: [37] \"Emulex 7101684 FV10.6.168.0 DV3.0.02 \"\n    Fabric Port Name: 20:0a:00:05:33:d4:06:4d\n    Permanent Port Name: 10:00:00:90:fa:2e:dd:9f\n    Port Index: 10\n    Share Area: No\n    Device Shared in Other AD: No\n    Redirect: No\n    Partial: No\n    LSAN: No\n N    010b00;    2,3;20:00:00:11:0d:34:56:00;20:00:00:11:0d:34:56:00; na\n    FC4s: FCP\n    PortSymb: [22] \"SANBlaze FC Port Targ0\"\n    Fabric Port Name: 20:0b:00:05:33:d4:06:4d\n    Permanent Port Name: 20:00:00:11:0d:34:56:00\n    Port Index: 11\n    Share Area: No\n    Device Shared in Other AD: No\n    Redirect: No\n    Partial: No\n    LSAN: No\n N    010e00;    2,3;20:01:00:11:0d:34:57:00;20:01:00:11:0d:34:57:00; na\n    FC4s: FCP\n    PortSymb: [22] \"SANBlaze FC Port Targ0\"\n    Fabric Port Name: 20:0e:00:05:33:d4:06:4d\n    Permanent Port Name: 20:01:00:11:0d:34:57:00\n    Port Index: 14\n    Share Area: No\n    Device Shared in Other AD: No\n    Redirect: No\n    Partial: No\n    LSAN: No\nThe Local Name Server has 4 entries }\n\n2015/07/30 00:18:23 nsshow successful\n2015/07/30 00:18:26 create zone on the switch 10.227.0.216 using zonecreate\n# call args: ['ssh','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--','zonecreate \"test5\", \" 20:01:00:11:0d:34:57:00\" ']\n# open_ex: ['ssh','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--','zonecreate \"test5\", \" 20:01:00:11:0d:34:57:00\" ']\n# io3 mloop, cin: 0, cout: 1, cerr: 1\n# io3 fast, cin: 0, cout: 1, cerr: 1\n# stdout, bytes read: 0 at offset 0\n# stderr, bytes read: 0\n# leaving _io3()\n# _waitpid(5393) =&gt; pid: 5393, rc: 0, err:\n\n2015/07/30 00:18:27 zonecreate successful\n# call args: ['ssh','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--','cfgadd \"FC_DVT\", \"test5\"']\n# open_ex: ['ssh','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--','cfgadd \"FC_DVT\", \"test5\"']\n# io3 mloop, cin: 0, cout: 1, cerr: 1\n# io3 fast, cin: 0, cout: 1, cerr: 1\n# stdout, bytes read: 0 at offset 0\n# stderr, bytes read: 0\n# leaving _io3()\n# _waitpid(5394) =&gt; pid: 5394, rc: 0, err:\n\n# call args: ['ssh','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--']\n# open_ex: ['ssh','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--']\n# io3 mloop, cin: 1, cout: 1, cerr: 1\n# io3 fast, cin: 1, cout: 1, cerr: 1\n# stdin, bytes written: 7\n#&gt; 63 66 67 73 61 76 65                                                                            | cfgsave\n# io3 mloop, cin: 0, cout: 1, cerr: 1\n# io3 fast, cin: 0, cout: 1, cerr: 1\n# stderr, bytes read: 72\n# io3 fast, cin: 0, cout: 1, cerr: 1\n# stdout, bytes read: 369 at offset 0\n#&gt; 59 6f 75 20 61 72 65 20 61 62 6f 75 74 20 74 6f 20 73 61 76 65 20 74 68 65 20 44 65 66 69 6e 65 | You are about to save the Define\n#&gt; 64 20 7a 6f 6e 69 6e 67 20 63 6f 6e 66 69 67 75 72 61 74 69 6f 6e 2e 20 54 68 69 73 0a 61 63 74 | d zoning configuration. This.act\n#&gt; 69 6f 6e 20 77 69 6c 6c 20 6f 6e 6c 79 20 73 61 76 65 20 74 68 65 20 63 68 61 6e 67 65 73 20 6f | ion will only save the changes o\n#&gt; 6e 20 44 65 66 69 6e 65 64 20 63 6f 6e 66 69 67 75 72 61 74 69 6f 6e 2e 0a 49 66 20 74 68 65 20 | n Defined configuration..If the\n#&gt; 75 70 64 61 74 65 20 69 6e 63 6c 75 64 65 73 20 63 68 61 6e 67 65 73 20 74 6f 20 6f 6e 65 20 6f | update includes changes to one o\n#&gt; 72 20 6d 6f 72 65 20 74 72 61 66 66 69 63 20 69 73 6f 6c 61 74 69 6f 6e 0a 7a 6f 6e 65 73 2c 20 | r more traffic isolation.zones,\n#&gt; 79 6f 75 20 6d 75 73 74 20 69 73 73 75 65 20 74 68 65 20 27 63 66 67 65 6e 61 62 6c 65 27 20 63 | you must issue the 'cfgenable' c\n#&gt; 6f 6d 6d 61 6e 64 20 66 6f 72 20 74 68 65 20 63 68 61 6e 67 65 73 0a 74 6f 20 74 61 6b 65 20 65 | ommand for the changes.to take e\n#&gt; 66 66 65 63 74 2e 0a 44 6f 20 79 6f 75 20 77 61 6e 74 20 74 6f 20 73 61 76 65 20 74 68 65 20 44 | ffect..Do you want to save the D\n#&gt; 65 66 69 6e 65 64 20 7a 6f 6e 69 6e 67 20 63 6f 6e 66 69 67 75 72 61 74 69 6f 6e 20 6f 6e 6c 79 | efined zoning configuration only\n#&gt; 3f 20 20 28 79 65 73 2c 20 79 2c 20 6e 6f 2c 20 6e 29 3a 20 5b 6e 6f 5d 20 0a 0a 4f 70 65 72 61 | ?  (yes, y, no, n): [no] ..Opera\n#&gt; 74 69 6f 6e 20 63 61 6e 63 65 6c 65 64 2e 2e 2e 0a                                              | tion canceled....\n# io3 fast, cin: 0, cout: 1, cerr: 1\n# stdout, bytes read: 0 at offset 369\n# stderr, bytes read: 0\n# leaving _io3()\n# _waitpid(5395) =&gt; pid: 5395, rc: 63488, err:\n# set_error(5 - child exited with code 248)\nremote find command failed: child exited with code 248 at ./switchconfig.pl line 46.\n# DESTROY(Net::OpenSSH=HASH(0x1c89610), pid: 5386)\n# sending exit control to master\n# call args: ['ssh','-O','exit','-T','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--']\n# open_ex: ['ssh','-O','exit','-T','-S','/root/.libnet-openssh-perl/admin-10.227.0.216-5384-5523','-l','admin','10.227.0.216','--']\n# io3 mloop, cin: 0, cout: 1, cerr: 0\n# io3 fast, cin: 0, cout: 1, cerr: 0\n# stdout, bytes read: 20 at offset 0\n#&gt; 45 78 69 74 20 72 65 71 75 65 73 74 20 73 65 6e 74 2e 0d 0a                                     | Exit request sent...\n# io3 fast, cin: 0, cout: 1, cerr: 0\n# stdout, bytes read: 0 at offset 20\n# leaving _io3()\n# _waitpid(5396) =&gt; pid: 5396, rc: 0, err:\n# set_error(1 - aborted)\n# master state jumping from _STATE_RUNNING to _STATE_KILLING\n# killing master\n# _master_kill: 5386\n# waitpid(master: 5386) =&gt; pid: 0, rc:\n# waitpid(master: 5386) =&gt; pid: 5386, rc: Interrupted system call\n# master state jumping from _STATE_KILLING to _STATE_GONE\n</code></pre>\n"}, {"tags": ["javascript", "ajax", "perl", "dancer"], "answers": [{"comments": [{"owner": {"reputation": 1666, "user_id": 1398409, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ffd92b5689f324924cc7087b4dac6e49?s=128&d=identicon&r=PG", "display_name": "Futuregeek", "link": "https://stackoverflow.com/users/1398409/futuregeek"}, "edited": false, "score": 0, "creation_date": 1438196096, "post_id": 31701105, "comment_id": 51355831, "body": "I have tried my $con = params-&gt;{&#39;con&#39;}; it was working. but some time it was not workng. ie, values are not getting some times"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 1666, "user_id": 1398409, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ffd92b5689f324924cc7087b4dac6e49?s=128&d=identicon&r=PG", "display_name": "Futuregeek", "link": "https://stackoverflow.com/users/1398409/futuregeek"}, "edited": false, "score": 0, "creation_date": 1438210074, "post_id": 31701105, "comment_id": 51362840, "body": "@Futuregeek That&#39;s extremely odd. Whatever you do, it should consistently work or consistently not work. If I were in your position, I&#39;d do what sometimes works and then focus on figuring out why it sometimes doesn&#39;t."}, {"owner": {"reputation": 1666, "user_id": 1398409, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ffd92b5689f324924cc7087b4dac6e49?s=128&d=identicon&r=PG", "display_name": "Futuregeek", "link": "https://stackoverflow.com/users/1398409/futuregeek"}, "edited": false, "score": 0, "creation_date": 1438250697, "post_id": 31701105, "comment_id": 51378227, "body": "yes. That is what I also doing. I couldn&#39;t figure our why it is not coming in params. but it is getting in request-&gt;body everytime"}, {"owner": {"reputation": 131, "user_id": 1037763, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/d4a98e635114d34f1d43c8feafbe3a9f?s=128&d=identicon&r=PG", "display_name": "user1037763", "link": "https://stackoverflow.com/users/1037763/user1037763"}, "edited": false, "score": 0, "creation_date": 1438607254, "post_id": 31701105, "comment_id": 51504549, "body": "When it doesn&#39;t work you probably pass on an array as opposed to a hash?"}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 1, "last_activity_date": 1438174702, "creation_date": 1438174702, "answer_id": 31701105, "question_id": 31697554, "link": "https://stackoverflow.com/questions/31697554/ajax-pass-object-to-dancer-module/31701105#31701105", "title": "Ajax pass object to dancer module", "body": "<p>Assuming you're using Dancer::Plugin::Ajax (which it looks like you are), you can use the <code>param()</code> method in your ajax requests as usual.  So, e.g.,</p>\n\n<pre><code>my $con = param('con');\n</code></pre>\n\n<p>Based on your example <code>$body</code>, I would expect (but don't know for a fact) that <code>$con</code> would then be a hash reference with the keys <code>id</code>, <code>name</code>, and <code>address</code>, which could be accessed as normal with <code>$con-&gt;{id}</code>, etc.</p>\n"}], "owner": {"reputation": 1666, "user_id": 1398409, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ffd92b5689f324924cc7087b4dac6e49?s=128&d=identicon&r=PG", "display_name": "Futuregeek", "link": "https://stackoverflow.com/users/1398409/futuregeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1438174702, "creation_date": 1438164889, "question_id": 31697554, "link": "https://stackoverflow.com/questions/31697554/ajax-pass-object-to-dancer-module", "title": "Ajax pass object to dancer module", "body": "<p>I have an object called 'contacts' passed through ajax to perl dancer module like:</p>\n\n<pre><code>$.ajax({\n                type: \"POST\",\n                url: 'Contacts/savecontact',\n                dataType: \"json\",\n                data: {con: contacts},\n                success: function (msg) {\n                    alert(\"success\");\n                }\n   });\n</code></pre>\n\n<p>in module</p>\n\n<pre><code>any [ 'ajax', 'post'] =&gt; '/savecontact' =&gt; sub {\n    set serializer =&gt; 'JSON';\n    my $body = request-&gt;body;\n    ### I need to get each value in objects contact like name, id etc\n\n};\n</code></pre>\n\n<p>I tried to dump <code>$body</code>, it comes as <code>\"'con%5Bid%5D=1&amp;con%5Bname%5D=Amy+John&amp;con%5Baddress%5D=test+here'\"</code></p>\n\n<p>Anyone please help me to get the parameters? </p>\n"}, {"tags": ["perl", "recursion", "perl-module", "perl-data-structures"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438163481, "post_id": 31696786, "comment_id": 51333619, "body": "What is your question?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438163527, "post_id": 31696786, "comment_id": 51333642, "body": "And what&#39;s the expected output?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1438164358, "post_id": 31696786, "comment_id": 51334186, "body": "Missing <code>use strict; use warnings;</code>, don&#39;t call subs with <code>&amp;</code>, avoid global variables."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438164509, "post_id": 31696786, "comment_id": 51334280, "body": "Can tidy it up in various ways - none of those are what stops this code working, which is basically because the &#39;recursion&#39; doesn&#39;t actually &#39;unroll&#39; properly."}, {"owner": {"reputation": 23, "user_id": 1864183, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/346239a268ebbfc266616612026092e1?s=128&d=identicon&r=PG", "display_name": "Ashokprakash", "link": "https://stackoverflow.com/users/1864183/ashokprakash"}, "edited": false, "score": 0, "creation_date": 1438166930, "post_id": 31696786, "comment_id": 51335874, "body": "Expected output is ABC ACB BAC BCA CBA CAB , And this is an assignment, I cannot use any written modules or sub routines. I am able to do the same in C or Java but this one is not working in perl."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1438167337, "post_id": 31696786, "comment_id": 51336145, "body": "Instead of using a subroutine the swap could be written as <code>( $var1 , $var2 ) = ( $var2 , $var1 ) ;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438169616, "post_id": 31696786, "comment_id": 51337591, "body": "Does it have to be recursive? And does it need to handle a string with duplicate letters?"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438163731, "post_id": 31697014, "comment_id": 51333777, "body": "Figured there&#39;d be a module, and was just rummaging to see which one."}, {"owner": {"reputation": 23, "user_id": 1864183, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/346239a268ebbfc266616612026092e1?s=128&d=identicon&r=PG", "display_name": "Ashokprakash", "link": "https://stackoverflow.com/users/1864183/ashokprakash"}, "edited": false, "score": 0, "creation_date": 1438167269, "post_id": 31697014, "comment_id": 51336089, "body": "Thanks for the information! I already know there are modules available to permute. But I want core code, Something like normal recursion call which will print all the permutation of the string."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1438169182, "post_id": 31697014, "comment_id": 51337313, "body": "Why do you want reinvent the wheel?"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 3, "last_activity_date": 1438164078, "last_edit_date": 1438164078, "creation_date": 1438163588, "answer_id": 31697014, "question_id": 31696786, "link": "https://stackoverflow.com/questions/31696786/recursive-call-is-not-printing-the-expected-combinations-of-a-string-in-perl/31697014#31697014", "title": "Recursive call is not printing the expected combinations of a string in perl", "body": "<p>You can use CPAN module <a href=\"http://search.cpan.org/~phoenix/List-Permutor-0.022/Permutor.pm\" rel=\"nofollow\">List::Permutor</a> to print all possible permutations.</p>\n\n<p>For example:</p>\n\n<pre><code>use List::Permutor;\nmy $perm = new List::Permutor qw/ fred barney betty /;\nwhile (my @set = $perm-&gt;next) {\n  print \"One order is @set.\\n\";\n}\n</code></pre>\n\n<p>Another module is <a href=\"http://search.cpan.org/dist/Algorithm-Permute/Permute.pm\" rel=\"nofollow\">Algorithm::Permute</a> - Handy and fast permutation with object oriented interface.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1438170946, "creation_date": 1438170946, "answer_id": 31699759, "question_id": 31696786, "link": "https://stackoverflow.com/questions/31696786/recursive-call-is-not-printing-the-expected-combinations-of-a-string-in-perl/31699759#31699759", "title": "Recursive call is not printing the expected combinations of a string in perl", "body": "<p>I'm having a hard time understanding your code, but I <em>think</em> your problem is - you're trying do to it quite a heavy weight sort of a way, but importantly - you're not <em>actually</em> 'unwinding' the tail of your recursion.</p>\n\n<p>The point of a recursive algorithm is you traverse deep but collate the results. </p>\n\n<p>So I'd approach your problem like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $str = 'abcde';\n\nsub combinations {\n    my ($string) = @_;\n\n    print \"Starting combinations with \\\"$string\\\"\\n\";\n    if ( length($string) == 1 ) {\n        return ($string);\n    }\n    my @combinations;\n    for my $index ( 0 .. length($string) - 1 ) {\n        my @chars = split( //, $string );\n        my $firstletter = splice( @chars, $index, 1 );\n        print \"Keeping: $firstletter combining @chars\\n\";\n        foreach my $combination ( combinations( join( \"\", @chars ) ) ) {\n            print \"Got for @chars $combination\\n\";\n            push( @combinations, $firstletter . $combination );\n        }\n    }\n    return (@combinations);\n}\n\nprint join( \"\\n\", combinations($str) );\n</code></pre>\n\n<p>We have a recursive routine that's 'given' a string. It iterates each of the letters in that string - picking out the 'first letter' and handing the remaining letters to a recursive call to do the same thing. </p>\n\n<p>But then it's 'sticking back together' the results of the call, to make a list of 'results' - since each 'level' of the call should be generating a number of answers, which it then returns to the higher level call, etc.</p>\n\n<p>Note - I've also:</p>\n\n<ul>\n<li>turned on <code>strict</code> and <code>warnings</code> - which is really important when writing code. </li>\n<li>not used an <code>&amp;</code> prefix in sub calls. That's rarely what you want to be doing. </li>\n<li>not referenced <code>$_[0]</code> - as a style point, you should avoid using implicit variables <em>explicitly</em> any more than necessary. Name your args, and give them names that's clear what's going on. </li>\n</ul>\n"}], "owner": {"reputation": 23, "user_id": 1864183, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/346239a268ebbfc266616612026092e1?s=128&d=identicon&r=PG", "display_name": "Ashokprakash", "link": "https://stackoverflow.com/users/1864183/ashokprakash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 1, "accepted_answer_id": 31699759, "answer_count": 2, "score": 0, "last_activity_date": 1438170946, "creation_date": 1438163006, "last_edit_date": 1438164142, "question_id": 31696786, "link": "https://stackoverflow.com/questions/31696786/recursive-call-is-not-printing-the-expected-combinations-of-a-string-in-perl", "title": "Recursive call is not printing the expected combinations of a string in perl", "body": "<p>Below program is to print the all possible permutations of the string. I tried this in Perl. But the output is not seems to be the expected one. Could someone please help?</p>\n\n<pre><code>print \"Enter string \";\nchomp( $str = &lt;STDIN&gt; );\n\n$n = length($str);\n\n&amp;combi( $str, 0, ( $n - 1 ) );\n\nsub combi {\n    $l = $_[1];\n    $r = $_[2];\n    if ( $l == $r ) {\n        print( $_[0], \"\\n\" );\n    }\n    else {\n        @char = split( \"\", $_[0] );\n\n        for ( $i = $l; $i &lt;= $r; $i++ ) {\n            &amp;swap( $char[ $_[1] ], $char[$i] );\n            $res = join( \"\", @char );\n            &amp;combi( $res, ( ( $_[1] ) + 1 ), $r );\n            &amp;swap( $char[ $_[1] ], $char[$i] );\n        }\n    }\n}\n\nsub swap {\n    $temp = $_[0];\n    $_[0] = $_[1];\n    $_[1] = $temp;\n}\n</code></pre>\n\n<p>Output of the Program:</p>\n\n<pre><code>Enter String: abc\nabc\nacb\n</code></pre>\n"}, {"tags": ["mysql", "linux", "perl", "accounting", "freeradius"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1438162333, "post_id": 31696270, "comment_id": 51332897, "body": "Check this module. Hope this will help you <a href=\"http://search.cpan.org/~paulg/Logfile-Radius-1.14/Radius.pm\" rel=\"nofollow noreferrer\">Logfile::Radius</a>."}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 1, "creation_date": 1438165310, "post_id": 31696270, "comment_id": 51334850, "body": "@Mila Please post your script which you have already tried along with achieved output, instead of requesting for the existing script/solution. We will try to help in case if you stuck somewhere."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1438190580, "last_edit_date": 1438190580, "creation_date": 1438190161, "answer_id": 31707035, "question_id": 31696270, "link": "https://stackoverflow.com/questions/31696270/is-there-a-script-to-parse-radius-accounting-flat-files-for-export-to-seperate-m/31707035#31707035", "title": "Is there a script to parse radius accounting flat files for export to seperate mysql server", "body": "<p>I have done a lot of RADIUS stuff in the past including writing a FreeRADIUS database maintenance module, so I thought I'd write something up to get you going. You'll just have to do some research on how to read from a file as opposed to the <code>&lt;DATA&gt;</code> file handle.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %entries;\n\nwhile (&lt;DATA&gt;){\n\n    next if /^$/;\n\n    my ($date, $rest) = split /(?&lt;=\\d{2}:\\d{2}:\\d{2} \\d{4}) /;\n\n    $date =~ s/\\s+$//;\n    $rest =~ s/\\s+=\\s+/=/g;\n\n    my @packet = split /\\s+/, $rest;\n\n    my @headers;\n    my $data;\n\n    for (@packet){\n        push @headers, (split /=/)[0];\n        $data .= '; ' . (split /=/)[1];\n    }\n    $entries{header} = \"Header fields: \" . join('; ', @headers);\n    push @{$entries{data}}, \"$date$data\";\n}\n\n\nprint \"\\n$entries{header}\\n\\n\";\n\nfor (@{$entries{data}}){\n    print \"$_\\n\\n\";\n}\n\n__DATA__\nThu Jul 23 00:00:13 2015 Packet-Type = Access-Request Framed-Protocol = PPP User-Name = \"xxxx@adsl.xxxxx.xx\" CHAP-Password = 0x0111d9dr56ve5c417e42962f0d58f0c89 NAS-Port-Type = Ethernet NAS-Port = 4587858 NAS-Port-Id = \"1/0/0/531\" Service-Type = Framed-User NAS-IP-Address = 1.1.1.1 Acct-Session-Id = \"00460152\" CHAP-Challenge = 0x03298b01bef9dc99e7d33e4038462a8e Message-Authenticator = 0x321aaa0d3eac236f771a4caf4ad84874 Proxy-State = 0x313239\n\nThu Jul 23 00:00:14 2015 Packet-Type = Access-Request Framed-Protocol = PPP User-Name = \"xxxx@wimax.xxxxx.xx\" CHAP-Password = 0x02b0764233ba26c11994d61cfe663668b0 NAS-Port = 655324 NAS-Port-Id = \"Uniq-Sess-ID869\" Connect-Info = \"1000000000\" NAS-Port-Type = Virtual Service-Type = Framed-User NAS-IP-Address = 1.1.1.1 Acct-Session-Id = \"0009FFDC\" CHAP-Challenge = 0xb2627204f7c8982beaf12f59cd1e8620 Message-Authenticator = 0x3f1dba6b5d8b9ee0a0963ce76233086b Proxy-State = 0x3638\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5076, "user_id": 2117998, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/33e568baba35cd1512dcd8adacc393d7?s=128&d=identicon&r=PG", "display_name": "Arran Cudbard-Bell", "link": "https://stackoverflow.com/users/2117998/arran-cudbard-bell"}, "is_accepted": false, "score": 0, "last_activity_date": 1438260204, "creation_date": 1438260204, "answer_id": 31724111, "question_id": 31696270, "link": "https://stackoverflow.com/questions/31696270/is-there-a-script-to-parse-radius-accounting-flat-files-for-export-to-seperate-m/31724111#31724111", "title": "Is there a script to parse radius accounting flat files for export to seperate mysql server", "body": "<p>Just read them back in using the detail listener.</p>\n\n<p>Paste the text below into <code>sites-enabled/detail</code> (or <code>sites-available/detail</code> and symlink that to <code>sites-enabled</code>), and fixup filename to point to where your detail files live.</p>\n\n<p>It will process them sequentially, running each packet through the SQL module, and removing the files when all packets have been processed (you'll want to keep a backup).</p>\n\n<pre><code>server read-detail.example.com {\n    listen {\n        type = detail\n        filename = \"${radacctdir}/detail.example.com/detail-*:*\"\n        load_factor = 10\n        track = yes\n    }\n    preacct {\n      acct_unique\n    }\n    accounting {\n      sql\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5168497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5876a04485ac0aff6b81fb7b72b702a0?s=128&d=identicon&r=PG&f=1", "display_name": "Mila", "link": "https://stackoverflow.com/users/5168497/mila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1241, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1438260204, "creation_date": 1438161627, "question_id": 31696270, "link": "https://stackoverflow.com/questions/31696270/is-there-a-script-to-parse-radius-accounting-flat-files-for-export-to-seperate-m", "title": "Is there a script to parse radius accounting flat files for export to seperate mysql server", "body": "<p>I have been searching for an answer to import flat files for radius accounting records into a seperate MYSQL server (not hosted on the same radius server).\nWe have months worth of reply-detail logs, auth-detail logs and detail logs from 4 different servers that needs to be imported.</p>\n\n<p>A typical reply packet looks as follows - I used a dummy ip for demonstration purposes.</p>\n\n<blockquote>\n  <p>Thu Jul 23 00:00:13 2015\n  Packet-Type = Access-Request\n  Framed-Protocol = PPP\n  User-Name = \"xxxx@adsl.xxxxx.xx\"\n  CHAP-Password = 0x0111d9dr56ve5c417e42962f0d58f0c89\n  NAS-Port-Type = Ethernet\n  NAS-Port = 4587858\n  NAS-Port-Id = \"1/0/0/531\"\n  Service-Type = Framed-User\n  NAS-IP-Address = 1.1.1.1\n  Acct-Session-Id = \"00460152\"\n  CHAP-Challenge = 0x03298b01bef9dc99e7d33e4038462a8e\n  Message-Authenticator = 0x321aaa0d3eac236f771a4caf4ad84874\n  Proxy-State = 0x313239</p>\n  \n  <p>Thu Jul 23 00:00:14 2015\n  Packet-Type = Access-Request\n  Framed-Protocol = PPP\n  User-Name = \"xxxx@wimax.xxxxx.xx\"\n  CHAP-Password = 0x02b0764233ba26c11994d61cfe663668b0\n  NAS-Port = 655324\n  NAS-Port-Id = \"Uniq-Sess-ID869\"\n  Connect-Info = \"1000000000\"\n  NAS-Port-Type = Virtual\n  Service-Type = Framed-User\n  NAS-IP-Address = 1.1.1.1\n  Acct-Session-Id = \"0009FFDC\"\n  CHAP-Challenge = 0xb2627204f7c8982beaf12f59cd1e8620\n  Message-Authenticator = 0x3f1dba6b5d8b9ee0a0963ce76233086b\n  Proxy-State = 0x3638</p>\n</blockquote>\n\n<p>I need a script that can parse the flat file to something like this. I am currently busy with a perl script to achieve this, but if there is an existing script to do this even better.</p>\n\n<blockquote>\n  <p>Header fields:\n  Date; Packet-Type;PPP;Framed-Protocol; User-Name; CHAP-Password ;NAS-Port;NAS-Port-Type ;NAS-Port;Connect-Info ;NAS-Port-Id ;Service-Type;NAS-IP-Address; Acct-Session-Id;CHAP-Challenge; Message-Authenticator; Proxy-State</p>\n  \n  <p>Thu Jul 23 00:00:13 2015; Access-Request;PPP; \"xxxx@adsl.xxxxx.xx\"; 0x0111d9dr56ve5c417e42962f0d58f0c89;Ethernet;4587858;;\"1/0/0/531\";Framed-User;1.1.1.1; \"00460152\";0x03298b01bef9dc99e7d33e4038462a8e; 0x321aaa0d3eac236f771a4caf4ad84874; 0x313239</p>\n  \n  <p>Thu Jul 23 00:00:14 2015;Access-Request; PPP;\"xxxx@wimax.xxxxx.xx\"; 0x02b0764233ba26c11994d61cfe663668b0;655324; \"Uniq-Sess-ID869\";\"1000000000\";Framed-User; 1.1.1.1; \"0009FFDC\"; 0xb2627204f7c8982beaf12f59cd1e8620; 0x3f1dba6b5d8b9ee0a0963ce76233086b; 0x3638</p>\n</blockquote>\n"}, {"tags": ["perl", "scripting"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1438159994, "post_id": 31695530, "comment_id": 51331370, "body": "Please provide sample file input and output."}, {"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1438160585, "post_id": 31695530, "comment_id": 51331730, "body": "Hello Arunesh. I&#39;ve updated the question with the input &amp; output details."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438162218, "post_id": 31695530, "comment_id": 51332839, "body": "The problem is not that Perl can&#39;t find a definition for <code>isdigit</code>. It&#39;s that you are passing <code>isdigit</code> a value that is undefined. So one of the <code>$subfields[$k]</code> values that you have is undefined."}, {"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 0, "creation_date": 1438162364, "post_id": 31695530, "comment_id": 51332924, "body": "You are right Dave. Hmm, I&#39;m now struggling to implement this."}, {"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 0, "creation_date": 1438163515, "post_id": 31695530, "comment_id": 51333635, "body": "Hello Dave &amp; Arunesh - I&#39;ve updated the script as per Sobrique&#39;s comments. I get a different error now. Could you please help me understand &amp; fix it please? I&#39;ve updated the new script as &quot;UPDATED SCRIPT&quot; int he question area"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438175979, "post_id": 31695530, "comment_id": 51342034, "body": "I see that your copy &amp; paste might have mangled original data lines (e.g. by inserting line-breaks). Is it possible that these fields are actually fixed-width but due to something going wrong in your copy &amp; paste, they appear to to be?"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1438180330, "post_id": 31695530, "comment_id": 51345512, "body": "<code>$l = $l++</code> makes me uncomfortable."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1438181694, "post_id": 31695530, "comment_id": 51346564, "body": "@JimDavis Especially since <code>$l++</code> or <code>$l += 1</code> is probably what the OP wants. OP: Translated to words, <code>$l = $l++</code> can be read as &quot;assign <code>$l</code> to <code>$l</code> and then increment <code>$l</code>.&quot; If the compiler interprets your statement that way, all you have created is a redundancy. However, at least one of my <code>perl</code>s gives: <code>$ perl -wE &#39;$l = 2; $l = $l++; say $l&#39;</code> \u23ce <code>$ 2</code> <b><i>Ouch!</i></b> Also, given that <code>$1</code> is a legal variable in Perl, using <code>$l</code> is needlessly confusing."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 0, "creation_date": 1438160672, "post_id": 31695808, "comment_id": 51331786, "body": "Hello Sobrique - Many thanks for this. I will test this solution. I&#39;ve updated the question too with input &amp; output details"}, {"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 0, "creation_date": 1438163437, "post_id": 31695808, "comment_id": 51333591, "body": "Hello Sobrique, - I updated the script. I&#39;m testing by appending just the $join_fields[0]&quot;. However, it&#39;s complaining about the Use of uninitialized value $temp in concatenation (.) or string at ./test.pl line 25. Could you please help me get this right :-( I&#39;ve updated the question with &quot;UPDATED SCRIPT&quot;"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438177234, "post_id": 31695808, "comment_id": 51342967, "body": "Don&#39;t forget you can use <code>split</code> with a limit. See <a href=\"http://stackoverflow.com/a/31702053/100754\">my answer</a>."}, {"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 0, "creation_date": 1438412587, "post_id": 31695808, "comment_id": 51451434, "body": "Hello Sobrique - Thank you heaps.  You&#39;ve been of immense help"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1438160962, "last_edit_date": 1438160962, "creation_date": 1438160338, "answer_id": 31695808, "question_id": 31695530, "link": "https://stackoverflow.com/questions/31695530/in-perl-how-can-i-parse-space-delimited-data-which-also-include-a-field-with-sp/31695808#31695808", "title": "In Perl, how can I parse space delimited data which also include a field with spaces?", "body": "<p>Without your source information, I can't tell for sure, but  think you probably have a fence post error here:</p>\n\n<pre><code>(my $fl_1, my $fl_2, my $fl_3, my $fl_4, my @subfields) = split;\n\nfor (my $k=5; $k &lt;= 53; $k++) {\n            if(isdigit($subfields[$k])) {\n</code></pre>\n\n<p>You're iterating @subfields from 5 to 53. But the first 'subfield' field is the '4th' field in your list. Unless you really mean from field <code>9-57</code>. </p>\n\n<p>I don't think you do, because even if you take out the 'wrapping' on your sample lines - your 'subfields' only have 51 elements. This is the source of your problem. </p>\n\n<p>You should also note though that <code>split</code> splits on any whitespace. \nTherefore you get <code>@subfields</code> containing: </p>\n\n<pre><code>$VAR1 = [\n          'View',\n          'impl',\n          'details',\n          '34',\n          '33',\n          '2',\n</code></pre>\n\n<p>But I'd suggest you probably don't want to do it this way anyway - you only use <code>$k</code> to index <code>@subfields</code>. </p>\n\n<p>So why not instead:</p>\n\n<pre><code>foreach my $k_val ( @subfields ) { \n    if ( isdigit $k_val ) { \n         # etc... \n    }\n}\n</code></pre>\n\n<p>But you're also right - I get a warning that <code>isdigit</code> is deprecated:</p>\n\n<blockquote>\n  <p>Deprecated function whose use raises a warning, and which is slated to be removed in a future Perl version. It is very similar to matching against qr/ ^ [[:digit:]]+ $ /x , which you should convert to use instead.</p>\n</blockquote>\n\n<p>There's a variety of ways to do something similar - I would suggest you might want:</p>\n\n<pre><code>if ( $k_val =~ m/^\\d+$/ ) {\n</code></pre>\n\n<p>Which will use regular expressions to check that <code>$k_val</code> is only numeric (1 or more numeric chars). </p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 0, "creation_date": 1438174517, "post_id": 31698770, "comment_id": 51341042, "body": "Hello Arunesh - Many thanks. However, I get the below errors - readline() on unopened filehandle DATA at ./test.pl line 13. readline() on unopened filehandle DATA at ./test.pl line 14. Is this beacuse the file isn&#39;t opened? I did try opening file but I can&#39;t figure out if the the while &lt;FILE&gt; i still required. Could you please update the code &amp; show me how to open &amp; close file in this particular case?"}, {"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 0, "creation_date": 1438240376, "post_id": 31698770, "comment_id": 51371818, "body": "Hello Arunesh - Many thanks for your time. It still doesn&#39;t work fully. If a line has 2015 as one of the values, it seems to cut off all values from 2015 till the end of the line to a new line. Please could you help? Here&#39;s an example   LINE-1 =&gt; 2015-06-01,avbf,adfg,X,profile update by module8,181 ,178 ,11 ,0 ,34 ,108 ,131535 ,177479 ,0 ,1005 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0  LINE-2 =&gt; 2015,1835,455,0,,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0.0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,5 ,185 ,405 ,15  These should both be on the same line"}, {"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 0, "creation_date": 1438412566, "post_id": 31698770, "comment_id": 51451429, "body": "Arunesh - Thank you heaps.  You&#39;ve been of immense help"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1438179440, "last_edit_date": 1438179440, "creation_date": 1438168189, "answer_id": 31698770, "question_id": 31695530, "link": "https://stackoverflow.com/questions/31695530/in-perl-how-can-i-parse-space-delimited-data-which-also-include-a-field-with-sp/31698770#31698770", "title": "In Perl, how can I parse space delimited data which also include a field with spaces?", "body": "<p>As per I understood your requirement I have modified your script. I have modified the input record separator <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-filehandles\" rel=\"nofollow\"><code>$/</code></a> from <code>\\n</code> to <code>2015</code>, as your required string which is to be processed is separated by newline, Although the solution is quite hackish, But it will work:</p>\n\n<p>I will suggest you to check <a href=\"http://search.cpan.org/~smueller/File-Stream-2.30/lib/File/Stream.pm\" rel=\"nofollow\">File::Stream</a> to make input record separator <code>$/</code> a regex i.e if value is other than <code>2015</code> or something.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nlocal $/=\"2015\"; # set input record separator as 2015\nopen my $fh, '&lt;','file' or die \"unable to open file: $! \\n\";\nmy @subfields;\nmy $junk=&lt;$fh&gt;; # remove first one\nwhile(&lt;$fh&gt;){\n  chomp;  # remove 2015 from last\n  $_= $junk.$_; # concatenate 2015 at begining of $_\n  (my $fl_1, my $fl_2, my $fl_3, my $fl_4, my @subfields) = split;\n    my @join_fields; \n    my $new_val=\"\";\n     foreach my $k_val ( @subfields ) {\n      if ( $k_val =~ m/^\\d+(.\\d+)?$/ ) {\n            push(@join_fields,$k_val);   \n        }\n      else{\n          $new_val .= $k_val;\n       }\n    }\n\n   push(@join_fields,$new_val);\n   my $fl_5 = pop @join_fields; # pop out your fifth field here\n   print \"$fl_1 $fl_2 $fl_3 $fl_4 $fl_5 @join_fields \\n\";\n\n}\nclose($fh);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 0, "creation_date": 1438224536, "post_id": 31702053, "comment_id": 51366304, "body": "Hello Sinan - Brilliant. Thankyou very much. I get the error, &quot;Use of uninitialized value $fields in split at ./test.pl line 17, &lt;$IN&gt; line xxxxx&quot;. Please could you help fix this?"}, {"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 0, "creation_date": 1438233457, "post_id": 31702053, "comment_id": 51368706, "body": "Hello Sinan - I managed to figure that out. Thank you. In one of the lines of input, the input lines has a string &quot;N/A: WD25 : Delta pro seventeen under&quot; in the 5th field. For this, the script prints just &quot;: Delta pro seventeen under&quot;.  Should the code not interpret this as text &amp; print the whole string out?"}, {"owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "edited": false, "score": 1, "creation_date": 1438412551, "post_id": 31702053, "comment_id": 51451428, "body": "Sinan - Thank you heaps.  You&#39;ve been of immense help"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1438260114, "last_edit_date": 1438260114, "creation_date": 1438176986, "answer_id": 31702053, "question_id": 31695530, "link": "https://stackoverflow.com/questions/31695530/in-perl-how-can-i-parse-space-delimited-data-which-also-include-a-field-with-sp/31702053#31702053", "title": "In Perl, how can I parse space delimited data which also include a field with spaces?", "body": "<p>If these are indeed fixed-width fields that got mangled during copy &amp; paste, you should use <code>unpack</code>. Otherwise, you can take advantage of the fact that you can <a href=\"https://metacpan.org/pod/perlfunc#split-PATTERN-EXPR-LIMIT\" rel=\"nofollow\">specify a limit  when using <code>split</code></a>:</p>\n\n<blockquote>\n  <p>If <code>LIMIT</code> is specified and positive, it represents the maximum number of fields into which the <code>EXPR</code> may be split; in other words, <code>LIMIT</code> is one greater than the maximum number of times <code>EXPR</code> may be split.</p>\n</blockquote>\n\n<p>The original wording of the question seemed to imply that the fifth field, called <code>$msg</code> below, never contained digits. In light of OP's comment showing the presence of at least one row where the field contains the text <code>WD25</code>, I am updating the pattern below to be more permissive for the text in this field.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $i_file = 'userpf.input';\n\nopen my $IN, '&lt;', $i_file\n    or die \"Cannot open '$i_file': $!\";\n\nmy @data;\n\nwhile (my $line = &lt;$IN&gt;) {\n    next unless $line =~ /\\S/;\n    my ($date, $type, $serv, $flag, $rest) = split ' ', $line, 5;\n    my ($msg, $fields) = ($rest =~ /^ (.+?) \\s+ ([0-9] .+) /x);\n    push @data, [ $date, $type, $serv, $flag, $msg, split(' ', $fields) ];\n}\n\nfor my $x (@data) {\n    print \"'$_'\\n\" for @$x;\n}\n</code></pre>\n\n<p>I took the liberty of giving names to the initial fields.</p>\n"}], "owner": {"reputation": 35, "user_id": 5129890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e4695581567017b7cf6caad2a4d51fc?s=128&d=identicon&r=PG&f=1", "display_name": "userpf", "link": "https://stackoverflow.com/users/5129890/userpf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 31695808, "answer_count": 3, "score": -1, "last_activity_date": 1438260114, "creation_date": 1438159551, "last_edit_date": 1438177843, "question_id": 31695530, "link": "https://stackoverflow.com/questions/31695530/in-perl-how-can-i-parse-space-delimited-data-which-also-include-a-field-with-sp", "title": "In Perl, how can I parse space delimited data which also include a field with spaces?", "body": "<p>I got the error \"Use of uninitialized value in subroutine entry at ./test.pl line 20.\" when I run the below code.</p>\n\n<h2>INPUT</h2>\n\n<pre><code>2015-05-01      abc     serv1   X       View impl details        34      33      2       0       1       0       4552    3312    0       72      0       0       0       0       0       0       0\n       0       1       576     3       1       0       0       0       0       0       0       0       0       0.0     0       0       0       0       0       0       0       0       0       0       0       0\n       0       1       381     671     1\n2015-05-01      def   serv2   X       Assessment for next exam preview  22      22      0       0       1       0       1195    3577    0       3053    0       0       0       2       2       0\n       0       0       26      163     10      2       0       0       0       0       0       0       0       0       0.0     0       0       0       0       0       0       0       0       0       0       0\n       0       0       12      5       21      1\n</code></pre>\n\n<h2>OUTPUT</h2>\n\n<p>The first 4 fields separated by spaces have to be printed as it is. However, as you can see ,5th field on wards, there can be any number of space separated words. I want to club them all together as 5th field until a number is found as the next field. In the above sample input, I want \"View impl details\" as 5th field instead of \"view\" as 5th,\"impl\" as 6th and details as 7th fields. The same goes with 2nd row of data. I would like \"Assessment for next exam preview\" to appear as 5th field &amp; the rest as their own fields.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse POSIX;\n\nmy $i_file='../out/test.out';\nmy $o_file='../sql/test.out';\n\nmy $text_cont=\"\";\n\nopen (FILE, $i_file) or die \"Could not read from $i_file, program halting.\";\n    while(&lt;FILE&gt;) {\n        (my $fl_1, my $fl_2, my $fl_3, my $fl_4, my @subfields) = split;\n        my @join_fields;\n\n        my $l=0;\n        for (my $k=5; $k &lt;= 53; $k++) {\n            $join_fields[$l] = \"\";\n\n            if(isdigit($subfields[$k])) {\n                $join_fields[$l] = $subfields[$k];\n                $l = $l + 1;\n            }\n            else {\n                $join_fields[$l] = $join_fields[$l] . $subfields[$k];\n            }\n        }\n    }\nclose FILE;\n</code></pre>\n\n<p>I want to read thousands of lines from a file each line containing more than 50 fields separated by space. I'm reading each line, splitting the data by space as delimiter to start with. From the 5th field on wards, until I get a field with digits, I want to append the fields to the 5th field. Then finally print out the output. </p>\n\n<p>I'm new to Perl. My understanding of the error is that it is unable to find definition for \"isdigit\". However, looking at few solutions on the internet, I used the POSIX package. It doesn't seem to help. Could someone please help me achieve my requirement?</p>\n\n<h2>UPDATED SCRIPT</h2>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $i_file='../out/test.out';\nmy $o_file='../sql/test.sql';\n\nmy $text_cont=\" \";\n\nopen (FILE, $i_file) or die \"Could not read from $i_file, program halting.\";\n    while(&lt;FILE&gt;) {\n        (my $fl_1, my $fl_2, my $fl_3, my $fl_4, my @subfields) = split;\n        my @join_fields;\n\n        my $l=0;\n        foreach my $k_val ( @subfields ) {\n            #$join_fields[$l] = \"\";\n            if ($k_val ne \" \") {\n                if ( $k_val =~ m/^\\d+$/ ) {\n                    $join_fields[$l] = $k_val;\n                    $l = $l ++;\n                }\n                else {\n                    my $temp = $join_fields[$l];\n                    my $new_val = $temp.$k_val;\n                    $join_fields[$l] = $new_val;\n                }\n                $text_cont = $text_cont.\"$join_fields[0]\";\n            }\n        }\n    }\nclose FILE;\n\nopen STDOUT, \"&gt;\", $o_file or die \"$0: open: $!\";\n    print \"$text_cont\";\nclose STDOUT;\n</code></pre>\n"}, {"tags": ["perl", "shell", "initialization", "perl-module"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1438157843, "post_id": 31694845, "comment_id": 51330078, "body": "Show your real code. What you pasted doesn&#39;t have 77 lines."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438157908, "post_id": 31694845, "comment_id": 51330119, "body": "Which line is line 77? Look there. Also: <code>use strict;</code> <code>use warnings;</code> You may want to reframe the question though - it <i>looks</i> like what you&#39;re trying to do is generate random MAC addresses, and that&#39;s way easier than this."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438158149, "post_id": 31694845, "comment_id": 51330281, "body": "Also note that &quot;use of uninitialized value&quot; just means the value is <code>undef</code>. It doesn&#39;t mean a variable was never assigned to."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1438158314, "post_id": 31694845, "comment_id": 51330373, "body": "You might be interested to know that <code>$octate1++</code> does not trigger the undefined warning that <code>$octate1 = $octate1 + 1</code> does, when the variable is <code>undef</code>."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1438158388, "post_id": 31694845, "comment_id": 51330427, "body": "Also, why do you assign that to <code>$octate1</code> when you overwrite the value on the next line? <code>&quot;00:&quot; . &quot;$first&quot; . &quot;:&quot; . &quot;$second&quot;</code> is painful. It should be written <code>&quot;00:$first:$second&quot;</code>, or better yet <code>join &quot;:&quot;, &quot;00&quot;, $first, $second</code>"}, {"owner": {"reputation": 1255, "user_id": 888415, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/GhfxQ.jpg?s=128&g=1", "display_name": "Anil Kumar K K", "link": "https://stackoverflow.com/users/888415/anil-kumar-k-k"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1438160384, "post_id": 31694845, "comment_id": 51331624, "body": "@TLP  Rest of code is comment and use module code. $octate1 is initialized to 0 at the start. How can it be undef ? Also I am overwriting the value as it was throwing warning at ` $octat1 = $octate1 + 1 ` . I forgot to comment this line"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1438161004, "post_id": 31694845, "comment_id": 51331982, "body": "@AnilKumarKK &quot;How can it be undef ?&quot; - To answer that question, you need to <b>show your real code</b> in full."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438164803, "post_id": 31694845, "comment_id": 51334500, "body": "I find the presence of a trailing additional <code>return</code> line rather suspicious."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1438167582, "post_id": 31694845, "comment_id": 51336311, "body": "@AnilKumarKK &quot;How can it be undef?&quot; Well, irregardless of what is possible or not, the fact of the matter is that it <i>is</i> clearly undef. Most likely as a result of your using global variables, it has been altered somewhere, somehow. It does not really matter that you initialize it at the top of your module, if that module is called from another program, it can be altered. Subroutines are defined at compile time, and does not really follow the program flow."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1438164893, "last_edit_date": 1438164893, "creation_date": 1438160052, "answer_id": 31695691, "question_id": 31694845, "link": "https://stackoverflow.com/questions/31694845/perl-use-of-uninitialized-value-though-values-are-initialized/31695691#31695691", "title": "Perl : &quot;Use of uninitialized value&quot; though values are initialized", "body": "<p>We can't really answer your question, because your code isn't 77 lines long. Turning on <code>strict</code> and <code>warnings</code> would help too. </p>\n\n<p>However can I suggest you're doing something a lot more complicated than you need to - if you're trying to generate a random hex string mac address:</p>\n\n<pre><code>print join ( \":\", map { sprintf(\"%02X\", int (rand(  256))-1) } (0..5) );\n</code></pre>\n\n<p>Or as you indicate needing a <code>00</code> prefix: </p>\n\n<pre><code>print join ( \":\", \"00\", map { sprintf(\"%02X\", int (rand(  256))-1) } (0..4) );\n</code></pre>\n\n<p>I'm not sure what your issue with <code>sprintf</code> is - it's the tool for the job - but if that doesn't work there's other options to convert (you might have to write your own 'dectohex' function:</p>\n\n<pre><code>sub dec2hex_str {\n    my ($value) = @_;\n    my @conv = ( 0 .. 9, \"A\" .. \"F\" );\n    my $result = '';\n    while ($value) {\n        my $mod = $value % 16;\n        $value -= $mod;\n        $value /= 16;\n        $result = $conv[$mod] . $result;\n    }\n    if ( length($result) &lt; 2 ) {\n        $result = \"0\" . $result;\n    }\n    return $result;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1255, "user_id": 888415, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/GhfxQ.jpg?s=128&g=1", "display_name": "Anil Kumar K K", "link": "https://stackoverflow.com/users/888415/anil-kumar-k-k"}, "edited": false, "score": 0, "creation_date": 1438207067, "post_id": 31702320, "comment_id": 51361697, "body": "<code>our $octate1 = 0;</code> Doesn&#39;t this initialize the variable to 0 ?"}, {"owner": {"reputation": 758, "user_id": 4086509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmXxF.png?s=128&g=1", "display_name": "Sue D. Nymme", "link": "https://stackoverflow.com/users/4086509/sue-d-nymme"}, "edited": false, "score": 0, "creation_date": 1438261036, "post_id": 31702320, "comment_id": 51384962, "body": "Initialize, no.  It does assign the 0 to the variable, but only when the program flow gets to that point in the source file.  It&#39;s as though you put <code>our $octate1;</code> at the top of the file, and <code>$octate1=0;</code> later on in the file."}], "tags": [], "owner": {"reputation": 758, "user_id": 4086509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmXxF.png?s=128&g=1", "display_name": "Sue D. Nymme", "link": "https://stackoverflow.com/users/4086509/sue-d-nymme"}, "is_accepted": false, "score": 1, "last_activity_date": 1438177587, "creation_date": 1438177587, "answer_id": 31702320, "question_id": 31694845, "link": "https://stackoverflow.com/questions/31694845/perl-use-of-uninitialized-value-though-values-are-initialized/31702320#31702320", "title": "Perl : &quot;Use of uninitialized value&quot; though values are initialized", "body": "<p>I bet that in the top of the program, the part you didn't display in your question, your main program code is calling one or more of those subroutines.</p>\n\n<p>When you declare a variable with <code>my</code> or <code>our</code>, the initialization does not happen at compile-time.  It only happens when normal program flow gets to the statement.</p>\n\n<p>If my hunch is right, you can fix this problem by either moving the declaration to the top of your program, before any calls to functions that use the variables.  Or you can write explicit compile-time initialization like this:</p>\n\n<pre><code>our $octate1;\nour $octate2;\nour $octate3;\nBEGIN\n{\n    $octate1 = $octate2 = $octate3 = 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1255, "user_id": 888415, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/GhfxQ.jpg?s=128&g=1", "display_name": "Anil Kumar K K", "link": "https://stackoverflow.com/users/888415/anil-kumar-k-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438177587, "creation_date": 1438157602, "last_edit_date": 1438159461, "question_id": 31694845, "link": "https://stackoverflow.com/questions/31694845/perl-use-of-uninitialized-value-though-values-are-initialized", "title": "Perl : &quot;Use of uninitialized value&quot; though values are initialized", "body": "<p>Perl is reporing warnings though I have properly initialized all the variables at the start.\nHere is my code to generate random unicast mac-address :</p>\n\n<pre><code>our $OCTATE_MAX = 255; #Max value stored in 8-bit field\nour $octate1 = 0;\nour $octate2 = 0;\nour $octate3 = 0;\nour $umac_serial = \"\";\nsub get_umac_serial\n{\n    # Can not use sprintf as there is an issue with Igloo-JT\n    #return \"00:\" . sprintf (\"\\00\", int(rand(100))) . \":\" . sprintf(\"\\00\",int(rand(100)));\n     my $first = int(rand(99));\n     my $second = int(rand(99));\n\n     return \"00:\" . \"$first\" . \":\" . \"$second\";\n}\nsub get_umac_address\n{\n    $octate1 = $octate1 + 1;\n    $octate1 = int(rand(99));\n    $octate2 = int(rand(99));\n    $octate3 = int(rand(99));\n    if ($octate1 &gt;= $OCTATE_MAX)\n    {\n        $octate2 = $octate2 + 1;\n        $octate1 = 0;\n    }\n    elsif ($octate2 &gt;= $OCTATE_MAX)\n    {\n        $octate1 = 0;\n        $octate2 = 0;\n        $octate3 = $octate3 + 1;\n    }\n    elsif ($octate3 &gt;= $OCTATE_MAX)\n    {\n        $umac_serial = get_umac_serial();\n        print(\"Unicast mac-serial # $umac_serial\\n\");\n        $octate1 = 0;\n        $octate2 = 0;\n        $octate3 = 0;\n    }\n    $umac_serial = get_umac_serial();\n    #my $mac_addr = $umac_serial . \":\" . sprintf(\"\\00\", $octate3) . \":\" . sprintf(\"\\00\", $octate2) . \":\" . sprintf(\"\\00\",$octate1);\n\n    my $mac_addr = $umac_serial . \":\" . \"$octate3\" . \":\" . \"$octate2\" . \":\" . \"$octate1\";\n\n    print(\"MAC ADDR - $mac_addr\\n\");\n    return $mac_addr;\n}\nreturn $result;\n#exit;\n}   ####### End of mac_addr\n</code></pre>\n\n<p>Though values are properly initialized, perl throws the below error :</p>\n\n<pre><code>Jul 29 01:14:25 [WARN ] perl: Use of uninitialized value in addition (+) at /var/lib/igloo_jt/explorer/2015/7/1251/mac_addr.pm line 77. Use of uninitialized value in addition (+) at /var/lib/igloo_jt/explorer/2015/7/1251/mac_addr.pm line 77. \nJul 29 01:14:25 [WARN ] perl: Use of uninitialized value in numeric ge (&gt;=) at /var/lib/igloo_jt/explorer/2015/7/1251/mac_addr.pm line 81. Use of uninitialized value in numeric ge (&gt;=) at /var/lib/igloo_jt/explorer/2015/7/1251/mac_addr.pm line 81. MAC ADDR - 00:74:53:58:33:0 \nJul 29 01:14:25 [WARN ] perl: Use of uninitialized value in numeric ge (&gt;=) at /var/lib/igloo_jt/explorer/2015/7/1251/mac_addr.pm line 81. Use of uninitialized value in numeric ge (&gt;=) at /var/lib/igloo_jt/explorer/2015/7/1251/mac_addr.pm line 81. \nMAC ADDR - 00:51:68:64:69:0\n</code></pre>\n\n<p>Whats wrong with this code ?</p>\n"}, {"tags": ["regex", "perl", "sed"], "comments": [{"owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "edited": false, "score": 3, "creation_date": 1438156384, "post_id": 31694367, "comment_id": 51329212, "body": "Ah, what a beautiful lack of <code>use strict; use warnings;</code> on this Wednesday morning."}, {"owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 2, "creation_date": 1438156749, "post_id": 31694367, "comment_id": 51329459, "body": "... I don&#39;t get why you are doing these things. Why have those extra varaibles? Why use break out to using a shell to run a sed command... that takes <i>Perl regex</i> when you using Perl already. Why even use Perl for this when you have the sed command to do what you want?"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5151897, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ba0d382ac3f01a7c3f00aafdab2cb5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/5151897/mahesh"}, "edited": false, "score": 0, "creation_date": 1438157014, "post_id": 31694573, "comment_id": 51329619, "body": "accidentally missed the &#39;use&#39; statements in this test script. Thanks a lot."}], "tags": [], "owner": {"reputation": 3751, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1438156813, "creation_date": 1438156813, "answer_id": 31694573, "question_id": 31694367, "link": "https://stackoverflow.com/questions/31694367/how-to-find-replace-on-a-variable-inside-perl-script/31694573#31694573", "title": "How to find/replace on a variable inside perl script", "body": "<p>You don't need <code>sed</code>, which works on the content of a file. You can do this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $name=\"FILE_NAME_&lt;DATE&gt;.txt\";\nmy $findDT=\"&lt;DATE&gt;\";\nmy $dt=\"20150101\";\n\n# First make a copy of your original variable\nmy $realFileName = $name;\n\n# Then, replace the variable\n$realFileName =~ s/$findDT/$dt/;\n\nprint \"$name\\n\";\nprint \"$realFileName\\n\";\n</code></pre>\n\n<p>As noted in a comment, remember to always <code>use strict;</code> and <code>use warnings;</code>. They cost nothing and help a lot!</p>\n"}, {"comments": [{"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 1, "creation_date": 1438168362, "post_id": 31694627, "comment_id": 51336797, "body": "Agreed - Either use Perl or Unix Shell to do things like this - Not both. Also, doing it in Perl will make it cross-platform and will run on Windows too."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 3, "last_activity_date": 1438156957, "creation_date": 1438156957, "answer_id": 31694627, "question_id": 31694367, "link": "https://stackoverflow.com/questions/31694367/how-to-find-replace-on-a-variable-inside-perl-script/31694627#31694627", "title": "How to find/replace on a variable inside perl script", "body": "<p>I don't know why you are using sed. Change your script to this.</p>\n\n<blockquote>\n  <p>r  - perform non-destructive substitution and return the new value</p>\n</blockquote>\n\n<p>Check <a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow\">here</a></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $name=\"FILE_NAME_&lt;DATE&gt;.txt\";\nmy $findDT=\"&lt;DATE&gt;\";\nmy $dt=\"20150101\";\n\nmy $changedFileName = $name=~ s/$findDT/$dt/r;\n\nprint \"Before Change: $name \\n\";\nprint \"After Change: $changedFileName \\n\";\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5151897, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ba0d382ac3f01a7c3f00aafdab2cb5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/5151897/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1729, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438156957, "creation_date": 1438156231, "last_edit_date": 1438156837, "question_id": 31694367, "link": "https://stackoverflow.com/questions/31694367/how-to-find-replace-on-a-variable-inside-perl-script", "title": "How to find/replace on a variable inside perl script", "body": "<p>In my perl script, I have a string variable which has '' in it. I have to replace it with a proper date like '20150101'. I tried the below but it expects the variable as file. Can you please point out what's wrong here?</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $name=\"FILE_NAME_&lt;DATE&gt;.txt\";\nmy $findDT=\"&lt;DATE&gt;\";\nmy $dt=\"20150101\";\n\nmy $realFileName=~`sed \"s/$findDT/$dt/g\" $name `;\n\nprint $name;\nprint $realFileName;\n</code></pre>\n"}, {"tags": ["perl", "email", "smtp", "attachment"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1438154988, "post_id": 31693852, "comment_id": 51328311, "body": "see <a href=\"http://www.perlmonks.org/?node_id=675595\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 12612, "user_id": 884463, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tH15z.png?s=128&g=1", "display_name": "David Tonhofer", "link": "https://stackoverflow.com/users/884463/david-tonhofer"}, "edited": false, "score": 0, "creation_date": 1523135037, "post_id": 31693852, "comment_id": 86437462, "body": "From Jens&#39; link: <i>&quot;Net::SMTP is too lowlevel, printing all the headers and section separators and encoding the data properly etc. etc. etc. is a lot of work. Use <a href=\"http://search.cpan.org/~jenda/Mail-Sender/Sender.pm\" rel=\"nofollow noreferrer\">Mail::Sender</a> or <a href=\"http://search.cpan.org/~rjbs/MIME-Lite-3.030/lib/MIME/Lite.pm\" rel=\"nofollow noreferrer\">MIME::Lite</a>.&quot;</i>"}, {"owner": {"reputation": 12612, "user_id": 884463, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tH15z.png?s=128&g=1", "display_name": "David Tonhofer", "link": "https://stackoverflow.com/users/884463/david-tonhofer"}, "edited": false, "score": 0, "creation_date": 1523135072, "post_id": 31693852, "comment_id": 86437472, "body": "But <a href=\"http://search.cpan.org/~rjbs/MIME-Lite-3.030/lib/MIME/Lite.pm\" rel=\"nofollow noreferrer\">MIME::Lite</a> says: <i>&quot;MIME::Lite is not recommended by its current maintainer. There are a number of alternatives, like Email::MIME or MIME::Entity and Email::Sender, which you should probably use instead. MIME::Lite continues to accrue weird bug reports, and it is not receiving a large amount of refactoring due to the availability of better alternatives. Please consider using something else.&quot;</i>"}], "answers": [{"tags": [], "owner": {"reputation": 3530, "user_id": 2186189, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/xboM2.jpg?s=128&g=1", "display_name": "lakshmikandan", "link": "https://stackoverflow.com/users/2186189/lakshmikandan"}, "is_accepted": false, "score": 1, "last_activity_date": 1552670326, "last_edit_date": 1552670326, "creation_date": 1438155007, "answer_id": 31693943, "question_id": 31693852, "link": "https://stackoverflow.com/questions/31693852/perl-sending-emails-with-attachment-using-netsmtp/31693943#31693943", "title": "Perl sending emails with attachment using net::smtp", "body": "<p>Check the following url to send email with attachment</p>\n\n<ul>\n<li><a href=\"http://www.perlmonks.org/?node_id=19430\" rel=\"nofollow noreferrer\">\"How do I send an email with Perl (including an attachment)?\"</a>: Hints on using <a href=\"http://search.cpan.org/~rjbs/MIME-Lite-3.030/lib/MIME/Lite.pm\" rel=\"nofollow noreferrer\">MIME::Lite</a> (<em>deprecated</em>) or <a href=\"http://search.cpan.org/~capoeirab/Mail-Sender-0.903/lib/Mail/Sender.pm\" rel=\"nofollow noreferrer\">Mail::Sender</a> (<em>deprecated</em>) or <a href=\"http://search.cpan.org/~markov/MailTools-2.20/lib/Mail/Send.pod\" rel=\"nofollow noreferrer\">Mail::Send</a> and handcrafting or <a href=\"http://search.cpan.org/~abeltje/Test-Smoke-1.72/lib/inc/Mail/Sendmail.pm\" rel=\"nofollow noreferrer\">Mail::Sendmail</a> and <a href=\"https://perldoc.perl.org/MIME/QuotedPrint.html\" rel=\"nofollow noreferrer\">MIME::QuotedPrint</a> (core module) and <a href=\"https://perldoc.perl.org/MIME/Base64.html\" rel=\"nofollow noreferrer\">MIME::Base64</a> (core module) from 2000.</li>\n<li><a href=\"http://www.perlmonks.org/?node_id=689054\" rel=\"nofollow noreferrer\">\"Send mail with attachment using only SMTP\"</a>: Hints on using <a href=\"http://search.cpan.org/~shay/libnet-3.11/lib/Net/SMTP.pm\" rel=\"nofollow noreferrer\">Net::SMTP</a> from 2008.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1438254087, "post_id": 31695422, "comment_id": 51380322, "body": "If you&#39;re using ActivePerl for Windows, I don&#39;t recommend the Email::Stuffer that ActivePerl provides (version 0.009).  It&#39;s very buggy when it comes to attachments.  Grab a more recent version from CPAN, or directly from their GitHub page (<a href=\"https://github.com/rjbs/Email-Stuffer\" rel=\"nofollow noreferrer\">github.com/rjbs/Email-Stuffer</a>)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1438254315, "post_id": 31695422, "comment_id": 51380471, "body": "Or switch to using Strawberry Perl instead - so you can easily install the latest version of modules using the standard CPAN tools."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1438159232, "creation_date": 1438159232, "answer_id": 31695422, "question_id": 31693852, "link": "https://stackoverflow.com/questions/31693852/perl-sending-emails-with-attachment-using-netsmtp/31695422#31695422", "title": "Perl sending emails with attachment using net::smtp", "body": "<p>Using Net::SMTP makes your life far harder than it needs to be. Who has time to hand-craft SMTP transactions?</p>\n\n<p>I would recommend taking a look at <a href=\"https://metacpan.org/pod/Email::Stuffer\" rel=\"nofollow\">Email::Stuffer</a> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 12612, "user_id": 884463, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tH15z.png?s=128&g=1", "display_name": "David Tonhofer", "link": "https://stackoverflow.com/users/884463/david-tonhofer"}, "is_accepted": false, "score": 0, "last_activity_date": 1523137602, "creation_date": 1523137602, "answer_id": 49712264, "question_id": 31693852, "link": "https://stackoverflow.com/questions/31693852/perl-sending-emails-with-attachment-using-netsmtp/49712264#49712264", "title": "Perl sending emails with attachment using net::smtp", "body": "<p>So... what do?</p>\n\n<ul>\n<li><a href=\"http://search.cpan.org/~shay/libnet-3.11/lib/Net/SMTP.pm\" rel=\"nofollow noreferrer\">Net::SMTP</a>, <a href=\"http://search.cpan.org/~abeltje/Test-Smoke-1.72/lib/inc/Mail/Sendmail.pm\" rel=\"nofollow noreferrer\">Mail::Sendmail</a>, <a href=\"http://search.cpan.org/~markov/MailTools-2.20/lib/Mail/Send.pod\" rel=\"nofollow noreferrer\">Mail::Send</a>: Only if you want to do the attachment processing yourself. Which can be tricky. Use <a href=\"https://perldoc.perl.org/MIME/QuotedPrint.html\" rel=\"nofollow noreferrer\">MIME::QuotedPrint</a> (core module) and <a href=\"https://perldoc.perl.org/MIME/Base64.html\" rel=\"nofollow noreferrer\">MIME::Base64</a> (core module) as needed.</li>\n<li><a href=\"http://search.cpan.org/~capoeirab/Mail-Sender-0.903/lib/Mail/Sender.pm\" rel=\"nofollow noreferrer\">Mail::Sender</a>, <a href=\"http://search.cpan.org/~rjbs/MIME-Lite-3.030/lib/MIME/Lite.pm\" rel=\"nofollow noreferrer\">MIME::Lite</a>: Deprecated!</li>\n<li><a href=\"http://search.cpan.org/~rjbs/Email-Stuffer-0.014/lib/Email/Stuffer.pm\" rel=\"nofollow noreferrer\">Email::Stuffer</a>: Sounds good.</li>\n<li><a href=\"http://search.cpan.org/~rjbs/Email-MIME-1.946/lib/Email/MIME.pm\" rel=\"nofollow noreferrer\">Email::MIME</a> and <a href=\"http://search.cpan.org/~frew/IO-All-0.87/lib/IO/All.pod\" rel=\"nofollow noreferrer\">IO::All</a> and <a href=\"http://search.cpan.org/~rjbs/Email-Sender-1.300031/lib/Email/Sender/Simple.pm\" rel=\"nofollow noreferrer\">Email::Sender::Simple</a>: See below!</li>\n</ul>\n\n<p>Here is an example using <code>Email::MIME</code>, <code>IO::All</code> and <code>Email::Sender::Simple</code>.</p>\n\n<pre><code>use Email::MIME; # yum install perl-Email-MIME\nuse IO::All; # yum install perl-IO-All\nuse Email::Sender::Simple qw(sendmail); # yum install perl-Email-Sender;\nuse Sys::Hostname;\n\nmy $hostname = hostname;\nmy $pwuid    = getpwuid( $&lt; );\nmy $to       = 'someone@example.com';\nmy $cc       = join(',', ('foo@example.com','bar@example.com'));\nmy $from     = \"$pwuid\\@$hostname\";\n\n# We have a text part and an CSV part\n# Send a file identified by `$filename` (a temporary file, actually) that\n# should appear to be named `$finalFilename`.\n\nmy @parts;\n\npush @parts, Email::MIME-&gt;create(\n   attributes =&gt; {\n      filename     =&gt; $finalFilename,\n      content_type =&gt; 'text/csv',\n      disposition  =&gt; 'attachment',\n      encoding     =&gt; 'base64',\n      name         =&gt; $finalFilename\n   },\n   body =&gt; io($filename)-&gt;all\n);\n\n# Create an inline text part\n\nmy $txtmsg = &lt;&lt;\"TXTMSG\";\nFile automatically generated on machine '$hostname' by user '$pwuid'.\nTXTMSG\n\npush @parts, Email::MIME-&gt;create(\n   attributes =&gt; {\n      content_type =&gt; 'text/plain',\n      disposition  =&gt; 'inline',\n      encoding     =&gt; 'quoted-printable',\n      charset      =&gt; 'UTF-8',\n   },\n   body_str =&gt; $txtmsg\n);\n\n# Pack it into an email\n\nmy $email = Email::MIME-&gt;create(\n   header_str =&gt; [ To      =&gt; $to,\n                   Cc      =&gt; $cc,\n                   From    =&gt; $from,\n                   Subject =&gt; $finalFilename ],\n   parts =&gt; [ @parts ]\n);\n\n# Debugging; this should be controlled by a \"verbose\" flag\n\nprint STDERR $email-&gt;as_string;\n\n# Send to the local MTA which will forward, hopefully.\n# This is the sendmail() of Email::Sender::Simple\n\nmy $response = sendmail($email);\n\n# Tell the user\n\nif (!$response) {\n   print STDERR \"An error occurred, got $response as response from 'sendmail: $Mail::Sendmail::error'\\n\";\n   print STDERR $Mail::Sendmail::log;\n   exit 1\n}\nelse {\n   print STDERR \"Mail given to MTA!\\n\";\n   exit 0\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4869782, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ayddKSNRfzk/AAAAAAAAAAI/AAAAAAAAADo/rUm1jeR5ibQ/photo.jpg?sz=128", "display_name": "Matthias Feurstein", "link": "https://stackoverflow.com/users/4869782/matthias-feurstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3722, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1552670326, "creation_date": 1438154717, "last_edit_date": 1438154899, "question_id": 31693852, "link": "https://stackoverflow.com/questions/31693852/perl-sending-emails-with-attachment-using-netsmtp", "title": "Perl sending emails with attachment using net::smtp", "body": "<p>I have a problem! I am sending Mails with net smtp but I can not send attachments. I need to send attachments! \nI have these two lines but it does not work. </p>\n\n<pre><code>$NET_SMTP_MODUL-&gt;datasend(\"Content-Disposition: attachment; filename=\". $MAILPARAM_ATTACHMENT .\"\\n\");\n$NET_SMTP_MODUL-&gt;datasend(\"Content-Type: application/text; name=Attachment.txt\");\n</code></pre>\n"}, {"tags": ["perl", "namespaces", "xmpp", "xml-namespaces", "anyevent"], "owner": {"reputation": 31, "user_id": 4258960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d4ee623b4c917403ec3a5a64302f42f?s=128&d=identicon&r=PG&f=1", "display_name": "Pollywog", "link": "https://stackoverflow.com/users/4258960/pollywog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1438149846, "creation_date": 1438149846, "question_id": 31692364, "link": "https://stackoverflow.com/questions/31692364/how-can-i-enable-anyeventxmpp-to-connect-to-a-server-using-namespace-prefixes", "title": "How can I enable AnyEvent::XMPP to connect to a server using namespace prefixes in the XML stream?", "body": "<p>The XMPP server I am attempting to connect to has namespace prefixes like the following <em>(zdef-#########)</em>:</p>\n\n<pre><code>&lt;iq xmlns=\"jabber:client\" from=\"xmpp.foo.com\" to=\"bar@xmpp.foo.com/foobar\" type=\"result\" id=\"1\"&gt;&lt;zdef-312457671:bind xmlns:zdef-312457671=\"urn:ietf:params:xml:ns:xmpp-bind\"&gt;&lt;jid&gt;bar@xmpp.foo.com/foobar&lt;/jid&gt;&lt;/zdef-312457671:bind&gt;&lt;/iq&gt;\n</code></pre>\n\n<p>And in turn, is causing the following \"Expected bind and session\" error:</p>\n\n<pre><code>&lt;stream:error xmlns:stream=\"http://etherx.jabber.org/streams\"&gt;&lt;zdef-312457671:connection-timeout xmlns:zdef-312457671=\"urn:ietf:params:xml:ns:xmpp-streams\"/&gt;&lt;zdef-647349245:text xmlns:zdef-647349245=\"urn:ietf:params:xml:ns:xmpp-streams\" xml:lang=\"en\"&gt;Expected bind and session&lt;/zdef-647349245:text&gt;&lt;/stream:error&gt;\n</code></pre>\n\n<p>I am more or less using <a href=\"https://codehacienda.wordpress.com/2011/02/25/perl-xmpp-library-for-creating-a-chat-bot-anyeventxmpp-example/\" rel=\"nofollow\">this example</a> to connect to the host. I can successfully connect to another host that does not use these namespace prefixes.</p>\n\n<p>Using AnyEvent::XMPP, how can I have the script correctly process the XML stream?</p>\n\n<p>Some version info:</p>\n\n<ul>\n<li>Perl version: v5.10.1</li>\n<li>AnyEvent::XMPP version: 0.53</li>\n</ul>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438151862, "post_id": 31691265, "comment_id": 51326524, "body": "Hi Arunesh, with this also am getting error saying &quot;use of uninitialized value $_ in pattern match (m//)&quot;, do you need to know any other detail."}, {"owner": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438155639, "post_id": 31691265, "comment_id": 51328730, "body": "I have added the snippet in the question: when am using the commented part, it is printing it correctly. Also apologies, as there is no space before and after =."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438156399, "post_id": 31691265, "comment_id": 51329225, "body": "@STJ you should also include your sample file input in question."}, {"owner": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438156721, "post_id": 31691265, "comment_id": 51329437, "body": "Arunesh, are you talking about the file which is used in open(), if that is so why it is required since open is working fine, also the code is going finely till first if() and able to search for CURRENT_RUN_ID as it is getting printed in next 2  prints,  the problem is only in assigning its value to variable, Please let me know if you want to know anything else"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438157371, "post_id": 31691265, "comment_id": 51329839, "body": "Actually you are slurping the whole file in variable.Read line by line you don&#39;t need to do that. Thats y I just needed 5-10 sample lines to refer to file."}, {"owner": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438158418, "post_id": 31691265, "comment_id": 51330445, "body": "Added as file snippet"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438159619, "post_id": 31691265, "comment_id": 51331154, "body": "refering to your file I see there are many lines which doesn&#39;t contain <code>CURRENT_RUN_ID</code> do you wish to <code>print</code> <code>run id not assigned\\n</code> for each of them.Means that will be redundant, although check my edit."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1438159723, "last_edit_date": 1438159723, "creation_date": 1438144302, "answer_id": 31691265, "question_id": 31691165, "link": "https://stackoverflow.com/questions/31691165/pattern-matching-in-perl-assigning/31691265#31691265", "title": "Pattern matching in perl &amp; assigning", "body": "<p>It is not matching because you are giving spaces at <code>if (/CURRENT_RUN_ID = \\s*(.*)/)</code> in the match.It is searching for spaces  in the string.</p>\n\n<p>The pattern what you are trying to match will match <code>CURRENT_RUN_ID = 1636</code>  string, notice the spaces between <code>CURRENT_RUN_ID</code> and <code>=</code> and after <code>=</code>. If there  is match then the no of spaces in the pattern should be exactly same as the no of spaces in the string. </p>\n\n<p>There is space between <code>CURRENT_RUN_ID</code> and <code>=</code> and also after <code>=</code>.\nBetter remove the faulty spaces  and make the space optional using <code>\\s*</code> try this:</p>\n\n<pre><code>if (/CURRENT_RUN_ID\\s*=\\s*(.*)/){ \n my $runvar = $1;\n print \"$runvar \\n\";  \n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>As per your requirement I changed your script as(I am not writing to file): </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nopen my $fh, '&lt;', 'file' or die \"unable to open file : $! \\n\";\nmy $runVar=\"\";\nwhile(&lt;$fh&gt;){\n      if (/CURRENT_RUN_ID\\s*=\\s*(.*)/){\n        print  \"we can now assign run id\\n\";\n        $runVar = $1;\n        print   \"assigned current run id to variable\\n\";\n        }\n       else {\n       print  \"run id not assigned\\n\";\n      }\n}\nclose($fh);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1438161871, "post_id": 31695367, "comment_id": 51332613, "body": "@STJ please mark as answer if your issue is solved with this solution."}, {"owner": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438165223, "post_id": 31695367, "comment_id": 51334790, "body": "Amareesh, @Arunesh, I need to collect one file as in variable and that file name contains this run id, for that i went to that file location and am using this: my $da = glob &quot;<i>$runVar.csv</i>&quot;;  but this also doesn&#39;t seems to be working accurately, can you please help me through."}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "reply_to_user": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438165551, "post_id": 31695367, "comment_id": 51335015, "body": "@STJ Please post your script which you have tried in your question and what exactly you require. Do you want to get the file that contains this runid in its name in a particular directory?"}, {"owner": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438166248, "post_id": 31695367, "comment_id": 51335462, "body": "Exactly, I want to capture one file that contains this runid in its name and need  that file to be mailed, however mailing part is completed i here just need to capture one file which has its name that &quot;runVar.csv&quot;. Added script portion in question."}, {"owner": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438168303, "post_id": 31695367, "comment_id": 51336762, "body": "Exactly, I want to capture one file that contains this runid in its name and need that file to be mailed, however mailing part is completed i here just need to capture one file which has its name that &quot;runVar.csv&quot;. Added script portion in question"}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "reply_to_user": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "edited": false, "score": 0, "creation_date": 1438169042, "post_id": 31695367, "comment_id": 51337229, "body": "@STJ I have added that piece of code to my answer above at the end. I just have few csv files with several numbers in a directory that I have mentioned for testing and it worked. I have added that piece of code in the if loop."}], "tags": [], "owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1450332992, "last_edit_date": 1450332992, "creation_date": 1438159076, "answer_id": 31695367, "question_id": 31691165, "link": "https://stackoverflow.com/questions/31691165/pattern-matching-in-perl-assigning/31695367#31695367", "title": "Pattern matching in perl &amp; assigning", "body": "<p>Here you are not matching any of the lines while performing the pattern matching in line 18. And even you can reduce few repetitive steps in the code.\nBut for your convenience I have used your program.</p>\n\n<pre><code>#!C:\\Strawberry\\perl\\bin\nuse strict;\nuse warnings;\nmy $sSuccessString = \"CURRENT_RUN_ID\"; \nopen(LOG,\"$slogfile\") or die(\"Can't open $slogfile\\n\");\nmy $sLines;\n{\nlocal $/ = undef;\n$sLines=&lt;LOG&gt;;\n}\n    if($sLines =~ m/$sSuccessString/){\n    open(OUTLOG, \"&gt;&gt;test.txt\");\n    print OUTLOG \"found current run id in log\\n\";\n    print OUTLOG \"it is found in log as : $sSuccessString \\n\";\n    #if ($sLines =~ m/(CURRENT_RUN_ID=.*)/i) {\n    #print OUTLOG \"&lt;p&gt;\" . $1 . \"&lt;\\/p&gt;\\n\";\n #In below line you need to match the pattern with the line.\n    if ($sLines=~/CURRENT_RUN_ID=(.*)/){   \n    print OUTLOG \"we can now assign run id\\n\";\n    my $runVar = $1;\n    print \"$runVar\\n\";      \n    print OUTLOG  \"assigned current run id to variable\\n\";\n    }\n    else {\n    print \"run id not assigned\\n\";\n    }\n    }\n</code></pre>\n\n<p>I have copied your log file content to one of my text file (prog.txt) on my desktop and ran the script. Please see the output.</p>\n\n<pre><code> #!C:\\Strawberry\\perl\\bin\n use strict;\n use warnings;\n my $sSuccessString = \"CURRENT_RUN_ID\"; \n open(LOG,\"Prog.txt\") or die(\"Can't open text file\\n\");\n my $sLines;\n {\n local $/ = undef;\n $sLines=&lt;LOG&gt;;\n }\n    if($sLines =~ m/$sSuccessString/){\n    open(OUTLOG, \"&gt;&gt;test.txt\");\n    print OUTLOG \"found current run id in log\\n\";\n    print OUTLOG \"it is found in log as : $sSuccessString \\n\";\n    #if ($sLines =~ m/(CURRENT_RUN_ID=.*)/i) {\n    #print OUTLOG \"&lt;p&gt;\" . $1 . \"&lt;\\/p&gt;\\n\";\n    if ($sLines=~/CURRENT_RUN_ID=(.*)/){\n    print OUTLOG \"we can now assign run id\\n\";\n    my $runVar = $1;\n    print \"$runVar\\n\";      \n    print OUTLOG  \"assigned current run id to variable\\n\";\n    }\n    else {\n    print \"run id not assigned\\n\";\n    }\n    }\n</code></pre>\n\n<p><strong>OUTPUT</strong>:<br>\n      C:\\Users\\hclabv\\Desktop>perl run1.pl</p>\n\n<pre><code>1637\n</code></pre>\n\n<p>And my log file (test.txt) where we are capturing the logs while running script is as below.</p>\n\n<pre><code>found current run id in log\nit is found in log as : CURRENT_RUN_ID \nwe can now assign run id\nassigned current run id to variable\n</code></pre>\n\n<p>For getting runVar.csv file from desired directory, I have added the below piece of code with in the if loop</p>\n\n<pre><code>opendir(DAPATH,\"C:/Users/hclabv/Desktop/Scripting/files\") or die \"Can't open    DAPATH: $!\"; \n    print OUTLOG \"\\nfound da path : DAPATH\\n\"; \n    my @adirs = readdir(DAPATH);\n    print \"csv files @adirs\\n\"; \n    print  OUTLOG \"Starting capturing DA\\n\";\n    my $csvfile = \"$runVar.csv\";\n    foreach my $adirs (@adirs) {\n          if ($adirs eq $csvfile) {\n          print \"file found\\n\";\n          my $da = $adirs;      \n          print \"csv file is $da\\n\";\n    }\n    print  OUTLOG \"Assigned DA\";\n    close(DAPATH); \n    }\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 31695367, "answer_count": 2, "score": -1, "last_activity_date": 1450332992, "creation_date": 1438143639, "last_edit_date": 1450332641, "question_id": 31691165, "link": "https://stackoverflow.com/questions/31691165/pattern-matching-in-perl-assigning", "title": "Pattern matching in perl &amp; assigning", "body": "<p>I need to search for a particular string in a file and then assign it to a variable, example: in the file content it is written as <code>CURRENT_RUN_ID=1636</code>, so I need to search for string <code>CURRENT_RUN_ID</code> and assign its given value i.e. <code>1636</code> to<code>a variable say</code>runvar`, for this I tried below given, but it doesn't seem to be working, can you correct me here?</p>\n\n<pre><code>opendir(DAPATH,$sDAPATH) or die \"Can't open $sDAPATH: $!\"; \nprint OUTLOG \"\\nfound da path : $sDAPATH\\n\"; \nmy @adirs = readdir(DAPATH); \nprint  OUTLOG \"Starting capturing DA\\n\";\nmy $da = glob \"*$runVar.csv*\";\nprint  OUTLOG \"Assigned DA\";\nclosedir(DAPATH);\n}\n</code></pre>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 2236869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g0Uq2.png?s=128&g=1", "display_name": "DabeDotCom", "link": "https://stackoverflow.com/users/2236869/dabedotcom"}, "is_accepted": true, "score": 1, "last_activity_date": 1438189927, "creation_date": 1438189927, "answer_id": 31706947, "question_id": 31691071, "link": "https://stackoverflow.com/questions/31691071/how-to-access-session-data-in-mojolicious-model/31706947#31706947", "title": "How to access session data in Mojolicious model", "body": "<p>The mistake I was making was: \"session\" info isn't associated with the App; it's associated with the Controller:</p>\n\n<pre><code>$app-&gt;helper( model =&gt; sub { ScopeTest::Model-&gt;new( ctrl =&gt; $_[0] ) } );\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>package ScopeTest::Model;\nuse Mojo::Base -base;\n\nhas 'ctrl';\n\n...\n$self-&gt;ctrl-&gt;app-&gt;log-&gt;debug(\"username = \" . $self-&gt;ctrl-&gt;username );\n</code></pre>\n\n<p>Yeah, I know it's still sub-optimal to pass the Controller to the Model, but this at least explains why I couldn't get it to work at ALL before...</p>\n"}], "owner": {"reputation": 91, "user_id": 2236869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g0Uq2.png?s=128&g=1", "display_name": "DabeDotCom", "link": "https://stackoverflow.com/users/2236869/dabedotcom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 850, "favorite_count": 0, "accepted_answer_id": 31706947, "answer_count": 1, "score": 3, "last_activity_date": 1438189927, "creation_date": 1438142877, "question_id": 31691071, "link": "https://stackoverflow.com/questions/31691071/how-to-access-session-data-in-mojolicious-model", "title": "How to access session data in Mojolicious model", "body": "<p>Below is an example Mojolicious (6.14) app... Sorry for the $_[0] and other less-than-best practices; I tried to make it compact.</p>\n\n<pre><code>package ScopeTest;\nuse Mojo::Base 'Mojolicious';\n\nsub startup {\n  my $app = shift;\n\n  $app-&gt;helper( hello    =&gt; sub { \"Hello!\" } );\n  $app-&gt;helper( username =&gt; sub { $_[0]-&gt;session('username'); } );\n  $app-&gt;helper( model    =&gt; sub { ScopeTest::Model-&gt;new( app =&gt; $_[0]-&gt;app ) } );\n  $app-&gt;helper( hasPerm  =&gt; sub { $_[0]-&gt;model-&gt;hasPerm( @_ ) } );\n\n  $app-&gt;routes-&gt;get('/alice')-&gt;to('controller#alice');\n  $app-&gt;routes-&gt;get('/carol')-&gt;to('controller#carol');\n  $app-&gt;routes-&gt;get('/steve')-&gt;to('controller#steve');\n}\n\n##############################\npackage ScopeTest::Controller;\nuse Mojo::Base 'Mojolicious::Controller';\n\nsub alice { $_[0]-&gt;session( username =&gt; \"alice\" ); $_[0]-&gt;render_message() }\nsub carol { $_[0]-&gt;session( username =&gt; \"carol\" ); $_[0]-&gt;render_message() }\nsub steve { $_[0]-&gt;session( username =&gt; \"steve\" ); $_[0]-&gt;render( text =&gt;\n    sprintf \"%s: %s\\n\", $_[0]-&gt;username, $_[0]-&gt;model-&gt;update_db ? 'Okay' : 'Fail' ) }\n\nsub render_message { $_[0]-&gt;render( text =&gt;\n    sprintf \"%s: %s\\n\", $_[0]-&gt;username, $_[0]-&gt;hasPerm('canLogin') ? 'Okay' : 'Fail' ) }\n\n##############################\npackage ScopeTest::Model;\nuse Mojo::Base -base;\n\nhas 'app';\n\nmy %perms = ( alice =&gt; [ qw{ canLogin } ],\n              carol =&gt; [ ],\n              steve =&gt; [ qw{ canUpdateDB } ] );\n\nsub hasPerm {\n    my ( $self, $perm ) = @_;\n    no warnings 'uninitialized';\n\n    $self-&gt;app-&gt;log-&gt;debug(\"app-&gt;hello            = \" . $self-&gt;app-&gt;hello                 );   # OKAY\n    $self-&gt;app-&gt;log-&gt;debug(\"app-&gt;username         = \" . $self-&gt;app-&gt;username              );   # FAILS\n    $self-&gt;app-&gt;log-&gt;debug(\"session('username')   = \" . $self-&gt;app-&gt;session('username')   );   # FAILS\n    $self-&gt;app-&gt;log-&gt;debug(\"session-&gt;{'username'} = \" . $self-&gt;app-&gt;session-&gt;{'username'} );   # FAILS\n\n    my $username;   # = $self-&gt;app-&gt;username;\n    return grep { $_ eq $perm } @{ $perms{$username} };\n}\n\nsub update_db {\n    my ( $self, $data ) = @_;\n    $self-&gt;hasPerm('canUpdateDB') or return;\n    # else ...\n    return 1;\n}\n\n1;\n</code></pre>\n\n<p>Although things like <code>$self-&gt;app-&gt;log-&gt;debug()</code> and <code>$self-&gt;app-&gt;dumper()</code> and other helpers do the right thing, <code>$self-&gt;app-&gt;session</code> does not.</p>\n\n<p>I know passing in <code>$app</code> is considered less-than-ideal, but I would have expected the above to at least WORK...</p>\n\n<p>Short of passing the username around over and over (this is a toy example; the real app has dozens of different methods which sometimes call each other, etc.) is there a cleaner way to access session data from within a model class?</p>\n\n<p>PS \u2014\u00a0And before you say, <code>Model-&gt;new(username =&gt; $self-&gt;session('username')</code>, that means knowing, <i>a priori</i>, what session variables I'm going to need, and enumerating them all in the constructor and attribute lists; I was hoping that if I just passed in the whole <code>$app</code> (or even <code>$app-&gt;session</code>), I could keep things future-proof.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["regex", "perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 5047, "user_id": 657067, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0msmC.jpg?s=128&g=1", "display_name": "Polymerase", "link": "https://stackoverflow.com/users/657067/polymerase"}, "edited": false, "score": 0, "creation_date": 1438211622, "post_id": 31690611, "comment_id": 51363262, "body": "Thank you very much sir for your help. Appreciated very much you went to the trouble to give the solution for both perl and sed. This code is amazing, correct results without using any back reference substitution."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 3, "last_activity_date": 1438140165, "last_edit_date": 1438140165, "creation_date": 1438139387, "answer_id": 31690611, "question_id": 31690471, "link": "https://stackoverflow.com/questions/31690471/perl-sed-string-substitute-in-several-expressions/31690611#31690611", "title": "Perl &amp; Sed string substitute in several expressions", "body": "<p>Here's the perl version:</p>\n\n<pre><code>echo \"--ONE   Tw'o--   -333-   -'FO-UR'\" | perl -ne \"s|-'||g; s|'-||g; s|^'||; s|'$||; s|^-+||; s|-+$||; s|-+\\s+| |g; s|\\s+-+| |g; s|\\s+| |g; s|\\s+$||; print;\"\n\nONE Tw'o 333 FO-UR\n</code></pre>\n\n<p>The sed version is basically identical:</p>\n\n<pre><code>echo \"--ONE   Tw'o--   -333-   -'FO-UR'\" | sed -r -e \"s|-'||g; s|'-||g; s|^'||; s|'$||; s|^-+||; s|-+$||; s|-+\\s+| |g; s|\\s+-+| |g; s|\\s+| |g; s|\\s+$||;\"\n\nONE Tw'o 333 FO-UR\n</code></pre>\n\n<p>Annotations for the regular expressions used:</p>\n\n<pre><code>s|-'||g;     # Remove dash followed by quote everywhere\ns|'-||g;     # Remove quote followed by dash everywhere\ns|^'||;      # Remove leading quote\ns|'$||;      # Remove trailing quote\ns|^-+||;     # Remove leading dash characters\ns|-+$||;     # Remove trailing dash characters\ns|-+\\s+| |g; # Replace dash characters followed by whitespace with 1 space everywhere\ns|\\s+-+| |g; # Replace whitespace followed by dash characters with 1 space everywhere\ns|\\s+| |g;   # Replace multiple spaces with 1 space\ns|\\s+$||;    # Remove trailing spaces\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 3, "last_activity_date": 1438237104, "last_edit_date": 1438237104, "creation_date": 1438142073, "answer_id": 31690959, "question_id": 31690471, "link": "https://stackoverflow.com/questions/31690471/perl-sed-string-substitute-in-several-expressions/31690959#31690959", "title": "Perl &amp; Sed string substitute in several expressions", "body": "<p>It is easy using lookarounds in <code>perl</code>:</p>\n\n<pre><code>s='\"asd,f\",,,\"as,df\",\"asdf\"asdf\"'\nperl -pe 's/(?&lt;!\\w)-|-(?!\\w)//g' &lt;&lt;&lt; \"$s\"\nONE Tw'o 333 'FO-UR'\n\n(?&lt;!\\w)- # Lookbehind meaning match - if not preceded by a word character\n|        # regex alternation\n(?!\\w)-  # Lookahead meaning match - if not followed by a word character\n</code></pre>\n"}], "owner": {"reputation": 5047, "user_id": 657067, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0msmC.jpg?s=128&g=1", "display_name": "Polymerase", "link": "https://stackoverflow.com/users/657067/polymerase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 31690611, "answer_count": 2, "score": 2, "last_activity_date": 1438237104, "creation_date": 1438138267, "last_edit_date": 1438144740, "question_id": 31690471, "link": "https://stackoverflow.com/questions/31690471/perl-sed-string-substitute-in-several-expressions", "title": "Perl &amp; Sed string substitute in several expressions", "body": "<p>I would like to make string substitution in a non-greedy match fashion</p>\n\n<ul>\n<li><p>Remove all leading and trailing dashes, apostrophes (when these symbols are found in the middle of the word, they must be preserved)</p></li>\n<li><p>Transform multiple spaces into 1 space</p></li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>--ONE   Tw'o--   -333-   -'FO-UR'\n</code></pre>\n\n<p>must become</p>\n\n<pre><code>ONE Tw'o 333 FO-UR\n</code></pre>\n\n<p>I cannot get exactly the result. Can you please help me to correct my perl and sed syntax below?</p>\n\n<pre><code>$ echo \"--ONE   Tw'o--   -333-   -'FO-UR'\" \\\n  | perl -pe \"s/[-']+(.+?)/\\1/g\"           \\\n  | perl -pe \"s/(.+?)[-']+/\\1/g\"           \\\n  | perl -pe \"s/\\s+/ /g\"\n\nResult (perl): \"ONE Two 333 FOUR\"\n\n$ echo \"--ONE   Tw'o--   -333-   -'FO-UR'\" \\\n  | sed -r -e \"s/[-']+(.+?)/\\1/g\"          \\\n    -e \"s/(.+)[-']+/\\1/g\"                  \\\n    -e \"s/\\s+/ /g\"\n\nResult (sed): \"ONE Tw'o-- -333- -'FO-UR\"\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 0, "last_activity_date": 1438141091, "last_edit_date": 1438141091, "creation_date": 1438139101, "answer_id": 31690576, "question_id": 31690395, "link": "https://stackoverflow.com/questions/31690395/adding-perl-script-to-module-distribution-and-making-it-accessible-globally/31690576#31690576", "title": "Adding perl script to module distribution and making it accessible globally", "body": "<p>The <code>App::*</code> area of cpan contains installable tools and utilities. Looking at a small one, like <a href=\"https://metacpan.org/pod/release/IRONCAMEL/App-p-0.0304/lib/App/p.pm\" rel=\"nofollow\"><code>App::p</code></a> I saw that <a href=\"https://api.metacpan.org/source/IRONCAMEL/App-p-0.0304/\" rel=\"nofollow\">its structure</a> looked like it contained a <a href=\"https://api.metacpan.org/source/IRONCAMEL/App-p-0.0304/Makefile.PL\" rel=\"nofollow\"><code>Makefile.PL</code></a> that used <a href=\"https://metacpan.org/pod/ExtUtils::MakeMaker::Tutorial\" rel=\"nofollow\"><code>ExtUtils::MakeMaker</code></a> to define how to build test and <a href=\"http://search.cpan.org/~bingos/ExtUtils-MakeMaker-7.04/lib/ExtUtils/MakeMaker.pm#make_install\" rel=\"nofollow\">install</a> the relatively <a href=\"https://api.metacpan.org/source/IRONCAMEL/App-p-0.0304/bin/p\" rel=\"nofollow\">small perl script</a>.</p>\n\n<p>However, if you're talking about just taking a script you wrote and making it something executable by you, the user, then it's basically the same way all scripting works (apologies if you weren't asking this):</p>\n\n<p>One Unix, Linux and Mac OS X when using a shell like <code>bash</code>:</p>\n\n<ol>\n<li>Any file can be made executable to the user by running <code>chmod u+x filename</code></li>\n<li>An executable file should start with a <a href=\"https://en.wikipedia.org/wiki/File_format#Magic_number\" rel=\"nofollow\">magic number</a>, for plain text files containing scripts, the <a href=\"https://en.wikipedia.org/wiki/Shebang_(Unix)\" rel=\"nofollow\">shebang</a> is that number. So start your files with (as covered in <a href=\"http://perldoc.perl.org/perlintro.html#Safety-net\" rel=\"nofollow\"><code>man perlintro</code></a>):\n\n<blockquote>\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n</code></pre>\n</blockquote></li>\n<li>When specifying an executable file from the command line you can type in the full path, possibly with conveniences from your shell. EG the file is at <code>$HOME/myscripts/runme.pl</code> you can type that at the prompt, the expanded <code>/home/username/myscripts/runme.pl</code> (<code>/Users/username/myscripts/runme.pl</code> on Mac OS X) or <code>~/myscripts/runme.pl</code> at a <code>bash</code> prompt. Or if <code>runme.pl</code> is in your current working directory: <code>./runme.pl</code></li>\n<li>If you just type <code>runme.pl</code> <code>sh</code> and <code>bash</code> and many shells will search your <code>PATH</code> variable in order and run the first <code>runme.pl</code> in any of the specified paths.\n\n<ul>\n<li>So if <code>echo $PATH</code> gives you something like: <code>/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin</code> and you want the example in point&nbsp;3 to work with just <code>runme.pl</code> you should</li>\n<li>Either move the file into one of those directories (not recommended).</li>\n<li>Or add <code>export PATH=$PATH:$HOME/myscripts</code> to the bottom of your <code>~/.bashrc</code> or <code>~/.profile</code> file or likewise for your preferred shell. Be sure to open a new login shell session, EG close that terminal window and open a new one.</li>\n</ul></li>\n</ol>\n\n<p>On Windows, this is an exercise left to the reader. &#9786;</p>\n"}], "owner": {"reputation": 361, "user_id": 1269255, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HU0Gm.jpg?s=128&g=1", "display_name": "altimit", "link": "https://stackoverflow.com/users/1269255/altimit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1438141091, "creation_date": 1438137760, "question_id": 31690395, "link": "https://stackoverflow.com/questions/31690395/adding-perl-script-to-module-distribution-and-making-it-accessible-globally", "title": "Adding perl script to module distribution and making it accessible globally", "body": "<p>I'm wondering if there is a tutorial or simple way to add perl scripts which I've written to be accessible to the user globally. </p>\n\n<p>for eg. you apps like Carton, Cpanm, much like how npm has an <code>npm install -g</code> option.</p>\n\n<p>I tried placing my scripts in the bin directory of my perl package but its not working. </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 13, "last_activity_date": 1438145468, "last_edit_date": 1438145468, "creation_date": 1438134838, "answer_id": 31689984, "question_id": 31689770, "link": "https://stackoverflow.com/questions/31689770/does-perl-best-practice-allow-having-a-method-name-in-a-string/31689984#31689984", "title": "Does Perl Best Practice allow having a method name in a string?", "body": "<p>The <a href=\"http://search.cpan.org/perldoc?Perl%3A%3ACritic\">Perl::Critic</a> module on CPAN has a utility called <code>perlcritic</code> that aims to detect any violations of recommendations from Perl Best Practices.  It's not limited just to PBP, though, and there happen to be many policy modules on CPAN that plug into Perl::Critic to provide additional rules.  If you prefer not to install Perl::Critic, you can paste your code into <a href=\"http://perlcritic.com/\">perlcritic.com</a> and get feedback at any of the standard Perl Critic levels, gentle through brutal.</p>\n\n<p>Consider the following script:</p>\n\n<pre><code>package Foo;\nuse strict;\nuse warnings;\n\nsub new {\n    bless {}, shift;\n}\n\nsub bar {\n    print \"Hello\\n\";\n}\n\npackage main;\nuse strict;\nuse warnings;\n\nmy $f = Foo-&gt;new;\nmy $method = 'bar';\n\n$f-&gt;$method();\n</code></pre>\n\n<p>When I run <code>perlcritic myexample.pl --brutal</code>, I do not get any complaints about the means used of invoking the method.</p>\n\n<p>I've read <a href=\"http://shop.oreilly.com/product/9780596001735.do\">Perl Best Practices</a>, and searched again now for mention of symbolic method calls, and find nothing.  That's not to say I haven't missed mention of such constructs, but I can't find them.  And Perl::Critic's built-in policies that support PBP seem to concur.</p>\n\n<p>There are actually examples of such in <a href=\"http://damian.conway.org/\">Damian Conway</a>'s book, <a href=\"http://www.manning.com/conway/\">Object Oriented Perl</a>. Of course Damian wrote PBP many years after OOP, and both are old enough by now that better practices have emerged in many cases.</p>\n\n<p>But it's still great to be thinking in terms of what the most maintainable coding styles might be.  And if you're concerned that the <code>$object-&gt;$method()</code> construct might be difficult to maintain, by all means avoid it unless you have a great reason not to.  And in those cases, isolate the use to the narrowest portions of well documented code.</p>\n\n<p>Perhaps a cleaner practice is to obtain a reference to the method rather than a symbol.  That can be done with <code>can</code>:</p>\n\n<pre><code>my $method = $f-&gt;can('bar');\n$f-&gt;$method();\n</code></pre>\n\n<p>The means of invocation looks about the same, but $method contains a code reference which is probably less prone to mistakes.  For one thing, <code>can</code> will throw an exception at the time that it is called if there is no <code>bar</code>, rather than an exception being thrown at the time of the actual method call.  This is a more defensive approach to programming.  And using <code>can</code> instead of just taking a reference to the method, as in <code>my $method = \\&amp;Foo::bar</code> has the benefit of playing nice with inheritance, which the hardwired reference doesn't.</p>\n"}], "owner": {"reputation": 777, "user_id": 1647851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/74ffda3cffeea6ebd537a828b0d905e4?s=128&d=identicon&r=PG&f=1", "display_name": "null", "link": "https://stackoverflow.com/users/1647851/null"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 1, "accepted_answer_id": 31689984, "answer_count": 1, "score": 5, "last_activity_date": 1438145468, "creation_date": 1438133068, "last_edit_date": 1438133945, "question_id": 31689770, "link": "https://stackoverflow.com/questions/31689770/does-perl-best-practice-allow-having-a-method-name-in-a-string", "title": "Does Perl Best Practice allow having a method name in a string?", "body": "<p>Is the following code permitted under Perl Best Practice?</p>\n\n<pre><code>my $method_name = q{someMethod};\n$self-&gt;$method_name();\n</code></pre>\n\n<p>I know it is suspect style, but does PBP have anything to say about it?</p>\n"}, {"tags": ["python", "bash", "perl"], "answers": [{"tags": [], "owner": {"reputation": 715, "user_id": 3610102, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/999d4ac2d47c4de912caa36f13f9eb38?s=128&d=identicon&r=PG&f=1", "display_name": "Chirality", "link": "https://stackoverflow.com/users/3610102/chirality"}, "is_accepted": true, "score": 0, "last_activity_date": 1438141333, "creation_date": 1438141333, "answer_id": 31690853, "question_id": 31689496, "link": "https://stackoverflow.com/questions/31689496/script-to-modify-text-inputfile-and-run-in-a-loop/31690853#31690853", "title": "Script to modify text inputfile and run in a loop", "body": "<pre><code>#!/bin/bash\noldString=15\nnewString=16\nfile=\"/path/to/file\"\n\nwhile [ newString -lt 50 ]; do\n  sed \"s/${oldString}/${newString}/g\" \"$file\";\n  echo \"$file\"\n  let newString=newString+1\ndone\n</code></pre>\n\n<p>Or if you want it to actually create new files with the replaced number</p>\n\n<pre><code>#!/bin/bash\noldString=15\nnewString=16\nfile=\"/path/to/file\"\n\nwhile [ newString -lt 50 ]; do\n  sed \"s/${oldString}/${newString}/g\" \"$file\" &gt; \"$file.$newString\";\n  let newString=newString+1\ndone\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5167215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-lp24V0p9olE/AAAAAAAAAAI/AAAAAAAAA_s/P8Z4TD6gg9A/photo.jpg?sz=128", "display_name": "Esteban Chaves", "link": "https://stackoverflow.com/users/5167215/esteban-chaves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 31690853, "answer_count": 1, "score": 0, "last_activity_date": 1438141333, "creation_date": 1438130993, "last_edit_date": 1592644375, "question_id": 31689496, "link": "https://stackoverflow.com/questions/31689496/script-to-modify-text-inputfile-and-run-in-a-loop", "title": "Script to modify text inputfile and run in a loop", "body": "<p>I do have an input file in the next format:</p>\n<blockquote>\n<p>2 <strong>15</strong> 1 5 1</p>\n<p>ORTG.data  46.7  28.1 33 120</p>\n<p>HDC3.data 169.7  89.4 47 120</p>\n<p>../../GFS/costa_47d<strong>15</strong> 0 120</p>\n<p>../../GFS/costa_171d<strong>15</strong> 0 120</p>\n<p>mtinvout</p>\n</blockquote>\n<p>Where the number 15 corresponds to depth. I'd to get your help to create an script in bash or python that allows to do a loop search by depth. I mean, to substitute the 15 by 16, 17, 18, etc.</p>\n<p>I do have a simple perl line:</p>\n<blockquote>\n<p>perl -pi -e 's/14/15/g' mt_inv.in</p>\n</blockquote>\n<p>But it doesn't run as a loop.</p>\n<p>Any help will be appreciated!</p>\n"}, {"tags": ["perl", "elasticsearch", "bigdata"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438187725, "post_id": 31689818, "comment_id": 51350832, "body": "I tried that, and it still gets hung up at the 801st query."}, {"owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "reply_to_user": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438202579, "post_id": 31689818, "comment_id": 51359476, "body": "@kgrimes2 did you try looking in the es cluster logs was  there any error message or garbage collection activity ? The fact that it always occurs at 801 iteration is odd"}, {"owner": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438207568, "post_id": 31689818, "comment_id": 51361918, "body": "I&#39;ve narrowed it down slightly. I&#39;ve noticed that if I remove one of the fields from the $arrayList that&#39;s getting posted, it works fine. It doesn&#39;t matter which one is removed. Just one has to be removed for it to work."}, {"owner": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438208607, "post_id": 31689818, "comment_id": 51362322, "body": "If I let the request time out, it gives the following error message:   &quot;malformed JSON string, neither tag, array, object, number, string or atom, at character offset 0 (before &quot;read timeout at /usr...&quot;) at scriptName.pl line 403, &lt;STDIN&gt; line 5.  I&#39;ve updated above along with what line 403 is"}, {"owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "reply_to_user": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438209077, "post_id": 31689818, "comment_id": 51362508, "body": "in the code check for <a href=\"http://search.cpan.org/~ether/HTTP-Message-6.10/lib/HTTP/Response.pm\" rel=\"nofollow noreferrer\">$resp-&gt;is_success</a> before calling decode json if not successfull die $resp-&gt;content() this way you would get the actual message returned from server and not the json decode error"}, {"owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "reply_to_user": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438209196, "post_id": 31689818, "comment_id": 51362546, "body": "strange and interesting probably the es cluster logs may have more info is that something you can access ?"}, {"owner": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438209357, "post_id": 31689818, "comment_id": 51362608, "body": "I added  the $resp-&gt;is_success line right before calling decode_json. It returns a 1 several times before freezing and not putting out anything at all. I have access to the elasticsearch.log file, is that what you mean? Or a different one? I&#39;m running ES as a service"}, {"owner": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438210625, "post_id": 31689818, "comment_id": 51362999, "body": "I&#39;ve tried adding die unless $resp-&gt;is_success all over the code. It never dies. Just times out."}, {"owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "reply_to_user": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438211462, "post_id": 31689818, "comment_id": 51363220, "body": "yes elasticsearch.log is there any message logged during the failure"}, {"owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "reply_to_user": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438211543, "post_id": 31689818, "comment_id": 51363242, "body": "no search context  essentially means the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html#_clear_scroll_api\" rel=\"nofollow noreferrer\">scroll_id</a> got cleared are you sure you have not recieved all the documents how many documents are you expecting and how man you retrieve in each scroll request  is it the default 10 ?"}, {"owner": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438212172, "post_id": 31689818, "comment_id": 51363396, "body": "I&#39;m not quite sure how to tell if I&#39;ve gotten all the responses. As you can see above, I have a while loop going on that should keep going as long as there&#39;s something in @tempResponse. Maybe this is wrong? Is there a better way to go about it? I should get about 12,000 documents, and I&#39;m currently getting 10 each scroll request."}, {"owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "reply_to_user": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438213542, "post_id": 31689818, "comment_id": 51363726, "body": "relying on size of hits array sounds right , i can&#39;t figure whats wrong try increasing the scroll timeout from 1m  to a higher value and see if that helps ?"}, {"owner": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438215572, "post_id": 31689818, "comment_id": 51364237, "body": "It&#39;s weird. I changed the size to 1000 just to see what happened and I&#39;m checking the size of the hits.hits array every time. It says it has a size of 1000... even when it doesn&#39;t actually have anything in it."}, {"owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "reply_to_user": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438216597, "post_id": 31689818, "comment_id": 51364482, "body": "strange are there any garbage collection messages in elasticsearch.log ?"}, {"owner": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "edited": false, "score": 0, "creation_date": 1438217531, "post_id": 31689818, "comment_id": 51364712, "body": "I FINALLY got it. See the last edit for details. Thank you SO MUCH for your help!!"}], "tags": [], "owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "is_accepted": true, "score": 2, "last_activity_date": 1438133499, "creation_date": 1438133499, "answer_id": 31689818, "question_id": 31689482, "link": "https://stackoverflow.com/questions/31689482/after-several-successes-elasticsearch-queries-suddenly-fail/31689818#31689818", "title": "After several successes, Elasticsearch queries suddenly fail", "body": "<p>every scroll request should use the most recent  <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html#CO4-4\" rel=\"nofollow\">scroll id</a> \ni.e scroll_id returned in previous scroll response.</p>\n\n<p>Looking from the code excerpt looks like you are using the the scroll id from the first response probably changing that to use the most recent scroll_id should help </p>\n\n<p>i.e. in the <em>while</em> block you would need   <strong>$scrollID =  $decoded->{ \"_scroll_id\" };</strong> </p>\n\n<pre><code>while ( $lengthOfArray &gt; 0 ) {\n        $ua = LWP::UserAgent-&gt;new;\n\n        $serverEndpoint = \"http://localhost:9200/_search/scroll?scroll=1m&amp;scroll_id=\" . $scrollID;\n        $req = HTTP::Request-&gt;new( POST =&gt; $serverEndpoint );\n        $req-&gt;header( 'content-type' =&gt; 'application/json' );\n\n        $req-&gt;content( $post_data );\n\n        #!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!                 \n        $resp = $ua-&gt;request( $req );\n        #!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n        $myResults = $resp-&gt;content();\n\n        # Changes string (as returned by http request) to JSON format that is compatible with Perl\n        $decoded = JSON::XS::decode_json( $myResults );\n        $scrollID =  $decoded-&gt;{ \"_scroll_id\" };\n        @tempResponse = @{ $decoded-&gt;{ \"hits\" }{ \"hits\" } };\n        #print \"@tempResponse\\n\";\n\n        @data = ( @data, @tempResponse );\n\n        $lengthOfArray = scalar @tempResponse;\n    }\n</code></pre>\n\n<p>probably this should help.</p>\n"}], "owner": {"reputation": 117, "user_id": 5070770, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-JBNGXIy0tPs/AAAAAAAAAAI/AAAAAAAAAAc/gIndi8LLhFk/photo.jpg?sz=128", "display_name": "kgrimes2", "link": "https://stackoverflow.com/users/5070770/kgrimes2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 735, "favorite_count": 0, "accepted_answer_id": 31689818, "answer_count": 1, "score": 2, "last_activity_date": 1438217505, "creation_date": 1438130903, "last_edit_date": 1438217505, "question_id": 31689482, "link": "https://stackoverflow.com/questions/31689482/after-several-successes-elasticsearch-queries-suddenly-fail", "title": "After several successes, Elasticsearch queries suddenly fail", "body": "<p>I've written a Perl script that, put simply, will pull data from an Elasticsearch database and print it out in a specific format. </p>\n\n<p><em>If any particular snippets of code would be helpful to see in solving my issue, let me know and I'll be more than happy to post them here. I won't cut and paste the whole script as it is almost 1000 lines long &amp; it's my company's property.</em></p>\n\n<p><em>Modules currently used:</em> strict, warnings, LWP::UserAgent, CGI, POSIX, JSON, Modern::Perl, Term::ANSIColor, &amp; Scalar::Util</p>\n\n<p><strong>Declarations and such:</strong></p>\n\n<pre><code># Declare user agent object\nmy $ua = LWP::UserAgent-&gt;new;\n\n# Set custom HTTP request header fields\nmy $req = HTTP::Request-&gt;new( POST =&gt; $serverEndpoint );\n$req-&gt;header( 'content-type' =&gt; 'application/json' );\n\nmy $post_data = '{ \n        \"fields\" : [' . $arrayList . '],\n        \"sort\" : [\n            { \"@timestamp\" : { \"order\" : \"asc\" } }\n        ],\n        \"query\" : {\n            \"filtered\" : {\n                \"filter\" : {\n                    \"range\" : {\n                        \"@timestamp\" : {\n                            \"gte\" : \"' . $lowerBound . '\",\n                            \"lte\" : \"' . $upperBound . '\"\n                        }\n                    }\n                }\n            }\n        }\n    }';\n</code></pre>\n\n<p>$arrayList is previously defined to be a string of fields with quotes around them (e.g. \"field1\",\"field2\",\"field3\").</p>\n\n<pre><code># Receives results from ES (this is Perl syntax for querying ES)\n    $req-&gt;content( $post_data );\n    $resp = $ua-&gt;request( $req );\n    $myResults = $resp-&gt;content();\n    #say $myResults; die;\n\n    # Changes string (as returned by http request) to JSON format that is compatible with Perl\n    $decoded = JSON::XS::decode_json( $myResults );\n\n    @data = @{ $decoded-&gt;{ \"hits\" }{ \"hits\" } };\n    @tempResponse = @data;\n    my $lengthOfArray = scalar @tempResponse;\n</code></pre>\n\n<p><strong>At this point, @data has the information I need. I've checked it, it looks right.</strong> I saved the length of the current response for future use.</p>\n\n<pre><code>$scrollID = $decoded-&gt;{ \"_scroll_id\" };\n</code></pre>\n\n<p>I save the scroll ID for the next part.</p>\n\n<p>Now that I have the initial set of data, I repeatedly query the database until (well, at least, it's supposed to) the database has been completely queried.</p>\n\n<p>I can tell when the database has been fully queried if $lengthOfArray &lt; 0. If this is true, then there is no more data to get.</p>\n\n<pre><code>while ( $lengthOfArray &gt; 0 ) {\n        $ua = LWP::UserAgent-&gt;new;\n\n        $serverEndpoint = \"http://localhost:9200/_search/scroll?scroll=1m&amp;scroll_id=\" . $scrollID;\n        $req = HTTP::Request-&gt;new( POST =&gt; $serverEndpoint );\n        $req-&gt;header( 'content-type' =&gt; 'application/json' );\n\n        $req-&gt;content( $post_data );\n\n        #!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!                 \n        $resp = $ua-&gt;request( $req );\n        #!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n        $myResults = $resp-&gt;content();\n\n        # Changes string (as returned by http request) to JSON format that is compatible with Perl\n        $decoded = JSON::XS::decode_json( $myResults );\n\n        @tempResponse = @{ $decoded-&gt;{ \"hits\" }{ \"hits\" } };\n        #print \"@tempResponse\\n\";\n\n        @data = ( @data, @tempResponse );\n\n        $lengthOfArray = scalar @tempResponse;\n    }\n</code></pre>\n\n<p>The data set I'm working with is enormous. Everything goes perfectly well (I've tested it. If I only let it run for 600 times through the loop, it works no problem) <strong>until it gets to loop count #801.</strong> At the 801st time through the loop, it gets hung up. It sits there for a good minute or so before dying with the error message:</p>\n\n<pre><code>malformed JSON string, neither tag, array, object, number, string or atom, at character offset 0 (before \"read timeout at /usr...\")\n</code></pre>\n\n<p>I've traced down the error to the line that has all the !!!!!s around it above. The loop gets hung up on that line on the 801st time through the loop.</p>\n\n<p>There are no real indicators as to why this error is happening. Again, it works if I go through the loop 800 times, but not 801.</p>\n\n<p>I know all of the data is in Elasticsearch. There are about 12,000 hashes that I should be getting from it. I can access the first 800 hashes via @data[0], @data[1] etc. but after that I'm out of luck.</p>\n\n<p>Any help would be greatly appreciated. I spent my whole 9-hour work day today trying to figure this out with no luck. Really, if you could even ask for clarification on some part of my explanation that might be enough to find the answer.</p>\n\n<p>So, if there's <em>anything</em> I can do to clear up what I've typed (show what the ES URL gives), please let me know.</p>\n\n<p>Thank you very, very much!</p>\n\n<p><strong>==========================================================</strong></p>\n\n<p><strong>EDIT #1:</strong> I've found the source of the problem. It doesn't make sense, but here it is.</p>\n\n<p>In $post_data I have $arrayList. It contains a list of 36 fields that I had previously taken from an array of fields. It's formatted like this:</p>\n\n<pre><code>\"field1\",\"field2\",\"field3\",\"field4\"\n</code></pre>\n\n<p>I noticed that if I remove ONE of those fields, doesn't matter which one, the request goes through without a problem.</p>\n\n<p>It does not matter which field it is.</p>\n\n<p><strong>==========================================================</strong></p>\n\n<p><strong>EDIT #2:</strong> This may be useful. If I let the request time out, it gives the following error message:</p>\n\n<pre><code>malformed JSON string, neither tag, array, object, number, string or atom, at character offset 0 (before \"read timeout at /usr...\" at *scriptName.pl* line 403, &lt;STDIN&gt; line 5.\n</code></pre>\n\n<p>Line 403 is as follows:</p>\n\n<pre><code>$decoded = JSON::XS::decode_json( $myResults );\n</code></pre>\n\n<p>It's right below the</p>\n\n<pre><code>#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!                 \n$resp = $ua-&gt;request( $req );\n#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n</code></pre>\n\n<p><strong>==========================================================</strong></p>\n\n<p><strong>EDIT #3:</strong> I tried printing out $resp->content() to see if anything looks strange before it gets hung up. It doesn't initially ... The content looks just like it should.</p>\n\n<p>After awhile, though, it gives up and prints out the following message:</p>\n\n<pre><code>{\"error\":\"SearchPhaseExecutionException[Failed to execute phase [query], all shards failed; shardFailures{SearchContextMissingException[No search context found for id [2378]]}{SearchContextMissingException[No search context found for id [2379]]}{SearchContextMissingException[No search context found for id [2380]]}\",\"status:404\"}\n</code></pre>\n\n<p>This completely covers the screen until I interrupt it.</p>\n\n<p><strong>==========================================================</strong></p>\n\n<p><strong>FINAL EDIT: IT WORKS!</strong></p>\n\n<p>Nothing really needed to be changed in the declarations section. I <em>did</em> change the size of the query so that less queries had to be made (I think ES's RAM was getting filled). So now this is what the $post_data looks like:</p>\n\n<pre><code>my $post_data = '{\n        \"size\": 1000,\n        \"fields\" : [' . $arrayList . '],\n        \"sort\" : [\n            { \"@timestamp\" : { \"order\" : \"asc\" } }\n        ],\n        \"query\" : {\n            \"filtered\" : {\n                \"filter\" : {\n                    \"range\" : {\n                        \"@timestamp\" : {\n                            \"gte\" : \"' . $lowerBound . '\",\n                            \"lte\" : \"' . $upperBound . '\"\n                        }\n                    }\n                }\n            }\n        }\n    }';\n</code></pre>\n\n<p>Notice how the size has been changed near the top. I don't think that this was what fixed my issue, but it should help performance, anyway.</p>\n\n<p>The problem I believe I was having was with the while loop. Originally the loop was designed to continue to run until the hits array was empty, but for some reason it kept going even after that. No idea why, maybe I'll figure that out later.</p>\n\n<p>What I did instead was check to see if one of the members that I expect to find within the hits array is defined. If it isn't defined, it fails the loop.</p>\n\n<p>There were a couple other minor changes, but that was the real big one. It works great now! ... only 2 days later.</p>\n\n<p>Thanks Stack Overflow!</p>\n"}, {"tags": ["perl", "command-line", "file-access"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438128860, "post_id": 31689123, "comment_id": 51320136, "body": "I&#39;m not sure what you&#39;re asking here: &quot;is the file streamed from STDIN (say) and stored in a scalar string or is it opened and read into such a string?&quot;"}, {"owner": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438131566, "post_id": 31689123, "comment_id": 51320766, "body": "Your answer clarified this to me. I more or less knew the file would at some point be read as a single big line and stored in a string. I wasn&#39;t sure how exactly this would happen. It seemed natural to conclude that the file name would be in an array of arguments and the file would be subsequently opened and read (as in the normal way of doing this). I just thought that maybe with -0777 the file would be read from the standard input as if I had typed it. I know, bizarre. Sorry."}], "answers": [{"comments": [{"owner": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "edited": false, "score": 0, "creation_date": 1438131106, "post_id": 31689210, "comment_id": 51320643, "body": "The references are very good. The handle proper is ARGV then. Should I have read the explanation for -i in perldoc/perlrun, I wouldn&#39;t have asked this question. The bit about -0777 and readline totally clarifies my doubts. Thanks for the patience and the clarifications."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 0, "last_activity_date": 1438129220, "last_edit_date": 1438129220, "creation_date": 1438128824, "answer_id": 31689210, "question_id": 31689123, "link": "https://stackoverflow.com/questions/31689123/perl-processing-files-from-the-command-line-with-e-how-is-the-passed-file-acc/31689210#31689210", "title": "Perl: processing files from the command line with -e. How is the passed file accessed?", "body": "<blockquote>\n  <p>How is foo accessed?</p>\n</blockquote>\n\n<p>It's in <a href=\"http://perldoc.perl.org/perlvar.html#@ARGV\" rel=\"nofollow\"><code>@ARGV</code></a>, as usual (specifically <code>$ARGV[0]</code>).</p>\n\n<p><code>-i</code> doesn't really operate in place. It renames the original file out of the way and creates a new file with the original name. The input handle for the pseudo-file formed by the concatenation of all files in <code>@ARGV</code> is called <code>ARGV</code>; the output handle for <code>-i</code> processing is called <code>ARGVOUT</code>.</p>\n\n<p><code>-0777</code> just sets <code>$/</code> (also known as the input record separator) to <code>undef</code>, which causes <a href=\"http://perldoc.perl.org/functions/readline.html\" rel=\"nofollow\"><code>readline</code></a> to return the whole file as a single \"line\".</p>\n\n<p>For more information, see</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perldoc perlrun</code></a></li>\n<li><a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\"><code>perldoc perlvar</code></a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "edited": false, "score": 0, "creation_date": 1438131794, "post_id": 31689216, "comment_id": 51320821, "body": "Thank you. I already picked an answer but if I had enough reputation, I&#39;d at least upvote your answer."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1438128850, "creation_date": 1438128850, "answer_id": 31689216, "question_id": 31689123, "link": "https://stackoverflow.com/questions/31689123/perl-processing-files-from-the-command-line-with-e-how-is-the-passed-file-acc/31689216#31689216", "title": "Perl: processing files from the command line with -e. How is the passed file accessed?", "body": "<p>First of all, -i doesn't do anything by itself; you have to actually read from the ARGV filehandle (which empty <code>&lt;&gt;</code> does, or the -n or -p switches).</p>\n\n<p>When you do that, and -i is set, it will open the file on the command line (to the ARGV filehandle) and rename it with the extension you specify (or unlink it if you don't specify an extension) and open a new file with the original name using the ARGVOUT filehandle, selecting that as the default filehandle to print to.</p>\n\n<p>Using -0777 doesn't change anything, other than that when you read from the file, you will get the entire contents, not just a line.</p>\n"}], "owner": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 31689210, "answer_count": 2, "score": 0, "last_activity_date": 1438129220, "creation_date": 1438128209, "question_id": 31689123, "link": "https://stackoverflow.com/questions/31689123/perl-processing-files-from-the-command-line-with-e-how-is-the-passed-file-acc", "title": "Perl: processing files from the command line with -e. How is the passed file accessed?", "body": "<p>When I invoke Perl like </p>\n\n<pre><code>perl -e '' foo.txt\n</code></pre>\n\n<p>How is foo accessed? </p>\n\n<p>If I use -i, I can edit foo.txt in place. I suppose foo.txt is associated with some file handle and opened for direct access? What would be the handle? If I use -0777, is the file streamed from STDIN (say) and stored in a scalar string or is it opened and read into such a string? Which string?</p>\n\n<p>I understand this may be trivial but I can't seem to find answers.</p>\n\n<p>Thank you very much for any help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438126124, "post_id": 31688466, "comment_id": 51319366, "body": "&quot;he debuted comparison leaving the 2 first lines (date and parameters) he falls tired line 1 the name of the system namely DPA01&quot; - what does this mean? Also, is there a question anywhere in there?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5068577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fc1c8b5b256c768050d4be96d539ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/5068577/paul"}, "edited": false, "score": 0, "creation_date": 1438171448, "post_id": 31689415, "comment_id": 51338854, "body": "Hi harvey, unfortunately I can not do it"}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "reply_to_user": {"reputation": 13, "user_id": 5068577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fc1c8b5b256c768050d4be96d539ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/5068577/paul"}, "edited": false, "score": 0, "creation_date": 1438210341, "post_id": 31689415, "comment_id": 51362919, "body": "@Paul - What are you struggling with?"}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1438132406, "last_edit_date": 1438132406, "creation_date": 1438130318, "answer_id": 31689415, "question_id": 31688466, "link": "https://stackoverflow.com/questions/31688466/compare-2-file-line-and-column/31689415#31689415", "title": "Compare 2 File (line and column)", "body": "<p>Just to clarify, you want to find all columns on DATAo.csv that contain the same value, and all rows in DATAo.csv that match the last row in DATA1.csv.</p>\n\n<p>It's clear from your code that you are relatively new to programming, the core ideas are there, just lacking the experience.</p>\n\n<p>First of all, File::Compare probably doesn't do what you think it does, it doesn't have the ability to compare data in a CSV file in the way you want. You will have to build that logic in yourself.</p>\n\n<p>Secondly, I would recommend you read up on arrays, this is a key component for solving this particular problem, have a look at;</p>\n\n<ul>\n<li><a href=\"http://perlmaven.com/perl-arrays\" rel=\"nofollow\">http://perlmaven.com/perl-arrays</a></li>\n<li><a href=\"http://perlmaven.com/multi-dimensional-arrays-in-perl\" rel=\"nofollow\">http://perlmaven.com/multi-dimensional-arrays-in-perl</a></li>\n<li><a href=\"http://perlmaven.com/splice-to-slice-and-dice-arrays-in-perl\" rel=\"nofollow\">http://perlmaven.com/splice-to-slice-and-dice-arrays-in-perl</a></li>\n</ul>\n\n<p>To begin solving your problem, load your csv into a two dimensional array, usually in the format data[row][column], eg;</p>\n\n<pre><code>my @DATAo;\nopen($fhDATAo, '&lt;', $file) or die \"Can't open $file: $!\\n\";\nwhile (&lt;$fhDATAo&gt;) { push @DATAo, [split /,/]; }\n</code></pre>\n\n<p>You can now manipulate your array using various functions, see the examples below.</p>\n\n<p>Remove any unwanted rows using splice, see <a href=\"http://perlmaven.com/how-to-eliminate-a-value-in-the-middle-of-an-array-in-perl\" rel=\"nofollow\">http://perlmaven.com/how-to-eliminate-a-value-in-the-middle-of-an-array-in-perl</a>:</p>\n\n<pre><code>splice(@DATAo, 0, 1); # Removed the first row using splice(var, position, length)\n</code></pre>\n\n<p>Look at the data and perform some logic on it.</p>\n\n<pre><code>foreach my $row in (@DATAo) {\n foreach my $col in (@$row) {\n   print \"Do something with $row and $col\";\n }\n}\n</code></pre>\n\n<p>From the above examples you should be able to load the DATA1.csv and perform the necessary operations.</p>\n\n<p>If you need any further help update the source code.</p>\n"}], "owner": {"reputation": 13, "user_id": 5068577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fc1c8b5b256c768050d4be96d539ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/5068577/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438132406, "creation_date": 1438123887, "question_id": 31688466, "link": "https://stackoverflow.com/questions/31688466/compare-2-file-line-and-column", "title": "Compare 2 File (line and column)", "body": "<p>I would like to compare two files: lines and column. Here's an example file:</p>\n\n<p>-------------------------------DATAo.csv---------------------------------------</p>\n\n<pre><code>20150714 00:08:49\ndefault, ame_a,   ame_m,     ame_uc, a     me_f,     ams_l, enced_affi,\nDPA01,  fault,    fault,       fault,      fault,    fault,   1,\nDPA02,       ,        ,             ,           ,    fault,   1,\nDPA03,  fault,    fault,         olt,      fault,    fault,   1,\nDPA01,  fault,       at,       fault,          2,    fault,   1,\n</code></pre>\n\n<p>The second has only two lines DATA</p>\n\n<p>--------------------------------DATA1.csv----------------------------------</p>\n\n<pre><code>20150616 22:16:09\ndefault,  ame_a,     ame_m,      ame_uc,     ame_f,    ams_l,  enced_affi,\ndefault,  fault,     fault,      fault,      fault,    fault,       1,\n</code></pre>\n\n<p>Comparison line = h (that's what my code performs far)</p>\n\n<p>The code should go in the DATA1.csv he skips 2 first line of the date and parameters, and takes the last line namely fault, fault, fault, fault, fault, 1, and leaving the name \"default\" when it has that line it goes into the file DATA0.csv he debuted comparison leaving the 2 first lines (date and parameters)</p>\n\n<p>he falls tired line 1 the name of the system namely DPA01</p>\n\n<pre><code>fault, fault, fault, fault, fault, 1, \nfault, fault, fault, fault, fault, 1,\n\n=&gt; not different\n</code></pre>\n\n<p>line 2</p>\n\n<pre><code>fault, fault, fault, fault, fault, 1, \n     ,      ,      ,      , fault, 1,\n\n=&gt;  different\n</code></pre>\n\n<p>line 3</p>\n\n<pre><code>fault, fault, fault, fault, fault, 1, \nfault, fault,   olt, fault, fault, 1,\n\n=&gt;  different\n</code></pre>\n\n<p>line 4</p>\n\n<pre><code>fault, fault, fault, fault, fault, 1, \nfault,    at, fault,     2, fault, 1,\n\n=&gt; different\n</code></pre>\n\n<p>Comparing columns</p>\n\n<p>the code is in DATA1.csv file and look for the name of the first parameter namely ame_a if one has the \"fault\" the value it returns in the file and look DATA0.csv below ame_a if there is a different value</p>\n\n<pre><code>DPA01,  fault, \nDPA02,       ,      \nDPA03,  fault,  \nDPA01,  fault,\n</code></pre>\n\n<p>In the case of species we see that the system with the name DPA2 does not value this sign that there is a difference. Then concidere the second parameter ie ame_m this one possesses the \"fault\" value in the file DATA1.csv retre the code back into the DATA0.csv file and see if any capital gains are equivalent to the \"fault\" in the case 'species</p>\n\n<pre><code>DPA01,  fault,  \nDPA02,       ,  \nDPA03,  fault,   \nDPA01,     at,\n</code></pre>\n\n<p>We note that this is not equivalent, and so on. Finally he gives me a result like that.</p>\n\n<pre><code>              false,    false,       false,      false,   true,    true,\n\ndefault,      ame_a,    ame_m,      ame_uc,      ame_f,   ams_l,  enced_affi,\ntrue  DPA01,  fault,    fault,       fault,      fault,    fault,      1,\nfalse DPA02,       ,         ,            ,           ,    fault,      1,\nfalse DPA03,  fault,    fault,         olt,      fault,    fault,      1,\nfalse DPA01,  fault,       at,       fault,          2,    fault,      1,\n</code></pre>\n\n<p>Number of different system = 3\nNumber of parameters = 4 \nthe names are: </p>\n\n<pre><code>ame_a\name_m \name_uc \name_f\n</code></pre>\n\n<p>As you will notice below if code is already part of the exercise and I am blocked for some days it is a probationary period. I beg your help. Thank You</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Compare;\n\n\nmy %exclude;\n.\nmy $file1 = $ARGV[0] || die \"Unable to open file\";\nmy $file2 = $ARGV[1] || die \"Unable to open file\";\nmy $txtdatei = $ARGV[2] || 'compare.csv';\n\nmy $compare = compare($file2, $file1);\nopen my $file, '&lt;', $file1 or die $!;\nwhile (&lt;$file&gt; ) {last if (/^\\d+\\s+\\d{2}:\\d{2}:\\d{2}\\s*$/)}\nwhile (&lt;$file&gt;) {\nchomp;\n$exclude{$_}++;\n}\n\n\nopen my $txtfh, '&gt;', $txtdatei or die \"Unable to open file\";\n\nopen $file, '&lt;', $file2 or die \"Unable to open file\";\nwhile (&lt;$file&gt; ) {last if (/^\\d+\\s+\\d{2}:\\d{2}:\\d{2}\\s*$/)}\nwhile (&lt;$file&gt;) {\nchomp;\nif($compare == 1){\nprint $txtfh \"FALSE! $_\\n\" unless $exclude{$_};\n}\nelsif($compare == 0){\nprint $txtfh \"True! the Files are equal \\n\";\n}\n}\nclose $txtfh;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438119742, "post_id": 31687612, "comment_id": 51316964, "body": "Can any of the fields in the CSV possibly contain commas?"}, {"owner": {"reputation": 10698, "user_id": 1765, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Lhaux.png?s=128&g=1", "display_name": "Peter Turner", "link": "https://stackoverflow.com/users/1765/peter-turner"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438119833, "post_id": 31687612, "comment_id": 51317005, "body": "@ThisSuitIsBlackNot yes"}, {"owner": {"reputation": 10698, "user_id": 1765, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Lhaux.png?s=128&g=1", "display_name": "Peter Turner", "link": "https://stackoverflow.com/users/1765/peter-turner"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1438119860, "post_id": 31687612, "comment_id": 51317017, "body": "@anu I&#39;ll stop quoting my code, thanks"}, {"owner": {"reputation": 10698, "user_id": 1765, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Lhaux.png?s=128&g=1", "display_name": "Peter Turner", "link": "https://stackoverflow.com/users/1765/peter-turner"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1438120071, "post_id": 31687612, "comment_id": 51317113, "body": "@anubhava I know I have no tabs in the file, but I&#39;ve got random quotes and commas inside some of the fields (it&#39;s a super secure password dump file)"}, {"owner": {"reputation": 10698, "user_id": 1765, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Lhaux.png?s=128&g=1", "display_name": "Peter Turner", "link": "https://stackoverflow.com/users/1765/peter-turner"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1438120181, "post_id": 31687612, "comment_id": 51317158, "body": "@anubhava yeah, that&#39;s the main problem, why I need to convert the commas to something else and get rid of the quotes altogether so I can open it up in excel"}, {"owner": {"reputation": 10698, "user_id": 1765, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Lhaux.png?s=128&g=1", "display_name": "Peter Turner", "link": "https://stackoverflow.com/users/1765/peter-turner"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1438120364, "post_id": 31687612, "comment_id": 51317249, "body": "@anubhava stripping the beginning and ending quotes is good, but trivial.  removing the quote inside <code>asdf&quot;asdf</code> would be destroy everything"}, {"owner": {"reputation": 10698, "user_id": 1765, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Lhaux.png?s=128&g=1", "display_name": "Peter Turner", "link": "https://stackoverflow.com/users/1765/peter-turner"}, "edited": false, "score": 0, "creation_date": 1438120558, "post_id": 31687612, "comment_id": 51317329, "body": "yeah, it&#39;s perfect, just waiting for the time to pass so I can accept it."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438121103, "post_id": 31687612, "comment_id": 51317558, "body": "Why are you removing all of the quotes except the first, the last, and the second-to-last?"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1438119888, "creation_date": 1438119888, "answer_id": 31687674, "question_id": 31687612, "link": "https://stackoverflow.com/questions/31687612/substituting-the-same-number-of-items-in-perl-regexp-one-liner/31687674#31687674", "title": "Substituting the same number of items in perl regexp one-liner", "body": "<p>Well, you can do this:</p>\n\n<pre><code>perl -pe 's/\"(,+)\"/\"\\t\" x length($1)/eg'\n</code></pre>\n\n<p>This uses the <a href=\"http://perldoc.perl.org/perlop.html#Multiplicative-Operators\" rel=\"nofollow\"><code>x</code> operator</a> to produce as many tabs as there were commas.</p>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 5145189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076533502374293/picture?type=large", "display_name": "Chandar Kakarlapudi", "link": "https://stackoverflow.com/users/5145189/chandar-kakarlapudi"}, "is_accepted": false, "score": 0, "last_activity_date": 1438122937, "creation_date": 1438122937, "answer_id": 31688285, "question_id": 31687612, "link": "https://stackoverflow.com/questions/31687612/substituting-the-same-number-of-items-in-perl-regexp-one-liner/31688285#31688285", "title": "Substituting the same number of items in perl regexp one-liner", "body": "<p>That replaces all commas with one tab, because you are using <code>,+</code> and asking it to match all commas in one go.</p>\n\n<p>Your code:</p>\n\n<pre><code>perl -ne 's/\",+\"/\\t/g &amp;&amp; print' \n</code></pre>\n\n<p>Problem is the \"+\". It takes multiple of whatever</p>\n\n<p>I changed it to:</p>\n\n<pre><code>perl -ne 's/,/\\t/g &amp;&amp; print' \n</code></pre>\n\n<p>and it worked fine:</p>\n\n<pre><code>\"asdf\"                  \"asdf\"  \"asdf   \"asdf\"\n</code></pre>\n"}], "owner": {"reputation": 10698, "user_id": 1765, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Lhaux.png?s=128&g=1", "display_name": "Peter Turner", "link": "https://stackoverflow.com/users/1765/peter-turner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 31687674, "answer_count": 2, "score": 0, "last_activity_date": 1438122937, "creation_date": 1438119616, "last_edit_date": 1438119894, "question_id": 31687612, "link": "https://stackoverflow.com/questions/31687612/substituting-the-same-number-of-items-in-perl-regexp-one-liner", "title": "Substituting the same number of items in perl regexp one-liner", "body": "<p>I've got a wonky CSV file like this</p>\n\n<pre><code>\"asdf\",,,\"asdf\",\"asdf\"asdf\"\n</code></pre>\n\n<p>and I want to convert the commas to tabs (for personal reasons)</p>\n\n<p>I was hoping to do something like this:</p>\n\n<pre><code>perl -ne 's/\",+\"/\\t/g &amp;&amp; print' \n</code></pre>\n\n<p>expected output is </p>\n\n<pre><code>\"asdf[tab][tab][tab]asdf[tab]asdf\"asdf\"\n</code></pre>\n\n<p>but that only replaces one tab with multiple commas, I need to have 3 commas for 3 tabs.  Is there a way to count the number of matches in one of those existential quantifiers (+ or *) and use that to determine how many tabs I should print </p>\n\n<p>I can handle the beginning and ending quotes, unless someone wants to throw in their destruction. </p>\n"}, {"tags": ["perl", "web-scraping", "screen-scraping"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5034084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63508da00af9759d582d75264ba265f5?s=128&d=identicon&r=PG&f=1", "display_name": "Skape", "link": "https://stackoverflow.com/users/5034084/skape"}, "edited": false, "score": 0, "creation_date": 1438121682, "post_id": 31686033, "comment_id": 51317796, "body": "Thank you Borodin. I will look into mechanize and will be conscious of the sites terms as well as how many pages are being accessed."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1438113808, "creation_date": 1438113808, "answer_id": 31686033, "question_id": 31685924, "link": "https://stackoverflow.com/questions/31685924/perl-scraping-product-id-using-url/31686033#31686033", "title": "Perl Scraping Product Id using URL", "body": "<p>You can do that. Look at <code>LWP</code> or <code>WWW::Mechanize</code>, but you would very likely be contravening the site's terms and conditions</p>\n\n<p>Furthermore, if you are trying every product ID from zero up to 75668, and each internet transaction takes (a very optimistic) three seconds, then it will take you nearly three days. And I assume you don't want to stop at 75668</p>\n"}], "owner": {"reputation": 21, "user_id": 5034084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63508da00af9759d582d75264ba265f5?s=128&d=identicon&r=PG&f=1", "display_name": "Skape", "link": "https://stackoverflow.com/users/5034084/skape"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438113808, "creation_date": 1438113427, "question_id": 31685924, "link": "https://stackoverflow.com/questions/31685924/perl-scraping-product-id-using-url", "title": "Perl Scraping Product Id using URL", "body": "<p>Can I use a Perl script in conjunction with a product ID to scrape for active product pages by increasing the product id by \"1\" and reporting back when ID's are found?</p>\n\n<p>The form URL action takes the look of:</p>\n\n<p>URL/checkout/cart/ajaxadd/uenc/product/75668/</p>\n\n<p>The 75668 in the above URL is the product ID that I would like to run through a loop and count up, reporting back ID's as they are found.</p>\n\n<p>Is there a certain resource or any direction that I can be pointed to?</p>\n"}, {"tags": ["perl", "posix", "stdio"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 4, "creation_date": 1438112661, "post_id": 31685643, "comment_id": 51313024, "body": "Read from <code>&#47;dev&#47;tty</code>, but be cautious about annoying people. Remember that not every process has an operational <code>&#47;dev&#47;tty</code> (it may be run by <code>cron</code>, for example)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1438112930, "post_id": 31685643, "comment_id": 51313187, "body": "After getting a handle to <code>&#47;dev&#47;tty</code>, you can use <a href=\"https://metacpan.org/pod/Term::ReadKey\" rel=\"nofollow noreferrer\"><code>Term::ReadKey</code></a> to disable echo and read a line."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438113073, "post_id": 31685643, "comment_id": 51313272, "body": "<code>perl -E &#39;open (STDOUT, &quot;&gt;&quot;, &quot;&#47;dev&#47;tty&quot;); say &quot;ok&quot;&#39; &gt; test.txt</code> will print to the terminal, and not to the file <code>test.txt</code>.."}, {"owner": {"reputation": 11359, "user_id": 1323940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/def1b1fd4342d9e332b7a3bf41f57a00?s=128&d=identicon&r=PG", "display_name": "SzG", "link": "https://stackoverflow.com/users/1323940/szg"}, "edited": false, "score": 1, "creation_date": 1438113669, "post_id": 31685643, "comment_id": 51313656, "body": "SSH does just that: even if you redirect STDIN and STDOUT, it&#39;s still able to ask you for passwords, passphrases, host authenticity, etc."}], "answers": [{"comments": [{"owner": {"reputation": 76134, "user_id": 417501, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/703f62ead2e305b1dff62066065a0554?s=128&d=identicon&r=PG", "display_name": "fuz", "link": "https://stackoverflow.com/users/417501/fuz"}, "edited": false, "score": 0, "creation_date": 1438349207, "post_id": 31692809, "comment_id": 51428162, "body": "You should check <code>STDERR</code>, too. Even if <code>STDIN</code> and <code>STDOUT</code> are redirected, <code>STDERR</code> often still goes to a terminal."}], "tags": [], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "is_accepted": false, "score": 1, "last_activity_date": 1438151386, "creation_date": 1438151386, "answer_id": 31692809, "question_id": 31685643, "link": "https://stackoverflow.com/questions/31685643/forcing-keyboard-not-stdin-input-in-perl-despite-redirected-io/31692809#31692809", "title": "forcing keyboard (not stdin) input in perl despite redirected IO", "body": "<p>thank you, everyone.  here is the working version:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nsub term_interactive {  return -t STDIN &amp;&amp; -t STDOUT; }\nprint \"terminal is \".((term_interactive)?\"interactive\":\"batch\").\"\\n\";\n\nprint \"type password : \";\n\nuse Term::ReadKey;\nReadMode 2; # noecho\nopen(my $KEYIN, \"/dev/tty\") or die \"cannot open tty for read\\n\";\nprint(\"read \".&lt;$KEYIN&gt;.\"\\n\");\nclose($KEYIN);\nReadMode 0; # restore terminal\n## or ReadMode 1; # normal terminal\n</code></pre>\n"}], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438151386, "creation_date": 1438112525, "question_id": 31685643, "link": "https://stackoverflow.com/questions/31685643/forcing-keyboard-not-stdin-input-in-perl-despite-redirected-io", "title": "forcing keyboard (not stdin) input in perl despite redirected IO", "body": "<p>perl, unix (OSX, linux):  is it possible via perl to force a prompt and keyboard user input, even if the user has redirected STDIN and STDOUT?  this is useful to help prevent users from storing passwords.  I know it won't be perfect, but at least it will be helpful.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438111403, "post_id": 31685218, "comment_id": 51312314, "body": "<code>@{$_-&gt;{&#39;value&#39;}}</code>.. the error message should not occur.. since there is an even number of elements in the hashes.. for example (<code>name</code>, <code>&#39;foo&#39;</code>, <code>&quot;one&quot;</code>, <code>&quot;two&quot;</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1438111405, "creation_date": 1438111405, "answer_id": 31685348, "question_id": 31685218, "link": "https://stackoverflow.com/questions/31685218/access-hash-member-of-type-array-within-array-of-hashes/31685348#31685348", "title": "access hash member of type array within array of hashes", "body": "<p>So you have a reference to an array you want to dereference. The equivalent of <code>@array</code> for when you have a reference is <code>@{ $ref }</code>, so</p>\n\n<pre><code>print(\"@array\\n\");\n\nprint(join(', ', @array), \"\\n\");\n</code></pre>\n\n<p>would be</p>\n\n<pre><code>print(\"@{ $_-&gt;{value} }\\n\");\n\nprint(join(', ', @{ $_-&gt;{value} }), \"\\n\");\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"http://www.perlmonks.org/?node_id=977408\" rel=\"nofollow\">Mini-Tutorial: Dereferencing Syntax</a></li>\n<li><a href=\"http://www.perlmonks.org/?node_id=69927\" rel=\"nofollow\">References quick reference</a></li>\n<li><a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a></li>\n<li><a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a></li>\n<li><a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldsc</a></li>\n<li><a href=\"http://perldoc.perl.org/perllol.html\" rel=\"nofollow\">perllol</a></li>\n</ul>\n"}], "owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 31685348, "answer_count": 1, "score": 0, "last_activity_date": 1438111405, "creation_date": 1438110995, "question_id": 31685218, "link": "https://stackoverflow.com/questions/31685218/access-hash-member-of-type-array-within-array-of-hashes", "title": "access hash member of type array within array of hashes", "body": "<p>I have an array of anonymous hashes like this:</p>\n\n<pre><code>my @arrayOfHashes=(\n    {\n        name =&gt; 'foo',\n        value =&gt; ['one', 'two']\n    },\n    {\n        name =&gt; 'bar',\n        value =&gt; ['two', 'three']\n    }\n);\n</code></pre>\n\n<p>I'm trying to iterate over the array and access the array within each hash:</p>\n\n<pre><code>foreach (@arrayOfHashes) {\n    print $_-&gt;{'value'} # ARRAY(0x88489f4)\n}\n</code></pre>\n\n<p>The value that is printed above is not what I want... I want to use that array so it works like this:</p>\n\n<pre><code>print qw(one two) # onetwo\n</code></pre>\n\n<p>But, when I use <em>qw</em> like this:</p>\n\n<pre><code>my @arrayOfHashes=(\n    {\n        name =&gt; 'foo',\n        qw(one two)\n    },\n    {\n        name =&gt; 'bar',\n        qw(three four)\n    }\n);\n</code></pre>\n\n<p>I get this error message at runtime (I am using strict mode):</p>\n\n<pre><code>Odd number of elements in anonymous hash at ...\n</code></pre>\n\n<p>How do I reference the \"value\" array within the <em>foreach</em> block?</p>\n"}, {"tags": ["perl", "bioinformatics"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1438111080, "post_id": 31685183, "comment_id": 51312131, "body": "If the small sequence is contained in the long sequence, then shouldn&#39;t you get the &quot;...exactly the same&quot; output?"}, {"owner": {"reputation": 1, "user_id": 1146453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f9a03dbd75adc0768b8360817eb39c?s=128&d=identicon&r=PG", "display_name": "user1146453", "link": "https://stackoverflow.com/users/1146453/user1146453"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1438111166, "post_id": 31685183, "comment_id": 51312177, "body": "Exactly, but i&#39;m not. I can&#39;t figure out why"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438111578, "post_id": 31685183, "comment_id": 51312412, "body": "<code>each our %sequencesForCalculation</code> ... Why is there an <code>our</code> in there? Where does <code>%sequencesForCalculation</code> come from?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1438111946, "post_id": 31685183, "comment_id": 51312612, "body": "But that is the opposite of what you said in your post."}, {"owner": {"reputation": 1, "user_id": 1146453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f9a03dbd75adc0768b8360817eb39c?s=128&d=identicon&r=PG", "display_name": "user1146453", "link": "https://stackoverflow.com/users/1146453/user1146453"}, "edited": false, "score": 0, "creation_date": 1438112188, "post_id": 31685183, "comment_id": 51312744, "body": "It comes from a previous sub, I&#39;ve gone through a different text file and grabbed the sequences and put them into the %sequencesforcalculation hash. The keys are from that different  file also."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438112468, "post_id": 31685183, "comment_id": 51312898, "body": "Please note what <a href=\"http://stackoverflow.com/users/168657/mob\">mob</a> and I have said. Your question says that you should get the <code>there is a difference</code> message every time, but you also say <i>&quot;<code>$localEpitope</code> is contained in the longer sequence <code>$value</code>&quot;</i>. Those two are contradictory, and we can&#39;t tell what it is that you mean"}, {"owner": {"reputation": 1, "user_id": 1146453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f9a03dbd75adc0768b8360817eb39c?s=128&d=identicon&r=PG", "display_name": "user1146453", "link": "https://stackoverflow.com/users/1146453/user1146453"}, "edited": false, "score": 0, "creation_date": 1438112474, "post_id": 31685183, "comment_id": 51312902, "body": "Mob, sorry I can&#39;t see what you mean? The output I&#39;m getting should be &quot;exactly the same..&quot; Both times, as he smaller sequence is contained in the larger sequence. But I&#39;m getting one of each output Ie, one saying &quot;exactly the same&quot; and one saying &quot;there is a difference&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438112574, "post_id": 31685183, "comment_id": 51312955, "body": "Okay, but your question says <i>&quot;I should get this printed every time ... <code>there is a difference</code>&quot;</i>"}, {"owner": {"reputation": 1, "user_id": 1146453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f9a03dbd75adc0768b8360817eb39c?s=128&d=identicon&r=PG", "display_name": "user1146453", "link": "https://stackoverflow.com/users/1146453/user1146453"}, "edited": false, "score": 0, "creation_date": 1438112588, "post_id": 31685183, "comment_id": 51312964, "body": "Sorry, I should have said the output I should be getting is &quot;exactly the same&quot; - apologies"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438112608, "post_id": 31685183, "comment_id": 51312982, "body": "Okay please fix your question"}, {"owner": {"reputation": 1, "user_id": 1146453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f9a03dbd75adc0768b8360817eb39c?s=128&d=identicon&r=PG", "display_name": "user1146453", "link": "https://stackoverflow.com/users/1146453/user1146453"}, "edited": false, "score": 0, "creation_date": 1438112683, "post_id": 31685183, "comment_id": 51313037, "body": "I&#39;ve just updated it, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1438112356, "post_id": 31685586, "comment_id": 51312842, "body": "The <code>&#47;g</code> flag is highly suspicious, though."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438112836, "post_id": 31685586, "comment_id": 51313128, "body": "@melpomene: You&#39;re right. Well done. I&#39;ve been too busy clarifying the question. Do you want to write it up?"}, {"owner": {"reputation": 1, "user_id": 1146453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f9a03dbd75adc0768b8360817eb39c?s=128&d=identicon&r=PG", "display_name": "user1146453", "link": "https://stackoverflow.com/users/1146453/user1146453"}, "edited": false, "score": 0, "creation_date": 1438113749, "post_id": 31685586, "comment_id": 51313716, "body": "thanks very much everyone. It&#39;s appreciated, apologies for the mistake with the question"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 1146453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f9a03dbd75adc0768b8360817eb39c?s=128&d=identicon&r=PG", "display_name": "user1146453", "link": "https://stackoverflow.com/users/1146453/user1146453"}, "edited": false, "score": 0, "creation_date": 1438114039, "post_id": 31685586, "comment_id": 51313925, "body": "@user1146453: That&#39;s fine. I think you should take a look at <a href=\"http://stackoverflow.com/editing-help\"><i>Markdown Editing Help</i></a> so that you can format your posts better"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1438114127, "last_edit_date": 1495535625, "creation_date": 1438112281, "answer_id": 31685586, "question_id": 31685183, "link": "https://stackoverflow.com/questions/31685183/nested-loops-in-perl-failing-logic/31685586#31685586", "title": "Nested Loops in Perl - Failing logic", "body": "<h3>Update</h3>\n\n<p><strong><em>TL;DR</em></strong>: You should change <code>$value =~ /($localEpitope)/g</code> to <code>$value =~ /$localEpitope/</code></p>\n\n<p>Okay now that we know the real circumstances, the problem (as <a href=\"https://stackoverflow.com/users/1848654/melpomene\">melpomene</a> points out in his comment) is that you have the <code>/g</code> modifier on your pattern match. There's no reason for that; you don't want check <em>how many</em> times the substring appears, you just want to know whether it's there at all</p>\n\n<p>The problem is that variables subjected to a <code>/g</code> pattern search keep a state that says where the last search ended. So you're searching for <code>$epitopeArray[0]</code> in the longer string and finding it, and then searching for <code>$epitopeArray[1]</code> <em>from where the previous search terminated</em>. The first substring appears <em>after</em> the second one, so only the first is found</p>\n\n<p>For more information on this behaviour, take a look at the <a href=\"http://perldoc.perl.org/functions/pos.html\" rel=\"nofollow noreferrer\"><code>pos</code> function</a> which returns the current value of this state. For instance <code>pos($value)</code> will return the character offset where the next <code>m//g</code> will start its search</p>\n\n<p>This short program demonstrates the problem. With the <code>/g</code> modifier only <code>BBB</code> is found. Remove it and both are found</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $long_s = 'xxxAAAxxxBBBxxx';\n\nfor my $substr ( qw/ BBB AAA / ) {\n  if ( $long_s =~ /$substr/g ) {\n    say \"$substr okay\";\n  }\n  else {\n    say \"$substr nope\";\n  }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>BBB okay\nAAA nope\n</code></pre>\n\n<hr>\n\n<h3>Original</h3>\n\n<p>You say</p>\n\n<blockquote>\n  <p>Currently, the small 9-character long sequence (<code>$localEpitope</code>) IS contained in the longer sequence (<code>$value</code>), and so when I iterate through the program, I should get the following printed everytime</p>\n</blockquote>\n\n<p>So <code>$localEpitope</code> is a substring of <code>$value</code> and you're saying that</p>\n\n<pre><code>$value =~ /($localEpitope)/g\n</code></pre>\n\n<p>evaluates to <strong><em>true</em></strong></p>\n\n<p>That is correct behaviour. <code>$value =~ /$localEpitope/</code> will check whether <code>$localEpitope</code> can be found anywhere in <code>$value</code></p>\n\n<p>Unfortunately it's not clear enough from what you've written to suggest a solution</p>\n"}], "owner": {"reputation": 1, "user_id": 1146453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f9a03dbd75adc0768b8360817eb39c?s=128&d=identicon&r=PG", "display_name": "user1146453", "link": "https://stackoverflow.com/users/1146453/user1146453"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438114127, "creation_date": 1438110847, "last_edit_date": 1438113293, "question_id": 31685183, "link": "https://stackoverflow.com/questions/31685183/nested-loops-in-perl-failing-logic", "title": "Nested Loops in Perl - Failing logic", "body": "<p>I'm trying to work out a bigger problem, but have simplified the issue for readability, ultimately the logic below is the reason the extended program is failing.</p>\n\n<p>I am using Perl to search for a short sequence of letters within a larger sequence (protein sequences), and if it is <em>not</em>  found, then I'd like to do some calculations. I don't know whether I'm going crazy, but I can't work out why this logic is failing.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub calculateEpitopeMutations {\n\n    my @mutationArray;\n    my @epitopeArray;\n    my $count;\n    my $localEpitope;\n\n    open( EPITOPESIN2, $ARGV[5] ) or die \"Unable to open file $ARGV[5]\\n\";\n    while ( my $line = &lt;EPITOPESIN2&gt; ) {\n        chomp $line;\n        push @epitopeArray, $line;\n    }\n\n    while ( my ( $key, $value ) = each our %sequencesForCalculation ) {\n\n        foreach ( @epitopeArray ) {\n\n            $localEpitope = $_;\n\n            if ( $value =~ /($localEpitope)/g ) {\n                print \"$key\\n$localEpitope\\nexactly the same\\n\\n\";\n                next;\n            }\n            else {\n\n                #This is where I'd like to do the further calculations\n\n                print \"$key\\n$localEpitope\\nthere is a difference\\n\\n\";\n                next;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><code>$ARGV[5]</code> is the name of a text file containing a list of 9-character sequences, exactly like the following</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>RVSENIQRF\nSFQVDCFLW\n</code></pre>\n\n<p>The idea is to put these into array <code>@epitopeArray</code> and iterate through these, and compare them with all (currently just one) <code>$value</code> sequences in the hash <code>%sequencesForCalculation</code>.</p>\n\n<p><code>%sequencesForCalculation</code> is a hash, where <code>$value</code> is a long sequence of characters, like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>MDSNTMSSFQVDCFLWHIRKRFADNGLGDAPFLDRLRRDQKSLKGRGNTLGLDIETATLVGKQIVEWILKEESSETLRMTIASVPTSRYLSDMTLEEMSRDWFMLMPRQKKIGPLCVRLDQAVMEKNIVLKANFSVIFNRLETLILLRAFTEEEAIVGEISPLPSLPGHTYEDVKNAVGVLIGGLEWNGNTVRVSENIQRFAWRNCDENGRPSLPPEQK\n</code></pre>\n\n<p>Currently, the small 9-character long sequence <code>$localEpitope</code> <em>is</em> contained in the longer sequence <code>$value</code> so when I iterate through the program, I should get this printed every time.</p>\n\n<p>(<code>$key</code> contains a header of information about the protein sequences, but is irrelevant so I have shortened it to just the variable name.)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$key\nRVSENIQRF\nExactly the same\n$key\nSFQVDCFLW\nExactly the same\n$key\n</code></pre>\n\n<p>But instead I'm getting this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$key\nRVSENIQRF\nexactly the same\n$key\nSFQVDCFLW\nthere is a difference\n$key\n</code></pre>\n\n<p>Any ideas? Please let me know if anything further is required. </p>\n"}, {"tags": ["perl", "awk", "hash"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1438105577, "post_id": 31683395, "comment_id": 51308836, "body": "&quot;Also I realize this still needs some debugging, [...] that is why I turned off the warnings.&quot; - WTF?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438105659, "post_id": 31683395, "comment_id": 51308901, "body": "this script works with it off. I am currently working to fix this."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438105877, "post_id": 31683395, "comment_id": 51309030, "body": "@melpomene it is fixed :)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438106195, "post_id": 31683395, "comment_id": 51309226, "body": "Why is the count 54 for <code>blue</code> ? So you add the differences 19+10+25 = 54? But <code>blue</code> occurs only one time in the first file, and later you say it should occur more than once.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438106259, "post_id": 31683395, "comment_id": 51309269, "body": "I don&#39;t understand <i>&quot;The columns I am using are columns row 3 and 4 for the subtraction value so I am going to subtract 4 from 3&quot;</i> It doesn&#39;t make sense, and I don&#39;t see 3 or 4 anywhere in your data"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "edited": false, "score": 0, "creation_date": 1438106425, "post_id": 31683395, "comment_id": 51309386, "body": "It is referring to column 4 being subtracted from column 3 for each row. So for green that would 92 - 1. and if green were to occur again those two numbers would be subtracted and then added to get a total number for the color green."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438106569, "post_id": 31683395, "comment_id": 51309493, "body": "@H&#229;konH&#230;gland the first file is being used to generate a hash. if the color occurs on that list then it meets the requirements of being parsed from the second file."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438106817, "post_id": 31683395, "comment_id": 51309650, "body": "in the last <code>if</code> you can subtract col 4 from col 3, and then add the difference to for example the <code>%count</code> hash (it seems it is unused) : <code>$count{$y}+=($name[3]-$name[2])</code>.."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438107013, "post_id": 31683395, "comment_id": 51309770, "body": "@H&#229;konH&#230;gland is there a specific function/definition I can look up for what you suggested? to be better informed about the basics of that syntax"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438107165, "post_id": 31683395, "comment_id": 51309857, "body": "See <a href=\"http://perldoc.perl.org/perlintro.html\" rel=\"nofollow noreferrer\"><code>perlintro</code></a> and <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\"><code>perldata</code></a>, see also chapter two in the book <a href=\"http://shop.oreilly.com/product/9780596004927.do\" rel=\"nofollow noreferrer\"><code>Programming Perl</code></a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "edited": false, "score": 0, "creation_date": 1438108037, "post_id": 31684040, "comment_id": 51310314, "body": "I asked what would be the ideal function and listed what I attempted to do as well as identified where I wanted place the command. I was asking for opinions on what was the best way to do this since I had no prior experience with arithmetic in perl not a script."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438118430, "post_id": 31684040, "comment_id": 51316361, "body": "@MrPeace: If that is the intention of your question then you didn&#39;t make it clear, and it would be off topic for Stack Overflow questions. I have written a Perl program that I think does what you need; is there anything wrong with my solution?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "edited": false, "score": 0, "creation_date": 1438130356, "post_id": 31684040, "comment_id": 51320473, "body": "Take the tour <a href=\"http://stackoverflow.com/tour\">here</a> and reexamine if this &quot;would be off topic for Stack Overflow questions.&quot; It does what it&#39;s suppose to."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438181622, "post_id": 31684040, "comment_id": 51346508, "body": "@MrPeace: Have you <i>read</i> the item that you linked to? It says you should <i>&quot;Ask about ... specific programming problems&quot;</i>. It also says <i>&quot;Avoid questions that are primarily opinion-based&quot;</i>, which makes <i>&quot;I was asking for opinions on what was the best way to do this&quot;</i> <b><i>off topic</i></b>. If you have a problem at all it is that you don&#39;t know enough Perl (or awk), and you are now being churlish presumably because I told you off for writing a poor question (which has a downvote and a close vote that aren&#39;t mine, so someone agrees with me)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1438107351, "last_edit_date": 1438107351, "creation_date": 1438107038, "answer_id": 31684040, "question_id": 31683395, "link": "https://stackoverflow.com/questions/31683395/subtracting-from-two-columns-and-having-the-values-add-up-if-the-name-is-present/31684040#31684040", "title": "Subtracting from two columns and having the values add up if the name is present more than once", "body": "<p>You seem to have made very little effort to solve this yourself, and your problem description is imprecise. Please try to keep your Perl code tidy and indented properly; I shouldn't have had to edit your question so that I could read it. And use meaningful names for your identifiers; calling a hash <code>%x</code> doesn't help anyone to understand what you have written</p>\n\n<p>You should also avoid using HTML in your markup. Stack Overflow uses <em>markdown</em> which gives posts a uniform and more readable style</p>\n\n<p>This program solves what I understand your problem to be</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10.1;\nuse autodie;\n\nmy %wanted;\n{\n    open my $fh, '&lt;', $ARGV[0];\n    while ( &lt;$fh&gt; ) {\n        $wanted{$1} = 1 if /(\\S+)/;\n    }\n}\n\nmy %counts;\n{\n    open my $fh, '&lt;', $ARGV[1];\n    while ( &lt;$fh&gt; ) {\n        my ($n1, $n2, $colour) = (split)[2,3,4];\n        $counts{$colour} += $n2 - $n1 if $wanted{$colour};\n    }\n}\n\nwhile ( my ($k, $v) = each %counts ) {\n    print \"$k $v\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>green 91\nblue 54\nred 5\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1438117091, "post_id": 31686857, "comment_id": 51315687, "body": "It is probably not very important to print the <code>$VAR1={}</code> stuff.. it is just junk from the Perl data dumper.."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "edited": false, "score": 0, "creation_date": 1438130121, "post_id": 31686857, "comment_id": 51320409, "body": "Thanks! I was wondering how awk would work in this situation."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": true, "score": 0, "last_activity_date": 1438116775, "creation_date": 1438116775, "answer_id": 31686857, "question_id": 31683395, "link": "https://stackoverflow.com/questions/31683395/subtracting-from-two-columns-and-having-the-values-add-up-if-the-name-is-present/31686857#31686857", "title": "Subtracting from two columns and having the values add up if the name is present more than once", "body": "<p>awk to the rescue</p>\n\n<pre><code>awk 'FNR == NR {          # collect the keys and count from first file\n   ks[$1]++\n   next\n}\n\nFNR != NR &amp;&amp; FNR==1 {     # when switched to second file, print the counts\n   print \"\\t$VAR1={\"      # in the format\n   for (k in ks) {\n     print \"\\t\\t\" k \"=&gt;\" ks[k] \",\"\n   }\n   print \"\\t};\\n\"\n}\n\n{\n   print $3,$4,$5         # print the extract from second file\n   if ($5 in ks) {        # and compute the accumulated diffs\n     ss[$5] += $4 - $3\n   }\n}\n\nEND {                     # finally, print the accumulated diffs\n   print \"\\n\"\n   for (s in ss) {\n     print s, ss[s]\n   }\n}' file1 file2\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 31686857, "answer_count": 2, "score": 0, "last_activity_date": 1477092004, "creation_date": 1438104945, "last_edit_date": 1477092004, "question_id": 31683395, "link": "https://stackoverflow.com/questions/31683395/subtracting-from-two-columns-and-having-the-values-add-up-if-the-name-is-present", "title": "Subtracting from two columns and having the values add up if the name is present more than once", "body": "<p>I am trying to parse out two columns and subtract them from one another and then add them together if the name that they corresponding to occurred more than once. I was trying to use <em>awk</em> but didn't have much success, more because of my lack of experience of using awk.</p>\n\n<p>Below is some sample data and desired output as well as the script I have going so far. Keep in mind this is a generic script and not my actual script. The columns I am using are columns 3 and 4 for the subtraction value so I am going to subtract 4 from 3.</p>\n\n<h3>Sample Data</h3>\n\n<h3>FILE1</h3>\n\n<pre><code>red   13\nblue  7\ngreen 5\nyellow 15\nred 14\n</code></pre>\n\n<p>the first file is being used to generate a hash. if the color occurs on that list then it meets the requirements of being parsed from the second file for the subtraction.</p>\n\n<h3>FILE2</h3>\n\n<pre><code>15 1 10 15 red\n10 5 71 90 blue\n15 10 15 40 blue\n11 10 1 92 green\n15 10 7 17 blue\n</code></pre>\n\n<h3>Expected Output</h3>\n\n<pre><code>  $VAR1 = {\n      'red' =&gt; 2,\n      'blue' =&gt; 1,\n      'green' =&gt; 1,\n      'yellow' =&gt; 1,\n    };  \n\n10 15 red\n71 90 blue\n15 40 blue\n1 92 green\n7 17 blue\n\n\nred 5\nblue 54\ngreen 91\n</code></pre>\n\n<p>I already have part of the script that calls for if the value exists because it is being drawn from a list of another file. I am using a similar sample script as a previous example I have posted here because I am manipulating that previous script into this one.</p>\n\n<pre><code>use strict;\n\nuse Data::Dumper;\n\nuse warnings;\n\nmy %x;\n\nopen( FILE1, $ARGV[0] ) or die \"Cannot open the file: $!\";\nwhile ( my $line = &lt;FILE1&gt; ) {\n    my @array = split( \" \", $line );\n    $x{ $array[0] }++;\n}\nclose FILE1;\n\nprint Dumper( \\%x );\nmy %count;\nopen( FILE2, $ARGV[1] ) or die \"Cannot open the file: $!\";\nwhile ( my $line = &lt;FILE2&gt; ) {\n\n    my @name = split( \" \", $line );\n    my $y = $name[4];\n\n    if ( $x{$y} ) {\n        print join( \"  \", @name[2, 3, 4] ), \"\\n\";\n    }\n}\nclose FILE2;\n\nexit;\n</code></pre>\n\n<p>I don't know what would be the simplest way of achieving my goal. What would be the ideal function to use in this case? I was thinking of using a hash in the <code>if ( $x{ $y } )</code> statement but didn't know if a hash would be able to accomplish the goal of subtracting the values then adding them up if they were the same color.</p>\n"}, {"tags": ["javascript", "regex", "perl"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1438104296, "post_id": 31683167, "comment_id": 51307992, "body": "This regex cannot match anything. It&#39;s trying to look ahead into the <code>$</code> anchor."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1438104381, "post_id": 31683167, "comment_id": 51308065, "body": "The <code>(?=.{1})</code> expects to find a character at the end, but you won&#39;t let it because you put the EOS at that spot. Teach a man to fish .."}, {"owner": {"reputation": 2245, "user_id": 697795, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e75fc5efb2a1b6404067604af3d996ee?s=128&d=identicon&r=PG", "display_name": "airnet", "link": "https://stackoverflow.com/users/697795/airnet"}, "edited": false, "score": 1, "creation_date": 1438104563, "post_id": 31683167, "comment_id": 51308179, "body": "oh ok, it&#39;s like asking to find two different things at the same time. Like &quot;ab&quot; followed by a single character and &quot;ab&quot; followed by EOS ?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1438104589, "post_id": 31683167, "comment_id": 51308188, "body": "@airmet did you want explanation or solution."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438104611, "post_id": 31683167, "comment_id": 51308205, "body": "@airnet Yes, and the order doesn&#39;t matter: <code>&#47;ab$(?=.)&#47;</code> means the same thing."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1438104652, "post_id": 31683167, "comment_id": 51308232, "body": "@Borodin did you notice that op also want to modify his regex to find a match?"}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1471324434, "post_id": 31683167, "comment_id": 65288347, "body": "Another way to explain this: lookarounds don\u2019t consume characters. <code>(?=.{1})$</code> doesn\u2019t mean \u201cmatch one character and then match the EOS\u201d, it means \u201cexpect one character, but definitely match the end of string\u201d, which is a contradiction."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1438105264, "post_id": 31683232, "comment_id": 51308609, "body": "Note that <code>&#47;ab(?=.{1})$&#47;sg</code> would match <code>&quot;ab\\n&quot;</code>"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438105380, "post_id": 31683232, "comment_id": 51308707, "body": "@ikegami: There is no <code>s</code> (DOTALL) in JS"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1438105539, "post_id": 31683232, "comment_id": 51308811, "body": "My comment applies to Perl. I didn&#39;t know the question was also tagged JS."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 5, "last_activity_date": 1438104339, "creation_date": 1438104339, "answer_id": 31683232, "question_id": 31683167, "link": "https://stackoverflow.com/questions/31683167/regex-with-anchor-and-look-ahead/31683232#31683232", "title": "Regex with $ anchor and look ahead", "body": "<blockquote>\n  <p>What can this regex match ?</p>\n</blockquote>\n\n<p>This regex won't match anything and is guaranteed to fail because:</p>\n\n<pre><code>ab       - will literally match ab\n(?=.{1}) - will use lookup to make sure there is at least 1 character after ab\n$        - will assert end of input after ab\n</code></pre>\n\n<p>both conditions can never be met hence your regex will always fail.</p>\n"}], "owner": {"reputation": 2245, "user_id": 697795, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e75fc5efb2a1b6404067604af3d996ee?s=128&d=identicon&r=PG", "display_name": "airnet", "link": "https://stackoverflow.com/users/697795/airnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 31683232, "answer_count": 1, "score": 0, "last_activity_date": 1438104339, "creation_date": 1438104154, "question_id": 31683167, "link": "https://stackoverflow.com/questions/31683167/regex-with-anchor-and-look-ahead", "title": "Regex with $ anchor and look ahead", "body": "<p><code> /ab(?=.{1})$/g</code> doesn't match \"abdabd\" or anything else</p>\n\n<p>It's the anchor $ that is troubling me. What can this regex match ?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438103180, "post_id": 31681893, "comment_id": 51307314, "body": "For the purpose of <code>-M</code> is a day always 24 hours?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1438103220, "last_edit_date": 1438103220, "creation_date": 1438100248, "answer_id": 31681893, "question_id": 31681835, "link": "https://stackoverflow.com/questions/31681835/create-mail-lock-in-perl-script/31681893#31681893", "title": "Create mail lock in perl script", "body": "<p>Turn on <code>warnings</code> too, and you'll get:</p>\n\n<pre><code>Found = in conditional, should be == at  line 12.\n</code></pre>\n\n<p>Basically - your 'test' doesn't work at all. What are are evaluating is 'did I set <code>$Mailed</code> to <code>1</code>' and funnily enough it's always working.</p>\n\n<p>Try this snippet:</p>\n\n<pre><code>my $Mailed = 0;\nif ( $Mailed = 1 ) { print \"Yes\\n\"; }\n</code></pre>\n\n<p><code>Now()</code> isn't a real function either. Maybe you were thinking of <code>time()</code>? </p>\n\n<p>Also - you are testing the text output of <code>find</code> there, rather than the return code. But either way, calling <code>find</code> for a single file, from a perl script is overkill anyway. </p>\n\n<p>I'd also suggest - rather than calling out to <code>find</code> - instead just write to the file and read the <code>mtime</code> via stat. </p>\n\n<p>e.g.:</p>\n\n<pre><code>my $mtime = ( stat($filename) )[9]\n\nnext if $mtime &gt; time() - 3600;\n</code></pre>\n\n<p>Or alternatively, use the '-M' operator:</p>\n\n<pre><code>my $send_inhibit = 1 / 24; # 1 hour in days, because -M $filename returns in days. \nnext if -M $filename &lt; $send_inhibit;\n</code></pre>\n\n<p>Creating the file (when you send a mail) via:</p>\n\n<pre><code>open ( my $lockfile, \"&gt;\", $filename ) or die $!;\nprint {$lockfile} time();\nclose ( $lockfile ); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 3164720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7a4c28f76058b29a23993670053b26?s=128&d=identicon&r=PG&f=1", "display_name": "user3164720", "link": "https://stackoverflow.com/users/3164720/user3164720"}, "edited": false, "score": 0, "creation_date": 1438175180, "post_id": 31683102, "comment_id": 51341439, "body": "Thank you. I added use warnings to my script and it showed me where the errors were. I proceeded to correct them. Most of the corrections reflect what you guys have suggested."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1438179849, "last_edit_date": 1438179849, "creation_date": 1438103966, "answer_id": 31683102, "question_id": 31681835, "link": "https://stackoverflow.com/questions/31681835/create-mail-lock-in-perl-script/31683102#31683102", "title": "Create mail lock in perl script", "body": "<h2>Error #1</h2>\n\n<pre><code>-f `/tmp/Mail.lock`\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>-f '/tmp/Mail.lock'\n</code></pre>\n\n<p>The former tries to execute <code>/tmp/Mail.lock</code>, and tests if the result (<code>undef</code>) is the name of an plain file.</p>\n\n<p>This problem have been discovered by <code>use warnings;</code>. Always use <code>use strict; use warnings;</code>.</p>\n\n<hr>\n\n<h2>Error #2</h2>\n\n<pre><code>if ( $Mailed = 1 ) {\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>if ( $Mailed == 1 ) {\n</code></pre>\n\n<p>What you have assigns <code>1</code> to <code>$Mailed</code>, then checks if it's true (which it obviously is).</p>\n\n<p>Actually, it should be the following:</p>\n\n<pre><code>if ( $Mailed ) {\n</code></pre>\n\n<p>There's no need to check for which specific true value <code>$Mailed</code> has.</p>\n\n<p>This problem have been discovered by <code>use warnings;</code>. Always use <code>use strict; use warnings;</code>.</p>\n\n<hr>\n\n<p>Fixed:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse constant ACTIVITY_QFN =&gt; '/tmp/Mail.lock';\nuse constant COOL_DOWN    =&gt; 60*60;\n\nmy $mail = 0;\nmy $mtime = ( stat(ACTIVITY_QFN) )[9];\nif (!defined($mtime)) {\n   die(\"Can't stat activity file \".ACTIVITY_QFN.\": $!\\n\")\n      if !$!{ENOENT};\n\n   # Activitiy file doesn't exist.\n   $mail = 1;\n} else {\n   $mail = 1 if time() &gt;= $mtime + COOL_DOWN;\n}\n\nif ($mail) {\n   utime(undef, undef, ACTIVITY_QFN) \n      or warn(\"Can't touch activity file \".ACTIVITY_QFN.\": $!\\n\");\n\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 3164720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7a4c28f76058b29a23993670053b26?s=128&d=identicon&r=PG&f=1", "display_name": "user3164720", "link": "https://stackoverflow.com/users/3164720/user3164720"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 31683102, "answer_count": 2, "score": 0, "last_activity_date": 1438179849, "creation_date": 1438100058, "last_edit_date": 1438100688, "question_id": 31681835, "link": "https://stackoverflow.com/questions/31681835/create-mail-lock-in-perl-script", "title": "Create mail lock in perl script", "body": "<p>I am trying to run a perl script as cron to send mails to me if a certain condition is met. I am doing this to run every 15 mins. However, I want to limit my script from generating a mail when it has sent a mail in the last 60 mins.</p>\n\n<p>Here's the code snippet i am using to achieve that, but this doesn't seem to work.</p>\n\n<pre><code>use strict;\n\nmy $Mailed = 0;\nif ( !-f `/tmp/Mail.lock` ) {\n    $Mailed = 1;\n}\nelse {\n    my $om = `find /tmp/Mail.lock -mmin +60`;\n    if ($om) {\n        $Mailed = 1;\n    }\n}\nif ( $Mailed = 1 ) {\n    print \"Starting \" . Now() . \"\\n\";\n    print \"send mail\";\n}\n</code></pre>\n\n<p>Am i missing something? Please help.</p>\n"}, {"tags": ["perl", "time", "timeout", "ole", "subroutine"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1438098436, "post_id": 31681050, "comment_id": 51304051, "body": "Could you share the subroutine&#39;s code? It works fine for me, see this demo: <a href=\"http://ideone.com/KycD4S\" rel=\"nofollow noreferrer\">ideone.com/KycD4S</a>"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1438098562, "post_id": 31681050, "comment_id": 51304138, "body": "I can&#39;t seem to recreate this behavior, using the same code I see the alarm going off. Is there more code that we are not seeing here? Can you show the definition of <code>do_the_subroutine</code>?"}, {"owner": {"reputation": 344, "user_id": 3791101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08468078a37047c975e58e6d58b3a5bd?s=128&d=identicon&r=PG&f=1", "display_name": "ansario", "link": "https://stackoverflow.com/users/3791101/ansario"}, "edited": false, "score": 0, "creation_date": 1438098752, "post_id": 31681050, "comment_id": 51304271, "body": "Hello, I have added the definition."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438098787, "post_id": 31681050, "comment_id": 51304302, "body": "The OLE stuff looks like it could be slow."}, {"owner": {"reputation": 344, "user_id": 3791101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08468078a37047c975e58e6d58b3a5bd?s=128&d=identicon&r=PG&f=1", "display_name": "ansario", "link": "https://stackoverflow.com/users/3791101/ansario"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438098826, "post_id": 31681050, "comment_id": 51304328, "body": "@simbabque yes.. hence why I am doing this."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438099399, "post_id": 31681050, "comment_id": 51304747, "body": "I wonder if the alarm signal thing is handled differently with Windows signals."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1438099407, "post_id": 31681050, "comment_id": 51304750, "body": "What is your question?  Would this be a better fit for <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>?"}, {"owner": {"reputation": 344, "user_id": 3791101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08468078a37047c975e58e6d58b3a5bd?s=128&d=identicon&r=PG&f=1", "display_name": "ansario", "link": "https://stackoverflow.com/users/3791101/ansario"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1438099500, "post_id": 31681050, "comment_id": 51304831, "body": "@pilcrow the question is: How to make it quit the subroutine after 10 seconds."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438099535, "post_id": 31681050, "comment_id": 51304857, "body": "I was thinking along those lines @sobrique. But also maybe that it runs something external and for that the handler isn&#39;t invoked. So I tried to use <code>sub do_the_sub { system &#39;sleep 15&#39; }</code> on my Linux box. Works just the same. No problems visible. We need a Windows box."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438099570, "post_id": 31681050, "comment_id": 51304884, "body": "&lt;sarcasm&gt;Maybe if you change that comment from <code>schedule alarm in 15 seconds</code> to <b>10</b> seconds... &lt;/sarcam&gt; :)"}, {"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1438099919, "post_id": 31681050, "comment_id": 51305159, "body": "@pilcrow This question would be off-topic for CR. This is about hunting down a known bug and altering functionality of code. Please read <a href=\"http://meta.codereview.stackexchange.com/questions/5777/a-guide-to-code-review-for-stack-overflow-users\">A Guide to Code Review for Stack Overflow users</a>"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1438100077, "post_id": 31681050, "comment_id": 51305282, "body": "@SimonAndr&#233;Forsberg, yes, thanks.  I&#39;d misunderstood the OP&#39;s &quot;&amp;dosub never returns&quot; remark to simply be a restatement of his &quot;sometimes it can run infinitely.&quot;"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1438100313, "post_id": 31681050, "comment_id": 51305443, "body": "FWIW <a href=\"http://perlmonks.org/?node_id=505473\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=505473</a> also seems to indicate OLE doesn&#39;t play well with alarm.  perhaps move the work to a child process or a thread?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438100918, "post_id": 31681050, "comment_id": 51305839, "body": "of course, the other question might be - <i>why</i> does that sub &#39;stall&#39; - it doesn&#39;t look like it should infinite loop or anything."}, {"owner": {"reputation": 1514, "user_id": 897612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evivy.png?s=128&g=1", "display_name": "dpw", "link": "https://stackoverflow.com/users/897612/dpw"}, "edited": false, "score": 0, "creation_date": 1438109762, "post_id": 31681050, "comment_id": 51311363, "body": "as to why it stalls, on my Windows box I got a pop-up from Microsoft Excel asking <i>&quot;A file named &#39;test.xls&#39; already exists in this location.  Do you want to replace it?&quot;</i>.  I assume the hang is based on that."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438102049, "post_id": 31682203, "comment_id": 51306611, "body": "Thought it might be something like that. Well done for doing the digging :)"}], "tags": [], "owner": {"reputation": 1514, "user_id": 897612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evivy.png?s=128&g=1", "display_name": "dpw", "link": "https://stackoverflow.com/users/897612/dpw"}, "is_accepted": true, "score": 4, "last_activity_date": 1438101176, "creation_date": 1438101176, "answer_id": 31682203, "question_id": 31681050, "link": "https://stackoverflow.com/questions/31681050/perl-subroutine-timeout/31682203#31682203", "title": "Perl subroutine timeout", "body": "<p>I suspect that what you want to do is simply not natively possible with <code>alarm</code> on Windows.</p>\n\n<p>From <code>perldoc perlport</code>:</p>\n\n<blockquote>\n  <p><strong>alarm</strong>   Emulated using timers that must be explicitly polled whenever\n            Perl wants to dispatch \"safe signals\" and therefore cannot\n            interrupt blocking system calls. (Win32)</p>\n</blockquote>\n"}], "owner": {"reputation": 344, "user_id": 3791101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08468078a37047c975e58e6d58b3a5bd?s=128&d=identicon&r=PG&f=1", "display_name": "ansario", "link": "https://stackoverflow.com/users/3791101/ansario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "accepted_answer_id": 31682203, "answer_count": 1, "score": 6, "last_activity_date": 1438101176, "creation_date": 1438097902, "last_edit_date": 1438099622, "question_id": 31681050, "link": "https://stackoverflow.com/questions/31681050/perl-subroutine-timeout", "title": "Perl subroutine timeout", "body": "<p>I have a subroutine that normally takes 1 second to run. Sometimes, it can run infinitely. I want to move on in the code if the subroutine is taking too long (> 10 seconds) and ignore that run of that subroutine. Here is what I have so far using alarm.</p>\n\n<pre><code>use Win32::OLE;\n\neval { \n    local $SIG{ALRM} = sub { die \"alarm\\n\" };\n    alarm 10;                   # schedule alarm in 10 seconds \n    &amp;do_the_subroutine;\n    alarm 0;                    # cancel the alarm\n};\n\nif ($@) {\n    $error_string .= $script;\n    #Do something else if the subroutine took too long.\n}\n\ndo_the_subroutine{\n# use existing instance if Excel is already running\n    eval {$ex = Win32::OLE-&gt;GetActiveObject('Excel.Application')};\n    die \"Excel not installed\" if $@;\n    unless (defined $ex) {\n        $ex = Win32::OLE-&gt;new('Excel.Application', sub {$_[0]-&gt;Quit;})\n                or die \"Oops, cannot start Excel\";\n    }\n\n    # get a new workbook\n    $book = $ex-&gt;Workbooks-&gt;Add;\n\n    # write to a particular cell\n    $sheet = $book-&gt;Worksheets(1);\n    $sheet-&gt;Cells(1,1)-&gt;{Value} = \"foo\";\n\n    # write a 2 rows by 3 columns range\n    $sheet-&gt;Range(\"A8:C9\")-&gt;{Value} = [[ undef, 'Xyzzy', 'Plugh' ],\n                                       [ 42,    'Perl',  3.1415  ]];\n\n    # print \"XyzzyPerl\"\n    $array = $sheet-&gt;Range(\"A8:C9\")-&gt;{Value};\n    for (@$array) {\n        for (@$_) {\n            print defined($_) ? \"$_|\" : \"&lt;undef&gt;|\";\n        }\n        print \"\\n\";\n    }\n\n    # save and exit\n    $book-&gt;SaveAs( 'test.xls' );\n    undef $book;\n    undef $ex;\n}\n</code></pre>\n\n<p>&amp;do_the_subroutine never returns so I'm not able to move on. I'm also not able to put this block of code inside that subroutine. Any thoughts?</p>\n"}, {"tags": ["c", "perl", "encryption", "crypt"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438094541, "post_id": 31678983, "comment_id": 51300875, "body": "For what it&#39;s worth, I can decode your resulting encrypted string with Crypt::CBC and Crypt::DES and your <code>$salt_key</code> in Perl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438095322, "post_id": 31678983, "comment_id": 51301579, "body": "When you don&#39;t use <code>-literal_key =&gt; 1</code>, the value passed to <code>-key</code> isn&#39;t actually used as the key. It&#39;s hashed first. (This is a very good practice.) You can see the transformation in <code>_key_from_key</code> in Crypt::CBC.  I suspect this is a difference. It may not be the only one."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5074403"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438105639, "post_id": 31678983, "comment_id": 51308876, "body": "@simbabque - I need to do be able to decrypt this in C. I can already encrypt it in Perl, yes. But I have to be able to decrypt it in C because as my comments say, I need to convert the code to C and still be able to use pre-existing data."}], "answers": [{"tags": [], "owner": {"reputation": 430, "user_id": 661440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd32692c3bb8c4161d4e78c9041abb69?s=128&d=identicon&r=PG", "display_name": "Finbar Crago", "link": "https://stackoverflow.com/users/661440/finbar-crago"}, "is_accepted": false, "score": 0, "last_activity_date": 1476840609, "creation_date": 1476840609, "answer_id": 40120620, "question_id": 31678983, "link": "https://stackoverflow.com/questions/31678983/how-do-i-get-this-to-decode-perl-cbc-crypt-to-c-cbc-crypt-conversion/40120620#40120620", "title": "How do I get this to decode (Perl cbc-crypt to C cbc_crypt conversion)", "body": "<p>As @ikegami points out in the comments the value passed to key Crypt::CBC is not really a key. This value is passed to another function which combines it with a random salt then hashes it to generate the real key and initialization vector. The random salt is saved with the cypher text the idea being if you encrypt the same data with the same key more than once the output will be different every time.</p>\n\n<p>If you convert your encrypted string to ascii you will notice the first eight characters spell <code>Salted__</code>, this corresponds to the format used by OpenSSL.</p>\n\n<p>See below for a somewhat crude example using OpenSSL's EVP api:</p>\n\n<pre><code>//\n// compile with: gcc -o crypt crypt.c -lssl -lcrypto\n//\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;openssl/evp.h&gt;\n\nint main(int argc, char *argv[]){\n  char pass[]=\"fOagmJOKu2SF\";\n  char text[]=\"53616c7465645f5f167ebac84042fe7ceac836e1d3e7d3aa1dfc27e0e8cad0f1\";\n\n  int i = 0;\n  char *pos=text;\n  while(*pos){ // converts hex string to binary in place\n    sscanf(pos, \"%2hhx\", &amp;text[i++]);\n    pos += 2;\n  } text[i]=0;\n\n  EVP_CIPHER_CTX ctx;\n  unsigned char key[8] = {0};\n  unsigned char  iv[8] = {0};\n\n  int len;\n  char *clear = malloc(strlen(text)); \n\n  //                                             v-&gt; First Charicter after 'Salted__' \n  EVP_BytesToKey(EVP_des_cbc(), EVP_md5(), &amp;text[8], pass, strlen(pass), 1, key, iv);\n\n  EVP_DecryptInit(&amp;ctx, EVP_des_cbc(), key, iv);\n  //                                          v-&gt; Cypertext starts after salt\n  EVP_DecryptUpdate(&amp;ctx, clear, &amp;len, &amp;text[16], strlen(text)-15);\n  EVP_DecryptFinal(&amp;ctx, clear, &amp;len);\n\n  printf(\"%s\\n\", clear);\n  return 0;\n}\n</code></pre>\n\n<blockquote>\n  <p><a href=\"http://www.ict.griffith.edu.au/anthony/info/crypto/openssl.hints\" rel=\"nofollow\">http://www.ict.griffith.edu.au/anthony/info/crypto/openssl.hints</a>\n  <a href=\"https://www.openssl.org/docs/manmaster/crypto/EVP_BytesToKey.html\" rel=\"nofollow\">https://www.openssl.org/docs/manmaster/crypto/EVP_BytesToKey.html</a>\n  <a href=\"https://www.openssl.org/docs/manmaster/crypto/EVP_EncryptInit.html\" rel=\"nofollow\">https://www.openssl.org/docs/manmaster/crypto/EVP_EncryptInit.html</a></p>\n</blockquote>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5074403"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1476840609, "creation_date": 1438092984, "question_id": 31678983, "link": "https://stackoverflow.com/questions/31678983/how-do-i-get-this-to-decode-perl-cbc-crypt-to-c-cbc-crypt-conversion", "title": "How do I get this to decode (Perl cbc-crypt to C cbc_crypt conversion)", "body": "<p>I'm trying to be able to decode encoded strings that were encoded using a perl script. The reason I can't just change the perl script is because a lot of important data already exists that was saved via the perl script and it would be too much to decode in perl and recode another way. It's easier just to keep things in place (for now). However, the compiled perl code is 2MB. I want to write it in C so the executable will be a smaller size. </p>\n\n<p>What I have so far is below. It won't work though. It basically gives me junk output. The problem I think is that the perl script used a hex-based encryption. How do I go about decoding that? Can someone point me to where I went wrong?</p>\n\n<pre><code>/*\nTest to decode perl-encrypted string.\nNOTE: Not all code written by me. Function code is either written by or derived\n      from code from other people in response to similar questions found on the\n      internet.\n\nRequired Lib: crypt (-lcrypt)\n\nPerl Code from existing script (that is being converted to C):\n\n    use Crypt::CBC;\n    use Crypt::DES;\n    my $text = \"thisisalongtest\";\n    my $salt_key = \"fOagmJOKu2SF\";\n    my $cipher = Crypt::CBC-&gt;new( -key =&gt; $salt_key, -cipher =&gt; 'DES' -header =&gt; 'none');\n    my $enc_text = $cipher-&gt;encrypt_hex($text);\nPerl crypt functions require libcrypt-cbc-perl &amp; libcrypt-des-perl\n\nData:\n\nOriginal Text: thisisalongtest\nSalt Key: fOagmJOKu2SF\nResulting Encrypted String: 53616c7465645f5f167ebac84042fe7ceac836e1d3e7d3aa1dfc27e0e8cad0f1\n\nResulting output:\n\nDecrypted: (unprintable junk characters)\n*/\n\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;rpc/des_crypt.h&gt;\n\n#define BUFFSIZE 420\n\nint encrypt(char key[9], char salt[9], char pass[BUFFSIZE], int mode);\nvoid enc_from_hex(const char* st, char ret_result[BUFFSIZE]);\nint hex_to_int(char c);\nint hex_to_ascii(char c, char d);\n\nint main (int argc, char *argv[]) {\n\n    int err;\n    char passwd[BUFFSIZE];\n    char result[BUFFSIZE];\n    char key[13];\n\n    sprintf(key,\"fOagmJOKu2SF\");\n\n    /* Change this from hex pairs to ASCII */\n    sprintf(passwd, \"53616c7465645f5f167ebac84042fe7ceac836e1d3e7d3aa1dfc27e0e8cad0f1\");\n    enc_from_hex(passwd, result);\n\n    /* Decrypt */\n    err = encrypt(key, \"\", result, 1); /* DO NOT use 'NULL' for 2nd parameter! */\n    if(err != 0) {\n        printf(\"Error.\\n\");\n    } else {\n        printf(\"Decrypted: %s\\n\", result);\n    }\n\n    return 0;\n}\n\n/* Encryption */\nint encrypt(char key[13], char salt[13], char pass[BUFFSIZE], int mode){\n    char temp[13];\n    strcpy(temp, salt);\n    int buffsize;\n    int errcode;\n\n    des_setparity(key);\n    buffsize = strlen(pass);\n\n    /* Pad pass to ensure size is divisable by 8.*/\n    while (buffsize % 8 &amp;&amp; buffsize&lt;BUFFSIZE) {\n        pass[buffsize++] = '\\0';\n    }\n\n    /* Determine Function */\n    if(mode == 1) {\n        errcode = cbc_crypt(key, pass, buffsize, DES_DECRYPT | DES_SW, temp);\n    } else {\n        errcode = cbc_crypt(key, pass, buffsize, DES_ENCRYPT | DES_SW, temp);\n    }\n\n    if (DES_FAILED(errcode) || strcmp(pass, \"\") == 0) {\n        return errcode;\n    }\n\n    return errcode;\n}\n\n/* Hex conversion functions */\nvoid enc_from_hex(const char* st, char ret_result[BUFFSIZE]) {\n    char temp[2];\n\n    int length = strlen(st);\n    int i;\n    char buf = 0;\n    for(i = 0; i &lt; length; i++) {\n        if(i % 2 != 0) {\n            sprintf(temp, \"%c\", hex_to_ascii(buf, st[i]));\n            strcat(ret_result, temp);\n        } else {\n            buf = st[i];\n        }\n    }\n\n}\n\nint hex_to_int(char c) {\n    int first = c / 16 - 3;\n    int second = c % 16;\n    int result = first*10 + second;\n    if(result &gt; 9) result--;\n    return result;\n}\n\nint hex_to_ascii(char c, char d) {\n    int high = hex_to_int(c) * 16;\n    int low = hex_to_int(d);\n    return high+low;\n}\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-libxml"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438090369, "post_id": 31677723, "comment_id": 51297451, "body": "Why are you trying to turn an XML Element into plain text in the first place? This feels like an XY Problem."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438095874, "post_id": 31677894, "comment_id": 51302073, "body": "I&#39;m not sure it&#39;s acceptable to assume the childnres of <code>testTag</code> are only going to be text nodes."}, {"owner": {"reputation": 147, "user_id": 3744742, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f54f22803d7028370fddfc5ff97250e6?s=128&d=identicon&r=PG&f=1", "display_name": "LindenRathan", "link": "https://stackoverflow.com/users/3744742/lindenrathan"}, "edited": false, "score": 0, "creation_date": 1438151719, "post_id": 31677894, "comment_id": 51326442, "body": "Thanks for giving a different approach, but I will go with the ones that don&#39;t need more packages than I already have running."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1438090485, "creation_date": 1438090485, "answer_id": 31677894, "question_id": 31677723, "link": "https://stackoverflow.com/questions/31677723/replace-xml-node-with-string-in-perl-using-libxml/31677894#31677894", "title": "Replace XML node with String in Perl using LibXML", "body": "<p>In <a href=\"http://p3rl.org/XML::XSH2\" rel=\"nofollow\">XML::XSH2</a> which is just a wrapper around <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>, the following seems to work:</p>\n\n<pre><code>for //testTag/text() {\n    insert text 'HELLO' prepend . ;\n    insert text 'HELLO' append . ;\n    move . replace .. ;\n}\n</code></pre>\n\n<p>Translation back to XML::LibXML is left as an exercise for the reader.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438097193, "post_id": 31679028, "comment_id": 51303153, "body": "I&#39;m not sure it&#39;s acceptable to assume the children of <code>testTag</code> are only going to be text nodes."}, {"owner": {"reputation": 147, "user_id": 3744742, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f54f22803d7028370fddfc5ff97250e6?s=128&d=identicon&r=PG&f=1", "display_name": "LindenRathan", "link": "https://stackoverflow.com/users/3744742/lindenrathan"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438151412, "post_id": 31679028, "comment_id": 51326282, "body": "The LibXML solution does work, though there are 3 points which need to be corrected in your code: $err (twice) has to be $error, and in the last line, the $replace has to be $replace_text. (Just leaving this here for future onlookers.) Other than that, works fine. I will accept @ikegami&#39;s answer though, as his can deal with nested tags. Currently, your assumption with only text in the testTag nodes holds true, but maybe that changes, and being future-safe is always a good thing. Thank you very much for your help."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438157563, "post_id": 31679028, "comment_id": 51329927, "body": "Yeah, transcription error - LibXML doesn&#39;t install nicely on my Windows box."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1438096283, "last_edit_date": 1438096283, "creation_date": 1438093084, "answer_id": 31679028, "question_id": 31677723, "link": "https://stackoverflow.com/questions/31677723/replace-xml-node-with-string-in-perl-using-libxml/31679028#31679028", "title": "Replace XML node with String in Perl using LibXML", "body": "<p>First off - I don't think what you're trying to do is necessarily particularly useful. However, I'll note - when you're processing your nodes - if you've got a nested node like in your second example, you actually get 3 'nodes' but two of which designated as <code>#PCDATA</code>. </p>\n\n<p>So you could do something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\nuse Data::Dumper;\n\nmy $twig = XML::Twig-&gt;new( pretty_print =&gt; 'indented_a' )-&gt;parse( \\*DATA );\nforeach my $error ( $twig-&gt;get_xpath('//Error') ) {\n    my $replace_text;\n    foreach my $child ( $error-&gt;children ) {\n        my $tag = $child-&gt;tag;\n        print \"Child: $tag \", $child-&gt;trimmed_text, \"\\n\";\n        $tag = '' if $tag eq \"#PCDATA\";\n        $replace_text .= $tag . $child-&gt;trimmed_text . $tag;\n    }\n\n    $error-&gt;set_text($replace_text);\n    print $error -&gt;trimmed_text, \"\\n\";\n}\nprint $twig-&gt;sprint;\n\n__DATA__\n&lt;Errors&gt;\n    &lt;Error&gt;\n        this node works fine\n    &lt;/Error&gt;\n    &lt;Error&gt;\n        some text &lt;testTag&gt;with a node&lt;/testTag&gt; in between\n    &lt;/Error&gt;\n&lt;/Errors&gt;\n</code></pre>\n\n<p>This turns it into:</p>\n\n<pre><code>&lt;Errors&gt;\n  &lt;Error&gt;this node works fine&lt;/Error&gt;\n  &lt;Error&gt;some texttestTagwith a nodetestTagin between&lt;/Error&gt;\n&lt;/Errors&gt;\n</code></pre>\n\n<p>Obviously, you can then rename <code>testTag</code> to whatever you like. </p>\n\n<p>(Bear with me - I'll have a look at how to do that in LibXML - unfortunately it doesn't install easily on my Windows box). </p>\n\n<p>OK, so with <code>XML::LibXML</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::LibXML;\n\n\nmy $xml = XML::LibXML-&gt;load_xml( IO =&gt; \\*DATA );\nforeach my $error ( $xml -&gt; findnodes ( '//Error' ) ) {\n   my $replace_text; \n   foreach my $child ( $error -&gt; childNodes ) {\n      my $tag = $child -&gt; nodeName;\n      $tag = '' if $tag eq '#text';\n      $replace_text .= $tag . $child -&gt; textContent . $tag; \n      $err -&gt; removeChild($child);\n   } \n   $err -&gt; appendTextNode($replace); \n}\n\nprint $xml -&gt; toString;\n\n__DATA__\n&lt;Errors&gt;\n    &lt;Error&gt;\n        this node works fine\n    &lt;/Error&gt;\n    &lt;Error&gt;\n        some text &lt;testTag&gt;with a node&lt;/testTag&gt; in between\n    &lt;/Error&gt;\n&lt;/Errors&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "is_accepted": false, "score": -1, "last_activity_date": 1438094628, "creation_date": 1438094628, "answer_id": 31679662, "question_id": 31677723, "link": "https://stackoverflow.com/questions/31677723/replace-xml-node-with-string-in-perl-using-libxml/31679662#31679662", "title": "Replace XML node with String in Perl using LibXML", "body": "<p>This should work</p>\n\n<pre><code>$error='&lt;Errors&gt;\n&lt;Error&gt;\n    this node works fine\n&lt;/Error&gt;\n&lt;Error&gt;\n    some text &lt;testTag&gt;with a node&lt;/testTag&gt; in between\n&lt;/Error&gt;\n&lt;/Errors&gt;';\n\n$error=~ s/&lt;testTag&gt;/HELLO/gs;\n$error=~ s/&lt;\\/testTag&gt;/HELLO/gs;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438096395, "post_id": 31680169, "comment_id": 51302483, "body": "Hmm, so effectively creating a new <code>#text</code> element wrapping that childnode? Neater than my approach."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438096483, "post_id": 31680169, "comment_id": 51302544, "body": "@Sobrique, No. I don&#39;t wrap the children with a text node. That doesn&#39;t even make any sense since text nodes can&#39;t contain other nodes."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438096550, "post_id": 31680169, "comment_id": 51302603, "body": "OK. I&#39;ll have to stare at it a little longer to figure out what&#39;s going on then."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438096622, "post_id": 31680169, "comment_id": 51302667, "body": "@Sobrique, Removing the <code>testTag</code> element would remove all of its children too, so we gotta move the children out first. In array terms, we&#39;re doing <code>splice(@$parent, $idx_of_node, 1, &quot;HELLO&quot;, @$node, &quot;HELLO&quot;)</code>. The code moves the children of the <code>testTag</code> element to the <code>testTag</code> element&#39;s parent, positioning them just before the <code>testTag</code> element. Along with the children, the two requested text nodes are created there too. Finally, the now-empty <code>testTag</code> is removed."}, {"owner": {"reputation": 147, "user_id": 3744742, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f54f22803d7028370fddfc5ff97250e6?s=128&d=identicon&r=PG&f=1", "display_name": "LindenRathan", "link": "https://stackoverflow.com/users/3744742/lindenrathan"}, "edited": false, "score": 0, "creation_date": 1438151547, "post_id": 31680169, "comment_id": 51326351, "body": "The combination of LibXML::Text and insertBefore is exactly what I was looking for, and it works like a charm now. Beautiful little piece of code."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1438097397, "last_edit_date": 1438097397, "creation_date": 1438095812, "answer_id": 31680169, "question_id": 31677723, "link": "https://stackoverflow.com/questions/31677723/replace-xml-node-with-string-in-perl-using-libxml/31680169#31680169", "title": "Replace XML node with String in Perl using LibXML", "body": "<p>Removing the <code>testTag</code> element would remove all of its children too, so we must move the children of each <code>testTag</code> element into the parent of the <code>testTag</code> element before deleting the <code>testTag</code> element. In XML::LibXML, this is done as follows: (Tested)</p>\n\n<pre><code>for my $node ($doc-&gt;findnodes('/Errors/Error//testTag')) {\n   my $parent = $node-&gt;parentNode();\n\n   for my $child_node (\n      XML::LibXML::Text-&gt;new(\"HELLO\"),\n      $node-&gt;childNodes(),\n      XML::LibXML::Text-&gt;new(\"HELLO\"),\n   ) {\n      $parent-&gt;insertBefore($child_node, $node);\n   }\n\n   $node-&gt;unbindNode();\n}\n</code></pre>\n\n<hr>\n\n<p>Notes: </p>\n\n<ul>\n<li>Handles <code>testTag</code> elements with any number of text and element children.</li>\n<li>Handles <code>testTag</code> elements that aren't direct children of <code>Error</code> elements. Even handles nested <code>testTag</code> elements. (Use <code>/Errors/Error/testTag</code> instead of <code>/Errors/Error//testTag</code> if you only want to handle direct children of <code>Error</code> elements.)</li>\n</ul>\n"}], "owner": {"reputation": 147, "user_id": 3744742, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f54f22803d7028370fddfc5ff97250e6?s=128&d=identicon&r=PG&f=1", "display_name": "LindenRathan", "link": "https://stackoverflow.com/users/3744742/lindenrathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "accepted_answer_id": 31680169, "answer_count": 4, "score": 0, "last_activity_date": 1438097397, "creation_date": 1438090018, "question_id": 31677723, "link": "https://stackoverflow.com/questions/31677723/replace-xml-node-with-string-in-perl-using-libxml", "title": "Replace XML node with String in Perl using LibXML", "body": "<p>I'm currently using a perl script with LibXML to process a given XML file. This goes decently well, but if I have a node with both child nodes and free text, I begin to struggle.\nAn example input would be:</p>\n\n<pre><code>&lt;Errors&gt;\n    &lt;Error&gt;\n        this node works fine\n    &lt;/Error&gt;\n    &lt;Error&gt;\n        some text &lt;testTag&gt;with a node&lt;/testTag&gt; in between\n    &lt;/Error&gt;\n&lt;/Errors&gt;\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>&lt;Errors&gt;\n    &lt;Error&gt;\n        this node works fine\n    &lt;/Error&gt;\n    &lt;Error&gt;\n        some text HELLOwith a nodeHELLO in between\n    &lt;/Error&gt;\n&lt;/Errors&gt;\n</code></pre>\n\n<p>I tried replaceChild(\"HELLO\", $testTagNode);  to replace the nodes with a string, which I could then (if needed) process further with a simple search-replace, but I only run into the \"not a blessed reference\" error. (I feel like that would have been pretty dirty if it actually worked that way.)</p>\n\n<p>If I try to run a simple search-replace directly on the parent node like this</p>\n\n<pre><code>$error=~s/\\&lt;/HELLO/g;\n</code></pre>\n\n<p>it will simply never trigger (no matter if I escape the &lt; or not), because LibXML seems to ignore every tag that I don't specifically ask for; if I try to print out the second Error it will also give me just</p>\n\n<pre><code>some text with a node in between\n</code></pre>\n\n<p>which is actually a very nice functionality for the rest of the file, but not in this instance.</p>\n\n<p>I can however do</p>\n\n<pre><code>$error-&gt;removeChild($testTagNode);\n</code></pre>\n\n<p>which shows me that it actually does get found, but doesn't help me further. I could theoretically remove the node, save the content, and then just insert the content back into the parent; the problem being that it needs to be at the exact location where it was before. The only thing that I could probably do is read in the entire file as a string, let the basic search-replace run over it BEFORE feeding it into LibXML, but that could create a pretty big overhead and isn't really a nice solution.</p>\n\n<p>I feel like I'm overlooking something substantial, as this looks like a pretty basic tasks to do, but I can't seem to find anything. Maybe I'm just looking in the wrong direction, and there is a completely different approach available. Any help is appreciated.</p>\n"}, {"tags": ["perl", "powerpoint", "win32ole"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438090019, "post_id": 31677526, "comment_id": 51297144, "body": "What module are you using to create your .ppt file?"}, {"owner": {"reputation": 75, "user_id": 4869070, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/51c8b5ead6e5214c15e4600e3a171e03?s=128&d=identicon&r=PG&f=1", "display_name": "Kartiki ", "link": "https://stackoverflow.com/users/4869070/kartiki"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438090199, "post_id": 31677526, "comment_id": 51297297, "body": "I am using this code                                                                                    my $table = $Slide-&gt;Shapes-&gt;AddTable($rws,$cls,$item{LEFT},$item{TOP},$i&zwnj;&#8203;tem{WIDTH},$item{Hei&zwnj;&#8203;ght});"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438090268, "post_id": 31677526, "comment_id": 51297349, "body": "Please <a href=\"https://stackoverflow.com/posts/31677526/edit\">edit</a> your question to add that. Also tell us what module you are using for the powerpoint stuff. Not only the part that does it. There is a <code>use foo</code> statement at the top of your program that would say something about PowerPoint."}, {"owner": {"reputation": 75, "user_id": 4869070, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/51c8b5ead6e5214c15e4600e3a171e03?s=128&d=identicon&r=PG&f=1", "display_name": "Kartiki ", "link": "https://stackoverflow.com/users/4869070/kartiki"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438090362, "post_id": 31677526, "comment_id": 51297442, "body": "!use Win32::OLE qw(in with); !use Win32::OLE::Const &#39;Microsoft PowerPoint&#39;; !$Win32::OLE::Warn = 2;  !use File::Basename; !use Time::Piece;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438090410, "post_id": 31677526, "comment_id": 51297474, "body": "<b>Please <a href=\"https://stackoverflow.com/posts/31677526/edit\">edit</a> the question</b>! It&#39;s not possible to read it properly in the comments."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438090616, "post_id": 31677526, "comment_id": 51297626, "body": "What is the exclamation mark for?"}, {"owner": {"reputation": 75, "user_id": 4869070, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/51c8b5ead6e5214c15e4600e3a171e03?s=128&d=identicon&r=PG&f=1", "display_name": "Kartiki ", "link": "https://stackoverflow.com/users/4869070/kartiki"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438090721, "post_id": 31677526, "comment_id": 51297722, "body": "its used through Ansys CFX, its written by iron python.. You can ignore that"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438090798, "post_id": 31677526, "comment_id": 51297786, "body": "In that case, remove it please. It&#39;s not valid Perl code."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438091093, "post_id": 31677526, "comment_id": 51298031, "body": "Can you add some more code? How do you get <code>$Slide</code> and how do you create the presentation? Also, what is in <code>$item</code>? If you check <a href=\"https://metacpan.org/pod/Win32::OLE#Hints-for-Microsoft-Office-automation\" rel=\"nofollow noreferrer\">metacpan.org/pod/&hellip;</a> you&#39;ll see it advises to check the OLE docs and the VisualBasic documentation. Have you looked there?"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1438112088, "creation_date": 1438112088, "answer_id": 31685538, "question_id": 31677526, "link": "https://stackoverflow.com/questions/31677526/how-do-i-hide-the-border-of-a-table-in-a-powerpoint-ppt-with-perl-and-win32ole/31685538#31685538", "title": "How do I hide the border of a table in a PowerPoint ppt with Perl and Win32::OLE?", "body": "<p>Based on <a href=\"https://msdn.microsoft.com/en-us/library/office/Hh273476%28v=Office.14%29.aspx\" rel=\"nofollow\">Programmatically Working with Table Styles in PowerPoint 2010</a>, you might be able to use</p>\n\n<pre><code>$table-&gt;ApplyStyle('{2D5ABB26-0587-4C30-8999-92F81FD0307C}');\n</code></pre>\n\n<p>That CLSID is may not work for versions other than PP 2010.</p>\n\n<p>Post a short but runnable example if you want to make it easier for others to help you.</p>\n"}], "owner": {"reputation": 75, "user_id": 4869070, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/51c8b5ead6e5214c15e4600e3a171e03?s=128&d=identicon&r=PG&f=1", "display_name": "Kartiki ", "link": "https://stackoverflow.com/users/4869070/kartiki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438112088, "creation_date": 1438089534, "last_edit_date": 1438090858, "question_id": 31677526, "link": "https://stackoverflow.com/questions/31677526/how-do-i-hide-the-border-of-a-table-in-a-powerpoint-ppt-with-perl-and-win32ole", "title": "How do I hide the border of a table in a PowerPoint ppt with Perl and Win32::OLE?", "body": "<p>How do we change table style (hide table borders) in PowerPoint through Perl?</p>\n\n<p>something like:</p>\n\n<pre><code>$table-&gt;Table-&gt;Style-&gt;NoBorder\n</code></pre>\n\n<p>I am using this code at the start:</p>\n\n<pre><code>use Win32::OLE qw(in with);\nuse Win32::OLE::Const 'Microsoft PowerPoint';\n$Win32::OLE::Warn = 2; \nuse File::Basename;\nuse Time::Piece;\n</code></pre>\n\n<p>And I get the table like this:</p>\n\n<pre><code>my $table = $Slide-&gt;Shapes-&gt;AddTable(\n  $rws, $cls, $item{LEFT}, $item{TOP}, $item{WIDTH}, $item{Hei\u200c\u200bght}\n);\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438089996, "post_id": 31677474, "comment_id": 51297122, "body": "So, just to clarify - your first XML snippet <i>isn&#39;t</i> working? Because my test case works fine."}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438090096, "post_id": 31677474, "comment_id": 51297214, "body": "Is it the problem with XML ??? @Sobrique"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438090296, "post_id": 31677474, "comment_id": 51297383, "body": "I don&#39;t know - the XML you&#39;ve posted there works fine."}], "answers": [{"comments": [{"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "edited": false, "score": 0, "creation_date": 1438091014, "post_id": 31677771, "comment_id": 51297977, "body": "This is not a problem with the matching it is giving error &quot;panic: attempt to copy freed scalar 491b4d8 to 2c52da0&quot;.It parse first node that is 7.0 and returns the above error same thing is happening if I swap the position of nodes."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "edited": false, "score": 0, "creation_date": 1438091243, "post_id": 31677771, "comment_id": 51298158, "body": "In which case I&#39;d be suggesting checking installed versions - that doesn&#39;t look like a problem with the module."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1438090152, "creation_date": 1438090152, "answer_id": 31677771, "question_id": 31677474, "link": "https://stackoverflow.com/questions/31677474/perl-twig-delete-not-working-as-expected/31677771#31677771", "title": "Perl Twig Delete not working as expected", "body": "<p>My test case:</p>\n\n<p></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $version = '6.0';\nmy $twig = XML::Twig-&gt;new( pretty_print =&gt; 'indented_a' )-&gt;parse( \\*DATA );\n\nfor my $number ( $twig-&gt;findnodes('/Install/version/number') ) {\n    $number-&gt;parent-&gt;delete if $number-&gt;trimmed_text eq $version;\n}\n\n$twig-&gt;print;\n\n__DATA__\n\n&lt;Install&gt;\n  &lt;version&gt;\n    &lt;number&gt;7.0&lt;/number&gt;\n    &lt;build&gt;1032474&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;RIBS&lt;/kind&gt;\n  &lt;/version&gt;\n    &lt;version&gt;\n    &lt;number&gt;6.0&lt;/number&gt;\n    &lt;build&gt;1025654&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;RIBS&lt;/kind&gt;\n  &lt;/version&gt;\n&lt;/Install&gt;\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>&lt;Install&gt;\n  &lt;version&gt;\n    &lt;number&gt;7.0&lt;/number&gt;\n    &lt;build&gt;1032474&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;RIBS&lt;/kind&gt;\n  &lt;/version&gt;\n&lt;/Install&gt;\n</code></pre>\n\n<p>I'm not sure what problem you are therefore having. I could only perhaps guess that it's because that literal <code>eq</code> doesn't match what you have in your XML file. </p>\n\n<p>So perhaps:</p>\n\n<pre><code>if $number -&gt; trimmed_text =~ m/6\\.0/; \n</code></pre>\n\n<p>For example?</p>\n"}], "owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1438094297, "creation_date": 1438089397, "last_edit_date": 1438091042, "question_id": 31677474, "link": "https://stackoverflow.com/questions/31677474/perl-twig-delete-not-working-as-expected", "title": "Perl Twig Delete not working as expected", "body": "<p>I am trying to delete a node using XML::TWig my code is as follows;-</p>\n\n<pre><code>    my $cfg = shift;    \n    my $version = '6.0';    \n    my $twig = XML::Twig-&gt;new;\n    my $file_loc = catfile( home_directory_path(), \"Builds\",\"data.xml\" );\n    $twig-&gt;parsefile(\"$file_loc\");\n\nfor my $number ( $twig-&gt;findnodes('/Install/version/number') ) {\n  $number-&gt;parent-&gt;delete if $number-&gt;trimmed_text eq $version;\n}\n\n    open my $xml_fh, '&gt;', \"$file_loc\" or die $!;\n    $twig-&gt;set_pretty_print('indented_c');\n    $twig-&gt;print($xml_fh);\n    close $xml_fh;\n</code></pre>\n\n<p>and my xml is like this.</p>\n\n<pre><code>&lt;Install&gt;\n  &lt;version&gt;\n    &lt;number&gt;7.0&lt;/number&gt;\n    &lt;build&gt;build&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;kind&lt;/kind&gt;\n  &lt;/version&gt;\n    &lt;version&gt;\n    &lt;number&gt;6.0&lt;/number&gt;\n    &lt;build&gt;build&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;kind&lt;/kind&gt;\n  &lt;/version&gt;\n&lt;/Install&gt;\n</code></pre>\n\n<p>I am trying to delete the version node if the number matches.</p>\n\n<p>It is working fine when the xml has only one node like:-</p>\n\n<pre><code> &lt;Install&gt; \n        &lt;number&gt;6.0&lt;/number&gt;\n        &lt;build&gt;build&lt;/build&gt;\n        &lt;path&gt;path&lt;/path&gt;\n        &lt;kind&gt;kind&lt;/kind&gt;\n      &lt;/version&gt;\n    &lt;/Install&gt;\n</code></pre>\n\n<p>In this case it will delete 6.0 from version node but if there are more than 1 version node as in the first case then it is not deleting it.</p>\n\n<p>The expected output in first case is.</p>\n\n<pre><code> &lt;Install&gt; \n   &lt;version&gt;\n    &lt;number&gt;7.0&lt;/number&gt;\n    &lt;build&gt;build&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;kind&lt;/kind&gt;\n  &lt;/version&gt;\n&lt;/Install&gt;\n</code></pre>\n\n<p>it is giving error \"panic: attempt to copy freed scalar 491b4d8 to 2c52da0\".It parse first node that is 7.0 and returns the above error same thing is happening if I swap the position of nodes.  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1438084406, "post_id": 31675479, "comment_id": 51292960, "body": "can you share what your file looks l ike and how large it is? how many lines is it? when you get a pattern nmatch which line does it occur on? as soon as you match your loop exists so if match is early then you dont proces the rest of the file. If you dont match then you need to read and process the entire file."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5164710"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1438084577, "post_id": 31675479, "comment_id": 51293073, "body": "pls. note that some.txt is of size 45gb... and im using a low end desktop with 4gb ram to access it"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1438084774, "post_id": 31675479, "comment_id": 51293219, "body": "File is very big and its taking time to reading line by line. If it didn&#39;t pattern its keep reading."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5164710"}, "edited": false, "score": 0, "creation_date": 1438084931, "post_id": 31675479, "comment_id": 51293336, "body": "is it really so?? coz it finds even the last line of the file in seconds.. i hav tried"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1438084985, "post_id": 31675479, "comment_id": 51293374, "body": "how do you know that its the last line and that the pattern in the last line was not found else where in the file?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5164710"}, "edited": false, "score": 0, "creation_date": 1438085020, "post_id": 31675479, "comment_id": 51293396, "body": "how can i exit the loop (which is taking hours) if the pattern is not present in the file"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5164710"}, "edited": false, "score": 0, "creation_date": 1438085064, "post_id": 31675479, "comment_id": 51293428, "body": "coz itz an mpileupfile.. which does not have repeats of lines@ Chris Doyle.. n i checked the txt by the tail command in linux and tried to find that through the code"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438085318, "post_id": 31675479, "comment_id": 51293624, "body": "If you used tail on the linux command line, also use grep to check if your pattern is not in the middle."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5164710"}, "edited": false, "score": 0, "creation_date": 1438085393, "post_id": 31675479, "comment_id": 51293692, "body": "already did that@simbabque"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1438086233, "post_id": 31675479, "comment_id": 51294322, "body": "try using <code>$.</code> to report what line the loop is on. <code>$.</code> is the current line within a <code>while</code> loop. not every line, as printing to screen will add time, but perhaps every 10,000 lines or so (depending on how many lines the file has): <code>print &quot;line: $.&quot; if ($. &#47; 10000) =~ &#47;^\\d+$&#47;</code>. <code>&#47;^\\d+$&#47;</code> matches a whole number."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1438086706, "post_id": 31675479, "comment_id": 51294693, "body": "Could you report how long it take to scan the file using <code>grep</code> command/program?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438089548, "post_id": 31675479, "comment_id": 51296803, "body": "Also: What are you <i>actually</i> trying to find? I have a suspicion that you&#39;re &#39;spending&#39; some CPU time needlessly because of the nongreedy captures and line end anchoring. If you&#39;re just trying to match and catch line, you don&#39;t need to."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438091832, "post_id": 31678071, "comment_id": 51298606, "body": "Why not just <code>chomp; if (&#47;^scaffold110132\\s+6126\\s+C\\s&#47;) { print &quot;\\n***$_***\\n&quot;; last; }</code>?"}], "tags": [], "owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1438090933, "creation_date": 1438090933, "answer_id": 31678071, "question_id": 31675479, "link": "https://stackoverflow.com/questions/31675479/finding-done-within-seconds-if-pattern-matches-in-file-if-pattern-is-not-pres/31678071#31678071", "title": "Finding done within seconds if pattern matches in file... if pattern is not present takes an hour to exit the loop", "body": "<p>I very strongly suspect that when the loop goes a long time, there's a line in your file that begins with <code>scaffold110132</code> and then almost matches the regular expression, but not quite. I suspect that your script is getting stuck on this line. That is, I suspect it isn't an issue of \"pattern not being in file\" but one of \"lines that don't match the regex but slow things up\".</p>\n\n<p>I must admit, I'm not sure what kind of line could do that - do your lines end in <code>\\n</code> characters, or do they end in <code>\\r\\n</code>?</p>\n\n<p>However, I would suggest two things:</p>\n\n<p>First off, try this since it's likely faster when the line isn't found: (and finds the same lines)</p>\n\n<pre><code>open(FH,\"some.txt\") or die(\"\\nFile not found\\n\");\nmy $find;\nwhile(&lt;FH&gt;)\n{\n     next unless /^scaffold110132/;\n     ($find) = $_ =~ m/^(scaffold110132\\s+6126\\s+C\\s.+)/;\n     print \"\\n***$find***\\n\" if ($find);\n     last if($find);\n}\n</code></pre>\n\n<p>Though since some of us are still curious as to what was taking so long, could you also try this and tell us what the output was?</p>\n\n<pre><code>use Time::Hires qw( time );\nuse Data::Dumper;\n\nopen(FH,\"some.txt\") or die(\"\\nFile not found\\n\");\nmy ($find, $start, $end);\nmy $maxtime = 0.0;\nmy $slowline = '';\nwhile(&lt;FH&gt;)\n{\n     $start = time;\n     ($find) = $_ =~m/^(scaffold110132\\s+6126\\s+C\\b\\s+.+?)(?=\\n|$)/;\n     print \"\\n***$find***\\n\" if ($find);\n     $end = time;\n     if ($end - $start &gt; $maxtime) {\n         $slowline = $_;\n         $maxtime = $end - $start;\n     }\n     last if($find);\n}\nprint Data::Dumper-&gt;Dump([$maxtime, $slowline], [qw($maxtime $slowline)]);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5164710"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438090933, "creation_date": 1438084277, "last_edit_date": 1438086061, "question_id": 31675479, "link": "https://stackoverflow.com/questions/31675479/finding-done-within-seconds-if-pattern-matches-in-file-if-pattern-is-not-pres", "title": "Finding done within seconds if pattern matches in file... if pattern is not present takes an hour to exit the loop", "body": "<pre><code>open(FH,\"some.txt\") or die(\"\\nFile not found\\n\");\nmy $find;\nwhile(&lt;FH&gt;)\n{\n     ($find) = $_ =~m/^(scaffold110132\\s+6126\\s+C\\b\\s+.+?)(?=\\n|$)/;\n     print \"\\n***$find***\\n\" if ($find);\n     last if($find);\n\n}\n</code></pre>\n\n<p>It's a small piece of code to find a pattern in a some.txt file. If the pattern is present Perl gives it out in a jiffy. Whereas if the pattern is not present code takes an hour to exit the loop. Can somebody help me reason out why?</p>\n\n<p>some.txt:: size :: 45Gb\nextract of content ::</p>\n\n<pre><code>scaffold110637  42  A   1   ^!. C\nscaffold110637  43  A   1   .   C\nscaffold110637  44  T   1   .   C\nscaffold110637  45  A   1   .   F\nscaffold110637  46  T   1   .   F\nscaffold110637  47  T   1   .   F\nscaffold110637  48  A   1   .   F\nscaffold110637  49  C   1   .   F\nscaffold110637  50  A   1   .   H\nscaffold110637  51  C   1   .   H\n</code></pre>\n"}, {"tags": ["perl", "networking", "ipv6", "ipv4"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1438084327, "post_id": 31675355, "comment_id": 51292901, "body": "<a href=\"https://www.perl.org/about/whitepapers/perl-ipv6.html\" rel=\"nofollow noreferrer\">Perl supports IPv6</a>"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1438084513, "post_id": 31675355, "comment_id": 51293023, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/24574821/domain-name-to-ipv6-address-in-perl\">Domain name to IPv6 address in Perl</a>"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1438084569, "post_id": 31675355, "comment_id": 51293071, "body": "<a href=\"http://stackoverflow.com/q/16908163/4248931\">How to make a client in perl Ipv6</a>"}, {"owner": {"reputation": 809, "user_id": 2870624, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XbhzQ.jpg?s=128&g=1", "display_name": "gpwr", "link": "https://stackoverflow.com/users/2870624/gpwr"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1438084711, "post_id": 31675355, "comment_id": 51293178, "body": "I&#39;m referring to a client and not a domain name. (The client connecting to the web server or domain name)"}], "answers": [{"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 4, "last_activity_date": 1438085882, "creation_date": 1438085882, "answer_id": 31676103, "question_id": 31675355, "link": "https://stackoverflow.com/questions/31675355/how-to-find-the-ipv6-address-of-a-client-using-perl-cgi-script/31676103#31676103", "title": "How to find the IPv6 address of a client using Perl CGI script", "body": "<p>The <code>REMOTE_ADDR</code> CGI variable is simply populated from the peer address of the incoming HTTP connection. If that's over IPv6, then it'll be an IPv6 address. If it's over IPv4, then a IPv4 one.</p>\n\n<p>If the client connects to you over IPv4, you can't know anything about the state of their IPv6 stack unless they tell you, and there isn't a common way that's done.</p>\n\n<p>In summary: you can't know.</p>\n"}], "owner": {"reputation": 809, "user_id": 2870624, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XbhzQ.jpg?s=128&g=1", "display_name": "gpwr", "link": "https://stackoverflow.com/users/2870624/gpwr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438085903, "creation_date": 1438083904, "last_edit_date": 1438085903, "question_id": 31675355, "link": "https://stackoverflow.com/questions/31675355/how-to-find-the-ipv6-address-of-a-client-using-perl-cgi-script", "title": "How to find the IPv6 address of a client using Perl CGI script", "body": "<p>In perl getting the external IPv4 address of a client is done by doing this:</p>\n\n<pre><code>$ip4_address = $ENV{\"REMOTE_ADDR\"};\n</code></pre>\n\n<p>What would you do to get the external IPv6 address from the client.</p>\n\n<p>(Note that I need the external IPv6 address of the client connecting to the web server - <strong>I'm not trying to get the IPv6 address of a domain name</strong>)</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1438081139, "post_id": 31674309, "comment_id": 51290807, "body": "Alternatively, <code>perl -i -ple &#39;$_ = &quot;&#47;* *&#47;&quot; if $. == 3&#39; file</code>."}, {"owner": {"reputation": 12672, "user_id": 1200821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Cm117.jpg?s=128&g=1", "display_name": "Juan Diego Godoy Robles", "link": "https://stackoverflow.com/users/1200821/juan-diego-godoy-robles"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438081371, "post_id": 31674309, "comment_id": 51290945, "body": "Yep , that would be my chosen tool for inplace replacement @melpomene"}], "tags": [], "owner": {"reputation": 12672, "user_id": 1200821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Cm117.jpg?s=128&g=1", "display_name": "Juan Diego Godoy Robles", "link": "https://stackoverflow.com/users/1200821/juan-diego-godoy-robles"}, "is_accepted": true, "score": 4, "last_activity_date": 1438081762, "last_edit_date": 1438081762, "creation_date": 1438081052, "answer_id": 31674309, "question_id": 31674159, "link": "https://stackoverflow.com/questions/31674159/how-to-insert-specific-line-instead-of-nth-line/31674309#31674309", "title": "How to insert specific line instead of nth line?", "body": "<p>You can use this:</p>\n\n<pre><code>awk 'FNR==3{print \"/* */\";next}1'  file &gt; new_file\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p><code>FNR==3{print \"/* */\";next}</code> : When the third line of the field is reached, print <em>void comment</em> and skip further steps by <code>next</code></p>\n\n<p><code>1</code> : Print current line.</p>\n\n<p><em>Inplace</em> replacement is possible if you have access to a modern <code>gawk</code> implementation: </p>\n\n<pre><code>gawk -i inplace 'FNR==3{print \"/* */\";next}1'  file \n</code></pre>\n\n<p>Check: <a href=\"http://www.gnu.org/software/gawk/manual/html_node/Extension-Sample-Inplace.html\" rel=\"nofollow\">http://www.gnu.org/software/gawk/manual/html_node/Extension-Sample-Inplace.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 850, "user_id": 3719454, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/23e9bcaf4f944cb43eb254c6134f5721?s=128&d=identicon&r=PG&f=1", "display_name": "user3719454", "link": "https://stackoverflow.com/users/3719454/user3719454"}, "edited": false, "score": 1, "creation_date": 1438084445, "post_id": 31674896, "comment_id": 51292985, "body": "<code>sed &#39;3 c &#47;* *&#47;&#39;</code> is much more straightforward... thanks"}], "tags": [], "owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "is_accepted": false, "score": 3, "last_activity_date": 1438082702, "creation_date": 1438082702, "answer_id": 31674896, "question_id": 31674159, "link": "https://stackoverflow.com/questions/31674159/how-to-insert-specific-line-instead-of-nth-line/31674896#31674896", "title": "How to insert specific line instead of nth line?", "body": "<p>(c)hange the line 3</p>\n\n<pre><code>sed '3 c\\\n/* */' YourFile &gt; NewFile\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sed '3 s#.*#/* */#' YourFile &gt; NewFile\n</code></pre>\n\n<p>maybe add some security</p>\n\n<pre><code>sed '3 { \\#^[[:blank:]]*/[*]\\{1,\\}# c\\\n       /* */\n       }' YourFile &gt; NewFile\n</code></pre>\n\n<p>Change the line 3 if start with <code>/****</code></p>\n"}], "owner": {"reputation": 850, "user_id": 3719454, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/23e9bcaf4f944cb43eb254c6134f5721?s=128&d=identicon&r=PG&f=1", "display_name": "user3719454", "link": "https://stackoverflow.com/users/3719454/user3719454"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "accepted_answer_id": 31674309, "answer_count": 2, "score": 1, "last_activity_date": 1438082702, "creation_date": 1438080660, "last_edit_date": 1438081798, "question_id": 31674159, "link": "https://stackoverflow.com/questions/31674159/how-to-insert-specific-line-instead-of-nth-line", "title": "How to insert specific line instead of nth line?", "body": "<p>I have a comment with timestamps in many files:</p>\n\n<pre><code>/****** Object:  StoredProcedure [dbo].[some_stored_procedure]    Script Date: 07/28/2015 11:01:13 ******/\n</code></pre>\n\n<p>and I would like to replace them with an empty comment</p>\n\n<pre><code>/* */\n</code></pre>\n\n<p>I know that the comment is on the 3rd line of every file. I can remove it with <code>awk '!(NR==3)'</code> but I would like to keep the line numbers in the files, so I would like to add an empty comment instead. How to do that?</p>\n"}, {"tags": ["xml", "perl", "xml-parsing", "perl-module"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438078428, "post_id": 31673294, "comment_id": 51289047, "body": "I don&#39;t recognise that encoding. If we could tell what it was, then decoding it is probably pretty easy."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1438079142, "post_id": 31673294, "comment_id": 51289501, "body": "We could try and guess the encoding of that field. Or you could ask the source of the document what encoding they are using. I suspect the second option will be better."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438084045, "post_id": 31673294, "comment_id": 51292718, "body": "How did it happen that they now let you use XML::Simple after you said you cannot use a parser in your other question <a href=\"http://stackoverflow.com/q/31651267/1331451\">stackoverflow.com/q/31651267/1331451</a> ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438084702, "post_id": 31673294, "comment_id": 51293167, "body": "On-Topic question: are you allowed to download that document?"}, {"owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "edited": false, "score": 0, "creation_date": 1438144223, "post_id": 31673294, "comment_id": 51323721, "body": "This I had a fight and finally they agree to install this module. Now I am facing another issue. Please check mu question."}], "owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1438886469, "creation_date": 1438078239, "last_edit_date": 1438886469, "question_id": 31673294, "link": "https://stackoverflow.com/questions/31673294/download-attached-ms-word-doc-from-a-xml-form", "title": "download attached MS word doc from a XML form", "body": "<p>I am trying to read a XML form using Perl. It is a simple XML form which has some basic information and a MS word doc attachment.</p>\n\n<p>Now I am able to read the XML with XML::Simple module,\nbut the problem is that the is decoding the file using base64 encode.</p>\n\n<p>I have managed to decode it but not able to save it in MS word doc with the same format. It is showing some unreadable format ans text.\nI want to create a MS word doc from this base64 encoded file.\nCould you please help me on this ?</p>\n\n<p>Sample XML:</p>\n\n<pre><code>   &lt;?xml version=\"1.0\"?&gt;\n    &lt;catalog&gt;\n       &lt;book id=\"bk101\"&gt;\n          &lt;author&gt;Gambardella, Matthew&lt;/author&gt;\n          &lt;title&gt;XML Developer's Guide&lt;/title&gt;\n          &lt;genre&gt;Computer&lt;/genre&gt;\n          &lt;price&gt;44.95&lt;/price&gt;\n          &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;\n          &lt;description&gt;An in-depth look at creating applications \n          with XML.&lt;/description&gt;\n    &lt;attached_path&gt;khdgsdybcmnlxkjhdosbduyis/nbjxnciud7djbsjdlagisia/jbkjgdhjsagduysdgisdisodhoishdoi/bcvhgiugudigwyiwyo\n        &lt;/attached_path&gt;\n           &lt;/book&gt;\n\n        &lt;/catalog&gt;\n</code></pre>\n"}, {"tags": ["perl", "sftp"], "answers": [{"comments": [{"owner": {"reputation": 1111, "user_id": 1913831, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/55693dc7e1f632a35d4de906ee6d385b?s=128&d=identicon&r=PG", "display_name": "Lav", "link": "https://stackoverflow.com/users/1913831/lav"}, "edited": false, "score": 0, "creation_date": 1438072618, "post_id": 31670816, "comment_id": 51285218, "body": "thanks a lot for your quick response (1 ) for plink i am using Padre Perl IDE , not sure if setting PATH is different for Windows &amp; Padre ... can you please advice ( 2 ) can find be used for checking file name or only ls may be used"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1111, "user_id": 1913831, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/55693dc7e1f632a35d4de906ee6d385b?s=128&d=identicon&r=PG", "display_name": "Lav", "link": "https://stackoverflow.com/users/1913831/lav"}, "edited": false, "score": 1, "creation_date": 1438073011, "post_id": 31670816, "comment_id": 51285463, "body": "2) the docs say find searches recursively. I guess that would work. Why don&#39;t you try it. 1) I have no experience with Padre and I do not have a Windows machine available to test. Try providing a full absolute path."}, {"owner": {"reputation": 1111, "user_id": 1913831, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/55693dc7e1f632a35d4de906ee6d385b?s=128&d=identicon&r=PG", "display_name": "Lav", "link": "https://stackoverflow.com/users/1913831/lav"}, "edited": false, "score": 0, "creation_date": 1438073531, "post_id": 31670816, "comment_id": 51285807, "body": "my $sftp = Net::SFTP::Foreign-&gt;new($host ,ssh_cmd =&gt; &#39;C:/plink/plink-1.07-dos/plink&#39;,autodie =&gt; 1); or my $sftp = Net::SFTP::Foreign-&gt;new($host ,ssh_cmd =&gt; &#39;C:\\plink\\plink-1.07-dos\\plink&#39;,autodie =&gt; 1); .... above line gives me  bad remote message received at test.pl"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1438071250, "creation_date": 1438071250, "answer_id": 31670816, "question_id": 31670528, "link": "https://stackoverflow.com/questions/31670528/perl-sftp-how-to-check-remote-file-doesnt-exist/31670816#31670816", "title": "Perl sFTP : how to check remote file doesnt exist", "body": "<blockquote>\n  <p>with autodie will the connection be auto closed ?</p>\n</blockquote>\n\n<p><strong>Yes.</strong> When the program ends, everything is destroyed and connections are closed. That is also the case when the <code>$sftp</code> variable goes out of scope. Modules like this usually implement <a href=\"http://perldoc.perl.org/perlobj.html#Destructors\" rel=\"nofollow\">a <code>DESTROY</code> sub</a>. Those are invoked when the object (which is just a reference in Perl) goes out of scope. There can be some cleanup in that sub. Another example that has that is DBI, and of course lexical filehandles (like <code>$fh</code> from a <code>open</code> call).</p>\n\n<blockquote>\n  <p>we see in above example how to use folder , similar syntax also works for file ?</p>\n</blockquote>\n\n<p><strong>No.</strong> <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#sftp-ls-remote-opts\" rel=\"nofollow\">The docs</a> say <code>ls</code> is for a directory:</p>\n\n<blockquote>\n  <p>Fetches a listing of the remote directory $remote. If $remote is not given, the current remote working directory is listed.</p>\n</blockquote>\n\n<p>But you can just do <code>ls</code> for the directory that the file you want is in, and use the <code>wanted</code> option.</p>\n\n<pre><code>my $ls = $sftp-&gt;ls( '/home/foo', wanted =&gt; qr/^filename.txt$/ );\n</code></pre>\n\n<p>Though with the <code>autodie</code> that should die, so if you don't want it to actually die here, you should wrap it in a <a href=\"https://metacpan.org/pod/Try::Tiny\" rel=\"nofollow\">Try::Tiny</a> call or an <code>eval</code>.</p>\n\n<pre><code>use Try::Tiny\n\n# ...\n\nmy $ls = try { \n  return $sftp-&gt;ls( '/home/foo', wanted =&gt; qr/^filename.txt$/ );\n} catch {\n  return; # will return undef\n};\n\nsay 'Found file \"filename.txt\" on remote server' if $ls;\n</code></pre>\n\n<hr>\n\n<p>As to <code>plink</code> being not found, probably the Windows <code>PATH</code> is different from what your Perl sees.</p>\n"}], "owner": {"reputation": 1111, "user_id": 1913831, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/55693dc7e1f632a35d4de906ee6d385b?s=128&d=identicon&r=PG", "display_name": "Lav", "link": "https://stackoverflow.com/users/1913831/lav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1411, "favorite_count": 0, "accepted_answer_id": 31670816, "answer_count": 1, "score": 0, "last_activity_date": 1438071250, "creation_date": 1438070323, "last_edit_date": 1438070476, "question_id": 31670528, "link": "https://stackoverflow.com/questions/31670528/perl-sftp-how-to-check-remote-file-doesnt-exist", "title": "Perl sFTP : how to check remote file doesnt exist", "body": "<p>I am 1 day old to Perl, was going through <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign\" rel=\"nofollow\">API doc here</a>, have few basic questions</p>\n\n<pre><code>  $sftp = Net::SFTP::Foreign-&gt;new($host, autodie =&gt; 1);\n  my $ls = $sftp-&gt;ls(\"/bar\");\n  # dies as: \"Couldn't open remote dir '/bar': No such file\"\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<ul>\n<li>with autodie will the connection be auto closed ?</li>\n<li>we see in above example how to use folder , similar syntax also works for file ?</li>\n</ul>\n\n<p>Or something like this makes more sense ??</p>\n\n<pre><code>  my $sftp = Net::SFTP::Foreign-&gt;new($host, autodie =&gt; 1);\n  $sftp-&gt;find(\"/sdfjkalshfl\", # nonexistent directory\n              on_error =&gt; sub { print \"foo!\\n\";sftp-&gt;disconnect();exit; });\n</code></pre>\n\n<p>I was trying to run following code on my windows machine</p>\n\n<pre><code>use Net::SFTP::Foreign;\nmy $host = \"demo.wftpserver.com\";\nmy $sftp = Net::SFTP::Foreign-&gt;new($host ,ssh_cmd =&gt; 'plink',autodie =&gt; 1);\nmy $ls = $sftp-&gt;ls(\"/bar\");\n</code></pre>\n\n<p>But i get error </p>\n\n<blockquote>\n  <p>'plink' is not recognized as an internal or external command ,</p>\n</blockquote>\n\n<p>however when i run plink from windows command line it works fine !!</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 10, "last_activity_date": 1438068360, "creation_date": 1438068360, "answer_id": 31669912, "question_id": 31669837, "link": "https://stackoverflow.com/questions/31669837/replace-binary-form-0-1-and-1-0-value-perl/31669912#31669912", "title": "Replace binary form 0-&gt;1 and 1-&gt;0 value - perl", "body": "<p>Use <a href=\"http://perldoc.perl.org/functions/tr.html\">tr</a>:</p>\n\n<pre><code>my $str = '10101001';\n\n$s =~ tr/01/10/;\n\nprint \"$s\\n\";\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>01010110\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 767708, "user_id": 14860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vXG1F.png?s=128&g=1", "display_name": "paxdiablo", "link": "https://stackoverflow.com/users/14860/paxdiablo"}, "is_accepted": false, "score": 5, "last_activity_date": 1438071080, "last_edit_date": 1438071080, "creation_date": 1438069558, "answer_id": 31670283, "question_id": 31669837, "link": "https://stackoverflow.com/questions/31669837/replace-binary-form-0-1-and-1-0-value-perl/31670283#31670283", "title": "Replace binary form 0-&gt;1 and 1-&gt;0 value - perl", "body": "<p>If your input string has only those two possibilities <code>0</code> and <code>1</code>, then you can use substitution in a multi-stage approach:</p>\n\n<pre><code>$str =~ s/1/x/g;  # all 1's to x\n$str =~ s/0/1/g;  # all 0's to 1\n$str =~ s/x/0/g;  # all x's to 0\n</code></pre>\n\n<p>This is not a bad option for languages that only provide substitutions, but Perl also has an atomic translation feature:</p>\n\n<pre><code>$str =~ tr/01/10/;\n</code></pre>\n\n<p>which will work just as well (better, really, since it's less code and probably less passes over the data).</p>\n"}, {"comments": [{"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 2, "creation_date": 1438071290, "post_id": 31670722, "comment_id": 51284490, "body": "why don&#39;t use <code>my $result = ~$binval</code>?"}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "reply_to_user": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1438071566, "post_id": 31670722, "comment_id": 51284640, "body": "Because it would also &quot;fill&quot; any unset bits - for example on this 64-bit system I&#39;m in front of right now, it will return <code>111111111111111111111111111111111111111111111111111111110101&zwnj;&#8203;0110</code>"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1438073040, "post_id": 31670722, "comment_id": 51285485, "body": "I don&#39;t know about size of int type in perl but you can mask out the high bits easily"}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "reply_to_user": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1438074076, "post_id": 31670722, "comment_id": 51286182, "body": "Yeah, sure. It doesn&#39;t get prettier by this, but I&#39;ll add it as alternative."}], "tags": [], "owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "is_accepted": false, "score": 2, "last_activity_date": 1438074292, "last_edit_date": 1495542583, "creation_date": 1438070958, "answer_id": 31670722, "question_id": 31669837, "link": "https://stackoverflow.com/questions/31669837/replace-binary-form-0-1-and-1-0-value-perl/31670722#31670722", "title": "Replace binary form 0-&gt;1 and 1-&gt;0 value - perl", "body": "<p>You could also go mathy on this and use the bitwise XOR operator <code>^</code>...</p>\n\n<pre><code>my $input  = '10101001';\nmy $binval = oct( '0b'.$input );\nmy $result = $binval ^ 0b11111111;\nprintf \"%08b\\n\", $result;\n</code></pre>\n\n<p>...which will also give you <code>01010110</code>.</p>\n\n<p>This of course has the downside of being dependent on the length of the bit input string. The given solution only works for 8-bit values. It wouldn't be hard to generalize for any number of bits, though.</p>\n\n<hr>\n\n<p>To incorporate <a href=\"https://stackoverflow.com/users/995714/l%C6%B0u-v%C4%A9nh-ph%C3%BAc\">L\u01b0u V\u0129nh Ph\u00fac</a>'s comment - you can also use the bitwise NOT operator <code>~</code>. Again, the implementation is dependent on the number of bits as you need to truncate the result:</p>\n\n<pre><code>my $input  = '10101001';\nmy $binval = oct( '0b'.$input );\nprint substr( sprintf ( '%b', ~$binval ), -8 ).\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 545, "user_id": 1202644, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/205f781d627852ba7c023e0ee1ca7a18?s=128&d=identicon&r=PG", "display_name": "Maverick", "link": "https://stackoverflow.com/users/1202644/maverick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 31669912, "answer_count": 3, "score": 4, "last_activity_date": 1438074292, "creation_date": 1438068117, "question_id": 31669837, "link": "https://stackoverflow.com/questions/31669837/replace-binary-form-0-1-and-1-0-value-perl", "title": "Replace binary form 0-&gt;1 and 1-&gt;0 value - perl", "body": "<p>In my script i am dealing with binary value and i need to replace 0->1 and 1->0 at one place. </p>\n\n<p>example :\ninput digit = 10101001\noutput digit = 01010110</p>\n\n<p>I tried <code>$string =~ s/1/0/;</code> and <code>reverse function</code> but that is getting fail to give me correct out put. </p>\n\n<p>can some one help me out.  </p>\n"}, {"tags": ["perl", "ftp", "telnet"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438069016, "post_id": 31669667, "comment_id": 51283253, "body": "According to the docs that should work, but your pattern is bad. The stuff you put into <code>waitfor()</code> is supposed to <i>look</i> like a pattern (as in regex). So the <code>&#47;</code> you have in the middle is breaking it. Try with escaping: <code>$telnet-&gt;waitfor( &#39;&#47;EXECUTION: Y\\&#47;N&#47;&#39; )</code>"}, {"owner": {"reputation": 11, "user_id": 5163565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458977cafb84898969505becbcd48c07?s=128&d=identicon&r=PG&f=1", "display_name": "robertompr", "link": "https://stackoverflow.com/users/5163565/robertompr"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438309192, "post_id": 31669667, "comment_id": 51409039, "body": "Thank you so much for your help, but it didnt work =(. Ive tried with the following patterns:                                                                             $telnet-&gt;waitfor(&#39;/EXECUTION:Y\\/N/&#39;); $telnet-&gt;print(&quot;Y&quot;);   $telnet-&gt;waitfor(&#39;/EXECUTION: Y\\/N/&#39;); $telnet-&gt;print(&quot;Y&quot;);   $telnet-&gt;waitfor(&#39;/EXECUTION: Y\\/N ?/&#39;); $telnet-&gt;print(&quot;Y&quot;);                                                                                        is there any simbol to replace a blank space in the pattern of the WAITFOR? or do you have other idea? Thank you so much for your answer"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438328918, "post_id": 31669667, "comment_id": 51415646, "body": "Try with just <code>&#39;&#47;CONFIRM&#47;&#39;</code>."}, {"owner": {"reputation": 11, "user_id": 5163565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458977cafb84898969505becbcd48c07?s=128&d=identicon&r=PG&f=1", "display_name": "robertompr", "link": "https://stackoverflow.com/users/5163565/robertompr"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438329442, "post_id": 31669667, "comment_id": 51415937, "body": "Ive tried with waitfor(&#39;/CONFIRM/&#39;) but it didnt work. But .. How can I be sure that $telnet-&gt;print(&quot;Y&quot;);  is ok? or there might be another way to send &quot;Y&quot; trought telnet? could be $telnet-&gt;cmd(&quot;Y&quot;);? although I tested it and it doesnt work... Any other idea? Thank you so much for your answer and knowledge"}], "owner": {"reputation": 11, "user_id": 5163565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458977cafb84898969505becbcd48c07?s=128&d=identicon&r=PG&f=1", "display_name": "robertompr", "link": "https://stackoverflow.com/users/5163565/robertompr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1438067758, "creation_date": 1438067632, "last_edit_date": 1438067758, "question_id": 31669667, "link": "https://stackoverflow.com/questions/31669667/perl-nettelnet-sending-yes", "title": "Perl Net::Telnet sending &quot;YES&quot;", "body": "<p>I want to send the next command to a system: \"ZIAA:USR::ACCESS=COM,::FTP=W:;\"</p>\n\n<p>That is not difficult at all:</p>\n\n<p><code>$telnet-&gt;cmd(\"ZIAA:USR::ACCESS=COM,::FTP=W:;\");</code></p>\n\n<p>The answer from the system to this comand is:</p>\n\n<pre><code>LOADING PROGRAM VERSION 16.5-0\n\nEXECUTION STARTED\n\n\nYOU ARE MODIFYING EXISTING PROFILE: USR    \n\n\nCONFIRM COMMAND EXECUTION: Y/N ? |\n</code></pre>\n\n<p>As you can see the answer from the system to the command has several lines (included empty lines)</p>\n\n<p>My question is: How Can I answer with \"Y\" and \"enter\"</p>\n\n<p>My first attempt was:</p>\n\n<pre><code>$telnet-&gt;waitfor('/CONFIRM COMMAND EXECUTION: Y/N ? /');\n$telnet-&gt;print(\"Y\");\n</code></pre>\n\n<p>but it doesnt work at all, I suppose the waitfor should match with the whole text besides I dont know if the <code>\"$telnet-&gt;print(\"Y\");\"</code> is the right way to say \"YES\" to the question.</p>\n\n<p>When I answer to the question manually, I should write the char \"Y\" and then I press \"enter\". The answer from the system is \"COMMAND EXECUTED\", as you can see below:</p>\n\n<pre><code>LOADING PROGRAM VERSION 16.5-0\n\nEXECUTION STARTED\n\n\n\nYOU ARE MODIFYING EXISTING PROFILE: USR    \n\n\n\nCONFIRM COMMAND EXECUTION: Y/N ? Y\n\nCOMMAND EXECUTED\n</code></pre>\n"}, {"tags": ["perl", "email", "qmail"], "comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1438064219, "post_id": 31668209, "comment_id": 51280684, "body": "Do want to process incoming mails to all local mailboxes to a few a few &quot;per OS account&quot; mailboxes?"}, {"owner": {"reputation": 347, "user_id": 5101474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2a6927088eecd4f457e02c648944b48e?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanka Mokashi", "link": "https://stackoverflow.com/users/5101474/priyanka-mokashi"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1438066635, "post_id": 31668209, "comment_id": 51281953, "body": "Want to process incoming mails to all mailboxes"}], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 669729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518d6e438ecc768bc1bcb790d4fe0441?s=128&d=identicon&r=PG", "display_name": "byteborg", "link": "https://stackoverflow.com/users/669729/byteborg"}, "is_accepted": false, "score": 1, "last_activity_date": 1483301530, "creation_date": 1483301530, "answer_id": 41418611, "question_id": 31668209, "link": "https://stackoverflow.com/questions/31668209/how-to-invoke-script-after-receipt-of-mail-automatically/41418611#41418611", "title": "how to invoke script after receipt of mail automatically?", "body": "<p>If you are really sure about executing one perl process per incoming mail, you might call it from a .qmail file as a delivery pipeline. The <a href=\"http://www.qmail.org/man/man5/dot-qmail.html\" rel=\"nofollow noreferrer\">man page to dot-qmail</a> has details.</p>\n"}], "owner": {"reputation": 347, "user_id": 5101474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2a6927088eecd4f457e02c648944b48e?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanka Mokashi", "link": "https://stackoverflow.com/users/5101474/priyanka-mokashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1483301530, "creation_date": 1438062298, "last_edit_date": 1438071349, "question_id": 31668209, "link": "https://stackoverflow.com/questions/31668209/how-to-invoke-script-after-receipt-of-mail-automatically", "title": "how to invoke script after receipt of mail automatically?", "body": "<p>I am developing one application where I need to invoke a Perl script as soon as mail receives. I am using QMAIL as MTA. I read about Qmail-qfilter where we can intercept inbound mail but I am using Qmail 1.06 where Qmail-qfilter is not inbuilt package. I tried to search that package but it's outdated, So I am not getting proper solution for it.  </p>\n\n<p>So, I want to know where I need to mention automatic execution of Perl script as soon as my mail receives in qmail and what is alternative way for Qmail-qfilter.</p>\n"}, {"tags": ["perl", "uwsgi", "plack", "psgi"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438047001, "post_id": 31665534, "comment_id": 51276213, "body": "I did not try this, but you should be able to use an object with a <code>getline</code> method. For more detail, post a short but complete example."}, {"owner": {"reputation": 3208, "user_id": 2162673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9XSFy.jpg?s=128&g=1", "display_name": "Francisco Zarabozo", "link": "https://stackoverflow.com/users/2162673/francisco-zarabozo"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438057371, "post_id": 31665534, "comment_id": 51278458, "body": "Thank you Sinan. Yes, what you mention is correct, I tried a simple object implementing <code>getline</code> and it worked fine, except for the fact that Plack is still buffering the response and doesn&#39;t send anything to the browser until <code>-&gt;getline</code> is undefined. Regarding my example, I modified it to make it a little bit more self-explanatory. The only real difference by posting my real code would be a lot of non relevant lines added to the mix. The only thing I&#39;m trying to figure out is how to make Plack send an unbuffered/autoflushed response."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438068412, "post_id": 31665534, "comment_id": 51282932, "body": "There is no <code>get_data</code> function in your code. I think you mean <code>query_data</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1438081242, "post_id": 31665534, "comment_id": 51290864, "body": "Posting a short but complete example enables you to reduce the work I have to do to try out possible solutions."}], "answers": [{"tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": -2, "last_activity_date": 1438303869, "creation_date": 1438303869, "answer_id": 31736439, "question_id": 31665534, "link": "https://stackoverflow.com/questions/31665534/sending-an-unbuffered-response-in-plack/31736439#31736439", "title": "Sending an unbuffered response in Plack", "body": "<p>Some reading material for you :)</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/PSGI#Delayed-Response-and-Streaming-Body\" rel=\"nofollow\">https://metacpan.org/pod/PSGI#Delayed-Response-and-Streaming-Body</a></li>\n<li><a href=\"https://metacpan.org/pod/Plack::Middleware::BufferedStreaming\" rel=\"nofollow\">https://metacpan.org/pod/Plack::Middleware::BufferedStreaming</a></li>\n<li><a href=\"https://metacpan.org/source/MIYAGAWA/Plack-1.0037/eg/dot-psgi/echo-stream.psgi\" rel=\"nofollow\">https://metacpan.org/source/MIYAGAWA/Plack-1.0037/eg/dot-psgi/echo-stream.psgi</a></li>\n<li><a href=\"https://metacpan.org/source/MIYAGAWA/Plack-1.0037/eg/dot-psgi/nonblock-hello.psgi\" rel=\"nofollow\">https://metacpan.org/source/MIYAGAWA/Plack-1.0037/eg/dot-psgi/nonblock-hello.psgi</a></li>\n</ul>\n\n<p>So copy/paste/adapt and report back please</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 6272172, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sG7y49PJhTU/AAAAAAAAAAI/AAAAAAAAAN0/b7NtpMkJpf4/photo.jpg?sz=128", "display_name": "Peter Edwards", "link": "https://stackoverflow.com/users/6272172/peter-edwards"}, "is_accepted": false, "score": -1, "last_activity_date": 1477559615, "creation_date": 1477559615, "answer_id": 40280658, "question_id": 31665534, "link": "https://stackoverflow.com/questions/31665534/sending-an-unbuffered-response-in-plack/40280658#40280658", "title": "Sending an unbuffered response in Plack", "body": "<p>Plack is middleware. Are you using a web application framework on top of it, like Mojolicious or Dancer2, or something like Apache or Starman server below it? That would affect how the buffering works.</p>\n\n<p>The link above shows an example by Plack's author:\n<a href=\"https://metacpan.org/source/MIYAGAWA/Plack-1.0037/eg/dot-psgi/echo-stream-sync.psgi\" rel=\"nofollow\">https://metacpan.org/source/MIYAGAWA/Plack-1.0037/eg/dot-psgi/echo-stream-sync.psgi</a></p>\n\n<p>Or you can do it easily by using Dancer2 on top of Plack and Starman or Apache:\n<a href=\"https://metacpan.org/pod/distribution/Dancer2/lib/Dancer2/Manual.pod#Delayed-responses-Async-Streaming\" rel=\"nofollow\">https://metacpan.org/pod/distribution/Dancer2/lib/Dancer2/Manual.pod#Delayed-responses-Async-Streaming</a></p>\n\n<p>Regards, Peter</p>\n"}, {"comments": [{"owner": {"reputation": 3208, "user_id": 2162673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9XSFy.jpg?s=128&g=1", "display_name": "Francisco Zarabozo", "link": "https://stackoverflow.com/users/2162673/francisco-zarabozo"}, "edited": false, "score": 0, "creation_date": 1483476423, "post_id": 41452000, "comment_id": 70110543, "body": "Amazing! Thanks for this. :-)"}], "tags": [], "owner": {"reputation": 336, "user_id": 3808623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4de1e889b7b1d5bde4aa4bc089e74c?s=128&d=identicon&r=PG", "display_name": "ccm", "link": "https://stackoverflow.com/users/3808623/ccm"}, "is_accepted": true, "score": 2, "last_activity_date": 1483479769, "last_edit_date": 1483479769, "creation_date": 1483476101, "answer_id": 41452000, "question_id": 31665534, "link": "https://stackoverflow.com/questions/31665534/sending-an-unbuffered-response-in-plack/41452000#41452000", "title": "Sending an unbuffered response in Plack", "body": "<p>You can't use <a href=\"https://metacpan.org/pod/Plack::Response\" rel=\"nofollow noreferrer\">Plack::Response</a> because that class is intended for representing a complete response, and you'll never have a complete response in memory at one time. What you're trying to do is called streaming, and <a href=\"https://metacpan.org/pod/distribution/PSGI/PSGI.pod#Delayed-Response-and-Streaming-Body\" rel=\"nofollow noreferrer\">PSGI supports it</a> even if Plack::Response doesn't.</p>\n\n<p>Here's how you might go about implementing it (adapted from your sample code):</p>\n\n<pre><code>my $env = shift;\n\nif (!$env-&gt;{'psgi.streaming'}) {\n    # do something else...\n}\n\n# Immediately start the response and stream the content.\nreturn sub {\n    my $responder = shift;\n    my $writer = $responder-&gt;([200, ['Content-Type' =&gt; 'text/csv']]);\n\n    query_data(\n        parameters  =&gt; \\%query_parameters,\n        callback    =&gt; sub {\n            my $row_object = shift;\n            $writer-&gt;write($row_object-&gt;to_csv);\n            # TODO: Need to call $writer-&gt;close() when there is no more data.\n        },\n    );\n};\n</code></pre>\n\n<p>Some interesting things about this code:</p>\n\n<ul>\n<li>Instead of returning a <code>Plack::Response</code> object, you can return a <code>sub</code>. This subroutine will be called some time later to get the actual response. PSGI supports this to allow for so-called \"delayed\" responses.</li>\n<li>The subroutine we return gets an argument that is a <code>coderef</code> (in this case, <code>$responder</code>) that should be called and passed the real response. If the real response does not include the \"body\" (i.e. what is normally the 3rd element of the <code>arrayref</code>), then <code>$responder</code> will return an object that we can write the body to. PSGI supports this to allow for <strong>streaming</strong> responses.</li>\n<li>The <code>$writer</code> object has two methods, <code>write</code> and <code>close</code> which both do exactly as their names suggest. Don't forget to call the <code>close</code> method to complete the response; the above code doesn't show this because how it should be called is dependent on how <code>query_data</code> and your other code works.</li>\n<li>Most servers support streaming like this. You can check <code>$env-&gt;{'psgi.streaming'}</code> to be sure that yours does.</li>\n</ul>\n"}], "owner": {"reputation": 3208, "user_id": 2162673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9XSFy.jpg?s=128&g=1", "display_name": "Francisco Zarabozo", "link": "https://stackoverflow.com/users/2162673/francisco-zarabozo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 1, "accepted_answer_id": 41452000, "answer_count": 3, "score": 9, "last_activity_date": 1483479769, "creation_date": 1438043098, "last_edit_date": 1438087416, "question_id": 31665534, "link": "https://stackoverflow.com/questions/31665534/sending-an-unbuffered-response-in-plack", "title": "Sending an unbuffered response in Plack", "body": "<p>I'm working in a section of a Perl module that creates a large CSV response. The server runs on Plack, on which I'm far from expert.</p>\n\n<p>Currently I'm using something like this to send the response:</p>\n\n<pre><code>$res-&gt;content_type('text/csv');\nmy $body = '';\nquery_data (\n    parameters  =&gt; \\%query_parameters,\n    callback    =&gt; sub {\n        my $row_object = shift;\n        $body .= $row_object-&gt;to_csv;\n    },\n);\n$res-&gt;body($body);\nreturn $res-&gt;finalize;\n</code></pre>\n\n<p>However, that <code>query_data</code> function is not a fast one and retrieves a lot of records. In there, I'm just concatenating each row into <code>$body</code> and, after all rows are processed, sending the whole response.</p>\n\n<p>I don't like this for two obvious reasons: First, it takes a lot of RAM until <code>$body</code> is destroyed. Second, the user sees no response activity until that method has finished working and actually sends the response with <code>$res-&gt;body($body)</code>.</p>\n\n<p>I tried to find an answer to this <a href=\"https://metacpan.org/pod/Plack::Response\">in the documentation</a> without finding what I need.</p>\n\n<p>I also tried calling <code>$res-&gt;body($row_object-&gt;to_csv)</code> on my callback section, but seems like that ends up sending only the last call I made to <code>$res-&gt;body</code>, overriding all previous ones.</p>\n\n<p>Is there a way to send a Plack response that flushes the content on each row, so the user starts receiving content in real time as the data is gathered and without having to accumulate all data into a veriable first?</p>\n\n<p>Thanks in advance for any comments!</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "edited": false, "score": 0, "creation_date": 1438036547, "post_id": 31664191, "comment_id": 51273414, "body": "This works. There&#39;s a lot here for me to dig in. I see my ^[^*] was unnecessary, right? If it must be a sequence of white spaces it can&#39;t be an asterisk, duh. Could you give me a reference for this? I mean, the name of the technique/construct/idiom. Thanks a lot!"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "edited": false, "score": 0, "creation_date": 1438037232, "post_id": 31664191, "comment_id": 51273641, "body": "@booNlatoT I&#39;m not sure what you&#39;re referring to because I don&#39;t think this is an &quot;idiom&quot; in particular. If you have questions about specific stuff, I can add explanations."}, {"owner": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "edited": false, "score": 0, "creation_date": 1438038301, "post_id": 31664191, "comment_id": 51273964, "body": "Ah, OK. I&#39;m simultaneously learning regex and a minimum of Perl. I thought maybe there was a particular name for this sort of operation I was trying to perform or the particular way you did it."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 4, "last_activity_date": 1438035020, "creation_date": 1438035020, "answer_id": 31664191, "question_id": 31664018, "link": "https://stackoverflow.com/questions/31664018/regex-to-search-replace-and-repeat-while-theres-a-match/31664191#31664191", "title": "Regex to search, replace and repeat while there&#39;s a match?", "body": "<pre><code>perl -ple 'if (/^( +CHARACTER) +(\\w+\\*\\d+(?:, *\\w+\\*\\d+)*) *$/) { my $p = $1; $_ = join \"\\n\", map /(\\w+)\\*(\\d+)/ ? \"$p*$2 $1\" : die(\"wtf: $_\"), split /,/, $2; }' foo.f\n</code></pre>\n\n<p>Man, this looks awful in one line. Formatted:</p>\n\n<pre><code>perl -ple '\nif (/^( +CHARACTER) +(\\w+\\*\\d+(?:, *\\w+\\*\\d+)*) *$/) {\n    my $p = $1;\n    $_ = \n        join \"\\n\",\n        map /(\\w+)\\*(\\d+)/ ? \"$p*$2 $1\" : die(\"wtf: $_\"),\n        split /,/,\n        $2;\n    }\n' foo.f\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 38, "user_id": 5145189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076533502374293/picture?type=large", "display_name": "Chandar Kakarlapudi", "link": "https://stackoverflow.com/users/5145189/chandar-kakarlapudi"}, "edited": false, "score": 0, "creation_date": 1438035373, "post_id": 31664247, "comment_id": 51272969, "body": "I did not add code to ignore first 6 lines. I assumed the number of declarations in line is not fixed to three. This code can run through entire file but look for Character declarations only(case sensitive). Provide more details and your understanding so that I can provide specific help"}, {"owner": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "edited": false, "score": 0, "creation_date": 1438036842, "post_id": 31664247, "comment_id": 51273516, "body": "Hi. melpomene&#39;s solution worked like a charm. What would be the easiest way to use your method in a command line? Thanks!"}, {"owner": {"reputation": 38, "user_id": 5145189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076533502374293/picture?type=large", "display_name": "Chandar Kakarlapudi", "link": "https://stackoverflow.com/users/5145189/chandar-kakarlapudi"}, "reply_to_user": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "edited": false, "score": 0, "creation_date": 1438090355, "post_id": 31664247, "comment_id": 51297432, "body": "Melpomene&#39;s is perfect. My solution isn&#39;t much different logically. I jut put it in a way a beginner would understand. You haven&#39;t mentioned you needed command line only. I thought a script will be more useful for future use (imagine you want flexibility on the word &quot;CHARACTER&quot; in future, or run once on bulk files, etc.)"}], "tags": [], "owner": {"reputation": 38, "user_id": 5145189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076533502374293/picture?type=large", "display_name": "Chandar Kakarlapudi", "link": "https://stackoverflow.com/users/5145189/chandar-kakarlapudi"}, "is_accepted": false, "score": 0, "last_activity_date": 1438035288, "creation_date": 1438035288, "answer_id": 31664247, "question_id": 31664018, "link": "https://stackoverflow.com/questions/31664018/regex-to-search-replace-and-repeat-while-theres-a-match/31664247#31664247", "title": "Regex to search, replace and repeat while there&#39;s a match?", "body": "<p>First thing that came to my mind:</p>\n\n<pre><code># Open file containing the line and loop through lines (I put only one line)\nopen (INFH, '&lt;', \"num.txt\");\n\nwhile(&lt;INFH&gt;){\n    @arr = split(',',$_);\n    foreach $arrEle (@arr){\n        if ($arrEle =~ /CHARACTER/){\n            $arrEle =~ s/(\\s+)(\\w+)(\\s+)(\\w+)(\\*)(\\d+)/$1$2$5$6$3$4/;\n        }else{\n            $arrEle =~ s/(\\s+)(\\w+)(\\*)(\\d+)/\\tCHARACTER$3$4$1$2/;\n        }\n        print \"$arrEle\\n\";\n    }\n}\n</code></pre>\n\n<p>I will update with more details as we discuss in the comments section.</p>\n\n<p>This should work with a line any big, like this:</p>\n\n<p><code>CHARACTER FOO*1, BAR*2, OTHER*6, OTHERS*7, OTHERS*8</code> and so on</p>\n"}, {"comments": [{"owner": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "edited": false, "score": 0, "creation_date": 1438038468, "post_id": 31664545, "comment_id": 51274019, "body": "Thanks. I&#39;ll try to work my solution a little more. Your comments are appreciated."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1438036856, "creation_date": 1438036856, "answer_id": 31664545, "question_id": 31664018, "link": "https://stackoverflow.com/questions/31664018/regex-to-search-replace-and-repeat-while-theres-a-match/31664545#31664545", "title": "Regex to search, replace and repeat while there&#39;s a match?", "body": "<p>Your original try is just missing one thing: <code>^</code> by default only matches at the beginning of the string, but you want to match at the beginning of a line in the middle of the string.  Change your <code>s/.../.../</code> to <code>s/.../.../m</code>.</p>\n\n<p>Then you still have to deal with the final substitution; either make the <code>,</code> mandatory to match and add a second substitution to deal with the move of the final <code>*length</code> or use <code>/e</code> and make what's being substituted an expression that does different things when <code>$3</code> is empty.</p>\n"}], "owner": {"reputation": 491, "user_id": 5162416, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b767e19f0318cae301cbc829a7a2456f?s=128&d=identicon&r=PG&f=1", "display_name": "booNlatoT", "link": "https://stackoverflow.com/users/5162416/boonlatot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 31664191, "answer_count": 3, "score": 1, "last_activity_date": 1438036856, "creation_date": 1438034200, "last_edit_date": 1438034298, "question_id": 31664018, "link": "https://stackoverflow.com/questions/31664018/regex-to-search-replace-and-repeat-while-theres-a-match", "title": "Regex to search, replace and repeat while there&#39;s a match?", "body": "<p>I'm trying to come up with a way to do the following. Given a line of text like (actual Fortran77 code, these declarations begin at column 7)</p>\n\n<pre><code>  CHARACTER FOO*1, BAR*2, OTHER*6\n</code></pre>\n\n<p>replace it by</p>\n\n<pre><code>  CHARACTER*1 FOO\n  CHARACTER*2 BAR\n  CHARACTER*6 OTHER\n</code></pre>\n\n<p>I tried this</p>\n\n<pre><code>perl -pe '1 while s/^[^*][ ]+CHARACTER[ ]+([a-z-A-Z0-9_]+)\\*([0-9]+)(,?)(.*)/      CHARACTER\\*$2 $1\\n      CHARACTER $4/' foo.f\n</code></pre>\n\n<p>The [^*] bit is intentional (I ignore lines with * at column 1). The output I get is</p>\n\n<pre><code>  CHARACTER*1 FOO\n  CHARACTER BAR*2, OTHER*6\n</code></pre>\n\n<p>I already see I'll have a problem when only CHARACTER OTHER*6 remains, but I haven't even got there yet. Any help with also this problem would be appreciated.</p>\n\n<p>What should I do to end having the original line replaced by the three lines? Thanks.</p>\n"}, {"tags": ["perl", "download", "cgi"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1438032220, "post_id": 31663018, "comment_id": 51271634, "body": "It will throw compile time error.<code>@result</code> should be declared as <code>lexical</code> before use."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438070254, "post_id": 31663018, "comment_id": 51283914, "body": "Each request to your CGI program can return either an HTML page or a file to be downloaded. You can&#39;t return both (well, not without using advanced cleverness involving redirects or Javascript)."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438070007, "post_id": 31667482, "comment_id": 51283787, "body": "Why do you switch between OO and function-based use of CGI.pm? Why do you use the, potentially problematic, <code>new CGI</code> syntax instead of the recommended <code>CGI-&gt;new</code> syntax?"}, {"owner": {"reputation": 477, "user_id": 2083642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HfHMb.jpg?s=128&g=1", "display_name": "Manu Mathew", "link": "https://stackoverflow.com/users/2083642/manu-mathew"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438073441, "post_id": 31667482, "comment_id": 51285753, "body": "It&#39;s the way I learned to write it. It&#39;s the way we use it in other programming languages. Actually we don&#39;t need &quot;new CGI&quot; or &quot;CGI-&gt;new&quot;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1438074516, "post_id": 31667482, "comment_id": 51286444, "body": "Yes. But in other languages <code>new</code> is a keyword. In Perl it&#39;s just a method name. Which is what makes <code>new Class</code> rather fragile and best avoided. It&#39;s annoying that there is so much documentation out there that uses this syntax. Please don&#39;t add to it (and thanks for editing this answer to remove it)."}, {"owner": {"reputation": 477, "user_id": 2083642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HfHMb.jpg?s=128&g=1", "display_name": "Manu Mathew", "link": "https://stackoverflow.com/users/2083642/manu-mathew"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1438078373, "post_id": 31667482, "comment_id": 51289014, "body": "Thanks man. I wasn&#39;t aware of that. It&#39;s a great lesson for me. Thanks again for correcting me. I will remember that."}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1438456647, "post_id": 31667482, "comment_id": 51462663, "body": "This script works good but I have some problem in output from upload file: file was processed to @result and made a new file and after that opened and made downloadable file. But, the out file and download file doesn&#39;t look same. There are spaces and newline character in downloaded file. Any suggestions? Thanks !"}, {"owner": {"reputation": 477, "user_id": 2083642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HfHMb.jpg?s=128&g=1", "display_name": "Manu Mathew", "link": "https://stackoverflow.com/users/2083642/manu-mathew"}, "edited": false, "score": 0, "creation_date": 1438573018, "post_id": 31667482, "comment_id": 51487988, "body": "Can I see the file? Both uploaded and downloaded one?"}], "tags": [], "owner": {"reputation": 477, "user_id": 2083642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HfHMb.jpg?s=128&g=1", "display_name": "Manu Mathew", "link": "https://stackoverflow.com/users/2083642/manu-mathew"}, "is_accepted": true, "score": 0, "last_activity_date": 1488997059, "last_edit_date": 1488997059, "creation_date": 1438058391, "answer_id": 31667482, "question_id": 31663018, "link": "https://stackoverflow.com/questions/31663018/perl-cgi-download-file/31667482#31667482", "title": "Perl CGI download file", "body": "<p>Try the following:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse CGI::Pretty qw(:all);\nmy @result;\nif (param ('file')) {\n    my $file_name=param('file');\n    my $file_handle =upload('file');\n    my $file_size=-s $file_handle;\n    print header(\n        -type=&gt;'application/octet-stream',         \n        -attachment=&gt; $file_name,\n        -Content_Length=&gt;$file_size\n    );\n# file processed to get @result and made new file \n    binmode($file_handle);\n    while (&lt;$file_handle&gt;){\n        print $_;\n        push (@result,$_);\n    }\n# need to download output_file.txt file\n}\n# text processed and printed\nelsif(param('text')){\n    my $text = param('text');\n    print header(\n        -type=&gt;'application/octet-stream',         \n        -attachment=&gt; \"Sample.txt\",\n        -Content_Length=&gt;length($text)\n    );\n    print $text;\n}\n\n# html \nprint header();\nprint start_html();\nprint start_form();\nprint textfield('text');\nprint (submit);\nprint end_form();\nprint start_form();\nprint filefield('file');\nprint submit();\nprint end_form();\nprint end_html();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5131508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4335c03e3b0b176c27b7ca930f5068bf?s=128&d=identicon&r=PG&f=1", "display_name": "Sean C", "link": "https://stackoverflow.com/users/5131508/sean-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1500278858, "creation_date": 1500278858, "answer_id": 45138977, "question_id": 31663018, "link": "https://stackoverflow.com/questions/31663018/perl-cgi-download-file/45138977#45138977", "title": "Perl CGI download file", "body": "<p>Here's an example I modified:</p>\n\n<pre><code>#!C:\\Program Files\\perl\\bin\\perl.exe\n\nuse CGI ':standard';  \nuse CGI::Carp qw ( fatalsToBrowser );  \n\n$input_val = $ENV{'QUERY_STRING'};\n\n($field_name, $command) = split (/=/, $input_val);\n($file_name, $option_name) = split(/&amp;/, $command);\n\n\n$file_path= \"Database/$file_name\";\n\n$directorypath = \"Database/\";\n\nmy $files_location;  \nmy @fileholder;  \n\n$files_location = $directorypath;  \n\nif ($file_name eq '')\n{  \n    print \"Content-type: text/html\\n\\n\";  \n    print \"File doesn't exist\";  \n} else {  \n\n    open(DLFILE, \"&lt;$files_location/$file_name\") || Error('open', 'file');  \n    @fileholder = &lt;DLFILE&gt;;  \n    close (DLFILE) || Error ('close', 'file');  \n\n    print \"Content-Type:application/x-download\\n\";  \n    print \"Content-Disposition:attachment;filename=$file_name\\n\\n\";  \n    print @fileholder;  \n}\n\nprint \"&lt;/HTML&gt;\";\nexit 0;\n</code></pre>\n\n<p>Refer to this website: <a href=\"http://www.perlnotes.com/study0680.htm\" rel=\"nofollow noreferrer\">http://www.perlnotes.com/study0680.htm</a></p>\n"}], "owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1135, "favorite_count": 0, "accepted_answer_id": 31667482, "answer_count": 2, "score": 0, "last_activity_date": 1500278858, "creation_date": 1438030117, "last_edit_date": 1488997032, "question_id": 31663018, "link": "https://stackoverflow.com/questions/31663018/perl-cgi-download-file", "title": "Perl CGI download file", "body": "<p>I need to create an HTML file which input text or file. The text will be processed and printed while the file is processed and downloaded.</p>\n\n<p>I am not able to create download. I tried with download header, but it didn't work. A new file will be created with <code>@array</code> after processing the file. <code>output_file.txt</code> should be downloadable by the user.</p>\n\n<pre><code>#!C:/perl64/bin/perl.exe\nuse strict;\nuse warnings;\nuse CGI::Pretty qw(:all);\n\n\n# HTML\nprint header();\nprint start_html();\nprint start_form();\nprint textfield('text');\nprint (submit);\nprint filefield('file');\nprint submit();\nprint end_form();\nprint end_html();\n\nif (param ('file')) {\n    my $fh = param('file');\n# File processed to get @result and made new file\n    open (OUT, \"&gt;output/output_file.txt\");\n    print OUT @result;\n# Need to download output_file.txt file\n}\n\n# Text processed and printed\nelsif(param('text')){\n    my $text = param('text')\n}\n</code></pre>\n"}, {"tags": ["perl", "directory", "printf", "filenames", "move"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1438030110, "post_id": 31662963, "comment_id": 51270531, "body": "That&#39;s nice. Good luck with testing that. Did you have a programming question?"}, {"owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1438030929, "post_id": 31662963, "comment_id": 51270994, "body": "@MarcB Sorry, I thought that it was obvious to people that read perl that this script fails..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1438031316, "post_id": 31662963, "comment_id": 51271208, "body": "@ChemistnotaProgrammer: Sure, but what isn&#39;t obvious is why you haven&#39;t tried particularly hard to fix it before asking us to do it for you. Googling <code>Perl mkdir</code> would get you a long way towards a solution"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "edited": false, "score": 0, "creation_date": 1438034731, "post_id": 31663314, "comment_id": 51272725, "body": "Thanks, this was useful!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1438031168, "creation_date": 1438031168, "answer_id": 31663314, "question_id": 31662963, "link": "https://stackoverflow.com/questions/31662963/moving-files-with-incremented-files-name-padded-by-zeros-to-directories-in-perl/31663314#31663314", "title": "Moving files with incremented files name padded by zeros to directories in Perl", "body": "<p>Your question is very odd. <code>Dir2</code> doesn't appear to have any bearing on the problem, and I don't see how you expect <code>mkdir -p \"Dir1\"</code> to do anything useful in a Perl program. However, this should solve your problem</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Copy 'move';\nuse File::Path 'make_path';\n\nmy @dirs = ( 'Dir1', 'Dir2' );\n\nmake_path $_ for @dirs;\n\nmy @files = glob '*.txt';\n\nmy $n;\nfor my $file ( sort @files ) {\n  next unless $file =~ /\\A\\d{4}_test\\.txt\\z/;\n\n  my $new_file = sprintf '%s/%04d_test.txt', $dirs[0], ++$n;\n  move $file, $new_file;\n  last if $n == 10;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "is_accepted": false, "score": -1, "last_activity_date": 1438034670, "creation_date": 1438034670, "answer_id": 31664119, "question_id": 31662963, "link": "https://stackoverflow.com/questions/31662963/moving-files-with-incremented-files-name-padded-by-zeros-to-directories-in-perl/31664119#31664119", "title": "Moving files with incremented files name padded by zeros to directories in Perl", "body": "<p>Easy solution:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Copy 'move';\n\nmy @files = &lt;*.txt&gt;;\nmy $count;\n\nmkdir \"Dir1\";\nmkdir \"Dir2\";\n\nmy @dir = &lt;Dir*&gt;;\n\nfor my $files (@files) {\n  ++$count;\n   if ($count &gt;= 1 &amp;&amp; $count &lt;= 9) {\n   my $move_files = sprintf '%s/%04d_test.text', $dir[0], $count;\n   move ($files, $move_files);\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1438034670, "creation_date": 1438029927, "last_edit_date": 1438030420, "question_id": 31662963, "link": "https://stackoverflow.com/questions/31662963/moving-files-with-incremented-files-name-padded-by-zeros-to-directories-in-perl", "title": "Moving files with incremented files name padded by zeros to directories in Perl", "body": "<p>I have files <code>0001_test.txt</code> to <code>0100_test.txt</code>. I make directories Dir1 and Dir2. I want to move files <code>0001_test.txt</code> to <code>0010_test.txt</code> to directory Dir1.</p>\n\n<p>my current  script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse File::Copy;\n\nmy @files = &lt;*.txt&gt;;\nmy $files;\nmy $count;\n\nfor $files (@files) {\n  ++$count;\n  mkdir -p \"Dir1\";\n  mkdir -p \"Dir2\";\n   if ($count &gt;= 1 &amp;&amp; $count &lt;= 10) {\n   my $basename = printf \"%04d\" $count; \n   mv \"($basename)_test.txt\" \"Dir1\";\n   }\n}\n</code></pre>\n\n<p>This obviously fails, so how would one correct this? </p>\n"}, {"tags": ["arrays", "perl", "conditional"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1438029245, "post_id": 31662648, "comment_id": 51270050, "body": "1) Don&#39;t <code>use Switch</code>, ever.  2) Declare <code>@ITEMS_ARRAY</code> outside of the block."}, {"owner": {"reputation": 11, "user_id": 5150183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3097af9ab114ca3b9f82d18b053e9ce?s=128&d=identicon&r=PG&f=1", "display_name": "user5150183", "link": "https://stackoverflow.com/users/5150183/user5150183"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438029758, "post_id": 31662648, "comment_id": 51270345, "body": "Thanks much, appreciate the help!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438031653, "post_id": 31662648, "comment_id": 51271373, "body": "@user5150183: As the documentation for <code>Switch</code> says, <b><i>do not use if you can use given/when</i></b>. <code>given</code> and <code>when</code> were introduced in version v5.10 of Perl together with smart matching, but you shouldn&#39;t use them either as they&#39;re <i>experimental</i> features, and you would frustrate people if you asked for help with code that uses them as everybody else is avoiding them and they would have to read the documentation to help you"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438038775, "post_id": 31662648, "comment_id": 51274116, "body": "Note: There&#39;s almost no reason to ever use <code>our</code>, except for <code>our @ISA</code> and <code>our @EXPORT_OK</code>. Use <code>my</code>"}, {"owner": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "edited": false, "score": 0, "creation_date": 1438076268, "post_id": 31662648, "comment_id": 51287654, "body": "Switch is very experimental module, that uses slow and potentially buggy mechanism of source filters (perl source code parsing/interpreting inside of the &quot;main&quot; compiled perl code - like eval &quot;string&quot;), so you must use given/when, or, better, hash containing link to anonymous subroutines - whenever possible. It is strongly not recommended to use Switch module in any production environment."}, {"owner": {"reputation": 11, "user_id": 5150183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3097af9ab114ca3b9f82d18b053e9ce?s=128&d=identicon&r=PG&f=1", "display_name": "user5150183", "link": "https://stackoverflow.com/users/5150183/user5150183"}, "edited": false, "score": 0, "creation_date": 1438121714, "post_id": 31662648, "comment_id": 51317808, "body": "Thanks all!  I modified my code to given/when.  :)"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5150183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3097af9ab114ca3b9f82d18b053e9ce?s=128&d=identicon&r=PG&f=1", "display_name": "user5150183", "link": "https://stackoverflow.com/users/5150183/user5150183"}, "edited": false, "score": 0, "creation_date": 1438029653, "post_id": 31662743, "comment_id": 51270284, "body": "Thanks much, got it!  :)"}], "tags": [], "owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "is_accepted": false, "score": 1, "last_activity_date": 1438029194, "creation_date": 1438029194, "answer_id": 31662743, "question_id": 31662648, "link": "https://stackoverflow.com/questions/31662648/perl-conditional-array-declarations/31662743#31662743", "title": "perl - conditional array declarations", "body": "<p><code>our</code> is block-scoped. You need to declare outside of the block so that the variable is visible in the outer scope.</p>\n\n<pre><code>our $X = 1;\nour @ITEMS_ARRAY;\n\nif ($X) {\n  @ITEMS_ARRAY = qw ( a b c );\n} else {\n  @ITEMS_ARRAY = qw ( e f g );\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5150183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3097af9ab114ca3b9f82d18b053e9ce?s=128&d=identicon&r=PG&f=1", "display_name": "user5150183", "link": "https://stackoverflow.com/users/5150183/user5150183"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438030107, "creation_date": 1438028878, "last_edit_date": 1438030107, "question_id": 31662648, "link": "https://stackoverflow.com/questions/31662648/perl-conditional-array-declarations", "title": "perl - conditional array declarations", "body": "<p>Perl question for you all.  I have the following code:</p>\n\n<pre><code>#! /usr/local/bin/perl\nuse warnings;\nuse strict;\nuse Switch;\n\nour @ITEMS_ARRAY = qw ( a b c );\n\nforeach my $i (0 .. $#ITEMS_ARRAY) {\n  switch ($ITEMS_ARRAY[$i]) {\n    case \"a\" { print \"a\\n\" }\n    case \"b\" { print \"b\\n\" }\n    case \"c\" { print \"c\\n\" }\n  }\n}\n</code></pre>\n\n<p>which works fine.  I need to set up \"@ITEMS_ARRAY\" differently for certain cases.  Like the following:</p>\n\n<pre><code>#! /usr/local/bin/perl\nuse warnings;\nuse strict;\nuse Switch;\n\nour $X = 1;\n\nif ($X) {\n  our @ITEMS_ARRAY = qw ( a b c );\n} else {\n  our @ITEMS_ARRAY = qw ( e f g );\n}\n\nforeach my $i (0 .. $#ITEMS_ARRAY) {\n  switch ($ITEMS_ARRAY[$i]) {\n    case \"a\" { print \"a\\n\" }\n    case \"b\" { print \"b\\n\" }\n    case \"c\" { print \"c\\n\" }\n    case \"e\" { print \"e\\n\" }\n    case \"f\" { print \"f\\n\" }\n    case \"g\" { print \"g\\n\" }\n  }\n}\n</code></pre>\n\n<p>But, I get the following errors:</p>\n\n<pre><code>Variable \"@ITEMS_ARRAY\" is not imported at ./r.pl line 14.\nVariable \"@ITEMS_ARRAY\" is not imported at ./r.pl line 15.\nGlobal symbol \"@ITEMS_ARRAY\" requires explicit package name at ./r.pl line 14.\nGlobal symbol \"@ITEMS_ARRAY\" requires explicit package name at ./r.pl line 15.\nExecution of ./r2.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["regex", "perl", "regex-greedy"], "answers": [{"comments": [{"owner": {"reputation": 508, "user_id": 3703118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160488ea331e7e604c83c168b5f8aa94?s=128&d=identicon&r=PG&f=1", "display_name": "Yoad Snapir", "link": "https://stackoverflow.com/users/3703118/yoad-snapir"}, "reply_to_user": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 0, "creation_date": 1438030123, "post_id": 31662842, "comment_id": 51270541, "body": "I just updated it, i think you need to replace it with a newline and not &quot;nothing&quot; like i wrote before. I am trying to craft an example and post it here."}, {"owner": {"reputation": 508, "user_id": 3703118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160488ea331e7e604c83c168b5f8aa94?s=128&d=identicon&r=PG&f=1", "display_name": "Yoad Snapir", "link": "https://stackoverflow.com/users/3703118/yoad-snapir"}, "reply_to_user": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 0, "creation_date": 1438030410, "post_id": 31662842, "comment_id": 51270710, "body": "Sorry, with the assumption that the first line CAN be an empty line i cannot easily solve it. Otherwise i can provide multiple solutions that work. Did my best though."}, {"owner": {"reputation": 508, "user_id": 3703118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160488ea331e7e604c83c168b5f8aa94?s=128&d=identicon&r=PG&f=1", "display_name": "Yoad Snapir", "link": "https://stackoverflow.com/users/3703118/yoad-snapir"}, "reply_to_user": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 0, "creation_date": 1438031570, "post_id": 31662842, "comment_id": 51271326, "body": "@Ashwin Now it seems to work on my test cases. You can check it <a href=\"https://regex101.com/r/lQ8gO0/1\" rel=\"nofollow noreferrer\">here</a>"}], "tags": [], "owner": {"reputation": 508, "user_id": 3703118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160488ea331e7e604c83c168b5f8aa94?s=128&d=identicon&r=PG&f=1", "display_name": "Yoad Snapir", "link": "https://stackoverflow.com/users/3703118/yoad-snapir"}, "is_accepted": false, "score": 0, "last_activity_date": 1438031545, "last_edit_date": 1438031545, "creation_date": 1438029510, "answer_id": 31662842, "question_id": 31662216, "link": "https://stackoverflow.com/questions/31662216/regex-to-replace-first-occurence-only-in-perl/31662842#31662842", "title": "Regex to replace first occurence only in perl", "body": "<p>Assuming:<br>\nFirst line can also be an \"empty line\"<br>\nMultiple \"empty lines\" adjacent are not treated as one empty line. only the first empty line is removed.</p>\n\n<p>How about something like <code>s/((\\n)(\\n)|(^\\n)())/</code></p>\n\n<p>And replace the 1st capture group with nothing.</p>\n\n<p>I am not 100% sure about the perl syntax since my perl days are long gone.</p>\n"}, {"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1438030579, "post_id": 31663090, "comment_id": 51270803, "body": "Great minds think alike, and coincidentally, so do ours."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 3, "last_activity_date": 1438030384, "creation_date": 1438030384, "answer_id": 31663090, "question_id": 31662216, "link": "https://stackoverflow.com/questions/31662216/regex-to-replace-first-occurence-only-in-perl/31663090#31663090", "title": "Regex to replace first occurence only in perl", "body": "<p>Set a <code>$flag</code> in perl and verify if it is set in <code>if</code> under a loop:  </p>\n\n<pre><code>perl -lne 'if((/^\\s*$/ &amp;&amp; !$flag)){$flag=1;next;}print' file\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>data,34.45,5343\nintaa,34353.5, 646463 \ndedaa, 22542.35, 3564643\neerreg, 3435,335353\n\nrtgegr,343543,34332\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 4, "last_activity_date": 1438030436, "creation_date": 1438030436, "answer_id": 31663102, "question_id": 31662216, "link": "https://stackoverflow.com/questions/31662216/regex-to-replace-first-occurence-only-in-perl/31663102#31663102", "title": "Regex to replace first occurence only in perl", "body": "<p>At the risk of providing a \"solution\" rather than a \"solution using regex\", just condition on an empty line and a flag that tells whether you've removed an empty line or not.</p>\n\n<p>Assuming one line in each element of <code>@input</code>,</p>\n\n<pre><code>@output = grep { /\\S/ || !$flag++ } @input\n</code></pre>\n\n<p>will exclude the first line (and only the first line) that does not contain a non-whitespace character. You might prefer a solution like this because multi-line regular expressions require some extra care to get correct.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1438030936, "post_id": 31663142, "comment_id": 51270996, "body": "Pretty simple really."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1438038558, "post_id": 31663142, "comment_id": 51274051, "body": "Why don&#39;t you put the <code>&#47;m</code> modifier on the end of the substitution like the rest of the world?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438100736, "post_id": 31663142, "comment_id": 51305699, "body": "@Borodin - Its self contained, unlike the rest of the world."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438103070, "post_id": 31663142, "comment_id": 51307232, "body": "And how does that self-containment help anybody? Unfortunately the majority of your audience won&#39;t understand what you&#39;ve written. I suspect it&#39;s more to do with display and pretentiousness than any advantage that self-containment can offer"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438103869, "post_id": 31663142, "comment_id": 51307715, "body": "@Borodin - Well, its easily cut from the Perl delimiters and deposited into Javas&#39; without losing that important relationship <code>(?m)^</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1438030584, "creation_date": 1438030584, "answer_id": 31663142, "question_id": 31662216, "link": "https://stackoverflow.com/questions/31662216/regex-to-replace-first-occurence-only-in-perl/31663142#31663142", "title": "Regex to replace first occurence only in perl", "body": "<p>If empty line <em>can</em> be a line with horizontal whitespaces then this  </p>\n\n<p><code>$str =~ s/(?m)^\\h*\\n//;</code>  </p>\n\n<p>If empty line <em>cannot</em> contain horizontal whitespaces then this  </p>\n\n<p><code>$str =~ s/(?m)^\\n//;</code>  </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1438038394, "creation_date": 1438038394, "answer_id": 31664795, "question_id": 31662216, "link": "https://stackoverflow.com/questions/31662216/regex-to-replace-first-occurence-only-in-perl/31664795#31664795", "title": "Regex to replace first occurence only in perl", "body": "<p>Assuming you have read all of your file into memory, you can do this</p>\n\n<pre><code>s/^\\h*\\n//m\n</code></pre>\n\n<p>The <code>/m</code> (multiline) modifier allows <code>^</code> to match the beginning of any line in the file. <code>\\h*</code> matches zero or more horizontal whitespace characters, and <code>\\n</code> matches the newline at the end of the line</p>\n\n<p>The substitution will find the first occurrence of the pattern and remove it</p>\n"}], "owner": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1195, "favorite_count": 0, "answer_count": 5, "score": -1, "last_activity_date": 1443010796, "creation_date": 1438027384, "last_edit_date": 1443010796, "question_id": 31662216, "link": "https://stackoverflow.com/questions/31662216/regex-to-replace-first-occurence-only-in-perl", "title": "Regex to replace first occurence only in perl", "body": "<p>I have a text file with these entries</p>\n\n<pre><code>data,34.45,5343\n\nintaa,34353.5, 646463 \ndedaa, 22542.35, 3564643\neerreg, 3435,335353\n\nrtgegr,343543,34332\n</code></pre>\n\n<p>I want to replace the first empty line only and ignore any empty lines which are present in the file. how could i do this ?</p>\n\n<p>I read about nongreedy in regex but couldn't find a proper match to my needs. Can someone suggest ?</p>\n\n<p>My final data should look like this</p>\n\n<pre><code>data,34.45,5343\nintaa,34353.5, 646463\ndedaa, 22542.35, 3564643\neerreg, 3435, 335653\n\nrtgegr,343543,34332\n</code></pre>\n"}, {"tags": ["python", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438026568, "post_id": 31661951, "comment_id": 51268607, "body": "Are the lines with matching field one values always going to be adjacent like that?"}, {"owner": {"reputation": 220, "user_id": 4594805, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-Km5ooKSo-UE/AAAAAAAAAAI/AAAAAAAAAYc/cZolfPrQG2Q/photo.jpg?sz=128", "display_name": "Donbhupi", "link": "https://stackoverflow.com/users/4594805/donbhupi"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438026594, "post_id": 31661951, "comment_id": 51268627, "body": "@EtanReisner well if they aren&#39;t, I can always sort them. So, yes."}], "answers": [{"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1438030768, "creation_date": 1438030768, "answer_id": 31663204, "question_id": 31661951, "link": "https://stackoverflow.com/questions/31661951/comparing-field1-in-two-adjacent-lines-and-printing-fields2-from-all-the-lines/31663204#31663204", "title": "Comparing field#1 in two adjacent lines and printing fields#2 from all the lines where field#1 is identical", "body": "<p>awk to the rescue</p>\n\n<pre><code>awk '{\n  c[$1]++; \n  sub(\"p\",\"p\"c[$1],$2); \n  sep=(c[$1]&gt;1)?FS:\"\"; \n  a[$1]=a[$1] sep $2\n} \nEND {\n  for(i in a) print i, a[i]\n}' file\n</code></pre>\n\n<p>concatenate second fields based on the key (first field).  Suffix p with the index of the parameter (counted in c).  There is a formatting trick to not to double space the first and second fields. </p>\n"}], "owner": {"reputation": 220, "user_id": 4594805, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-Km5ooKSo-UE/AAAAAAAAAAI/AAAAAAAAAYc/cZolfPrQG2Q/photo.jpg?sz=128", "display_name": "Donbhupi", "link": "https://stackoverflow.com/users/4594805/donbhupi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1438030768, "creation_date": 1438026495, "last_edit_date": 1495540695, "question_id": 31661951, "link": "https://stackoverflow.com/questions/31661951/comparing-field1-in-two-adjacent-lines-and-printing-fields2-from-all-the-lines", "title": "Comparing field#1 in two adjacent lines and printing fields#2 from all the lines where field#1 is identical", "body": "<p>Can be considered a variant of <a href=\"https://stackoverflow.com/questions/23719065/tsv-how-to-concatenate-field-2s-if-field-1-is-duplicate\"> this bash question </a>that I looked up before asking this question here.</p>\n\n<p>Following is a sample file:</p>\n\n<pre><code>C=b933cda8ce0/0 p=880080\nC=b933cdd6580/0 p=880080\nC=b933d02a240/0 p=880080\nC=b933d059610/0 p=880080\nC=b933d1c8690/0 p=880080\nC=b933d2c1b60/0 p=1560315\nC=b933d2c1b60/0 p=880080\nC=b933d32f240/0 p=1229793\nC=b933d32f240/0 p=123412\n</code></pre>\n\n<p>Output here should be:</p>\n\n<pre><code>C=b933d2c1b60/0 p1=1560315 p2=880080\nC=b933d32f240/0 p1=1229793 p2=123412\n</code></pre>\n\n<p>I need to print out all the values of field#2 against field#1 from all the lines where field#1 matches.</p>\n\n<p>Although I got the job done using the following long one-liner but it doesn't really seem elegant/efficient to me:</p>\n\n<p><code>d=0; q=0; cat file |while read -r c p; do if [[ $c = $d ]]; then printf \"$c\\t$p\\t$q\\n\"; fi; d=$c; q=$p; done</code></p>\n\n<p>Code could be in any of the langs/tools tagged.</p>\n"}, {"tags": ["php", "perl", "base64", "converter"], "comments": [{"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1438026588, "post_id": 31661814, "comment_id": 51268624, "body": "Are you reading this into a variable or reading it from a file path?"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1438026669, "post_id": 31661814, "comment_id": 51268663, "body": "strip off <code>data:text&#47;css;base64,</code>, then base64_decode what&#39;s left, then <code>file_put_contents()</code> whatever you got back."}, {"owner": {"reputation": 502, "user_id": 3309105, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-QqtmMzgEVes/AAAAAAAAAAI/AAAAAAAAlTc/Pv7wfb33j8M/photo.jpg?sz=128", "display_name": "Anand", "link": "https://stackoverflow.com/users/3309105/anand"}, "edited": false, "score": 0, "creation_date": 1511456745, "post_id": 31661814, "comment_id": 81875533, "body": "How to do the same in java????"}], "answers": [{"comments": [{"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1438027700, "post_id": 31662164, "comment_id": 51269211, "body": "and what if it&#39;s get back binary data? by the way this base64 code from the Google Chrome cache"}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "reply_to_user": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1438036015, "post_id": 31662164, "comment_id": 51273217, "body": "Relevant: <a href=\"http://superuser.com/questions/437242/convert-cached-css-file-to-valid-css\" title=\"convert cached css file to valid css\">superuser.com/questions/437242/&hellip;</a>"}, {"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1438067357, "post_id": 31662164, "comment_id": 51282326, "body": "just an other same question without a real answer. But thanks to find it."}], "tags": [], "owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "is_accepted": false, "score": 0, "last_activity_date": 1438027185, "creation_date": 1438027185, "answer_id": 31662164, "question_id": 31661814, "link": "https://stackoverflow.com/questions/31661814/how-to-convert-datatext-cssbase64-string-to-plain-text-css-file/31662164#31662164", "title": "How to convert &quot;data:text/css;base64&quot; string to plain/text CSS file?", "body": "<p>We just need to lop off the header and then parse the Base64:</p>\n\n<pre><code>&lt;?php\nfunction convertCss($fc, $isFile = FALSE){\n    if($isFile){\n        $lines = explode(\",\", file_get_contents($fc));\n    } else {\n        $lines = explode(\",\", $fc);\n    }\n    $css = \"\";\n    if(lines[1] == \"base64\"){\n        $css = base64_decode($lines[2]);\n    } else {\n        $css = FALSE;\n    }\n    return $css;\n}\n?&gt;\n</code></pre>\n\n<p><strong>Paramters</strong></p>\n\n<p><strong>fc</strong> - File Content, pass Base64 encoded data to the function.</p>\n\n<p><strong>isFile</strong> - When TRUE, reads Base64 encoded data from File Path.</p>\n\n<p><strong>Return Values</strong></p>\n\n<p>Returns the CSS decoded or FALSE on error.</p>\n"}, {"tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": true, "score": 3, "last_activity_date": 1438036684, "creation_date": 1438036684, "answer_id": 31664518, "question_id": 31661814, "link": "https://stackoverflow.com/questions/31661814/how-to-convert-datatext-cssbase64-string-to-plain-text-css-file/31664518#31664518", "title": "How to convert &quot;data:text/css;base64&quot; string to plain/text CSS file?", "body": "<p>The base64 decoded data is gzip compressed.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse URI          qw[];\nuse Gzip::Faster qw[gunzip];\n\nmy $uri = 'data:text/css;base64,\nH4sIAAAAAAAAA8VY227bOBB9lr6CC6NoG1iOLMVp4zzt237AvhuUREusKVGg6MRJkH/fIakLqUuSt\nthdFCnk4cxw5syFQ/pX6AXVOMtole9ReI9KLHJa6U9+loxWZI8qXpF79Or7Cc+e0IvvJTg95YKfqy\nygJc6B5SzYl8+bzTUt8+sk3/yo889f7x1GQWqCpVLWfrrLDX0GNSl/IMJdwFLitChJBbJHeiHZvQ+\nWbBKw+8grGTwSmhewlnCWKSM3KaxIcpEBZjQHT1IQBaVqiY2WGDlKvSBGC0Lp1CtHJXNkXJnesx/F\nQBxYU6bIKSNYKHNkoTFbpWAlBhxFUBCcafi4yOAnsEhe7tG2vqCGM5qhVRiG4L0VD98zARmYw/riA\nLRHq+PxaEBRW4G3jwLXap8SX4JHmskCxOLQCPbxRfgsORBaN3SMR1vPbbJSThCx9leM5zzhlzXACl\n8ZfVBb2vKvhkeRizZIN8aI1ihjwavv2Rq8mdj5HsBb4YcEiwG/3mbbzI7EL0FT4Iw/9qQRjqHZuFW\n6GYJ0ZGearZeXULsQpJwxXDdEG+3g1ipGjOo1YORg7SqOY1j0pllrS+wLVQJazoE/3O3iJDasI16s\nufttIFDoD1rWXEhcqSprIbXxGDF0aQpor/uvQElBdHNBoXr5Y9ADMQ20v1JcDj2CUHcodyq0oV0uR\nJFJBhe7hXzvtVBJSoM4b6ikXBUrYVjSBxXkQXmb7n2+D3psRQwnhBn4psnujbiDFhjDn9GmZvipz6\n8xc0ZSLoKKmKS2zMUJFPtZahmvczP6ZszV2aF0ihIztN3WEv2NC17iNfpTUMzW6C/CHoikKVAaXDV\nBQwTVxvYJYJqIhcWu1W2ngReotqP/C7W/a8XhefNUTZnlHYh6C0YkFGzQ1DjVId22W19fQconJ2qy\nKmik4CdiWp+WvbpeQjA5A0JV8yEUQwtCVVloe/s7AP4HeHUxitt0VV28gaNAdRWV8+a7iLT7lmNx9\nBOOWZ3h3h+7FSkHImMVOG5MnSVqwhznQFPqxykQjapcN4ZoKGvjYt172I4C2++1dOS2s3LYabGtCR\n8I3CxxNmyTqKkYHTmXOkvX1jfCAuBnxO2PSJff6wzfvpJFkBaUZV+2X505TMugd2Sid2WKyDGviN3\nhzT5W3ByxS+jm45k2DI/+bNxGxpkZxWn3U6yM0XNsTrZEKlvUQSQLQqps4qjxq/Py7u4Ofs1OGoPd\nO2dg0m6E6p+ZtaCdNQWvDycsSc4Bl0NKVTZ0dNBWkpMiKltsQL9/HFCnaBYsnjdG4oThqTmaPD6/P\nUYb1ZOfGFkal7r4eUtbwTiytlad7do5yEVS1Wk3yFkTcNujevN2fb0vqLYHpqm6NE1H4lO7kZo88V\nvWawa9RX/qJ4ynJ2VpN2CH4SdnAIm7TuVvjLpAoYyDE6lHV6hfvRkNh+Eu/KT+TIAmu0EnrlzjaaU\nudsGSD/OnrHPI/vqYMmrV4yHF6mftyPYvd/OlkeUjE4sFd59W/chnd6cbc5YtXG16JXOiurG9VQA6\nOzdwITnxBosEjzN1OdjG0X4EaQ9q5177cztvzP3s3b13Js9mTvu5y9F7KfO/5Md7sOA36rCrpJvl5\nnZm+EcGYy/OtUQXs10bs4U7pO+tjALY7lDh/KkkgsiEVLN31FXKaHoqicLv7bC5bwSdNbN3LGdCg+\nbAaJk73X/XNX9LqXsdfe3dOOSYQd/Ak3cB9RIzEQKxmlTPEosDQC7PzbMpJtd4t4OPLsKtZ/HYMz2\nztg8myjNa1Wd5KElVPdGGgIPIqSqkedT+I/rw+qKxMliMn5dUO2CkPjMCtx5kPeLcRLGrJFzQ4G8Y\nrvkzHyan0RjmX1/BCZlCp24QNDJ/1f14GQ9ucTe4QYEJkvCLYllKFNuM/pXn2+6N0QV8faSmvpT+9\nrZn5/ztLVgxyY/D4VCzcwMxPYQ9ymPWmWdAZ/nV/we8bspA/xQAAA==';\n\nsay gunzip(URI-&gt;new($uri)-&gt;data);\n</code></pre>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 0, "accepted_answer_id": 31664518, "answer_count": 2, "score": 0, "last_activity_date": 1438036684, "creation_date": 1438025936, "question_id": 31661814, "link": "https://stackoverflow.com/questions/31661814/how-to-convert-datatext-cssbase64-string-to-plain-text-css-file", "title": "How to convert &quot;data:text/css;base64&quot; string to plain/text CSS file?", "body": "<p>I have this data string what contain a CSS file:</p>\n\n<pre><code>data:text/css;base64,H4sIAAAAAAAAA8VY227bOBB9lr6CC6NoG1iOLMVp4zzt237AvhuUREusKVGg6MRJkH/fIakLqUuStthdFCnk4cxw5syFQ/pX6AXVOMtole9ReI9KLHJa6U9+loxWZI8qXpF79Or7Cc+e0IvvJTg95YKfqyygJc6B5SzYl8+bzTUt8+sk3/yo889f7x1GQWqCpVLWfrrLDX0GNSl/IMJdwFLitChJBbJHeiHZvQ+WbBKw+8grGTwSmhewlnCWKSM3KaxIcpEBZjQHT1IQBaVqiY2WGDlKvSBGC0Lp1CtHJXNkXJnesx/FQBxYU6bIKSNYKHNkoTFbpWAlBhxFUBCcafi4yOAnsEhe7tG2vqCGM5qhVRiG4L0VD98zARmYw/riALRHq+PxaEBRW4G3jwLXap8SX4JHmskCxOLQCPbxRfgsORBaN3SMR1vPbbJSThCx9leM5zzhlzXACl8ZfVBb2vKvhkeRizZIN8aI1ihjwavv2Rq8mdj5HsBb4YcEiwG/3mbbzI7EL0FT4Iw/9qQRjqHZuFW6GYJ0ZGearZeXULsQpJwxXDdEG+3g1ipGjOo1YORg7SqOY1j0pllrS+wLVQJazoE/3O3iJDasI16sufttIFDoD1rWXEhcqSprIbXxGDF0aQpor/uvQElBdHNBoXr5Y9ADMQ20v1JcDj2CUHcodyq0oV0uRJFJBhe7hXzvtVBJSoM4b6ikXBUrYVjSBxXkQXmb7n2+D3psRQwnhBn4psnujbiDFhjDn9GmZvipz68xc0ZSLoKKmKS2zMUJFPtZahmvczP6ZszV2aF0ihIztN3WEv2NC17iNfpTUMzW6C/CHoikKVAaXDVBQwTVxvYJYJqIhcWu1W2ngReotqP/C7W/a8XhefNUTZnlHYh6C0YkFGzQ1DjVId22W19fQconJ2qyKmik4CdiWp+WvbpeQjA5A0JV8yEUQwtCVVloe/s7AP4HeHUxitt0VV28gaNAdRWV8+a7iLT7lmNx9BOOWZ3h3h+7FSkHImMVOG5MnSVqwhznQFPqxykQjapcN4ZoKGvjYt172I4C2++1dOS2s3LYabGtCR8I3CxxNmyTqKkYHTmXOkvX1jfCAuBnxO2PSJff6wzfvpJFkBaUZV+2X505TMugd2Sid2WKyDGviN3hzT5W3ByxS+jm45k2DI/+bNxGxpkZxWn3U6yM0XNsTrZEKlvUQSQLQqps4qjxq/Py7u4Ofs1OGoPdO2dg0m6E6p+ZtaCdNQWvDycsSc4Bl0NKVTZ0dNBWkpMiKltsQL9/HFCnaBYsnjdG4oThqTmaPD6/PUYb1ZOfGFkal7r4eUtbwTiytlad7do5yEVS1Wk3yFkTcNujevN2fb0vqLYHpqm6NE1H4lO7kZo88VvWawa9RX/qJ4ynJ2VpN2CH4SdnAIm7TuVvjLpAoYyDE6lHV6hfvRkNh+Eu/KT+TIAmu0EnrlzjaaUudsGSD/OnrHPI/vqYMmrV4yHF6mftyPYvd/OlkeUjE4sFd59W/chnd6cbc5YtXG16JXOiurG9VQA6OzdwITnxBosEjzN1OdjG0X4EaQ9q5177cztvzP3s3b13Js9mTvu5y9F7KfO/5Md7sOA36rCrpJvl5nZm+EcGYy/OtUQXs10bs4U7pO+tjALY7lDh/KkkgsiEVLN31FXKaHoqicLv7bC5bwSdNbN3LGdCg+bAaJk73X/XNX9LqXsdfe3dOOSYQd/Ak3cB9RIzEQKxmlTPEosDQC7PzbMpJtd4t4OPLsKtZ/HYMz2ztg8myjNa1Wd5KElVPdGGgIPIqSqkedT+I/rw+qKxMliMn5dUO2CkPjMCtx5kPeLcRLGrJFzQ4G8YrvkzHyan0RjmX1/BCZlCp24QNDJ/1f14GQ9ucTe4QYEJkvCLYllKFNuM/pXn2+6N0QV8faSmvpT+9rZn5/ztLVgxyY/D4VCzcwMxPYQ9ymPWmWdAZ/nV/we8bspA/xQAAA==\n</code></pre>\n\n<p>How can I convert this back to plain text CSS file via PHP or Perl?</p>\n"}, {"tags": ["perl", "hex"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1438023917, "post_id": 31661087, "comment_id": 51267120, "body": "This is pretty straightforward, it might be useful to look through a pattern matching tutorial for Perl. A few other questions: What have you tried so far? What makes up a &quot;valid&quot; hexadecimal number?"}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "edited": false, "score": 0, "creation_date": 1438026186, "post_id": 31661087, "comment_id": 51268394, "body": "With a regular expression. <code>man perlre</code>"}, {"owner": {"reputation": 363, "user_id": 1812471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/rpmGP.jpg?s=128&g=1", "display_name": "AgileDan", "link": "https://stackoverflow.com/users/1812471/agiledan"}, "edited": false, "score": 0, "creation_date": 1438027373, "post_id": 31661087, "comment_id": 51269050, "body": "There is a Data::Validate <code>is_hex</code> method that you could look at, too."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1438026499, "post_id": 31661227, "comment_id": 51268565, "body": "There&#39;s also <code>[:xdigit:]</code> and <code>\\p{PosixXDigit}</code>."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 3, "last_activity_date": 1438023965, "last_edit_date": 1438023965, "creation_date": 1438023813, "answer_id": 31661227, "question_id": 31661087, "link": "https://stackoverflow.com/questions/31661087/check-if-string-is-hex-that-starts-with-0x-perl/31661227#31661227", "title": "Check if string is hex that starts with &quot;0x...&quot; Perl", "body": "<p>The following operation returns a Boolean value.</p>\n\n<pre><code>$string =~ /^0x[0-9A-F]+$/i\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "is_accepted": false, "score": 2, "last_activity_date": 1438033645, "last_edit_date": 1438033645, "creation_date": 1438025719, "answer_id": 31661745, "question_id": 31661087, "link": "https://stackoverflow.com/questions/31661087/check-if-string-is-hex-that-starts-with-0x-perl/31661745#31661745", "title": "Check if string is hex that starts with &quot;0x...&quot; Perl", "body": "<p>You can use this and not reinvent the wheel :-)</p>\n\n<pre><code>use Regexp::Common qw(number);\nprint \"$string is hex\\n\" if $string =~ /^0x$RE{num}{int}{-base =&gt; 16}{-sign =&gt; ''}$/i\n</code></pre>\n\n<p>You can find more information in <a href=\"https://metacpan.org/pod/release/ABIGAIL/Regexp-Common-2013031301/lib/Regexp/Common/number.pm\" rel=\"nofollow\">the documentation of Regexp::Common::number</a>. This pattern above is for hexadecimal integers, you can allow or restrict more variants using options of the module.</p>\n"}], "owner": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1979, "favorite_count": 0, "accepted_answer_id": 31661227, "answer_count": 2, "score": 2, "last_activity_date": 1438033645, "creation_date": 1438023350, "question_id": 31661087, "link": "https://stackoverflow.com/questions/31661087/check-if-string-is-hex-that-starts-with-0x-perl", "title": "Check if string is hex that starts with &quot;0x...&quot; Perl", "body": "<p>How would I check if a string:</p>\n\n<ol>\n<li>Starts with \"0x\"</li>\n<li>Is a valid hex number </li>\n</ol>\n\n<p>So for example:</p>\n\n<pre><code># Returns false\n$string = \"0213\"\n\n# Returns false\n$string = \"0xHHH\"\n\n# Returns true\n$string = \"0x123456789abcdefABCDEF\"\n</code></pre>\n"}, {"tags": ["perl", "file"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1438023306, "creation_date": 1438023306, "answer_id": 31661073, "question_id": 31660871, "link": "https://stackoverflow.com/questions/31660871/checking-to-see-if-txt-files-exist-using-perl-script/31661073#31661073", "title": "checking to see if txt files exist using perl script", "body": "<p>It's simplest to use <code>glob</code> to get a list of all files ending with <code>.txt</code> in that directory. It avoids shelling out to use <code>ls</code></p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $dir = '/home/textfile';\nmy @files = glob \"$dir/*.txt\";\n\nprint \"No \" unless @files;\nprint \"Text file exist\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1438023441, "creation_date": 1438023441, "answer_id": 31661118, "question_id": 31660871, "link": "https://stackoverflow.com/questions/31660871/checking-to-see-if-txt-files-exist-using-perl-script/31661118#31661118", "title": "checking to see if txt files exist using perl script", "body": "<p>From <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\"><code>perldoc</code></a> about the -X file test operators:</p>\n\n<blockquote>\n  <p>A file test, where X is one of the letters listed below. This unary\n  operator takes one argument, either a filename, a filehandle, or a\n  dirhandle, and tests the associated file to see if something is true\n  about it.</p>\n</blockquote>\n\n<p>In wrapping the <code>ls</code> command in double quotes you are hoping to test the filenames that are returned by <code>ls</code> but in reality you are testing for the existence of a file named <code>'ls *.txt'</code>. </p>\n\n<p>There are a couple of options, you could use <code>ls</code> in a separate step to get all of text file name then test for the existence of a single one. </p>\n\n<pre><code>my @text_files = `ls *.txt`;\nchomp(@text_files);\n\nif ( -e $text_files[0] ) {\n   ...\n}\nelse {\n   ...\n}\n</code></pre>\n\n<p>but since <code>ls</code> will <em>only</em> return existing file the <code>-e</code> check here is not needed at all. You can simply say:</p>\n\n<pre><code>my @text_files = `ls *.txt`;\nif ( @text_files ) {\n    print \"Text file exist\"\n}\nelse {\n    print \"No Text file exist\"\n}\n</code></pre>\n\n<p>I should also not that since you don't use <code>$dir</code> in your <code>ls</code> command you are not actually looking in the <code>$dir</code> directory but the current working directory. You would need to add <code>$dir</code> to the <code>ls</code> command:</p>\n\n<pre><code>my @text_files = `ls $dir/*.txt`;\nif ( @text_files ) {\n    print \"Text file exist\"\n}\nelse {\n    print \"No Text file exist\"\n}\n</code></pre>\n\n<p>Alternatively you can use the <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\"><code>glob</code></a> builtin instead of shelling out to <code>ls</code> and let Perl manage how to actually read the files. This is generally the more robust and maintainable solution:</p>\n\n<pre><code>my @text_files = glob(\"$dir/*.txt\");\nif ( @text_files ) {\n    print \"Text file exist\"\n}\nelse {\n    print \"No Text file exist\"\n}\n</code></pre>\n"}], "owner": {"reputation": 789, "user_id": 3586305, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/464ee72c175d2c8cbb8488ec020ef5b8?s=128&d=identicon&r=PG&f=1", "display_name": "jms1980", "link": "https://stackoverflow.com/users/3586305/jms1980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1742, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438023441, "creation_date": 1438022668, "question_id": 31660871, "link": "https://stackoverflow.com/questions/31660871/checking-to-see-if-txt-files-exist-using-perl-script", "title": "checking to see if txt files exist using perl script", "body": "<p>I have a directory /home/textfile/</p>\n\n<p>I want to use a perl script to check to see if *.txt file exist in this directory or not.  If they do I want to have it say \"Text files exist\".  Other if there are no text files in the directory I want it to say \"No text files exist\".  The text files could have any name I just want to check if there is a text file in that directory /home/textfile.</p>\n\n<p>Below is the script I am trying to use:</p>\n\n<pre><code>$filedir=\"/home/textfile/\";\nchdir($filedir);\nif (-e \"`ls *.txt`\")\n{\n    print STDOUT \"Text file exist\"\n}\nelse \n{\n    print STDOUT \"No Text file exist\"\n}\n</code></pre>\n\n<p>Can you help me fix this script so it will do what I am looking for it to do?</p>\n"}, {"tags": ["arrays", "perl", "arrayref"], "answers": [{"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 3, "last_activity_date": 1438022529, "creation_date": 1438022529, "answer_id": 31660825, "question_id": 31660229, "link": "https://stackoverflow.com/questions/31660229/joining-an-array-of-arrays/31660825#31660825", "title": "Joining an array of arrays", "body": "<p>I would suggest starting with an array of indexes, and then iterate through all combinations:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse feature qw(say);\n\nmy @array = (\n    [qw(foo fun)],\n    [qw(bar bun blip)],\n    [qw(baz zun)],\n);\n\nmy @index = (0) x @array;\n\nSET:\nwhile (1) {\n    my @set = map { $array[$_][ $index[$_] ] } (0 .. $#index);\n\n    say \"@set\";\n\n    $index[-1]++;\n\n    for my $i (reverse 0 .. $#index) {\n        if ($index[$i] &gt; $#{ $array[$i] }) {\n            $index[$i] = 0;\n            if ($i &gt; 0) {\n                $index[$i - 1]++;\n            } else {\n                last SET;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>foo bar baz\nfoo bar zun\nfoo bun baz\nfoo bun zun\nfoo blip baz\nfoo blip zun\nfun bar baz\nfun bar zun\nfun bun baz\nfun bun zun\nfun blip baz\nfun blip zun\n</code></pre>\n\n<p>There are cpan modules to do this type of combination, but don't know them off hand.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "edited": false, "score": 2, "creation_date": 1438031390, "post_id": 31661319, "comment_id": 51271241, "body": "(But I suspect <a href=\"http://stackoverflow.com/a/31660825\">Miller&#39;s answer</a> is better than mine for large arrays. His uses two loops, whereas mine uses three. And mine loads a lot of stuff into memory that his doesn&#39;t.)"}], "tags": [], "owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "is_accepted": false, "score": 1, "last_activity_date": 1438025782, "last_edit_date": 1438025782, "creation_date": 1438024151, "answer_id": 31661319, "question_id": 31660229, "link": "https://stackoverflow.com/questions/31660229/joining-an-array-of-arrays/31661319#31661319", "title": "Joining an array of arrays", "body": "<p>I did this and it worked:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @arry= ();\n$arry[0] = ['foo', 'fun'];\n$arry[1] = ['bar', 'bun', 'blip'];\n$arry[2] = ['baz', 'zun'];\n\nmy @combos = ();\n$combos[0] = [''];\n\nfor my $i (1 .. @arry) {\n  for my $j (0 .. @{$combos[$i - 1]} - 1) {\n    push @{$combos[$i]}, \"$combos[$i - 1][$j] $_\" for @{$arry[$i - 1]};\n  }\n}\nmy @goodcombos = @{$combos[-1]};\ns/^ // for @goodcombos;\nprint \"$_\\n\" for @goodcombos;\n</code></pre>\n\n<p>It builds up the required concatenations, storing the first terms in <code>$combos[1]</code>, the concatenations of the first 2 terms in <code>$combos[2]</code>, the concatenations of the first 3 terms in <code>$combos[3]</code>, and so on.</p>\n"}], "owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 31660825, "answer_count": 2, "score": 1, "last_activity_date": 1443714947, "creation_date": 1438020497, "last_edit_date": 1443714947, "question_id": 31660229, "link": "https://stackoverflow.com/questions/31660229/joining-an-array-of-arrays", "title": "Joining an array of arrays", "body": "<p>I have an array <code>@ary</code> of unknown size. Each element, <code>$ary[$i]</code>, is an arrayref of unknown size. Each element of <em>that</em>, <code>$ary[$i][$j]</code>, is a string.</p>\n\n<p>I wish to concatenate all of the <code>$ary[0][$j]</code> with all of the <code>$ary[1][$j]</code> with all of the\u2026 and so on.</p>\n\n<p>That is, suppose my array looks like this:</p>\n\n<pre><code>$ary[0] = ['foo', 'fun'];\n$ary[1] = ['bar', 'bun', 'blip'];\n$ary[2] = ['baz', 'zun'];\n</code></pre>\n\n<p>Then I'd want the <code>return</code> to be:</p>\n\n<pre><code>(\n'foo bar baz',\n'foo bar zun',\n'foo bun baz',\n'foo bun zun',\n'foo blip baz',\n'foo blip zun',\n'fun bar baz',\n'fun bar zun',\n'fun bun baz',\n'fun bun zun',\n'fun blip baz',\n'fun blip zun'\n)\n</code></pre>\n\n<p>(Alternatively, the <code>return</code> could be an array of arrayrefs: <code>(['foo', 'bar', 'baz'], ['foo', 'bar', 'zun'], \u2026)</code>.)</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["arrays", "linux", "perl", "file", "hash"], "comments": [{"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "edited": false, "score": 1, "creation_date": 1438010743, "post_id": 31657019, "comment_id": 51259034, "body": "That&#39;s not because of the typo in <code>exce</code> is it?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1438010992, "post_id": 31657019, "comment_id": 51259193, "body": "Use meaningful variable names, use <a href=\"http://p3rl.org/File::Copy\" rel=\"nofollow noreferrer\">File::Copy</a>, indent the code. There&#39;s no operator between <code>$tmpvar1</code> and <code>$tmpvar3</code>."}, {"owner": {"reputation": 18565, "user_id": 10593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3eeb7653c4df9b0f1332b9b0ec201ec?s=128&d=identicon&r=PG", "display_name": "Max Lybbert", "link": "https://stackoverflow.com/users/10593/max-lybbert"}, "edited": false, "score": 1, "creation_date": 1438011168, "post_id": 31657019, "comment_id": 51259305, "body": "split works.  Personally, I would use Text::CSV ( <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">metacpan.org/pod/Text::CSV</a> ), especially the functions that allow you to access the fields by name via a hash reference."}, {"owner": {"reputation": 69, "user_id": 5151897, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ba0d382ac3f01a7c3f00aafdab2cb5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/5151897/mahesh"}, "edited": false, "score": 0, "creation_date": 1438011332, "post_id": 31657019, "comment_id": 51259434, "body": "thanks for your comments. But I would like to know if there is a better approach to handle this type of tasks. like using an array/hash which might be a more straightforward and elegant."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438011450, "post_id": 31657019, "comment_id": 51259539, "body": "<code>tempvar</code> is a bad name, but similarly if you&#39;re using meaningful - but numbered - variables, you should probably be using a list instead."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1438011319, "last_edit_date": 1438011319, "creation_date": 1438011177, "answer_id": 31657235, "question_id": 31657019, "link": "https://stackoverflow.com/questions/31657019/perl-how-to-read-every-single-line-from-delimited-txt-file-and-process-it/31657235#31657235", "title": "Perl - How to read every single line from delimited txt file and process it", "body": "<p>Use meaningful variable names (not <code>$tempvar</code>). Once you start using them (<code>$file_name</code>), make sure the variable really contains what its name hints (it doesn't) and use it everywhere (i.e., don't split <code>$_</code>).</p>\n\n<p>To copy files, use <a href=\"http://p3rl.org/File::Copy\" rel=\"nofollow\">File::Copy</a>. It comes with Perl from version 5.002.</p>\n\n<p>Indent the code to improve readability.</p>\n\n<p>Don't post code that throws syntax errors to SO.</p>\n\n<pre><code>Scalar found where operator expected at /home/choroba/1.pl line 6, near \"$tmpvar1 $tmpvar3\"\n        (Missing operator before $tmpvar3?)\n</code></pre>\n\n<p>Possible fix:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse File::Copy;\n\nopen my $IN, '&lt;', $inputFile or die $!;\nwhile (my $line = &lt;$IN&gt;) {\n    chomp $line;\n    my ($name, $source, $destination) = split /:/, $line;\n    copy(\"$source/$name\", \"$destination/$name\")\n        or warn \"Copying $name from $source to $destination failed: $!\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 0, "last_activity_date": 1438011311, "creation_date": 1438011311, "answer_id": 31657288, "question_id": 31657019, "link": "https://stackoverflow.com/questions/31657019/perl-how-to-read-every-single-line-from-delimited-txt-file-and-process-it/31657288#31657288", "title": "Perl - How to read every single line from delimited txt file and process it", "body": "<pre><code>use strict;\nuse warnings;\nuse File::Copy;\n\nopen my $file, \"&lt;\", $inputFile or die $!;\nwhile( my $line=&lt;$file&gt; )\n{\n    chomp $line;\n    my ($tmpvar1, $tmpvar2, $tmpvar3) = split(/:/, $line);\n    copy \"$tmpvar2/$tmpvar1\", $tmpvar3;\n}\nclose $file;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1438022166, "creation_date": 1438022166, "answer_id": 31660700, "question_id": 31657019, "link": "https://stackoverflow.com/questions/31657019/perl-how-to-read-every-single-line-from-delimited-txt-file-and-process-it/31660700#31660700", "title": "Perl - How to read every single line from delimited txt file and process it", "body": "<p>The best practice is to manipulate filename and file itself using core modules <a href=\"http://perldoc.perl.org/index-modules-F.html\" rel=\"nofollow\">File::*</a>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse File::Copy qw(cp);\nuse File::Spec::Functions;\n\nwhile (&lt;&gt;) {\n    chomp;\n    ( my ( $name, $source, $destination ) = split /:/ ) == 3\n        or die \"Broken data on line $.:$_\\n\";\n    -d $destination or die \"Destination $destination doesn't exist.\\n\";\n    my $src = catfile( $source, $name );\n    cp( $src, $destination ) or die \"Can't copy $src -&gt; $destination\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5151897, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ba0d382ac3f01a7c3f00aafdab2cb5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/5151897/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1438022166, "creation_date": 1438010602, "last_edit_date": 1438010938, "question_id": 31657019, "link": "https://stackoverflow.com/questions/31657019/perl-how-to-read-every-single-line-from-delimited-txt-file-and-process-it", "title": "Perl - How to read every single line from delimited txt file and process it", "body": "<p>I have a text file which is delimited by \":\"</p>\n\n<p>It has 3 fields</p>\n\n<p>field-1-->name of a file</p>\n\n<p>field-2-->source path of the file</p>\n\n<p>field-3-->destination path of the file</p>\n\n<p>Eg.</p>\n\n<pre><code>helloWorld.txt:/home/abc:/home/xyz\n</code></pre>\n\n<p>Now i have to copy this file helloWorld.txt from its source path to destination path.</p>\n\n<p>And this needs to be done for all the lines available in the text file.</p>\n\n<p>I am not sure what i am trying is best practice. It did not work however.</p>\n\n<p>Can someone please tell the best way to accomplish this? </p>\n\n<p>many thanks</p>\n\n<pre><code>    open FILE, $inputFile or die $!;\n    while(my $file_name=&lt;FILE&gt;)\n    {\n    my ($tmpvar1, $tmpvar2, $tmpvar3) = split(/:/, $_);\n    my $command = \"cp \".$tmpvar2. \"/\". $tmpvar1 $tmpvar3;\n    exce $command;\n    }\n</code></pre>\n"}, {"tags": ["arrays", "perl", "list", "loops"], "comments": [{"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1438011903, "post_id": 31656928, "comment_id": 51259820, "body": "Why don&#39;t you just use Data Dumper?"}, {"owner": {"reputation": 37, "user_id": 4961610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/61062fc7888a315d93d8c79dd1ff3c37?s=128&d=identicon&r=PG&f=1", "display_name": "XeroG", "link": "https://stackoverflow.com/users/4961610/xerog"}, "reply_to_user": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1438012415, "post_id": 31656928, "comment_id": 51260214, "body": "Primarily because I want to be able to know how to do it myself in order to make myself a better programmer, but also because this code will be run as a plugin to a government application that only supports a very old version of perl (don&#39;t ask, it doesn&#39;t make any sense) and I have had issues in the past using libraries not in the core perl distribution."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438013311, "post_id": 31656928, "comment_id": 51260855, "body": "<code>say &quot;@$_&quot; for @points;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1438015645, "post_id": 31656928, "comment_id": 51262227, "body": "@XeroG Data::Dumper was first released with Perl 5.005 in 1998. You must be using a very old version of Perl, indeed!"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4961610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/61062fc7888a315d93d8c79dd1ff3c37?s=128&d=identicon&r=PG&f=1", "display_name": "XeroG", "link": "https://stackoverflow.com/users/4961610/xerog"}, "edited": false, "score": 0, "creation_date": 1438011601, "post_id": 31657062, "comment_id": 51259639, "body": "This does it! I knew that I was making a mistake somewhere with references, however I did not realize that you have to explicitly dereference an array in order to then use and manipulate it. Thank you very much for your answer!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1438011748, "last_edit_date": 1438011748, "creation_date": 1438010693, "answer_id": 31657062, "question_id": 31656928, "link": "https://stackoverflow.com/questions/31656928/print-a-list-of-arrays-in-perl/31657062#31657062", "title": "Print a List of Arrays in Perl?", "body": "<p>You're doing two dimensional iteration so you need a two dimensional loop. The way perl does two dimensional data structures is via references. </p>\n\n<p>In your example - <code>@points</code> isn't a 2d structure, it's a list of references - which is why if you print it you get:</p>\n\n<pre><code>print \"@points\";\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>ARRAY(0x4a6dec) ARRAY(0x4a6fb4) ARRAY(0x12fef64)\n</code></pre>\n\n<p>So you need to dereference each of those elements. There's several ways to do this, but essentially <code>@{$reference}</code> is how it works. </p>\n\n<p>There are a few ways of accomplishing the task, but essentially:</p>\n\n<pre><code>foreach my $group ( @points ) { \n    print join (\"\\n\", @$group ),\"\\n\"; \n}\n</code></pre>\n\n<p>For example - join is one iterate, foreach is another. (Note - <code>@$group</code> and <code>@{$group}</code> mean the same thing, so you don't need the braces. If you were trying to do @$group[1] you would need it, to disambiguate whether you were after <code>@{$group[1]}</code> or <code>@{$group}[1]</code>)</p>\n\n<p>Or for another:</p>\n\n<pre><code>use feature qw ( say );\nsay for map { @$_ } @points;\n</code></pre>\n\n<p>This is making use of the fact that <code>map</code> is applying a transform to each element of <code>@points</code>, and that \"transform\" is simply \"dereference and give me the elements\". </p>\n\n<p>Of course, then you have 'smashed flat' <code>@points</code> and not retained their mutual association. </p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 4961610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/61062fc7888a315d93d8c79dd1ff3c37?s=128&d=identicon&r=PG&f=1", "display_name": "XeroG", "link": "https://stackoverflow.com/users/4961610/xerog"}, "edited": false, "score": 0, "creation_date": 1438011696, "post_id": 31657080, "comment_id": 51259694, "body": "Thank you very much for the help. I was not familiar with the process of dereferencing and that is where I was getting stuck."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1438010738, "creation_date": 1438010738, "answer_id": 31657080, "question_id": 31656928, "link": "https://stackoverflow.com/questions/31656928/print-a-list-of-arrays-in-perl/31657080#31657080", "title": "Print a List of Arrays in Perl?", "body": "<p>You need to use the <code>@{ ... }</code> sigil to <em>dereference</em> your array references. This will give you a plain array that you can print directly or manipulate with the <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow\"><code>join</code></a> builtin to get better formatted output:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @points = ([34.2,17.5],[-64.1, 110.35],[54.8,77.1]);\nprint join(',', @$_), \"\\n\" foreach my @points;\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>34.2,17.5\n-64.1,110.35\n54.8,77.1\n</code></pre>\n\n<p>You should note that I placed parentheses around your definition of the <code>@points</code> array:</p>\n\n<pre><code>my @points = ([34.2,17.5],[-64.1, 110.35],[54.8,77.1]);\n</code></pre>\n\n<p>these parentheses are required due to how <a href=\"http://perldoc.perl.org/perlop.html#Comma-Operator\" rel=\"nofollow\">lists are constructed in Perl</a>, without them present <code>@points</code> would only be assigned the final array reference of <code>[54.8,77.1]</code></p>\n"}, {"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 1, "last_activity_date": 1438011925, "creation_date": 1438011925, "answer_id": 31657515, "question_id": 31656928, "link": "https://stackoverflow.com/questions/31656928/print-a-list-of-arrays-in-perl/31657515#31657515", "title": "Print a List of Arrays in Perl?", "body": "<p>You may use the <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow\">Data::Dumper</a> CPAN module, it's simple:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @points = ( [34.2,17.5], [-64.1, 110.35], [54.8,77.1] );\n$Data::Dumper::Terse = 1;\nprint Dumper(\\@points), \"\\n\";\n\n#---&gt; prints:\n[\n  [\n    '34.2',\n    '17.5'\n  ],\n  [\n    '-64.1',\n    '110.35'\n  ],\n  [\n    '54.8',\n    '77.1'\n  ]\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "is_accepted": false, "score": 0, "last_activity_date": 1438011926, "creation_date": 1438011926, "answer_id": 31657517, "question_id": 31656928, "link": "https://stackoverflow.com/questions/31656928/print-a-list-of-arrays-in-perl/31657517#31657517", "title": "Print a List of Arrays in Perl?", "body": "<p>One More solution for this, although I changed <code>@points</code> to <code>reference</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $points = [[34.2,17.5],[-64.1, 110.35],[54.8,77.1]];\n\nfor(my $i = 0; $i&lt;=6; $i++)\n{\n    print $points-&gt;[$i]-&gt;[0];\n    print \"\\n\";\n    print $points-&gt;[$i]-&gt;[1];\n    print \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4961610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/61062fc7888a315d93d8c79dd1ff3c37?s=128&d=identicon&r=PG&f=1", "display_name": "XeroG", "link": "https://stackoverflow.com/users/4961610/xerog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 31657062, "answer_count": 4, "score": 0, "last_activity_date": 1438011926, "creation_date": 1438010351, "question_id": 31656928, "link": "https://stackoverflow.com/questions/31656928/print-a-list-of-arrays-in-perl", "title": "Print a List of Arrays in Perl?", "body": "<p>I am attempting write code that will allow me to print a list of arrays in Perl. </p>\n\n<p>I have a list of arrays of GPS coordinates called <code>@points</code> that is formatted with arrays of lat/lon like so:</p>\n\n<pre><code>@points = [34.2,17.5],[-64.1, 110.35],[54.8,77.1], and so on and so forth\n</code></pre>\n\n<p>I am able to print the list itself using <code>print \"$_\\n\" for @points;</code>, however this only gives me the memory reference for the array. I know that you can't just print arrays like you can strings or integers however I am stuck on how to actually iterate through the list and print the integers. I tried using a foreach loop and @_ to print at each increment however that didn't work for me either. If anyone is able to give me any direction on this it would be greatly appreciated.</p>\n"}, {"tags": ["perl", "count", "counter"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1438010156, "post_id": 31656462, "comment_id": 51258649, "body": "You should <i>always</i> begin a Perl program with <code>use strict</code> and <code>use warnings</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438010206, "post_id": 31656462, "comment_id": 51258683, "body": "Welcome to Stack Overflow and to the perl tag. You should start by adding <code>use strict</code> and <code>use warnings</code> to your program and declaring all your variables with <code>my $foo</code>. Then a word on naming variables: in Perl it is best practice to have lowercase variable names that use underscores. CAPS-ONLY variables should only be used for globals. Try to use speaking names for stuff. There are a few more conventions, like using <code>$fh</code> for a filehandle (if there is only one) and <code>$i</code> as a loop iterator. That said, please indent your code properly and <a href=\"https://stackoverflow.com/posts/31656462/edit\">edit</a> your question."}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438010222, "post_id": 31656462, "comment_id": 51258694, "body": "I will edit this code to include that, but why exactly should I @Borodin"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438010272, "post_id": 31656462, "comment_id": 51258724, "body": "Also please include sample input. And see my comment for an answer to your question regarding @borodin&#39;s comment."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438010672, "post_id": 31656462, "comment_id": 51258978, "body": "After taking a closer look at the code... <b>please do post example input</b>. There are some issues with your code that I can&#39;t fix simply because I don&#39;t understand what you are trying to do. I&#39;m currently just trying to make it compile with <code>strict</code> and <code>warnings</code> but that&#39;s kinda hard."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438011103, "post_id": 31656462, "comment_id": 51259265, "body": "@Michaela: Please see my answer below"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1438011962, "post_id": 31656462, "comment_id": 51259857, "body": "When we say &quot;programs should include <code>strict</code> and <code>warnings</code>&quot; that also means &quot;and the code should compile and run when you have&quot;. Whilst editing them in is nice, what you need do next is actually make your program work, and see if the problem goes away."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1438019799, "post_id": 31657193, "comment_id": 51264623, "body": "That runs perfectly thank you thank you thank you @Borodin"}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1438021746, "post_id": 31657193, "comment_id": 51265807, "body": "If you have the time @Borodin , could you explain how your code works, and why it is superior to mine, so I can learn and become better?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1438022921, "post_id": 31657193, "comment_id": 51266534, "body": "@Michaela: Sure. I&#39;ll write some notes for you tomorrow"}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1438028690, "post_id": 31657193, "comment_id": 51269760, "body": "Thank you so much @Borodin"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1438020160, "last_edit_date": 1438020160, "creation_date": 1438011079, "answer_id": 31657193, "question_id": 31656462, "link": "https://stackoverflow.com/questions/31656462/how-to-troubleshoot-code-when-it-is-printing-entire-column-file-as-opposed-to-li/31657193#31657193", "title": "How to troubleshoot code when it is printing entire column file as opposed to line being searched for? perl", "body": "<p>The <code>use strict</code> and <code>use warnings</code> pragmas provide a lot of information and assistance with writing clean code. Most importantly, you are required to declare all of your variables with <code>my</code> before you use them. That will pick up misspellings of identifiers</p>\n\n<p>For instance, your first loop builds the <code>%DISEASEslashTRAIThash</code> hash, but in your second loop you are using <code>%DISEASEslashTRAIT</code>. You also have <code>exists $$DISEASEslashTRAIT{\"$usrin\"}</code> which should have just a single dollar sign, and <code>warnings</code> would have picked that up</p>\n\n<p>Here's how I would write your program. It is best to avoid capitals in local variables</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nopen my $in_fh, '&lt;', 'file.test' or die $!;\nmy %disease_traits;\nwhile ( &lt;$in_fh&gt; ) {\n    chomp;\n    my $disease_trait = (split /\\t/)[7];\n    ++$disease_traits{$disease_trait} if $disease_trait;\n}\n\nwhile () {\n    my $usrin = \"Maximal oxygen uptake response\";\n    # my $usrin = &lt;&gt;;\n    chomp $usrin;\n    my $count = $disease_traits{$usrin};\n    if ( defined $count ) {\n        print qq{\\n \"$usrin\" is published $disease_traits{$usrin} times within file.\\n};\n        last;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505028036, "creation_date": 1438008985, "last_edit_date": 1505028036, "question_id": 31656462, "link": "https://stackoverflow.com/questions/31656462/how-to-troubleshoot-code-when-it-is-printing-entire-column-file-as-opposed-to-li", "title": "How to troubleshoot code when it is printing entire column file as opposed to line being searched for? perl", "body": "<p>I have been working on this code for a few days and am having an issue in the final leg. The goal is to have the file print out the amount of times a \"disease/trait\" appears in a file., using a counter The issue is that the code simply prints out everything in the one column of the array, as opposed to the amount of times it was searched for. I'm assuming this is an issue with the counter half of the code.</p>\n\n<pre><code>    #!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy %TRAIThash;\nmy $usrin = \"Leoprsy\";\nmy %DISEASEslashTRAIT;   \nopen (my $input, \"&lt;\", \"gwas_catalog_v1.0-downloaded_2015-07-08.test\") || die();\n\nwhile (&lt;$input&gt;) {\n    my @t = split (/\\t/);\n        my $tempVar = $t[7];\n        chomp($tempVar);\n        if (exists $DISEASEslashTRAIT{$tempVar}) {\n            $DISEASEslashTRAIT{$tempVar}++;\n    }\n        else  {\n            $DISEASEslashTRAIT{$tempVar}=1;\n    }\n}\n\nmy $DISEASEslashTRAITcount;\nprint $DISEASEslashTRAIT{\"$usrin\"}; \"\\n\";\nif (exists $DISEASEslashTRAIT{$usrin}) {\n    print \"\\n $usrin is published \".$DISEASEslashTRAIT{$usrin}.\" times within the gwas database.\\n\";\n}   \nelse {\n    print \"$usrin doesn't exist in the hash\\n\";\n    }\nclose ($input);\n</code></pre>\n\n<p>what I would like it to print is \"Maximal oxygen uptake response\" is published X times within file.\"</p>\n\n<p>I have looked through here and a few websites, but nothing has really worked when I have tried it. This has happened to me before so I would assume it is a common problem for those learning to code, but when this has happened I usually go back to the drawing board, so I'd like to find a way to solve this more simply. \nThe input is a 33 column code, and I am using a 10 line test file. I cannot copy it in, but it is the GWAS data file. I have added strict and warnings and it now runs, with the exact same problem </p>\n"}, {"tags": ["perl", "text", "replace", "awk", "sed"], "comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 1, "creation_date": 1438007989, "post_id": 31655988, "comment_id": 51257158, "body": "what do you mean with &quot;a @ exclusive&quot;? what have you tried so far? Try to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to have a better experience here."}, {"owner": {"reputation": 3, "user_id": 5161046, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153382652640295/picture?type=large", "display_name": "Joao Andrade", "link": "https://stackoverflow.com/users/5161046/joao-andrade"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1438008110, "post_id": 31655988, "comment_id": 51257240, "body": "No problems with understanding inclusive? Exclusive is the opposite.  I mean remove all lines between the first ### until it reaches the @. The line starting with @ is to be preserved.  I&#39;ve seen a couple of sed examples, which I use on a regular basis to remove/replace strings, but not to remove lines, and none suits my needs."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1438008191, "post_id": 31655988, "comment_id": 51257300, "body": "What have you tried? See <a href=\"http://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">How much research effort is expected of Stack Overflow users?</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438008586, "post_id": 31655988, "comment_id": 51257593, "body": "A BibTeX parser can also be used to strip comments, see for example: <a href=\"https://metacpan.org/pod/Text::BibTeX\" rel=\"nofollow noreferrer\">Text::BibTeX</a>"}, {"owner": {"reputation": 3, "user_id": 5161046, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153382652640295/picture?type=large", "display_name": "Joao Andrade", "link": "https://stackoverflow.com/users/5161046/joao-andrade"}, "edited": false, "score": 0, "creation_date": 1438008851, "post_id": 31655988, "comment_id": 51257768, "body": "This is like a one time job for which Text::BibTeX might be overkill, no?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5161046, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153382652640295/picture?type=large", "display_name": "Joao Andrade", "link": "https://stackoverflow.com/users/5161046/joao-andrade"}, "edited": false, "score": 0, "creation_date": 1438009163, "post_id": 31656440, "comment_id": 51257992, "body": "Well, I was hoping for a shorter sed command or so. But this does it for sure. Sorry, hadn&#39;t seen the output box when the answer came through. Super."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 3, "user_id": 5161046, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153382652640295/picture?type=large", "display_name": "Joao Andrade", "link": "https://stackoverflow.com/users/5161046/joao-andrade"}, "edited": false, "score": 2, "creation_date": 1438009234, "post_id": 31656440, "comment_id": 51258033, "body": "You never asked for a sed solution. You just mentioned that you had tried a sed command as a solution."}, {"owner": {"reputation": 3, "user_id": 5161046, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153382652640295/picture?type=large", "display_name": "Joao Andrade", "link": "https://stackoverflow.com/users/5161046/joao-andrade"}, "edited": false, "score": 0, "creation_date": 1438009544, "post_id": 31656440, "comment_id": 51258232, "body": "I had just refreshed the page to see the first code box but not the rest and I wrongly assumed it as java. Then after I posted the comment I the perl command and the output box displayed on the answer. Sed was not a requirement, you&#39;re right."}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "edited": false, "score": 0, "creation_date": 1438009747, "post_id": 31656440, "comment_id": 51258350, "body": "I&#39;m always a tad slow. But really, <code>perl -i -ne</code> is the way to go IMO."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1438009906, "post_id": 31656440, "comment_id": 51258468, "body": "I usually like to verify that the correct substitution was performed before replacing so I usually use <code>-i.bak</code> I just omitted it for this question"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 2, "last_activity_date": 1438009435, "last_edit_date": 1438009435, "creation_date": 1438008939, "answer_id": 31656440, "question_id": 31655988, "link": "https://stackoverflow.com/questions/31655988/replace-text-lines-between-two-characters/31656440#31656440", "title": "replace text lines between two characters", "body": "<p>A simple solution using a <code>$skip</code> sentinel value:</p>\n\n<pre><code>use strict;\nuse warnings; \n\nmy $skip = 0;\nwhile ( &lt;&gt; ) {\n   $skip = 1 if /^###/;\n   $skip = 0 if /^@/;\n   next if $skip;\n\n   print;\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[hmcmillen]$ perl test.pl &lt; test.txt \n@Article{goodnight2005,\n  author    = {Goodnight, N. and Wang, R. and Humphreys, G.},\n  journal   = {{IEEE Computer Graphics and Applications}},\n  title     = {{Computation on programmable graphics hardware}},\n  year      = {2005},\n  volume    = {25},\n  number    = {5},\n  pages     = {12-15}\n}\n\n@INPROCEEDINGS{Llosa-pact96,\n    author = {Josep Llosa and Antonio Gonz\u00e1lez and Eduard Ayguad\u00e9 and Mateo Valero},\n    title = {Swing Modulo Scheduling: A Lifetime-Sensitive Approach},\n    booktitle = {In IFIP WG10.3 Working Conference on Parallel Architectures and Compilation Techniques (PACT'96},\n    year = {1996},\n    pages = {80--86}\n}\n</code></pre>\n\n<p>If you really want it to be a single command: </p>\n\n<pre><code>perl -ne 'BEGIN { $SKIP = 1 } $SKIP = 1 if /^###/; $SKIP = 0 if /^@/; print unless $SKIP;' &lt; test.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 1, "last_activity_date": 1438010089, "last_edit_date": 1438010089, "creation_date": 1438009510, "answer_id": 31656654, "question_id": 31655988, "link": "https://stackoverflow.com/questions/31655988/replace-text-lines-between-two-characters/31656654#31656654", "title": "replace text lines between two characters", "body": "<p>Suppose your input files are all your <code>*.bib</code> files somewhere in the current directory or lower.</p>\n\n<p>Lemme be your <code>find</code> <code>perl</code> magician for the day:</p>\n\n<pre><code>find . -name '*.bib' -exec \\\nperl -i -ne '$o=1if/^@/;$o=0if/^###/;print if$o' \\{} \\;\n</code></pre>\n\n<p>If you can't read this, do not use it. E.G. it will strip anything before the first <code>@</code> line and won't consider indented <code>@</code> or <code>###</code> lines.</p>\n\n<p>There's also a good module called <code>File::Find</code>, read all about it with <code>perldoc File::Find</code>. Personally that won't keep this as one-liner-y.</p>\n"}, {"tags": [], "owner": {"reputation": 10152, "user_id": 2229272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oisED.png?s=128&g=1", "display_name": "jas", "link": "https://stackoverflow.com/users/2229272/jas"}, "is_accepted": false, "score": 0, "last_activity_date": 1438011962, "creation_date": 1438011962, "answer_id": 31657531, "question_id": 31655988, "link": "https://stackoverflow.com/questions/31655988/replace-text-lines-between-two-characters/31657531#31657531", "title": "replace text lines between two characters", "body": "<p>With awk:</p>\n\n<pre><code>$ awk '/###/{p=0} /@/{p=1} p' bib.text\n\n@Article{goodnight2005,\n  author    = {Goodnight, N. and Wang, R. and Humphreys, G.},\n  journal   = {{IEEE Computer Graphics and Applications}},\n  title     = {{Computation on programmable graphics hardware}},\n  year      = {2005},\n  volume    = {25},\n  number    = {5},\n  pages     = {12-15}\n}\n\n@INPROCEEDINGS{Llosa-pact96,\n    author = {Josep Llosa and Antonio Gonz\u00e1lez and Eduard Ayguad\u00e9 and Mateo Valero},\n    title = {Swing Modulo Scheduling: A Lifetime-Sensitive Approach},\n    booktitle = {In IFIP WG10.3 Working Conference on Parallel Architectures and Compilation Techniques (PACT'96},\n    year = {1996},\n    pages = {80--86}\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5161046, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153382652640295/picture?type=large", "display_name": "Joao Andrade", "link": "https://stackoverflow.com/users/5161046/joao-andrade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "closed_date": 1438017291, "accepted_answer_id": 31656440, "answer_count": 3, "score": -1, "last_activity_date": 1438011962, "creation_date": 1438007637, "last_edit_date": 1438008605, "question_id": 31655988, "link": "https://stackoverflow.com/questions/31655988/replace-text-lines-between-two-characters", "closed_reason": "Needs more focus", "title": "replace text lines between two characters", "body": "<p>I have a bibtex file that is the merging of several other .bib files. In the merging process all but one repeated entries were commented out so that all cases with repeated entries are just like below. Some of them have 20~30 entries commented out, making a 100 references file 30k lines of text long.</p>\n\n<pre><code>@Article{goodnight2005,\n  author    = {Goodnight, N. and Wang, R. and Humphreys, G.},\n  journal   = {{IEEE Computer Graphics and Applications}},\n  title     = {{Computation on programmable graphics hardware}},\n  year      = {2005},\n  volume    = {25},\n  number    = {5},\n  pages     = {12-15}\n}\n\n###Article{goodnight2005,\n  author    = {Goodnight, N. and Wang, R. and Humphreys, G.},\n  journal   = {{IEEE Computer Graphics and Applications}},\n  title     = {{Computation on programmable graphics hardware}},\n  year      = {2005},\n  volume    = {25},\n  number    = {5},\n  pages     = {12-15}\n}\n\n@INPROCEEDINGS{Llosa-pact96,\n    author = {Josep Llosa and Antonio Gonz\u00e1lez and Eduard Ayguad\u00e9 and Mateo Valero},\n    title = {Swing Modulo Scheduling: A Lifetime-Sensitive Approach},\n    booktitle = {In IFIP WG10.3 Working Conference on Parallel Architectures and Compilation Techniques (PACT'96},\n    year = {1996},\n    pages = {80--86}\n\n    }\n</code></pre>\n\n<p>How do I remove all lines starting with ### inclusive until the next line with a @ exclusive? In essence, my result file would be:</p>\n\n<pre><code>@Article{goodnight2005,\n      author    = {Goodnight, N. and Wang, R. and Humphreys, G.},\n      journal   = {{IEEE Computer Graphics and Applications}},\n      title     = {{Computation on programmable graphics hardware}},\n      year      = {2005},\n      volume    = {25},\n      number    = {5},\n      pages     = {12-15}\n    }\n\n@INPROCEEDINGS{Llosa-pact96,\n        author = {Josep Llosa and Antonio Gonz\u00e1lez and Eduard Ayguad\u00e9 and Mateo Valero},\n        title = {Swing Modulo Scheduling: A Lifetime-Sensitive Approach},\n        booktitle = {In IFIP WG10.3 Working Conference on Parallel Architectures and Compilation Techniques (PACT'96},\n        year = {1996},\n        pages = {80--86}\n\n        }\n</code></pre>\n\n<p>For instance sed '/###/,/@/{//!d}' bibliography.bib keeps the line starting with ###, but sed '/###/,/@/d' bibliography.bib makes the line starting with @ go away.</p>\n\n<p>Thank you so much for the help.</p>\n"}, {"tags": ["matlab", "perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 3, "creation_date": 1438004884, "post_id": 31654803, "comment_id": 51254869, "body": "There are several PerlMonks nodes about this: <a href=\"http://www.perlmonks.org/?node_id=642247\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=642247</a>, <a href=\"http://www.perlmonks.org/?node_id=818233\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=818233</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1438005230, "post_id": 31654803, "comment_id": 51255137, "body": "See also <a href=\"http://stackoverflow.com/questions/6657005/matlab-running-an-m-file-from-command-line\">Running an m-file from command-line</a>, and <a href=\"http://se.mathworks.com/help/matlab/ref/matlablinux.html\" rel=\"nofollow noreferrer\">Start MATLAB program from Linux system prompt</a>"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1438015061, "post_id": 31654803, "comment_id": 51261855, "body": "or <a href=\"https://metacpan.org/pod/Math::Matlab::Local\" rel=\"nofollow noreferrer\">metacpan.org/pod/Math::Matlab::Local</a>"}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1438077722, "post_id": 31654803, "comment_id": 51288609, "body": "@HunterMcMillen Thanks a lot! I found out the solution as you both mentioned in the links and then I am posting it here."}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1438077727, "post_id": 31654803, "comment_id": 51288612, "body": "@jm666 Thanks a lot! I found out the solution as you both mentioned in the links and then I am posting it here."}], "answers": [{"tags": [], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "is_accepted": true, "score": 1, "last_activity_date": 1438078158, "creation_date": 1438078158, "answer_id": 31673262, "question_id": 31654803, "link": "https://stackoverflow.com/questions/31654803/calling-matlab-from-perl-using-a-script/31673262#31673262", "title": "calling matlab from perl using a script", "body": "<p>One could write here an *.m file for Matlab without using Matlab text editor or just comment the following lines till line <code>EOF</code>.</p>\n\n<p>Start to write into 'Call_mfile.m' all lines after <code>print $matlab &lt;&lt;EOF;</code></p>\n\n<pre><code>open(my $matlab, '&gt;', 'Call_mfile.m');\nprint $matlab &lt;&lt;EOF;\n\n close all;\n clear all;\n clc;\n\n% write here your Matlab code\na = zeros(10)\n\n%--------------------------------------------------------------------------\nEOF\n###########################################################################\n# Use this command when you want to update your toolbox\n#system('matlab rehash toolboxcache')\n\n# Use this when you want to use Java interface!\n# Notice!!\n#    This could not then open another files which are called in Call_mfile.m \n#    file. Otherwise use the next command!\n\n#system('matlab -nojvm -r Call_mfile');\nsystem('matlab -r Call_mfile');\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 846, "favorite_count": 0, "accepted_answer_id": 31673262, "answer_count": 1, "score": 0, "last_activity_date": 1438078158, "creation_date": 1438004663, "question_id": 31654803, "link": "https://stackoverflow.com/questions/31654803/calling-matlab-from-perl-using-a-script", "title": "calling matlab from perl using a script", "body": "<p>I would like to know how one could call MATLAB from a Perl script?\nTo be exact, I want to run a *.m file with </p>\n\n<pre><code>a = zeros(10)\n</code></pre>\n\n<p>from Perl. by the way, I am using Eclipse as an IDE for Perl.</p>\n\n<p>I searched for a while, but could not find a clear answer.\nPlease help!</p>\n"}, {"tags": ["git", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1438003792, "post_id": 31654214, "comment_id": 51253994, "body": "Why do you have a <code>use vars</code> without a list of variable names? Maybe you should use <code>our</code> instead &amp;ndash; if you have something to declare globally. Also, which line is line 28? Please mark that. And as a suggestion, use Try::Tiny over TryCatch as it&#39;s much more lightweight."}, {"owner": {"reputation": 19, "user_id": 4537163, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Omt1Wff7SLM/AAAAAAAAAAI/AAAAAAAAAS4/4Bf2NO8q4fk/photo.jpg?sz=128", "display_name": "Jeya suriya", "link": "https://stackoverflow.com/users/4537163/jeya-suriya"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438004663, "post_id": 31654214, "comment_id": 51254712, "body": "I have mentioned that error line no 28 there: also as per your suggestion when I am using ours I am getting error like   Undefined subroutine &amp;main::ours called at Create_UnitTesting_Environment_and_Ru n_UnitTestSuites.pl line 28. I dont know what to do :( @sim"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438005471, "post_id": 31654214, "comment_id": 51255333, "body": "Your <code>$cfg</code> is undef, which means the call to <code>new Config::Simple</code> fails. Add an <code>or die $!</code> to that line and see what happens. And forget the part of <code>our</code>, you misunderstood that. Lets focus on the problem and not make more of them."}, {"owner": {"reputation": 19, "user_id": 4537163, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Omt1Wff7SLM/AAAAAAAAAAI/AAAAAAAAAS4/4Bf2NO8q4fk/photo.jpg?sz=128", "display_name": "Jeya suriya", "link": "https://stackoverflow.com/users/4537163/jeya-suriya"}, "reply_to_user": {"reputation": 20737, "user_id": 130659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3d3a2cce932eca144b8c13a63966404?s=128&d=identicon&r=PG", "display_name": "AlBlue", "link": "https://stackoverflow.com/users/130659/alblue"}, "edited": false, "score": 0, "creation_date": 1438056942, "post_id": 31654214, "comment_id": 51278346, "body": "Thank you @Alblue for correcting my question"}, {"owner": {"reputation": 19, "user_id": 4537163, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Omt1Wff7SLM/AAAAAAAAAAI/AAAAAAAAAS4/4Bf2NO8q4fk/photo.jpg?sz=128", "display_name": "Jeya suriya", "link": "https://stackoverflow.com/users/4537163/jeya-suriya"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438057092, "post_id": 31654214, "comment_id": 51278383, "body": "Hi @ Sim, I have changed my code like   <code># Load configuration file $cfg \t= new Config::Simple( &#39;D:\\\\Projects\\\\TeamCity\\\\LensXRay_V6_with_git_Trigger\\\\Creat&zwnj;&#8203;e_UnitTesting_Enviro&zwnj;&#8203;nment_and_Run_UnitTe&zwnj;&#8203;stSuites.cfg&#39; ) or die (&quot;$\\n&quot;); # Getting the values as a hash %config \t= $cfg.vars() ;</code>   Now also I am getting error like: Undefined subroutine &amp;main::vars called at Create_UnitTesting_Environment_and_Run_UnitTestSuites.pl at line 28  What is that subroutine I have missed to define ? Please correct me if I hv got anything wrong here :("}, {"owner": {"reputation": 19, "user_id": 4537163, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Omt1Wff7SLM/AAAAAAAAAAI/AAAAAAAAAS4/4Bf2NO8q4fk/photo.jpg?sz=128", "display_name": "Jeya suriya", "link": "https://stackoverflow.com/users/4537163/jeya-suriya"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438066661, "post_id": 31654214, "comment_id": 51281971, "body": "Hi @ sim..  It is working after I have added <code>or die (&quot;$\\n&quot;);</code> in that line . But my logic not checking out the repo from git it fails and showing error like  ` Checking out gitrepopath.git failed ` :("}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438067388, "post_id": 31654214, "comment_id": 51282342, "body": "You want <code>$!</code>, not <code>$</code>, and there is a difference in a <code>die</code> call with and without <code>&quot;\\n&quot;</code> at the end. I still don&#39;t get exactly what is going on here. Please <a href=\"https://stackoverflow.com/posts/31654214/edit\">edit</a> the question, update it with the latest version of your code and write out a clear question about what the problem is."}], "owner": {"reputation": 19, "user_id": 4537163, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Omt1Wff7SLM/AAAAAAAAAAI/AAAAAAAAAS4/4Bf2NO8q4fk/photo.jpg?sz=128", "display_name": "Jeya suriya", "link": "https://stackoverflow.com/users/4537163/jeya-suriya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 893, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1438032954, "creation_date": 1438003197, "last_edit_date": 1438032954, "question_id": 31654214, "link": "https://stackoverflow.com/questions/31654214/undefined-subroutine-mainvars-called-at", "title": "Undefined subroutine &amp;main::vars called at", "body": "<p>I am trying to checkout a repository with git. I have specified the git repo path and all directory path needed in <code>.cfg</code> file. Now I am trying to access that folder path and repo path from <code>.cfg</code> file by getting values as hash. I have also verified my code completely up to my understanding with Perl. But I am really tired of this for past two days. The error I am getting is </p>\n\n<pre><code>Undefined subroutine &amp;main::vars called at Create_UnitTesting_Environment_and_Ru\nn_UnitTestSuites.pl line 28.\n</code></pre>\n\n<p>and sometimes like this </p>\n\n<pre><code>Can't call method \"vars\" on an undefined value at Create_UnitTesting_Environment\n_and_Run_UnitTestSuites.pl line 28.\n</code></pre>\n\n<p>I can't figure it out - what I have missed to declare globally. Please anybody here help me resolve this.    </p>\n\n<pre><code>    use Config::Simple;\n    use vars;\n    use File::Copy;\n    use File::Copy::Recursive qw( dircopy );\n    use Git::Repository;\n    use Log::StdLog { level =&gt; 'all', file =&gt; \"$0.log\" };\n    use strict;\n    use warnings;\n    use TryCatch;\n    my ( $cfg, $current_dir, %config, $package_path, $installation_path );\n    # Load configuration file\n    $cfg    = new Config::Simple( 'D:\\\\Projects\\\\TeamCity\\\\LensXRay_V6_with_git_Trigger\\\\Create_UnitTesting_Environment_and_Run_UnitTestSuites.cfg' );\n    # Getting the values as a hash\n    #error line no 28\n    %config     = $cfg-&gt;vars();\n    my ($gitrepo_path, $git_checkout_path, $UnitTest_deployment, $UnitTest_bin_path);\n\n$gitrepo_path       = $config{\"CFG.gitrepo_path\"};\n$git_checkout_path  = $config{\"CFG.gitcheckout_path\"};\n$UnitTest_bin_path  = $config{\"CFG.UnitTest_bin_path\"};\n$UnitTest_deployment    = $config{\"CFG.UnitTest_deployment\"};\n\nCheckoutFromGit();\n\n\n# print $package_path .\"\\n\". $installation_path . \"\\n\\n\\n\\n\";\n\n\nsub CheckoutFromGit\n{\n    print {*STDLOG} info  =&gt; \"Checking out from GIT...\";\n        if( -d \"$git_checkout_path\" )\n        {\n            try\n            {\n                my ($work_dir, $git_run, $msg);\n\n                $work_dir   =  \"$git_checkout_path\";\n\n                $git_run    = Git::Repository-&gt;new( work_tree=&gt;$work_dir );\n\n                print {*STDLOG} info  =&gt; \"Checking out \". $gitrepo_path . \"...\";\n\n                print {*STDLOG} info  =&gt; \"$msg\";\n\n\n                print {*STDLOG} info  =&gt; \"$msg\";\n            }\n            catch { print {*STDLOG} error  =&gt; \"Checking out $gitrepo_path failed\"; die \"Checking out $gitrepo_path.git failed\"; }\n        }\n        else\n        {\n            try\n            {\n                my ($git_url, $work_dir);\n                chdir $git_checkout_path;\n\n\n                $git_url = \"$gitrepo_path.git\";\n                $work_dir = \"$git_checkout_path/$gitrepo_path\";             \n\n                my $msg = Git::Repository-&gt;run(clone=&gt;$git_url=&gt;$work_dir);\n                print {*STDLOG} info  =&gt; \"Cloning $gitrepo_path.git \" . $msg;\n            }\n            catch { print {*STDLOG} error  =&gt; \"Cloning $gitrepo_path.git failed\"; die \"Cloning $gitrepo_path.git failed\"; }\n        }\n\n    print {*STDLOG} info  =&gt; \"Checked out Successfully\";\n}\n</code></pre>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438003009, "post_id": 31653937, "comment_id": 51253385, "body": "Welcome to Stack Overflow! This is a fair question. Regarding your code, it looks pretty good. You have <code>strict</code> and <code>warnings</code>. The names are clear. I suspect <code>$broj1</code> refers to <i>argument</i> in your native tounge. You should decide if you want to stick with English or not, and stay with that decision. The <code>print</code> line could be better written as <code>print &quot;foo: &quot;, join(&#39;,&#39;, $broj1, $broj2, $broj3), &quot;\\n&quot;;</code>. Note that <code>say</code> was not in Perl 5.10."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1438003037, "post_id": 31653937, "comment_id": 51253404, "body": "the code does look fine, but I would advise sticking to one thing at a time <a href=\"http://stackoverflow.com/questions/8912049/difference-between-function-and-function-in-perl\" title=\"difference between function and function in perl\">stackoverflow.com/questions/8912049/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438003503, "post_id": 31653937, "comment_id": 51253750, "body": "@simbabque: <code>say</code> was introduced in Perl v5.10"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438003534, "post_id": 31653937, "comment_id": 51253771, "body": "@Borodin: <a href=\"http://perldoc.perl.org/5.10.0/search.html?q=say\" rel=\"nofollow noreferrer\">perldoc.perl.org/5.10.0/search.html?q=say</a> doesn&#39;t find it. But <a href=\"http://perldoc.perl.org/5.10.0/functions/say.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/5.10.0/functions/say.html</a> exists. Strange. I stand corrected. :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438003646, "post_id": 31653937, "comment_id": 51253876, "body": "@simbabque: It&#39;s in <a href=\"http://search.cpan.org/dist/perl-5.10.0/pod/perl5100delta.pod#say%28%29\" rel=\"nofollow noreferrer\"><code>perl5100delta</code></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1438003760, "post_id": 31653937, "comment_id": 51253967, "body": "@beasy: I think handing the answer to a homework question on a plate isn&#39;t very constructive"}, {"owner": {"reputation": 87, "user_id": 5160682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qxj41spFIaA/AAAAAAAAAAI/AAAAAAAAACc/olams_TTMwE/photo.jpg?sz=128", "display_name": "AsapCancel", "link": "https://stackoverflow.com/users/5160682/asapcancel"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438004990, "post_id": 31653937, "comment_id": 51254951, "body": "@simbabque thank you for the welcome. also thank you all for the VERY fast answers... Borodin nah, it was only said for first subroutine to be called with parameters, the second one is just supposed to call the first one with &quot;&amp;&quot; or without, but looking to the other questions &amp; answers: &quot;&amp; tells Perl to ignore the sub&#39;s prototype&quot; and few more, i checked it myself now and seem to start understanding it better"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 5160682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qxj41spFIaA/AAAAAAAAAAI/AAAAAAAAACc/olams_TTMwE/photo.jpg?sz=128", "display_name": "AsapCancel", "link": "https://stackoverflow.com/users/5160682/asapcancel"}, "edited": false, "score": 0, "creation_date": 1438005326, "post_id": 31654165, "comment_id": 51255217, "body": "Nah it was only said for the first subroutine, and was told that second one should just call the first one, but thanks for that code i am currently trying it out now"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87, "user_id": 5160682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qxj41spFIaA/AAAAAAAAAAI/AAAAAAAAACc/olams_TTMwE/photo.jpg?sz=128", "display_name": "AsapCancel", "link": "https://stackoverflow.com/users/5160682/asapcancel"}, "edited": false, "score": 0, "creation_date": 1438009821, "post_id": 31654165, "comment_id": 51258406, "body": "@AsapCancel: Well your <code>show_args</code> doesn&#39;t (and shouldn&#39;t) have a prototype, so the only difference calling with an ampersand can make is when you call it without parameters at all, like <code>&amp;show_args;</code>. Perhaps the point is that there isn&#39;t any difference. Either way, you should <i>never</i> call subroutines in modern production code unless you need the esoteric features that it provides. Even then you probably want <code>goto &amp;show_args</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1438003366, "last_edit_date": 1438003366, "creation_date": 1438003052, "answer_id": 31654165, "question_id": 31653937, "link": "https://stackoverflow.com/questions/31653937/what-is-the-difference-when-calling-subroutine-with-and-without-in-perl/31654165#31654165", "title": "What is the difference when calling subroutine with and without &amp; in Perl?", "body": "<p>Does the assignment say whether <code>show_args_again</code> should be called with parameters?</p>\n\n<p>The only thing I can think of that you are meant to discover is demonstrated by this code. Give it a try</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nshow_args('fred', 'barney', 'betty');\nprint \"---\\n\";\nshow_args_again('fred', 'barney', 'betty');\n\nsub show_args{\n    my ($broj1, $broj2, $broj3) = @_;\n    no warnings 'uninitialized';\n    print \"The arguments are: $broj1, $broj2, $broj3.\\n\";\n}\n\nsub show_args_again {\n    show_args(@_);\n    &amp;show_args(@_);\n    show_args();\n    &amp;show_args();\n    show_args;\n    &amp;show_args;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 5160682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qxj41spFIaA/AAAAAAAAAAI/AAAAAAAAACc/olams_TTMwE/photo.jpg?sz=128", "display_name": "AsapCancel", "link": "https://stackoverflow.com/users/5160682/asapcancel"}, "is_accepted": false, "score": 1, "last_activity_date": 1440266372, "last_edit_date": 1440266372, "creation_date": 1438016755, "answer_id": 31659131, "question_id": 31653937, "link": "https://stackoverflow.com/questions/31653937/what-is-the-difference-when-calling-subroutine-with-and-without-in-perl/31659131#31659131", "title": "What is the difference when calling subroutine with and without &amp; in Perl?", "body": "<p>I think that I found the way it should have been done, and finally realized what they actually wanted me to show with this homework. So this is my code: </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\n\nshow_args(\"fred\",\"barney\",\"betty\",);\n\nshow_args_again(\"fred\",\"barney\",\"betty\");\n\nsub show_args{ \n    print \"The arguments are: \", join(', ', @_), \".\\n\"; \n}\n\nsub show_args_again{\n     &amp;show_args; \n}\n</code></pre>\n\n<p>So when I don't put \"&amp;\" symbol, it doesn't show me arguments, and as I saw somewhere before, when you use \"&amp;\" without trailing parentheses you ignore the prototype and you use the current value of @_ argument list. So calling it without that symbol is just the counter effect of the whole thing I suppose. And yeah, the second subroutine should do the same thing as first one, and they didn't really say if it should or shouldn't have arguments, but just said that it must call it. </p>\n"}], "owner": {"reputation": 87, "user_id": 5160682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qxj41spFIaA/AAAAAAAAAAI/AAAAAAAAACc/olams_TTMwE/photo.jpg?sz=128", "display_name": "AsapCancel", "link": "https://stackoverflow.com/users/5160682/asapcancel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 1, "accepted_answer_id": 31654165, "answer_count": 2, "score": 4, "last_activity_date": 1440266372, "creation_date": 1438002415, "last_edit_date": 1440266013, "question_id": 31653937, "link": "https://stackoverflow.com/questions/31653937/what-is-the-difference-when-calling-subroutine-with-and-without-in-perl", "title": "What is the difference when calling subroutine with and without &amp; in Perl?", "body": "<p>For my homework, I was told to make a subroutine within Perl, and when called with arguments in it, it would print the arguments. I did this and the second part of my homework was to call that first subroutine within the second one. So I did all this, but then the question was: try running the second subroutine with \"&amp;\" while calling the first one, and without it and to write what is the difference in these two different calls. So subroutine seems to works perfectly in both cases, with and without, but I just don't know what it really changed, therefore i don't know what to write. \nOff topic, does my code look fine? Kinda first time coding in this Perl.</p>\n\n<p>This is the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nshow_args('fred','barney','betty');\n\nshow_args_again();\n\nsub show_args{\n    my ($broj1, $broj2, $broj3) = @_;\n    print \"The arguments are: \" . \"$broj1, \" . \"$broj2, \" . \"$broj3.\\n\";\n}\nsub show_args_again{\n    &amp;show_args('fred','barney','betty');\n}\n</code></pre>\n"}, {"tags": ["perl", "admin", "catalyst"], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1438057300, "post_id": 31652561, "comment_id": 51278447, "body": "I can see myapp_fastcgi.pl inside script folder. So according to the documentation I tried to run myapp_fastcgi.pl . But it was showing error -- Unable to load the FCGI module, you may need to install it: Can&#39;t locate FCGI.pm in @INC. Can I know how to install it?"}, {"owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1438064703, "post_id": 31652561, "comment_id": 51280919, "body": "After installing FASTCGI its showing Class::MOP::load_class is deprecated. Should I upgrade catalyst?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1438065326, "post_id": 31652561, "comment_id": 51281256, "body": "You should maybe check which version of catalyst you had before and if it was fairly recent just run the makefile.PL which is in the project directory. Install all the dependencies from CPAN."}, {"owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1438066162, "post_id": 31652561, "comment_id": 51281693, "body": "Earlier it was 5.7014 and currently it is 5.80033. I tried running Makefile.pl - Output was -- include /home/weaesoca/public_html/application/inc/Module/Install.pm include inc/Module/Install/Metadata.pm include inc/Module/Install/Base.pm The path &#39;lib\\wealthe.pm&#39; does not exist, or is not a file at /usr/share/perl5/Module/Install/Metadata.pm line 229."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1438067244, "post_id": 31652561, "comment_id": 51282263, "body": "Is there a Dist::Zilla? That would be easy for all the installations. You can also install cpanminus and just simply copy all the module names in <code>requires</code> and <code>test_requires</code> from the makefile to a <code>cpanm Foo::Bar Baz::Quz</code> kind of call if it doesn&#39;t work with the makefile. The makefile should have installed with the plain old CPAN client."}, {"owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1438169846, "post_id": 31652561, "comment_id": 51337737, "body": "I have update the catalyst version to 5.9 and installed most of the modules but its still showing up - Class::MOP::load_class is deprecated."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1437998899, "last_edit_date": 1437998899, "creation_date": 1437998484, "answer_id": 31652561, "question_id": 31652260, "link": "https://stackoverflow.com/questions/31652260/moving-catalyst-framework-project-to-another-server/31652561#31652561", "title": "Moving catalyst framework project to another server", "body": "<p>You need to update the web server, if there is one. Your application was either running as a standalone app with its own PSGI server, or with another PSGI server like Starman, or through an FCGI handler with a web server like Apache, or as CGI. In all cases, you need to move that piece of infrastructure to the new physical server computer.</p>\n\n<p>See <a href=\"https://metacpan.org/pod/Catalyst::Manual::Deployment\" rel=\"nofollow\">Catalyst::Manual::Deployment</a> for infos.</p>\n\n<p>I also suggest to look for documentation of your project that any predecessors might have written, or ask your local sysadmin.</p>\n"}], "owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 31652561, "answer_count": 1, "score": 1, "last_activity_date": 1437998899, "creation_date": 1437997601, "question_id": 31652260, "link": "https://stackoverflow.com/questions/31652260/moving-catalyst-framework-project-to-another-server", "title": "Moving catalyst framework project to another server", "body": "<p>I had moved my Perl catalyst framework project files from my old server to a new one.\nI have moved each and every file but when I take the url its showing up 404 error.\nIs there anything else I need to do when the files are moved?\nPlease let me know as its the 1st time I am doing it.</p>\n\n<p>Thanks\nJitesh</p>\n"}, {"tags": ["arrays", "perl", "sorting"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437998347, "post_id": 31652053, "comment_id": 51250058, "body": "An example of what you&#39;re doing so far will get you better answers."}, {"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1438004976, "post_id": 31652053, "comment_id": 51254941, "body": "Is it possible for the input to look like, say, <code>2, Null, 1</code> (where I&#39;ve used simple integers instead of timestamps for brevity), and if yes, where should the null entry end up after sorting? And what about, say, <code>1, Null, 4, 2, 3</code>?"}, {"owner": {"reputation": 3537, "user_id": 4047472, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff35f5eec781a627435222fa094575dc?s=128&d=identicon&r=PG&f=1", "display_name": "Rekovni", "link": "https://stackoverflow.com/users/4047472/rekovni"}, "reply_to_user": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1438005638, "post_id": 31652053, "comment_id": 51255445, "body": "I&#39;m unsure of what you mean @IlmariKaronen, in my example above the <code>Null</code> is the timestamp. And the null entry should not move from where it is (or be shifted down if a timestamp is shifted up)."}, {"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1438006748, "post_id": 31652053, "comment_id": 51256225, "body": "I was just listing the values for the column that is being used to sort the records, and ignoring the (apparently irrelevant) data columns. What I was trying to ask is, if you had an input sequence like <code>2, 3, 1</code> and sorted it, you would end up with <code>1, 2, 3</code>. So what about <code>2, Null, 1</code>: would you expect <code>1, 2, Null</code>, <code>Null, 1, 2</code>, or perhaps <code>1, Null, 2</code>?"}, {"owner": {"reputation": 3537, "user_id": 4047472, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff35f5eec781a627435222fa094575dc?s=128&d=identicon&r=PG&f=1", "display_name": "Rekovni", "link": "https://stackoverflow.com/users/4047472/rekovni"}, "edited": false, "score": 0, "creation_date": 1438009481, "post_id": 31652053, "comment_id": 51258189, "body": "Ah, sorry - I would expect <code>1, 2, Null</code>."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1438002334, "post_id": 31652511, "comment_id": 51252933, "body": "Hmm, ok. Yes. I&#39;m trying to ensure &#39;sorting with exclusions&#39; but it isn&#39;t really, is it? It&#39;s &#39;anchoring&#39; &quot;nulls&quot; next to &quot;last valid&quot;. I&#39;ll have another bash at it."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1438004217, "last_edit_date": 1438004217, "creation_date": 1437998321, "answer_id": 31652511, "question_id": 31652053, "link": "https://stackoverflow.com/questions/31652053/sorting-multidimensional-array-with-exceptions/31652511#31652511", "title": "Sorting multidimensional array with exceptions", "body": "<p>OK, so the problem here is - when you are sorting something, you can't really have 'exceptions' - each element must be compared to each other element, and a relative position established. </p>\n\n<p>The best you could perhaps do is a custom sort function, that compared the values, and returned <code>0</code> if a <code>null</code> element was encountered... but that wouldn't necessarily have the right result, because sorting <em>assumes</em> positioning is logically consistent - and yours won't be, because you may need to 'skip' some chunks in the middle.</p>\n\n<p>So I would approach it like this:</p>\n\n<ul>\n<li>Keep your original list.</li>\n<li>Create a 'new' list, of things to be sorted. </li>\n<li>sort the new list.</li>\n<li>iterate the original list, and print the 'sticky' value if present, and the next element of the sorted list if it isn't. </li>\n</ul>\n\n<p>Something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @list_of_stuff = map { [split] } &lt;DATA&gt;;\nmy @list_to_sort =\n    grep { $_-&gt;[1] ne 'Null'\n      and  $_-&gt;[1] ne '23:59:59:999' }\n    @list_of_stuff;\n\nmy @sorted = sort { $b-&gt;[1] cmp $a-&gt;[1] } @list_to_sort;\n\nforeach my $row (@list_of_stuff) {\n    if (   $row-&gt;[1] eq \"Null\"\n        or $row-&gt;[1] eq '23:59:59:999' )\n    {\n        print join( \"\\t\", @$row );\n    }\n    else {\n        print join( \"\\t\", @{ pop @sorted } );\n    }\n    print \"\\n\";\n}\n\n__DATA__\ndata1   10:25:34.001    data2\ndata1   10:25:34.002    data2\ndata1   10:25:34.005    data2\ndata1   Null            data2\ndata1   Null            data2\ndata1   Null            data2\ndata1   10:25:34.006    data2\ndata1   10:25:34.007    data2\ndata1   10:25:34.008    data2\ndata1   23:59:59:999    data2\ndata1   23:59:59:999    data2\ndata1   10:25:34.003    data2\ndata1   10:25:34.004    data2\ndata1   10:25:34.010    data2\ndata1   10:25:34.011    data2\n</code></pre>\n\n<p>This produces:</p>\n\n<pre><code>data1   10:25:34.001    data2\ndata1   10:25:34.002    data2\ndata1   10:25:34.003    data2\ndata1   Null    data2\ndata1   Null    data2\ndata1   Null    data2\ndata1   10:25:34.004    data2\ndata1   10:25:34.005    data2\ndata1   10:25:34.006    data2\ndata1   23:59:59:999    data2\ndata1   23:59:59:999    data2\ndata1   10:25:34.007    data2\ndata1   10:25:34.008    data2\ndata1   10:25:34.010    data2\ndata1   10:25:34.011    data2\n</code></pre>\n\n<p>Note - sorting on your timestamps is stringwise - that works in this scenario, but I'd normally suggest converting to timestamps. That doesn't work as well given that 'unix time' doesn't support milliseconds, and so I have left it to one side. </p>\n\n<p>OK, second attempt now I've realised that you're not so much looking to make exceptions, as 'anchor' invalid values to the parent values.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $last;\nmy @list_to_sort;\n#iterate input data\nwhile (&lt;DATA&gt;) {\n    chomp;\n    #extract this row into an anonymous array. \n    my $stuff = [split];\n\n    #check if it's 'valid' in it's own right. \n    if (   $stuff-&gt;[1] eq 'Null'\n        or $stuff-&gt;[1] eq '23:59:59:999' )\n    {\n        #if it isn't, 'tag on' to the last element we've seen.\n        #NB - will error if there's no valid 'first' row. \n        push( @$last, $stuff );\n    }\n    else {\n        #insert into 'list_to_sort\n        my $thing = [ $stuff-&gt;[1], $stuff ];\n        push( @list_to_sort, $thing );\n        #make a note of the last array ref to insert next stuff into. \n        $last = $thing;\n    }\n\n}\n\nprint Dumper \\@list_to_sort;\n\nmy @sorted = sort { $a-&gt;[0] cmp $b-&gt;[0] } @list_to_sort;\n\nprint Dumper \\@sorted;\n\nforeach my $blob (@sorted) {\n    foreach my $line (@$blob) {\n        #because we're 'keying' this element,\n        #we don't actually need to print the 'key'. \n        next unless ref $line;\n        print join( \"\\t\", @$line ), \"\\n\";\n    }\n}\n\n\n__DATA__\ndata1   10:25:34.001    data2\ndata1   10:25:34.002    data2\ndata1   10:25:34.005    data2\ndata1   Null            data2\ndata1   Null            data2\ndata1   Null            data2\ndata1   10:25:34.006    data2\ndata1   10:25:34.007    data2\ndata1   10:25:34.008    data2\ndata1   23:59:59:999    data2\ndata1   23:59:59:999    data2\ndata1   10:25:34.003    data2\ndata1   10:25:34.004    data2\ndata1   10:25:34.010    data2\ndata1   10:25:34.011    data2\n</code></pre>\n\n<p>What this does is cycle through the list, and if the element is 'valid' insert it into the to_sort list. And if it isn't, attach it to the last valid.</p>\n\n<p>I'm unsure what it <em>should</em> do if your list doesn't have a valid first element though - it would break in that scenario. </p>\n\n<p>Each element looks like:</p>\n\n<pre><code>      [\n        '10:25:34.008',\n        [\n          'data1',\n          '10:25:34.008',\n          'data2'\n        ],\n        [\n          'data1',\n          '23:59:59:999',\n          'data2'\n        ],\n        [\n          'data1',\n          '23:59:59:999',\n          'data2'\n        ]\n      ],\n</code></pre>\n\n<p>That's a <em>bit</em> like a hash - I didn't use one, because whilst your keys are unique I am assuming they don't have to be. </p>\n\n<p>This gives results of:</p>\n\n<pre><code>data1   10:25:34.001    data2\ndata1   10:25:34.002    data2\ndata1   10:25:34.003    data2\ndata1   10:25:34.004    data2\ndata1   10:25:34.005    data2\ndata1   Null    data2\ndata1   Null    data2\ndata1   Null    data2\ndata1   10:25:34.006    data2\ndata1   10:25:34.007    data2\ndata1   10:25:34.008    data2\ndata1   23:59:59:999    data2\ndata1   23:59:59:999    data2\ndata1   10:25:34.010    data2\ndata1   10:25:34.011    data2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3537, "user_id": 4047472, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff35f5eec781a627435222fa094575dc?s=128&d=identicon&r=PG&f=1", "display_name": "Rekovni", "link": "https://stackoverflow.com/users/4047472/rekovni"}, "edited": false, "score": 0, "creation_date": 1438003818, "post_id": 31652850, "comment_id": 51254034, "body": "Thanks! Just a quick question, can you please explain what this line does? <code>push @{ $data[-1] }, \\@x;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438004488, "post_id": 31652850, "comment_id": 51254587, "body": "<code>$data[-1]</code> would be an array reference (second dimension of the array). This is inserting an extra value - a reference to <code>@x</code> into it."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1438008002, "post_id": 31652850, "comment_id": 51257169, "body": "@Sobrique Thanks. OP: Instead of storing each row in an anonymous array, I am storing it in an anonymous array of anonymous arrays. If a row has any <code>Null</code> or midnight successors, they are stored alongside it, but rows are only sorted according to non-<code>Null</code> non-midnight criteria. <code>$data[-1]</code> is the ref to last insert anonymous array of anonymous arrays. That line pushes a <code>Null</code> or midnight row at the end of that anon array thereby &quot;attaching&quot; <code>Null</code> and midnight rows to the immediately preceding row."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1438008455, "last_edit_date": 1438008455, "creation_date": 1437999305, "answer_id": 31652850, "question_id": 31652053, "link": "https://stackoverflow.com/questions/31652053/sorting-multidimensional-array-with-exceptions/31652850#31652850", "title": "Sorting multidimensional array with exceptions", "body": "<p>To achieve what you want, you cannot sort the original data structure. You need to transform it so that the rows whose relative positions you want to preserve are attached to the preceding elements.</p>\n\n<p>Here's the updated version that is a bit better than the first implementation I posted (see edit history if curious):</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @data = [ [ split ' ', scalar &lt;DATA&gt; ] ];\n\nwhile (my $row = &lt;DATA&gt;) {\n    next unless $row =~ /\\S/;\n    my @x = split ' ', $row;\n    if (($x[1] eq 'Null') or ($x[1] eq '23:59:59:999')) {\n        push @{ $data[-1] }, \\@x;\n        next;\n    }\n    push @data, [ \\@x ];\n}\n\n@data = map @$_, sort { $a-&gt;[0][1] cmp $b-&gt;[0][1] } @data;\n\nprint \"@$_\\n\" for @data;\n\n__DATA__\ndata1   10:25:34.001    data2\ndata1   10:25:34.002    data2\ndata1   10:25:34.005    data2\ndata1   Null            data2\ndata1   Null            data2\ndata1   Null            data2\ndata1   10:25:34.006    data2\ndata1   10:25:34.007    data2\ndata1   10:25:34.008    data2\ndata1   23:59:59:999    data2\ndata1   23:59:59:999    data2\ndata1   10:25:34.003    data2\ndata1   10:25:34.004    data2\ndata1   10:25:34.010    data2\ndata1   10:25:34.011    data2\n</code></pre>\n\n<p>Output:</p>\n\n<pre>data1 10:25:34.001 data2\ndata1 10:25:34.002 data2\ndata1 10:25:34.003 data2\ndata1 10:25:34.004 data2\ndata1 10:25:34.005 data2\ndata1 Null data2\ndata1 Null data2\ndata1 Null data2\ndata1 10:25:34.006 data2\ndata1 10:25:34.007 data2\ndata1 10:25:34.008 data2\ndata1 23:59:59:999 data2\ndata1 23:59:59:999 data2\ndata1 10:25:34.010 data2\ndata1 10:25:34.011 data2</pre>\n\n<p>This does assume that the first line of data is not a <code>Null</code> or midnight event. You can use a sentry element if the first row of the data may contain a <code>Null</code> or midnight event:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @data = [ [ undef, undef, undef ] ];\n\nwhile (my $row = &lt;DATA&gt;) {\n    next unless $row =~ /\\S/;\n    my @x = split ' ', $row;\n    if (($x[1] eq 'Null') or ($x[1] eq '23:59:59:999')) {\n        push @{ $data[-1] }, \\@x;\n        next;\n    }\n    push @data, [ \\@x ];\n}\n\n@data = map @$_, sort {\n    $a-&gt;[0][1] or return -1;\n    $b-&gt;[0][1] or return  1;\n    $a-&gt;[0][1] cmp $b-&gt;[0][1]\n} @data;\n\nshift @data;\nprint \"@$_\\n\" for @data;\n</code></pre>\n\n<p>We make sure the sentry element sorts before any other element, and then remove it before doing anything further with the data.</p>\n"}], "owner": {"reputation": 3537, "user_id": 4047472, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff35f5eec781a627435222fa094575dc?s=128&d=identicon&r=PG&f=1", "display_name": "Rekovni", "link": "https://stackoverflow.com/users/4047472/rekovni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 31652850, "answer_count": 2, "score": 0, "last_activity_date": 1438008455, "creation_date": 1437996994, "question_id": 31652053, "link": "https://stackoverflow.com/questions/31652053/sorting-multidimensional-array-with-exceptions", "title": "Sorting multidimensional array with exceptions", "body": "<p>I have a file which contains time and some data. I need to sort the array by its time, however there are two snags: if the time is 23:59:59:999 or Null, \nit needs to stay where it is in relation to everything else. I've taken in the file and placed it in an array of arrays.</p>\n\n<p>For example:</p>\n\n<pre><code>data1   10:25:34.001    data2\ndata1   10:25:34.002    data2\ndata1   10:25:34.005    data2\ndata1   Null            data2\ndata1   Null            data2\ndata1   Null            data2\ndata1   10:25:34.006    data2\ndata1   10:25:34.007    data2\ndata1   10:25:34.008    data2\ndata1   23:59:59:999    data2\ndata1   23:59:59:999    data2\ndata1   10:25:34.003    data2\ndata1   10:25:34.004    data2\ndata1   10:25:34.010    data2\ndata1   10:25:34.011    data2\n</code></pre>\n\n<p>should become: </p>\n\n<pre><code>data1   10:25:34.001    data2\ndata1   10:25:34.002    data2\ndata1   10:25:34.003    data2\ndata1   10:25:34.004    data2\ndata1   10:25:34.005    data2\ndata1   Null            data2\ndata1   Null            data2\ndata1   Null            data2\ndata1   10:25:34.006    data2\ndata1   10:25:34.007    data2\ndata1   10:25:34.008    data2\ndata1   23:59:59:999    data2\ndata1   23:59:59:999    data2\ndata1   10:25:34.010    data2\ndata1   10:25:34.011    data2\n</code></pre>\n\n<p>What I currently have done is sort them into separate \"blocks\" (time, Null times etc) so that when I dump the array of data it looks like:</p>\n\n<pre><code>(\n    [\n        [\n          \"data1\",\n          \"10:25:34.001\",\n          \"data2\",\n        ],\n        [ \n          \"data1\",\n          \"10:25:34.002\",\n          \"data2\",\n        ],\n        [ \n          \"data1\",\n          \"10:25:34.005\",\n          \"data2\",\n        ],\n    ],\n    [\n        [ \n          \"data1\",\n          \"Null\",\n          \"data2\",\n        ],\n        [ \n          \"data1\",\n          \"Null\",\n          \"data2\",\n        ],\n        [ \n          \"data1\",\n          \"Null\",\n          \"data2\",\n        ],\n    ],\n    [\n        [ \n          \"data1\",\n          \"10:25:34.006\",\n          \"data2\",\n        ],\n        [ \n          \"data1\",\n          \"10:25:34.007\",\n          \"data2\",\n        ],\n        [ \n          \"data1\",\n          \"10:25:34.008\",\n          \"data2\",\n        ],\n    ],\n    [\n        [\n          \"data1\",\n          \"23:59:59:999\",\n          \"data2\",\n        ],\n        [ \n          \"data1\",\n          \"23:59:59:999\",\n          \"data2\",\n        ],\n    ],\n    [\n        [ \n          \"data1\",\n          \"10:25:34.003\",\n          \"data2\",\n        ],\n        [ \n          \"data1\",\n          \"10:25:34.004\",\n          \"data2\",\n        ],\n        [ \n          \"data1\",\n          \"10:25:34.010\",\n          \"data2\",\n        ],\n        [ \n          \"data1\",\n          \"10:25:34.011\",\n          \"data2\",\n        ],\n    ]\n)\n</code></pre>\n\n<p>My idea is to find the maximum value from the \"first\" block and ignore the \"Null\" and \"23:59:59.999\" blocks, and push any values in the remaining block that is larger than the maximum value of the \"first\" block.</p>\n\n<p>I'm having difficulty moving the times between the separate blocks and to then sort it, and was wondering if anyone had any advise on how to do this (or if there is a better way of \nsorting it from the structure I've got so far) ?</p>\n"}, {"tags": ["xml", "perl", "xml-parsing", "perl-module"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437994743, "post_id": 31651267, "comment_id": 51247770, "body": "Parsing XML is far from simple. That is why there are modules and libraries to do it. I can&#39;t imagine what you are thinking of, but <code>Data::Dumper</code> can&#39;t be used in this way; in any case it is a module, and you&#39;re not allowed to use those. Why are you unable to use modules? Can you show a sample of your data?"}, {"owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437994934, "post_id": 31651267, "comment_id": 51247886, "body": "I am working in a project where there is very limited modules are available as the environment very much restricted so it removed most of the modules from Perl lib :( , that&#39;s why I am looking for an alternative way"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 6, "creation_date": 1437995317, "post_id": 31651267, "comment_id": 51248119, "body": "I wish I knew why people did this. It is an unnecessary and useless restriction. I guess you could take a look at <code>XML::Parser::Lite</code> and copy the ideas. Can you show your data please?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437996100, "post_id": 31651267, "comment_id": 51248631, "body": "There is no document reference to a Microsoft Word file in your example XML. Please show some <i>real</i> data. You can substitute the actual data or leave out some colums or rename some of them if you are worried about copyright sharing sensitive information. But we cannot help you if you don&#39;t tell us what you are working with."}, {"owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437996345, "post_id": 31651267, "comment_id": 51248767, "body": "@simbabque right now I am not concern about the attached Doc file. First I want to read the XML and print the data then I will think about the doc file.   Sorry I can not provide you the actual data as I dont have access to this site from my office. So I have just used a sample form using I am doing the sample code in my home."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1437996624, "post_id": 31651267, "comment_id": 51248946, "body": "look, seriously. XML is complicated. Parsing it isn&#39;t trivial. That&#39;s why parsers exist - because they ensure things happen in a valid, clean and smooth way. Parsing XML without an XML parser is a bit like cleaning the toilet block with your toothbrush. You can do it, but it&#39;s way harder than it needs to be, and is just a bit dirty. But also, as it stands, this questions is &#39;how do I write an XML parser&#39; and so I&#39;d suggest - too broad to meaningfully answer."}, {"owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "edited": false, "score": 0, "creation_date": 1437996626, "post_id": 31651267, "comment_id": 51248951, "body": "is there a way through which I can convert this XML file to some other format ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1437996664, "post_id": 31651267, "comment_id": 51248977, "body": "Yes, you can use a parser..."}, {"owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "edited": false, "score": 0, "creation_date": 1437997029, "post_id": 31651267, "comment_id": 51249216, "body": "if you are asking to use XML::Parser or other perl modules then I am sorry, I don&#39;t have that scope that&#39;s why I am not getting any solution for this. I know that it&#39;s easy and efficient to parse a XML file using XML modules"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1437997291, "post_id": 31651267, "comment_id": 51249383, "body": "Extracting some specific data from &quot;well formatted&quot; xml file may be simple.  Parsing any xml file is not simple without libraries/modules."}, {"owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "edited": false, "score": 0, "creation_date": 1437997457, "post_id": 31651267, "comment_id": 51249474, "body": "@ Andrzej A. Filip can you tell me how I can print the author, title and price for each book id for the above XML file with a XML module ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438077370, "post_id": 31651267, "comment_id": 51288362, "body": "Please don&#39;t change your question. Especially if you already have answers.  If you want to ask something else, please ask it as a NEW question."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1437996720, "post_id": 31651581, "comment_id": 51249014, "body": "I really wouldn&#39;t suggest going anywhere near <code>XML::Simple</code> if you don&#39;t have to. About the only time it&#39;s a good choice is if it&#39;s the only choice."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438081842, "post_id": 31651581, "comment_id": 51291219, "body": "@Sobrique: Ah I see. I&#39;ve edited the answer to include XML::LibXML. Is that good enough?"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1438081808, "last_edit_date": 1438081808, "creation_date": 1437995537, "answer_id": 31651581, "question_id": 31651267, "link": "https://stackoverflow.com/questions/31651267/read-xml-file-without-any-xml-module/31651581#31651581", "title": "read xml file without any XML module", "body": "<p>If you can not use any module then you should check out the source code of modules like <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/LibXML.pod\" rel=\"nofollow\">XML::LibXML</a> and understand how they deal with XML and then implement it your way, which is not recommended though.</p>\n\n<p>See: <a href=\"http://perl-begin.org/uses/xml/\" rel=\"nofollow\">Perl for XML Processing\n</a></p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1438000361, "creation_date": 1438000361, "answer_id": 31653198, "question_id": 31651267, "link": "https://stackoverflow.com/questions/31651267/read-xml-file-without-any-xml-module/31653198#31653198", "title": "read xml file without any XML module", "body": "<p>Well, an XML parser is just code. And CPAN modules are all open source, so I suppose that you could copy the code from <a href=\"https://metacpan.org/source/MIROD/XML-Twig-3.49\" rel=\"nofollow\">an XML parsing module from CPAN</a> into your program.</p>\n\n<p>But really, that's an incredibly stupid idea. Why wouldn't you just use the module? You would be far better off spending your time getting your bar on using modules removed. A lot of modern Perl Perl programming consists of installing the right modules from CPAN and plumbing them together. If you're not using CPAN modules then you're cutting yourself of from a large proportion of Perl's power.</p>\n\n<p>If you really can't get that restriction lifted then (seriously) get better employers.</p>\n"}, {"comments": [{"owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "edited": false, "score": 0, "creation_date": 1438076452, "post_id": 31653229, "comment_id": 51287784, "body": "thanks for your reply. somehow I managed to install XML::Simple module and now I am able to print the details in the screen.  But now I have the 2nd issue that the attached doc. while checking the XML file it showing some encrypted value for doc path, I have updated my question,   can you please put some light on this issue ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "edited": false, "score": 0, "creation_date": 1438077305, "post_id": 31653229, "comment_id": 51288316, "body": "If you have a different question, then I would suggest asking a different question. I would also suggest <code>XML::Simple</code> was exactly the worst choice, but if that was the only option might not be a complete disaster."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1438000434, "creation_date": 1438000434, "answer_id": 31653229, "question_id": 31651267, "link": "https://stackoverflow.com/questions/31651267/read-xml-file-without-any-xml-module/31653229#31653229", "title": "read xml file without any XML module", "body": "<p>I'd like to re-iterate that this is a BAD IDEA. Because whilst XML <em>looks</em> like plain text - it's <em>isn't</em> plain text. And if you treat it as such, you are creating brittle, unmaintainable and unsupportable code, which may well break one day, because someone changes the XML format in a valid way. </p>\n\n<p>I would strongly suggest that your first port of call is go back to your project, and point out how parsing XML without an XML parser is rather like trying to use a hammer to put screws into a piece of wood. In that it sort of works, but the results are rather shoddy, and frankly it's completely unnecessary because screwdrivers exist and they do the job properly, easily and are widely available.</p>\n\n<p>E.g.</p>\n\n<blockquote>\n  <p>can you tell me how I can print the author, title and price for each book id for the above XML file with a XML module ? </p>\n</blockquote>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\nmy $twig = XML::Twig -&gt; new -&gt; parsefile ( 'your_file.xml' );\nforeach my $book ( $twig -&gt; get_xpath ( '//book' ) ) {\n    print join (\"\\n\", \n         $book -&gt; att('id'),\n         $book -&gt; field('author'),\n         $book -&gt; field('title'),\n         $book -&gt; field('price'), ),\"\\n----\\n\";\n}\n</code></pre>\n\n<p>However:</p>\n\n<p>Given your <em>very specific</em> sample, you <em>may</em> be able to get away with treating it as 'plain text'. Before you do this, you should point out to your project lead that this is a risky approach - you're putting in screws with a hammer - and therefore creating ongoing risk of support problems, which is <em>trivially</em> resolved by just installing a bit of freely available, open source code. </p>\n\n<p>I am only suggesting this <em>AT ALL</em> because I've had to deal with ludicrously unreasonable similar project demands. </p>\n\n<p>Like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nwhile ( &lt;&gt; ) {\n   if ( m/&lt;book/ ) { \n       my ( $id ) = ( m/id=\"(\\w+)\"/ ); \n       print $id,\"\\n\";\n   }\n   if ( m/&lt;author/ ) { \n        my ( $author ) = ( m/&gt;(.*)&lt;/ );\n        print $author,\"\\n\";\n   }\n}\n</code></pre>\n\n<p>Now, the reason this <em>doesn't</em> work is your sample above can be perfectly validly formatted as:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;catalog&gt;&lt;book id=\"bk101\"&gt;&lt;author&gt;Gambardella, Matthew&lt;/author&gt;&lt;title&gt;XML Developer's Guide&lt;/title&gt;&lt;genre&gt;Computer&lt;/genre&gt;&lt;price&gt;44.95&lt;/price&gt;&lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;&lt;description&gt;An in-depth look at creating applications \n      with XML.&lt;/description&gt;&lt;/book&gt;&lt;book id=\"bk102\"&gt;&lt;author&gt;Ralls, Kim&lt;/author&gt;&lt;title&gt;Midnight Rain&lt;/title&gt;&lt;genre&gt;Fantasy&lt;/genre&gt;&lt;price&gt;5.95&lt;/price&gt;&lt;publish_date&gt;2000-12-16&lt;/publish_date&gt;&lt;description&gt;A former architect battles corporate zombies, \n      an evil sorceress, and her own childhood to become queen \n      of the world.&lt;/description&gt;&lt;/book&gt;&lt;/catalog&gt;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;catalog&gt;\n  &lt;book id=\"bk101\"&gt;\n    &lt;author&gt;Gambardella, Matthew&lt;/author&gt;\n    &lt;title&gt;XML Developer's Guide&lt;/title&gt;\n    &lt;genre&gt;Computer&lt;/genre&gt;\n    &lt;price&gt;44.95&lt;/price&gt;\n    &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;\n    &lt;description&gt;An in-depth look at creating applications \n      with XML.&lt;/description&gt;\n  &lt;/book&gt;\n  &lt;book id=\"bk102\"&gt;\n    &lt;author&gt;Ralls, Kim&lt;/author&gt;\n    &lt;title&gt;Midnight Rain&lt;/title&gt;\n    &lt;genre&gt;Fantasy&lt;/genre&gt;\n    &lt;price&gt;5.95&lt;/price&gt;\n    &lt;publish_date&gt;2000-12-16&lt;/publish_date&gt;\n    &lt;description&gt;A former architect battles corporate zombies, \n      an evil sorceress, and her own childhood to become queen \n      of the world.&lt;/description&gt;\n  &lt;/book&gt;\n&lt;/catalog&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;catalog\n&gt;&lt;book\nid=\"bk101\"\n&gt;&lt;author\n&gt;Gambardella, Matthew&lt;/author&gt;&lt;title\n&gt;XML Developer's Guide&lt;/title&gt;&lt;genre\n&gt;Computer&lt;/genre&gt;&lt;price\n&gt;44.95&lt;/price&gt;&lt;publish_date\n&gt;2000-10-01&lt;/publish_date&gt;&lt;description\n&gt;An in-depth look at creating applications \n      with XML.&lt;/description&gt;&lt;/book&gt;&lt;book\nid=\"bk102\"\n&gt;&lt;author\n&gt;Ralls, Kim&lt;/author&gt;&lt;title\n&gt;Midnight Rain&lt;/title&gt;&lt;genre\n&gt;Fantasy&lt;/genre&gt;&lt;price\n&gt;5.95&lt;/price&gt;&lt;publish_date\n&gt;2000-12-16&lt;/publish_date&gt;&lt;description\n&gt;A former architect battles corporate zombies, \n      an evil sorceress, and her own childhood to become queen \n      of the world.&lt;/description&gt;&lt;/book&gt;&lt;/catalog&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n\n&lt;catalog&gt;\n  &lt;book id=\"bk101\"&gt;&lt;author&gt;Gambardella, Matthew&lt;/author&gt;&lt;title&gt;XML Developer's Guide&lt;/title&gt;&lt;genre&gt;Computer&lt;/genre&gt;&lt;price&gt;44.95&lt;/price&gt;&lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;&lt;description&gt;An in-depth look at creating applications \n      with XML.&lt;/description&gt;&lt;/book&gt;\n  &lt;book id=\"bk102\"&gt;&lt;author&gt;Ralls, Kim&lt;/author&gt;&lt;title&gt;Midnight Rain&lt;/title&gt;&lt;genre&gt;Fantasy&lt;/genre&gt;&lt;price&gt;5.95&lt;/price&gt;&lt;publish_date&gt;2000-12-16&lt;/publish_date&gt;&lt;description&gt;A former architect battles corporate zombies, \n      an evil sorceress, and her own childhood to become queen \n      of the world.&lt;/description&gt;&lt;/book&gt;\n&lt;/catalog&gt;\n</code></pre>\n\n<p>This is why you have so many comments that say 'use a parser' - from those snippets above, the simplistic example I gave you... will only work on one and break messily on the others.</p>\n\n<p>But the <code>XML::Twig</code> solution handles them all correctly. <code>XML::Twig</code> is freely available on CPAN. (There's other libraries that do the job too just as well). And it's also pre-packaged with a lot of operating systems 'default' repositories. </p>\n"}], "owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1438081808, "creation_date": 1437994561, "last_edit_date": 1438077335, "question_id": 31651267, "link": "https://stackoverflow.com/questions/31651267/read-xml-file-without-any-xml-module", "title": "read xml file without any XML module", "body": "<p>I am trying to read a XML form using Perl but I <strong>can not use any XML modules</strong> like XML::Simple, XML::Parse.</p>\n\n<p>It is a simple XML form which has some basic information and a MS Doc attachment.\nI want to read this XML and download this attached Doc file then print the XML information in the screen.</p>\n\n<p>But I don't know any way how I can do this <strong>without a XML module</strong>, I heard that XML file can be parse using <strong>Data::Dumper</strong> but I am not familiar with this module, so not getting how to do this.</p>\n\n<p>Could you please help me on this if there is any way to do this without a XML modules?</p>\n\n<p>Sample XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;catalog&gt;\n   &lt;book id=\"bk101\"&gt;\n      &lt;author&gt;Gambardella, Matthew&lt;/author&gt;\n      &lt;title&gt;XML Developer's Guide&lt;/title&gt;\n      &lt;genre&gt;Computer&lt;/genre&gt;\n      &lt;price&gt;44.95&lt;/price&gt;\n      &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;\n      &lt;description&gt;An in-depth look at creating applications \n      with XML.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=\"bk102\"&gt;\n      &lt;author&gt;Ralls, Kim&lt;/author&gt;\n      &lt;title&gt;Midnight Rain&lt;/title&gt;\n      &lt;genre&gt;Fantasy&lt;/genre&gt;\n      &lt;price&gt;5.95&lt;/price&gt;\n      &lt;publish_date&gt;2000-12-16&lt;/publish_date&gt;\n      &lt;description&gt;A former architect battles corporate zombies, \n      an evil sorceress, and her own childhood to become queen \n      of the world.&lt;/description&gt;\n   &lt;/book&gt;\n&lt;/catalog&gt;\n</code></pre>\n"}, {"tags": ["perl", "scripting"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 2, "creation_date": 1437983912, "post_id": 31647608, "comment_id": 51241344, "body": "It will help if you show some example lines from your file and then an example of what you want it to look like. Lastly show any attempt at code you have tried"}, {"owner": {"reputation": 177, "user_id": 3981732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YeJYI.jpg?s=128&g=1", "display_name": "Syd Pao", "link": "https://stackoverflow.com/users/3981732/syd-pao"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1437984583, "post_id": 31647608, "comment_id": 51241668, "body": "@ChrisDoyle thanks for the reply. my code only tries to count this string i want to search but no working attempt to try and add a new line after the search... i am so noob with Perl. sorry!"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1437983926, "creation_date": 1437983926, "answer_id": 31647787, "question_id": 31647608, "link": "https://stackoverflow.com/questions/31647608/using-perl-how-to-search-a-string-then-add-a-distinct-line-of-string-after-it/31647787#31647787", "title": "Using Perl, how to search a string then add a distinct line of string after it?", "body": "<p>Use a flag to determine whether previously traversed line contained desired string, then use conditionals.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $flag;\nwhile (&lt;DATA&gt;){\n    chomp;\n    print $_;\n    $flag = 0;\n    if ($_ =~ /TSET/){\n        $flag = 1;\n    }\n    print \"\\ntset0:\\n\" if $flag;\n}\n\n__DATA__\nlorem posum lorem posum lorem posum TSET lorem posu\nlorem posulorem posu lorem posulorem posu lorem posu\nlorem posuTSET\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177, "user_id": 3981732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YeJYI.jpg?s=128&g=1", "display_name": "Syd Pao", "link": "https://stackoverflow.com/users/3981732/syd-pao"}, "edited": false, "score": 0, "creation_date": 1437986816, "post_id": 31648202, "comment_id": 51242878, "body": "hi @DaveCross sorry for the confusion. based on the exmaple given, I am actually searching for the W &quot;tset1&quot; statement ALWAYS. then will add a new line below it: Pattern0:  then for the next match it will be Pattern1:"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 177, "user_id": 3981732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YeJYI.jpg?s=128&g=1", "display_name": "Syd Pao", "link": "https://stackoverflow.com/users/3981732/syd-pao"}, "edited": false, "score": 2, "creation_date": 1437987576, "post_id": 31648202, "comment_id": 51243344, "body": "Then I think it&#39;s trivial for you to change my program to do what you want."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1437985461, "creation_date": 1437985461, "answer_id": 31648202, "question_id": 31647608, "link": "https://stackoverflow.com/questions/31647608/using-perl-how-to-search-a-string-then-add-a-distinct-line-of-string-after-it/31648202#31648202", "title": "Using Perl, how to search a string then add a distinct line of string after it?", "body": "<p>Your description is rather unclear - are you searching for tset or TSET? Are you replacing it with tset0 or Pattern0?</p>\n\n<p>But this seems simple enough. You should be able to adjust this to your needs.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $count = 0;\n\nwhile (&lt;&gt;) {\n  if (/TSET/) {\n    print \"Pattern$count:\\n\"\n    ++$count;\n  }\n  print;\n}\n</code></pre>\n\n<p>It reads from STDIN and writes to STDOUT. So you can call it like this:</p>\n\n<pre><code>$ ./this_script.pl &lt; your_input.dat &gt; new_version.dat\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177, "user_id": 3981732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YeJYI.jpg?s=128&g=1", "display_name": "Syd Pao", "link": "https://stackoverflow.com/users/3981732/syd-pao"}, "edited": false, "score": 0, "creation_date": 1438043379, "post_id": 31653897, "comment_id": 51275348, "body": "thank you @Amareesh this solved my problem!  just curious, how do I remove the my $file variable and replace it with an option for the script to accept an input parameter, say the file name of this file that I want to modify and not output a new file. it will just edit the existing."}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "reply_to_user": {"reputation": 177, "user_id": 3981732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YeJYI.jpg?s=128&g=1", "display_name": "Syd Pao", "link": "https://stackoverflow.com/users/3981732/syd-pao"}, "edited": false, "score": 0, "creation_date": 1438080551, "post_id": 31653897, "comment_id": 51290439, "body": "@SydPao Do you want just to display on the output screen or to capture output in the file? Because solution provided by chris Doyle is just displaying the output, but not writing in to the file."}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "reply_to_user": {"reputation": 177, "user_id": 3981732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YeJYI.jpg?s=128&g=1", "display_name": "Syd Pao", "link": "https://stackoverflow.com/users/3981732/syd-pao"}, "edited": false, "score": 0, "creation_date": 1438082343, "post_id": 31653897, "comment_id": 51291544, "body": "@SydPao I have added new piece of code in my answer, please see above."}, {"owner": {"reputation": 177, "user_id": 3981732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YeJYI.jpg?s=128&g=1", "display_name": "Syd Pao", "link": "https://stackoverflow.com/users/3981732/syd-pao"}, "edited": false, "score": 0, "creation_date": 1438650714, "post_id": 31653897, "comment_id": 51525543, "body": "thanks @Amareesh... this is savvy. do you know how i can make this script more generic? Like I would like to take the filename as input to the script and it will not generate a new file but just edit the existing? thanks in advance! i am learning by your examples."}], "tags": [], "owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1438082296, "last_edit_date": 1438082296, "creation_date": 1438002284, "answer_id": 31653897, "question_id": 31647608, "link": "https://stackoverflow.com/questions/31647608/using-perl-how-to-search-a-string-then-add-a-distinct-line-of-string-after-it/31653897#31653897", "title": "Using Perl, how to search a string then add a distinct line of string after it?", "body": "<p>I have copied given content of your file to a text file locally in my PC and executed below script. </p>\n\n<pre><code>#!C:\\Strawberry\\perl\\bin\nuse strict;\nuse warnings;\nmy $file = \"C:/Users/hclabv/Desktop/Data.txt\";\n\n#Opening file to get the required data\n\nmy $pattern = 0;\nopen (FILE, \"$file\");\n     while (&lt;FILE&gt;) {\n           my $CurrentLine = $_;\n\n#Creating new file\n           open (FILE1, \"&gt;&gt;NewData.txt\");\n           print FILE1 \"$CurrentLine\";\n                if ($_ =~ /tset/) {\n                    my $NewLine = \"Pattern $pattern\";\n                    print FILE1 \"$NewLine\\n\";\n                    ++$pattern;\n                 }\n           close(FILE1);     \n      }\n close(FILE);\n exit;\n</code></pre>\n\n<p><strong>OUTPUT</strong>: Generated new file(NewData.txt) with below data.</p>\n\n<pre><code>V { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 1XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  000 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 011 XXX XX   ; }\n\n//       pattern 0\nW \"tset1\";\nPattern 0\nV { allFuncPins = XXXXXX  XXXXXX  110 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  011000  111 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  000000  111 011 XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 1XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  000 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 011 XXX XX   ; }\n\n//       pattern 0\nW \"tset1\";\nPattern 1\nV { allFuncPins = XXXXXX  XXXXXX  110 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  011000  111 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  000000  111 011 XXX XX   ; }\n</code></pre>\n\n<p><strong>If you want to give input at the time of script execution, please use the below.</strong></p>\n\n<pre><code>#!C:\\Strawberry\\perl\\bin\nuse strict;\nuse warnings;\nuse File::Copy;\n\n#Getting input file name\nmy $file = shift;\n\n#just renaming the file\n\nmy $newfile = $file.\".txt\";\nmove($file,$newfile);\nchomp($newfile);\n\n#Opening file to get the required data\n\nmy $pattern = 0;\nopen (FIL, \"$newfile\");\nwhile (&lt;FIL&gt;) {\n       my $CurrentLine = $_;\n\n#Creating new file\n       open (FILE1, \"&gt;&gt;$file\");\n       print FILE1 \"$CurrentLine\";\n            if ($_ =~ /tset/) {\n                my $NewLine = \"Pattern $pattern\";\n                print FILE1 \"$NewLine\\n\";\n                ++$pattern;\n             }\n       close(FILE1);     \n  }\n close(FIL);\n exit;\n</code></pre>\n\n<p><strong>OUTPUT</strong>: Will be created with the same file name which you have provided at the time of script execution. Here I gave below file name in CMD prompt.</p>\n\n<pre><code>&gt;perl pat.pl Data.txt\n</code></pre>\n\n<p>Generated Data.txt file with below output.</p>\n\n<pre><code>V { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 1XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  000 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 011 XXX XX   ; }\n\n//       pattern 0\nW \"tset1\";\nPattern 0\nV { allFuncPins = XXXXXX  XXXXXX  110 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  011000  111 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  000000  111 011 XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 1XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  000 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 011 XXX XX   ; }\n\n//       pattern 0\nW \"tset1\";\nPattern 1\nV { allFuncPins = XXXXXX  XXXXXX  110 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  011000  111 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  000000  111 011 XXX XX   ; }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177, "user_id": 3981732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YeJYI.jpg?s=128&g=1", "display_name": "Syd Pao", "link": "https://stackoverflow.com/users/3981732/syd-pao"}, "edited": false, "score": 1, "creation_date": 1438043405, "post_id": 31657138, "comment_id": 51275356, "body": "hi @chrisDoyle thanks, this is also an awesome solution! :)"}], "tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": true, "score": 0, "last_activity_date": 1438010914, "creation_date": 1438010914, "answer_id": 31657138, "question_id": 31647608, "link": "https://stackoverflow.com/questions/31647608/using-perl-how-to-search-a-string-then-add-a-distinct-line-of-string-after-it/31657138#31657138", "title": "Using Perl, how to search a string then add a distinct line of string after it?", "body": "<p>If you are using unix based server then this can be written in a one liner.</p>\n\n<pre><code>cat test_file.txt | perl -ne 'print /^(W \"tset1\";)$/ ? \"$1\\npattern\" . $count++ . \":\\n\" : \"$_\"'\n</code></pre>\n\n<p>However for better layout and with comments i have placed in a script</p>\n\n<pre><code>use strict;\nuse warnings;\n\n#take the file name from input and open it and initalise the counter as 0\nmy $file = shift || die \"you need to give an input file\";\nopen (my $fh, '&lt;', $file) or die \"Unable to open $file: $!\";\nmy $count = 0;\n\n#process each line and if the line matches our pattern tag on a new line and the pattern task to it otherwise just print the normal line.\nwhile (&lt;$fh&gt;){\n        print /^(W \"tset1\";)$/ ? \"$1\\npattern\" . $count++ . \":\\n\" : \"$_\";\n}\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 3981732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YeJYI.jpg?s=128&g=1", "display_name": "Syd Pao", "link": "https://stackoverflow.com/users/3981732/syd-pao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 31657138, "answer_count": 4, "score": -4, "last_activity_date": 1438082296, "creation_date": 1437983328, "last_edit_date": 1437984973, "question_id": 31647608, "link": "https://stackoverflow.com/questions/31647608/using-perl-how-to-search-a-string-then-add-a-distinct-line-of-string-after-it", "title": "Using Perl, how to search a string then add a distinct line of string after it?", "body": "<p>I am having a little bit of trouble with Perl. Desperate on how to do this very simple search then add a new line after the match.</p>\n\n<p>For example, in my file I will search for a recurring string called \"TSET\" then after that line I will have to add a distinct label say \"tset0:\" (in a new line of course) and it needs to increment for the next match it will add \"tset1:\" but it is always the same search string \"TSET\".</p>\n\n<p>the file looks like this:</p>\n\n<pre><code>V { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 1XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  000 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 011 XXX XX   ; }\n\n//       pattern 0\nW \"tset1\";\nV { allFuncPins = XXXXXX  XXXXXX  110 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  011000  111 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  000000  111 011 XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 1XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  000 XXX XXX XX   ; }\nV { allFuncPins = 0XXX0X  XX0XXX  100 011 XXX XX   ; }\n\n//       pattern 0\nW \"tset1\";\nV { allFuncPins = XXXXXX  XXXXXX  110 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  011000  111 011 XXX XX   ; }\nV { allFuncPins = XXXXXX  000000  111 011 XXX XX   ; }\n</code></pre>\n\n<p>so after each W \"tset1\"; i need to add a new line:\nPattern0:</p>\n\n<p>thanks in advance for the hints.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 10, "creation_date": 1437972173, "post_id": 31644197, "comment_id": 51236508, "body": "Neither http:// nor www is standard across all websites. Take <code>http:&#47;&#47;perldoc.perl.org</code>, for example. But this seems like an <a href=\"http://meta.stackexchange.com/q/66377\">XY problem</a>. Why are you trying to do this?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 6, "creation_date": 1437974006, "post_id": 31644197, "comment_id": 51237046, "body": "Please use the reserved names like example.com and example.org and don&#39;t use domain names you don&#39;t own. Apart from that <code>http:&#47;&#47;example.org</code> and <code>http:&#47;&#47;www.example.org</code> etc can be different servers and sometimes they are actually different. And yes, it looks like an XY problem."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437985074, "post_id": 31644197, "comment_id": 51241927, "body": "<a href=\"http://no-www.org/\" rel=\"nofollow noreferrer\">no-www</a> might be useful."}, {"owner": {"reputation": 1, "user_id": 5158834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94013b3c9f13e574885be41a066cef5?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Stone", "link": "https://stackoverflow.com/users/5158834/jim-stone"}, "edited": false, "score": 0, "creation_date": 1438093384, "post_id": 31644197, "comment_id": 51299908, "body": "I&#39;m not saying it&#39;s a standard, I&#39;m saying I want to standardize it in my list. It doesn&#39;t matter if it&#39;s all www.example.org, all <a href=\"http://www.example.org\" rel=\"nofollow noreferrer\">example.org</a> or all http:// example.org, I just want to make them all the same, As I said, I&#39;m a beginner in perl and the code I made sorta works but is lame and I&#39;m looking for maybe better ways to do it."}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1437998493, "last_edit_date": 1437998493, "creation_date": 1437972604, "answer_id": 31645173, "question_id": 31644197, "link": "https://stackoverflow.com/questions/31644197/making-urls-standardized/31645173#31645173", "title": "Making URLs Standardized", "body": "<p>You can just normalize it yourself as follows:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nmy $host = 'example.org';\nmy $canonical = 'http://www.example.org';\n\nfor ( 'example.org',\n      'www.example.org',\n      'http://example.org',\n      'example.org/foo/bar?baz=123',\n      'www.example.org/foo/bar?baz=123',\n      'http://example.org/foo/bar?baz=123',\n    ) {\n\n    # Anything followed by 'example.org' followed by anything\n    my ($path) = m|^.*?$host(.*)$|;\n    my $canonical_path = join '', $canonical, $path || '';\n    print sprintf(\"% 40s =&gt; %s\\n\", $_, $canonical_path);\n}\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>                       example.org =&gt; http://www.example.org\n                   www.example.org =&gt; http://www.example.org\n                http://example.org =&gt; http://www.example.org\n       example.org/foo/bar?baz=123 =&gt; http://www.example.org/foo/bar?baz=123\n   www.example.org/foo/bar?baz=123 =&gt; http://www.example.org/foo/bar?baz=123\nhttp://example.org/foo/bar?baz=123 =&gt; http://www.example.org/foo/bar?baz=123\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1437972986, "creation_date": 1437972986, "answer_id": 31645227, "question_id": 31644197, "link": "https://stackoverflow.com/questions/31644197/making-urls-standardized/31645227#31645227", "title": "Making URLs Standardized", "body": "<p>You could put the below in <code>.htaccess</code> file of each website.</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{HTTP_HOST} !^www\\.\n\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n</code></pre>\n\n<p>It will redirect (301) non-www domain to www.</p>\n"}], "owner": {"reputation": 1, "user_id": 5158834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94013b3c9f13e574885be41a066cef5?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Stone", "link": "https://stackoverflow.com/users/5158834/jim-stone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438000071, "creation_date": 1437964786, "last_edit_date": 1438000071, "question_id": 31644197, "link": "https://stackoverflow.com/questions/31644197/making-urls-standardized", "title": "Making URLs Standardized", "body": "<p>I have looked all over for ways in Perl to make URLs standardized. In other words, I'm trying to find a way to check and then change the URL forms example.org, www.example.org or <a href=\"http://example.org\" rel=\"nofollow\">http://example.org</a> to the standard form <a href=\"http://www.example.org\" rel=\"nofollow\">http://www.example.org</a>, no matter what the domain name. Any advice will be appreciated.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1437965436, "creation_date": 1437965436, "answer_id": 31644268, "question_id": 31644052, "link": "https://stackoverflow.com/questions/31644052/perl-collect-data-from-complex-hash/31644268#31644268", "title": "Perl - collect data from complex Hash", "body": "<pre><code>my @values = map { @$_{3, 9, 10} } @{ $VAR1-&gt;{DETAIL}{UNIT} };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 4429747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a182fa342cf95f33870032e2c49f3db3?s=128&d=identicon&r=PG&f=1", "display_name": "Channel Islander", "link": "https://stackoverflow.com/users/4429747/channel-islander"}, "is_accepted": false, "score": 1, "last_activity_date": 1437971208, "creation_date": 1437971208, "answer_id": 31644989, "question_id": 31644052, "link": "https://stackoverflow.com/questions/31644052/perl-collect-data-from-complex-hash/31644989#31644989", "title": "Perl - collect data from complex Hash", "body": "<p>Here's one simple way. (Note that you have unquoted characters in your data.)</p>\n\n<pre><code>my %output;\nforeach my $href ( @{ $VAR1-&gt;{'DETAIL'}{'UNIT'} } ) { \n  for ( 3, 9, 10 ) { \n    push @{ $output{ $_ } }, $href-&gt;{ $_ };\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n      '3' =&gt; [\n               'C',\n               'C',\n               'C'\n             ],\n      '10' =&gt; [\n                'H',\n                'H',\n                'H'\n              ],\n      '9' =&gt; [\n               'G',\n               'G',\n               'G'\n             ]\n    };\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 2738405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16f9ab48b1cfc2d358462f4b56829f7?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelTeoh", "link": "https://stackoverflow.com/users/2738405/michaelteoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437971208, "creation_date": 1437963561, "question_id": 31644052, "link": "https://stackoverflow.com/questions/31644052/perl-collect-data-from-complex-hash", "title": "Perl - collect data from complex Hash", "body": "<p>Recently I got this so call hash info from my boss, asking me to collect info from it. I tried all my knowledge to get it done... unfortunately I got nothing out from it. Here's I want to get from it... I need the value from Keys \"3\",\"9\" and \"10\" under UNIT tag as shown below, please help how can I do it in perl?</p>\n\n<pre><code>$VAR1 = {\n      'DETAIL' =&gt; {\n                  'UNIT' =&gt; [\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              },\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              },\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              },\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              },\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              },\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              },\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              },\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              },\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              },\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              },\n                              {\n                                '1' =&gt; 'A',\n                                '2' =&gt; 'B',\n                                '3' =&gt; C,\n                                '4' =&gt; D,\n                                '5' =&gt; 'E',\n                                '6' =&gt; 'F',\n                                '7' =&gt; 'Y',\n                                '8' =&gt; '',\n                                '9' =&gt; 'G',\n                                '10' =&gt; 'H',\n                                '11' =&gt; '0'\n                              }\n                            ],\n                  'z' =&gt; 'qq'\n                },\n      'HEADER' =&gt; {\n                    'session_id' =&gt; '123456789',\n                    'trans_id' =&gt; '143580181175634',\n                    'timestamp' =&gt; '143580181175634',\n                    'destination' =&gt; [\n                                       '24658547',\n                                       '34547846'\n                                     ],\n                    'origin' =&gt; 'SERVER1',\n                    'type' =&gt; 'UnitInfo',\n                    'buffer' =&gt; 'STANDARD',\n                    'origin_name' =&gt; 'TESTServer1'\n                  }\n    };\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1437960850, "post_id": 31643634, "comment_id": 51234131, "body": "Side note: the goatse (or Saturn) &quot;operator&quot; <code>=()=</code> is documented in <a href=\"https://metacpan.org/pod/distribution/perlsecret/lib/perlsecret.pod#Goatse\" rel=\"nofollow noreferrer\"><code>perldoc perlsecret</code></a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1437966155, "post_id": 31643634, "comment_id": 51235224, "body": "<a href=\"http://www.perlmonks.org/?node_id=790129\" rel=\"nofollow noreferrer\">Mini-Tutorial: Scalar vs List Assignment Operator</a>"}], "answers": [{"comments": [{"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1437960694, "post_id": 31643700, "comment_id": 51234100, "body": "For &quot;<code>()=&lt;&gt;</code> enforce list context&quot;, so it doesn&#39;t change anything if <code>&lt;&gt;</code> is already under list context?  But <code>print (()=&lt;&gt;)</code> outputs nothing and <code>print &lt;&gt;</code> outputs the lines."}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "reply_to_user": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1437961038, "post_id": 31643700, "comment_id": 51234165, "body": "@Thomson see edit, I have added an explanation for that"}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437965989, "post_id": 31643700, "comment_id": 51235194, "body": "@ikegami thanks for feedback, have amended answer accordingly"}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437966869, "post_id": 31643700, "comment_id": 51235326, "body": "@ikegami ok so now I copied that bit directly from perlop"}, {"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1438017988, "post_id": 31643700, "comment_id": 51263603, "body": "The link to perlsecret really helps. But it is still a little hard to understand the the goatse operator. Especially for these these 2 statements: <code>print scalar(@n=($a,$b)=@{[a,b,c,d]});</code> outputs 2, but <code>print scalar($n=($a,$b)=@{[a,b,c,d]});</code> outputs 4."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1438023489, "post_id": 31643700, "comment_id": 51266907, "body": "@Thomson ikegami&#39;s tutorial on the <a href=\"http://www.perlmonks.org/?node_id=790129\" rel=\"nofollow noreferrer\">list vs. scalar assignment operator</a> might help. Assignment is right-associative, so <code>@n=($a,$b)=@{[a,b,c,d]}</code> is equivalent to <code>@n=( ($a,$b)=@{[a,b,c,d]} )</code>. The leftmost assignment is a list assignment in scalar context, while the rightmost assignment is a list assignment in list context. <code>$n=($a,$b)=@{[a,b,c,d]}</code> is equivalent to <code>$n=( ($a,$b)=@{[a,b,c,d]} )</code>. The leftmost assignment is a scalar assignment in scalar context, while the rightmost assignment is a list assignment in scalar context."}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "reply_to_user": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1438038691, "post_id": 31643700, "comment_id": 51274095, "body": "@Thomson If you are still unclear it might be a good idea to open another question with additional scenarios you want to see explained. This question would become a mess if we keep expanding it&#39;s scope."}], "tags": [], "owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "is_accepted": true, "score": 10, "last_activity_date": 1437975804, "last_edit_date": 1437975804, "creation_date": 1437959847, "answer_id": 31643700, "question_id": 31643634, "link": "https://stackoverflow.com/questions/31643634/assign-to-empty-list-in-perl/31643700#31643700", "title": "Assign &lt;&gt; to empty list in Perl", "body": "<p>The <code>&lt;&gt;</code> operator behaves differently depending on the context. In scalar context it gives you the next line read, while in list context it reads until EOF and gives you a list of the lines it has read.</p>\n\n<p>Doing this:</p>\n\n<pre><code>()=&lt;&gt;\n</code></pre>\n\n<p>does not assign anything, but it does enforce list context, so that &lt;> delivers a list of all lines read.</p>\n\n<p>Doing this:</p>\n\n<pre><code>print $x=()=&lt;&gt;;\n</code></pre>\n\n<p>results in the assignment operator being interpreted in scalar context, so yielding the number of lines (since a list assignment in scalar context returns the number of elements produced by the expression on the right hand side of the assignment).</p>\n\n<p>This also works:</p>\n\n<pre><code>print (scalar (()=&lt;&gt;));\n</code></pre>\n\n<hr>\n\n<p>Another interesting aspect is why this:</p>\n\n<pre><code>print &lt;&gt;;\n</code></pre>\n\n<p>prints all the lines in the file and yet this:</p>\n\n<pre><code>print (()=&lt;&gt;);\n</code></pre>\n\n<p>prints nothing. The reason is that the result of a list assignment expression is the a list of the values assigned. In the latter case, no values are assigned, so the result of the expression (which is then consumed by print) is an empty list.</p>\n\n<p>Try this:</p>\n\n<pre><code>print ((undef,undef)=&lt;&gt;);\n</code></pre>\n\n<p>You will find it gives you the first two lines of the input file. Even though those lines are assigned to 'undef', they are still assigned, so they are still part of the result of the expression.</p>\n\n<p>For a more complete explanation of how <code>=()=</code> works you might like to read <a href=\"https://metacpan.org/pod/distribution/perlsecret/lib/perlsecret.pod#Goatse\" rel=\"noreferrer\">perlsecret</a> as per the comment by ThisSuitIsBlackNot.</p>\n"}], "owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 1, "accepted_answer_id": 31643700, "answer_count": 1, "score": 1, "last_activity_date": 1437975804, "creation_date": 1437959187, "question_id": 31643634, "link": "https://stackoverflow.com/questions/31643634/assign-to-empty-list-in-perl", "title": "Assign &lt;&gt; to empty list in Perl", "body": "<p>How to understand the assign of diamond operator (<code>&lt;&gt;</code>) to empty list in Perl like below, does it make any assignment happen since there is no variable involved?</p>\n\n<pre><code>print (()=&lt;&gt;)\n</code></pre>\n\n<p>The above prints out nothing but the below prints line count in <code>&lt;&gt;</code>. How does the line count pass to <code>$x</code>?</p>\n\n<pre><code>print $x=()=&lt;&gt;\n</code></pre>\n"}, {"tags": ["eclipse", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1437922695, "post_id": 31638187, "comment_id": 51223215, "body": "Can you run perl from the command line?"}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437932607, "post_id": 31638187, "comment_id": 51226547, "body": "@simbabque Yes I can run perl from command Line."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437933350, "post_id": 31638187, "comment_id": 51226799, "body": "And <code>C:\\Perl\\bin\\perl.exe</code> exists? What is the output of <code>where perl</code>?"}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437935250, "post_id": 31638187, "comment_id": 51227475, "body": "@Borodin Yes it exists , where perl gives &quot;C:\\Perl\\bin\\perl.exe&quot;."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1437936588, "post_id": 31638187, "comment_id": 51227911, "body": "Switch to strawberry Perl, forget everything you know about ActivePerl. Its easier that way."}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437938041, "post_id": 31638187, "comment_id": 51228410, "body": "@TLP can&#39;t do that, need to work on active perl only."}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437938138, "post_id": 31638187, "comment_id": 51228444, "body": "@TLP and I don&#39;t thing this issue is due to Active perl."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437944471, "post_id": 31638187, "comment_id": 51230377, "body": "@TLP: I think I agree, but only because of bad experiences with ActivePerl and its ppm about twelve years ago. Do you know of a differential review?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437945427, "post_id": 31638187, "comment_id": 51230665, "body": "@Borodin Well, just my experiences since switching from ActivePerl to Strawberry. Before, I was limited to which modules to use, if they worked and lots of little issues. After, no fuss, at all. Everything just works."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437945695, "post_id": 31638187, "comment_id": 51230746, "body": "@TLP: I had pretty much the same experience, but I hoped and assumed that ActiveState had used the interim decade to improve their product. From what you say they&#39;ve changed very little"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1437965774, "post_id": 31638187, "comment_id": 51235154, "body": "Strawberry Perl is just a limited version of AP. Switching won&#39;t help"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437981163, "post_id": 31638187, "comment_id": 51239868, "body": "Try a different IDE. Not really a solution, but maybe helps in diagnosing. Komodo IDE has a 30 day trial. Install that, set up the Perl interpreter there and see if it works."}], "owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 468, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1437935791, "creation_date": 1437921293, "last_edit_date": 1437935791, "question_id": 31638187, "link": "https://stackoverflow.com/questions/31638187/fail-to-execute-command-line-c-perl-bin-perl-exe-v-in-eclipse-epic", "title": "Fail to execute command line &quot;C:\\Perl\\bin\\perl.exe&quot; &quot;-v&quot; in eclipse EPIC", "body": "<p>I am using ActivePerl and Eclipse Luna. I am trying to run Perl files through Eclipse but it's not working; it is giving following error</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>To operate correctly, EPIC requires a Perl interpreter\" reason: Fail to execute command line  \"C:\\Perl\\bin\\perl.exe\n</code></pre>\n\n<p>It was working fine earlier but for the last couple of days it is showing this error. I have reinstalled Eclipse/EPIC and tried every solution I can wind on the web like changing the perl executable path, but nothing is working for me.</p>\n\n<p>I can run Perl from the command line.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437929596, "post_id": 31638219, "comment_id": 51225533, "body": "That will make only one or the other substitution. It will change <code>http:&#47;&#47;www.domain-name.tld</code> into <code>www.domain-name.tld</code> which isn&#39;t what is wanted"}], "tags": [], "owner": {"reputation": 1460, "user_id": 1493379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf946b17cfc8c468c17451bd14a53830?s=128&d=identicon&r=PG", "display_name": "blueygh2", "link": "https://stackoverflow.com/users/1493379/blueygh2"}, "is_accepted": false, "score": 0, "last_activity_date": 1437921459, "creation_date": 1437921459, "answer_id": 31638219, "question_id": 31638171, "link": "https://stackoverflow.com/questions/31638171/perl-regex-to-replace-2-substrings/31638219#31638219", "title": "perl regex to replace 2 substrings", "body": "<p>Combine the regex: <code>(http:\\/\\/)|(www\\.)</code></p>\n\n<p><code>s/(http:\\/\\/)|(www\\.)//r;</code></p>\n\n<p>This removes http:// and/or www.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1437929489, "creation_date": 1437929489, "answer_id": 31639517, "question_id": 31638171, "link": "https://stackoverflow.com/questions/31638171/perl-regex-to-replace-2-substrings/31639517#31639517", "title": "perl regex to replace 2 substrings", "body": "<p>If you make both the <code>http://</code> and the <code>www.</code> optional but look for both of them then it will remove either one or both. The only disparity from the original code is that it will change <code>www.http://domain-name.tld</code> to <code>http://domain-name.tld</code> which I think isn't a disadvantage</p>\n\n<p>It seems odd to ask for a on-liner that modifies user input, so I've written this sample that processes four different strings from the <code>DATA</code> file handle. Also note that it's much tidier to use different delimiters for the substitution to avoid having to escape the slashes</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( &lt;DATA&gt; ) {\n  s|^(?:http://)?(?:www\\.)?||;\n  print;\n}\n\n\n__END__\nhttp://www.domain-name.tld\nhttp://domain-name.tld\nwww.domain-name.tld\ndomain-name.tld\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>domain-name.tld\ndomain-name.tld\ndomain-name.tld\ndomain-name.tld\n</code></pre>\n"}], "owner": {"reputation": 2776, "user_id": 1144681, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3bea9f2d8516d7ebb5596aee518a0286?s=128&d=identicon&r=PG", "display_name": "rahuL", "link": "https://stackoverflow.com/users/1144681/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 31639517, "answer_count": 2, "score": -2, "last_activity_date": 1437930178, "creation_date": 1437921211, "last_edit_date": 1437929101, "question_id": 31638171, "link": "https://stackoverflow.com/questions/31638171/perl-regex-to-replace-2-substrings", "title": "perl regex to replace 2 substrings", "body": "<p>I wrote a perl snippet that strips <code>http://</code> and <code>www</code> from the front of a domain name input from the console</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nprint \"Enter the domain name to be queried:\\n\";\nmy $input_domain = &lt;&gt;;\nchomp ($input_domain);\n\nmy $inter_domain = $input_domain =~ s/http:\\/\\///r;\nmy $domain = $inter_domain =~ s/www.//r;\n\nprint $domain.\"\\n\";\n</code></pre>\n\n<p>When <code>http://domain-name.tld</code> or <code>http://www.domain-name.tld</code> or even*<code>www.domain-name.tld</code> is entered, this code returns <code>domain-name.tld</code>.</p>\n\n<p>The question I have is, can the same be achieved using a Perl one-liner that combines both the search and replace lines into one?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1437921339, "post_id": 31638151, "comment_id": 51222733, "body": "&quot;Avoid starting a new top-level hierarchy, especially if a suitable hierarchy already exists under which you could place your module.&quot; \u2014 <a href=\"http://perldoc.perl.org/perlmodstyle.html#What&#39;s-in-a-name%3f\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlmodstyle.html#What&#39;s-in-a-name%3f</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437921667, "post_id": 31638151, "comment_id": 51222875, "body": "<a href=\"https://pause.perl.org/pause/query?ACTION=pause_namingmodules\" rel=\"nofollow noreferrer\">pause.perl.org/pause/query?ACTION=pause_namingmodules</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1437928551, "post_id": 31638151, "comment_id": 51225196, "body": "While answers to this question are indeed <i>primarily opinion-based</i> it doesn&#39;t mean that this is a poor question. There are certain conventions, such as using <code>CamelCase</code> for package names and avoiding all lower-case identifiers, that should be followed if a module is expected to be used extensively, and there is a huge range of predefined names in CPAN that should be acknowledged and avoided as far as possible"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1440776028, "last_edit_date": 1495539836, "creation_date": 1437927658, "answer_id": 31639220, "question_id": 31638151, "link": "https://stackoverflow.com/questions/31638151/how-to-name-perl-module-somemodule-vs-somemodule/31639220#31639220", "title": "How to name perl module, SomeModule vs Some::Module", "body": "<p>If you take a look at CPAN you will see that, by and large, module names are organised into top-level categories for the first segment of the name, and a distinctive name within that category for each module. For instance, the top ten categories (by distribution count) are</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Net\nApp\nWWW\nTest\nData\nCatalyst\nAcme\nText\nDist\nHTML\n</code></pre>\n\n<p>The second part of the name is usually either to identify it within all other modules of that category (such as <code>HTML::TreeBuilder</code>), or as a subdivision of a large category (like <code>Net::FTP::*</code> modules)</p>\n\n<p>There may be a third section to the name, which represents either a component module of an overall set (for example <code>DBIx::Class::Relationship</code> and <code>DBIx::Class::ResultSet</code> ) or a separate module that has been subclassed from another (like <code>HTML::TreeBuilder::XPath</code>)</p>\n\n<p>For too long there has been no control over the names of the modules uploaded to CPAN, and some parts of it can be a bit of a mess. However it does represent a defined and growing set of names that you should try to avoid with your own package identifiers. Your example isn't very realistic, but I would probably go with just <code>SomeModule</code>, as just inserting a pair of colons between every pair of words is definitely <em>not</em> the way to go</p>\n\n<p>If you have multiple modules you can start gathering them together into categories, and it would help if you used a top-level category (like <code>Site</code> or <code>Company</code>) that avoided clashes with any CPAN modules that you could use. Examples could be <code>Site::Utils::Matrices</code> and <code>Site::Utils::StringProcessing</code></p>\n\n<p>The one major rule is that your package names should be in CamelCase, as all lower-case names are reserved for Perl pragmas</p>\n\n<p>Since <a href=\"https://stackoverflow.com/users/1334695/stevieb\">stevieb's</a> solution has been deleted, it's worth me reposting a link to <a href=\"https://stackoverflow.com/users/2766176/brian-d-foy\">brian d foy</a>'s excellent <a href=\"https://pause.perl.org/pause/query?ACTION=pause_namingmodules\" rel=\"nofollow noreferrer\"><strong><em>On The Naming of Modules</em></strong></a> which makes many salient points</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437929979, "post_id": 31639566, "comment_id": 51225666, "body": "I think it&#39;s unwise to name your module lazily because you are &quot;sure&quot; that it will never make its way to CPAN. Temporary code has a habit of becoming permanent code, and any module should at least fall in with the broad scheme of CPAN naming if only to avoid clashing with it"}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 3, "last_activity_date": 1437933018, "last_edit_date": 1437933018, "creation_date": 1437929770, "answer_id": 31639566, "question_id": 31638151, "link": "https://stackoverflow.com/questions/31638151/how-to-name-perl-module-somemodule-vs-somemodule/31639566#31639566", "title": "How to name perl module, SomeModule vs Some::Module", "body": "<p>It depends whether or not you intend to put your module on CPAN. If you are putting it on CPAN, you should be reading <a href=\"http://perldoc.perl.org/perlmodstyle.html\" rel=\"nofollow\"><code>perldoc perlmodstyle</code></a> anyway. If however you are just using the modules privately, the most relevant point is that the <code>::</code> is used to signify a directory hierarchy. Ex:</p>\n\n<pre><code>use lib 'my_module';\nuse Some::Module;\n</code></pre>\n\n<p>This loads a module named \"Module.pm\" in a folder called \"Some\", in the directory \"my_module\". </p>\n\n<p>This is not to be confused with package names, which often also use <code>::</code>. With package names, <code>::</code> is usually used to designate conceptual hierarchies or relationships between packages, such as classes and sub-classes. </p>\n"}], "owner": {"reputation": 129, "user_id": 1559353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0267a9537b3d4a87082052f98fc7d487?s=128&d=identicon&r=PG", "display_name": "Dima Chumak", "link": "https://stackoverflow.com/users/1559353/dima-chumak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "closed_date": 1437952423, "accepted_answer_id": 31639220, "answer_count": 2, "score": 0, "last_activity_date": 1440776028, "creation_date": 1437921099, "question_id": 31638151, "link": "https://stackoverflow.com/questions/31638151/how-to-name-perl-module-somemodule-vs-somemodule", "closed_reason": "Opinion-based", "title": "How to name perl module, SomeModule vs Some::Module", "body": "<p>Is there any preferred naming convention for perl modules?</p>\n\n<p>For example, what is more common practice in perl world - <code>SomeModule</code> or <code>Some::Module</code>? Maybe there are some cases when one style is better than another?</p>\n"}, {"tags": ["python", "bash", "perl"], "comments": [{"owner": {"reputation": 10069, "user_id": 1226028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7f910a9763aa0e5b30fd18514faa1b6b?s=128&d=identicon&r=PG", "display_name": "Karl Barker", "link": "https://stackoverflow.com/users/1226028/karl-barker"}, "edited": false, "score": 0, "creation_date": 1437913309, "post_id": 31636860, "comment_id": 51220309, "body": "Why would rewriting in python/perl reduce the resource usage?"}, {"owner": {"reputation": 1, "user_id": 5157437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155788352925361/picture?type=large", "display_name": "Muhammad Shahid", "link": "https://stackoverflow.com/users/5157437/muhammad-shahid"}, "reply_to_user": {"reputation": 10069, "user_id": 1226028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7f910a9763aa0e5b30fd18514faa1b6b?s=128&d=identicon&r=PG", "display_name": "Karl Barker", "link": "https://stackoverflow.com/users/1226028/karl-barker"}, "edited": false, "score": 0, "creation_date": 1437913556, "post_id": 31636860, "comment_id": 51220382, "body": "bash is slow processing and it takes time to complete the whole process, as per my assumption perl is good/fast for text processing. correct me if I am wrong."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1437914137, "post_id": 31636860, "comment_id": 51220550, "body": "I don&#39;t see a question there. Are you expecting us to write this for you?"}, {"owner": {"reputation": 1, "user_id": 5157437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155788352925361/picture?type=large", "display_name": "Muhammad Shahid", "link": "https://stackoverflow.com/users/5157437/muhammad-shahid"}, "edited": false, "score": 0, "creation_date": 1437914327, "post_id": 31636860, "comment_id": 51220605, "body": "Just let me know if it is possible with perl? if some one provide me code so it would be great."}, {"owner": {"reputation": 10069, "user_id": 1226028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7f910a9763aa0e5b30fd18514faa1b6b?s=128&d=identicon&r=PG", "display_name": "Karl Barker", "link": "https://stackoverflow.com/users/1226028/karl-barker"}, "edited": false, "score": 2, "creation_date": 1437914646, "post_id": 31636860, "comment_id": 51220694, "body": "Yes it&#39;s possible in perl. No we&#39;re not going to write it for you."}, {"owner": {"reputation": 1, "user_id": 5157437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155788352925361/picture?type=large", "display_name": "Muhammad Shahid", "link": "https://stackoverflow.com/users/5157437/muhammad-shahid"}, "edited": false, "score": 1, "creation_date": 1437914832, "post_id": 31636860, "comment_id": 51220755, "body": "ok thank you for your time."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 1, "creation_date": 1437916125, "post_id": 31636860, "comment_id": 51221086, "body": "@MuhammadShahid Could you include sample regular expressions used in egrep commands?  Quite likely the best approach may be to combine all regular expression into single one and keep using egrep. IMHO Perl is not good for &quot;simplistic&quot; processing of HUGE (1GB) files."}, {"owner": {"reputation": 1, "user_id": 5157437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155788352925361/picture?type=large", "display_name": "Muhammad Shahid", "link": "https://stackoverflow.com/users/5157437/muhammad-shahid"}, "edited": false, "score": 0, "creation_date": 1437916930, "post_id": 31636860, "comment_id": 51221315, "body": "Hi Andrzej,  I am not using regular expressions in the script, I just need to search ID in oc-resizer.log file in loop, ie &quot;1031210084&quot; ID is included in logo.csv file while loop search 1031210084 in oc-resizer.log file and redirect result into purge-resizer.tmp file."}, {"owner": {"reputation": 1, "user_id": 5157437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155788352925361/picture?type=large", "display_name": "Muhammad Shahid", "link": "https://stackoverflow.com/users/5157437/muhammad-shahid"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1437917254, "post_id": 31636860, "comment_id": 51221411, "body": "@Andrzej, I am also looking way to use multiple strings search via grep instead of while loop."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 2, "creation_date": 1437917272, "post_id": 31636860, "comment_id": 51221415, "body": "@AndrzejA.Filip: I&#39;m interested in what you mean by <i>simplistic processing</i> and why you think Perl isn&#39;tgood for it. I wouldn&#39;t call a 1GB file <i>huge</i>"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437918730, "post_id": 31636860, "comment_id": 51221835, "body": "@Borodin I remember relative &quot;slowness&quot; of my perl <code>while(&lt;...&gt;) {</code> scripts compared to grep speed.  AFAIR I tested it <b>a few years ago</b> on a few MB files. I suspect it was mostly due to &quot;unoptimized&quot; file buffering. I am <i>sure</i> perl can do <i>much</i> better."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1437918787, "post_id": 31636860, "comment_id": 51221855, "body": "@MuhammadShahid see <a href=\"http://stackoverflow.com/a/31637639/2139766\">stackoverflow.com/a/31637639/2139766</a>"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437919587, "post_id": 31636860, "comment_id": 51222083, "body": "@Borodin It was comp with &quot;not too much&quot; memory (lousy in memory file buffers). I have rechecked it again (30MB file, comp with more memory)  -&gt; grep 9ms, perl 15ms. Even if my assumption stands it would require MUCH bigger (text) files."}], "answers": [{"tags": [], "owner": {"reputation": 2718, "user_id": 4934077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e5DyJ.png?s=128&g=1", "display_name": "Mario Zannone", "link": "https://stackoverflow.com/users/4934077/mario-zannone"}, "is_accepted": false, "score": 2, "last_activity_date": 1437918154, "creation_date": 1437918154, "answer_id": 31637639, "question_id": 31636860, "link": "https://stackoverflow.com/questions/31636860/convert-bash-script-to-perl-or-python/31637639#31637639", "title": "Convert bash script to Perl or Python", "body": "<p>Just reduce your script to this:</p>\n\n<pre><code>#!/bin/bash\negrep -f /opt/nasa/shahid/logo.csv /opt/logs/oc-resizer.log \\\n              &gt;&gt; /opt/logs/purge-resizer.tmp\n</code></pre>\n\n<p>It will be a lot faster. It will be even faster \u2013 if you are searching fixed strings and not patterns \u2013 using fgrep instead of egrep:</p>\n\n<pre><code>fgrep -f /opt/nasa/shahid/logo.csv /opt/logs/oc-resizer.log \\\n              &gt;&gt; /opt/logs/purge-resizer.tmp\n</code></pre>\n\n<p>See <code>man grep</code> for details.</p>\n\n<p>I don't think that perl or python can get faster that this. </p>\n"}], "owner": {"reputation": 1, "user_id": 5157437, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155788352925361/picture?type=large", "display_name": "Muhammad Shahid", "link": "https://stackoverflow.com/users/5157437/muhammad-shahid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1437925883, "creation_date": 1437913096, "last_edit_date": 1437925883, "question_id": 31636860, "link": "https://stackoverflow.com/questions/31636860/convert-bash-script-to-perl-or-python", "title": "Convert bash script to Perl or Python", "body": "<p>I have a bash script which greps numeric values from the log files, but it consumes server resources and the server is becoming overloaded. I want to write the same script in Perl or Python. The log file size is approx 1GB and the script needs to run on a daily basis.</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>while read  i\ndo\negrep -h $i  /opt/logs/oc-resizer.log  &gt;&gt; /opt/logs/purge-resizer.tmp\ndone  &lt; /opt/nasa/shahid/logo.csv\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437905975, "post_id": 31635750, "comment_id": 51218356, "body": "It works fine here: <code>perl -E &#39;@a1=(0,1,2); @a2=qw(a b c); for (@a1) {say $a2[$_]}&#39;</code> gives <code>a</code>, <code>b</code> and <code>c</code>.."}, {"owner": {"reputation": 1679, "user_id": 3523464, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b0f132f15dd9022d7e2eea5ad1d6552?s=128&d=identicon&r=PG&f=1", "display_name": "sdgaw erzswer", "link": "https://stackoverflow.com/users/3523464/sdgaw-erzswer"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437906198, "post_id": 31635750, "comment_id": 51218402, "body": "Interesting. The problem must be elsewhere then. Thank you."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1437909664, "post_id": 31635750, "comment_id": 51219322, "body": "use something like <code>Data::Dumper</code> to check what in a1 and a2 just before the foreach loop"}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1438110491, "post_id": 31635750, "comment_id": 51311798, "body": "<code>for ( @a2[@a1] ) { say }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1679, "user_id": 3523464, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b0f132f15dd9022d7e2eea5ad1d6552?s=128&d=identicon&r=PG&f=1", "display_name": "sdgaw erzswer", "link": "https://stackoverflow.com/users/3523464/sdgaw-erzswer"}, "edited": false, "score": 1, "creation_date": 1437910638, "post_id": 31636495, "comment_id": 51219592, "body": "Thanks, I didn&#39;t know data dumper existed. This really helped."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 1679, "user_id": 3523464, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b0f132f15dd9022d7e2eea5ad1d6552?s=128&d=identicon&r=PG&f=1", "display_name": "sdgaw erzswer", "link": "https://stackoverflow.com/users/3523464/sdgaw-erzswer"}, "edited": false, "score": 0, "creation_date": 1437910796, "post_id": 31636495, "comment_id": 51219633, "body": "Its handy for looking at whats in your variables. Just remember that when looking at an array or hash, it expects a reference to the array or hash, not the actual array or hash its self. so you need to pass it with the backslash."}], "tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": true, "score": 3, "last_activity_date": 1437910491, "creation_date": 1437910491, "answer_id": 31636495, "question_id": 31635750, "link": "https://stackoverflow.com/questions/31635750/using-an-array-to-index-into-another-array/31636495#31636495", "title": "Using an array to index into another array", "body": "<p>There is nothing wrong with the code you have. I have tested a small script and it works as expected. Asi i suggested in my comment, try using something like <code>Data::Dumper</code> to see whats in the arrays before the loop.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @a1 = (0..4);\nmy @a2 = (\"a\"..\"e\");\n\nprint Dumper \\@a1, \\@a2;\n\nforeach (@a1){\n print $a2[$_].\" at \".$_.\"\\n\";\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>$VAR1 = [\n          0,\n          1,\n          2,\n          3,\n          4\n        ];\n$VAR2 = [\n          'a',\n          'b',\n          'c',\n          'd',\n          'e'\n        ];\na at 0\nb at 1\nc at 2\nd at 3\ne at 4\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1437934286, "post_id": 31637186, "comment_id": 51227117, "body": "The OP doesn&#39;t say if his array is for all elements. His array could be <code>my @a1 = (4,6,8)</code> as those might be key fields he is interested in. rather than every element in the array"}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1437915240, "creation_date": 1437915240, "answer_id": 31637186, "question_id": 31635750, "link": "https://stackoverflow.com/questions/31635750/using-an-array-to-index-into-another-array/31637186#31637186", "title": "Using an array to index into another array", "body": "<p>there's no reason your code shouldn't work as long as the values of the first array are valid addresses in the second array. but if all you really want to do is just get the values and address of the second array, you could just do:</p>\n\n<pre><code>for my $i (0..$#a2) {\n    print \"$i: $a2[$i]\",\"\\n\";\n}\n</code></pre>\n\n<p>$#a2 is the last element address of the array.</p>\n"}], "owner": {"reputation": 1679, "user_id": 3523464, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b0f132f15dd9022d7e2eea5ad1d6552?s=128&d=identicon&r=PG&f=1", "display_name": "sdgaw erzswer", "link": "https://stackoverflow.com/users/3523464/sdgaw-erzswer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 31636495, "answer_count": 2, "score": 2, "last_activity_date": 1437915240, "creation_date": 1437905240, "last_edit_date": 1437913716, "question_id": 31635750, "link": "https://stackoverflow.com/questions/31635750/using-an-array-to-index-into-another-array", "title": "Using an array to index into another array", "body": "<p>I have two arrays, let's call them <code>@a1</code> and <code>@a2</code>. What I'm trying to do is obtain elements from <code>@a2</code> using the values in <code>@a1</code> as indices. My current attempt doesn't work properly.</p>\n\n<pre><code>foreach (@a1) {\n    print $a2[$_] . \"at\" . $_;\n}\n</code></pre>\n\n<p>This only prints <code>$_</code> but not <code>$a2[$_]</code>.</p>\n\n<p>I sense there is a trivial solution to this, but I just can't find it.</p>\n"}, {"tags": ["regex", "perl", "pcre", "re2"], "comments": [{"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 4, "creation_date": 1437904062, "post_id": 31632869, "comment_id": 51217864, "body": "What did the authors of those modules say when you asked them?"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 0, "creation_date": 1437912796, "post_id": 31632869, "comment_id": 51220182, "body": "It&#39;s because it&#39;s more natural in Perl to use <code>s&#47;re&#47;repl&#47;</code> for instance than to call some module method. also, you&#39;d have to use <code>q&#47;re&#47;</code> instead of regex literals."}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "reply_to_user": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1437972197, "post_id": 31632869, "comment_id": 51236513, "body": "@CalleDybedahl I didn&#39;t ask them. I thought it would be rude to ask such a basic question directly to the package maintainers rather than a more general forum."}, {"owner": {"reputation": 166, "user_id": 2577543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37700b7590fa905f724a942776686130?s=128&d=identicon&r=PG", "display_name": "Jean-Damien Durand", "link": "https://stackoverflow.com/users/2577543/jean-damien-durand"}, "edited": false, "score": 0, "creation_date": 1438145897, "post_id": 31632869, "comment_id": 51324181, "body": "<a href=\"http://metacpan.org/pod/MarpaX::Languages::M4\" rel=\"nofollow noreferrer\">MarpaX::Languages::M4</a>  is an example of an OO package that is using another regexp engine"}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 5, "last_activity_date": 1437931614, "last_edit_date": 1592644375, "creation_date": 1437928371, "answer_id": 31639341, "question_id": 31632869, "link": "https://stackoverflow.com/questions/31632869/why-implement-a-different-regex-engine-e-g-pcre-as-a-pragma/31639341#31639341", "title": "Why implement a different regex engine (e.g. PCRE) as a pragma?", "body": "<blockquote>\n<p>I'm curious about...why the modules I've seen are pragmas and not a more traditional OO/procedural interface.</p>\n</blockquote>\n<p>Probably because the Perl regex API, documented in <a href=\"http://perldoc.perl.org/perlreapi.html\" rel=\"nofollow noreferrer\"><code>perldoc perlreapi</code></a> and available since 5.9.5, lets you take advantage of Perl's parser, which gives you a lot of cool features with little code.</p>\n<p>If you use the API, you:</p>\n<ul>\n<li>don't have to implement your own version of <code>split</code> and the substitution operator <code>s///</code></li>\n<li>don't have to write your own code to parse regex modifiers (<code>msixpn</code> are passed as flags to your implementation's callback functions)</li>\n<li>can take advantage of optimizations like constant regexes being compiled only once (at compile time) and regexes containing interpolated variables being compiled only when the variables change</li>\n<li>can use <code>qr</code> in your programs to quote regular expressions and easily interpolate them into other regexes</li>\n<li>can easily set numbered and named capture variables, e.g. <code>$1</code>, <code>$+{foo}</code></li>\n<li>don't force users of your engine to rewrite all of their code to use your API; they can simply add a pragma</li>\n</ul>\n<p>There are probably more that I've missed. The point is, you get a lot of free code and free functionality with the API. If you look at the implementation of <a href=\"https://metacpan.org/source/AVAR/re-engine-PCRE-0.17/PCRE.xs\" rel=\"nofollow noreferrer\"><code>re::engine::PCRE</code></a>, for example, it's actually fairly short (&lt; 400 lines of XS code).</p>\n<h1>Alternatives</h1>\n<p>If you're just looking for an easier way to implement your own regex engine, check out <a href=\"https://metacpan.org/pod/re::engine::Plugin\" rel=\"nofollow noreferrer\"><code>re::engine::Plugin</code></a>, which lets you write your implementation in Perl instead of C/XS. Do note that there is a long list of <a href=\"https://metacpan.org/pod/re::engine::Plugin#TODO-CAVEATS\" rel=\"nofollow noreferrer\">caveats</a>, including no support for <code>split</code> and <code>s///</code>.</p>\n<p>Alternatively, instead of implementing a completely custom engine, you can extend the built-in engine by using overloaded constants as described in <a href=\"http://perldoc.perl.org/perlre.html#Creating-Custom-RE-Engines\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a>. This only works in constant regexes; you have to explicitly convert variables before interpolating them into a regex.</p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 1, "accepted_answer_id": 31639341, "answer_count": 1, "score": 5, "last_activity_date": 1437931614, "creation_date": 1437875358, "question_id": 31632869, "link": "https://stackoverflow.com/questions/31632869/why-implement-a-different-regex-engine-e-g-pcre-as-a-pragma", "title": "Why implement a different regex engine (e.g. PCRE) as a pragma?", "body": "<p>I'm curious about the best practices for using a different regex engine in place of the default Perl one and why the modules I've seen are pragmas and not a more traditional OO/procedural interface. I was wondering why that is.</p>\n\n<p>I've seen a handful modules for replacing the Perl regex engine with PCRE (re::engine::PCRE), TRE (re::engine::TRE), or RE2 (re::engine::RE2) in a given lexical context. I can't find any object oriented modules for creating/compiling regular expressions that use a different back end. I'm curious why someone would choose to implement this functionality as a pragma rather than as a more typical module. It seems like replacing the perl regex engine would be a lot harder (depending on the complexity of the API it exposes) than making an XS script that exposes the API that PCRE, TRE, and RE2 already provide.</p>\n"}, {"tags": ["perl", "terminal", "console", "printf"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1437867960, "post_id": 31632127, "comment_id": 51211525, "body": "What do you mean by &quot;progresses&quot;? A dot? A character? A number?"}, {"owner": {"reputation": 1306, "user_id": 864113, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ffe69804cf66d260a3e499ea7f1bbf8c?s=128&d=identicon&r=PG", "display_name": "Kirill Golikov", "link": "https://stackoverflow.com/users/864113/kirill-golikov"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1437900414, "post_id": 31632127, "comment_id": 51217039, "body": "A number, or a filling progress bar."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437919216, "post_id": 31632127, "comment_id": 51221962, "body": "Could you use <a href=\"http://perldoc.perl.org/functions/lock.html\" rel=\"nofollow noreferrer\"><code>lock</code></a> on a shared variable to avoid different threads printing at the same time?"}, {"owner": {"reputation": 1306, "user_id": 864113, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ffe69804cf66d260a3e499ea7f1bbf8c?s=128&d=identicon&r=PG", "display_name": "Kirill Golikov", "link": "https://stackoverflow.com/users/864113/kirill-golikov"}, "edited": false, "score": 0, "creation_date": 1437927683, "post_id": 31632127, "comment_id": 51224883, "body": "It is not a problem, when thread prints. It is a problem, where it prints. I want, each thread prints to its own line in a console. But the caret is only one. So each thread erases and writes to one line, so there is blinking several different progress bars. I what to know, how can I replace caret to one line up? to manually separate the lines of threads. Or there is another way."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1437928181, "post_id": 31632127, "comment_id": 51225054, "body": "You can move the cursor up and down on a terminal window as described here: <a href=\"http://stackoverflow.com/questions/14259311/set-or-change-vertical-position-of-the-cursor\">Set or change vertical position of the cursor</a>"}, {"owner": {"reputation": 1306, "user_id": 864113, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ffe69804cf66d260a3e499ea7f1bbf8c?s=128&d=identicon&r=PG", "display_name": "Kirill Golikov", "link": "https://stackoverflow.com/users/864113/kirill-golikov"}, "edited": false, "score": 0, "creation_date": 1437929452, "post_id": 31632127, "comment_id": 51225481, "body": "It is for bash script, I have tried next:             <i>print  &quot;\\n&quot;   x $tid; # (thread id)            print  &quot;\\b&quot;   x length($progressString) if defined $progressString;            print  &quot;\\e[A&quot; x $tid, &quot;\\r&quot;; # &quot;\\033[A&quot; x $tid</i> It is not working"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1437931711, "post_id": 31632127, "comment_id": 51226250, "body": "This works fine in <code>gnome-terminal</code> : <code>perl -E &#39;say &quot;\\e[1A123456789\\e[0m&quot;&#39;</code>..  It will print the text <code>&quot;123456789&quot;</code> 1 line above the current cursor in the terminal."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 1306, "user_id": 864113, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ffe69804cf66d260a3e499ea7f1bbf8c?s=128&d=identicon&r=PG", "display_name": "Kirill Golikov", "link": "https://stackoverflow.com/users/864113/kirill-golikov"}, "edited": false, "score": 0, "creation_date": 1437931981, "post_id": 31632127, "comment_id": 51226325, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/84314/discussion-between-hakon-haegland-and-so-olitary\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1306, "user_id": 864113, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ffe69804cf66d260a3e499ea7f1bbf8c?s=128&d=identicon&r=PG", "display_name": "Kirill Golikov", "link": "https://stackoverflow.com/users/864113/kirill-golikov"}, "edited": false, "score": 1, "creation_date": 1437933674, "post_id": 31632127, "comment_id": 51226912, "body": "I&#39;ve installed &quot;Win32::Console::ANSI&quot; module, and now it seems, the script is working. No Idea, how will it work in Linux server. Thank you, for your recommendations. (working varint  <i>print &quot;\\e[A&quot; x $tid</i>)"}], "answers": [{"tags": [], "owner": {"reputation": 1306, "user_id": 864113, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ffe69804cf66d260a3e499ea7f1bbf8c?s=128&d=identicon&r=PG", "display_name": "Kirill Golikov", "link": "https://stackoverflow.com/users/864113/kirill-golikov"}, "is_accepted": true, "score": 1, "last_activity_date": 1437993844, "creation_date": 1437993844, "answer_id": 31651038, "question_id": 31632127, "link": "https://stackoverflow.com/questions/31632127/perl-make-beautiful-console-output-for-progress-of-threads/31651038#31651038", "title": "perl - make beautiful console output for progress of threads", "body": "<p>The working variant of my script follows:</p>\n\n<pre><code>use Win32::Console::ANSI; # for Windows and nothing for linux\n# ...\n#---OUTPUT----------------------\nif ( !($x % 10) ) {\n  local $| = 1;\n  # Choose the line for thread ($i - thread_id)\n  print  \"\\n\" x $i;\n  # Remove prev. progress\n  print  \"\\b\" x length($progressString) if defined $progressString;\n\n  # Do lots of processing, update\n  $progressString = \" Thread #$i.  $x / $length1\";\n  print $progressString; # Will print, because auto-flush is on\n  print  \"\\e[A\" x $i, \"\\r\"; # Back to begin before printing\n}\n#-------------------------------\n</code></pre>\n"}], "owner": {"reputation": 1306, "user_id": 864113, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ffe69804cf66d260a3e499ea7f1bbf8c?s=128&d=identicon&r=PG", "display_name": "Kirill Golikov", "link": "https://stackoverflow.com/users/864113/kirill-golikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 1, "accepted_answer_id": 31651038, "answer_count": 1, "score": 2, "last_activity_date": 1437993844, "creation_date": 1437867117, "last_edit_date": 1437927742, "question_id": 31632127, "link": "https://stackoverflow.com/questions/31632127/perl-make-beautiful-console-output-for-progress-of-threads", "title": "perl - make beautiful console output for progress of threads", "body": "<p>All of my threads want to print their progresses to the same line of terminal. I can't make them choose different lines. How can I handle it? (linux &amp; windows, if it possible)</p>\n\n<p>edit:</p>\n\n<p>I have tried two variants:</p>\n\n<p>1.</p>\n\n<p>When I print '\\n', lines go down, \\b do not erase \\n characters:</p>\n\n<pre><code>if ( !($x % 10) )\n  {\n    local $| = 1; # Or use IO::Handle; STDOUT-&gt;autoflush;\n    # remove prev progress\n    print \"\\b\" x length($progressString) if defined $progressString;\n    # do lots of processing, update $counter\n    $progressString = \"Thread #$tid.  $x / $length1\"; # No more newline\n    print $progressString; # Will print, because auto-flush is on\n  }\n</code></pre>\n\n<p>2.</p>\n\n<p>similarly</p>\n\n<pre><code>my $progress = Term::ProgressBar-&gt;new($length1);\n$progress-&gt;update($x);\n</code></pre>\n\n<p>Thank you, in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437973836, "post_id": 31631638, "comment_id": 51236976, "body": "Although it doesn&#39;t make much difference in your example, the first form is more convenient than the second when used in the conditional of a <code>while</code> loop. In fact, this pattern is common enough that I would call it an idiom. For example, <code>while (&lt;STDIN&gt;) { }</code> is equivalent to <code>while (defined($_ = &lt;STDIN&gt;)) { }</code>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437990945, "post_id": 31631638, "comment_id": 51245402, "body": "@ThisSuitIsBlackNot Yes, case 1 seems to be more convenient in <code>while</code> loops..I agree. The problem with <code>if</code> statements, seems to be that the lexical variable propagates into following <code>elsif</code> and <code>else</code> blocks.. usually this is not desired, and could lead to confusing code that are difficult to debug/read for others.."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1438010934, "post_id": 31631638, "comment_id": 51259158, "body": "I don&#39;t think that behavior is confusing. Note that <a href=\"http://perldoc.perl.org/perlsub.html#Private-Variables-via-my%28%29\" rel=\"nofollow noreferrer\">the same thing applies</a> to <code>until</code> and <code>continue</code> blocks attached to <code>while</code> and <code>foreach</code> loops, e.g. while (my $line = &lt;&gt;) { $line = lc $line; } continue { print $line; }` There&#39;s a similar example for <code>if&#47;elsif&#47;else</code> in <code>perlsub</code> in the section I linked to."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438012138, "post_id": 31631638, "comment_id": 51260007, "body": "@ThisSuitIsBlackNot Thanks for the link, that was the documentation I was looking for, but couldn&#39;t find.. Maybe you are right.. if the user knows about the scoping rules that applies, it should not be confusing.. I was first thinking it would be logical that the scope of the variable should be confined only to the <code>if</code> part, and not extend to the  <code>else</code> parts, but maybe that was not so logical after all in retrospect :)"}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437862972, "post_id": 31631682, "comment_id": 51210587, "body": "Great, I was searching in <code>perlsyn</code> and <code>perldata</code> and <code>perlintro</code>, I wouldn&#39;t think it was in <code>perlsub</code> :)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1437863005, "post_id": 31631682, "comment_id": 51210597, "body": "I found it by starting at <a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow noreferrer\"><code>perldoc -f my</code></a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437863275, "post_id": 31631682, "comment_id": 51210659, "body": "When I type <code>perldoc -f my</code> I get this output: <a href=\"http://pastebin.com/9X5WXdE4\" rel=\"nofollow noreferrer\">pastebin.com/9X5WXdE4</a> . It is not mentioned as far as I can see.."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437863466, "post_id": 31631682, "comment_id": 51210697, "body": "@H&#229;konH&#230;gland  &#39;See &quot;Private Variables via my()&quot; in perlsub for details&#39; - which is what I linked."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1437862701, "creation_date": 1437862701, "answer_id": 31631682, "question_id": 31631638, "link": "https://stackoverflow.com/questions/31631638/lexical-declaration-used-as-right-hand-side-value-in-if-statement/31631682#31631682", "title": "Lexical declaration used as right-hand side value in if statement", "body": "<p><a href=\"http://perldoc.perl.org/perlsub.html#Private-Variables-via-my%28%29\" rel=\"nofollow\"><code>perldoc perlsub</code></a> says:</p>\n\n<blockquote>\n  <p>The <code>my</code> is simply a modifier on something you might assign to.</p>\n</blockquote>\n\n<p>That is, anywhere you have <code>$foo</code> you can also write <code>my $foo</code> (except for quoted constructs, of course).</p>\n\n<hr>\n\n<p>As for your first question, I have no opinion on that.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437862701, "creation_date": 1437862296, "question_id": 31631638, "link": "https://stackoverflow.com/questions/31631638/lexical-declaration-used-as-right-hand-side-value-in-if-statement", "title": "Lexical declaration used as right-hand side value in if statement", "body": "<p>Compare case 1:</p>\n\n<pre><code>if (defined (my $a_var = $h-&gt;{a})) {\n    # .. do some calculations with $a_var \n}\n</code></pre>\n\n<p>and case 2:</p>\n\n<pre><code>if (defined $h-&gt;{a}) {\n    my $a_var = $h-&gt;{a};\n    # .. do some calculations with $a_var \n}\n</code></pre>\n\n<p>what would be best programming practice, to use case 1 or case 2?</p>\n\n<p>I see that for case 1, I do not have to repeat <code>$h-&gt;{a}</code> twice. But it will also make the lexical variable <code>$a_var</code> (unintentionally) available in following <code>elsif</code> and <code>else</code> blocks..</p>\n\n<p>Another question: Where is this usage of declaration as right-hand side value of another expression documented at <a href=\"http://perldoc.perl.org/perl.html\" rel=\"nofollow\">perldoc.perl.org</a> ?</p>\n\n<p>(For example, statements like <code>my $a = (my $b = (my $c = 3));</code> are perfectly valid..)</p>\n"}, {"tags": ["regex", "perl", "parsing", "text-parsing", "string-parsing"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1437861910, "post_id": 31631571, "comment_id": 51210349, "body": "This reads like &quot;please write this program for me&quot; combined with &quot;I don&#39;t know how to do it, so it must be easy&quot;."}, {"owner": {"reputation": 502, "user_id": 3123791, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/IS2nx.jpg?s=128&g=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/3123791/brett"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437862360, "post_id": 31631571, "comment_id": 51210447, "body": "I have been trying at this for about a day, and despite having a perl textbook, I still can&#39;t figure it out. Like I said, I CAN do it using grep/awk/sed, and also by piping together multiple perl one-liners. So its not &quot;write this program for me so I can accomplish my task&quot;, its more of &quot;I want to learn the elegant way to do this&quot;"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437862426, "post_id": 31631571, "comment_id": 51210462, "body": "So ask a concrete question about something you&#39;re stuck on."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437863141, "post_id": 31631571, "comment_id": 51210630, "body": "&quot;I&#39;m not just trying to solicit people writing this code for me&quot; - then what kind of answer are you looking for?"}, {"owner": {"reputation": 502, "user_id": 3123791, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/IS2nx.jpg?s=128&g=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/3123791/brett"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437863541, "post_id": 31631571, "comment_id": 51210711, "body": "@melomene Ok, here&#39;s a specific question...how can I condense the following TWO perl CLI invocations into one (ie do the same thing, but without piping)?                                                                                                   <code>perl -wnle &#39;&#47;english&#47;i and ($_ =~ &#47;\\&quot;(\\w)*\\&quot;&#47; and print $&amp;);&#39; sp2_string.h | perl -wlne &#39;s&#47;[&quot;,]&#47;&#47;g and print;&#39;</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437863676, "post_id": 31631571, "comment_id": 51210742, "body": "Change <code>(\\w)*</code> to <code>(\\w*)</code> and <code>$&amp;</code> to <code>$1</code>."}, {"owner": {"reputation": 502, "user_id": 3123791, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/IS2nx.jpg?s=128&g=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/3123791/brett"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437863830, "post_id": 31631571, "comment_id": 51210770, "body": "@melomene Thanks! Could you explain the significance of those changes for me please? Because doesn&#39;t (\\w)* greedy-match 0 or more word characters up until the end quotes?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437866798, "post_id": 31631571, "comment_id": 51211347, "body": "If you&#39;ve been working for so long on this you should have some code that you can show and explain the problem you are having with it"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437864368, "post_id": 31631833, "comment_id": 51210878, "body": "<code>$_ =~</code> is redundant because <code>$_</code> is the default target of the match operator (you already make use of this in <code>&#47;english&#47;i</code>). <code>&quot;</code> aren&#39;t special in regexes and don&#39;t need to be escaped."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437866676, "post_id": 31631833, "comment_id": 51211327, "body": "This won&#39;t work with your sample data as <code>\\w</code> doesn&#39;t match exclamation marks <code>!</code>"}], "tags": [], "owner": {"reputation": 502, "user_id": 3123791, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/IS2nx.jpg?s=128&g=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/3123791/brett"}, "is_accepted": true, "score": 0, "last_activity_date": 1437864151, "creation_date": 1437864151, "answer_id": 31631833, "question_id": 31631571, "link": "https://stackoverflow.com/questions/31631571/perl-print-a-string-between-quotes-only-on-lines-that-match-a-certain-regexp/31631833#31631833", "title": "Perl: print a string between quotes only on lines that match a certain regexp", "body": "<p>answer from @melomene in the comments did the trick. </p>\n\n<p>I went from</p>\n\n<pre><code>perl -wnle '/english/i and ($_ =~ /\\\"(\\w)*\\\"/ and print $&amp;);' file.h | perl -wlne 's/[\",]//g and print;' \n</code></pre>\n\n<p>to</p>\n\n<pre><code>perl -wnle '/english/i and ($_ =~ /\\\"(\\w*)\\\"/ and print $1);` file.h\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1437870354, "last_edit_date": 1437870354, "creation_date": 1437866700, "answer_id": 31632079, "question_id": 31631571, "link": "https://stackoverflow.com/questions/31631571/perl-print-a-string-between-quotes-only-on-lines-that-match-a-certain-regexp/31632079#31632079", "title": "Perl: print a string between quotes only on lines that match a certain regexp", "body": "<p>Something like this is an improvement on your own solution. It should be called as</p>\n\n<pre><code>perl filter_header.pl english header.h\n</code></pre>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nopen my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n\nwhile ( &lt;$fh&gt; ) {\n  next unless m| // \\s* \\Q$lang |ix;\n  print $1, \"\\n\" if / \" ([^\"]*) \" /x;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>HELLO!\nGOODBYE!\nFOO\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1437926848, "last_edit_date": 1437926848, "creation_date": 1437921010, "answer_id": 31638132, "question_id": 31631571, "link": "https://stackoverflow.com/questions/31631571/perl-print-a-string-between-quotes-only-on-lines-that-match-a-certain-regexp/31638132#31638132", "title": "Perl: print a string between quotes only on lines that match a certain regexp", "body": "<p>An experimental feature of v5.22 is <a href=\"http://perldoc.perl.org/perlretut.html#A-bit-of-magic%3a-executing-Perl-code-in-a-regular-expression\" rel=\"nofollow\"><code>code evaluation expressions</code></a>. You can execute code from within the regex if it succeeds. That, combined with a positive lookahead, you get this:</p>\n\n<pre><code>/\"(.*?)\".*(?=english)(?{print \"$1\\n\";})$/i;\n</code></pre>\n"}], "owner": {"reputation": 502, "user_id": 3123791, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/IS2nx.jpg?s=128&g=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/3123791/brett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 31631833, "answer_count": 3, "score": -2, "last_activity_date": 1437926848, "creation_date": 1437861758, "last_edit_date": 1437862561, "question_id": 31631571, "link": "https://stackoverflow.com/questions/31631571/perl-print-a-string-between-quotes-only-on-lines-that-match-a-certain-regexp", "title": "Perl: print a string between quotes only on lines that match a certain regexp", "body": "<p><strong>EDIT: I'm not just trying to solicit people writing this code for me.....I have been trying at this for about a day, and despite having a perl textbook, I still can't figure it out. Like I said, I CAN do it using grep/awk/sed, and also by piping together multiple perl one-liners....I just can't figure out how to do it in one perl invocation.</strong></p>\n\n<p>I'm new to Perl so this one will be quick and easy to answer.</p>\n\n<p>I'm trying to write a script that will parse a file line-by-line and print the first word on a line that is contained between quotes, but <strong>only</strong> on lines that contain a specific string at the EOL (string is passed as an argument). The file in a C header file that, along with lots of other junk in it, contains a struct definition in the format below, which has the strings I want to extract.</p>\n\n<pre><code>struct Foo_t foo\n{\n\n    /* str_HELLO */\n    { {5,4,8,7,9},\n      {     \"HELLO!\",      // English \n            \"BONJOUR!\",    // French\n            \"Hallo!\",       // German \n            \"BONJOURNO!\",   // Italian\n            \"HOLA!\"         // Spanish\n    } }, \n\n    /* str_GOODBYE */\n    { {15,3,3,3,3},\n      {     \"GOODBYE!\",     // English \n            \"AU REVOUIR!\",   // French\n            \"TSCHUSS!\",      // German \n            \"CIAO!\",         // Italian\n            \"ADIOS!\"      // Spanish\n    } }, \n\n\n    /* str_FOO */\n    { {15,3,3,3,3},\n      {     \"FOO\",      // English \n            \"BAR\",      // French\n            \"NOO\",      // German \n            \"BAZ\",      // Italian\n            \"OOF\"       // Spanish\n    } },\n\n\n    // lots more of these....\n    // .... \n</code></pre>\n\n<p>And to get the desired output, I would want the invocation to be </p>\n\n<pre><code>bash~$: myscript.pl -language=english file_to_be_parsed.h \n</code></pre>\n\n<p>I can easily do this by piping together greps, but I really wanna get this in perl. I've tried to do this simple task via a script and also with a one-liner, but none of have worked. Since this is so quick, if any perl wizards could show me the light, along with an explanation for the matching stuff, it would be much appreciated. </p>\n\n<p>Thanks in advance!!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2949, "user_id": 2094094, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/989ab5905f9fa07297e9c44715a95544?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2094094/alexander"}, "edited": false, "score": 2, "creation_date": 1437833525, "post_id": 31625634, "comment_id": 51202046, "body": "use strict; use warnings; You already declared $str at string one, and you again declaring it on string three"}], "answers": [{"comments": [{"owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 0, "creation_date": 1437821307, "post_id": 31625650, "comment_id": 51199020, "body": "What is the intention when the caret is inserted outside the square brackets?"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 0, "creation_date": 1437821360, "post_id": 31625650, "comment_id": 51199032, "body": "<code>^</code> is called start anchor outside <code>[...]</code> and is used to match line start ."}, {"owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 0, "creation_date": 1437821561, "post_id": 31625650, "comment_id": 51199071, "body": "Unfortunately even with this edit, the string is printed as null."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 0, "creation_date": 1437821682, "post_id": 31625650, "comment_id": 51199103, "body": "<a href=\"http://ideone.com/cTJrSb\" rel=\"nofollow noreferrer\">See this working demo</a> You need to remove <code>my</code> 2nd time as I showed in my answer also. Using <code>my</code> will initialize the variable again."}, {"owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 1, "creation_date": 1437821821, "post_id": 31625650, "comment_id": 51199148, "body": "Perils of forgetting to <code>use warnings</code>. Thank you"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1437831635, "post_id": 31625650, "comment_id": 51201504, "body": "Of course it is incorrect, bad copy/paste from question. Thanks for pointing it out, corrected."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 3, "last_activity_date": 1437831594, "last_edit_date": 1437831594, "creation_date": 1437821229, "answer_id": 31625650, "question_id": 31625634, "link": "https://stackoverflow.com/questions/31625634/perl-regex-remove-all-characters-except-alphanumeric-characters-and-comma/31625650#31625650", "title": "Perl regex - remove all characters except alphanumeric characters and comma", "body": "<blockquote>\n  <p>I was trying to remove all characters except alphanumeric characters and comma.</p>\n</blockquote>\n\n<p>You need to use:</p>\n\n<pre><code>$str =~ s/[^a-zA-Z0-9,]+//g;\n</code></pre>\n\n<p>Notice <code>^</code> as first character inside <code>[...]</code> that negates every character inside character class denoted by <code>[...]</code></p>\n\n<p><code>[^a-zA-Z0-9,]+</code> will match 1 or more of anything that is not letter, digit or comma.</p>\n"}, {"comments": [{"owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "reply_to_user": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 1, "creation_date": 1437890027, "post_id": 31625758, "comment_id": 51215043, "body": "This replace all non printable characters like ^M into null"}], "tags": [], "owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1437821973, "creation_date": 1437821973, "answer_id": 31625758, "question_id": 31625634, "link": "https://stackoverflow.com/questions/31625634/perl-regex-remove-all-characters-except-alphanumeric-characters-and-comma/31625758#31625758", "title": "Perl regex - remove all characters except alphanumeric characters and comma", "body": "<p>Try this to remove special characters from string</p>\n\n<pre><code>$str =~ s/[^[:print:]]//g;\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>$str =~ s/[^[print:]]//g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2949, "user_id": 2094094, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/989ab5905f9fa07297e9c44715a95544?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2094094/alexander"}, "edited": false, "score": 3, "creation_date": 1437849734, "post_id": 31625975, "comment_id": 51207066, "body": "@Alexander: This <code>\\p{...}</code> is a <i>Unicode property</i>. There is a list of those available in <a href=\"http://perldoc.perl.org/perluniprops.html\" rel=\"nofollow noreferrer\"><code>perldoc perluniprops</code></a>"}], "tags": [], "owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "is_accepted": false, "score": 3, "last_activity_date": 1437823543, "creation_date": 1437823543, "answer_id": 31625975, "question_id": 31625634, "link": "https://stackoverflow.com/questions/31625634/perl-regex-remove-all-characters-except-alphanumeric-characters-and-comma/31625975#31625975", "title": "Perl regex - remove all characters except alphanumeric characters and comma", "body": "<p>Alternative:</p>\n\n<pre><code>$str =~ s/[^\\p{PosixAlnum},]//g;\n</code></pre>\n\n<p>e.g. remove anything what isn't posix alphanumeric or comma.</p>\n"}, {"comments": [{"owner": {"reputation": 839, "user_id": 2261349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e843e82fbb2a5a476808321e72c720c?s=128&d=identicon&r=PG", "display_name": "Znik", "link": "https://stackoverflow.com/users/2261349/znik"}, "edited": false, "score": 0, "creation_date": 1551961074, "post_id": 31626549, "comment_id": 96837923, "body": "sometimes is usefull not to remove, but replace problematic character. then you should replace $str =~ s/[^a-zA-Z0-9,]//g;    by   $str =~ s/[^a-zA-Z0-9,]/X/g;  where X is your replacement."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 16, "last_activity_date": 1437829112, "last_edit_date": 1437829112, "creation_date": 1437828177, "answer_id": 31626549, "question_id": 31625634, "link": "https://stackoverflow.com/questions/31625634/perl-regex-remove-all-characters-except-alphanumeric-characters-and-comma/31626549#31626549", "title": "Perl regex - remove all characters except alphanumeric characters and comma", "body": "<p>You have three errors conspiring to break your program. If you had <code>use strict</code> and <code>use warnings</code> at the top of your code as you should have then Perl would have printed messages to alert you</p>\n\n<ul>\n<li><p>You have declared a second <code>$str</code>, which is therefore <code>undef</code> and is printed as an empty string</p></li>\n<li><p>You have the caret outside the character class, so it is acting as a start-of-string anchor instead of negating the class</p></li>\n<li><p>You have <code>[a-zA-z0-9]</code> as your character class. <code>A-z</code> includes the characters <code>[</code>, <code>\\</code>, <code>]</code>, <code>^</code>, <code>_</code>, and <code>`</code> as well as the upper and lower case alphabet. You need <code>[a-zA-Z0-9]</code> instead</p></li>\n</ul>\n\n<p>Here is some working code. Your text string contains a Unicode character <em>U+2592 Medium Shade</em> so I've had to <code>use utf8</code> to mark the code as being encoded in UTF-8, and <code>use open</code> to set STDOUT to accept UTF-8 encoding</p>\n\n<pre><code>use utf8;\nuse strict;\nuse warnings;\n\nuse open qw/ :std :encoding(utf-8) /;\n\nmy $str = 'Uploaded 07-02\u259205:14, Size 212.14\u2592MiB, ULed by someone';\n\nprint \"Pre: $str\\n\";\n\n$str =~ s/[^a-zA-Z0-9,]//g;\n\nprint \"Post: $str\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>Pre: Uploaded 07-02\u259205:14, Size 212.14\u2592MiB, ULed by someone\nPost: Uploaded07020514,Size21214MiB,ULedbysomeone\n</code></pre>\n"}], "owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14776, "favorite_count": 0, "accepted_answer_id": 31626549, "answer_count": 4, "score": 2, "last_activity_date": 1437841832, "creation_date": 1437821117, "last_edit_date": 1437825889, "question_id": 31625634, "link": "https://stackoverflow.com/questions/31625634/perl-regex-remove-all-characters-except-alphanumeric-characters-and-comma", "title": "Perl regex - remove all characters except alphanumeric characters and comma", "body": "<p>I have the following code:</p>\n\n<pre><code>my $str = 'Uploaded 07-02\u259205:14, Size 212.14\u2592MiB, ULed by someone';\nprint \"Pre:\".$str.\"\\n\";\nmy $str =~ s/^[a-zA-z0-9,]//g;\nprint \"Post:\".$str.\"\\n\";\n</code></pre>\n\n<p>My aim was to remove those special characters and spaces so that I could split the string for further processing. </p>\n\n<p>With the regex above, I was trying to remove all characters except alphanumeric characters and comma. Unfortunately I am getting a blank line. I'm a beginner to regex and would like to know what is wrong with my expression.</p>\n"}, {"tags": ["javascript", "html", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437816989, "post_id": 31624816, "comment_id": 51197969, "body": "What is the actual problem? Why can&#39;t you use asynchronous calls? What does <i>&quot;none of the ideas passed&quot;</i> mean? Have you written some Perl code that you need help with? If not, then why not?"}, {"owner": {"reputation": 62484, "user_id": 20745, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc5d9e7efea07afc78d5408680438507?s=128&d=identicon&r=PG", "display_name": "friedo", "link": "https://stackoverflow.com/users/20745/friedo"}, "edited": false, "score": 1, "creation_date": 1437818196, "post_id": 31624816, "comment_id": 51198244, "body": "Why do you think AJAX can&#39;t be used in Perl? I use it all the time."}, {"owner": {"reputation": 1888, "user_id": 2168706, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/JB0GQ.jpg?s=128&g=1", "display_name": "Santosh Sahu", "link": "https://stackoverflow.com/users/2168706/santosh-sahu"}, "reply_to_user": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 0, "creation_date": 1437829207, "post_id": 31624816, "comment_id": 51200902, "body": "@cajwine: i guess i told that I can&#39;t use AJAX call, if you have some answer please help. I think now you can understand"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1437829779, "post_id": 31624816, "comment_id": 51201059, "body": "@SantoshSahu ... what? I have no idea what &quot;I guess I told&quot; is supposed to mean."}, {"owner": {"reputation": 1888, "user_id": 2168706, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/JB0GQ.jpg?s=128&g=1", "display_name": "Santosh Sahu", "link": "https://stackoverflow.com/users/2168706/santosh-sahu"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437846391, "post_id": 31624816, "comment_id": 51206057, "body": "@melpomene: &quot;I guess I told&quot; is I already mentioned in the question that I can&#39;t use AJAX to solve the problem."}, {"owner": {"reputation": 1888, "user_id": 2168706, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/JB0GQ.jpg?s=128&g=1", "display_name": "Santosh Sahu", "link": "https://stackoverflow.com/users/2168706/santosh-sahu"}, "edited": false, "score": 0, "creation_date": 1437846546, "post_id": 31624816, "comment_id": 51206109, "body": "I clearly asked, if there is any other way we can solve problem without using AJAX calls, if people don&#39;t have answer please don&#39;t demoralize the question by giving negative points and unuseful answers."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1437850176, "post_id": 31624816, "comment_id": 51207185, "body": "You said in your question, <i>\u201cUnfortunately AJAX call can&#39;t be used in Perl\u201d</i> which isn&#39;t true; AJAX <i>can</i> be used in Perl. If you meant that you don&#39;t <i>want</i> or are not <i>allowed</i> to do so then you should say so. If you spend a little more time explaining your circumstances and your problem you will get much better answers; as it it you have just confused us"}], "answers": [{"comments": [{"owner": {"reputation": 1888, "user_id": 2168706, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/JB0GQ.jpg?s=128&g=1", "display_name": "Santosh Sahu", "link": "https://stackoverflow.com/users/2168706/santosh-sahu"}, "edited": false, "score": 0, "creation_date": 1437849175, "post_id": 31629763, "comment_id": 51206912, "body": "thanks very much, already had this idea in my mind."}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 2, "last_activity_date": 1437848920, "creation_date": 1437848920, "answer_id": 31629763, "question_id": 31624816, "link": "https://stackoverflow.com/questions/31624816/passing-a-value-from-perl-to-an-html-file/31629763#31629763", "title": "Passing a value from Perl to an HTML file", "body": "<p>If you don't want to use an ajax call, then your onclick call will need to basically do a redirect to your perl script and the perl script will need to output a full page rather than just updating a portion of the current page. Something like this:</p>\n\n<pre><code>onclick=\"self.location='perlscript.pl?param1=value1&amp;param2=value2'\"\n</code></pre>\n"}], "owner": {"reputation": 1888, "user_id": 2168706, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/JB0GQ.jpg?s=128&g=1", "display_name": "Santosh Sahu", "link": "https://stackoverflow.com/users/2168706/santosh-sahu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "closed_date": 1437978674, "answer_count": 1, "score": -5, "last_activity_date": 1437848920, "creation_date": 1437814990, "last_edit_date": 1437817129, "question_id": 31624816, "link": "https://stackoverflow.com/questions/31624816/passing-a-value-from-perl-to-an-html-file", "closed_reason": "Needs details or clarity", "title": "Passing a value from Perl to an HTML file", "body": "<p>There is a button present in HTML, which when pressed the <code>OnClick</code> function should run a Perl file and get a variable's value from Perl file and display it on HTML file. </p>\n\n<p>Unfortunately AJAX call can't be used in Perl. I tried so many ways, but none of the ideas passed. Could anyone please say what other methods can be used to solved this problem?</p>\n"}, {"tags": ["regex", "perl", "file-rename", "batch-rename"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 2659484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54d6cfbbb9a7e109c332ea9824f8458?s=128&d=identicon&r=PG", "display_name": "vikan", "link": "https://stackoverflow.com/users/2659484/vikan"}, "edited": false, "score": 0, "creation_date": 1437815968, "post_id": 31624526, "comment_id": 51197744, "body": "well, it changes the direcory if the filename has no spaces. For example <code>.&#47;ringtones 1 space test&#47;R2D2.mp3 -&gt; .&#47;ringtones_1_space_test&#47;r2d2.mp3</code> It replaced the space in directory also but there are files left to process in the directory which will fail then."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437820045, "post_id": 31624526, "comment_id": 51198711, "body": "What is <code>perl-rename</code>? I&#39;m vaguely aware of it as a utility that accompanies Perl , but I cannot find it in any of my Perl installations nor mention of it on the internet"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1437820219, "post_id": 31624526, "comment_id": 51198757, "body": "On my host is called just <code>rename</code>. I used <code>prel-rename</code> from OP&#39;s question assuming it is some alias of same."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437820623, "post_id": 31624526, "comment_id": 51198858, "body": "Okay, thank you. I assume it&#39;s <a href=\"http://search.cpan.org/~pederst/rename-1.9/bin/rename.PL\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 35, "user_id": 2659484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54d6cfbbb9a7e109c332ea9824f8458?s=128&d=identicon&r=PG", "display_name": "vikan", "link": "https://stackoverflow.com/users/2659484/vikan"}, "edited": false, "score": 1, "creation_date": 1439704559, "post_id": 31624526, "comment_id": 51965688, "body": "on Arch Linux, it comes as perl-rename."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 0, "last_activity_date": 1437817117, "last_edit_date": 1437817117, "creation_date": 1437812770, "answer_id": 31624526, "question_id": 31624214, "link": "https://stackoverflow.com/questions/31624214/how-to-rename-all-files-to-lowercase-solved-and-simultaneously-spaces-to-under/31624526#31624526", "title": "How to rename all files to lowercase (solved) and simultaneously spaces to underscores", "body": "<p>You can use:</p>\n\n<pre><code>find . -depth -print0 | \n   xargs -0 perl-rename -n 's~([^/]+)$~\\L$1~;s~(?:.*/|\\G)\\K(\\S+)\\s+(?![^/]*/)~$1_~g'\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/dG5pA9/7\" rel=\"nofollow\">RegEx Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 0, "last_activity_date": 1437821333, "last_edit_date": 1437821333, "creation_date": 1437818303, "answer_id": 31625269, "question_id": 31624214, "link": "https://stackoverflow.com/questions/31624214/how-to-rename-all-files-to-lowercase-solved-and-simultaneously-spaces-to-under/31625269#31625269", "title": "How to rename all files to lowercase (solved) and simultaneously spaces to underscores", "body": "<pre><code>find . -depth -print0 | \nxargs -r0 perl-rename -n  's!([^/]+$)!lc($1 =~s/ /_/gr)!e'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1437820711, "last_edit_date": 1495542119, "creation_date": 1437819168, "answer_id": 31625389, "question_id": 31624214, "link": "https://stackoverflow.com/questions/31624214/how-to-rename-all-files-to-lowercase-solved-and-simultaneously-spaces-to-under/31625389#31625389", "title": "How to rename all files to lowercase (solved) and simultaneously spaces to underscores", "body": "<p>As <a href=\"https://stackoverflow.com/users/548225/anubhava\">anubhava</a> has indicated, the problem is with changing the names of directories while you are processing the tree. It is similar to the issue with modifying a Perl hash while you are iterating over it</p>\n\n<p>This is the sort of thing that the <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow noreferrer\"><code>File::Find</code> module's</a> <code>finddepth</code> function is for. It will report a directory name only immediately before the scan is about to back out of it, and <em>after</em> all the contents have been reported</p>\n\n<p>As long as you are running Perl v5.14 or better, so that <code>tr///</code> will accept the non-destructive susbtitution modifier <code>/r</code>, you can write it in one line like this</p>\n\n<pre><code>perl -MFile::Find=finddepth -e\"finddepth(sub{ rename $_, tr/A-Z /a-z_/r }, '/path/to/root/dir')\"\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 2659484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54d6cfbbb9a7e109c332ea9824f8458?s=128&d=identicon&r=PG", "display_name": "vikan", "link": "https://stackoverflow.com/users/2659484/vikan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 31624526, "answer_count": 3, "score": 2, "last_activity_date": 1437821333, "creation_date": 1437810326, "question_id": 31624214, "link": "https://stackoverflow.com/questions/31624214/how-to-rename-all-files-to-lowercase-solved-and-simultaneously-spaces-to-under", "title": "How to rename all files to lowercase (solved) and simultaneously spaces to underscores", "body": "<p>I am trying to convert all files to lowercase in a directory tree and subsequently move spaces to underscores or hyphens. The first part I was able to get by searching which uses below code.</p>\n\n<p><code>find . -depth -print0 | xargs -r0 perl-rename -n 's/(.*)\\/([^\\/]*)/$1\\/\\L$2/;'</code></p>\n\n<p>Now I am trying to extend it to move spaces to _ also in a single regex but with no success till now. I tried with various combinations of \\K operator as I think it'd be possible with that. Could you please help me out. The last command I tried was,</p>\n\n<p><code>find . -depth -print0 | xargs -r0 perl-rename -n 's/(.*)\\/([^\\/]*)/$1\\/\\L$2/;s/(.*)\\/\\K(\\S+)\\s+\\g1/_/g;'</code></p>\n\n<p>but it doesn't seem to work.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1437806063, "post_id": 31623705, "comment_id": 51195580, "body": "Can you share the error please?"}, {"owner": {"reputation": 21, "user_id": 3546525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QYok.png?s=128&g=1", "display_name": "noelvillaman", "link": "https://stackoverflow.com/users/3546525/noelvillaman"}, "reply_to_user": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1437806197, "post_id": 31623705, "comment_id": 51195601, "body": "It does not show on the screen. It only states 500 Internal Server Error Contact your bla bla bla...."}, {"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1437806373, "post_id": 31623705, "comment_id": 51195634, "body": "And what does the server log show?"}, {"owner": {"reputation": 21, "user_id": 3546525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QYok.png?s=128&g=1", "display_name": "noelvillaman", "link": "https://stackoverflow.com/users/3546525/noelvillaman"}, "reply_to_user": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1437806557, "post_id": 31623705, "comment_id": 51195674, "body": "It is my school server, so I don&#39;t think I can get there. Can I?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437808189, "post_id": 31623705, "comment_id": 51195958, "body": "Does this program work when you run it from the command line?"}, {"owner": {"reputation": 21, "user_id": 3546525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QYok.png?s=128&g=1", "display_name": "noelvillaman", "link": "https://stackoverflow.com/users/3546525/noelvillaman"}, "edited": false, "score": 0, "creation_date": 1437809533, "post_id": 31623705, "comment_id": 51196246, "body": "No, it does not run from the command line. I gives me error saying that the terminal cannot connect to the server at line 3. But if I comment out the subroutine, everything is cool. <a href=\"http://web.engr.oregonstate.edu/cgi-bin/cgiwrap/~villaman/tablessql.cgi\" rel=\"nofollow noreferrer\">web.engr.oregonstate.edu/cgi-bin/cgiwrap/~villaman/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3546525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QYok.png?s=128&g=1", "display_name": "noelvillaman", "link": "https://stackoverflow.com/users/3546525/noelvillaman"}, "edited": false, "score": 0, "creation_date": 1437892098, "post_id": 31624257, "comment_id": 51215455, "body": "I do not know man. I can run this same subroutine somewhere else, and it works fine. I just think that there something in that I do not see."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 21, "user_id": 3546525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QYok.png?s=128&g=1", "display_name": "noelvillaman", "link": "https://stackoverflow.com/users/3546525/noelvillaman"}, "edited": false, "score": 0, "creation_date": 1437892301, "post_id": 31624257, "comment_id": 51215498, "body": "Oh, I&#39;m sure that on its own the subroutine does exactly what you want it to. But when called from within this program it needs to fit in with the way the program works."}, {"owner": {"reputation": 21, "user_id": 3546525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QYok.png?s=128&g=1", "display_name": "noelvillaman", "link": "https://stackoverflow.com/users/3546525/noelvillaman"}, "edited": false, "score": 0, "creation_date": 1437981217, "post_id": 31624257, "comment_id": 51239892, "body": "That was the problem, that I was printing something in a print statement. Thanks. This is not for a class, this is for my personal learning."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 21, "user_id": 3546525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QYok.png?s=128&g=1", "display_name": "noelvillaman", "link": "https://stackoverflow.com/users/3546525/noelvillaman"}, "edited": false, "score": 0, "creation_date": 1437983615, "post_id": 31624257, "comment_id": 51241179, "body": "Yeah, I know that was the problem. I told you that :-) If this is for your personal study, then you really shouldn&#39;t waste your time teaching yourself CGI. Take a look at Mojolicious or Dancer instead."}, {"owner": {"reputation": 21, "user_id": 3546525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QYok.png?s=128&g=1", "display_name": "noelvillaman", "link": "https://stackoverflow.com/users/3546525/noelvillaman"}, "edited": false, "score": 1, "creation_date": 1438107839, "post_id": 31624257, "comment_id": 51310221, "body": "I going to take you advice and I will change to one or both of your suggestions. Thanks."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1437902406, "last_edit_date": 1437902406, "creation_date": 1437810671, "answer_id": 31624257, "question_id": 31623705, "link": "https://stackoverflow.com/questions/31623705/i-only-want-to-print-the-table-names-from-my-db/31624257#31624257", "title": "I only want to print the table names from my DB", "body": "<p>In a comment, you say that you don't think that you can see the web server error log. It is ridiculous to try to develop a CGI program without access to the server error log. You should try to get that fixed as a matter of urgency.</p>\n\n<p>But in the mean time, you can work round this restriction by adding the following near the top of your code.</p>\n\n<pre><code>use CGI::Carp 'fatalsToBrowser';\n</code></pre>\n\n<p>That will copy the error log messages to your browser so you can see them. But remember to remove or comment out that line before the code goes into production (not that this code will ever go into production in any meaningful way - I realise it's homework).</p>\n\n<p>While you're editing that part of your code, also add:</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>You should add these lines to every Perl program you write and fix all the errors and warnings that they give you.</p>\n\n<p>So what's the problem with this code? I suspect that running it from the browser, you'll get an error about there being no CGI header line. That's because you <code>exit()</code> the program from the end of your <code>table_names()</code> subroutine. So the program never gets back from calling the <code>table_names()</code> subroutine and your main <code>print()</code> statement never gets executed - and that includes the <code>header()</code>.</p>\n\n<p>Also, in your main <code>print()</code> statement, you print the value returned from <code>table_names()</code>. But <code>table_names()</code> doesn't return anything. You need to change the logic in <code>table_names()</code> so that it returns the HTML it creates rather than printing it directly. Printing it directly will put it in the wrong place in the output stream.</p>\n\n<p>One other point that I don't expect you're in any position to do anything about... CGI is pretty much a dead technology. This course is teaching you stuff that would have been useful fifteen years ago. Perhaps you could point your teacher at <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow\">CGI::Alternatives</a> and ask if he or she would consider teaching something that is more relevant to how web development is done today.</p>\n\n<p><strong>Update:</strong> The simplest fix is probably to split up your <code>print</code> statement so that things happen in the right order.</p>\n\n<pre><code># Print all the start page stuff\nprint\n    header,\n    start_html(\n        -title =&gt; $page1,\n        -meta =&gt; {\n            'viewport'  =&gt; 'width=device-width, initial-scale=1',\n            'copyright' =&gt; 'copyright 2015 Noel Villaman'\n        },\n        -style =&gt; [\n            { -src =&gt; 'bootstrap.min.css' },\n            { -src =&gt; 'cgicssjs/style1.css' }\n        ]\n    ),\n    h1( $page1 );\n\n# No need to call print here as table_names\n# does its own printing\ntable_names( $dbh-&gt;table_info() );\n\n# Print all the end of page stuff.\nprint\n    hr,\n    \"\\n\";\n</code></pre>\n\n<p>You'll still need to remove the <code>exit()</code> from the end of <code>table_names</code>, otherwise the program will never return from that subroutine.</p>\n\n<p>Also, by doing this you lose a &lt;div> around the output from <code>table_names</code>. Fixing that is left as an exercise for the reader.</p>\n"}], "owner": {"reputation": 21, "user_id": 3546525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QYok.png?s=128&g=1", "display_name": "noelvillaman", "link": "https://stackoverflow.com/users/3546525/noelvillaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 31624257, "answer_count": 1, "score": -1, "last_activity_date": 1437902406, "creation_date": 1437805946, "last_edit_date": 1437857814, "question_id": 31623705, "link": "https://stackoverflow.com/questions/31623705/i-only-want-to-print-the-table-names-from-my-db", "title": "I only want to print the table names from my DB", "body": "<p>Here is my code. I get an internal server error with this. The subroutine is a clone from a book. So it is good to go. I just cannot get these tables to be on the screen by the time I look at the site. Is there anything that you guys see I am doing wrong?</p>\n\n<pre><code>#!/usr/bin/perl -T\n\nuse 5.010;\nuse DBI;    #this is for database connections.\n\nuse CGI qw/:standard/;\nuse CGI::Carp qw(fatalsToBrowser);\n\n#my $driver = \"mysql\";\nmy $database = \"myown\";\nmy $hostname = \"whereitis\";\nmy $dsn      = \"longblabla\";\nmy $userid   = \"memyselfandI\";\nmy $password = \"onlymetoknow\";\nmy $page1    = \"Tables in the database: \" . $database;\n\nmy $dbh = DBI-&gt;connect( $dsn, $userid, $password ) or die $DBI::errstr;\n\nprint\n    header,\n    start_html(\n        -title =&gt; $page1,\n        -meta =&gt; {\n            'viewport'  =&gt; 'width=device-width, initial-scale=1',\n            'copyright' =&gt; 'copyright 2015 Noel Villaman'\n        },\n        -style =&gt; [\n            { -src =&gt; 'bootstrap.min.css' },\n            { -src =&gt; 'cgicssjs/style1.css' }\n        ]\n    ),\n    h1( $page1 ),\n    div( table_names( $dbh-&gt;table_info() ) ),\n    hr,\n    \"\\n\";\n\n# Disconnect from the database.\n$dbh-&gt;disconnect();\nprint end_html;\n\nsub table_names {\n    my $names = $_[0];\n\n    ### Create a new statement handle to fetch table information\n    my $tabsth = $names;    #$dbh-&gt;table_info();\n\n    ### Print the header\n    print \"&lt;h1&gt;Table Name&lt;/h1&gt;\";\n    print \"&lt;h3&gt;===============&lt;/h3&gt;\";\n\n    ### Iterate through all the tables...\n    while ( my ( $qual, $owner, $name, $type, $remarks ) = $tabsth-&gt;fetchrow_array() ) {\n\n        ### Tidy up NULL fields\n        foreach ( $qual, $owner, $name, $type, $remarks ) {\n            $_ = \"N/A\" unless defined $_;\n        }\n\n        ### Print out the table metadata...\n        print \"&lt;h3&gt;$name&lt;/h3&gt;\";\n    }\n\n    exit;\n}\n</code></pre>\n"}, {"tags": ["java", "perl", "shell", "hadoop"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 3764303, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6604f6b05629d1151c2227fd8507efc8?s=128&d=identicon&r=PG&f=1", "display_name": "user3764303", "link": "https://stackoverflow.com/users/3764303/user3764303"}, "edited": false, "score": 0, "creation_date": 1437832859, "post_id": 31626973, "comment_id": 51201855, "body": "tks for ur suggestion, so do you mean to say ,I create a directory in the HDFS  and  do a mount cmd like &quot; mount /export/hdfs.&quot; and put this path in the script &quot;/export/hdfs&quot;"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 19, "user_id": 3764303, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6604f6b05629d1151c2227fd8507efc8?s=128&d=identicon&r=PG&f=1", "display_name": "user3764303", "link": "https://stackoverflow.com/users/3764303/user3764303"}, "edited": false, "score": 0, "creation_date": 1437838244, "post_id": 31626973, "comment_id": 51203510, "body": "@user3764303 Content of the script has to be available. You have some options. Make a copy and run this copy. Mount it. You have to get the content anyway."}, {"owner": {"reputation": 19, "user_id": 3764303, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6604f6b05629d1151c2227fd8507efc8?s=128&d=identicon&r=PG&f=1", "display_name": "user3764303", "link": "https://stackoverflow.com/users/3764303/user3764303"}, "edited": false, "score": 0, "creation_date": 1437844108, "post_id": 31626973, "comment_id": 51205357, "body": "I have added part of my perl script here for ur reference for further assistance , tks in advance. I need to change the path of the home/local to HDFS path here. If you can explain the options in detail, that would be gr8"}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1437911404, "last_edit_date": 1437911404, "creation_date": 1437831013, "answer_id": 31626973, "question_id": 31622674, "link": "https://stackoverflow.com/questions/31622674/define-hadoop-fs-path-inside-shell-script-or-perl-script/31626973#31626973", "title": "Define hadoop FS path inside shell script or perl script", "body": "<p>Mount HDFS into some place and then define a path to this place.</p>\n"}], "owner": {"reputation": 19, "user_id": 3764303, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6604f6b05629d1151c2227fd8507efc8?s=128&d=identicon&r=PG&f=1", "display_name": "user3764303", "link": "https://stackoverflow.com/users/3764303/user3764303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437972001, "creation_date": 1437795718, "last_edit_date": 1592644375, "question_id": 31622674, "link": "https://stackoverflow.com/questions/31622674/define-hadoop-fs-path-inside-shell-script-or-perl-script", "title": "Define hadoop FS path inside shell script or perl script", "body": "<p>How can I define my path for HDFS inside my shell or perl script so that it picks the input files stored in hdfs and executes the script . It executes correctly under the local file system, but i may need in hdfs</p>\n<p>For example , I have part of the script below defined for executing in local path</p>\n<p>Define names of folders to be watched</p>\n<pre><code>$folderRoot = **'/home/local'**;\n</code></pre>\n<p>A Java pgm</p>\n<pre><code>$oscmd = &quot;java -classpath **/home/local**&quot;;\n#print &quot;forking Java PGM [$thisFile] [$oscmd]\\n&quot;;\n$oscmdResult = `$oscmd`;\nprint &quot;$oscmdResult\\n&quot;;\n</code></pre>\n<ol>\n<li><p>How to define the HDFS path inside Shell or perl script</p>\n</li>\n<li><p>How to define in the Java classpath in Java Pgm for HDFS so when the shell script is called it invokes the Java pgm as well</p>\n<h1>My objective : the perl/shell script  needs to pick the input files in HDFS and execute it successfully</h1>\n</li>\n</ol>\n"}, {"tags": ["mysql", "perl"], "answers": [{"comments": [{"owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1437794105, "post_id": 31622275, "comment_id": 51193652, "body": "Thanks for response. Can you help me on How to create above mentioned JSON from this SQL query result?"}, {"owner": {"reputation": 3515, "user_id": 3419696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36b3f42291e55ff5ad7957527e7831f1?s=128&d=identicon&r=PG&f=1", "display_name": "M0rtiis", "link": "https://stackoverflow.com/users/3419696/m0rtiis"}, "reply_to_user": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1437797612, "post_id": 31622275, "comment_id": 51194157, "body": "i am not familiar with perl, sorry :)"}], "tags": [], "owner": {"reputation": 3515, "user_id": 3419696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36b3f42291e55ff5ad7957527e7831f1?s=128&d=identicon&r=PG&f=1", "display_name": "M0rtiis", "link": "https://stackoverflow.com/users/3419696/m0rtiis"}, "is_accepted": false, "score": 2, "last_activity_date": 1437792067, "last_edit_date": 1437792067, "creation_date": 1437791486, "answer_id": 31622275, "question_id": 31621978, "link": "https://stackoverflow.com/questions/31621978/how-to-avoid-inner-queries-in-mysql/31622275#31622275", "title": "How to avoid inner queries in Mysql", "body": "<pre><code>SCC.subcategory_id\nSC.sub_categories_id\nSCC.category_id\n</code></pre>\n\n<p>this fields should be indexes, then it will be fast. Joins should be on indexed fields</p>\n\n<p>also you dont need (for fetching subcategories data) a loop here (queries in a loop - bad idea), use single query:</p>\n\n<pre><code>SELECT SCC.subcategory_id, SC.sub_category_name, C.*\n            FROM\n            table_subcategory_categories as SCC\n            INNER JOIN \n            table_subcategories as SC\n            ON\n            SCC.subcategory_id = SC.sub_categories_id\nINNER JOIN table_categories as C ON SCC.category_id = C.id\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 4429747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a182fa342cf95f33870032e2c49f3db3?s=128&d=identicon&r=PG&f=1", "display_name": "Channel Islander", "link": "https://stackoverflow.com/users/4429747/channel-islander"}, "is_accepted": false, "score": 0, "last_activity_date": 1437794553, "creation_date": 1437794553, "answer_id": 31622562, "question_id": 31621978, "link": "https://stackoverflow.com/questions/31621978/how-to-avoid-inner-queries-in-mysql/31622562#31622562", "title": "How to avoid inner queries in Mysql", "body": "<p>You should prepare the query outside the loop using <a href=\"http://search.cpan.org/~timb/DBI-1.633/DBI.pm#Placeholders_and_Bind_Values\" rel=\"nofollow\">placeholders and bind variables</a>.</p>\n\n<p>You should also create your database handle with <code>{ RaiseError =&gt; 1}</code> so you don't have to explicitly check for errors.</p>\n\n<p>You should also fetch the results as a hashref and avoid creating your own hash each time through the loop.</p>\n\n<pre><code>my $dbh  = DBI-&gt;connect($dsn, { RaiseError =&gt; 1 });\n\nmy $sql1 = \"SELECT * from table_categories\";\nmy $sth1  = $dbh-&gt;prepare ($sql1);  \n$sth1-&gt;execute();  \n\nmy @loop_data = ();\n\nmy $sql2 = qq/\n    SELECT SCC.subcategory_id as scid, SC.sub_category_name as scname\n    FROM table_subcategory_categories SCC\n    INNER JOIN table_subcategories SC\n      ON SCC.subcategory_id = SC.sub_categories_id\n    WHERE SCC.category_id = ?\n/;\nmy $sth2 = $dbh-&gt;prepare( $sql2 );\n\nwhile (my @data = $sth1-&gt;fetchrow_array()) {\n    $sth2-&gt;execute( $data[0] );\n\n    my @InnerLoopData = ();\n\n    while (my $InnerData = $sth2-&gt;fetchrow_hashref()) {\n        push(@InnerLoopData, $InnerData);\n    }\n\n    my %data = ( 'id'            =&gt; $data[0],\n                 'name'          =&gt; $data[1],\n                 'image'         =&gt; $data[2],\n                 'subcategories' =&gt; \\@InnerLoopData );\n\n    push( @loop_data, \\%data );\n}\n\nmy $json_text = to_json(\\@loop_data);\nprint $json_text;\n$dbh-&gt;disconnect;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 5132720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SugyI.jpg?s=128&g=1", "display_name": "Anirban Roy", "link": "https://stackoverflow.com/users/5132720/anirban-roy"}, "is_accepted": true, "score": 3, "last_activity_date": 1437799896, "creation_date": 1437799896, "answer_id": 31623065, "question_id": 31621978, "link": "https://stackoverflow.com/questions/31621978/how-to-avoid-inner-queries-in-mysql/31623065#31623065", "title": "How to avoid inner queries in Mysql", "body": "<p>You can do the processing within the perl script reducing the number of DB calls. DB calls are expensive.</p>\n\n<ol>\n<li>Get the list of table categories in a sorted manner.</li>\n</ol>\n\n<p>SELECT * FROM table_categories ORDER BY id ASC\nStore the values in a multi dimensional array. say categories</p>\n\n<ol start=\"2\">\n<li>Get the count for each category in an array. Again sorted. Save in an array say category_count</li>\n</ol>\n\n<p>select count(*) FROM table_subcategory_categories group by category_id order by category_id ASC</p>\n\n<ol start=\"3\">\n<li>Get the entire list of subcategories sorted by the\nSave in a multi-dimensional array say sub_categories </li>\n</ol>\n\n<p>SELECT sc.*,scc.category_id from table_subcategories sc, table_subcategory_categories scc WHERE sc.sub_categories_id=scc.sub_categories_id ORDER BY scc.category_id ASC</p>\n\n<p><strong>And then</strong> </p>\n\n<pre><code>my @loop_data = ();\nmy $currentPos = 0;\nmy $noOfElementsInThisCategory = 0;\nforeach my $i (0 .. $#categories){\n     $noOfElementsInThisCategory = $category_count[$i];\n     my @InnerLoopData = ();\n   for (my $k = $currentPos; $noOfElementsInThisCategory &gt; 0;      $noOfElementsInThisCategory++) {\n       my %InnerData = ('scid', $sub_categories [$k][0], 'scname',  $sub_categories [$k][1]);\n       push(@InnerLoopData, \\%InnerData);\n       $currentPos = $currentPos + 1;\n}\nmy %data = ('id', $categories[$i][0], 'name', $categories[$i][1], 'image', $categories[$i][2], 'subcategories', \\@InnerLoopData);\n    push(@loop_data, \\%data);\n\n}\nmy $json_text = to_json(\\@loop_data);\nprint $json_text;\n</code></pre>\n"}], "owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 31623065, "answer_count": 3, "score": 0, "last_activity_date": 1438420426, "creation_date": 1437788286, "question_id": 31621978, "link": "https://stackoverflow.com/questions/31621978/how-to-avoid-inner-queries-in-mysql", "title": "How to avoid inner queries in Mysql", "body": "<p>I have following tables:</p>\n\n<pre><code>table_categories - id, name, imagepath\ntable_subcategories - sub_categories_id, sub_category_name\ntable_subcategory_categories - subcategory_id, category_id (Mapping table for category and sub category)\n</code></pre>\n\n<p>I want to fetch all the categories and their respective subcategories in this format:</p>\n\n<pre><code>[\n    {\n        \"subcategories\": [\n            {\n                \"scname\": \"Sugar\",\n                \"scid\": \"5\"\n            },\n            {\n                \"scname\": \"Salt\",\n                \"scid\": \"6\"\n            },\n            {\n                \"scname\": \"Jaggery\",\n                \"scid\": \"7\"\n            }\n        ],\n        \"name\": \"Salt and Sugar\",\n        \"id\": \"1\",\n        \"image\": \"/images/salt_sugar.png\"\n    },\n    {\n        \"subcategories\": [\n            {\n                \"scname\": \"Tea\",\n                \"scid\": \"8\"\n            },\n            {\n                \"scname\": \"Coffee\",\n                \"scid\": \"9\"\n            },\n            {\n                \"scname\": \"Tea Bags\",\n                \"scid\": \"162\"\n            }\n        ],\n        \"name\": \"Tea and Coffee\",\n        \"id\": \"2\",\n        \"image\": \"/images/tea_and_coffee.png\"\n    }\n]   \n</code></pre>\n\n<p>This is my logic for fetch the categories and subcategories.</p>\n\n<pre><code>my $sql_query = \"SELECT * from table_categories\";\nmy $statement = $db_handle-&gt;prepare ($sql_query) or die \"Couldn't prepare query '$sql_query': $DBI::errstr\\n\";  \n$statement-&gt;execute() or die \"SQL Error: $DBI::errstr\\n\";  \n\nmy @loop_data = ();\nwhile (my @data = $statement-&gt;fetchrow_array()) {\n    my $sql = \"SELECT SCC.subcategory_id, SC.sub_category_name\n            FROM\n            table_subcategory_categories as SCC\n            INNER JOIN \n            table_subcategories as SC\n            ON\n            SCC.subcategory_id = SC.sub_categories_id\n            where SCC.category_id = '$data[0]' \";\n    my $stmt = $db_handle-&gt;prepare ($sql) or die \"Couldn't prepare query '$sql_query': $DBI::errstr\\n\";  \n    $stmt-&gt;execute() or die \"SQL Error: $DBI::errstr\\n\";  \n\n    my @InnerLoopData = ();\n    while (my @InnerData = $stmt-&gt;fetchrow_array()) {\n        my %InnerData = ('scid', $InnerData[0], 'scname', $InnerData[1]);\n        push(@InnerLoopData, \\%InnerData);\n    }\n\n    my %data = ('id', $data[0], 'name', $data[1], 'image', $data[2], 'subcategories', \\@InnerLoopData);\n    push(@loop_data, \\%data);\n}\n\nmy $json_text = to_json(\\@loop_data);\nprint $json_text;\n$db_handle-&gt;disconnect;\n</code></pre>\n\n<p>Every thing is working as expected, but the problem is because of inner query response is too slow. As i have more than 1000 categories, inner query executes more than 1000 times.</p>\n\n<p>Can please anyone help me how to optimize this query??</p>\n"}, {"tags": ["perl", "count"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1437777690, "post_id": 31620636, "comment_id": 51190722, "body": "Unrelated to your problem, but that <code>join</code> might be more readable with an <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">array slice</a>: <code>join(&quot;  &quot;, @name[4 .. 7, 9, 11 .. 13])</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1437777975, "post_id": 31620636, "comment_id": 51190800, "body": "@JimDavis Utter nit-pick, but you mean with <i>a single</i> array slice (the OP is already using a bunch of separate slices, although they&#39;re probably not aware of it). ;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "edited": false, "score": 0, "creation_date": 1437778003, "post_id": 31620636, "comment_id": 51190811, "body": "Oh! That&#39;s neat. Wasn&#39;t aware of this thanks."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437778037, "post_id": 31620636, "comment_id": 51190819, "body": "@ThisSuitIsBlackNot D&#39;oh!  Nice catch."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437778082, "post_id": 31620636, "comment_id": 51190830, "body": "@MrPeace Add <code>use warnings;</code> to the top of your script and you&#39;ll get a bunch of warnings like <code>Scalar value @name[4] better written as $name[4]</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "edited": false, "score": 0, "creation_date": 1437778367, "post_id": 31620636, "comment_id": 51190914, "body": "when i did that originally it said useless use of a constant. thats why i turned them off. the script works fine with warnings off."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437778512, "post_id": 31620636, "comment_id": 51190968, "body": "You could create a hash similar to <code>%x</code> to keep track of the counts inside the last <code>if</code>, and at the end you could print out the content of the hash.."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1437778520, "post_id": 31620636, "comment_id": 51190972, "body": "@MrPeace The solution to that is to fix the cause of the warning, not to disable warnings altogether. You should enable warnings (and strict) for every Perl script you write; they can save you a lot of debugging time."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "edited": false, "score": 0, "creation_date": 1437778677, "post_id": 31620636, "comment_id": 51191022, "body": "Got it, will edit it and upload the fixed version when I have it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437778755, "post_id": 31620636, "comment_id": 51191052, "body": "@H&#229;konH&#230;gland didnt even think of that thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "is_accepted": true, "score": 1, "last_activity_date": 1437781464, "creation_date": 1437781464, "answer_id": 31621361, "question_id": 31620636, "link": "https://stackoverflow.com/questions/31620636/modifying-script-to-include-the-count-of-a-each-time-a-name-appears-from-a-table/31621361#31621361", "title": "Modifying Script to include the Count of a each time a name appears from a table", "body": "<p>the \"minimal\" change would be to set the elements of <code>%x</code> to 0 in the <code>FILE1</code> loop, then check for <code>exists $x{$y}</code> in the <code>FILE2</code> loop and do <code>++$x{$y}</code> inside the condition body. Now at the end <code>%x</code> has the counts of all the occurrences.</p>\n\n<p>The usual way (as mentioned in the comments of the question) would be to declare an additional <code>%count</code> and perform the same <code>++$count{$y}</code> inside the if block as in the above method.</p>\n\n<p>The first has the advantage and disadvantage (depending on your needs) of reporting the count even when the name has zero found occurrences.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 31621361, "answer_count": 1, "score": 0, "last_activity_date": 1495198632, "creation_date": 1437776309, "last_edit_date": 1495198632, "question_id": 31620636, "link": "https://stackoverflow.com/questions/31620636/modifying-script-to-include-the-count-of-a-each-time-a-name-appears-from-a-table", "title": "Modifying Script to include the Count of a each time a name appears from a table", "body": "<p>I have a script below that takes my FILE1 and parses out FILE2 only if the first column of FILE1 matches column number 10 of FILE2. So it will print out the rows I need. This part works great. The part I am having a tad bit of difficulty is inserting a sort of count for the output. The goal of the script is take column 10 at the end and produce an output. In my list there are 12 names and I want to get the count of each name. For the example below, I have used four names.</p>\n\n<p>FILE1:</p>\n\n<pre><code>name1 15\nname2 15\nname2 30\nname5 15\nname4 10\nname2 5\nname2 5\n</code></pre>\n\n<p>FILE2:</p>\n\n<pre><code>23   15  5.4  1.3  5   55     128 21799 + 32    name2      1     77     0       1\n23   20  5.4  1.3  5   55     128 7998 + 18     name4      1     77     0       1\n23   20  5.4  1.3  6   55     128 9984 + 13     name4      1     77     1       1\n23   20  5.4  1.3  7   55     128 7998 + 14     name5      1     77     2       1\n23   20  5.4  1.3  6   55     128 994 + 14      name1      1     77     3\n23   20  5.4  1.3  9   55     128 984 + 5       name7      1     77     4       1\n23   20  5.4  1.3  5   55     128 99 + 5    name8      1     77     5       1\n</code></pre>\n\n<p>Expected Output</p>\n\n<pre><code>$VAR1 = {\n      'name1' =&gt; 1,\n      'name2' =&gt; 4,\n      'name4' =&gt; 1,\n      'name5' =&gt; 1,\n    };\n\n5   55     128 21799  32    name2         77     0       1\n5   55     128 7998  18     name4         77     0       1\n6   55     128 9984  13     name4         77     1       1\n7   55     128 7998  14     name5         77     2       1\n6   55     128 994  14      name1         77     3       1\n\nname1 1\nname2 1\nname4 2\nname5 1\n</code></pre>\n\n<p>You can test the script it works. The part I am having difficulty with is inserting the count of each name based on the output. The print \\%x is a way of checking if my original list was truly used as I am working with a much larger set of data. If someone could point me the right direction on how to modify my script without changing it drastically that would be great. I feel like this script fulfills the majority of my needs even if it is not the most efficient way of doing it.</p>\n\n<pre><code>use strict;\nuse Data::Dumper;\n\nmy %x;\n\nopen(FILE1, $ARGV[0]) or die \"Cannot open the file: $!\";\n while (my $line = &lt;FILE1&gt;)  {\n     my @array = split(\" \", $line);\n     $x{$array[0]}++;\n }\n close FILE1;\n\nprint Dumper( \\%x );\nmy %count;\nopen(FILE2, $ARGV[1]) or die \"Cannot open the file: $!\";\nwhile (my $line = &lt;FILE2&gt;)  {\n    my @name = split(\" \", $line);\n    my $y = $name[9];\n    if ( $x{ $y } ) {\n        print join(\"  \", @name[4,5,6,7,9,11,12,13]), \"\\n\";\n$count{@name[9]}++;\n    }\n}\nprint Dumper (\\%count);\nclose FILE2;\nexit;\n</code></pre>\n\n<p>Script now counts. Just need to debug. </p>\n"}, {"tags": ["perl", "utf-8", "codepages", "cp1251"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1437763453, "post_id": 31617114, "comment_id": 51184679, "body": "It seems that the first message comes when perl tries to decode the content of the file <code>double_fin.pl</code> as UTF-8? Maybe you should try read the file using the PerlIO layer <code>:raw</code> instead of using the <code>:utf8</code> layer?"}, {"owner": {"reputation": 1306, "user_id": 864113, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ffe69804cf66d260a3e499ea7f1bbf8c?s=128&d=identicon&r=PG", "display_name": "Kirill Golikov", "link": "https://stackoverflow.com/users/864113/kirill-golikov"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437766062, "post_id": 31617114, "comment_id": 51186024, "body": "@H&#229;konH&#230;gland, open (my $fhr, &quot;&lt;:raw&quot;, &quot;$folder\\\\$_&quot;) ... It seems, it&#39;s working: no warnings, no errors. Thank you."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437766555, "post_id": 31617114, "comment_id": 51186279, "body": "Great! You are welcome."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1437766424, "creation_date": 1437766424, "answer_id": 31618435, "question_id": 31617114, "link": "https://stackoverflow.com/questions/31617114/pattern-code-to-guess-the-textfile-codepage-in-perl/31618435#31618435", "title": "Pattern code to guess the textfile codepage in perl?", "body": "<p>The first message </p>\n\n<pre><code>utf8 \"\\xCE\" does not map to Unicode at double_fin.pl line 167, &lt;$fhr&gt; chunk 1\n</code></pre>\n\n<p>comes when <code>perl</code> tries to decode the content of the file <code>double_fin.pl</code> as UTF-8. But the file contains invalid UTF-8, so you need to read in the file using the PerlIO layer <code>:raw</code> instead of using the <code>:encoding(utf8)</code> layer.</p>\n\n<p>See also <a href=\"http://perldoc.perl.org/PerlIO.html\" rel=\"nofollow\">http://perldoc.perl.org/PerlIO.html</a>.</p>\n"}], "owner": {"reputation": 1306, "user_id": 864113, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ffe69804cf66d260a3e499ea7f1bbf8c?s=128&d=identicon&r=PG", "display_name": "Kirill Golikov", "link": "https://stackoverflow.com/users/864113/kirill-golikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 31618435, "answer_count": 1, "score": 0, "last_activity_date": 1437766424, "creation_date": 1437761479, "question_id": 31617114, "link": "https://stackoverflow.com/questions/31617114/pattern-code-to-guess-the-textfile-codepage-in-perl", "title": "Pattern code to guess the textfile codepage in perl?", "body": "<p>Sorry for my noob's question, but I can't make the next script work.\nIt's a useful peace of code, but I did not find the similar working one in net.</p>\n\n<pre><code>use Encode;\nuse Encode::Guess;\n\nopen (my $fhr, \"&lt;\", \"$folder\\\\$_\")\n  or die \"Could not open file '$folder\\\\$_' $!\";\nmy $data = do { local $/; &lt;$fhr&gt; };\nclose $fhr;\n\n# It is either cp1251 or utf-8.\nmy  $enc = guess_encoding ($data, qw/cp1251/ );\nref($enc) or die \"Can't guess: \".$enc-&gt;name();\nprint \"Encode = \".$enc-&gt;name().\"\\n\";\n\nmy $decoded = decode ($enc, $data);\n</code></pre>\n\n<p>The console output follows:</p>\n\n<pre><code>utf8 \"\\xCE\" does not map to Unicode at double_fin.pl line 167, &lt;$fhr&gt; chunk 1.\nEncode = utf8\nCannot decode string with wide characters at C:/Dwimperl/perl/lib/Encode.pm line 176.\n</code></pre>\n\n<p>What do I do wrong?\nThank you, in advance.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4966, "user_id": 3605497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV6Nc.jpg?s=128&g=1", "display_name": "Tripp Kinetics", "link": "https://stackoverflow.com/users/3605497/tripp-kinetics"}, "edited": false, "score": 0, "creation_date": 1437758415, "post_id": 31616281, "comment_id": 51182070, "body": "Is the length of the numeric part of the file name constant?"}], "answers": [{"comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1437758469, "post_id": 31616299, "comment_id": 51182093, "body": "be greedy <code>my ($bagID) = ( m&#47;.*(\\d{8}+)&#47; );</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1437764797, "post_id": 31616299, "comment_id": 51185404, "body": "Matches highlighted portion of this string &#39;ABCL<code>10079415.</code>00-67900010079415.rpt some stu10079415.&#39;"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 6, "last_activity_date": 1437758860, "last_edit_date": 1437758860, "creation_date": 1437758416, "answer_id": 31616299, "question_id": 31616281, "link": "https://stackoverflow.com/questions/31616281/regex-perl-with-letters-and-numbers/31616299#31616299", "title": "Regex perl with letters and numbers", "body": "<p>You just need to escape the dot, so that it would match the 8 digit characters which exists before the dot charcater.</p>\n\n<pre><code>my ($bagID) = ( m/(\\d{8}+)\\./ );\n</code></pre>\n\n<p><code>.</code> is  a special character in regex which matches any character. In-order to match a literal dot, you must need to escape that.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1437765385, "creation_date": 1437765385, "answer_id": 31618171, "question_id": 31616281, "link": "https://stackoverflow.com/questions/31616281/regex-perl-with-letters-and-numbers/31618171#31618171", "title": "Regex perl with letters and numbers", "body": "<p>To match the <em>last</em> of anything, just precede it with a wildcard that will match as many characters as possible</p>\n\n<pre><code>my ($bag_id) = / .* (\\d{8}) /x\n</code></pre>\n\n<p>Note that I have also use the <code>/x</code> modifier so that the regex can contain insignificant whitespace for readability. Also, your <code>\\d{8}+</code> is what is called a <em>possessive quantifier</em>; it is used for optimising some regex constructions and makes no difference at the end of the pattern</p>\n"}], "owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 31616299, "answer_count": 2, "score": 1, "last_activity_date": 1437765385, "creation_date": 1437758331, "question_id": 31616281, "link": "https://stackoverflow.com/questions/31616281/regex-perl-with-letters-and-numbers", "title": "Regex perl with letters and numbers", "body": "<p>I need to extract a strings from a text file that contains both letters and numbers. The lines start like this</p>\n\n<pre><code>Report filename: ABCL00-67900010079415.rpt ______________________\n</code></pre>\n\n<p>All I need is the last 8 numbers so in this example that would be 10079415</p>\n\n<pre><code>while(&lt;DATA&gt;){\nif (/Report filename/) {\n  my ($bagID) = ( m/(\\d{8}+)./ );\n  print $bagID;\n}\n</code></pre>\n\n<p>Right now this prints out the first 8 but I want the last 8. </p>\n"}, {"tags": ["php", "json", "bash", "perl"], "comments": [{"owner": {"reputation": 446, "user_id": 2883500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb15873586fbd8a4469b13f2334df59?s=128&d=identicon&r=PG&f=1", "display_name": "pooley1994", "link": "https://stackoverflow.com/users/2883500/pooley1994"}, "edited": false, "score": 0, "creation_date": 1437752397, "post_id": 31614446, "comment_id": 51178666, "body": "Do you have access to any other programming language, like perl?"}, {"owner": {"reputation": 149, "user_id": 2162473, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b6ce64e7c76b93ecb841bfd185b99a81?s=128&d=identicon&r=PG", "display_name": "vdiaz1130", "link": "https://stackoverflow.com/users/2162473/vdiaz1130"}, "reply_to_user": {"reputation": 446, "user_id": 2883500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb15873586fbd8a4469b13f2334df59?s=128&d=identicon&r=PG&f=1", "display_name": "pooley1994", "link": "https://stackoverflow.com/users/2883500/pooley1994"}, "edited": false, "score": 0, "creation_date": 1437753099, "post_id": 31614446, "comment_id": 51179055, "body": "I don&#39;t know Perl but can make the effort to get it running. So if you have a suggestion with Perl, that be good as well."}, {"owner": {"reputation": 2147, "user_id": 1312522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3eb4062852caa6aa3d9bd70fd44c5f8?s=128&d=identicon&r=PG&f=1", "display_name": "sjaustirni", "link": "https://stackoverflow.com/users/1312522/sjaustirni"}, "edited": false, "score": 0, "creation_date": 1437759026, "post_id": 31614446, "comment_id": 51182378, "body": "Not all of your keys are <a href=\"http://stackoverflow.com/questions/949449/json-spec-does-the-key-have-to-be-surrounded-with-quotes\">well-formed</a> (they miss quotes). Is it just a mistake, or your files don&#39;t have them everywhere?"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 2162473, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b6ce64e7c76b93ecb841bfd185b99a81?s=128&d=identicon&r=PG", "display_name": "vdiaz1130", "link": "https://stackoverflow.com/users/2162473/vdiaz1130"}, "edited": false, "score": 0, "creation_date": 1437758007, "post_id": 31615794, "comment_id": 51181862, "body": "It&#39;s pretty trivial as you said for someone that knows PHP ;) This is enough to get me going. Thanks!"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 2, "last_activity_date": 1437756775, "last_edit_date": 1437756775, "creation_date": 1437756471, "answer_id": 31615794, "question_id": 31614446, "link": "https://stackoverflow.com/questions/31614446/generate-differences-in-values-between-two-json-files/31615794#31615794", "title": "Generate differences in values between two JSON files", "body": "<p>Assuming the two files are well formed JSON and have always the same structure than in your example (the depth in particular), the solution is trivial:</p>\n\n<p>in PHP:</p>\n\n<pre><code>$master = json_decode($master, true);\n$config = json_decode($config, true);\n\n$result = [];\n\nforeach ($master as $ksec =&gt; $vsec) {\n    $secTmp = [];\n    foreach ($vsec as $kset =&gt; $vset) {\n        if ($master[$ksec][$kset] !== $config[$ksec][$kset])\n            $secTmp[$kset] = $config[$ksec][$kset];\n    }\n    if ($secTmp)\n        $result[$ksec] = $secTmp;\n}\necho json_encode($result);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2147, "user_id": 1312522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3eb4062852caa6aa3d9bd70fd44c5f8?s=128&d=identicon&r=PG&f=1", "display_name": "sjaustirni", "link": "https://stackoverflow.com/users/1312522/sjaustirni"}, "is_accepted": false, "score": 1, "last_activity_date": 1437758861, "last_edit_date": 1495535060, "creation_date": 1437758861, "answer_id": 31616415, "question_id": 31614446, "link": "https://stackoverflow.com/questions/31614446/generate-differences-in-values-between-two-json-files/31616415#31616415", "title": "Generate differences in values between two JSON files", "body": "<p>I know that the OP didn't request Python, but just in case someone has a similiar problem and doesn't want to be bothered with running (or even installing) PHP and Apache, here is a naive Python implementation.</p>\n\n<pre><code>import json\n\n\nwith open('json1.json') as data_file:\n    master = json.load(data_file)\n\nwith open('json2.json') as data_file:\n    config = json.load(data_file)\n\nresult = {}\n\nfor section in master:\n    for attribute, value in master[section].items():\n        if not config[section][attribute] == value:\n            result.update({section: {}})\n            result[section].update({attribute: value})\n\nwith open('result.json', 'w') as f:\n    json.dump(result, f, indent=4)\n</code></pre>\n\n<p><strong>Notice:</strong> The solution doesn't keep the order of the <code>attribute</code>s nor <code>section</code>s. It also requires (and generates) <a href=\"https://stackoverflow.com/questions/949449/json-spec-does-the-key-have-to-be-surrounded-with-quotes\">well-formed JSON</a>, which looks like this:</p>\n\n<pre><code>{\n    \"section3Configs\": {\n        \"setting02\": true\n    },\n    \"section1Configs\": {\n        \"setting03\": false\n    },\n    \"section2Configs\": {\n        \"setting01\": true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 2162473, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b6ce64e7c76b93ecb841bfd185b99a81?s=128&d=identicon&r=PG", "display_name": "vdiaz1130", "link": "https://stackoverflow.com/users/2162473/vdiaz1130"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 31615794, "answer_count": 2, "score": -1, "last_activity_date": 1437760970, "creation_date": 1437751873, "last_edit_date": 1437760970, "question_id": 31614446, "link": "https://stackoverflow.com/questions/31614446/generate-differences-in-values-between-two-json-files", "title": "Generate differences in values between two JSON files", "body": "<p>I have a JSON master config file whose value may be overwritten by a specific account's config file (also in JSON).</p>\n\n<p><strong>master file</strong></p>\n\n<pre><code>{\n    \"section1Configs\": {\n        \"setting01\": true,\n        \"setting02\": true,\n        \"setting03\": false\n    },\n    section2Configs: {\n        \"setting01\": true,\n        \"setting02\": true,\n        \"setting03\": false\n    },\n    section3Configs: {\n        \"setting01\": true,\n        \"setting02\": true,\n        \"setting03\": false\n    },\n    section4Configs: {\n        \"setting01\": true,\n        \"setting02\": true,\n        \"setting03\": false\n    }\n}\n</code></pre>\n\n<p><strong>config file</strong></p>\n\n<pre><code>{\n    \"section1Configs\": {\n        \"setting01\": true,\n        \"setting02\": true,\n        \"setting03\": true\n    },\n    section2Configs: {\n        \"setting01\": false,\n        \"setting02\": true,\n        \"setting03\": false\n    },\n    section3Configs: {\n        \"setting01\": true,\n        \"setting02\": false,\n        \"setting03\": false\n    },\n    section4Configs: {\n        \"setting01\": true,\n        \"setting02\": true,\n        \"setting03\": false\n    }\n}\n</code></pre>\n\n<p>Note that they are identical except certain values (<code>section01Config.setting03</code>, <code>section02Config.setting01</code>, and <code>section03Config.setting02</code>) are different. Note also that the entire <code>section4Configs</code> block is the same in both files.</p>\n\n<p>The ones that are the same are not needed since the application loads both and overwrites the master file with the ones that are different in the account config.</p>\n\n<p>What I would like to do is have a script that iterates through a directory of such account files and deletes the entry in each file that are the same key and value as the master file. From this example I would end up with a file like this:</p>\n\n<pre><code>{\n    section1Configs: {\n        setting03: true\n    },\n    section2Configs: {\n        setting01: false\n    },\n    section3Configs: {\n        setting02: false\n    }\n}\n</code></pre>\n"}, {"tags": ["excel", "perl", "spreadsheet"], "comments": [{"owner": {"reputation": 3217, "user_id": 21987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e82fa3d3e0a99a93777b65a4ccda8126?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/21987/joel"}, "edited": false, "score": 0, "creation_date": 1437751196, "post_id": 31614052, "comment_id": 51177970, "body": "Which library are you using?  Is it Excel::Writer::XLSX?"}], "answers": [{"tags": [], "owner": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "is_accepted": false, "score": 2, "last_activity_date": 1437757045, "last_edit_date": 1437757045, "creation_date": 1437751558, "answer_id": 31614337, "question_id": 31614052, "link": "https://stackoverflow.com/questions/31614052/writing-excel-spreadsheet-in-perl/31614337#31614337", "title": "Writing Excel Spreadsheet in Perl", "body": "<p>It would be better to set the row to hidden instead of 0.</p>\n\n<p><a href=\"https://metacpan.org/pod/Excel::Writer::XLSX#set_row-row-height-format-hidden-level-collapsed\" rel=\"nofollow\">set_row</a> has the following arguments:  </p>\n\n<pre><code>set_row( $row, $height, $format, $hidden, $level, $collapsed )\n</code></pre>\n\n<p>The fourth argument is a flag that toggles the visibility of the row.  Any arguments that you don't want to explicitly set can be passed in as <code>undef</code></p>\n\n<p>This means, you can change</p>\n\n<pre><code>$worksheet-&gt;set_row ($_, 0) for (0..11);\n</code></pre>\n\n<p>to   </p>\n\n<pre><code>$worksheet-&gt;set_row ($_, undef,undef,1) for (0..11);\n</code></pre>\n\n<p><code>set_row</code> works the same for <code>Excel::Writer::XLSX</code> and <code>Spreadsheet::WriteExcel</code>.</p>\n"}], "owner": {"reputation": 35, "user_id": 5152917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636686673d6c223ee24fef0eee0ce443?s=128&d=identicon&r=PG&f=1", "display_name": "JoJA", "link": "https://stackoverflow.com/users/5152917/joja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1437762186, "creation_date": 1437750667, "last_edit_date": 1437762186, "question_id": 31614052, "link": "https://stackoverflow.com/questions/31614052/writing-excel-spreadsheet-in-perl", "title": "Writing Excel Spreadsheet in Perl", "body": "<p>I'm working on writing an excel spreadsheet from a Perl script and need to set the row height of specific rows to \"0\" if no data exists.  Here is some of what I have written so far.  It works on writing data based on the text file, but if the item is not in the text file then it leaves an empty row which I want to eliminate.  Any help is appreciated.</p>\n\n<pre><code>my $file = 'forecast.txt';\nopen my $fh, '&lt;', $file or die \"Could not open '$file' $!\\n\";\n\nwhile (my $line =&lt;$fh&gt;) {\n  if (index($line, 'M1501235') != -1) {\n\n  $worksheet-&gt;write(11,0, \"M1501\", $print2);\n  $worksheet-&gt;write(11,1, \"FUND TO FUND TRANSFERS\", $print);\n  $worksheet-&gt;write(11,2, \"DES\", $print);\n  $worksheet-&gt;write(11,3, \"0001\", $print);\n  $worksheet-&gt;write(11,4, \"\", $print);\n  $worksheet-&gt;write(11,5, \"NA\", $print);\n  $worksheet-&gt;write(11,6, \"SEE RH\", $print);\n  }\n#  else $worksheet-&gt;set_row (11, 0);\n  if (index($line, 'M2201235') != -1) {\n  $worksheet-&gt;write(12,0, \"M2201\", $print2);\n  $worksheet-&gt;write(12,1, \"BPS FUND BALANCE ERROR RPT\", $print);\n  $worksheet-&gt;write(12,2, \"L&amp;I\", $print);\n  $worksheet-&gt;write(12,3, \"0010\", $print);\n  $worksheet-&gt;write(12,4, \"\", $print);\n  $worksheet-&gt;write(12,5, \"NA\", $print);\n  $worksheet-&gt;write(12,6, \"2 COPIES 37\", $print);\n  }\n  else $worksheet-&gt;set_row ($_, 0) for (0..11);\n\nelsif (index($line, 'M2301235') != -1) {\n  $worksheet-&gt;write(13,0, \"M2201\", $print2);\n  $worksheet-&gt;write(13,1, \"BPS/ARC RECOCILIATION RPT/BPS CREDIT BALANCE RPT\", $print);\n  $worksheet-&gt;write(13,2, \"L&amp;I\", $print);\n  $worksheet-&gt;write(13,3, \"0010\", $print);\n  $worksheet-&gt;write(13,4, \"\", $print);\n  $worksheet-&gt;write(13,5, \"NA\", $print);\n  $worksheet-&gt;write(13,6, \"2 COPIES 37\", $print);\n  }\n}\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437759485, "post_id": 31613978, "comment_id": 51182630, "body": "If you open a filehandle to the file before calling <code>unlink</code>, you will still be able to use the filehandle until you close it. The file isn&#39;t completely deleted until all hard links to it are removed and all filehandles are closed."}], "answers": [{"comments": [{"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "edited": false, "score": 0, "creation_date": 1437994957, "post_id": 31614131, "comment_id": 51247902, "body": "For mac it is working fine but for windows it is giving permission denied error"}], "tags": [], "owner": {"reputation": 3217, "user_id": 21987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e82fa3d3e0a99a93777b65a4ccda8126?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/21987/joel"}, "is_accepted": false, "score": 5, "last_activity_date": 1437750895, "creation_date": 1437750895, "answer_id": 31614131, "question_id": 31613978, "link": "https://stackoverflow.com/questions/31613978/not-able-to-delete-a-xml-file-using-unlink-in-perl/31614131#31614131", "title": "Not able to delete a xml file using unlink() in perl", "body": "<p>Please include error checking in your code.  You'll need this to figure out why unlink is not working:</p>\n\n<pre><code>unlink $file_loc or warn \"Could not unlink $file_loc: $!\";\n</code></pre>\n\n<p>This is from <a href=\"http://perldoc.perl.org/functions/unlink.html\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445978536, "creation_date": 1437750449, "last_edit_date": 1437755777, "question_id": 31613978, "link": "https://stackoverflow.com/questions/31613978/not-able-to-delete-a-xml-file-using-unlink-in-perl", "title": "Not able to delete a xml file using unlink() in perl", "body": "<p>I am trying to delete an xml file using unlink() but it is not deleting it.</p>\n\n<p>I am using it as follows:</p>\n\n<pre><code>$file_loc = catfile( home_directory_path(), \"builds\",\"data.xml\" );\nunlink($file_loc);\n</code></pre>\n\n<p>I am able to access the file while parsing it.\nWhat's wrong? is <code>unlink()</code> not supposed to delete xml files?</p>\n"}, {"tags": ["excel", "perl", "unix"], "comments": [{"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "edited": false, "score": 2, "creation_date": 1437748664, "post_id": 31613079, "comment_id": 51176223, "body": "See the example here <a href=\"https://metacpan.org/source/JMCNAMARA/Spreadsheet-WriteExcel-2.40/examples/csv2xls.pl\" rel=\"nofollow noreferrer\">metacpan.org/source/JMCNAMARA/Spreadsheet-WriteExcel-2.40/&hellip;</a> to learn how to import the data from csv. You just put the code into function and run it once for each worksheet/file."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "edited": false, "score": 0, "creation_date": 1437776280, "post_id": 31613079, "comment_id": 51190288, "body": "@buff: Nice, but this one parse CSV wrong."}, {"owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "edited": false, "score": 0, "creation_date": 1437808167, "post_id": 31613079, "comment_id": 51195953, "body": "FIrst merge 2 csv files into single csv file, then add the same in addworksheet"}, {"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1437991373, "post_id": 31613079, "comment_id": 51245707, "body": "@Hynek-Pichi-Vychodil Can you please be more specific about what&#39;s wrong?"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "edited": false, "score": 0, "creation_date": 1437999116, "post_id": 31613079, "comment_id": 51250614, "body": "@buff: You should not read io handler line by line directly because then you can cut field with a new line. Recommended way is <a href=\"https://metacpan.org/pod/Text::CSV_XS#Reading-a-CSV-file-line-by-line\" rel=\"nofollow noreferrer\">metacpan.org/pod/Text::CSV_XS#Reading-a-CSV-file-line-by-lin&zwnj;&#8203;e</a>"}, {"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1437999889, "post_id": 31613079, "comment_id": 51251157, "body": "@Hynek-Pichi-Vychodil: Thanks, good to know! So if Mahesh uses the example and replaces CSV parsing with the recommended way you referenced, he&#39;s done."}], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 4429747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a182fa342cf95f33870032e2c49f3db3?s=128&d=identicon&r=PG&f=1", "display_name": "Channel Islander", "link": "https://stackoverflow.com/users/4429747/channel-islander"}, "is_accepted": false, "score": 0, "last_activity_date": 1437795342, "creation_date": 1437795342, "answer_id": 31622638, "question_id": 31613079, "link": "https://stackoverflow.com/questions/31613079/how-to-merge-two-csv-files-as-worksheets-in-excel-file-using-perl/31622638#31622638", "title": "How to merge two csv files as worksheets in Excel file using perl", "body": "<p>You need to convert your CSV to XLS format before writing to the workbook.</p>\n\n<p>You could install <code>Text::CSV_XS</code> and use the <code>csv2xls</code> utility that comes with it.</p>\n"}], "owner": {"reputation": 69, "user_id": 5151897, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ba0d382ac3f01a7c3f00aafdab2cb5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/5151897/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1880, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437795342, "creation_date": 1437747909, "question_id": 31613079, "link": "https://stackoverflow.com/questions/31613079/how-to-merge-two-csv-files-as-worksheets-in-excel-file-using-perl", "title": "How to merge two csv files as worksheets in Excel file using perl", "body": "<p>All,</p>\n\n<p>I have 2 .csv files which has some data in it (test1.csv, test2.csv)</p>\n\n<p>I have to create a new Excel (test.xls) with 2 worksheets test1 and test2</p>\n\n<p>test1 is nothing but contents of test1.csv and test2 is nothing but test2.csv</p>\n\n<p>I am using the below code. but it only creates only empty worksheets.</p>\n\n<p>Can you please let me know how do i load these csv files into worksheets of xls file.</p>\n\n<pre><code>#!/opt/perl-5.8.0/bin/perl\n\nuse strict;\nuse Spreadsheet::WriteExcel;\n\nmy $workbook = Spreadsheet::WriteExcel-&gt;new(\"Test.xls\");\n\n$workbook-&gt;addworksheet(\"test1.csv\");\n$workbook-&gt;addworksheet(\"test2.csv\");\n$workbook-&gt;close();\n\nexit;\n</code></pre>\n"}, {"tags": ["regex", "json", "macos", "perl", "parsing"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437767227, "post_id": 31614178, "comment_id": 51186649, "body": "Very cool! FYI, Generally it&#39;s better to include code and output directly in your answers instead of in gists so users don&#39;t have to visit an external site and to avoid the possibility of link-rot. I&#39;ve taken the liberty of editing the gists into your answer, I hope you don&#39;t mind."}], "tags": [], "owner": {"reputation": 761, "user_id": 4007818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9edd708a9a0a9f93c3c75525cba19d48?s=128&d=identicon&r=PG&f=1", "display_name": "rns", "link": "https://stackoverflow.com/users/4007818/rns"}, "is_accepted": true, "score": 5, "last_activity_date": 1437811499, "last_edit_date": 1437811499, "creation_date": 1437751019, "answer_id": 31614178, "question_id": 31612329, "link": "https://stackoverflow.com/questions/31612329/parsing-scutil-output-with-perl/31614178#31614178", "title": "Parsing scutil output with perl", "body": "<p>In Perl, you can use <a href=\"https://metacpan.org/release/Marpa-R2\" rel=\"nofollow\">Marpa::R2</a>, a Perl interface to <a href=\"http://savage.net.au/Marpa.html\" rel=\"nofollow\">Marpa, a general BNF parser</a>. </p>\n\n<p>Here is a quick example:</p>\n\n<pre><code>use 5.010;\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n$Data::Dumper::Indent = 1;\n$Data::Dumper::Terse = 1;\n$Data::Dumper::Deepcopy = 1;\n\nuse Marpa::R2;\n\nmy $g = Marpa::R2::Scanless::G-&gt;new( { source =&gt; \\(&lt;&lt;'END_OF_SOURCE'),\n    :default ::= action =&gt; [ name, value]\n    lexeme default = action =&gt; [ name, value] latm =&gt; 1\n\n    scutil ::= 'scutil' '&gt; open' '&gt; show' path '&lt;dictionary&gt;' '{' pairs '}'\n    path ~ [\\w/:\\-]+\n\n    pairs ::= pair+\n    pair ::= name ':' value\n    name ~ [\\w]+\n    value ::= ip | mac | interface | signature | array | dict\n\n    ip ~ octet '.' octet '.' octet '.' octet\n    octet ~ [\\d]+\n    mac ~ [a-z0-9][a-z0-9]':'[a-z0-9][a-z0-9]':'[a-z0-9][a-z0-9]':'[a-z0-9][a-z0-9]':'[a-z0-9][a-z0-9]':'[a-z0-9][a-z0-9]\n    interface ~ [\\w]+\n\n    signature ::= signature_item+ separator =&gt; [;]\n    signature_item ::= signature_item_name '=' signature_item_value\n    signature_item_name ~ [\\w\\.]+\n    signature_item_value ::= ip | mac\n\n    dict  ::= '&lt;dictionary&gt;' '{' pairs '}'\n    array ::= '&lt;array&gt;' '{' items  '}'\n    items ::= item+\n    item ::= index ':' value\n    index ~ [\\d]+\n\n    :discard ~ whitespace\n    whitespace ~ [\\s]+\nEND_OF_SOURCE\n} );\n\nmy $input = &lt;&lt;EOI;\nscutil\n&gt; open\n&gt; show State:/Network/Service/0F70B221-EEF7-4ACC-96D8-ECBA3A15F132/IPv4\n&lt;dictionary&gt; {\n  ARPResolvedHardwareAddress : 00:1b:c0:4a:82:f9\n  ARPResolvedIPAddress : 10.10.0.254\n  AdditionalRoutes : &lt;array&gt; {\n    0 : &lt;dictionary&gt; {\n      DestinationAddress : 10.10.0.146\n      SubnetMask : 255.255.255.255\n    }\n    1 : &lt;dictionary&gt; {\n      DestinationAddress : 169.254.0.0\n      SubnetMask : 255.255.0.0\n    }\n  }\n  Addresses : &lt;array&gt; {\n    0 : 10.10.0.146\n  }\n  ConfirmedInterfaceName : en0\n  InterfaceName : en0\n  NetworkSignature : IPv4.Router=10.10.0.254;IPv4.RouterHardwareAddress=00:1b:c0:4a:82:f9\n  Router : 10.10.0.254\n  SubnetMasks : &lt;array&gt; {\n    0 : 255.255.255.0\n  }\n}\nEOI\n\nsay Dumper $g-&gt;parse( \\$input, { trace_terminals =&gt; 0 } );\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\\[\n    'scutil',\n    'scutil',\n    '&gt; open',\n    '&gt; show',\n    [\n      'path',\n      'State:/Network/Service/0F70B221-EEF7-4ACC-96D8-ECBA3A15F132/IPv4'\n    ],\n    '&lt;dictionary&gt;',\n    '{',\n    [\n      'pairs',\n      [\n        'pair',\n        [\n          'name',\n          'ARPResolvedHardwareAddress'\n        ],\n        ':',\n        [\n          'value',\n          [\n            'mac',\n            '00:1b:c0:4a:82:f9'\n          ]\n        ]\n      ],\n      [\n        'pair',\n        [\n          'name',\n          'ARPResolvedIPAddress'\n        ],\n        ':',\n        [\n          'value',\n          [\n            'ip',\n            '10.10.0.254'\n          ]\n        ]\n      ],\n      [\n        'pair',\n        [\n          'name',\n          'AdditionalRoutes'\n        ],\n        ':',\n        [\n          'value',\n          [\n            'array',\n            '&lt;array&gt;',\n            '{',\n            [\n              'items',\n              [\n                'item',\n                [\n                  'index',\n                  '0'\n                ],\n                ':',\n                [\n                  'value',\n                  [\n                    'dict',\n                    '&lt;dictionary&gt;',\n                    '{',\n                    [\n                      'pairs',\n                      [\n                        'pair',\n                        [\n                          'name',\n                          'DestinationAddress'\n                        ],\n                        ':',\n                        [\n                          'value',\n                          [\n                            'ip',\n                            '10.10.0.146'\n                          ]\n                        ]\n                      ],\n                      [\n                        'pair',\n                        [\n                          'name',\n                          'SubnetMask'\n                        ],\n                        ':',\n                        [\n                          'value',\n                          [\n                            'ip',\n                            '255.255.255.255'\n                          ]\n                        ]\n                      ]\n                    ],\n                    '}'\n                  ]\n                ]\n              ],\n              [\n                'item',\n                [\n                  'index',\n                  '1'\n                ],\n                ':',\n                [\n                  'value',\n                  [\n                    'dict',\n                    '&lt;dictionary&gt;',\n                    '{',\n                    [\n                      'pairs',\n                      [\n                        'pair',\n                        [\n                          'name',\n                          'DestinationAddress'\n                        ],\n                        ':',\n                        [\n                          'value',\n                          [\n                            'ip',\n                            '169.254.0.0'\n                          ]\n                        ]\n                      ],\n                      [\n                        'pair',\n                        [\n                          'name',\n                          'SubnetMask'\n                        ],\n                        ':',\n                        [\n                          'value',\n                          [\n                            'ip',\n                            '255.255.0.0'\n                          ]\n                        ]\n                      ]\n                    ],\n                    '}'\n                  ]\n                ]\n              ]\n            ],\n            '}'\n          ]\n        ]\n      ],\n      [\n        'pair',\n        [\n          'name',\n          'Addresses'\n        ],\n        ':',\n        [\n          'value',\n          [\n            'array',\n            '&lt;array&gt;',\n            '{',\n            [\n              'items',\n              [\n                'item',\n                [\n                  'index',\n                  '0'\n                ],\n                ':',\n                [\n                  'value',\n                  [\n                    'ip',\n                    '10.10.0.146'\n                  ]\n                ]\n              ]\n            ],\n            '}'\n          ]\n        ]\n      ],\n      [\n        'pair',\n        [\n          'name',\n          'ConfirmedInterfaceName'\n        ],\n        ':',\n        [\n          'value',\n          [\n            'interface',\n            'en0'\n          ]\n        ]\n      ],\n      [\n        'pair',\n        [\n          'name',\n          'InterfaceName'\n        ],\n        ':',\n        [\n          'value',\n          [\n            'interface',\n            'en0'\n          ]\n        ]\n      ],\n      [\n        'pair',\n        [\n          'name',\n          'NetworkSignature'\n        ],\n        ':',\n        [\n          'value',\n          [\n            'signature',\n            [\n              'signature_item',\n              [\n                'signature_item_name',\n                'IPv4.Router'\n              ],\n              '=',\n              [\n                'signature_item_value',\n                [\n                  'ip',\n                  '10.10.0.254'\n                ]\n              ]\n            ],\n            [\n              'signature_item',\n              [\n                'signature_item_name',\n                'IPv4.RouterHardwareAddress'\n              ],\n              '=',\n              [\n                'signature_item_value',\n                [\n                  'mac',\n                  '00:1b:c0:4a:82:f9'\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      [\n        'pair',\n        [\n          'name',\n          'Router'\n        ],\n        ':',\n        [\n          'value',\n          [\n            'ip',\n            '10.10.0.254'\n          ]\n        ]\n      ],\n      [\n        'pair',\n        [\n          'name',\n          'SubnetMasks'\n        ],\n        ':',\n        [\n          'value',\n          [\n            'array',\n            '&lt;array&gt;',\n            '{',\n            [\n              'items',\n              [\n                'item',\n                [\n                  'index',\n                  '0'\n                ],\n                ':',\n                [\n                  'value',\n                  [\n                    'ip',\n                    '255.255.255.0'\n                  ]\n                ]\n              ]\n            ],\n            '}'\n          ]\n        ]\n      ]\n    ],\n    '}'\n  ]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 444, "user_id": 2578874, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58b5a04a2c0027deb87e643fdd39409b?s=128&d=identicon&r=PG", "display_name": "joergd", "link": "https://stackoverflow.com/users/2578874/joergd"}, "is_accepted": false, "score": 1, "last_activity_date": 1437816278, "creation_date": 1437816278, "answer_id": 31624993, "question_id": 31612329, "link": "https://stackoverflow.com/questions/31612329/parsing-scutil-output-with-perl/31624993#31624993", "title": "Parsing scutil output with perl", "body": "<p>The solution with <a href=\"https://metacpan.org/release/Marpa-R2\" rel=\"nofollow\">Marpa::R2</a> is actually a nice generic approach.\nHowever, I'm not so happy with the generated hash map, which is probably the toll one has to pay for the generic parser.</p>\n\n<p>I've come up with the following code to get a more <em>straight</em> hash map:</p>\n\n<pre><code>use Data::Dumper;\n\nopen(my $pipe, '-|', \"scutil &lt;&lt;- end_scutil 2&gt; /dev/null\nopen\nshow State:/Network/Service/21AD96AA-AD28-4D5C-93C1-F343FD07DA60/IPv4\nclose\nend_scutil\") or die $!;\n\nsub doParse {\n  my ($type)=@_;\n  my $map;\n  my @arr;\n\n  while(&lt;$pipe&gt;) {\n    chomp;\n    if ($type eq \"dictionary\") {\n      if (m/^&lt;dictionary&gt; \\{/) {\n        $map=doParse(\"dictionary\");\n      } elsif (m/\\s*([^:]+) : &lt;(.*)&gt; \\{/) {\n        $map-&gt;{$1}=doParse($2);\n      } elsif (m/\\s*([^:]+) : ([^\\}]+)$/) {\n        $map-&gt;{$1}=$2;\n      } elsif (m/\\}$/) {\n        return $map;\n      } else {\n        print STDERR \"$type parse error on $_\";\n      }\n    } elsif ($type eq \"array\") {\n      if (m/\\s*(\\d+) : &lt;(.*)&gt; \\{/) {\n        $arr[$1]=doParse($2);\n      } elsif (m/\\s*(\\d+) : ([^\\}]+)$/) {\n        $arr[$1]=$2;\n      } elsif (m/\\}$/) {\n        return \\@arr;\n      } else {\n        print STDERR \"$type parse error on $_\";\n      }\n    }\n  }\n  return $map;\n}\n\nprint Dumper(doParse(\"dictionary\"));\n\n1;\n__END__\n</code></pre>\n\n<p>With this input from <code>scutil</code></p>\n\n<pre><code>&lt;dictionary&gt; {\n  ARPResolvedHardwareAddress : 00:1e:8c:72:27:d2\n  ARPResolvedIPAddress : 192.168.1.10\n  AdditionalRoutes : &lt;array&gt; {\n    0 : &lt;dictionary&gt; {\n      DestinationAddress : 192.168.1.232\n      SubnetMask : 255.255.255.255\n    }\n    1 : &lt;dictionary&gt; {\n      DestinationAddress : 169.254.0.0\n      SubnetMask : 255.255.0.0\n    }\n  }\n  Addresses : &lt;array&gt; {\n    0 : 192.168.1.232\n  }\n  ConfirmedInterfaceName : en0\n  InterfaceName : en0\n  NetworkSignature : IPv4.Router=192.168.1.10;IPv4.RouterHardwareAddress=00:1e:8c:72:27:d2\n  Router : 192.168.1.10\n  SubnetMasks : &lt;array&gt; {\n    0 : 255.255.255.0\n  }\n}\n</code></pre>\n\n<p>it produces this hashmap:</p>\n\n<pre><code>$VAR1 = {\n          'InterfaceName' =&gt; 'en0',\n          'Addresses' =&gt; [\n                           '192.168.1.232'\n                         ],\n          'ARPResolvedHardwareAddress' =&gt; '00:1e:8c:72:27:d2',\n          'NetworkSignature' =&gt; 'IPv4.Router=192.168.1.10;IPv4.RouterHardwareAddress=00:1e:8c:72:27:d2',\n          'ARPResolvedIPAddress' =&gt; '192.168.1.10',\n          'AdditionalRoutes' =&gt; [\n                                  {\n                                    'SubnetMask' =&gt; '255.255.255.255',\n                                    'DestinationAddress' =&gt; '192.168.1.232'\n                                  },\n                                  {\n                                    'DestinationAddress' =&gt; '169.254.0.0',\n                                    'SubnetMask' =&gt; '255.255.0.0'\n                                  }\n                                ],\n          'Router' =&gt; '192.168.1.10',\n          'SubnetMasks' =&gt; [\n                             '255.255.255.0'\n                           ],\n          'ConfirmedInterfaceName' =&gt; 'en0'\n        };\n</code></pre>\n"}], "owner": {"reputation": 444, "user_id": 2578874, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58b5a04a2c0027deb87e643fdd39409b?s=128&d=identicon&r=PG", "display_name": "joergd", "link": "https://stackoverflow.com/users/2578874/joergd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 31614178, "answer_count": 2, "score": 7, "last_activity_date": 1437816278, "creation_date": 1437745890, "question_id": 31612329, "link": "https://stackoverflow.com/questions/31612329/parsing-scutil-output-with-perl", "title": "Parsing scutil output with perl", "body": "<p>I would like to retrieve information from Mac OSX's <code>scutil</code> command with a perl script.</p>\n\n<p>The output generated by that tool is somewhat similar to JSON, but so far I failed to find anything that is capable of parsing that.</p>\n\n<p>Example:</p>\n\n<pre><code>scutil\n&gt; open\n&gt; show State:/Network/Service/0F70B221-EEF7-4ACC-96D8-ECBA3A15F132/IPv4\n&lt;dictionary&gt; {\n  ARPResolvedHardwareAddress : 00:1b:c0:4a:82:f9\n  ARPResolvedIPAddress : 10.10.0.254\n  AdditionalRoutes : &lt;array&gt; {\n    0 : &lt;dictionary&gt; {\n      DestinationAddress : 10.10.0.146\n      SubnetMask : 255.255.255.255\n    }\n    1 : &lt;dictionary&gt; {\n      DestinationAddress : 169.254.0.0\n      SubnetMask : 255.255.0.0\n    }\n  }\n  Addresses : &lt;array&gt; {\n    0 : 10.10.0.146\n  }\n  ConfirmedInterfaceName : en0\n  InterfaceName : en0\n  NetworkSignature : IPv4.Router=10.10.0.254;IPv4.RouterHardwareAddress=00:1b:c0:4a:82:f9\n  Router : 10.10.0.254\n  SubnetMasks : &lt;array&gt; {\n    0 : 255.255.255.0\n  }\n}\n</code></pre>\n\n<p>I already managed to retrieve particular elements via regexps, but as I need to make several different lookups, I'm looking for a smarter, more generic approach.</p>\n\n<p>Now, before I reinvent the wheel by coding yet-another-perl-parser, I hope that somebody recognizes this format and can give some advise how to parse this in - let's say - a nested perl hash map.</p>\n\n<p>Any comments welcome.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437745206, "post_id": 31611466, "comment_id": 51173677, "body": "You are using way too many backslashes, I don&#39;t think any of them are required and the one before <code>\\n</code> is wrong. <code>s#&lt;&#47;start_date&gt;\\n&lt;Exec&gt;#&lt;&#47;start_date&gt;\\n&lt;&#47;Compilation&gt;\\n&lt;Exec&zwnj;&#8203;&gt;#gi</code> should suffice."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437752449, "post_id": 31611466, "comment_id": 51178699, "body": "You are going wrong by attempting to parse XML with regexes. Use an XML parser."}], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1437746677, "post_id": 31612326, "comment_id": 51174791, "body": "You can use <code>-0777</code> to slurp the file on the command line. Then you could also use lookaround assertions for the insertion of text. E.g. <code>perl -0777 -pe&#39;s#(?&lt;=&lt;&#47;start_date&gt;\\n)(?=&lt;Exec&gt;)#&lt;&#47;Compilation&gt;\\n#gi&#39; input &gt; output</code>"}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1437746703, "post_id": 31612326, "comment_id": 51174808, "body": "thanks, but i have to look for <code>&lt;&#47;start_date&gt;\\n&lt;Exec&gt;</code> pattern only because <code>&lt;&#47;start_date&gt;</code>  will effect the other lines."}, {"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437747168, "post_id": 31612326, "comment_id": 51175127, "body": "Thx @TLP for the comment, I learned something! :-) However, I&#39;m getting &quot;Variable length lookbehind not implemented&quot; error when trying your code. Adding <code>&#47;aa</code> modifier helped."}, {"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "reply_to_user": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1437747342, "post_id": 31612326, "comment_id": 51175254, "body": "@praneeth: Try the @TLP&#39;s solution, it works and only affects <code>&lt;&#47;start_date&gt;</code> followed by <code>&lt;Exec&gt;</code>, not other lines."}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437747392, "post_id": 31612326, "comment_id": 51175293, "body": "@TLP thanks a lot, it works. could you please elaborate your code, it looks complicated."}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1437747651, "post_id": 31612326, "comment_id": 51175494, "body": "@buff: thanks for your help. I tired it works on one-line commander. i&#39;m trying to convert same to script code."}, {"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "reply_to_user": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1437748002, "post_id": 31612326, "comment_id": 51175762, "body": "@praneeth: If you put everything between apostrophes from the last block in the answer into the script file, you are done. (Plus you can replace the regexp with the TLP&#39;s one.)"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437748502, "post_id": 31612326, "comment_id": 51176115, "body": "@buff The <code>(?&lt;= ... )</code> cannot contain any quantifiers which allows variable length strings, for example <code>foo...</code> is ok, but <code>foo.+</code> is not."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1437748810, "post_id": 31612326, "comment_id": 51176325, "body": "@praneeth It&#39;s basically the same regex as yours, but using <a href=\"http://perldoc.perl.org/perlre.html#Look-Around-Assertions\" rel=\"nofollow noreferrer\">look-around assertions</a>. The benefit of these is that they are zero-length, and therefore does not consume the part of the string they match. Other than that, it works as a regular regex. The point between the <code>(?&lt;=...)</code> and the <code>(?=...)</code> is where your replacement text will be inserted"}, {"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437748876, "post_id": 31612326, "comment_id": 51176359, "body": "@TLP: I know. But I ran exactly your code which doesn&#39;t seem to have variable length strings and still got the error. Maybe because newline can be one or two bytes? I&#39;m afraid we are getting offtopic here. :-)"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437749123, "post_id": 31612326, "comment_id": 51176547, "body": "@buff The regex works for me, and <code>\\n</code> is just one character. What OS and perl version are you running?"}, {"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437749279, "post_id": 31612326, "comment_id": 51176655, "body": "@TLP Ubuntu 14.04, Perl 5.18.2"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437749376, "post_id": 31612326, "comment_id": 51176724, "body": "@buff Strange. Well, you can always replace the look-behind <code>(?&lt;=...)</code> with <code>\\K</code>, since your Perl version allows it. E.g. <code>s#&lt;&#47;start_date&gt;\\n\\K ...</code>"}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1437805131, "post_id": 31612326, "comment_id": 51195407, "body": "@buff thank you so much, i tried as you suggested &quot;putting all answer block to script and replaced with TLP&#39;s regex&quot; but still not working."}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1437807254, "post_id": 31612326, "comment_id": 51195809, "body": "@buff thanks a lot. It works, i want to insert this code into other script,where i do other substitution for same file. so if try your code there its not working. i have posted the code in my question block."}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1437809917, "post_id": 31612326, "comment_id": 51196333, "body": "@buff, hoops!!! sorry. i had a typo when i tired the code which i placed in question block. actually this code works well . Thanks a lot for your support."}, {"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "edited": false, "score": 0, "creation_date": 1437816349, "post_id": 31612326, "comment_id": 51197831, "body": "Glad that it worked for you. If you&#39;re done, please accept the answer. Thanks!"}], "tags": [], "owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "is_accepted": false, "score": 2, "last_activity_date": 1437806169, "last_edit_date": 1437806169, "creation_date": 1437745879, "answer_id": 31612326, "question_id": 31611466, "link": "https://stackoverflow.com/questions/31611466/how-insert-a-line-break-into-the-replacment-string-in-perl/31612326#31612326", "title": "How Insert a line break into the Replacment string in perl", "body": "<p>There are several problems with your approach:</p>\n\n<p>You are using <code>perl -p</code> which reads the input line by line and applies the code to each line. Therefore you are trying to match the one line to multiline pattern. You can slurp the whole file and work with it like this:</p>\n\n<pre><code>perl -e '\n    $/ = undef;\n    my $string = &lt;&gt;;\n    #here you modify the string\n    print $string' &lt; input_file &gt; modified_file\n</code></pre>\n\n<p>Your regex is wrong: to match the input, you need something like this:</p>\n\n<pre><code>s|&lt;start_date&gt;.*&lt;/start_date&gt;\\n&lt;Exec&gt;|&lt;/start_date&gt;\\n&lt;/Compilation&gt;\\n&lt;Exec&gt;|gi\n</code></pre>\n\n<p>This would do what you wrote you wanted to do, but I suspect you only want to replace the <code>&lt;/start_date&gt;</code> with <code>&lt;/start_date&gt;\\n&lt;/Compilation&gt;</code>. If this is the case, this might work for you:</p>\n\n<pre><code>perl -i.bak -p -e 's#&lt;/start_date&gt;#&lt;/start_date&gt;\\n&lt;/Compilation&gt;#;'\n</code></pre>\n\n<p>If you only want to replace <code>&lt;/start_date&gt;</code> followed by <code>&lt;Exec&gt;</code>, use the variant with slurp and the regex provided by @TLP in comments:</p>\n\n<pre><code>perl -e '\n    $/ = undef;\n    my $string = &lt;&gt;;\n    $string =~ s#&lt;/start_date&gt;\\n&lt;Exec&gt;#&lt;/start_date&gt;\\n&lt;/Compilation&gt;\\n&lt;Exec&gt;#gi;\n    print $string' &lt; input_file &gt; modified_file\n</code></pre>\n\n<p>Or save it as a script (e.g. fixxml.pl):</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n$/ = undef;\nmy $string = &lt;&gt;;\n$string =~ s#&lt;/start_date&gt;\\n&lt;Exec&gt;#&lt;/start_date&gt;\\n&lt;/Compilation&gt;\\n&lt;Exec&gt;#gi;\nprint $string;\n</code></pre>\n\n<p>Then you run it as <code>perl fixxml.pl input.xml &gt; output.xml</code></p>\n\n<p>Finally, use a proper XML library if possible.</p>\n"}], "owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437812709, "creation_date": 1437743536, "last_edit_date": 1437812709, "question_id": 31611466, "link": "https://stackoverflow.com/questions/31611466/how-insert-a-line-break-into-the-replacment-string-in-perl", "title": "How Insert a line break into the Replacment string in perl", "body": "<p>I got a situation where I need to search for following string pattern and modify them by inserting new string and new lines.</p>\n\n<p>e.g.<br>\nsearch for following pattern:</p>\n\n<pre><code>&lt;start_date&gt;2015-07-21T23:16:13Z&lt;/start_date&gt;\n&lt;Exec&gt;\n</code></pre>\n\n<p>and replace to </p>\n\n<pre><code>&lt;/start_date&gt;\\n&lt;/Compilation&gt;\\n&lt;Exec&gt;\n</code></pre>\n\n<p>so this is the command I used which is not working:</p>\n\n<pre><code>perl -i.bak -p -e 's#\\&lt;\\/start_date\\&gt;\\\\n\\&lt;Exec\\&gt;#\\&lt;\\/start_date\\&gt;\\\\n\\&lt;\\/Compilation\\&gt;\\\\n\\&lt;Exec\\&gt;#gi'\n</code></pre>\n\n<p>Is there any better way? Please point me where I'm doing wrong.</p>\n\n<p>Edit: I tried following code instead of one line-commander but still not working:</p>\n\n<pre><code>#!usr/bin/perl\n\nmy $file = &lt;*.xml&gt;;\nopen (XML, \"&lt;$file\") || die \"file dose not exist\\n\";\nopen (NXML, \"&gt;nfile\");\nmy @lines =&lt;XML&gt;;\n\nforeach my $line (@lines) {\n        $line =~ s|&lt;start_date&gt;.*&lt;/start_date&gt;\\n&lt;Exec&gt;|&lt;/start_date&gt;\\n&lt;/Compilation&gt;\\n&lt;Exec&gt;|ms;\n        print NMXL $line;\n}\n\nclose XML;\nclose NMXL;\nunlink (\"$file\");\nrename (\"nfile\", $file);\nunlink (\"nfile\");\n</code></pre>\n\n<p>Following code works well: @buff @TLP, thanks a lot for your supports. I really learned valued information from you guys.</p>\n\n<pre><code>$/ = undef; # buff's suggestion.\nopen (XML, \"&lt;$file\");\nopen (NXML, \"&gt;file\");\nmy @lines=&lt;XML&gt;;\nforeach my $line (@lines) {\n\n        $line =~ s/(PC\\d+\")/$1 tag=\"$tagname\"/gi;\n        $line =~ s#&lt;/start_date&gt;\\n&lt;Exec&gt;#&lt;/start_date&gt;\\n&lt;/Compilation&gt;\\n&lt;Exec&gt;#gi; # buff's suggestion.\n        print NXML $line;   \n}\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437746976, "post_id": 31611332, "comment_id": 51174984, "body": "Please show what you have already tried. <a href=\"https://stackoverflow.com/posts/31611332/edit\">Edit</a> your question and put the code that you wrote with the help of the answer you linked. It looks like the answer should work for you."}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437747843, "post_id": 31611332, "comment_id": 51175631, "body": "@simbabque I have edited the ques added my code there."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1437748081, "post_id": 31611332, "comment_id": 51175814, "body": "Your <code>$myXML</code> is not correct. Compare the expected output you gave to what you have done. The elements are not nested correctly."}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437748309, "post_id": 31611332, "comment_id": 51175974, "body": "@simbabque I have updated $myXML but is not getting updated to the xml file."}], "answers": [{"comments": [{"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "edited": false, "score": 0, "creation_date": 1437755594, "post_id": 31614400, "comment_id": 51180585, "body": "Thanks, Is there is a way to use variable inside $myXML??"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "edited": false, "score": 0, "creation_date": 1437814686, "post_id": 31614400, "comment_id": 51197434, "body": "If you use double quotes it will interpolate variables. If that is new for you, I suggest to get some perl book. The tag wiki has an excellent list of free resources and book recommendations :-)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1437751726, "last_edit_date": 1495535059, "creation_date": 1437751726, "answer_id": 31614400, "question_id": 31611332, "link": "https://stackoverflow.com/questions/31611332/how-to-add-node-to-a-xml-file-using-perl-xmltwig/31614400#31614400", "title": "How to add node to a XML file using perl XML::Twig", "body": "<p>While the code <a href=\"https://stackoverflow.com/a/6484016/1331451\">from the linked answer by mirod</a> did the same thing you wanted to do, you need to adjust it to fit your XML. I'll explain below what I did.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nmy $myXML = &lt;&lt;'XML';\n&lt;version&gt;\n  &lt;number&gt;6.0&lt;/number&gt;\n  &lt;build&gt;1025786&lt;/build&gt;\n  &lt;path&gt;path&lt;/path&gt;\n  &lt;kind&gt;native&lt;/kind&gt;\n&lt;/version&gt;\nXML\n\nmy $t = XML::Twig-&gt;new(\n  twig_handlers =&gt; {\n    Install =&gt; sub { add_version( $myXML, @_ ); }, }\n  )-&gt;parse( \\*DATA ) or die $!;\n\n$t-&gt;set_pretty_print('indented_c');\n$t-&gt;print;\n\nsub add_version {\n    my ( $xml, $t, $install ) = @_;\n    my $new_elt = XML::Twig::Elt-&gt;parse($xml);\n    $new_elt-&gt;paste( last_child =&gt; $install );\n}\n\n__DATA__\n&lt;Install&gt;\n  &lt;version &gt;\n    &lt;number&gt;6.1&lt;/number&gt;\n    &lt;build&gt;1025654&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;RIBS&lt;/kind&gt;\n  &lt;/version&gt;\n&lt;/Install&gt;\n</code></pre>\n\n<p>This will read not from a file but from the <code>DATA</code> file handle that takes the stuff below <code>__DATA__</code>, and just print to the terminal/screen.</p>\n\n<p>First of all, your expected output was like this:</p>\n\n<pre><code>&lt;Install&gt;\n  ...\n  &lt;version&gt;\n    &lt;number&gt;6.0&lt;/number&gt;\n    ...\n  &lt;/version&gt;\n&lt;/Install&gt;\n</code></pre>\n\n<p>But the piece of XML to insert that you used in your code is like this:</p>\n\n<pre><code>&lt;version&gt;6.1&lt;/version&gt;\n&lt;number&gt;101445&lt;/number&gt;\n...\n</code></pre>\n\n<p>That's not what you said you wanted, so I guess that is a mistake.</p>\n\n<p>The code you took from the answer was supposed to work for an element <code>&lt;grouping&gt;</code>. In principle it's the same, but it has a different name. So you need to adapt the code. I changed the <code>twig_handlers</code> to have a handler for <code>Install</code> because that is the root element of your XML. I went on to rename the subroutine and the variables inside to match that. It makes it more clear what's going on.</p>\n\n<p>If you run it, you get this output:</p>\n\n<pre><code>&lt;Install&gt;\n  &lt;version&gt;\n    &lt;number&gt;6.1&lt;/number&gt;\n    &lt;build&gt;1025654&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;RIBS&lt;/kind&gt;\n  &lt;/version&gt;\n  &lt;version&gt;\n    &lt;number&gt;6.0&lt;/number&gt;\n    &lt;build&gt;1025786&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;native&lt;/kind&gt;\n  &lt;/version&gt;\n&lt;/Install&gt;\n</code></pre>\n"}], "owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "accepted_answer_id": 31614400, "answer_count": 1, "score": 2, "last_activity_date": 1437751726, "creation_date": 1437743197, "last_edit_date": 1495542890, "question_id": 31611332, "link": "https://stackoverflow.com/questions/31611332/how-to-add-node-to-a-xml-file-using-perl-xmltwig", "title": "How to add node to a XML file using perl XML::Twig", "body": "<p>I need to add a node to a already existing xml file,my xml is like:-</p>\n\n<pre><code>&lt;Install&gt;\n  &lt;version &gt;\n    &lt;number&gt;6.1&lt;/number&gt;\n    &lt;build&gt;1025654&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;RIBS&lt;/kind&gt;\n  &lt;/version&gt;\n&lt;/Install&gt;\n</code></pre>\n\n<p>and after adding node it should look like</p>\n\n<pre><code>&lt;Install&gt;\n  &lt;version &gt;\n    &lt;number&gt;6.1&lt;/number&gt;\n    &lt;build&gt;1025654&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;native&lt;/kind&gt;\n  &lt;/version&gt;\n  &lt;version &gt;\n    &lt;number&gt;6.0&lt;/number&gt;\n    &lt;build&gt;1025786&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;native&lt;/kind&gt;\n  &lt;/version&gt;\n&lt;/Install&gt;\n</code></pre>\n\n<p>I tried the idea from following link but was not able to figure it out.\n<a href=\"https://stackoverflow.com/questions/6471954/using-perl-insert-string-xml-to-a-node\">using perl insert string xml to a node</a></p>\n\n<p>I need to add the node and save the changes to the file.\nIt should be reflected into the file.\nI am new to perl that why not able to figure it out.</p>\n\n<p>What I tried is :-</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $myXML\n  ='&lt;version&gt;6.1&lt;/version&gt;\n    &lt;number&gt;101445&lt;/number&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;native&lt;/kind&gt;\n   ';\nmy $file = \"C:\\\\Users\\\\bjoshi\\\\LightroomBuilds\\\\Win\\\\data.xml\";\nmy $t= XML::Twig-&gt;new( twig_handlers =&gt; { grouping =&gt; sub { grouping( $myXML, @_); }, })\n                -&gt;parsefile( \"$file\") or die $!;\n\n$t-&gt;print;\nopen my $xml_fh, '&gt;', \"$file\" or die $!;\n$t-&gt;set_pretty_print('indented_c');\n$t-&gt;print($xml_fh);\nexit;\n\nsub grouping\n  { my( $xml, $t, $grouping)= @_;\n    my $new_elt= XML::Twig::Elt-&gt;parse( $xml);\n    $new_elt-&gt;paste( last_child =&gt; $grouping);\n  }\n</code></pre>\n\n<p>The output which I an getting is:-</p>\n\n<pre><code>&lt;Install&gt;\n  &lt;version&gt;\n    &lt;number&gt;6.1&lt;/number&gt;\n    &lt;build&gt;1025654&lt;/build&gt;\n    &lt;path&gt;path&lt;/path&gt;\n    &lt;kind&gt;native&lt;/kind&gt;\n  &lt;/version&gt;\n&lt;/Install&gt;\n</code></pre>\n"}, {"tags": ["java", "perl", "zipfile"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5151834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-I_5Sz-Ju9NU/AAAAAAAAAAI/AAAAAAAAHvc/Zg1yd_WTYxg/photo.jpg?sz=128", "display_name": "Shravan Reddy", "link": "https://stackoverflow.com/users/5151834/shravan-reddy"}, "edited": false, "score": 0, "creation_date": 1437981553, "post_id": 31614876, "comment_id": 51240054, "body": "Thanks for you response Trenton.  (1) &#39;stream()&#39; is streaming the content, so no issues with it. (2) When I hit curl &quot;<a href=\"http://localhost:port&gt;/abc/abc.pl\" rel=\"nofollow noreferrer\">localhost:port&gt;/abc/abc.pl</a>&quot; it&#39;s showing my perl code in the browser instead of streaming zip data or an error. (3) Didn&#39;t get this point."}], "tags": [], "owner": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "is_accepted": false, "score": 0, "last_activity_date": 1438009449, "last_edit_date": 1438009449, "creation_date": 1437753221, "answer_id": 31614876, "question_id": 31610475, "link": "https://stackoverflow.com/questions/31610475/invoking-perl-code-from-my-vms-ubuntu-machine-through-a-java-program-in-windows/31614876#31614876", "title": "Invoking perl code from my VM&#39;s Ubuntu machine through a java program in Windows", "body": "<p>There are multiple possibilities for why your scripts aren't working.</p>\n\n<ol>\n<li><p>Your perl script doesn't work.<br>\n There are issues if that is the entirety of your script.    There is no built in perl <code>stream()</code> and you haven't imported it from anywhere.  Does your perl script work if you run it from the command line?</p></li>\n<li><p>The server with the perl script isn't configured to execute it as a cgi script.<br>\nFrom the ubuntu box,  run <code>curl \"http://localhost:port/abc/abc.pl\"</code>  Do you get a stream of zip data or an error or nothing?  If you don't get a zip stream,  you'll need to configure your http server to serve cgi scripts.</p></li>\n<li><p>Your server isn't accepting connections.<br>\nFrom the windows box,  just go to your address in your browser.    If you get a zip file,  then it's working correctly. </p></li>\n<li>Your java code is wrong.<br>\nI don't have enough experience in java to know what could be changed.   It looks right as far as I can tell, but someone may need to correct that.</li>\n</ol>\n"}], "owner": {"reputation": 21, "user_id": 5151834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-I_5Sz-Ju9NU/AAAAAAAAAAI/AAAAAAAAHvc/Zg1yd_WTYxg/photo.jpg?sz=128", "display_name": "Shravan Reddy", "link": "https://stackoverflow.com/users/5151834/shravan-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438009449, "creation_date": 1437740603, "last_edit_date": 1437742549, "question_id": 31610475, "link": "https://stackoverflow.com/questions/31610475/invoking-perl-code-from-my-vms-ubuntu-machine-through-a-java-program-in-windows", "title": "Invoking perl code from my VM&#39;s Ubuntu machine through a java program in Windows", "body": "<p>I wrote a perl script in my VM's ubuntu box, which streams a set of mp4 files and trying to invoke this script from windows through a java program. But I am not receiving the streamed files on my java side.</p>\n\n<h2>My perl code looks like:</h2>\n\n<pre><code>use Archive::Zip::SimpleZip qw($SimpleZipError);\nmy $z = new Archive::Zip::SimpleZip '-', Stream=&gt;1\nor die \"Cannot create zip file: $SimpleZipError\\n\" ;\n\n$z-&gt;add(\"Users/abc/abc/abc.mp4\");                                          \n$z-&gt;add(\"Users/abc/abc/abc1.mp4\");\n$z-&gt;close();\n\nstream();\n</code></pre>\n\n<h2>Through my java program which is in Windows OS trying to invoke perl:</h2>\n\n<pre><code>URL url = new URL(\"http://&lt;ubuntu machine ipaddress&gt;:port&gt;/abc/abc.pl\");\nString urlStr = url.toString();\n\nHttpURLConnection urlConn = (HttpURLConnection) url.openConnection();\nurlConn.setRequestMethod(\"GET\");\nurlConn.setUseCaches(true);\nurlConn.setDoOutput(true);\nInputStream is = urlConn.getInputStream();\nreturn is;\n</code></pre>\n\n<p>From the above inputstream I am trying to export the content into a zip file but after my export zip file is downloading as a empty file.</p>\n\n<p>Can some body help me on this?</p>\n"}, {"tags": ["perl", "gtk", "glade"], "comments": [{"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1437803619, "post_id": 31608799, "comment_id": 51195168, "body": "What exact minimum version of GTK+ do you need?"}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "reply_to_user": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1437838678, "post_id": 31608799, "comment_id": 51203659, "body": "GTK+ 2 is the version I&#39;m using."}], "answers": [{"tags": [], "owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1437979281, "last_edit_date": 1437979281, "creation_date": 1437977444, "answer_id": 31645990, "question_id": 31608799, "link": "https://stackoverflow.com/questions/31608799/gtk-perl-remove-default-text-in-text-entry-without-using-a-placeholder/31645990#31645990", "title": "Gtk Perl : remove default text in Text Entry without using a placeholder", "body": "<p>Using the <code>'focus-in-event'</code> signal is a satisfactory solution here. \nIn the callback, set the text in the Text Entry box to <code>\"\"</code> so that it is cleared when clicked on (i.e., when the Text Entry box gets <em>focus</em>).  </p>\n\n<p><a href=\"https://developer.gnome.org/gtk3/stable/GtkWidget.html#GtkWidget-focus\" rel=\"nofollow\">https://developer.gnome.org/gtk3/stable/GtkWidget.html#GtkWidget-focus</a></p>\n"}], "owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 31645990, "answer_count": 1, "score": 1, "last_activity_date": 1437979281, "creation_date": 1437735438, "last_edit_date": 1437744373, "question_id": 31608799, "link": "https://stackoverflow.com/questions/31608799/gtk-perl-remove-default-text-in-text-entry-without-using-a-placeholder", "title": "Gtk Perl : remove default text in Text Entry without using a placeholder", "body": "<p>While I am aware that <code>set_placeholder_text(\"I am the placeholder\")</code> will solve my problem, this feature is only available from Gtk+ 3.2 onwards. </p>\n\n<p>I would like to know the simplest method to remove the default text from a Text Entry box when the user clicks on it. </p>\n"}]