[{"tags": ["selenium", "perl", "same-origin-policy", "cross-origin-read-blocking"], "answers": [{"tags": [], "owner": {"reputation": 116505, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 1, "last_activity_date": 1593451278, "last_edit_date": 1593451278, "creation_date": 1554974291, "answer_id": 55628911, "question_id": 55621387, "link": "https://stackoverflow.com/questions/55621387/error-permission-denied-to-access-property-x-due-to-same-cross-origin-policy/55628911#55628911", "title": "Error: Permission denied to access property &quot;x&quot; due to same/cross origin policy using Selenium?", "body": "<p>This error message...</p>\n<pre><code>Permission denied to access property. https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Property_access_denied?utm_source=mozilla&amp;utm_medium=firefox-console-errors&amp;utm_campaign=default\n</code></pre>\n<p>...implies that the script/program was attempting to access an object for which you have no permission. This is likely an <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\" rel=\"nofollow noreferrer\"><code>&lt;iframe&gt;</code></a> element loaded from a different domain for which you violated the <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy\" rel=\"nofollow noreferrer\">same-origin policy</a>.</p>\n<hr />\n<h2>Same-origin policy</h2>\n<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy\" rel=\"nofollow noreferrer\">Same-origin policy</a> is a critical security mechanism that restricts how a document or script loaded from one <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/origin\" rel=\"nofollow noreferrer\">origin</a> can interact with a resource from another origin. It helps isolate potentially malicious documents, reducing possible attack vectors.</p>\n<hr />\n<h2>origin</h2>\n<p>Two URLs have the same origin if the <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/protocol\" rel=\"nofollow noreferrer\">protocol</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/port\" rel=\"nofollow noreferrer\">port</a> (if specified), and <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/host\" rel=\"nofollow noreferrer\">host</a> are the same for both. You may see this referenced as the &quot;scheme/host/port tuple&quot;, or just &quot;tuple&quot;. (A &quot;tuple&quot; is a set of items that together comprise a whole \u2014 a generic form for double/triple/quadruple/quintuple/etc.)</p>\n<hr />\n<h2>An Example</h2>\n<p>The following table gives examples of origin comparisons with the URL <code>http://store.company.com/dir/page.html</code>:</p>\n<pre><code>URL                                                  Outcome    Reason\nhttp://store.company.com/dir2/other.html             Success    Only the path differs\nhttp://store.company.com/dir/inner/another.html      Success    Only the path differs\nhttps://store.company.com/page.html                  Failure    Different protocol\nhttp://store.company.com:81/dir/page.html            Failure    Different port (http:// is port 80 by default)\nhttp://news.company.com/dir/page.html                Failure    Different host\n</code></pre>\n<blockquote>\n<p>You can also find [origin definition for file: URLs] where the comparison is more complicated.</p>\n</blockquote>\n<hr />\n<h2>Inherited origins</h2>\n<p>Scripts executed from pages with an <strong><code>about:blank</code></strong> or <strong><code>javascript:</code></strong> URL inherit the origin of the document containing that URL, since these types of URLs do not contain information about an origin server.</p>\n<blockquote>\n<p>For example, <strong><code>about:blank</code></strong> is often used as a URL of new, empty popup windows into which the parent script writes content (e.g. via the <code>Window.open()</code> mechanism). If this popup also contains JavaScript, that script would inherit the same origin as the script that created it.</p>\n<p><strong><code>data:</code></strong>: URLs get a new, empty, security context.</p>\n</blockquote>\n<hr />\n<h2>Changing origin</h2>\n<p>A page may change its own origin, with some limitations. A script can set the value of <code>document.domain</code> to its current domain or a superdomain of its current domain. If set to a superdomain of the current domain, the shorter superdomain is used for same-origin checks.</p>\n<p>For example, assume a script from the document at <code>http://store.company.com/dir/other.html</code> executes the following:</p>\n<pre><code>document.domain = &quot;company.com&quot;;\n</code></pre>\n<p>Afterward, the page can pass the same-origin check with <code>http://company.com/dir/page.html</code> (assuming <code>http://company.com/dir/page.html</code> sets its <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/domain\" rel=\"nofollow noreferrer\"><code>document.domain</code></a> to <strong><code>company.com</code></strong> to indicate that it wishes to allow that). However, <code>company.com</code> could <strong>not</strong> set <code>document.domain</code> to <code>othercompany.com</code>, since that is not a superdomain of <code>company.com</code>.</p>\n<p>The port number is checked separately by the browser. Any call to <code>document.domain</code>, including <code>document.domain = document.domain</code>, causes the port number to be overwritten with <code>null</code>. Therefore, one cannot make <code>company.com:8080</code> talk to <code>company.com</code> by only setting <code>document.domain = &quot;company.com&quot;</code> in the first. It has to be set in both so their port numbers are both null.</p>\n<blockquote>\n<p><strong>Note</strong>: When using <code>document.domain</code> to allow a subdomain to access its parent securely, you need to set <code>document.domain</code> to the same value in both the parent domain and the subdomain. This is necessary even if doing so is simply setting the parent domain back to its original value. Failure to do this may result in permission errors.</p>\n</blockquote>\n<hr />\n<h2>Solution</h2>\n<p>You need to induce <em>WebDriverWait</em> while switching frames as follows:</p>\n<ul>\n<li><p><em>Java</em> sample code:</p>\n<pre><code>new WebDriverWait(driver, 10).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.id(&quot;iframe_id&quot;)));\n</code></pre>\n</li>\n<li><p><em>Python</em> sample code:</p>\n<pre><code>WebDriverWait(driver, 10).until(EC.frame_to_be_available_and_switch_to_it((By.ID,&quot;iframe_id&quot;)))\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>Outro</h2>\n<p>A couple of related discussions:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/53203417/ways-to-deal-with-document-under-iframe/53276478#53276478\">Ways to deal with #document under iframe</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51163151/uncaught-domexception-blocked-a-frame-with-origin-http-localhost8080-from/51174271#51174271\">Uncaught DOMException: Blocked a frame with origin \u201chttp://localhost:8080\u201d from accessing a cross-origin frame while listing the iframes in page</a></li>\n</ul>\n"}], "owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1791, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1593451278, "creation_date": 1554930693, "last_edit_date": 1576466117, "question_id": 55621387, "link": "https://stackoverflow.com/questions/55621387/error-permission-denied-to-access-property-x-due-to-same-cross-origin-policy", "title": "Error: Permission denied to access property &quot;x&quot; due to same/cross origin policy using Selenium?", "body": "<p>I want to access to the content of a script which is inside another HTML element which I can Identify easily. I've tried to find the element by getting the parent and then looking for a child but I've not been able to do it.</p>\n\n<p>So I tried to get it just using the console in firefox and use that element to read the content and I'm not able to do it. It looks like this:\n<a href=\"https://i.stack.imgur.com/wZgvA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wZgvA.jpg\" alt=\"example\"></a></p>\n\n<p>When I tried to do anything with that element I get a link to the following page and error:</p>\n\n<pre><code>Permission denied to access property. https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Property_access_denied?utm_source=mozilla&amp;utm_medium=firefox-console-errors&amp;utm_campaign=default\n</code></pre>\n\n<p>Is not possible to access to that object for automatic testing with selenium?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1554931658, "post_id": 55620961, "comment_id": 97936101, "body": "@zdim.. thank you.. just updated.. btw stuck with work and coming here after sometime.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554950703, "post_id": 55620961, "comment_id": 97940551, "body": "The foreach loop aliases <code>$_</code> to the scalars returned by <code>1..2</code>. You are performing the substitution against those temporary scalars."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1555438247, "post_id": 55620961, "comment_id": 98109018, "body": "@stack0114106 &quot;<i>stuck with work</i>&quot; -- it&#39;s good to be busy with work.  I mean, I hope it&#39;s good work :)"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1555091589, "post_id": 55621049, "comment_id": 98002937, "body": "I suggest to change <code>-E</code> to <code>-e</code> since no features are used here.   (This simply used the OP I guess, but that was changed as well.   See my comment under OP)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1555443945, "post_id": 55621049, "comment_id": 98111632, "body": "(that comment removed -- the gist of it was that there are <a href=\"https://stackoverflow.com/a/43685448/4653379\">reasons against using <code>-E</code></a>)"}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": false, "score": 5, "last_activity_date": 1554930986, "last_edit_date": 1554930986, "creation_date": 1554928981, "answer_id": 55621049, "question_id": 55620961, "link": "https://stackoverflow.com/questions/55620961/why-doesnt-change-between-single-and-global-replace/55621049#55621049", "title": "why $_ doesn&#39;t change between single and global replace", "body": "<p>Because the \"more local\" <code>$_</code> is the one of the loop. Observe how</p>\n\n<pre><code>perl -E \"\\$_ = 'abc'; print(\\$_) for 1 .. 2; print(\\$_);\"\n</code></pre>\n\n<p>prints <code>12abc</code> instead of <code>abcabcabc</code>.</p>\n\n<p>From <a href=\"https://perldoc.perl.org/perlvar.html#SPECIAL-VARIABLES\" rel=\"noreferrer\">\"perlvar -- SPECIAL VARIABLES -- General Variables\"</a>:</p>\n\n<blockquote>\n  <ul>\n  <li><p><code>$_</code>\n  ...</p>\n  \n  <p>Here are the places where Perl will assume <code>$_</code> even if you don't use it:</p>\n  \n  <p>...</p>\n  \n  <ul>\n  <li>The default iterator variable in a <code>foreach</code> loop if no other variable is supplied.</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>And from <a href=\"https://perldoc.perl.org/perlsyn.html#For-Loops\" rel=\"noreferrer\">\"perlsyn -- Foreach Loops\"</a>:</p>\n\n<blockquote>\n  <p>The <code>foreach</code> keyword is actually a synonym for the <code>for</code> keyword, so you can use either. If VAR is omitted, <code>$_</code> is set to each value.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "is_accepted": true, "score": 5, "last_activity_date": 1554929813, "creation_date": 1554929813, "answer_id": 55621205, "question_id": 55620961, "link": "https://stackoverflow.com/questions/55620961/why-doesnt-change-between-single-and-global-replace/55621205#55621205", "title": "why $_ doesn&#39;t change between single and global replace", "body": "<p>In a for loop, the loop variable is scoped. Thus, the command</p>\n\n<pre><code>$x=17; for $x (1..2) { say $x } say $x;\n</code></pre>\n\n<p>results in <code>$x</code> being restored to its original value after having left the loop:</p>\n\n<pre><code>1\n2\n17\n</code></pre>\n\n<p>The implicit variable <code>$_</code> makes no exception: you get the same result from the command</p>\n\n<pre><code>$_=17; say for (1..2); say;\n</code></pre>\n"}], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "accepted_answer_id": 55621205, "answer_count": 2, "score": 3, "last_activity_date": 1554931544, "creation_date": 1554928584, "last_edit_date": 1554931544, "question_id": 55620961, "link": "https://stackoverflow.com/questions/55620961/why-doesnt-change-between-single-and-global-replace", "title": "why $_ doesn&#39;t change between single and global replace", "body": "<p>I have these 4 statements</p>\n\n<pre><code>$ perl -e ' $in=\"axaxaxhhhh\"; $in=~s/a/p/ for 1..2 ; print $in '  # 1. Ok\npxpxaxhhhh\n\n$ perl -e ' $_=\"axaxaxhhhh\"; $_=~s/a/p/ for 1..2 ; print $_ ' # 2. Why not working?\naxaxaxhhhh\n\n$ perl -e ' $_=\"axaxaxhhhh\"; $_=~s/a/p/g; print $_ ' # 3.good\npxpxpxhhhh\n\n$ perl -e ' $_=\"axaxaxhhhh\"; $_=~s/a/p/; print $_ ' # 4.good \npxaxaxhhhh\n\n$\n</code></pre>\n\n<p>what is happening in my second case ?. why it is not modifying $_?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1554915552, "post_id": 55617621, "comment_id": 97928843, "body": "You have <code>use Tie::File</code> which would be one way to accomplish this, but you are not actually using it anywhere (see <a href=\"https://perldoc.pl/Tie::File\" rel=\"nofollow noreferrer\">docs</a>). Your current code is just reading the file, and updating the strings in memory."}, {"owner": {"reputation": 13, "user_id": 10652681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6b225723f842d30d6a23769cc542d4?s=128&d=identicon&r=PG&f=1", "display_name": "Virender", "link": "https://stackoverflow.com/users/10652681/virender"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1554919383, "post_id": 55617621, "comment_id": 97930693, "body": "Thank you So much. I have use tie::file now and able to achieve the desired results. we can close this question."}], "owner": {"reputation": 13, "user_id": 10652681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6b225723f842d30d6a23769cc542d4?s=128&d=identicon&r=PG&f=1", "display_name": "Virender", "link": "https://stackoverflow.com/users/10652681/virender"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554941704, "creation_date": 1554914799, "last_edit_date": 1554915433, "question_id": 55617621, "link": "https://stackoverflow.com/questions/55617621/search-and-update-string-in-all-files-using-perl", "title": "search and update string in all files using perl", "body": "<p>Need to search and replace the string in multiple file of same extension using perl.</p>\n\n<p>I am using this code, but it is not working as expected. Can anyone please help.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\nuse warnings;\n\nuse English;\n\nuse Tie::File;\n\n\nmy $string2 = 'li role=\"prep\" class=\"active\"'; #old string\n\nmy $string3 = 'li role=\"presentation\"'; #new string\n\n\nmy $string6 = 'div role=\"tabpanel\" class=\"tab-pane active\" id=\"documentation\"'; #old string\n\nmy $string7 = 'div role=\"tabpanel\" class=\"tab-pane\" id=\"documentation\"'; #new string\n\nmy $quoted_substring = quotemeta($string2);\n\nmy $quoted_substring2 = quotemeta($string6);\n\n\nmy $dir = 'C:\\Users\\vkpal\\Desktop\\New_Report';\n\nforeach my $fp (glob(\"$dir/*.html\")) {\n\nchomp($fp);\n\n  printf \"%s\\n\", $fp;\n\n  open my $fh, \"&lt;\", $fp or die \"can't read open '$fp': $OS_ERROR\";\n\n  while (&lt;$fh&gt;) {\n\n    #printf \"  %s\", $_;\n\n    s/$quoted_substring/$string3/g;\n\n    s/$quoted_substring2/$string7/g;        \n\n  }\n\n  close $fh or die \"can't read close '$fp': $OS_ERROR\";\n\n}\n</code></pre>\n\n<hr>\n\n<p>I am using above code but it is not replacing the string. Can anyone please me here.</p>\n"}, {"tags": ["perl", "unicode"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554915574, "post_id": 55616658, "comment_id": 97928854, "body": "See also <a href=\"https://stackoverflow.com/q/37027051/2173773\">In what encoding does readdir return a filename?</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1554963565, "post_id": 55616658, "comment_id": 97943806, "body": "@H&#229;kon H&#230;gland, Most of the answer to the linked question doesn&#39;t apply because it&#39;s specific to unix."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554950095, "post_id": 55617061, "comment_id": 97940431, "body": "Re &quot;<i>Filenames are always bytes</i>&quot;, Not in Windows. They are strings of 16-bit values there. /// Re &quot;<i>there is no indication or requirement for unicode characters in filenames to be represented in a certain encoding</i>&quot;, In Windows, file names are encoded using UTF-16le, and must therefore be encodable using that encoding.  /// Re &quot;<i>but interacted with as decoded characters</i>&quot;, Quite the opposite. Perl uses calls that expect/return the file name encoded using the system&#39;s ACP. /// Re &quot;<i>It sounds like a bug in File::Path</i>, It&#39;s a known bug/limit of Perl funcs that&#39;s merely inherited by File::Path."}, {"owner": {"reputation": 25, "user_id": 3406792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0cb1ef715e69d6e4bd27b81becef18d?s=128&d=identicon&r=PG&f=1", "display_name": "user3406792", "link": "https://stackoverflow.com/users/3406792/user3406792"}, "edited": false, "score": 0, "creation_date": 1555065835, "post_id": 55617061, "comment_id": 97988419, "body": "@Grinnz Thanks for your comment. I tried with File::Path version 2.15 and it was still failing.  We are using  &#39;rd&#39;/&#39;rmdir&#39; as the alternative solution, but we wanted to avoid it and instead use some lib/module implementation."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1554922890, "last_edit_date": 1554922890, "creation_date": 1554912701, "answer_id": 55617061, "question_id": 55616658, "link": "https://stackoverflow.com/questions/55616658/how-to-delete-folder-with-unicode-character-filenames-using-perl-rmtree/55617061#55617061", "title": "How to delete folder with unicode character filenames using Perl rmtree?", "body": "<p>Filenames are always bytes. Unfortunately there is no indication or requirement for unicode characters in filenames to be represented in a certain encoding, and every OS has different conventions. In most Unix-like systems the filenames are encoded to UTF-8 and interacted with as bytes. However in Windows the filenames are stored as UTF-16, but interacted with as decoded characters. It sounds like a bug in File::Path that it doesn't properly deal with these filenames as it finds them - as you are not providing the filenames, it can't be a bug in your code.</p>\n\n<p>I would first suggest making sure your File::Path is the latest version (2.16). If this doesn't work, all I can suggest is to report a bug, and either manually recursively use opendir and readdir to remove files and subdirectories, or shell out to <a href=\"https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/rd\" rel=\"nofollow noreferrer\">rd /s</a>.</p>\n\n<pre><code>my $rc = system 'rd', '/s', $dir; # check for errors as in system() docs\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 3406792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0cb1ef715e69d6e4bd27b81becef18d?s=128&d=identicon&r=PG&f=1", "display_name": "user3406792", "link": "https://stackoverflow.com/users/3406792/user3406792"}, "edited": false, "score": 0, "creation_date": 1555172828, "post_id": 55623778, "comment_id": 98021541, "body": "Accepted as answer, as this looks to be most accurate for my requirement. I however failed to build the module on my machine, so could not actually test it. I will try it out again once I have some free time."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1554963111, "last_edit_date": 1554963111, "creation_date": 1554949343, "answer_id": 55623778, "question_id": 55616658, "link": "https://stackoverflow.com/questions/55616658/how-to-delete-folder-with-unicode-character-filenames-using-perl-rmtree/55623778#55623778", "title": "How to delete folder with unicode character filenames using Perl rmtree?", "body": "<p>You can use the subs provided by <a href=\"https://metacpan.org/pod/Win32::Unicode::File\" rel=\"nofollow noreferrer\">Win32::Unicode::File</a> and <a href=\"https://metacpan.org/pod/Win32::Unicode::Dir\" rel=\"nofollow noreferrer\">Win32::Unicode::Dir</a> to do what you want.</p>\n\n<hr>\n\n<p>Windows provides two versions of each API call that accepts or returns text.</p>\n\n<ul>\n<li><p>The versions with the \"A\" (ANSI) suffix expect and return text encoded using the system's Active Code Page. (<code>\"cp\".Win32::GetACP()</code> provides an encoding name you can use with the subs provided by Encode.)</p>\n\n<p>For example, the <code>DeleteFileA</code> system call is used to delete a file, and it expects a path encoded using the system's Active Code Page.</p></li>\n<li><p>The versions with the \"W\" (Wide) suffix expect and return text encoded using UTF-16le.</p>\n\n<p>For example, the <code>DeleteFileW</code> system call is used to delete a file, and it expects a path encoded using UTF-16le.</p></li>\n</ul>\n\n<p>Perl uses the \"A\" version of all system calls. The \"W\" version is required here.</p>\n\n<p>The modules mentioned above provide access to the \"W\" version of calls you need.</p>\n"}], "owner": {"reputation": 25, "user_id": 3406792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0cb1ef715e69d6e4bd27b81becef18d?s=128&d=identicon&r=PG&f=1", "display_name": "user3406792", "link": "https://stackoverflow.com/users/3406792/user3406792"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 55623778, "answer_count": 2, "score": 2, "last_activity_date": 1554963111, "creation_date": 1554911265, "question_id": 55616658, "link": "https://stackoverflow.com/questions/55616658/how-to-delete-folder-with-unicode-character-filenames-using-perl-rmtree", "title": "How to delete folder with unicode character filenames using Perl rmtree?", "body": "<p>I have some perl code which deletes folders using function File::Path::rmtree. This function works successfully if the folder structure contains ascii character files/folders but fails if the folder contains Unicode character files/folders..  Perl version I am using is \"This is perl 5, version 12, subversion 4 (v5.12.4) built for MSWin32-x86-multi-thread\"</p>\n\n<p>I have also tried using the latest perl version., but the issue persists. Here is sample code:</p>\n\n<pre><code>use strict 'vars';\nrequire File::Path;\n\nsub Rmdir($)\n{\n   my ($Arena) = \"D:\\\\tmp\\\\TestUnicodeRm\";\n\n   if (-d $Arena){\n   print \"Dir to Rmtree $Arena\\n\";\n       File::Path::rmtree($Arena,0,0);\n}\n\n     if (-d $Arena){\n        print \"Failed to clean up test area $Arena.\\n\";\n     }\n}\n\nRmdir $0;\n\n1;\n</code></pre>\n\n<p>If the directory 'D:\\tmp\\TestUnicodeRm' has file with name say 'chinese_trad_\u6211\u7684\u6587\u4ef6.txt' then I get error as \"cannot remove directory for XXX: Directory not empty at D:\\tmp\\rmtree.pm line XX\".</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1563543720, "post_id": 55615369, "comment_id": 100746231, "body": "<b>Javascript Regex:</b> <code>^(?!\\s)[0-9A-Za-z\\~\\!\\@\\#\\$\\%\\^\\*\\(\\)\\_\\+\\{\\}\\|\\:\\?`\\-\\=\\[\\]&zwnj;&#8203;\\\\\\;\\.\\&#47;]+(?&lt;!\\s)$</code> <b>Match:</b> <code>0-9a-zA-Z~!@#$%^*()_+{}|:?</code>-=[]\\;./` <b>Not Match:</b> <code>, &amp; &lt; &gt; &#39; &quot; and Don&#39;t Allow space at the beginning and end.</code>"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1563543767, "post_id": 55615369, "comment_id": 100746264, "body": "<b>Perl Regex:</b> <code>qr&#39;^(?!\\s)[^\\P{PosixPrint}\\,\\&lt;\\&gt;\\&#39;\\&quot;\\&amp;]+(?&lt;!\\s)$&#39;</code> just like above."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554960702, "post_id": 55616157, "comment_id": 97942767, "body": "Problem 1: <code>\\h</code> (horizontal whitespace) should be <code>\\s</code> (whitespace)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554960763, "post_id": 55616157, "comment_id": 97942786, "body": "Problem 2: <code>$</code> should be <code>\\z</code> (or else it will allow a trailing Line Feed)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554960784, "post_id": 55616157, "comment_id": 97942795, "body": "Problem 3: <code>+</code> should be <code>*</code> (or else it won&#39;t allow empty strings)."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 3, "last_activity_date": 1554909631, "creation_date": 1554909631, "answer_id": 55616157, "question_id": 55615369, "link": "https://stackoverflow.com/questions/55615369/allow-posixprint-characters-except-and-except-whitespace-at-the-be/55616157#55616157", "title": "Allow PosixPrint Characters except , % \\ / # ? : and except whitespace at the begining and end of string", "body": "<p><code>\\b</code> is a word boundary, it is a boundary between a word character and a non word character.</p>\n\n<p>Beginning and end of line are considered as non word character, so, <code>\\b</code> at the end or at the beginning of a line will \"match\" only if there is a word character at first (last) char.</p>\n\n<p>As far as I understand you want to reject lines that begin and/or end with space, use:</p>\n\n<pre><code>my $vars = [\n    q#1#,\n    q#1~`!l#,\n    q#11#,\n    q#111#,\n    q#1 1#,\n    q# 11#,\n    q#11 #,\n    q# 11 #,\n    q# 1 1 #,\n    q#1`~!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;1#,\n    q#1`~!@$^&amp;*()-_=1#,\n    q#1~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;#,\n    q#~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;1#,\n    q#~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;#,\n];\n\nforeach my $var (@$vars){\n    if ( $var =~ m/^(?!\\h)[^\\P{PosixPrint}\\/\\#\\%\\?\\:\\,\\\\]+(?&lt;!\\h)$/x) {\n    #               ^^^^^^                                ^^^^^^^\n        print \"match:\\t\\t#$var#\\n\";\n    }\n    else{\n        print \"no match:\\t#$var#\\n\";\n    }\n}\n</code></pre>\n\n<p>Where </p>\n\n<ul>\n<li><code>(?!\\h)</code> is a negative lookahead that make sure we haven't a horizontal space at first position</li>\n<li><code>(?&lt;!\\h)</code> is a negative lookbehind that make sure we haven't a horizontal space at last position</li>\n</ul>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>match:      #1#\nmatch:      #1~`!l#\nmatch:      #11#\nmatch:      #111#\nmatch:      #1 1#\nno match:   # 11#\nno match:   #11 #\nno match:   # 11 #\nno match:   # 1 1 #\nmatch:      #1`~!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;1#\nmatch:      #1`~!@$^&amp;*()-_=1#\nmatch:      #1~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;#\nmatch:      #~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;1#\nmatch:      #~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;#\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1554976632, "last_edit_date": 1554976632, "creation_date": 1554962089, "answer_id": 55625583, "question_id": 55615369, "link": "https://stackoverflow.com/questions/55615369/allow-posixprint-characters-except-and-except-whitespace-at-the-be/55625583#55625583", "title": "Allow PosixPrint Characters except , % \\ / # ? : and except whitespace at the begining and end of string", "body": "<p>The following is the pattern provided by the earlier answer with a few fixes:</p>\n\n<pre><code>/\n   ^\n   (?!\\s)\n   [^\\P{PosixPrint}\\\\\\/\\#%?:,]*\n   (?&lt;!\\s)\n   \\z\n/x\n</code></pre>\n\n<p>The following in an optimization of the above:</p>\n\n<pre><code>/\n    ^\n    (?: [^\\P{PosixPrint}\\s\\\\\\/\\#%?:,]++\n        (?: [^\\P{PosixPrint}\\S]++\n            [^\\P{PosixPrint}\\s\\\\\\/\\#%?:,]++\n        )*+\n    )?+\n    \\z\n/x\n</code></pre>\n\n<p>It's considered a better practice to state which characters are allowed (whitelist) rather than stating which ones aren't (blacklist). The latter approach is error-prone. The following are identical to the above solution, but use whitelisting instead of blacklisting:</p>\n\n<pre><code>/\n    ^\n    (?: [a-zA-Z0-9!\"\\$&amp;'()*+\\-.;&lt;=&gt;@[\\]^_`{|}~]++\n        (?: [ ]++\n            [a-zA-Z0-9!\"\\$&amp;'()*+\\-.;&lt;=&gt;@[\\]^_`{|}~]++\n        )*+\n    )?+\n    \\z\n/x\n</code></pre>\n\n<p>or</p>\n\n<pre><code>/\n    ^\n    (?: (?&amp;SAFE_CHAR)++\n        (?: [ ]++\n            (?&amp;SAFE_CHAR)++\n        )*+\n    )?+\n    \\z\n\n    (?(DEFINE)\n       (?&lt;SAFE_CHAR&gt; [a-zA-Z0-9!\"\\$&amp;'()*+\\-.;&lt;=&gt;@[\\]^_`{|}~] )\n    )\n/x\n</code></pre>\n"}], "owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "accepted_answer_id": 55616157, "answer_count": 2, "score": 0, "last_activity_date": 1554996230, "creation_date": 1554907297, "last_edit_date": 1554996230, "question_id": 55615369, "link": "https://stackoverflow.com/questions/55615369/allow-posixprint-characters-except-and-except-whitespace-at-the-be", "title": "Allow PosixPrint Characters except , % \\ / # ? : and except whitespace at the begining and end of string", "body": "<p>So For this <code>Allow PosixPrint Characters except , % \\ / # ? :</code> condition is working </p>\n\n<p>with this regex pattern <code>m/^[^\\P{PosixPrint}\\/\\#\\%\\?\\:\\,\\\\]+$/x</code></p>\n\n<p>But for this:</p>\n\n<p><code>white-space at the beginning and end but allow in the middle</code> </p>\n\n<p>this pattern <code>m/^\\b[^\\P{PosixPrint}\\/\\#\\%\\?\\:\\,\\\\]+\\b$/x</code> is kind of working (See the output).</p>\n\n<p>It is not matching string if any characters appear at beginning and end except <code>[0-9a-zA-Z]</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $vars = [\n    q#1#,\n    q#1~`!l#,\n    q#11#,\n    q#111#,\n    q#1 1#,\n    q# 11#,\n    q#11 #,\n    q# 11 #,\n    q# 1 1 #,\n    q#1`~!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;1#,\n    q#1`~!@$^&amp;*()-_=1#,\n    q#1~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;#,\n    q#~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;1#,\n    q#~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;#,\n];\n\nforeach my $var (@$vars){\n    if ( $var =~ m/^\\b[^\\P{PosixPrint}\\/\\#\\%\\?\\:\\,\\\\]+\\b$/x) {\n        print \"match:\\t\\t#$var#\\n\";\n    }\n    else{\n        print \"no match:\\t#$var#\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>    match:      #1#\n    match:      #1~`!l#\n    match:      #11#\n    match:      #111#\n    match:      #1 1#\n    no match:   # 11#\n    no match:   #11 #\n    no match:   # 11 #\n    no match:   # 1 1 #\n    match:      #1`~!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;1#\n    match:      #1`~!@$^&amp;*()-_=1#\n    no match:   #1~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;#\n    no match:   #~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;1#\n    no match:   #~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;#\n</code></pre>\n\n<p><strong>Expected OUTPUT:</strong></p>\n\n<pre><code>    match:      #1#\n    match:      #1~`!l#\n    match:      #11#\n    match:      #111#\n    match:      #1 1#\n    no match:   # 11#\n    no match:   #11 #\n    no match:   # 11 #\n    no match:   # 1 1 #\n    match:      #1`~!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;1#\n    match:      #1`~!@$^&amp;*()-_=1#\n    match:      #1~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;#\n    match:      #~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;1#\n    match:      #~`!@$^&amp;*()-_=+|]}[{;'\".&gt;&lt;#\n</code></pre>\n\n<p><strong>Information:</strong></p>\n\n<pre><code>Perl Version: v5.26.2\nPlatform: Ubuntu 18.10\n</code></pre>\n"}, {"tags": ["git", "perl", "svn", "git-svn"], "comments": [{"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1554917289, "post_id": 55614878, "comment_id": 97929682, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1140428/git-svn-fetch-retrieves-the-same-subversion-revision-multiple-times-for-branches\">git svn fetch retrieves the same Subversion revision multiple times for branches</a>"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1554917293, "post_id": 55614878, "comment_id": 97929685, "body": "<a href=\"https://stackoverflow.com/search?q=%5Bgit-svn%5D+Refspec+glob+conflict\">stackoverflow.com/search?q=%5Bgit-svn%5D+Refspec+glob+confli&zwnj;&#8203;ct</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2995, "user_id": 11239008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93761b11a01c818e0112814403d0205e?s=128&d=identicon&r=PG&f=1", "display_name": "EncryptedWatermelon", "link": "https://stackoverflow.com/users/11239008/encryptedwatermelon"}, "is_accepted": false, "score": 1, "last_activity_date": 1554907435, "creation_date": 1554907435, "answer_id": 55615425, "question_id": 55614878, "link": "https://stackoverflow.com/questions/55614878/how-can-i-convert-a-large-svn-repo-to-git/55615425#55615425", "title": "How can I convert a large SVN repo to Git?", "body": "<p>If you are only exporting to git you are better of using the KDE svn2git. It's much faster and allows you to create annotated tags.\n<a href=\"https://github.com/svn-all-fast-export/svn2git\" rel=\"nofollow noreferrer\">https://github.com/svn-all-fast-export/svn2git</a></p>\n"}], "owner": {"reputation": 3002, "user_id": 7685, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/DIkLu.jpg?s=128&g=1", "display_name": "Chris Nelson", "link": "https://stackoverflow.com/users/7685/chris-nelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554917110, "creation_date": 1554905968, "last_edit_date": 1554917110, "question_id": 55614878, "link": "https://stackoverflow.com/questions/55614878/how-can-i-convert-a-large-svn-repo-to-git", "title": "How can I convert a large SVN repo to Git?", "body": "<p>I'm trying to convert several SVN repositories to Git.  Two have gone smoothly.  When I try to convert the next, large-ish one, I get errors from <code>git svn clone</code>.  First a bunch of:</p>\n\n<pre><code>W: Refspec glob conflict (ref: refs/remotes/origin/tags/Something-Perl):\nexpected path: something/trunk/tags/Something-Perl\n    real path: something/tags/Something-Perl\n</code></pre>\n\n<p>for various \"something.\"  Then one:</p>\n\n<pre><code>Initializing parent: refs/remotes/origin/TheName@27584\nUse of uninitialized value $args[1] in join or string at /usr/share/perl5/vendor_perl/Git.pm line 1635.\nUse of uninitialized value $_[2] in exec at /usr/share/perl5/vendor_perl/Git.pm line 1661.\nfatal: Not a valid object name\nls-tree -z  ./: command returned error: 128\n</code></pre>\n\n<p>Digging, I find line 1635 is</p>\n\n<pre><code>return wantarray ? ($fh, join(' ', $cmd, @args)) : $fh;\n</code></pre>\n\n<p>Google found a few instances of errors in <code>Git.pm</code> or <code>SVN.pm</code> but not this one.  (For reference, I'm using git version 2.19.1 on Linux.)</p>\n\n<p>I really only want two of the directories in that repo so I tried to follow <a href=\"https://stackoverflow.com/questions/28411610/migrating-a-large-svn-repo-to-git\">Migrating a large SVN repo to git</a> but I end up with an empty Git repo:</p>\n\n<pre><code>[MyNewRepo]$ git status\nOn branch master\n\nNo commits yet\n\nnothing to commit (create/copy files and use \"git add\" to track)\n</code></pre>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 11, "user_id": 8423012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32855a2d392b89a2025f425a1e4494d?s=128&d=identicon&r=PG&f=1", "display_name": "zsolt2255", "link": "https://stackoverflow.com/users/8423012/zsolt2255"}, "edited": false, "score": 0, "creation_date": 1554896422, "post_id": 55611632, "comment_id": 97917380, "body": "<a href=\"http://www.kepfeltoltes.eu/images/2019/03/240problem.jpg\" rel=\"nofollow noreferrer\">kepfeltoltes.eu/images/2019/03/240problem.jpg</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1554896944, "post_id": 55611632, "comment_id": 97917713, "body": "You have tagged with Perl. Are you using this in a Perl program, or somewhere else where you have the PCRE regex engine? It is very easy to solve this with the code that runs the regex."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 1, "creation_date": 1554897096, "post_id": 55611632, "comment_id": 97917798, "body": "This is a little unclear to me. In the first example, <code>&quot;sadfsadf!ghfgh%fgh65%%&quot;</code> do you not want the <code>&quot;%%&quot;</code> because it&#39;s two <code>&quot;%&quot;</code>? I.e. if it was <code>&quot;sadfsadf!ghfgh%fgh65%abc%&quot;</code> you&#39;d expect <code>&quot;!&quot;</code>, <code>&quot;%&quot;</code>, <code>&quot;%&quot;</code> <b>and another</b> <code>&quot;%&quot;</code>? Or do you just want the first three characters of all matches? I.e for <code>&quot;sadfsadf!!ghfgh%fgh65%%&quot;</code> get <code>&quot;!&quot;</code>, <code>&quot;!&quot;</code> and <code>&quot;%&quot;</code>?"}, {"owner": {"reputation": 91433, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 0, "creation_date": 1554898824, "post_id": 55611632, "comment_id": 97918853, "body": "Does it have to be 3 or just not the last one?"}, {"owner": {"reputation": 33825, "user_id": 9898643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c9f303fda4c69e9c9ce6b84a6268402?s=128&d=identicon&r=PG&f=1", "display_name": "Theo", "link": "https://stackoverflow.com/users/9898643/theo"}, "edited": false, "score": 1, "creation_date": 1554901535, "post_id": 55611632, "comment_id": 97920522, "body": "Suddenly, it is a different question??"}], "answers": [{"comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 11, "user_id": 8423012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32855a2d392b89a2025f425a1e4494d?s=128&d=identicon&r=PG&f=1", "display_name": "zsolt2255", "link": "https://stackoverflow.com/users/8423012/zsolt2255"}, "edited": false, "score": 0, "creation_date": 1554915434, "post_id": 55612413, "comment_id": 97928781, "body": "@zsolt2255: Fine, but mine seems simpler."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 3, "last_activity_date": 1554898806, "creation_date": 1554898806, "answer_id": 55612413, "question_id": 55611632, "link": "https://stackoverflow.com/questions/55611632/how-can-i-limit-this-term-to-a-3-piece-hit/55612413#55612413", "title": "How can I limit this term to a 3 piece hit?", "body": "<p>Here is a way to go:</p>\n\n<pre><code>use feature 'say';\n\nmy $in = 'sadfsadf!ghfgh%fgh65%%';\n$in =~ s/\\W/o/ for 1..3;\nsay $in;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>sadfsadfoghfghofgh65o%\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8423012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32855a2d392b89a2025f425a1e4494d?s=128&d=identicon&r=PG&f=1", "display_name": "zsolt2255", "link": "https://stackoverflow.com/users/8423012/zsolt2255"}, "is_accepted": false, "score": 0, "last_activity_date": 1554915295, "creation_date": 1554915295, "answer_id": 55617761, "question_id": 55611632, "link": "https://stackoverflow.com/questions/55611632/how-can-i-limit-this-term-to-a-3-piece-hit/55617761#55617761", "title": "How can I limit this term to a 3 piece hit?", "body": "<p>Solved the problem\nCode:    </p>\n\n<pre><code>#!/usr/bin/perl -w\nwhile ($be=&lt;STDIN&gt;)\n{\nchomp $be;\npush (@list, $be);\n}\n\nforeach $a (@list)\n{\n$count=0;\n    if ($a=~/\\W/)\n    {\n    while (($a=~m/\\W/g) &amp;&amp; ($count &lt; 3))\n    {\n    $count++;\n    $a=~s/\\W/o/;\n    }\n    print \"$a\\n\";\n    }\n    else {print \"-&gt;\\n\";}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1554938199, "creation_date": 1554938199, "answer_id": 55622560, "question_id": 55611632, "link": "https://stackoverflow.com/questions/55611632/how-can-i-limit-this-term-to-a-3-piece-hit/55622560#55622560", "title": "How can I limit this term to a 3 piece hit?", "body": "<p>your data in 'list' file</p>\n\n<pre><code> perl -pe 'for $i(1..3){s/\\W/o/} ' list\n</code></pre>\n\n<p>on bash if you put data such <code>list='sadfsadf!ghfgh%fgh65%%'</code></p>\n\n<pre><code>for((i=1;i&lt;=3;i++)){ list=`echo $list|sed -E \"s/\\W/Y/\"`; }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8423012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32855a2d392b89a2025f425a1e4494d?s=128&d=identicon&r=PG&f=1", "display_name": "zsolt2255", "link": "https://stackoverflow.com/users/8423012/zsolt2255"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1554938199, "creation_date": 1554896342, "last_edit_date": 1554915999, "question_id": 55611632, "link": "https://stackoverflow.com/questions/55611632/how-can-i-limit-this-term-to-a-3-piece-hit", "title": "How can I limit this term to a 3 piece hit?", "body": "<p>It would be the real task to <code>sadfsadf! Ghfgh% fgh65 %%</code> of this text to replace the first 3 characters that are true for regexp, so replace it with 'o' <code>sadfsadfoghfghofgh65o%</code></p>\n\n<pre><code>#!/usr/bin/perl -w\n\n@list=&lt;&gt;;\nchomp(@list);\n\nforeach(@list) {\n    if($_ =~ m/\\W/) {\n        # here is the problem because all the characters you find it \n        #  overwrite it, but I only need to translate 3 characters from it\n        $_ =~ s/\\W/o/g;\n        print $_.\"\\n\";\n    }\n    else {\n        print \"-&gt;\\n\";\n    }\n}\n\n#start string =&gt; sadfsadf!ghfgh%fgh65%%\n#result my program =&gt; sadfsadfoghfghofgh65oo\n#and I need it =&gt; sadfsadfoghfghofgh65o%\n</code></pre>\n\n<p>change only the first 3 results to 'o'</p>\n"}, {"tags": ["perl", "awk", "slurm"], "comments": [{"owner": {"reputation": 6606, "user_id": 4135670, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mArsS.jpg?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4135670/rafael"}, "edited": false, "score": 2, "creation_date": 1554866701, "post_id": 55604021, "comment_id": 97903788, "body": "Please include <code>qstat -f</code> output"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1554899685, "post_id": 55604021, "comment_id": 97919353, "body": "What value in your sample input identifies a <code>cluster</code>? What identifies a <code>node</code>? <a href=\"https://stackoverflow.com/posts/55604021/edit\">edit</a> your question to include the expected output given your posted sample input."}, {"owner": {"reputation": 1717, "user_id": 6352677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cfb9753ce472a4b6d2cd7070b4eac98?s=128&d=identicon&r=PG&f=1", "display_name": "Keldorn", "link": "https://stackoverflow.com/users/6352677/keldorn"}, "edited": false, "score": 1, "creation_date": 1554912623, "post_id": 55604021, "comment_id": 97927338, "body": "Is that for a cluster running Slurm (as the tag indicates, and <code>sinfo</code> in the question), or PBS (for <code>qstat</code>)?"}, {"owner": {"reputation": 13578, "user_id": 1328439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CuI4k.jpg?s=128&g=1", "display_name": "Dmitri Chubarov", "link": "https://stackoverflow.com/users/1328439/dmitri-chubarov"}, "reply_to_user": {"reputation": 1717, "user_id": 6352677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cfb9753ce472a4b6d2cd7070b4eac98?s=128&d=identicon&r=PG&f=1", "display_name": "Keldorn", "link": "https://stackoverflow.com/users/6352677/keldorn"}, "edited": false, "score": 0, "creation_date": 1554965038, "post_id": 55604021, "comment_id": 97944393, "body": "@Keldorn Yes, the cluster is running Slurm, though I am still more used to PBS commands, so I use qstat that comes with SLURM. Could you please undelete your post?"}, {"owner": {"reputation": 1717, "user_id": 6352677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cfb9753ce472a4b6d2cd7070b4eac98?s=128&d=identicon&r=PG&f=1", "display_name": "Keldorn", "link": "https://stackoverflow.com/users/6352677/keldorn"}, "edited": false, "score": 0, "creation_date": 1554993872, "post_id": 55604021, "comment_id": 97961745, "body": "Ok, I put my answer back. I do not find <code>qstat</code> on the Slurm cluster I am using, it may be an extra tool set up by your admins to ease the transition."}, {"owner": {"reputation": 13578, "user_id": 1328439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CuI4k.jpg?s=128&g=1", "display_name": "Dmitri Chubarov", "link": "https://stackoverflow.com/users/1328439/dmitri-chubarov"}, "reply_to_user": {"reputation": 1717, "user_id": 6352677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cfb9753ce472a4b6d2cd7070b4eac98?s=128&d=identicon&r=PG&f=1", "display_name": "Keldorn", "link": "https://stackoverflow.com/users/6352677/keldorn"}, "edited": false, "score": 1, "creation_date": 1554994738, "post_id": 55604021, "comment_id": 97962402, "body": "@Keldorn qstat is a part of <code>slurm-torque</code>, an optional package from SchedMD that does exactly what the name says. It provides &quot;<i>Torque/PBS wrappers for transitition from Torque/PBS to Slurm</i>&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 13578, "user_id": 1328439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CuI4k.jpg?s=128&g=1", "display_name": "Dmitri Chubarov", "link": "https://stackoverflow.com/users/1328439/dmitri-chubarov"}, "edited": false, "score": 0, "creation_date": 1554906712, "post_id": 55607575, "comment_id": 97923831, "body": "Would it make sense to put the format string into a variable?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 13578, "user_id": 1328439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CuI4k.jpg?s=128&g=1", "display_name": "Dmitri Chubarov", "link": "https://stackoverflow.com/users/1328439/dmitri-chubarov"}, "edited": false, "score": 1, "creation_date": 1554926756, "post_id": 55607575, "comment_id": 97934021, "body": "@DmitriChubarov Yes, by all means; in a script that&#39;s definitely what I&#39;d do.    Here I thought it&#39;d be simpler this way, since it&#39;s only these two lines as they stand.  But, you may well want a variable instead, even in a one-shot &quot;one&quot;-liner."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 4, "last_activity_date": 1571472377, "last_edit_date": 1571472377, "creation_date": 1554883321, "answer_id": 55607575, "question_id": 55604021, "link": "https://stackoverflow.com/questions/55604021/which-job-runs-on-which-node/55607575#55607575", "title": "Which job runs on which node?", "body": "<p>If there's nothing to your liking on the <code>qstat</code> man page then parse the output, much like you do. </p>\n\n<p>Here it is with Perl</p>\n\n<pre><code>qstat -f | perl -wne'\n    /Job Id:\\s+(.*)/                              &amp;&amp; push(@r, [$1])   or \n    /(?:Job_Name|job_state|exec_host)\\s+=\\s+(.*)/ &amp;&amp; push(@{$r[-1]}, $1) \n    }{ \n    printf(\"%6s\\t%16s\\t%5s\\t%8s\\n\", (\"JobId\", \"Job Name\", \"State\", \"Hosts\")\n    printf(\"%6s\\t%16s\\t%5s\\t%8s\\n\", @$_) for @r'\n</code></pre>\n\n<p>where I copy your output format.  The <code>}{</code> syntax marks the beginning of <code>END</code> block.</p>\n\n<p>The <code>Job Id</code> line starts a new arrayref in our array of results <code>@r</code>, with the ID being its first element. Other desired fields are added, in the order of appearance, to the last (so current) arrayref in <code>@r</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 296, "user_id": 2570502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JAGa.png?s=128&g=1", "display_name": "Oh My Goodness", "link": "https://stackoverflow.com/users/2570502/oh-my-goodness"}, "is_accepted": false, "score": 3, "last_activity_date": 1554884894, "creation_date": 1554884894, "answer_id": 55608013, "question_id": 55604021, "link": "https://stackoverflow.com/questions/55604021/which-job-runs-on-which-node/55608013#55608013", "title": "Which job runs on which node?", "body": "<p>It can be done without an END block since your inputs and outputs are in the same order.  Width of 0 triggers a newline.</p>\n\n<pre><code>qstat -f | perl -nle'\n   BEGIN { \n       @fields=(\"Job Id\",qw( Job_Name job_state exec_host )); \n       @width{@fields}=(6,20,9,0); \n       $\"=\"|\"; $re=qr/^\\s*(@fields)\\s*[:=]\\s*(.*\\S)/; \n       printf \"%$width{$_}s\\t\",$_ for @fields; print \"\";\n   } \n   printf \"%$width{$1}s\\t%s\", $2, $width{$1}?\"\":\"\\n\" if /$re/\n'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1717, "user_id": 6352677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cfb9753ce472a4b6d2cd7070b4eac98?s=128&d=identicon&r=PG&f=1", "display_name": "Keldorn", "link": "https://stackoverflow.com/users/6352677/keldorn"}, "is_accepted": true, "score": 1, "last_activity_date": 1554993751, "last_edit_date": 1554993751, "creation_date": 1554911695, "answer_id": 55616765, "question_id": 55604021, "link": "https://stackoverflow.com/questions/55604021/which-job-runs-on-which-node/55616765#55616765", "title": "Which job runs on which node?", "body": "<p>You can set directly the <code>squeue</code> output format for most of it. AFAICT, it does not provide CPU usage for each node separately though:</p>\n\n<p><code>squeue -t R --format=\"%.20i %.20j %.5t %.5C %R\"</code></p>\n\n<p>Example output:</p>\n\n<pre><code>               JOBID                 NAME    ST  CPUS NODELIST(REASON)\n            18206767 job_TR1_11_run007188     R     1 node05\n            18206768 job_TR2_11_run007188     R     1 node13\n            18207078 job_T1_11_run007188_     R     1 node24\n            18207079 job_T2_11_run007188_     R     1 node14\n            18207080 job_T3_11_run007188_     R     1 node17\n</code></pre>\n\n<p>See <code>man squeue</code> or <a href=\"https://slurm.schedmd.com/squeue.html\" rel=\"nofollow noreferrer\">https://slurm.schedmd.com/squeue.html</a> for more details.</p>\n"}], "owner": {"reputation": 13578, "user_id": 1328439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CuI4k.jpg?s=128&g=1", "display_name": "Dmitri Chubarov", "link": "https://stackoverflow.com/users/1328439/dmitri-chubarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 55616765, "answer_count": 3, "score": 3, "last_activity_date": 1571472377, "creation_date": 1554864478, "last_edit_date": 1555077007, "question_id": 55604021, "link": "https://stackoverflow.com/questions/55604021/which-job-runs-on-which-node", "title": "Which job runs on which node?", "body": "<p>Here is a quick question that often comes up and challenges my AWK skills. How do I list all jobs on a cluster together with a list of nodes they are allocated.</p>\n\n<p>Something like:</p>\n\n<pre><code> JobId          Job Name    State      Hosts\n               . . .\n 29428   _2.0_cont_7.job        R      fm3/6\n 29429   _2.2_cont_7.job        R      fm3/6\n 29430   _2.4_cont_8.job        R      fm1/6\n 29431   _2.6_cont_8.job        R      fm1/6\n 29835           taverna        R   mathserv/40\n               . . .\n</code></pre>\n\n<p>Is there a parameter to <code>sinfo</code> or <code>qstat</code> that would provide a similar output without further processing? Or what would be a good <code>perl</code> or <code>awk</code> one-liner to do the job?</p>\n\n<p>Here is what I currently run</p>\n\n<pre><code>qstat -f | awk \\\n   '/Job Id/ {job=$3 ; \n        if (s &gt; 0) {printf(\"%6s\\t%16s\\t%5s\\t%8s\\n\",job,name,state,host); } s+=1} \n   /exec_host/ {host=$3} \n   /Job_Name/ {name=$3} \n   /job_state/ {state = $3} \n   END {printf(\"%6s\\t%16s\\t%5s\\t%8s\\n\",job,name,state,host)}\n   BEGIN {printf(\"%6s\\t%16s\\t%5s\\t%8s\\n\",\"JobId\",\"Job Name\",\"State\",\"Hosts\")}'\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here is a fragment of <code>qstat -f</code> output:</p>\n\n<pre><code>Job Id: 29835\n    Job_Name = taverna\n    Job_Owner = meos@taverna\n    interactive = True\n    job_state = R\n    queue = all\n    qtime = Wed Apr 10 12:02:10 2019\n    mtime = Wed Apr 10 12:02:10 2019\n    ctime = Wed Apr 10 18:02:10 2019\n    exec_host = mathserv/40\n    Priority = 4294873206\n    euser = meos(1006)\n    egroup = meos(1000)\n    Resource_List.walltime = 06:00:00\n    Resource_List.nodect = 1\n    Resource_List.ncpus = 40\n</code></pre>\n\n<p>Such blocks are printed for each job running on the cluster. </p>\n\n<p>Here the <code>exec_host</code> parameter identifies the node and the number of slots on that node or a least of nodes with respective numbers of slots allocated for a job. The rest of the parameters are selfexplanatory.</p>\n\n<p>The expected output for just this block would be</p>\n\n<pre><code> JobId          Job Name    State      Hosts\n 29835           taverna        R   mathserv/40\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>For anyone interested, updated the original AWK program to fix some errors\nand improve formatting. It happens to work well on Torque and PBS managed clusters as well.</p>\n\n<pre><code>qstat -f | awk '/Job Id/ {job=$3 ; \n        if (s &gt; 0) {printf(format,lastjob,user,name,state,host)} ;\n        lastjob=job ; s+=1} \n   /exec_host/ {host=$3} \n   /Job_Name/ {name=$3} \n   /job_state/ {state = $3} \n   /Job_Owner/ {user=$3; sub(\"@.*\",\"\",user)}\n   END {printf(format,lastjob,user,name,state,host)}\n   BEGIN {format=\"%10s\\t%10s\\t%25s\\t%5s\\t%8s\\n\";\n          printf(format,\"JobId\",\"Owner\",\"Job Name\",\"State\",\"Hosts\")}'\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 3469, "user_id": 1060209, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0092a22de606e8d13f868c475adea3d4?s=128&d=identicon&r=PG", "display_name": "Qiang Xu", "link": "https://stackoverflow.com/users/1060209/qiang-xu"}, "edited": false, "score": 0, "creation_date": 1554854012, "post_id": 55602809, "comment_id": 97901296, "body": "Thanks, but in the 3rd case, isn&#39;t it still an array? Why there is a match in that case? The array got flattened?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 3469, "user_id": 1060209, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0092a22de606e8d13f868c475adea3d4?s=128&d=identicon&r=PG", "display_name": "Qiang Xu", "link": "https://stackoverflow.com/users/1060209/qiang-xu"}, "edited": false, "score": 2, "creation_date": 1554854140, "post_id": 55602809, "comment_id": 97901326, "body": "@QiangXu In the 3rd case there is no array. You have a simple string in (redundant) parentheses. It&#39;s like writing <code>$x = (2 + 2)</code>; the parens aren&#39;t needed, but they don&#39;t do any harm, either."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 3469, "user_id": 1060209, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0092a22de606e8d13f868c475adea3d4?s=128&d=identicon&r=PG", "display_name": "Qiang Xu", "link": "https://stackoverflow.com/users/1060209/qiang-xu"}, "edited": false, "score": 1, "creation_date": 1554854871, "post_id": 55602809, "comment_id": 97901475, "body": "@QiangXu &quot;array&quot; is a type of variable, not a type of value; parentheses do not create arrays.  (though <code>[]</code> will return a reference to an anonymous array, but that&#39;s very different)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 3469, "user_id": 1060209, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0092a22de606e8d13f868c475adea3d4?s=128&d=identicon&r=PG", "display_name": "Qiang Xu", "link": "https://stackoverflow.com/users/1060209/qiang-xu"}, "edited": false, "score": 1, "creation_date": 1554855272, "post_id": 55602809, "comment_id": 97901557, "body": "@QiangXu In <code>my @arr = (&#39;I&#39;, &#39;am&#39;, &#39;Qiang&#39;);</code> the parens are only used to override precedence (by default <code>=</code> has higher precedence than <code>,</code>). In <code>@arr = (&#39;Qiang&#39;);</code> the parens are redundant and you could have simply written <code>@arr = &#39;Qiang&#39;;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554862728, "post_id": 55602809, "comment_id": 97903047, "body": "Added a solution. Feel free to revert."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3469, "user_id": 1060209, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0092a22de606e8d13f868c475adea3d4?s=128&d=identicon&r=PG", "display_name": "Qiang Xu", "link": "https://stackoverflow.com/users/1060209/qiang-xu"}, "edited": false, "score": 1, "creation_date": 1554863183, "post_id": 55602809, "comment_id": 97903125, "body": "@QiangXu, Parens (<code>(...)</code>) don&#39;t create lists, much less arrays. Arrays are a type of variable, and no variables appear in <code>(&#39;Qiang&#39;)</code>. Parens just affects precedence. <code>(&#39;Qiang&#39;)</code> and <code>&#39;Qiang&#39;</code> both evaluate to the string scalar <code>Qiang</code> regardless of context."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 4, "last_activity_date": 1554880819, "last_edit_date": 1554880819, "creation_date": 1554853729, "answer_id": 55602809, "question_id": 55602771, "link": "https://stackoverflow.com/questions/55602771/array-on-the-left-hand-side-of-the-matching-operator/55602809#55602809", "title": "array on the left-hand side of the matching operator", "body": "<p>The <code>=~</code> operator evaluates its left operand in scalar context (it wants a string).</p>\n\n<p>An array in scalar context yields the number of elements it contains, which in your case is <code>3</code> and <code>1</code>, respectively.</p>\n\n<p>Thus the conditions become <code>\"3\" =~ /Qiang/</code> and <code>\"1\" =~ /Qiang/</code>, both of which are false.</p>\n\n<p>If you <code>use strict; use warnings;</code> (which you always should), you will see the following warning:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Applying pattern match (m//) to @arr will act on scalar(@arr)\n</code></pre>\n\n<p>... which <code>perldoc perldiag</code> <a href=\"https://perldoc.pl/perldiag#Applying-%25s-to-%25s-will-act-on-scalar(%25s)\" rel=\"nofollow noreferrer\">explains as</a>:</p>\n\n<blockquote>\n  <p>(W misc) The pattern match (<code>//</code>), substitution (<code>s///</code>), and transliteration (<code>tr///</code>) operators work on scalar values. If you apply one of them to an array or a hash, it will convert the array or hash to a scalar value (the length of an array, or the population info of a hash) and then work on that scalar value. This is probably not what you meant to do. See <a href=\"https://perldoc.pl/perlfunc#grep\" rel=\"nofollow noreferrer\">\"grep\" in perlfunc</a> and <a href=\"https://perldoc.pl/perlfunc#map\" rel=\"nofollow noreferrer\">\"map\" in perlfunc</a> for alternatives.</p>\n</blockquote>\n\n<hr>\n\n<p>To check if any element of an array matches a regex pattern, you can use <code>grep</code> as follows:</p>\n\n<pre><code>my @arr = ('I', 'am', 'Qiang');\nif ( grep { /Qiang/ } @arr ) {\n    say(\"At least one match!!!\");\n} else {\n    say(\"No match found\");\n}\n</code></pre>\n\n<p><code>grep</code> will actually return the number of matching elements when evaluated in scalar context, so this is less efficient than it could be (it will always check every array element). To stop checking after the first match is found, use <a href=\"https://perldoc.pl/List::Util#any\" rel=\"nofollow noreferrer\"><code>any</code> from List::Util</a>.</p>\n"}], "owner": {"reputation": 3469, "user_id": 1060209, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0092a22de606e8d13f868c475adea3d4?s=128&d=identicon&r=PG", "display_name": "Qiang Xu", "link": "https://stackoverflow.com/users/1060209/qiang-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 55602809, "answer_count": 1, "score": 0, "last_activity_date": 1554880819, "creation_date": 1554853411, "last_edit_date": 1554853944, "question_id": 55602771, "link": "https://stackoverflow.com/questions/55602771/array-on-the-left-hand-side-of-the-matching-operator", "title": "array on the left-hand side of the matching operator", "body": "<p>Found weird behavior of my script, when the left-hand side is an array:</p>\n\n<pre><code>#!/usr/bin/perl\n\nsub say {\n    print @_, \"\\n\";\n}\n\n\nmy @arr = ('I', 'am', 'Qiang');\nif (@arr =~ /Qiang/) {\n    say(\"1: Match!!!\");\n} else {\n    say(\"1: No match found\");\n}\n\n@arr = ('Qiang');\nif (@arr =~ /Qiang/) {\n    say(\"2: Match!!!\");\n} else {\n    say(\"2: No match found\");\n}\n\nif (('Qiang') =~ /Qiang/) {\n    say(\"3: Match!!!\");\n} else {\n    say(\"3: No match found\");\n}\nqxu@xqiang-mac-0:~/test$ ./regex_array_match.pl \n1: No match found\n2: No match found\n3: Match!!!\n</code></pre>\n\n<p>The code in the 2nd case and the 3rd case looks equivalent to me, yet the results are different.</p>\n\n<p>What Perl is supposed to do when there is an array showing up on the left-hand side of the matching operator?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1554831471, "post_id": 55598190, "comment_id": 97893119, "body": "Please, edit your question to <a href=\"https://stackoverflow.com/editing-help\">format properly</a> everything and take the time to read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>."}, {"owner": {"reputation": 13, "user_id": 10652681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6b225723f842d30d6a23769cc542d4?s=128&d=identicon&r=PG&f=1", "display_name": "Virender", "link": "https://stackoverflow.com/users/10652681/virender"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1554832287, "post_id": 55598190, "comment_id": 97893472, "body": "Can you please review. thanks"}, {"owner": {"reputation": 11828, "user_id": 4420967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6pYX.png?s=128&g=1", "display_name": "James Z", "link": "https://stackoverflow.com/users/4420967/james-z"}, "edited": false, "score": 2, "creation_date": 1554838072, "post_id": 55598190, "comment_id": 97896090, "body": "Please add code etc. as text, not images."}], "answers": [{"tags": [], "owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "is_accepted": true, "score": 1, "last_activity_date": 1554833228, "creation_date": 1554833228, "answer_id": 55598764, "question_id": 55598190, "link": "https://stackoverflow.com/questions/55598190/search-and-replace-a-string-having-special-characters-in-a-file-using-perl/55598764#55598764", "title": "Search and replace a string having special characters in a file using Perl", "body": "<p>Use Perl's built-in function <code>quotemeta</code> to escape all special  characters in your search string. See <a href=\"https://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/functions/quotemeta.html</a></p>\n"}], "owner": {"reputation": 13, "user_id": 10652681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6b225723f842d30d6a23769cc542d4?s=128&d=identicon&r=PG&f=1", "display_name": "Virender", "link": "https://stackoverflow.com/users/10652681/virender"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "accepted_answer_id": 55598764, "answer_count": 1, "score": -3, "last_activity_date": 1554838020, "creation_date": 1554830801, "last_edit_date": 1554838020, "question_id": 55598190, "link": "https://stackoverflow.com/questions/55598190/search-and-replace-a-string-having-special-characters-in-a-file-using-perl", "title": "Search and replace a string having special characters in a file using Perl", "body": "<p>Search and replace a string in a file using Perl.\nI have a .txt file. where i need to search and replace a string.\ni code i have is working fine for string not having special characters.but for the string containing special characters like (?,=,:: ) is not working with this code.</p>\n\n<p>Problem statement image</p>\n\n<p><a href=\"https://i.stack.imgur.com/mXuU7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXuU7.png\" alt=\"\"></a></p>\n\n<p>Code i am using and expected results</p>\n\n<p><a href=\"https://i.stack.imgur.com/4fVBd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4fVBd.png\" alt=\"\"></a></p>\n"}, {"tags": ["perl", "find"], "comments": [{"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1554828256, "post_id": 55597275, "comment_id": 97891596, "body": "Have you checked permissions? Your code doesn&#39;t print out an error message when opendir fails, so it&#39;d likely be helpful to have exactly the code that produces the exact error message."}, {"owner": {"reputation": 2274, "user_id": 6266192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iA0i.jpg?s=128&g=1", "display_name": "Dudi Boy", "link": "https://stackoverflow.com/users/6266192/dudi-boy"}, "edited": false, "score": 0, "creation_date": 1554828269, "post_id": 55597275, "comment_id": 97891607, "body": "are you open to other not perl solutions? with find and du."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554828901, "post_id": 55597275, "comment_id": 97891944, "body": "See also <a href=\"https://stackoverflow.com/q/39015527/2173773\">Is it safe to rename files while using readdir?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1558318491, "last_edit_date": 1558318491, "creation_date": 1554828464, "answer_id": 55597626, "question_id": 55597275, "link": "https://stackoverflow.com/questions/55597275/how-can-perl-verify-that-a-path-is-a-directory-yet-not-be-able-to-call-opendir/55597626#55597626", "title": "How can Perl verify that a path is a directory yet not be able to call opendir() on the very same?", "body": "<p>The code's removing directories under <code>find</code>'s feet, so to speak. </p>\n\n<p>The simplest fix: change <code>find</code> to <code>finddepth</code>, for <a href=\"https://perldoc.perl.org/File/Find.html#DESCRIPTION\" rel=\"nofollow noreferrer\">postorder traversal</a>, since</p>\n\n<blockquote>\n  <p>it invokes the <code>&amp;wanted</code> function for a directory <em>after</em> invoking it for the directory's contents.</p>\n</blockquote>\n\n<p>(original emphasis) &thinsp; Then it won't attempt to invoke <code>wanted</code> on the directory just removed.</p>\n\n<p>Or, merely collect the list of empty directories in <code>find</code> and delete them after <code>find</code> completes.</p>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 5150594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/531de88aa6a7b8eb348b9d811bc77285?s=128&d=identicon&r=PG&f=1", "display_name": "James Machin", "link": "https://stackoverflow.com/users/5150594/james-machin"}, "edited": false, "score": 0, "creation_date": 1554829444, "post_id": 55597695, "comment_id": 97892170, "body": "I can&#39;t see how opendir is ever called on testsubdir a second time, after it has been deleted. Or are you saying that the opendir error message isn&#39;t from my code from the internals of File::Find?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 169, "user_id": 5150594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/531de88aa6a7b8eb348b9d811bc77285?s=128&d=identicon&r=PG&f=1", "display_name": "James Machin", "link": "https://stackoverflow.com/users/5150594/james-machin"}, "edited": false, "score": 0, "creation_date": 1554829532, "post_id": 55597695, "comment_id": 97892210, "body": "@JamesMachin  It&#39;s indeed from the &quot;internals&quot; (as <code>wanted</code> is invoked), as it attempts to go through the list of items (while a subdir has just been processed and removed)."}, {"owner": {"reputation": 169, "user_id": 5150594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/531de88aa6a7b8eb348b9d811bc77285?s=128&d=identicon&r=PG&f=1", "display_name": "James Machin", "link": "https://stackoverflow.com/users/5150594/james-machin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1554830513, "post_id": 55597695, "comment_id": 97892676, "body": "@zdim Right I see, thank you for that clarification."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 4, "last_activity_date": 1554828703, "creation_date": 1554828703, "answer_id": 55597695, "question_id": 55597275, "link": "https://stackoverflow.com/questions/55597275/how-can-perl-verify-that-a-path-is-a-directory-yet-not-be-able-to-call-opendir/55597695#55597695", "title": "How can Perl verify that a path is a directory yet not be able to call opendir() on the very same?", "body": "<p>Let's throw in some logging statements and see what is happening:</p>\n\n<pre><code>my $lambda2 = sub {\n    my $path = $File::Find::name;\n    if ( -d $path ) {\n        print(\"Directory: \", $path, \"\\n\");\n        my $hasContent = sub {\n            my $directory = shift;\n            opendir ( my $dh, $directory );\n            return scalar ( grep { $_ ne \".\" &amp;&amp; $_ ne \"..\" } readdir ( $dh ) );\n        };\n        my $hc = $hasContent-&gt;($path);\n        print STDERR \"hc($path) = $hc\\n\";\n        if (! $hc) {\n            print STDERR \"Deleting $path\\n\";\n            rmdir( $path );\n        }\n    }\n};\n\n$ mkdir -p /Users/username/testdir/testsubdir\n$ perl subdir.pl\nDirectory: /Users/username/testdir\nhc(/Users/username/testdir) = 1\nDirectory: /Users/username/testdir/testsubdir\nhc(/Users/username/testdir/testsubdir) = 0\nDeleting /Users/username/testdir/testsubdir\nCan't opendir(/Users/username/testdir/testsubdir): No such file or directory\n at subdir.pl line 26.\n</code></pre>\n\n<p>So the code is more or less working as designed, it's just that <code>File::Find</code> is trying to walk <code>/Users/username/testdir/testsubdir</code> after you have deleted it.</p>\n"}, {"tags": [], "owner": {"reputation": 2274, "user_id": 6266192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iA0i.jpg?s=128&g=1", "display_name": "Dudi Boy", "link": "https://stackoverflow.com/users/6266192/dudi-boy"}, "is_accepted": false, "score": 0, "last_activity_date": 1554828940, "creation_date": 1554828940, "answer_id": 55597755, "question_id": 55597275, "link": "https://stackoverflow.com/questions/55597275/how-can-perl-verify-that-a-path-is-a-directory-yet-not-be-able-to-call-opendir/55597755#55597755", "title": "How can Perl verify that a path is a directory yet not be able to call opendir() on the very same?", "body": "<p>Using <code>du</code> and <code>awk</code>.</p>\n\n<p>List all empty directories under <code>$target_directory</code></p>\n\n<pre><code> du $target_directory| awk '$1==\"0\"{print $2}'\n</code></pre>\n\n<p>Remove all empty directories under <code>$target_directory</code></p>\n\n<pre><code> du $target_directory| awk '$1==\"0\"{system(\"rmdir \"$2);}'\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 5150594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/531de88aa6a7b8eb348b9d811bc77285?s=128&d=identicon&r=PG&f=1", "display_name": "James Machin", "link": "https://stackoverflow.com/users/5150594/james-machin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 55597626, "answer_count": 3, "score": 3, "last_activity_date": 1558318491, "creation_date": 1554827056, "question_id": 55597275, "link": "https://stackoverflow.com/questions/55597275/how-can-perl-verify-that-a-path-is-a-directory-yet-not-be-able-to-call-opendir", "title": "How can Perl verify that a path is a directory yet not be able to call opendir() on the very same?", "body": "<p>I'm trying to find empty subdirectories and delete them. I'm sure there are better ways to achieve this (I'm a poor programmer and relatively new with Perl) but even so, I'd like to understand what's wrong with my approach.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Basename; \nuse File::Find\n\nmy $lambda2 = sub\n{\n    my $path = $File::Find::name;\n    if ( -d $path )\n    {\n        print(\"Directory: \", $path, \"\\n\");\n\n        # Define anonymous function to test if directory is empty\n        my $hasContent = sub\n        {\n            my $directory = shift;\n            opendir ( my $dh, $directory );\n            return scalar ( grep { $_ ne \".\" &amp;&amp; $_ ne \"..\" } readdir ( $dh ) );\n        };\n        # Remove item if it is an empty directory\n        if ( ! $hasContent-&gt;( $path ) )\n        {\n            rmdir( $path );\n        }\n    }\n};\nmy $directory = \"/Users/username/testdir/\";\n\nfind( { wanted =&gt; $lambda2, no_chdir =&gt; 1 }, $directory );\n</code></pre>\n\n<p>If testdir has an empty subdirectory called testsubdir, say, I get the seemingly contradictory response:</p>\n\n<pre><code>Directory: /Users/username/testdir\nDirectory: /Users/username/testdir/testsubdir\nCan't opendir(/Users/username/testdir/testsubdir): No such file or directory\n</code></pre>\n\n<p>The printing of the latter directory implies that it passed the -d check, but the subsequent error message says there is no such directory. As far as I can see nothing occurs inbetween. </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 283, "user_id": 6180321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3UtsMtHYyb8/AAAAAAAAAAI/AAAAAAAACB8/s-hmQSxha14/photo.jpg?sz=128", "display_name": "Muamer Bekti\u0107", "link": "https://stackoverflow.com/users/6180321/muamer-bekti%c4%87"}, "edited": false, "score": 0, "creation_date": 1554827084, "post_id": 55596889, "comment_id": 97891047, "body": "Thanks, because I felt like I was crazy today, because all of the or documentation didn&#39;t have an example and I was so sure that it was something I could do. <i>Pun intended</i> EDIT:  Ironically I had the right sentax in the question tittle."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1554855683, "post_id": 55596889, "comment_id": 97901650, "body": "I find the term &quot;single-statement expressions&quot; confusing; I would prefer just &quot;single expressions&quot;.  statements are a superset of expressions, and it definitely can&#39;t handle statements that aren&#39;t expressions."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 7, "last_activity_date": 1554825621, "creation_date": 1554825621, "answer_id": 55596889, "question_id": 55596839, "link": "https://stackoverflow.com/questions/55596839/perl-or-do-multiple-things/55596889#55596889", "title": "Perl OR do multiple things", "body": "<p>You're looking for <code>or do {...}</code>.  <code>or</code> can only handle single-statement expressions, and <code>do</code> takes a block and turns it into a single-statement expression (from the perspective of outside the braces).</p>\n\n<p>And, personally, I think the second option is generally (but not always) more readable anyway.</p>\n"}], "owner": {"reputation": 283, "user_id": 6180321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3UtsMtHYyb8/AAAAAAAAAAI/AAAAAAAACB8/s-hmQSxha14/photo.jpg?sz=128", "display_name": "Muamer Bekti\u0107", "link": "https://stackoverflow.com/users/6180321/muamer-bekti%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 55596889, "answer_count": 1, "score": 2, "last_activity_date": 1554825621, "creation_date": 1554825464, "question_id": 55596839, "link": "https://stackoverflow.com/questions/55596839/perl-or-do-multiple-things", "title": "Perl OR do multiple things", "body": "<p>I was working on something and a bit ago I could have swore that this was a valid thing you could do, but today I was googling and I couldn't find any kind of reference.</p>\n\n<pre><code>$StaementHandler-&gt;execute($val1, $val2, $val3) or {\n    SomeFunction($var1, $var2);\n    Setup::Abend(\"Can't execute SQL statement: $DBI::errstr\");\n}\n</code></pre>\n\n<p>So I was wondering if there was a special way you could run several things instead of just die.</p>\n\n<p>Also if not, I just wanted to make sure this would produce the equivalent result.</p>\n\n<pre><code>unless ($StaementHandler-&gt;execute($val1, $val2, $val3)) {\n    SomeFunction($var1, $var2);\n    Setup::Abend(\"Can't execute SQL statement: $DBI::errstr\");\n}\n</code></pre>\n"}, {"tags": ["perl", "phpunit", "strace"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11335426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ae706067b4a166bc891e812cddab1b?s=128&d=identicon&r=PG&f=1", "display_name": "Prathyusha", "link": "https://stackoverflow.com/users/11335426/prathyusha"}, "edited": false, "score": 0, "creation_date": 1554827648, "post_id": 55596534, "comment_id": 97891313, "body": "Thank you for the response. Yes, that is perl script. I&#39;m trying to get all the files loaded while running a phpunit test through this script. I see that $? always returns an <code>exitcode 0</code> when I know the test returns an <code>exitcode 139</code>. Here&#39;s what I tried: ``` open(IN, &quot;-|&quot;, &quot;strace -ff $pid -e trace=file @cmd 2&gt;&amp;1&quot;) || die; # print $?; close(IN) ? print &quot;exitcode is $?&quot; : die(); print $?; print &quot;${^CHILD_ERROR_NATIVE}&quot;; print $CHILD_ERROR; ```"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10316011"}, "reply_to_user": {"reputation": 21, "user_id": 11335426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ae706067b4a166bc891e812cddab1b?s=128&d=identicon&r=PG&f=1", "display_name": "Prathyusha", "link": "https://stackoverflow.com/users/11335426/prathyusha"}, "edited": false, "score": 0, "creation_date": 1554828600, "post_id": 55596534, "comment_id": 97891788, "body": "@Prathyusha If you run phpunit without strace, does it actually return 139? I see some bug reports where they always returned 0: <a href=\"https://github.com/sebastianbergmann/phpunit/issues/1659\" rel=\"nofollow noreferrer\">github.com/sebastianbergmann/phpunit/issues/1659</a>"}, {"owner": {"reputation": 21, "user_id": 11335426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ae706067b4a166bc891e812cddab1b?s=128&d=identicon&r=PG&f=1", "display_name": "Prathyusha", "link": "https://stackoverflow.com/users/11335426/prathyusha"}, "edited": false, "score": 0, "creation_date": 1554829006, "post_id": 55596534, "comment_id": 97892000, "body": "I&#39;m positive. Ran the command separately on the console and saw it returned 139. Also, tried a different test which returns exitcode 1. Still seeing <code>exitcode 0</code> in the perl script.  For ref: I&#39;m making use of similar code in <a href=\"https://gitlab.com/ole.tange/tangetools/blob/master/tracefile/tracefile\" rel=\"nofollow noreferrer\">gitlab.com/ole.tange/tangetools/blob/master/tracefile/tracef&zwnj;&#8203;ile</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10316011"}, "reply_to_user": {"reputation": 21, "user_id": 11335426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ae706067b4a166bc891e812cddab1b?s=128&d=identicon&r=PG&f=1", "display_name": "Prathyusha", "link": "https://stackoverflow.com/users/11335426/prathyusha"}, "edited": false, "score": 0, "creation_date": 1554830961, "post_id": 55596534, "comment_id": 97892882, "body": "@Prathyusha Maybe you could look for messages like <code>[pid 12345] +++ exited with 42 +++</code> in the output"}, {"owner": {"reputation": 21, "user_id": 11335426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ae706067b4a166bc891e812cddab1b?s=128&d=identicon&r=PG&f=1", "display_name": "Prathyusha", "link": "https://stackoverflow.com/users/11335426/prathyusha"}, "edited": false, "score": 0, "creation_date": 1554833750, "post_id": 55596534, "comment_id": 97894144, "body": "Git the solution. I was looking for the exitcode at the wrong place. Here&#39;s what I&#39;ve done.  <code>open(IN, &quot;-|&quot;, &quot;strace -ff $pid -e trace=file @cmd 2&gt;&amp;1&quot;) || die; while(&lt;IN&gt;) {     &#47;&#47; some logic } close(IN); print &quot;exitcode=&quot; . ($? &gt;&gt; 8);</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10316011"}, "is_accepted": false, "score": 1, "last_activity_date": 1554824408, "creation_date": 1554824408, "answer_id": 55596534, "question_id": 55596346, "link": "https://stackoverflow.com/questions/55596346/is-there-a-way-to-capture-the-exit-code-of-the-child-command-when-run-through-st/55596534#55596534", "title": "Is there a way to capture the exit code of the child command when run through strace?", "body": "<p>Strace will exit with the same exit code as the traced program. So far so good.</p>\n\n<p>The open looks a bit perlish, is that perl we are talking about?\nThen this bit from <code>perldoc -f open</code> applies:</p>\n\n<blockquote>\n  <p>Closing any piped filehandle causes the parent process to wait for the\n  child to finish, then returns the status value in $? and\n  \"${^CHILD_ERROR_NATIVE}\".</p>\n</blockquote>\n\n<p>So, yes, you can get the code by calling <code>close IN</code> and looking at the value in $?.</p>\n"}], "owner": {"reputation": 21, "user_id": 11335426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ae706067b4a166bc891e812cddab1b?s=128&d=identicon&r=PG&f=1", "display_name": "Prathyusha", "link": "https://stackoverflow.com/users/11335426/prathyusha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1554872186, "creation_date": 1554823749, "last_edit_date": 1554872186, "question_id": 55596346, "link": "https://stackoverflow.com/questions/55596346/is-there-a-way-to-capture-the-exit-code-of-the-child-command-when-run-through-st", "title": "Is there a way to capture the exit code of the child command when run through strace?", "body": "<p>I'm trying to trace the files involved in running a unit test by using strace. Is there a way I can capture the exitcode of the test run while I do this?</p>\n\n<pre><code>@cmd=\"php -d auto_prepend_file=auto_prepend_for_tests.php /data/tests/sdk/bin/phpunit.phar --configuration /data/tests/conf/database.xml\n my_test.php\"\nopen(IN, \"-|\", \"strace -ff $pid -e trace=file @cmd 2&gt;&amp;1\")\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554821980, "post_id": 55594899, "comment_id": 97888133, "body": "<i>&quot;I have to have it so the 20 letters are equally divided into 40 letters each.&quot;</i> What 20 letters are you referring to?"}, {"owner": {"reputation": 1, "user_id": 11295401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/010f1811dcc9840928ae1ab69e35e542?s=128&d=identicon&r=PG&f=1", "display_name": "jackjj99", "link": "https://stackoverflow.com/users/11295401/jackjj99"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554831559, "post_id": 55594899, "comment_id": 97893151, "body": "The 20 letters inside the string, there is an uneven amount in the original file so I have to find and replace the shortest subsequence that will give me 40 of each letter"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554831770, "post_id": 55594899, "comment_id": 97893229, "body": "It is still not clear what you want to do, the letters A, B, C, .., T gives 20 characters, but the string you show contains for instance the letter V."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1554833847, "post_id": 55594899, "comment_id": 97894192, "body": "@H&#229;kon H&#230;gland - this is a biology project. There are 20 different letters in the input (missing B,J,O,U,X,Z) representing <a href=\"http://www.cryst.bbk.ac.uk/education/AminoAcid/the_twenty.html\" rel=\"nofollow noreferrer\">the twenty amino acids</a>."}, {"owner": {"reputation": 1, "user_id": 11295401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/010f1811dcc9840928ae1ab69e35e542?s=128&d=identicon&r=PG&f=1", "display_name": "jackjj99", "link": "https://stackoverflow.com/users/11295401/jackjj99"}, "edited": false, "score": 0, "creation_date": 1554833929, "post_id": 55594899, "comment_id": 97894234, "body": "Yes I see that there is a V, there are only 20 characters of the alphabet inside this sequence, I believe J is one of the ones missing too. There\u2019s 20/26 off the alphabet in the sequence."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554837639, "post_id": 55594899, "comment_id": 97895929, "body": "<i>&quot;I have to have it so the 20 letters are equally divided into 40 letters each&quot;</i> Could you clarify what this means with an example?"}, {"owner": {"reputation": 1, "user_id": 11295401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/010f1811dcc9840928ae1ab69e35e542?s=128&d=identicon&r=PG&f=1", "display_name": "jackjj99", "link": "https://stackoverflow.com/users/11295401/jackjj99"}, "edited": false, "score": 0, "creation_date": 1554841388, "post_id": 55594899, "comment_id": 97897485, "body": "So I\u2019ve a 100 letters in a sequence there are 20 specific letters in the sequence some letters like A V &amp; T appear let\u2019s say 10 times each, I need it to have it so they only appear 5 times each if that make it understandable"}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1554853097, "post_id": 55594899, "comment_id": 97901063, "body": "So we have a string with a restricted alphabet, into which some substitutions have been made from the same alphabet, making the distribution of the letters no longer uniform(e.g., too many A&#39;s, not enough H&#39;s). Are you saying you need to find the shortest string containing all the letters that are not uniformly distributed, and then propose an alteration that would make the distribution uniform again?"}, {"owner": {"reputation": 1, "user_id": 11295401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/010f1811dcc9840928ae1ab69e35e542?s=128&d=identicon&r=PG&f=1", "display_name": "jackjj99", "link": "https://stackoverflow.com/users/11295401/jackjj99"}, "edited": false, "score": 0, "creation_date": 1554890993, "post_id": 55594899, "comment_id": 97914390, "body": "Yes thats exactly what I have to do"}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1554930529, "post_id": 55594899, "comment_id": 97935661, "body": "Okay, my answer finds that string and then does my best guess at fixing the distribution. Please comment on that answer if it&#39;s not what you were trying to do."}], "answers": [{"tags": [], "owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "is_accepted": false, "score": 3, "last_activity_date": 1554930773, "last_edit_date": 1554930773, "creation_date": 1554858769, "answer_id": 55603367, "question_id": 55594899, "link": "https://stackoverflow.com/questions/55594899/finding-the-length-of-the-shortest-subsequence-that-needs-to-be-replaced-in-orde/55603367#55603367", "title": "Finding the length of the shortest subsequence that needs to be replaced in order to have all the characters equally represented?", "body": "<p>This is my best guess at what you're actually asking for. I'm working my way backward from a good string to a bad one, assuming I understood your criteria for \"bad\". [Edit: I didn't fix the distribution! Added the block of code that does it.]</p>\n\n<p>Let's start with a 40-character string with the right distribution of A-E (so there are 8 of each).</p>\n\n<pre><code>AAAAAAAABBBBBBBBCCCCCCCCDDDDDDDDEEEEEEEE\n</code></pre>\n\n<p>Now let's randomize the order.</p>\n\n<pre><code>DEAADCEBEEADBBEABBBCCECADCDDECCEBCAADBDA\n</code></pre>\n\n<p>Now let's mess up the distribution. When we do this, we increase the count of letters of one kind and, because we're substituting, we decrease the count of the letter we replaced. So let's walk through the string and change every fifth letter to something else.</p>\n\n<pre><code>DEAAACEBEAADBBAABBBBCECAACDDEECEBCDADBDC\n....D....E....E....C....D....C....A....A\n             ^\n</code></pre>\n\n<p>We've done the following:</p>\n\n<ul>\n<li>Added an A, removed a D (+1 A, -1 D)</li>\n<li>Added an A, removed an E (+2 A, -1 D, -1 E)</li>\n<li>Added another A, removed another E (+3 A, -1 D, -2 E) </li>\n<li>Added a B, removed a C (+3 A, +1 B, -1 C, -1 D, -2 E)</li>\n<li>Added an A, removed a D (+4 A, +1 B, -1 C, -2 D, -2 E)</li>\n<li>Added an E, removed a C (+4 A, +1 B, -2 C, -2 D, -1 E)</li>\n<li>Added a D, removed an A (+3 A, +1 B, -2 C, -1 D, -1 E)</li>\n<li>Added a C, removed an A  (+2 A, +1 B, -1 C, -1 D, -1 E)</li>\n</ul>\n\n<p>The count of changes still sums to 0, since for each letter we added, we took away another. (This should be the case for the 800-character string as well; we're just looking for a count of 40 for each of the 20 characters for a \"correct\" string in that case.)</p>\n\n<p>What we want to do now is take the altered string and find the smallest substring into which we can remove 2 A's and 1 B, and add 1 C, D, and E. An example string that would work would therefore be AAB (or any permutation of that).This substring could then be altered by using the initial frequency counts to add back the characters we're missing to fix the distribution.</p>\n\n<p>The caret in the text above shows the shortest substring we could make the change in (BAA -> CDE) to balance the distribution again. (Note that AACEB would meet the distribution criterion, as it has 2 A's and one B, but it is longer than BAA, so it's not the solution).</p>\n\n<p>What we want to do, then, is search through the string, ticking off characters in the set of \"ones we need to remove\" until we find a substring that contains all of them, since ordering does not matter. We want to start at the first character, and then scan repeatedly through the string, looking for substrings that meet the \"too many\" criterion, retaining the shortest one as the winner.</p>\n\n<p>Because we have to <em>count</em> character occurrences, trying to do this with regexes would be very inefficient, especially in cases where the distribution is such that we end up doing a lot of backtracking. The easiest way to do this is to set up a hash containing the characters we have too many of, and then iterate over the string, reducing the count of excess characters as we see them, and deleting the character from consideration when we've used it up. Once we have nothing left to take away, the string we have meets the criterion of \"smallest string containing all the 'off' character counts\". We then repeat this in overlapping scans of the original string, looking for the shortest possible option.</p>\n\n<p>Fixing the distribution entails walking through your minimum string, and replacing the excess characters with the ones we're missing. We reduce the counts of both and drop characters from consideration when they reach zero, just like before. </p>\n\n<p>Finally, we repeat the character counting exercise from the start of the program, and verify that we have exactly 40 or each character now in the complete string.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::Util qw(reduce);\n\n$|++;\n\n# Bucket all the characters\nmy $string = &lt;DATA&gt;;\nchomp $string;\n\nmy %buckets;\n\nfor (split //,$string) {\n  $buckets{$_}++;\n}\n\nfor (keys %buckets) {\n  if ($buckets{$_} &lt;= 40){\n    delete $buckets{$_}\n  } else {\n    $buckets{$_} = $buckets{$_} - 40;\n  }\n}\ndie \"no exceptions to the 40 rule\" unless keys %buckets;\nprint \"Exceptional characters: \", keys %buckets, \"\\n\";\nmy $excess_count = reduce {$a + $b} values %buckets;\nprint \"Excess letter count: $excess_count\\n\";\n\nmy $scan_base = 0;\nmy @chars = split //, $string;\nmy ($minimal, $capture_start, $capture_end) = ('', -1, -1);\nfor (my $i = 0; $i &lt; length($string)-$excess_count; $i++) {\n  my %discards = %buckets;\n  my $j;\n  my $reset;\n  for ($j = $i; $j &lt; length($string)-$excess_count; $j++) {\n    if (exists $discards{$chars[$j]}) {\n      # Still have some of these in excess.\n      $reset = $j unless $reset;\n      $discards{$chars[$j]}--;\n      # no more left of this character, stop looking for it\n      if ($discards{$chars[$j]} == 0) {\n        # We've met the \"all of the excess chars are in here\" criterion.\n        delete $discards{$chars[$j]};\n      }\n      # drop out if we've deleted all the keys.\n      last unless keys %discards;\n    }\n  }\n  # give up if we couldn't discard all the characters we needed to.\n  last if reduce{$a + $b} values %discards;\n  # We consumed all the excess characters, so @chars[$i..$j] is a potential\n  # substring. We'll go around again, one character further on, to see if we\n  # can find a shorter match.\n  my $possible = join '', @chars[$i..$j];\n  if (length($minimal) == 0 or length($possible) &lt; length($minimal)) {\n    print \"updating minimal to $possible (@{[length $possible]})\\n\";\n    $minimal = $possible;\n  }\n  $i = $reset;\n}\n# Fix the distribution. We know what we have too much of and too little of\n# from the initial scan of the string, so we'll simply iterate through the\n# found string, replacing the excess with the insufficient until we're done.\nfor my $loc ($capture_start..$capture_end) {\n  if ($excess{$chars[$loc]}) {\n    my $fix = (keys %lacking)[int rand(scalar keys %lacking)];\n    $excess{$chars[$loc]}--;\n    $lacking{$fix}--;\n    delete $excess{$chars[$loc]} unless $excess{$chars[$loc]};\n    delete $lacking{$fix}        unless $lacking{$fix};\n    $chars[$loc] = $fix;\n  }\n}\n\n# Rebucket to validate.\nmy %verify;\nfor (@chars) {\n  $verify{$_}++;\n}\nmy %invert = reverse(%verify);\ndie \"didn't fix: @[{keys %invert}]\" unless keys %invert == 1 and (keys %invert)[0] == 40;\nprint \"\\n\";\nprint join '',@chars,\"\\n\";\n__DATA__\nASQLDRFRVFLGWDNGMMLVYQGNKTYEPWLNCDMASPTLSLVSKKAPKILKAADINTTLQPCLAFFIELLLKGIDNERIPNSGSGGREMGLLAPTYSSEATLVTRENNMMEGVHGFENMQDVEVIKLKLPEGYSDVCHFMFMLAGILYIVYDLQMHMSSERETGKFPNPLSDEEFDNPKVVVTNSFVLLEFTVTGAGARPSEQGQEPHNLGATKGSLAISSKTPEIHKDTNPASAQFEGKHTESDAKGVSNEDVFITKERDGREVEPTIKLSKKSVLNPMNVVYNPMLQISEGALRKHSMNDEITILNNTLINKERSVDLGAVSFVNDLLIDKLGCVSGKLAVQLNQSAPPEILHGKDPLTLFLGNTIALMLSKMQRIRVWEEYIFLNLHLALAWEPLLGNLKTHDSQKKWALCGFLIISRIRNLFESEGPVHGLRFSAMPCNTDTRQIKALERFPYAPEKPQWHGDELESPCRLVVASKLLASHDGVSIGKTIGSWPLPAQRYNAYVAWAANDSSILSARPGFAVKEDRLGHSLAQESGTIVVRNPQYGVRFINYNKDEHREFKREATFYPKTVVTHLGAIEGTLMFEIGDAAFTMLHLEEATDAEVRELYYMDMLDKKSSLGRACERIRRVLAPGDHKANGLESAIVSGQNGYEGRIRGLQTFQSNPLKKGRTHMAFCTTLHPFGGLKLVSSQLLKKELAVGTYGHQRTVLHSAEYSCPTSIPNLEGLMYNLISAQGEVNSDAKCHYAALAYICLQVRSVSMNQTEASDLRNFLETPILANDALASEQLLGSKKAKS\n</code></pre>\n\n<p>This gives the solution </p>\n\n<blockquote>\n  <p>QLDRFRVFLGWDNGMMLVYQGNKTYEPWLNCDMASPTLSLVSKKAPKILKAADINTTLQPCLAFFIELLLKGIDNERIPNSGSGGREMGLLAPTYSSEATLVTRENNMMEGVHGFENMQDVEVIKLKLPEGYSDVCHFMFMLAGILYIVYDLQMHMSSERETGKFPNPLSDEEFDNPKVVVTNSFVLLEFTVTGAGARPSEQGQEPHNLGATKGSLAISSKTPEIHKDTNPASAQFEGKHTESDAKGVSNEDVFITKERDGREVEPTIKLSKKSVLNPMNVVYNPMLQISEGALRKHSMNDEITILNNTLINKERSVDLGAVSFVNDLLIDKLGCVSGKLAVQLNQSAPPEILHGKDPLTLFLGNTIALMLSKMQRIRVWEEYIFLNLHLALAWEPLLGNLKTHDSQKKWALCGFL\n  (416 characters).</p>\n  \n  <p>ASQPDRFRYFQFWDIQMMMDYQYPMFYDPWDYCDMWFPTQWQCDCQYPRIWCQQDINTTQQPCFDFFIDHMRMMIDNCRIPNHCRYQRWMHHFMPTYHYQMTMCTRFNNMMFFQHMFHNMQDYWVIYHWFPMQYMDVCHFMFMHWFIQYIVYDWQMHMWCCRWTYKFPNPMYDCWFDNPKVVVTNYFVMHWFTVTWMMYRPHMQHQCPHNCCWTKGWYYICYKTPYIHKDTNPYYWQFEGKHTEWDWKGVCNEDVFITKERDGREVEPTIKWHKKWVCNPMNVVYNPMHQISEGWWRKHSMNDEITICNNTWINKERSVDCGCVSFVNDWCIDKCGCVSGKCHVQWNQSCPPEIHHGKDPCTHFWGNTICCMCSKMQRIRVWEEYIFCNHHWAWAWEPCWGNWKTHDSQKKWAWCGFWIISRIRNLFESEGPVHGLRFSAMPCNTDTRQIKALERFPYAPEKPQWHGDELESPCRLVVASKLLASHDGVSIGKTIGSWPLPAQRYNAYVAWAANDSSILSARPGFAVKEDRLGHSLAQESGTIVVRNPQYGVRFINYNKDEHREFKREATFYPKTVVTHLGAIEGTLMFEIGDAAFTMLHLEEATDAEVRELYYMDMLDKKSSLGRACERIRRVLAPGDHKANGLESAIVSGQNGYEGRIRGLQTFQSNPLKKGRTHMAFCTTLHPFGGLKLVSSQLLKKELAVGTYGHQRTVLHSAEYSCPTSIPNLEGLMYNLISAQGEVNSDAKCHYAALAYICLQVRSVSMNQTEASDLRNFLETPILANDALASEQLLGSKKAKS</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 11295401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/010f1811dcc9840928ae1ab69e35e542?s=128&d=identicon&r=PG&f=1", "display_name": "jackjj99", "link": "https://stackoverflow.com/users/11295401/jackjj99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "closed_date": 1555005396, "answer_count": 1, "score": -2, "last_activity_date": 1554930773, "creation_date": 1554819158, "last_edit_date": 1554822300, "question_id": 55594899, "link": "https://stackoverflow.com/questions/55594899/finding-the-length-of-the-shortest-subsequence-that-needs-to-be-replaced-in-orde", "closed_reason": "Needs more focus", "title": "Finding the length of the shortest subsequence that needs to be replaced in order to have all the characters equally represented?", "body": "<p>I have a file composed of 800 letters in a row and in uneven numbers. I have to have it so the 20 letters are equally divided into 40 letters each. I have to find the shortest subsequence that contains all the characters that need to be replaced. That means same numbers of \"A\", \"C\", \"D\" and so on.\nThe sequence is this: </p>\n\n<blockquote>\n  <p>ASQLDRFRVFLGWDNGMMLVYQGNKTYEPWLNCDMASPTLSLVSKKAPKILKAADINTTLQPCLAFFIELLLKGIDNERIPNSGSGGREMGLLAPTYSSEATLVTRENNMMEGVHGFENMQDVEVIKLKLPEGYSDVCHFMFMLAGILYIVYDLQMHMSSERETGKFPNPLSDEEFDNPKVVVTNSFVLLEFTVTGAGARPSEQGQEPHNLGATKGSLAISSKTPEIHKDTNPASAQFEGKHTESDAKGVSNEDVFITKERDGREVEPTIKLSKKSVLNPMNVVYNPMLQISEGALRKHSMNDEITILNNTLINKERSVDLGAVSFVNDLLIDKLGCVSGKLAVQLNQSAPPEILHGKDPLTLFLGNTIALMLSKMQRIRVWEEYIFLNLHLALAWEPLLGNLKTHDSQKKWALCGFLIISRIRNLFESEGPVHGLRFSAMPCNTDTRQIKALERFPYAPEKPQWHGDELESPCRLVVASKLLASHDGVSIGKTIGSWPLPAQRYNAYVAWAANDSSILSARPGFAVKEDRLGHSLAQESGTIVVRNPQYGVRFINYNKDEHREFKREATFYPKTVVTHLGAIEGTLMFEIGDAAFTMLHLEEATDAEVRELYYMDMLDKKSSLGRACERIRRVLAPGDHKANGLESAIVSGQNGYEGRIRGLQTFQSNPLKKGRTHMAFCTTLHPFGGLKLVSSQLLKKELAVGTYGHQRTVLHSAEYSCPTSIPNLEGLMYNLISAQGEVNSDAKCHYAALAYICLQVRSVSMNQTEASDLRNFLETPILANDALASEQLLGSKKAKS</p>\n</blockquote>\n\n<p>I've tried running expressions but I don't understand what expression would help in this case when I look through my notes. </p>\n\n<pre><code>$file =\"Nuritasprotein.txt\";\nopen IN, $file, or die \"Cant open $file. $. \\n\";\nwhile(&lt;IN&gt;){\n    chomp;\n    $file = $nuritasprotein;\n    @Nuritas =split(//,$_); #To get each leter to be an item in the array\n    foreach$letter(@Nuritas) {\n        $count{$letter}++; #Counts how many of each character is in the sequence(array)\n    }\n}\n\nclose(IN);\n\nforeach $key  (sort  (keys %count)){\n    print \"$key: $count{$key}\\n\";#Prints the number of each letters apperance\n }\n</code></pre>\n\n<p>This code lets me know how many of each letter there are but I dont know where to go from there to find the shortest subsequence. Any help would be appreciated on how to tackle this using perl.\nThe result should say how many characters need to be replaced to have an even amount of each letter.</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1554803947, "post_id": 55589968, "comment_id": 97876915, "body": "Neither Windows nor Perl does that. Are you perhaps involving a non-Windows build of Perl (cygwin, MSYS, etc?) Please provide more information about your environment (shell) and about your build of Perl."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1554808963, "post_id": 55589968, "comment_id": 97879872, "body": "The only &#39;specperl&#39; I can find mentioned in a search is apparently a 90&#39;s era perl code generator for the spectcl gui builder, but the link to the project is dead..."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 0, "creation_date": 1554817470, "post_id": 55589968, "comment_id": 97885271, "body": "I am also using perl on windows, and <code>&#47;</code> works as expected. So, windows/perl is not responsible for it"}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 0, "creation_date": 1554835855, "post_id": 55589968, "comment_id": 97895144, "body": "Sure, that is annoying and the above comments do not provide a solution... the workaround would be not to divide by <code>$divider</code>, but make it multiply by the <code>$reciprocal</code> of that <code>$divider</code> like <code>my $reciprocal = (1&#47;$divider);</code> just like you did in your own comment, where it works fine, as you said"}, {"owner": {"reputation": 377, "user_id": 4505520, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e536022327badcc08597c5a376c83d5?s=128&d=identicon&r=PG&f=1", "display_name": "lionel", "link": "https://stackoverflow.com/users/4505520/lionel"}, "reply_to_user": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 0, "creation_date": 1554861803, "post_id": 55589968, "comment_id": 97902855, "body": "@vanHoesel I cannot do like this because my <code>$SPECCOPYNUM</code> may not be divisible like <code>28</code>."}, {"owner": {"reputation": 377, "user_id": 4505520, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e536022327badcc08597c5a376c83d5?s=128&d=identicon&r=PG&f=1", "display_name": "lionel", "link": "https://stackoverflow.com/users/4505520/lionel"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554872953, "post_id": 55589968, "comment_id": 97905225, "body": "@ikegami It is the config file required by running SPEC benchmarks. <a href=\"https://www.spec.org/cpu2017/\" rel=\"nofollow noreferrer\">spec.org/cpu2017</a>"}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 4505520, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e536022327badcc08597c5a376c83d5?s=128&d=identicon&r=PG&f=1", "display_name": "lionel", "link": "https://stackoverflow.com/users/4505520/lionel"}, "edited": false, "score": 0, "creation_date": 1554879572, "post_id": 55605451, "comment_id": 97907706, "body": "I tried this. The log shows <code>int(eval(&quot;$SPECCOPYNUM\\x2F40&quot;))</code> cannot be recognized. Also ,I tried <code>R:&#47;ics&#47;itools&#47;efi2_win64&#47;perl&#47;bin&#47;perl.exe -e &quot;system sprintf qq{start &#47;b &#47;wait &#47;node %x &#47;affinity %x%s %s}, int(eval(&quot;1\\x2F40&quot;)) , (1&lt;&lt;(1%4)), &#39;&#39;, q{ ls } &quot;</code> in command shell. It shows error: <code>Bareword found where operator expected at -e line 1, near &quot;2F40&quot;         (Missing operator before F40?) syntax error at -e line 1, near &quot;2F40&quot; Execution of -e aborted due to compilation errors.</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 377, "user_id": 4505520, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e536022327badcc08597c5a376c83d5?s=128&d=identicon&r=PG&f=1", "display_name": "lionel", "link": "https://stackoverflow.com/users/4505520/lionel"}, "edited": false, "score": 0, "creation_date": 1554881126, "post_id": 55605451, "comment_id": 97908552, "body": "You&#39;ll have to use something other than double quotes because you used those fot he entire argument."}, {"owner": {"reputation": 377, "user_id": 4505520, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e536022327badcc08597c5a376c83d5?s=128&d=identicon&r=PG&f=1", "display_name": "lionel", "link": "https://stackoverflow.com/users/4505520/lionel"}, "edited": false, "score": 0, "creation_date": 1554885627, "post_id": 55605451, "comment_id": 97911007, "body": "I use <code>int(eval(&#39;$SPECCOPYNUM&#47;\\x2F40&#39;))</code> , it works!!  Thanks so much! This really helps me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 377, "user_id": 4505520, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e536022327badcc08597c5a376c83d5?s=128&d=identicon&r=PG&f=1", "display_name": "lionel", "link": "https://stackoverflow.com/users/4505520/lionel"}, "edited": false, "score": 0, "creation_date": 1554885828, "post_id": 55605451, "comment_id": 97911133, "body": "That can&#39;t possibly be true"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 377, "user_id": 4505520, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e536022327badcc08597c5a376c83d5?s=128&d=identicon&r=PG&f=1", "display_name": "lionel", "link": "https://stackoverflow.com/users/4505520/lionel"}, "edited": false, "score": 0, "creation_date": 1554885949, "post_id": 55605451, "comment_id": 97911194, "body": "And again, that&#39;s a hack that&#39;s only necessary because of false and incomplete information available to me"}, {"owner": {"reputation": 377, "user_id": 4505520, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e536022327badcc08597c5a376c83d5?s=128&d=identicon&r=PG&f=1", "display_name": "lionel", "link": "https://stackoverflow.com/users/4505520/lionel"}, "edited": false, "score": 0, "creation_date": 1554890534, "post_id": 55605451, "comment_id": 97914090, "body": "You are right. <code>int(eval(&#39;$SPECCOPYNUM&#47;\\x2F40&#39;))</code> will not report error but it will not use 80 cores as I expect. <code>int(eval(qq{$SPECCOPYNUM\\x2F40})) </code> is the correct one."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1554881142, "last_edit_date": 1554881142, "creation_date": 1554874998, "answer_id": 55605451, "question_id": 55589968, "link": "https://stackoverflow.com/questions/55589968/windows-take-divide-operator-as-backslash-in-perl-command/55605451#55605451", "title": "Windows take divide operator &#39;/&#39; as backslash &#39;\\&#39; in Perl command", "body": "<p>Everything you say doesn't add up. There's no difference between the earlier <code>/</code> and the latter <code>/</code> as they are all in the same argument. I suspect you misdiagnosed the problem.</p>\n\n<p>There's nothing in the <a href=\"https://www.spec.org/cpu2017/Docs/config.html\" rel=\"nofollow noreferrer\">docs</a> about any of this.</p>\n\n<p>But if there's indeed a problem with <code>/</code>, you can work around it as follows:</p>\n\n<pre><code>int(eval(qq{$SPECCOPYNUM\\x2F40}))     # int($SPECCOPYNUM/40)\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 4505520, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e536022327badcc08597c5a376c83d5?s=128&d=identicon&r=PG&f=1", "display_name": "lionel", "link": "https://stackoverflow.com/users/4505520/lionel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 55605451, "answer_count": 1, "score": 0, "last_activity_date": 1554881142, "creation_date": 1554803631, "last_edit_date": 1554861597, "question_id": 55589968, "link": "https://stackoverflow.com/questions/55589968/windows-take-divide-operator-as-backslash-in-perl-command", "title": "Windows take divide operator &#39;/&#39; as backslash &#39;\\&#39; in Perl command", "body": "<p>I am working with spec benchmarks and using specperl for perl command on windows. I need to do the divide operation in perl command but windows always change <code>/</code> operator to <code>\\</code>. So it cannot be recognized by perl.</p>\n\n<p>I tried multiple writings, but <code>/</code> turned to <code>\\</code>, <code>//</code> turned to <code>\\\\</code>, <code>\\/</code> turned to <code>\\\\</code>, of course <code>\\\\</code> turned to <code>\\\\</code>. </p>\n\n<p>Here is my specperl command:</p>\n\n<pre><code>specperl -e \"system sprintf qq{start /b /wait /node %x /affinity %x%s %s}, (int($SPECCOPYNUM/40)), (1&lt;&lt;($SPECCOPYNUM%4)), ('0'x($SPECCOPYNUM%40&gt;&gt;2)), q{ %{ENV_PIN_CMD} $command } \"\n</code></pre>\n\n<p>Just focus on <code>int($SPECCOPYNUM/40)</code>, if I use <code>int($SPECCOPYNUM*0.025)</code>, everything works fine. However, this <code>40</code> is a variable so I cannot use multiplication to replace it.</p>\n\n<p>Is there no way to do <code>/</code> divide operation under this situation?</p>\n\n<p>Any help would be appreciated.</p>\n\n<p><strong>Update</strong></p>\n\n<p>It is true that this has nothing to do with windows-perl. \nI tried <code>R:/ics/itools/efi2_win64/perl/bin/perl.exe -e \"system sprintf qq{start /b /wait /node %x /affinity %x%s %s}, (int(1/40)), (1&lt;&lt;(1%4)), '', q{ ls } \"</code> directly in windows command shell and it works fine.<br>\nWhen I put this in spec config file, it is changed, <code>/</code> becomes <code>\\</code>, but I found the option <code>/b /wait /node</code> keeps the <code>/</code>. Sad. I have no idea what to do next.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1554782713, "post_id": 55584679, "comment_id": 97867313, "body": "Welcome to Stack Overflow. Please note that the preferred way of saying &#39;thanks&#39; around here is by up-voting good questions and helpful answers (once you have enough reputation to do so), and by accepting the most helpful answer to any question you ask (which also gives you a small boost to your reputation). Please see the <a href=\"https://stackoverflow.com/tour\">About</a> page and also <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask questions here?</a> and <a href=\"http://stackoverflow.com/help/someone-answers\">What do I do when someone answers my question?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 7, "last_activity_date": 1554780717, "creation_date": 1554780717, "answer_id": 55584723, "question_id": 55584679, "link": "https://stackoverflow.com/questions/55584679/what-does-dir-s-n-means-i-need-help-in-explaining-it-in-a-simple-way-to/55584723#55584723", "title": "What does $dir =~ s/\\n// means? I need help in explaining it in a simple way to understand", "body": "<p><code>=~</code> is the binding operator; it tells certain operations (matching, substitution, transliteration) what their operand is.  So <code>$dir =~ s</code> is doing a substitution on the variable <code>$dir</code>.</p>\n\n<p><code>s/.../.../</code> is a substitution operation; the left part is a regular expression to match and the right part is an interpolated string to use to replace what was matched.  In your case, you are matching a single newline character and replacing it with nothing.</p>\n\n<p>So your code basically removes the first newline from <code>$dir</code>, or, if there is no newline, does nothing.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1555116975, "last_edit_date": 1555116975, "creation_date": 1554787662, "answer_id": 55585636, "question_id": 55584679, "link": "https://stackoverflow.com/questions/55584679/what-does-dir-s-n-means-i-need-help-in-explaining-it-in-a-simple-way-to/55585636#55585636", "title": "What does $dir =~ s/\\n// means? I need help in explaining it in a simple way to understand", "body": "<pre><code>$dir =~ s/\\n//\n</code></pre>\n\n<p>LHS (Left-Hand Side) is variable containing value that would become the pattern space</p>\n\n<blockquote>\n  <p>=~</p>\n</blockquote>\n\n<p>is regular expression binding operator, functions as equality test and assignment, varies slightly depends on RHS (Right-Hand Side) regex command which in this case is s (substitute)</p>\n\n<p>RHS is regex command / expression</p>\n\n<p><code>pattern space</code> is any space for string upon which the regex would be applied in the context.</p>\n\n<p>If e.g;</p>\n\n<blockquote>\n  <p>$dir</p>\n</blockquote>\n\n<p>variable contains <code>data</code> upon which the pattern: </p>\n\n<blockquote>\n  <p>/\\n/</p>\n</blockquote>\n\n<p>would be applied (the actual pattern is <code>\\n</code>, the '///' or '//' pair is only a placeholder to be recognized by language compiler). If it's true (T) i.e. matched/found, then a substitution will be performed, here the substitution is none, means it will simply clear it then assigned result to LHS, otherwise leave it LHS intact.\nthis pattern usually applied upon multi lines which inherently contains newline <strong>\\n</strong> token as the line delimiter that can be detected and controlled by regex engine, but is invisible entity output except making next character at the line below.\nAssuming $dir within multi lines, so $dir, ie. pattern space is <strong>data\\n</strong> and in final $dir become <strong>data</strong></p>\n"}], "owner": {"reputation": 33, "user_id": 10460506, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4BL9s_BGVWY/AAAAAAAAAAI/AAAAAAAAAQk/Aw5rgooMbDo/photo.jpg?sz=128", "display_name": "Nur Sakinah Burhanuddin", "link": "https://stackoverflow.com/users/10460506/nur-sakinah-burhanuddin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 55584723, "answer_count": 2, "score": 1, "last_activity_date": 1555116975, "creation_date": 1554780414, "last_edit_date": 1554780993, "question_id": 55584679, "link": "https://stackoverflow.com/questions/55584679/what-does-dir-s-n-means-i-need-help-in-explaining-it-in-a-simple-way-to", "title": "What does $dir =~ s/\\n// means? I need help in explaining it in a simple way to understand", "body": "<p>I'm trying to understand a perl code and I need a detail understanding on what this line means.</p>\n\n<pre><code>$dir =~ s/\\n//\n</code></pre>\n"}, {"tags": ["perl", "soap"], "comments": [{"owner": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "edited": false, "score": 1, "creation_date": 1555165090, "post_id": 55584662, "comment_id": 98019425, "body": "It looks like you&#39;ve neglected to &quot;use&quot; your &quot;MyElements::SMSResponse&quot; package, and the return will fail for that reason, but you&#39;d need to tell us what&#39;s being reported in the Apache error log to be sure."}, {"owner": {"reputation": 323, "user_id": 1174838, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20f90e310f0659cdc8a9d7e5e2b62e35?s=128&d=identicon&r=PG", "display_name": "user1174838", "link": "https://stackoverflow.com/users/1174838/user1174838"}, "reply_to_user": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "edited": false, "score": 0, "creation_date": 1555212458, "post_id": 55584662, "comment_id": 98029498, "body": "Thank you again, have updated the code to reflect the script as of now."}, {"owner": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "edited": false, "score": 0, "creation_date": 1555227677, "post_id": 55584662, "comment_id": 98031654, "body": "You&#39;ve made quite a few changes and things are getting messy. If it&#39;s still not working, you&#39;ll need to tell us what the error message is in /var/log/httpd/error.log"}, {"owner": {"reputation": 323, "user_id": 1174838, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20f90e310f0659cdc8a9d7e5e2b62e35?s=128&d=identicon&r=PG", "display_name": "user1174838", "link": "https://stackoverflow.com/users/1174838/user1174838"}, "reply_to_user": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "edited": false, "score": 0, "creation_date": 1555237963, "post_id": 55584662, "comment_id": 98033896, "body": "Sorry but literally nothing is being written to error.log, only the access.log.  I&#39;ve noticed that if I remove he &#39;return&#39; the http status changes from 500 to 200 but thw Windows client still complains.  I&#39;ll poke the vendor again and hopefully they&#39;ll start being helpful.  In the mean time, thank you for your help."}, {"owner": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "edited": false, "score": 0, "creation_date": 1555247874, "post_id": 55584662, "comment_id": 98036576, "body": "Errors and warnings should be logged <i>somewhere</i>. Do you have any way to generate debugging output from the program? You&#39;re not going to make this work flying blind."}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 1174838, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20f90e310f0659cdc8a9d7e5e2b62e35?s=128&d=identicon&r=PG", "display_name": "user1174838", "link": "https://stackoverflow.com/users/1174838/user1174838"}, "edited": false, "score": 0, "creation_date": 1555112861, "post_id": 55657335, "comment_id": 98009568, "body": "Thanks for your response, I&#39;ve made &#39;EDIT 1&#39; in response"}, {"owner": {"reputation": 323, "user_id": 1174838, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20f90e310f0659cdc8a9d7e5e2b62e35?s=128&d=identicon&r=PG", "display_name": "user1174838", "link": "https://stackoverflow.com/users/1174838/user1174838"}, "edited": false, "score": 0, "creation_date": 1555461857, "post_id": 55657335, "comment_id": 98116946, "body": "Thanks still not there but you have been a huge help so I&#39;m awarding the bounty.  Thank you."}], "tags": [], "owner": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "is_accepted": false, "score": 2, "last_activity_date": 1555092143, "creation_date": 1555092143, "answer_id": 55657335, "question_id": 55584662, "link": "https://stackoverflow.com/questions/55584662/how-to-send-soap-response/55657335#55657335", "title": "How to send SOAP response?", "body": "<p>Have a look at the Example section in the documentation for SOAP::Server at the following URL.</p>\n\n<p><a href=\"https://metacpan.org/pod/SOAP::Server\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/SOAP::Server</a></p>\n\n<p>Note that the final statement in the handler returns SOAP::Data, except that there seems to be a slight error in the example: the method should be new(), not name().</p>\n\n<p>Essentially, you need to construct your response as a SOAP::Data object and return() it. Hopefully you already know how the response is supposed to be structured, because I can't help you with that!</p>\n"}, {"tags": [], "owner": {"reputation": 322, "user_id": 300113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e2857243a00c807abd5e6b5d9e3a6?s=128&d=identicon&r=PG", "display_name": "Hugh Barnard", "link": "https://stackoverflow.com/users/300113/hugh-barnard"}, "is_accepted": false, "score": 0, "last_activity_date": 1555259455, "creation_date": 1555259455, "answer_id": 55677556, "question_id": 55584662, "link": "https://stackoverflow.com/questions/55584662/how-to-send-soap-response/55677556#55677556", "title": "How to send SOAP response?", "body": "<p>I'd need to know more about the library to provide a 'good' answer, but, looking at:</p>\n\n<pre><code>#!/usr/bin/perl use SOAP::Transport::HTTP; \n   SOAP::Transport::HTTP::CGI   \n    -&gt;dispatch_to('C2FService')   \n    -&gt;handle; BEGIN {   package C2FService;   \n\nuse vars qw(@ISA);   \n@ISA = qw(Exporter SOAP::Server::Parameters);  \n\nuse SOAP::Lite;   \nsub c2f {\n         my $self = shift;\n         my $envelope = pop;\n         my $temp = $envelope-&gt;dataof(\"//c2f/temperature\");\n         return SOAP::Data-&gt;name('convertedTemp' =&gt; (((9/5)*($temp-&gt;value)) + 32));   } }\n</code></pre>\n\n<p>Take a look at the <code>return</code>, which starts with <code>SOAP</code> and therefore provides (if I remember correctly a valid envelope. It's been a while since <code>SOAP::Lite</code> for me, but I do remember using <a href=\"https://www.soapui.org/\" rel=\"nofollow noreferrer\">https://www.soapui.org/</a> which helped the testing process a great deal.</p>\n"}], "owner": {"reputation": 323, "user_id": 1174838, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20f90e310f0659cdc8a9d7e5e2b62e35?s=128&d=identicon&r=PG", "display_name": "user1174838", "link": "https://stackoverflow.com/users/1174838/user1174838"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1555259455, "creation_date": 1554780292, "last_edit_date": 1555205559, "question_id": 55584662, "link": "https://stackoverflow.com/questions/55584662/how-to-send-soap-response", "title": "How to send SOAP response?", "body": "<p>We use an off the shelf application that is capable of sending SMS messages via SOAP calls but the user needs to provide the actual SMS sending service.</p>\n\n<p>I've written the following simple Perl script (for testing) which works (i.e. an SMS message is successfully received) but the client always complains that the SMS didn't send.  I'm thinking this is because I'm not sending a SOAP response.</p>\n\n<p>My question is how do I send a SOAP response?</p>\n\n<p>Thanks</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse SOAP::Transport::HTTP;\nuse Data::Dumper;\n\nuse lib '/tmp/';\n\nSOAP::Transport::HTTP::CGI\n    -&gt; dispatch_to('Vendor::Telephony')\n    -&gt; handle();\n\npackage Vendor::Telephony;\n\nsub SMS {\n    my $name = shift;\n    my $data = shift;\n    my $message = $data-&gt;{'SMSMessage'};\n    my $number = $data-&gt;{'SMSNumber'};\n\n    open(SMS, \" | sendmail -r alerts\\@example.com $number\\@sms.provider.com 2&gt; /dev/null\");\n    print SMS $message;\n    close(SMS);\n}\n</code></pre>\n\n<p>EDIT1:\nI've modified my script based on your answer but I always get an error 500 in /var/log/httpd/access.log when I issue a 'return'.  The eror 500 is simply:\n<code>\n172.23.34.18 - - [14/Apr/2019:09:24:16 +0800] \"POST /cgi-bin/soap.cgi \nHTTP/1.1\" 500 1806 \"-\" \"Mozilla/4.0 (compatible; MSIE 6.0; MS Web \nServices Client Protocol 4.0.30319.42000)\"</code></p>\n\n<p>I used SOAP::WSDL's wsdl2perl to create the perl modules. The script now looks like:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse SOAP::Transport::HTTP;\nuse lib '/tmp/lib';\nuse Data::Dumper;\n\nSOAP::Transport::HTTP::CGI\n  -&gt;dispatch_to('Vendor::Telephony')\n  -&gt;handle;\nBEGIN {\n  package Vendor::Telephony;\n  use vars qw(@ISA);\n  use MyElements::SMSResponse;\n  @ISA = qw(Exporter SOAP::Server::Parameters);\n  use SOAP::Lite;\n  sub SMS {\n    my ($self, $body, $header) = @_;\n    my $message = $body-&gt;{'SMSMessage'};\n    my $number = $body-&gt;{'SMSNumber'};\n\n    open(SMS, \" | sendmail -r alerts\\@example.com $number\\@sms.provider.com 2&gt; /dev/null\");\n    print SMS $message;\n    close(SMS);\n    return MyElements::SMSResponse-&gt;new({Status =&gt; 0});\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "css", "perl", "www-mechanize-chrome"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554776684, "post_id": 55584210, "comment_id": 97866229, "body": "By the way, I found Selenium::Chrome far less problematic. I know you were ruling out things like LWP::UserAgent, but Selenium::Chrome remote controls Chrome similarly to WWW::Mechanize::Chrome."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554777437, "post_id": 55584210, "comment_id": 97866361, "body": "WMC looks like it&#39;s got a way to download files, <code>$mech-&gt;saveResources_future</code>, except the feature doesn&#39;t appear to be complete. It only grabs some of the files on a page."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1554801900, "post_id": 55584210, "comment_id": 97875628, "body": "Give it some more time, the author of WMC is a regular here and will probably see your question today European time."}], "answers": [{"comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1554784787, "post_id": 55584993, "comment_id": 97867801, "body": "Nice. Good thinking. Been banging my head on a workaround all day. WMC lets you inject js into a page."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1554785979, "post_id": 55584993, "comment_id": 97868062, "body": "Just tested this bit of code: <a href=\"http://danml.com/download.html\" rel=\"nofollow noreferrer\">danml.com/download.html</a> and it works.  I&#39;m not a js guy so I&#39;ll probably just inject this straight in with WMC."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 1, "creation_date": 1554794757, "post_id": 55584993, "comment_id": 97871608, "body": "The code I posted returns the downloaded file to Perl, while that library causes it to be saved to disk."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1554820819, "post_id": 55584993, "comment_id": 97887385, "body": "Yeah, I&#39;m going to try yours now. I almost have the other one working but it&#39;s not downloading in the context of WMC for whatever reason. The js runs without error but can&#39;t see why the download it not triggering."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1554825586, "post_id": 55584993, "comment_id": 97890278, "body": "Nice. Got it working in WMC. Will share my code later today after I dress it up a little. Thanks so much for sharing your code! You made my day. This is a cool workaround."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1554794900, "last_edit_date": 1554794900, "creation_date": 1554782855, "answer_id": 55584993, "question_id": 55584210, "link": "https://stackoverflow.com/questions/55584210/getting-raw-jss-and-css-code-from-server-using-chrome-chromium-using-wwwmech/55584993#55584993", "title": "Getting &quot;raw&quot; jss and css code from server using Chrome/Chromium using WWW::Mechanize::Chrome", "body": "<p>If nothing else, you could inject a script that downloads the file for you.</p>\n\n<p>This following demonstrates this approach using Selenium::Chrome, but the approach can be adapted to WWW::Mechanize::Chrome.</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\n\nuse FindBin             qw( $RealBin );    \nuse MIME::Base64        qw( decode_base64 );\nuse Selenium::Chrome    qw( );\nuse Time::HiRes         qw( sleep );\nuse Sub::ScopeFinalizer qw( scope_finalizer );\n\n# nf = Non-fatal.\nsub nf_find_element {\n   my $web_driver = shift;\n   my $node;\n   if (!eval {\n      $node = $web_driver-&gt;find_element(@_);\n      return 1;  # No exception.\n   }) {\n      return undef if $@ =~ /Unable to locate element|An element could not be located on the page using the given search parameters/;\n      die($@);\n   }\n\n   return $node;\n}\n\nsub nf_find_elements {\n   my $web_driver = shift;\n   my $nodes;\n   if (!eval {\n      $nodes = $web_driver-&gt;find_elements(@_);\n      return 1;  # No exception.\n   }) {\n      return undef if $@ =~ /Unable to locate element|An element could not be located on the page using the given search parameters/;\n      die($@);\n   }\n\n   return wantarray ? @$nodes : $nodes;\n}\n\nsub nf_find_child_element {\n   my $web_driver = shift;\n   my $node;\n   if (!eval {\n      $node = $web_driver-&gt;find_child_element(@_);\n      return 1;  # No exception.\n   }) {\n      return undef if $@ =~ /Unable to locate element|An element could not be located on the page using the given search parameters/;\n      die($@);\n   }\n\n   return $node;\n}\n\nsub nf_find_child_elements {\n   my $web_driver = shift;\n   my $nodes;\n   if (!eval {\n      $nodes = $web_driver-&gt;find_child_elements(@_);\n      return 1;  # No exception.\n   }) {\n      return undef if $@ =~ /Unable to locate element|An element could not be located on the page using the given search parameters/;\n      die($@);\n   }\n\n   return wantarray ? @$nodes : $nodes;\n}\n\n# Warning: This clears the log.\nsub has_js_failed {\n   my ($web_driver) = @_;\n   my $log = $web_driver-&gt;get_log('browser');\n   return 0+grep { no warnings qw( uninitialized ); $_-&gt;{level} eq 'SEVERE' &amp;&amp; $_-&gt;{source} eq 'javascript' } @$log;\n}\n\n{\n   my $js = &lt;&lt;'__EOS__';\n      var array_buffer_to_base64 = function(buf) {\n         let binary = '';\n         let bytes = new Uint8Array(buf);\n         for (let byte of bytes) {\n            binary += String.fromCharCode(byte);\n         }\n\n         return btoa(binary);\n      };\n\n      var set_response = function(code, msg) {\n         let code_node = document.createElement('input');\n         code_node.setAttribute('type', 'hidden');\n         code_node.setAttribute('name', 'code');\n         code_node.setAttribute('value', code);\n\n         let msg_node = document.createElement('input');\n         msg_node.setAttribute('type', 'hidden');\n         msg_node.setAttribute('name', 'msg');\n         msg_node.setAttribute('value', msg);\n\n         let form_node = document.createElement('form');\n         form_node.setAttribute('id', 'exit');\n         form_node.appendChild(code_node);\n         form_node.appendChild(msg_node);\n\n         document.body.appendChild(form_node);\n      };\n\n      var request = function(url) {\n         fetch(url)\n            .then(\n               response =&gt; {\n                  if (!response.ok)\n                     throw new Error(\"HTTP error: \" + response.status);\n\n                  return response.arrayBuffer();\n               }\n            )\n            .then(\n               buffer =&gt; set_response(\"success\", array_buffer_to_base64(buffer)),\n               reason =&gt; set_response(\"error\",   reason),\n            );\n      };\n\n      request(...arguments);\n__EOS__\n\n   my $web_driver;\n   my $guard = scope_finalizer {\n      if ($web_driver) {\n         $web_driver-&gt;shutdown_binary();\n         $web_driver = undef;\n      }\n   };\n\n   $web_driver = Selenium::Chrome-&gt;new(\n      binary =&gt; \"$RealBin/chromedriver.exe\",\n   );\n\n   $web_driver-&gt;get('https://www.nytimes.com/');\n\n   $web_driver-&gt;execute_script($js, 'https://www.nytimes.com/vi-assets/static-assets/vendor-454814a0340940dc9b42.js');\n\n   my $exit_form_node;\n   while (1) {\n      if (has_js_failed($web_driver)) {\n         die(\"JavaScript error detected.\\n\");\n      }\n\n      $exit_form_node = nf_find_element($web_driver, '/html/body/form[@id=\"exit\"]')\n         and last;\n\n      sleep(0.250);\n   }\n\n   my $code = nf_find_child_element($web_driver, $exit_form_node, 'input[@name=\"code\"]')-&gt;get_value();\n   my $msg  = nf_find_child_element($web_driver, $exit_form_node, 'input[@name=\"msg\"]')-&gt;get_value();\n\n   if (!defined($code) || $code ne 'success') {\n      $msg ||= \"Unknown error\";\n      die(\"$msg\\n\");\n   }\n\n   my $doc = decode_base64($msg);\n\n   binmode STDOUT;\n   print $doc;\n}\n</code></pre>\n\n<p>Might want to add a timeout on the polling loop so it doesn't wait forever if something goes wrong.</p>\n"}, {"tags": [], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "is_accepted": false, "score": 2, "last_activity_date": 1554978612, "creation_date": 1554978612, "answer_id": 55630347, "question_id": 55584210, "link": "https://stackoverflow.com/questions/55584210/getting-raw-jss-and-css-code-from-server-using-chrome-chromium-using-wwwmech/55630347#55630347", "title": "Getting &quot;raw&quot; jss and css code from server using Chrome/Chromium using WWW::Mechanize::Chrome", "body": "<p>OK, here's some code to show how to do this with WMC. Thanks again to @ikegami for the idea and code to show how this can be done with javascript using Selenimum upon which this code is based. It's an ingenious little workaround.</p>\n\n<p>The code below modifies his js code example a bit to allow for multiple files and it adds an element that becomes visible so $mech can detect when the data is ready for it to grab and save.</p>\n\n<h3>Step 0: Add in needed Perl packages</h3>\n\n<pre><code>use MIME::Base64;\nuse WWW::Mechanize::Chrome;\n# etc.\n</code></pre>\n\n<h3>Step 1: Create a sub in Perl to output the js functions:</h3>\n\n<pre><code>sub js_here {\nreturn &lt;&lt;'JS'\nvar array_buffer_to_base64 = function(buf) {\n         let binary = '';\n         let bytes = new Uint8Array(buf);\n         for (let byte of bytes) {\n            binary += String.fromCharCode(byte);\n         }\n\n         return btoa(binary);\n      };\n\n\n      var set_response = function(code, msg, number) {\n         let code_node = document.createElement('input');\n         code_node.setAttribute('type', 'hidden');\n         code_node.setAttribute('id', 'code-' + number);\n         code_node.setAttribute('value', code);\n\n         let msg_node = document.createElement('input');\n         msg_node.setAttribute('type', 'hidden');\n         msg_node.setAttribute('id', 'msg-' + number);\n         msg_node.setAttribute('value', msg);\n\n         let vis_node = document.createElement('span');\n         vis_node.setAttribute('id', 'vis-' + number);\n         vis_node.setAttribute('value', '');\n\n         let form_node = document.createElement('form');\n         form_node.setAttribute('id', 'exit-' + number);\n         form_node.appendChild(code_node);\n         form_node.appendChild(msg_node);\n         form_node.appendChild(vis_node);\n\n         document.body.appendChild(form_node);\n      }\n\n      var request = function(url, number) {\n         fetch(url)\n            .then(\n               response =&gt; {\n                  if (!response.ok)\n                     throw new Error(\"HTTP error: \" + response.status);\n\n                  return response.arrayBuffer();\n               }\n            )\n            .then(\n               buffer =&gt; set_response(\"success\", array_buffer_to_base64(buffer), number),\n               reason =&gt; set_response(\"error\",   reason),\n            );\n      };\nJS\n}\n</code></pre>\n\n<h3>Step 2: Inject the code into the web page already loaded by mech with something like this:</h3>\n\n<p><code>$mech-&gt;eval_in_page(js_here());</code></p>\n\n<h3>Step 3: Create a caller Perl subroutine which will call the js inserted in step 1.</h3>\n\n<pre><code>sub js_download {\n  my ($url, $number) = @_;\n  return \"request('$url', $number)\";\n}\n</code></pre>\n\n<p>Note that this take two arguments. The url of the file and an arbitrary number identifying the file.</p>\n\n<h3>Step 4: Add in the code to actually do the downloading and saving of the files.</h3>\n\n<p>Here it is in a loop for downloading multiple files:</p>\n\n<pre><code>  my $count = 1;\n  foreach my $file (@files) {\n    $mech-&gt;clear_js_errors;\n\n    # throw contents of file into a hidden field on the web page\n    $mech-&gt;eval_in_page( js_download($file, $count));\n\n    # check for javascript errors\n    if ($mech-&gt;js_errors) {\n      warn \"A javascript error encountered while fetching $file. Skipping file.\\n\";\n      foreach my $err ( $mech-&gt;js_errors() ) {\n        my $msg = $err-&gt;{message} || '';\n        warn \"\\t\" . $msg . \"\\n\";\n      }\n      ++$count;\n      next;\n    }\n\n    # check for download errors\n    $mech-&gt;wait_until_visible(selector =&gt; \"#vis-$count\");\n    $mech-&gt;form_id( \"exit-$count\" );\n    my $ret_code = $mech-&gt;value(\"#code-$count\", one =&gt; 1);\n    if ( $ret_code eq 'error' ) {\n      warn \"Unable to download $file: \\n\";\n      warn $mech-&gt;value(\"#msg-$count\") . \"\\n\";\n      ++$count;\n      next;\n    }\n\n    # get the file's content and save it to the directory\n    my $value = $mech-&gt;value(\"#msg-$count\", one =&gt; 1);\n    my $content = decode_base64($value);\n    _save_file ($content, $file);  # up to you how to implement\n    $count++;\n  }\n\n</code></pre>\n\n<p>That's it. </p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 2, "accepted_answer_id": 55584993, "answer_count": 2, "score": 3, "last_activity_date": 1554978612, "creation_date": 1554776531, "last_edit_date": 1554978593, "question_id": 55584210, "link": "https://stackoverflow.com/questions/55584210/getting-raw-jss-and-css-code-from-server-using-chrome-chromium-using-wwwmech", "title": "Getting &quot;raw&quot; jss and css code from server using Chrome/Chromium using WWW::Mechanize::Chrome", "body": "<p>I'm trying to use <code>WWW::Mechanize::Chrome</code> to download css/js files. Yes, there are other ways to get the files. But my requirement is this be done with <code>WWW::Mechanize::Chrome</code>. I want to know if it's possible.</p>\n\n<p>I can do <code>$mech-&gt;get($url)</code> to the css or js file. It then shows up in the browser window which I can then obtain with <code>$mech-&gt;content</code>. The problem is it that the HTML entities are encoded and decoding them results in a different file than the original (I tested this). This is a problem with js files. They don't run properly afterwards.</p>\n\n<p>You can run this test script to see the files getting encoded.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse WWW::Mechanize::Chrome;\n\nmy $mech =  WWW::Mechanize::Chrome-&gt;new();\n\n$mech-&gt;get('https://www.nytimes.com/vi-assets/static-assets/vendor-454814a0340940dc9b42.js');\nmy $content = $mech-&gt;content;\nuse Data::Dumper qw(Dumper);\nprint Dumper $content;\n</code></pre>\n\n<p>I'm wondering if there is some kind of workaround to snag these files directly from the server. Again, must use <code>WWW::Mechanize::Chrome</code>.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "is_accepted": false, "score": 1, "last_activity_date": 1554795624, "creation_date": 1554795624, "answer_id": 55587470, "question_id": 55582690, "link": "https://stackoverflow.com/questions/55582690/accessing-stix-data-with-perl/55587470#55587470", "title": "accessing STIX data with Perl", "body": "<ol>\n<li>There seems to be none - check <a href=\"https://metacpan.org/search?size=500&amp;q=stix\" rel=\"nofollow noreferrer\">cpan</a></li>\n<li>Your link to stix is outdated - check <a href=\"https://oasis-open.github.io/cti-documentation/\" rel=\"nofollow noreferrer\">https://oasis-open.github.io/cti-documentation/</a></li>\n</ol>\n"}], "owner": {"reputation": 567, "user_id": 9652562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff7179b8082590d9450b7783721493cb?s=128&d=identicon&r=PG&f=1", "display_name": "jsor", "link": "https://stackoverflow.com/users/9652562/jsor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1554795624, "creation_date": 1554762848, "question_id": 55582690, "link": "https://stackoverflow.com/questions/55582690/accessing-stix-data-with-perl", "title": "accessing STIX data with Perl", "body": "<p>on python there are a stix client library <strong><a href=\"https://github.com/oasis-open/cti-taxii-client\" rel=\"nofollow noreferrer\">https://github.com/oasis-open/cti-taxii-client</a>)</strong> for accessing STIX <strong>(<a href=\"https://stixproject.github.io/\" rel=\"nofollow noreferrer\">https://stixproject.github.io/</a>)</strong> servers </p>\n\n<p>what is the recommended/equivlant library to access stix data using Perl any help ?</p>\n"}, {"tags": ["regex", "perl", "next"], "comments": [{"owner": {"reputation": 2503, "user_id": 7442673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iTfit.jpg?s=128&g=1", "display_name": "m.raynal", "link": "https://stackoverflow.com/users/7442673/m-raynal"}, "edited": false, "score": 0, "creation_date": 1554762485, "post_id": 55582592, "comment_id": 97863414, "body": "Can you show what the input file looks like by editing your post ?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1554766121, "post_id": 55582685, "comment_id": 97864282, "body": "<code>while (&lt;$csv_file&gt;) { print if $start; $start ||= &#47;#start_reading&#47;; }</code>"}, {"owner": {"reputation": 115, "user_id": 10781549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1991393544231190/picture?type=large", "display_name": "Jigar Vaidya", "link": "https://stackoverflow.com/users/10781549/jigar-vaidya"}, "edited": false, "score": 0, "creation_date": 1556573674, "post_id": 55582685, "comment_id": 98477294, "body": "Thanks, and how to stop reading? I want to stop reading after #stop_reading, thanks"}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 115, "user_id": 10781549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1991393544231190/picture?type=large", "display_name": "Jigar Vaidya", "link": "https://stackoverflow.com/users/10781549/jigar-vaidya"}, "edited": false, "score": 0, "creation_date": 1556574128, "post_id": 55582685, "comment_id": 98477431, "body": "@JigarVaidya I&#39;ve updated my answer with a solution for stopping then."}, {"owner": {"reputation": 115, "user_id": 10781549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1991393544231190/picture?type=large", "display_name": "Jigar Vaidya", "link": "https://stackoverflow.com/users/10781549/jigar-vaidya"}, "edited": false, "score": 0, "creation_date": 1556663210, "post_id": 55582685, "comment_id": 98512395, "body": "@blhsing the script aint stopping after #stop_reading, it still reads all the way to the bottom... my code              <code>push @loop_reg, $line if  $print;             $print ||= $line =~ m&#47;#lane_loop_start&#47;;             $print &amp;&amp;= $line !~ m&#47;#lane_loop_stop&#47;;</code>"}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": true, "score": 7, "last_activity_date": 1556573901, "last_edit_date": 1556573901, "creation_date": 1554762828, "answer_id": 55582685, "question_id": 55582592, "link": "https://stackoverflow.com/questions/55582592/perl-print-all-lines-after-match/55582685#55582685", "title": "Perl : Print all lines after match", "body": "<p>You can set a flag when the line contains <code>#start_reading</code> and only print the line if the flag is true:</p>\n\n<pre><code>while (my $line = &lt;$csv_file&gt;) {\n    print $line if $start;\n    $start ||= $line =~ /#start_reading/;\n}\n</code></pre>\n\n<p>And if you want to stop reading after encountering <code>#stop_reading</code>:</p>\n\n<pre><code>while (my $line = &lt;$csv_file&gt;) {\n    print $line if $print;\n    $print ||= $line =~ /#start_reading/;\n    $print &amp;&amp;= $line !~ /#stop_reading/;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 7, "last_activity_date": 1554764292, "creation_date": 1554764292, "answer_id": 55582894, "question_id": 55582592, "link": "https://stackoverflow.com/questions/55582592/perl-print-all-lines-after-match/55582894#55582894", "title": "Perl : Print all lines after match", "body": "<p>You may also use the flip-flop, (<code>..</code>) operator to bypass all the lines from the beginning of the file to the one containing <code>#start_reading</code></p>\n\n<pre><code>while (&lt;$fh&gt;) {\n    next if 1 .. /#start_reading/;\n    print;\n}\n</code></pre>\n\n<p>This bypasses the print from line 1 of the file to the line matching <code>#start_reading</code>. Then it prints the remaining lines in the file.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 3, "last_activity_date": 1555280851, "last_edit_date": 1555280851, "creation_date": 1554771343, "answer_id": 55583671, "question_id": 55582592, "link": "https://stackoverflow.com/questions/55582592/perl-print-all-lines-after-match/55583671#55583671", "title": "Perl : Print all lines after match", "body": "<pre><code> perl -ne 's/.+\\,#start_reading\\s*/next/e; print $_' d\n</code></pre>\n\n<p>by gnu sed, if your data in 'd',</p>\n\n<pre><code> sed -En '/.+,#start_reading/{:s n; $q;p; bs }' d\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1556324396, "last_edit_date": 1556324396, "creation_date": 1556127392, "answer_id": 55835672, "question_id": 55582592, "link": "https://stackoverflow.com/questions/55582592/perl-print-all-lines-after-match/55835672#55835672", "title": "Perl : Print all lines after match", "body": "<p>An efficient and clean way to process a file only after a certain point</p>\n\n<pre><code>last if /#start_reading/ while &lt;$csv_file&gt;;  # get past that point in file\n\nwhile (&lt;$csv_file&gt;) { print }                # now work on it\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 10781549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1991393544231190/picture?type=large", "display_name": "Jigar Vaidya", "link": "https://stackoverflow.com/users/10781549/jigar-vaidya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1155, "favorite_count": 0, "accepted_answer_id": 55582685, "answer_count": 4, "score": 4, "last_activity_date": 1556573901, "creation_date": 1554762198, "last_edit_date": 1554762543, "question_id": 55582592, "link": "https://stackoverflow.com/questions/55582592/perl-print-all-lines-after-match", "title": "Perl : Print all lines after match", "body": "<p>I'm trying to parse a file in perl. I want to print all lines after the regex match</p>\n\n<p>For example, the file is </p>\n\n<pre><code>num_of_dogs,10,#start_reading\nnum_of_cat,15\nnum_birds,20\nnum_of_butterfly,80\n.....\n</code></pre>\n\n<p>I want all the lines after the match <code>#start_reading</code></p>\n\n<p>I've tried this, but it just prints next line</p>\n\n<pre><code>while (my $line = &lt;$csv_file&gt;) {\n    next unless $line =~ /(.*),#end_of_tc/;\n    if ($line =~ /(.*)/){\n    print $file = $1;\n    }\n}\n</code></pre>\n\n<p>The output would look like this</p>\n\n<pre><code>num_of_cats,15\nnum_of_birds,20\n......\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1554746822, "last_edit_date": 1554746822, "creation_date": 1554743280, "answer_id": 55578428, "question_id": 55578168, "link": "https://stackoverflow.com/questions/55578168/need-to-find-a-string-in-group-then-to-find-all-groups-where-single-group-cont/55578428#55578428", "title": "Need to find a string in group, then to find all groups where single group (containing a string) belongs to", "body": "<p>We want to know to which groups each member belongs, so we'll create a Hash of Arrays (HoA) keyed by member that contains all the groups to which the member (directly) belongs.</p>\n\n<p><code>push @{ $hash{$key} }, $value;</code> is a common way to build an HoA.</p>\n\n<p>Once this HoA is built, we'll determine the groups to which the IP address belongs, then we'll determine the groups to which each of those groups belong, and so forth.</p>\n\n<p>In case the IP belongs two two groups that both belong the same group (directly or otherwise), we'll need to filter out the groups we've previously seen.</p>\n\n<p><code>my %seen; my @unique = grep !$seen{$_}++, @values;</code> is a common way to filter out duplicates.</p>\n\n<p>Solution:</p>\n\n<pre><code>use strict;                            # ALWAYS use this.\nuse warnings;                          # ALWAYS use this.\nuse feature qw( say );\n\nuse Sort::Key::Natural qw( natsort );  # Optional. Can use sort or leave unsorted instead.\nuse Text::CSV_XS       qw( );          # Faster than Text::CSV, but otherwise identical.\n\nmy $ip  = \"10.1.1.1\";\nmy $qfn = \"text.csv\";\n\nmy $csv = Text::CSV_XS-&gt;new({\n   auto_diag =&gt; 2,                     # Die on errors.\n   binary    =&gt; 1,                     # Should always have this.\n});\n\n# \"DATA\" already exists, and you shouldn't be using global vars.\nopen(my $fh, \"&lt;:encoding(iso-8859-7)\", $qfn)\n   or die(\"Can't open \\\"$qfn\\\": $!\\n\");\n\nmy %belongs_to;\nwhile ( my $row = $csv-&gt;getline($fh) ) {    # Proper way to use $csv\n   my ($member, $group) = @$row;\n\n   # Add $group to the array referenced by $belongs_to{$member}.\n   # The array is autovivified as if we had used \u00ab $belongs_to{$member} //= []; \u00bb.\n   push @{ $belongs_to{$member} }, $group;\n}\n\n# Recursively determine to which groups $ip belongs.\nmy %groups;\nmy @groups;\nmy @todo = $ip;\nwhile (@todo) {\n   my $member = shift(@todo);\n\n   # Add every group we haven't encountered yet to @groups and @todo.\n   my @new_groups = grep !$groups{$_}++, @{ $belongs_to{$member} };\n   push @groups, @new_groups;\n   push @todo,   @new_groups;\n}\n\n@groups = natsort @groups;  # Make the results more presentable.\n\nsay for @groups;\n</code></pre>\n\n<p>(There are ways of optimizing the last part, but the gains are minimal, and utmost clarity is more important here.)</p>\n\n\n"}], "owner": {"reputation": 21, "user_id": 11330214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc726e85f7705a96f7face7a888003c?s=128&d=identicon&r=PG&f=1", "display_name": "Johny5", "link": "https://stackoverflow.com/users/11330214/johny5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1554746822, "creation_date": 1554742221, "last_edit_date": 1554742592, "question_id": 55578168, "link": "https://stackoverflow.com/questions/55578168/need-to-find-a-string-in-group-then-to-find-all-groups-where-single-group-cont", "title": "Need to find a string in group, then to find all groups where single group (containing a string) belongs to", "body": "<p>I have text.csv file which contains IP addresses and groups with ip addresses. I can easily find into which single group IP 10.1.1.1 belongs to. Problem is that i would need to find all groups where group (with found IP) also belongs to. Let suppose there might be many groups.  </p>\n\n<p>I have tried below code to find a group into which IP belongs to but i don't know how to find other groups in loop. Let see a file text.csv:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Group name,Group members\n------------------------\nGroup1    ,Group2\nGroup2    ,Group3\nGroup3    ,10.1.1.1\nGroup4    ,10.1.1.1 \nGroup5    ,Group2\n</code></pre>\n\n<p>My code so far:</p>\n\n<pre><code>my $ip = \"10.1.1.1\";         \n\n$csv = Text::CSV-&gt;new({ sep_char =&gt; ',' });\nopen(DATA, \"&lt; :encoding(iso-8859-7)\", \"text.csv\") or die \"Could not open $!\\n\";               \n\n while (&lt;DATA&gt;) {    \n  if ($csv-&gt;parse($_)) {\n\n   @column_all           = $csv-&gt;fields();\n   $column_name          = $column_all[0];\n   $column_group_member  = $column_all[1];\n\n\n   if ($column_group_member =~ /$ip/) {\n    $object = $column_name;\n    print $column_name;     \n   }\n\n\n   if ($column_group_member =~ /$objectH/) {\n    print $column_name;\n   }\n\n\n  }\n }\n</code></pre>\n\n<p>This will print only Group3 because it has IP 10.1.1.1</p>\n\n<p>Result should be:\nGroup3 (because it contains IP 10.1.1.1)\nGroup2 (because it contains Group3)\nGroup1 (because it contains Group2)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1554737736, "post_id": 55576630, "comment_id": 97852747, "body": "What is your question? I&#39;m guessing you need help to do (1) and (2). If so, then tell us what you have tried and what difficulties you are having."}, {"owner": {"reputation": 11, "user_id": 9796585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58dc1bf32960fb4254fc644ca8188d93?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/9796585/rafael"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1554738064, "post_id": 55576630, "comment_id": 97852940, "body": "@Dada I can not download per period (for example 01/01/2016 to 12/31/2016). I can only download the files today or a specific day. Any suggestion?"}, {"owner": {"reputation": 579, "user_id": 5545687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUcyq.jpg?s=128&g=1", "display_name": "Jimmmy", "link": "https://stackoverflow.com/users/5545687/jimmmy"}, "edited": false, "score": 2, "creation_date": 1554738741, "post_id": 55576630, "comment_id": 97853301, "body": "well, you could create range of days, you want to download.."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1554743706, "post_id": 55576630, "comment_id": 97855668, "body": "<a href=\"https://stackoverflow.com/a/6622999/1331451\">stackoverflow.com/a/6622999/1331451</a> tells you how to create a range of days."}], "owner": {"reputation": 11, "user_id": 9796585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58dc1bf32960fb4254fc644ca8188d93?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/9796585/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554745917, "creation_date": 1554736476, "last_edit_date": 1554745917, "question_id": 55576630, "link": "https://stackoverflow.com/questions/55576630/script-for-download-public-data", "title": "script for download public data", "body": "<p>I am using the perl script below to download the \"Di\u00e1rio Oficial da Uni\u00e3o\" (a Brazilian public document that gathers and publishes daily the formal acts of the federal government). It works fine, but I'm trying to add the following features:</p>\n\n<ol>\n<li>download a period of time, for example, from 01/01/2010 to 12/31/2010</li>\n<li>direct the files to a specific folder</li>\n</ol>\n\n<p>I can not download per period (for example 01/01/2016 to 12/31/2016). I can only download the files today or a specific day. Any suggestion?</p>\n\n<pre><code>$|=1;\nuse DateTime;\n# my $dt=DateTime-&gt;now; \nmy $dt=DateTime-&gt;new(\n   year       =&gt; 1995,\n   month      =&gt; 01,\n   day        =&gt; 02,\n);\n$ymd=$dt-&gt;ymd; \n$dmy=$dt-&gt;dmy(\"/\"); \n\nprint \"Data: $dmy\\n\";\n\nuse LWP::Simple;\nuse LWP::Simple::Cookies ( autosave =&gt; 1,\n    file =&gt; \"lwp_cookies.dat\" ); \n\nmy $jornal;\nmy @jornais=('1','2','3','515','529','530','531','521','525', '2000');\nforeach $jornal (@jornais) {\n    print \"Jornal: $jornal\\n\";\n    $doc = get(\"http://pesquisa.in.gov.br/imprensa/jsp/visualiza/index.jsp?jornal=$jornal&amp;pagina=1&amp;data=$dmy\");\n    if ( $doc=~/&amp;totalArquivos=(\\d*)\"/ ){\n        $paginas=$1;\n        print \"Paginas: $paginas\\n\";\n        foreach $i ( 1..$paginas) { \n            my $arq=\"IN-Jornal $jornal - $ymd - pag_$i.pdf\";\n            print \"$arq (existe)\\n\" if -e $arq; \n            getstore(\"http://pesquisa.in.gov.br/imprensa/servlet/INPDFViewer?jornal=$jornal&amp;pagina=$i&amp;data=$dmy&amp;captchafield=firstAccess\",$arq ) &amp;&amp; print \"$arq (ok)\\n\" if !-e $arq;\n            if ( $i == 1) {\n                    use CAM::PDF; \n                    $bigpdf = CAM::PDF-&gt;new(\"$arq\");\n            } else {\n                    my $anotherpdf = CAM::PDF-&gt;new(\"$arq\");   \n                    $bigpdf-&gt;appendPDF($anotherpdf);  \n            }\n            sleep 1;\n        }\n        $bigpdf-&gt;cleanoutput(\"IN-Jornal $jornal - $ymd.pdf\"); \n     } else { print \"IN-Jornal $jornal n\u00e3o dispon\u00edvel!\\n\" }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "text-processing", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1554731742, "post_id": 55571897, "comment_id": 97849039, "body": "File::Slurper recommended over File::Slurp. You&#39;d use its <code>read_binary</code> here."}], "tags": [], "owner": {"reputation": 38442, "user_id": 1331399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a22763d295c9d45db0dd0c692bb4051?s=128&d=identicon&r=PG", "display_name": "Thor", "link": "https://stackoverflow.com/users/1331399/thor"}, "is_accepted": false, "score": 2, "last_activity_date": 1554721165, "creation_date": 1554721165, "answer_id": 55571897, "question_id": 55571474, "link": "https://stackoverflow.com/questions/55571474/how-to-extract-the-dynamically-generated-access-token-from-the-text-file-in-perl/55571897#55571897", "title": "How to extract the dynamically generated access token from the text file in perl?", "body": "<p>This is JSON formatted text, so I would suggest reading the file into a string and decoding it, e.g.:</p>\n\n<p><em>parse.pl</em></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use File::Slurp;\nuse v5.10;\nuse JSON;\n\n$token = decode_json ( read_file('token.txt') );\n\nsay $token-&gt;{'access_token'};\n</code></pre>\n\n<p>Test it like this:</p>\n\n<pre><code>perl parse.pl\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>JgV8Ln1lRGE8JTz4olEQW0rJJHUYsq2LO8Ny9o6m\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1554774398, "creation_date": 1554774398, "answer_id": 55583980, "question_id": 55571474, "link": "https://stackoverflow.com/questions/55571474/how-to-extract-the-dynamically-generated-access-token-from-the-text-file-in-perl/55583980#55583980", "title": "How to extract the dynamically generated access token from the text file in perl?", "body": "<p>token will be in $tok,</p>\n\n<pre><code>perl -ne 's/\"access_token\"\\s:\\s\"([^\"]+)\"/$tok=$1;print $1/e' token.txt\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6269529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d49c3dfa2bd966cb91dd434833c19f?s=128&d=identicon&r=PG&f=1", "display_name": "Basavannappa Balikai", "link": "https://stackoverflow.com/users/6269529/basavannappa-balikai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 1, "answer_count": 2, "score": -3, "last_activity_date": 1554774398, "creation_date": 1554719819, "last_edit_date": 1554720638, "question_id": 55571474, "link": "https://stackoverflow.com/questions/55571474/how-to-extract-the-dynamically-generated-access-token-from-the-text-file-in-perl", "title": "How to extract the dynamically generated access token from the text file in perl?", "body": "<p>I am Beginner to perl programming and I want know solution for this problem. I have this below information in the text file called token.txt. I want to extract only dynamically generated access_token value and store that value to mysql database.As mentioned access_token will be auto generated everytime so how I need to store this access_token value everytime. Anyone help me with the perl code. Thanks in advance </p>\n\n<pre><code>{\n  \"access_token\" : \"JgV8Ln1lRGE8JTz4olEQW0rJJHUYsq2LO8Ny9o6m\",\n  \"token_type\" : \"abcdef\",\n  \"expires_in\" : 123456\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1554714177, "post_id": 55569579, "comment_id": 97838452, "body": "Your code contains a syntax error (<code>forea ch</code>). If you fix that, it doesn&#39;t produce the output you claim."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1554716371, "post_id": 55569579, "comment_id": 97839697, "body": "Do you want to match <code>PgTrxId</code> or <code>PgTrx</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1554738354, "post_id": 55570568, "comment_id": 97853104, "body": "It works for the two parameters that we&#39;re specifically asked for here. But for some of the other parameters, you&#39;d need to change the <code>(\\w+)</code> that captures the value."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1554716771, "creation_date": 1554716771, "answer_id": 55570568, "question_id": 55569579, "link": "https://stackoverflow.com/questions/55569579/how-to-get-two-matches-per-line/55570568#55570568", "title": "how to get two matches per line", "body": "<p>Don't faff around with split. Parse the whole line into a hash, then select the keys you want:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy @wanted = qw ( PgTrxId statusDescription );\n\nwhile (&lt;DATA&gt;) {\n   my %param = m/(\\w+)=(\\w+)/g;\n   print Dumper \\%param;\n\n   print join ( \"&amp;\", map { \"$_:$param{$_}\" } @wanted ),\"\\n\";\n}\n\n\n\n__DATA__\nstatus=1&amp;newMainBalance=5486&amp;serviceAmount=700&amp;ExternalTrxId=asdf&amp;PgTrxId=tfpsadf&amp;amount=0&amp;statusDescription=Failed&amp;customerCode=1.1&amp;newDedicatedBalance=0&amp;secureHash=56a7sdyf&amp;paidAmount=1000&amp;responseMsg=%a1%a1%A1(PG_ID)&amp;language=enHTTP/1.1\"200186243**1/1210669**1\"-\"\"-\"\"-\"\"https://example.com.eg?statusDescription=Failed&amp;externalTrxId=123&amp;status=203&amp;secureHash=asdf&amp;pgTrxId=asdf\n</code></pre>\n\n<p>If you want that as a one liner: </p>\n\n<pre><code>perl -ne '%p = m/(\\w+)=(\\w+)/g; print join ( \"&amp;\", map { \"$_=$p{$_}\" } ) qw ( PgTrxId statusDescription ),\"\\n\"' \n</code></pre>\n\n<p>I've used <code>map</code> here for brevity, because that's useful in a one liner, but that's functionally equivalent to:</p>\n\n<pre><code>   my @list_of_wanted_things; \n   foreach my $word ( @wanted ) {\n      push ( @list_of_wanted_things,  \"$word=$param{$word}\" ); \n   }\n   print join \"&amp;\", @list_of_wanted_things;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1554720666, "creation_date": 1554720666, "answer_id": 55571735, "question_id": 55569579, "link": "https://stackoverflow.com/questions/55569579/how-to-get-two-matches-per-line/55571735#55571735", "title": "how to get two matches per line", "body": "<p>Two obvious things that you'd want to change:</p>\n\n<ul>\n<li>Search for \"PgTrxId\" as well as \"statusDescription\"</li>\n<li>Remove the <code>last</code> so it doesn't stop after it's found one.</li>\n</ul>\n\n<p>I've also used <code>(?: ... )</code> to cluster the search terms without capturing them.</p>\n\n<pre><code>perl -ne 'foreach my $p (split(/&amp;/)) { if ($p =~ /(?:statusDescription|PgTrxId)(=.*)/) { print \"$1\\n\" } }'\n</code></pre>\n\n<p>But I far prefer <a href=\"https://stackoverflow.com/a/55570568/7231\">Sobrique's solution</a>.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1555117563, "last_edit_date": 1555117563, "creation_date": 1554774934, "answer_id": 55584034, "question_id": 55569579, "link": "https://stackoverflow.com/questions/55569579/how-to-get-two-matches-per-line/55584034#55584034", "title": "how to get two matches per line", "body": "<p>if your data is in 'd' file,</p>\n\n<pre><code>perl -ne '@s = /\\b(PgTrxId=[^&amp;]+)|(&amp;statusDescription=[^&amp;]+)/xg;print @s' d\n</code></pre>\n\n<p>the result is in array variable @s</p>\n"}], "owner": {"reputation": 21, "user_id": 11327979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/675aee802dcb9b4484ff9e096a90aa1c?s=128&d=identicon&r=PG&f=1", "display_name": "Mina Saad", "link": "https://stackoverflow.com/users/11327979/mina-saad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 2, "answer_count": 3, "score": 1, "last_activity_date": 1555117563, "creation_date": 1554713631, "last_edit_date": 1554714109, "question_id": 55569579, "link": "https://stackoverflow.com/questions/55569579/how-to-get-two-matches-per-line", "title": "how to get two matches per line", "body": "<p>i need to get a word after <code>PgTrx</code> and a word after <code>Statusdescription</code></p>\n\n<p>log sample:</p>\n\n<p><code>status=1&amp;newMainBalance=5486&amp;serviceAmount=700&amp;ExternalTrxId=asdf&amp;PgTrxId=tfpsadf&amp;amount=0&amp;statusDescription=Failed&amp;customerCode=1.1&amp;newDedicatedBalance=0&amp;secureHash=56a7sdyf&amp;paidAmount=1000&amp;responseMsg=%a1%a1%A1(PG_ID)&amp;language=enHTTP/1.1\"200186243**1/1210669**1\"-\"\"-\"\"-\"\"https://example.com.eg?statusDescription=Failed&amp;externalTrxId=123&amp;status=203&amp;secureHash=asdf&amp;pgTrxId=asdf</code></p>\n\n<p>i tried the below  but i only get 1 word after <code>statusdescription</code>:</p>\n\n<pre><code>perl -ne 'foreach my $p (split(/&amp;/)) { if ($p =~ /statusDescription(=.*)/) { print \"$1\\n\"; last } }'\n\ncat file.txt | perl -ne 'forea ch my $p (split(/&amp;/)) { if ($p =~ /statusDescription(=.*)/) { print \"$1\\n\"; last } }'\n</code></pre>\n\n<p>i want to get the result as below.</p>\n\n<pre><code>PgTrxId=tfpsadf&amp;statusDescription=Failed\n</code></pre>\n\n<p>but i got only </p>\n\n<pre><code>statusDescription=Failed\n</code></pre>\n"}, {"tags": ["windows", "perl", "mouseevent", "win32gui", "win32ole"], "comments": [{"owner": {"reputation": 1239, "user_id": 4452971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/og0oX.png?s=128&g=1", "display_name": "Castorix", "link": "https://stackoverflow.com/users/4452971/castorix"}, "edited": false, "score": 0, "creation_date": 1560109437, "post_id": 55568841, "comment_id": 99621033, "body": "I don&#39;t use Perl, but in C++/Win32 it is done with <b>SHILCreateFromPath</b>  and <b>SHCreateDefaultContextMenu</b>"}], "owner": {"reputation": 472, "user_id": 2001559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L1bvT.png?s=128&g=1", "display_name": "Maverick", "link": "https://stackoverflow.com/users/2001559/maverick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568471848, "creation_date": 1554710925, "last_edit_date": 1568471848, "question_id": 55568841, "link": "https://stackoverflow.com/questions/55568841/perlselecting-an-item-by-right-cllick-mouse-on-folder-in-windows", "title": "Perl:Selecting an item by right cllick mouse on folder in Windows", "body": "<p>As a part of my automation test, I have to right click on a folder and select one of the option using Perl in Windows10.</p>\n\n<p>Go to 'C:\\MyProject\\', Right-Click on 'logs' present there and select 'Pin to Start' (as an example).</p>\n\n<p>I have followed some of the examples mentioned here - <a href=\"https://www.perl.com/pub/2005/08/11/win32guitest.html/\" rel=\"nofollow noreferrer\">https://www.perl.com/pub/2005/08/11/win32guitest.html/</a> and here - <a href=\"https://metacpan.org/pod/Win32::GuiTest::Examples\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Win32::GuiTest::Examples</a>. I tried it to do using Win32::GuiTest.</p>\n\n<p>I am able to open the explorer with the directory, select the folder and do right click.\nHowever, I am unable to select the option after right click.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nuse Win32::GuiTest qw(:ALL);\n\n$Win32::GuiTest::debug = 0;\n\nsub bring_window_to_front {\n     my $window  = shift;\n     my $success = 1;\n\n     if ( SetActiveWindow($window) ) {\n         print \"* Successfully set the window id: $window active\\n\";\n     }\n     else {\n         print \"* Could not set the window id: $window active\\n\";\n         $success = 0;\n     }\n     if ( SetForegroundWindow($window) ) {\n         print \"* Window id: $window brought to foreground\\n\";\n     }\n     else {\n         print \"* Window id: $window could not be brought to foreground\\n\";\n         $success = 0;\n     }\n     return $success;\n}\n\nmy $explorer_path = \"%windir%/explorer.exe\";\nmy $folder_path = \"C:\\\\MyProject\";\n\n# Open the location\nsystem ($explorer_path, $folder_path);\nsleep 2;\n\nmy @whnds = FindWindowLike( undef, \"^MyProject\", \"\" );\nif( !@whnds ){\n    die \"Cannot find window with title/caption MyProject\\n\";\n}\nelse{\n    printf( \"Window handle of MyProject is %x\\n\", $whnds[ 0 ] );\n}\n\nsleep 2;\n\n# select the logs directory\nSendKeys(\"logs\");\n# Send the right click button\nSendKeys(\"{APP}\");\nsleep 2;\n\n#### Till here everything is working fine\n#### I am able to do right click, but unable to select any option. Hitting a road block here\n#### Tried these but no result\n\n# MouseClick('Pin to Start');\n# MenuSelect('Pin to Start');\n# PushChildButton($whnds[ 0 ],\"Pin to Start\");\n</code></pre>\n\n<p>One thing I am still wondering, whether I am going in right direction.\nAm I using the right module or this work is for some other modules(Win32::GUI or Win32::OLE ?).</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4222, "user_id": 2072269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xNPjb.png?s=128&g=1", "display_name": "muru", "link": "https://stackoverflow.com/users/2072269/muru"}, "edited": false, "score": 1, "creation_date": 1554707237, "post_id": 55567882, "comment_id": 97834818, "body": "From <a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">the docs</a>: &quot;This is <i>not</i> what you want to use to capture the output from a command; for that you should use merely backticks or <code>qx&#47;&#47;</code>, as described in <a href=\"https://perldoc.perl.org/perlop.html#%60_STRING_%60\" rel=\"nofollow noreferrer\"><code>`STRING`</code>in perlop</a>.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1554712359, "post_id": 55567956, "comment_id": 97837414, "body": "The line <code>my $name = &quot;$row&quot;;</code> serves no purpose."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1554761958, "post_id": 55567956, "comment_id": 97863247, "body": "You should also take care as this code allows lines from names.txt to execute arbitrary shell."}], "tags": [], "owner": {"reputation": 312, "user_id": 11189140, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EpmYCr3Lg5Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMaxaOmwFJEeFJYsV-ut6Nemx2jA/mo/photo.jpg?sz=128", "display_name": "Anirudh Simha", "link": "https://stackoverflow.com/users/11189140/anirudh-simha"}, "is_accepted": true, "score": 0, "last_activity_date": 1554707326, "creation_date": 1554707326, "answer_id": 55567956, "question_id": 55567882, "link": "https://stackoverflow.com/questions/55567882/load-output-into-a-file-perl/55567956#55567956", "title": "Load Output into a file / perl", "body": "<p>The <strong>system</strong> function runs the command and returns the STATUS CODE of the command i.e if it was successful, it will return 0, else will return error code.</p>\n\n<p>What you want to do is use <strong>backtick</strong> operator to capture the <strong>STDOUT</strong> of the command instead of system.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen (INFILE, '&lt;', \"names.txt\");\nopen (OUTFILE, '&gt;', \"report.txt\");\n\nwhile (my $row = &lt;INFILE&gt;) {\n    chomp $row;\n    my $name = \"$row\";\n    my $number = `grep -o $name *.htm | wc -l`;\n    print OUTFILE \"$name\\t $number\\n\";\n}\nclose INFILE;\nclose OUTFILE;\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4493223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/becf0cddc6b070e98fe37e8bf4977563?s=128&d=identicon&r=PG", "display_name": "RedZebra", "link": "https://stackoverflow.com/users/4493223/redzebra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "closed_date": 1554708181, "accepted_answer_id": 55567956, "answer_count": 1, "score": 0, "last_activity_date": 1554713658, "creation_date": 1554706985, "last_edit_date": 1554713658, "question_id": 55567882, "link": "https://stackoverflow.com/questions/55567882/load-output-into-a-file-perl", "closed_reason": "Duplicate", "title": "Load Output into a file / perl", "body": "<p>I'm counting the number of times different names occur in a folder of *.htm files. How do I get a <code>system \"grep...\"</code> call to write to the output file instead of the screen?</p>\n\n<p>I've had this working when printing to screen.  As soon as I tried to write it to file, I get the names and a 0 written to file and the counts from grep written to screen.  I've found some good advice to help me get this far, but now it's getting specific I'm finding a lot of \"noise\" in the search results.  Any pointers to tutorials relevant tutorials are most welcome.    </p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen (INFILE, '&lt;', \"names.txt\");\nopen (OUTFILE, '&gt;', \"report.txt\");\n\nwhile (my $row = &lt;INFILE&gt;) {\n    chomp $row;\n    my $name = \"$row\";\n    my $number = system \"grep -o $name *.htm | wc -l\";\n    print OUTFILE \"$name\\t $number\\n\";\n}\nclose INFILE;\nclose OUTFILE;\n</code></pre>\n\n<p>I'm expecting something like this in the OUTFILE</p>\n\n<pre><code>Name1  245\nName2  198\nName3  79\n</code></pre>\n\n<p>What I get in OUTFILE</p>\n\n<pre><code>Name1   0\nName2   0\nName3   0\n</code></pre>\n\n<p>What I get on the SCREEN</p>\n\n<pre><code>245\n298\n79\n</code></pre>\n"}, {"tags": ["perl", "ocr", "tesseract"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1554691109, "post_id": 55565501, "comment_id": 97830512, "body": "What does &quot;not working&quot; mean?"}, {"owner": {"reputation": 3, "user_id": 10883512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bbsldRyCRFw/AAAAAAAAAAI/AAAAAAAAAqE/7dEFt1SnjX8/photo.jpg?sz=128", "display_name": "Tamoor Hassan", "link": "https://stackoverflow.com/users/10883512/tamoor-hassan"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1554691598, "post_id": 55565501, "comment_id": 97830584, "body": "Like i have executed that command on CMD but Its not installing This &quot;Image::OCR::Tesseract&quot; on Windows PC"}, {"owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "edited": false, "score": 1, "creation_date": 1554704260, "post_id": 55565501, "comment_id": 97833519, "body": "&quot;it&#39;s not working.&quot; is not an error description."}, {"owner": {"reputation": 3, "user_id": 10883512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bbsldRyCRFw/AAAAAAAAAAI/AAAAAAAAAqE/7dEFt1SnjX8/photo.jpg?sz=128", "display_name": "Tamoor Hassan", "link": "https://stackoverflow.com/users/10883512/tamoor-hassan"}, "edited": false, "score": 0, "creation_date": 1554705093, "post_id": 55565501, "comment_id": 97833858, "body": "Can&#39;t locate Image/OCR/Tesseract.pm in @INC (@INC contains: C:/Dwimperl/perl/site/lib C:/Dwimperl/perl/vendor/lib C:/Dwimperl/perl/lib .)"}, {"owner": {"reputation": 3, "user_id": 10883512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bbsldRyCRFw/AAAAAAAAAAI/AAAAAAAAAqE/7dEFt1SnjX8/photo.jpg?sz=128", "display_name": "Tamoor Hassan", "link": "https://stackoverflow.com/users/10883512/tamoor-hassan"}, "edited": false, "score": 0, "creation_date": 1554705159, "post_id": 55565501, "comment_id": 97833874, "body": "Getting this error, Which means that in my PC I don&#39;t have  Image::OCR::Tesseract Installed, I&#39;m only asking a way to install this library"}, {"owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "edited": false, "score": 0, "creation_date": 1554705369, "post_id": 55565501, "comment_id": 97833958, "body": "You should be able to install it using       perl -MCPAN -e &quot;install Image::OCR::Tesseract&quot;  If it didn&#39;t work. check its output to see why it didn&#39;t work."}, {"owner": {"reputation": 3, "user_id": 10883512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bbsldRyCRFw/AAAAAAAAAAI/AAAAAAAAAqE/7dEFt1SnjX8/photo.jpg?sz=128", "display_name": "Tamoor Hassan", "link": "https://stackoverflow.com/users/10883512/tamoor-hassan"}, "edited": false, "score": 0, "creation_date": 1554705491, "post_id": 55565501, "comment_id": 97834015, "body": "perl -MCPAN -e &quot;install Image::OCR::Tesseract"}, {"owner": {"reputation": 3, "user_id": 10883512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bbsldRyCRFw/AAAAAAAAAAI/AAAAAAAAAqE/7dEFt1SnjX8/photo.jpg?sz=128", "display_name": "Tamoor Hassan", "link": "https://stackoverflow.com/users/10883512/tamoor-hassan"}, "edited": false, "score": 0, "creation_date": 1554705802, "post_id": 55565501, "comment_id": 97834145, "body": "Checksum C:\\Dwimperl\\cpan\\sources\\authors\\id\\L\\LE\\LEOCHARRE\\Image-OCR&zwnj;&#8203;-Tesseract-1.24.tar.&zwnj;&#8203;gz ok CPAN.pm:Going to build L/LE/LEOCHARRE/Image-OCR-Tesseract-1.24.tar.gz OS unsupported BEGIN failed--compilation aborted at Makefile.PL line 2. Warning: No success on command[C:\\Dwimperl\\perl\\bin\\perl.exe Makefile.PL]LEOCHARRE/Image-OCR-Tesseract-1.24.tar.gz C:\\Dwimperl\\perl\\bin\\perl.exe Makefile.PL -- NOT OK Runningmaketest Make had some problems,won&#39;t test Runningmakeinstall Makehadsomeproblemswon&#39;tinstall Could not read metadata file.Falling back to other methods to determine prerequisites"}, {"owner": {"reputation": 3, "user_id": 10883512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bbsldRyCRFw/AAAAAAAAAAI/AAAAAAAAAqE/7dEFt1SnjX8/photo.jpg?sz=128", "display_name": "Tamoor Hassan", "link": "https://stackoverflow.com/users/10883512/tamoor-hassan"}, "edited": false, "score": 0, "creation_date": 1554706249, "post_id": 55565501, "comment_id": 97834358, "body": "Al thought I did install Image Image::Magick from the same command   perl -MCPAN -e &quot;Image::Magick&quot;  and it worked fine, but now on tesseract case the command is not working"}, {"owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "edited": false, "score": 1, "creation_date": 1554706459, "post_id": 55565501, "comment_id": 97834437, "body": "Read teh output. Maybe you&#39;ll notice: &quot;OS unsupported&quot;"}, {"owner": {"reputation": 3, "user_id": 10883512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bbsldRyCRFw/AAAAAAAAAAI/AAAAAAAAAqE/7dEFt1SnjX8/photo.jpg?sz=128", "display_name": "Tamoor Hassan", "link": "https://stackoverflow.com/users/10883512/tamoor-hassan"}, "edited": false, "score": 0, "creation_date": 1554707350, "post_id": 55565501, "comment_id": 97834864, "body": "oh, yeah saw that! Thanks!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1554718566, "post_id": 55565501, "comment_id": 97840933, "body": "@TamoorHassan: For future reference, if you&#39;re adding new information (like the output of the commands) then please edit your question and add it there. Useful information like that is hard to read in comments."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10883512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bbsldRyCRFw/AAAAAAAAAAI/AAAAAAAAAqE/7dEFt1SnjX8/photo.jpg?sz=128", "display_name": "Tamoor Hassan", "link": "https://stackoverflow.com/users/10883512/tamoor-hassan"}, "edited": false, "score": 0, "creation_date": 1554790815, "post_id": 55579329, "comment_id": 97869716, "body": "I have perl already installed  C:\\Dwimperl\\perl\\bin\\perl.exe C:\\Strawberry\\perl\\bin\\perl.exe  these are the paths"}], "tags": [], "owner": {"reputation": 88, "user_id": 3772148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f4f90cff7afbae46d36e777cd813756?s=128&d=identicon&r=PG&f=1", "display_name": "lthemick", "link": "https://stackoverflow.com/users/3772148/lthemick"}, "is_accepted": false, "score": 0, "last_activity_date": 1554746860, "creation_date": 1554746860, "answer_id": 55579329, "question_id": 55565501, "link": "https://stackoverflow.com/questions/55565501/how-can-i-install-perl-library-of-tesseract-in-windows/55579329#55579329", "title": "How can I Install Perl Library of Tesseract in windows", "body": "<p>Do you have Perl installed?  It's generally not on Windows...  You can test whether it's in your path like this:</p>\n\n<pre><code>C:\\&gt; where perl\n</code></pre>\n\n<p>If it doesn't return a path, you don't have Perl - or the system doesn't know about it.  If that's the case, try installing Strawberry Perl (<a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">http://strawberryperl.com/</a>) and get that into your path. </p>\n"}], "owner": {"reputation": 3, "user_id": 10883512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bbsldRyCRFw/AAAAAAAAAAI/AAAAAAAAAqE/7dEFt1SnjX8/photo.jpg?sz=128", "display_name": "Tamoor Hassan", "link": "https://stackoverflow.com/users/10883512/tamoor-hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554746860, "creation_date": 1554690586, "last_edit_date": 1554713028, "question_id": 55565501, "link": "https://stackoverflow.com/questions/55565501/how-can-i-install-perl-library-of-tesseract-in-windows", "title": "How can I Install Perl Library of Tesseract in windows", "body": "<p>So here im trying to install tessercat library of Perl in my windows PC, but did not found any solution to do so, now looking for the help TIA!</p>\n\n<p>I have already tried this command</p>\n\n<pre><code>perl -MCPAN -e \"install Image::OCR::Tesseract\"\n</code></pre>\n\n<p>in CMD to install that particular library but it's not working properly</p>\n\n<p>How ever with help of above command i have installed many libraries but on this particular its not working.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1554688748, "post_id": 55565179, "comment_id": 97830175, "body": "All your assignments are backwards.  e.g. you say <code>$one = $big</code> where you mean <code>$big = $one</code>"}, {"owner": {"reputation": 1, "user_id": 11326614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jwcsCDpN9Vg/AAAAAAAAAAI/AAAAAAAAAAo/ITT4mcEpqio/photo.jpg?sz=128", "display_name": "Bentley Tonniges", "link": "https://stackoverflow.com/users/11326614/bentley-tonniges"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1554689586, "post_id": 55565179, "comment_id": 97830308, "body": "It worked! Thank you! I guess I didn&#39;t know it had to be a specific way to define variables like this."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554725644, "post_id": 55571028, "comment_id": 97845051, "body": "List::MoreUtils&#39;s <code>minmax</code> is faster if you want both the min and the max"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554726373, "post_id": 55571028, "comment_id": 97845517, "body": "@ikegami: Yeah, but I prefer to use core modules when writing answers for obvious beginners."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1554718332, "creation_date": 1554718332, "answer_id": 55571028, "question_id": 55565179, "link": "https://stackoverflow.com/questions/55565179/is-there-a-way-to-set-variables-equal-to-eachother-inside-of-an-if-statement/55571028#55571028", "title": "Is there a way to set variables equal to eachother inside of an if statement?", "body": "<p>Perl works the same way as pretty much every other programming language. In an assignment statement, the value on the right-hand side of the operator is assigned to the variable on the left-hand side of the operator. So, in a statement like:</p>\n\n<pre><code>$one = $big;\n</code></pre>\n\n<p>You assign the value of <code>$big</code> to the variable <code>$one</code>. As has already been pointed out in a comment, this is the wrong way round and you really wanted:</p>\n\n<pre><code>$big = $one;\n</code></pre>\n\n<p>There are a couple of simpler approaches, you can take. Firstly, you could sort the list of numbers and then take the first and last elements from the list:</p>\n\n<pre><code>my @sorted = sort { $a &lt;=&gt; $b } ($one, $two, $three, $four);\nmy ($small, $big) = @sorted[0, $#sorted];\n</code></pre>\n\n<p>Or you can use the <code>min()</code> and <code>max()</code> functions from the module <a href=\"https://metacpan.org/pod/List::Util\" rel=\"nofollow noreferrer\">List::Util</a>.</p>\n\n<pre><code>use List::Util qw[min max];\n\nmy $small = min($one, $two, $three, $four);\nmy $big   = max($one, $two, $three, $four);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11326614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jwcsCDpN9Vg/AAAAAAAAAAI/AAAAAAAAAAo/ITT4mcEpqio/photo.jpg?sz=128", "display_name": "Bentley Tonniges", "link": "https://stackoverflow.com/users/11326614/bentley-tonniges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554718332, "creation_date": 1554686964, "question_id": 55565179, "link": "https://stackoverflow.com/questions/55565179/is-there-a-way-to-set-variables-equal-to-eachother-inside-of-an-if-statement", "title": "Is there a way to set variables equal to eachother inside of an if statement?", "body": "<p>I'm working on a homework assignment that gives me the task to take four user-inputted numbers and compares them to output the largest and the smallest. I can't use loops so I'm using if/else/elsif statements but I keep getting an error. I've got this so far and I'm not sure what I'm doing wrong. </p>\n\n<p>[Shebang]</p>\n\n<pre><code>my $small;\nmy $big;\n\nprint \"\\nEnter first number: \";\nchomp (my $one = &lt;&gt;);\n\nprint \"\\nEnter second number: \";\nchomp (my $two = &lt;&gt;);\n\nprint \"\\nEnter third number: \";\nchomp (my $three = &lt;&gt;);\n\nprint \"\\nEnter fourth number: \";\nchomp (my $four = &lt;&gt;);\n\nif ($one &gt;= $two) {\n    $one = $big;\n    $two = $small;\n}\nelse {\n    $one = $small;\n    $two = $big;\n}\n\nif ($three &gt;= $big) {\n    $three = $big;\n}\nelsif ($three &lt;= $small) {\n    $three = $small;\n}\n\nif ($four &gt;= $big) {\n    $four = $big;\n}\nelsif ($four &lt;= $small) {\n    $four = $small;\n}\n\nprint \"LRG: $big\\n\";\nprint \"SML: $small\\n\";\n</code></pre>\n\n<p>Ideally, you type in four numbers and it outputs the largest and smallest. Instead, I get \n\"Use of uninitialized value $big in numeric ge (>=) at [filename].pl line 29, &lt;> line 4.\" at line 29 and 36. \nI also get \n\"Use of initialized value $small in concatenation (.) or string line 44, &lt;> line 4.\"</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1554662317, "post_id": 55562384, "comment_id": 97824640, "body": "Look at how StackOverflow is color coding your line. Do you see anything wrong with it?"}, {"owner": {"reputation": 431, "user_id": 7181429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9EyX1.jpg?s=128&g=1", "display_name": "Fedor Dikarev", "link": "https://stackoverflow.com/users/7181429/fedor-dikarev"}, "edited": false, "score": 0, "creation_date": 1554667637, "post_id": 55562384, "comment_id": 97826141, "body": "You should escape quotes or you could use qq() syntax when you use quotes inside your string: <code>print &quot;Hello \\&quot;World\\&quot;&quot;;</code> or <code>print qq(Hello &quot;World&quot;);</code>"}, {"owner": {"reputation": 1, "user_id": 11307124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0DtUC.jpg?s=128&g=1", "display_name": "Eragon6", "link": "https://stackoverflow.com/users/11307124/eragon6"}, "edited": false, "score": 0, "creation_date": 1554719344, "post_id": 55562384, "comment_id": 97841378, "body": "Thanks. Everything fine now"}], "answers": [{"tags": [], "owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "is_accepted": false, "score": 4, "last_activity_date": 1554704660, "last_edit_date": 1554704660, "creation_date": 1554663500, "answer_id": 55562571, "question_id": 55562384, "link": "https://stackoverflow.com/questions/55562384/how-to-get-the-gateway-ip-with-perl/55562571#55562571", "title": "How to get the gateway IP with Perl?", "body": "<h3>Intro</h3>\n\n<p><code>findstring</code> is useless, as <a href=\"/questions/tagged/perl\" class=\"post-tag\" title=\"show questions tagged &#39;perl&#39;\" rel=\"tag\">perl</a> is a wonderfull <code>grep</code> engine...</p>\n\n<p>Under Linux, I will do:</p>\n\n<pre><code>my $gw;\nopen my $ipr,\"ip r|\";\nwhile (&lt;$ipr&gt;) {\n    $gw=$1 if /default.*via ([0-9.]+) /;\n};\nprint $gw.\"\\n\";\n</code></pre>\n\n<p>As your question stand for <code>ipconfig</code>, I think something like</p>\n\n<pre><code>open my $ipr,\"ipconfig /all|\";\nwhile (&lt;$ipr&gt;) {\n    $gw=$1 if /[dD].*faul?t.*: ([0-9.]+) *$/;\n};\nprint $gw.\"\\n\";\n</code></pre>\n\n<p>Nota: Regex is a <em>try</em> based on fr.wikipedia and en.wikipedia. <strong>Feedback welcome!</strong></p>\n\n<h3>Grouped</h3>\n\n<pre><code>my $gw;\n\nmy $regex='default.*via ([0-9.]+) ';\nmy $cmd='ip r';\n\nif ($^O =~ \"MSWin\") {\n    $regex='[dD].*faul?t.*: ([0-9.]+) *$';\n    $cmd='ipconfig /all'\n};\n\nopen my $ipr,$cmd.\"|\";\nwhile (&lt;$ipr&gt;) {\n    $gw=$1 if /$regex/;\n};\n\nprint $gw.\"\\n\";\n</code></pre>\n\n<p>This work under my Debian Linux. No idea if this could work under MSWin... <strong>Feedback welcome!</strong></p>\n\n<h3>Or by using <code>traceroute</code>:</h3>\n\n<pre><code>use Net::Traceroute;\n$tr = Net::Traceroute-&gt;new(host =&gt; \"8.8.8.8\",max_ttl=&gt;1);\nprint \"Gateway: \" . $tr-&gt;hop_query_host(1,0) . \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1554887188, "last_edit_date": 1554887188, "creation_date": 1554717571, "answer_id": 55570812, "question_id": 55562384, "link": "https://stackoverflow.com/questions/55562384/how-to-get-the-gateway-ip-with-perl/55570812#55570812", "title": "How to get the gateway IP with Perl?", "body": "<p>I see no-one has actually explained what your problem is.</p>\n\n<p>You cannot use plain double-quote characters inside a double-quoted string. If you think about it, it should be obvious that the first double-quote character inside a double-quoted string will be seen as the end of the string.</p>\n\n<p>Your code is like this:</p>\n\n<pre><code> system(\"ipconfig | findstr /i \"Gateway\"\")\n</code></pre>\n\n<p>This is seen as a double-quoted string (<code>\"ipconfig | findstr /i\"</code>) followed by a bareword (<code>Gateway</code>) and another double-quoted string (an empty string - <code>\"\"</code>). This is never going to compile successfully.</p>\n\n<p>The easiest fix is to change your double-quoted string to a single-quoted string:</p>\n\n<pre><code> system('ipconfig | findstr /i \"Gateway\"')\n</code></pre>\n\n<p>But, as others have pointed out, it seems like a very strange idea to use <code>findstr</code> when you have the whole power of Perl available.</p>\n"}], "owner": {"reputation": 1, "user_id": 11307124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0DtUC.jpg?s=128&g=1", "display_name": "Eragon6", "link": "https://stackoverflow.com/users/11307124/eragon6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 55570812, "answer_count": 2, "score": -1, "last_activity_date": 1554887188, "creation_date": 1554662110, "question_id": 55562384, "link": "https://stackoverflow.com/questions/55562384/how-to-get-the-gateway-ip-with-perl", "title": "How to get the gateway IP with Perl?", "body": "<p>I need to know the gateway of the localhost</p>\n\n<p>I tried with a system command and with a IP routing table but nothing.</p>\n\n<pre><code> system(\"ipconfig | findstr /i \"Gateway\"\")\n</code></pre>\n\n<p>I except the output was the gateway but I got <code>Bareword found where operator expected at script.pl line 63, near \"\"ipconfig | findstr /i \"Gateway\"\n        (Missing operator before Gateway?)\nString found where operator expected at script.pl line 63, near \"Gateway\"\"\"\nsyntax error at script.pl line 63, near \"\"ipconfig | findstr /i \"Gateway\"\nExecution of script.pl aborted due to compilation errors.</code></p>\n"}, {"tags": ["regex", "perl", "replace"], "comments": [{"owner": {"reputation": 150, "user_id": 10956912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eacb8c130eaef318793311b518a5a77?s=128&d=identicon&r=PG&f=1", "display_name": "Shegit Brahm", "link": "https://stackoverflow.com/users/10956912/shegit-brahm"}, "edited": false, "score": 0, "creation_date": 1554654782, "post_id": 55561213, "comment_id": 97822324, "body": "Is it possible to add a &quot;that is how the result should look like&quot; to your (fitting) example input? So an example that covers all your rules to have an effect?"}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "reply_to_user": {"reputation": 150, "user_id": 10956912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eacb8c130eaef318793311b518a5a77?s=128&d=identicon&r=PG&f=1", "display_name": "Shegit Brahm", "link": "https://stackoverflow.com/users/10956912/shegit-brahm"}, "edited": false, "score": 0, "creation_date": 1554654986, "post_id": 55561213, "comment_id": 97822380, "body": "@ShegitBrahm  Sure, will do --- it&#39;ll add considerable length here, ... I assume there&#39;s not way to get two columns here, otherwise I could add it to the right of the text file??"}, {"owner": {"reputation": 150, "user_id": 10956912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eacb8c130eaef318793311b518a5a77?s=128&d=identicon&r=PG&f=1", "display_name": "Shegit Brahm", "link": "https://stackoverflow.com/users/10956912/shegit-brahm"}, "edited": false, "score": 1, "creation_date": 1554655197, "post_id": 55561213, "comment_id": 97822441, "body": "the formatting rules say: for a table you need the &lt;pre&lt; tag and ascii (<a href=\"https://meta.stackexchange.com/questions/1777/what-html-tags-are-allowed-on-stack-exchange-sites\" title=\"what html tags are allowed on stack exchange sites\">meta.stackexchange.com/questions/1777/&hellip;</a>) - so yes, extending to right would it do"}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "reply_to_user": {"reputation": 150, "user_id": 10956912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eacb8c130eaef318793311b518a5a77?s=128&d=identicon&r=PG&f=1", "display_name": "Shegit Brahm", "link": "https://stackoverflow.com/users/10956912/shegit-brahm"}, "edited": false, "score": 0, "creation_date": 1554657016, "post_id": 55561213, "comment_id": 97822969, "body": "@ShegitBrahm OK, I added the desired output to the right of the input.  I hope it is clear what I&#39;m hoping for and not too complicated ... :/"}], "answers": [{"comments": [{"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1554859324, "post_id": 55566090, "comment_id": 97902351, "body": "Comments <a href=\"https://chat.stackoverflow.com/rooms/191568/discussion-on-answer-by-zdim-replace-blocks-of-text-with-perl-regex-with-conditi\">archived in chat</a>. Please remember to update the answer with any insights that might benefit future readers."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1555007606, "last_edit_date": 1555007606, "creation_date": 1554696355, "answer_id": 55566090, "question_id": 55561213, "link": "https://stackoverflow.com/questions/55561213/replace-blocks-of-text-with-perl-regex-with-conditional/55566090#55566090", "title": "Replace blocks of text with perl regex with conditional", "body": "<p>The processing details are apparently complex; let's first clear up how to process blocks.</p>\n\n<p>One way is to go line-by-line and accumulate lines for a block, until you get to an empty line. Then you process your block and clear the buffer, and keep going.  For example</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nsub process_block {\n    say \"Block:\"; say \"\\t$_\" for @{$_[0]};\n}\n\nmy $file = shift // die \"Usage: $0 filename\\n\";  #/\n\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy @block;\nwhile (&lt;$fh&gt;) {\n    chomp;\n    if (not /\\S/) {\n        if (@block) {                # the first empty line\n            process_block(\\@block);\n            @block = (); \n        }\n        next;\n    }   \n\n    push @block, $_; \n}\nprocess_block(\\@block) if @block;    # last block may have remained\n</code></pre>\n\n<p>The <code>process_block</code> call after the <code>while</code> loop doesn't fire for the shown sample, since there are empty lines before the end of the file so the last block gets processed inside the loop. But we need to ensure that the last block is processed when there are no empty lines at the end as well.</p>\n\n<p>Inside <code>process_block</code> you can now check whether <code>@block</code> contains <code>mrb@#Name</code>, apply other (apparently complex) conditions, run regex, and print processed lines.</p>\n\n<p>Here is an example, following clarifications but still leaving out some details</p>\n\n<pre><code>use List::Util qw(any);  # used to be in List::MoreUtils\n\nsub process_block {\n    my @block = @{ $_[0] };  # local copy, to not change @block in caller\n\n    if ($block[0] =~ /^txt\\@/ and any { /^mrb\\@/ } @block) {\n        for (@block) {\n            s{^txt\\@#(\\S*)\\s+(.*)}\n             {\\\\ex[exno=\\\\spkr{$1}, exnoformat=X] \\\\begingl \\\\glpreamble $2 // }g;  #/\n            s{^mrb\\@#\\S*\\s+(.*)}{\\\\gla $1 // }g;\n            # etc\n        }   \n        if ($block[-1] =~ /^\\s*SD/) {\n            my $SD_line = pop @block;\n            push @block, '\\endgl', $SD_line, '\\xe';\n        }\n        else {\n            push @block, '\\endgl', '\\xe';\n        }\n    }\n    else {\n        for (@block) {\n            s/^txt\\@#(\\S*)\\s+(.*)/\\\\ex[exno=\\\\spkr{$1}, exnoformat=X] \\\\txt $2 /g; \n            s/^tli\\@#\\S*\\s+(.*)/\\\\translit $1 /g;\n            # etc\n        }\n        push @block, '\\xe';\n    }\n    say for @block;\n    say \"\\n\";        # two lines to separate blocks\n}\n</code></pre>\n\n<p>A note on efficiency.</p>\n\n<p>This code processes each line in a block against all regex substitutions, to find the one that applies to it. The distinguishing pattern comes right at the beginning so \"wrong\" lines fail right away but we still run the regex engine for all checks for each line.</p>\n\n<p>This may (or may not) be a problem with many regex or long blocks or if done often, and it can be optimized if it is slow. Since the list of substitutions is always the same we can build a hash with regex keyed by the distinguishing start of the pattern (as a <em>dispatch table</em>). For example</p>\n\n<pre><code>my %repl_non_mrb = ( \n    'txt@' =&gt; sub { s/^txt\\@#(\\S*)\\s+(.*)/\\\\ex[exno=\\\\spkr{$1}, exnoformat=X] \\\\txt $2 /g }\n    'tli@' =&gt; sub { s/^tli\\@#\\S*\\s+(.*)/\\\\translit $1 /g },\n    ...\n);\nmy %repl_mrb = ( ... );\n</code></pre>\n\n<p>and then use it along the lines of</p>\n\n<pre><code># For blocks without 'mrb@'\nfor (@block) {\n    # Capture key: up to # for 'txt@' (etc), up to \\s for 'SD'. Other cases?\n    my ($key) = /^(.*?)(?:#|\\s)/; \n    if ($key and exists $repl_non_mrb{$key}) {\n        $repl_non_mrb{$key}-&gt;();                  # run the coderef\n    }\n    else { say \"No processing key (?) for: $_\" }  # some error?\n}\n</code></pre>\n\n<p>This clearly needs more (careful) work, while there are also other ways to organize those regex. But an implementation of these (fixed) regex substitutions hashed by their distinguishing patterns will surely improve on the <em>O(NM)</em> complexity of always running all regex on each line.</p>\n\n<hr>\n\n<p>Another way is what you inquire about</p>\n\n<blockquote>\n  <p>I know perl can do block by block</p>\n</blockquote>\n\n<p>what can be done by setting the <a href=\"https://perldoc.perl.org/perlvar.html#$/\" rel=\"nofollow noreferrer\"><code>$/</code> variable</a>.  It sets what is then used as the separator between input records.  If you set it to <code>\\n\\n</code> here you get a block served for each read, in a string</p>\n\n<pre><code>open my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nPROCESS_FILE: { \n    local $/ = \"\\n\\n\";\n    while (my $block = &lt;$fh&gt;) { \n        chomp $block;\n        say \"|$block|\"; \n    }\n};\n</code></pre>\n\n<p>I put this inside a block (named <code>PROCESS_FILE</code> just so) so that we can change <code>$/</code> by using <a href=\"https://perldoc.perl.org/functions/local.html\" rel=\"nofollow noreferrer\">local</a>. Then its previous value is restored as the block is exited and files are again read normally.</p>\n\n<p>However, I don't see a benefit of doing this here since you now have a block in a scalar variable, while what you need to do seems to be line oriented.  So I'd recommend the first approach.</p>\n"}], "owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 55566090, "answer_count": 1, "score": 2, "last_activity_date": 1555007606, "creation_date": 1554654460, "last_edit_date": 1554849041, "question_id": 55561213, "link": "https://stackoverflow.com/questions/55561213/replace-blocks-of-text-with-perl-regex-with-conditional", "title": "Replace blocks of text with perl regex with conditional", "body": "<p>I have a perl script that does some regex replacements on a text file, which I need to modify along the following lines: (a) I need to process the text as blocks of text, and then, depending on the presence/absence of one line different replacements need to be done. (b) I need to add text to the end of each block. \n(this transforms text from a transcription program to LaTeX code)</p>\n\n<p>These are supposed to be two columns:<br>\nTo the left is how the input looks, to the right what it should become: </p>\n\n<pre><code>ORIGINAL INPUT               EXPECTED OUTCOME\n\n# Single line blocks: label to be replaced and \\xe added to en\ntxt@#Name  Text text text    \\ex[exno=\\spkr{Name}] \\txt  Text text text \n                             \\xe\n\nnvb@#Name  Text text text    \\ex[exno=\\spkr{Name}] \\nvb  Text text text \n                             \\xe\n\n# Multi-line blocks: labels to be replaced and \\xe added to end\ntxt@#Name  Text text text    \\ex[exno=\\spkr{Name}] \\txt  Text text text \nfte@#Name  Text text text    \\freetr Text text text\n                             \\xe\n\ntxt@#Name  Text text text    \\ex[exno=\\spkr{Name}] \\txt  Text text text \nSD (0.0)                     \\silence{0.0}\n                             \\xe\n\ntxt@#Name  Text text text    \\ex[exno=\\spkr{Name}] \\txt  Text text text \ntli@#Name  Text text text    \\translit   Text text text\nfte@#Name  Text text text    \\freetr    Text text text\n                             \\xe\n\n# Multi-line block that has the mrb@... line (must start with txt): \ntxt@#Name  Text text text    \\ex[exno=\\spkr{Name}] \\begingl \\glpreamble  Text text text // \nmrb@#Name  Text text text    \\gla Text text text //\ngle@#Name  Text text text    \\glb Text text text //\nfte@#Name  Text text text    \\glft Text text text //\nSD (0.0)                     \\endgl \n                             \\silence{0.0}\n                             \\xe\n# The tricky thing here is that (a) the labels get replaced differently, the txt line gets two commands, \\begingl and \\glpreamble, all lines have to end with  // and they end with \\endgl and \\xe.  In case there is an SD (silence duration) line then that needs to go between the \\endgl and the \\xe. (but not all have the SD). \n\n\n\n</code></pre>\n\n<p>Blocks are separated by an extra blank line. The first line of each block begins with a label <code>txt@...</code>, <code>nvb@...</code> or <code>event</code> and may or may not be followed by subsequent lines starting with different labels.  Each label needs to be replaced with something else, here accomplished through regexes like in the example below (plus some other replacements, this is just minimal for purpose of explanation).  And then I need to mark the end of each block.  </p>\n\n<p>Furthermore, I need to have one conditional somewhere in there: If the block includes a line starting with an mrb@ label (like the sixth block above), different replacement patterns apply. </p>\n\n<p>The following script is what I have, but it processes everything line by line.  I know perl can do block by block, which should then make it possible to do the modifications, but unfortunately my skills are way too rudimentary to figure it out by myself. </p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $fh_in, '&lt;', $ARGV[0] or die \"No input: $!\";\nopen my $fh_out, '&gt;', $ARGV[1] or die \"No output: $!\";\n\nprint $fh_out \"\\\\begin{myenv}\\n\\n\"; # begins group at beginning of file\n\nwhile (&lt;$fh_in&gt;) \n{\n    # general replacements for everything except if block includes a \"mrb@\" line:\n    s/^txt@#(\\S*)\\s+(.*)/\\\\ex[exno=\\\\spkr{$1}] \\\\txt $2 /g; \n    s/^nvb@#(\\S*)\\s+(.*)/\\\\ex[exno=\\\\spkr{$1}] \\\\txt $2 /g;  \n    s/^tli@#\\S*\\s+(.*)/\\\\translit $1 /g; \n    s/^fte@#\\S*\\s+(.*)/\\\\freetr $1 /g; \n    s/^SD\\s*\\((\\d*)\\.(\\d*)\\)/\\\\silence{\\($1\\.$2\\)}/g; \n\n    # after each block I need to add \"\\\\xe\" \n\n    # replacements if block includes a \"mrb@\" line: \n    s/^txt@#(\\S*)\\s+(.*)/\\\\ex[exno=\\\\spkr{$1}] \\\\begingl \\\\glpreamble $2 \\/\\/ /g; \n    s/^mrb@#\\S*\\s+(.*)/\\\\gla $1 \\/\\/ /g; # \n    s/^gle@#\\S*\\s+(.*)/\\\\glb $1 \\/\\/ /g; # \n    s/^fte@#\\S*\\s+(.*)/\\\\glft $1 \\/\\/ /g; # \n    s/^tli@#\\S*\\s+(.*)/\\\\translit $1 \\/\\/ /g; #\n    s/^fte@#\\S*\\s+(.*)/\\\\freetr $1 \\/\\/ /g; # \n    s/^SD\\s*\\((\\d*)\\.(\\d*)\\)/\\\\silence{\\($1\\.$2\\)}/g;\n    # after each block with a \"mrb@\" line I need to add \"\\\\endgl\" and \"\\\\xe\"\n    # if there is a line starting with SD at the end of the block it needs to go between \"\\\\endgl\" and \"\\\\xe\"\n\n\n    print $fh_out $_;    \n} \n\nprint $fh_out \"\\\\end{myenv}\"; # ends group\n</code></pre>\n\n<p>Any help much appreciated!</p>\n"}, {"tags": ["regex", "perl", "search", "replace"], "comments": [{"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 3, "creation_date": 1554652631, "post_id": 55560844, "comment_id": 97821668, "body": "Maybe you can use <code>\\h</code> instead of <code>\\s</code> (see <a href=\"https://stackoverflow.com/questions/3469080/match-whitespace-but-not-newlines\" title=\"match whitespace but not newlines\">stackoverflow.com/questions/3469080/&hellip;</a>)."}, {"owner": {"reputation": 430, "user_id": 4122419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17962324cc5df230cf873c346d583772?s=128&d=identicon&r=PG", "display_name": "ogr", "link": "https://stackoverflow.com/users/4122419/ogr"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1554654436, "post_id": 55560844, "comment_id": 97822234, "body": "Ah, yes, that was that simple, thanks !"}], "answers": [{"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1554657450, "post_id": 55561225, "comment_id": 97823103, "body": "Also, you don&#39;t need to capture the rest of the line: <code>s&#47;^\\h?&#47;+&#47;</code> is enough"}], "tags": [], "owner": {"reputation": 430, "user_id": 4122419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17962324cc5df230cf873c346d583772?s=128&d=identicon&r=PG", "display_name": "ogr", "link": "https://stackoverflow.com/users/4122419/ogr"}, "is_accepted": false, "score": 2, "last_activity_date": 1554654541, "creation_date": 1554654541, "answer_id": 55561225, "question_id": 55560844, "link": "https://stackoverflow.com/questions/55560844/replace-possible-blank-space-at-the-beginning-of-the-line/55561225#55561225", "title": "Replace possible blank space at the beginning of the line", "body": "<p>As pointed out by sticky bit in the comment, I just have to replace \\s by \\h.\nThis is solved !</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1554746675, "last_edit_date": 1554746675, "creation_date": 1554678033, "answer_id": 55564417, "question_id": 55560844, "link": "https://stackoverflow.com/questions/55560844/replace-possible-blank-space-at-the-beginning-of-the-line/55564417#55564417", "title": "Replace possible blank space at the beginning of the line", "body": "<p>You are replacing the line-ending Line Feed. One solution is to remove it before the match and re-add it afterwards. This can be done using <code>-l</code>.</p>\n\n<pre><code>perl -ple's/^\\s?/+/'\n</code></pre>\n\n<p>Alternatively, you could remove the Line Feed from the set of characters you are matching.</p>\n\n<pre><code>perl -pe's/^[^\\S\\n]?/+/'\n</code></pre>\n\n<p>If you're ok with also leaving VT, FF, CR, LINE SEPARATOR and PARAGRAPH SEPARATOR in place, you can shorten the above to the following:</p>\n\n<pre><code>perl -pe's/^\\h?/+/'\n</code></pre>\n"}], "owner": {"reputation": 430, "user_id": 4122419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17962324cc5df230cf873c346d583772?s=128&d=identicon&r=PG", "display_name": "ogr", "link": "https://stackoverflow.com/users/4122419/ogr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1554746675, "creation_date": 1554652151, "question_id": 55560844, "link": "https://stackoverflow.com/questions/55560844/replace-possible-blank-space-at-the-beginning-of-the-line", "title": "Replace possible blank space at the beginning of the line", "body": "<p>So I try to replace blank space at the beginning of the line like so.</p>\n\n<p>Original :</p>\n\n<pre><code>this\n is\n\n\\tsome\n  text\n</code></pre>\n\n<p>What I want :</p>\n\n<pre><code>+this\n+is\n+\n+some\n+ text\n</code></pre>\n\n<p>I tried to use this regex to do that :</p>\n\n<pre><code>echo -e 'this\\n is\\n\\n\\tsome\\n  text' |\nperl -wpe 's/^\\s?(.*)/+$1/'\n</code></pre>\n\n<p>But this is the result for that :</p>\n\n<pre><code>+this\n+is\n++some\n+ text\n</code></pre>\n\n<p>So my line with no text at all is not processed correctly. Or rather, I don't understand why it behaves like that.</p>\n\n<p>Any idea why ?</p>\n\n<p>Thanks !</p>\n"}, {"tags": ["regex", "perl", "latex"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554636955, "post_id": 55555921, "comment_id": 97817378, "body": "Note that this doesn&#39;t handle <code>foo</code> appearing twice in one word."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554677645, "post_id": 55555921, "comment_id": 97828450, "body": "Fixed another bug."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554689438, "post_id": 55555921, "comment_id": 97830279, "body": "@ikegami It doesn&#39;t handle <code>foo</code> twice, indeed, thanks for noting it, and thank you for the space-space fix. (The last one wasn&#39;t a bug -- there&#39;s always been a test for that case, <code>somefoo</code>.  But it&#39;s cleaner this way.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554722824, "post_id": 55555921, "comment_id": 97843345, "body": "You had a test case for &quot;... somefoo&quot; but not for &quot;somefoo&quot;. It didn&#39;t work for the latter"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554743640, "post_id": 55555921, "comment_id": 97855640, "body": "@ikegami Heh, yes, indeed. Thank you again!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1554677561, "last_edit_date": 1554677561, "creation_date": 1554615117, "answer_id": 55555921, "question_id": 55555708, "link": "https://stackoverflow.com/questions/55555708/ignore-latex-macros-when-replacing-characters-with-regex/55555921#55555921", "title": "Ignore latex macros when replacing characters with regex", "body": "<p>Can require that a word with the pattern not begin with <code>\\</code>, using the negated character class</p>\n\n<pre><code>s{(?: ^|\\s ) (?: [^\\\\\\s]\\S* )? \\K foo}{XXX}gx\n</code></pre>\n\n<p>The <code>foo</code> may also come at the beginning of the string, or a word, thus the alternation <code>^|\\s</code> and <code>[^\\\\\\s]\\S*</code> is optional. The <code>\\</code> need be escaped in the character class or it would itself escape the <code>]</code>.</p>\n\n<p>The <code>\\K</code> drops all matches up to that point, so we don't have to capture them and put them back.</p>\n\n<p>The negative lookbehind doesn't allow variable-length patterns, what is a problem here. </p>\n\n<p>Test, with an addition to your test string</p>\n\n<pre><code>perl -wE'$_=q(foo bar somefoo \\bazfoo \\barfoo foo bar \\foobar); say; \n    s{(?: ^|\\s ) (?: [^\\\\\\s]\\S* )? \\K foo}{XXX}gx; say'\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>foo bar somefoo \\bazfoo \\barfoo foo bar \\foobar\nXXX bar someXXX \\bazfoo \\barfoo XXX bar \\foobar\n</code></pre>\n\n<p>Note that your test string doesn't include the case when <code>foo</code> is inside of a word but still need be replaced, like <code>somefoo</code>.  I added it above</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1554636539, "post_id": 55555958, "comment_id": 97817254, "body": "That becomes much simpler in 5.14 with the addition of <code>&#47;r</code>: <code>s{(\\S+)}{ $1 =~ &#47;^\\\\&#47; ? $1 : $1 =~ s&#47;foo&#47;bar&#47;gr }eg</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1554689805, "post_id": 55555958, "comment_id": 97830335, "body": "Nothing wrong with <code>&#47;e</code> flag when it&#39;s needed. (The efficiency takes a hit since the regex engine is started once or twice more but that most often does not matter, and it does simplify the regex.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554722949, "post_id": 55555958, "comment_id": 97843429, "body": "Yeah, no problem with /e. s/foo/bar/ is semantically the same as s/foo/&quot;bar&quot;/e and I would guess them to be equally fast."}, {"owner": {"reputation": 21, "user_id": 11323362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169a8064d6e7e367f5186d3d8903aff5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/11323362/alex"}, "edited": false, "score": 1, "creation_date": 1554886076, "post_id": 55555958, "comment_id": 97911265, "body": "This solution won&#39;t find {\\foo}, which is valid LaTeX syntax."}, {"owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "reply_to_user": {"reputation": 21, "user_id": 11323362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169a8064d6e7e367f5186d3d8903aff5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/11323362/alex"}, "edited": false, "score": 0, "creation_date": 1554964146, "post_id": 55555958, "comment_id": 97944034, "body": "Thanks for pointing that out, @Alex. I never used LaTeX and thus was just writing my RE for the question asked. I think it wouldn&#39;t be an issue to change the if-statement to <code>if ($word!~m#^\\\\|^\\{\\\\.*\\}$#)</code>"}], "tags": [], "owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "is_accepted": false, "score": 2, "last_activity_date": 1554964364, "last_edit_date": 1554964364, "creation_date": 1554615584, "answer_id": 55555958, "question_id": 55555708, "link": "https://stackoverflow.com/questions/55555708/ignore-latex-macros-when-replacing-characters-with-regex/55555958#55555958", "title": "Ignore latex macros when replacing characters with regex", "body": "<p>While there is already a fascinating solution by zdim, I still want to share my version.</p>\n\n<p>I also had issues because of the variable length lookbehind.</p>\n\n<p>So my solution is to \"tokenize\" the string meaning: Pick out each \"word\" and replace only in those which are not starting with \\.</p>\n\n<pre><code>perl -e '\n  $_=q(foo bar baz \\bazfoo \\barfoo foo bar \\foobar);\n  s/(\\S+)/                  # pick the word\n    $word=$1;               # save it\n    if ($word!~m#^\\\\#) {    # test for LaTeX\n      $word=~s#foo#bar#g;   # otherwise replace\n    }\n    $word                   # the result\n  /gex;                     # globally, execute and eXtended for comments\n  print $_;\n'\n</code></pre>\n\n<p>Unfortunately this requires the \"e\"(-xecute) flag to be used.</p>\n\n<p><strong>Update:</strong> According to @Alex (see comment below) \u00bbThis solution won't find {\\foo}, which is valid LaTeX syntax.\u00ab.</p>\n\n<p>So if required change the if-statement line above to <code>if ($word!~m#^\\\\|^\\{\\\\.*\\}$#) {</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1554723159, "last_edit_date": 1554723159, "creation_date": 1554636605, "answer_id": 55558527, "question_id": 55555708, "link": "https://stackoverflow.com/questions/55555708/ignore-latex-macros-when-replacing-characters-with-regex/55558527#55558527", "title": "Ignore latex macros when replacing characters with regex", "body": "<p>If you just need to handle one <code>foo</code> per word:</p>\n\n<pre><code>s/ (?: ^ | \\s++ ) (?: [^\\\\\\s]\\S* )? \\K foo /bar/gx\n</code></pre>\n\n<p>If you just need to handle multiple <code>foo</code> per word:</p>\n\n<pre><code>s{ (?: ^ | \\s++ ) \\K ( [^\\\\\\s]\\S* ) }{ $1 =~ s/foo/bar/rg }egx\n</code></pre>\n\n<p>These are fixed and optimized versions of the solutions in the earlier answers. (Fixes but not optimisations also made to the earlier answers.)</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1554905251, "creation_date": 1554905251, "answer_id": 55614632, "question_id": 55555708, "link": "https://stackoverflow.com/questions/55555708/ignore-latex-macros-when-replacing-characters-with-regex/55614632#55614632", "title": "Ignore latex macros when replacing characters with regex", "body": "<p>if we're sure any Latex token character will never be word char. and your data in 'd', simply:</p>\n\n<pre><code>sed -E 's/(^|\\s)(\\w*)foo/\\1\\2bar/g' d\nperl -pe 's/(^|\\s)(?:\\w*)foo/$1bar/g' d\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11323362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169a8064d6e7e367f5186d3d8903aff5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/11323362/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1554964364, "creation_date": 1554612522, "question_id": 55555708, "link": "https://stackoverflow.com/questions/55555708/ignore-latex-macros-when-replacing-characters-with-regex", "title": "Ignore latex macros when replacing characters with regex", "body": "<p>I have a file that I need to convert out of a custom codepage.  The file has things like this:</p>\n\n<pre><code>foo bar baz \\bazfoo \\barfoo foo bar \\foobar\n</code></pre>\n\n<p>I want to replace foo with bar, except when foo occurs as part of a LaTeX macro, such as \\bazfoo, \\barfoo, and \\foobar</p>\n\n<p>In other words, <code>s/foo/bar/</code>, but  \\bazfoo must remain \\bazfoo. Is there a way to do this using lookead operators?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 1189, "user_id": 1477044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8OHk5.jpg?s=128&g=1", "display_name": "dpkp", "link": "https://stackoverflow.com/users/1477044/dpkp"}, "is_accepted": true, "score": 6, "last_activity_date": 1554574892, "creation_date": 1554574892, "answer_id": 55552131, "question_id": 55551986, "link": "https://stackoverflow.com/questions/55551986/not-an-array-reference-in-perl/55552131#55552131", "title": "&quot;Not an ARRAY reference&quot; in Perl", "body": "<p>The problem you have is this is not correct: <code>'\\{ @array } returns the reference to the @array'</code> . Instead, the <code>\\</code> is simply prepended to an existing variable, like this: <code>\\@array</code>. Braces <code>{}</code> are used to create anonymous <em>hash</em> references, and brackets <code>[]</code> are used to create anonymous <em>array</em> references.</p>\n\n<p>In your example, what you want to do is either (1) store the keys as an array and then use <code>\\</code> to get a reference:</p>\n\n<pre><code>my @keys = keys %$hash;\nmy $keys = \\@keys;\n</code></pre>\n\n<p>Or (2) use an anonymous array reference:</p>\n\n<pre><code>my $keys = [ keys %$hash ];\n</code></pre>\n\n<p>Here's a good \"reference\" ;) <a href=\"https://perldoc.perl.org/perlref.html#Making-References\" rel=\"noreferrer\">https://perldoc.perl.org/perlref.html#Making-References</a></p>\n"}], "owner": {"reputation": 23, "user_id": 6256135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7209aae35ff7353b3342e2604c8b4e1e?s=128&d=identicon&r=PG&f=1", "display_name": "tori", "link": "https://stackoverflow.com/users/6256135/tori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "accepted_answer_id": 55552131, "answer_count": 1, "score": 2, "last_activity_date": 1554574892, "creation_date": 1554574078, "question_id": 55551986, "link": "https://stackoverflow.com/questions/55551986/not-an-array-reference-in-perl", "title": "&quot;Not an ARRAY reference&quot; in Perl", "body": "<p>I'm new to Perl and trying to get used to data structures and references in Perl.</p>\n\n<p>I learned</p>\n\n<ul>\n<li><code>key %hash</code> returns an array of the keys in <code>%hash</code></li>\n<li><code>\\{ @array }</code> returns the reference to the <code>@array</code></li>\n</ul>\n\n<p>So I combined these two and wrote something like this,</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $hash = {\n    key1 =&gt; 'value1',\n    key2 =&gt; 'value2'\n};\n\nmy $keys = \\{ keys %$hash }; # Supposed to be an array reference?\n\nprint Dumper $keys; # Output 1\nprint Dumper $keys-&gt;[0]; # Output 2\n</code></pre>\n\n<p>which yielded the error <code>Not an ARRAY reference</code> at the line of <code>Output 2</code>. Also, <code>Output 1</code> shows something that looks like a hash reference though it's supposed to be an array reference. </p>\n\n<p>What's wrong with my code?</p>\n\n<p>Similarly, the following code didn't work with the same error.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nmy $array = [1, 2, 3, 4, 5];\nmy $first_two = \\{ @{ $array }[0..1] }; # Isn't it an array ref?\nmy $first = $first_two-&gt;[0];\n</code></pre>\n\n<p>I guess I misunderstand something about array references.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1554509929, "post_id": 55544660, "comment_id": 97792531, "body": "The first one will raise errors because it violates <code>strict</code> requirements. What does the second one do after you fix the errors in it?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1554509993, "post_id": 55544660, "comment_id": 97792543, "body": "Also, <code>Getopt::Long</code> is preferrable. Much more user friendly and plays better with strict."}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1554510251, "post_id": 55544660, "comment_id": 97792576, "body": "@Shawn Can you please give me a solution? I have been working on this simple problem for 1 day and I could not figure it out"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554510632, "post_id": 55544660, "comment_id": 97792614, "body": "<code>say substr($_, 0, $desired_length, &quot;&quot;) while length($_);</code>"}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554510757, "post_id": 55544660, "comment_id": 97792634, "body": "@ikegami do you think the rest of the code is okay ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554510993, "post_id": 55544660, "comment_id": 97792665, "body": "Is there a problem, or are you looking for a code review? There&#39;s a separate site for the latter."}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554511192, "post_id": 55544660, "comment_id": 97792686, "body": "@ikegami I basically cannot get this to run! which website should I ask question ?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1554511441, "post_id": 55544660, "comment_id": 97792720, "body": "You haven&#39;t said what your actual problem is yet. Errors? Not the expected output (if so, what <i>are</i> you getting?), etc"}], "answers": [{"comments": [{"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554513964, "post_id": 55544982, "comment_id": 97792997, "body": "I get this error <code>perl second_split.pl data.txt 10 Global symbol &quot;$i&quot; requires explicit package name at second_split.pl line 10. Execution of second_split.pl aborted due to compilation errors.</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554516795, "post_id": 55544982, "comment_id": 97793295, "body": "Surely you&#39;ve seen that error before and know what it means. Or googled it. We&#39;ll help you, but you gotta start putting in some effort!"}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554516994, "post_id": 55544982, "comment_id": 97793309, "body": "since you posted your answer, I tried to find the problem and solve it myself. for example here <a href=\"https://stackoverflow.com/questions/26226034/perl-global-symbol-requires-explicit-package-name-error\" title=\"perl global symbol requires explicit package name error\">stackoverflow.com/questions/26226034/&hellip;</a> but I don&#39;t see any error with () which I should change to {} and the <code>I</code> is out of <code>while</code> loop <a href=\"https://stackoverflow.com/questions/23854436/global-symbol-i-requires-explicit-package-name\" title=\"global symbol i requires explicit package name\">stackoverflow.com/questions/23854436/&hellip;</a>"}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554517982, "post_id": 55544982, "comment_id": 97793408, "body": "I am having some issues, I will try to solve it and if it works then I accept and like your answer , I run your code like this <code>perl second_split.pl data.txt -I 10</code> but I get error. Thanks for all your help"}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554518547, "post_id": 55544982, "comment_id": 97793464, "body": "I accept it , my own code print the line that starts with <code>&gt;</code> but yours discard that, is there a possibility to add that also ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554518758, "post_id": 55544982, "comment_id": 97793488, "body": "Oops, I accidentally deleted the <code>print</code> from my second solution."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1554610003, "last_edit_date": 1554610003, "creation_date": 1554512660, "answer_id": 55544982, "question_id": 55544660, "link": "https://stackoverflow.com/questions/55544660/how-can-i-pass-a-value-through-command-line/55544982#55544982", "title": "how can I pass a value through command line", "body": "<ul>\n<li>You're missing a couple of semi-colons.</li>\n<li>You didn't ensure that <code>-i</code> was provided or provide a default for when it wasn't.</li>\n<li>You didn't tell <code>getopts</code> that the <code>-i</code> option expected a parameter.</li>\n<li>You didn't validate the provided length.</li>\n<li>You were incrementing <code>$i</code> by <code>1</code> instead of the by how much you already printed.</li>\n<li>You were cutting off the end of every sequence unless they happened to be an exact multiple of the specified length. This could lead to entire sequences being lost if they were short enough.</li>\n<li><code>-i</code> is a weird choice for a <em>length</em>, but maybe you're trying to be consistent with another tool?</li>\n<li>You were chomping lines that start with <code>^</code> only to add the line feed right back.</li>\n</ul>\n\n<p>Fixed:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw( say );\n\nuse Getopt::Std;\n\nour $opt_i;\ngetopts('i:');\ndie(\"Illegal value for -i\\n\") if defined($opt_i) &amp;&amp; $opt_i !~ /^[1-9][0-9]*\\z/;\n\nmy $max_len = $opt_i // 70;\n\nwhile (&lt;&gt;) {\n    if (/^&gt;/) {\n        print;\n    } else {\n        chomp;\n        while (length($_)) {\n           say substr($_, 0, $max_len, \"\");\n        }\n    }\n}\n</code></pre>\n\n<p>Of course, if the sequences in the file were previously wrapped to a line length shorter than the specified length, the above program doesn't extend them to the desired length.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw( say );\n\nuse Getopt::Std;\n\nour $opt_i;\ngetopts('i:');\ndie(\"Illegal value for -i\\n\") if defined($opt_i) &amp;&amp; $opt_i !~ /^[1-9][0-9]*\\z/;\n\nmy $desired_len = $opt_i // 70;\n\nmy $seq;\nwhile (1) {\n   my $line = &lt;&gt;;\n   if (!defined($line) || $line =~ /^&gt;/) {\n      while (length($seq)) {\n         say substr($seq, 0, $desired_len, \"\");\n      }\n\n      last if !defined($line);\n\n      print($line);\n      $seq = \"\";\n   } else {\n      chomp($line);\n      $seq .= $line;\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1555129521, "last_edit_date": 1555129521, "creation_date": 1555118368, "answer_id": 55661197, "question_id": 55544660, "link": "https://stackoverflow.com/questions/55544660/how-can-i-pass-a-value-through-command-line/55661197#55661197", "title": "how can I pass a value through command line", "body": "<p>if your data in 'd' file;</p>\n\n<pre><code>perl -ne 'if(/^&gt;s.+\\n/) {chomp; $_.=\"\\n\".&lt;&gt;; /^(&gt;s.+\\n)(\\w+\\n)/; print \"\\n$1\"; print substr $2,$_ for 0..9}' d\n</code></pre>\n"}], "owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 55544982, "answer_count": 2, "score": -1, "last_activity_date": 1555129521, "creation_date": 1554508689, "question_id": 55544660, "link": "https://stackoverflow.com/questions/55544660/how-can-i-pass-a-value-through-command-line", "title": "how can I pass a value through command line", "body": "<p>I have a data saved in .txt like the following </p>\n\n<pre><code>&gt;sp|Q96A73|P33MX_HUMAN Putative monooxygenase p33MONOX OS=Homo sapiens OX=9606 GN=KIAA1191 PE=1 SV=1\nRNDDDDTSVCLGTRQCSWFAGCTNRTWNSSAVPLIGLPNTQDYKWVDRNSGLTWSGNDTCLYSCQNQTKGLLYQLFRNLFCSYGLTEAHGKWRCADASITNDKGHDGHRTPTWWLTGSNLTLSVNNSGLFFLCGNGVYKGFPPKWSGRCGLGYLVPSLTRYLTLNASQITNLRSFIHKVTPHR\n&gt;sp|P13674|P4HA1_HUMAN Prolyl 4-hydroxylase subunit alpha-1 OS=Homo sapiens OX=9606 GN=P4HA1 PE=1 SV=2\nVECCPNCRGTGMQIRIHQIGPGMVQQIQSVCMECQGHGERISPKDRCKSCNGRKIVREKKILEVHIDKGMKDGQKITFHGEGDQEPGLEPGDIIIVLDQKDHAVFTRRGEDLFMCMDIQLVEALCGFQKPISTLDNRTIVITSHPGQIVKHGDIKCVLNEGMPIYRRPYEKGRLIIEFKVNFPENGFLSPDKLSLLEKLLPERKEVEE\n&gt;sp|Q7Z4N8|P4HA3_HUMAN Prolyl 4-hydroxylase subunit alpha-3 OS=Homo sapiens OX=9606 GN=P4HA3 PE=1 SV=1\nMTEQMTLRGTLKGHNGWVTQIATTPQFPDMILSASRDKTIIMWKLTRDETNYGIPQRALRGHSHFVSDVVISSDGQFALSGSWDGTLRLWDLTTGTTTRRFVGHTKDVLSVAFSSDNRQIVSGSRDKTIKLWNTLGVCKYTVQDESHSEWVSCVRFSPNSSNPIIVSCGWDKLVKVWNLANCKLK\n&gt;sp|P04637|P53_HUMAN Cellular tumor antigen p53 OS=Homo sapiens OX=9606 GN=TP53 PE=1 SV=4\nIQVVSRCRLRHTEVLPAEEENDSLGADGTHGAGAMESAAGVLIKLFCVHTKALQDVQIRFQPQL\n&gt;sp|P10144|GRAB_HUMAN Granzyme B OS=Homo sapiens OX=9606 GN=GZMB PE=1 SV=2\nMQPILLLLAFLLLPRADAGEIIGGHEAKPHSRPYMAYLMIWDQKSLKRCGGFLIRDDFVLTAAHCWGSSINVTLGAHNIKEQEPTQQFIPVKRPIPHPAYNPKNFSNDIMLLQLERKAKRTRAVQPLRLPSNKAQVKPGQTCSVAGWGQTAPLGKHSHTLQEVKMTVQEDRKCES\n&gt;sp|Q9UHX1|PUF60_HUMAN Poly(U)-binding-splicing factor PUF60 OS=Homo sapiens OX=9606 GN=PUF60 PE=1 SV=1\nMGKDYYQTLGLARGASDEEIKRAYRRQALRYHPDKNKEPGAEEKFKEIAEAYDVLSDPRKREIFDRYGEEGLKGSGPSGGSGGGANGTSFSYTFHGDPHAMFAEFFGGRNPFDTFFGQRNGEEGMDIDDPFSGFPMGMGGFTNVNFGRSRSAQEPARKKQDPPVTHDLRVSLEEIYSGCTKKMKISHK\n&gt;sp|Q06416|P5F1B_HUMAN Putative POU domain, class 5, transcription factor 1B OS=Homo sapiens OX=9606 GN=POU5F1B PE=5 SV=2\nIVVKGHSTCLSEGALSPDGTVLATASHDGYVKFWQIYIEGQDEPRCLHEWKPHDGRPLSCLLFCDNHKKQDPDVPFWRFLITGADQNRELKMWCTVSWTCLQTIRFSPDIFSSVSVPPSLKVCLDLSAEYLILSDVQRKVLYVMELLQNQEEGHACFSSISEFLLTHPVLSFGIQVVSRCRLRHTEVLPAEEENDSLGADGTHGAGAMESAAGVLIKLFCVHTKALQDVQIRFQPQLNPDVVAPLPTHTAHEDFTFGESRPELGSEGLGSAAHGSQPDLRRIVELPAPADFLSLSSETKPKLMTPDAFMTPSASLQQITASPSSSSSGSSSSSSSSSSSLTAVSAMSSTSAVDPSLTRPPEELTLSPKLQLDGSLTMSSSGSLQASPRGLLPGLLPAPADKLTPKGPGQVPTATSALSLELQEVEP\n&gt;sp|O14683|P5I11_HUMAN Tumor protein p53-inducible protein 11 OS=Homo sapiens OX=9606 GN=TP53I11 PE=1 SV=2\nMIHNYMEHLERTKLHQLSGSDQLESTAHSRIRKERPISLGIFPLPAGDGLLTPDAQKGGETPGSEQWKFQELSQPRSHTSLKVSNSPEPQKAVEQEDELSDVSQGGSKATTPASTANSDVATIPTDTPLKEENEGFVKVTDAPNKSEISKHIEVQVAQETRNVSTGSAENEEKSEVQAIIESTPELDMDKDLSGYKGSSTPTKGIENKAFDRNTESLFEELSSAGSGLIGDVDEGADLLGMGREVENLILENTQLLETKNALNIVKNDLIAKVDELTCEKDVLQGELEAVKQAKLKLEEKNRELEEELRKARAEAEDARQKAKDDDDSDIPTAQRKRFTRVEMARVLMERNQYKERLMELQEAVRWTEMIRASRENPAMQEKKRSSIWQFFSRLFSSSSNTTKKPEPPVNLKYNAPTSHVTPSVK\n</code></pre>\n\n<p>I am trying to split each section to as many possible 10 regions as I can.</p>\n\n<p>for example the rows that starts with > remain the same. it becomes like  this </p>\n\n<pre><code>&gt;sp|Q96A73|P33MX_HUMAN Putative monooxygenase p33MONOX OS=Homo sapiens OX=9606 GN=KIAA1191 PE=1 SV=1\nRNDDDDTSVC\nNDDDDTSVCL\nDDDDTSVCLG\nDDDTSVCLGT\n.\n.\n.\n.\n</code></pre>\n\n<p>So I can easily split the data to as many e.g. 10 section as I want using the following. However, I don't want to set the number of letters that I want to split inside the algorithm. I want to be able to choice whatever number I want. I am trying to use <strong>Getopt::Std</strong> Can anyone help me find a way to do that ?</p>\n\n<p>For example, I want to run the code like this </p>\n\n<p>perl script.pl data.txt 10 </p>\n\n<pre><code>use warnings;\nuse strict;\nuse Getopt::Std\n\nunless (defined $DESIRED_LENGTH and $DESIRED_LENGTH =~ /^[0-9]+$/) {\nmy $DESIRED_LENGTH ;\nwhile (&lt;&gt;) {\n    chomp; # remove trailing newline\n    if (m/^&gt;/) {          # if line starts with '&gt;'\n        print \"$_\\n\";     # just print it\n    } else {\n        my $i = 0;\n        while ($i + $DESIRED_LENGTH &lt;= length($_)) {\n            print substr($_, $i, $DESIRED_LENGTH);\n            print \"\\n\";\n            $i++;\n        }\n    }\n}\n}\n</code></pre>\n\n<p>Or I also tried this </p>\n\n<pre><code>use warnings;\nuse strict;\nuse Getopt::Std\n\ngetopts('i');\nour($opt_i)\nmy $DESIRED_LENGTH = $opt_i;\nwhile (&lt;&gt;) {\n    chomp; # remove trailing newline\n    if (m/^&gt;/) {          # if line starts with '&gt;'\n        print \"$_\\n\";     # just print it\n    } else {\n        my $i = 0;\n        while ($i + $DESIRED_LENGTH &lt;= length($_)) {\n            print substr($_, $i, $DESIRED_LENGTH);\n            print \"\\n\";\n            $i++;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "gmp", "pi"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554502989, "post_id": 55543335, "comment_id": 97791271, "body": "How did you install <code>GMP::Mpf</code>? I could not find it on metacpan."}, {"owner": {"reputation": 73, "user_id": 8824214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45321c4b9a3b8d755482ef0322b07958?s=128&d=identicon&r=PG&f=1", "display_name": "K.Minoda", "link": "https://stackoverflow.com/users/8824214/k-minoda"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1554504465, "post_id": 55543335, "comment_id": 97791582, "body": "I installed it from gmp-6.1.2.tar.lz on gmplib.org. After building GMP itself and moving ./demos directry, I installed GMP.pm, GMP/Mpf.pm etc."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554505583, "post_id": 55543335, "comment_id": 97791796, "body": "I was able to install <code>GMP::Mpf</code> from <code>gmp-6.1.2.tar.lz</code>, Ubuntu 18.10, perl 5.29.3. On my system there seems to be a problem with the <code>arctan</code> function. For example <code>say arctan(1.1)</code> freezes until I press CTRL-C."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554506234, "post_id": 55543335, "comment_id": 97791928, "body": "Changing <code>$n</code> from 100_000 to 1000 it computes <code>atan(1.1)</code> in 1.3 seconds, for <code>$n = 2000</code> it takes 3.14 seconds. So it seems it is working only taking a long time to complete"}, {"owner": {"reputation": 73, "user_id": 8824214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45321c4b9a3b8d755482ef0322b07958?s=128&d=identicon&r=PG&f=1", "display_name": "K.Minoda", "link": "https://stackoverflow.com/users/8824214/k-minoda"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554508019, "post_id": 55543335, "comment_id": 97792238, "body": "$n is number of counts for &quot;for&quot; loop in arctan functioin. Does this relate to the segmentation fault ? All right, I confirmed segmentation fault did not occurred after $n was decreased. Thank you."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554508101, "post_id": 55543335, "comment_id": 97792259, "body": "Running out of memory or stack? Run it under <code>gdb</code>"}, {"owner": {"reputation": 73, "user_id": 8824214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45321c4b9a3b8d755482ef0322b07958?s=128&d=identicon&r=PG&f=1", "display_name": "K.Minoda", "link": "https://stackoverflow.com/users/8824214/k-minoda"}, "edited": false, "score": 0, "creation_date": 1554508449, "post_id": 55543335, "comment_id": 97792316, "body": "I also think there is a possibility that lack of memory happened... This machine has 1024MB RAM..."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1554513068, "post_id": 55543335, "comment_id": 97792913, "body": "where did you get that formula for pi?  note that your 1/5 and 1/239 will be imprecise (unless GMP::Mpf is using some very deep magic indeed) since it it calculated using perl&#39;s normal floating point, not GMP."}, {"owner": {"reputation": 73, "user_id": 8824214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45321c4b9a3b8d755482ef0322b07958?s=128&d=identicon&r=PG&f=1", "display_name": "K.Minoda", "link": "https://stackoverflow.com/users/8824214/k-minoda"}, "edited": false, "score": 0, "creation_date": 1554519546, "post_id": 55543335, "comment_id": 97793569, "body": "I&#39;m using Machin&#39;s formula."}, {"owner": {"reputation": 73, "user_id": 8824214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45321c4b9a3b8d755482ef0322b07958?s=128&d=identicon&r=PG&f=1", "display_name": "K.Minoda", "link": "https://stackoverflow.com/users/8824214/k-minoda"}, "edited": false, "score": 0, "creation_date": 1555702004, "post_id": 55543335, "comment_id": 98207972, "body": "This issue was resolved after &quot;print&quot; was replaced with &quot;GMP::printf&quot; when $pi was output to STDOUT. Thank you everyone."}], "owner": {"reputation": 73, "user_id": 8824214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45321c4b9a3b8d755482ef0322b07958?s=128&d=identicon&r=PG&f=1", "display_name": "K.Minoda", "link": "https://stackoverflow.com/users/8824214/k-minoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554502053, "creation_date": 1554498269, "question_id": 55543335, "link": "https://stackoverflow.com/questions/55543335/segmentation-fault-occurred-during-calculating-pi-using-gmp-on-perl", "title": "Segmentation fault occurred during calculating pi using GMP on Perl", "body": "<p>I'm trying to calculate pi using GMP on Perl, however my code ended with segmentation fault. As to why it ended with segmentation fault I'd like to know.</p>\n\n<p>I tried to isolate the cause. It appears the segmentation fault occurred when a result of the calculation for pi was output. Concrete code is below.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse GMP::Mpf qw(:all);\n\nmy $n = 100000;\nmy $i = 1000000;\nmy $cnv = sub{return mpf(shift, $i);};\n\nmy $pi = $cnv-&gt;(4.0) * ($cnv-&gt;(4.0) * arctan($cnv-&gt;(1/5)) - arctan($cnv-&gt;(1/239)));\n\nprint $pi . \"\\n\";\n\nsub arctan{\n        my $x = $cnv-&gt;(shift);\n        my $at = 0;\n        $at += (($_-1)%2==0?1:-1)*($cnv-&gt;(1.0)/$cnv-&gt;(2*$_ - 1))*$x**(2*$_-1) for (1 .. $n);\n        return $at;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1554500728, "post_id": 55542433, "comment_id": 97790598, "body": "The closest thing to a CSV standard (rfc4180) says to use CRLF line endings, btw, even on non Windows OSes. Using an actual CSV parser like <a href=\"https://metacpan.org/pod/Text::CSV_XS\" rel=\"nofollow noreferrer\">Text::CSV_XS</a> addresses this and many other potential issues and is the best approach for any non-trivial data."}], "answers": [{"tags": [], "owner": {"reputation": 1334, "user_id": 969968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5821e6e6e5740184c507fa045e963f0?s=128&d=identicon&r=PG&f=1", "display_name": "DannyK", "link": "https://stackoverflow.com/users/969968/dannyk"}, "is_accepted": true, "score": 2, "last_activity_date": 1554494343, "creation_date": 1554494343, "answer_id": 55542570, "question_id": 55542433, "link": "https://stackoverflow.com/questions/55542433/reading-csv-with-perl-produces-distorted-lines/55542570#55542570", "title": "Reading CSV with Perl produces distorted lines", "body": "<p>I ran your snippet against your line and it worked as expected\nBut I have had behavior like what you show because a spurious Control-M's in my data.</p>\n\n<p>Try filtering for control-M's \nafter your chomp replace all control-M's with the command below</p>\n\n<pre><code>s/\\cM//g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1554494774, "post_id": 55542587, "comment_id": 97788536, "body": "your solution works as well. I have two answers that work, but I can&#39;t accept both :("}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 5, "last_activity_date": 1554494408, "creation_date": 1554494408, "answer_id": 55542587, "question_id": 55542433, "link": "https://stackoverflow.com/questions/55542433/reading-csv-with-perl-produces-distorted-lines/55542587#55542587", "title": "Reading CSV with Perl produces distorted lines", "body": "<pre><code>while (&lt;$csv&gt;) {\n    ...\n    chomp;\n</code></pre>\n\n<p>My guess is that the input file has as line end <code>\\r\\n</code> (windows style) while you are executing the code in a UNIX like environment (Linux, Mac...) where the line end is <code>\\n</code>. This means that <code>$INPUT_RECORD_SEPARATOR</code> is also <code>\\n</code> and that <code>chomp</code> only removes the <code>\\n</code> and leaves the <code>\\r</code>. This left <code>\\r</code> causes such strange output.</p>\n\n<p>To fix this either fix the line endings in your input file, set <code>$INPUT_RECORD_SEPARATOR</code> to the expected separator or just do <code>s{\\r?\\n\\z}{}</code> instead of <code>chomp</code> to handle both <code>\\r\\n</code> and <code>\\n</code> line endings.</p>\n"}], "owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 55542570, "answer_count": 2, "score": 0, "last_activity_date": 1554494408, "creation_date": 1554493645, "question_id": 55542433, "link": "https://stackoverflow.com/questions/55542433/reading-csv-with-perl-produces-distorted-lines", "title": "Reading CSV with Perl produces distorted lines", "body": "<p>I am reading a CSV file using Perl 5.26.1 with lines that look like this:</p>\n\n<blockquote>\n  <p>B1_10,202337840166,R08C02,202337840166_R08C02.gtc</p>\n</blockquote>\n\n<p>I'm reading this data into a hash that has the last element as a key, and the first as a value.</p>\n\n<p>I read the file line by line (snippet only):</p>\n\n<pre><code>while (&lt;$csv&gt;) {\n    if (/^Sample/) { next }\n    say \"-----start----\\noriginal = $_\";\n    chomp;\n    my @line = split /,/;\n    my $name = $line[0];\n    my $vcf  = $line[3];\n    say \"1st element = $name\";\n    say \"4th element = $vcf\";\n    $vcf2dir{$vcf} = $name;\n    say \"\\$vcf2dir{$vcf} = '$name'\";\n    say '-----end------';\n}\n</code></pre>\n\n<p>which produces the following output:</p>\n\n<pre><code>-----start----\noriginal = B1_10,202337840166,R08C02,202337840166_R08C02.gtc\n\n1st element = B1_10\n4th element = 202337840166_R08C02.gtc\n} = 'B1_10'2337840166_R08C02.gtc\n-----end-------\n</code></pre>\n\n<p>but it should look like</p>\n\n<pre><code>-----start----\noriginal = B1_10,202337840166,R08C02,202337840166_R08C02.gtc\n\n1st element = B1_10\n4th element = 202337840166_R08C02.gtc\n$vcf2dir{202337840166_R08C02.gtc} = 'B1_10'\n-----end-------\n</code></pre>\n\n<p>and it shows strangely with the data printer package:</p>\n\n<pre><code>use DDP;\np %vcf2dir;\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>{\n'   \"B1_10\"840166_R08C02.gtc\n}\n</code></pre>\n\n<p>in other words, the last string is being cut up for some reason.\nI have tried removing non-ascii characters with <code>$_ =~ s/[[:^ascii:]]//g;</code> but this still produces the same error.</p>\n\n<p>I have no idea why Perl is ripping these strings apart :(</p>\n"}, {"tags": ["perl", "http"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1554490363, "post_id": 55541711, "comment_id": 97786664, "body": "Because that&#39;s how HTTP headers work? You need a double newline in between the headers and the content."}, {"owner": {"reputation": 1575, "user_id": 1593297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zsi4O.jpg?s=128&g=1", "display_name": "Beta Carotin", "link": "https://stackoverflow.com/users/1593297/beta-carotin"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1554491054, "post_id": 55541711, "comment_id": 97786964, "body": "@AKHolland That is what I am doing. Please read the question again carefully."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1554492443, "post_id": 55541711, "comment_id": 97787565, "body": "Then why are you sending the double newline after the first header?"}, {"owner": {"reputation": 1575, "user_id": 1593297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zsi4O.jpg?s=128&g=1", "display_name": "Beta Carotin", "link": "https://stackoverflow.com/users/1593297/beta-carotin"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1554492924, "post_id": 55541711, "comment_id": 97787759, "body": "@AKHolland I am not. I am sending a single newline after the first header (A) and a double newline after the second header (B)."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1554493907, "post_id": 55541711, "comment_id": 97788171, "body": "Note that HTTP headers are supposed to be terminated/separated by a network newline, which unless you&#39;re on Windows where <code>\\n</code> happens to be translated to a network newline by default handle layers, would be printed as <code>&quot;\\r\\n&quot;</code>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1554494025, "post_id": 55541711, "comment_id": 97788222, "body": "Look at the <a href=\"https://metacpan.org/release/CGI/source/lib/CGI.pm#L182-195\" rel=\"nofollow noreferrer\">hack that CGI.pm has to do</a> for example."}, {"owner": {"reputation": 1575, "user_id": 1593297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zsi4O.jpg?s=128&g=1", "display_name": "Beta Carotin", "link": "https://stackoverflow.com/users/1593297/beta-carotin"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1554495352, "post_id": 55541711, "comment_id": 97788744, "body": "@Grinnz In this case, I know that <code>\\n</code> works, since <code>print &quot;A\\nB\\n\\n&quot;;</code> adds both HTTP header <code>A</code> and <code>B</code> as expected."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1554540896, "post_id": 55541711, "comment_id": 97796892, "body": "@Grinnz, Apache accepts LF from CGI scripts. It forms a correct HTTP response from these. As for the hack, I doubt the OP is using VMS or an EBCDIC machine"}], "answers": [{"comments": [{"owner": {"reputation": 1575, "user_id": 1593297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zsi4O.jpg?s=128&g=1", "display_name": "Beta Carotin", "link": "https://stackoverflow.com/users/1593297/beta-carotin"}, "edited": false, "score": 0, "creation_date": 1554526728, "post_id": 55543969, "comment_id": 97794398, "body": "This is already what I am doing. The question is why it matters whether the header output is split over multiple print statements."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 1575, "user_id": 1593297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zsi4O.jpg?s=128&g=1", "display_name": "Beta Carotin", "link": "https://stackoverflow.com/users/1593297/beta-carotin"}, "edited": false, "score": 1, "creation_date": 1554529086, "post_id": 55543969, "comment_id": 97794728, "body": "As I said, post a small demonstration program so we can see what you are actually doing."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1554502121, "creation_date": 1554502121, "answer_id": 55543969, "question_id": 55541711, "link": "https://stackoverflow.com/questions/55541711/printing-multiple-http-headers-in-perl/55543969#55543969", "title": "printing multiple HTTP headers in Perl", "body": "<p>You're actually outputting <a href=\"https://tools.ietf.org/html/rfc3875\" rel=\"nofollow noreferrer\">CGI headers</a>, which the server then translates into response headers with the correct line endings. The CGI headers stop after the first double newline. Don't print two consecutive newlines until you are ready to terminate the headers, and do print them when you need to end the headers:</p>\n\n<pre><code>print &lt;&lt;HEADERS;\nContent-type: text/plain\nX-Some-Other: header\n\nThis is the body\nHEADERS\n</code></pre>\n\n<p>Some servers have limits on the number of headers and on the length of header lines. Your error log may be able to say more about that.</p>\n\n<p>To be any more useful than that, we need to see some actual code. A short program that demonstrates the problem would probably help you figure this out.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1554540623, "creation_date": 1554540623, "answer_id": 55547406, "question_id": 55541711, "link": "https://stackoverflow.com/questions/55541711/printing-multiple-http-headers-in-perl/55547406#55547406", "title": "printing multiple HTTP headers in Perl", "body": "<p>There is no difference between</p>\n\n<pre><code>print \"Content-Type: text/html\\n\";\nprint \"Set-Cookie: ...\\n\";\nprint \"\\n\";\n</code></pre>\n\n<p>and</p>\n\n<pre><code>print \"Content-Type: text/html\\nSet-Cookie: ...\\n\\n\";\n</code></pre>\n\n<p>unless you changed something that specifically makes them different (e.g. <a href=\"http://perldoc.perl.org/perlvar.html#$%5C\" rel=\"nofollow noreferrer\"><code>$\\</code></a>). In fact, if you haven't enabled auto-flushing for STDOUT, the output will accumulate in a buffer to be sent in 4 or 8 KiB chunks to the pipe. This means there's absolutely no detectable difference to the other end of the pipe either.</p>\n"}], "owner": {"reputation": 1575, "user_id": 1593297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zsi4O.jpg?s=128&g=1", "display_name": "Beta Carotin", "link": "https://stackoverflow.com/users/1593297/beta-carotin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554540623, "creation_date": 1554490228, "question_id": 55541711, "link": "https://stackoverflow.com/questions/55541711/printing-multiple-http-headers-in-perl", "title": "printing multiple HTTP headers in Perl", "body": "<p>I am trying to run a legacy Perl web application based on TetraBB under Apache2 on Debian.</p>\n\n<p>This application uses <code>print</code> to output HTTP headers, e.g. <code>print \"Content-type: text/html\\n\";</code>.</p>\n\n<p>However, it seems that after the first <code>print</code>, no further headers are accepted. In this example:\n<code>print \"A\\n\"; print \"B\\n\"; print \"\\n\";</code>, header <code>A</code> is recognized by the browser as a response header, while <code>B</code> ends up at the top of the response HTML.</p>\n\n<p>Writing <code>print \"A\\nB\\n\\n\";</code> works.</p>\n\n<p>Also, if the first <code>print</code> does not contain <code>\\n\\n</code>, a <code>500 Internal Server Error</code> is generated.</p>\n\n<p>What is causing this behavior and what can I do to make this work?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1554476182, "post_id": 55538081, "comment_id": 97779723, "body": "<code>-n</code> causes the code to be run for every line, so <code>$_</code> only contains one line. At the very least, you&#39;ll need <code>-0777</code> to make <code>-n</code> read the whole file at once."}, {"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554477959, "post_id": 55538081, "comment_id": 97780809, "body": "@ikegami, I&#39;ve tried to remove <code>-n</code>, what is <code>-0777</code> - other parameter?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1554481992, "post_id": 55538081, "comment_id": 97782963, "body": "If you leave out <code>-n</code>, you&#39;re left with a program that doesn&#39;t read anything at all!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554482010, "post_id": 55538081, "comment_id": 97782970, "body": "Like I said, it causes <code>-n</code> (well, technically, any <code>readline</code> aka <code>&lt;&gt;</code> aka <code>&lt;$fh&gt;</code> aka <code>&lt;FH&gt;</code>) to read the whole file at once instead of one line at a time."}, {"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554808283, "post_id": 55538081, "comment_id": 97879463, "body": "@ikegami, after reading about perl more, I now imagine you laughed writing your second comment and I want to laugh myself."}], "answers": [{"comments": [{"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1554715137, "post_id": 55541512, "comment_id": 97838992, "body": "thank you. I tried to google <code>perl -0777 option</code> but looks like nothing relevant in top results. Where can I read about perl specifics? e.g. also seems to be different info about escaping single quote, it&#39;s IMHO difficult to find sure info. Part of the reason I&#39;m asking is that I need to tailor your code to other searches, and e.g. changing <code>Code&gt;</code> with <code>Cod&gt;</code> prints start of first line of file, I prefer it find nothing obviously."}, {"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1554715397, "post_id": 55541512, "comment_id": 97839148, "body": "o, for single quote <a href=\"https://stackoverflow.com/questions/16700565/how-do-i-escape-single-quotes-with-perl-interpreter\" title=\"how do i escape single quotes with perl interpreter\">stackoverflow.com/questions/16700565/&hellip;</a> accepted answer does not produce error for your code, whereas changing to double quotes does produce error. actually trying to add signle quote lead me to my finding about finding something instead of nothing."}, {"owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "reply_to_user": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 1, "creation_date": 1554717075, "post_id": 55541512, "comment_id": 97840139, "body": "@AlexeiMartianov The option <code>-0</code> for changing the file separator when reading lines is described where I would expect it: in the standard <code>perlrun</code> docu. It also describes that <code>-0777</code> is used widely for &quot;slurp mode&quot; (i.e. reading the whole file with one readline call)."}, {"owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "reply_to_user": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1554717473, "post_id": 55541512, "comment_id": 97840364, "body": "@AlexeiMartianov So the particular question of this SO is answered, and now you want to extend the method to other or more complex cases. I would therefore recommend you to work with a Perl file instead of the command line. In particularly, you can then avoid all your &quot;single quote&quot; hassle."}, {"owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "reply_to_user": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1554738508, "post_id": 55541512, "comment_id": 97853193, "body": "@AlexeiMartianov I changed the command to remove the &quot;header&quot; part before the first occurrence of a <code>Code&gt;</code> keyword. My assumption was that the file is &quot;syntactically correct&quot;, as described in the note above."}, {"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 1, "creation_date": 1554790938, "post_id": 55541512, "comment_id": 97869763, "body": "thank you. it&#39;s for log files - they may contain tags in question, may not contain at all and may contain anything in intermittent places, looks like I better mention such things in question. As for full perl file suggestion, I need to run the code in different places, it&#39;s much easier to copy line to command prompt."}, {"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1554799350, "post_id": 55541512, "comment_id": 97874047, "body": "I now have read and understand all your code, except two minor: 1) why second <code>s</code> <code>operator</code> after <code>&#47;&#47;</code>? 2) as I&#39;ve read perl likes concise, why -nle &#39;&#39; -0777, not -0777ne &#39;&#39;?"}, {"owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "reply_to_user": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1554800627, "post_id": 55541512, "comment_id": 97874872, "body": "@AlexeiMartianov 1) The second <code>s</code> modifier is necessary since the <code>Type</code> token which follows the <code>Code</code> token may appear on a subsequent line. Therefore, the <code>.</code> in <code>.*?</code> must be allowed to be a newline character as well. 2) You are right, this should work as well."}, {"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1554889222, "post_id": 55541512, "comment_id": 97913193, "body": "beg your pardon, again on second s. I&#39;ve read <code>https:&#47;&#47;perldoc.perl.org&#47;perlop.html</code> with <code>s&#47;PATTERN&#47;REPLACEMENT&#47;msixpodualngcer</code> and no info what <code>msixpodualngcer</code> is (and web search did not help me). If it&#39;s a place for options, then I did not see <code>s</code> as available option, How does it work?"}, {"owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "reply_to_user": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 1, "creation_date": 1554890387, "post_id": 55541512, "comment_id": 97913991, "body": "<code>msixpodualngcer</code> is the complete set of available regex modifiers, each modifier is a single letter. To any regex you may add arbitrary many modifiers. Now read the meaning of <code>s</code> in <a href=\"https://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#Modifiers</a>"}], "tags": [], "owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "is_accepted": true, "score": 2, "last_activity_date": 1559318624, "last_edit_date": 1559318624, "creation_date": 1554489341, "answer_id": 55541512, "question_id": 55538081, "link": "https://stackoverflow.com/questions/55538081/perl-extract-group-with-lookbehind-from-different-line/55541512#55541512", "title": "Perl extract group with lookbehind from different line", "body": "<p>The following command answers your question: it collects all values contained in a <code>Code&gt;...&lt;Code</code> pattern, if they are followed by a <code>Type&gt;...&lt;Type</code> pattern (with potentially other patterns in between, but no other occurrences of <code>Code&gt;...&lt;Code</code> in between):</p>\n\n<pre><code>perl -lne 's/^.*?(?=Code&gt;)//s; for (split /Code&gt;/) { print qq($1:$2\\n) if /(.*?)&lt;Code.*?Type&gt;(.*?)&lt;Type/s }' -0777 &lt;test.txt\n</code></pre>\n\n<p>If e.g. <code>test.txt</code> contains the following lines,</p>\n\n<pre><code>Code&gt;test4&lt;Code Type&gt;false&lt;Type\nCode&gt;test3&lt;Code\nType&gt;true&lt;Type\nCode&gt;TEST1&lt;Code Code2&gt;best&lt;Code2\nCode&gt;test2&lt;Code\nType&gt;false&lt;Type\n</code></pre>\n\n<p>then the command will collect the following value pairs:</p>\n\n<pre><code>test4:false\ntest3:true\ntest2:false\n</code></pre>\n\n<p><strong><em>Edited on 04/08/2019, 17:38 CEST</em></strong>  I edited the command to remove the \"header part\" of the file (the part before the first occurrence of <code>Code&gt;</code>), as it might - by some error of the file's editor - contain a closing tag <code>&lt;Code</code> which had not been opened with <code>Code&gt;</code> but instead with a typo like e.g. <code>Cde&gt;</code>. My assumption was that the complete file was \"syntactically correct\" in the sense that it consists of elements of type <code>/(\\w+)&gt;.*?&lt;\\1/</code>, separated by whitespace (including newlines). For files which do not conform to this syntax, the statement was not waterproof. </p>\n"}, {"tags": [], "owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "is_accepted": false, "score": 1, "last_activity_date": 1554794599, "last_edit_date": 1554794599, "creation_date": 1554792150, "answer_id": 55586589, "question_id": 55538081, "link": "https://stackoverflow.com/questions/55538081/perl-extract-group-with-lookbehind-from-different-line/55586589#55586589", "title": "Perl extract group with lookbehind from different line", "body": "<p>Another way to do it, using progressive matching and embedded code</p>\n\n<pre><code>perl -lne 'while (/\\b(?:Code&gt;(.*?)&lt;Code(?{$c=$1})|Type&gt;(.*?)&lt;Type(?{print qq($c:$2\\n) if defined $c;undef $c}))\\b/g){}' -0777 &lt;test.txt\n</code></pre>\n\n<p>Explanations:</p>\n\n<ul>\n<li>Basically, the expression finds occurrences of <code>Code&gt;(.*?)&lt;Code</code> or <code>Type&gt;(.*)&lt;Type</code>. This gives the basic form of an alternation in an unnamed grouping expression: <code>(?:Code&gt;(.*?)&lt;Code|Type&gt;(.*?)&lt;Type)</code>. </li>\n<li>The word boundary assertions <code>\\b</code> around the group ensure that the keywords <code>Code</code>and <code>Type</code> are matched, but not e.g. <code>Code2</code> or <code>TType</code>.  </li>\n<li>The modifier <code>g</code> ensures progressive application of the regular expression on the string. Since I want to extract the result inside of the expression itself, I place the regex in an empty loop, i.e. <code>while (/.../g) {}</code>.</li>\n<li>You suppose a grammar rule <code>Code \u27f6 Type</code>, i.e. you look for occurrences of a <code>Type</code> token following a <code>Code</code> token. For this, a <code>Code</code> token is memorized in a variable <code>$c</code> with the code expression <code>(?{$c=$1})</code>. If a <code>Type</code> token is found, it is considered a match only if formerly a <code>Code</code> token has been found, indicated by the fact that the variable <code>$c</code> is defined. In any case, if a <code>Type</code> token has been found, the variable <code>$c</code> will be <code>undef</code>d to prepare it for the next search. This gives the code evaluation <code>(${print qq($c:$2\\n) if defined $c;undef $c;})</code> in the <code>Type</code> branch of the regular expression.</li>\n<li>Note that the captures of the <code>Code&gt;(.*?)&lt;Code</code> and <code>Type&gt;(.*?)&lt;Type</code> tokens may be the empty string. This is why I am working with <code>undef $c</code> and <code>if defined $c</code> instead of the simpler <code>$c=''</code> and <code>if $c</code>. </li>\n</ul>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1554827643, "last_edit_date": 1554827643, "creation_date": 1554806659, "answer_id": 55590967, "question_id": 55538081, "link": "https://stackoverflow.com/questions/55538081/perl-extract-group-with-lookbehind-from-different-line/55590967#55590967", "title": "Perl extract group with lookbehind from different line", "body": "<p>if your data in 'd', by gnu sed;</p>\n\n<pre><code>sed -Ez 's/.*Code&gt;(\\w+)&lt;Code\\sType&gt;\\w*&lt;Type.*/\\1/' d\n</code></pre>\n\n<p>Perl</p>\n\n<pre><code>perl -ne 'BEGIN{undef $/} /Code&gt;(\\w+)&lt;Code\\nType&gt;\\w*&lt;Type/; print $1' d\n</code></pre>\n"}], "owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "accepted_answer_id": 55541512, "answer_count": 3, "score": 1, "last_activity_date": 1559318624, "creation_date": 1554475829, "question_id": 55538081, "link": "https://stackoverflow.com/questions/55538081/perl-extract-group-with-lookbehind-from-different-line", "title": "Perl extract group with lookbehind from different line", "body": "<p>I've tried web search and have read several answers on stackexchange, still cannot grasp why command does not extract anything. At the end I want to extract group with lookbehind from different line, e.g. from </p>\n\n<pre><code>Code&gt;TEST1&lt;Code Code2&gt;best&lt;Code2\nCode&gt;test2&lt;Code\nType&gt;false&lt;Type\n</code></pre>\n\n<p>by finding needed key between <code>Type</code> and extracting first <code>Code</code> above the finding, so it case above to get <code>test2</code>. But I cannot succeed to extract even something from multiple lines, i.e. </p>\n\n<p><code>perl -lne 'print $1,\"_\",$2 if /Code&gt;(.*)&lt;Code[\\s\\S\\n]*?Type&gt;(.*)&lt;Type/'&lt;test.txt</code> prints nothing.<br>\nI've played with removing <code>ln</code> parameters and adding/removing greedy <code>?</code> and trying just <code>.</code> in place of <code>[\\s\\S\\n]</code>.  </p>\n\n<p><code>perl -lne 'print $1,\"_\",$2 if /Code&gt;(.*)&lt;Code[\\s\\S\\n]*?Code2&gt;(.*)&lt;Code2/'&lt;test.txt\n</code> gives <code>TEST1_best</code> so same line extraction works.  </p>\n\n<p>What am I missing? Can what I want be done in one line of command?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1554471776, "post_id": 55536668, "comment_id": 97777010, "body": "What&#39;s wrong with reading and printing line by line? You can read a certain buffer size instead of reading full lines and printing that, too. Why do you not want to use <code>cat</code>?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1554471860, "post_id": 55536668, "comment_id": 97777061, "body": "Use <code>read</code> instead to read a block at a time."}, {"owner": {"reputation": 123, "user_id": 2173020, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39a8dd0daac21e06cfd0c852d656be20?s=128&d=identicon&r=PG", "display_name": "tuxian", "link": "https://stackoverflow.com/users/2173020/tuxian"}, "edited": false, "score": 0, "creation_date": 1554472021, "post_id": 55536668, "comment_id": 97777166, "body": "The chunk files I&#39;ve mentioned having around 20 million lines each file. So for 10 files and for each line I run a loop it takes very long time. So thought if there is any better way I could use it."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1554478653, "post_id": 55536668, "comment_id": 97781226, "body": "Unless you&#39;re writing portable perl code to also run on say Windows, I think you can run this faster and with less code with just <code>cat file*.csv &gt; file.csv</code>. The <code>*</code> joker might not give you the correct order so you might have to <code>cat file{1..99}.csv &gt; file.csv</code> instead if for example 99 is your last number. Or maybe <code>cat $(ls -1v file*.csv) &gt; file.csv</code>. From within Perl you can run this through <code>system()</code> or <code>qx()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 625, "user_id": 3803173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ulLbW.png?s=128&g=1", "display_name": "MassPikeMike", "link": "https://stackoverflow.com/users/3803173/masspikemike"}, "is_accepted": false, "score": 2, "last_activity_date": 1554473498, "creation_date": 1554473498, "answer_id": 55537308, "question_id": 55536668, "link": "https://stackoverflow.com/questions/55536668/how-to-append-multiple-files-into-one-file-as-a-whole-using-perl/55537308#55537308", "title": "How to append multiple files into one file as a whole using perl?", "body": "<p>As Shawn mentioned above, you can <code>read</code> a block at a time. You can experiment with different block sizes to see what is fastest on your system. For example:</p>\n\n<pre><code>my $BLOCK_SIZE = 1024 * 1024 * 2;    # try reading 2 megabytes at a time\nmy $outfile = \"output.csv\";\nopen(OUT, \"&gt;&gt;\", $outfile) or die \"Can't append to output file $outfile: $!\\n\";\nforeach my $input_file (@input_files) {\n     open(IN, \"&lt;\", $input_file) or die \"Can't read from input file $input_file: $!\\n\";\n     my $data;\n     my $blocks_read = 0;\n     while (read(IN, $data, $BLOCK_SIZE)) {\n         print OUT $data;\n         $blocks_read++;\n     }\n     close IN;\n     print \"Read $blocks_read blocks from $input_file\\n\";\n     }\nclose OUT;\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 2173020, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39a8dd0daac21e06cfd0c852d656be20?s=128&d=identicon&r=PG", "display_name": "tuxian", "link": "https://stackoverflow.com/users/2173020/tuxian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554473498, "creation_date": 1554471445, "last_edit_date": 1554473495, "question_id": 55536668, "link": "https://stackoverflow.com/questions/55536668/how-to-append-multiple-files-into-one-file-as-a-whole-using-perl", "title": "How to append multiple files into one file as a whole using perl?", "body": "<p>I've multiple chunk files in my Unix system. Lets say (file1.csv, file2.csv..., file10.csv). I wanted to append all these files in same order without reading them line by line. </p>\n\n<pre><code>open(my $fh, '&lt;:encoding(UTF-8)', $filename)\n  or die \"Could not open file '$filename' $!\";\n\nwhile (my $row = &lt;$fh&gt;) {\n  chomp $row;\n  print \"$row\\n\";\n}\n</code></pre>\n\n<p>The above sample code reads the file line by line. But the chunk files I've are having huge data. So I cannot read them line by line neither can I store it in string using <code>Stringify()</code>.</p>\n\n<p>I'm looking for something in Perl similar to the below shell command.</p>\n\n<p><code>cat file1.csv &gt;&gt; file.csv</code></p>\n\n<p>Please let me know I can do similar copy (append at the end of target file) in Perl. Thanks!</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1554458653, "post_id": 55532171, "comment_id": 97769054, "body": "Please do wrap your samples in CODE TAGS and let us know then."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1554459143, "post_id": 55532171, "comment_id": 97769342, "body": "Please, describe what should happen when the line is less than 18 characters long. You say &quot;even if it&#39;s empty&quot; and &quot;only is captured group is not null&quot; which seem contradictory. Add an example."}], "answers": [{"tags": [], "owner": {"reputation": 11518, "user_id": 9510729, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HbuuPS6a5d4/AAAAAAAAAAI/AAAAAAAAAvQ/8hLG9Jvhyzc/photo.jpg?sz=128", "display_name": "jxc", "link": "https://stackoverflow.com/users/9510729/jxc"}, "is_accepted": false, "score": 1, "last_activity_date": 1554485941, "creation_date": 1554485941, "answer_id": 55540744, "question_id": 55532171, "link": "https://stackoverflow.com/questions/55532171/positional-offset-based-replace/55540744#55540744", "title": "positional/offset based replace", "body": "<p>From your description, the replacement had already happened in lines which you identified as null in position <em>11-18</em>, so there are at least 8 matched chars but probably not visible to you. most likely these are just white spaces. If that is the case, you can just add a positive lookahead anchor in your pattern to make sure there is at least one non-whitespaces in the next 8 chars:</p>\n\n<pre><code>perl -lpe 's/^(.{10})(?=.{0,7}\\S).{8}/$1xxxxxxxxxxxxxxxxx/' file\n</code></pre>\n\n<p>In the added sub-pattern <strong><code>(?=.{0,7}\\S)</code></strong>:</p>\n\n<ul>\n<li><code>(?=...)</code> is the positive lookahead anchor which consumes no chars in matching and can serve as a condition check</li>\n<li><code>.{0,7}\\S</code> means 0-7 any chars(except newline) followed by a non-whitespaces <code>\\S</code>. this is to make sure in the next 8 chars, there is at least one matching <code>\\S</code></li>\n<li>to make sure the matches contain at least one visible chars in positions <em>11-18</em>, you may change <code>\\S</code> to <code>[^\\x00-\\x20]</code> which includes the reverse of all non-printable chars and the SPACE (<code>\\x20</code>), see a table at <a href=\"https://web.itu.edu.tr/sgunduz/courses/mikroisl/ascii.html\" rel=\"nofollow noreferrer\">https://web.itu.edu.tr/sgunduz/courses/mikroisl/ascii.html</a> </li>\n</ul>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1554514030, "last_edit_date": 1554514030, "creation_date": 1554512480, "answer_id": 55544966, "question_id": 55532171, "link": "https://stackoverflow.com/questions/55532171/positional-offset-based-replace/55544966#55544966", "title": "positional/offset based replace", "body": "<p>use class \\S; no space char.    </p>\n\n<pre><code>a=0123456789abcdeg123456efsgtext1234500th23sdfksbfk\n\n$ echo $a| perl -pe 's/(?&lt;=^.{10})\\S{8}/xxxxxxxxxxxxxxxxx/'\n\n0123456789xxxxxxxxxxxxxxxxx3456efsgtext1234500th23sdfksbfk\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4481149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9nbeK5_iZks/AAAAAAAAAAI/AAAAAAAAATo/IFmKTMTHpRg/photo.jpg?sz=128", "display_name": "Shiva Krishna", "link": "https://stackoverflow.com/users/4481149/shiva-krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1554514030, "creation_date": 1554456297, "question_id": 55532171, "link": "https://stackoverflow.com/questions/55532171/positional-offset-based-replace", "title": "positional/offset based replace", "body": "<p>I wanted to replace text from position 11 to 18 with some text xxxxxxxxxx</p>\n\n<p>Ex: 0123456789<strong>abcdeg1</strong>23456efsgtext1234500th23sdfksbfk</p>\n\n<p>in the above line my script replaces <strong>abcdeg1</strong>(position 11 to 18) with xxxxxxxx\nfor that I'm using below script\n perl -pe 's/^(.{10}).{8}/$1xxxxxxxxxxxxxxxxx/' awktest.2019 > awktest.2019masked.txt</p>\n\n<p>now problem is it's replpacing in everyline even if it's empty at those positions(11 to 18)</p>\n\n<p>can someone help me in adding null check to that script i wanted to replace only is captured group is not null in the below command.(how to add null check in below command)</p>\n\n<p>perl -pe 's/^(.{10}).{8}/$1xxxxxxxxxxxxxxxxx/' awktest.2019 > awktest.2019masked.txt</p>\n\n<p>any help is appreciated, \nThanks in advance</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 79, "user_id": 10105340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9356ee60023d1405d8331e649af2f855?s=128&d=identicon&r=PG&f=1", "display_name": "Unsal", "link": "https://stackoverflow.com/users/10105340/unsal"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1554450416, "post_id": 55530471, "comment_id": 97764561, "body": "hi melpomene , yes correct. I will edit it"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554481286, "post_id": 55530471, "comment_id": 97782637, "body": "Tip: ALWAYS use <code>use strict; use warnings;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554481291, "post_id": 55530471, "comment_id": 97782638, "body": "Tip: Use an XML parser like XML::LibXML! It&#39;s not any more complicated, and it will save you so many headaches!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554481295, "post_id": 55530471, "comment_id": 97782640, "body": "Tip: <code>my ($date) = $timestamp =~ &#47;^([^T])&#47;;</code> and <code>my ($date) = split(&#47;T&#47;, $timestamp);</code> are much cleaner ways of extracting the date."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554481422, "post_id": 55530471, "comment_id": 97782692, "body": "Tip: You are using <code>$errorCode</code> even when you don&#39;t set it!!! Use <code>my ($error_code) = $line =~ &#47;&lt;errorCode&gt;(.*)&lt;&#47; ? $1 : &quot;&quot;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1554450665, "creation_date": 1554450665, "answer_id": 55530642, "question_id": 55530471, "link": "https://stackoverflow.com/questions/55530471/how-to-count-duplicate-values-of-array-with-hashreference/55530642#55530642", "title": "how to count duplicate values of array with hashreference", "body": "<p>You can just do</p>\n\n<pre><code>while (my $line=&lt;$fh&gt;) {\n    $timestamp = $1 if $line=~ /^\\s*&lt;timestamp&gt;(.*)&lt;/;\n    $timestamp =~ s/^(\\d\\d\\d\\d-\\d\\d-\\d\\d)T.*$/$1/;\n    $errorCode= $1 if $line=~ /^\\s*&lt;errorCode&gt;(.*)&lt;/;\n\n    $hash{$timestamp}{$errorCode}{$1}++ if $line =~ /&lt;errorText&gt;(.*)&lt;/;\n}\n</code></pre>\n\n<p>There's no need to check for the existence of intermediate structures and create them manually. Autovivification will take care of that.</p>\n\n<p>Just add another layer of hash key access and increment the value. You'll end up with a count of values.</p>\n"}], "owner": {"reputation": 79, "user_id": 10105340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9356ee60023d1405d8331e649af2f855?s=128&d=identicon&r=PG&f=1", "display_name": "Unsal", "link": "https://stackoverflow.com/users/10105340/unsal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55530642, "answer_count": 1, "score": 0, "last_activity_date": 1554450665, "creation_date": 1554450006, "last_edit_date": 1554450479, "question_id": 55530471, "link": "https://stackoverflow.com/questions/55530471/how-to-count-duplicate-values-of-array-with-hashreference", "title": "how to count duplicate values of array with hashreference", "body": "<p>I want to count the values of an array inside a hash and add them to the hash. My code looks like this:</p>\n\n<pre><code>while(my $line=&lt;$fh&gt;) {\n\n                    $timestamp = $1 if $line=~ /^\\s*&lt;timestamp&gt;(.*)&lt;/;\n                    $timestamp =~ s/^(\\d\\d\\d\\d-\\d\\d-\\d\\d)T.*\\s*$/$1/;\n                    $errorCode= $1 if $line=~ /^\\s*&lt;errorCode&gt;(.*)&lt;/;\n\n                    $hash{$timestamp}             = {} unless($hash{$timestamp});\n                    $hash{$timestamp}{$errorCode} = [] unless($hash{$timestamp}{$errorCode});\n\n                                    push @{$hash{$timestamp}{$errorCode}}, $1 if $line =~ /&lt;errorText&gt;(.*)&lt;/;\n            }\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>   '2019-04-05' =&gt; {    '5005' =&gt; [\n                                    'Dies ist kein aktives Konto',\n                                    'Dies ist kein aktives Konto'\n                                  ],\n                        '7112' =&gt; [\n                                    'Eingabefelder nicht richtig gefuellt.',\n                                    'Eingabefelder nicht richtig gefuellt.',\n                                    'Eingabefelder nicht richtig gefuellt.'\n                                  ],\n                   }\n</code></pre>\n\n<p>What I would like to have is something like this:</p>\n\n<pre><code>'2019-04-05' =&gt; {    '5005' =&gt; { 'Dies ist kein aktives Konto' =&gt; 2 },\n                     '7112' =&gt; { 'Eingabefelder nicht richtig gefuellt.' =&gt; 3 },\n                }\n</code></pre>\n\n<p>Can anyone help me with this? Thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1554449186, "post_id": 55530236, "comment_id": 97763924, "body": "What does the documentation say?"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1554450912, "post_id": 55530627, "comment_id": 97764814, "body": "Or just use a loop: <code>push @$_, &quot;extra&quot; for \\@arr1, \\@arr2;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 8772356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwAW.jpg?s=128&g=1", "display_name": "Mohit_Mike", "link": "https://stackoverflow.com/users/8772356/mohit-mike"}, "edited": false, "score": 0, "creation_date": 1554462163, "post_id": 55530627, "comment_id": 97770952, "body": "@Mohit_Mike: <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1554450560, "creation_date": 1554450560, "answer_id": 55530627, "question_id": 55530236, "link": "https://stackoverflow.com/questions/55530236/adding-element-to-multiple-array-with-single-command-in-perl/55530627#55530627", "title": "Adding element to multiple array with single command in Perl", "body": "<p>The <a href=\"https://perldoc.perl.org/functions/push.html\" rel=\"nofollow noreferrer\">documentation for <code>push()</code></a> is pretty clear.</p>\n\n<blockquote>\n  <p><strong>push ARRAY,LIST</strong></p>\n  \n  <p>Treats ARRAY as a stack by appending the values of\n  LIST to the end of ARRAY. The length of ARRAY increases by the length\n  of LIST. Has the same effect as</p>\n\n<pre><code>for my $value (LIST) {\n    $ARRAY[++$#ARRAY] = $value;\n}\n</code></pre>\n  \n  <p>but is more efficient. Returns the number of elements in the array following the completed push.</p>\n  \n  <p>Starting with Perl 5.14, an experimental feature allowed push to take\n  a scalar expression. This experiment has been deemed unsuccessful, and\n  was removed as of Perl 5.24.</p>\n</blockquote>\n\n<p>So, no. <code>push()</code> only works with a single array at a time.</p>\n\n<p>Your solution:</p>\n\n<pre><code>push (@arr1,@arr2), \"extra\";\n</code></pre>\n\n<p>Would have the effect of adding all of <code>@arr2</code>'s elements to the end of <code>@arr1</code>. The \"extra\" would be ignored as the closing parenthesis would be seen as ending the list of parameters to <code>push()</code>. Under <code>use warnings</code> you would get a warnings saying:</p>\n\n<blockquote>\n  <p>Useless use of a constant (\"extra\") in void context</p>\n</blockquote>\n\n<p>You could do this by using two calls to <code>push()</code> and hiding the complexity in a subroutine. The naive solution uses references to the arrays:</p>\n\n<pre><code>sub twopush {\n  my ($a1, $a2, @elems) = @_;\n\n  push @$a1, @elems;\n  push @$a2, @elems;\n}\n\ntwopush(\\@arr1, \\@arr2, \"extra\");\n</code></pre>\n\n<p>But this is one of those rare occasions where Perl's subroutine prototypes come in useful. You can tell the subroutine that the first two parameters are arrays and the compiler will handle taking the references.</p>\n\n<pre><code>sub twopush(\\@\\@@) {\n  my ($a1, $a2, @elems) = @_;\n\n  push @$a1, @elems;\n  push @$a2, @elems;\n}\n\ntwopush(@arr1, @arr2, \"extra\");\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8772356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwAW.jpg?s=128&g=1", "display_name": "Mohit_Mike", "link": "https://stackoverflow.com/users/8772356/mohit-mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554450560, "creation_date": 1554449091, "question_id": 55530236, "link": "https://stackoverflow.com/questions/55530236/adding-element-to-multiple-array-with-single-command-in-perl", "title": "Adding element to multiple array with single command in Perl", "body": "<p>Can I add element to more than 1 array using push in perl?</p>\n\n<p>E.g. </p>\n\n<pre><code>my @arr1 = qw/one two three/;\nmy @arr2 = qw/four five six/;\npush (@arr1,@arr2), \"extra\";\n</code></pre>\n\n<p>Expected Output ::</p>\n\n<pre><code>@arr1 = one two three extra\n@arr2 = four five six extra\n</code></pre>\n"}, {"tags": ["perl", "filehandle"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 3, "creation_date": 1554412040, "post_id": 55524898, "comment_id": 97754005, "body": "I don&#39;t know what &quot;the book&quot; is, but it is documented in <a href=\"https://perldoc.pl/perlop#Symbolic-Unary-Operators\" rel=\"nofollow noreferrer\">perldoc perlop</a>."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1554426328, "post_id": 55524898, "comment_id": 97757794, "body": "Bareword filehandles and the two-argument form of <code>open</code> make me suspect that &quot;the book&quot; is quite outdated. (Opening <code>&#47;etc&#47;passwd</code> directly instead of using <code>getpwent</code> and friends is suspicious too, but those <i>are</i> obscure functions...)"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1554426528, "post_id": 55524898, "comment_id": 97757838, "body": "Modern idiomatic usage would be  something like <code>open my $passwd, &quot;&lt;&quot;, &quot;&#47;etc&#47;passwd&quot; or die &quot;How did you get logged in? ($!)\\n&quot;;</code>"}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1554446999, "post_id": 55524898, "comment_id": 97762889, "body": "Would be more readable to newbies: <code>if ( not open PASSWD, &quot;&#47;etc&#47;passwd&quot;)</code>. However, I agree with Shawns comment on idiomatic usage."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1554412173, "creation_date": 1554412173, "answer_id": 55524938, "question_id": 55524898, "link": "https://stackoverflow.com/questions/55524898/what-does-exclamation-point-mean-here/55524938#55524938", "title": "What does exclamation point mean here", "body": "<p><code>!</code> is the boolean negation operator.</p>\n\n<ul>\n<li>Given a true value, it returns false.</li>\n<li>Given a false value, it returns true.</li>\n</ul>\n\n<p><code>open(...)</code> returns false on error and true on success.</p>\n\n<p>Therefore, <code>!open(...)</code> returns true on error and false on success.</p>\n\n<p>The <code>if</code>'s block is executed if the expression (<code>!open(...)</code>) is true.</p>\n\n<p>Therefore, the <code>if</code>'s block is executed if <code>open</code> returned an error.</p>\n\n<p>Perl's symbolic operators are documented in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 11313957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CHcV8.png?s=128&g=1", "display_name": "PerlisNewToMe", "link": "https://stackoverflow.com/users/11313957/perlisnewtome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 55524938, "answer_count": 1, "score": 0, "last_activity_date": 1554412173, "creation_date": 1554411983, "question_id": 55524898, "link": "https://stackoverflow.com/questions/55524898/what-does-exclamation-point-mean-here", "title": "What does exclamation point mean here", "body": "<p>What does the exclamation point mean in the this example? The one right before 'open'? The book can't answer my question..</p>\n\n<pre><code>if ( ! open PASSWD, \"/etc/passwd\") {\n    die \"How did you get logged in? ($!)\";\n}\n\nwhile (&lt;PASSWD&gt;) {\n    chomp;\n    ...\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 2, "creation_date": 1554411542, "post_id": 55524727, "comment_id": 97753844, "body": "Please, read <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1554413700, "post_id": 55524727, "comment_id": 97754643, "body": "You can split a string into substrings of length &lt;= 10 using <code>my @sub_strings =  $str =~ &#47;.{1,10}&#47;g</code>. This will use length = 10 for the first sub strings, and the final substring is allowed to have length less than 10."}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554418650, "post_id": 55524727, "comment_id": 97756186, "body": "@H&#229;kon H&#230;gland would it be possible to give me more tips ?"}], "answers": [{"comments": [{"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554436151, "post_id": 55527885, "comment_id": 97759630, "body": "should I add any package or something else ? how can I invoke the data there?"}, {"owner": {"reputation": 625, "user_id": 3803173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ulLbW.png?s=128&g=1", "display_name": "MassPikeMike", "link": "https://stackoverflow.com/users/3803173/masspikemike"}, "reply_to_user": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554436621, "post_id": 55527885, "comment_id": 97759719, "body": "No other packages needed-- this sort of simple text processing is the core of Perl. I added an example of running the script to the answer. Check out the first link (to the docs) and the second link (to a book), they should make that sort of thing clear."}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554436969, "post_id": 55527885, "comment_id": 97759784, "body": "one more question and I accept and like your answer. Is there a way to add the <code>10</code> as a variable? for example if I want it to be 15 or 5 or whatever, I can set it like this e.g. <code>perl script.pl data.txt 5</code>  also what will happen at the end if the last part does not have 10 letters ? will I still have it or it goes until there is 10 letters ?"}, {"owner": {"reputation": 625, "user_id": 3803173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ulLbW.png?s=128&g=1", "display_name": "MassPikeMike", "link": "https://stackoverflow.com/users/3803173/masspikemike"}, "reply_to_user": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554437229, "post_id": 55527885, "comment_id": 97759839, "body": "You can use the &quot;Getopt::Std&quot; package (<a href=\"https://perldoc.perl.org/Getopt/Std.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/Getopt/Std.html</a>) to pass the <code>$DESIRED_LENGTH</code> as a command-line argument. But as this is written (see the condition in the <code>while</code> loop) the program never prints any part of length less than 10: neither the trailing 9, 8, 7, etc. characters on a line, nor any of lines whose length is less than 10. That was the way I understood your example."}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554505028, "post_id": 55527885, "comment_id": 97791699, "body": "I accepted your answer but would you add the Getopt::Std too? I appreciate it a lot . thanks"}, {"owner": {"reputation": 625, "user_id": 3803173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ulLbW.png?s=128&g=1", "display_name": "MassPikeMike", "link": "https://stackoverflow.com/users/3803173/masspikemike"}, "reply_to_user": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554514800, "post_id": 55527885, "comment_id": 97793070, "body": "If you <code>use Getopt::Std;</code> and then <code>getopts(&#39;l:&#39;);</code>, you can set <code>$DESIRED_LENGTH = $opt_l;</code> Check out the Perl book at <a href=\"https://docstore.mik.ua/orelly/perl4/prog/index.htm\" rel=\"nofollow noreferrer\">docstore.mik.ua/orelly/perl4/prog/index.htm</a> ."}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554517390, "post_id": 55527885, "comment_id": 97793340, "body": "I did add what you said and I ran it like this <code>perl split_into10.pl data.txt 10</code> but I get the following error <code>Can&#39;t open 10: No such file or directory at split_into10.pl line 9, &lt;&gt; line 16.</code>"}, {"owner": {"reputation": 625, "user_id": 3803173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ulLbW.png?s=128&g=1", "display_name": "MassPikeMike", "link": "https://stackoverflow.com/users/3803173/masspikemike"}, "reply_to_user": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1554521697, "post_id": 55527885, "comment_id": 97793807, "body": "Getopt is for command line switches, so what you&#39;d want is <code>script.pl -l 10 data.txt</code>."}], "tags": [], "owner": {"reputation": 625, "user_id": 3803173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ulLbW.png?s=128&g=1", "display_name": "MassPikeMike", "link": "https://stackoverflow.com/users/3803173/masspikemike"}, "is_accepted": true, "score": 1, "last_activity_date": 1554436388, "last_edit_date": 1554436388, "creation_date": 1554435611, "answer_id": 55527885, "question_id": 55524727, "link": "https://stackoverflow.com/questions/55524727/how-to-split-a-set-of-strings-with-a-certain-numbers/55527885#55527885", "title": "how to split a set of strings with a certain numbers", "body": "<p>From your example, it seems like you want the beginning of each successive 10-region to shift by one position. In that case you can use a <code>for</code> loop and the <a href=\"https://perldoc.perl.org/functions/substr.html\" rel=\"nofollow noreferrer\">substr</a> function:</p>\n\n<pre><code>my $DESIRED_LENGTH = 10;\nwhile (&lt;&gt;) {\n    chomp; # remove trailing newline\n    if (m/^&gt;/) {          # if line starts with '&gt;'\n        print \"$_\\n\";     # just print it\n    } else {\n        my $i = 0;\n        while ($i + $DESIRED_LENGTH &lt;= length($_)) {\n            print substr($_, $i, $DESIRED_LENGTH);\n            print \"\\n\";\n            $i++;\n        }\n    }\n}\n</code></pre>\n\n<p>If you save this code as <code>script.pl</code> and your datafile as <code>data.txt</code>, then running <code>perl script.pl data.txt</code> will pass your data to the file, using the Perl <a href=\"https://docstore.mik.ua/orelly/perl3/prog/ch02_11.htm\" rel=\"nofollow noreferrer\">angle operator</a>.</p>\n"}], "owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 55527885, "answer_count": 1, "score": 0, "last_activity_date": 1554827904, "creation_date": 1554411201, "question_id": 55524727, "link": "https://stackoverflow.com/questions/55524727/how-to-split-a-set-of-strings-with-a-certain-numbers", "title": "how to split a set of strings with a certain numbers", "body": "<p>I have a data saved in .txt like the following </p>\n\n<pre><code>&gt;sp|Q96A73|P33MX_HUMAN Putative monooxygenase p33MONOX OS=Homo sapiens OX=9606 GN=KIAA1191 PE=1 SV=1\nRNDDDDTSVCLGTRQCSWFAGCTNRTWNSSAVPLIGLPNTQDYKWVDRNSGLTWSGNDTCLYSCQNQTKGLLYQLFRNLFCSYGLTEAHGKWRCADASITNDKGHDGHRTPTWWLTGSNLTLSVNNSGLFFLCGNGVYKGFPPKWSGRCGLGYLVPSLTRYLTLNASQITNLRSFIHKVTPHR\n&gt;sp|P13674|P4HA1_HUMAN Prolyl 4-hydroxylase subunit alpha-1 OS=Homo sapiens OX=9606 GN=P4HA1 PE=1 SV=2\nVECCPNCRGTGMQIRIHQIGPGMVQQIQSVCMECQGHGERISPKDRCKSCNGRKIVREKKILEVHIDKGMKDGQKITFHGEGDQEPGLEPGDIIIVLDQKDHAVFTRRGEDLFMCMDIQLVEALCGFQKPISTLDNRTIVITSHPGQIVKHGDIKCVLNEGMPIYRRPYEKGRLIIEFKVNFPENGFLSPDKLSLLEKLLPERKEVEE\n&gt;sp|Q7Z4N8|P4HA3_HUMAN Prolyl 4-hydroxylase subunit alpha-3 OS=Homo sapiens OX=9606 GN=P4HA3 PE=1 SV=1\nMTEQMTLRGTLKGHNGWVTQIATTPQFPDMILSASRDKTIIMWKLTRDETNYGIPQRALRGHSHFVSDVVISSDGQFALSGSWDGTLRLWDLTTGTTTRRFVGHTKDVLSVAFSSDNRQIVSGSRDKTIKLWNTLGVCKYTVQDESHSEWVSCVRFSPNSSNPIIVSCGWDKLVKVWNLANCKLK\n&gt;sp|P04637|P53_HUMAN Cellular tumor antigen p53 OS=Homo sapiens OX=9606 GN=TP53 PE=1 SV=4\nIQVVSRCRLRHTEVLPAEEENDSLGADGTHGAGAMESAAGVLIKLFCVHTKALQDVQIRFQPQL\n&gt;sp|P10144|GRAB_HUMAN Granzyme B OS=Homo sapiens OX=9606 GN=GZMB PE=1 SV=2\nMQPILLLLAFLLLPRADAGEIIGGHEAKPHSRPYMAYLMIWDQKSLKRCGGFLIRDDFVLTAAHCWGSSINVTLGAHNIKEQEPTQQFIPVKRPIPHPAYNPKNFSNDIMLLQLERKAKRTRAVQPLRLPSNKAQVKPGQTCSVAGWGQTAPLGKHSHTLQEVKMTVQEDRKCES\n&gt;sp|Q9UHX1|PUF60_HUMAN Poly(U)-binding-splicing factor PUF60 OS=Homo sapiens OX=9606 GN=PUF60 PE=1 SV=1\nMGKDYYQTLGLARGASDEEIKRAYRRQALRYHPDKNKEPGAEEKFKEIAEAYDVLSDPRKREIFDRYGEEGLKGSGPSGGSGGGANGTSFSYTFHGDPHAMFAEFFGGRNPFDTFFGQRNGEEGMDIDDPFSGFPMGMGGFTNVNFGRSRSAQEPARKKQDPPVTHDLRVSLEEIYSGCTKKMKISHK\n&gt;sp|Q06416|P5F1B_HUMAN Putative POU domain, class 5, transcription factor 1B OS=Homo sapiens OX=9606 GN=POU5F1B PE=5 SV=2\nIVVKGHSTCLSEGALSPDGTVLATASHDGYVKFWQIYIEGQDEPRCLHEWKPHDGRPLSCLLFCDNHKKQDPDVPFWRFLITGADQNRELKMWCTVSWTCLQTIRFSPDIFSSVSVPPSLKVCLDLSAEYLILSDVQRKVLYVMELLQNQEEGHACFSSISEFLLTHPVLSFGIQVVSRCRLRHTEVLPAEEENDSLGADGTHGAGAMESAAGVLIKLFCVHTKALQDVQIRFQPQLNPDVVAPLPTHTAHEDFTFGESRPELGSEGLGSAAHGSQPDLRRIVELPAPADFLSLSSETKPKLMTPDAFMTPSASLQQITASPSSSSSGSSSSSSSSSSSLTAVSAMSSTSAVDPSLTRPPEELTLSPKLQLDGSLTMSSSGSLQASPRGLLPGLLPAPADKLTPKGPGQVPTATSALSLELQEVEP\n&gt;sp|O14683|P5I11_HUMAN Tumor protein p53-inducible protein 11 OS=Homo sapiens OX=9606 GN=TP53I11 PE=1 SV=2\nMIHNYMEHLERTKLHQLSGSDQLESTAHSRIRKERPISLGIFPLPAGDGLLTPDAQKGGETPGSEQWKFQELSQPRSHTSLKVSNSPEPQKAVEQEDELSDVSQGGSKATTPASTANSDVATIPTDTPLKEENEGFVKVTDAPNKSEISKHIEVQVAQETRNVSTGSAENEEKSEVQAIIESTPELDMDKDLSGYKGSSTPTKGIENKAFDRNTESLFEELSSAGSGLIGDVDEGADLLGMGREVENLILENTQLLETKNALNIVKNDLIAKVDELTCEKDVLQGELEAVKQAKLKLEEKNRELEEELRKARAEAEDARQKAKDDDDSDIPTAQRKRFTRVEMARVLMERNQYKERLMELQEAVRWTEMIRASRENPAMQEKKRSSIWQFFSRLFSSSSNTTKKPEPPVNLKYNAPTSHVTPSVK\n</code></pre>\n\n<p>I am trying to split each section to as many possible 10 regions as I can.</p>\n\n<p>for example the rows that starts with > remain the same. it becomes like  this </p>\n\n<pre><code>&gt;sp|Q96A73|P33MX_HUMAN Putative monooxygenase p33MONOX OS=Homo sapiens OX=9606 GN=KIAA1191 PE=1 SV=1\nRNDDDDTSVC\nNDDDDTSVCL\nDDDDTSVCLG\nDDDTSVCLGT\n.\n.\n.\n.\n</code></pre>\n"}, {"tags": ["perl", "utf-8"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1554410080, "post_id": 55524455, "comment_id": 97753256, "body": "It&#39;s your job to tell to perl if it&#39;s unicode or not"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1554410122, "post_id": 55524455, "comment_id": 97753270, "body": "The short answer is that <code>use utf-8</code> doesn&#39;t do what you think it does. There are a variety of answers on the site for how to handle utf8 properly in perl."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 1, "creation_date": 1554410149, "post_id": 55524455, "comment_id": 97753287, "body": "<a href=\"https://stackoverflow.com/questions/6162484/why-does-modern-perl-avoid-utf-8-by-default/6163129#6163129\" title=\"why does modern perl avoid utf 8 by default\">stackoverflow.com/questions/6162484/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1554410830, "post_id": 55524513, "comment_id": 97753549, "body": "More specifically, it only applies to source code, so it needs to go in the file with the UTF-8 source code. If your input comes from somewhere else, like a file, STDIN, database, then you will need to ensure it is properly decoded in the manner appropriate to that medium; <code>use utf8</code> will have no effect on that."}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1554411000, "post_id": 55524513, "comment_id": 97753613, "body": "@Grinnz: yes it is sure worth mentioning this, I updated my answer accordingly. Thanks!"}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1554413419, "post_id": 55524513, "comment_id": 97754528, "body": "Thank you. Ironically, my main problem was that our minimal test was actually testing wrong thing (by hard coding utf test string as part of script), this answer explained what the issue was AND that our original solution was indeed solving the wrong problem (we needed use open and perl 5.12 upgrade instead)"}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 3, "last_activity_date": 1554410970, "last_edit_date": 1554410970, "creation_date": 1554410154, "answer_id": 55524513, "question_id": 55524455, "link": "https://stackoverflow.com/questions/55524455/why-dosnt-use-utf-8-work-when-used-inside-a-perl-module/55524513#55524513", "title": "Why dosn&#39;t &quot;use utf-8;&quot; work when used inside a Perl module?", "body": "<p>From <a href=\"https://perldoc.perl.org/utf8.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>The use utf8 pragma tells the Perl parser to allow UTF-8 in the program text in the current lexical scope.</p>\n</blockquote>\n\n<p>In other words, this pragma applies to the current package only. You need to put it in every package whose source code might contain Unicode characters. If your input comes from somewhere else, then you need to ensure that it is properly decoded: the pragma will have no effect on that.</p>\n\n<p>PS: I understand that you meant <code>use utf8</code>, not <code>use utf-8</code> (the latter is not a valid pragma).</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1554439626, "last_edit_date": 1554439626, "creation_date": 1554411469, "answer_id": 55524791, "question_id": 55524455, "link": "https://stackoverflow.com/questions/55524455/why-dosnt-use-utf-8-work-when-used-inside-a-perl-module/55524791#55524791", "title": "Why dosn&#39;t &quot;use utf-8;&quot; work when used inside a Perl module?", "body": "<p><code>use utf8;</code> tells Perl that the current file is encoded using UTF-8. </p>\n\n<p>You have a script that's encoded using UTF-8, so you had to add <code>use utf8;</code> to the script.  (Without it, you might think you have <code>my $x = \"\u00e9\";</code>, but you're telling Perl <code>my $x = \"\u00c3\u00a9\";</code>.)</p>\n\n<p>Adding it to a module makes no sense if it's the script that's encoded using UTF-8. The directive must be added to each file (script or module) that's encoded using UTF-8. (If you pass the bad <code>$x</code> to a module, and the module produces junk because of that, it's still the script that needs to be fixed.)</p>\n"}], "owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 55524513, "answer_count": 2, "score": 0, "last_activity_date": 1554439626, "creation_date": 1554409895, "last_edit_date": 1554410810, "question_id": 55524455, "link": "https://stackoverflow.com/questions/55524455/why-dosnt-use-utf-8-work-when-used-inside-a-perl-module", "title": "Why dosn&#39;t &quot;use utf-8;&quot; work when used inside a Perl module?", "body": "<p>We had a bug in a library, that was caused by one of the inputs being Unicode.</p>\n\n<p>It was fixed by adding <code>use utf8;</code> to the script using that library.</p>\n\n<p>However, adding <code>use utf8;</code> to the library itself (so ALL scripts using that library would be fixed) had no effect.</p>\n\n<p>Why? Can this be addressed? </p>\n"}, {"tags": ["perl", "expect.pm"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1554396866, "post_id": 55520392, "comment_id": 97746901, "body": "It works fine here, using Perl 5.29.3, and Expect.pm version 1.35. I checked that a sent <code>#</code> sign was received correctly by a spawned process, no need to escape it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1554399073, "post_id": 55520392, "comment_id": 97748034, "body": "Please provide a minimal, <i>runnable</i> demonstration of your problem. Specifically, could you provide a short Perl program that use in lieu of <code>.&#47;rec</code> that demonstrates your problem?"}, {"owner": {"reputation": 1267, "user_id": 1708042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c849b9c9766120fe2e6dc0336f52d3fc?s=128&d=identicon&r=PG", "display_name": "user1708042", "link": "https://stackoverflow.com/users/1708042/user1708042"}, "edited": false, "score": 0, "creation_date": 1554401272, "post_id": 55520392, "comment_id": 97749100, "body": "the rec perl equivalent is this oneliner: print &quot;$_\\n&quot; while(&lt;STDIN&gt;); and it is so simple just for debugging"}, {"owner": {"reputation": 1267, "user_id": 1708042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c849b9c9766120fe2e6dc0336f52d3fc?s=128&d=identicon&r=PG", "display_name": "user1708042", "link": "https://stackoverflow.com/users/1708042/user1708042"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1554402947, "post_id": 55520392, "comment_id": 97749915, "body": "the expect is the latest 1.35, installed by hand locally with the dependencies (IO/Pty and IO/Tty version 1.12). I guess the issue is the old perl I cannot change. Or in how I compiled the Pty/Tty locally. Besides on other machine with perl 5.26 it works fine (thanks @H&#229;kon H&#230;gland ), pity I cannot use that."}], "owner": {"reputation": 1267, "user_id": 1708042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c849b9c9766120fe2e6dc0336f52d3fc?s=128&d=identicon&r=PG", "display_name": "user1708042", "link": "https://stackoverflow.com/users/1708042/user1708042"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554394816, "creation_date": 1554393575, "last_edit_date": 1554394816, "question_id": 55520392, "link": "https://stackoverflow.com/questions/55520392/expect-pm-send-trims-the-number-sign", "title": "Expect.pm send trims the number sign", "body": "<p>I'm trying to use Expect.pm on an old machine with perl 5.8.8.\nIt works but when I send a text that contains a \"#\" sign it is removed from the text.\nIs there a way to escape/protect it?</p>\n\n<p>Thanks</p>\n\n<p>Sorry corrected it is 5.8.8</p>\n\n<pre><code>#!/usr/bin/perl\nuse Expect;\nuse IPC::Open2;\nmy $cmd=\"./rec\";\nmy $e = Expect-&gt;new;\n$e-&gt;debug(0);\n$e-&gt;spawn($cmd) or die;\n$e-&gt;log_stdout(1);\n$e-&gt;raw_pty(0);\nmy $cmd=\"#some command\";\nprint \"cmd: [$cmd]\\n\";\n$e-&gt;send($cmd);\n$e-&gt;expect(1,\n  [ qr/^I:.*/ =&gt; sub { my $exp = shift; print \"ok\\n\"; exp_continue;}],\n  [ qr/^E:.*/ =&gt; sub {\n        my $self = shift;\n        print \"ko\\n\";\n        print \"Match: &lt;\\n\", $self-&gt;match, \"\\n&gt;\\n\";\n        print \"Before: &lt;\", $self-&gt;before, \"&gt;\\n\";\n        print \"After: &lt;\", $self-&gt;after, \"&gt;\\n\";\n        exp_continue;\n        }]\n  );\nprint \"closing\\n\";\n$e-&gt;clear_accum();\n$e-&gt;close();\n</code></pre>\n\n<p>the rec is a simple c program chat echoes what it receives for debug purpose and prints only\n    some command\ntaking the # away.\nThe actual program I want to control needs that # I cannot make without it.</p>\n"}, {"tags": ["perl", "arguments", "command-line-arguments", "backslash"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1554374390, "post_id": 55513323, "comment_id": 97732397, "body": "or quote it. <code>echo &#39;\\fish&#39;</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1554372653, "creation_date": 1554372653, "answer_id": 55513323, "question_id": 55512864, "link": "https://stackoverflow.com/questions/55512864/parsing-command-line-arguments-without-ignoring-backslash/55513323#55513323", "title": "Parsing command-line arguments without ignoring backslash", "body": "<p>This isn't really a <code>perl</code> problem, it's your shell. </p>\n\n<p>Try typing:</p>\n\n<pre><code>echo \\fish\n</code></pre>\n\n<p>And you'll see the output:</p>\n\n<pre><code>fish\n</code></pre>\n\n<p><code>perl</code> has the same problem - it's not even seeing that slash in the first place, because the shell is processing the line for escapes and quote first.</p>\n\n<p>The only thing you can change is the invocation. Add an extra slash to the invocation:</p>\n\n<pre><code>echo \\\\fish\n</code></pre>\n\n<p>And you'll get:</p>\n\n<pre><code>\\fish\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 10675821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4097be1d7de1201ca93069000faa8783?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil\u0117 Vaini\u016bt\u0117", "link": "https://stackoverflow.com/users/10675821/kamil%c4%97-vaini%c5%abt%c4%97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 55513323, "answer_count": 1, "score": 1, "last_activity_date": 1554372653, "creation_date": 1554371336, "question_id": 55512864, "link": "https://stackoverflow.com/questions/55512864/parsing-command-line-arguments-without-ignoring-backslash", "title": "Parsing command-line arguments without ignoring backslash", "body": "<p>I need to take the first element of ARGV and save it as my template for searching through files. This element contains a backslash <code>/</code> but when I save it in a variable, the backslash disappears:</p>\n\n<pre><code>my $template = $ARGV[0];\nprint $template;\n</code></pre>\n\n<p>prints out GGCC, while the first argument is GG\\CC. How can I get around this?</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1554367077, "last_edit_date": 1554367077, "creation_date": 1554366125, "answer_id": 55511109, "question_id": 55511037, "link": "https://stackoverflow.com/questions/55511037/multiple-sub-string-matches-using-process-substitution/55511109#55511109", "title": "Multiple sub-string matches using process substitution", "body": "<pre><code>perl -nle'print for /\\$\\(([^)]*)\\)/g'\n</code></pre>\n\n<p>Of course, that assumes that no <code>)</code> exists within <code>$(...)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1554416340, "creation_date": 1554416340, "answer_id": 55525731, "question_id": 55511037, "link": "https://stackoverflow.com/questions/55511037/multiple-sub-string-matches-using-process-substitution/55525731#55525731", "title": "Multiple sub-string matches using process substitution", "body": "<p>With GNU awk for multi-char RS:</p>\n\n<pre><code>$ echo 'declare -a org_val=($(chkconfig --list autofs) $(grep \"^PROMPT=\"/etc/sysconfig/init)' |\nawk -v RS='[$][(][^()]+' 'RT{print substr(RT,3)}'\nchkconfig --list autofs\ngrep \"^PROMPT=\"/etc/sysconfig/init\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 11310094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a00571c9001783f7f36115c7f0dfb7?s=128&d=identicon&r=PG&f=1", "display_name": "lazereyes", "link": "https://stackoverflow.com/users/11310094/lazereyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 55511109, "answer_count": 2, "score": 1, "last_activity_date": 1554416340, "creation_date": 1554365873, "last_edit_date": 1554366229, "question_id": 55511037, "link": "https://stackoverflow.com/questions/55511037/multiple-sub-string-matches-using-process-substitution", "title": "Multiple sub-string matches using process substitution", "body": "<p>I want to do sub-string match within .sh file and extract list of cmds and append it an existing file.</p>\n\n<p>So far I'm using <code>perl -ne</code> and it works with last-matched value shown on screen as</p>\n\n<pre><code>echo 'declare -a org_val=($(chkconfig --list autofs) $(grep \"^PROMPT=\"/etc/sysconfig/init)' |\n    perl -pe 's|.*\\$\\((.*?)\\)\\s+|\\1|g'\n</code></pre>\n\n<p>The following is the output of above command:</p>\n\n<pre><code>grep `\"^PROMPT=\" /etc/sysconfig/init`\n</code></pre>\n\n<p>I also want it to output</p>\n\n<pre><code>chkconfig --list autofs\n</code></pre>\n\n<p>What I did was write a small .sh to and save results of sed in array using command substitution below</p>\n\n<pre><code>#!/bin/bash\nnl='\\n'\ndeclare -a array0\nwhile IFS=$nl read  -r line\ndo\narray0+=$line\n#echo $line\ndone &lt; &lt;( perl -pe 's|.*\\$\\((.*?)\\)\\s+|\\1|g')  &lt; /tmp/sunny\necho \"${array0[@]}\"\n</code></pre>\n\n<p>The <strong>output</strong> of above is</p>\n\n<pre><code>declare -a org_val=($(chkconfig --list autofs) $(grep \"^PROMPT=\" /etc/sysconfig/init)\n</code></pre>\n\n<p>content of <code>/tmp/sunny</code> is </p>\n\n<pre><code>declare -a org_val=($(chkconfig --list autofs) $(grep \"^PROMPT=\" /etc/sysconfig/init) )\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1554350829, "post_id": 55507478, "comment_id": 97720786, "body": "Use a html parser to get at the data you need, not regular expressions."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1554354752, "post_id": 55507478, "comment_id": 97721843, "body": "<a href=\"https://metacpan.org/pod/HTML::TreeBuilder\" rel=\"nofollow noreferrer\">HTML::TreeBuilder</a> for HTML parsing in general, <a href=\"https://metacpan.org/pod/HTML::TableExtract\" rel=\"nofollow noreferrer\">HTML::TableExtract</a> for tables."}, {"owner": {"reputation": 2349, "user_id": 6794384, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153707640356246/picture?type=large", "display_name": "drclaw", "link": "https://stackoverflow.com/users/6794384/drclaw"}, "edited": false, "score": 1, "creation_date": 1554355448, "post_id": 55507478, "comment_id": 97722064, "body": "Is that really the HTML you are trying to parse? I looks ill formatted: spaces between  slash and closing tag name? That would make it tricky if not consistent."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10024424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff1bed139c99e20f8bc26c89fbc22488?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Awan", "link": "https://stackoverflow.com/users/10024424/haroon-awan"}, "edited": false, "score": 1, "creation_date": 1554355298, "post_id": 55507682, "comment_id": 97734878, "body": "Thank you so much, this remark made me curious so I looked code again (800+ lines) I found, I was handling regex modifier incorrectly, I changed and tweaked few lines, it started to work exactly like it suppose to do."}], "tags": [], "owner": {"reputation": 39, "user_id": 2380766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hOd2a.jpg?s=128&g=1", "display_name": "Broquel", "link": "https://stackoverflow.com/users/2380766/broquel"}, "is_accepted": false, "score": 1, "last_activity_date": 1554350776, "creation_date": 1554350776, "answer_id": 55507682, "question_id": 55507478, "link": "https://stackoverflow.com/questions/55507478/extracting-certain-a-href-values-from-any-domain-in-perl/55507682#55507682", "title": "Extracting certain a href values from any domain in Perl", "body": "<p>Try this: </p>\n\n<pre><code>/&lt;\\s*a\\s+.*?href\\s*=\\s*\".*?domain\\/(.*?)\".*?&gt;/`\n</code></pre>\n\n<p>Should extract everything after <code>domain/</code>, up to the next <code>\"</code> found within the <code>href</code> of an <code>&lt;a&gt;</code>.</p>\n\n<p>Not sure how you should manage the regex modifiers, within your code, tho. An <code>m</code> and <code>g</code> might be needed, and an <code>i</code> could be a good idea.</p>\n"}, {"tags": [], "owner": {"reputation": 2349, "user_id": 6794384, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153707640356246/picture?type=large", "display_name": "drclaw", "link": "https://stackoverflow.com/users/6794384/drclaw"}, "is_accepted": true, "score": 1, "last_activity_date": 1554355852, "creation_date": 1554355852, "answer_id": 55508503, "question_id": 55507478, "link": "https://stackoverflow.com/questions/55507478/extracting-certain-a-href-values-from-any-domain-in-perl/55508503#55508503", "title": "Extracting certain a href values from any domain in Perl", "body": "<p>You first regex is almost working, minus the missing spaces to account for in the HTML source and an unescaped quote at the end.\nI've marked out the additions below with ^:</p>\n\n<pre><code>m/&lt; td&gt;&lt; a href= \\\"\\/domain\\/(.*)\\/dns \\\"&gt;(.*?)/g\n   ^    ^       ^                     ^^\n</code></pre>\n\n<p>Hope that helps.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1554939223, "last_edit_date": 1554939223, "creation_date": 1554902239, "answer_id": 55613585, "question_id": 55507478, "link": "https://stackoverflow.com/questions/55507478/extracting-certain-a-href-values-from-any-domain-in-perl/55613585#55613585", "title": "Extracting certain a href values from any domain in Perl", "body": "<p>Isn't it most possibly you meant '$response' should be the extract result? if so, let's have variable for data source enclosed by quotes in Perl notation <code>qq{}</code></p>\n\n<pre><code> '$htmlsrc=qq{&lt;td&gt;&lt;b&gt;\u2010&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;div class=\"\"&gt;Google LLC &lt; / div &gt;&lt;\n / td&gt;&lt; td &gt;&lt; b&gt; \u2010&lt; /b &gt;&lt; /td &gt;&lt; /tr &gt;&lt; tr class=\"data-row \" &gt;&lt; td&gt; 5\n &lt; /td&gt; &lt; td&gt;&lt; a href=\n \"/domain/rate-limited-proxy-66-249-91-229.google.com/dns \"&gt;\n rate-limited-proxy-66-249-91-229.google.com &lt; / a&gt; &lt;/td&gt;\"}\nwhile\n (@response = $htmlsrc =~ /.+?&lt; *a href= *\"\\/domain\\/(.+?)\".*&gt;/) {print\n @response}\n\n rate-limited-proxy-66-249-91-229.google.com/dns\n</code></pre>\n\n<p>extract result is in 'response' array but in this case only has one member corresponding to number of the captured group</p>\n"}], "owner": {"reputation": 13, "user_id": 10024424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff1bed139c99e20f8bc26c89fbc22488?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Awan", "link": "https://stackoverflow.com/users/10024424/haroon-awan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 55508503, "answer_count": 3, "score": 1, "last_activity_date": 1554939223, "creation_date": 1554349266, "last_edit_date": 1554349797, "question_id": 55507478, "link": "https://stackoverflow.com/questions/55507478/extracting-certain-a-href-values-from-any-domain-in-perl", "title": "Extracting certain a href values from any domain in Perl", "body": "<p>I'm writing a Perl program to extract values from <code>&lt;td&gt;</code> and <code>&lt;a href&gt;</code> till <code>&lt;/a&gt;</code> and most likely I want result after <code>/domain/</code> as mentioned in the HTML source code. I need to use this kind of information in the future more often, so please guide me.</p>\n\n<p>My question: where am I going wrong and why? I read many regex pages, but they didn't help at all.</p>\n\n<h1>Snippet from Perl program</h1>\n\n<p>Regex 1:</p>\n\n<pre><code>while ($response =~ m/&lt;td&gt;&lt;a href=\\\"\\/domain\\/(.*?)\\/dns\"&gt;(.*?)/g )\n</code></pre>\n\n<p>Regex 2:</p>\n\n<pre><code>while($response =~  s/((?:href|domain))\\=\\\"([^{].*?)/ig ) {\n</code></pre>\n\n<h1>HTML source code</h1>\n\n<pre><code>&lt;td&gt;&lt;b&gt;\u2010&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;div class=\"\"&gt;Google LLC &lt; / div &gt;&lt; / td&gt;&lt; td &gt;&lt; b&gt; \u2010&lt; /b &gt;&lt; /td &gt;&lt; /tr &gt;&lt; tr class=\"data-row \" &gt;&lt; td&gt; 5 &lt; /td&gt; &lt; td&gt;&lt; a href= \"/domain/rate-limited-proxy-66-249-91-229.google.com/dns \"&gt; rate-limited-proxy-66-249-91-229.google.com &lt; / a&gt; &lt; /td&gt;\n</code></pre>\n"}, {"tags": ["perl", "parse-recdescent"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554350867, "post_id": 55507048, "comment_id": 97720792, "body": "Those are parentheses, not quotes."}, {"owner": {"reputation": 567, "user_id": 9652562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff7179b8082590d9450b7783721493cb?s=128&d=identicon&r=PG&f=1", "display_name": "jsor", "link": "https://stackoverflow.com/users/9652562/jsor"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1554491138, "post_id": 55507048, "comment_id": 97786997, "body": "Yes you are right ! and thank you very much for your answer its what i need , also the link is every helpful!"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1554506994, "last_edit_date": 1554506994, "creation_date": 1554350354, "answer_id": 55507620, "question_id": 55507048, "link": "https://stackoverflow.com/questions/55507048/parserecdescent-and-operators-with-quotes/55507620#55507620", "title": "Parse::RecDescent and operators with quotes", "body": "<p>At the core, you want</p>\n\n<pre><code>expr    : log_or\n\nlog_or  : log_or 'or' log_and\n        | log_and\n\nlog_and : log_and 'and' cmp\n        | cmp\n\ncmp     : cmp /=|&lt;[&gt;=]?|&gt;=?/ term\n        | term\n\nterm    : '(' expr ')'\n        | IDENT\n        | NUMBER\n</code></pre>\n\n<p>After <a href=\"https://www.perlmonks.org/?node_id=553889\" rel=\"nofollow noreferrer\">eliminating left-recursion</a> and adding the necessary code blocks, you get the following:</p>\n\n<pre><code>my $grammar = &lt;&lt;'__EOS__';\n\n   {\n      # The code in rules is also covered by these pragmas.\n      use strict;\n      use warnings;\n   }\n\n   parse    : expr /\\Z/ { $item[1] }\n\n   # ----------------------------------------\n   # Rules\n\n   expr     : log_or { $item[1] }\n\n   # ---vvv--- Lowest precedence ---vvv---\n\n   log_or   : log_and log_or_[ $item[1] ]\n   log_or_  : 'or' log_and log_or_[ [ $item[1], $arg[0], $item[2] ] ]\n            | { $arg[0] }\n\n   log_and  : cmp log_and_[ $item[1] ]\n   log_and_ : 'and' cmp log_and_[ [ $item[1], $arg[0], $item[2] ] ]\n            | { $arg[0] }\n\n   cmp      : term cmp_[ $item[1] ]\n   cmp_     : /=|&lt;[&gt;=]?|&gt;=?/ term cmp_[ [ $item[1], $arg[0], $item[2] ] ]\n            | { $arg[0] }\n\n   # ---^^^--- Highest precedence ---^^^---\n\n   term     : '(' expr ')' { $item[2] }\n            | IDENT  { [ $item[0], $item[1] ] }\n            | NUMBER { [ $item[0], $item[1] ] }\n\n   # ----------------------------------------\n   # Tokens\n\n   IDENT    : /\\w+/\n   NUMBER   : /\\d+/\n\n__EOS__\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 9652562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff7179b8082590d9450b7783721493cb?s=128&d=identicon&r=PG&f=1", "display_name": "jsor", "link": "https://stackoverflow.com/users/9652562/jsor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 55507620, "answer_count": 1, "score": 1, "last_activity_date": 1554552938, "creation_date": 1554345430, "last_edit_date": 1554552938, "question_id": 55507048, "link": "https://stackoverflow.com/questions/55507048/parserecdescent-and-operators-with-quotes", "title": "Parse::RecDescent and operators with quotes", "body": "<p>I have something like the following:</p>\n\n<pre><code>((x=2 or y=3 ) and (r=3 and c=3) or (x=5 and g=6))\n</code></pre>\n\n<p>I defined:</p>\n\n<pre><code>Token : /\\w \\= \\d/\noperator or|and\nexpression : token operator(s)\nquoted_expression : \"(\"expression\")\"\nquery : expression (s)|quoted_expression(s)\n</code></pre>\n\n<p>But I have a problem with parsing the above condition any idea how to parse the above?</p>\n"}]