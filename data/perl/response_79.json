[{"tags": ["linux", "perl", "return", "tar", "exit-code"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1468448575, "post_id": 38362667, "comment_id": 64137707, "body": "It should print an error message on standard error when it gets an error."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1468448621, "post_id": 38362667, "comment_id": 64137720, "body": "There&#39;s no way for us to know what it could be, there are many possible reasons for an error."}, {"owner": {"reputation": 1, "user_id": 6586744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bde1009fcd9a7495869e8399feaa1624?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav", "link": "https://stackoverflow.com/users/6586744/pranav"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1468448632, "post_id": 38362667, "comment_id": 64137724, "body": "It doesn&#39;t. I am even using --verbose but it doesn&#39;t give an error message"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1468448656, "post_id": 38362667, "comment_id": 64137734, "body": "What happens if you try the exact same <code>tar</code> command by hand?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 2, "creation_date": 1468448692, "post_id": 38362667, "comment_id": 64137749, "body": "<code>tar</code>&#39;s <code>z</code> option tells it to use <code>gzip</code>, but the <code>.tar</code> suffix implies that it&#39;s an uncompressed tar file."}, {"owner": {"reputation": 1, "user_id": 6586744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bde1009fcd9a7495869e8399feaa1624?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav", "link": "https://stackoverflow.com/users/6586744/pranav"}, "edited": false, "score": 0, "creation_date": 1468449044, "post_id": 38362667, "comment_id": 64137868, "body": "When I use the same command by hand it untars the file properly. Sorry about that it is .tar.gz"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1468449421, "post_id": 38362667, "comment_id": 64137983, "body": "What do you mean by <i>&quot;tar exit code of -1&quot;</i>?  The code you show will not give you the exit code of <code>tar</code>.  If <code>system</code> returns anything other than a <code>0</code> that <i>does not</i> tell you a thing about how <code>tar</code> did, it only tells you that the command itself didn&#39;t run fine. Can you show us all relevant code?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468450228, "post_id": 38362667, "comment_id": 64138277, "body": "@zdim: On a POSIX system, the value returned by <code>system()</code> is <code>-1</code> if something went wrong with <code>system</code> itself (for example if <code>fork()</code> failed); otherwise the value includes the exit status of the invoked process. Pranav: Your code shows the result of <code>system()</code> being discarded. Are you actually printing the value returned by the <code>system()</code> function? And is it actually returning <code>-1</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1468450355, "post_id": 38362667, "comment_id": 64138324, "body": "@KeithThompson  Yes, that was my point.  The shown code will not reveal anything about what <code>tar</code> did.  If the OP actually unpacks the <code>$?</code> they should show this. I am also concerned with how those multiple files are being iterrated, then with output file/dir naming, etc."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1468450954, "post_id": 38362667, "comment_id": 64138494, "body": "You could be running into a per-user process limit. Are you running multiple commands in parallel? That would explain why fork fails, which would return -1."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1468461669, "last_edit_date": 1468461669, "creation_date": 1468454533, "answer_id": 38363551, "question_id": 38362667, "link": "https://stackoverflow.com/questions/38362667/systemtar-xzf-dirname-tarfile-tar-dirnameinsidetar-filename-in-perl-fails-an/38363551#38363551", "title": "system(&quot;tar xzf DirName/tarFile.tar DirNameInsideTar/FileName&quot;) in perl fails and returns -1", "body": "<p>When <code>system</code> returns <code>-1</code>, <code>$!</code> contains the error message.</p>\n\n<pre><code>system(\"tar xzf DirName/tarFile.tar DirNameInsideTar/FileName\");\n\ndie(\"Can't execute command: $!\\n\")              if $? == -1;\ndie(\"Child killed by signal \".($? &amp; 0x7F).\"\\n\") if $? &amp; 0x7F;\ndie(\"Child exited with error \".($? &gt;&gt; 8).\"\\n\")  if $? &gt;&gt; 8;\n</code></pre>\n\n<p>(The value returned by <code>system</code> is also available as <code>$?</code>.)</p>\n"}], "owner": {"reputation": 1, "user_id": 6586744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bde1009fcd9a7495869e8399feaa1624?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav", "link": "https://stackoverflow.com/users/6586744/pranav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1468461669, "creation_date": 1468448495, "last_edit_date": 1468448576, "question_id": 38362667, "link": "https://stackoverflow.com/questions/38362667/systemtar-xzf-dirname-tarfile-tar-dirnameinsidetar-filename-in-perl-fails-an", "title": "system(&quot;tar xzf DirName/tarFile.tar DirNameInsideTar/FileName&quot;) in perl fails and returns -1", "body": "<p>What does tar exit code of -1 means? I am using the command </p>\n\n<pre><code>system(\"tar xzf DirName/tarFile.tar DirNameInsideTar/FileName\") \n</code></pre>\n\n<p>to untar from perl script. I am trying to untar around 1000  tar files but randomly after untarring sometimes 100 or sometimes 500 tar files the system command fails and returns -1. I checked both the memory usage of the code and disk space available and both seems fine. Does anyone know what the error could be?</p>\n"}, {"tags": ["mysql", "perl", "database-replication", "high-availability", "percona"], "comments": [{"owner": {"reputation": 138, "user_id": 5633454, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3XPmv.jpg?s=128&g=1", "display_name": "kjosh", "link": "https://stackoverflow.com/users/5633454/kjosh"}, "edited": false, "score": 0, "creation_date": 1468442820, "post_id": 38359059, "comment_id": 64135192, "body": "Also made changes in my.cnf by putting information of slave IP and port for fields <code>report_host</code> and <code>report_port=3306</code> and restarted the service. It did not work.  Follwed  <a href=\"http://www.fromdual.com/check-and-fix-mysql-replication-inconsistencies\" rel=\"nofollow noreferrer\">fromdual.com/check-and-fix-mysql-replication-inconsistencies</a>"}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 5633454, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3XPmv.jpg?s=128&g=1", "display_name": "kjosh", "link": "https://stackoverflow.com/users/5633454/kjosh"}, "edited": false, "score": 0, "creation_date": 1468521053, "post_id": 38380139, "comment_id": 64173115, "body": "I could not connect to slave, working with infrastructure team on that. As soon as they grant the access I will try running pt-table-checksum cmd without socket options. Will keep you posted, Thanks for you help @FranciscoBordenave"}, {"owner": {"reputation": 138, "user_id": 5633454, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3XPmv.jpg?s=128&g=1", "display_name": "kjosh", "link": "https://stackoverflow.com/users/5633454/kjosh"}, "edited": false, "score": 0, "creation_date": 1468530839, "post_id": 38380139, "comment_id": 64178643, "body": "I am able to connect slave after making some changes in infrastructure. I also removed socket options from dsns table. However, it did not work. I dont see the pt-table-checksums output. Please find the below code."}, {"owner": {"reputation": 138, "user_id": 5633454, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3XPmv.jpg?s=128&g=1", "display_name": "kjosh", "link": "https://stackoverflow.com/users/5633454/kjosh"}, "edited": false, "score": 0, "creation_date": 1468531096, "post_id": 38380139, "comment_id": 64178758, "body": "<code>mysql&gt; select * from dsns; | id | parent_id | dsn                            | +----+-----------+--------------------------------+ |  1 |         0 | h=10.200.231.22,u=ptc,p=secret | |  3 |         0 | h=10.200.231.82,u=ptc,p=secret | +----+-----------+--------------------------------+ 2 rows in set (0.00 sec)</code> @FranciscoBordenave"}, {"owner": {"reputation": 138, "user_id": 5633454, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3XPmv.jpg?s=128&g=1", "display_name": "kjosh", "link": "https://stackoverflow.com/users/5633454/kjosh"}, "edited": false, "score": 0, "creation_date": 1468531108, "post_id": 38380139, "comment_id": 64178763, "body": "<code>mysql&gt; exit Bye mysql@server&gt;.&#47;pt-table-checksum h=10.200.231.82,P=3306,u=ptc,p=secret --recursion-method=dsn=D=percona,t=dsns mysql@server:&#47;u01&#47;app&#47;mysql&#47;product&#47;bmirschd02my1&#47;percona-to&zwnj;&#8203;olkit-2.2.16&#47;bin&gt;mys&zwnj;&#8203;ql -uptc -psecret -h10.200.231.82 mysql&gt; </code> @FranciscoBordenave"}], "tags": [], "owner": {"reputation": 46, "user_id": 6590644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aa2e7ee09ef2a3a35e9cd48da2db74a?s=128&d=identicon&r=PG", "display_name": "Francisco Bordenave", "link": "https://stackoverflow.com/users/6590644/francisco-bordenave"}, "is_accepted": true, "score": 3, "last_activity_date": 1468515750, "creation_date": 1468515750, "answer_id": 38380139, "question_id": 38359059, "link": "https://stackoverflow.com/questions/38359059/percona-diffs-cannot-be-detected-because-no-slaves-were-found/38380139#38380139", "title": "Percona: Diffs cannot be detected because no slaves were found", "body": "<p>Kjosh, </p>\n\n<p>Have you tried connecting to your slave from master? in first example seems user might not have permissions to connect to slave, try this: \nmysql -uptc -psecret -h10.200.213.92 to see if you can connect, if not then you need to provide access to master host (i.e. via grant command allowing host 10.200.213.32) \nIn second option you need to remove socket options because they are only for localhost connections, still the recommendations to review if host is allowed to connect to slave applies. \nHope this helps. </p>\n\n<p>Francisco. </p>\n"}], "owner": {"reputation": 138, "user_id": 5633454, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3XPmv.jpg?s=128&g=1", "display_name": "kjosh", "link": "https://stackoverflow.com/users/5633454/kjosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1156, "favorite_count": 0, "accepted_answer_id": 38380139, "answer_count": 1, "score": 1, "last_activity_date": 1489587883, "creation_date": 1468433888, "question_id": 38359059, "link": "https://stackoverflow.com/questions/38359059/percona-diffs-cannot-be-detected-because-no-slaves-were-found", "title": "Percona: Diffs cannot be detected because no slaves were found", "body": "<p>I am trying to use tool Percona to see inconsistencies of data on Master-Slave MySQL instances. Master and Slave are on different servers. I tried to run pt-table-checksum using recursion method as process-list below is the error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VN1ml.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VN1ml.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried to run pt-table-checksum using recursion method as dsn method below is the error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YQx35.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YQx35.png\" alt=\"enter image description here\"></a></p>\n\n<p>bxxmysqld1 master : 10.200.213.32 : bxxxxd02my1</p>\n\n<p>bxxmysqld2 slave : 10.200.213.92  : bxxxxd02my2</p>\n\n<p>I am not sure what configuration I can try now. Any suggestions and ideas are helpful. Please suggest if I can try other recursion method. Thank you!</p>\n\n<p>References: \n<a href=\"https://www.percona.com/doc/percona-toolkit/2.2/pt-table-checksum.html\" rel=\"nofollow noreferrer\">https://www.percona.com/doc/percona-toolkit/2.2/pt-table-checksum.html</a></p>\n\n<p><a href=\"https://www.percona.com/forums/questions-discussions/percona-toolkit/35307-pt-table-checksum-connect-to-a-slave-without-ip-connection\" rel=\"nofollow noreferrer\">https://www.percona.com/forums/questions-discussions/percona-toolkit/35307-pt-table-checksum-connect-to-a-slave-without-ip-connection</a></p>\n\n<p><a href=\"https://www.percona.com/forums/questions-discussions/percona-toolkit/16772-pt-table-checksum-percona-toolkit-2-2-7-1-not-able-to-find-the-slaves\" rel=\"nofollow noreferrer\">https://www.percona.com/forums/questions-discussions/percona-toolkit/16772-pt-table-checksum-percona-toolkit-2-2-7-1-not-able-to-find-the-slaves</a></p>\n"}, {"tags": ["bash", "perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6585389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8dbf7d57fa4d0f13c71ccb7460f0d04?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/6585389/tom"}, "edited": false, "score": 0, "creation_date": 1468438760, "post_id": 38358634, "comment_id": 64133044, "body": "Thank you very much. Easy to implement in just one line! Since I am quite new to Bash one also must not forget to save or rewrite the new file using e.g. the -i flag (as pointed out by ikegami)."}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1468432457, "creation_date": 1468432457, "answer_id": 38358634, "question_id": 38358462, "link": "https://stackoverflow.com/questions/38358462/remove-last-character-of-previous-line-under-condition/38358634#38358634", "title": "Remove last character of previous line under condition", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r 'N;s/&amp;([^&amp;]*\\n\\s*AA)/\\1/;P;D' file\n</code></pre>\n\n<p>Read two lines into the pattern space (PS) and using pattern matching remove the <code>&amp;</code> from the first line if the second line begins (less whitespace) with <code>AA</code>.</p>\n\n<p>N.B. this caters for the second line also containing an <code>&amp;</code> etc, etc...</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 6585389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8dbf7d57fa4d0f13c71ccb7460f0d04?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/6585389/tom"}, "edited": false, "score": 1, "creation_date": 1468438546, "post_id": 38358636, "comment_id": 64132941, "body": "That works perfectly fine. Many thanks for the answer and elaborate explanation! Indeed, my F90 file comprises about 10,000 lines, so the first option is less optimal; yet working! Wokred after some trial and error since I forgot the -i flag (as pointed out by ikegami)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1468442203, "post_id": 38358636, "comment_id": 64134904, "body": "10,000 lines? If your lines are no more than 100 characters long, you&#39;re talking about a file no larger than 10MB. That should easily fit in memory. Might as well go with the simpler and faster version that loads the entire file into memory."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1468464260, "post_id": 38358636, "comment_id": 64141425, "body": "<code>&amp;</code> isn&#39;t an RE metacharacter so it doesn&#39;t need to be inside a bracket expression <code>[&amp;]</code>. <code>$1 ~ &#47;^AA&#47;</code> would be more forgiving to leading white space than <code>&#47;^ AA&#47;</code>."}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 3, "last_activity_date": 1468862059, "last_edit_date": 1468862059, "creation_date": 1468432459, "answer_id": 38358636, "question_id": 38358462, "link": "https://stackoverflow.com/questions/38358462/remove-last-character-of-previous-line-under-condition/38358636#38358636", "title": "Remove last character of previous line under condition", "body": "<h3>Using sed</h3>\n\n<p>Using GNU sed:</p>\n\n<pre><code>$ sed -z 's/&amp;\\n AA/\\n AA/g' file\n F = 2 * 3 * a * b * 7&amp;\n&amp; * 3 * b * c\n AA = ...\n</code></pre>\n\n<p>To keep this command simple, we use the <code>-z</code> option to read in the whole file at once.  (Technically, <code>-z</code> reads in NUL-separated input.  Since no valid Fortran file contains a NUL, this has the effect of reading in the whole file.)</p>\n\n<p><code>s/&amp;\\n AA/\\n AA/g</code> does the substitution that we want.   Any place where the file contains <code>&amp;</code> followed by newline followed by space followed by <code>AA</code>, this substitution removes the <code>&amp;</code>.</p>\n\n<p>Reading the whole file in at once is not a good approach if the file is too big to fit in memory.  This should not be a problem for Fortran files.</p>\n\n<p>For non-GNU sed (BSD, OSX), we need to add code to replace the <code>-z</code> flag:</p>\n\n<pre><code>sed 'H;1h;$!d;x;  s/&amp;\\n AA/\\n AA/g' file\n</code></pre>\n\n<h3>Using awk</h3>\n\n<pre><code>$ awk '{if (/^ AA/) sub(/[&amp;]$/, \"\", last); if (NR&gt;1) print last; last=$0} END{print last}' file\n F = 2 * 3 * a * b * 7&amp;\n&amp; * 3 * b * c\n AA = ...\n</code></pre>\n\n<p>How it works:</p>\n\n<p>This script uses one variable <code>last</code> which contains the contents of the previous line.  If the current line starts with <code>AA</code>, then we remove, if present, the final <code>&amp;</code> from <code>last</code>.  In more detail:</p>\n\n<ul>\n<li><p><code>if (/^ AA/) sub(/&amp;$/, \"\", last)</code></p>\n\n<p>If the current line starts with <code>AA</code>, then remove the final <code>&amp;</code> from the previous line.</p></li>\n<li><p><code>if (NR&gt;1) print last</code></p>\n\n<p>If we are not on the first line, then print the previous line.</p></li>\n<li><p><code>last=$0</code></p>\n\n<p>Save the current line as <code>last</code>.</p></li>\n<li><p><code>END{print last}</code></p>\n\n<p>After we reach the end of the file, print <code>last</code>.</p></li>\n</ul>\n\n<h3>Changing files in-place</h3>\n\n<p>With GNU sed:</p>\n\n<pre><code>sed -zi.bak 's/&amp;\\n AA/\\n AA/g' file\n</code></pre>\n\n<p>With other sed:</p>\n\n<pre><code>sed -i.bak 'H;1h;$!d;x;  s/&amp;\\n AA/\\n AA/g' file\n</code></pre>\n\n<p>With recent GNU awk:</p>\n\n<pre><code>awk -i inplace '{if (/^ AA/) sub(/&amp;$/, \"\", last); if (NR&gt;1) print last; last=$0} END{print last}' file\n</code></pre>\n\n<p>With older awk or non-GNU awk:</p>\n\n<pre><code>awk '{if (/^ AA/) sub(/&amp;$/, \"\", last); if (NR&gt;1) print last; last=$0} END{print last}' file &gt;file.tmp &amp;&amp; mv file.tmp file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 6585389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8dbf7d57fa4d0f13c71ccb7460f0d04?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/6585389/tom"}, "edited": false, "score": 0, "creation_date": 1468438618, "post_id": 38359982, "comment_id": 64132966, "body": "That works just perfect. I didn&#39;t try the first option though due to memory concerns. Many thanks!!!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1468438219, "last_edit_date": 1468438219, "creation_date": 1468437485, "answer_id": 38359982, "question_id": 38358462, "link": "https://stackoverflow.com/questions/38358462/remove-last-character-of-previous-line-under-condition/38359982#38359982", "title": "Remove last character of previous line under condition", "body": "<p>It becomes quite easy if you load the entire file into memory (as <code>-0777</code> causes).</p>\n\n<pre><code>perl -0777pe's/&amp;(?=\\n[^\\S\\n]*AA)//g'\n</code></pre>\n\n<p>Doing it without loading the entire file into memory is done using a sliding window.</p>\n\n<pre><code>perl -ne'$p=~s/&amp;(?=\\n)// if /^\\s*AA/; print $p; $p=$_; END { print $p }'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -pe'print $s if !/\\s*AA/; $s = s/&amp;\\n// ? $&amp; : \"\"; END { print $s }'\n</code></pre>\n\n<p>All three accept any number of spaces and tabs before the <code>AA</code>.</p>\n\n<p>Usage:</p>\n\n<pre><code>perl ... file.in &gt;file.out    # From a file\nperl ... &lt;file.in &gt;file.out   # From STDIN\nperl -i~ ... file             # \"In-place\", with backup\nperl -i ... file              # \"In-place\", without backup\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6585389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8dbf7d57fa4d0f13c71ccb7460f0d04?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/6585389/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "accepted_answer_id": 38358636, "answer_count": 3, "score": 2, "last_activity_date": 1468862059, "creation_date": 1468431877, "last_edit_date": 1495541298, "question_id": 38358462, "link": "https://stackoverflow.com/questions/38358462/remove-last-character-of-previous-line-under-condition", "title": "Remove last character of previous line under condition", "body": "<p>Using bash, from the following piece of F90 code, I try to remove the last \"&amp;\" if the next line begins with a \"AA\" (note the whitespace before AA).</p>\n\n<pre><code>     F = 2 * 3 * a * b * 7&amp;\n    &amp; * 3 * b * c&amp;\n     AA = ...\n</code></pre>\n\n<p>should become </p>\n\n<pre><code>     F = 2 * 3 * a * b * 7&amp;\n    &amp; * 3 * b * c\n     AA = ...\n</code></pre>\n\n<p>There has been a suggestion on <a href=\"https://stackoverflow.com/questions/26997213/bash-remove-the-last-character-of-the-line-this-before\">Bash - Remove the last character of the line this before?</a> . \nBased on this, I tried </p>\n\n<pre><code>perl -0pe 's/\\&amp;\\n\\s*AA/\\nAA/g' $MYFILE\n</code></pre>\n\n<p>and also </p>\n\n<pre><code>sed -i 's/\\&amp;\\n\\s*AA/\\nAA/g' $MYFILE\n</code></pre>\n\n<p>which does not create any errors but also does not change anything. I also tried without <code>\\s*</code> .</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 3, "creation_date": 1468430754, "post_id": 38358029, "comment_id": 64128489, "body": "Sounds like HTML? Do you have example input?"}, {"owner": {"reputation": 1034, "user_id": 3080003, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/44d452fc56bec22a28feb6c0671a3581?s=128&d=identicon&r=PG&f=1", "display_name": "Sophia_ES", "link": "https://stackoverflow.com/users/3080003/sophia-es"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1468431654, "post_id": 38358029, "comment_id": 64129018, "body": "Yes ---- I am talking about HTML --- but preparing an example may take a while, as this question is to allow a script to accommodate a situation that may occur at any moment in the future, not one that already has."}, {"owner": {"reputation": 1034, "user_id": 3080003, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/44d452fc56bec22a28feb6c0671a3581?s=128&d=identicon&r=PG&f=1", "display_name": "Sophia_ES", "link": "https://stackoverflow.com/users/3080003/sophia-es"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1468431974, "post_id": 38358029, "comment_id": 64129208, "body": "Actually --- the kinds of files I&#39;m talking about are text files that incorporate HTML tags ---- text files that I will later copy/paste into a WordPress blog. I&#39;m writing a script that will take the file and generate a stylized HTML preview."}, {"owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "edited": false, "score": 1, "creation_date": 1468441957, "post_id": 38358029, "comment_id": 64134775, "body": "This may be an AB issue.  If you are trying to extract and sanitize chunks of HTML you want to use an HTML parser that can handle html fragments.  I really like HTML::TreeBuilder from the HTML-Tree distribution for this sort of task.  <a href=\"https://metacpan.org/release/HTML-Tree\" rel=\"nofollow noreferrer\">metacpan.org/release/HTML-Tree</a>"}, {"owner": {"reputation": 12533, "user_id": 931027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWhaB.jpg?s=128&g=1", "display_name": "Kusalananda", "link": "https://stackoverflow.com/users/931027/kusalananda"}, "edited": false, "score": 0, "creation_date": 1468485536, "post_id": 38358029, "comment_id": 64149743, "body": "&quot;I&#39;ve just learn&#39;t to use regular expressions, so now I want to parse HTML&quot;.  Don&#39;t <i>do</i> that.  Use an XML or HTML parser for it instead."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469251053, "post_id": 38358029, "comment_id": 64469898, "body": "@Sophia_ES What happened with this in the end? Please see <a href=\"http://stackoverflow.com/help/someone-answers\"><code>What should I do when someone answers my question?</code></a> If there are still questions please let us know."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468431974, "post_id": 38358245, "comment_id": 64129207, "body": "it didn&#39;t sound like the \\n would be right before the <code>&gt;</code>, so remove <code>&gt;</code> from both parts of the substitution (and add the requested space character).  also, if there are \\n in multiple tags, you want /g, and if there are mulitple \\n in a single tag, you want <code>1 while $string =~ ...</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468432303, "post_id": 38358245, "comment_id": 64129403, "body": "@ysth Thank you -- yes, perils of mixing regex and HTML ... can&#39;t follow up now so will remove this until I can (unless someone else takes care of it :). Thank you."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1492585847, "last_edit_date": 1495541860, "creation_date": 1468431102, "answer_id": 38358245, "question_id": 38358029, "link": "https://stackoverflow.com/questions/38358029/perl-eplacing-newline-characters-inside-fish-brackets-while-leaving-other-newli/38358245#38358245", "title": "PERL eplacing newline characters inside fish-brackets, while leaving other newline characters untouched?", "body": "<p>The (X)HTML/XML <a href=\"https://stackoverflow.com/a/1732454/4653379\"><code>shouldn't be parsed with regex</code></a>. But since no description of the problem is given here is a way to go at it. Hopefully it demonstrates how tricky and involved this can get.</p>\n\n<p>You can match a newline itself. Together with details of how linefeeds may come in text</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $text = do {  # read all text into one string\n   local $/;\n   &lt;DATA&gt;;\n};\n\n1 while $text =~ s/&lt; ([^&gt;]*) \\n ([^&gt;]*) &gt;/&lt;$1 $2&gt;/gx;\n\nprint $text;\n\n__DATA__\nstart &lt; inside tags&gt; no new line\nagain &lt;inside, with one nl  \n&gt; out\nmore &lt;inside, with two NLs\n\n     and more text\n&gt;\n</code></pre>\n\n<p>This prints</p>\n\n<p></p>\n\n<pre><code>start &lt; inside tags&gt; no new line\nagain &lt;inside, with one nl   &gt; out\nmore &lt;inside, with two NLs      and more text  &gt;\n</code></pre>\n\n<p>The <em>negated character class</em> <code>[^&gt;]</code> matches anything other than <code>&gt;</code>, optionally and any number of times with <code>*</code>, up to an <code>\\n</code>. Then another such pattern follows <code>\\n</code>, up to the closing <code>&gt;</code>. The <code>/x</code> modifier allows spaces inside, for readability.  We also need to consider two particular cases. </p>\n\n<ul>\n<li><p>There may be multiple <code>\\n</code> inside <code>&lt;...&gt;</code>, for which the <code>while</code> loop is a clean solution. </p></li>\n<li><p>There may be multiple <code>&lt;...&gt;</code> with <code>\\n</code>, which is what <code>/g</code> is for.  </p></li>\n</ul>\n\n<p>The <code>1 while ...</code> idiom is another way to write <code>while (...) { }</code>, where the body of the loop is empty so everything happens in the condition, which is repeatedly evaluated until false. In our case the substitution keeps being done in the condition until there is no match, when the loop exits.</p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/17389/ysth\"><code>ysth</code></a> for bringing up these points and for the <code>1 while ...</code> solution.</p>\n\n<p>All of this necessary care for various details and edge cases (of which there may be more) hopefully convinces you that it is better to reach for an HTML parsing module suitable for the particular task.  For this we'd need to know more about the problem.</p>\n"}, {"comments": [{"owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "edited": false, "score": 0, "creation_date": 1468457293, "post_id": 38361642, "comment_id": 64139970, "body": "I stand corrected, if you are willing to scan the text multiple times @zdim&#39;s  solution is fairly clean."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468484700, "post_id": 38361642, "comment_id": 64149208, "body": "There&#39;s no need for multiple scans. See my answer"}, {"owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468506205, "post_id": 38361642, "comment_id": 64163722, "body": "Interesting, I&#39;d never thought of using a tr inside a s. Cool stuff!"}], "tags": [], "owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "is_accepted": false, "score": 2, "last_activity_date": 1468443710, "creation_date": 1468443710, "answer_id": 38361642, "question_id": 38358029, "link": "https://stackoverflow.com/questions/38358029/perl-eplacing-newline-characters-inside-fish-brackets-while-leaving-other-newli/38361642#38361642", "title": "PERL eplacing newline characters inside fish-brackets, while leaving other newline characters untouched?", "body": "<p>I honestly don't recommend doing this with regular expressions. Besides the fact that you should never parse html with a regular expression, it's also a pain to do negative matches with regular expressions and anyone reading the code will honestly have no idea what you just did.  Doing it manually on the other hand is really easy to understand.</p>\n\n<p>This code assumes well formed html that doesn't have tags starting inside the definition of other tags (otherwise you would have to track all the instances and increment/decrement a count appropriately) and it does not handle &lt; or > inside quoted strings which isn't the most common thing. And if you're doing all that I really recommend you use a real html parser, there are many of them.</p>\n\n<p>Obviously if you're not reading this from a filehandle, the loop would be going over an array of lines (or the output of splitting the whole text, though you would instead be appending ' ' or \"\\n\" depending on the inside variable if you split since it would remove the newline)</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# Default to being outside a tag\nmy $inside = 0;\n\nwhile(my $line = &lt;DATA&gt;) {\n  # Find the last &lt; and &gt; in the string\n  my ($open, $close) = map { rindex($line, $_) } qw(&lt; &gt;);\n  # Update our state accordingly.\n  if ($open &gt; $close) {\n    $inside = 1;\n  } elsif ($open &lt; $close) {\n    $inside = 0;\n  }\n  # If we're inside a tag change the newline (last character in the line) with a space. If you instead want to remove it you can use the built-in chomp.\n  if ($inside) {\n    # chomp($line);\n    substr($line, -1) = ' ';\n  }\n  print $line;\n}\n\n__DATA__\nThis is some text\nand some more\n&lt;enclosed&gt;&lt;a\n b\n c\n&gt; &lt;d\n e\n f\n&gt;\n&lt;g h i\n\n\n\n&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468484544, "post_id": 38364146, "comment_id": 64149091, "body": "It is bad practice to use <code>\\1</code>, <code>\\2</code> etc. in the replacement part of a substitution, as they normally insert characters with codes 1, 2 etc. A warning <code>\\1 better written as $1</code> is issued if <code>use warnings &#39;syntax&#39;</code> is enabled, which it should be."}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1468459771, "creation_date": 1468459771, "answer_id": 38364146, "question_id": 38358029, "link": "https://stackoverflow.com/questions/38358029/perl-eplacing-newline-characters-inside-fish-brackets-while-leaving-other-newli/38364146#38364146", "title": "PERL eplacing newline characters inside fish-brackets, while leaving other newline characters untouched?", "body": "<p>Given:</p>\n\n<pre><code>$ echo \"$txt\"\nLine 1\nLine 2\n    &lt; fish tag line 1\n and line 2 &gt;\n\n&lt; line 3 &gt;\n\n    &lt; fish tag line 4\n and line 5 &gt;\n</code></pre>\n\n<p>You can do:</p>\n\n<pre><code>$ echo \"$txt\" | perl -0777 -lpe \"s/(&lt;[^\\n&gt;]*)\\n+([^&gt;]*&gt;)/\\1\\2/g\"\nLine 1\nLine 2\n    &lt; fish tag line 1 and line 2 &gt;\n\n&lt; line 3 &gt;\n\n    &lt; fish tag line 4 and line 5 &gt;\n</code></pre>\n\n<p>I will echo that this only works in limited cases. Please do not get in the general habit of using a regex for HTML. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1468485024, "last_edit_date": 1495540020, "creation_date": 1468483814, "answer_id": 38368815, "question_id": 38358029, "link": "https://stackoverflow.com/questions/38358029/perl-eplacing-newline-characters-inside-fish-brackets-while-leaving-other-newli/38368815#38368815", "title": "PERL eplacing newline characters inside fish-brackets, while leaving other newline characters untouched?", "body": "\n\n<p>This solution uses <a href=\"https://stackoverflow.com/a/38358245/622310\">zdim's data</a> (thanks, zdim)</p>\n\n<p>I prefer to use an <em>executable</em> replacement together with the non-destructive option of the <code>tr///</code> operator</p>\n\n<p>This solution finds all occurrences of strings enclosed in angle brackets <code>&lt;...&gt;</code> and alters all newlines within each one to single spaces</p>\n\n<p>Note that it would be simple to allow for quoted substrings containing any characters by writing this instead</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$data =~ s{ ( &lt; (?: \"[^\"]+\" | [^&gt;] )+ &gt; ) }{ $1 =~ tr/\\n/ /r }gex;\n</code></pre>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse v5.14;  # For /r option\n\nmy $data = do {\n    local $/;\n    &lt;DATA&gt;;\n};\n\n$data =~ s{ ( &lt; [^&lt;&gt;]+ &gt; ) }{ $1 =~ tr/\\n/ /r }gex;\n\nprint $data;\n\n\n__DATA__\nstart &lt; inside tags&gt; no new line\nagain &lt;inside, with one nl  \n&gt; out\nmore &lt;inside, with two NLs\n\n     and more text\n&gt;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>start &lt; inside tags&gt; no new line\nagain &lt;inside, with one nl       &gt; out\nmore &lt;inside, with two NLs           and more text     &gt;\n</code></pre>\n"}], "owner": {"reputation": 1034, "user_id": 3080003, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/44d452fc56bec22a28feb6c0671a3581?s=128&d=identicon&r=PG&f=1", "display_name": "Sophia_ES", "link": "https://stackoverflow.com/users/3080003/sophia-es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 4, "score": -2, "last_activity_date": 1492585847, "creation_date": 1468430423, "question_id": 38358029, "link": "https://stackoverflow.com/questions/38358029/perl-eplacing-newline-characters-inside-fish-brackets-while-leaving-other-newli", "title": "PERL eplacing newline characters inside fish-brackets, while leaving other newline characters untouched?", "body": "<p>I finally know how to use regular expressions to replace one substring with another every place where it occurs within a string. But what I need to do now is a bit more complicated than that.</p>\n\n<p>A string I must transform will have many instances of the newline character ('\\n'). If those newline character are enclosed within fish-tags (between '&lt;' and '&gt;') I need to replace it with a simple whitespace character ('&nbsp;').</p>\n\n<p>However, if a newline character occurs anywhere else in the string, I need to leave that newline character alone.</p>\n\n<p>There will be several places in the string that are enclosed in fish-tags, and several places that aren't.</p>\n\n<p>Is there a way to do this in PERL?</p>\n"}, {"tags": ["regex", "perl", "uri"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468429106, "post_id": 38357517, "comment_id": 64127487, "body": "Can you please explain your <code>&#47;aaa&#47;bbb</code> part. looks like some problem is there in the question."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468430223, "post_id": 38357663, "comment_id": 64128176, "body": "I guess that quoting the class in <code>&#39;URI&#39;-&gt;new($string)</code> is defensive in some way? What is its purpose?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468436521, "post_id": 38357663, "comment_id": 64131954, "body": "@Borodin: Yes, it protects you from Perl parser interpreting <code>URI-&gt;new</code> as <code>URI()-&gt;new</code> when such a subroutine exists. It still doesn&#39;t protect you from a bareword filehandle <code>URI</code> (as in <code>open URI, &#39;&lt;&#39;, $file</code>), for which you&#39;d need to use <code>URI::-&gt;new</code>, but I find it too ugly to use."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1468436312, "last_edit_date": 1468436312, "creation_date": 1468429151, "answer_id": 38357663, "question_id": 38357517, "link": "https://stackoverflow.com/questions/38357517/extracting-part-of-a-url/38357663#38357663", "title": "Extracting part of a URL", "body": "<p>Use <a href=\"http://p3rl.org/URI\" rel=\"nofollow\">URI</a> to handle URIs:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse URI;\n\nfor my $string (qw( /aaa/bbb/ccc/ddd/eee\n                    /aaa/bbb/ccc?eee=true&amp;fff=false\n)) {\n    my $uri = 'URI'-&gt;new($string);\n    my @path = $uri-&gt;path_segments;\n    for my $length (1 .. @path - 1) {\n        say join \"\\t\", $uri, $length, join '/', @path[ 0 .. $length ];\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": -1, "last_activity_date": 1468430048, "last_edit_date": 1468430048, "creation_date": 1468429733, "answer_id": 38357831, "question_id": 38357517, "link": "https://stackoverflow.com/questions/38357517/extracting-part-of-a-url/38357831#38357831", "title": "Extracting part of a URL", "body": "<p>You can use <code>split</code> function to extract your required information</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $name = '/aaa/bbb/ccc?eee=true&amp;fff=false';\nmy @val = split(/\\?/,$name);\nmy @parts =split(/\\//,$val[0]);\nprint \"@parts\\n\";\n</code></pre>\n\n<p>Now you can fetch data from <code>@parts</code> array depending on your requirement.</p>\n\n<p>output :</p>\n\n<pre><code>aaa bbb ccc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1468430393, "last_edit_date": 1468430393, "creation_date": 1468429913, "answer_id": 38357887, "question_id": 38357517, "link": "https://stackoverflow.com/questions/38357517/extracting-part-of-a-url/38357887#38357887", "title": "Extracting part of a URL", "body": "<p>This will do as you ask. It uses the <a href=\"https://metacpan.org/pod/URI\" rel=\"nofollow\"><code>URI</code></a> module, and builds an object from each URL string so that the convenient methods can be used to manipulate the contents</p>\n\n<p>First the query is removed with <code>$url-&gt;query(undef)</code>. Then the path is split into a list of segments in <code>@path</code>, and that list is truncated to the length required</p>\n\n<p>The result is turned back into a string and returned</p>\n\n<p>The program extracts one, two, and three-segment paths from each of the URLs that you gave as an example</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse URI;\n\nmy $url1 = '/aaa/bbb/ccc/ddd/eee';\nmy $url2 = '/aaa/bbb/ccc?eee=true&amp;fff=false';\n\nfor my $url ( $url1, $url2 ) {\n    print trim_path($url, $_), \"\\n\" for 1 .. 5;\n    print \"\\n\";\n}\n\nsub trim_path {\n    my ($url, $n) = @_;\n    $url = URI-&gt;new($url);\n\n    $url-&gt;query(undef);\n\n    my @path = $url-&gt;path_segments;\n    $url-&gt;path_segments( @path[0..$n] ) if $n &lt; $#path;\n\n    return \"$url\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>/aaa\n/aaa/bbb\n/aaa/bbb/ccc\n/aaa/bbb/ccc/ddd\n/aaa/bbb/ccc/ddd/eee\n\n/aaa\n/aaa/bbb\n/aaa/bbb/ccc\n/aaa/bbb/ccc\n/aaa/bbb/ccc\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 3776474, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/798c68b9c5971846ba4d28555dee0a77?s=128&d=identicon&r=PG&f=1", "display_name": "Tcl_newbie", "link": "https://stackoverflow.com/users/3776474/tcl-newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 38357887, "answer_count": 3, "score": -3, "last_activity_date": 1468436312, "creation_date": 1468428685, "last_edit_date": 1468428947, "question_id": 38357517, "link": "https://stackoverflow.com/questions/38357517/extracting-part-of-a-url", "title": "Extracting part of a URL", "body": "<p>I have used a regex to extract a URI into a Perl variable. I now need to extract a part of this.</p>\n\n<p>For example, say <code>$2</code> contains the URI part and the URI may or may not have query parameters i.e it may be in the format <code>/aaa/bbb/ccc/ddd/eee</code> or <code>/aaa/bbb/ccc?eee=true&amp;fff=false</code></p>\n\n<p>I want to extract the first N slashes depending on an argument received by the Perl program. For instance up to <code>/aaa/bbb</code> or <code>/aaa/bbb/ccc</code>.</p>\n\n<p>The problem I am facing is that the part after third slash may or may not have query parameters.</p>\n\n<p>How do I ignore the query parameters, if they exist?</p>\n"}, {"tags": ["perl", "heroku", "dancer"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1468430631, "post_id": 38357411, "comment_id": 64128420, "body": "<code>GD</code> depends on <code>libgd</code>, so you may need to install <a href=\"http://stackoverflow.com/questions/26014192\">some other package</a>"}], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "is_accepted": false, "score": 0, "last_activity_date": 1471849365, "last_edit_date": 1471849365, "creation_date": 1471848493, "answer_id": 39072901, "question_id": 38357411, "link": "https://stackoverflow.com/questions/38357411/gd-module-on-heroku-fails-to-install-for-a-perl-app/39072901#39072901", "title": "GD module on Heroku fails to install for a perl app", "body": "<p>I could not install the  required  <code>libgd</code> packages on Heroku so I worked around the problem using as alternatives for <code>Authen::Captcha</code> either \n <code>Dancer::Plugin::reCAPTCHA</code> or  <code>WebService::CaptchasDotNet</code>.</p>\n"}], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1471849365, "creation_date": 1468428303, "last_edit_date": 1592644375, "question_id": 38357411, "link": "https://stackoverflow.com/questions/38357411/gd-module-on-heroku-fails-to-install-for-a-perl-app", "title": "GD module on Heroku fails to install for a perl app", "body": "\n<p>I'm trying to deploy on Heroku a Dancer2 app that uses <a href=\"https://metacpan.org/pod/Authen::Captcha\" rel=\"nofollow noreferrer\"><code>Authen::Captcha</code></a>, which needs the <a href=\"https://metacpan.org/pod/GD\" rel=\"nofollow noreferrer\"><code>GD</code></a> module which also needs the libgd2-xpm-dev package.</p>\n<p>My application fails to push on Heroku with this error message :</p>\n<pre class=\"lang-none prettyprint-override\"><code>remote:        ! Configure failed for GD-2.56. See /app/.cpanm/work/1468427280.295/build.log for details.\nremote:        ! Installing the dependencies failed: Module 'GD' is not installed\nremote:        ! Bailing out the installation for Authen-Captcha-1.024.\n ! Installing the dependencies failed: Module 'GD' is not installed, Module 'Authen::Captcha' is not installed\nremote:        ! Bailing out the installation for ..\nremote: \nremote:  !     Push rejected, failed to compile Perl/PSGI app\n</code></pre>\n<p>Does anyone know how to fix this ?</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1468420604, "post_id": 38354705, "comment_id": 64121687, "body": "Any answer will be a guess unless we can see the code that you are trying to execute."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1468420773, "post_id": 38354705, "comment_id": 64121843, "body": "print/show the error"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468421930, "post_id": 38354705, "comment_id": 64122743, "body": "How did you install Strawberry Perl? How are you running the Perl files?"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1468423429, "post_id": 38354705, "comment_id": 64123873, "body": "The OP is running ActiveState perl, not Strawberry perl."}, {"owner": {"reputation": 1, "user_id": 6584942, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E91v9T9wj2M/AAAAAAAAAAI/AAAAAAAAAXM/EuD09ozwgo8/photo.jpg?sz=128", "display_name": "Neil Chambers", "link": "https://stackoverflow.com/users/6584942/neil-chambers"}, "edited": false, "score": 0, "creation_date": 1468427006, "post_id": 38354705, "comment_id": 64126298, "body": "Sorry for the poor explanation. First time posting on a site for help with coding. Will try harder."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468421981, "post_id": 38354965, "comment_id": 64122780, "body": "But the OP says that the Perl files are running"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468423377, "post_id": 38354965, "comment_id": 64123830, "body": "Yes, the script runs but the OP also stated that it&#39;s not accepting/seeing the arguments.  That&#39;s because the file type association is missing the <code>%1 %*</code> portion of the config."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468424599, "post_id": 38354965, "comment_id": 64124659, "body": "Ah, so they&#39;re running the file as <code>script.pl</code> rather than <code>perl script.pl</code>"}, {"owner": {"reputation": 1, "user_id": 6584942, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E91v9T9wj2M/AAAAAAAAAAI/AAAAAAAAAXM/EuD09ozwgo8/photo.jpg?sz=128", "display_name": "Neil Chambers", "link": "https://stackoverflow.com/users/6584942/neil-chambers"}, "edited": false, "score": 0, "creation_date": 1468426422, "post_id": 38354965, "comment_id": 64125909, "body": "Okay, so <code>perl script.pl</code>  with argument works. And if I understand correctly, <code>ASSOC .pl=PerlScript </code> <code>FTYPE PerlScript=perl.exe %1 %* </code> should be all I need to fix this issue. But, from trying it, it didn&#39;t change anything. Did I miss something?"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1468427739, "post_id": 38354965, "comment_id": 64126706, "body": "Try opening a new cmd window.  Windows sometimes does not update the environment of the current cmd shell when making these types of changes."}, {"owner": {"reputation": 1, "user_id": 6584942, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E91v9T9wj2M/AAAAAAAAAAI/AAAAAAAAAXM/EuD09ozwgo8/photo.jpg?sz=128", "display_name": "Neil Chambers", "link": "https://stackoverflow.com/users/6584942/neil-chambers"}, "edited": false, "score": 0, "creation_date": 1468428325, "post_id": 38354965, "comment_id": 64127050, "body": "Nothing. I also rebooted my computer. Meanwhile, as a double check, if I type in <code>FTYPE PerlScript</code> I get <code>PerlScript=perl.exe %1 %*</code>."}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 1, "last_activity_date": 1468421233, "creation_date": 1468421233, "answer_id": 38354965, "question_id": 38354705, "link": "https://stackoverflow.com/questions/38354705/getopt-not-working/38354965#38354965", "title": "GetOpt not working", "body": "<p>This is not a perl problem; it's a Windows configuration issue.  Specifically, your .PL file type association is not configured correctly.</p>\n\n<p>You can fix it by using the <strong>ftype</strong> command.</p>\n\n<p>C:>help ftype</p>\n\n<pre><code>Displays or modifies file types used in file extension associations\n\nFTYPE [fileType[=[openCommandString]]]\n\n  fileType  Specifies the file type to examine or change\n  openCommandString Specifies the open command to use when launching files\n                    of this type.\n\nType FTYPE without parameters to display the current file types that\nhave open command strings defined.  FTYPE is invoked with just a file\ntype, it displays the current open command string for that file type.\nSpecify nothing for the open command string and the FTYPE command will\ndelete the open command string for the file type.  Within an open\ncommand string %0 or %1 are substituted with the file name being\nlaunched through the assocation.  %* gets all the parameters and %2\ngets the 1st parameter, %3 the second, etc.  %~n gets all the remaining\nparameters starting with the nth parameter, where n may be between 2 and 9,\ninclusive.  For example:\n\n    ASSOC .pl=PerlScript\n    FTYPE PerlScript=perl.exe %1 %*\n\nwould allow you to invoke a Perl script as follows:\n\n    script.pl 1 2 3\n\nIf you want to eliminate the need to type the extensions, then do the\nfollowing:\n\n    set PATHEXT=.pl;%PATHEXT%\n\nand the script could be invoked as follows:\n\n    script 1 2 3\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6584942, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E91v9T9wj2M/AAAAAAAAAAI/AAAAAAAAAXM/EuD09ozwgo8/photo.jpg?sz=128", "display_name": "Neil Chambers", "link": "https://stackoverflow.com/users/6584942/neil-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1468602363, "creation_date": 1468420567, "last_edit_date": 1468428484, "question_id": 38354705, "link": "https://stackoverflow.com/questions/38354705/getopt-not-working", "title": "GetOpt not working", "body": "<p>So recently installed Active Perl 5.10.0 (ActivePerl-5.10.0.1003-MSWin32-x86-285500) on a new computer, to run code I used to run on an older computer (Which used the same version and code). The code worked fine on the old one, but not on the new computer.</p>\n\n<p>While it will run .pl files when launched in the cmd.exe, it ignores any command line arguments I add to it. This makes me think that I'm missing something so that Getopt::Long is recognized. Any ideas?</p>\n\n<p>For example, when I put in something like this into my code</p>\n\n<pre><code>Getopt::Long;\nGetOptions(\\%args, \"b\")\n</code></pre>\n\n<p>Where \"b\" is an argument used to set off some code in the script, it won't accept</p>\n\n<pre><code>script.pl -b\n</code></pre>\n\n<p>but it will accept </p>\n\n<pre><code>script.pl\n</code></pre>\n\n<p>Furthermore, arguments do work if I put \"perl\" in front of it like so:</p>\n\n<pre><code>perl script.pl -b\n</code></pre>\n\n<p>Thank you for any help you are wiling to provide!</p>\n"}, {"tags": ["perl", "shift"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 6303679, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MMhOn.png?s=128&g=1", "display_name": "b.sabarathinam saba", "link": "https://stackoverflow.com/users/6303679/b-sabarathinam-saba"}, "edited": false, "score": 1, "creation_date": 1468414158, "post_id": 38351704, "comment_id": 64116690, "body": "So ,is the plus sign will prevent us from treat the shift operator as @shift array ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 103, "user_id": 6303679, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MMhOn.png?s=128&g=1", "display_name": "b.sabarathinam saba", "link": "https://stackoverflow.com/users/6303679/b-sabarathinam-saba"}, "edited": false, "score": 1, "creation_date": 1468414281, "post_id": 38351704, "comment_id": 64116786, "body": "@b.sabarathinamsaba: That&#39;s correct. It turns it into an expression instead of a string, so the <code>shift</code> operator is called and its return value is used"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1468437614, "post_id": 38351704, "comment_id": 64132528, "body": "What would happen if you replaced the plus with a minus? For example: <code>perl -E &#39;sub t { push @{+shift}, 3} @a = 1..2; t(\\@a); say join &quot;,&quot;, @a&#39;</code> gives <code>1,2,3</code>, whereas if you replace <code>+shift</code> with <code>-shift</code> you get <code>1,2</code>.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1468438887, "post_id": 38351704, "comment_id": 64133119, "body": "@H&#229;konH&#230;gland: I&#39;m not sure that&#39;s a useful question. Monadic <code>+</code> is pretty much a no-op for scalar operands, but monadic <code>-</code> will do unintelligent things to references. (Try <code>perl -E &#39;say -[]&#39;</code>.) While <code>-&#39;xx&#39;</code> is simply <code>-xx</code>. If you consider every operator as a separately-written function that may behave differently according to whether it is called in list, scalar, or void context then you would be about right. If the behavour isn&#39;t documented then experiment, but esoteric uses of operators like <code>@{+shift}</code> are <b><i>very wrong</i></b> in my book, precisely because they produce questions like this"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1468439285, "post_id": 38351704, "comment_id": 64133302, "body": "@H&#229;konH&#230;gland: None of this is documented behaviour and so shouldn&#39;t be used. If you want to understand the internals of Perl then you should become familiar with the C source"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1468439681, "post_id": 38351704, "comment_id": 64133537, "body": "@H&#229;konH&#230;gland: I can&#39;t discourage you enough from using whatever functionality you&#39;ve found. The gems of the internals are all in the C source, meanwhile you should keep writing good, documented Perl solutions."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 1, "creation_date": 1468541447, "post_id": 38351704, "comment_id": 64181913, "body": "More accurately the <code>+</code> prevents <code>shift</code> from being a <i>bareword</i>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1468544449, "post_id": 38351704, "comment_id": 64182506, "body": "@BradGilbert: I don&#39;t think that&#39;s more accurate than what I&#39;ve written. A bareword is just an unquoted string"}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 1, "creation_date": 1468679054, "post_id": 38351704, "comment_id": 64232206, "body": "Yes, and adding a <code>+</code> causes the parser to treat it differently, and the rest of what you posted happens as a consequence. What you posted almost makes it seem as if it was bug or something."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 15, "last_activity_date": 1468414215, "last_edit_date": 1468414215, "creation_date": 1468412763, "answer_id": 38351704, "question_id": 38351629, "link": "https://stackoverflow.com/questions/38351629/what-is-the-use-of-bareword-with-shift-operator/38351704#38351704", "title": "What is the use of (+) bareword with shift operator?", "body": "<p>Without the plus sign, <code>@{shift}</code> is the same as the array <code>@shift</code> which doesn't call the <code>shift</code> operator at all. Adding the plus sign forces <code>shift</code> to be evaluated as an <em>expression</em>, so the <code>shift</code> operator is called</p>\n\n<p>I would prefer to see <code>@{ shift() }</code></p>\n\n<p>Methods are normally written so that they extract the first parameter to <code>$self</code>, like this</p>\n\n<pre><code>sub new {\n    my $class = shift;\n    bless [ ], $class;\n}\n\nsub add {\n    my $self = shift;\n    push @$self, shift;\n}\n\nsub contents {\n    my $self = shift;\n    return @$self;\n}\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 6303679, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MMhOn.png?s=128&g=1", "display_name": "b.sabarathinam saba", "link": "https://stackoverflow.com/users/6303679/b-sabarathinam-saba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 1, "accepted_answer_id": 38351704, "answer_count": 1, "score": 7, "last_activity_date": 1468430107, "creation_date": 1468412569, "last_edit_date": 1468430107, "question_id": 38351629, "link": "https://stackoverflow.com/questions/38351629/what-is-the-use-of-bareword-with-shift-operator", "title": "What is the use of (+) bareword with shift operator?", "body": "<p>I'm learning the intermediate perl.In that now I'm studying about the  object references for class.In that they gave one package</p>\n\n<pre><code>{\n    package Barn;\n\n    sub new { bless [], shift }\n\n    sub add { push @{ +shift }, shift }\n\n    sub contents { @{ +shift } }\n\n    sub DESTROY {\n        my $self = shift;\n        print \"$self is being destroyed...\\n\";\n        for ( $self-&gt;contents ) {\n            print ' ', $_-&gt;name, \" goes homeless.\\n\";\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>in this I can't understand the work of plus sign with shift\n  operator. In text they said ,the plus sign is like bareword  it would\n  be interpreted as a soft reference: @{\"shift\"}</p>\n</blockquote>\n\n<p>can you anybody clearly explain its work for using plus sign with shift operator?</p>\n"}, {"tags": ["arrays", "perl", "hash", "duplicates", "key"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468485633, "post_id": 38350623, "comment_id": 64149793, "body": "I imagine that you know you don&#39;t need <code>use DBI</code> in there? The module is never used"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1468410108, "post_id": 38350747, "comment_id": 64113784, "body": "Congratulations on going past 100k :)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468410195, "post_id": 38350747, "comment_id": 64113846, "body": "@simbabque: Thanks. Still waiting for the &quot;box of cool stuff&quot; :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468410269, "post_id": 38350747, "comment_id": 64113918, "body": "Good luck with customs on that. They declared my 10m question win box with way too low prices, like 1$ for the t-shirt, but it went through. I think it also had 10x 0.10$ for stickers."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468410904, "post_id": 38350747, "comment_id": 64114343, "body": "Please bring your SO t-shirt to YAPC if you got it by then."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468485858, "post_id": 38350747, "comment_id": 64149953, "body": "@choroba: Is that still a thing?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468487221, "post_id": 38350747, "comment_id": 64150866, "body": "@Borodin: Well, why are we here? :-)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1468410110, "last_edit_date": 1468410110, "creation_date": 1468410054, "answer_id": 38350747, "question_id": 38350623, "link": "https://stackoverflow.com/questions/38350623/perl-duplicate-keys-not-overwriting-in-hash/38350747#38350747", "title": "Perl: duplicate keys not overwriting in hash", "body": "<p>You are printing the line for each input line, not for non-existent lines only.\nMove the <code>print</code> before the assignment paragraph and change it to</p>\n\n<pre><code>print EXISTS \"$ID\\n\" unless exists $file1{$ID};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1468414751, "post_id": 38351352, "comment_id": 64117139, "body": "thaks for your answer!! I have now tried declaring the hash and print outside the while loop (ie after the last } bracket), but it then gives the &quot;Global symbol .. requires explicit package name&quot; error for $file1 and $ID variables, which as I understand means the variable hasn&#39;t been declared. I&#39; try your code next - does it still add all the data into a hash/array (ie all the data from all columns), or will it only extract the unique values in the ID column?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1468415131, "post_id": 38351352, "comment_id": 64117419, "body": "@DKru:  You can either print the contents of the hash after the <code>while</code> loop or just use it to determine whether the ID has been seen before, and print each new ID <i>inside</i> the loop, which is what my code does"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1468485413, "post_id": 38351352, "comment_id": 64149662, "body": "<code>Global symbol .. requires explicit package name</code> does indeed mean that a variable hasn&#39;t been declared (There are moves to change that message to something more useful!) and that is because you have moved your <code>print</code> statement outside the loop where <code>$ID</code> doesn&#39;t exist. But unless you&#39;ve changed something else, <code>$file1</code> should exists everywhere in the program so I&#39;m not sure what&#39;s going on. Even if you mean <code>%file1</code>, you say you have moved its declaration outside the loop so that should be fine too. It&#39;s impossible to debug your code any further without seeing what you have written"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1468485136, "last_edit_date": 1495541683, "creation_date": 1468411717, "answer_id": 38351352, "question_id": 38350623, "link": "https://stackoverflow.com/questions/38350623/perl-duplicate-keys-not-overwriting-in-hash/38351352#38351352", "title": "Perl: duplicate keys not overwriting in hash", "body": "<p></p>\n\n<p>In addition to <a href=\"https://stackoverflow.com/a/38350747/622310\">choroba's diagnosis</a> you need to declare the hash <em>outside</em> the <code>while</code> loop, otherwise each iteration of the loop is dealing with a new empty hash</p>\n\n<p>Here's a version of your code that uses best-practice Perl and produces the result that you wanted. Note that I've had to alter the format of your input file <code>location1.csv</code> as the values you show don't contain any commas</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $file1  = 'location1.csv';    # file1 containing records with duplicates\nmy $exists = 'location3.csv';    # output file with unique IDs that will be compared to file2\n\nopen my $exists_fh, '&gt;', $exists or die qq{Unable to open \"$exists\" for output: $!};\nprint $exists_fh \"ID number\\n\";\n\nopen my $file1_fh, '&lt;', $file1 or die qq{Unable to open \"$file1\" for input: $!};\n&lt;$file1_fh&gt;; # skip header line\n\nmy %file1;\n\nwhile ( &lt;$file1_fh&gt; ) {\n\n    next unless /\\S/; # Skip blank lines\n\n    s/\\s+\\z//;\n\n    my @fields = split /,/;\n    my $id = $fields[0];\n\n    next if $file1{$id}; # Skip this record if the ID is already known\n\n    $file1{$id} = \\@fields;\n\n    print $exists_fh \"$id\\n\"\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID number\n4011NM16001\n4012NM15687\n4012NM15002\n4012NM14301\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 38351352, "answer_count": 2, "score": 0, "last_activity_date": 1468485525, "creation_date": 1468409763, "last_edit_date": 1468485525, "question_id": 38350623, "link": "https://stackoverflow.com/questions/38350623/perl-duplicate-keys-not-overwriting-in-hash", "title": "Perl: duplicate keys not overwriting in hash", "body": "\n\n<p>I have a problem that I can't seem to find an answer for.</p>\n\n<p>I have a CSV file that contains performance records for different individuals. There is only suppose to be one record per individual, however, there are some individuals that have several records with different information.  I would like to compare this first file to another that also has a list of individuals, though I would only like to compare whether the individual in file 1 also has a record in file two (file 2 does not have duplicates). The individuals' IDs are unique.</p>\n\n<p>Example for file 1:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID number      A       B     C            D\n4011NM16001    apple   24    sunday       2016-01-01\n4011NM16001    apple   16    wednesday    2016-01-01\n4012NM15687    pear    16    sunday       2015-04-19\n4012NM15002    banana  8     monday       2015-09-09\n4012NM14301    peach   10    wednesday    2014-03-18\n4012NM14301    peach   18    wednesday    2014-03-18\n</code></pre>\n\n<p>I have opened the first file and tried to put the data into a hash (or rather a combination of a hash and array if I understand the concepts correctly) so as to remove the duplicates, using the ID as the unique key. However, instead of overwriting entries with the same ID, it still seems to add it, so I still end up with the duplicate records.</p>\n\n<p>I want to see this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID number\n4011NM16001\n4011NM15687\n4012NM15002\n4012NM14301\n</code></pre>\n\n<p>But instead I still see this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID number      \n4011NM16001    \n4011NM16001    \n4012NM15687    \n4012NM15002    \n4012NM14301    \n4012NM14301    \n</code></pre>\n\n<p>Have I typed something wrong in my code or am I not using the hash correctly? I'm still new to Perl so I use parts of previous programs and try to learn as I go.. </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse DBI;\n\nuse strict;\nuse warnings;\n\nmy $file1  = 'location1.csv';   #file1 containing records with duplicates\nmy $exists = 'location3.csv';  #output file with unique IDs that will be compared to file2\n\nopen (EXISTS, \"&gt;$exists\") or die \"Cannot open $exists\";\n    print EXISTS \"ID number\\n\";\n\nopen (FILE1, \"$file1\") or die \"Cannot open $file1\";\n\nwhile (&lt;FILE1&gt;){\n\n    my %file1;\n\n    my $line = $_;\n    $line =~ s/\\s*$//g;\n\n    my ($ID, $a, $b, $c, $d) = split('\\,', $line);\n    next if !$ID or substr($ID,0,2) eq 'ID';\n\n    $file1{$ID}[0]=$ID;  #unique ID number\n    $file1{$ID}[1]=$a;   #record a\n    $file1{$ID}[2]-$b;   #record b\n    $file1{$ID}[3]=$c;   #record c\n    $file1{$ID}[4]=$d;   #record d\n\n    print EXISTS \"$file1{$ID}[0]\\n\";\n}\n\nexit;\n</code></pre>\n"}, {"tags": ["perl", "while-loop", "file-handling"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468408579, "post_id": 38350098, "comment_id": 64112706, "body": "Re-using &quot;STREAM&quot; in different ways seems like asking for trouble."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1468408827, "post_id": 38350098, "comment_id": 64112871, "body": "How is the end of the stream signalled? Does it end with a end-of-file, or is the pipe closed, or...?"}, {"owner": {"reputation": 160, "user_id": 3114698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/368bda051ae0ff2503d1e1f47733b495?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Nolte", "link": "https://stackoverflow.com/users/3114698/dennis-nolte"}, "edited": false, "score": 0, "creation_date": 1468409215, "post_id": 38350098, "comment_id": 64113160, "body": "the process stream will be killed via sigkill, which in similiar versions worked by having the pipe closed at that point."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468409678, "post_id": 38350098, "comment_id": 64113474, "body": "The Perl code that you show won&#39;t compile. For instance <code>stop_stream() { ... }</code> is missing <code>sub</code>, and you have used a prototype (never a good idea) to say that it takes zero parameters. And you don&#39;t declare <code>$streampid</code>. Please show your <i>real</i> code"}, {"owner": {"reputation": 160, "user_id": 3114698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/368bda051ae0ff2503d1e1f47733b495?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Nolte", "link": "https://stackoverflow.com/users/3114698/dennis-nolte"}, "edited": false, "score": 0, "creation_date": 1468410680, "post_id": 38350098, "comment_id": 64114208, "body": "latest edit shows the compiling version."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1468409818, "last_edit_date": 1468409818, "creation_date": 1468408874, "answer_id": 38350278, "question_id": 38350098, "link": "https://stackoverflow.com/questions/38350098/perl-filehandle-while-loop-does-not-terminate-on-no-further-lines/38350278#38350278", "title": "perl filehandle while loop does not terminate on no further lines", "body": "<p>OK, the root of the problem here is that a <code>while ( &lt;FILEHANDLE&gt; ) {</code> loop will block if the file handle is <em>open</em> but there is no data to be read.</p>\n\n<p>So it's likely that <code>/usr/local/bin/stream</code> continues piping data until killed - and so your reads block.</p>\n\n<p>The easy solution is to use something like <a href=\"https://metacpan.org/pod/IO::Select\" rel=\"nofollow\"><code>IO::Select</code></a> which has <code>can_read</code> as an option:</p>\n\n<pre><code>use IO::Select;\nopen ( my $stream, '-|', '/usr/local/bin/stream' ) or die $!; \n#register this filehandle with a new select object\nmy $select = IO::Select -&gt; new ( $stream );\n\n#2s stream timeout. \n#works because can_read returns a list of filehandles ready for reading\n#with only one filehandle registered, it can be used as a simple logic test. \nwhile ( $select -&gt; can_read(2) ) { \n    my $row = &lt;$stream&gt;; \n    #etc. \n}\n\n#etc. \n</code></pre>\n"}], "owner": {"reputation": 160, "user_id": 3114698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/368bda051ae0ff2503d1e1f47733b495?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Nolte", "link": "https://stackoverflow.com/users/3114698/dennis-nolte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 38350278, "answer_count": 1, "score": -1, "last_activity_date": 1468410607, "creation_date": 1468408427, "last_edit_date": 1468410607, "question_id": 38350098, "link": "https://stackoverflow.com/questions/38350098/perl-filehandle-while-loop-does-not-terminate-on-no-further-lines", "title": "perl filehandle while loop does not terminate on no further lines", "body": "<p>following setup:</p>\n\n<pre><code>linux debian based 4.4.14-v7+ armv7l GNU/Linux\nperl version is v5.20.2 built for arm-linux-gnueabihf-thread-multi-64int\n</code></pre>\n\n<p>A Perl script which should read a stream of data (hex chars, different length per line)\nexample stream output:</p>\n\n<pre><code>00 AA BB 11 22 33 44 ...\n00 AB BB 11 22 33 44 ...\n</code></pre>\n\n<p>Depending on specific values the script should do specific actions.\nWorks fine however when the stream stops sending data, i.e. stream is finished sending data, the while loop does not get stopped. and the script waits for more lines.</p>\n\n<p>The stream itself sends f.e. 5 sec of data, and then the analyse script should do_stuff;</p>\n\n<p>once the analyse script is finished with the calculations, it will start the stream again.</p>\n\n<p>However i am unable to figure out the reason why either the \"next command\" is not executed, or the while loop does not terminate correctly on no further lines.</p>\n\n<p>If i manually start the stream process again the analyse script continues just fine until there are no more lines again.</p>\n\n<p>simplified Code</p>\n\n<pre><code>#!/usr/bin/perl\n#script to analyse data\nuse warnings;\nuse strict;\nuse POSIX ();\n\nsub stop_stream($){\n  my $pid = shift;\n  my $cmd = \"/bin/kill -9 $pid\";\n  system($cmd);\n}\n\nwhile (1){\n\nmy $steampid = open( STREAM, \"/usr/local/bin/stream |\" );\n\nSTREAM: while ( my $row = &lt;STREAM&gt; ) {\nchomp $row;\nmy @o = split /\\s+/, $row;\n\n#do_stuff;\n#..\n#this is the row on which the script hangs until it get's new lines in the filehandle.\nnext STREAM if $o[1] ne \"AA\";\n#...\n#do_other_stuff;\n#...\n}\n\nstop_stream( $steampid );\nclose STREAM;\n\n}\n</code></pre>\n\n<p>Resources i tried to figure out the issue:</p>\n\n<p><a href=\"http://perldoc.perl.org/perlsyn.html#Compound-Statements\" rel=\"nofollow\">http://perldoc.perl.org/perlsyn.html#Compound-Statements</a></p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=1065701\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=1065701</a></p>\n\n<p>and numerous others.</p>\n\n<p>I tried stackoverflow with some combination of \"perl while loop close filehandle\" to no success.</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 1581, "user_id": 255523, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ca1aca78f310ac63ebf0fecc277474f1?s=128&d=identicon&r=PG", "display_name": "Ianthe the Duke of Nukem", "link": "https://stackoverflow.com/users/255523/ianthe-the-duke-of-nukem"}, "edited": false, "score": 0, "creation_date": 1468393043, "post_id": 38344513, "comment_id": 64102624, "body": "Provide some more description/code example and what you&#39;ve checked so far."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1468393094, "post_id": 38344513, "comment_id": 64102647, "body": "Related <a href=\"http://unix.stackexchange.com/q/53065/102866\">unix.stackexchange.com/q/53065/102866</a> &amp; <a href=\"http://unix.stackexchange.com/q/249424/102866\">unix.stackexchange.com/q/249424/102866</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5992590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85dfc290041650b6822a3e20ad0073b?s=128&d=identicon&r=PG&f=1", "display_name": "TReddy", "link": "https://stackoverflow.com/users/5992590/treddy"}, "edited": false, "score": 0, "creation_date": 1468481043, "post_id": 38344838, "comment_id": 64147109, "body": "Thank you for your responce."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1468394102, "last_edit_date": 1468394102, "creation_date": 1468393687, "answer_id": 38344838, "question_id": 38344513, "link": "https://stackoverflow.com/questions/38344513/invalid-ssl-version-specified-at-usr-local-share-perl5-io-socket-ssl-pm-line-59/38344838#38344838", "title": "invalid SSL_version specified at /usr/local/share/perl5/IO/Socket/SSL.pm line 598", "body": "<p>Net::SMTP::TLS is not maintained since 10 years and it is broken in that it causes exactly the error you describe. If you insist of using this broken module you need to fix it. Change the <a href=\"https://metacpan.org/source/AWESTHOLM/Net-SMTP-TLS-0.12/lib/Net/SMTP/TLS.pm#L182\" rel=\"nofollow\">code in line 182</a> to remove the invalid setting of SSL_version:</p>\n\n<pre><code>    if(not IO::Socket::SSL::socket_to_SSL($me-&gt;{sock},\n-        SSL_version     =&gt;   \"SSLv3 TLSv1\")){\n+        )){\n             croak \"Couldn't start TLS: \".IO::Socket::SSL::errstr.\"\\n\";\n    }\n</code></pre>\n\n<p>Instead of using the broken and unmaintained Net::SMTP::TLS or its successor but again unmaintained <a href=\"https://metacpan.org/pod/Net::SMTP::TLS::ButMaintained\" rel=\"nofollow\">Net::SMTP::TLS::ButMaintained</a> I suggest you use the latest version of <a href=\"https://metacpan.org/pod/Net::SMTP\" rel=\"nofollow\">Net::SMTP</a> which has built in support for both kinds of SMTP+SSL and for IPv6 too. It comes already by default with newer Perl versions.</p>\n\n<p>If using a new Net::SMTP  is not possible you might use <a href=\"https://metacpan.org/pod/Net::SSLGlue::SMTP\" rel=\"nofollow\">Net::SSLGlue::SMTP</a> which monkey patches older Net::SMTP version to add SSL support. And there is also <a href=\"https://metacpan.org/pod/Net::SMTPS\" rel=\"nofollow\">Net::SMTPS</a> which provides a similar functionality.</p>\n"}], "owner": {"reputation": 1, "user_id": 5992590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85dfc290041650b6822a3e20ad0073b?s=128&d=identicon&r=PG&f=1", "display_name": "TReddy", "link": "https://stackoverflow.com/users/5992590/treddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4050, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1468396628, "creation_date": 1468392685, "last_edit_date": 1468396628, "question_id": 38344513, "link": "https://stackoverflow.com/questions/38344513/invalid-ssl-version-specified-at-usr-local-share-perl5-io-socket-ssl-pm-line-59", "title": "invalid SSL_version specified at /usr/local/share/perl5/IO/Socket/SSL.pm line 598", "body": "<p>When I try send an email using <code>Net::SMTP::TLS</code> from perl script I am getting below:</p>\n\n<blockquote>\n  <p>invalid SSL_version specified at /usr/local/share/perl5/IO/Socket/SSL.pm line 598</p>\n</blockquote>\n\n<p>OS:Linux</p>\n\n<p>You know what the problem is and what I have to do to fix it?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 0, "creation_date": 1468392191, "post_id": 38344131, "comment_id": 64102152, "body": "You&#39;ll have to use a stricter pattern right? See here: <a href=\"http://perldoc.perl.org/perlre.html#Assertions\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#Assertions</a>"}, {"owner": {"reputation": 1081, "user_id": 1835621, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f0003b0ad475c4569fb5152ee3f6b943?s=128&d=identicon&r=PG", "display_name": "Yaron", "link": "https://stackoverflow.com/users/1835621/yaron"}, "edited": false, "score": 0, "creation_date": 1468392271, "post_id": 38344131, "comment_id": 64102203, "body": "Can you try and prepare an example in Regex101.com ?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1468393810, "post_id": 38344131, "comment_id": 64103136, "body": "If the code has <code>cout&lt;&lt;&quot;http:&#47;&#47;www.some.com&quot;;</code> <code>if(@code=~m{&#47;&#47;}</code> will show a false positive. Try just <code>&#47;^\\h*\\&#47;\\&#47;&#47;</code> and <code>&#47;^\\h*\\&#47;\\*&#47;</code>. However, <code>&#47;*</code> marks a multiline comment - but I guess you only want to find a line that contains its start, right? Note that a regex for a multiline comment is <code>&#47;\\&#47;\\*[^*]*\\*+(?:[^\\&#47;*][^*]*\\*+)*\\&#47;&#47;</code>, if you need to find them at the start of the string, just prepend with <code>^\\h*</code>."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1468395144, "post_id": 38344131, "comment_id": 64103982, "body": "Why is the line in an array?? Are the items in the array individual characters, or is there a single scalar member which contains the line? The natural and idiomatic way to handle a line of input is to read it into a scalar variable (<code>$_</code> by default)."}], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 2, "last_activity_date": 1468394533, "last_edit_date": 1592644375, "creation_date": 1468393826, "answer_id": 38344881, "question_id": 38344131, "link": "https://stackoverflow.com/questions/38344131/how-to-get-position-of-comment-or-in-a-line-via-regex/38344881#38344881", "title": "How to get position of comment ( // ,/* or */ ) in a line via regex", "body": "<p>From perlfaq6:</p>\n<p><a href=\"http://learn.perl.org/faq/perlfaq6.html#How-do-I-use-a-regular-expression-to-strip-C-style-comments-from-a-file\" rel=\"nofollow noreferrer\">How do I use a regular expression to strip C-style comments from a file?</a></p>\n<pre><code>$/ = undef;\n$_ = &lt;&gt;;\ns#/\\*[^*]*\\*+([^/*][^*]*\\*+)*/|(&quot;(\\\\.|[^&quot;\\\\])*&quot;|'(\\\\.|[^'\\\\])*'|.[^/&quot;'\\\\]*)#defined $2 ? $2 : &quot;&quot;#gse;\nprint;\n</code></pre>\n<p>This could, of course, be more legibly written with the /x modifier, adding whitespace and comments. Here it is expanded, courtesy of Fred Curtis.</p>\n<pre><code>s{\n   /\\*         ##  Start of /* ... */ comment\n   [^*]*\\*+    ##  Non-* followed by 1-or-more *'s\n   (\n     [^/*][^*]*\\*+\n   )*          ##  0-or-more things which don't start with /\n               ##    but do end with '*'\n   /           ##  End of /* ... */ comment\n\n \n |         ##     OR  various things which aren't comments:\n\n \n   (\n     &quot;           ##  Start of &quot; ... &quot; string\n     (\n       \\\\.           ##  Escaped char\n     |               ##    OR\n       [^&quot;\\\\]        ##  Non &quot;\\\n     )*\n     &quot;           ##  End of &quot; ... &quot; string\n\n \n   |         ##     OR\n\n \n     '           ##  Start of ' ... ' string\n     (\n       \\\\.           ##  Escaped char\n     |               ##    OR\n       [^'\\\\]        ##  Non '\\\n     )*\n     '           ##  End of ' ... ' string\n\n \n   |         ##     OR\n\n \n     .           ##  Anything other char\n     [^/&quot;'\\\\]*   ##  Chars which doesn't start a comment, string or escape\n   )\n }{defined $2 ? $2 : &quot;&quot;}gxse;\n</code></pre>\n<p>A slight modification also removes C++ comments, possibly spanning multiple lines using a continuation character:</p>\n<pre><code>s#/\\*[^*]*\\*+([^/*][^*]*\\*+)*/|//([^\\\\]|[^\\n][\\n]?)*?\\n|(&quot;(\\\\.|[^&quot;\\\\])*&quot;|'(\\\\.|[^'\\\\])*'|.[^/&quot;'\\\\]*)#defined $3 ? $3 : &quot;&quot;#gse;\n</code></pre>\n<hr />\n<p>You can try CPAN module <a href=\"https://metacpan.org/pod/Regexp::Common::comment\" rel=\"nofollow noreferrer\">Regexp::Common::comment</a>:</p>\n<blockquote>\n<p>Please consult the manual of Regexp::Common for a general description of the works of this interface.</p>\n<p>Do not use this module directly, but load it via <a href=\"https://metacpan.org/pod/Regexp::Common\" rel=\"nofollow noreferrer\">Regexp::Common</a>.</p>\n<p>This modules gives you regular expressions for comments in various languages.</p>\n<blockquote>\n<p>The C++ language has two forms of comments. Comments that start with <code>//</code> and last till the end of the line, and comments that start with <code>/*</code>, and end with <code>*/</code>. If <code>{-keep}</code> is used, only <code>$1</code> will be set, and set to the entire comment.</p>\n</blockquote>\n</blockquote>\n"}], "owner": {"reputation": 37, "user_id": 4052085, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100002586048295/picture?type=large", "display_name": "Vikash Babu", "link": "https://stackoverflow.com/users/4052085/vikash-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 38344881, "answer_count": 1, "score": 0, "last_activity_date": 1468394533, "creation_date": 1468391373, "last_edit_date": 1468392550, "question_id": 38344131, "link": "https://stackoverflow.com/questions/38344131/how-to-get-position-of-comment-or-in-a-line-via-regex", "title": "How to get position of comment ( // ,/* or */ ) in a line via regex", "body": "<p>I have a line of c++ code in an array:</p>\n\n<pre><code>@code=\"$_\";\n</code></pre>\n\n<p>Now I have to get whether this line contain comment or not. That I can do by checking:</p>\n\n<pre><code>if( @code=~'/*')\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if(@code=~m{//}\n</code></pre>\n\n<p>But there can be a situation like:</p>\n\n<pre><code>cout&lt;&lt;\"welcome\";/*this is just to print*/\n</code></pre>\n\n<p>Here our line is not full comment.</p>\n\n<p>For this kind of situation I am getting stuck. Please help me.</p>\n"}, {"tags": ["regex", "perl", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1468389282, "post_id": 38343553, "comment_id": 64100840, "body": "my $str = &quot;11/Jul/2016:04:38:05&quot;; $str =~ /\\d+\\/\\w\\/\\d{4}:(\\d+):(\\d)+:(\\d+)/; print $1.&quot;--&quot;.$2.&quot;--&quot;.$3; This is not working"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1468389703, "post_id": 38343553, "comment_id": 64101047, "body": "@Developer See my changed answer"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 0, "last_activity_date": 1468389679, "last_edit_date": 1468389679, "creation_date": 1468388955, "answer_id": 38343553, "question_id": 38343478, "link": "https://stackoverflow.com/questions/38343478/regex-to-get-time-in-hour-minutes-and-seconds/38343553#38343553", "title": "Regex to get time in hour minutes and seconds", "body": "<p>This should do the Job:</p>\n\n<pre><code>$line =~ /\\d+\\/\\w+\\/\\d{4}:(\\d+):(\\d+):(\\d+)/\n</code></pre>\n\n<p>$1 contains hours\n$2 minutes and $ three second</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468445667, "post_id": 38343576, "comment_id": 64136548, "body": "@Borodin  Thank you very much. That really didn&#39;t come out right."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1583809233, "last_edit_date": 1583809233, "creation_date": 1468389079, "answer_id": 38343576, "question_id": 38343478, "link": "https://stackoverflow.com/questions/38343478/regex-to-get-time-in-hour-minutes-and-seconds/38343576#38343576", "title": "Regex to get time in hour minutes and seconds", "body": "<p>There are some most excellent date-time modules, but given the unusual output format and simple input perhaps a regex is a good solution here.</p>\n\n<pre><code>my ($day, $mon, $year, $hour, $minute, $sec) = \n    $line =~ m{ (\\d+) / ([^/]+) / (\\d{4}):(\\d{2}):(\\d{2}):(\\d{2}) }x;\n</code></pre>\n\n<p>where I've used <code>}x</code> global modifier so I can use spaces for readability, and <code>{}</code> delimiters so <code>/</code> can be used unescaped. Now print the captures out as you please.<sup>&dagger;</sup></p>\n\n<p>Or, one can make use of the <code>:</code> delimiter in the relevant part of the input string</p>\n\n<pre><code>my @hms = $line =~ m/:(\\d+)/g;\nprint \"@hms\\n\";\n</code></pre>\n\n<p>With the string from the question this prints <code>13 26 23</code>.  This captures all consecutive digits <em>following</em> a colon, repeatedly by the <code>/g</code> modifier. \nSo <code>@hms</code> contains: hour, minute, second.</p>\n\n<p>Also, if your format is etched in stone this is simple using <a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a></p>\n\n<pre><code>my @hms = (split /:/, $line)[-3..-1];\n</code></pre>\n\n<p>where we capture the last three items obtained by splitting on <code>:</code>.  If you ever need to capture all parts then use the fact that the pattern specification in <code>split</code> takes a full regex, so</p>\n\n<pre><code>my @parts = split /[:\\/]/, $line;\n</code></pre>\n\n<p>returns (and assigns to <code>@parts</code>) the list <code>12 Jul 2016 13 26 23</code>.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup>  I'm cheating with <code>\\d</code> since it's shorter than [<code>0-9]</code>, and it repeats so many times. But note that <code>\\d</code> is Unicode aware and it thus matches various kinds of \"digits\" -- a few hundred various characters. So please replace those <code>\\d</code> with <code>[0-9]</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1468393700, "creation_date": 1468393700, "answer_id": 38344844, "question_id": 38343478, "link": "https://stackoverflow.com/questions/38343478/regex-to-get-time-in-hour-minutes-and-seconds/38344844#38344844", "title": "Regex to get time in hour minutes and seconds", "body": "<p>The regex solutions that you already have work well, but just for comparison here's how I would do it with <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\n\nmy $date_str = '12/Jul/2016:13:26:23';\nmy $date_fmt = '%d/%b/%Y:%H:%M:%S';\n\nmy $date = Time::Piece-&gt;strptime($date_str, $date_fmt);\n\nsay $date-&gt;hour, ' hours, ', $date-&gt;minute, ' minutes, ',\n    $date-&gt;second, ' seconds';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1468404492, "creation_date": 1468404492, "answer_id": 38348630, "question_id": 38343478, "link": "https://stackoverflow.com/questions/38343478/regex-to-get-time-in-hour-minutes-and-seconds/38348630#38348630", "title": "Regex to get time in hour minutes and seconds", "body": "<p>One of the simplest ways of doing this is to scan the date-time string for sequences of \"word\" characters, which includes all digits and letters plus the underscore character. That will return the values of all the fields and you can do with them what you will</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $dt = '12/Jul/2016:13:26:23';\n\nmy ($day, $mon, $year, $h, $m, $s) = $dt =~ /\\w+/g;\n\nprintf \"%dHour %dMin and %dSeconds.\\n\", $h, $m, $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>13Hour 26Min and 23Seconds.\n</code></pre>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "accepted_answer_id": 38343576, "answer_count": 4, "score": 0, "last_activity_date": 1583809276, "creation_date": 1468388577, "last_edit_date": 1583809276, "question_id": 38343478, "link": "https://stackoverflow.com/questions/38343478/regex-to-get-time-in-hour-minutes-and-seconds", "title": "Regex to get time in hour minutes and seconds", "body": "<p>I am getting a time in this format <code>12/Jul/2016:13:26:23</code>.</p>\n\n<p>Now I want to get the time in like <code>13Hour 26Min and 23Seconds</code>.</p>\n\n<p>How can we do this in Perl through a regular expression? I was trying this but I am unable to do this </p>\n\n<pre><code>$line =~ /^.+?\\:(.+)/\n</code></pre>\n\n<p>Please help me in this how we can do this.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 6, "creation_date": 1468388926, "post_id": 38343286, "comment_id": 64100700, "body": "<i>&quot;I cannot use psexec or powershell...&quot;</i> -- well, <i>something</i> has to login to the remote machine in order to start a process.  How about an SSH server running on the target machine?  Cygwin comes to mind.  Seriously, if you&#39;re given a task that is prohibited by corporate rules it&#39;s up to your manager to help you figure out what you <i>can</i> do."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468391768, "post_id": 38343286, "comment_id": 64101932, "body": "What is the use case for this?  Will other users need to grant you access to their workstations?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1468396193, "post_id": 38343286, "comment_id": 64104617, "body": "To follow up on Jim Garrison: Do the corporate rules allow you to do this at all? How do you know?"}, {"owner": {"reputation": 541, "user_id": 3524762, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/65791fbdfc309187aa6eb7f40261753a?s=128&d=identicon&r=PG&f=1", "display_name": "user3524762", "link": "https://stackoverflow.com/users/3524762/user3524762"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1468425852, "post_id": 38343286, "comment_id": 64125556, "body": "@JimGarrison  Morning, psexec cannot be used as it is not commercially supported and powershell is not viable as I will be crossing domains and it is not working consistently in that scenario. I will look into SSH on target server. Thx"}, {"owner": {"reputation": 541, "user_id": 3524762, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/65791fbdfc309187aa6eb7f40261753a?s=128&d=identicon&r=PG&f=1", "display_name": "user3524762", "link": "https://stackoverflow.com/users/3524762/user3524762"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468425966, "post_id": 38343286, "comment_id": 64125637, "body": "@xxfelixxx  Hi there, other users will not need to grant me access, I have credentials that allow me to access these servers."}, {"owner": {"reputation": 541, "user_id": 3524762, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/65791fbdfc309187aa6eb7f40261753a?s=128&d=identicon&r=PG&f=1", "display_name": "user3524762", "link": "https://stackoverflow.com/users/3524762/user3524762"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1468426057, "post_id": 38343286, "comment_id": 64125697, "body": "@reinierpost I will find out today if SSH is permissible, was hoping perl WIN32 CreateProcess could be applied here."}, {"owner": {"reputation": 541, "user_id": 3524762, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/65791fbdfc309187aa6eb7f40261753a?s=128&d=identicon&r=PG&f=1", "display_name": "user3524762", "link": "https://stackoverflow.com/users/3524762/user3524762"}, "reply_to_user": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "edited": false, "score": 1, "creation_date": 1468457064, "post_id": 38343286, "comment_id": 64139923, "body": "@daotoad thanks but it is the same link as I have described above in my problem description, this solution is asynchronous."}], "owner": {"reputation": 541, "user_id": 3524762, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/65791fbdfc309187aa6eb7f40261753a?s=128&d=identicon&r=PG&f=1", "display_name": "user3524762", "link": "https://stackoverflow.com/users/3524762/user3524762"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468391290, "creation_date": 1468387638, "last_edit_date": 1468391290, "question_id": 38343286, "link": "https://stackoverflow.com/questions/38343286/how-to-use-perl-to-start-a-remote-process-and-wait-for-it-to-finish", "title": "How to use Perl to start a remote process and wait for it to finish", "body": "<p>I am using Perl v5.20.2 on Windows, how do I run a remote process on another Windows machine and \u201cwait\u201d synchronously for the executable to complete and return back control to my Perl program so that it can then continue with the next step in my code.</p>\n\n<p>I cannot use psexec or powershell due to corporate rules, I found this example <a href=\"http://www.perlmonks.org/?node_id=320634\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=320634</a> but unfortunately it is asynchronous and then calls a subroutine to remotely access the WMI on the remote server where it runs a foreach to eventually find the process (if process is still running).</p>\n\n<p>Really would appreciate some guidance here on other ways to approach this.</p>\n"}, {"tags": ["arrays", "perl", "chaining"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1468387589, "post_id": 38343238, "comment_id": 64100192, "body": "What is the type of <code>$elem-&gt;descendants-&gt;[0]</code>?  If it is a blessed object with methods you can chain it like this. If it&#39;s just a map (unblessed), then no."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1468387613, "post_id": 38343238, "comment_id": 64100200, "body": "It is an <code>HTML::Element</code>"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1468387766, "post_id": 38343238, "comment_id": 64100248, "body": "Do you have the correct <code>HTML::Element</code>? There are at least two different such packages."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1468388138, "post_id": 38343238, "comment_id": 64100401, "body": "It&#39;s version v5.03. cpan says it&#39;s up to date."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1598505276, "last_edit_date": 1598505276, "creation_date": 1468387862, "answer_id": 38343326, "question_id": 38343238, "link": "https://stackoverflow.com/questions/38343238/chain-to-array-index/38343326#38343326", "title": "Chain to array index?", "body": "<p>According to the docs of the <a href=\"http://search.cpan.org/%7Ecjm/HTML-Tree-5.03/lib/HTML/Element.pm\" rel=\"nofollow noreferrer\">HTML::Element</a> module the method <a href=\"http://search.cpan.org/%7Ecjm/HTML-Tree-5.03/lib/HTML/Element.pm#descendants\" rel=\"nofollow noreferrer\"><code>descendants</code></a> returns a list.</p>\n<blockquote>\n<p><strong>descendants</strong><br />\n@descendants = $h-&gt;descendants();</p>\n</blockquote>\n<blockquote>\n<p>In list context, returns the list of all $h's descendant elements,\nlisted in pre-order (i.e., an element appears before its content-\nelements). Text segments DO NOT appear in the list.\nIn scalar context, returns a count of all such elements.</p>\n</blockquote>\n<p>Then you have to index into the returned list with the subscript operator, like you say.</p>\n<hr />\n<p>The arrow operator has two roles.  When its right-hand side is a <code>[...]</code> subscript, which is the case contemplated here, it accesses individual array elements via the <em>array reference</em> which has to be the thing on its left side. From <a href=\"http://perldoc.perl.org/perlop.html#The-Arrow-Operator\" rel=\"nofollow noreferrer\">Arrow operator in perlop</a></p>\n<blockquote>\n<p>If the right side is either a [...] , {...} , or a (...) subscript, then the left side must be either a hard or symbolic reference to an array, a hash, or a subroutine respectively.</p>\n</blockquote>\n<p>So to use it in that way we'd need an arrayref returned from <code>descendants</code>. Often functions do return an array reference, which is probably when you had it work that way.</p>\n<p>The other use of <code>-&gt;</code> operator is when the left-hand side of it is an object (blessed reference) or a class/package name, generally to invoke methods</p>\n<blockquote>\n<p>Otherwise, the right side is a method name or a simple scalar variable containing either the method name or a subroutine reference, and the left side must be either an object (a blessed reference) or a class name (that is, a package name).</p>\n</blockquote>\n<p>The next use of it in the line does call a method, <code>-&gt;as_trimmed_text()</code>, so apparently the first element of the list returned by <code>descendants</code> is an object.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1468406399, "last_edit_date": 1468406399, "creation_date": 1468406057, "answer_id": 38349226, "question_id": 38343238, "link": "https://stackoverflow.com/questions/38343238/chain-to-array-index/38349226#38349226", "title": "Chain to array index?", "body": "<p>As has been explained, the indirection operator imposes scalar context on its operands and expects a <em>reference</em> as its first operand</p>\n\n<p>In scalar context, <code>$elem-&gt;descendants</code> returns a simple count of the number of descendants, so the operation fails. It is only in list context that it returns a list of descendant elements</p>\n\n<p>You can impose list context and produce an array reference by generating an anonymous array, like so</p>\n\n<pre><code>[ $elem-&gt;descendants ]-&gt;[0]-&gt;as_trimmed_text;\n</code></pre>\n\n<p>But I would prefer something like</p>\n\n<pre><code>my ($first_descendant) = $elem-&gt;descendants;\n$first_descendant-&gt;as_trimmed_text;\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1598505276, "creation_date": 1468387425, "question_id": 38343238, "link": "https://stackoverflow.com/questions/38343238/chain-to-array-index", "title": "Chain to array index?", "body": "<p>It is possible to get an element of an array from the result of a function by chaining, as follows:</p>\n\n<pre><code>print $elem-&gt;descendants-&gt;[0]-&gt;as_trimmed_text();\n</code></pre>\n\n<p>where <code>$elem</code> is an <code>HTML::Element</code>.</p>\n\n<p>Sometimes this seems to work with some functions, but the above didn't work.  I cannot find any documentation about whether this type of chaining is meant to work.</p>\n\n<p>The normal non-chaining way would be:</p>\n\n<pre><code>($elem-&gt;descendants)[0]-&gt;as_trimmed_text();\n</code></pre>\n"}, {"tags": ["perl", "ftp", "cd", "cwd"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468379721, "post_id": 38341643, "comment_id": 64098108, "body": "Which SFTP library are you using?  What is the value of <code>$tgt</code>?"}, {"owner": {"reputation": 29, "user_id": 6417662, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9a20ac7c5d6314aad591b0274d7ff10f?s=128&d=identicon&r=PG&f=1", "display_name": "user548682", "link": "https://stackoverflow.com/users/6417662/user548682"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468381622, "post_id": 38341643, "comment_id": 64098494, "body": "my $sftp = Net::FTP-&gt;new($server, %args);"}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 2, "creation_date": 1468391320, "post_id": 38341643, "comment_id": 64101727, "body": "What is <code>$ftp-&gt;code()</code> and <code>$ftp-&gt;message()</code>?"}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 2, "creation_date": 1468391347, "post_id": 38341643, "comment_id": 64101733, "body": "Do not name your variable <code>sftp</code>, if you are using FTP. It&#39;s confusing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468409251, "post_id": 38341643, "comment_id": 64113188, "body": "<code>error</code> is a <a href=\"https://metacpan.org/pod/IO::Socket::SSL\" rel=\"nofollow noreferrer\"><code>IO::Socket::SSL</code></a> method. You should be looking at the return value of <code>message</code>"}], "owner": {"reputation": 29, "user_id": 6417662, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9a20ac7c5d6314aad591b0274d7ff10f?s=128&d=identicon&r=PG&f=1", "display_name": "user548682", "link": "https://stackoverflow.com/users/6417662/user548682"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1468389065, "creation_date": 1468376455, "last_edit_date": 1468389065, "question_id": 38341643, "link": "https://stackoverflow.com/questions/38341643/perl-failed-to-cwd-in-ftp-mode", "title": "PERL: Failed to cwd in FTP mode", "body": "<p>I cannot cd to the path on remote machine in FTP mode. Please advise.</p>\n\n<pre><code>if (! $sftp-&gt;cwd($tgt)) {\n    $error = $sftp-&gt;error;\n    #print (\"Unable to cd to $tgt: $error\\n\");\n    print (\"$error\\n\");\n    logmsg(\"Unable to cd to $tgt: $error\\n\");\n    mailmsg(\"Unable to cd to $tgt: $error\\n\");\n   myExit();\n} else {\n    print (\"Able to cd to $tgt: \\n\");\n    logmsg(\"Able to cd to $tgt: \\n\");\n\n}\n</code></pre>\n\n<p>The error I get is <strong>0</strong> only. I checked online, <strong>0</strong> means <strong>syntax error</strong> but I personally don't think so.</p>\n"}, {"tags": ["regex", "perl", "capture"], "answers": [{"tags": [], "owner": {"reputation": 18344, "user_id": 119326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b29825e83c1da695da0e22b4198a0105?s=128&d=identicon&r=PG", "display_name": "Cfreak", "link": "https://stackoverflow.com/users/119326/cfreak"}, "is_accepted": false, "score": 1, "last_activity_date": 1468375550, "creation_date": 1468375550, "answer_id": 38341531, "question_id": 38341478, "link": "https://stackoverflow.com/questions/38341478/assign-regex-capture-in-one-statement/38341531#38341531", "title": "Assign regex capture in one statement", "body": "<p>Perl is weird in that functions (which internally a regex is) can be written to understand the context of what needs to be returned. </p>\n\n<p>When you use:</p>\n\n<pre><code>$str2 = $str1 =~ m[(.+?)World];\n</code></pre>\n\n<p>The regex function can see you want a scalar value returned and so assigns the value of <code>1</code> if matched or <code>0</code> if not matched (perl has no constants for <code>true</code> and <code>false</code>).  But when you add parenthesis, the function knows you want an array, you're just immediately assigning the array's single element back to a scalar value.</p>\n\n<p>It would also work if you did </p>\n\n<pre><code>@str2 = $str1 =~ m[(.+?)World];\n</code></pre>\n\n<p>In that case you could get your value with <code>$str2[0]</code></p>\n\n<p>If you wanted to return based on context in your own functions you can use the <code>wantarray</code> keyword.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1468376629, "creation_date": 1468376629, "answer_id": 38341670, "question_id": 38341478, "link": "https://stackoverflow.com/questions/38341478/assign-regex-capture-in-one-statement/38341670#38341670", "title": "Assign regex capture in one statement", "body": "<p>Try the following:</p>\n\n<pre><code>use feature qw( say );\n\nmy @a = qw( a b c );\n\nmy $x   = @a;\nmy ($y) = @a;\n\nsay $x;  # This outputs 3\nsay $y;  # This outputs a\n</code></pre>\n\n<p>Making the LHS of the assignment operator look \"listy\" affects the context in which the RHS of the assignment operator is evaluated.</p>\n\n<p>So the parens affect the context in which the regex match operator is evaluated.</p>\n\n<ul>\n<li>When a regex match operator is evaluated in scalar context, it returns whether a match was found or not. This allows you to do <code>if (/pat/)</code>.</li>\n<li>When a regex match operator is evaluated in list context, it returns the strings it captured. This allows you to do <code>my @matches = /pat/</code>.</li>\n</ul>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1468376629, "creation_date": 1468375099, "last_edit_date": 1468375608, "question_id": 38341478, "link": "https://stackoverflow.com/questions/38341478/assign-regex-capture-in-one-statement", "title": "Assign regex capture in one statement", "body": "<p>I have found this is a way to assign a <code>regex</code> capture in one statement:</p>\n\n<pre><code>$str1 = \"Hello World\";\n($str2) = $str1 =~ m[(.+?)World];\nprint $str2 . \"\\n\";  # output is \"Hello \"\n</code></pre>\n\n<p>Why are the brackets around <code>$str2</code> necessary?</p>\n"}, {"tags": ["perl", "loops"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468378582, "post_id": 38341409, "comment_id": 64097866, "body": "add <code>use strict</code> and <code>use warnings</code> in your script. and your <code>$chr</code> variable is not declared in your script can you please make it clear"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1468379218, "last_edit_date": 1468379218, "creation_date": 1468378775, "answer_id": 38341958, "question_id": 38341409, "link": "https://stackoverflow.com/questions/38341409/perl-looping-printing-its-results-multiple-times/38341958#38341958", "title": "Perl looping printing it&#39;s results multiple times", "body": "<p>If you added <code>use warnings</code> and <code>use strict</code> to your code, you would see:</p>\n\n<pre><code>Global symbol \"$oldLet\" requires explicit package name at foo.pl line 8.\nGlobal symbol \"$oldLet\" requires explicit package name at foo.pl line 9.\nGlobal symbol \"$oldStart\" requires explicit package name at foo.pl line 9.\nGlobal symbol \"$oldStop\" requires explicit package name at foo.pl line 9.\nGlobal symbol \"$chr\" requires explicit package name at foo.pl line 10.\nGlobal symbol \"$oldNum\" requires explicit package name at foo.pl line 10.\nExecution of foo.pl aborted due to compilation errors. at foo.pl line 18.\n</code></pre>\n\n<p>The problem is that you are using variables that have not been declared, so they are implicitly empty, so your <code>if ( defined $oldLet )</code> will not be true.</p>\n\n<p>Solution is to declare your variables before the <code>while</code> loop.</p>\n\n<p>Another issue is that you try to print <code>$chr</code> when you probably mean <code>$let</code>.</p>\n\n<p>Here is a working version:</p>\n\n<p><strong>count.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmy ($oldLet,$oldStart,$oldStop,$oldNum);\nwhile (&lt;&gt;) {\n    my ($let, $start, $stop, $num) = split;\n    if ( defined $oldLet ) {\n        if ($let eq $oldLet and $start == $oldStart and $stop == $oldStop) {\n            $oldNum += $num; # Add up the num column\n        } else {\n            # Output the results\n            print $oldLet,\"\\t\",$oldStart,\"\\t\",$oldStop,\"\\t\",$oldNum, \"\\n\";\n            $oldNum = $num;\n        }\n    } else {\n        $oldNum = $num;\n    }\n\n    $oldLet = $let;\n    $oldStart = $start;\n    $oldStop = $stop;\n}\n\n# Last group\nprint $oldLet,\"\\t\",$oldStart,\"\\t\",$oldStop,\"\\t\",$oldNum, \"\\n\";\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>cat input | perl count.pl\n\na       4360    5440    314\nb       0       1090    21\nb       1090    3550    21\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1468379218, "creation_date": 1468374532, "last_edit_date": 1468377577, "question_id": 38341409, "link": "https://stackoverflow.com/questions/38341409/perl-looping-printing-its-results-multiple-times", "title": "Perl looping printing it&#39;s results multiple times", "body": "<p>I want to compare a line with every other line in a file, if the first three columns are identical, I want to combine these lines and add their fourth columns together</p>\n\n<p>This is my perl script so far</p>\n\n<pre><code>while (&lt;&gt;){\n    my ($let, $start, $stop, $num) = split;\n    if ( defined($oldLet) ){\n        if ($let eq $oldLet and $start == $oldStart and $stop == $oldStop) {\n            print $chr,\"\\t\",$start,\"\\t\",$stop,\"\\t\",$num + $oldNum, \"\\n\";\n        }\n    }\n    my $oldLet = $let;\n    my $oldStart = $start;\n    my $oldStop = $stop;\n    my $oldNum = $num;\n}\n</code></pre>\n\n<p>This is what my input looks like</p>\n\n<pre><code>a   4360    5440    23\na   4360    5440    44\na   4360    5440    247\nb   0   1090    10\nb   0   1090    11\nb   1090    3550    10\nb   1090    3550    11\n</code></pre>\n\n<p>This is what I want as output</p>\n\n<pre><code>a   4360    5440    314\na   0   1090    21\na   1090    3550    21\n</code></pre>\n\n<p>Right now I am getting nothing</p>\n"}, {"tags": ["perl", "ssl", "iis-7.5", "windows-server-2012-r2"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1468387952, "post_id": 38341025, "comment_id": 64100320, "body": "There should be more debug output after that, especially a &quot;fatal SSL error:...&quot; which contains more details about the error. Apart from that - which version of IO::Socket::SSL, Net::SSLeay and openssl is in use?"}, {"owner": {"reputation": 41, "user_id": 1762116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff6e76ddc482d6d86f31c84a9632600?s=128&d=identicon&r=PG", "display_name": "ignorantguy", "link": "https://stackoverflow.com/users/1762116/ignorantguy"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1468953189, "post_id": 38341025, "comment_id": 64336029, "body": "@SteffenUllrich I could not find any other error logs other than these. But updating windows fixed the problem. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 1762116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff6e76ddc482d6d86f31c84a9632600?s=128&d=identicon&r=PG", "display_name": "ignorantguy", "link": "https://stackoverflow.com/users/1762116/ignorantguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1468953235, "creation_date": 1468953235, "answer_id": 38466040, "question_id": 38341025, "link": "https://stackoverflow.com/questions/38341025/perl-intermittently-fails-to-connect-to-iis-7-5-cygwin-on-windows-server-2012/38466040#38466040", "title": "Perl intermittently fails to connect to iis 7.5 (cygwin on windows server 2012)", "body": "<p>So updating windows server 2012 (my OS), which has not been updated in over a year fixed the problem. There must have been some windows patch for new tls support.</p>\n"}], "owner": {"reputation": 41, "user_id": 1762116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff6e76ddc482d6d86f31c84a9632600?s=128&d=identicon&r=PG", "display_name": "ignorantguy", "link": "https://stackoverflow.com/users/1762116/ignorantguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1468953235, "creation_date": 1468371155, "question_id": 38341025, "link": "https://stackoverflow.com/questions/38341025/perl-intermittently-fails-to-connect-to-iis-7-5-cygwin-on-windows-server-2012", "title": "Perl intermittently fails to connect to iis 7.5 (cygwin on windows server 2012)", "body": "<p>We upgraded perl on our windows server 2012 to latest stable version. Ever since we did that we are getting intermittent Cannot connect to the server errors throwing 500 error responses.</p>\n\n<p>But it is so intermittent we cannot identify the problem. Here is the debug log for some idea:</p>\n\n<pre><code>DEBUG: .../IO/Socket/SSL.pm:763: done Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:773: ssl handshake in progress\nDEBUG: .../IO/Socket/SSL.pm:783: waiting for fd to become ready: SSL wants a read first\nDEBUG: .../IO/Socket/SSL.pm:803: socket ready, retrying connect\nDEBUG: .../IO/Socket/SSL.pm:759: call Net::SSLeay::connect\nDEBUG: .../IO/Socket/SSL.pm:763: done Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:766: local error: SSL connect attempt failed\n</code></pre>\n\n<p>Windows server is running IIS 7.5 and We have a valid Certificate issued by COMODO.</p>\n\n<p>Any insight would be much appreciated. Please let me know if you need any further information.</p>\n"}, {"tags": ["linux", "perl", "process", "ipc"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1468362131, "post_id": 38339764, "comment_id": 64094003, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12406152/can-we-set-a-variable-used-in-a-perl-script-as-environment-variable\">Can we set a variable used in a Perl script as environment variable?</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468362285, "post_id": 38339764, "comment_id": 64094049, "body": "Also: <a href=\"http://stackoverflow.com/q/20566616\">stackoverflow.com/q/20566616</a>, <a href=\"http://stackoverflow.com/q/35443690\">stackoverflow.com/q/35443690</a>, ..."}, {"owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468364220, "post_id": 38339764, "comment_id": 64094649, "body": "@ThisSuitIsBlackNot No they&#39;re different. My parent process here is terminal itself, not any other script. So the solution is limited. Anyway, thx."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468365247, "post_id": 38339764, "comment_id": 64094941, "body": "@Henry  &quot;<i>Terminal</i>&quot; is not a process.  When you start something from a terminal the shell, which receives and runs your commands, sets that job to be the process group leader, and that&#39;s the parent. Then you go from there.  The linked posts should by all means answer your quesiton."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1468365467, "post_id": 38339764, "comment_id": 64095001, "body": "It doesn&#39;t matter if the parent process is a shell or a script, child processes can&#39;t alter their parents&#39; environments (not directly, at least). Also see <a href=\"http://stackoverflow.com/q/496702/176646\">Can a shell script set environment variables of the calling shell?</a> The real question is, why exactly do you want to do this? There may be a better way."}, {"owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468365679, "post_id": 38339764, "comment_id": 64095041, "body": "@ThisSuitIsBlackNot because I changed the env variables in child process , and I want to keep the env variables in child the same as env variables in parent process. I want to do by a IPC way. But few article describes this."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468365832, "post_id": 38339764, "comment_id": 64095074, "body": "What exactly does the child process do such that the parent needs to have the same environment? Can you please be more specific?"}, {"owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468365907, "post_id": 38339764, "comment_id": 64095089, "body": "@ThisSuitIsBlackNot I know <code>source</code> can do this, for example, type <code>source</code> in a terminal manually but I want to do this automatically by computer like <code>source</code> in a script. So it seems that there&#39;s only IPC solution can do this"}, {"owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468366018, "post_id": 38339764, "comment_id": 64095111, "body": "@ThisSuitIsBlackNot user here will check env variables often, so once I changed the env variables, I want to keep them the same everywhere, otherwise people will get confused."}, {"owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468366119, "post_id": 38339764, "comment_id": 64095131, "body": "@ThisSuitIsBlackNot export can do this, sorry"}, {"owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468366636, "post_id": 38339764, "comment_id": 64095261, "body": "@ThisSuitIsBlackNot so I&#39;m thinking if I can send <code>export</code> from running script process to its parent the terminal process after I change it in the script, then the work will be done -- both terminal and script process will have the same variables."}], "owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468363724, "creation_date": 1468361898, "last_edit_date": 1468363724, "question_id": 38339764, "link": "https://stackoverflow.com/questions/38339764/send-shell-commands-to-parent-process-from-its-child-process", "title": "send shell commands to parent process from its child process", "body": "<p>Platform: Linux (Fedora).\nLanguage: Perl</p>\n\n<p>the parent process is a terminal;</p>\n\n<p>the child process is process, which is a child process and is running a Perl script.</p>\n\n<p>The thing is that there will be a code snippet in this Perl script, which will change environment variables and I want to update the env variables of parent process as well making them the same.</p>\n\n<p>So how can I do this? Thanks much.</p>\n"}, {"tags": ["perl", "shell", "command-line"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468360354, "post_id": 38339061, "comment_id": 64093368, "body": "I think the 6th line of your output should have 4090, not 1090?  but I don&#39;t get where the 7th and 8th lines come from"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468360490, "post_id": 38339061, "comment_id": 64093421, "body": "so you only want to combine ranges where one completely encapsulates the other?  what about 0-100, 50-100, 50-150?  50-100 is completely encapsulated by both other ranges."}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468360786, "post_id": 38339061, "comment_id": 64093520, "body": "@ysth that&#39;s a good point, I edit my example to account for that, and no the 6th line is supposed to be 1090, Ill include those lines in my edit too"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468362808, "post_id": 38339061, "comment_id": 64094215, "body": "@ysth ok I put an edit in, thanks for pointing that out, I realized my question wasn&#39;t really asking for what I needed"}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1468364355, "post_id": 38339061, "comment_id": 64094687, "body": "This may be a simplistic understanding, but it looks like you will need to read all values of <code>&#39;a&#39;</code>s and find the <code>min</code> and <code>max</code> for the values for the beginning and ending range and then sum the counts within that range.  You can use <i>indexed arrays</i> for each parameter to hold the values, then empty the arrays and start over when you find the first <code>&#39;b&#39;</code>, etc.."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468904807, "post_id": 38339061, "comment_id": 64304827, "body": "I may be able to get around to look at this at some point soon -- do you still have interest in it?"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468942614, "post_id": 38339061, "comment_id": 64329760, "body": "@zdim Nope I figured it out I did something kind of like what David C. Rankin said"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468362840, "creation_date": 1468358334, "last_edit_date": 1468362840, "question_id": 38339061, "link": "https://stackoverflow.com/questions/38339061/combine-overlapping-ranges-while-keeping-non-overlapping-ranges-in-perl-or-shel", "title": "Combine overlapping ranges, while keeping non-overlapping ranges in perl or shell", "body": "<p>Kind of tricky for anyone who's up to it</p>\n\n<p>I would like to figure out a way to do this in either perl or a bash/sh script</p>\n\n<p>I have the expected input and output below with an explanation of what it means but can't really fathom how I would achieve this</p>\n\n<p>In these files think of </p>\n\n<pre><code>column 1 - an indicator, those indicated with 'a' have no relation to those indicated with 'b' or 'c'\ncolumn 2 - the beginning of a range\ncolumn 3 - the end of a range\ncolumn 4 - a count, how many times something occurs\n</code></pre>\n\n<p>Right now I have files that are like</p>\n\n<pre><code>a   870 1470    58\na   870 5440    11\na   1470    3080    37\na   3080    3210    48\na   3080    5440    23\na   3210    4360    44\na   4360    5440    247\nb   0   1090    10\nb   0   4090    11\nb   1090    3550    37\nc   0       1250    10\nc   1000    1500    5\nc   1300    1700    5\nc   1700    1900    12\n</code></pre>\n\n<p>And I want to create files that are like</p>\n\n<pre><code>a   870  1470   69\na   1470 3080   48\na   3080 3210   82\na   3210 4360   78\na   4360 5440   281\nb   0  1090   21\nb   1090  3550  48\nb   3550  4090  11\nc   0    1000   10\nc   1000 1250   15\nc   1250 1300   5\nc   1300 1500   10\nc   1500 1700   5\nc   1700 1900   12\n</code></pre>\n\n<p>.</p>\n\n<p>..</p>\n\n<p>Explanation of the output:</p>\n\n<pre><code>The a's\n</code></pre>\n\n<p>The range in row a1 (870-1470) is completely encapsulated within the range in row 2 (870-5440) so the amount of occurrences of the range 870-1470 is 69</p>\n\n<pre><code>a   870  1470   69\n</code></pre>\n\n<p>The range in row a3 (1470-3080) is also completely encapsulated within row 2 so occurrences of the range of row 3 is 48</p>\n\n<pre><code>a   1470 3080   48\n</code></pre>\n\n<p>The range in row a4 (3080-3210) is completely encapsulate within the range in rows 5 (3080-5440) and row 2 (870-5440) so the occurrences of this range are 82</p>\n\n<pre><code>a   3080 3210   82\n</code></pre>\n\n<p>.</p>\n\n<pre><code>The b's\n</code></pre>\n\n<p>The range in row b1 (0-1090) is encapsulated within the range in row b2(0-4090) so the amount of occurence of the range 0-1090 is actually 21</p>\n\n<pre><code>b   0  1090   21\n</code></pre>\n\n<p>The range in row b3 (1090-3550) is encapsulated within the range in row b2 so the amount of occurences of the range 1090-3550 is actually 48</p>\n\n<pre><code>b   1090  3550  48\n</code></pre>\n\n<p>Now the range 3550-4090 is not listed in the input file but this range is the remainder of the range in row b2 that has not been accounted for yet so the amount of times it occurs is 11</p>\n\n<pre><code>b   3550  4090  11\n</code></pre>\n\n<p>.</p>\n\n<pre><code>The c's\n</code></pre>\n\n<p>The range in row c1(0-1250) overlaps with the range in row c2 (1000-1250) as well the range in row c3(1300-1500) overlaps with the range in row c2.\nEncapsultes the range 0-1000 which overlaps with nothing else so the amount of times this range occurs is 10</p>\n\n<pre><code>c   0    1000   10\n</code></pre>\n\n<p>The remainder of the range in row c1 (1000-1250) is encapsulated within the range in row c2 (1000-1500) so the (1000-1250) range occurs 15 times</p>\n\n<pre><code>c   1000 1250   15\n</code></pre>\n\n<p>There is a range in row c2 which does not overlap with anything (1250-1300) and so the amount of times it occurs is 5</p>\n\n<pre><code>c   1250 1300   5\n</code></pre>\n\n<p>The remainder of the range in row c2(1300-1500) is encapsulated within row c3(1300-1700) so the amount of times the 1300-1500 range occurs is 10</p>\n\n<pre><code>c   1300 1500   10\n</code></pre>\n\n<p>The remainder of the range in row c3 (1500-1700) does not overlap with anything and occurs 5 times</p>\n\n<pre><code>c   1500 1700   5\n</code></pre>\n\n<p>The range in c4 has no overlaps anywhere and occurs 12 times</p>\n\n<pre><code>c   1700 1900   12\n</code></pre>\n\n<p>Thank-you!</p>\n"}, {"tags": ["oracle", "perl", "dbi"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1468384926, "post_id": 38339035, "comment_id": 64099324, "body": "I&#39;ve never used PerlApp, but <a href=\"http://docs.activestate.com/pdk/6.0/PerlApp.html#perlapp__2d_2dbind_file\" rel=\"nofollow noreferrer\">the docs</a> suggest you might be able to use the <code>--bind</code> option to include additional DLLs. I&#39;m not sure whether you would then need code to load them or if they&#39;d be found automatically."}, {"owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1468440605, "post_id": 38339035, "comment_id": 64134058, "body": "I&#39;ve tried the bind option, it does appear to include the dll and throw it in the temp directory. But the app doesn&#39;t know it&#39;s there."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "edited": false, "score": 0, "creation_date": 1468420267, "post_id": 38345217, "comment_id": 64121438, "body": "There&#39;s no way to wrap them up in the executable?"}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "reply_to_user": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "edited": false, "score": 0, "creation_date": 1468422223, "post_id": 38345217, "comment_id": 64122956, "body": "To do that, you would need Oracle static libraries but, unless something changed recently, Oracle does not provide static libraries for Windows. See <a href=\"https://community.oracle.com/thread/2495648?tstart=0\" rel=\"nofollow noreferrer\">community.oracle.com/thread/2495648?tstart=0</a> . (And even having them, this is not a standard C/C++ application built with Visual C++ )"}, {"owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "edited": false, "score": 0, "creation_date": 1468425048, "post_id": 38345217, "comment_id": 64124978, "body": "What about using this option I discovered on another script to combine DLL&#39;s <b>--bind PerlEz.dll[file=\\perl\\bin\\PerlEz.dll,extract]</b>"}, {"owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "edited": false, "score": 0, "creation_date": 1468434119, "post_id": 38345217, "comment_id": 64130549, "body": "I would really like to avoid installing PERL or Oracle.dll&#39;s on these machines. They utilize they&#39;re own oracle database. I fear adding more oracle files could confuse the machine to which to use. Ideally, the .exe will use its own files"}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "reply_to_user": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "edited": false, "score": 0, "creation_date": 1468481423, "post_id": 38345217, "comment_id": 64147357, "body": "If you look at the docs that @Grant McLean linked, they say &quot;The bound file is extracted into the TEMP directory upon application start&quot;. It depends on when the extraction takes place, whether it&#39;s before or after loading dependencies for the app. And even if it was before that, it would be the same as copying the file by yourself, which means multiple versions of the file on the machine."}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "reply_to_user": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "edited": false, "score": 0, "creation_date": 1468481605, "post_id": 38345217, "comment_id": 64147459, "body": "The only way that I can see this working is if you have multiple applications that connect to the database and the required DLL files are in the same directory as the executables, for each application, because priority is given to libraries in the same directory. But that would easily become hard to maintain."}, {"owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "edited": false, "score": 0, "creation_date": 1468507292, "post_id": 38345217, "comment_id": 64164472, "body": "So if I did put them in one directory, they would have to be registered correct? Also, how would I change where DBI looks for those DLL&#39;s?"}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "reply_to_user": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "edited": false, "score": 0, "creation_date": 1468508456, "post_id": 38345217, "comment_id": 64165384, "body": "What you want is &quot;Search Order for Desktop Applications&quot; in this article <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682586(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 1, "last_activity_date": 1468394849, "creation_date": 1468394849, "answer_id": 38345217, "question_id": 38339035, "link": "https://stackoverflow.com/questions/38339035/perl-script-compiled-as-windows-executable-does-not-connect-to-oracle/38345217#38345217", "title": "Perl script compiled as Windows executable does not connect to Oracle", "body": "<p>There are two cases:</p>\n\n<ul>\n<li>If you do NOT have the DLL files on the target machine, it's not going to work. DLL files aren't linked into the executables (as the name says, they're Dynamic Link Libraries, not static libraries)</li>\n<li>If you DO have the DLL files on the target machine, but they're not found then there are a few possible explanations. The files may not be in the PATH, for instance. Or the files may not have the correct permissions, especially if you're calling your executable from something like a service (which by default runs on a system account which has different permissions).</li>\n</ul>\n\n<p>Also, keep in mind that Window is a bit picky about DLL files. It may say that Oracle.dll is missing, but what is actually missing may be one of its dependencies. Maybe OCI.dll ?\nAnd if you have more than one DLL file with the same name, try and make sure which one is loaded, because it may not be the right version.</p>\n\n<p>If the files are there, there's only one version of them, they're in the PATH and it still cannot find them, you can try registering the files manually by running the <code>regsvr32</code> command on the required DLL.</p>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 6590456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0722cd093bea4745467a58140d50099?s=128&d=identicon&r=PG&f=1", "display_name": "ssleung", "link": "https://stackoverflow.com/users/6590456/ssleung"}, "is_accepted": false, "score": 1, "last_activity_date": 1468513654, "creation_date": 1468513654, "answer_id": 38379494, "question_id": 38339035, "link": "https://stackoverflow.com/questions/38339035/perl-script-compiled-as-windows-executable-does-not-connect-to-oracle/38379494#38379494", "title": "Perl script compiled as Windows executable does not connect to Oracle", "body": "<p>You need to separately install the Oracle client on any machine that you are running your EXE on. </p>\n\n<p>PerlApp in the ActiveState's PDK will not wrap Oracle clients into the EXE because doing so will violate Oracle's re-distribution agreement.  </p>\n"}], "owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1468513654, "creation_date": 1468358243, "last_edit_date": 1468374208, "question_id": 38339035, "link": "https://stackoverflow.com/questions/38339035/perl-script-compiled-as-windows-executable-does-not-connect-to-oracle", "title": "Perl script compiled as Windows executable does not connect to Oracle", "body": "<p>I have a Perl Script that I've written that connects to Oracle. The script works perfectly on my machine with PERL64 installed. I tried to turn this script into an EXE using ActiveState PerlApp. Again, works perfectly on my machine. Once the executable is on a machine that does not contain Perl it is missing DLL's needed to connect to Oracle. </p>\n\n<pre><code>use DBI;\n\n    # CONFIG VARIABLES\nour $database = \"database.app.net\";\nour $host = \"server.app.net\";\nour $port = \"1522\";\nour $user = \"SVC_app\";\nour $pw = 'Password';\n\n# DATA SOURCE NAME\nour $dsn = \"dbi:Oracle:$host:$port/$database\";\n\n# PERL DBI CONNECT\nour $connect = DBI-&gt;connect($dsn, $user, $pw);\n\n# PREPARE THE QUERY\nour $query = 'SELECT Blah FROM database.\"table\" where \"blah\" = ?';\nour $query_handle = $connect-&gt;prepare($query);\n\n# EXECUTE THE QUERY\n$query_handle-&gt;execute($value);\n\n# BIND TABLE COLUMNS TO VARIABLES\n$query_handle-&gt;bind_columns(undef, \\$return);\n\n# LOOP THROUGH RESULTS\nwhile($query_handle-&gt;fetch()) {\n   #print \"$return\";\n} \n</code></pre>\n\n<p>The error i receive is :</p>\n\n<p><strong>Can't load 'auto/DBD/Oracle/Oracle.dll' for module DBD::Oracle: load_file:The specified module could not be found at/DynaLoader.pm line 224.</strong></p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1468355911, "post_id": 38338431, "comment_id": 64091240, "body": "Use <code>grep</code> to select all lines not matching a patterm with at least 5 slashes."}, {"owner": {"reputation": 4731, "user_id": 1716866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/411da970ac5de2f1a0d66a10741b0e9c?s=128&d=identicon&r=PG", "display_name": "leekaiinthesky", "link": "https://stackoverflow.com/users/1716866/leekaiinthesky"}, "edited": false, "score": 0, "creation_date": 1468356275, "post_id": 38338431, "comment_id": 64091448, "body": "You can use this to count your <code>&#47;</code>s in bash: <a href=\"http://stackoverflow.com/a/16679640/1716866\">stackoverflow.com/a/16679640/1716866</a>."}], "answers": [{"comments": [{"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "reply_to_user": {"reputation": 9, "user_id": 6581378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c900a4a2ac6a8229700eeaf8d4d68f1b?s=128&d=identicon&r=PG&f=1", "display_name": "shoaljumper", "link": "https://stackoverflow.com/users/6581378/shoaljumper"}, "edited": false, "score": 0, "creation_date": 1468375871, "post_id": 38338519, "comment_id": 64097254, "body": "No problem, glad to help! :)"}], "tags": [], "owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "is_accepted": true, "score": 0, "last_activity_date": 1468356013, "creation_date": 1468356013, "answer_id": 38338519, "question_id": 38338431, "link": "https://stackoverflow.com/questions/38338431/remove-urls-of-a-certain-length/38338519#38338519", "title": "remove URL&#39;s of a certain length", "body": "<p>You can simply to:</p>\n\n<pre><code>grep '://.*/.*/.*/.*/.*/' urls.txt\n</code></pre>\n\n<p>This will only match lines that have at least 5 slashes.</p>\n"}, {"comments": [{"owner": {"reputation": 3409, "user_id": 4579155, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Dw6Fx.jpg?s=128&g=1", "display_name": "abarisone", "link": "https://stackoverflow.com/users/4579155/abarisone"}, "edited": false, "score": 0, "creation_date": 1468399763, "post_id": 38338521, "comment_id": 64106817, "body": "Please edit with more information. Code-only and &quot;try this&quot; answers are discouraged, because they contain no searchable content, and don&#39;t explain why someone should &quot;try this&quot;. We make an effort here to be a resource for knowledge."}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": false, "score": 0, "last_activity_date": 1468356023, "creation_date": 1468356023, "answer_id": 38338521, "question_id": 38338431, "link": "https://stackoverflow.com/questions/38338431/remove-urls-of-a-certain-length/38338521#38338521", "title": "remove URL&#39;s of a certain length", "body": "<p>Use</p>\n\n<pre><code>grep '//.*/.*/.*/' filename\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6581378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c900a4a2ac6a8229700eeaf8d4d68f1b?s=128&d=identicon&r=PG&f=1", "display_name": "shoaljumper", "link": "https://stackoverflow.com/users/6581378/shoaljumper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 38338519, "answer_count": 2, "score": -1, "last_activity_date": 1468356023, "creation_date": 1468355701, "question_id": 38338431, "link": "https://stackoverflow.com/questions/38338431/remove-urls-of-a-certain-length", "title": "remove URL&#39;s of a certain length", "body": "<p>I have a flat file with a list of URL's I want to spider. I only want to check the ones of a certain length though. I am unaware of any way to cut the shorter urls from the list via bash. Would it be possible to create a simple for do loop to remove lines in the file that contain less than 5 forward slashed? \"/\"</p>\n"}, {"tags": ["perl", "parsing", "parameters", "arguments", "getopt"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468357331, "post_id": 38338421, "comment_id": 64092017, "body": "You&#39;re trying to enforce a very specific order for options, but I don&#39;t think that&#39;s very common or intuitive. If I were a user of your application, I would expect <code>-m foo -t bar</code> to be the same as <code>-t bar -m foo</code>. You might be able to do this with Getopt::Long, but I think a different design would be better."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1468357410, "post_id": 38338805, "comment_id": 64092059, "body": "it would probably help tremendously if you provided a working example based off of the OPs question..."}, {"owner": {"reputation": 1457, "user_id": 2981588, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1f4f2945d6e635729ef90306b3fc473d?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2981588/tim"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1468375537, "post_id": 38338805, "comment_id": 64097183, "body": "@stevieb I added the MWE, as requested. Probably should have done that before, but I was feeling lazy."}], "tags": [], "owner": {"reputation": 1457, "user_id": 2981588, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1f4f2945d6e635729ef90306b3fc473d?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2981588/tim"}, "is_accepted": false, "score": 1, "last_activity_date": 1468375503, "last_edit_date": 1592644375, "creation_date": 1468357232, "answer_id": 38338805, "question_id": 38338421, "link": "https://stackoverflow.com/questions/38338421/perl-getoptlong-multiple-arguments-with-optional-parameter/38338805#38338805", "title": "Perl GetOpt::Long multiple arguments with optional parameter", "body": "<p>From the &quot;Argument callback&quot; section of the <a href=\"http://perldoc.perl.org/Getopt/Long.html#Parsing-options-from-an-arbitrary-string\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<pre><code>When applied to the following command line:\n    arg1 --width=72 arg2 --width=60 arg3\n\nThis will call process(&quot;arg1&quot;) while $width is 80 , process(&quot;arg2&quot;) while $width is 72 , and process(&quot;arg3&quot;) while $width is 60.\n</code></pre>\n<hr />\n<p><strong>EDIT</strong>: Add MWE as requested.</p>\n<pre><code>use strict;\nuse warnings;\nuse Getopt::Long qw(GetOptions :config permute);\n\nmy %mount_points;\nmy $filesystem;\n\nsub process_filesystem_type($) {\n    push @{$mount_points{$filesystem}}, $_[0];\n}\n\nGetOptions('t=s' =&gt; \\$filesystem, '&lt;&gt;' =&gt; \\&amp;process_filesystem_type);\n\nfor my $fs (sort keys %mount_points) {\n    print &quot;$fs : &quot;, join(',', @{$mount_points{$fs}}), &quot;\\n&quot;;\n}\n</code></pre>\n<p>./test -t nfs /abc /bcd -t ext4 /foo -t ntfs /bar /baz</p>\n<blockquote>\n<p>ext4 : /foo</p>\n<p>nfs : /abc,/bcd</p>\n<p>ntfs : /bar,/baz</p>\n</blockquote>\n<p>Note that the inputs are ordered as filesystem type then mountpoints. This is reversed from the OP's solution.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1468358249, "post_id": 38338983, "comment_id": 64092414, "body": "<a href=\"http://perldoc.perl.org/Getopt/Long.html#Options-with-hash-values\" rel=\"nofollow noreferrer\">You don&#39;t even need to <code>split</code> it yourself.</a> Just beware of mount points containing <code>=</code>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468358606, "post_id": 38338983, "comment_id": 64092596, "body": "Good call @ThisSuitIsBlackNot... I&#39;ve somehow missed that section of the docs in my years :) That&#39;s handy! (answer updated)"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1468358646, "last_edit_date": 1468358646, "creation_date": 1468358022, "answer_id": 38338983, "question_id": 38338421, "link": "https://stackoverflow.com/questions/38338421/perl-getoptlong-multiple-arguments-with-optional-parameter/38338983#38338983", "title": "Perl GetOpt::Long multiple arguments with optional parameter", "body": "<p>This won't be easy to do with <code>Getopt::Long</code> directly, but if you can change the argument structure a bit, such as to </p>\n\n<pre><code>./script.pl --disk /abc --disk /mno=nfs -d /xyz=nfs\n</code></pre>\n\n<p>...the following will get you to where you want to be (note that a missing type will appear as the empty string, not <code>undef</code>):</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Data::Dumper;\nuse Getopt::Long;\n\nmy %disks;\n\nGetOptions(\n    'd|disk:s' =&gt; \\%disks, # this allows both -d and --disk to work\n);\n\nprint Dumper \\%disks;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          '/abc' =&gt; '',\n          '/mno' =&gt; 'nfs',\n          '/xyz' =&gt; 'nfs'\n        };\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 6581346, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205010585424028/picture?type=large", "display_name": "Milan \u010c&#237;\u017eek", "link": "https://stackoverflow.com/users/6581346/milan-%c4%8c%c3%ad%c5%beek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 38338983, "answer_count": 2, "score": 3, "last_activity_date": 1468375503, "creation_date": 1468355675, "question_id": 38338421, "link": "https://stackoverflow.com/questions/38338421/perl-getoptlong-multiple-arguments-with-optional-parameter", "title": "Perl GetOpt::Long multiple arguments with optional parameter", "body": "<p>this is my fist post on stackoverflow. :)</p>\n\n<p>I'm trying to solve this scenario with GetOpt::Long.</p>\n\n<p>./myscript -m /abc -m /bcd -t nfs -m /ecd -t nfs ...</p>\n\n<p>-m is mount point and -t is type of file system (can be placed, but it is not mandatory).</p>\n\n<pre><code>  Getopt::Long::Configure(\"bundling\");\n  GetOptions('m:s@' =&gt; \\$mount, 'mountpoint:s@' =&gt; \\$mount,\n             't:s@' =&gt; \\$fstype, 'fstype:s@'  =&gt; \\$fstype)\n</code></pre>\n\n<p>This is not right, i'm not able pair proper mount and fstype</p>\n\n<pre><code>./check_mount.pl -m /abc -m /bcd -t nfs -m /ecd -t nfs\n$VAR1 = [\n          '/abc',\n          '/bcd',\n          '/ecd'\n        ];\n$VAR1 = [\n          'nfs',\n          'nfs'\n        ];\n</code></pre>\n\n<p>I need fill unspecified fstype e.g. with \"undef\" value.\nthe best solution for me would be get hash such as...</p>\n\n<pre><code>%opts;\n$opts{'abc'} =&gt; 'undef'\n$opts{'bcd'} =&gt; 'nfs'\n$opts{'ecd'} =&gt; 'nfs'\n</code></pre>\n\n<p>Is it possible? Thank you.</p>\n"}, {"tags": ["c", "perl", "xs"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1468354398, "post_id": 38337959, "comment_id": 64090351, "body": "I&#39;m pretty new to XS, too, but I think you want to create a new scalar and then call <a href=\"http://perldoc.perl.org/perlapi.html#sv_catpv\" rel=\"nofollow noreferrer\"><code>sv_catpv</code></a> or similar, so Perl manages the memory."}, {"owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468354822, "post_id": 38337959, "comment_id": 64090606, "body": "It is just an example. Please ignore the purpose of my sample. The question was about the malloc."}, {"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 4, "creation_date": 1468355012, "post_id": 38337959, "comment_id": 64090712, "body": "The <a href=\"http://perldoc.perl.org/perlguts.html#Working-with-SVs\" rel=\"nofollow noreferrer\">perlguts</a> section documents several approaches to handling memory management.  You could directly allocate an SV with the correct size and work with that instead of using malloc()."}, {"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 4, "creation_date": 1468355471, "post_id": 38337959, "comment_id": 64090991, "body": "In your case, since <code>buf</code> isn&#39;t needed after the <code>newSvpv</code> call, you can free it.  Note that you should use the Perl provided macros for allocating and freeing memory.  See <a href=\"http://perldoc.perl.org/perlguts.html#Memory-Allocation\" rel=\"nofollow noreferrer\">perlguts: Memory Allocation</a>"}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 1, "creation_date": 1468405625, "post_id": 38337959, "comment_id": 64110815, "body": "Also, have a look at the <code>perlclib</code> manpage. It lists lots of macros and functions that Perl offers to replace clib ones, for portability between operating systems and Perl versions."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 0, "creation_date": 1468406040, "post_id": 38337959, "comment_id": 64111054, "body": "@DiabJerius It&#39;s perfectly fine to use malloc/free in this case. For example, if you write a wrapper for a C library, that&#39;s what the library typically does anyway."}, {"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1468423864, "post_id": 38337959, "comment_id": 64124169, "body": "@nwellnhof,  there&#39;s a comment in the perlguts docs: &quot;All memory meant to be used with the Perl API functions should be manipulated using the macros described in this section&quot; which seems to indicate that if you can, you should.  I agree, if you&#39;re handed a pointer to memory from someone else&#39;s codel, then there&#39;s not much you can do."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 0, "creation_date": 1468523771, "post_id": 38337959, "comment_id": 64174776, "body": "@DiabJerius You only have to use <code>Newx</code> for functions like <code>sv_usepvn</code> which directly assign a memory area. Typically, you use functions like <code>sv_setpvn</code> which make a copy of the buffer&#39;s content. In this case, it doesn&#39;t matter how the buffer was allocated."}], "answers": [{"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 4, "last_activity_date": 1468405676, "creation_date": 1468405676, "answer_id": 38349075, "question_id": 38337959, "link": "https://stackoverflow.com/questions/38337959/perl-xs-memory-management/38349075#38349075", "title": "Perl XS: Memory management", "body": "<p><code>newSVpv</code> creates an internal copy of the string, so you can simply free the memory by calling <code>free</code> after assigning to <code>RETVAL</code>.</p>\n"}], "owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 2, "accepted_answer_id": 38349075, "answer_count": 1, "score": 5, "last_activity_date": 1468405676, "creation_date": 1468353860, "question_id": 38337959, "link": "https://stackoverflow.com/questions/38337959/perl-xs-memory-management", "title": "Perl XS: Memory management", "body": "<p>I am absolutely new to Perl XS.</p>\n\n<p>My simple testfunction gets a string and appends something.\nIn Perl is is a scalar-string in and one out.</p>\n\n<p>In the function I have a malloc. Whats the correct way to free the mem?</p>\n\n<pre><code>SV *foo (str)\n   SV *str\nCODE:\n    unsigned char *strbuf;\n    size_t strlen;\n    strbuf = (unsigned char *) SvPV (str, strlen);\n\n    int n = strlen + 10;\n    unsigned char *buf = malloc (n);    \n\n    strncpy (buf, strbuf, strlen);\n    strncat (buf, \"0123456789\", 10);\n\n    RETVAL = newSVpv (buf, n);\nOUTPUT:\n    RETVAL\n</code></pre>\n\n<p>thanks!\nChris</p>\n"}, {"tags": ["json", "perl", "api", "vk"], "answers": [{"tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1468358734, "creation_date": 1468358734, "answer_id": 38339145, "question_id": 38336488, "link": "https://stackoverflow.com/questions/38336488/parse-by-perl-vk-com-api-json-response/38339145#38339145", "title": "parse by Perl Vk.com API JSON response", "body": "<p>But of course. <code>-&gt;response</code> is obivously an array, as signified by <code>[]</code> in your JSON. You need <code>$decode-&gt;{response}[1]{text}</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 5075581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32b5d9983eb0e5853373a526e7d651d?s=128&d=identicon&r=PG&f=1", "display_name": "Yks", "link": "https://stackoverflow.com/users/5075581/yks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468358734, "creation_date": 1468348427, "question_id": 38336488, "link": "https://stackoverflow.com/questions/38336488/parse-by-perl-vk-com-api-json-response", "title": "parse by Perl Vk.com API JSON response", "body": "<p>i make an api request to vk.com ( 'wall.get' ) it returns respons in JSON.</p>\n\n<p>Modules which i use:</p>\n\n<pre><code>use VK::App;\nuse JSON qw( decode_json );\nuse Data::Dumper;\nuse JSON::XS;\n</code></pre>\n\n<p>full response:</p>\n\n<pre><code>{\"response\":[1696,{\"id\":9298,\"from_id\":-95784908,\"to_id\":-95784908,\"date\":1468314922,\"marked_as_ads\":0,\"post_type\":\"post\",\"text\":\"\u041f\u043e\u043a\u0430 \u0440\u044d\u043f\u0435\u0440\u0430 \u043f\u0440\u0438\u0434\u0443\u043c\u044b\u0432a\u044e\u0442 \u043do\u0432\u044b\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438,&lt;br&gt;\u041e \u0447\u0435\u043c \u0436\u0435 \u0438\u043c \u043d\u0430\u043f\u0438\u0441a\u0442\u044c  \u044f \u0432\u044b\u043f\u044c\u044e \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044f.\",\"signer_id\":305317129,\"can_edit\":1,\"created_by\":305317129,\"can_delete\":1,\"can_pin\":1,\"media\":{\"type\":\"audio\",\"owner_id\":2000355235,\"item_id\":456239648},\"attachment\":{\"type\":\"photo\",\"photo\":{\"pid\":426327566,\"aid\":-7,\"owner_id\":-95784908,\"user_id\":100,\"src\":\"https:\\/\\/pp.vk.me\\/c633131\\/v633131850\\/39ece\\/lnz0Bz1WuLs.jpg\",\"src_big\":\"https:\\/\\/pp.vk.me\\/c633131\\/v633131850\\/39ecf\\/yRnLIcZbUNI.jpg\",\"src_small\":\"https:\\/\\/pp.vk.me\\/c633131\\/v633131850\\/39ecd\\/EESnBXYilMI.jpg\",\"src_xbig\":\"https:\\/\\/pp.vk.me\\/c633131\\/v633131850\\/39ed0\\/RNR8FS9CNjg.jpg\",\"src_xxbig\":\"https:\\/\\/pp.vk.me\\/c633131\\/v633131850\\/39ed1\\/pXN8-5o7szc.jpg\",\"width\":960,\"height\":959,\"text\":\"\",\"created\":1468281534,\"access_key\":\"fef98dd6d847faf868\"}},\"attachments\":[{\"type\":\"photo\",\"photo\":{\"pid\":426327566,\"aid\":-7,\"owner_id\":-95784908,\"user_id\":100,\"src\":\"https:\\/\\/pp.vk.me\\/c633131\\/v633131850\\/39ece\\/lnz0Bz1WuLs.jpg\",\"src_big\":\"https:\\/\\/pp.vk.me\\/c633131\\/v633131850\\/39ecf\\/yRnLIcZbUNI.jpg\",\"src_small\":\"https:\\/\\/pp.vk.me\\/c633131\\/v633131850\\/39ecd\\/EESnBXYilMI.jpg\",\"src_xbig\":\"https:\\/\\/pp.vk.me\\/c633131\\/v633131850\\/39ed0\\/RNR8FS9CNjg.jpg\",\"src_xxbig\":\"https:\\/\\/pp.vk.me\\/c633131\\/v633131850\\/39ed1\\/pXN8-5o7szc.jpg\",\"width\":960,\"height\":959,\"text\":\"\",\"created\":1468281534,\"access_key\":\"fef98dd6d847faf868\"}},{\"type\":\"audio\",\"audio\":{\"aid\":456239648,\"owner_id\":2000355235,\"artist\":\"\u041a\u043e\u0441\u0442\u0438\u043a \u0418\u0437\u0425\u0430\u0431\u0430\u0440\u044d\",\"title\":\"\u0417\u0430\u041c\u041a\u0410\u0414\u044b\u0448\",\"duration\":211,\"url\":\"https:\\/\\/cs1-43v4.vk-cdn.net\\/p14\\/5c654491198674.mp3?extra=alCnXJlE-kVhqAR-FhYkeLc3VfVrav607YQqc6RhT--YU-qDG_HlcajsiUqvu9t746CXm57LkPkPLrlG98-Ay72LgAiHjAjBiw1ziotmhGH4n6s9zcs4VPGpGUpgDnhmkHWGxYoG4Nwgt2Q\",\"performer\":\"\u041a\u043e\u0441\u0442\u0438\u043a \u0418\u0437\u0425\u0430\u0431\u0430\u0440\u044d\",\"album\":\"2\",\"genre\":18}}],\"post_source\":{\"type\":\"vk\"},\"comments\":{\"count\":0,\"can_post\":1},\"likes\":{\"count\":0,\"user_likes\":0,\"can_like\":1,\"can_publish\":1},\"reposts\":{\"count\":0,\"user_reposted\":0},\"online\":0,\"reply_count\":0}]}\n</code></pre>\n\n<p>i need to parse text which after 'text =>'</p>\n\n<p>And after Data::Dumper; </p>\n\n<pre><code>$VAR1 = {\n          'response' =&gt; [\n                          1696,\n                          {\n                            'comments' =&gt; {\n                                            'can_post' =&gt; 1,\n                                            'count' =&gt; 2\n                                          },\n                            'attachments' =&gt; [\n                                               {\n                                                 'type' =&gt; 'photo',\n                                                 'photo' =&gt; {\n                                                              'aid' =&gt; -7,\n                                                              'lat' =&gt; '55.836657',\n                                                              'created' =&gt; 1468232107,\n                                                              'height' =&gt; 719,\n                                                              'owner_id' =&gt; -95784908,\n                                                              'text' =&gt; '',\n                                                              'long' =&gt; '37.38596',\n                                                              'src_big' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e7/8uk9QZ0X0ew.jpg',\n                                                              'src' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e6/JwQKaOWs2zM.jpg',\n                                                              'access_key' =&gt; '290371f54b8b5df024',\n                                                              'src_xbig' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e8/4hqv0_AH6wE.jpg',\n                                                              'width' =&gt; 960,\n                                                              'pid' =&gt; 426222993,\n                                                              'post_id' =&gt; 9262,\n                                                              'src_xxbig' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e9/u4oI4yaWF50.jpg',\n                                                              'src_small' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e5/oq8kQ_qt5cM.jpg',\n                                                              'user_id' =&gt; 100\n                                                            }\n                                               }\n                                             ],\n                            'post_type' =&gt; 'post',\n                            'to_id' =&gt; -95784908,\n                            'created_by' =&gt; 57565838,\n                            'attachment' =&gt; {\n                                              'type' =&gt; 'photo',\n                                              'photo' =&gt; {\n                                                           'long' =&gt; '37.38596',\n                                                           'text' =&gt; '',\n                                                           'src_big' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e7/8uk9QZ0X0ew.jpg',\n                                                           'src' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e6/JwQKaOWs2zM.jpg',\n                                                           'access_key' =&gt; '290371f54b8b5df024',\n                                                           'src_xbig' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e8/4hqv0_AH6wE.jpg',\n                                                           'lat' =&gt; '55.836657',\n                                                           'aid' =&gt; -7,\n                                                           'created' =&gt; 1468232107,\n                                                           'height' =&gt; 719,\n                                                           'owner_id' =&gt; -95784908,\n                                                           'src_xxbig' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e9/u4oI4yaWF50.jpg',\n                                                           'src_small' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e5/oq8kQ_qt5cM.jpg',\n                                                           'user_id' =&gt; 100,\n                                                           'width' =&gt; 960,\n                                                           'pid' =&gt; 426222993,\n                                                           'post_id' =&gt; 9262\n                                                         }\n                                            },\n                            'likes' =&gt; {\n                                         'count' =&gt; 0,\n                                         'can_publish' =&gt; 1,\n                                         'user_likes' =&gt; 0,\n                                         'can_like' =&gt; 1\n                                       },\n                            'can_delete' =&gt; 1,\n                            'text' =&gt; \"\\x{41a}\\x{43e}\\x{43c}\\x{443} \\x{43d}\\x{443}\\x{436}\\x{43d}\\x{43e}? \\x{423} \\x{43c}\\x{435}\\x{43d}\\x{44f} 15 \\x{431}\\x{438}\\x{43b}\\x{435}\\x{442}\\x{43e}\\x{432})\",\n                            'online' =&gt; 1,\n                            'id' =&gt; 9263,\n                            'from_id' =&gt; -95784908,\n                            'media' =&gt; {\n                                         'item_id' =&gt; 426222993,\n                                         'type' =&gt; 'photo',\n                                         'thumb_src' =&gt; 'https://pp.vk.me/c633917/v633917838/3d4e6/JwQKaOWs2zM.jpg',\n                                         'owner_id' =&gt; -95784908\n                                       },\n                            'date' =&gt; 1468232695,\n                            'reposts' =&gt; {\n                                           'count' =&gt; 0,\n                                           'user_reposted' =&gt; 0\n                                         },\n                            'marked_as_ads' =&gt; 0,\n                            'can_edit' =&gt; 1,\n                            'can_pin' =&gt; 1,\n                            'post_source' =&gt; {\n                                               'type' =&gt; 'vk'\n                                             },\n                            'signer_id' =&gt; 57565838,\n                            'reply_count' =&gt; 2\n                          }\n                        ]\n        };\nmy $msg = GetWallPost(); # request\n$msg = Dumper($msg);\nprint $msg;\n</code></pre>\n\n<p>if tried to parse by use JSON; or use JSON::XS;</p>\n\n<pre><code>my $msg = GetWallPost();\nmy $decode= JSON-&gt;new-&gt;decode($msg); or \nmy $decode = JSON::XS-&gt;new-&gt;utf8-&gt;decode ($msg); or\nmy $decode = decode_json($msg); \nprint $decode-&gt;{'response'}[0]{'test'}; get an err -&gt;\nCan't use string (\"1702\") as a HASH ref while \"strict refs\" in use at ./testhash.pl line 47.\n</code></pre>\n\n<p>then if i tried this -></p>\n\n<pre><code>print $decode-&gt;{'response'}{'text'}; get an err -&gt;\nNot a HASH reference at ./testhash.pl line 47.\n</code></pre>\n\n<p>if i do the same with $msg after Data::Dumper; I get this err -></p>\n\n<pre><code>Can't use string (\"$VAR1 = {\n         'response' =\"...) as a HASH ref while \"strict refs\" in use at ./testhash.pl line 42.\n</code></pre>\n\n<p>The main question - How can i parse data which goes after 'text', i need clear text in $msg. \nthanks</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6580191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc99c037d7ef4c31378d5d283584fba?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6580191/lucas"}, "edited": false, "score": 0, "creation_date": 1468375538, "post_id": 38333748, "comment_id": 64097184, "body": "Hi, I don&#39;t get quite get you on frequently vs always. Nonetheless, I have tried adding but it doesn&#39;t seem to work. I have tried printing the current directory of whichever Perl module that calls it, but it&#39;s pointing to /home/Lucas even though the Perl module does not reside there."}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "reply_to_user": {"reputation": 1, "user_id": 6580191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc99c037d7ef4c31378d5d283584fba?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6580191/lucas"}, "edited": false, "score": 0, "creation_date": 1468429821, "post_id": 38333748, "comment_id": 64127920, "body": "If you intend to always distribute the Perl Module (*.pm file) with the Python script, and want the PM to be able to find the PY wherever they are stored (not always in <code>&#47;home&#47;lucas</code>), have a look at this for determining the path to a PM (from the calling PL script), and then the PL script would call the PY script using the full path.  <a href=\"http://www.symkat.com/find-a-perl-modules-path\" rel=\"nofollow noreferrer\">symkat.com/find-a-perl-modules-path</a>"}, {"owner": {"reputation": 1, "user_id": 6580191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc99c037d7ef4c31378d5d283584fba?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6580191/lucas"}, "edited": false, "score": 0, "creation_date": 1468578077, "post_id": 38333748, "comment_id": 64195857, "body": "Hi. I tend to distribute the entire folder with consist of both *.pm and .py file in the same directory."}], "tags": [], "owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "is_accepted": false, "score": 0, "last_activity_date": 1468338901, "creation_date": 1468338901, "answer_id": 38333748, "question_id": 38333180, "link": "https://stackoverflow.com/questions/38333180/finding-relative-path-in-perl/38333748#38333748", "title": "FInding relative path in Perl", "body": "<p>You said your Perl script is \"frequently\" called from the same directory where the Python script resides, not \"always\".  If you remove the absolute path, you'll need to change that \"frequently\" to \"always\", and just change <code>$pathToScript</code> to the Python script name (no path).</p>\n\n<p>You could also consider setting the environment PATH (in the Perl script) so that the Python script (without the full path in <code>$pathToScript</code>) is <em>always</em> found, regardless of where the user is running from or where the Perl script is located.</p>\n"}], "owner": {"reputation": 1, "user_id": 6580191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc99c037d7ef4c31378d5d283584fba?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6580191/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468338901, "creation_date": 1468337388, "question_id": 38333180, "link": "https://stackoverflow.com/questions/38333180/finding-relative-path-in-perl", "title": "FInding relative path in Perl", "body": "<p>I have the following code in a perl module,</p>\n\n<pre><code>package Foo;\nour $pathToScript = \"/home/Lucas/project841/python_script.py\";\n</code></pre>\n\n<p>It is frequently called by other modules in the same file directory through</p>\n\n<pre><code>$output = `$Foo::pathToScript`;\n# etc\n</code></pre>\n\n<p>I would like to remove the hard coding of the actual path and use relative path, Eg. ./python_script.py to call the script from other modules. </p>\n\n<p>What would be the ideal way?</p>\n"}, {"tags": ["perl", "asana", "asana-api"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1468336480, "post_id": 38332776, "comment_id": 64080120, "body": "From the examples it looks like the top-level <code>data</code> key that you have is unnecessary: <a href=\"https://asana.com/developers/api-reference/tasks#create\" rel=\"nofollow noreferrer\">asana.com/developers/api-reference/tasks#create</a>"}, {"owner": {"reputation": 23, "user_id": 6019967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0706bc378686a81247282ed8cef1f39a?s=128&d=identicon&r=PG&f=1", "display_name": "Will Reade", "link": "https://stackoverflow.com/users/6019967/will-reade"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1468418835, "post_id": 38332776, "comment_id": 64120289, "body": "@HunterMcMillen: Thanks for your response. Here is the $content variable now.  {&quot;workspace&quot;:&quot;#######&quot;,&quot;name&quot;:&quot;System Error&quot;}  Here is the $r variable.  POST <a href=\"https://app.asana.com/api/1.0/tasks\" rel=\"nofollow noreferrer\">app.asana.com/api/1.0/tasks</a> Authorization: Bearer &lt;personal access token&gt;  {&quot;workspace&quot;:&quot;#######&quot;,&quot;name&quot;:&quot;System Error&quot;}  I get the same result from $res-&gt;content.  Any other suggestions?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6019967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0706bc378686a81247282ed8cef1f39a?s=128&d=identicon&r=PG&f=1", "display_name": "Will Reade", "link": "https://stackoverflow.com/users/6019967/will-reade"}, "edited": false, "score": 0, "creation_date": 1468849134, "post_id": 38359311, "comment_id": 64282052, "body": "Ah! That, in addition to setting the content to have the top-level &quot;data&quot; element, worked. Thanks!"}, {"owner": {"reputation": 176, "user_id": 5548955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04d15d5f050ce76a9277704732d2ecca?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5548955/mark"}, "reply_to_user": {"reputation": 23, "user_id": 6019967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0706bc378686a81247282ed8cef1f39a?s=128&d=identicon&r=PG&f=1", "display_name": "Will Reade", "link": "https://stackoverflow.com/users/6019967/will-reade"}, "edited": false, "score": 0, "creation_date": 1468889768, "post_id": 38359311, "comment_id": 64301299, "body": "awesome, glad it helped!"}], "tags": [], "owner": {"reputation": 176, "user_id": 5548955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04d15d5f050ce76a9277704732d2ecca?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5548955/mark"}, "is_accepted": true, "score": 0, "last_activity_date": 1468434819, "creation_date": 1468434819, "answer_id": 38359311, "question_id": 38332776, "link": "https://stackoverflow.com/questions/38332776/creating-an-asana-task-using-perl/38359311#38359311", "title": "Creating an Asana task using Perl", "body": "<p>It looks to me like you need to set the content-type header to \"application/json\" because you are sending your data as json.</p>\n\n<p>To help you debug future issues, you can try our curl in the command line.\nIn this particular case you'll notice that if you add -H \"Content-Type: application/json\" it works and if you leave it out it will give you the same error.</p>\n\n<p>(works)\ncurl -H \"Authorization: Bearer ????\" -X POST \"<a href=\"https://app.asana.com/api/1.0/tasks\" rel=\"nofollow\">https://app.asana.com/api/1.0/tasks</a>\" -d \"{\\\"data\\\": { \\\"workspace\\\": ZZZZZZZ, \\\"name\\\": \\\"test\\\" }}\" -H \"Content-Type: application/json\"</p>\n\n<p>vs\n(doesn't work)\ncurl -H \"Authorization: Bearer ????\" -X POST \"<a href=\"https://app.asana.com/api/1.0/tasks\" rel=\"nofollow\">https://app.asana.com/api/1.0/tasks</a>\" -d \"{\\\"data\\\": { \\\"workspace\\\": ZZZZZZZ, \\\"name\\\": \\\"test\\\" }}\"</p>\n"}], "owner": {"reputation": 23, "user_id": 6019967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0706bc378686a81247282ed8cef1f39a?s=128&d=identicon&r=PG&f=1", "display_name": "Will Reade", "link": "https://stackoverflow.com/users/6019967/will-reade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 38359311, "answer_count": 1, "score": 0, "last_activity_date": 1468434819, "creation_date": 1468336273, "question_id": 38332776, "link": "https://stackoverflow.com/questions/38332776/creating-an-asana-task-using-perl", "title": "Creating an Asana task using Perl", "body": "<p>I am attempting to create a task in Asana using Perl. I am using the following modules:</p>\n\n<ul>\n<li>WWW::Curl::Simple</li>\n<li>JSON</li>\n<li>HTTP::Request</li>\n</ul>\n\n<p>Here is my code.</p>\n\n<pre><code>my %data = (\n    \"data\" =&gt; {\n        \"workspace\" =&gt; \"##########\", #$config-&gt;get('asana/workspace_id'),\n        \"name\" =&gt; \"system error\",\n        \"assignee\" =&gt; \"me\",\n        \"projects\" =&gt; \"##########\",\n    },\n);\nmy @header = ('Authorization' =&gt; 'Bearer '.$personal_access_token));\nmy $curl = WWW::Curl::Simple-&gt;new();\nmy $uri = $config-&gt;get('asana/api_uri');\nmy $content = JSON-&gt;new-&gt;utf8-&gt;encode(\\%data);\nmy $r = HTTP::Request-&gt;new(\n    'POST',\n    $uri,\n    \\@header,\n    $content\n);\nmy $res = $curl-&gt;request($r);\n</code></pre>\n\n<p>When I print the $content variable, it looks like this.</p>\n\n<pre><code>{\"data\":{\"workspace\":\"##########\",\"name\":\"CBC FZDS Billing - System Error\"}}\n</code></pre>\n\n<p>When I print the $r variable as a string, it looks like this. (\"personal access token\" displays my the personal access token that I have provided.)</p>\n\n<pre><code>POST https://app.asana.com/api/1.0/tasks\nAuthorization: Bearer &lt;personal access token&gt;\n\n{\"data\":{\"workspace\":\"##########\",\"name\":\"CBC FZDS Billing - System Error\"}}\n</code></pre>\n\n<p>The result from <code>$res-&gt;content</code> is:</p>\n\n<pre><code>'{\"errors\":[{\"message\":\"missing `workspace` field, and no `parent` or `projects` specified\",\"help\":\"For more information on API status codes and how to handle them, read the docs on errors: https://asana.com/developers/documentation/getting-started/errors\"}]}'\n</code></pre>\n\n<p>Any ideas why this is indicating that the workspace field is missing?</p>\n"}, {"tags": ["perl", "email", "authentication", "smtp", "gmail"], "comments": [{"owner": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "edited": false, "score": 0, "creation_date": 1468332933, "post_id": 38330497, "comment_id": 64077328, "body": "Borodin - what about my question earned a negative vote from you?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468333655, "post_id": 38330497, "comment_id": 64077879, "body": "<i>&quot;what about my question earned a negative vote from you?&quot;</i> I very nearly downvoted your question, but instead tried to improve it. I started to edit your words, but realised that I don&#39;t understand your meaning, so all I have changed is the syntax highlighting. Stack Overflow automates syntax colouring according to the prevalent language tag, so in your case everything was coloured as if it were Perl code. I hope you approve? The downvote wasn&#39;t mine."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468333887, "post_id": 38330497, "comment_id": 64078078, "body": "It would be much easier for me just to downvote your question and move on, but I hoped that you would prefer me to make your words readable and then to ask if my interpretation was correct. I will leave your question as it is, but I am certain that your question will be overlooked without improvement."}, {"owner": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468335258, "post_id": 38330497, "comment_id": 64079167, "body": "Borodin - My apologies.  Thought you downvoted me.  Anyways after contacting google a second time I resolved this issue.  I needed to enable &quot;access to less secure apps&quot; from the my google admin account.  This is found under &quot;Security&quot; -&gt; &quot;Basic Settings&quot;  -&gt;  &quot;Go to settings for less secure apps&quot; -&gt;  &quot;Allow Users to Manager Their Access to Less Secure Apps&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468336890, "post_id": 38330497, "comment_id": 64080455, "body": "I&#39;m delighted that you have a solution. Perhaps you would write it as an answer so that others with a similar problem can be helped?"}], "answers": [{"comments": [{"owner": {"reputation": 10441, "user_id": 362769, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XOG1c.jpg?s=128&g=1", "display_name": "JakeParis", "link": "https://stackoverflow.com/users/362769/jakeparis"}, "edited": false, "score": 0, "creation_date": 1475030408, "post_id": 38356464, "comment_id": 66772299, "body": "For me, this setting was already in place, however the users had their personal setting to &quot;not allow less secure apps&quot; by default, which was causing the problems. So I changed my setting to &quot;force access to less secure apps&quot; and problem solved."}], "tags": [], "owner": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "is_accepted": false, "score": 1, "last_activity_date": 1468425268, "creation_date": 1468425268, "answer_id": 38356464, "question_id": 38330497, "link": "https://stackoverflow.com/questions/38330497/google-apps-authentication-smtp-failed/38356464#38356464", "title": "google apps Authentication (SMTP) failed", "body": "<p>After contacting google a second time I resolved this issue. I needed to enable \"access to less secure apps\" from the my google admin account. This is found under \"Security\" -> \"Basic Settings\" -> \"Go to settings for less secure apps\" -> \"Allow Users to Manager Their Access to Less Secure Apps\"</p>\n"}], "owner": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1468425268, "creation_date": 1468330595, "last_edit_date": 1468332604, "question_id": 38330497, "link": "https://stackoverflow.com/questions/38330497/google-apps-authentication-smtp-failed", "title": "google apps Authentication (SMTP) failed", "body": "<p></p>\n\n<p>I just recently signed up for a domain and an accompanying email address via google.  I was sending emails via an SMTP client (Perl Email::Send::SMTP::Gmail module) successfully on the first day, and then I received a \"suspicious login\" email from google.  Since then I've not been able to send emails via my SMTP client.  I can still send emails via the browser interface.  </p>\n\n<p>Both POP and IMAP are enabled for this email account.  </p>\n\n<p>I've tried both ssl and tls using all combinations with ports 587 and 465</p>\n\n<p>I have an \"ordinary\" gmail address, and that is able to send emails without any issues with my SMTP client.</p>\n\n<p>Here is the output from my \"broken\" google apps account:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Connecting to smtp.gmail.com using ssl with LOGIN on port 465 and timeout of 60\nNet::SMTPS&gt;&gt;&gt; Net::SMTPS(0.04)\nNet::SMTPS&gt;&gt;&gt;   IO::Socket::INET6(2.72)\nNet::SMTPS&gt;&gt;&gt;     IO::Socket(1.36)\nNet::SMTPS&gt;&gt;&gt;       IO::Handle(1.34)\nNet::SMTPS&gt;&gt;&gt;         Exporter(5.70)\nNet::SMTPS&gt;&gt;&gt;   Net::SMTP(3.06)\nNet::SMTPS&gt;&gt;&gt;     Net::Cmd(3.06)\nNet::SMTPS&gt;&gt;&gt;     IO::Socket::IP(0.37)\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&lt;&lt;&lt; 220 smtp.gmail.com ESMTP s51sm12504577ots.23 - gsmtp\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&gt;&gt;&gt; EHLO localhost.localdomain\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&lt;&lt;&lt; 250-smtp.gmail.com at your service, [x.x.x.x]\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&lt;&lt;&lt; 250-SIZE 35882577 \nNet::SMTPS=GLOB(0x7f94eb1a02c8)&lt;&lt;&lt; 250-8BITMIME\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&lt;&lt;&lt; 250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&lt;&lt;&lt; 250-PIPELINING\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&lt;&lt;&lt; 250-CHUNKING\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&lt;&lt;&lt; 250 SMTPUTF8\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&gt;&gt;&gt; AUTH LOGIN\nNet::SMTPS=GLOB(0x7f94eb1a02c8)&lt;&lt;&lt; 334 VXNlcm5hbWU6    \nAuthentication (SMTP) failed\n</code></pre>\n\n<p>Here is the output from my working ordinary gmail account:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Connecting to smtp.gmail.com using ssl with LOGIN on port 465 and timeout of 60\nNet::SMTPS&gt;&gt;&gt; Net::SMTPS(0.04)\nNet::SMTPS&gt;&gt;&gt;   IO::Socket::INET6(2.72)\nNet::SMTPS&gt;&gt;&gt;     IO::Socket(1.36)\nNet::SMTPS&gt;&gt;&gt;       IO::Handle(1.34)\nNet::SMTPS&gt;&gt;&gt;         Exporter(5.70)\nNet::SMTPS&gt;&gt;&gt;   Net::SMTP(3.06)\nNet::SMTPS&gt;&gt;&gt;     Net::Cmd(3.06)\nNet::SMTPS&gt;&gt;&gt;     IO::Socket::IP(0.37)\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 220 smtp.gmail.com ESMTP k52sm9296344otc.4 - gsmtp\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; EHLO localhost.localdomain\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250-smtp.gmail.com at your service, [x.x.x.x]\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250-SIZE 35882577\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250-8BITMIME\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250-PIPELINING\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250-CHUNKING\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250 SMTPUTF8\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; AUTH LOGIN\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 334 VXNlcm5hbWU6\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; YnVmZmFsb3Rvb2xib3hAZ21haWwuY29t\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 334 UGFzc3dvcmQ6\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; MTExMDBtZXRyaWM=\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 235 2.7.0 Accepted\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; MAIL FROM:&lt;xxx@gmail.com&gt;\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250 2.1.0 OK k52sm9296344otc.4 - gsmtp\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; RCPT TO:&lt;xxx@gmail.com&gt;\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250 2.1.5 OK k52sm9296344otc.4 - gsmtp\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; DATA\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 354  Go ahead k52sm9296344otc.4 - gsmtp\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; From: xxx@gmail.com\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; To: xxx@gmail.com\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; Reply-To: xxx@gmail.com\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; Subject: test\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; Date: Tue, 12 Jul 2016 07:45:32 -0500\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; MIME-Version: 1.0\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; Content-Type: text/html; charset=UTF-8\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; TEST&lt;br&gt;&lt;br&gt;\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; .\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 250 2.0.0 OK 1468327533 k52sm9296344otc.4 - gsmtp\nNet::SMTPS=GLOB(0x7fe7a61efec8)&gt;&gt;&gt; QUIT\nNet::SMTPS=GLOB(0x7fe7a61efec8)&lt;&lt;&lt; 221 2.0.0 closing connection k52sm9296344otc.4 - gsmtp\nEmail sent.\n</code></pre>\n\n<p>Is there some google apps setting I need to adjust to be able to send emails via SMTP again?  Already banging my head for the last day.</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["python-2.7", "perl"], "answers": [{"tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": true, "score": 4, "last_activity_date": 1468377827, "last_edit_date": 1468377827, "creation_date": 1468327749, "answer_id": 38329395, "question_id": 38329194, "link": "https://stackoverflow.com/questions/38329194/getoption-perl-to-python/38329395#38329395", "title": "GetOption PERL to Python", "body": "<p>There is a module in python called <code>argparse</code>. You can use the module to solve your problem.</p>\n\n<p>Code example : <strong>test.py</strong></p>\n\n<pre><code>import argparse\nimport os\n\ncommandLineArgumentParser = argparse.ArgumentParser()\ncommandLineArgumentParser.add_argument(\"-fname\", \"--fname\",  help=\"first name\")\ncommandLineArgumentParser.add_argument(\"-lname\",\"--lname\", help=\"last name\")\ncommandLineArguments = commandLineArgumentParser.parse_args()\n\nfname = commandLineArguments.fname\nlname = commandLineArguments.lname\n\nprint \"%s\\n%s\" %(fname,lname)\n</code></pre>\n\n<p>Run example</p>\n\n<pre><code>python test.py -fname ms -lname = dhoni\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>ms\ndhoni\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 6579405, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/206fa9795a4c5be63280a81132a00861?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6579405/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 38329395, "answer_count": 1, "score": -7, "last_activity_date": 1468377827, "creation_date": 1468327226, "last_edit_date": 1468327317, "question_id": 38329194, "link": "https://stackoverflow.com/questions/38329194/getoption-perl-to-python", "title": "GetOption PERL to Python", "body": "<p>How would I write this PERL line in python? </p>\n\n<pre><code>GetOptions('help|?' =&gt; \\$help, 'man' =&gt; \\$man, 'debug!' =&gt; \\$debug, 'devpath:s' =&gt; \\$devpath, 'dev2:s' =&gt; \\$dev2,'rev1:s' =&gt; \\$prj_rev1, 'rev2:s' =&gt; \\$prj_rev2, 'prj:s' =&gt; \\$prj)\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["linux", "perl", "path", "mount"], "comments": [{"owner": {"reputation": 77, "user_id": 2751179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f2c33cf2a24adc7bc6befc76a38830?s=128&d=identicon&r=PG&f=1", "display_name": "Fabrice", "link": "https://stackoverflow.com/users/2751179/fabrice"}, "edited": false, "score": 0, "creation_date": 1468327519, "post_id": 38329104, "comment_id": 64072942, "body": "Ok, I thought that my linux saw this disc just as as linux disc. Is there a way to go around this in order to launch my script without the perl prefix in my command line ?"}, {"owner": {"reputation": 77, "user_id": 2751179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f2c33cf2a24adc7bc6befc76a38830?s=128&d=identicon&r=PG&f=1", "display_name": "Fabrice", "link": "https://stackoverflow.com/users/2751179/fabrice"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1468327789, "post_id": 38329104, "comment_id": 64073162, "body": "@serenesat I&#39;m NOT on Windows..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468337845, "post_id": 38329104, "comment_id": 64081160, "body": "Please describe your situation properly. The worth of your question is <i>by far</i> to help others with a similar problem, so you should document everything carefully when you ask a question. Please do some debugging of your own, for instance the output of <code>which test.pl</code> would help a lot. Fancy comebacks like <i>&quot;I&#39;m NOT on Windows&quot;</i> don&#39;t help you at all because it&#39;s not true. If you would like help then please be well-mannered and informative. I&#39;m voting to close your question because the problem can&#39;t be replicated."}, {"owner": {"reputation": 77, "user_id": 2751179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f2c33cf2a24adc7bc6befc76a38830?s=128&d=identicon&r=PG&f=1", "display_name": "Fabrice", "link": "https://stackoverflow.com/users/2751179/fabrice"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468399366, "post_id": 38329104, "comment_id": 64106511, "body": "@Borodin Sorry I miss some information. I&#39;m on Linux Mint 17.1 Rebecca 64 bits. So I&#39;m really not on Windows. When test.pl is in my user bin directory as I said before, <code>which test.pl</code> return /home/myLogin/bin/test.pl. When I move it to the mounted Windows Disc in /mnt/USERS/user1/ <code>which test.pl</code> return nothing. Why the problem can&#39;t be replicated ? Do you have a windows mounted disc on your Linux ? Thanx for your help."}, {"owner": {"reputation": 77, "user_id": 2751179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f2c33cf2a24adc7bc6befc76a38830?s=128&d=identicon&r=PG&f=1", "display_name": "Fabrice", "link": "https://stackoverflow.com/users/2751179/fabrice"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468402193, "post_id": 38329104, "comment_id": 64108491, "body": "I added some information on my first post, hope this will be better (and sorry for my bad english)"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 2751179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f2c33cf2a24adc7bc6befc76a38830?s=128&d=identicon&r=PG&f=1", "display_name": "Fabrice", "link": "https://stackoverflow.com/users/2751179/fabrice"}, "edited": false, "score": 0, "creation_date": 1468327674, "post_id": 38329266, "comment_id": 64073058, "body": "The mounted disc path is set in my $PATH"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 77, "user_id": 2751179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f2c33cf2a24adc7bc6befc76a38830?s=128&d=identicon&r=PG&f=1", "display_name": "Fabrice", "link": "https://stackoverflow.com/users/2751179/fabrice"}, "edited": false, "score": 0, "creation_date": 1468327870, "post_id": 38329266, "comment_id": 64073214, "body": "@user6579342 \u2014 Possibly the search is limited to executable files then. You still have the file permissions issue."}, {"owner": {"reputation": 77, "user_id": 2751179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f2c33cf2a24adc7bc6befc76a38830?s=128&d=identicon&r=PG&f=1", "display_name": "Fabrice", "link": "https://stackoverflow.com/users/2751179/fabrice"}, "edited": false, "score": 0, "creation_date": 1468328033, "post_id": 38329266, "comment_id": 64073359, "body": "my $PATH is :  /mnt/USERS/user1/:/home/myLogin/bin:/usr/local/sbin:/usr/loc&zwnj;&#8203;al/bin:/usr/sbin:/us&zwnj;&#8203;r/bin:/sbin:/bin:/us&zwnj;&#8203;r/games:/usr/local/g&zwnj;&#8203;ames"}, {"owner": {"reputation": 77, "user_id": 2751179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f2c33cf2a24adc7bc6befc76a38830?s=128&d=identicon&r=PG&f=1", "display_name": "Fabrice", "link": "https://stackoverflow.com/users/2751179/fabrice"}, "edited": false, "score": 0, "creation_date": 1468328135, "post_id": 38329266, "comment_id": 64073448, "body": "the permissions looks good : -rwxr-xr-x 1 myLogin myLogin 34 juil. 12 14:25 test.pl"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468334285, "post_id": 38329266, "comment_id": 64078390, "body": "&quot;When you type a command without an explicit path to it (as in ./test.pl) then your shell will search the directories listed in $PATH&quot; It sounds like you&#39;re saying <code>.&#47;test.pl</code> isn&#39;t an explicit path and that running <code>.&#47;test.pl</code> searches <code>$PATH</code>. I had to read this about five times before I realized what you actually meant; maybe you could change to wording to clarify?"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 1, "last_activity_date": 1468334340, "last_edit_date": 1468334340, "creation_date": 1468327439, "answer_id": 38329266, "question_id": 38329104, "link": "https://stackoverflow.com/questions/38329104/perl-script-not-found-when-on-a-shared-mounted-hard-drive-located-on-a-windows-c/38329266#38329266", "title": "Perl script not found when on a shared mounted hard drive located on a Windows computer", "body": "<blockquote>\n  <p>the error is \"command not found\".</p>\n</blockquote>\n\n<p>When you type a command without an explicit path to it (unlike <code>./test.pl</code>) then your shell will search the directories listed in <code>$PATH</code>. This does not typically include <code>./</code> (the current directory), so it doesn't find the script.</p>\n\n<blockquote>\n  <p>the error is now \"Permission denied\"</p>\n</blockquote>\n\n<p>When you try to execute a script directly (as opposed to executing <code>perl</code> and passing it the location of the script as an argument, the file permissions must allow execution. </p>\n\n<p>Windows file permissions are not like UNIX file permissions and a Windows formatted disk mounted on UNIX-like systems will typically have hard coded (in the mount command) file permissions. These do not include execution permission for the file you want to execute.</p>\n"}], "owner": {"reputation": 77, "user_id": 2751179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f2c33cf2a24adc7bc6befc76a38830?s=128&d=identicon&r=PG&f=1", "display_name": "Fabrice", "link": "https://stackoverflow.com/users/2751179/fabrice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468401684, "creation_date": 1468327008, "last_edit_date": 1468401684, "question_id": 38329104, "link": "https://stackoverflow.com/questions/38329104/perl-script-not-found-when-on-a-shared-mounted-hard-drive-located-on-a-windows-c", "title": "Perl script not found when on a shared mounted hard drive located on a Windows computer", "body": "<p>I'm working on a Linux Mint 17.1 Rebecca 64 bits.</p>\n\n<p>I have a simple Perl script named test.pl :</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Hello\\n\" ;\n</code></pre>\n\n<p>Permissions are <code>-rwxr-xr-x</code></p>\n\n<p>My PATH variable is : <code>/mnt/USERS/user1/:/home/myLogin/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games</code></p>\n\n<p>When this script is in my user bin directory /home/myLogin/bin, I can launch it outside the bin directory by a simple :</p>\n\n<pre><code>test.pl\n</code></pre>\n\n<p>The command :</p>\n\n<pre><code>which test.pl\n</code></pre>\n\n<p>return </p>\n\n<pre><code>/home/myLogin/bin/test.pl\n</code></pre>\n\n<p>That seems ok.</p>\n\n<p>On my Linux I mount a shared windows hard drive located somewhere on my local network.\nIf I move this script to the Windows mounted hard drive on /mnt/USERS/user1/ I can't run it anymore even if the /mnt/USERS/user1/ is in the $PATH variable.\nThe system answers \"command not found\".\nIf I go to this directory with a cd command, I can't launch the script by a simple :</p>\n\n<pre><code>test.pl\n</code></pre>\n\n<p>the error is \"command not found\".</p>\n\n<p>If I try :</p>\n\n<pre><code>./test.pl\n</code></pre>\n\n<p>the error is now \"Permission denied\"</p>\n\n<p>If I try :</p>\n\n<pre><code>perl test.pl\n</code></pre>\n\n<p>it works perfectly...\nWhat's wrong ???\nThanx</p>\n"}, {"tags": ["perl", "interface"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468319884, "post_id": 38325928, "comment_id": 64067551, "body": "Is that <i>all</i> you have written? Is this the main program or the  <code>IPerformable.pm</code> fiile?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468320826, "post_id": 38325928, "comment_id": 64068171, "body": "Thanks. Please add the names of the source files"}, {"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468321210, "post_id": 38325928, "comment_id": 64068422, "body": "<code>Controllers&#47;IPerformable.pm</code>, <code>Controllers&#47;PerformTask.pm</code>, <code>main.pl</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468321366, "post_id": 38325928, "comment_id": 64068515, "body": "I&#39;m sorry if this disillusions you, but we don&#39;t gaze at a few lines of code, imagine its context, and come up with a probable cause somehow. That stuff is only in Hollywood. We <i>test</i> your code and debug it, and people come here because many of us are good at debugging. But it&#39;s a complete pain when the guy asking the question wants to show <i>&quot;a part of the main program&quot;</i>. When we have grabbed that part we run it as it is and find that it needs <code>use</code> statements to even compile, so we guess at those and continue that way until we&#39;re finally debugging a program that we&#39;ve imagined"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468321494, "post_id": 38325928, "comment_id": 64068592, "body": "That imagined program may well be of little use to you, but it&#39;s the best we have, and it&#39;s the reason why we sometimes get things wrong. Sorry an&#39; all that, but we need to <b><i>see the code that you&#39;re running</i></b>. If you gave us that then you would have a solution in moments. I hope you understand?"}, {"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468321656, "post_id": 38325928, "comment_id": 64068685, "body": "@Borodin I made an edit. Here is the content of main.pl"}, {"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468321830, "post_id": 38325928, "comment_id": 64068804, "body": "@Borodin I downloaded the module from <a href=\"https://metacpan.org/pod/Class::Interface\" rel=\"nofollow noreferrer\">metacpan.org/pod/Class::Interface</a>, took an interface from the example, changed it for the needs of my program and I don&#39;t have any idea why but it&#39;s working now"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 0, "creation_date": 1468322016, "post_id": 38325928, "comment_id": 64068917, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/117075/discussion-between-borodin-and-bob-saginowski\">continue this discussion in chat</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468322537, "post_id": 38325928, "comment_id": 64069281, "body": "Okay, thank you for more code. Your <code>use lib &#39;&#47;ProjectDir&#47;Controllers&#39;</code> is wrong. After that, <code>use Controllers::PerformTask</code> will look for <code>&#47;ProjectDir&#47;Controllers&#47;Controllers&#47;PerformTask.pm</code> which, presumably, doesn&#39;t exist. It will have given an error <code>Can&#39;t locate Controllers&#47;PerformTask.pm in @INC</code> which you didn&#39;t tell us about."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468322800, "post_id": 38325928, "comment_id": 64069446, "body": "The morals of this tale are: <i>&quot;Asking for help is like throwing a stick into the wind unless you reveal the whole problem&quot;</i> and <i>&quot;Listen to the sounds of the world when they are blowing in your ear&quot;</i>"}], "answers": [{"comments": [{"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 0, "creation_date": 1468320587, "post_id": 38326686, "comment_id": 64068015, "body": "I am using Windows and I start the scripts with cygwin"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1468321066, "post_id": 38326686, "comment_id": 64068323, "body": "or <a href=\"https://metacpan.org/pod/Role::Tiny\" rel=\"nofollow noreferrer\">Role::Tiny</a> if Moose is overkill"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1468320478, "creation_date": 1468320478, "answer_id": 38326686, "question_id": 38325928, "link": "https://stackoverflow.com/questions/38325928/using-classinterface/38326686#38326686", "title": "Using Class::Interface", "body": "<p>Are you running this on Windows? <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=110071\" rel=\"nofollow\">This bug report</a> seems like it might be apposite.</p>\n\n<p>It looks like Class::Interface is unmaintained. There hasn't been a new release since 2008 and there has been no response to that bug report. I would be very wary of using it.</p>\n\n<p>Modern OO Perl tend to use roles instead of interfaces. You might want to look at <a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/Roles.pod\" rel=\"nofollow\">Moose Roles</a> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1468347662, "last_edit_date": 1468347662, "creation_date": 1468344173, "answer_id": 38335339, "question_id": 38325928, "link": "https://stackoverflow.com/questions/38325928/using-classinterface/38335339#38335339", "title": "Using Class::Interface", "body": "<p>Here is a minimal way to accomplish what you want using <a href=\"https://metacpan.org/pod/Moo\" rel=\"nofollow\">Moo</a> and <a href=\"https://metacpan.org/pod/Moo::Role\" rel=\"nofollow\">Moo::Role</a>. You can do the same thing with <a href=\"https://metacpan.org/pod/Moose\" rel=\"nofollow\">Moose</a> as well.</p>\n\n<h3>IPerformable.pm</h3>\n\n<pre><code>package IPerformable;\n\nuse strict;\nuse warnings;\n\nuse Moo::Role;\n\nrequires 'start';\n\n__PACKAGE__;\n__END__\n</code></pre>\n\n<h3>PerformTask.pm</h3>\n\n<pre><code>package PerformTask;\n\nuse strict;\nuse warnings;\n\nuse Moo;\n\nwith 'IPerformable';\n\nhas param1 =&gt; (is =&gt; 'ro', required =&gt; 1);\nhas param2 =&gt; (is =&gt; 'ro', required =&gt; 1);\n\nsub start {\n    print \"Implements IPerformable interface\\n\";\n}\n\n__PACKAGE__;\n__END__\n</code></pre>\n\n<h3>runner.pl</h3>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse lib '.';\nuse PerformTask;\n\nmy $search = PerformTask-&gt;new({param1 =&gt; 'param1', param2 =&gt; 'param2'});\nmy $taskResult = $search-&gt;start;\nprint \"Result of performing the task: $taskResult \\n\";\n</code></pre>\n"}], "owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1468347662, "creation_date": 1468318405, "last_edit_date": 1468321616, "question_id": 38325928, "link": "https://stackoverflow.com/questions/38325928/using-classinterface", "title": "Using Class::Interface", "body": "<p>I am using the <a href=\"https://metacpan.org/pod/Class::Interface\" rel=\"nofollow\"><code>Class::Interface</code></a> module, and I am trying to declare an interface that later will be implemented by some classes</p>\n\n<p>But I get this error</p>\n\n<blockquote>\n  <p>IPerformable is not a valid interface. start; has an implementation at /ProjectDir/IPerformable.pm line 4.`</p>\n</blockquote>\n\n<p>Here is the code of the interface:</p>\n\n<pre><code>package Controllers::IPerformable;\n\nuse Class::Interface; \n&amp;interface;\n\nsub start;\n\n1;\n</code></pre>\n\n<p>Here is an example class which <code>implements</code> the interface:</p>\n\n<pre><code>package Controllers::PerformTask;\n\nuse strict; \nuse warnings;\nuse Carp;\nuse Exporter 'import';\nuse Controllers::IPerformable;\nuse Class::Interface;\nimplements('Controllers::IPerformable');\n\nsub new {\n    # code of the contructor\n}\n\nsub start {\n    # implementation of the interface\n}\n</code></pre>\n\n<p>This is a part of the main program:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse lib '/ProjectDir/Controllers';\nuse Controllers::PerformTask;\n\nmy $search = PerformTask-&gt;new($param1, $param2);\nmy $taskResult = $search-&gt;start();\nprint \"Result of performing the task: $taskResult \\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1468314195, "post_id": 38324050, "comment_id": 64063602, "body": "Don&#39;t instantiate like that. Use <code>my $obj  = vehicle -&gt; new();</code> And turn on strict and warnings, as I&#39;m pretty sure <code>new vehicle()</code> won&#39;t work properly, because the latter isn&#39;t a method, it&#39;s a class."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1468317159, "post_id": 38324050, "comment_id": 64065678, "body": "Unfortunately, <code>new vehicle()</code> works just fine. But it&#39;s not recommended because it can be rather fragile. <code>vehicle-&gt;new()</code> is a much better idea."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468317818, "post_id": 38324050, "comment_id": 64066140, "body": "There is nothing wrong with the bits of code you have shown. Please publish the whole .pm file"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468317869, "post_id": 38325398, "comment_id": 64066176, "body": "Is that suppose to be two separate source files?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468317979, "post_id": 38325398, "comment_id": 64066261, "body": "Yeah. I didn&#39;t realise the SO Markdown parser would run them together like that. Fixed it now. Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468318018, "post_id": 38325398, "comment_id": 64066293, "body": "Ah! thanks. And when you say <i>&quot;Then, running <code>vehicle</code>&quot;</i>, is <code>vehicle</code> the name of the main Perl program?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468318114, "post_id": 38325398, "comment_id": 64066368, "body": "If you want to publish two consecutive unrelated code blocks without any intervening narrative then just add an HTML comment <code>&lt;!-- --&gt;</code> and you will get a vertical whitespace gap"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1468318073, "last_edit_date": 1468318073, "creation_date": 1468316989, "answer_id": 38325398, "question_id": 38324050, "link": "https://stackoverflow.com/questions/38324050/how-to-initialize-the-contents-of-a-new-object/38325398#38325398", "title": "How to initialize the contents of a new object", "body": "<p>Hard to be sure as you don't show us the function you use to display the attributes. But this works (with minimal stylistic changes from your code):</p>\n\n<pre><code># In Vehicle.pm\npackage Vehicle;\n\nuse strict;\nuse warnings;\n\nsub new {\n\n  my $class = shift;\n  my $self = {\n        Color =&gt; 0,\n        Cost =&gt; 0,\n        Wheels =&gt; 0,\n        CC =&gt; 0,\n        RegNo =&gt; 0,\n        TopSpeed =&gt; 0,\n        CurrentSpeed =&gt; 0,\n        Angle =&gt; 0,\n  };\n\n  bless $self,$class;\n  return $self;\n}\n\nsub current_speed {\n  return shift-&gt;{CurrentSpeed};\n}\n\n1;\n</code></pre>\n\n<p>And in your program (which I've called <code>vehicle</code>):</p>\n\n<pre><code># In vehicle\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Vehicle;\n\nmy $v = Vehicle-&gt;new;\n\nsay $v-&gt;current_speed;\n</code></pre>\n\n<p>Then, running <code>vehicle</code>:</p>\n\n<pre><code>$ perl vehicle\n0\n</code></pre>\n\n<p>Which seems correct.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1468319580, "last_edit_date": 1468319580, "creation_date": 1468317708, "answer_id": 38325660, "question_id": 38324050, "link": "https://stackoverflow.com/questions/38324050/how-to-initialize-the-contents-of-a-new-object/38325660#38325660", "title": "How to initialize the contents of a new object", "body": "<p>There's a lot missing from your example code. Let's suppose that you have this</p>\n\n<p>(Note that, although it will work, this code is <strong>wrong</strong> because it uses an all-lowercase package name. Such identifiers are reserved for <em>Perl pragmas</em> like <code>strict</code>, <code>warnings</code>, <code>open</code>, <code>feature</code> etc.)</p>\n\n<h3>vehicle.pm</h3>\n\n<pre><code>package vehicle;\n\nuse strict;\nuse warnings;\n\nsub new {\n\n    my $class = shift;\n\n    my $self = {\n        Color        =&gt; 0,\n        Cost         =&gt; 0,\n        Wheels       =&gt; 0,\n        CC           =&gt; 0,\n        RegNo        =&gt; 0,\n        TopSpeed     =&gt; 0,\n        CurrentSpeed =&gt; 0,\n        Angle        =&gt; 0,\n    };\n\n    bless $self, $class;\n}\n\n1;\n</code></pre>\n\n<h3>main.pl</h3>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse vehicle;\n\nmy $obj = new vehicle();\n\nuse Data::Dump;\ndd $obj;\n</code></pre>\n\n<p>Then the output is what you presumably expect</p>\n\n<pre><code>bless({\n  Angle        =&gt; 0,\n  CC           =&gt; 0,\n  Color        =&gt; 0,\n  Cost         =&gt; 0,\n  CurrentSpeed =&gt; 0,\n  RegNo        =&gt; 0,\n  TopSpeed     =&gt; 0,\n  Wheels       =&gt; 0,\n}, \"vehicle\")\n</code></pre>\n\n<p>But there are many things that you could have got wrong on the way. Most likely you have named the package differently from its file name. The package name <strong><em>must</em></strong> match the <code>use</code> statement, and the file must be called <code>&lt;package name&gt;.pm</code></p>\n\n<p>Note that you should properly use CamelCase for the package and its file name, so here it would be <code>package Vehicle</code> and in a file called <code>Vehicle.pm</code>, and you would <code>use Vehicle</code> in the code that requires it</p>\n\n<p>It's impossible to see the exact problem unless you show all of your module file</p>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>The form <code>my $object = new Class()</code> is called <strong><em>indirect object syntax</em></strong>. It is documented in <a href=\"http://perldoc.perl.org/perlobj.html#Invoking-Class-Methods\" rel=\"nofollow\">perldoc perlobj</a> where it says</p>\n\n<blockquote>\n  <p><strong>Outside of the file handle case, use of this syntax is discouraged as it can confuse the Perl interpreter. See below for more details.</strong></p>\n</blockquote>\n\n<p>The reference to \"the file handle case\" refers to <code>print FILEHANDLE LIST</code>, which is such common usage that it cannot be deprecated. It is equivalent to <code>FILEHANDLE-&gt;print LIST</code> where <code>FILEHANDLE</code> is an <a href=\"https://metacpan.org/pod/IO::Handle\" rel=\"nofollow\"><code>IO::Handle</code></a> object</p>\n\n<p>Nevertheless, <code>new CLASS LIST</code> and <code>new OBJECT LIST</code> are otherwise inadvisable, and <code>perlobj</code> identifies the reasons. Even though it may look neater to you that way, and more like other languages you have used, You should stick to <code>CLASS-&gt;new LIST</code> and <code>OBJECT-&gt;new LIST</code></p>\n"}], "owner": {"reputation": 1, "user_id": 2602511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4549c36bb0167c9f371c6ede34983e1?s=128&d=identicon&r=PG", "display_name": "user2602511", "link": "https://stackoverflow.com/users/2602511/user2602511"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1468323005, "creation_date": 1468313357, "last_edit_date": 1468323005, "question_id": 38324050, "link": "https://stackoverflow.com/questions/38324050/how-to-initialize-the-contents-of-a-new-object", "title": "How to initialize the contents of a new object", "body": "<p>How do I set the initial values? This is what I did, but I'm not getting correct output.</p>\n\n<pre><code>sub new\n{\n\n    my $class=shift;\n    my $self={\n        Color =&gt; 0,\n        Cost =&gt; 0,\n        Wheels =&gt; 0,\n        CC =&gt; 0,\n        RegNo =&gt; 0,\n        TopSpeed =&gt; 0,\n        CurrentSpeed =&gt; 0,\n        Angle =&gt; 0,\n    };\n\n    bless $self,$class;\n    return $self;\n}\n</code></pre>\n\n<p>IN .pl file, I created the object like this:</p>\n\n<p>My <code>$obj=new vehicle();</code>\nThen when I called a function that displays the variables, it gives me null.</p>\n"}, {"tags": ["perl", "cmd", "spawn"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1468312386, "post_id": 38323588, "comment_id": 64062426, "body": "One reason can be that Environment variables are missing"}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1468312461, "post_id": 38323588, "comment_id": 64062473, "body": "But do not Environment variables get propagated to the spawned process? It&#39;s my understanding that Windows does not have <i>exported</i> vs <i>non exported</i> variables as in a Unix shell."}, {"owner": {"reputation": 1808, "user_id": 5397845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-h5AyAVbZoqI/AAAAAAAAAAI/AAAAAAAAALA/pyUGY5qhrl4/photo.jpg?sz=128", "display_name": "Swadhikar", "link": "https://stackoverflow.com/users/5397845/swadhikar"}, "edited": false, "score": 0, "creation_date": 1468312937, "post_id": 38323588, "comment_id": 64062796, "body": "If you have admin privilege can you try starting cmd prompt as admin and retry."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1468313624, "post_id": 38323588, "comment_id": 64063254, "body": "instead you can use &quot;call&quot; method"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1468320643, "post_id": 38323588, "comment_id": 64068050, "body": "I&#39;d guess that tries to execute a binary called <code>start[.exe]</code>. Try <code>system( qq{cmd &#47;c &quot;start libre-office-document.odt&quot;});</code>. But it&#39;s only a guess."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468320988, "post_id": 38323588, "comment_id": 64068271, "body": "Did you execute the Perl program from a console?"}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 0, "creation_date": 1468321537, "post_id": 38323588, "comment_id": 64068617, "body": "Yes, from the very same cmd.exe prompt that succeeded with the start command."}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1468321700, "post_id": 38323588, "comment_id": 64068714, "body": "@PerlDog your suggestion resulted in the same message box."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1468323473, "post_id": 38323588, "comment_id": 64069923, "body": "The dialogue box shows that it comes from LibreOffice 4.4. That means the application has successfully started. I would guess that there is something in the startup of LibreOffice to which the child process doesn&#39;t have access. You need to look through the event log to see exactly what process died and why"}, {"owner": {"reputation": 988, "user_id": 560599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1037a2b6275a137fcaf5b560fa5ea427?s=128&d=identicon&r=PG", "display_name": "mghicks", "link": "https://stackoverflow.com/users/560599/mghicks"}, "edited": false, "score": 0, "creation_date": 1469207787, "post_id": 38323588, "comment_id": 64457874, "body": "IIRC Window&#39;s &quot;start&quot; command behaves a bit strangely in scripts.  Try wrapping your line in a batch/cmd file for another comparison (completely outside perl.exe)."}, {"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1473082119, "post_id": 38323588, "comment_id": 65994766, "body": "print system command return the command state,forexample if you run <code>print system(&quot;ls&quot;)</code> you get 0 + result of the ls.so tried to just execute <code>system(&quot;start libre-office-document.odt&quot;)</code> or if u want the result of the command execute in system place start libre-office-document.odt in ``(backtick).example my $res = system <code>start libre-office-document.odt</code>;"}, {"owner": {"reputation": 985, "user_id": 1437501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2d65100a83f4e213217cd04546f312?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1437501/matthias"}, "edited": false, "score": 0, "creation_date": 1481917247, "post_id": 38323588, "comment_id": 69582572, "body": "Maybe the difference is that perl exits after the command is started whereas the console stays open? You can add a sleep(5) to your script to test this or omit &quot;start &quot; from the command so that perl waits for the started command to finish execution."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495546626, "post_id": 38323588, "comment_id": 75291311, "body": "was this ever solved? if not, I have some suggestions that can perhaps solve it."}, {"owner": {"reputation": 441, "user_id": 2187887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce62dbb45b0941eca70ab0e300ac162?s=128&d=identicon&r=PG", "display_name": "Steven K. Mariner", "link": "https://stackoverflow.com/users/2187887/steven-k-mariner"}, "edited": false, "score": 0, "creation_date": 1501890657, "post_id": 38323588, "comment_id": 77995068, "body": "Have you tried using <code>START &#47;D</code> to force the started process to also initiate from the current directory?  Perl&#39;s <code>system()</code> may default to the user&#39;s login directory."}, {"owner": {"reputation": 373, "user_id": 8845620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0082695b3d26ff97841bb1e65862a0a?s=128&d=identicon&r=PG&f=1", "display_name": "UncleCarl", "link": "https://stackoverflow.com/users/8845620/unclecarl"}, "edited": false, "score": 0, "creation_date": 1532120148, "post_id": 38323588, "comment_id": 89870942, "body": "system() does some extra processing when there is only one argument. You might want to try &quot;system(qw(start libre-office-document.odt));&quot; where two arguments are used."}], "answers": [{"tags": [], "owner": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "is_accepted": false, "score": 1, "last_activity_date": 1532108531, "creation_date": 1532108531, "answer_id": 51447827, "question_id": 38323588, "link": "https://stackoverflow.com/questions/38323588/why-does-perls-system-some-command-behave-differently-from-c-some-comm/51447827#51447827", "title": "Why does Perl&#39;s &quot;system (&#39;some command&#39;)&quot; behave differently from c:\\&gt; some command?", "body": "<p>Use backticks to capture  output.\nYou can check file associations with assoc and ftype, than hardcode it, or try this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $assoc = `assoc .odt`;\n\n# .odt=LibreOffice.WriterDocument.1\nchomp $assoc;\n\n$assoc =~ s/.*=//g;\n\nmy $ftype = `ftype $assoc`;\n\n# LibreOffice.WriterDocument.1=\"C:\\Program Files\\LibreOffice\\program\\soffice.exe\" -o \"%1\"\nchomp $ftype;\n\n$ftype =~ /.*=(\"[^\"]*\")/;\n$ftype = $1;\n\n# \"C:\\Program Files\\LibreOffice\\program\\soffice.exe\" libre-office-document.odt    \nmy $cmd = \"$ftype libre-office-document.odt\";\n\nsystem($cmd);\n</code></pre>\n"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1532108531, "creation_date": 1468312030, "last_edit_date": 1493642828, "question_id": 38323588, "link": "https://stackoverflow.com/questions/38323588/why-does-perls-system-some-command-behave-differently-from-c-some-comm", "title": "Why does Perl&#39;s &quot;system (&#39;some command&#39;)&quot; behave differently from c:\\&gt; some command?", "body": "<p>In my (cmd.exe's) current working directory is a file named <em>libre-office-document.odt</em>. I can open this document using the <code>start</code> command without problem:</p>\n\n<pre><code>c:\\path\\to\\&gt; start libre-office-document.odt\n</code></pre>\n\n<p>Yet, if I use the following simple Perl script</p>\n\n<pre><code>use warnings;\nuse strict;\n\nprint system(\"start libre-office-document.odt\")\n</code></pre>\n\n<p>and execute it in the same directory, I get the following message box:</p>\n\n<blockquote>\n  <p><strong>LibreOffice 4.4 - Fatal Error</strong></p>\n  \n  <p>The application cannot be started.<br>\n  User installation could not be completed.</p>\n</blockquote>\n\n<p>Obviously, something behaves differently when using Perl's <code>system</code> command. I am unable to determine what that is and how I can open the document with the <code>system</code> command.</p>\n"}, {"tags": ["perl", "type-conversion"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468311831, "post_id": 38323066, "comment_id": 64062098, "body": "Working with <a href=\"https://metacpan.org/pod/distribution/version/lib/version.pod\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/version/lib/version.pod</a> you cannot seem to do it."}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1468360400, "last_edit_date": 1468360400, "creation_date": 1468351961, "answer_id": 38337471, "question_id": 38323066, "link": "https://stackoverflow.com/questions/38323066/create-a-vstring-from-a-scalar-variable-without-using-eval/38337471#38337471", "title": "Create a VSTRING from a scalar variable without using eval", "body": "<blockquote>\n  <p>is it even possible to create a v-string from a scalar variable without resorting to <code>eval</code>?</p>\n</blockquote>\n\n<p>Yes, it is, but it's a pain and there's no good reason to.</p>\n\n<p>You can write XS code that:</p>\n\n<ul>\n<li>parses your input string</li>\n<li>converts the numbers to their char equivalents</li>\n<li>assigns v-string magic to your scalar with a call to <a href=\"http://perldoc.perl.org/perlapi.html#sv_magic\" rel=\"nofollow\"><code>sv_magic</code></a></li>\n</ul>\n\n<p>However, this is exactly what the internal function <code>Perl_scan_vstring</code> in <a href=\"https://github.com/Perl/perl5/blob/v5.24.0/toke.c#L11391\" rel=\"nofollow\">toke.c</a> does. Why reinvent the wheel?</p>\n"}], "owner": {"reputation": 801, "user_id": 1773755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44fb21ce6090a0df87b3694f074a7cdb?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/1773755/basil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 38337471, "answer_count": 1, "score": 7, "last_activity_date": 1468360400, "creation_date": 1468310235, "question_id": 38323066, "link": "https://stackoverflow.com/questions/38323066/create-a-vstring-from-a-scalar-variable-without-using-eval", "title": "Create a VSTRING from a scalar variable without using eval", "body": "<p>I'm just curious, - is it even possible to create a v-string from a scalar variable without resorting to <code>eval</code>?</p>\n\n<p>I. e., this works, but uses <code>eval</code>:</p>\n\n<pre><code>my $var = 'v1.2.3';\nmy $conversion = to_vstring_1($var);\n# Prints \"Version: 1.2.3, type: VSTRING\"\nprintf(\"Version: %vd, type: %s\\n\", $conversion, ref \\$conversion);\n\nsub to_vstring_1 {\n    my ($arg) = @_;\n\n    $arg =~ tr/0-9.//cd;\n    $arg = 'v' . $arg;\n\n    return eval $arg;\n}\n</code></pre>\n\n<p>These two variants also work, and do not use <code>eval</code>, but they print \"SCALAR\" instead of \"VSTRING\":</p>\n\n<pre><code>my $conversion_2 = to_vstring_2($var);\n# Prints \"Version: 1.2.3, type: SCALAR\"\nprintf(\"Version: %vd, type: %s\\n\", $conversion_2, ref \\$conversion_2);\n\nmy $conversion_3 = to_vstring_3($var);\n# Prints \"Version: 1.2.3, type: SCALAR\"\nprintf(\"Version: %vd, type: %s\\n\", $conversion_3, ref \\$conversion_3);\n\nsub to_vstring_2 {\n    my ($arg) = @_;\n\n    $arg =~ tr/0-9.//cd;\n    $arg = pack('U*', split(/\\./, $arg));\n\n    return $arg;\n}\n\nsub to_vstring_3 {\n    my ($arg) = @_;\n\n    $arg =~ tr/0-9.//cd;\n    $arg =~ s/[._]?(\\d+)/chr($1 &amp; 0x0FFFF)/eg;\n\n    return $arg;\n}\n</code></pre>\n\n<p>So, is there a fourth way to do it?</p>\n"}, {"tags": ["perl", "file", "file-processing"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1468320055, "post_id": 38322802, "comment_id": 64067643, "body": "can you please add <code>use strict</code> and <code>use warnings</code> in your program and declare all the variables properly . So that we can help you properly."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1468320804, "last_edit_date": 1468320804, "creation_date": 1468312205, "answer_id": 38323651, "question_id": 38322802, "link": "https://stackoverflow.com/questions/38322802/perl-machine-learning/38323651#38323651", "title": "Perl Machine Learning", "body": "<p>Some suggestions for improvements.</p>\n\n<ol>\n<li>Add <code>use strict</code> and <code>use warnings</code>. And then fix the problems they reveal (largely, I suspect, undeclared variables).</li>\n<li>Use 3-arg <code>open()</code> and lexical filehandles (<code>open my $fh, '&lt;', $file</code>),</li>\n<li>Include <code>$!</code> in the <code>open()/die()</code> message (<code>open ... or die \"$file: $!\"</code>).</li>\n<li><code>split(/\\s+/, $_)</code> is the same as just <code>split</code>.</li>\n<li>The quotes are unnecessary in <code>$k+=\"$col[6]\"</code> (<code>$k += $col[6]</code>).</li>\n<li><code>func()</code> is a terrible name for a subroutine.</li>\n<li><code>func()</code> uses a lot of global variables.</li>\n<li>You pass <code>@val</code> to <code>func()</code>, but inside the subroutine, you use the global copy, not the parameter.</li>\n</ol>\n\n<p>I haven't had the time to look at the algorithm that you are using.</p>\n"}], "owner": {"reputation": 11, "user_id": 2967261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cQMaS.jpg?s=128&g=1", "display_name": "kprasath", "link": "https://stackoverflow.com/users/2967261/kprasath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1468320804, "creation_date": 1468309409, "last_edit_date": 1592644375, "question_id": 38322802, "link": "https://stackoverflow.com/questions/38322802/perl-machine-learning", "title": "Perl Machine Learning", "body": "<p><strong>To find Start, Processing and completion time of input data file</strong></p>\n<p><strong>Problem Description:</strong>   From the input file, we need to process line by line, from that lines, we have to add 7th column values until lessthen or equal to  30, it can be n number of lines but until less then or equal to 30, and  from that output lines, need to take maximum value from 3rd and 4th column and 2nd column values should be concatenate with comma&quot;,&quot; and 4th column of output should be addition of 3rd and 4th column values and remaining input lines should follow the above condition.</p>\n<p>While running the below code, it should return the output as below Expected output. but below code does not return the output of last 3 lines of input.txt,</p>\n<p>Please share the solution or better solution then this code.</p>\n<p><strong>Perl Code</strong></p>\n<pre><code>  #!/usr/bin/perl\n\nopen(A,&quot;output.txt&quot;)||die &quot;File unable to open&quot;;\n$k=0;\nwhile(&lt;A&gt;){\n\n    @col = split(/\\s+/,$_);\n        $k+=&quot;$col[6]&quot;;\n    if($k &lt;= 30)\n    {\n        push(@val,$_);\n    }\n     \n     if($k &gt; 30)\n     {\n        func(@val);\n        $k = 0;\n        @val=();\n        @cl=();\n        @BT=();\n        @start=();\n        @process=();\n        $k+=&quot;$col[6]&quot;;\n        push(@val,$_);\n     }\n}\n\nsub func()\n{\n    foreach $line (@val){\n\n            @cl = split(/\\s+/,$line);\n            push(@BT,$cl[1]);\n            push(@start,$cl[3]);\n            push(@process,$cl[2]);  \n\n            $star=(sort{$a&lt;=&gt;$b}@start)[-1];\n            $proc=(sort{$a&lt;=&gt;$b}@process)[-1];\n            $Bt=join(&quot;,&quot;,@BT);\n            $complete = $star+$proc;        \n\n        }\n            print &quot;Patch1(Job)Time\\tStartingTime\\tProcessing\\tTimeCompletion\\n$Bt\\t$star\\t$proc\\t$complete\\n&quot;;\n}\n</code></pre>\n<p><strong>input.txt</strong></p>\n<pre><code>4.40609     5   1   4   7   14  9 \n3.14721     36  1   1   10  10  10\n1.93361     98  2   1   4   5   7\n1.36379     30  3   1   12  13  6\n1.31525     83  2   1   7   5   3\n0.52453     61  3   5   8   5   9\n0.30074     84  20  1   26  13  4\n0.22983     17  4   10  15  12  9\n0.11886     9   10  5   24  12  8\n0.09495     67  30  2   36  7   2\n0.08804     24  16  5   28  11  14\n0.07005     35  26  6   35  11  9\n0.06632     38  11  9   26  14  12\n0.06436     50  21  3   36  12  4\n0.06268     14  11  5   27  9   7\n0.06131     11  19  2   33  8   2\n0.05119     10  22  7   33  10  2\n0.04004     45  1   4   37  6   6\n0.03790     88  11  1   34  8   7\n0.03244     86  27  4   45  13  6\n0.03171     91  17  5   34  8   9\n0.03135     85  9   1   34  7   5\n0.03127     25  10  1   33  6   16\n0.03055     72  9   1   33  6   9\n0.03030     34  8   8   32  13  9\n0.02963     75  18  1   40  9   1\n0.02919     51  17  10  34  14  3\n0.02904     1   24  9   35  8   5\n0.02537     21  4   8   31  8   22\n0.02205     100 26  2   48  11  8\n0.02187     41  9   3   39  12  9\n0.01731     3   10  5   39  12  7\n0.01698     44  2   14  34  11  8\n0.01613     93  17  6   40  10  10\n0.01388     20  13  5   41  11  21\n0.01243     70  9   12  29  6   7\n0.01128     76  9   11  33  8   21\n0.01116     60  5   11  30  5   8\n0.01113     47  26  7   49  12  5\n0.01038     32  9   15  34  14  7\n0.01018     46  27  2   50  6   5\n0.01000     27  1   9   44  7   3\n0.00941     42  11  10  39  12  7\n0.00940     6   30  1   55  7   11\n0.00802     23  26  6   44  4   15\n0.00801     28  5   10  35  6   4\n0.00630     55  4   9   44  12  8\n0.00556     78  26  1   55  6   23\n0.00533     31  21  15  38  6   7\n0.00516     13  9   10  41  9   6\n0.00515     97  3   4   45  5   9\n0.00500     29  4   14  42  14  5\n0.00491     54  12  6   43  6   2\n0.00478     33  5   6   47  10  8\n0.00422     37  14  15  42  13  10\n0.00413     79  19  3   53  8   15\n0.00408     52  28  2   61  9   3\n0.00372     53  12  7   41  4   2\n0.00369     16  2   12  40  4   9\n0.00361     87  13  7   47  8   7\n0.00349     68  1   12  48  6   1\n0.00293     64  26  4   63  13  6\n0.00273     96  22  10  52  9   10\n0.00244     74  19  1   60  9   12\n0.00216     40  28  1   65  7   10\n0.00187     66  17  13  47  7   2\n0.00181     43  22  15  51  10  8\n0.00173     82  25  4   67  14  17\n0.00154     49  12  9   53  10  4\n0.00151     12  14  8   57  13  1\n0.00147     62  14  13  43  4   11\n0.00143     18  26  2   70  12  12\n0.00132     7   24  15  54  9   25\n0.00130     69  27  14  54  6   6\n0.00126     90  27  1   72  11  9\n0.00117     94  24  11  58  8   12\n0.00105     99  10  14  45  5   8\n0.00095     2   13  4   55  4   6\n0.00075     56  7   10  54  7   8\n0.00067     48  27  4   66  4   5\n0.00056     8   23  13  60  7   6\n0.00053     89  17  10  64  12  8\n0.00051     92  16  8   67  14  10\n0.00034     65  28  6   78  11  8\n0.00026     71  12  12  62  8   8\n0.00024     22  24  15  64  6   23\n0.00022     15  22  12  65  5   8\n0.00022     26  16  15  66  13  17\n0.00022     77  26  6   72  4   22\n0.00020     81  5   14  62  8   16\n0.00018     57  17  13  61  4   5\n0.00017     80  23  11  74  10  14\n0.00016     73  27  13  76  11  9\n0.00015     59  16  9   69  6   7\n0.00014     19  12  12  66  7   1\n0.00014     58  29  10  81  10  6\n0.00014     63  26  15  72  8   25\n0.00008     95  25  8   77  4   11\n0.00007     39  22  13  74  6   11\n0.00006     4   22  14  76  7   8\n</code></pre>\n<p><strong>Expected output</strong></p>\n<pre><code>Batch1(Job)Time StartingTime    Processing  TimeCompletion\n5,36,98 4   2   6\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n30,83,61,84 5   20  25\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n17,9,67 10  30  40\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n24,35   6   26  32\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n38,50,14,11,10  9   22  31\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n45,88,86,91 5   27  32\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n85,25,72    1   10  11\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n34,75,51,1  10  24  34\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n21,100  8   26  34\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n41,3,44 14  10  24\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n93  6   17  23\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n20,70   12  13  25\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n76,60   11  9   20\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n47,32,46,27,42  15  27  42\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n6,23,28 10  30  40\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n55  9   4   13\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n78,31   15  26  41\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n13,97,29,54,33  14  12  26\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n37,79,52,53 15  28  43\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n16,87,68,64 12  26  38\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n96,74   10  22  32\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n40,66,43    15  28  43\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n82,49,12    9   25  34\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n62,18   13  26  39\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n7   15  24  39\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n69,90,94    14  27  41\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n99,2,56,48  14  27  41\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n8,89,92 13  23  36\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n65,71   12  28  40\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n22  15  24  39\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n15,26   15  22  37\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n77  6   26  32\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n81,57   14  17  31\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n80,73,59    13  27  40\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n19,58   12  29  41\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n63  15  26  41\nBatch1(Job)Time StartingTime    Processing  TimeCompletion\n95,39,4    25   14    39\n</code></pre>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 2253, "user_id": 228763, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a32a524f379e3cfdcc2530625e62b0a6?s=128&d=identicon&r=PG", "display_name": "fehrlich", "link": "https://stackoverflow.com/users/228763/fehrlich"}, "edited": false, "score": 0, "creation_date": 1468308975, "post_id": 38322387, "comment_id": 64060464, "body": "on which part are you stuck ?"}, {"owner": {"reputation": 22783, "user_id": 1113772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLSIj.png?s=128&g=1", "display_name": "Paul Sweatte", "link": "https://stackoverflow.com/users/1113772/paul-sweatte"}, "edited": false, "score": 0, "creation_date": 1468333490, "post_id": 38322387, "comment_id": 64077741, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/20812426/regex-to-match-value-of-a-variable-or-a-string-with-or-without-quotes\">RegEx to match value of a variable or a string (with or without quotes)</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4853, "user_id": 819007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d229f013f031e1e78682c97766b4569?s=128&d=identicon&r=PG", "display_name": "Finwe", "link": "https://stackoverflow.com/users/819007/finwe"}, "reply_to_user": {"reputation": 43, "user_id": 3381968, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6025158f8e726f1c7009795d378e520d?s=128&d=identicon&r=PG&f=1", "display_name": "user3381968", "link": "https://stackoverflow.com/users/3381968/user3381968"}, "edited": false, "score": 1, "creation_date": 1468311317, "post_id": 38322533, "comment_id": 64061832, "body": "@user3381968 Would you please be so kind to accept the answer, not just upvote? Thanks!"}], "tags": [], "owner": {"reputation": 4853, "user_id": 819007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d229f013f031e1e78682c97766b4569?s=128&d=identicon&r=PG", "display_name": "Finwe", "link": "https://stackoverflow.com/users/819007/finwe"}, "is_accepted": false, "score": 3, "last_activity_date": 1468308974, "last_edit_date": 1468308974, "creation_date": 1468308549, "answer_id": 38322533, "question_id": 38322387, "link": "https://stackoverflow.com/questions/38322387/while-coverting-perl-regular-expression-to-php-not-able-to-get-php-equivalent-co/38322533#38322533", "title": "while coverting perl regular expression to php Not able to get php equivalent code", "body": "<p>This is probably what you are looking for.    </p>\n\n<pre><code>$msg = preg_replace('/([A-Za-z0-9\\_\\-\\=\\.]{' . $count . '})/i', '\\1&lt;wbr&gt;' . \"\\n\", $msg);\n</code></pre>\n\n<p>You can test PHP regular expressions at <a href=\"https://regex101.com/r/kB0dX4/1\" rel=\"nofollow\">regex101.com</a> easily (see this expression under the link).</p>\n"}], "owner": {"reputation": 43, "user_id": 3381968, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6025158f8e726f1c7009795d378e520d?s=128&d=identicon&r=PG&f=1", "display_name": "user3381968", "link": "https://stackoverflow.com/users/3381968/user3381968"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1468308974, "creation_date": 1468308056, "question_id": 38322387, "link": "https://stackoverflow.com/questions/38322387/while-coverting-perl-regular-expression-to-php-not-able-to-get-php-equivalent-co", "title": "while coverting perl regular expression to php Not able to get php equivalent code", "body": "<p>I have given a task to convert Perl code to PHP code .</p>\n\n<p>While doing conversion i got a regular expression which is in Perl syntax &amp; working of the regular expression is like we are passing dynamic count to expression and after that dynamic count it add a  tag into a string .i want to the same thing in PHP but I am not able to convert it using preg_replace in PHP</p>\n\n<p>Perl Code:</p>\n\n<pre><code>    $msg = 'Testing a string testing it again Testing';\n    $count =7;\n    $msg =~ s/([A-Za-z0-9\\_\\-\\=\\.]{$count})/$1&lt;wbr&gt;\\n/ig;\n\n    print $msg;\n\n    Its Output is \n\n    Testing&lt;wbr&gt;                                                                                                                                                                                                              \n    a string testing&lt;wbr&gt;                                                                                                                                                                                                    \n    it again Testing&lt;wbr&gt; \n</code></pre>\n\n<p>can anyone help me to get this done ?It would be the great help .</p>\n"}, {"tags": ["python", "perl", "sed", "substitution"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5547025"}, "edited": false, "score": 2, "creation_date": 1468306180, "post_id": 38321747, "comment_id": 64058890, "body": "So you want to make 10k different replacements in a second file? From my experience <code>sed</code> will get very slow, even if you give it a file with 10k <code>s&#47;org_string1&#47;replacement_string1&#47;</code> lines. I did not try Perl or Python with a 10k dicitonary of regular expressions and substitutions."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1468306287, "post_id": 38321747, "comment_id": 64058946, "body": "my guess it won&#39;t be problem to convert/replace in perl since perl will do this in milliseconds."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5547025"}, "edited": false, "score": 0, "creation_date": 1468306338, "post_id": 38321747, "comment_id": 64058983, "body": "The single replacement will be fast. But checking each line against 10k patterns will sum up."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1468306567, "post_id": 38321747, "comment_id": 64059110, "body": "Replace text quickly in very large file [StackExchange] <a href=\"http://unix.stackexchange.com/questions/255373/replace-text-quickly-in-very-large-file\" title=\"replace text quickly in very large file\">unix.stackexchange.com/questions/255373/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5547025"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1468306712, "post_id": 38321747, "comment_id": 64059180, "body": "@ssr1012 The question you link to is not about doing 10k different replacement on possibly every line of a file. The large number of replacements is the problem here."}, {"owner": {"reputation": 3089, "user_id": 6165935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5SjwIcK5M8I/AAAAAAAAAAI/AAAAAAAAAFQ/xyQQHb_jXoQ/photo.jpg?sz=128", "display_name": "Michael Vehrs", "link": "https://stackoverflow.com/users/6165935/michael-vehrs"}, "edited": false, "score": 0, "creation_date": 1468308265, "post_id": 38321747, "comment_id": 64060058, "body": "@FullName Your dictionary need not contain regular expressions, simple strings will do."}], "answers": [{"comments": [{"owner": {"reputation": 3372, "user_id": 377693, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/47db96fe0ae5b4f1937a4190b50c9859?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/377693/ken"}, "edited": false, "score": 0, "creation_date": 1468391885, "post_id": 38326239, "comment_id": 64101990, "body": "This is way faster than doing multiple substitution. Thank you."}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 3, "last_activity_date": 1468319269, "creation_date": 1468319269, "answer_id": 38326239, "question_id": 38321747, "link": "https://stackoverflow.com/questions/38321747/fast-way-to-substitute-string-pairs-in-file/38326239#38326239", "title": "Fast way to substitute string pairs in file", "body": "<p>Here's a technique using Perl which may help:</p>\n\n<pre><code>my %map = (\n    'the'   =&gt; 'a',\n    'fox'   =&gt; 'frog',\n    'jumps' =&gt; 'somersaults'\n);\n\nmy $line = \"the quick bown fox jumps over the lazy dog\";\n\n$line =~ s{\\b(\\w+)\\b}{$map{$1} // $1}eg;\n\nsay $line;\n</code></pre>\n\n<p>This example uses a hard-coded hash mapping orig_strings to replacement_strings - in your case you would populate this mapping hash by reading the file of mapping pairs.</p>\n\n<p>Then the regular expression uses <code>\\b(\\w+)\\b</code> to capture each word in the line and pass to the replacement side via <code>$1</code>.  Because the <code>/e</code> option is specified, the right-hand side of the substitution is treated as a Perl expression, and the result of evaluating the expression is the replacement text.  <code>$map{$1}</code> uses the original word as a key to the mapping hash to look up the replacement text.  The <code>// $1</code> part is saying if the hash lookup returns <code>undef</code> (i.e. there is no replacement for this word) then just use the original text.</p>\n\n<p>The <code>\\w+</code> part will match a string of word or digit or underscore characters.  You might want only alphabetic characters and perhaps apostrophes and hyphens.  To achieve this, use <code>[a-zA-Z'-]+</code> instead of <code>\\w+</code>.</p>\n\n<p>This should be very fast because there's only one regex run across each line and only one hash lookup for each word in each line.</p>\n"}], "owner": {"reputation": 3372, "user_id": 377693, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/47db96fe0ae5b4f1937a4190b50c9859?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/377693/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 1, "accepted_answer_id": 38326239, "answer_count": 1, "score": 1, "last_activity_date": 1503366058, "creation_date": 1468305918, "last_edit_date": 1503366058, "question_id": 38321747, "link": "https://stackoverflow.com/questions/38321747/fast-way-to-substitute-string-pairs-in-file", "title": "Fast way to substitute string pairs in file", "body": "<p>I have a file with ~10,000 lines containing 2 columns: </p>\n\n<pre><code>org_string1 \\t replacement_string1\norg_string2 \\t replacement_string2\n</code></pre>\n\n<p>What is the best way (speed/convenience) to substitute all these org_string with their corresponding replacement_string in another text file (doing 10k replacement in a second file)? </p>\n\n<p>I am planning to convert them to a sed substitution command but not sure about the speed performance and whether it will exceed the max command line limit in linux.</p>\n\n<p>Assumption: </p>\n\n<ol>\n<li>All org_string and replacement_string are unique.</li>\n<li>The org_string is a single word (surrounded by space) in the input file.</li>\n</ol>\n"}, {"tags": ["javascript", "json", "perl", "post"], "comments": [{"owner": {"reputation": 429, "user_id": 3611411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2289bb35f350c08ea1a5afd4253ca306?s=128&d=identicon&r=PG&f=1", "display_name": "Krishnakumar_Muraleedharan", "link": "https://stackoverflow.com/users/3611411/krishnakumar-muraleedharan"}, "edited": false, "score": 0, "creation_date": 1468303134, "post_id": 38320965, "comment_id": 64057418, "body": "How are you parsing the JSON? Have you tried <code>JSON.parse(&#39;[{&quot;&quot;:&quot;#&quot;,&quot;jednostka&quot;:&quot;&quot;,&quot;login&quot;:&quot;SA&quot;}]&#39;)</code> ?"}, {"owner": {"reputation": 7672, "user_id": 1134649, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/62560e8552b9cd3163b190eefc3525e6?s=128&d=identicon&r=PG", "display_name": "Ronen Ness", "link": "https://stackoverflow.com/users/1134649/ronen-ness"}, "edited": false, "score": 0, "creation_date": 1468304064, "post_id": 38320965, "comment_id": 64057804, "body": "I&#39;m not sure why you need the encodeURIComponent(). doesn&#39;t it work without it? and shouldn&#39;t you do decode on the other side?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1468306475, "post_id": 38320965, "comment_id": 64059050, "body": "<a href=\"https://www.evernote.com/l/AAP7BEqr1thL6K50DGUQnnj7OviXVfoo_fk\" rel=\"nofollow noreferrer\">I can&#39;t reproduce the problem</a>, you need to provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 784, "user_id": 5258183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vShUf.jpg?s=128&g=1", "display_name": "raduation", "link": "https://stackoverflow.com/users/5258183/raduation"}, "is_accepted": false, "score": -2, "last_activity_date": 1468303584, "creation_date": 1468303584, "answer_id": 38321135, "question_id": 38320965, "link": "https://stackoverflow.com/questions/38320965/why-do-i-get-the-error-unexpected-end-of-string-while-parsing-json-string-when/38321135#38321135", "title": "Why do I get the error &quot;unexpected end of string while parsing JSON string&quot; when decoding a URI-encoded JSON string?", "body": "<p>It looks like you're decoding it in Perl, but attempting to decode an empty variable name.  Give the first variable a name.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "edited": false, "score": 0, "creation_date": 1468313875, "post_id": 38321849, "comment_id": 64063413, "body": "Someone fuction after Encoding change &quot; to %22 that was problem. I need to change value=&quot;VALUE &quot; to value=&#39;Value&#39;. End no change &quot; to %22 in html."}, {"owner": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "edited": false, "score": 0, "creation_date": 1468341792, "post_id": 38321849, "comment_id": 64083574, "body": "Other option is replace &quot; to &amp;qout;"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1468307162, "last_edit_date": 1468307162, "creation_date": 1468306240, "answer_id": 38321849, "question_id": 38320965, "link": "https://stackoverflow.com/questions/38320965/why-do-i-get-the-error-unexpected-end-of-string-while-parsing-json-string-when/38321849#38321849", "title": "Why do I get the error &quot;unexpected end of string while parsing JSON string&quot; when decoding a URI-encoded JSON string?", "body": "<p>Do you realise that you ned to escape the data only for GET requests? That's why the function is called <code>encodeURIComponent</code>, because the resulting string is for use within a URL. In POST requests the data is passed in the message body, not in the URL</p>\n\n<p>I see that you're using the <a href=\"https://metacpan.org/pod/JSON::PP\" rel=\"nofollow\"><code>JSON::PP</code></a> module, which works fine with the simple JSON string that you show. Here's an example program that shows the resulting data structure dumped using <code>Data::Dump</code></p>\n\n<p>Acccording to the error log you're encoding the JSON data when you shouldn't be. If I replace the JSON data below with <code>encodeURIComponent</code> then I get the error message</p>\n\n<blockquote>\n  <p>unexpected end of string while parsing JSON string, at character offset 3 (before \"22%22:%22#%22,%22jed...\")</p>\n</blockquote>\n\n<p>which is as you described, and what the error log confirms</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse JSON::PP;\nuse Data::Dump;\n\nmy $json = '[{\"\":\"#\",\"jednostka\":\"\",\"login\":\"SA\"}]';\n\nmy $data = JSON::PP::decode_json($json);\n\ndd $data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[{ \"\" =&gt; \"#\", \"jednostka\" =&gt; \"\", \"login\" =&gt; \"SA\" }]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1040, "user_id": 138325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b4bbd138238ab2f8aecea816fb430c2?s=128&d=identicon&r=PG", "display_name": "Trutane", "link": "https://stackoverflow.com/users/138325/trutane"}, "is_accepted": false, "score": 0, "last_activity_date": 1579912198, "creation_date": 1579912198, "answer_id": 59905315, "question_id": 38320965, "link": "https://stackoverflow.com/questions/38320965/why-do-i-get-the-error-unexpected-end-of-string-while-parsing-json-string-when/59905315#59905315", "title": "Why do I get the error &quot;unexpected end of string while parsing JSON string&quot; when decoding a URI-encoded JSON string?", "body": "<p>Another way to get the \"<em>unexpected end of string while parsing JSON string</em>\" from Perl's JSON::decode_json() function, is if your JSON file contains <a href=\"https://stackoverflow.com/questions/201782/can-you-use-a-trailing-comma-in-a-json-object\">trailing commas</a>, like this:</p>\n\n<pre><code>{\"widget\": {\n    \"debug\": \"on\",\n    \"window\": {\n        \"title\": \"Sample Konfabulator Widget\",\n        \"name\": \"main_window\",\n        \"width\": 500,\n        \"height\": 500,\n    }  }}\n</code></pre>\n\n<p>The <a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">JSON specification</a> does not allow a trailing comma (this is unrelated to URI-encoding, btw). You should be able to catch such JSON format violations using JSON::Parse::<a href=\"https://metacpan.org/pod/distribution/JSON-Parse/lib/JSON/Parse.pod#valid_json\" rel=\"nofollow noreferrer\">valid_json()</a>.</p>\n"}], "owner": {"reputation": 75, "user_id": 4944066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/980661958657186/picture?type=large", "display_name": "Piotr Bielski", "link": "https://stackoverflow.com/users/4944066/piotr-bielski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8379, "favorite_count": 0, "accepted_answer_id": 38321849, "answer_count": 3, "score": 2, "last_activity_date": 1579912198, "creation_date": 1468302842, "last_edit_date": 1468309521, "question_id": 38320965, "link": "https://stackoverflow.com/questions/38320965/why-do-i-get-the-error-unexpected-end-of-string-while-parsing-json-string-when", "title": "Why do I get the error &quot;unexpected end of string while parsing JSON string&quot; when decoding a URI-encoded JSON string?", "body": "<p>I'm trying to POST some JSON data to my Perl script, but the JSON module seems to be unable to cope with this string:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[{\"\":\"#\",\"jednostka\":\"\",\"login\":\"SA\"}]\n</code></pre>\n\n<p>I used <code>encodeURIComponent()</code> in JavaScript, so my string actually looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[{%22%22:%22#%22,%22jednostka%22:%22%22,%22login%22:%22SA%22}]\n</code></pre>\n\n<p>Error log:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>JSON::PP::decode_error('unexpected end of string while parsing JSON string') called at C:\\strawberry\\perl\\lib/JSON/PP.pm line 837\n|   JSON::PP::string() called at C:\\strawberry\\perl\\lib/JSON/PP.pm line 960\n|   JSON::PP::object() called at C:\\strawberry\\perl\\lib/JSON/PP.pm line 724\n|   JSON::PP::value() called at C:\\strawberry\\perl\\lib/JSON/PP.pm line 907\n|   JSON::PP::array() called at C:\\strawberry\\perl\\lib/JSON/PP.pm line 725\n|   JSON::PP::value() called at C:\\strawberry\\perl\\lib/JSON/PP.pm line 688\n|   JSON::PP::PP_decode_json('JSON::PP=HASH(0xd0c2534)', '[{%22%22:%22#%22,%22jednostka%22:%22%22,%22login%22:%22SA%22}]', 0) called at C:\\strawberry\\perl\\lib/JSON/PP.pm line 148\n</code></pre>\n"}, {"tags": ["postgresql", "perl", "plperl"], "answers": [{"tags": [], "owner": {"reputation": 85043, "user_id": 1995738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fXrVi.png?s=128&g=1", "display_name": "klin", "link": "https://stackoverflow.com/users/1995738/klin"}, "is_accepted": false, "score": 2, "last_activity_date": 1468304612, "last_edit_date": 1468304612, "creation_date": 1468303333, "answer_id": 38321074, "question_id": 38320755, "link": "https://stackoverflow.com/questions/38320755/postgres-plperl-create-aggregate-function-to-average-decibles/38321074#38321074", "title": "Postgres plperl - Create Aggregate Function to Average Decibles", "body": "<p>Try to use the aggregate, not the function:</p>\n\n<pre><code>SELECT db_agg(dbm) \nFROM data \nGROUP BY meas_date;\n</code></pre>\n\n<p>And shouldn't be <code>$avg_watts</code> in place of <code>$decimal</code> in the function body?</p>\n"}], "owner": {"reputation": 32, "user_id": 1946387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e04f0a7914c103b0ff513e6d82a530b1?s=128&d=identicon&r=PG", "display_name": "atom12", "link": "https://stackoverflow.com/users/1946387/atom12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1468347568, "creation_date": 1468301779, "last_edit_date": 1468347568, "question_id": 38320755, "link": "https://stackoverflow.com/questions/38320755/postgres-plperl-create-aggregate-function-to-average-decibles", "title": "Postgres plperl - Create Aggregate Function to Average Decibles", "body": "<p>I'm trying to take all the dBm values for a date and average them, but to average dBm they need to be converted to watts, averaged, then converted back to dBm.</p>\n\n<p>Here is what I tried with plperl. </p>\n\n<pre><code>CREATE OR REPLACE FUNCTION avg_dbm(double precision[]) RETURNS integer AS $$\n\n    my $watts = 0;\n    my $watt_count = 0;\n\n    foreach my $dbm ( @_ ) {\n        $watts = $watts + ( 10 ** ( $dbm / 10 ) ) / 1000;\n        $watt_count++;\n    }\n\n    my $avg_watts = $watts / $watt_count;\n    my $avg_dbm  = 10 * log(  1000 * $avg_watts ) / log(10);\n\n    return $avg_dbm;\n\n$$ LANGUAGE plperl;\n\nDROP AGGREGATE IF EXISTS db_agg( double precision );\n\nCREATE AGGREGATE db_agg ( double precision ) ( \n    sfunc = array_append,\n    stype = double precision[],\n    finalfunc = avg_dbm\n);\n\n\nSELECT avg_db( dbm ) FROM data GROUP BY meas_date;\n</code></pre>\n\n<p>The error that I get when running this function is:</p>\n\n<pre><code>ERROR:  column \"data.dbm\" must appear in the GROUP BY clause or be used in an aggregate function\n</code></pre>\n\n<p>I think I'm close to having this right but can't seem to figure it out.  The query only needs to aggregate by date and average all the dbm values for that date into one value.</p>\n\n<p>Any ideas or solutions?</p>\n\n<p>EDIT:  updated plsql code for proper perl variable name</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I changed the SQL to:</p>\n\n<pre><code>SELECT db_agg( dbm ) FROM data GROUP BY meas_date;\n</code></pre>\n\n<p>And get this error:</p>\n\n<pre><code>ERROR:  Operation \"/\": no method found,\n    left argument in overloaded package PostgreSQL::InServer::ARRAY,\n    right argument has no overloaded magic at line 7.\nCONTEXT:  PL/Perl function \"avg_dbm\"\n</code></pre>\n\n<p>The part that is having problems is in this line of code in plperl</p>\n\n<pre><code>$watts = $watts + ( 10 ** ( $dbm / 10 ) ) / 1000;\n</code></pre>\n\n<p>Specifically $dbm doesn't want to be divided by 10... </p>\n\n<p>I tried changing the functions to use non-array double precision data types but that didn't seem to work.  I also tried adding 0 like in MySQL in hopes to do auto conversion but failed.</p>\n\n<p>Is there some treatment to array data types needed before using them in division?</p>\n"}, {"tags": ["string", "perl", "xpath", "concatenation", "html-treebuilder"], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1468317056, "post_id": 38322631, "comment_id": 64065607, "body": "The more sensible behaviour would be for it to return the first match in a scalar context and all matches in a list context, which is what other modules do, eg. <code>look_down</code> in <code>HTML::Element</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1468321324, "post_id": 38322631, "comment_id": 64068492, "body": "No. It shouldn&#39;t return something other than what you asked for. If you just want the first one, ask for just the first one"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468363595, "post_id": 38322631, "comment_id": 64094466, "body": "@ikegami So are you saying <code>look_down</code> in <code>HTML::Element</code>is wrong?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468375188, "post_id": 38322631, "comment_id": 64097105, "body": "@ikegami So what is your opinion on <code>look_down</code> in <code>HTML::Element</code>?  It returns the first match in a scalar context and all matches in a list context."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468375300, "post_id": 38322631, "comment_id": 64097128, "body": "@ikegami In the second comment to this answer you said it shouldn&#39;t do that."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468375524, "post_id": 38322631, "comment_id": 64097179, "body": "@ikegami I&#39;m not sure why you would want to defend what is quite an odd and unusable feature of the function."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468375827, "post_id": 38322631, "comment_id": 64097246, "body": "@ikegami What I&#39;m saying is that a concatenation is close to useless in most cases."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468376708, "post_id": 38322631, "comment_id": 64097443, "body": "@ikegami In my opinion a function that concatenates all the values should be a separate function because it is an unusual requirement. There should simply be a <code>findvalues</code> function that returns the first match in a scalar context and all matches in a list context."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468458244, "post_id": 38322631, "comment_id": 64140156, "body": "@ikegami  If it is &quot;a totally redundant function&quot; then why does <code>look_down</code> in <code>HTML::Element</code> do what I am asking for?"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 2, "last_activity_date": 1468308848, "last_edit_date": 1592644375, "creation_date": 1468308848, "answer_id": 38322631, "question_id": 38320659, "link": "https://stackoverflow.com/questions/38320659/htmltreebuilderxpath-findvalue-returns-concatenation-of-values/38322631#38322631", "title": "HTML::TreeBuilder::XPath findvalue returns concatenation of values", "body": "<blockquote>\n<p>Why does it do this?</p>\n</blockquote>\n<p>When you call <code>findvalue</code>, you're requesting a single scalar value. If there are multiple matches, they have to be combined into a single value <em>somehow</em>.</p>\n<p>From the documentation for <a href=\"https://metacpan.org/pod/HTML::TreeBuilder::XPath#findvalue-path\" rel=\"nofollow noreferrer\">HTML::TreeBuilder::XPath</a>:</p>\n<blockquote>\n<p><strong>findvalue ($path)</strong></p>\n<p>...If the path returns a NodeSet, <code>$nodeset-&gt;xpath_to_literal</code> is called automatically for you (and thus a Tree::XPathEngine::Literal is returned).</p>\n</blockquote>\n<p>And from the documentation for <a href=\"https://metacpan.org/pod/Tree::XPathEngine::NodeSet#xpath_to_literal\" rel=\"nofollow noreferrer\">Tree::XPathEngine::NodeSet</a>:</p>\n<blockquote>\n<p><strong>xpath_to_literal()</strong></p>\n<p>Returns the concatenation of all the string-values of all the nodes in the list.</p>\n</blockquote>\n<p>An alternative would be to return the Tree::XPathEngine::NodeSet object so the user could iterate through the results himself, but the <code>findvalues</code> method already returns a list.</p>\n<hr />\n<blockquote>\n<p>How could a concatenation of the values be useful to anyone?</p>\n</blockquote>\n<p>For example:</p>\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nuse HTML::TreeBuilder::XPath;\n\nmy $content = do { local $/; &lt;DATA&gt; };\nmy $tree = HTML::TreeBuilder::XPath-&gt;new_from_content($content);\n\nsay $tree-&gt;findvalue('//p');\n\n__DATA__\n&lt;p&gt;HTML is just text.&lt;/p&gt;\n&lt;p&gt;It can still make sense without the markup.&lt;/p&gt;\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>HTML is just text.It can still make sense without the markup.\n</code></pre>\n<p>Usually, though, it makes more sense to get a list of matches and iterate through them instead of doing dumb concatenation, so you should use <code>findvalues</code> (plural) if you could have multiple matches.</p>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 2048003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/685fc26efbb3c297925f900261a9ff5b?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2048003/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1514242676, "creation_date": 1514242676, "answer_id": 47972565, "question_id": 38320659, "link": "https://stackoverflow.com/questions/38320659/htmltreebuilderxpath-findvalue-returns-concatenation-of-values/47972565#47972565", "title": "HTML::TreeBuilder::XPath findvalue returns concatenation of values", "body": "<p>Use </p>\n\n<pre><code>( $tree-&gt;findvalues('//p') )[0] ;\n</code></pre>\n\n<p>instead.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1514242676, "creation_date": 1468301258, "question_id": 38320659, "link": "https://stackoverflow.com/questions/38320659/htmltreebuilderxpath-findvalue-returns-concatenation-of-values", "title": "HTML::TreeBuilder::XPath findvalue returns concatenation of values", "body": "<p>The <code>findvalue</code> function in <a href=\"http://search.cpan.org/~mirod/HTML-TreeBuilder-XPath-0.14/lib/HTML/TreeBuilder/XPath.pm\" rel=\"nofollow\">HTML::TreeBuilder::XPath</a> returns a concatenation of any values found by the <code>xpath</code> query.</p>\n\n<p>Why does it do this, and how could a concatenation of the values be useful to anyone?</p>\n"}, {"tags": ["apache", "perl", "cgi", "mod-perl2"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1468254188, "post_id": 38311701, "comment_id": 64040159, "body": "Are you using CGI or mod_perl? (or CGI through the mod_perl CGI via something like <a href=\"https://perl.apache.org/docs/2.0/api/ModPerl/Registry.html\" rel=\"nofollow noreferrer\">perl.apache.org/docs/2.0/api/ModPerl/Registry.html</a> ?)"}, {"owner": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1468254363, "post_id": 38311701, "comment_id": 64040248, "body": "At the moment i am using just CGI. But I have been looking at using mod_perl because i would like this functionality"}, {"owner": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1468833444, "post_id": 38311701, "comment_id": 64271328, "body": "<a href=\"https://www.feistyduck.com/library/apache-security/online/apachesc-CHP-8.html\" rel=\"nofollow noreferrer\">feistyduck.com/library/apache-security/online/&hellip;</a> something like mod_security described here"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1468834840, "post_id": 38311701, "comment_id": 64272211, "body": "@arved: that link doesn&#39;t help with accessing or generating logs from a CGI script."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1468835053, "post_id": 38311701, "comment_id": 64272342, "body": "@arved: Apache logs this information in its standard log, why don&#39;t you just extract it from there?"}, {"owner": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "edited": false, "score": 0, "creation_date": 1468839518, "post_id": 38311701, "comment_id": 64275341, "body": "in this case i have to write code to log the requests too, which are already logged to access.log. But it looks like i need to go that route.."}], "owner": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1468832748, "creation_date": 1468254006, "last_edit_date": 1468832748, "question_id": 38311701, "link": "https://stackoverflow.com/questions/38311701/log-to-apache-access-log-from-cgi", "title": "log to apache access.log from CGI", "body": "<p>I would like to log some information about the response my CGI returns. These are not errors and it makes sense to log them close to the actual request.</p>\n\n<p>I have looked at Apache2::Log from mod_perl2, but i am not sure it is doable with that module.</p>\n\n<p>Does anybody have done something similar? </p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1468248475, "post_id": 38309722, "comment_id": 64036510, "body": "What is <code>$j</code>? How does the <code>$data</code> structure look like?"}, {"owner": {"reputation": 35, "user_id": 5048132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c6913453c279902053b7aede7539d17?s=128&d=identicon&r=PG&f=1", "display_name": "keegita gina", "link": "https://stackoverflow.com/users/5048132/keegita-gina"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1468248895, "post_id": 38309722, "comment_id": 64036801, "body": "$j is the &quot;j&quot;th element named &quot;control&quot;. This extract is actually in a for loop to go through all the elements named &quot;control&quot;. It reads data from another file and that part works fine."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1468249974, "post_id": 38309722, "comment_id": 64037532, "body": "Please, provide a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."}, {"owner": {"reputation": 35, "user_id": 5048132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c6913453c279902053b7aede7539d17?s=128&d=identicon&r=PG&f=1", "display_name": "keegita gina", "link": "https://stackoverflow.com/users/5048132/keegita-gina"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1468251174, "post_id": 38309722, "comment_id": 64038339, "body": "&lt;SpecificResult&gt; &lt;hostname&gt;ServerA&lt;/hostname&gt; &lt;control&gt;         &lt;title&gt;ControlX&lt;/title&gt;         &lt;state&gt;1&lt;/state&gt; &lt;/control&gt; &lt;/SpecificResult&gt;"}, {"owner": {"reputation": 35, "user_id": 5048132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c6913453c279902053b7aede7539d17?s=128&d=identicon&r=PG&f=1", "display_name": "keegita gina", "link": "https://stackoverflow.com/users/5048132/keegita-gina"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1468251423, "post_id": 38309722, "comment_id": 64038492, "body": "This is the structure of the data file and it can have several elements &quot;control&quot; or &quot;state&quot;. The sample code itself is too long to be posted here. My question is simply how to check a node&#39;s existence before adding it in perl?"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5048132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c6913453c279902053b7aede7539d17?s=128&d=identicon&r=PG&f=1", "display_name": "keegita gina", "link": "https://stackoverflow.com/users/5048132/keegita-gina"}, "edited": false, "score": 0, "creation_date": 1468325539, "post_id": 38324193, "comment_id": 64071436, "body": "I found an alternative by using shell commands in the perl script with a cat/grep &quot;banana&quot; on the file , but this works too. Thanks!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 35, "user_id": 5048132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c6913453c279902053b7aede7539d17?s=128&d=identicon&r=PG&f=1", "display_name": "keegita gina", "link": "https://stackoverflow.com/users/5048132/keegita-gina"}, "edited": false, "score": 0, "creation_date": 1468328187, "post_id": 38324193, "comment_id": 64073491, "body": "I would urge you not to use it - grep is inappropriate for parsing XML, because you can have multi-line XML."}, {"owner": {"reputation": 35, "user_id": 5048132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c6913453c279902053b7aede7539d17?s=128&d=identicon&r=PG&f=1", "display_name": "keegita gina", "link": "https://stackoverflow.com/users/5048132/keegita-gina"}, "edited": false, "score": 0, "creation_date": 1468337112, "post_id": 38324193, "comment_id": 64080628, "body": "You are probably right. The thing is I can&#39;t call the method &quot;findnodes&quot; on my $xml variable because it was created with XML::Smart and not XML::LibXML. In fact when I do &quot; $xml -&gt; findnodes ...&quot; it says it can&#39;t find the method findnodes in the XML::Smart library."}, {"owner": {"reputation": 35, "user_id": 5048132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c6913453c279902053b7aede7539d17?s=128&d=identicon&r=PG&f=1", "display_name": "keegita gina", "link": "https://stackoverflow.com/users/5048132/keegita-gina"}, "edited": false, "score": 0, "creation_date": 1468337325, "post_id": 38324193, "comment_id": 64080794, "body": "To not change aaall my code to XML::LibXML, what I do is I put the output of the grep in a variable and check if it&#39;s empty or not. If it&#39;s not empty it means the word &quot;banana&quot; is in it, doesn&#39;t matter how the xml is formatted. Is that right?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1468328340, "last_edit_date": 1468328340, "creation_date": 1468313782, "answer_id": 38324193, "question_id": 38309722, "link": "https://stackoverflow.com/questions/38309722/perl-and-xmlsmart-how-to-check-a-nodes-existence-based-on-its-value/38324193#38324193", "title": "Perl and XML::Smart : How to check a node&#39;s existence based on its value?", "body": "<p>I don't know about <code>XML::Smart</code> but in <code>XML::LibXML</code> you want 'findnodes'. </p>\n\n<p>E.g. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $xml = XML::LibXML -&gt; new() -&gt; parse_string( do { local $/; &lt;DATA&gt; } );\n\nif ( my $node =  $xml -&gt; findnodes ( '//fruit[string()=\"banana\"]') ) {\n   print $node;\n}\nelse {\n    #insert new element\n    my $new = XML::LibXML::Element-&gt;new(\"fruit\");\n    $new -&gt; addChild (XML::LibXML::Text-&gt;new(\"banana\"));\n    $xml -&gt; documentElement -&gt; addChild ( $new );\n}\n\n\n__DATA__\n&lt;food&gt;\n&lt;fruit&gt;banana&lt;/fruit&gt;\n&lt;fruit&gt;apple&lt;/fruit&gt;\n&lt;fruit&gt;orange&lt;/fruit&gt;\n&lt;/food&gt;\n</code></pre>\n\n<p>Edit: You mention in the  comments that 'grep' can be used. I'd urge you not to, for this reason - your XML as above can be (entirely legitimately, as part of the XML spec) reformatted as:</p>\n\n<pre><code>&lt;food&gt;\n  &lt;fruit&gt;banana&lt;/fruit&gt;\n  &lt;fruit&gt;apple&lt;/fruit&gt;\n  &lt;fruit&gt;orange&lt;/fruit&gt;\n&lt;/food&gt;\n\n&lt;food\n&gt;&lt;fruit\n&gt;banana&lt;/fruit&gt;&lt;fruit\n&gt;apple&lt;/fruit&gt;&lt;fruit\n&gt;orange&lt;/fruit&gt;&lt;/food&gt;\n\n&lt;food&gt;&lt;fruit&gt;banana&lt;/fruit&gt;&lt;fruit&gt;apple&lt;/fruit&gt;&lt;fruit&gt;orange&lt;/fruit&gt;&lt;/food&gt;\n</code></pre>\n\n<p>All of which are semantically identical. There's a bunch of other things - like ordering of tags and attributes - that can also cause significant grief with regular expressions. Far better to use a parser that understand the context of your XML. </p>\n"}], "owner": {"reputation": 35, "user_id": 5048132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c6913453c279902053b7aede7539d17?s=128&d=identicon&r=PG&f=1", "display_name": "keegita gina", "link": "https://stackoverflow.com/users/5048132/keegita-gina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 1, "accepted_answer_id": 38324193, "answer_count": 1, "score": 0, "last_activity_date": 1468328340, "creation_date": 1468247894, "last_edit_date": 1468307881, "question_id": 38309722, "link": "https://stackoverflow.com/questions/38309722/perl-and-xmlsmart-how-to-check-a-nodes-existence-based-on-its-value", "title": "Perl and XML::Smart : How to check a node&#39;s existence based on its value?", "body": "<p>What perl function in the XML::Smart library ( or XML::LibXML ) allows to check if a node exists before adding it? </p>\n\n<p>Example:</p>\n\n<pre><code>&lt;food&gt;\n&lt;fruit&gt;banana&lt;/fruit&gt;\n&lt;fruit&gt;apple&lt;/fruit&gt;\n&lt;fruit&gt;orange&lt;/fruit&gt;\n&lt;/food&gt;\n</code></pre>\n\n<p>I want to add the fruit \"banana\" only if it doesn't already exist.\nThanks.</p>\n"}, {"tags": ["perl", "split", "pattern-matching"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1468237159, "post_id": 38305979, "comment_id": 64028361, "body": "Go on, have a go at solving it yourself, and then asking when you hit problems."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468239041, "post_id": 38305979, "comment_id": 64029587, "body": "You say <i>&quot;I would like to get them into individual files followed by the contents&quot;</i> so I edited your question to reflect that. But you changed it to show all of the output in a single file. Which is it, please?"}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468239173, "post_id": 38305979, "comment_id": 64029693, "body": "Because its my first time here, I don&#39;t know how to use use all options. I am beginner in both perl and to this forum. Could someone please have a look at my code and correct? Thanks."}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468239314, "post_id": 38305979, "comment_id": 64029798, "body": "Yes please, my edit went failed somehow. But you are right Borodin.  I  would like to get them into individual files followed by the contents."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468239651, "post_id": 38305979, "comment_id": 64030053, "body": "Your code seems to have little to do with the problem you are asking about. What is <code>@sizeList</code>? It isn&#39;t defined anywhere. And the output <code>print &quot;Query\\t$seqLen\\n&quot;</code> isn&#39;t reflected in your question at all"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468240446, "post_id": 38306655, "comment_id": 64030618, "body": "We have no guarantee that the first line of comments starts with <code># ver</code>, and <code>if ($. != 1) { close(FH2); }</code> appears to do nothing useful. It&#39;s also a bad example to use global file handles and the two-parameter form of <code>open</code>, and why not accept the file name on the command line?"}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468240504, "post_id": 38306655, "comment_id": 64030651, "body": "Thanks a lot. It works with a small correction &quot;$line =~ /#\\sQuery:\\s(.*)/)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468240611, "post_id": 38306655, "comment_id": 64030727, "body": "@perlbeginner: That should make no difference, as all spaces are stripped from <code>$id</code> before it is used"}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468241095, "post_id": 38306655, "comment_id": 64031053, "body": "Ah yes, that space \\s make no difference. # ver is the first commented line. It will be like that."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468241661, "post_id": 38306655, "comment_id": 64031450, "body": "@Borodin - In the above script the file close is depend on <code># ver</code> and I used  <code>if ($. != 1) { close(FH2); }</code> line to control the first line to close the file handler. I did not get your <b>It&#39;s also a bad example to use global file handles and the two-parameter form of open</b> point . can you please explain it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468241951, "post_id": 38306655, "comment_id": 64031659, "body": "The value of <code>$.</code> will only ever be 1 for the first line of input, which is before <code>FH2</code> has ever been opened."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468246287, "post_id": 38306655, "comment_id": 64034938, "body": "As for <i>lexical file handles</i> and the <i>three-parameter form of <code>open</code></i>, I&#39;m amazed that you&#39;ve done any significant programming in Perl without hearing of them, as they go along with <code>use strict</code> and <code>use warnings &#39;all&#39;</code> for good-practice Perl. Google will help you here."}], "tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": 0, "last_activity_date": 1468239188, "creation_date": 1468239188, "answer_id": 38306655, "question_id": 38305979, "link": "https://stackoverflow.com/questions/38305979/how-to-split-large-file-and-write-into-individual-record-using-identical-pattern/38306655#38306655", "title": "How to split large file and write into individual record using identical pattern perl?", "body": "<p>Code : </p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $filename = \"t1\";#provide your input file name\nopen FH, $filename or die \"Error\\n\";\nmy $prev_line;\nwhile(my $line =&lt;FH&gt;)\n{\n        chomp($line);\n        if($line =~ /#\\sver/)\n        {\n                if($. != 1)\n                {\n                        close(FH2);\n                }\n                $prev_line =$line;\n        }\n        elsif($line =~ /#\\sQuery:(.*)/)\n        {\n                my $id =$1;\n                $id =~ s/\\s//;\n                print \"$id\\n\";\n                open FH2,\"&gt;$id.txt\" or die \"Error\";\n                print FH2 \"$prev_line\\n$line\\n\";\n\n        }\n        else\n        {\n                print FH2 \"$line\\n\";\n        }\n\n}\nclose(FH);\n</code></pre>\n\n<p>Hope this will help you.</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468240446, "post_id": 38306828, "comment_id": 64030617, "body": "Thank a lot. It works."}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468240635, "post_id": 38306828, "comment_id": 64030740, "body": "By the way, I lost some contents in my edited post which have the second part of the issue and so my code description is looking so different. Now where to edit now? Please help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468241807, "post_id": 38306828, "comment_id": 64031567, "body": "@perlbeginner: You had <i>&quot;I have another file with all IDs and length. Example,&quot;</i> is that what you mean? You gave an example of the contents but didn&#39;t describe their meaning or relevance to the question, so I deleted it. Why do you want that part in the question? Presumably <code>@sizeList</code> is something to do with that, but your code never puts anything into that array. By the way, please don&#39;t put <code>\\t</code> in your data unless the file contains a backslash and a <code>t</code>. Putting the tabs into the data you post should be sufficient, but you may also say that the file is &quot;tab-separated&quot;"}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468242297, "post_id": 38306828, "comment_id": 64031917, "body": "Sorry for the inconvenience. Its my first day in stack overflow. I will correct all the mistakes I did. I edited the post again. &quot;\\t&quot; means the tab in the file and @sizeList is array I get it from another file, which have IDs and some size. This should get matched with individual output file, and sitting on the first line of the output file. I hope this is clear.. Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468245282, "post_id": 38306828, "comment_id": 64034155, "body": "@perlbeginner: Okay, I&#39;ve changed all your <code>\\t</code> sequences to real tab characters and removed every <code>\\n</code> which I assume means a newline, and is there in the text already. It&#39;s best to think of Stack Overflow like a wiki rather than a forum, and every page is supposed to be problem and a set of solutions that could be useful to any number of other people. It&#39;s primary purpose is those other people, and not to get you the answer that you want."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468245424, "post_id": 38306828, "comment_id": 64034259, "body": "@perlbeginner: You really shouldn&#39;t make substantial changes to your question like that. If you need to alter anything that makes any comments or answers invalid then you should <i>open a new question</i>. It&#39;s not fair to get me to rewrite my answer just because you got the question wrong in the first place. And you still don&#39;t show your complete code so I have to guess about a lot of things. It looks like you&#39;re either delcaring all your variables at the top of your program or you&#39;re not using <code>use strict</code> and <code>use warnings &#39;all&#39;</code>. Both of those are a bad idea"}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468245961, "post_id": 38306828, "comment_id": 64034672, "body": "These looked exactly like significant changes because of edit problem. But I didn&#39;t mean that way. Now I am clear. Thanks for all your suggestions. And, I declared all the variable before. I also used &quot;use strict&quot;. I get both files using $ARGV[0], $ARGV[1]. I copied only main block code and posted it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468246142, "post_id": 38306828, "comment_id": 64034807, "body": "@perlbeginner: You should also have <code>use warnings &#39;all&#39;</code>. And it&#39;s wrong to declare everything in a block: you may as well just not declare them at all if you&#39;re going to do that. It&#39;s an old-fashioned C programming style, and it isn&#39;t even good in modern C. Variables should usually be declared where they&#39;re first mentioned, unless you need the scope to extend over a loop block, when they should be declared just before the loop"}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468247093, "post_id": 38306828, "comment_id": 64035564, "body": "Thanks a lot for the update. But there is a warning/error... &quot;Can&#39;t use an undefined value as a symbol reference at multi2one2length.pl line 47, &lt;&gt; line 1.&quot;"}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468247914, "post_id": 38306828, "comment_id": 64036132, "body": "This was corrected with an additional line &quot;next if/^Query/;&quot; right after opening the while (&lt;&gt;) loop. Because the input might have an additional line,&quot;^Query&quot; along with commented lines and other contents. Now it works.  Thanks once again!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468250845, "post_id": 38306828, "comment_id": 64038127, "body": "@perlbeginner: I&#39;ve updated my code. Please use that rather than your own fix"}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468259683, "post_id": 38306828, "comment_id": 64042949, "body": "&quot;elsif&quot; update should go to the second version of your code, right? Because I am seeing this update in the first version of the code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468260277, "post_id": 38306828, "comment_id": 64043265, "body": "@perlbeginner: I&#39;m sorry, yes, it should be in both versions. Fixed"}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468265207, "post_id": 38306828, "comment_id": 64045791, "body": "Solved. Thanks again. J"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1468260246, "last_edit_date": 1468260246, "creation_date": 1468239781, "answer_id": 38306828, "question_id": 38305979, "link": "https://stackoverflow.com/questions/38305979/how-to-split-large-file-and-write-into-individual-record-using-identical-pattern/38306828#38306828", "title": "How to split large file and write into individual record using identical pattern perl?", "body": "\n\n<p>I am confused about what you are asking, as your Perl code seems to do something very different from what your question describes. However, here's a simple solution that opens a new file for every <code># Query:</code> line in the comment and generates the output that you say you want</p>\n\n<p>This program expects the path to the input file as a parameter on the command line</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse autodie;\n\nmy $out_fh;\nmy @header;\n\nwhile ( &lt;&gt; ) {\n\n    if ( /^#/ ) {\n\n        push @header, $_;\n\n        if ( /Query:\\s*(\\S+)/ ) {\n            my $file = \"$1.txt\";\n            print qq{Creating \"$file\"\\n};\n            open $out_fh, '&gt;', $file;\n        }\n\n        if ( @header == 4 ) {\n            print $out_fh @header;\n            @header = ();\n        }\n    }\n    elsif ( $out_fh ) {\n        print $out_fh $_;\n    }\n}\n\nclose $out_fh;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Creating \"A_1.txt\"\nCreating \"Bxx_xx.txt\"\nCreating \"P_b.txt\"\nCreating \"1A_Z0.txt\"\nCreating \"Z867.txt\"\nCreating \"BWS.txt\"\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Here's a new version of my code that complies with your revised specification. (Please don't do that.)</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse autodie;\n\n@ARGV = qw/ 4l.txt size_list.txt /;\n\nmy ( $input, $size_list ) = @ARGV;\n\nmy %sizes;\n{\n    open my $fh, '&lt;', $size_list;\n    while ( &lt;$fh&gt; ) {\n        my ($file, $size) = split;\n        $sizes{$file} = $size if defined $size;\n    }\n}\n\n\nmy $out_fh;\nmy @header;\n\nwhile ( &lt;&gt; ) {\n\n    if ( /^#/ ) {\n\n        push @header, $_;\n\n        if ( /Query:\\s*(\\S+)/ ) {\n\n            my $id = $1;\n            my $size = $sizes{$id};\n            die qq{No size found for ID \"$id\"} unless defined $size;\n            my $file = \"$id.txt\";\n\n            print qq{Creating \"$file\"\\n};\n\n            open $out_fh, '&gt;', $file;\n            print $out_fh \"$id\\t$size\\n\";\n        }\n\n        if ( @header == 4 ) {\n            print $out_fh @header;\n            @header = ();\n        }\n    }\n    elsif ( $out_fh ) {\n        print $out_fh $_;\n    }\n}\n\nclose $out_fh if $out_fh;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1468260496, "accepted_answer_id": 38306828, "answer_count": 2, "score": 1, "last_activity_date": 1468260246, "creation_date": 1468237053, "last_edit_date": 1468244928, "question_id": 38305979, "link": "https://stackoverflow.com/questions/38305979/how-to-split-large-file-and-write-into-individual-record-using-identical-pattern", "closed_reason": "Not suitable for this site", "title": "How to split large file and write into individual record using identical pattern perl?", "body": "\n\n<p>I have a multi-GB file consisting of thousands of individual files based on their IDs. </p>\n\n<p>Each component file consists of four comment lines followed by the contents. Every second commented lines has a unique ID. I would like to split the file individual files named by their ID.</p>\n\n<p>There is a second <code>size list</code> of IDs and size. I want to have this line written first as the very first line in each output file.</p>\n\n<p>Examples </p>\n\n<h3>size list</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>A_1 100\nBxx_xx  25\nP_b 342\n1A_Z0   343\nZ867    200\nBWS 111\n</code></pre>\n\n<h3>input file</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code># ver XX\n# Query: A_1\n# Database: XX\n# Usage: XX\nA_1 .*\nA_1 .*\nA_1 .*\nA_1 .*\nA_1 .*\n# ver\n# Query: Bxx_xx\n# Database: XXXXXX\n# Usage: XXXXX\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\n# ver\n# Query: P_b\n# Database: XXXXXX\n# Usage: XXXXX\nP_b.*\nP_b.*\nP_b.*\nP_b.*\nP_b.*\nP_b.*\n# ver\n# Query: 1A_Z0\n# Database: XXXXXX\n# Usage: XXXXX\n1A_Z0.*\n1A_Z0.*\n1A_Z0.*\n1A_Z0.*\n# ver\n# Query: Z867\n# Database: XXXXXX\n# Usage: XXXXX\n# ver\n# Query: BWS\n# Database: XXXXXX\n# Usage: XXXXX\nBWS.*\nBWS.*\nBWS.*\n</code></pre>\n\n<p>Output should be like this, (ID.txt)</p>\n\n<h3>A_1.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>A_1 100\n# ver XX\n# Query: A_1\n# Database: XX\n# Usage: XX\nA_1 .*\nA_1 .*\nA_1 .*\nA_1 .*\nA_1 .*\n</code></pre>\n\n<h3>Bxx_xx.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Bxx_xx  25\n# ver\n# Query: Bxx_xx\n# Database: XXXXXX\n# Usage: XXXXX\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\nBxx_xx  .*\n</code></pre>\n\n<h3>P_b.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>P_b 342\n# ver\n# Query: P_b\n# Database: XXXXXX\n# Usage: XXXXX\nP_b.*\nP_b.*\nP_b.*\nP_b.*\nP_b.*\nP_b.*\n</code></pre>\n\n<h3>1A_Z0.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>1A_Z0   343\n# ver\n# Query: 1A_Z0\n# Database: XXXXXX\n# Usage: XXXXX\n1A_Z0.*\n1A_Z0.*\n1A_Z0.*\n1A_Z0.*\n</code></pre>\n\n<h3>Z867.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Z867    200\n# ver\n# Query: Z867\n# Database: XXXXXX\n# Usage: XXXXX\n</code></pre>\n\n<h3>BWS.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>BWS 200\n# ver\n# Query: BWS\n# Database: XXXXXX\n# Usage: XXXXX\nBWS.*\nBWS.*\nBWS.*\n</code></pre>\n\n<p>In some cases, there may be no contents after four lines. Example, </p>\n\n<pre class=\"lang-none prettyprint-override\"><code># ver\n# Query: Z867\n# Database: XXXXXX\n# Usage: XXXXX\n</code></pre>\n\n<p>Still I want them as new file, <code>Z867.txt</code></p>\n\n<p>My code is as follows</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>while ( $line = &lt;BOF&gt; ) {\n\n    chomp $line;\n    $cpline = $line;\n\n    next if ( $cpline =~ /^Query/ );\n\n    if ( $cpline =~ /^#\\sQuery\\:\\s(\\w.*)/ ) {\n\n        $query = $1;\n\n        foreach $sizeLine (@sizeList) {\n\n            $sizeLine =~ /^(\\w.*)\\t(\\d+)$/;\n            $seqId  = $1;\n            $seqLen = $2;\n\n            if ( $seqId eq $query ) {\n                print \"Query\\t$seqLen\\n\";\n            }\n        }\n    }\n\n    $cpline = \"\";\n\n    if ( $line =~ /^#/ ) {\n        print \"$line\\n\";\n    }\n\n    if ( $line !~ /^#/ ) {\n\n        if ( $line =~ /^((.+)\\_.+)\\t((.+)\\_.+)\\t(.+)\\t(.+)\\t.+\\t.+\\t.+\\t.+\\t.+\\t.+\\t.+\\t\\s?.+$/ ) {\n\n            $queryId = $1;\n\n            if ( $seqId eq $queryId ) {\n                print \"$line\\n\";\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "unicode", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 1, "creation_date": 1468225834, "post_id": 38302377, "comment_id": 64021203, "body": "The codepoint is <i>not</i> <code>0xe282ac</code> in UTF-8. That is purely how it&#39;s encoded as a bytestring."}, {"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "reply_to_user": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1468225909, "post_id": 38302377, "comment_id": 64021249, "body": "Right - and can&#39;t I put that encoding in the string?  If not, how do I specify UTF-8 characters in strings?"}, {"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "reply_to_user": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1468226009, "post_id": 38302377, "comment_id": 64021309, "body": "In other words, doesn&#39;t &quot;\\x{e282ac}&quot; insert those bytes into the string - and isn&#39;t that valid UTF-8?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1468226157, "post_id": 38302377, "comment_id": 64021383, "body": "See <a href=\"https://metacpan.org/pod/Encode\" rel=\"nofollow noreferrer\"><code>Encode</code></a> for how to decode an UTF8 byte string into a Perl string"}, {"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1468226167, "post_id": 38302377, "comment_id": 64021390, "body": "Try <code>print &quot;\\xe2\\x82\\xac&quot;</code>. I believe the braced version specifies the codepoint, not an exact bytestring."}, {"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "edited": false, "score": 0, "creation_date": 1468226329, "post_id": 38302377, "comment_id": 64021494, "body": "That gives me: &quot;&#226;&#172;&quot;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1468226368, "post_id": 38302377, "comment_id": 64021518, "body": "<code>use utf-8</code> turns on utf-8 in the source, i.e. you can write <code>print &quot;I owe you 160\u20ac\\n&quot;</code> (you need to save the script as UTF-8)."}, {"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "edited": false, "score": 0, "creation_date": 1468226473, "post_id": 38302377, "comment_id": 64021587, "body": "I know about putting utf-8 in the source.  And if I put the &quot;\u20ac&quot; in the source, it gets encoded as 0xe282ac, so perhaps I am not understanding how \\x{} works in strings??"}, {"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1468226691, "post_id": 38302377, "comment_id": 64021711, "body": "<code>\\x{...}</code> specifies a Unicode codepoint, not a bytestring. The codepoint for the Euro symbol is <a href=\"http://www.fileformat.info/info/unicode/char/20ac/index.htm\" rel=\"nofollow noreferrer\">U+20AC</a>."}, {"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "edited": false, "score": 0, "creation_date": 1468226973, "post_id": 38302377, "comment_id": 64021872, "body": "Ah, finally managed to find the docs for \\x in perl strings (Google doesn&#39;t do such a good job searching for things like &#39;\\x&#39;)  and you are right about \\x{}...  but why isn&#39;t the \\xe2\\x82\\xac working?"}, {"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "edited": false, "score": 0, "creation_date": 1468227078, "post_id": 38302377, "comment_id": 64021927, "body": "And editing the question with your info."}, {"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1468227251, "post_id": 38302377, "comment_id": 64022025, "body": "I suspect whatever you are using to read the output is decoding the output to an ANSI codepage, rather than decoding it as UTF-8. <code>\\xe2\\x82\\xac</code> in the <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-1#Codepage_layout\" rel=\"nofollow noreferrer\">ISO-8859-1 codepage</a> is <code>&#226;&#172;</code>."}, {"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "edited": false, "score": 0, "creation_date": 1468227687, "post_id": 38302377, "comment_id": 64022302, "body": "If I redirect to a file, I can see that it&#39;s encoding the first Euro symbol as expected, 0xe282ac, but the second is becoming 0xc3a2c20x82c2ac, so somehow it&#39;s getting garbled, as if it&#39;s being encoded twice."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468245444, "post_id": 38302377, "comment_id": 64034275, "body": "<code>&quot;\\x{20ac}&quot;</code> produces a one-character string, while <code>&quot;\\xe2\\x82\\xac&quot;</code> produces a three-character string. Of course they&#39;re not equivalent!!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1468245577, "post_id": 38302377, "comment_id": 64034383, "body": "@Phylogenesis, That&#39;s not the issue. Perl is printing U+000E2, U+00082 and U+000AC as requested. It has nothing to do with ANSI, code page or ISO-8859-1."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 2, "creation_date": 1468245763, "post_id": 38302377, "comment_id": 64034527, "body": "@Phylogenesis, Re &quot;<i>I believe the braced version specifies the codepoint, not an exact bytestring.</i>&quot;, There is no difference between the braced version and the non-braced version. <code>&quot;\\xe2&quot;</code> is 100% equivalent to <code>&quot;\\x{e2}&quot;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "edited": false, "score": 0, "creation_date": 1468265553, "post_id": 38303894, "comment_id": 64045980, "body": "All the answers are good, but this one helped me finally realize all that was happening here.  Hallelujah."}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 5, "last_activity_date": 1468233943, "last_edit_date": 1468233943, "creation_date": 1468230590, "answer_id": 38303894, "question_id": 38302377, "link": "https://stackoverflow.com/questions/38302377/perl-binmode-of-utf-8-is-only-working-with-xcodepoint-and-not-x-encoding-for/38303894#38303894", "title": "perl binmode of utf-8 is only working with \\x{codepoint} and not \\x encoding for three byte encoding", "body": "<p>If you want a string that consists of the three bytes <code>E2 82 AC</code>, you can declare it like this:</p>\n\n<pre><code>my $bytes = \"\\xE2\\x82\\xAC\";\n</code></pre>\n\n<p>The <code>\\xXX</code> form in a double quoted string uses two hex digits (and always two) to represent one byte.</p>\n\n<p>The string above contains 3 bytes.  If we pass the string to the <code>length</code> function it will return 3:</p>\n\n<pre><code>say 'Length of $bytes is: ' . length($bytes);    # 3\n</code></pre>\n\n<p>Perl has no way of knowing whether those three bytes are intended to represent the Euro symbol.  They could equally be a three byte sequence from inside a JPEG file, or a ZIP file, or an SSL-encoded TCP data stream traversing a network.  Perl doesn't know or care - it's just three bytes.</p>\n\n<p>If you actually want a string of characters (rather than bytes) then you need to provide the character data in a way that allows Perl to use its internal representation of Unicode characters to store them in memory.  One way is to provide the non-ASCII characters in UTF8 form in the source code.  If you're doing this you'll need to say <code>use utf8</code> at the top of your script to tell the Perl interpreter to treat non-ASCII string literals as utf8:</p>\n\n<pre><code>use utf8;\n\nmy $euro_1 = \"\u20ac\";\n</code></pre>\n\n<p>Alternatively you can use the form \\x{X...} with 1-5 hex characters representing the Unicode codepoint number.  This will declare an identical string:</p>\n\n<pre><code>my $euro_2 = \"\\x{20ac}\";\n</code></pre>\n\n<p>Each of these strings contains a multi-byte representation of the euro character in Perl's internal encoding.  Perl knows the strings are character strings so the <code>length</code> function will return 1 (for 1 character) in each case:</p>\n\n<pre><code>say 'Length of $euro_1 is: ' . length($euro_1);    # 1\nsay 'Length of $euro_2 is: ' . length($euro_2);    # 1\n</code></pre>\n\n<p>The defining feature of Perl's internal representation of character strings is that it is for use <em>inside</em> Perl.  If you want to write the data out to a file or a socket, you'll need to encode the character string to a sequence of bytes:</p>\n\n<pre><code>use Encode qw(encode);\n\nsay encode('UTF-8', $euro_1);\n</code></pre>\n\n<p>It's also possible to use <code>binmode</code> or an argument to <code>open</code> to say that any string written to a particular filehandle should be encoded to a specific encoding.</p>\n\n<pre><code>binmode(STDOUT, ':encoding(utf-8)');\n\nsay $euro_1;\n</code></pre>\n\n<p>This will only work correctly for character strings.  If we took our original 3-byte string <code>$bytes</code> and used either <code>encode</code> or IO layers, we would end up with garbage, because Perl would take each byte and convert it to UTF8.  So <code>\\xE2</code> would be output as <code>\\xC3\\xA2</code>, <code>\\x82</code> would be output as <code>\\xC2\\x82</code> and so on.</p>\n\n<p>However, we can use the <code>Encode::Decode</code> function to convert the 3-byte $bytes string into a single character string in Perl's internal character representation:</p>\n\n<pre><code>use Encode qw(decode);\n\nmy $bytes = \"\\xE2\\x82\\xAC\";\nmy $euro_3 = decode($bytes);\n\nsay 'Length of $euro_3 is ' . length($euro_3);    # 1\n</code></pre>\n\n<p>One minor nitpick: In your original question you stated that <code>20AC</code> is <em>the</em> UTF-16 representation of the euro symbol.  In fact there are two different UTF-16 representations: UTF16BE and UTF16LE, with the latter using the opposite order: <code>AC20</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1468232007, "last_edit_date": 1468232007, "creation_date": 1468231241, "answer_id": 38304099, "question_id": 38302377, "link": "https://stackoverflow.com/questions/38302377/perl-binmode-of-utf-8-is-only-working-with-xcodepoint-and-not-x-encoding-for/38304099#38304099", "title": "perl binmode of utf-8 is only working with \\x{codepoint} and not \\x encoding for three byte encoding", "body": "<p></p>\n\n<p>As the <a href=\"http://www.fileformat.info/info/unicode/char/20ac/index.htm\" rel=\"nofollow\">fileformat.info</a> page that you link to described, the Unicode EURO SIGN character is at code point 20AC and may be referred to as <code>U+20AC</code>. In UTF-8 that is encoded as the three bytes 0xE2 0x82 0xAC</p>\n\n<p>To add the Unicode character to a string, you may write</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"I owe you \\x{20ac}160\\n\"\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"I owe you \\N{EURO SIGN}160\\n\"\n</code></pre>\n\n<p>or </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"I owe you \\N{U+20AC}160\\n\"\n</code></pre>\n\n<p>or, if you <code>use utf8</code> at the top of your program, you may add the literal character with the same effect</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"I owe you \u20ac160\\n\"\n</code></pre>\n\n<p>each of these will add a <em>single character</em> to the string with the required code point</p>\n\n<p>If you use</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"I owe you 80\\xe2\\x82\\xac\\n\"\n</code></pre>\n\n<p>then you have created a string with three characters which correspond to the UTF-8-encoded EURO SIGN character, which is a very different thing. You may use <code>decode_utf8</code> from the <a href=\"https://metacpan.org/pod/Encode\" rel=\"nofollow\"><code>Encode</code></a> module to convert those bytes to a single character, but otherwise you have a UTF-8-encoded string, which is a different thing from a character string</p>\n\n<p>Here's an example program</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse open qw/ :std :encoding(UTF-8) /;\n\nuse Encode qw/ decode_utf8 :fallbacks /;\n\nfor my $s (\n        \"I owe you \\x{20ac}160\\n\",\n        \"I owe you \\N{EURO SIGN}160\\n\",\n        \"I owe you \\N{U+20AC}160\\n\",\n        do { use utf8; \"I owe you \u20ac160\\n\" },\n        decode_utf8(my $ss = \"I owe you \\xe2\\x82\\xac160\\n\") ) {\n\n    print $s;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>I owe you \u20ac160\nI owe you \u20ac160\nI owe you \u20ac160\nI owe you \u20ac160\nI owe you \u20ac160\n</code></pre>\n\n<p>Note that there is no need for <code>use utf8</code> unless you are using non-ASCII characters in the source code, such as <code>\u20ac</code>. You may access characters by their Unicode names (which are always in ASCII) as shown above</p>\n\n<blockquote>\n  <p>If I redirect to a file, I can see that it's encoding the first Euro symbol as expected, 0xe282ac, but the second is becoming 0xc3a2c20x82c2ac, so somehow it's getting garbled, as if it's being encoded twice.</p>\n</blockquote>\n\n<p>It <em>is</em> being encoded twice. You encode the character yourself the first time by supplying the UTF-8-encoding \"\\xe2\\x82\\xac\" for the character, and the <code>binmode</code> on your output file handle encodes each of those characters a second time, giving <code>C3 A2</code> for <code>E2</code>, <code>C2 82</code> for <code>82</code> and <code>C2 AC</code> for <code>AC</code></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1468255532, "last_edit_date": 1468255532, "creation_date": 1468246382, "answer_id": 38309155, "question_id": 38302377, "link": "https://stackoverflow.com/questions/38302377/perl-binmode-of-utf-8-is-only-working-with-xcodepoint-and-not-x-encoding-for/38309155#38309155", "title": "perl binmode of utf-8 is only working with \\x{codepoint} and not \\x encoding for three byte encoding", "body": "<p>You are building two different strings, so getting different results shouldn't be surprising.</p>\n\n<p>You are performing what is called \"double-encoding\". You had a string that was already encoded using UTF-8, and you asked Perl (using <code>binmode</code> and <code>print</code>)  to encode it a second time. That was a bug on your part.</p>\n\n<hr>\n\n<p>The string literal <code>\"\\x{20ac}\"</code> produces a one-character string (<code>0x20ac</code>).</p>\n\n<pre><code>$ perl -E'say length(\"\\x{20ac}\")'\n1\n</code></pre>\n\n<p>When you print it to a handle with the <code>:utf8</code> handle, you are instructing Perl to treat those characters as Unicode Code Points and encode them using UTF-8.</p>\n\n<p>As requested, Perl prints the following encoded using UTF-8:<br>\nU+020AC EURO SIGN (\u20ac).</p>\n\n<pre><code>$ perl -E'binmode STDOUT, \":utf8\"; print \"\\x{20ac}\"' | od -t x1\n0000000 e2 82 ac\n0000003\n\n$ perl -E'binmode STDOUT, \":utf8\"; say \"\\x{20ac}\"'\n\u20ac\n</code></pre>\n\n<hr>\n\n<p>The string literal <code>\"\\xe2\\x82\\xac\"</code> produces a three-character string (<code>0xe2, 0x82, 0xac</code>).</p>\n\n<pre><code>$ perl -E'say length(\"\\xe2\\x82\\xac\")'\n3\n</code></pre>\n\n<p>(<code>\"\\xe2\\x82\\xac\"</code> is the same thing as <code>\"\\x{e2}\\x{82}\\x{ac}\"</code>.)</p>\n\n<p>When you print it to a handle with the <code>:utf8</code> handle, you are instructing Perl to treat those characters as Unicode Code Points and encode them using UTF-8.</p>\n\n<p>As requested, Perl prints the following encoded using UTF-8:<br>\nU+000E2 LATIN SMALL LETTER A WITH CIRCUMFLEX (\u00e2),<br>\nU+00082 BREAK PERMITTED HERE and<br>\nU+000AC NOT SIGN (\u00ac).</p>\n\n<pre><code>$ perl -E'binmode STDOUT, \":utf8\"; print \"\\xe2\\x82\\xac\"' | od -t x1\n0000000 c3 a2 c2 82 c2 ac\n0000006\n\n$ perl -E'binmode STDOUT, \":utf8\"; say \"\\xe2\\x82\\xac\"'\n\u00e2\ufffd\u00ac\n</code></pre>\n"}], "owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1411, "favorite_count": 0, "accepted_answer_id": 38303894, "answer_count": 3, "score": 0, "last_activity_date": 1468255532, "creation_date": 1468225744, "last_edit_date": 1468246657, "question_id": 38302377, "link": "https://stackoverflow.com/questions/38302377/perl-binmode-of-utf-8-is-only-working-with-xcodepoint-and-not-x-encoding-for", "title": "perl binmode of utf-8 is only working with \\x{codepoint} and not \\x encoding for three byte encoding", "body": "<p>The <a href=\"http://www.fileformat.info/info/unicode/char/20ac/index.htm\" rel=\"nofollow\">Euro character</a> is 0xe282ac in UTF-8</p>\n\n<p>I'm trying to use a string in perl with the UTF-8 character output to STDOUT.</p>\n\n<p>So I set my script to be in UTF-8 with <a href=\"http://perldoc.perl.org/5.8.8/perlunicode.html\" rel=\"nofollow\">'use utf8;'</a></p>\n\n<p>And I set up my STDOUT to be in UTF-8 with <a href=\"http://perldoc.perl.org/functions/binmode.html\" rel=\"nofollow\">'binmode'</a>.</p>\n\n<p>An example script is:</p>\n\n<pre><code>use utf8;\nbinmode STDOUT, ':utf8';\nprint \"I owe you 160\\x{20ac}\\n\";\nprint \"I owe you 80\\xe2\\x82\\xac\\n\";  # UTF-8 encoding?\n</code></pre>\n\n<p>The \\x{codepoint} works fine, but encoding the UTF-8 gives me an error:</p>\n\n<pre><code>I owe you 160\u20ac\nI owe you 80\u00e2\u00ac\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1468224715, "post_id": 38301331, "comment_id": 64020597, "body": "Just install a newer Module::Build. No need to install a new version of Perl to do that. In fact, Module::Build doesn&#39;t even come with Perl anymore."}], "answers": [{"tags": [], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "is_accepted": true, "score": 1, "last_activity_date": 1468242619, "last_edit_date": 1468242619, "creation_date": 1468238384, "answer_id": 38306407, "question_id": 38301331, "link": "https://stackoverflow.com/questions/38301331/installing-a-library-perlcritic-requiring-a-newer-modulebuild/38306407#38306407", "title": "Installing a library (Perl::Critic) requiring a newer Module::Build", "body": "<blockquote>\n  <p>Can you guys help me if there is another way around to solve my\n  problem. Except for installing a new Perl.</p>\n  \n  <p>Note: The only way we could install new libs/modules externally(not at\n  the perl compiler itself) is only by offline installation.</p>\n</blockquote>\n\n<p>You can download the module and it's dependencies and install them manually, without having to install a new version of Perl.</p>\n\n<p>You could also create a <a href=\"https://metacpan.org/pod/distribution/CPAN-Mini/bin/minicpan\" rel=\"nofollow\">minicpan</a> which you can then use off line, and install modules via <a href=\"https://metacpan.org/pod/distribution/Menlo/script/cpanm-menlo\" rel=\"nofollow\">cpanm</a>/<a href=\"https://metacpan.org/pod/distribution/CPAN/scripts/cpan\" rel=\"nofollow\">cpan</a> in the usual manner:</p>\n\n<pre><code>cpanm Perl::Critic\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 2430630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac5c9d08b2f40ec2b6068f77c384b59b?s=128&d=identicon&r=PG", "display_name": "Digimon Digitizer 2", "link": "https://stackoverflow.com/users/2430630/digimon-digitizer-2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "accepted_answer_id": 38306407, "answer_count": 1, "score": 0, "last_activity_date": 1468242619, "creation_date": 1468221988, "last_edit_date": 1468224888, "question_id": 38301331, "link": "https://stackoverflow.com/questions/38301331/installing-a-library-perlcritic-requiring-a-newer-modulebuild", "title": "Installing a library (Perl::Critic) requiring a newer Module::Build", "body": "<p>Hoes does one install a library (Perl::Critic) if the installed Module::Build is older than the version the library requires? (Perl::Critic requires Module::Build instead of ExtUtils::MakeMaker)</p>\n\n<p>I can't update the current perl because the perl we are using is for production. Thus we can't update it at the perl compiler itself because there is a risk.</p>\n\n<p>The current perl compiler has a 0.3 version of the Module::Build. And the Perl::Critic module requires a 0.42 version.</p>\n\n<p>Can you guys help me if there is another way around to solve my problem. Except for installing a new Perl. </p>\n\n<p>Note: The only way we could install new libs/modules externally(not at the perl compiler itself) is only by offline installation.</p>\n"}, {"tags": ["perl", "encoding", "utf-8", "iso-8859-1"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1468130155, "post_id": 38288843, "comment_id": 63996191, "body": "If the file contains a mixture of Latin-1 and UTF8 (and perhaps even some CP1252) then I&#39;d recommend you try <a href=\"https://metacpan.org/pod/Encoding::FixLatin\" rel=\"nofollow noreferrer\">Encoding::FixLatin</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1468142475, "post_id": 38288843, "comment_id": 63998458, "body": "Always use <code>use strict; use warnings &#39;all&#39;;</code>!!! If you had, your code would have produced the telltale <code>Use of uninitialized value $_ in pattern match (m&#47;&#47;) at a.pl line 3.</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1468155957, "post_id": 38288843, "comment_id": 64001518, "body": "@GrantMcLean: Perhaps you should say that it&#39;s your own module?"}, {"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "edited": false, "score": 0, "creation_date": 1468181441, "post_id": 38288843, "comment_id": 64008929, "body": "For shame (misssing the &#39;qw&#39;) - I&#39;ve updated the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468230077, "post_id": 38288843, "comment_id": 64023901, "body": "@DavidLjungMadison: What remains unanswered by my solution below?"}, {"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468267007, "post_id": 38288843, "comment_id": 64046754, "body": "@Borodin, mostly just me being asleep.  :)  I&#39;ve also edited the question to fix the typo - I never saw the warning because I didn&#39;t have warnings on - regardless, the top of your answer refers to the pre-edited question.  :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468275317, "post_id": 38288843, "comment_id": 64050431, "body": "Was the typo in your actual code, or just in the question? If it was in your actual code, you shouldn&#39;t edit the question to get rid of the typo, since that invalidates Jim Garrison&#39;s answer and part of Borodin&#39;s. It also makes things confusing for future visitors; right now both answers refer to a typo that&#39;s not in the question."}, {"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468398777, "post_id": 38288843, "comment_id": 64106129, "body": "@ThisSuitIsBlackNot, I hear what you are saying, but I&#39;ve pointed out to them that the answer could be edited.  Normally I would keep the error in if that was what the question was about, but it wasn&#39;t, and I think the lesson about unicode encoding is <i>far</i> more important than a silly typo."}], "answers": [{"comments": [{"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "edited": false, "score": 0, "creation_date": 1468181457, "post_id": 38288900, "comment_id": 64008933, "body": "Thanks for catching that embarassing typo - I&#39;ve updated the question."}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": false, "score": 4, "last_activity_date": 1468128633, "creation_date": 1468128633, "answer_id": 38288900, "question_id": 38288843, "link": "https://stackoverflow.com/questions/38288843/perl-encodeguess-doesnt-know-about-simple-iso-8859-1-latin1-characters/38288900#38288900", "title": "Perl Encode::Guess doesn&#39;t know about simple ISO-8859-1/latin1 characters?", "body": "<p>This line</p>\n\n<pre><code>my $enc = guess_encoding($data,/latin1 utf8 ascii/);\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>my $enc = guess_encoding($data,qw/latin1 utf8 ascii/);\n                               ^^\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "edited": false, "score": 0, "creation_date": 1468990953, "post_id": 38292003, "comment_id": 64348469, "body": "FixLatin makes a lot of sense, though I&#39;d rather not install new libraries to solve this.  The guess_encoding doesn&#39;t completely work when I read a file line-by-line with <code>binmode :utf8</code>.  On my system, perl Encode can&#39;t guess if a utf-8 encoding of &#233; (0xc3 0xa9) is actually utf-8 or latin1 for &#195;&#169;.  I guess that&#39;s one of the problems with guessing encoding, and probably where fix_latin is really helpful.  guess_encoding returns both utf-8 and latin1, and right now I think I can just go with guessing utf-8 in those cases and hope for the best."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1468156925, "last_edit_date": 1468156925, "creation_date": 1468154635, "answer_id": 38292003, "question_id": 38288843, "link": "https://stackoverflow.com/questions/38288843/perl-encodeguess-doesnt-know-about-simple-iso-8859-1-latin1-characters/38292003#38292003", "title": "Perl Encode::Guess doesn&#39;t know about simple ISO-8859-1/latin1 characters?", "body": "<p></p>\n\n<p>Your program is faulty. The parameter <code>/latin1 utf8 ascii/</code> is attempting to apply a regex pattern to the (undefined) variable <code>$_</code>. You will have seen a warning message</p>\n\n<blockquote>\n  <p>Use of uninitialized value $_ in pattern match (m//)</p>\n</blockquote>\n\n<p>which you really should have told us about</p>\n\n<p>Note that <code>use open \":encoding(Latin1)\"</code> is the same as applying <code>binmode $fh, \":encoding(Latin1)\"</code> to every file handle as you open it, and will attempt to decode the data as Latin1 as you read it. The result will be a string that uses Perl's internal encoding for what were Latin1 characters in the file. If some of it is UTF-8 then that would be disastrous. The UTF-8 encoding for the A-ring character is the two bytes <code>C3</code> <code>85</code> which, treated as Latin1, is A-tilde followed by an illegal character</p>\n\n<p>This should work for you</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Encode::Guess;\n\nfor my $data (\n        \"The name \\xC5sa is Swedish\\n\",\n        \"The name \\N{U+00C5}sa is Swedish\\n\" ) {\n\n    my $enc = guess_encoding($data, qw/ latin1 utf8 ascii /);\n    ref($enc) or die \"Can't guess: $enc\\nFOR: $data\";\n\n    say $enc-&gt;name;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>iso-8859-1\nutf8\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>I highly recommend Grant McLean's <a href=\"https://metacpan.org/pod/Encoding::FixLatin\" rel=\"nofollow\"><code>Encoding::FixLatin</code></a> module, which does everything that you need. It will also cover the case where both encodings are used in a single line</p>\n\n<p>This program processes a string encoded using <code>Latin1</code> and another using <code>UTF-8</code>. Both are printed without any problem after processing them using <code>fix_latin</code></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse open qw/ :std :encoding(UTF-8) /;\n\nuse Encoding::FixLatin 'fix_latin';\n\nfor my $data (\n        \"The name \\xC5sa is Swedish\\n\",\n        \"And so is Asbj\\N{U+00F6}rn\\n\" ) {\n\n    my $utf8 = fix_latin($data);\n    print $utf8;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>The name \u00c5sa is Swedish\nAnd so is Asbj\u00f6rn\n</code></pre>\n\n<p>It is probably best to read and process the entire file in one pass using this technique. There is no point in reading the file line-by-line unless it is enormous and would cause memory problems</p>\n"}], "owner": {"reputation": 2311, "user_id": 1795483, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDYbt.jpg?s=128&g=1", "display_name": "David Ljung Madison Stellar", "link": "https://stackoverflow.com/users/1795483/david-ljung-madison-stellar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 38292003, "answer_count": 2, "score": 1, "last_activity_date": 1468181420, "creation_date": 1468127891, "last_edit_date": 1468181420, "question_id": 38288843, "link": "https://stackoverflow.com/questions/38288843/perl-encodeguess-doesnt-know-about-simple-iso-8859-1-latin1-characters", "title": "Perl Encode::Guess doesn&#39;t know about simple ISO-8859-1/latin1 characters?", "body": "<p>I am trying to figure out the encoding of many inputted strings, some in UTF-8, some in ISO-8859-1.  Unfortunate.</p>\n\n<p>I am using Perl with <a href=\"https://metacpan.org/pod/Encode::Guess\" rel=\"nofollow\"><code>Encode::Guess</code></a>, and I'm surprised to see it can't handle a simple Latin1 encoding. I'm using the decode example from the Encode::Guess documentation.</p>\n\n<p>I've been reading in a file, but I can also hard code the string to get the same error:</p>\n\n<pre><code>use Encode::Guess;\n\nmy $data = \"The name \\xc5sa is Swedish\\n\";\nmy $enc = guess_encoding($data,qw/latin1 utf8 ascii/);\nref($enc) or die \"Can't guess: $enc\\nFOR: $data\";\n</code></pre>\n\n<p>And I get:</p>\n\n<pre><code>Can't guess: No appropriate encodings found!\nFOR: The name \ufffdsa is Swedish\n</code></pre>\n\n<p>Though in my editor, I am seeing \"\u00c5sa\" with the Aring as the first character.</p>\n\n<p>Is Perl predetermining the encoding because it's a string as opposed to a packed set of binary data, and that's what is breaking this?</p>\n\n<p>I tried <code>use open \":encoding(Latin1)\";</code> when I was reading from a file, and the error went away, but it guessed the encoding to be UTF-8. Regardless, the file mixes UTF-8 and Latin1 on a line-by-line basis, so I want to run <code>Encode::Guess</code> for each line.</p>\n\n<p>I also tried <code>binmode</code> on the file handle, and still saw the error.</p>\n"}, {"tags": ["perl", "memory-leaks"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 0, "creation_date": 1468113637, "post_id": 38287550, "comment_id": 63993783, "body": "In that question you linked to, you need to pay attention to the fact that PadWalker is for lexical variables, and there are other answers for package variables like <code>$Global::var</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468118774, "post_id": 38287550, "comment_id": 63994560, "body": "What is the <code>stdout</code> command?"}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1468119624, "post_id": 38287550, "comment_id": 63994675, "body": "stdout is simply a way of saying  <code>2&gt;&amp;1</code> without having to quote shell chars."}], "answers": [{"comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1468137548, "post_id": 38289639, "comment_id": 63997553, "body": "So was there a memory leak after all?"}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1468159084, "post_id": 38289639, "comment_id": 64002474, "body": "Under certain conditions: Yes. It will be fixed in next release."}], "tags": [], "owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "is_accepted": true, "score": 2, "last_activity_date": 1468135489, "creation_date": 1468135489, "answer_id": 38289639, "question_id": 38287550, "link": "https://stackoverflow.com/questions/38287550/perl-dump-all-live-data/38289639#38289639", "title": "Perl: Dump all live data", "body": "<p>This helped me identify the culprit:</p>\n\n<pre><code>use Devel::Symdump;\n\nmy $obj = Devel::Symdump-&gt;rnew();\nmy @sysout;\n\nfor my $v ($obj-&gt;scalars()) {\n    push @sysout, length(Dumper(eval ('$'.$v))).\" \\$$v\\n\";\n}\nfor my $v ($obj-&gt;arrays()) {\n    push @sysout, length(Dumper(eval ('@'.$v))).\" \\@$v\\n\";\n}\nfor my $v ($obj-&gt;hashes()) {\n    push @sysout, length(Dumper(eval ('%'.$v))).\" \\%$v\\n\";\n}\nprint sort { $b &lt;=&gt; $a } @sysout;\n</code></pre>\n"}], "owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 38289639, "answer_count": 1, "score": 2, "last_activity_date": 1468135489, "creation_date": 1468111021, "last_edit_date": 1495541686, "question_id": 38287550, "link": "https://stackoverflow.com/questions/38287550/perl-dump-all-live-data", "title": "Perl: Dump all live data", "body": "<p>I am trying to identify a possible memory leak in GNU Parallel which is written in perl.</p>\n\n<p>I can see the maximal memory usage (using <code>time -v</code>) increases linearly with the number of jobs, and is somewhat dependent on the length of the command:</p>\n\n<pre><code># Very long command line\n$ seq 10000 | time -v parallel true &lt;&lt;50000 x's here&gt;&gt; 2&gt;&amp;1 | grep --colour=auto --colour=auto 'Maximum resident set size'\nMaximum resident set size (kbytes): 20936\n\n# Short command line\n$ seq 10000 | time -v parallel true 2&gt;&amp;1 | grep --colour=auto --colour=auto 'Maximum resident set size'\nMaximum resident set size (kbytes): 18692\n\n# Few jobs - short argument\n$ seq 1000 | time -v parallel true  2&gt;&amp;1 | grep --colour=auto --colour=auto 'Maximum resident set size'\nMaximum resident set size (kbytes): 16224\n\n# Few jobs - long argument\n$ seq 1000| perl -pe '$a=\"x\"x50000;s/$/$a/' | time -v parallel true  2&gt;&amp;1 | grep --colour=auto --colour=auto 'Maximum resident set size'\nMaximum resident set size (kbytes): 18448\n</code></pre>\n\n<p>At 10000 jobs it is hardly a problem, but at 1000000 jobs it starts to be.</p>\n\n<p>How do I identify what is taking up the extra space? Can I dump all data that Perl think is live when GNU Parallel exits? I have the feeling that simply by going through the live data, I will know if there is a leak or if the extra memory usage can be explained. </p>\n\n<p>I have tried <a href=\"https://stackoverflow.com/questions/735386/what-s-the-best-way-to-discover-all-variables-a-perl-application-has-currently-d\">What\u2019s the best way to discover all variables a Perl application has currently defined?</a> but it does not find all variables, that I know exist; such as this example:</p>\n\n<pre><code>use Data::Dumper;\nuse PadWalker qw(peek_my);\n\n$Global::var = 17;\n\nmy $hash_ref = peek_my(0);\nprint Dumper($hash_ref);\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468112850, "post_id": 38287521, "comment_id": 63993644, "body": "Do you have a Module::Find installed?"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468112982, "post_id": 38287521, "comment_id": 63993671, "body": "Yes but I just figured out that it&#39;s trying to get the modules from the perl64/lib/ folder but the files aren&#39;t there. So I looked in C:\\strawberry\\perl\\site\\lib and they&#39;re in that folder. Do you have any idea how I can make it use that folder instead of the perl64?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468113059, "post_id": 38287521, "comment_id": 63993688, "body": "Sounds like you have two installations of Perl (one in <code>C:\\Perl64</code>, and one in <code>C:\\strawberry\\perl</code>). One has the module installed, and the other doesn&#39;t. Install it for the build you are using, or use the build that has it installed."}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468113153, "post_id": 38287521, "comment_id": 63993700, "body": "so how do I use the strawberry one?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1468113199, "post_id": 38287521, "comment_id": 63993707, "body": "Use <code>c:\\strawberry\\perl\\bin\\perl,exe</code> instead of <code>c:\\perl64\\bin\\perl.exe</code> to execute your program. (Guessing at the exact paths)"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468113562, "post_id": 38287521, "comment_id": 63993769, "body": "It seems like it worked when I deleted the perl64 folder"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468114013, "post_id": 38287521, "comment_id": 63993854, "body": "You probably have both in your <code>PATH</code>, with <code>c:\\perl64\\bin</code> appearing first."}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468363221, "post_id": 38287521, "comment_id": 64094351, "body": "Yea but I deleted those and that file so the issue is fixed."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468376256, "post_id": 38287521, "comment_id": 64097337, "body": "Technically, you just had to fix your <code>PATH</code> (which is still wrong)"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "edited": false, "score": 0, "creation_date": 1468276680, "post_id": 38297101, "comment_id": 64050859, "body": "I know how to use a computer but I just didn&#39;t realized that I had two versions of perl installed but thank you tho."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1468190754, "creation_date": 1468190754, "answer_id": 38297101, "question_id": 38287521, "link": "https://stackoverflow.com/questions/38287521/why-do-i-get-cant-locate-module-find-pm-in-inc/38297101#38297101", "title": "Why Do I get Can&#39;t locate Module/Find.pm in @INC", "body": "<p>This points out why it is important to understand a bit about using the computer one chooses to use. In this case, you have two Perl installations. In one, <code>perl.exe</code> lives in <code>c:\\perl64\\bin</code> (I am assuming that is <a href=\"http://www.activestate.com/activeperl\" rel=\"nofollow\">ActivePerl</a>). The other <code>perl.exe</code> lives in <code>c:\\strawberry\\perl\\bin</code>. It seems you managed to install (possibly via a <code>cpanm</code> that only appears in <code>c:\\strawberry\\perl\\bin</code>) <code>Module::Find</code> for <a href=\"http://strawberryperl.com/\" rel=\"nofollow\">Strawberry Perl</a>.</p>\n\n<p>Apparently, in your environment, <code>c:\\perl64\\bin</code> comes before <code>c:\\strawberry\\perl\\bin</code>. Therefore, your <code>perl Run.pm</code>, you invoke the <code>perl</code> in that directory. Each installation has a number of default places where it looks for modules (you can list those using <code>perl -V). ActiveState's</code>perl.exe` will not be looking for modules in Strawberry Perl's directories.</p>\n\n<p>It is possible to have multiple Perl installations co-exist peacefully in Windows, but it becomes more complicated than necessary due to the <a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2015/06/msg228353.html\" rel=\"nofollow\">shortcomings</a> of <a href=\"https://metacpan.org/source/RJBS/perl-5.24.0/win32/bin/pl2bat.pl\" rel=\"nofollow\">tools</a> that generate batch files that invoke installed Perl scripts. These tools just invoke <code>perl</code> as opposed to putting the full path to the <code>perl.exe</code> that was used to create the batch file.</p>\n\n<p>Until that becomes the default, the easiest way I have found of dealing with this situation is designating one Perl distro as my default, and using a number of batch file and symbolic link tricks to switch between that and others.</p>\n"}, {"comments": [{"owner": {"reputation": 556, "user_id": 14291243, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhLC5l_Wl9hz2ieOTfWXc3za3bspa6dAj1ug1oIYA=k-s128", "display_name": "Xenikh", "link": "https://stackoverflow.com/users/14291243/xenikh"}, "edited": false, "score": 0, "creation_date": 1616318529, "post_id": 66687823, "comment_id": 117959474, "body": "Please use proper text formatting and be specific."}], "tags": [], "owner": {"reputation": 1, "user_id": 8115881, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O70qDajaBjk/AAAAAAAAAAI/AAAAAAAABrM/kJWHNEAXlGY/photo.jpg?sz=128", "display_name": "Jophin P John", "link": "https://stackoverflow.com/users/8115881/jophin-p-john"}, "is_accepted": false, "score": -1, "last_activity_date": 1616058126, "creation_date": 1616058126, "answer_id": 66687823, "question_id": 38287521, "link": "https://stackoverflow.com/questions/38287521/why-do-i-get-cant-locate-module-find-pm-in-inc/66687823#66687823", "title": "Why Do I get Can&#39;t locate Module/Find.pm in @INC", "body": "<p>Go to CPAN command prompt (for perl C:\\Strawberry\\perl\\bin)</p>\n<p>cpan&gt; install </p>\n<p>or any  for example</p>\n<p>install Locale::Language</p>\n"}], "owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4251, "favorite_count": 1, "accepted_answer_id": 38297101, "answer_count": 2, "score": 1, "last_activity_date": 1616058126, "creation_date": 1468110755, "question_id": 38287521, "link": "https://stackoverflow.com/questions/38287521/why-do-i-get-cant-locate-module-find-pm-in-inc", "title": "Why Do I get Can&#39;t locate Module/Find.pm in @INC", "body": "<p>Ok so I've been trying to get this source up to work for my game but after I install all of the modules I receive this error in my terminal.</p>\n\n<pre><code>PS C:\\Users\\NAME\\desktop\\Luna&gt; perl Run.pm\nCan't locate Module/Find.pm in @INC (@INC contains: C:/Perl64/site/lib C:/Perl64/lib .) at Run.pm line 8.\nBEGIN failed--compilation aborted at Run.pm line 8.\n</code></pre>\n\n<p>I don't understand why i'm getting it </p>\n\n<p>and here is line 8</p>\n\n<pre><code>use Module::Find;\n</code></pre>\n\n<p>Does anyone know why this is happening?</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 2, "creation_date": 1468099087, "post_id": 38286443, "comment_id": 63991283, "body": "You could&#39;ve just googled it. <a href=\"https://en.wikipedia.org/wiki/Common_Gateway_Interface\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Common_Gateway_Interface</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1468236785, "post_id": 38286443, "comment_id": 64028133, "body": "By the way, where will you be &quot;starting some CGI scripts in September&quot;? That is not a sane way to write web applications in 2016. You should look at <a href=\"http://plackperl.org/\" rel=\"nofollow noreferrer\">PSGI/Plack</a> instead."}], "answers": [{"comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 3, "creation_date": 1468101480, "post_id": 38286652, "comment_id": 63991729, "body": "Actually, it has nothing to do with the clients.  It is an interface specification between the web <b><i>server</i></b> (i.e Apache, nginx, etc) and user programs that can be executed by and on the server to respond to requests from clients."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1468101736, "post_id": 38286652, "comment_id": 63991773, "body": "Yes, @JimGarrison, you are right. The clients aren&#39;t really involved in CGI (despite they initiate the request). I just wanted to make clear that CGI is not another language but show the overall context. I&#39;ll try to fix my answer."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1468102346, "post_id": 38286652, "comment_id": 63991884, "body": "@JimGarrison I updated my answer and dropped the reference to the clients. // btw: the question is a bit OT anyway but I didn&#39;t want to flag it as such. I think it does no harm to give the OP an idea what CGI is about."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 3, "last_activity_date": 1468101983, "last_edit_date": 1468101983, "creation_date": 1468100915, "answer_id": 38286652, "question_id": 38286443, "link": "https://stackoverflow.com/questions/38286443/is-cgi-script-a-separate-scripting-language/38286652#38286652", "title": "Is CGI script a separate scripting language?", "body": "<p>No. CGI ist not a language. It's merely an agreement on how webservers (e.g. Apache) and <em>\"programs\"</em> on the server interact. These <em>\"programs\"</em> may be written in any language you like, be it Perl, PHP, Python, or even C/C++.</p>\n\n<p>For example, when you call the URL <em>http://www.example.com/cgi-bin/myscript?parm1=X&amp;parm2=Y</em> then the webserver (Apache for that matter) executes the program \"myscript\" and somehow feeds the parameters \"parm1\" and \"parm2\" (together with their values X and Y) to that program. This might be as environment variables or as STDIN.</p>\n\n<p>CGI defines <em>how</em> the variables (amongst other things) are interchanged and <em>how</em> the program returns its results.</p>\n\n<p>The program itself may be written in any language you want, as long as Apache can execute it.</p>\n\n<p>Very often these CGI programs are actually scripts (as opposed to compiled binaries), thus the commonly used term \"cgi script\".</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1468105576, "creation_date": 1468105576, "answer_id": 38287094, "question_id": 38286443, "link": "https://stackoverflow.com/questions/38286443/is-cgi-script-a-separate-scripting-language/38287094#38287094", "title": "Is CGI script a separate scripting language?", "body": "<p><a href=\"https://en.wikipedia.org/wiki/Common_Gateway_Interface\">CGI</a> is not a programming language.</p>\n\n<p>CGI is a protocol used by web servers to delegate the handling of an HTTP request to a program that is executed for that express purpose. It allows for dynamically generated web pages.</p>\n\n<p>While Perl is a common choice, the program handling the request for the web server can be written in any language.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 4, "last_activity_date": 1468107005, "last_edit_date": 1592644375, "creation_date": 1468106587, "answer_id": 38287169, "question_id": 38286443, "link": "https://stackoverflow.com/questions/38286443/is-cgi-script-a-separate-scripting-language/38287169#38287169", "title": "Is CGI script a separate scripting language?", "body": "<p>As <a href=\"https://tools.ietf.org/html/rfc3875\" rel=\"nofollow noreferrer\">RFC 3875</a> explains:</p>\n<blockquote>\n<p>The Common Gateway Interface (CGI) is a simple interface for running external programs, software or gateways under an information server in a platform independent manner.  Currently, the supported information servers are HTTP servers.</p>\n<p>The interface has been in use by the World-Wide Web (WWW) since 1993.</p>\n</blockquote>\n<p>CGI programs can be implemented in any language, compiled or interpreted so long as they conform to the interface.</p>\n<p>There have been attempts at updating the CGI spec, first to <a href=\"https://tools.ietf.org/html/draft-robinson-www-interface-00\" rel=\"nofollow noreferrer\">1.1</a>, then to 1.2, but I believe both have been aborted. <a href=\"https://www.w3.org/CGI/\" rel=\"nofollow noreferrer\">W3C's CGI page</a> has some links of historical interest.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1468158552, "creation_date": 1468158552, "answer_id": 38292578, "question_id": 38286443, "link": "https://stackoverflow.com/questions/38286443/is-cgi-script-a-separate-scripting-language/38292578#38292578", "title": "Is CGI script a separate scripting language?", "body": "<p>One possible reason for the confusion is that in the second half of the 1990s, as CGI started to become very popular, Perl was the language that was probably most commonly used to write CGI programs. This meant that the two terms became inextricably linked in some people's minds.</p>\n\n<p>In fact I have heard people say that only Perl can be use to write CGI programs and that CGI programming is the only thing that Perl can be used for. Neither of these statements are true.</p>\n"}], "owner": {"reputation": 37, "user_id": 5499177, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cee5cbb3de4dfd50b30da8f0dfb0f489?s=128&d=identicon&r=PG&f=1", "display_name": "user5499177", "link": "https://stackoverflow.com/users/5499177/user5499177"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 38287094, "answer_count": 4, "score": 0, "last_activity_date": 1468158552, "creation_date": 1468099000, "question_id": 38286443, "link": "https://stackoverflow.com/questions/38286443/is-cgi-script-a-separate-scripting-language", "title": "Is CGI script a separate scripting language?", "body": "<p>I am new with scripting languages and we will be starting some CGI scripts in September. I am confused between CGI and Perl.</p>\n\n<p>Are they same, or these are two different languages?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1468091033, "post_id": 38284667, "comment_id": 63989128, "body": "What&#39;s the difference between example 2 and the <i>PS: Eventually I want example 1 to be <code>KEYWORD: blah</code></i> (except for &quot;apple&quot; vs. &quot;blah&quot;)?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1468092897, "post_id": 38284667, "comment_id": 63989660, "body": "I agree with @PerlDog, your final comment <i>&quot;PS Eventually I want example 1 to be KEYWORD: blah&quot;</i> is rather cryptic. Perhaps what you&#39;re looking for is <code>s&#47;.+(?=KEYWORD)&#47;&#47;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1468090999, "post_id": 38284817, "comment_id": 63989118, "body": "Since <code>^</code> and lookarounds are zero-width assertions, you can use a lookahead here: <code>&#47;(?!^)KEYWORD:&#47;</code> <i>(no need to put an x modifier, there aren&#39;t white-spaces nor comments)</i>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1468091376, "post_id": 38284817, "comment_id": 63989216, "body": "Once again, too much crammed into a single regex pattern. I so often see people write code where once a regex has been used at all, it must provide the intelligence for <i>all of the rest of the program</i>. You have Perl at your disposal and you want to check whether <code>$_</code> <i>contains</i> <code>KEYWORD</code> but doesn&#39;t start with it. So write that: <code>if ( &#47;KEYWORD&#47; and not &#47;^KEYWORD&#47; ) { ... }</code>. I would rather not stare at your <code>(?&lt;!^)</code> and wonder what it does. You even use the <code>&#47;x</code> modifier and could have written <code>(?&lt;!  ^  )</code> which would have helped"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1468092038, "post_id": 38284817, "comment_id": 63989407, "body": "@CasimiretHippolyte That&#39;s a nice alternative. I have to admit that these lookarounds are not as easy to read (and write) as Borodin&#39;s suggestion. // Yes, the /x is not necessary, I just copied it from the OP."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1468092303, "post_id": 38284817, "comment_id": 63989486, "body": "@CasimiretHippolyte: I would recommend the <code>&#47;x</code> modifier, and that the opportunity is taken to expand <code>(?&lt;!^)</code> or <code>(?!^) </code>which are otherwise just strings of punctuation. The point is that there <i>should be</i> whitespace layout and there is none"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468096649, "post_id": 38284817, "comment_id": 63990717, "body": "@Borodin I just updated my answer and made heavy use of the <code>&#47;x</code> modifier. Thank you for your proposal."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 3, "last_activity_date": 1468096269, "last_edit_date": 1468096269, "creation_date": 1468087762, "answer_id": 38284817, "question_id": 38284667, "link": "https://stackoverflow.com/questions/38284667/perl-regex-look-for-keyword-which-are-not-starting-with/38284817#38284817", "title": "Perl regex: look for keyword which are not starting with", "body": "<p>You are looking for a <em><a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">negative lookbehind assertion</a></em>, i.e. for 'KEYWORD' that is <em>not</em> preceeded by a certain string (in your case the start-of-line marker <code>^</code>):</p>\n\n<pre><code>if ($line =~/(?&lt;!^)KEYWORD:/x) {\n    # found KEYWORD in '$line', but not at the beginning\n    print $line, \"\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>hello this is me. KEYWORD: blah\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong> As stated in the comments, the <code>/x</code> modifier isn't necessary in my first regex but can be used to make the pattern more readable. It allows for whitespace (including newlines) and/or comments in the pattern to improve readability. The downside is that every blank/space character in the actual pattern has to be escaped (to distinguish it from the comments) but we don't have these here. The pattern can thus be re-written as follows (the result is the same):</p>\n\n<pre><code>if ($line =~ / (?&lt;!       # huh? (?) ahh, look left (&lt;) for something\n                          # NOT (!) appearing on the left.\n                ^)        # oh, ok, I got it, there must be no '^' on the left\n                KEYWORD:  # but the string 'KEYWORD:' should come then\n             /x ) {\n    # found KEYWORD in '$line', but not at the beginning\n    print $line, \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1468088538, "post_id": 38284901, "comment_id": 63988422, "body": "Very nice! I never think of <code>index()</code> but for simple cases (like this one) it is better, easier to read, and faster if that&#39;s an issue here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468090855, "post_id": 38284901, "comment_id": 63989087, "body": "If anyone thinks that <code>index($line, &#39;KEYWORD&#39;) &gt; 0</code> is easier to read than something like <code>$line =~ &#47;KEYWORD&#47; and $-[0] &gt; 0</code> or my own solution then yeah, I guess, go ahead and use it. But please think of all the people following you who will have to read up on <code>index</code> to discover what your call is trying to do. And <code>index</code> is <i>not</i> faster than the equivalent regex match."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1468092332, "post_id": 38284901, "comment_id": 63989495, "body": "About the speed : you&#39;re right, it&#39;s not faster. But about the use of <code>index</code>, it&#39;s a standard Perl function, and people reading my code should know Perl, including <code>index</code>. About the readability, even your answer is confusing at first because it looks like you try to match <code>KEYWORD</code> but not <code>KEYWORD</code>... So I don&#39;t think there is a perfect answer, and any of PerlDog&#39;s/yours/mine look fine to me."}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": true, "score": 4, "last_activity_date": 1468088878, "last_edit_date": 1495535348, "creation_date": 1468088377, "answer_id": 38284901, "question_id": 38284667, "link": "https://stackoverflow.com/questions/38284667/perl-regex-look-for-keyword-which-are-not-starting-with/38284901#38284901", "title": "Perl regex: look for keyword which are not starting with", "body": "<p>If you are just looking for a keyword, you should be using <code>index</code> and not a regex :  </p>\n\n<pre><code>if (index($line, 'KEYWORD') &gt; 0) {\n    # do something\n}\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/\" rel=\"nofollow noreferrer\">the documentation</a> : <code>index STR, SUBSTR</code> returns <code>-1</code> if <code>SUBSTR</code> isn't found in <code>STR</code>, otherwise it return the index of <code>SUBSTR</code> in <code>STR</code> (starting at 0).  </p>\n\n<p>If you want to look for a more complex pattern than a simple keyword, then you should do as <a href=\"https://stackoverflow.com/questions/38284667/perl-regex-look-for-keyword-which-are-not-starting-with/38284817#38284817\">@Perl Dog</a> said in his answer.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1468090560, "creation_date": 1468090560, "answer_id": 38285247, "question_id": 38284667, "link": "https://stackoverflow.com/questions/38284667/perl-regex-look-for-keyword-which-are-not-starting-with/38285247#38285247", "title": "Perl regex: look for keyword which are not starting with", "body": "<p>I think you need to give better, real examples</p>\n\n<p>On the face of it, all you need is</p>\n\n<pre><code>if ( /KEYWORD/ and not /^KEYWORD/ ) {\n     ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 6547823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuDy7.jpg?s=128&g=1", "display_name": "Avikd", "link": "https://stackoverflow.com/users/6547823/avikd"}, "is_accepted": false, "score": 1, "last_activity_date": 1468093862, "creation_date": 1468093862, "answer_id": 38285770, "question_id": 38284667, "link": "https://stackoverflow.com/questions/38284667/perl-regex-look-for-keyword-which-are-not-starting-with/38285770#38285770", "title": "Perl regex: look for keyword which are not starting with", "body": "<p>Another simple regex</p>\n\n<pre><code>print if /^.+KEYWORD/;\n</code></pre>\n\n<p>match</p>\n\n<pre><code>hello this is me. KEYWORD: blah\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1468108445, "creation_date": 1468108445, "answer_id": 38287324, "question_id": 38284667, "link": "https://stackoverflow.com/questions/38284667/perl-regex-look-for-keyword-which-are-not-starting-with/38287324#38287324", "title": "Perl regex: look for keyword which are not starting with", "body": "<p>The answer is actually quite simple!</p>\n\n<pre><code>/.KEYWORD/    # Not at the start of a line\n/.KEYWORD/s   # Not at the start of the string\n</code></pre>\n\n<p>By the way, you might want to add <code>\\b</code> before <code>KEYWORD</code> to avoid matching <code>NOTTHEKEYWORD</code>.</p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 38284901, "answer_count": 5, "score": 0, "last_activity_date": 1468108445, "creation_date": 1468086808, "question_id": 38284667, "link": "https://stackoverflow.com/questions/38284667/perl-regex-look-for-keyword-which-are-not-starting-with", "title": "Perl regex: look for keyword which are not starting with", "body": "<p>Example 1: <code>\"hello this is me. KEYWORD: blah\"</code><br>\nExample 2: <code>\"KEYWORD: apple\"</code></p>\n\n<p>I just want to be able to catch <code>KEYWORD</code> in example 1, not 2 since in 2, it starts with <code>KEYWORD</code></p>\n\n<pre><code>if ($line =~/KEYWORD:/x) {\n    # do something\n}\n</code></pre>\n\n<p>The above code catch both examples. How can I change regex so that it only catches <code>KEYWORD</code> in example 1?</p>\n\n<p>PS Eventually I want example 1 to be <code>KEYWORD: blah</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 66485, "user_id": 934239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6278534f82406052d8aac1da327b84c?s=128&d=identicon&r=PG", "display_name": "Xan", "link": "https://stackoverflow.com/users/934239/xan"}, "edited": false, "score": 4, "creation_date": 1468067597, "post_id": 38279924, "comment_id": 63982368, "body": "To clarify why this question was closed: we shouldn&#39;t be trying to guess what the &quot;mistake&quot; is. We have no idea what this code is supposed to do in the first place. What you should clearly present in the question, <i>besides</i> the code in question, is 1) what you expect the code to do, 2) what are the exact errors, if any, 3) what makes the result wrong, if any."}], "answers": [{"comments": [{"owner": {"reputation": 1808, "user_id": 5397845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-h5AyAVbZoqI/AAAAAAAAAAI/AAAAAAAAALA/pyUGY5qhrl4/photo.jpg?sz=128", "display_name": "Swadhikar", "link": "https://stackoverflow.com/users/5397845/swadhikar"}, "edited": false, "score": 1, "creation_date": 1468056686, "post_id": 38280142, "comment_id": 63979301, "body": "Well.. I Liked the clean and tidy representation..! Thanks for sharing."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 7, "last_activity_date": 1468055390, "last_edit_date": 1468055390, "creation_date": 1468055015, "answer_id": 38280142, "question_id": 38279924, "link": "https://stackoverflow.com/questions/38279924/find-coding-mistake/38280142#38280142", "title": "Find coding mistake", "body": "<p>You are attempting to write perl using C constructs.</p>\n\n<ol>\n<li>Use <code>strict</code> and <code>warnings</code> to help you catch common mistakes.</li>\n<li>Remove C construct <code>int argc, char *argv[]</code>.</li>\n<li>Remove C construct <code>int $i=0;$i&lt;32;++$i</code>, you can write C-style loops in perl, but it is not very perlish.</li>\n<li>Break long complex expressions into parts so you can debug the parts easily.</li>\n<li><code>main unless caller</code> is an odd construction.  If you intend to use this as a library, do not call your function <code>main</code>, and read up on <code>perldoc perlmod</code>.</li>\n<li>One-letter variables are usually terrible and should be better renamed.</li>\n<li>Using magic numbers in your code is error-prone, there is no way of knowing if they are correct.</li>\n<li>There are further improvements which can be made, including moving the split statements outside of the loop.</li>\n</ol>\n\n<p>Rewriting your code, I get the following:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmain();\n\nsub main {\n    my $j = '@b(defgh|jk3m#9pqr$+uvwxy2';\n    for my $i ( 0 .. 31 ) {\n        my @characters = grep { /\\S/ } split /\\W|/, $j;\n\n        my ($first_mod)  = (split//,$j)[11];\n        my $first_index  = $i % $first_mod;\n\n        my ($second_mod) = (split//,$j)[25];\n        my $second_index = $i % $second_mod * $i % 19;\n\n        print $characters[ $first_index + $second_index ];\n    }\n    print \"\\n\";\n    return 0;\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>beefdkb3emdrbuevd2bdeedjbke3dqbr\n</code></pre>\n\n<p><strong>Further Reading</strong></p>\n\n<p><a href=\"http://perldoc.perl.org/perlintro.html\" rel=\"noreferrer\">perldoc perlintro</a></p>\n\n<p><a href=\"http://perldoc.perl.org/perltrap.html#C%2FC%2B%2B-Traps\" rel=\"noreferrer\">perldoc perltrap C/C++ traps</a></p>\n"}], "owner": {"reputation": 159, "user_id": 6567926, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I1UaT-Su1Os/AAAAAAAAAAI/AAAAAAAAAL8/eOWHlSIvMMc/photo.jpg?sz=128", "display_name": "Jasur Shukurov", "link": "https://stackoverflow.com/users/6567926/jasur-shukurov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "closed_date": 1468056704, "accepted_answer_id": 38280142, "answer_count": 1, "score": -3, "last_activity_date": 1468065705, "creation_date": 1468053006, "last_edit_date": 1468065705, "question_id": 38279924, "link": "https://stackoverflow.com/questions/38279924/find-coding-mistake", "closed_reason": "Not suitable for this site", "title": "Find coding mistake", "body": "<pre><code>sub main(int argc, char *argv[]) {\n\n    my $j = '@b(defgh|jk3m#9pqr$+uvwxy2';\n\n    for ( int $i = 0; $i &lt; 32; ++$i ) {\n        print (grep {/\\S/} split('\\W|', $j))[$i % (split('', $j))[11] + $i % (split('',$j))[25] * $i % 19];\n    }\n\n    print \"\\n\";\n\n    return 0;\n}\n\nmain() unless caller;\n</code></pre>\n\n<p>Where is my mistake? I can't find it. but I know that it's probably inside the <code>for</code> loop</p>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1468029902, "post_id": 38276714, "comment_id": 63974238, "body": "In list context, <code>&lt;&gt;</code> reads until EOF (returning each line read as a separate string). The second use of <code>&lt;&gt;</code> returns nothing since the first already read to the EOF. if you want to pass the values returned by the first use of <code>&lt;&gt;</code> to two different subs, you&#39;ll need to store them somewhere."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1468029982, "post_id": 38276714, "comment_id": 63974251, "body": "Tip: Always use <code>use strict; use warnings &#39;all&#39;;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1468030042, "post_id": 38276714, "comment_id": 63974263, "body": "Tip: Never use <code>&amp;</code> in front of a sub call (unless it&#39;s one of the extremely rare situations where you actually mean to override the sub&#39;s prototype)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1468030067, "post_id": 38276714, "comment_id": 63974270, "body": "Tip: Use a consistent indenting strategy!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1468030133, "post_id": 38276714, "comment_id": 63974282, "body": "Tip: You&#39;ll get fewer surprises if you put your top-level code after your sub definitions. Better yet, also put curlies around your top-level code."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1468046820, "post_id": 38276714, "comment_id": 63976998, "body": "I&#39;m very much a fan of having the top-level code at the start of the script. Apart from meaning I have to use parentheses around all my function arguments (which I prefer to do anyway) what other surprises am I opening myself up for?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468058685, "post_id": 38276714, "comment_id": 63979777, "body": "Have a look at <code>List::Util</code> which has <code>max, min, sum</code> methods.  Average is just <code>sum &#47; count</code>.   <a href=\"http://perldoc.perl.org/List/Util.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/List/Util.html</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1468077048, "post_id": 38276714, "comment_id": 63984986, "body": "@GrantMcLean All top-level variables will be implicitly in scope in your functions. This can cause surprising behavior e.g. if you use a variable <code>$foo</code> in your function but you forgot to declare it, that&#39;s normally an error but silently does the wrong thing if your main code also uses a variable called <code>$foo</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1468069734, "post_id": 38279271, "comment_id": 63982977, "body": "Please comment before voting"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1468048677, "last_edit_date": 1468048677, "creation_date": 1468047634, "answer_id": 38279271, "question_id": 38276714, "link": "https://stackoverflow.com/questions/38276714/no-values-being-output/38279271#38279271", "title": "No values being output", "body": "<p>Please try this one:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @list_nums = qw(10 21 30 42 50 63 70);\nma_xi(@list_nums);\n\nsub ma_xi\n{\n    my @list_ele = @_;\n    my $set_val_max = '0'; my $set_val_min = '0';\n    my $add_all_vals = '0';\n    foreach my $each_ele(@list_ele)\n    {\n        $set_val_max = $each_ele if($set_val_max &lt; $each_ele);\n        $set_val_min = $each_ele if($set_val_min eq '0');\n        $set_val_min = $each_ele if($set_val_min &gt; $each_ele);\n        $add_all_vals += $each_ele;\n    }\n\n    my $set_val_avg = $add_all_vals / scalar(@list_ele) + 1;\n\n    print \"MAX: $set_val_max\\n\";\n    print \"MIN: $set_val_min\\n\";\n    print \"TOT: $add_all_vals\\n\";\n    print \"AVG: $set_val_avg\\n\";\n\n    #Return these values into array and get into the new sub routine's\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 6567280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1471f169af14fdd3d89174046f7fe6b5?s=128&d=identicon&r=PG&f=1", "display_name": "Yasser \u1e3e", "link": "https://stackoverflow.com/users/6567280/yasser-%e1%b8%be"}, "edited": false, "score": 0, "creation_date": 1468283010, "post_id": 38281835, "comment_id": 64052357, "body": "That&#39;s what made me more confused, because I was required to have sub routine for each value I&#39;m looking for. I have learned a lot from all the answer thank you all so much for your help."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1468072114, "last_edit_date": 1468072114, "creation_date": 1468067574, "answer_id": 38281835, "question_id": 38276714, "link": "https://stackoverflow.com/questions/38276714/no-values-being-output/38281835#38281835", "title": "No values being output", "body": "\n\n<p>Some notes</p>\n\n<ul>\n<li><p>Use plenty of whitespace to lay out your code. I have tidied the Perl code in your question so that I could read it more easily, without changing its semantics</p></li>\n<li><p>You must <em>always</em> <code>use strict</code> and <code>use warnings 'all'</code> at the top of every Perl program you write</p></li>\n<li><p><em>Never</em> use an ampersand <code>&amp;</code> in a subroutine call. That hasn't been necessary or desirable since Perl 4 over twenty-five years ago. Any tutorial that tells you otherwise is wrong</p></li>\n<li><p>Using <code>&lt;&gt;</code> in a list context (such as the parameters to a subroutine call) will read all of the file and exhaust the file handle. Thereafter, any calls to <code>&lt;&gt;</code> will return <code>undef</code></p></li>\n<li><p>You should use <code>chomp</code> to remove the newline from each line of input</p></li>\n<li><p>You declare <code>$mymax</code> within the scope of the <code>max</code> subroutine, but then try to print it in <code>print_stat</code> where it doesn't exists. <code>use strict</code> and <code>use warnings 'all'</code> would have caught that error for you</p></li>\n<li><p>Your <code>max</code> subroutine returns the maximum value that it calculated, but you never use that return value</p></li>\n</ul>\n\n<p>Below is a fixed version of your code.</p>\n\n<p>Note that I've read the whole file into array <code>@values</code> and then chomped them all at once. In general it's best to read and process input one line at a time, which would be quite possible here but I wanted to say as close to your original code as possible</p>\n\n<p>I've also saved the return value from <code>max</code> in variable <code>$max</code>, and then passed that to <code>print_stat</code>. It doesn't make sense to try to read the file again and pass all of those values to <code>print_stat</code>, as your code does</p>\n\n<p>I hope this helps</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy @values = &lt;&gt;;\nchomp @values;\n\nmy $max = max(@values);\nprint_stat( $max );\n\nsub max {\n    my $mymax = shift;\n\n    for ( @_ ) {\n        if ( $_ &gt; $mymax ) {\n            $mymax = $_;\n        }\n    }\n\n    return $mymax;\n}\n\nsub print_stat {\n    my ($val) = @_;\n\n    print $val, \"\\n\";\n}\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Here's a version that calculates all of the statistics that you mentioned. I don't think subroutines are a help in this case as the solution is short and no code is reusable</p>\n\n<p>Note that I've added the data at the end of the program file, after <code>__DATA__</code>, which lets me read it from the <code>DATA</code> file handle. This is often handy for testing</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy ($n, $max, $min, $tot);\n\nwhile ( &lt;DATA&gt; ) {\n\n    next unless /\\S/; # Skip blank lines\n\n    chomp;\n\n    if ( not defined $n ) {\n        $max = $min = $tot = $_;\n    }\n    else {\n        $max = $_ if $max &lt; $_;\n        $min = $_ if $min &gt; $_;\n        $tot += $_;\n    }\n\n    ++$n;\n}\n\nmy $avg = $tot / $n;\n\nprintf \"\\$n   = %d\\n\",   $n;\nprintf \"\\$max = %d\\n\",   $max;\nprintf \"\\$min = %d\\n\",   $min;\nprintf \"\\$tot = %d\\n\",   $tot;\nprintf \"\\$avg = %.2f\\n\", $avg;\n\n\n__DATA__\n7\n6\n1\n5\n1\n3\n8\n7\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>$n   = 8\n$max = 8\n$min = 1\n$tot = 38\n$avg = 4.75\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 6567280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1471f169af14fdd3d89174046f7fe6b5?s=128&d=identicon&r=PG&f=1", "display_name": "Yasser \u1e3e", "link": "https://stackoverflow.com/users/6567280/yasser-%e1%b8%be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1468072114, "creation_date": 1468020492, "last_edit_date": 1468066310, "question_id": 38276714, "link": "https://stackoverflow.com/questions/38276714/no-values-being-output", "title": "No values being output", "body": "<p>I'm having a problem coding my first Perl program.</p>\n\n<p>What I'm trying to do here is getting the maximum, minimum,total and average of a list of numbers using a subroutine for each value and another subroutine to print the final values. I'm using a \"private\" for all my variables, but I still couldn't print my values.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>&amp;max(&lt;&gt;);\n\n&amp;print_stat(&lt;&gt;);\n\nsub max {\n\n    my ($mymax) = shift @_;\n\n    foreach (@_) {\n\n        if ( $_ &gt; $mymax ) {\n            $mymax = $_;\n        }\n    }\n\n    return $mymax;\n}\n\nsub print_stat {\n\n    print max($mymax);\n}\n</code></pre>\n"}, {"tags": ["c", "perl", "timezone", "posix", "localtime"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1468059212, "post_id": 38276673, "comment_id": 63979899, "body": "<a href=\"http://perldoc.perl.org/perlport.html#Time-and-Date\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlport.html#Time-and-Date</a>  tl;dr - The system&#39;s notion of time of day and calendar date is controlled in widely different ways. Don&#39;t assume the timezone is stored in $ENV{TZ} , and even if it is, don&#39;t assume that you can control the timezone through that variable."}, {"owner": {"reputation": 77017, "user_id": 463304, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/s77Za.jpg?s=128&g=1", "display_name": "700 Software", "link": "https://stackoverflow.com/users/463304/700-software"}, "edited": false, "score": 0, "creation_date": 1468074361, "post_id": 38276673, "comment_id": 63984234, "body": "I would like something specific. My testing indicates it is safe not to call <code>tzset</code>. Since the software here is only intended for specific platforms, I do not want to tell our team to do extra work that is not needed. So, in what conditions do we need <code>tzset</code>?"}, {"owner": {"reputation": 77017, "user_id": 463304, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/s77Za.jpg?s=128&g=1", "display_name": "700 Software", "link": "https://stackoverflow.com/users/463304/700-software"}, "edited": false, "score": 1, "creation_date": 1468078155, "post_id": 38276673, "comment_id": 63985335, "body": "An answer was posted and deleted, but links to <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/localtime.html\" rel=\"nofollow noreferrer\">pubs.opengroup.org/onlinepubs/9699919799/functions/&hellip;</a>, which says <i>&quot;Local timezone information is used as though localtime() calls tzset().&quot;</i>, so it sounds like <code>localtime</code> should call <code>tzset</code> automatically if the system is POSIX-compliant??? Is that the defining factor - whether the OS is POSIX-compliant?"}], "answers": [{"tags": [], "owner": {"reputation": 7787, "user_id": 1257035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHLC8.png?s=128&g=1", "display_name": "a3f", "link": "https://stackoverflow.com/users/1257035/a3f"}, "is_accepted": false, "score": 4, "last_activity_date": 1468187393, "last_edit_date": 1468187393, "creation_date": 1468184086, "answer_id": 38296394, "question_id": 38276673, "link": "https://stackoverflow.com/questions/38276673/when-does-a-perl-script-need-to-call-tzset-before-calling-localtime/38296394#38296394", "title": "When does a Perl script need to call `tzset` before calling `localtime`?", "body": "<p><strong>TL;DR</strong>: Starting with <a href=\"https://github.com/Perl/perl5/blob/cc93400aa5a8d556c56c28a8de644bd178d050d4/pod/perl589delta.pod#___top\" rel=\"nofollow\">Perl v5.8.9</a> (released in 2011) calling <code>tzset</code> when changing <code>$ENV{TZ}</code> isn't needed anymore.</p>\n\n<hr>\n\n<p>Perl's <code>localtime</code> calls <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/localtime.html\" rel=\"nofollow\"><code>localtime_r(3)</code></a> <a href=\"https://github.com/Perl/perl5/blob/3f6b66c14467c0f8c7459e32c576618155ca89f3/pp_sys.c#L4744\" rel=\"nofollow\">internally</a>, which isn't required to  call <code>tzset(3)</code>. The <a href=\"http://man7.org/linux/man-pages/man3/ctime.3.html\" rel=\"nofollow\">Linux manpage</a> advises:</p>\n\n<blockquote>\n  <p>According to POSIX.1-2004, localtime() is required to behave as though\n  tzset(3) was called, while localtime_r() does not have this\n  requirement. For portable code tzset(3) should be called before\n  localtime_r().</p>\n</blockquote>\n\n<p>In older non-multithreaded Perls, or if <code>localtime_r(3)</code> wasn't available during build, <code>localtime(3)</code> is used instead. In that case, a call to <code>tzset</code> would have been unnecessary, <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/localtime.html\" rel=\"nofollow\">per POSIX</a>:</p>\n\n<blockquote>\n  <p>Local timezone information is used as though localtime() calls tzset()</p>\n</blockquote>\n\n<p>although there seem to have been times where <a href=\"https://sourceware.org/bugzilla/show_bug.cgi?id=154\" rel=\"nofollow\">glibc didn't adhere to that</a>:</p>\n\n<blockquote>\n  <p>As for any code which doesn't call tzset all the time: <strong>this definitly\n  won't change</strong>.  It's far too expensive.  And for what?  The 0.000001%\n  of the people who take the laptops on a world tour and expect, e.g.,\n  syslog messages with dates according to the native timezone.  This is\n  not justification enough.  Just restart your machine.</p>\n</blockquote>\n\n<p>This <strong>did</strong> change though and glibc now does act as if  <code>tztime(3)</code> was called, but only for non-reentrant <code>localtime</code> which might not be what your Perl was compiled to use.</p>\n\n<p>There have been two Perl bug reports regarding this: <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=26136\" rel=\"nofollow\">#26136</a> and <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=41591\" rel=\"nofollow\">#41591</a>.</p>\n\n<p>As a fix, Perl now <a href=\"https://github.com/Perl/perl5/blob/7e69463d5ba4e34c2ea10a5c117a1777435209ec/Porting/Glossary#L1521\" rel=\"nofollow\">decides at configuration time</a> whether an implicit <code>tzset(3)</code> needs to be done, which makes specifying it in user code superfluous.</p>\n"}], "owner": {"reputation": 77017, "user_id": 463304, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/s77Za.jpg?s=128&g=1", "display_name": "700 Software", "link": "https://stackoverflow.com/users/463304/700-software"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1514730925, "creation_date": 1468020072, "last_edit_date": 1495539854, "question_id": 38276673, "link": "https://stackoverflow.com/questions/38276673/when-does-a-perl-script-need-to-call-tzset-before-calling-localtime", "title": "When does a Perl script need to call `tzset` before calling `localtime`?", "body": "<p>I recently learned <a href=\"https://stackoverflow.com/questions/753346/how-do-i-set-the-timezone-for-perls-localtime/753416#753416\">how to change the timezone returned by <code>localtime</code> in Perl</a>.</p>\n\n<pre><code>use POSIX qw(tzset);\nprint localtime . \"\\n\";\n$ENV{TZ} = 'America/Los_Angeles';\nprint localtime . \"\\n\";\ntzset;\nprint localtime . \"\\n\";\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>Wed Apr 15 15:58:10 2009\nWed Apr 15 15:58:10 2009\nWed Apr 15 12:58:10 2009\n</code></pre>\n\n<p>Notice how the hour only changes after calling <code>tzset</code>.</p>\n\n<pre><code>This is perl, v5.8.8 built for x86_64-linux-thread-multi\n</code></pre>\n\n<p>However, on my systems I'm getting, </p>\n\n<pre><code>Fri Jul 8 19:00:51 2016\nFri Jul 8 16:00:51 2016\nFri Jul 8 16:00:51 2016\n</code></pre>\n\n<p>Notice how on my system, the hour changes <em>without</em> calling <code>tzset</code>. This holds true on recent versions of Perl in Ubuntu and Illumos, as well as Perl <code>v5.8.8</code> on Solaris 10.</p>\n\n<p>So if all my tests indicate that <code>tzset</code> has no effect, why / what other systems require <code>tzset</code> to be called explicitly? Do I still need to call <code>tzset</code> to remain compatible with certain environments, or is it now a thing of the past?</p>\n"}, {"tags": ["perl", "url", "redirect", "mason"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1468019545, "post_id": 38276339, "comment_id": 63972488, "body": "so you are saying that <code>$orderViewHelper-&gt;{myImage}</code> doesn&#39;t hold your image object after assigning an image object, Could you please check <code>print Dumper($orderViewHelper-&gt;{myImage});</code>, What does this return?"}, {"owner": {"reputation": 1167, "user_id": 3369592, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7d24ba7308b5f1d0dda56a812d7984ac?s=128&d=identicon&r=PG&f=1", "display_name": "user3369592", "link": "https://stackoverflow.com/users/3369592/user3369592"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1468019744, "post_id": 38276339, "comment_id": 63972520, "body": "@AbhiNickz     is this a correct way to put a paramter inside a url <a href=\"https://www.myurl.com/$orderViewHelper-\" rel=\"nofollow noreferrer\">myurl.com/$orderViewHelper-</a>&gt;{orderId} /2016image .The paramter is &quot;$orderViewHelper-&gt;{orderId}&quot;."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1468020010, "post_id": 38276339, "comment_id": 63972582, "body": "ohh, You are using perl &#39;&#39; single quote instead of &quot;&quot; double quote so interpolation of <code>$orderViewHelper-&gt;{orderId}</code> is not happneing, sorry I didn&#39;t see it first. I think this will fix everything: <code>$orderViewHelper-&gt;{myImage} = $Std-&gt;url(&quot;https:&#47;&#47;www.myurl.com&#47;$orderViewHelper-&gt;{orderId}&zwnj;&#8203;&#47;2016image&quot;,                                             {   absolute =&gt;1                                             });</code>"}], "answers": [{"tags": [], "owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "is_accepted": true, "score": 1, "last_activity_date": 1468020081, "creation_date": 1468020081, "answer_id": 38276675, "question_id": 38276339, "link": "https://stackoverflow.com/questions/38276339/perl-redirect-url-with-the-paramter-using-std-url/38276675#38276675", "title": "perl redirect url with the paramter using $Std-&gt;url()", "body": "<p>I think this will work:</p>\n\n<pre><code>$orderViewHelper-&gt;{myImage} = $Std-&gt;url(\"https://www.myurl.com/$orderViewHelper-&gt;{orderId}/2016image\", { absolute =&gt;1 });\n</code></pre>\n"}], "owner": {"reputation": 1167, "user_id": 3369592, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7d24ba7308b5f1d0dda56a812d7984ac?s=128&d=identicon&r=PG&f=1", "display_name": "user3369592", "link": "https://stackoverflow.com/users/3369592/user3369592"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 869, "favorite_count": 0, "accepted_answer_id": 38276675, "answer_count": 1, "score": 0, "last_activity_date": 1468913956, "creation_date": 1468017630, "last_edit_date": 1468913956, "question_id": 38276339, "link": "https://stackoverflow.com/questions/38276339/perl-redirect-url-with-the-paramter-using-std-url", "title": "perl redirect url with the paramter using $Std-&gt;url()", "body": "<p>I am new to Perl/Mason.\nMy url is <code>https://www.myurl.com/myPar/2016image</code> which will return a png image.</p>\n\n<p>In this url, <code>myPar</code> is the parameter (equals to <code>$orderViewHelper-&gt;{orderId}</code>).</p>\n\n<p>I have created an <code>orderViewHelper</code> which will hold <code>myImage</code> object so I can access it in other classes. Is there a way that I can use <code>$Std-&gt;url()</code> to get the image and put it into myImage?</p>\n\n<pre><code>$orderViewHelper-&gt;{myImage} = $Std-&gt;url(\n  'https://www.myurl.com/$orderViewHelper-&gt;{orderId}/2016image',\n  { absolute =&gt;1 }\n);\n</code></pre>\n"}, {"tags": ["perl", "log4perl"], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 3, "last_activity_date": 1468023989, "last_edit_date": 1468023989, "creation_date": 1468022392, "answer_id": 38276934, "question_id": 38275332, "link": "https://stackoverflow.com/questions/38275332/how-to-print-a-partial-stack-trace-with-log4perl/38276934#38276934", "title": "How to print a partial stack trace with Log4perl?", "body": "<p>You can use <a href=\"https://metacpan.org/pod/Log::Log4perl::Layout::PatternLayout::Stacktrace\" rel=\"nofollow\">Log::Log4perl::Layout::PatternLayout::Stacktrace</a>:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Log::Log4perl::Layout::PatternLayout::Stacktrace;\n\nsub foo { bar() }   \nsub bar { baz() }\nsub baz { Log::Log4perl-&gt;get_logger-&gt;warn('baz') }\n\n$ENV{L4P_STACKTRACE_MAX} = 3; # max number of stack frames to show\n\nLog::Log4perl-&gt;init('log4perl.conf');\nfoo();\n</code></pre>\n\n<p>This lets you use the <code>%S</code> format specifier in your pattern:</p>\n\n<pre><code>log4perl.rootLogger=DEBUG, SCREEN\nlog4perl.appender.SCREEN=Log::Log4perl::Appender::Screen\nlog4perl.appender.SCREEN.layout=PatternLayout\nlog4perl.appender.SCREEN.layout.ConversionPattern=%S\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>==== START STACK TRACE ===\n[1] at ./foo line 10\n        __ANON__ (Log::Log4perl::Logger=HASH(0x1a41a68), \"baz\")\n[2] at ./foo line 9\n        baz ()\n[3] at ./foo line 8\n        bar ()\n... 1 frames cut off\n=== END STACK TRACE ===\n</code></pre>\n\n<hr>\n\n<p>To get something more like what <code>%T</code> generates, pass a custom format as a parameter to <code>%S</code> (requires Log::Log4perl 1.20 or higher):</p>\n\n<pre><code>log4perl.appender.SCREEN.layout.ConversionPattern= \\\n    %S{%s called at %f line %l%[nr!L4P_STACKTRACE_MAX,s=]b}\n</code></pre>\n\n<p>See the documentation for <a href=\"https://metacpan.org/pod/Stacktrace::Configurable#Format\" rel=\"nofollow\">Stacktrace::Configurable</a> for the supported format specifiers.</p>\n\n<p>Output:</p>\n\n<pre><code>Log::Log4perl::Logger::__ANON__ called at ./foo line 10\nmain::baz called at ./foo line 9\nmain::bar called at ./foo line 8\n</code></pre>\n"}], "owner": {"reputation": 86, "user_id": 351430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnGeo.jpg?s=128&g=1", "display_name": "Kevin Hinshaw", "link": "https://stackoverflow.com/users/351430/kevin-hinshaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1468023989, "creation_date": 1468011623, "question_id": 38275332, "link": "https://stackoverflow.com/questions/38275332/how-to-print-a-partial-stack-trace-with-log4perl", "title": "How to print a partial stack trace with Log4perl?", "body": "<p>With <a href=\"http://search.cpan.org/dist/Log-Log4perl-1.30/lib/Log/Log4perl/Layout/PatternLayout.pm\" rel=\"nofollow\">Log4perl</a>, I know I can include a full stack trace using the %T format string.</p>\n\n<p>Is there a way to print a partial stack trace?  Say, the first N levels?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468069090, "post_id": 38274809, "comment_id": 63982815, "body": "Your Perl code won&#39;t even compile"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468069659, "post_id": 38275012, "comment_id": 63982957, "body": "No need for <code>chomp</code> before a <code>split</code>"}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 4, "last_activity_date": 1468010208, "creation_date": 1468010208, "answer_id": 38275012, "question_id": 38274809, "link": "https://stackoverflow.com/questions/38274809/compute-percentage-contribution-of-multiple-sums/38275012#38275012", "title": "Compute percentage contribution of multiple sums", "body": "<p>You must read in all the lines of the file before you calculate the percentage.  To preserve the order of your lines for output, I use an array of hashes.  Refer to <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldsc</a></p>\n\n<pre><code>use warnings;\nuse strict;\nuse List::Util qw(sum);\n\nmy @lines;\nmy $total = 0;\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my ($line, @nums) = split;\n    my $sum = sum(@nums);\n    $total += $sum;\n    push @lines, {line =&gt; $line, sum =&gt; $sum};\n}\n\nfor my $lref (@lines) {\n    my $percent = ($lref-&gt;{sum}*100)/$total;\n    printf \"%s %.1f\\n\", $lref-&gt;{line}, $percent;\n}\n\n__DATA__\nlineA 0.01 0.3 0\nlineB 0 0.2 0.1\nlineC 0.2 0 0.09\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>lineA 34.4\nlineB 33.3\nlineC 32.2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1468069606, "creation_date": 1468069606, "answer_id": 38282131, "question_id": 38274809, "link": "https://stackoverflow.com/questions/38274809/compute-percentage-contribution-of-multiple-sums/38282131#38282131", "title": "Compute percentage contribution of multiple sums", "body": "<p>You must read in all of your data and accumulate the grand total of the numeric fields before you can calculate the percentages</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'sum';\n\nmy $infile = 'file.txt';\n\nmy @data;\n\nopen my $fh,  '&lt;', $infile or die qq{Unable to open \"$infile\" for input: $!};\n\nwhile ( &lt;$fh&gt; ) {\n    my ($id, @fields) = split;\n    push @data, [ $id, sum(@fields) ];\n}\n\nmy $total = sum( map $_-&gt;[1], @data );\n\nprintf \"%s\\t%.2f%%\\n\", $_-&gt;[0], $_-&gt;[1] * 100 / $total for @data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>lineA   34.44%\nlineB   33.33%\nlineC   32.22%\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1468069750, "creation_date": 1468009267, "last_edit_date": 1468069750, "question_id": 38274809, "link": "https://stackoverflow.com/questions/38274809/compute-percentage-contribution-of-multiple-sums", "title": "Compute percentage contribution of multiple sums", "body": "\n\n<p>I have a list in <code>file.txt</code> with four tab-separated columns</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>lineA   0.01  0.3  0\nlineB   0     0.2  0.1\nlineC   0.2   0    0.09\n</code></pre>\n\n<p>I want to sum the 3 numbers for each line (example for lineA = 0.01 + 0.3 + 0, in the code @sum) and then take the value of each line and make a total sum  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0.31\n0.3\n0.29\n\ntotal = 0.9 ($total)\n</code></pre>\n\n<p>and then make a percentage value for each line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>percent lineA = ((0.31 * 100)/0.9)\n</code></pre>\n\n<p>I have tried: </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>open INFILE,  '&lt;', \"file.txt\",    or die \"cant open file $infile\";\nopen OUTFILE, '&gt;', \"results.txt\", or die \"cant open\";\n\nwhile ( &lt;INFILE&gt; ) {\n\n    my $line = $_;\n    chomp( $line );\n\n    if ( $line ) {\n\n        my @columns = $_;\n\n        foreach ( @columns ) {\n\n            my ( $colum1, $colum2, $colum3, $colum4 ) = split( /\\t/, $_ );\n\n            if ( $percent ) {\n\n                my @sum   = ( $colum2 + $colum3 + $colum4 );\n                my $total = 0;\n\n                foreach ( @sum ) {\n                    $total += $_;\n                    $percent = ( ( @sum * 100 ) / $total ) print OUTFILE \"$percent\\t$col1\\n\";\n                }\n            }\n\n\nclose INFILE;\nclose OUTFILE;\n\nexit;\n</code></pre>\n\n<p>out file:</p>\n\n<h3>results.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>34.4 LineA\n33.3 LineB\n32.2 LineC\n\nWell the code have fore option, but my problem in with the take the percent code. \n</code></pre>\n"}, {"tags": ["perl", "shell", "sqlplus"], "owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1468021036, "creation_date": 1468006765, "last_edit_date": 1468021036, "question_id": 38274232, "link": "https://stackoverflow.com/questions/38274232/shell-or-perl-script-run-multiple-queries-based-on-current-active-table", "title": "Shell or PERL script - run multiple queries based on current active table", "body": "<p>I am hoping someone can help me with my shell script. I have a file that lists different table prefixes. </p>\n\n<p>The file looks like below:</p>\n\n<pre><code>cat table_names\ntable:1234:nfl\ntable1:2345:nhl\ntable2:5555:nba\ntable3:3355:mls\ntable4:2463:echl\n</code></pre>\n\n<p>i also have a different table for each day of the week.</p>\n\n<pre><code>daya\ndayb\ndayc\ndayd\ndaye\ndayf\ndayg\ndayh\n</code></pre>\n\n<p>I have another file that tells me what the current table is for today</p>\n\n<pre><code>cat today_table\nToday's active table is dayf\n</code></pre>\n\n<p>What I am trying to do is query each table prefix (table - table4) using the current active table for that day.</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>#!/bin/ksh\n\nactive_table=$(today_table|awk '{print $5}')\nprefix_table=$(cat table_names|grep -v ^#|awk -F\":\" '{print $1}'|sort -u)\ntoday=`date \"+%Y-%m-%d\"`\nOutPutDir=\"/tneal01/SPOOL\"\nOutPutFile=\"error\"\n\n\n\nExecsqlstatement1=\"select\nto_char(current_date,'YYYYMMDD')  day,\ncount(*)                      Total\nfrom ${prefix_table}.${active_table}\nGROUP BY to_char(current_date,'YYYYMMDD')\n\n\n#adding connection details here\n\n$ORACLE_HOME/bin/sqlplus *********** &lt;&lt; Eossql\n    set lines 80\n    set pages 50000\n    set timing on\n    spool tneal01/SPOOL/counts.`date +%Y-%m-%d`.tmp\n    $Execsqlstatement1\n    /\n    spool off\n    quit;\nEossql\ngrep \"ORA-\" $OutPutDir/$OutPutFile.$today.tmp\nif [ $? -eq 0 ]\nthen\n    echo \"LOG MESSAGE sql select failed\"\n\n\nexit 0\n</code></pre>\n\n<p>The part am having issues with is the loop. I pretty much what the script to look at the current \"active_table\" and run the query on all five tables and spool the results to a file</p>\n\n<p>example would be:</p>\n\n<p>today's active table = dayg</p>\n\n<pre><code>select ***\nfrom table.dayg\nwhere .....\n\nselect ***\nfrom table1.dayg\nwhere .....\n\nselect ***\nfrom table2.dayg\nwhere .....\n\nselect ***\nfrom table3.dayg\nwhere ....\n\nselect ***\nfrom table4.dayg\nwhere .....\n</code></pre>\n\n<p>so then the spool file would look like</p>\n\n<pre><code>dayf table\nMonday July 8th\ntable  count =31\ntable1 count =44\ntable2 count =33\ntable3 count =55\ntable4 count =23\n</code></pre>\n\n<p>Hopefully I explained this clearly. </p>\n\n<p>EDIT: I can write this in Perl or shell. Both suggestions would be greatly appreciated </p>\n\n<p>Thanks for reading!</p>\n"}, {"tags": ["html", "perl", "xpath"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468005362, "post_id": 38273815, "comment_id": 63967101, "body": "I think you still have an unnecessarily complex XPath expression and your code could be improved substantially"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1468010396, "post_id": 38273815, "comment_id": 63969412, "body": "could you elaborate?"}], "tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": 0, "last_activity_date": 1468005014, "creation_date": 1468005014, "answer_id": 38273815, "question_id": 38273767, "link": "https://stackoverflow.com/questions/38273767/parsing-html-with-htmltreebuilderxpath/38273815#38273815", "title": "Parsing HTML with HTML::TreeBuilder::XPath", "body": "<p>Uhg after hours of slaving over this I missed 1 essential element.  The code needs to be as such</p>\n\n<pre><code>my @Baddress = $root-&gt;findvalues('//div[@id=\"filerDiv\"]/div[@class=\"mailer\"][2]/span/text()');\n</code></pre>\n\n<p>I simply had $root->findvalue which was assigning everything to 1 variable.  Stupid mistake</p>\n"}], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468005298, "creation_date": 1468004790, "last_edit_date": 1468005298, "question_id": 38273767, "link": "https://stackoverflow.com/questions/38273767/parsing-html-with-htmltreebuilderxpath", "title": "Parsing HTML with HTML::TreeBuilder::XPath", "body": "\n\n<p>I have many HTML documents that I need to parse. Here's an example of the data so that I can explain myself a little better</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div id=\"filerDiv\"&gt;\n    &lt;div class=\"mailer\"&gt;Mailing Address\n        &lt;span class=\"mailerAddress\"&gt;65 MARKET STREET, SUITE 1207,&lt;/span&gt;\n        &lt;span class=\"mailerAddress\"&gt;CAMANA BAY, P.O. BOX 31110&lt;/span&gt;\n        &lt;span class=\"mailerAddress\"&gt;GRAND CAYMAN E9 KY1-1205&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"mailer\"&gt;Business Address\n        &lt;span class=\"mailerAddress\"&gt;65 MARKET STREET, SUITE 1207,&lt;/span&gt;\n        &lt;span class=\"mailerAddress\"&gt;CAMANA BAY, P.O. BOX 31110&lt;/span&gt;\n        &lt;span class=\"mailerAddress\"&gt;GRAND CAYMAN E9 KY1-1205&lt;/span&gt;\n        &lt;span class=\"mailerAddress\"&gt;345 943 4573&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"companyInfo\"&gt;\n        &lt;span class=\"companyName\"&gt;GREENLIGHT CAPITAL RE, LTD. (Filer)\n            &lt;acronym title=\"Central Index Key\"&gt;CIK&lt;/acronym&gt;: &lt;a href=\"/cgi-bin/browse-edgar?CIK=0001385613&amp;amp;action=getcompany\"&gt;0001385613 (see all company filings)&lt;/a&gt;&lt;/span&gt;\n        &lt;p class=\"identInfo\"&gt;&lt;acronym title=\"Internal Revenue Service Number\"&gt;IRS No.&lt;/acronym&gt;: &lt;strong&gt;000000000&lt;/strong&gt;&lt;br /&gt;Type: &lt;strong&gt;10-Q&lt;/strong&gt; | Act: &lt;strong&gt;34&lt;/strong&gt; | File No.: &lt;a href=\"/cgi-bin/browse-edgar?filenum=001-33493&amp;amp;action=getcompany\"&gt;&lt;strong&gt;001-33493&lt;/strong&gt;&lt;/a&gt; | Film No.: &lt;strong&gt;161612131&lt;/strong&gt;&lt;br /&gt;&lt;acronym title=\"Standard Industrial Code\"&gt;SIC&lt;/acronym&gt;: &lt;b&gt;&lt;a href=\"/cgi-bin/browse-edgar?action=getcompany&amp;amp;SIC=6331&amp;amp;owner=include\"&gt;6331&lt;/a&gt;&lt;/b&gt; Fire, Marine &amp;amp; Casualty Insurance&lt;br /&gt;Assistant Director 1&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I need to grab the four <code>span</code> elements which follow the second <code>div</code> element with the class <code>mailer</code>.  Here is the code I have so far</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $root = HTML::TreeBuilder::XPath-&gt;new;\n$root-&gt;parse($content);\nmy @Baddress = $root-&gt;findvalue('//div[@id=\"filerDiv\"]/div[@class=\"mailer\"][2]/span/text()');\n</code></pre>\n\n<p>But when I print out the contents of <code>@Baddress</code> all of the <code>span</code> text is displayed on one line, like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>65 MARKET STREET, SUITE 1207,CAMANA BAY, P.O. BOX 31110 GRAND CAYMAN E9 KY1-1205 345 943 4573 \n</code></pre>\n\n<p>Everything is being assigned to a single array element. I would like each <code>span</code> to be assigned to its own array element so that they may be parsed individually.</p>\n"}, {"tags": ["perl", "search"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1468002855, "post_id": 38273218, "comment_id": 63965867, "body": "I never look at benchmarks without the code that produced them. It&#39;s too easy to get wrong. Please show your code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468003018, "post_id": 38273218, "comment_id": 63965957, "body": "Tip: <code>ARR_LENGTH</code> should be <code>@$arrptr</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468003050, "post_id": 38273218, "comment_id": 63965975, "body": "Tip: <code>for (my $i=0; $i&lt;@$arrptr; ++$i)</code> should be <code>for my $i (0..$#$arrptr)</code>"}, {"owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "edited": false, "score": 1, "creation_date": 1468003829, "post_id": 38273218, "comment_id": 63966354, "body": "was your array sorted? Did you count number of iterations happened inside the loop for algorithm? Are you calling sort each iteration before Binary Search?"}, {"owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "reply_to_user": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "edited": false, "score": 0, "creation_date": 1468004055, "post_id": 38273218, "comment_id": 63966464, "body": "@JayKumarR Yes the array was sorted, believe it or not just an array of the numbers 0..ARR_LENGTH == 1..10000"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1468004074, "post_id": 38273218, "comment_id": 63966472, "body": "You need to show the benchmarking code, too. A common mistake with benchmarks is to change the data without restoring it after each iteration."}, {"owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468004693, "post_id": 38273218, "comment_id": 63966800, "body": "@ThisSuitIsBlackNot I&#39;ll add the benchmarking code I guess...it&#39;s just what I found online"}, {"owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "reply_to_user": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "edited": false, "score": 1, "creation_date": 1468004897, "post_id": 38273218, "comment_id": 63966889, "body": "@JayKumarR Really? I&#39;ve ran this code several times on my machine and every one it comes out similar to that above..."}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1468008507, "post_id": 38273905, "comment_id": 63968579, "body": "<code>sort @array_of_integers</code> doesn&#39;t do what you apparently think it does"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468013212, "post_id": 38273905, "comment_id": 63970557, "body": "<i>&quot;Well matches o(log n)&quot;</i> That is impossible to determine. It could even be <i>slower</i> and still be O(log n)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1468018023, "post_id": 38273905, "comment_id": 63972047, "body": "the original question showed &#39;timethese&#39; output.   mob was trying to help you; I think his wording was intended to be playful, not arrogant.  Borodin is correct; you can&#39;t say it matches o(log n) by comparing different algorithms, you have to show the <i>same</i> algorithm with different n scaling that way."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1468021250, "post_id": 38273905, "comment_id": 63972860, "body": "<code>perl -E &#39;@a=(6..15);say for sort @a&#39;</code>.  Binary search and interpolation search depend on the input being sorted, so your results are fast but wrong. Take a deep breath. It&#39;s only internet points."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468081488, "post_id": 38273905, "comment_id": 63986297, "body": "I have asked for moderator intervention on your toxic comments. It looks to me like you are far more guilty yourself of the negativity that you accuse others of. Please moderate your words. Your answer is a poor one and deserves the downvotes that it got"}], "tags": [], "owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "is_accepted": false, "score": -2, "last_activity_date": 1468024214, "last_edit_date": 1468024214, "creation_date": 1468005386, "answer_id": 38273905, "question_id": 38273218, "link": "https://stackoverflow.com/questions/38273218/interpreting-timethese-results-for-search-algorithms/38273905#38273905", "title": "Interpreting &quot;timethese&quot; results for search algorithms", "body": "<pre><code>use constant ARR_LENGTH=&gt;10000;\nfor $i (0..ARR_LENGTH) {\n   $arr[$i]=int(rand(15000));\n}\n@arr = sort {$a &lt;=&gt; $b}(@arr);\n\nfor $i (0..ARR_LENGTH) {\n   $x=int(rand(15000));\n   #LinearSearch(\\@arr,$x); -- uncomment this or next\n   #BinarySearch(\\@arr,$x);\n}\n</code></pre>\n\n<p>I tested the code with uncommenting one or other. The results were consistent:</p>\n\n<pre><code>Jay-$ vim some.pl ( uncommenting Binary Search)\nJay-$ time perl some.pl\n\nreal    0m0.096s\nuser    0m0.087s\nsys     0m0.007s\nJay-$ time perl some.pl\n\nreal    0m0.091s\nuser    0m0.083s\nsys     0m0.007s\nJay-$ time perl some.pl\n\nreal    0m0.100s\nuser    0m0.091s\nsys     0m0.007s\n\nJay-$ vim some.pl ( uncommenting Linear Search)\nJay-$ time perl some.pl\n\nreal    0m23.163s\nuser    0m23.121s\nsys     0m0.032s\n\nJay-$ time perl some.pl\n\nreal    0m22.482s\nuser    0m22.448s\nsys     0m0.025s\n</code></pre>\n\n<p>Conclusion: Binary search is 200 times faster for n = 10000. Well matches o(log n).\nIf you had run for one million times as you have specified, it is technically 5 billion iterations for linear search which is not possible in 2 seconds you specified. Also the random number you passed, is it well distributed random?</p>\n"}, {"comments": [{"owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "edited": false, "score": 0, "creation_date": 1468005859, "post_id": 38273934, "comment_id": 63967314, "body": "I commented out absolutely everything and got the following results: <code>Benchmark: timing 1000000 iterations of Binary, Interpolation, Linear...     Binary:  3 wallclock secs ( 2.47 usr +  0.00 sys =  2.47 CPU) @ 404858.30&#47;s (n=1000000) Interpolation:  4 wallclock secs ( 3.78 usr +  0.01 sys =  3.79 CPU) @ 263852.24&#47;s (n=1000000)     Linear:  2 wallclock secs ( 1.44 usr +  0.00 sys =  1.44 CPU) @ 694444.44&#47;s (n=1000000)</code> I don&#39;t know what else it was running (I didn&#39;t have any unordered arrays), but whatever that did, it worked"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "edited": false, "score": 0, "creation_date": 1468009393, "post_id": 38273934, "comment_id": 63968986, "body": "no idea what you mean by &quot;commented out absolutely everything&quot;, but your numbers are still improbably fast.  added code to run the benchmark correctly."}, {"owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "edited": false, "score": 0, "creation_date": 1468032126, "post_id": 38273934, "comment_id": 63974537, "body": "Thank you, this solved it. I may have been a little hasteful earlier, but you&#39;ve still answered the question in full."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 4, "last_activity_date": 1468009803, "last_edit_date": 1468009803, "creation_date": 1468005504, "answer_id": 38273934, "question_id": 38273218, "link": "https://stackoverflow.com/questions/38273218/interpreting-timethese-results-for-search-algorithms/38273934#38273934", "title": "Interpreting &quot;timethese&quot; results for search algorithms", "body": "<p>When you pass a string to timethese instead of a sub ref, your @array and $random_val variables aren't in the scope where Benchmark evals it.  So it is not actually running with the data you specify.</p>\n\n<p>Try running it as:</p>\n\n<pre><code>use Benchmark 'timethese';\n\nuse strict;\nuse warnings 'all';\n\nuse constant ARR_LENGTH =&gt; 10000;\n\nmy @array = OrderedArray();\nmy $random_val = $array[int(rand(ARR_LENGTH))];\ntimethese(\n    -5,\n    {\n        'Interpolation' =&gt; sub { InterpolationSearch($random_val, \\@array) },\n        'Binary' =&gt; sub { BinarySearch($random_val, \\@array) },\n        'Linear' =&gt; sub { LinearSearch($random_val, \\@array) },\n    }\n);\n</code></pre>\n\n<p>Enabling warnings reveals an error in InterpolationSearch.  Enabling warnings and setting $random_val to ARR_LENGTH +1 reveals an error in BinarySearch.  You might consider writing some test cases and validating your code before you worry about benchmarking.</p>\n\n<p>You might prefer cmpthese to timethese; I don't find timethese output as helpful.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468017406, "post_id": 38275582, "comment_id": 63971868, "body": "eww for <code>return;</code> instead of <code>return undef;</code> (or -1 as the original had)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468017622, "post_id": 38275582, "comment_id": 63971939, "body": "@Borodin it&#39;s worth noting that this is perfect data for for the interpolation search.  on some data it could be much slower than binary search"}, {"owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "edited": false, "score": 0, "creation_date": 1468032000, "post_id": 38275582, "comment_id": 63974520, "body": "Thank you, this is most helpful!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468081993, "post_id": 38275582, "comment_id": 63986437, "body": "@ysth: Does your rather odd <b><i>&quot;eww&quot;</i></b> indicate disapproval? A bare <code>return</code> is the proper way to return a failure status, as it evaluates to <b><i>false</i></b> in both list and scalar context. <code>return undef</code> in list context returns the one-element list <code>( undef )</code>, which is <b><i>true</i></b>, while <code>return -1</code> evaluates as <b><i>true</i></b> in either context"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468117522, "post_id": 38275582, "comment_id": 63994401, "body": "Yes, disapproval.  With a function like this, that by nature is asking for a scalar, it should consistently return a scalar."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468153491, "post_id": 38275582, "comment_id": 64000914, "body": "@ysth: Unsurprisingly, I disagree. By <i>&quot;asking for a scalar&quot;</i> do you mean *expected to return a scalar?"}, {"owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "edited": false, "score": 0, "creation_date": 1468290330, "post_id": 38275582, "comment_id": 64053923, "body": "Also, I wanted to say that I looked into the underscores in numbers that you used (it wasn&#39;t something that I&#39;ve come across in other languages). Perl is full of these neat little syntax treats that are really helpful!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1468013615, "last_edit_date": 1468013615, "creation_date": 1468012968, "answer_id": 38275582, "question_id": 38273218, "link": "https://stackoverflow.com/questions/38273218/interpreting-timethese-results-for-search-algorithms/38275582#38275582", "title": "Interpreting &quot;timethese&quot; results for search algorithms", "body": "\n\n<p>The issue of why your timings are not as you expect has been answered, but I thought you may like to see a more <em>Perlish</em> implementation of your three search algorithms, together with their timings</p>\n\n<p>Note that all of the functions offered by <code>Benchmark</code> are able to take a negative number for their first parameter, which indicates the number of seconds to run each benchmark. It's often a better way of prescribing the number of executions instead of guessing whether you need 100,000 or 1 million for a decent sample</p>\n\n<p>Note also that I've set <code>ARR_LENGTH</code> to 1 million</p>\n\n<p>As you expected, the linear search is slowest at 15 searches per second, followed by the binary search at 117,018 per second, and the interpolation search at 481,320 per second</p>\n\n<p>I hope this helps</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Benchmark 'timethese';\n\nuse constant ARR_LENGTH =&gt; 1_000_000;\n\nSTDOUT-&gt;autoflush;\n\nmy @array = ( 0 .. ARR_LENGTH-1 );\n\ntimethese(-10, {\n\n    interpolation_search =&gt; sub {\n        my $random_val = int rand @array;\n        my $i = interpolation_search($random_val, \\@array);\n        die \"Wrong result\" unless $array[$i] == $random_val;\n    },\n\n    binary_search =&gt; sub {\n        my $random_val = int rand @array;\n        my $i = binary_search($random_val, \\@array);\n        die \"Wrong result\" unless $array[$i] == $random_val;\n    },\n\n    linear_search =&gt; sub {\n        my $random_val = int rand @array;\n        my $i = linear_search($random_val, \\@array);\n        die \"Wrong result\" unless $array[$i] == $random_val;\n    },\n\n} );\n\n\nsub linear_search {\n\n    my ($target, $array) = @_;\n\n    for my $i ( 0 .. $#$array ) {\n\n        return $i if $array-&gt;[$i] == $target;\n\n        last if $array-&gt;[$i] &gt; $target;\n    }\n\n    return;\n}\n\n\nsub binary_search {\n\n    my ($target, $array) = @_;\n\n    my $low = 0;\n    my $high = $#$array;\n\n    my ($mid, $mid_val);\n\n    while ( $low &lt;= $high ) {\n\n        $mid = int(($low + $high) / 2);\n\n        $mid_val = $array-&gt;[$mid];\n\n        return $mid if $mid_val == $target;\n\n        if ( $mid_val &lt; $target ) {\n            $low = $mid + 1;\n        }\n        else {\n            $high = $mid - 1;\n        }\n    }\n\n    return;\n}\n\n\nsub interpolation_search {\n\n    my ($target, $array) = @_;\n\n    my $low  = 0;\n    my $high = $#$array;\n\n    while () {\n\n        my ($low_val, $high_val) = @{$array}[$low, $high];\n\n        if ( $low_val == $high_val) {\n            last unless $low_val == $target;\n            return $low;\n        }\n        last if $target &lt; $low_val or $target &gt; $high_val;\n\n        my $delta_i = $high     - $low;\n        my $delta_v = $high_val - $low_val;\n\n        my $mid = $low + ($target - $low_val) * $delta_i / $delta_v;\n        my $mid_val = $array-&gt;[$mid];\n\n        return $mid if $mid_val == $target;\n\n        if ( $mid_val &lt; $target ) {\n            $low = $mid + 1;\n        }\n        else {\n            $high = $mid - 1;\n        }\n    }\n\n    return;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Benchmark: running binary_search, interpolation_search, linear_search for at least 10 CPU seconds...\nbinary_search: 10 wallclock secs (10.53 usr +  0.00 sys = 10.53 CPU) @ 117018.33/s (n=1232320)\ninterpolation_search: 10 wallclock secs (10.39 usr +  0.00 sys = 10.39 CPU) @ 481320.50/s (n=5000920)\nlinear_search: 10 wallclock secs (10.05 usr +  0.00 sys = 10.05 CPU) @ 15.03/s (n=151)\n</code></pre>\n"}], "owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 38273934, "answer_count": 3, "score": 0, "last_activity_date": 1468024214, "creation_date": 1468002405, "last_edit_date": 1468006226, "question_id": 38273218, "link": "https://stackoverflow.com/questions/38273218/interpreting-timethese-results-for-search-algorithms", "title": "Interpreting &quot;timethese&quot; results for search algorithms", "body": "<p></p>\n\n<p>I'm a little confused by the following results and I was hoping some of you might be able to shed some light on why linear search appears to be faster than both binary and interpolation in Perl.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Benchmark: timing 1000000 iterations of Binary, Interpolation, Linear...\n    Binary: 17 wallclock secs (16.33 usr +  0.00 sys = 16.33 CPU) @ 61236.99/s (n=1000000)\nInterpolation:  4 wallclock secs ( 3.65 usr +  0.00 sys =  3.65 CPU) @ 273972.60/s (n=1000000)\n    Linear:  2 wallclock secs ( 1.52 usr +  0.00 sys =  1.52 CPU) @ 657894.74/s (n=1000000)\n</code></pre>\n\n<p>Each of the functions are below. I'm trying to write a bunch of well known algorithms and following along in <em>Mastering Algorithms with Perl</em>.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub LinearSearch {\n    # Search linearly for a value\n    my $val = $_[0];\n    my $arrptr = $_[1];\n\n    for (my $i=0; $i&lt;ARR_LENGTH; ++$i) {\n        if ($arrptr-&gt;[$i] == $val) {\n            return $i;\n        }\n    }\n\n    return -1;\n}\n\n\nsub BinarySearch {\n    my $val = $_[0];\n    my $arrptr = $_[1];\n\n    my $low = 0;\n    my $high = ARR_LENGTH;  # to be modified\n\n    while ($low &lt;= $high) {\n        my $middle = int(($low + $high) / 2);\n        my $midValue = $arrptr-&gt;[$middle];\n\n        if ($midValue &lt; $val) {\n            $low = $middle + 1;\n        } elsif ($midValue &gt; $val) {\n            $high = $middle - 1;\n        } else {\n            return $middle;\n        }\n    }\n\n    return -1;\n}\n\n\nsub InterpolationSearch {\n    my $val = $_[0];\n    my $arrptr = $_[1];\n\n    my $low = 0;\n    my $high = ARR_LENGTH;  # to be modified\n\n    while ($val &gt;= $arrptr-&gt;[$low] &amp;&amp; $val &lt;= $arrptr-&gt;[$high]) {\n        # solve for the middle value again\n        my $middle = int($low + ($high - $low)*(($val - @{$arrptr}[$low]) \n            / (@{$arrptr}[$high] - @{$arrptr}[$low] + 1)));\n\n        my $middleVal = $arrptr-&gt;[$middle];\n\n        if ($middleVal &lt; $val) {\n            $low = $middle + 1;\n        } elsif ($middleVal &gt; $val) {\n            $high = $middle - 1;\n        } else {\n            return $middle;\n        }\n    }\n    return -1;      # Not found\n}\n</code></pre>\n\n<p>Additionally, <code>ARR_LENGTH</code> is defined as</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use constant ARR_LENGTH =&gt; 10_000;\n</code></pre>\n\n<p>at the outset. It's really just odd that a binary search would take so long, and then interpolation less so, but still twice as long as Linear search.</p>\n\n<hr>\n\n<p>Benchmarking code (just what I found online):</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my @array = OrderedArray();\nmy $random_val = $array[int(rand(ARR_LENGTH))];\ntimethese(1_000_000, {\n    Interpolation =&gt; 'InterpolationSearch($random_val, \\@array)',\n    Binary        =&gt; 'BinarySearch($random_val, \\@array)',\n    Linear        =&gt; 'LinearSearch($random_val, \\@array)' }\n);\n</code></pre>\n\n<p>where <code>OrderedArray()</code> is just a quick (probably unnecessary) function</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub OrderedArray {\n    # Create a random ordered array\n    my @arr;\n\n    for (my $i=1; $i&lt;=ARR_LENGTH; ++$i) {\n        push @arr, $i;\n    }\n\n    return @arr;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468013862, "post_id": 38273211, "comment_id": 63970772, "body": "I don&#39;t get the structure of your files.  Can you post for each of involved filenames a line or two of content? (For example, in <code>index</code> you are using the whole <code>bam_file</code> name -- is that intended? Is <code>Sample1</code> the said filename? Why do you use <code>index</code>?) Seeing what the files are would help a lot."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468060047, "post_id": 38273211, "comment_id": 63980133, "body": "You are itering over <code>@matrix_key</code> and you are also using a local variable with the same name.  It would be less confusing if you renamed it to anything else."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1468060126, "post_id": 38273211, "comment_id": 63980157, "body": "<code>move $file, $new_file or die &quot;Unable to move $file -&gt; $new_file : $!&quot;;</code>"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468072852, "post_id": 38273211, "comment_id": 63983820, "body": "@zdim bam and bam.bai files have really long names and do not contain sample names but only a barcode identifier, for example barcode1_SPN-23456-RES_IonTorrent_SDL... .bam I\u2019m using index to see if the bam/bai/tsv file contains the same barcode as the key file, then look up the sample name and change the name of the file accordingly.  My code above works  but I\u2019ve been repeating the same for my loop for different file extension types that I would like to rename: <code>for  my $bam_file (@bam_files) \u2026 for my $bai_file(@bai_files)  \u2026for my $tsv_file(@tsv_files).</code>"}], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 6547823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuDy7.jpg?s=128&g=1", "display_name": "Avikd", "link": "https://stackoverflow.com/users/6547823/avikd"}, "is_accepted": true, "score": 0, "last_activity_date": 1468048981, "creation_date": 1468048981, "answer_id": 38279423, "question_id": 38273211, "link": "https://stackoverflow.com/questions/38273211/rename-files-based-on-the-content-of-another-file/38279423#38279423", "title": "Rename files based on the content of another file", "body": "<p>You may try a simple awk script as an alternative for generating these paths, e.g</p>\n\n<pre><code>awk -v bam_directory=dir_name -F\"\\t\" '{print \"mv \" bam_directory \"/\" $1 \".bam \" bam_directory \"/\" $1 \"_\" $2 \".bam\"}' matrixkey.txt&gt; move_commands\n</code></pre>\n\n<p>and check the source file paths before the actual file move</p>\n\n<pre><code>cut -f2 -d' ' move_path |xargs  ls -l \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1468233083, "creation_date": 1468233083, "answer_id": 38304729, "question_id": 38273211, "link": "https://stackoverflow.com/questions/38273211/rename-files-based-on-the-content-of-another-file/38304729#38304729", "title": "Rename files based on the content of another file", "body": "<p>In my thoughts, that file::copy, rename or move were works with the direct variable's instead the concatenates or methods[::].</p>\n\n<pre><code> move $bam_file, $bam_directory.\"/\".$matrix_sample_id.\"_\".$matrix_barcode.\".bam\";\n</code></pre>\n\n<p>instead</p>\n\n<pre><code> my $dest_file = \"$bam_directory/$matrix_sample_id\\_$matrix_barcode\\.bam\"\n move($bam_file, $dest_file) || die \"Couldn't move the files: $!..\\n;\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 38279423, "answer_count": 2, "score": 0, "last_activity_date": 1468233083, "creation_date": 1468002389, "question_id": 38273211, "link": "https://stackoverflow.com/questions/38273211/rename-files-based-on-the-content-of-another-file", "title": "Rename files based on the content of another file", "body": "<p>A directory contains multiple bam, corresponding bam.bai  files and also a tab delimited matrixkey.txt. The matrixkey includes the barcodes in the first column that are also found in the bam/bai file names. </p>\n\n<pre><code>For example:   Barcode001    Sample1\n</code></pre>\n\n<p>I would like use barcodes to match files with sample names (located in the second column of the matrixkey), and rename all the files as following:  \u2018barcode\u2019_\u2019sampleid\u2019.bam/bam.bai  Please take a look at my code below and suggest improvements. </p>\n\n<p>The routine runs without errors but files are not being renamed.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse File::Copy qw(move);\n\nmy $home=\"/data/\";                                                     \n\nmy $bam_directory = $home.\"test_all_runs/Test_Runs\";\n\nmy $matrix_key = $home.\"test_all_runs/Test_Runs/matrixkey.txt\";\n\nmy @matrix_key = ();\n\nopen(TXT2, \"$matrix_key\");\n        while (&lt;TXT2&gt;){  \n                push (@matrix_key, $_);   \n                }\nclose(TXT2);\n\nmy @bam_files = glob \"$bam_directory/*.bam\";\nmy @bai_files = glob \"$bam_directory/*.bai\";\n\nfor my $bam_file (@bam_files){\n\nmy $matrix_barcode = \"\";\nmy $matrix_sample_id = \"\";\n        foreach (@matrix_key){\n                chomp($_);\n                my @matrix_key = split (\"\\t\", $_);##  \n                if (index ($bam_file,$matrix_key[0]) != -1) {\n                  $matrix_barcode = $matrix_key[0]; print $matrix_key[0];\n                  $matrix_sample_id = $matrix_key[1];\n                  chomp $matrix_barcode;\n                  chomp $matrix_sample_id;\n                  move $bam_file, $bam_directory.\"/\".$matrix_sample_id.\"_\".$matrix_barcode.\".bam\";\n                }       \n        }\n\n}\n</code></pre>\n"}, {"tags": ["perl", "unix", "tls1.2", "lwp"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468002850, "post_id": 38272919, "comment_id": 63965863, "body": "I&#39;m afraid you need to do some more debugging before we can help. That <code>SSL negotiation failed</code> is suspicious, as it&#39;s a common problem that the required SSL module isn&#39;t installed. Do you know any Perl at all? Presumably this isn&#39;t something that you want to let us test ourselves?"}, {"owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468003168, "post_id": 38272919, "comment_id": 63966043, "body": "Hi Borodin,Unfortunately I do not know Perl at all, though I know other languages and dont mind trying to figure it out. You mentioned a required SSL module not being installed. Do you happen to know what module that might be? I don&#39;t mind providing some more info if it will help others test and come up with a solution. What other info would you need?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468003284, "post_id": 38272919, "comment_id": 63966109, "body": "Regarding the updates, I would say that it&#39;s unlikely that an upgrade would fix your problems, but it&#39;s always nice to be on the same page as others whom you engage for help. The latest version of LWP is 6.15, and Perl v5.8.8 was released over ten years ago on 31-Jan-2006. So it certainly wouldn&#39;t do any harm, and it may make it easier to find a resolution, but don&#39;t expect it to fix anything."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468003580, "post_id": 38272919, "comment_id": 63966229, "body": "No, not for sure, but <a href=\"https://metacpan.org/pod/IO::Socket::SSL\" rel=\"nofollow noreferrer\">IO::Socket::SSL</a> is a good bet. But I&#39;d much rather debug this than update some things and hope. I suggest that you google &quot;Perl TLS 1.2&quot; as there&#39;s a <i>lot</i> there that should help."}, {"owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468003672, "post_id": 38272919, "comment_id": 63966280, "body": "Is it possible that v5.8.8 is the latest version of Perl for SCO 5.0.7? and do you know if LWP 6.15 supports TLS 1.2? If so, do you think I would have to modify the LWP-REQUEST script manually in order to force it to TLS 1.2?"}, {"owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468003946, "post_id": 38272919, "comment_id": 63966403, "body": "So then I need to install the IO::Socket:SSL module, and then modify the LWP-REQUEST script to add this functionality manually?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468004628, "post_id": 38272919, "comment_id": 63966768, "body": "<i>&quot;Is it possible that v5.8.8 is the latest version of Perl for SCO 5.0.7?&quot;</i> It&#39;s highly unlikely. If there are no repercussions then you should go straight for v5.24. The Perl team are exceptionally hot on backward-compatability and you should see very few issues. And I really can&#39;t tell what you should do, I&#39;m sorry. I have almost no information, and presumably you can&#39;t let me connect and test myself?"}, {"owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468008171, "post_id": 38272919, "comment_id": 63968391, "body": "Probably not, but perhaps i can provide you with the connection details and a sample file to try and test with?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468240145, "post_id": 38274839, "comment_id": 64030410, "body": "Hi Steffen,thanks for the detailed response! I checked, and our OpenSSL version is 0.9.7i. We are currently in talks to update our system, but I have a feeling that the costs will be too high to migrate to a newer OS.  So if i update OpenSSL, and then I update Perl and LWP as well, would the newer LWP incorporate the newer OpenSSL? or do i need to go into the script anyways and modify it myself to use Crypt:SSLeay or Net::SSLeay? Thanks again for your help!"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468246340, "post_id": 38274839, "comment_id": 64034977, "body": "@scohenr: LWP uses Net::SSLeay or Crypt::SSLeay (probably Crypt::SSLeay in case of your old LWP). If this *::SSLeay library is linked with the newer openssl than LWP will automatically pick this up."}, {"owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468252309, "post_id": 38274839, "comment_id": 64039075, "body": "Thanks for the info! Is there any way I can verify which *::SSLeay library is being used, and whether it is linked?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468255785, "post_id": 38274839, "comment_id": 64040955, "body": "To find out which *::SSLeay library is loaded check %INC once you&#39;ve tried to access a https URL. Then you will find either <code>$INC{&#39;Net&#47;SSLeay.pm&#39;}</code> or  <code>$INC{&#39;Crypt&#47;SSLeay.pm&#39;}</code>  set. How the linked version is checked depends on the module but you can also use <code>strace</code> to see where libssl.so is loaded from."}, {"owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468261694, "post_id": 38274839, "comment_id": 64043975, "body": "Forgive me but I&#39;m new to most of this, so I&#39;m not sure where I&#39;m supposed to run the commands you listed. Am I supposed to modify the lwp-request script and put the %INC or strace commands in there? Or do I run strace from the command prompt before I execute the lwp-request command?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468262903, "post_id": 38274839, "comment_id": 64044598, "body": "@scohenr: check <a href=\"http://pastebin.com/rTm7GnGN\" rel=\"nofollow noreferrer\">pastebin.com/rTm7GnGN</a> for code. As for strace - try <code>strace -e open perl your-code.pl 2&gt;&amp;1 | grep libssl</code>"}, {"owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468263746, "post_id": 38274839, "comment_id": 64045030, "body": "ok, so i took the sample code from the page you sent, saved it in a file, and then tried to execute it using the strace command, and I got no result. Should i have gotten a result? Or should i be trying this with my <code>&quot;lwp-request -m POST https:&#47;&#47;url.com &lt; REQUESTFILE.XML &gt; RESPONSEFILE.XML&quot;</code> command?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468266168, "post_id": 38274839, "comment_id": 64046310, "body": "@scohenr: no, you should simple execute this file with perl to first find out if you use Crypt::SSLeay or Net::SSLeay. The strace is for your code, not for the pastebin code. But even then it should work with the pastebin code too. If you did not get any result then you might have no libssl.so on your system. In any case - the strace should be done to verify that you are using the new library which you obviously not do (did you even compile a new openssl?)"}, {"owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468268270, "post_id": 38274839, "comment_id": 64047375, "body": "No i have not compiled a new openssl yet.  I took your advice and executed the pastebin script by itself, and i got <code>using Crypt::SSLeay with unknown openssl version</code>. Based on this, do you think LWP would automatically pick it up? What would be my best course of action from here? I&#39;m honestly not sure how to compile/install a new openssl version.  Thanks again for all your help!!"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468269578, "post_id": 38274839, "comment_id": 64048052, "body": "@scohenr: your best choice would be to get a current system and avoid all these problems. If not you will find enough information online on how to compile openssl and perl."}, {"owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "edited": false, "score": 0, "creation_date": 1468270957, "post_id": 38274839, "comment_id": 64048740, "body": "Great! Thanks again for all your help! I really appreciate it!"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 1, "last_activity_date": 1468011111, "last_edit_date": 1468011111, "creation_date": 1468009391, "answer_id": 38274839, "question_id": 38272919, "link": "https://stackoverflow.com/questions/38272919/perl-lwp-request-giving-error-500-using-tls-1-2/38274839#38274839", "title": "Perl &quot;lwp-request&quot; giving error 500 using TLS 1.2", "body": "<p>Given your very old version of Perl (5.8.8, where 5.8.9 was release 2008) and LWP (5.805, 5.806 was released 2007) on a very old OS (SCO OpenServer 5.0.7, last update around 2009) it is likely that you are also running a very old version of OpenSSL. TLS 1.2 was only specified in 2008 and got available in OpenSSL only with 1.0.1 which was released 03/2012, i.e. several years after any software updates to your system.</p>\n\n<p>You can check it it with <code>openssl version</code> and my guess is that it says something about version 0.9.8, i.e. way too old.</p>\n\n<p>To make TLS 1.2 work on this old system you would need to compile a newer version of OpenSSL (at least the latest 1.0.1) and rebuild the Perl modules interfacing with OpenSSL so that they use this new version. Depending on your setup this might be Crypt::SSLeay or Net::SSLeay. And given how old your system  is it is not unlikely that you run in various problems with compiling simply because most don't expect that somebody tries to compile newer software on outdated systems. Thus it might just be easier to upgrade everything to a recent and supported OS instead of trying to fight with an old system.</p>\n"}], "owner": {"reputation": 3, "user_id": 6566482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d747675d7e081934a58d783eb957e2b8?s=128&d=identicon&r=PG&f=1", "display_name": "scohenr", "link": "https://stackoverflow.com/users/6566482/scohenr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2026, "favorite_count": 0, "accepted_answer_id": 38274839, "answer_count": 1, "score": 0, "last_activity_date": 1468011111, "creation_date": 1468001152, "last_edit_date": 1468002682, "question_id": 38272919, "link": "https://stackoverflow.com/questions/38272919/perl-lwp-request-giving-error-500-using-tls-1-2", "title": "Perl &quot;lwp-request&quot; giving error 500 using TLS 1.2", "body": "<p>We've been using a shipping API via our Unix server, specifically SCO Openserver 5.0.7, for a little over a year.</p>\n\n<p>Our system generates XML files, sends them to the server using the <a href=\"http://search.cpan.org/dist/libwww-perl/bin/lwp-request\" rel=\"nofollow\"><code>lwp-request</code> command</a>, receives the response, interprets it, and processes it as needed by our system.</p>\n\n<p>The exact command we use is:</p>\n\n<pre><code>lwp-request -m POST https://url.com &lt; REQUESTFILE.XML &gt; RESPONSEFILE.XML\n</code></pre>\n\n<p>The shipping company is upgrading all servers to require TLS 1.2, and now I get </p>\n\n<blockquote>\n  <p>500 SSL negotiation failed:</p>\n</blockquote>\n\n<p>as a response when using this command.</p>\n\n<p>I'm not sure how to go about making our system compatible.</p>\n\n<ul>\n<li><p>Do I need to update Perl? (Current version is v5.8.8 built for i586-pc-sco3.2v5.0). If so, what is the minimum version to use TLS 1.2?</p></li>\n<li><p>Do I need to update LWP? I believe my LWP version is 5.805 (got this using <code>perl -MLWP -le \"print(LWP-&gt;VERSION)\"</code>)</p></li>\n<li><p>Do I need to go into the <code>lwp-request</code> script and manually modify it?</p></li>\n<li><p>Or is there perhaps another command that does an equivalent job using TLS 1.2?</p></li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468001034, "post_id": 38272494, "comment_id": 63964984, "body": "I suggest that you don&#39;t ask for &quot;clever&quot; ways, or you open yourself to all sorts of nastiness! (Not that they&#39;ll hold back even if you don&#39;t ask)"}, {"owner": {"reputation": 15, "user_id": 3684247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6623d282c95bda7e4a11f4e4c3e4970e?s=128&d=identicon&r=PG&f=1", "display_name": "fexam", "link": "https://stackoverflow.com/users/3684247/fexam"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468001540, "post_id": 38272494, "comment_id": 63965238, "body": "heh. I was just using it as shorthand for &quot;a relatively common perl-ism that I just haven&#39;t heard of yet&quot;. I&#39;m aware of the problem of writing code that is too clever."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468002329, "post_id": 38272494, "comment_id": 63965601, "body": "Yeah, I pretty much understood that. I&#39;m just warning that it may not be read as you intended!"}], "answers": [{"tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1468000538, "creation_date": 1468000538, "answer_id": 38272784, "question_id": 38272494, "link": "https://stackoverflow.com/questions/38272494/exchange-hash-values-without-temporary-variable/38272784#38272784", "title": "Exchange hash values without temporary variable", "body": "<p>There are far more grave sins in coding that declaring a lexical temp variable, but since you're asking let me throw an idea at you.</p>\n\n<p>If you'll be doing any significant work with <code>$hashref-&gt;{$irrelevant}</code>, perhaps you should grab a copy of it specifically, to both make your code briefer for a maintenance programmer &amp; cut out a level of dereferencing with every use.</p>\n\n<p>For example:</p>\n\n<pre><code># capture inner reference 'cause we'll be using it alot anyway...\nmy $ir_h_ref = $hashref-&gt;{$irrelevant};\n\n#stuff here\n\n# Do swap with shorter reference chain\n( $ir_h_ref-&gt;{$key1}, $ir_h_ref-&gt;{$key2} ) = \n    ( $ir_h_ref-&gt;{$key2}, $ir_h_ref-&gt;{$key1} );\n</code></pre>\n\n<p>Now this new variable is probably not worth it <em>just</em> for the sake of the switch, but if you'll be doing much more with that hash in the same code block, it just may become attractive.</p>\n"}, {"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1468000778, "post_id": 38272799, "comment_id": 63964851, "body": "Slices.  Nice solution."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1468002414, "last_edit_date": 1468002414, "creation_date": 1468000596, "answer_id": 38272799, "question_id": 38272494, "link": "https://stackoverflow.com/questions/38272494/exchange-hash-values-without-temporary-variable/38272799#38272799", "title": "Exchange hash values without temporary variable", "body": "<p>You people who hide \"irrelevant\" data meanings aren't doing anyone any favours. We still have to write a solution, but it has to be in abstract terms that make no sense either to you or me!</p>\n\n<p>The neatest way I can think of is with a pair of hash slices</p>\n\n<pre><code>my $irrelevant_href = $hashref-&gt;{$irrelevant};\n\n@{$irrelevant_href}{$key1, $key2} = @{$irrelevant_href}{$key2, $key1};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1468007659, "last_edit_date": 1468007659, "creation_date": 1468000741, "answer_id": 38272825, "question_id": 38272494, "link": "https://stackoverflow.com/questions/38272494/exchange-hash-values-without-temporary-variable/38272825#38272825", "title": "Exchange hash values without temporary variable", "body": "<p>Create a sub to make it clear what the long line full of symbols is doing.</p>\n\n<pre><code>sub swap { ($_[0], $_[1]) = ($_[1], $_[0]) }\n</code></pre>\n\n<p>And it also makes the line shorter.</p>\n\n<pre><code>swap($hashref-&gt;{$irrelevant}{$key1}, $hashref-&gt;{$irrelevant}{$key2});\n</code></pre>\n\n<p>You could even use</p>\n\n<pre><code>swap(@{ $hashref-&gt;{$irrelevant} }{ $key1, $key2 });\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3684247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6623d282c95bda7e4a11f4e4c3e4970e?s=128&d=identicon&r=PG&f=1", "display_name": "fexam", "link": "https://stackoverflow.com/users/3684247/fexam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 38272799, "answer_count": 3, "score": 0, "last_activity_date": 1468007659, "creation_date": 1467999434, "last_edit_date": 1468002353, "question_id": 38272494, "link": "https://stackoverflow.com/questions/38272494/exchange-hash-values-without-temporary-variable", "title": "Exchange hash values without temporary variable", "body": "<p>I have two hash values a couple of levels deep in a data structure that I would like to exchange and then switch back later. </p>\n\n<p><code>$hashref-&gt;{$irrelevant}{$key1}</code> and <code>$hashref-&gt;{$irrelevant}{$key2}</code></p>\n\n<p>Since they are such long names, <code>($a, $b) = ($b, $a)</code> would be way too long for a single line of code.</p>\n\n<p>Is there a way to do this elegantly, or am I stuck taking up three lines by exchanging with a temporary variable?</p>\n"}, {"tags": ["perl", "rest"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468001934, "post_id": 38271560, "comment_id": 63965427, "body": "This isn&#39;t an answer, because I&#39;m unfamiliar with <code>REST::Client</code>, but looking at the source, it&#39;s not a subclass of <code>LWP::UserAgent</code> at all, but a thing that provides its own methods through both <code>LWP::UserAgent</code> and <a href=\"https://metacpan.org/pod/URI\" rel=\"nofollow noreferrer\"><code>URI</code></a>. Somewhat like <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize</code></a>, it provides a higher-level functional layer but allows access to the underlying <code>LWP::UserAgent</code> object through the <code>getUseragent</code> method. I think you must experiment with it before you know whether it suits you."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468002157, "post_id": 38272373, "comment_id": 63965525, "body": "<code>DELETE</code>, <code>PUT</code>, and <code>PATCH</code> are standard HTTP methods, and not specific to REST services. (I refuse to talk about <i>RESTful</i>.) I don&#39;t see where <code>REST::Client</code> supports XML parsing?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468002748, "post_id": 38272373, "comment_id": 63965820, "body": "@Borodin: &quot;responseXpath () - A convienience wrapper that returns a XML::LibXML xpath context for the body content. Assumes the content is XML.&quot;. And yes,  methods like DELETE, PUT... are standard HTTP but not specifically exposed in LWP. REST::Client is just a small wrapper around LWP::UserAgent which might make the code more easy to understand for developers familiar with REST."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 1, "last_activity_date": 1467998856, "creation_date": 1467998856, "answer_id": 38272373, "question_id": 38271560, "link": "https://stackoverflow.com/questions/38271560/restclient-vs-lwpuseragent-perl-class-to-access-google-api/38272373#38272373", "title": "REST::Client vs LWP::UserAgent Perl class to access Google API?", "body": "<p>REST::Client is mostly a wrapper around LWP::UserAgent. It adds some methods for easier access to functionality needed for REST (i.e. DELETE, PUT, PATCH.. etc methods, XML parsing). If you don't need any of these you could simply use LWP::UserAgent directly.</p>\n"}, {"tags": [], "owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "is_accepted": false, "score": 1, "last_activity_date": 1539689189, "last_edit_date": 1539689189, "creation_date": 1539241318, "answer_id": 52754139, "question_id": 38271560, "link": "https://stackoverflow.com/questions/38271560/restclient-vs-lwpuseragent-perl-class-to-access-google-api/52754139#52754139", "title": "REST::Client vs LWP::UserAgent Perl class to access Google API?", "body": "<p>Unfortunately CPAN is rather polluted with modules claiming to support Google API Services. I've often found it frustrating that I've had to use different modules for each service and typically try out a few before finding each of these. Once you become familiar with the OAUTH2 dance and managing your tokens you can use a range of modules to perform lower level queries to directly access the API Endpoints. It is worth searching around for Swagger/OpenAPI resources as I expect that this is what the Ninjas probably use as you can probably dynamically configure a client based on the Swagger/OpenAPI yaml or json config using something like <a href=\"https://metacpan.org/pod/OpenAPI::Client\" rel=\"nofollow noreferrer\">OpenAPI::Client</a>. \nBut beyond a simple OAUTH2 client to gain access to the endpoints ( there are many examples if you search for 'perl'+'Google api'+'OAUTH2'+'Client'+'example' ) often the services are sophisticated enough to require some decent functionality to manipulate the payloads. \nAt the time of writing I'm actually in the process of trying to clean up a rather poorly implemented rough code base that you can install by doing</p>\n\n<pre><code>see https://pscott-au.github.io/WebService-Google-Client/\n</code></pre>\n\n<p>This isn't aligned with the CPAN version. One handy tool included to help get started is a little command line utility <code>goauth</code> that runs a mini weberver to help you generate tokens etc. In the examples folder you can see how you can use this to send an email through the Gmail API service which was my initial motivation. </p>\n\n<p>There is a commitment for ongoing development of this ( and potentially move into cpan once I consider it of suitable general use. Likely to be released under a different namespace if I can't align with the WebService-Google-Client author.</p>\n\n<p>If you are interested in specific use cases or just want a hand using the Google API services with Perl then reach out and I'll help if I can.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "accepted_answer_id": 38272373, "answer_count": 2, "score": 0, "last_activity_date": 1539689189, "creation_date": 1467995461, "last_edit_date": 1468001264, "question_id": 38271560, "link": "https://stackoverflow.com/questions/38271560/restclient-vs-lwpuseragent-perl-class-to-access-google-api", "title": "REST::Client vs LWP::UserAgent Perl class to access Google API?", "body": "<p>For Google API, should we use <a href=\"https://metacpan.org/pod/REST::Client\" rel=\"nofollow\"><code>REST::Client</code></a>\n or its base class <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow\"><code>LWP::UserAgent</code></a>?</p>\n\n<p>I see no particular reason to use <code>REST::Client</code>, but this class was created with some purpose. What is that purpose?</p>\n"}, {"tags": ["windows", "perl", "cmd", "cygwin"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467999824, "post_id": 38271363, "comment_id": 63964397, "body": "I see you have named yourself <i>JustStarted</i>, presumably as a preemptive defence against criticism. But you need a <i>lot</i> more whitespace in your code, as it will help others whom you&#39;ve asked for help to read what you&#39;ve written, and it will also be clearer to you tomorrow when you face the same screenful of characters again! <code>T</code> isn&#39;t a good name for anything except perhaps a time variable, and <code>$i</code> is generally an array index, but certainly not a file name. Funny that the text that you <i>print</i> is proper English, like <code>Test</code> and <code>Printed</code>! You should make your program equally readable."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468000128, "post_id": 38271363, "comment_id": 63964539, "body": "Oh, and I think you should change your name to something realistic, like <code>Pretty damn good</code>, otherwise you&#39;re just hiding and never growing."}, {"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468038425, "post_id": 38271363, "comment_id": 63975481, "body": "@Borodin Thanks for your comments, I have changed the code to make it more readable. And for my name, I am still learning (as you can see by my reputation ) it is not a defence against criticism. I accept all criticisms without any argument. Obviously I will change my name as I learn more and more. And thanks for the suggested name <code>pretty damn good</code>. haha.. I am not that good in coding to use that name. :)"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1468038904, "post_id": 38272526, "comment_id": 63975555, "body": "Thanks @Borodin, even after updating the code, nothing is printed in file and I cannot see any message on cmd console as well.  <code>C:\\Users\\TD&gt;C:\\cygwin64\\bin\\perl.exe C:\\cygwin64\\home\\TD\\GMAT\\test.pl Printed</code> Running the same script through cygwin console, &#39;Test&#39; text got printed in file."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467999613, "creation_date": 1467999613, "answer_id": 38272526, "question_id": 38271363, "link": "https://stackoverflow.com/questions/38271363/print-in-file-using-perl-code-but-running-it-through-cmd/38272526#38272526", "title": "Print in file using perl code but running it through cmd", "body": "<p>You must always <code>use strict</code> and <code>use warnings 'all'</code> and check the status of every <code>open</code> call. It's also best to use lexical file handles instead of global ones. Lexical file handles are closed implicitly when the handle goes out of scope. So your code should look like this</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nmy $file = 'testing.txt';\n\n{\n    open my $fh,'&gt;&gt;', $file or die qq{Unable to open \"$file\" for appending: $!};\n    print $fh \"Test\\n\";\n}\n\nprint \"Printed\\n\";\n</code></pre>\n\n<p>If you run that instead then the messages will tell you why it is going wrong</p>\n"}], "owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1468038667, "creation_date": 1467994811, "last_edit_date": 1468038667, "question_id": 38271363, "link": "https://stackoverflow.com/questions/38271363/print-in-file-using-perl-code-but-running-it-through-cmd", "title": "Print in file using perl code but running it through cmd", "body": "<p>I am trying to print a text in one file using the below code:\ntest.pl</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $file=\"testing.txt\";\n\nopen(INP_FILE,'&gt;&gt;',$file);\n    print INP_FILE \"Test\\n\";\nclose(INP_FILE);\nprint \"Text is Printed\\n\";\n</code></pre>\n\n<p>While running it through cygwin, I am able to print it in file. But when running the same file through cmd using below command, it does print \"Printed\" on console but file is not written with 'Test' text.</p>\n\n<pre><code>C:\\Users\\TD&gt;C:\\cygwin64\\bin\\perl.exe /home/TD/GMAT/test.pl\nPrinted\nC:\\Users\\TD&gt;\n</code></pre>\n\n<p>Basically I am just testing the functionality, later on I will run system command to take backup from my database. And I am trying to run this cmd through task scheduler to take automatic backup.</p>\n\n<p>In windows task scheduler, I am opening cmd.exe and giving the argument as <code>/c C:\\cygwin64\\bin\\perl.exe /home/TD/GMAT/test.pl</code></p>\n\n<p>This command is closing the window after running the script and I am not able to check the output from cmd console but printing the file in cygwin console. </p>\n\n<p><strong>Let me know if there is any other method to automate the process of running the perl script through task scheduler</strong></p>\n"}, {"tags": ["perl", "authentication", "dancer"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468534584, "post_id": 38270300, "comment_id": 64180057, "body": "FYI, not many people follow the dancer tag, so you&#39;ll get more eyes on your Dancer questions if you also include the perl tag."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468591981, "post_id": 38270300, "comment_id": 64204932, "body": "What are the extra parameters you need to pass in and where do they come from? Does the user enter them?"}, {"owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468950480, "post_id": 38270300, "comment_id": 64334427, "body": "The parameter is just a string that will determine some additional info needed to authentication the users."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468952131, "post_id": 38270300, "comment_id": 64335442, "body": "That doesn&#39;t answer my questions. I asked those questions because you can&#39;t pass additional parameters to <code>authenticate_user</code> without making changes to Dancer2::Plugin::Auth::Extensible itself, so you will need another way of getting that &quot;additional info&quot;. How you do that depends on what exactly your unspecified string <i>is</i> and where it comes from."}, {"owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1496156353, "post_id": 38270300, "comment_id": 75539470, "body": "I added some code above to revive this question."}, {"owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1496168393, "post_id": 38270300, "comment_id": 75546518, "body": "It appears that I can use the session to store the information that I need.  I need to make sure that I store the parameter in the session and then can retrieve it using <code>$self-&gt;plugin-&gt;dsl-&gt;session-&gt;{param_name}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "is_accepted": false, "score": 1, "last_activity_date": 1496173225, "last_edit_date": 1496173225, "creation_date": 1496168487, "answer_id": 44269298, "question_id": 38270300, "link": "https://stackoverflow.com/questions/38270300/dancer2-authentication/44269298#44269298", "title": "Dancer2 Authentication", "body": "<p>It appears that I can use the session to store the information that I need.  I need to make sure that I store the parameter in the session and then can retrieve it using <code>$self-&gt;plugin-&gt;dsl-&gt;session-&gt;data-&gt;{param_name}</code>.</p>\n"}], "owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1496173225, "creation_date": 1467991442, "last_edit_date": 1496156309, "question_id": 38270300, "link": "https://stackoverflow.com/questions/38270300/dancer2-authentication", "title": "Dancer2 Authentication", "body": "<p>I'm trying to use the Dancer2 plugin: <a href=\"https://metacpan.org/pod/Dancer2::Plugin::Auth::Extensible\" rel=\"nofollow noreferrer\">Dancer2::Plugin::Auth::Extensible</a> with my own authentication provider because there is an existing one in the project I'm working on.  </p>\n\n<p>I have adapted <a href=\"https://metacpan.org/pod/Dancer2::Plugin::Auth::Extensible::Provider::Example\" rel=\"nofollow noreferrer\">the given example</a>, however I need to pass a couple of parameters to both the <code>authenticate_user</code> and <code>users</code> subroutine.  The parameter is dynamic, so I can't add it via the configuration file.  </p>\n\n<p>I have an inelegent method to pass it in with the username as a string (concatenated) and then split it inside the <code>authenticate_user</code>, but this won't work with the <code>users</code> subroutine.  And this just isn't the right way to do it.</p>\n\n<p>I also tried passing it as a regular parameter, like</p>\n\n<pre><code>sub authenticate_user {\n   my ($self, $username_course, $password, $realm,$param) = @_; \n</code></pre>\n\n<p>but this didn't work (not sure why), and it won't work for <code>users</code>, which no parameters. </p>\n\n<p>I've thought that since this is a Dancer2::Plugin that I could leverage some of that, but not exactly how to adapt the existing Plugin.  This is what I've tried:</p>\n\n<pre><code>package Dancer2::Plugin::Auth::Extensible::Provider::Test;\n\nuse Moo;\nwith \"Dancer2::Plugin::Auth::Extensible::Role::Provider\";\n\nhas authen_param =&gt; (is =&gt; 'rw');\n\nplugin_keywords 'set_param';  # this fails compilation\n\n\nsub set_param {\n  my ($self,$p) = @_;\n  $self-&gt;authen_param($p);\n}\n\nsub authenticate_user {\n  my ($self, $username, $password) = @_;\n\n  # use authen_param to authenticate\n}\n1\n</code></pre>\n"}, {"tags": ["regex", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 2192, "user_id": 1984289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8439edb6b6125f42df7333c3fca61bd0?s=128&d=identicon&r=PG", "display_name": "Fazlin", "link": "https://stackoverflow.com/users/1984289/fazlin"}, "edited": false, "score": 2, "creation_date": 1467989720, "post_id": 38269687, "comment_id": 63958770, "body": "Please add your expected output from the given input."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1467989820, "post_id": 38269687, "comment_id": 63958846, "body": "Use <code>jq</code> for parsing JSON data"}, {"owner": {"reputation": 1693, "user_id": 3906452, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5r8V4.png?s=128&g=1", "display_name": "cardinal-gray", "link": "https://stackoverflow.com/users/3906452/cardinal-gray"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1467990027, "post_id": 38269687, "comment_id": 63959004, "body": "@anubhava all I know about JQ is that it&#39;s named JQ :("}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1467990797, "post_id": 38269687, "comment_id": 63959508, "body": "If it is valid JSON, the value of <code>loyaltyCard</code> should already be quoted if necessary."}, {"owner": {"reputation": 1693, "user_id": 3906452, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5r8V4.png?s=128&g=1", "display_name": "cardinal-gray", "link": "https://stackoverflow.com/users/3906452/cardinal-gray"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1467991024, "post_id": 38269687, "comment_id": 63959669, "body": "@chepner nope, it&#39;s not a valid json, and I can&#39;t do anything with that :("}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1467991056, "post_id": 38269687, "comment_id": 63959691, "body": "You&#39;re trying to fix this in the wrong place, then."}], "answers": [{"tags": [], "owner": {"reputation": 395, "user_id": 1100219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783c3326adf4b1876a1a41eb8099fd23?s=128&d=identicon&r=PG", "display_name": "Alexander Davydov", "link": "https://stackoverflow.com/users/1100219/alexander-davydov"}, "is_accepted": false, "score": 0, "last_activity_date": 1467990466, "last_edit_date": 1467990466, "creation_date": 1467989877, "answer_id": 38269753, "question_id": 38269687, "link": "https://stackoverflow.com/questions/38269687/put-in-double-quotes-all-between-two-patterns-in-every-line/38269753#38269753", "title": "Put in double quotes all between two patterns in every line", "body": "<pre><code>s/: (\\d+)/: \"$1\"/ might do the trick\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1693, "user_id": 3906452, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5r8V4.png?s=128&g=1", "display_name": "cardinal-gray", "link": "https://stackoverflow.com/users/3906452/cardinal-gray"}, "edited": false, "score": 0, "creation_date": 1467990573, "post_id": 38269816, "comment_id": 63959366, "body": "Thank you, mate. Please, tell me, how can I transform it to use in vim? (if I can)"}, {"owner": {"reputation": 1693, "user_id": 3906452, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5r8V4.png?s=128&g=1", "display_name": "cardinal-gray", "link": "https://stackoverflow.com/users/3906452/cardinal-gray"}, "edited": false, "score": 0, "creation_date": 1467991820, "post_id": 38269816, "comment_id": 63960220, "body": "U&#39;re goddamn lifesaver, mate, thank you for your prompt reply, I&#39;ve just thought I&#39;ll lose my mind f**ng around this"}], "tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": true, "score": 1, "last_activity_date": 1467991420, "last_edit_date": 1467991420, "creation_date": 1467990038, "answer_id": 38269816, "question_id": 38269687, "link": "https://stackoverflow.com/questions/38269687/put-in-double-quotes-all-between-two-patterns-in-every-line/38269816#38269816", "title": "Put in double quotes all between two patterns in every line", "body": "<p>If you want to wrap up loyaltyCard value in double quotes, you can use a regex like this:</p>\n\n<pre><code>(loyaltyCard\": )([^}]*)\\}\n</code></pre>\n\n<p>With a replacement string:</p>\n\n<pre><code>\\1\"\\2\"}\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/gJ8yT4/3\" rel=\"nofollow noreferrer\">Regex demo</a></strong></p>\n\n<p><strong>Update</strong> for Vim: to find/replace in vim you can use:</p>\n\n<pre><code>:%s/\\(loyaltyCard\": \\)\\([^}]*\\)\\}/\\1\"\\2\"}/\n ^ ^----------------------------^ ^-----^\n | + Pattern1 (w/capture groups)  + Pattern 2 (w/ group refs)\n + substitute cmd\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/TK0jL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TK0jL.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1467991395, "creation_date": 1467991395, "answer_id": 38270282, "question_id": 38269687, "link": "https://stackoverflow.com/questions/38269687/put-in-double-quotes-all-between-two-patterns-in-every-line/38270282#38270282", "title": "Put in double quotes all between two patterns in every line", "body": "<p>This is one of the way:</p>\n\n<pre><code> m/\"loyaltyCard\"\\:\\s*\"([^\"]*)\"/g;\n</code></pre>\n\n<p>If you want to give a escape sequence for quotes your wish.</p>\n"}], "owner": {"reputation": 1693, "user_id": 3906452, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5r8V4.png?s=128&g=1", "display_name": "cardinal-gray", "link": "https://stackoverflow.com/users/3906452/cardinal-gray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 38269816, "answer_count": 3, "score": 0, "last_activity_date": 1467991420, "creation_date": 1467989663, "last_edit_date": 1467989842, "question_id": 38269687, "link": "https://stackoverflow.com/questions/38269687/put-in-double-quotes-all-between-two-patterns-in-every-line", "title": "Put in double quotes all between two patterns in every line", "body": "<p>I have ndjson file, with strings like this:</p>\n\n<pre><code>{\"created\": \"2016-03-08 00:00:00 UTC\", \"changed\": \"2016-03-08 08:51:56 UTC\", \"rev\": 28990, \"status\": 1, \"user\": [{\"user_id\": null, \"name\": null, \"loyaltyCard\": 123456789012}], \"id\": \"26680533564\", \"tax\": null, \"products\": [{\"price\": 289, \"quantity\": 1, \"coupon\": null, \"id\": \"4122\"}],  \"shipping\": 0.0}\n</code></pre>\n\n<p>I need to take in double quotes values of \"loyaltyCard\", considering, that it could be digits, letters (cyrillic also) and anything else. </p>\n\n<p>Expecting to see something like:</p>\n\n<pre><code>UTC\", \"rev\": 280, \"status\": 1, \"user\": [{\"user_id\": null, \"name\": null, \"loyaltyCard\": \"123456789012\"}], \"id\": \"26680533564\", \"tax\": null, \"products\": [{\"price\": 289, \"quantity\": 1, \"coupon\": null, \"id\": \"4122\"}],  \"shipping\": 0.0}\nUTC\", \"rev\": 56990, \"status\": 1, \"user\": [{\"user_id\": 543445, \"name\": null, \"loyaltyCard\": \"1233bla456bla\"}], \"id\": \"5454580534\", \"tax\": null, \"products\": [{\"price\": 869, \"quantity\": 2, \"coupon\": null, \"id\": \"86854\"}],  \"shipping\": 0.0}\n</code></pre>\n"}, {"tags": ["perl", "hash", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 5817, "user_id": 4742108, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/GvE0m.jpg?s=128&g=1", "display_name": "Velkan", "link": "https://stackoverflow.com/users/4742108/velkan"}, "is_accepted": true, "score": 0, "last_activity_date": 1467987904, "creation_date": 1467987904, "answer_id": 38269087, "question_id": 38268717, "link": "https://stackoverflow.com/questions/38268717/use-hashes-in-perl-htmltemplatecompiled/38269087#38269087", "title": "Use hashes in Perl HTML::Template::Compiled", "body": "<p>That's the <code>loop_context_vars</code> option.</p>\n\n<pre><code>my $template = HTML::Template::Compiled-&gt;new(loop_context_vars =&gt; 1, filename =&gt; '/usr/share/nginx/status.tmpl');\n</code></pre>\n"}], "owner": {"reputation": 5817, "user_id": 4742108, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/GvE0m.jpg?s=128&g=1", "display_name": "Velkan", "link": "https://stackoverflow.com/users/4742108/velkan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 38269087, "answer_count": 1, "score": 0, "last_activity_date": 1467987904, "creation_date": 1467986852, "last_edit_date": 1467987504, "question_id": 38268717, "link": "https://stackoverflow.com/questions/38268717/use-hashes-in-perl-htmltemplatecompiled", "title": "Use hashes in Perl HTML::Template::Compiled", "body": "<p>Can't show hash keys and values.</p>\n\n<p>The code is like from the examples at <a href=\"http://search.cpan.org/~tinita/HTML-Template-Compiled-1.003/lib/HTML/Template/Compiled.pm\" rel=\"nofollow\">http://search.cpan.org/~tinita/HTML-Template-Compiled-1.003/lib/HTML/Template/Compiled.pm</a></p>\n\n<pre><code>use HTML::Template::Compiled;\n\nmy $template = HTML::Template::Compiled-&gt;new(filename =&gt; '/usr/share/nginx/status.tmpl');\n\n$template-&gt;param(\n    letters =&gt; {\n        1 =&gt; { letter =&gt;'b' },\n        2 =&gt; { letter =&gt;'a' },\n        3 =&gt; { letter =&gt;'c' },\n    }, \n);\n\nprint($template-&gt;output);\n</code></pre>\n\n<p>Template:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;Test Template&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n    &lt;%each letters%&gt;\n        &lt;%set_var val value=__value__ %&gt;\n        &lt;%= __key__ %&gt;=&lt;%= $val.letter %&gt;\n    &lt;%/each%&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The result is '= = ='. So the <code>__key__</code> and <code>__value__</code> aren't printed at all. That happens even without nested hashes, but this example code is the simplest of the ones on the documentation page.</p>\n\n<p>What's wrong with this code?</p>\n"}, {"tags": ["perl", "split"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1467987369, "post_id": 38268667, "comment_id": 63957229, "body": "what do you mean by &quot;next string&quot;?  is this part of a bigger string?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6271225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a140add695b1e45f7d5aff05544f3816?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Widdicombe", "link": "https://stackoverflow.com/users/6271225/jonathan-widdicombe"}, "reply_to_user": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "edited": false, "score": 0, "creation_date": 1467987839, "post_id": 38268774, "comment_id": 63957538, "body": "Ah, I only answer questions when drunk. They should use system then to run sed"}, {"owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "edited": false, "score": 0, "creation_date": 1467987938, "post_id": 38268774, "comment_id": 63957607, "body": "Yes, you should be really drunk to use <code>system</code> and <code>sed</code> to cut a piece from a string with Perl... :-)))"}, {"owner": {"reputation": 11, "user_id": 6271225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a140add695b1e45f7d5aff05544f3816?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Widdicombe", "link": "https://stackoverflow.com/users/6271225/jonathan-widdicombe"}, "reply_to_user": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "edited": false, "score": 0, "creation_date": 1468231298, "post_id": 38268774, "comment_id": 64024694, "body": "You need to be drunk to use Perl don&#39;t you? I thought that was a system requirement"}], "tags": [], "owner": {"reputation": 11, "user_id": 6271225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a140add695b1e45f7d5aff05544f3816?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Widdicombe", "link": "https://stackoverflow.com/users/6271225/jonathan-widdicombe"}, "is_accepted": false, "score": 0, "last_activity_date": 1467987017, "creation_date": 1467987017, "answer_id": 38268774, "question_id": 38268667, "link": "https://stackoverflow.com/questions/38268667/remove-characters-after-a-certain-character/38268774#38268774", "title": "remove characters after a certain character", "body": "<p>depends what environment you're using and tools you have available but something like this would work in bash</p>\n\n<p><code>sed -e \"s/\\..*$//\"</code></p>\n\n<p>would work. . is escaped \".\" second . the matches anything and * matches 0 or more times, $ matches end of line</p>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1467987084, "creation_date": 1467987084, "answer_id": 38268796, "question_id": 38268667, "link": "https://stackoverflow.com/questions/38268667/remove-characters-after-a-certain-character/38268796#38268796", "title": "remove characters after a certain character", "body": "<p>Just try this:</p>\n\n<pre><code> /\\b([^\\.]*)\\.([0-9a-z]*)\\b/$1/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1467987324, "post_id": 38268826, "comment_id": 63957196, "body": "you should always check if index succeeds; because it returns -1 on failure, it doesn&#39;t work well otherwise.  for instance, if <code>$x</code> is <code>&#39;12345&#39;</code>, <code>$y</code> will be <code>&#39;1234&#39;</code>."}], "tags": [], "owner": {"reputation": 111, "user_id": 6517363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d970822718bb551d3af92243e6e033e1?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan P", "link": "https://stackoverflow.com/users/6517363/ivan-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1467987147, "creation_date": 1467987147, "answer_id": 38268826, "question_id": 38268667, "link": "https://stackoverflow.com/questions/38268667/remove-characters-after-a-certain-character/38268826#38268826", "title": "remove characters after a certain character", "body": "<p>See <a href=\"http://perldoc.perl.org/functions/index.html\" rel=\"nofollow\">perldoc -f</a> index:</p>\n\n<pre><code>$x = \"12345.678\";\n\n$y = substr($x, 0, index($x, '.'));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "is_accepted": false, "score": 1, "last_activity_date": 1467987423, "creation_date": 1467987423, "answer_id": 38268912, "question_id": 38268667, "link": "https://stackoverflow.com/questions/38268667/remove-characters-after-a-certain-character/38268912#38268912", "title": "remove characters after a certain character", "body": "<p>One solution using <a href=\"http://perldoc.perl.org/perlrequick.html\" rel=\"nofollow\">regexps</a> (please, study that document, so you can learn doing it yourself...):</p>\n\n<pre><code>my $num = \"12345.678\";\n$num =~ /(.*)\\.+/;\nprint $1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 316, "user_id": 1394459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1aace9231523ac469adeb838a8a5ceb8?s=128&d=identicon&r=PG", "display_name": "tchike", "link": "https://stackoverflow.com/users/1394459/tchike"}, "edited": false, "score": 0, "creation_date": 1467992403, "post_id": 38268920, "comment_id": 63960582, "body": "thank you, I have another question, how can I do to get the number after &quot;.&quot; (to get 678)?"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 1, "last_activity_date": 1467994083, "last_edit_date": 1467994083, "creation_date": 1467987434, "answer_id": 38268920, "question_id": 38268667, "link": "https://stackoverflow.com/questions/38268667/remove-characters-after-a-certain-character/38268920#38268920", "title": "remove characters after a certain character", "body": "<pre><code>$string = '12345.678';\n\n# remove everything from . on\n$string =~ s/\\..*//s;\n</code></pre>\n\n<p><code>\\.</code> matches a literal <code>.</code>;  <code>.*</code> matches anything remaining in the string (with the /s flag to make it include newlines, which by default it doesn't). </p>\n\n<p>It is also possible you are looking for:</p>\n\n<pre><code>$number = 12345.678;\n$number = int $number;\n</code></pre>\n\n<p>If you want to get what's after the <code>.</code> also, do:</p>\n\n<pre><code>my ($before, $after) = split /\\./, $string, 2;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1467990206, "creation_date": 1467990206, "answer_id": 38269869, "question_id": 38268667, "link": "https://stackoverflow.com/questions/38268667/remove-characters-after-a-certain-character/38269869#38269869", "title": "remove characters after a certain character", "body": "<p>Using <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a>: </p>\n\n<pre><code>my ($num) = split(/\\./, \"12345.678\");\n</code></pre>\n"}], "owner": {"reputation": 316, "user_id": 1394459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1aace9231523ac469adeb838a8a5ceb8?s=128&d=identicon&r=PG", "display_name": "tchike", "link": "https://stackoverflow.com/users/1394459/tchike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1131, "favorite_count": 0, "accepted_answer_id": 38268920, "answer_count": 6, "score": 0, "last_activity_date": 1467994083, "creation_date": 1467986706, "question_id": 38268667, "link": "https://stackoverflow.com/questions/38268667/remove-characters-after-a-certain-character", "title": "remove characters after a certain character", "body": "<p>How can I remove characters from a string after a certain character (for ex:\"<strong>.</strong>\")?</p>\n\n<p>I have the next string <strong>12345.678</strong>. I want to remove all the characters after \".\" and get <strong>12345</strong>. The number of characters after \".\" is variable.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl", "module"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467987120, "post_id": 38268563, "comment_id": 63957060, "body": "The issue is probably in <code>countFreq</code>. <code>$1</code> and <code>$t2</code> must return a valid <code>Text::Document</code> object for <code>$collection -&gt;Add</code> to work. It isn&#39;t exported by either of the modules. Where does it come from?"}, {"owner": {"reputation": 13, "user_id": 6565550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38605f063d28866483033222a431789?s=128&d=identicon&r=PG&f=1", "display_name": "Filetti", "link": "https://stackoverflow.com/users/6565550/filetti"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467987399, "post_id": 38268563, "comment_id": 63957250, "body": "countFreq creates a new Text::Document file and reads through the file assigning it to $t1. It returns $t1. I use this so the file type works with the collection and WeightedCosineSimilarity method."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467987409, "post_id": 38268563, "comment_id": 63957258, "body": "Please always <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every Perl program"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467987446, "post_id": 38268563, "comment_id": 63957281, "body": "Thank you. Please show the code for <code>countFreq</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467987536, "post_id": 38268563, "comment_id": 63957336, "body": "You clearly didn&#39;t <code>use warnings &#39;all&#39;</code> unless you did so in addition to <code>use warnings</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467987705, "post_id": 38268563, "comment_id": 63957454, "body": "Also, are there two documents on line somewhere that I can use to test with please?"}, {"owner": {"reputation": 13, "user_id": 6565550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38605f063d28866483033222a431789?s=128&d=identicon&r=PG&f=1", "display_name": "Filetti", "link": "https://stackoverflow.com/users/6565550/filetti"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467987874, "post_id": 38268563, "comment_id": 63957564, "body": "I&#39;ve been testing it with text documents including just a few sentences. You could test it with any two different text documents."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467988111, "post_id": 38268563, "comment_id": 63957707, "body": "Do you also get <code>Use of uninitialized value $wSim in concatenation</code>? And what should I do for <code>coll.db</code>?"}, {"owner": {"reputation": 13, "user_id": 6565550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38605f063d28866483033222a431789?s=128&d=identicon&r=PG&f=1", "display_name": "Filetti", "link": "https://stackoverflow.com/users/6565550/filetti"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467988898, "post_id": 38268563, "comment_id": 63958189, "body": "No I don&#39;t get that. &#39;coll.db&#39; is part of what I don&#39;t understand. There&#39;s no &#39;coll.db&#39; in my computer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467990832, "post_id": 38268563, "comment_id": 63959529, "body": "The only way you will ever be able to test your code reliably is to obtain two text files whose <i>weighted cosine similarity</i> is known. I have succeeded in getting zero instead of <code>undef</code> from the method, but I cannot achieve a useful value no matter how similar or different, long or short I make the sample texts"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1601505108, "last_edit_date": 1601505108, "creation_date": 1467989395, "answer_id": 38269591, "question_id": 38268563, "link": "https://stackoverflow.com/questions/38268563/cant-get-weighted-cosine-similarity-to-work/38269591#38269591", "title": "Cant get Weighted Cosine Similarity to work", "body": "\n<p>###Update</p>\n<p>Here's an example program that works fine. It's based on looking at the test code in the distribution for inspiration</p>\n<p>I was expecting the test to be much less sensitive, so I was getting zeroes from two wildly different text sources. This example adds three short sentences <code>$d1</code>, <code>$d1</code>, and <code>$d3</code>, to a collection <code>$c</code>, and then compares each of the three documents to <code>$d1</code></p>\n<p>Comparing <code>$d1</code> to itself produces 1 -- an exact match, as expected, while comparing <code>$d2</code>and <code>$d3</code> gives 0.087 and 0 respectively -- a partial match and no match at all</p>\n<p>I hope this helps you to resolve your specific issue?</p>\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Text::Document;\nuse Text::DocumentCollection;\n\nmy $d1 = Text::Document-&gt;new;\n$d1-&gt;AddContent( 'my heart belongs to sally webster' );\n\nmy $d2 = Text::Document-&gt;new;\n$d2-&gt;AddContent( 'my heart belongs to the girl next door' );\n\nmy $d3 = Text::Document-&gt;new;\n$d3-&gt;AddContent( 'I want nothing to do with my neighbours' );\n\nmy $c = Text::DocumentCollection-&gt;new( file =&gt; 'coll2.db' );\n\n$c-&gt;Add('one',   $d1);\n$c-&gt;Add('two',   $d2);\n$c-&gt;Add('three', $d3);\n\nfor my $doc ( $d1, $d2, $d3 ) {\n\n    my $wcs = $d1-&gt;WeightedCosineSimilarity(\n        $doc,\n        \\&amp;Text::DocumentCollection::IDF,\n        $c\n    );\n\n    die qq{Invalid parameters for &quot;WeightedCosineSimilarity&quot;} unless defined $wcs;\n\n    print $wcs, &quot;\\n&quot;;\n}\n</code></pre>\n<p>###output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n0.0874311036726221\n0\n</code></pre>\n<br/>\n<hr />\n<p>This is the code for <code>Text::Document::WeightedCosineSimilarity</code></p>\n<pre class=\"lang-perl prettyprint-override\"><code># this is rather rough\nsub WeightedCosineSimilarity\n{\n    my $self = shift;\n    my ($e,$weightFunction,$rock) = @_;\n\n    my ($Dv,$Ev) = ($self-&gt;{terms}, $e-&gt;{terms});\n\n# compute union\n    my %union =  %{$self-&gt;{terms}};\n    my @keyse = keys %{$e-&gt;{terms}};\n    @union{@keyse} = @keyse;\n    my @allkeys = keys %union;\n\n# weighted D\n    my @Dw = map(( defined( $Dv-&gt;{$_} )?\n        &amp;{$weightFunction}( $rock, $_ )*$Dv-&gt;{$_} : 0.0 ),\n        @allkeys\n    );\n\n# weighted E\n    my @Ew = map(( defined( $Ev-&gt;{$_} )?\n        &amp;{$weightFunction}( $rock, $_ )*$Ev-&gt;{$_} : 0.0 ),\n        @allkeys\n    );\n\n# dot product of D and E\n    my $dotProduct = 0.0;\n    map( $dotProduct += $Dw[$_] * $Ew[$_] , 0..$#Dw );\n\n# norm of D\n    my $nD = 0.0;\n    map( $nD += $Dw[$_] * $Dw[$_] , 0..$#Dw );\n    $nD = sqrt( $nD );\n\n# norm of E\n    my $nE = 0.0;\n    map( $nE += $Ew[$_] * $Ew[$_] , 0..$#Ew );\n    $nE = sqrt( $nE );\n\n# dot product scaled by norm\n    if( ($nD==0) || ($nE==0) ){\n        return undef;\n    } else {\n        return $dotProduct / $nD / $nE;\n    }\n}\n</code></pre>\n<p>I'm afraid I don't understand the theory behind what it is doing, but it looks like your problem is that either <code>$nD</code> (&quot;norm of D&quot;) or <code>$nE</code> (&quot;norm of D&quot;) is zero</p>\n<p>All I can suggest is that your two text samples may be too similar/different, or perhaps they are too long/short?</p>\n<p>Either way, your code should look like this so as to catch an invalid return value from the cosine function:</p>\n<pre class=\"lang-perl prettyprint-override\"><code>my $wSim = $t1-&gt;WeightedCosineSimilarity( $t2,\n    \\&amp;Text::DocumentCollection::IDF,\n    $collection\n);\n\ndie qq{Invalid parameters for &quot;WeightedCosineSimilarity&quot;} unless defined $wSim;\n\nprint &quot;\\nWeighted Cosine Sim is: $wSim\\n&quot;;\n</code></pre>\n\n"}], "owner": {"reputation": 13, "user_id": 6565550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38605f063d28866483033222a431789?s=128&d=identicon&r=PG&f=1", "display_name": "Filetti", "link": "https://stackoverflow.com/users/6565550/filetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 38269591, "answer_count": 1, "score": 1, "last_activity_date": 1601505108, "creation_date": 1467986372, "last_edit_date": 1467989154, "question_id": 38268563, "link": "https://stackoverflow.com/questions/38268563/cant-get-weighted-cosine-similarity-to-work", "title": "Cant get Weighted Cosine Similarity to work", "body": "\n\n<p>I'm trying to get the Weighted Cosine Similarity of two documents. I'm using <a href=\"https://metacpan.org/pod/Text::Document\" rel=\"nofollow\">Text::Document</a> and <a href=\"https://metacpan.org/pod/Text::DocumentCollection\" rel=\"nofollow\">Text::DocumentCollection</a>. My code seems to work but it isn't returning a number as I expected.</p>\n\n<p>Here is my code</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse Text::Document;\nuse Text::DocumentCollection;\n\nmy $newfile  = shift @ARGV;\nmy $newfile2 = shift @ARGV;\n\n##This is in another file.\nmy $t1 = countFreq($newfile);\nmy $t2 = countFreq($newfile2);\n\nmy $collection = Text::DocumentCollection-&gt;new(file =&gt; 'coll.db');\n$collection-&gt;Add(\"One\", $t1);\n$collection-&gt;Add(\"Two\", $t2);\n\nmy $wSim = $t1-&gt;WeightedCosineSimilarity( $t2,\n    \\&amp;Text::DocumentCollection::IDF,\n    $collection\n);\n\nprint \"\\nWeighted Cosine Sim is: $wSim\\n\";\n</code></pre>\n\n<p>All this returns is <code>Weighted Cosine Sim is:</code> without anything following the colon.</p>\n\n<p>Here is the code for countFreq:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sub countFreq{\nmy ($file) = @_;\n\nmy $t1 = Text::Document-&gt;new();\n\nopen (my $info, $file) or die \"Could not open  file.\";\n    while (my $line = &lt;$info&gt;) {\n        chomp $line;\n        $line =~ s/[[:punct:]]//g;\n    foreach my $str (split /\\s+/, $line) {\n        if (!defined $sp{lc($str)}) {\n            $t1 -&gt; AddContent ($str);\n    }\n}\n}\n    return $t1;\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1467984951, "post_id": 38267446, "comment_id": 63955533, "body": "is there a question?"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 4, "last_activity_date": 1467984083, "creation_date": 1467984083, "answer_id": 38267785, "question_id": 38267446, "link": "https://stackoverflow.com/questions/38267446/cant-use-string-1-as-an-array-ref-while-strict-refs-in-use/38267785#38267785", "title": "Can&#39;t use string (&quot;1&quot;) as an ARRAY ref while &quot;strict refs&quot; in use", "body": "<p>There is all manner of wrong here. Why are you using <code>shift</code>? Why are you calling an array <code>@hash</code>? <code>$row</code> is not an array reference, as when you do the <code>push</code>, you're simply appending the elements of the <code>@hash</code> array onto <code>@contracts</code>, which gets completely flattened as one long list. </p>\n\n<p>What are you expecting to send into <code>JSinfo()</code>? If it is <code>$c</code>, you can try this:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy ($c, $t) = qw(x y);\n\nmy @contracts;\nmy @list = ($c,$t);\n\n# take a reference to the @list array, and push it\n# to the @contracts array\n\npush @contracts, \\@list;\n\nfor my $row (@contracts){\n\n    # row is an array reference, and we pass its\n    # first element to JSinfo()\n\n    JSinfo($row-&gt;[0]);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2763602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d3aa83985baaf08c209c5a722fbae5?s=128&d=identicon&r=PG&f=1", "display_name": "user2763602", "link": "https://stackoverflow.com/users/2763602/user2763602"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1192, "favorite_count": 1, "answer_count": 1, "score": -4, "last_activity_date": 1467984083, "creation_date": 1467983018, "last_edit_date": 1467983328, "question_id": 38267446, "link": "https://stackoverflow.com/questions/38267446/cant-use-string-1-as-an-array-ref-while-strict-refs-in-use", "title": "Can&#39;t use string (&quot;1&quot;) as an ARRAY ref while &quot;strict refs&quot; in use", "body": "<p>I have my perl code line below</p>\n\n<pre><code>my @contracts = ();\nmy @hash = ($c,$t);\n</code></pre>\n\n<p>These values are populating dynamically</p>\n\n<pre><code>push(@contracts,@hash);\n</code></pre>\n\n<p>Now i had iterate this array and fetch the values like </p>\n\n<pre><code>for my $row (@contracts) {\n    for my $value (@ {$row}) {\n        my $abc_ref = shift;\n        JSinfo(\"$abc_ref-&gt;[0]\");\n    }\n}\n</code></pre>\n\n<p>Any help/comments will be appreciated.</p>\n"}, {"tags": ["perl", "xml-parsing"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467982646, "post_id": 38266974, "comment_id": 63953958, "body": "Please be careful when posting code and data. Stack Overflow&#39;s <i>markdown</i> swallows the closing <code>&lt;&#47;root&gt;</code> tag in your XML data because it is not indented. You should read <a href=\"http://stackoverflow.com/editing-help\"><i>Markdown Editing Help</i></a> carefully"}, {"owner": {"reputation": 13, "user_id": 6565189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2db47a30f71b18867bf2f191a9d39ea4?s=128&d=identicon&r=PG&f=1", "display_name": "saumya", "link": "https://stackoverflow.com/users/6565189/saumya"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467983033, "post_id": 38266974, "comment_id": 63954229, "body": "@Borodin Sure! Thanks for notifying though. *Modified"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467983106, "post_id": 38266974, "comment_id": 63954280, "body": "What exactly do you want from the XML, in English? Your XPath expressions are very general, and the only difference from your requested output seems to be that you are printing something like <code>subnode1</code> at the start of each line instead of <code>Subnode 1</code> at the end. There are no elements with a tag of <code>Subnode 1</code> and they cannot contain spaces anyway"}, {"owner": {"reputation": 13, "user_id": 6565189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2db47a30f71b18867bf2f191a9d39ea4?s=128&d=identicon&r=PG&f=1", "display_name": "saumya", "link": "https://stackoverflow.com/users/6565189/saumya"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467983719, "post_id": 38266974, "comment_id": 63954686, "body": "XPath Expressions are general because, i am trying to make it generic for every other XML Document. Means, the logic should work for all XML Documents. Now, <code>subnode1</code> is the Tag Name. And <code>Subnode 1</code> is the Tag value, if you notice in the XML 2nd line. I want to print the tag values, along with the attribute values and that too sequentially as shown in the sample output."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6565189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2db47a30f71b18867bf2f191a9d39ea4?s=128&d=identicon&r=PG&f=1", "display_name": "saumya", "link": "https://stackoverflow.com/users/6565189/saumya"}, "edited": false, "score": 0, "creation_date": 1467984841, "post_id": 38267882, "comment_id": 63955457, "body": "Thanks a ton @Borodin! This is exactly what i needed."}, {"owner": {"reputation": 13, "user_id": 6565189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2db47a30f71b18867bf2f191a9d39ea4?s=128&d=identicon&r=PG&f=1", "display_name": "saumya", "link": "https://stackoverflow.com/users/6565189/saumya"}, "edited": false, "score": 0, "creation_date": 1467985162, "post_id": 38267882, "comment_id": 63955675, "body": "Yes @Borodin, about the inclusion of last line in my sample output, Actually, i am posting a question on stack overflow for the first time and am not very familiar with the functionalities of the forum. Might have missed it while copying. Sorry for the inconvenience"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13, "user_id": 6565189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2db47a30f71b18867bf2f191a9d39ea4?s=128&d=identicon&r=PG&f=1", "display_name": "saumya", "link": "https://stackoverflow.com/users/6565189/saumya"}, "edited": false, "score": 0, "creation_date": 1467986478, "post_id": 38267882, "comment_id": 63956619, "body": "@saumya: I think your first-time post is a good reason for the missing <code>&lt;&#47;root&gt;</code> tag, but you should be much more precise in general. For instance <code>findnodes(&#39;*&#47;*&#39;)</code> means all grandchild elements of the current node, when you seem to have meant <code>findnodes(&#39;&#47;&#47;*&#39;)</code> which is all descendant elements of the document root. You also need to be aware that XML documents mostly contain whitespace layout, which will appear as text nodes in the parsed document tree. In fact you probably still need to trim leading and trailing spaces from the text nodes in my answer."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467985951, "last_edit_date": 1467985951, "creation_date": 1467984329, "answer_id": 38267882, "question_id": 38266974, "link": "https://stackoverflow.com/questions/38266974/how-to-print-xml-tags-attribute-data-and-tag-value-sequentially-in-perl/38267882#38267882", "title": "How to print XML Tag&#39;s attribute data and tag value sequentially in perl?", "body": "\n\n<p>I think this does what you want</p>\n\n<p>I'm not very familiar with <a href=\"https://metacpan.org/pod/XML::XPath\" rel=\"nofollow\"><code>XML::XPath</code></a>, but I do know XPath</p>\n\n<p>It looks like, for each element in the XML, you want to print a line that contains the values of each of the attributes, and of all child text nodes if there are any</p>\n\n<p>That's not so simple as it may seem, as any element may contain multiple text children interspersed with multiple child elements</p>\n\n<p>This code accumulates the values of all attributes and all non-blank text children into array <code>@line</code> and prints the line if the result isn't empty</p>\n\n<p>I don't understand why your required output doesn't include my line</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sn32att1 sn32att2 Subnode 3-2\n</code></pre>\n\n<p>Perhaps you will explain?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse XML::XPath;\n\nmy $xp = XML::XPath-&gt;new( filename =&gt; 'raw1.xml' );\n\n# for all elements in the data\n#\nfor my $node ( $xp-&gt;findnodes('//*') ) {\n\n    my @line;\n\n    # all the attributes of this element\n    #\n    for my $attr ( $node-&gt;getAttributes ) {\n        push @line, $attr-&gt;getData;\n    }\n\n    # and all the non-blank child text nodes of this element\n    #\n    for ( $node-&gt;findnodes('text()') ) {\n        my $text = $_-&gt;getData;\n        push @line, $text if $text =~ /\\S/;\n    }\n\n    # print it if there's anything to print\n    #\n    print \"@line\\n\" if @line;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>sn1att1 sn1att2 Subnode 1\nsn2att1 sn2att2 Subnode 2\nsn3att1 sn3att2\nsn31att1 sn31att2\nsn311att1 sn311att2\nsn3111att1 sn3111att2 Subnode 3-111\nsn32att1 sn32att2 Subnode 3-2\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6565189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2db47a30f71b18867bf2f191a9d39ea4?s=128&d=identicon&r=PG&f=1", "display_name": "saumya", "link": "https://stackoverflow.com/users/6565189/saumya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1148, "favorite_count": 0, "accepted_answer_id": 38267882, "answer_count": 1, "score": 1, "last_activity_date": 1467985951, "creation_date": 1467981697, "last_edit_date": 1467985620, "question_id": 38266974, "link": "https://stackoverflow.com/questions/38266974/how-to-print-xml-tags-attribute-data-and-tag-value-sequentially-in-perl", "title": "How to print XML Tag&#39;s attribute data and tag value sequentially in perl?", "body": "\n\n<p>Say I have an example XML Document,</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n    &lt;subnode1 att1=\"sn1att1\" att2=\"sn1att2\"&gt;Subnode 1&lt;/subnode1&gt;    \n    &lt;subnode2 att1=\"sn2att1\" att2=\"sn2att2\"&gt;Subnode 2&lt;/subnode2&gt;\n    &lt;subnode3 att1=\"sn3att1\" att2=\"sn3att2\"&gt;\n        &lt;subnode31 att1=\"sn31att1\" att2=\"sn31att2\"&gt;\n            &lt;subnode311 att1=\"sn311att1\" att2=\"sn311att2\"&gt;\n                &lt;subnode3111 att1=\"sn3111att1\" att2=\"sn3111att2\"&gt;Subnode 3-111&lt;/subnode3111&gt;\n            &lt;/subnode311&gt;\n        &lt;/subnode31&gt;\n        &lt;subnode32 att1=\"sn32att1\" att2=\"sn32att2\"&gt;Subnode 3-2&lt;/subnode32&gt;\n    &lt;/subnode3&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>I want to print something like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sn1att1  sn1att2  Subnode 1\nsn2att1  sn2att2  Subnode 2\nsn3att1  sn3att2 \nsn31att1  sn31att2 \nsn311att1  sn311att2  \nsn3111att1  sn3111att2  Subnode 3-111\nsn32att1  sn32att2  Subnode 3-2\n</code></pre>\n\n<p>I have written below code, which is able to print the attributes as described but not able to print the tag value (for example \"Subnode 1\",\"Subnode 2\",etc).</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use XML::XPath;\nuse XML::XPath::XMLParser;\n\nmy $xp = XML::XPath-&gt;new( filename =&gt; 'raw1.xml' );\n\nfor my $node ( $xp-&gt;findnodes('*/*') ) {\n\n    print \"\\n\" . $node-&gt;getName . \"\\t\";\n\n    for my $attribute ( $node-&gt;getAttributes ) {\n        print \" \" . $attribute-&gt;getData;\n    }\n\n    for my $property ( $node-&gt;findnodes('.//*') ) {\n\n        print \"\\n\" . $property-&gt;getName . \"\\t\";\n\n        for my $attributes ( $property-&gt;getAttributes ) {\n            print \" \" . $attributes-&gt;getData;\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467976995, "post_id": 38265374, "comment_id": 63950217, "body": "That&#39;s an unusual path string. What platform is this? What does <code>$common</code> contain? In general, <code>rename</code> won&#39;t work unless the source and destination volumes are the same. Have you tried <code>copy</code> or <code>move</code> from <a href=\"https://metacpan.org/pod/File::Copy\" rel=\"nofollow noreferrer\">File::Copy</a>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1467977291, "post_id": 38265374, "comment_id": 63950393, "body": "<code>rename</code> won&#39;t report any errors, so you have to check whether it succeeded. Try <code>rename $filepath, &quot;...&quot; or die $!;</code>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1467978135, "post_id": 38265374, "comment_id": 63950925, "body": "Does the (sub)directory <code>...&#47;spent&#47;...</code> already exist? And you have write privileges there?"}, {"owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "edited": false, "score": 0, "creation_date": 1467981412, "post_id": 38265374, "comment_id": 63953076, "body": "Thanks guys, it looks as if the issue is the one @ssr1012 pointed out belwow"}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": 1, "last_activity_date": 1467977795, "creation_date": 1467977795, "answer_id": 38265655, "question_id": 38265374, "link": "https://stackoverflow.com/questions/38265374/issue-moving-file/38265655#38265655", "title": "Issue moving file", "body": "<p>[The below is not tested]: I ASSUME that file::copy or rename works with the scalar variable's and not support with methods[::].</p>\n\n<pre><code>$common_conf = \"$common::conf{'admin_dir'}\";\n$paygate_cart_id_csv = \"$paygate::cart_id.csv\";\n$paygate_cart_id_csv_bak = \"$paygate::cart_id.csv\";\n\nmy $orgfilepath = \"$common_conf/carts/$paygate_cart_id_csv\";\nmy $destfilepath = \"$common_conf/carts/spent/$paygate_cart_id_csv_bak\";\n\nrename $filepath, $destfilepath;\n</code></pre>\n"}], "owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 38265655, "answer_count": 1, "score": 0, "last_activity_date": 1467977795, "creation_date": 1467976787, "last_edit_date": 1467977126, "question_id": 38265374, "link": "https://stackoverflow.com/questions/38265374/issue-moving-file", "title": "Issue moving file", "body": "<p>I have the following file_name:</p>\n\n<pre><code>my $filepath = \"$common::conf{'admin_dir'}/carts/$paygate::cart_id.csv\";\n</code></pre>\n\n<p>I need to move the file to another directory, but I'm having issues, I'm using the rename function.</p>\n\n<pre><code>rename $filepath, \"$common::conf{'admin_dir'}/carts/spent/$paygate::cart_id.csv.bak\";\n</code></pre>\n\n<p>However, it isn't working, I get no errors (using strict), the file remains in the same place though and is not moved.</p>\n\n<p>Could anyone suggest what the issue is?</p>\n"}, {"tags": ["php", "python", "linux", "perl"], "comments": [{"owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1467974645, "post_id": 38264461, "comment_id": 63948914, "body": "If the question is whether what you&#39;re currently doing is good practice then a minimal example of your code would help. If your question is how to do what you&#39;re already doing in another language then a minimal example of your code would help. Overall, the actual question and a minimal example of the code would help."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1467975145, "post_id": 38264461, "comment_id": 63949183, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/q/1087291/1331451\">stackoverflow.com/q/1087291/1331451</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467977667, "post_id": 38264461, "comment_id": 63950635, "body": "You must show what you have written, or we have no way of knowing what might be a &quot;better way&quot;. You should probably take a look at <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow noreferrer\">Parallel::ForkManager</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6564837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67eb7bb1303c9bf2ba2f62c8b20fa6a?s=128&d=identicon&r=PG&f=1", "display_name": "bamstan19", "link": "https://stackoverflow.com/users/6564837/bamstan19"}, "edited": false, "score": 0, "creation_date": 1467993794, "post_id": 38265765, "comment_id": 63961364, "body": "Thank you Perl Dog that was exactly what I was seeking. To respond to previous posts - apologies, I had about five variants in two languages and felt it best to put the concept down of what I was trying to do vice scrappy code :) Apologies and will follow the rules next time! Thanks again all for taking the time to respond."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467983379, "last_edit_date": 1467983379, "creation_date": 1467978195, "answer_id": 38265765, "question_id": 38264461, "link": "https://stackoverflow.com/questions/38264461/executing-several-commands-at-once/38265765#38265765", "title": "Executing several commands at once", "body": "<p>You should show what you have written, or we have no way of knowing what might be a \"better way\"</p>\n\n<p>You should probably take a look at <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow\">Parallel::ForkManager</a>. Using that module your program could look something like this</p>\n\n<p>There's a lot missing from this code, most importantly <code>use strict</code> and <code>use warnings 'all'</code>, and the declaration and population of <code>@list</code>. I trust that you can fill in the blanks</p>\n\n<p>Note that the limit on ten parallel process is imposed by the module, and that <code>\"...\"</code> must be filled in by yourself as the destination path. It's always best to do what you need within Perl instead of shelling out just to call <code>cp</code>, so I've involved <a href=\"https://metacpan.org/pod/File::Copy\" rel=\"nofollow\"><code>File::Copy</code></a> instead</p>\n\n<pre><code>use Parallel::ForkManager ();\nuse File::Copy 'copy';\n\nmy $pm = Parallel::ForkManager-&gt;new(10);\n\nfor my $file ( @list ) {\n\n    next if my $pid = $pm-&gt;start;\n\n    # Child code\n\n    copy $file, \"...\";\n    $pm-&gt;finish;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6564837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67eb7bb1303c9bf2ba2f62c8b20fa6a?s=128&d=identicon&r=PG&f=1", "display_name": "bamstan19", "link": "https://stackoverflow.com/users/6564837/bamstan19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1467983984, "accepted_answer_id": 38265765, "answer_count": 1, "score": -6, "last_activity_date": 1467983379, "creation_date": 1467973822, "last_edit_date": 1467977529, "question_id": 38264461, "link": "https://stackoverflow.com/questions/38264461/executing-several-commands-at-once", "closed_reason": "Needs details or clarity", "title": "Executing several commands at once", "body": "<p>I am trying to write something in Perl (but I'm also happy with Python or PHP to do the same) which:</p>\n\n<ul>\n<li><p>Takes a list (of say, for example, files or URLs)</p></li>\n<li><p>Adds an additional system command (say <code>cp</code> as an example)</p></li>\n<li><p>Executes a maximum of ten these commands in the list of, say, a thousand in total</p></li>\n<li><p>Waits for one of the ten slots to become and starts a new procedure, thus moving through the 1000 elements.</p></li>\n</ul>\n\n<p>I'm short-cutting right now and using back ticks to execute the commands in Perl, but if there is a better way to achieve this, I'd be really appreciative. </p>\n"}, {"tags": ["string", "perl", "search", "version"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 4, "creation_date": 1467971459, "post_id": 38263491, "comment_id": 63947026, "body": "Please provide some sample input/output strings.  What have you tried?"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1467971462, "post_id": 38263491, "comment_id": 63947028, "body": "do you have any particular format for your data and is it part of file?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467979365, "post_id": 38263491, "comment_id": 63951715, "body": "We are here to help you with problems that you&#39;re having with your code. Ergo, if you don&#39;t show your code then we can&#39;t really help a lot. Stack Overflow isn&#39;t a place to go to get someone to do your job for you. It&#39;s not like sharing a chilli recipe -- companies pay thousands of dollars for the sort of solution that you&#39;re asking for for free, and it&#39;s highly inappropriate. Make some effort of your own and, if you become completely stuck, put your code here and explain what is going wrong. That way you will get many more eyes on the problem and should get help to solve it yourself."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1467972465, "post_id": 38263721, "comment_id": 63947667, "body": "To capture the version number, you may want to add parens around the whole pattern: <code>if ($vstring =~ &#47;((?:\\d+\\.)+\\d+)&#47;) { print &quot;version found: &#39;$1&#39;\\n&quot;; }</code>"}], "tags": [], "owner": {"reputation": 31, "user_id": 4827690, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MnkuhRGSDMI/AAAAAAAAAAI/AAAAAAAAAEo/_S7Bx2F90kY/photo.jpg?sz=128", "display_name": "MazzFraps", "link": "https://stackoverflow.com/users/4827690/mazzfraps"}, "is_accepted": false, "score": 2, "last_activity_date": 1467971622, "creation_date": 1467971622, "answer_id": 38263721, "question_id": 38263491, "link": "https://stackoverflow.com/questions/38263491/how-do-i-find-a-version-number-in-a-string-using-perl/38263721#38263721", "title": "How do I find a version number in a string using perl", "body": "<p>You should study up on some simple regex expressions, because this isn't that hard of a problem. The regular expression you're searching for might be this:</p>\n\n<pre><code>(\\d+\\.)+\\d+\n</code></pre>\n\n<p>This will find a string like 1.23.235.22.263</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467979610, "post_id": 38264387, "comment_id": 63951896, "body": "I think your conclusion should be <code>\\d+(?:\\.\\d+)*</code>, otherwise<code>version 1</code> will be ignored. You have almost complied with the stated requirement (for which the solution should be <code>\\d+(?:\\.\\d+){2,}</code>) but I wouldn&#39;t trust that one bit!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467981632, "post_id": 38264387, "comment_id": 63953210, "body": "The exact format that we need to cover is, of course, up for debate. I&#39;ve assumed that version numbers need to include at least one dot. I admit that&#39;s slightly looser than the examples we&#39;ve been given."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467982169, "post_id": 38264387, "comment_id": 63953602, "body": "I think it&#39;s more awkward to include the dot as part of the initial digit sequence. <code>\\d+(?:\\.\\d+)*</code> lends itself to <code>\\d+(?:\\.\\d+)+</code> or <code>\\d+(?:\\.\\d+){2,}</code> etc. without significant change, whereas <code>(?:\\d+\\.)+\\d+</code> is incomplete and incorrect as <code>(?:\\d+\\.)+\\d*</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467982412, "post_id": 38264387, "comment_id": 63953766, "body": "That&#39;s a perfectly reasonable suggestion. I&#39;d certainly vote up an answer that contained it."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1467973576, "creation_date": 1467973576, "answer_id": 38264387, "question_id": 38263491, "link": "https://stackoverflow.com/questions/38263491/how-do-i-find-a-version-number-in-a-string-using-perl/38264387#38264387", "title": "How do I find a version number in a string using perl", "body": "<p>You're supposed to show some effort at solving the problem yourself. But, hey, it's Friday and I'm feeling generous.</p>\n\n<blockquote>\n  <p>[number].[number].[....].[number](e.g. 1.23.1).</p>\n</blockquote>\n\n<p>This is enough to get us going. By \"number\" here, I assume that you mean \"positive integer\". A positive integer is one or more digits. And in regular expressions a digit is matched with <code>\\d</code> and we can match \"one or more\" of something with a <code>+</code>. So \"one or more digits\" is <code>d+</code>.</p>\n\n<p>So what's our minimal version number. Let's assume it contains two positive integers separated by a dot. We need to be careful here as a dot has a special meaning in regexes (it matches any character). We can turn it into just a dot by escaping it with <code>\\</code>. So our minimal version number matches <code>\\d+\\.\\d+</code>.</p>\n\n<p>Now it gets a bit harder. We want to allow any number of <code>\\d+\\.</code> elements in the middle of our string. A na\u00efve version might be <code>\\d+\\.(\\d+\\.)*\\d+</code>. The <code>*</code> means \"zero or more\", so the whole expression means \"One or more digits followed by a dot, followed by zero or more repetitions of one or more digits followed by a dot, followed by one or more digits\".</p>\n\n<p>But we can improve on that. \"One of something\" followed by \"zero or more of the same thing\" is the same as saying \"one of more of something\". So we can simplify our regex to <code>(\\d+\\.)+\\d+</code>.</p>\n\n<p>Also, as we're going to be capturing the matches, I'd convert that <code>(...)</code> to <code>(?:...)</code> which still groups the regex parts, but doesn't capture the matches.</p>\n\n<p>So we end up with <code>(?:\\d+\\.)+\\d+</code>. Given a string in <code>$string</code>, we can get populate an array with all of the version numbers contained in <code>$string</code> using:</p>\n\n<pre><code>my @versions = $string =~ /((?:\\d+\\.)+\\d+)/g;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5757011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85c18c51c70d2745223751d2bef6855c?s=128&d=identicon&r=PG&f=1", "display_name": "prepeleac19", "link": "https://stackoverflow.com/users/5757011/prepeleac19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "closed_date": 1467980938, "answer_count": 2, "score": -5, "last_activity_date": 1467979078, "creation_date": 1467970873, "last_edit_date": 1495542782, "question_id": 38263491, "link": "https://stackoverflow.com/questions/38263491/how-do-i-find-a-version-number-in-a-string-using-perl", "closed_reason": "Needs more focus", "title": "How do I find a version number in a string using perl", "body": "<p>I need to write a program that searches a string for a version number.</p>\n\n<p>The length of the version may differ and is like this</p>\n\n<pre><code>[number].[number].[....].[number]\n</code></pre>\n\n<p>for example <code>1.23.1</code>.</p>\n\n<p>I found something similar in <a href=\"https://stackoverflow.com/questions/3221754/how-to-extract-ip-addresses-from-a-text-file-using-perl\"><em>How to extract IP addresses from a text file using Perl?</em></a></p>\n"}, {"tags": ["perl", "ascii"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1467964632, "post_id": 38261386, "comment_id": 63943112, "body": "Do you mean how many characters wide is each line?  Could you provide an example input/output?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467969185, "post_id": 38261386, "comment_id": 63945573, "body": "Modify <code>writeMyFile</code> to add the number of columns as the first line of the file?"}, {"owner": {"reputation": 507, "user_id": 3417549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3VOwl.jpg?s=128&g=1", "display_name": "titus.andronicus", "link": "https://stackoverflow.com/users/3417549/titus-andronicus"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467970099, "post_id": 38261386, "comment_id": 63946158, "body": "@xxfelixxx sorry, you are right! I added 2 dummy examples. I assume that the file is fully populated (so there are no measurements missing in lower rows), and probably an empty file should return <code>0</code> or <code>undef</code>"}], "answers": [{"tags": [], "owner": {"reputation": 12533, "user_id": 931027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWhaB.jpg?s=128&g=1", "display_name": "Kusalananda", "link": "https://stackoverflow.com/users/931027/kusalananda"}, "is_accepted": false, "score": 0, "last_activity_date": 1467964699, "creation_date": 1467964699, "answer_id": 38261652, "question_id": 38261386, "link": "https://stackoverflow.com/questions/38261386/get-the-number-of-columns-in-an-ascii-file/38261652#38261652", "title": "Get the number of columns in an ASCII file", "body": "<p>When reading the file in <code>plotVals()</code>, split each line on whatever delimiter you use in the data file, and count how many fields you get. I presume that you have to split the lines anyway to plot the individual data points, unless you call an external utility for doing the plotting. If you call an external utility for plotting, then it is enough to read one representative row (the first?) and count the fields in that.</p>\n\n<p>Alternatively pass the data or some meta data (the number of columns) directly to <code>plotVals()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 507, "user_id": 3417549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3VOwl.jpg?s=128&g=1", "display_name": "titus.andronicus", "link": "https://stackoverflow.com/users/3417549/titus-andronicus"}, "edited": false, "score": 0, "creation_date": 1467970193, "post_id": 38262238, "comment_id": 63946222, "body": "Thanks for your answer! I have provided some dummy examples in the original question. We can probably assume that the file is fully populated (so there are no measurements missing in lower rows), and that an empty file should return <code>0</code>, <code>undef</code> or something similar"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 507, "user_id": 3417549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3VOwl.jpg?s=128&g=1", "display_name": "titus.andronicus", "link": "https://stackoverflow.com/users/3417549/titus-andronicus"}, "edited": false, "score": 0, "creation_date": 1467970454, "post_id": 38262238, "comment_id": 63946398, "body": "Ok, it looks like my guess at your format was correct. So something based on my code will work. Happy I could help."}, {"owner": {"reputation": 507, "user_id": 3417549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3VOwl.jpg?s=128&g=1", "display_name": "titus.andronicus", "link": "https://stackoverflow.com/users/3417549/titus-andronicus"}, "edited": false, "score": 0, "creation_date": 1468249149, "post_id": 38262238, "comment_id": 64036973, "body": "Just one follow-up question. What if the file has leading spaces? In that case the regex would think there is one extra character in the file, am I correct? Is there an easy way to overcome this edge-case?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 507, "user_id": 3417549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3VOwl.jpg?s=128&g=1", "display_name": "titus.andronicus", "link": "https://stackoverflow.com/users/3417549/titus-andronicus"}, "edited": false, "score": 0, "creation_date": 1468249604, "post_id": 38262238, "comment_id": 64037271, "body": "What happened when you tried it? As a programmer, you should be able to either read the documentation for the <code>split</code> function or devise a simple test to find out what happens. Can you explain this - <code>perl -E&#39;$_=&quot; a b c&quot;; @a=split; say scalar @a&#39;</code>?"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1467966773, "creation_date": 1467966773, "answer_id": 38262238, "question_id": 38261386, "link": "https://stackoverflow.com/questions/38261386/get-the-number-of-columns-in-an-ascii-file/38262238#38262238", "title": "Get the number of columns in an ASCII file", "body": "<p>You haven't really given us enough detail for any answer to be really helpful (explaining the format of your data file, for example, would have been a great help).</p>\n\n<p>But let's assume that you have a file where the fields are separated by whitespace - something like this:</p>\n\n<pre><code>col1  col2 col3    col4   col5 col6 col7    col8\n</code></pre>\n\n<p>We know nothing about the columns, only that they are separated by varying amounts of white space.</p>\n\n<p>We can open the file in the usual manner.</p>\n\n<pre><code>my $file = 'my_file.dat';\nopen my $data_fh, '&lt;', $file or die \"Can't open $file: $!\";\n</code></pre>\n\n<p>We can read each record from the file in turn in the usual manner.</p>\n\n<pre><code>while (&lt;$data_fh&gt;) {\n  # Data is in $_. Let's remove the newline from the end.\n  chomp;\n  # Here we do other interesting stuff with the data...\n}\n</code></pre>\n\n<p>Probably, a useful thing to do would be to split the record so that each field is stored in a separate element of an array. That's simple with <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split()</code></a>.</p>\n\n<pre><code># By default, split() works on $_ and splits on whitespace, so this is\n# equivalent to:\n# my @data = split /\\s+/, $_;\nmy @data = split;\n</code></pre>\n\n<p>Now we get to your question. We have all of our values in <code>@data</code>. But we don't know how many values there are. Luckily, Perl makes it simple to find out the number of elements in an array. We just assign the array to a scalar variable.</p>\n\n<pre><code>my $number_of_values = @data;\n</code></pre>\n\n<p>I think that's all the information you'll need. Depending on the actual format of your data file, you might need to change the <code>split()</code> line in some way - but without more information it's impossible for us to know what you need there.</p>\n"}], "owner": {"reputation": 507, "user_id": 3417549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3VOwl.jpg?s=128&g=1", "display_name": "titus.andronicus", "link": "https://stackoverflow.com/users/3417549/titus-andronicus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 38262238, "answer_count": 2, "score": 0, "last_activity_date": 1467970010, "creation_date": 1467963752, "last_edit_date": 1467970010, "question_id": 38261386, "link": "https://stackoverflow.com/questions/38261386/get-the-number-of-columns-in-an-ascii-file", "title": "Get the number of columns in an ASCII file", "body": "<p>I have found many questions regarding CSV files, but not regarding a normal ASCII file (<code>.dat</code>) file.</p>\n\n<p>Assuming I have a subroutine <code>sub writeMyFile($data)</code>, which writes different values in an ASCII file <code>my_file.dat</code>. Each column is then a value, which I want to plot in another subroutine <code>sub plotVals()</code>, but for that I need to know the number of columns of  <code>my_file.dat</code>, which is not always the same.</p>\n\n<p><strong>What is an easy an readable way in Perl to have the number of columns of an ASCII file <code>my_file.dat</code>?</strong></p>\n\n<p>Some sample input/output would be (note: file might have multiple rows):</p>\n\n<p>In:</p>\n\n<pre><code>(first line on my_data1.dat) -19922 233.3442    12312 0 0\n(first line on my_data2.dat) 0 0 0\n</code></pre>\n\n<p>Out: </p>\n\n<pre><code>(for my_data1.dat) 5\n(for my_data2.dat) 3\n</code></pre>\n"}, {"tags": ["windows", "perl", "windows-7", "moose"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1467959111, "post_id": 38260125, "comment_id": 63940472, "body": "On which OS are you trying to do this?"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 2, "creation_date": 1467959416, "post_id": 38260125, "comment_id": 63940595, "body": "I seriously doubt Unix SysV IPC is supported on Windows."}, {"owner": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1467959472, "post_id": 38260125, "comment_id": 63940620, "body": "so how can i fix it, is it any alternate module is there...."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467965667, "post_id": 38260125, "comment_id": 63943633, "body": "<code>IPC::SysV</code> builds fine on windows using Cygwin, however some/all functions are unsupported: <code>IPC::Msg, IPC::Semaphore, and IPC::SharedMem</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1467965951, "post_id": 38260125, "comment_id": 63943780, "body": "Are you just trying to enable some sort of logging?  The fix for you might be just choosing a different Appender class, one that does not depend on IPC::SysV."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467980811, "post_id": 38260125, "comment_id": 63952658, "body": "We can&#39;t really help you until you give more information, beyond saying that <code>IPC::SysV</code> is written for AT&amp;T System V computers, and is unlikely to be useful on Windows 7 (Microsoft would have made sure of that). Why are you trying to install it, and what do you need it for? Why did you think that installing a System V module on Windows would be necessary, or even possible?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467981030, "post_id": 38260125, "comment_id": 63952801, "body": "@xxfelixxx: It is probably counter-productive to offer a list of modules that may help without establishing the purpose of the OP. I am sure they will go away and install <i>all</i> of those, one by one, and report back that they didn&#39;t work"}, {"owner": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "edited": false, "score": 0, "creation_date": 1468215464, "post_id": 38260125, "comment_id": 64016130, "body": "Ohh now i got it... i have to use another Appender class and one more thing can i install the Log::Lo4perl on Mac"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467980547, "creation_date": 1467980547, "answer_id": 38266549, "question_id": 38260125, "link": "https://stackoverflow.com/questions/38260125/cant-locate-ipcsysv-in-windows-or-loglog4perlappendersynchronized/38266549#38266549", "title": "Can&#39;t locate IPC::SysV in Windows or Log::Log4perl::Appender::Synchronized", "body": "<p>The error message that you saw is accurate. As <a href=\"https://metacpan.org/pod/IPC::SysV\" rel=\"nofollow\">the documentation</a> says, <code>IPC::SysV</code> is for <em>AT&amp;T System V</em> computers, but you are running Windows 7</p>\n"}], "owner": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467980547, "creation_date": 1467958885, "last_edit_date": 1467980371, "question_id": 38260125, "link": "https://stackoverflow.com/questions/38260125/cant-locate-ipcsysv-in-windows-or-loglog4perlappendersynchronized", "title": "Can&#39;t locate IPC::SysV in Windows or Log::Log4perl::Appender::Synchronized", "body": "<p></p>\n\n<p>I am getting an error in my Perl project</p>\n\n<p><a href=\"http://i.stack.imgur.com/qUg11.png\" rel=\"nofollow\">Here is a screenshot of the problem</a></p>\n\n<p>I installed the <a href=\"https://metacpan.org/pod/Log::Log4perl\" rel=\"nofollow\"><code>Log::Log4perl</code></a> module using CPAN and when I installed the <a href=\"https://metacpan.org/pod/IPC::SysV\" rel=\"nofollow\"><code>IPC::SysV</code></a> module in the same way it shows that the OS is unsupported.</p>\n\n<p>I am stuck at that point. Can anyone guide me?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>  ERROR: can't load appenderclass 'Log::Log4perl::Appender::Synchronized'\n  Can't locate IPC/SysV.pm in @INC (@INC contains:\n</code></pre>\n"}, {"tags": ["perl", "cpan", "cpanm"], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1467945672, "post_id": 38257781, "comment_id": 63937104, "body": "So which one be used to install modules?  Is <code>cpanm</code> better because it is newer?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 7, "creation_date": 1467946594, "post_id": 38257781, "comment_id": 63937304, "body": "Use which ever you prefer - either is fine.  I would use <code>cpan -i App::cpanminus</code> to install cpanm and then use <code>cpanm</code>.  I think it&#39;s better because it&#39;s simpler (certainly not just because it&#39;s newer)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 1, "creation_date": 1467948619, "post_id": 38257781, "comment_id": 63937661, "body": "@CJ7, Neither actually installs anything. They execute the installer included in the distribution to install. As such, the differences are going to be mostly cosmetic. I don&#39;t see the point of going out of my way to install <code>cpanm</code> just to avoid pressing Enter once the first time <code>cpan</code> is run"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 3, "creation_date": 1467965460, "post_id": 38257781, "comment_id": 63943516, "body": "Either tool will download the required file(s) from a CPAN mirror, unpack the distribution and then kick off the make/make install process. You use these tools to install modules from CPAN. To say that &quot;neither actually installs anything&quot; is a silly nitpick that almost seems intended to create confusion."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1467981287, "post_id": 38257781, "comment_id": 63952988, "body": "That&#39;s an interesting and informative history, but the OP asked <b>&quot;What is the difference between cpan and cpanm&quot;</b>. Your answer came at the end of your post and says <i>&quot;The main difference between the two is that if you have Perl you should already have the cpan command&quot;</i>, so they are pretty much <i>identical</i> except that you must install <code>cpanm</code>. That&#39;s not correct and I must -1"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467990938, "post_id": 38257781, "comment_id": 63959609, "body": "You can also drop the <code>-i</code>: <code>cpan Module::Name</code>"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 23, "last_activity_date": 1467942067, "creation_date": 1467942067, "answer_id": 38257781, "question_id": 38257499, "link": "https://stackoverflow.com/questions/38257499/what-is-the-difference-between-cpan-and-cpanm/38257781#38257781", "title": "What is the difference between cpan and cpanm?", "body": "<p><code>cpan</code> the CPAN shell has been shipped with Perl since about 1997.  When you run it the first time it asks a bunch of questions and saves the answers in a config file.  Then you can install a module by running:</p>\n\n<pre><code>cpan -i Module::Name\n</code></pre>\n\n<p>The shell provides other commands for searching CPAN and looking inside distribution files.</p>\n\n<p>A project to create a newer, better and more featureful CPAN shell called CPANPLUS (<code>cpanp</code> from the command-line) was started by <a href=\"https://metacpan.org/author/KANE\">Jos Boumans</a>, but it was never quite completed to the point where the original vision had been realised.</p>\n\n<p>Meanwhile <a href=\"https://metacpan.org/author/MIYAGAWA\">MIYAGAWA</a> decided that <code>cpanp</code> was trying to do too much and what the world really needed was a simpler shell that did <em>less</em> and asked fewer questions (ideally none at all).  He created <a href=\"https://metacpan.org/pod/App::cpanminus\">App::cpanminus</a> which provides the <code>cpanm</code> command and does exactly what he intended.  You can use it to install a module (and all the module's dependencies) with a command like:</p>\n\n<pre><code>cpanm Module::Name\n</code></pre>\n\n<p>The main difference between the two is that if you have Perl you should already have the <code>cpan</code> command.  Whereas you won't have <code>cpanm</code> unless/until you install it.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1467981612, "post_id": 38258430, "comment_id": 63953196, "body": "<i>&quot;Most modern perl users prefer cpanm for it&#39;s simplicity and mainly, brevity of output.&quot;</i> That requires a citation and is an unnecessary part of the answer. You are clearly a <code>cpanm</code> fan without saying that, and cannot be trusted to give a factual account. <i>&quot;a more terse and general way&quot;</i> surely it cannot be both?"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467987469, "post_id": 38258430, "comment_id": 63957296, "body": "&quot;General&quot; as defined by &#39;<i>considering or including only the main features or elements of something</i>&#39;. By only stating the main elements of module installation, the output from <code>cpanm</code> is much more terse than that of <code>cpan</code>."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 16, "last_activity_date": 1467981979, "last_edit_date": 1467981979, "creation_date": 1467947990, "answer_id": 38258430, "question_id": 38257499, "link": "https://stackoverflow.com/questions/38257499/what-is-the-difference-between-cpan-and-cpanm/38258430#38258430", "title": "What is the difference between cpan and cpanm?", "body": "<p>Most modern Perl users prefer <code>cpanm</code> for it's simplicity and mainly, brevity of output.</p>\n\n<p>Using <code>cpan</code> can result in hundreds of lines of output as it shows you everything it's doing: downloading, checksum, running installer, parsing, loading, the list goes on. The same applies to every dependency.</p>\n\n<p><code>cpanm</code> on the other hand tells you what it is doing in a more terse and general way, that is: Fetching, Configuring, Building and testing, Done.</p>\n\n<p>So the main difference in usage is that <code>cpanm</code> suppresses a lot of (typically) irrelevant information. Sometimes when a module fails, you might want more information. There's a <code>-v|--verbose</code> flag that essentially shows you everything <code>cpan</code> would.</p>\n\n<p>Also, some modules that require user input may seem to 'hang' when you try to install them. That's because the output that's asking you to type something is suppressed. You can use the <code>--interactive</code> (or <code>--verbose</code>) flags to work around that.</p>\n\n<p>For a comparison of the output, see slides 35-39 <a href=\"http://www.slideshare.net/genehackdotorg/modern-perl-for-the-unfrozen-paleolithic-perl-programmer-53801333\" rel=\"noreferrer\">here</a>\nor slides 37-41 <a href=\"https://speakerdeck.com/genehack/modern-perl-for-the-unfrozen-paleolithic-perl-programmer?slide=37\" rel=\"noreferrer\">here</a>. (These are from the same presentation. I'm just duplicating the links in case one goes off line.)</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12834, "favorite_count": 4, "closed_date": 1470061291, "answer_count": 2, "score": 23, "last_activity_date": 1467981979, "creation_date": 1467939837, "question_id": 38257499, "link": "https://stackoverflow.com/questions/38257499/what-is-the-difference-between-cpan-and-cpanm", "closed_reason": "Duplicate", "title": "What is the difference between cpan and cpanm?", "body": "<p>What is the difference between the <code>cpan</code> and <code>cpanm</code> commands?</p>\n\n<p>They both seem to install <code>perl</code> modules, so what is the difference?</p>\n"}, {"tags": ["perl", "read-eval-print-loop", "genetics"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1467948952, "post_id": 38257398, "comment_id": 63937718, "body": "When someone complains that print is freezing, they are usually mistaken, fooled by buffering. You can disable buffering by using <code>$fh-&gt;autoflush</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467949055, "post_id": 38257398, "comment_id": 63937737, "body": "If a print is truly freezing, it&#39;s because you are writing to a pipe and the buffer is full. The pipe&#39;s reader needs to read some data before the write can complete."}, {"owner": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "edited": false, "score": 0, "creation_date": 1467957541, "post_id": 38257398, "comment_id": 63939868, "body": "Is there any change if the output is directed to a file? Or if the settings of command prompt are changed as suggested in this <a href=\"http://superuser.com/a/1053104/544510\">answer</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468061189, "post_id": 38257398, "comment_id": 63980508, "body": "Two suggestions: subroutines and perltidy.  1. Your code is too long to fit onto one 40-line page, making it hard to grok what is going on.  Splitting it up will make it easier to deal with and to debug.  2. Running your code through perltidy will make it much easier for others to deal with."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6562965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9314d9dc2b0011968caa4a736fb4e0e?s=128&d=identicon&r=PG&f=1", "display_name": "TRF", "link": "https://stackoverflow.com/users/6562965/trf"}, "is_accepted": false, "score": 1, "last_activity_date": 1468288820, "creation_date": 1468288820, "answer_id": 38318861, "question_id": 38257398, "link": "https://stackoverflow.com/questions/38257398/perl-is-hanging-possibly-related-to-print/38318861#38318861", "title": "Perl is hanging, possibly related to print", "body": "<p>Thank you! I tried flushing the buffer using both the general $|=1; which didn't work with all the nested FHs, and then the FH specific one using:<br>      select((select(FH), $|=1)[0]);<br>     It helped me find out where it was hanging... one regex not meshing well with the mess of some gbk files. bad regex  ->   $gline =~ //note\\=\\\".<em>\\;</em>(.*)\\\"/;</p>\n"}], "owner": {"reputation": 21, "user_id": 6562965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9314d9dc2b0011968caa4a736fb4e0e?s=128&d=identicon&r=PG&f=1", "display_name": "TRF", "link": "https://stackoverflow.com/users/6562965/trf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1468288820, "creation_date": 1467938843, "question_id": 38257398, "link": "https://stackoverflow.com/questions/38257398/perl-is-hanging-possibly-related-to-print", "title": "Perl is hanging, possibly related to print", "body": "<p>I'm at a loss on this one. I have a perl script that: <br/>\n1. processes Genbank files (which are very messy and inconsistent) in a directory (example GBK file here: <a href=\"ftp://ftp.ncbi.nlm.nih.gov/genomes/archive/old_genbank/Bacteria/Acetobacter_pasteurianus_IFO_3283_01_uid31129/AP011121.gbk\" rel=\"nofollow\">ftp://ftp.ncbi.nlm.nih.gov/genomes/archive/old_genbank/Bacteria/Acetobacter_pasteurianus_IFO_3283_01_uid31129/AP011121.gbk</a>) <br/>\n2. splits each file by the genes<br/>\n3. in a foreach loop, gets relevant information about each gene<br/>\n4. prints the information about that gene at the end of each loop<br/><br/>\nProblem: it keeps hanging randomly in the middle of specific files, but there is nothing obviously different about them or about the gene that they stop on, and the files are scattered throughout the >72K total files. When it hangs the output printed to the command line is several loops (genes) ahead of the output printed to the file (see picture).<br/><br/>\nTroubleshooting: the variables it stops on are different for different files, it sometimes hangs mid-printing a variable, the RAM/CPU usage is low, when it hangs it still uses memory/CPU, it hangs both on windows (with latest version of strawberry perl) and linux (flux HPC) systems, there is nothing wrong with the output (since the command line output is ahead of the file output, I can see that it can and does process the gene that it hangs on during the print to file). <br/></p>\n\n<p>Sorry for the length of the code, I am a microbiologist so it isn't as clever/shorthand as some of the code I see on stackoverflow (also Genbank files are very inconsistent in format/language so I have to program around that). I'm happy to implement other code suggestions.<br/></p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\n\n##### open output files #####\n$GBKINFO    = 'L:\\NCBI_DAT\\GBFF\\Bacteria_tablist.txt';\nopen(GBKINFO,'&gt;', $GBKINFO)||die \"unable to open $GBKINFO:$!\\n\";\n$debug      = 'L:\\NCBI_DAT\\GBFF\\Bacteria_debug.txt';\nopen(DEBUG,'&gt;', $debug)||die \"unable to open $debug:$!\\n\";\n$GBKGENOMES = 'L:\\NCBI_DAT\\GBFF\\Bacteria_taxonomy.txt';\n\n##### load taxonomy hash #####\n$taxons = 'R:\\1_Downloads\\taxa.Bacteria.dat';\nopen(TAXONS, $taxons) || die \"unable to open $taxons: $!\\n\";\nmy %TAXhash; \nwhile(&lt;TAXONS&gt;){ \n(my $orgID, my $phylog)=split('\\t',$_); $TAXhash{$orgID}=$phylog;}\nclose(TAXONS);\n\n##### load protIDs hash #####\n$protid = 'R:\\1_Downloads\\geneinfo.Bacteria.dat';\nopen(PROTID, $protid) || die \"unable to open $taxons: $!\\n\";\nmy %IDhash; \nwhile(&lt;PROTID&gt;){ \n(my $prot, my $ID)=split('\\t',$_); \n$prot =~ s/\\s//g; $ID =~ s/\\n//g;\n$IDhash{$prot}=$ID;}\nclose(PROTID);\n\n##### get genbank files #####\nmy $dir = 'L:\\NCBI_DAT\\GBFF\\Bacteria';\ndie unless opendir DIR, $dir;\nforeach my $file (readdir DIR) {\n    $/=\"\\n//\\n\";\n    next if $file eq '.' or $file eq '..';\n    $gbk = $dir.'/'.$file;\n    $gbk =~ s/\\//\\\\/g; \n    $gbk =~ /GCA_(\\d+)/;\n\n#######  open .gbk file and split contigs   #######\nif(-f $gbk &amp;&amp; $gbk =~ /\\.(gbk|gbff)/ &amp;&amp; $gbk !~ /gz$/ ){\n    open(GBK, $gbk) || die \"unable to open $gbk: $!\\n\";\n    $i=1; $count =0; \n\n    while(&lt;GBK&gt;){\n        $BIG=$_;\n        $BIG =~ s/[\\@&lt;&gt;\\%\\n]//g;\n        if($BIG =~ /(\\s+CDS\\s{5}|\\s+\\S*RNA\\s{5})/){\n\n            # Get Phylogeny\n            $BIG =~ ~ /db_xref\\=\\\"taxon:(\\d+)/; \n            $taxID=$1; $count = 1;\n            $BIG =~ /ORGANISM\\s+(.*?)\\s+(\\w+\\;.*?)\\./; \n            $SPECIES = $1; $PHYLOGENY = $2;\n            $PHYLOGENY =~ s/\\(.*?\\)//g;  $PHYLOGENY =~ s/[^\\w\\;]//g; \n            $taxonomy = $TAXhash{$taxID}; \n            if($taxonomy =~ /\\w/){ \n                $taxonomy =~ s/(\\s+\\;$|\\s+$|\\s+\\;\\s+$)//g; \n                $PHYLOGENY = $taxonomy;} \n            else{$PHYLOGENY=$PHYLOGENY.\"\\;\".$SPECIES;} \n            $PHYLOGENY =~ s/[\\t\\n]//g;\n\n            if($PHYLOGENY =~ /Bacteria/i){$org=\"B\";}\n            elsif($PHYLOGENY =~ /Virus/i){$org=\"V\";}\n            elsif($PHYLOGENY =~ /Fungi/i){$org=\"F\";}\n            elsif($PHYLOGENY =~ /Archaea/i){$org=\"A\";}\n            elsif($PHYLOGENY =~ /Chordata/i){$org=\"C\";}\n            elsif($PHYLOGENY =~ /(Viridiplantae|Stramenopiles|Rhodophyta)/i){$org=\"P\";}\n            elsif($PHYLOGENY =~ /Eukaryota/i &amp;&amp; $org !~ /[ABCFHPRV]/){$org=\"I\";}\n            else{$org=\"U\";}\n\n            # Print Phylogeny\n            open(GENO, '&gt;&gt;', $GBKGENOMES)||die \"unable to open $GBKGENOMES:$!\\n\";\n            print GENO \"$taxID\\t$PHYLOGENY\\n\"; close(GENO);\n\n            # get genome seq ###\n            $BIG =~ /ORIGIN(.+)/;\n            $GenomeSeq=$1;\n            $GenomeSeq =~ s/[^a-z]//ig;\n            $GenomeSeq = uc($GenomeSeq);\n            if(length($GenomeSeq)&lt;100){next;} # eg Bos Taurus genome had no gene seqs\n\n            # split file by genes \n            $BIG =~ /VERSION\\s{5,}(\\w.*?)\\s/; $Accession = $1;\n            $BIG =~ s/(\\s+gene\\s{5})/\\%$1/g;\n            $BIG =~ s/(\\s+[a-z]RNA\\s{5})/\\%$1/g;\n            $BIG =~ s/(\\s+CDS\\s{5})/\\%$1/g;\n            $BIG =~  s/order\\((\\d+)\\W*.*?\\W(\\d+)\\)+/$1\\.\\.$2/g;\n            $BIG =~  s/join\\((\\d+)\\W*.*?\\W(\\d+)\\)+/$1\\.\\.$2/g;\n            @genes = split(\"\\%\",$BIG); $junk=shift(@genes);\n\n            # get gene info \n            foreach(@genes){ \n                $gline = $_;\n                if($gline =~ /^\\s+gene\\s+/){next;}\n\n                # get gene type\n                if($gline =~ /\\s+CDS\\s+[\\dc]/)      {$type = \"Protein\";}\n                elsif($gline =~ /\\s\\/pseudo/)           {$type = \"Pseudo\";}\n                elsif($gline =~ /\\s+\\S*[^mr]RNA\\s{5}/){$type = \"ncRNA\"; \n                    $gline =~ /\\/note\\=\\\".*\\;*(.*)\\\"/; $LOC=$1; \n                    if($LOCUS !~ /\\w/){$LOCUS=$LOC;}}\n                elsif($gline =~ /\\s+rRNA\\s{5}/)     {$type = \"rRNA\";}\n                elsif($gline =~ /\\s+tRNA\\s{5}/)     {$type = \"tRNA\";}\n                else{next;}\n\n                # get gene names and ids\n                if($gline =~ /\\/note\\=\\\".*(COG\\d\\d\\d\\d)/)       {$COG = $1; $COG =~ s/\\s//g;}   else{$COG ='';}\n                if($gline =~ /\\/note\\=\\\".*:(K\\d\\d\\d\\d\\d)/)  {$KO = $1; $KO =~ s/\\s//g;} else{$KO ='';}\n                if($gline =~ /\\/locus_tag\\=\\\"(.*?)\\\"/)      {$LOCUS = $1; $LOCUS =~ s/\\s//g;}   else{$LOCUS ='';}\n                if($gline =~ /\\/protein_id\\=\\\"(.*?)\\\"/)     {$ProtID = $1; $ProtID =~ s/\\s//g;} else{$ProtID ='';}\n                if($gline =~ /\\/product\\=\\\"(.*?)\\\"/)            {$Product = $1;}    else{$Product ='';}\n                if($gline =~ /\\/gene\\=\\\"(.*?)\\\"/)               {$GName = $1;}  else{$GName ='';}\n                if($gline =~ /\\/inference\\=\\\".*(RF\\d+)\\\"/)  {$Rfam = $1;}   else{$Rfam ='';}\n                if($gline =~ /\\/translation\\=\\\"([\\w\\s]+)\\\"/)    {$AAseq = $1; $AAseq =~ s/\\s//g;}   else{$AAseq ='';}\n\n                # get gene seq and coords                   \n                if($gline =~/(RNA|CDS)\\s+(\\d+)\\D*\\.\\.\\D*(\\d+)/){ \n                    if($2&gt;$3){$start = $3; $end = $2;} \n                    else{$start = $2; $end = $3;}\n                    $strand = \"\\+\"; $seq= substr $GenomeSeq, $start-1, $end-$start+1;}\n                elsif($gline =~/(RNA|CDS)\\s+compl\\S*?(\\d+)\\D*\\.\\.\\D*(\\d+)/){\n                    if($2&gt;$3){$start = $3; $end = $2;}\n                    else{$start = $2; $end = $3;} \n                    $strand = \"\\-\"; $seq= substr $GenomeSeq, $start-1, $end-$start+1;\n                    $seq =~ tr/atgcrykmbvhdATGCRYKMBVHD/tacgyrmkvbdhTACGYRMKVBDH/; \n                    $rseq=reverse($seq); $seq=$rseq;}\n                else{print DEBUG \"no coords $gline\\t$gbk\\n\"; next;}\n\n                $seq=uc($seq); $Glen = length($seq); $coords = \"$start\\.\\.$end\";\n                if($Glen &lt; 5){print DEBUG \"gene length issue $gline\\t$gbk\\n\"; next;}\n\n                # get gene IDs\n                print \"prot id $ProtID and $gbk\\n\";\n                $IDS = $IDhash{$ProtID}; $IDS =~ s/\\n//g; $IDS =~ s/.*\\&amp;//; $Func = ''; $DATname = '';\n                if($IDS =~ /\\#/ ){($DATname, $Func) = split(\"\\#\", $IDS); $Func =~ s/(\\s+$|^\\s+)//;} \n                if($Func !~ /$COG/ &amp;&amp; $COG =~ /COG\\d\\d\\d\\d/){$Func = $COG.\"\\@\".$Func;}\n                if($Func !~ /$KO/ &amp;&amp; $KO =~ /K\\d\\d\\d\\d\\d/){$Func = $KO.\"\\@\".$Func;}\n                $Func =~ s/(\\@$|^\\@)//g;\n\n                # fix gene name issues\n                if($GName =~ /((hypothetical|uncharacterized|conserved|predicted)\\s+protein|unknown function|scaffold|contig)/i || length($GName)&lt;3 || $GName !~ /\\w/){\n                       if(length($Product)&gt;length($GName)   &amp;&amp; $Product !~ /((hypothetical|uncharacterized|conserved|predicted)\\s+protein|unknown function|scaffold|contig)/i){$GName=$Product;}\n                    elsif(length($DATname)&gt;length($GName)   &amp;&amp; $DATname !~ /((hypothetical|uncharacterized|conserved|predicted)\\s+protein|unknown function|scaffold|contig)/i){$GName=$DATname;}\n                else{ if($type =~ /(protein|pseudo)/i){$GName = \"Uncharacterized protein\";} else{$GName = \"Uncharacterized gene\";}}}                \n                $GName =~ s/([\\;\\,\\.\\@\\&lt;\\&gt;\\%\\|]|\\(.*\\))//g; $GName =~ s/(\\s$|^\\s)//g; $GName =~ s/\\s+/_/g;\n                if($LOCUS !~ /\\w/){$LOCUS = $Accession.\"&amp;\".$coords;}\n\n                $FINAL = \"$LOCUS\\t$ProtID\\t$GName\\t$type\\t$Glen\\t$strand\\t$taxID\\t$org\\t$Func\\t$AAseq\\t$seq\"; $FINAL =~ s/\\n//g;\n                if($LOCUS =~ /\\w/){print GBKINFO \"$FINAL\\n\";}\n\n            } # foreach gene\n                last;\n            } # if big matches protein\n            else{$i++; print \"no protein $i\\n\"; next;}\n        } # close while gbk\n        close(GBK)||die \"unable to close GBK:$!\\n\"; #just added to check it is closing\n\n        if($count==0){ print \"no genes unlinked $gbk\\n\"; unlink $gbk or warn    \"Could not unlink $gbk: $!\"; next;}\n    } # closes 1st if for getting genomes\n} # closes 1st foreach file\n\nclose(GBKINFO);\nclose(DEBUG);\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/8wlFt.jpg\" rel=\"nofollow\">Image showing command line print is ahead of print to file and memory use is fine</a></p>\n"}, {"tags": ["perl", "file", "perl-module", "directory", "mod-perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 3, "creation_date": 1467935011, "post_id": 38256521, "comment_id": 63934777, "body": "Why <code>1020300000_XXXXXXXXX_20160707193000.TXT</code> is older than <code>1020300000_XXXXXXXXX_20160707170000.TXT</code>? Is the directory listing already sorted by date? Aren&#39;t the last 6 digits HHMMSS?"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 2, "creation_date": 1467954547, "post_id": 38256521, "comment_id": 63938923, "body": "@LeonardoBerbert - can please answer the Casimir&#39;s question"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 6222772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739bf40ca6c8a132dbb36c7071357f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Babu", "link": "https://stackoverflow.com/users/6222772/babu"}, "is_accepted": false, "score": -1, "last_activity_date": 1467956887, "last_edit_date": 1467956887, "creation_date": 1467956444, "answer_id": 38259587, "question_id": 38256521, "link": "https://stackoverflow.com/questions/38256521/return-older-files-by-date/38259587#38259587", "title": "Return older files by date", "body": "<p>I assume your output should be</p>\n\n<pre><code>1020300000_XXXXXXXXX_20160707170000.TXT\n1020400000_XXXXXXXXX_20160707180000.TXT\n</code></pre>\n\n<p>. If not, I don't know what your requirement is. Anyway I hope this is what you need</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Data::Dumper;\n\n# folder saves the files\n$folder = \"test\";\n\n# save file names as array\n@files = `ls $folder`;\nchomp @files;\n\nforeach $file (@files){\n        #split filename to 3 columns e.g.\n        #1020300000 XXXXXXXXX 20160707170000.TXT\n        ($col_1, $col_2, $col_3) = split(/_/, $file);\n\n        #delete .TXT\n        $col_3 =~ s/\\.txt$//i;\n\n        #use my to create new @tmp every loop\n        my @tmp = ($col_3, $file);\n\n        #%outpput is our target result\n        #col_1 is key, the hash should look like this\n        #  '1020300000' =&gt; [\n        #                    '20160707170000',  &lt;= this is col_3, will be used to compare later\n        #                    '1020300000_XXXXXXXXX_20160707170000.TXT'  &lt;= condidate of the result\n        #                  ]\n        unless(defined $output{$col_1}){\n                $output{$col_1} = \\@tmp;\n                next;\n        };\n\n        $saved_col_3 = $output{$col_1}-&gt;[0];\n\n        #because $col_1 are the same (key), so compare their col_3 value\n        if($col_3 &lt; $saved_col_3){\n                #update if this one is smaller\n                $output{$col_1} = \\@tmp;\n        }\n}\n\n#print Dumper(\\%output);\n\n#so....\nforeach (keys %output){\n        print \"$output{$_}-&gt;[1]\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 0, "last_activity_date": 1467991516, "last_edit_date": 1467991516, "creation_date": 1467983373, "answer_id": 38267563, "question_id": 38256521, "link": "https://stackoverflow.com/questions/38256521/return-older-files-by-date/38267563#38267563", "title": "Return older files by date", "body": "<p>You can take advantage of the fact the the date is in YYYYMMDDHHMISS and just sort them and use a hash to only get the top value, returning the entries that you need:</p>\n\n<pre><code>sub get_oldest_two {\n    my (@files) = @_;\n\n    my @sorted = sort { [split(/_/, $a)]-&gt;[2] lt [split(/_/, $b)]-&gt;[2] } @files;\n    my %file_dates = map { [split(/_/, $_)]-&gt;[0] =&gt; $_ } @sorted;\n    return reverse(sort((values(%file_dates))[0..1]));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1468055909, "last_edit_date": 1468055909, "creation_date": 1468011414, "answer_id": 38275294, "question_id": 38256521, "link": "https://stackoverflow.com/questions/38256521/return-older-files-by-date/38275294#38275294", "title": "Return older files by date", "body": "<p>You can do it this way:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw(say);\n\nmy $path = \"./yourdir\";\nopendir (my $dh, $path) || die \"Can't opendir $path: $!\";\n\nmy @filelist = grep { -f \"$path/$_\" } readdir $dh;\n\nmy @result = sort values {        # (4)\n    map +( $_-&gt;[1], $_-&gt;[0] ),    # (3) \n    sort { $b-&gt;[2] cmp $a-&gt;[2] }  # (2)\n    map [ $_, (split '_')[0,2] ], # (1)\n @filelist\n};\n\nsay join \"\\n\", @result;\n</code></pre>\n\n<p><sup>(1) <em>return a list of references to anonymous three elements arrays:</em><br>\n([filename, firstpart, thirdpart], [filename, firstpart, thirdpart], ...)</sup><br>\n<sub>(2) <em>return a sorted list in descending order (from newest to oldest) using the creation date (thirdpart).</em> </sub></p>\n\n<p><sup>(3) <em>return a list consisting of the \"firstpart\" and the</em> \"filename\" <em>from each array referenced in the input list:</em><br>\n                                  (firstpart, filename, firstpart, filename, ...)</sup><br>\n<sub>(4) <em>An anonymous hash is created with the list (here curly brackets don't delimit a block or an expression but define a hash). All</em> firstpart<em>s become the keys and all</em> filename<em>s the values.\nSince filenames was previously sorted from newest to oldest, each key is in fine associated with the oldest filename that overwrites eventual more recent previous values for the same key.</em></sub></p>\n"}], "owner": {"reputation": 15, "user_id": 6562915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd4697b11ef770ba1224a511c43e3d3?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Berbert", "link": "https://stackoverflow.com/users/6562915/leonardo-berbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1468055909, "creation_date": 1467932072, "last_edit_date": 1468014195, "question_id": 38256521, "link": "https://stackoverflow.com/questions/38256521/return-older-files-by-date", "title": "Return older files by date", "body": "<p>I have the following files in a directory, where the delimiter is \"_\" and the third field is the date when the file was created. \nNow I need to always pick the file that has the earliest date in accordance with the first column code.</p>\n\n<p>Example:</p>\n\n<pre><code>1020300000_XXXXXXXXX_20160707193000.TXT\n1020300000_XXXXXXXXX_20160707170000.TXT\n1020400000_XXXXXXXXX_20160707180000.TXT\n1020400000_XXXXXXXXX_20160707190000.TXT\n</code></pre>\n\n<p>In this case I need to have as a result the older files.</p>\n\n<pre><code>1020300000_XXXXXXXXX_20160707170000.TXT\n1020400000_XXXXXXXXX_20160707180000.TXT\n</code></pre>\n\n<p>Could someone help me return only the older files?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 5597209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GwBzy1gfne4/AAAAAAAAAAI/AAAAAAAAAEI/iZJfktln3C0/photo.jpg?sz=128", "display_name": "Tsaari", "link": "https://stackoverflow.com/users/5597209/tsaari"}, "edited": false, "score": 0, "creation_date": 1467997060, "post_id": 38253862, "comment_id": 63963123, "body": "Hi Ikegami, thanks for the help. Can you explain the ending and joining of threads? When I try to use the multiple worker approach, I get &quot;Perl exited with active threads&quot; error, most running and unjoined, with some finished and unjoined. I can post my latest code as an answer below."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 79, "user_id": 5597209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GwBzy1gfne4/AAAAAAAAAAI/AAAAAAAAAEI/iZJfktln3C0/photo.jpg?sz=128", "display_name": "Tsaari", "link": "https://stackoverflow.com/users/5597209/tsaari"}, "edited": false, "score": 0, "creation_date": 1467998394, "post_id": 38253862, "comment_id": 63963729, "body": "That tells the workers there&#39;s no more work to before, and then waits for them to complete. Otherwise, the program would end prematurely."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 79, "user_id": 5597209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GwBzy1gfne4/AAAAAAAAAAI/AAAAAAAAAEI/iZJfktln3C0/photo.jpg?sz=128", "display_name": "Tsaari", "link": "https://stackoverflow.com/users/5597209/tsaari"}, "edited": false, "score": 0, "creation_date": 1467998661, "post_id": 38253862, "comment_id": 63963857, "body": "Fixed a bug in my code. (<code>@job1_threads</code> and <code>@job2_threads</code> weren&#39;t populated)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1467998639, "last_edit_date": 1467998639, "creation_date": 1467919967, "answer_id": 38253862, "question_id": 38253633, "link": "https://stackoverflow.com/questions/38253633/perl-parallel-programming-running-two-external-programs/38253862#38253862", "title": "Perl - parallel programming - running two external programs", "body": "<p>One solution:</p>\n\n<pre><code>use threads;\n\nuse Thread::Queue;  # 3.01+\n\nsub job1 { ... }\nsub job2 { ... }\n\n{\n   my $job1_request_queue = Thread::Queue-&gt;new();\n   my $job2_request_queue = Thread::Queue-&gt;new();\n\n   my $job1_thread = async {\n      while (my $job = $job1_request_queue-&gt;dequeue()) {\n         my $result = job1($job);\n         $job2_request_queue-&gt;enqueue($result);\n      }\n\n      $job2_request_queue-&gt;end();\n   };\n\n  my $job2_thread = async {\n      while (my $job = $job2_request_queue-&gt;dequeue()) {\n         job2($job);\n      }\n   };\n\n   $job1_request_queue-&gt;enqueue($_) for ...;\n\n   $job1_request_queue-&gt;end();    \n   $_-&gt;join() for $job1_thread, $job2_thread;\n}\n</code></pre>\n\n<p>You could even have multiple worker of either/both types.</p>\n\n<pre><code>use threads;\n\nuse Thread::Queue;  # 3.01+\n\nuse constant NUM_JOB1_WORKERS =&gt; 1;\nuse constant NUM_JOB2_WORKERS =&gt; 3;\n\nsub job1 { ... }\nsub job2 { ... }\n\n{\n   my $job1_request_queue = Thread::Queue-&gt;new();\n   my $job2_request_queue = Thread::Queue-&gt;new();\n\n   my @job1_threads;\n   for (1..NUM_JOB1_WORKERS) {\n      push @job1_threads, async {\n         while (my $job = $job1_request_queue-&gt;dequeue()) {\n            my $result = job1($job);\n            $job2_request_queue-&gt;enqueue($result);\n         }\n      };\n   }\n\n   my @job2_threads;\n   for (1..NUM_JOB2_WORKERS) {\n      push @job2_threads, async {\n         while (my $job = $job2_request_queue-&gt;dequeue()) {\n            job2($job);\n         }\n      };\n   }\n\n   $job1_request_queue-&gt;enqueue($_) for ...;\n\n   $job1_request_queue-&gt;end();    \n   $_-&gt;join() for @job1_threads;\n   $job2_request_queue-&gt;end();\n   $_-&gt;join() for @job2_threads;\n}\n</code></pre>\n\n<p>Use <a href=\"http://search.cpan.org/perldoc?IPC::Run\" rel=\"nofollow\">IPC::Run</a> instead of <code>qx</code> to add a timeout. No need for signals.</p>\n"}], "owner": {"reputation": 79, "user_id": 5597209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GwBzy1gfne4/AAAAAAAAAAI/AAAAAAAAAEI/iZJfktln3C0/photo.jpg?sz=128", "display_name": "Tsaari", "link": "https://stackoverflow.com/users/5597209/tsaari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 1, "accepted_answer_id": 38253862, "answer_count": 1, "score": 0, "last_activity_date": 1467998639, "creation_date": 1467919082, "question_id": 38253633, "link": "https://stackoverflow.com/questions/38253633/perl-parallel-programming-running-two-external-programs", "title": "Perl - parallel programming - running two external programs", "body": "<p>I have a perl script that runs two external programs, one dependent on the other, for a series of datasets. Currently, I just do this for each dataset one at a time, run it through the first program, gather the results with qx, and use those results to run the second program. The data is added to an output file with the results of the second program, one file for each dataset. I've created a simple reproducible example which hopefully captures my current approach:</p>\n\n<pre><code>#!/usr/bin/perl\n#\n# stackoverflow_q_7-7-2016.pl\n\nuse warnings;\nuse strict;\n\nmy @queries_list = (2, 4, 3, 1);\n\nforeach my $query (@queries_list) {\n    #Command meant to simulate the first, shorter process, and return a list of results for the next process\n    my $cmd_1 = \"sleep \" . $query . \"s; shuf -i 4-8 -n 3\";\n    print \"Running program_1 on query $query...\\n\";\n    my @results = qx($cmd_1);\n\n    foreach (@results) {\n        chomp $_;\n        #Command meant to simulate a longer process whose input depends on program_1; the output I write to a separate file for each query\n        my $cmd_2 = \"sleep \" . $_ . \"s; fortune -s | head -c \" . $_ * 5 . \" &gt;&gt; $query.output\";\n        print \"\\tRunning program_2 on query $query with input param $_...\\n\";\n        system($cmd_2);         }\n}\n</code></pre>\n\n<p>Since the first program generally completes faster than the second one, I thought it's probably possible to speed up this whole deal by continuing to run new queries through program_1 at the same time that program_2 is also running on a previous query. It'd be great to speed this up, as it currently takes many hours of processing to complete. However, I'm not sure how to go about this. Would something like Parallel::ForkManager have a solution? or using threads in Perl? </p>\n\n<p>Now in my actual code I do some error handling and set a timeout for program_2 - I use fork, exec, and $SIG{ALRM} to do this, but I don't really know what I'm doing with those. It's important that I still have the ability to do this, otherwise program_2 might get stuck or inadequately report on why it failed. Here's what the code looks like with error handling. I don't think it works the way it should in the reproducible example, but at least you'll hopefully see what I'm trying to do. Here's with error handling:</p>\n\n<pre><code>#!/usr/bin/perl\n#\n# stackoverflow_q_7-7-2016.pl\n\nuse warnings;\nuse strict;\n\nmy @queries_list = (2, 4, 3, 1);\n\nforeach my $query (@queries_list) {\n    #Command meant to simulate the first, shorter process, and return a list of results for the next process\n    my $cmd_1 = \"sleep \" . $query . \"s; shuf -i 4-15 -n 3\";\n    print \"Running program_1 on query $query...\\n\";\n    my @results = qx($cmd_1);\n\n    foreach (@results) {\n        chomp $_;\n        #Command meant to simulate a longer process whose input depends on program_1; the output I write to a separate file for each query\n        my $cmd_2 = \"sleep \" . $_ . \"s; fortune -s | head -c \" . $_ * 3 . \" &gt;&gt; $query.output\";\n        print \"\\tRunning program_2 on query $query with input param $_...\\n\";\n\n        my $childPid;\n        eval {\n            local $SIG{ALRM} = sub { die \"Timed out\" };\n            alarm 10;\n            if ($childPid = fork()) {\n                wait();\n            } else {\n                exec($cmd_2);\n            }\n            alarm 0;\n        };\n        if ($? != 0) {\n            my $exitCode = $? &gt;&gt; 8;\n            print \"Program_2 exited with error code $exitCode. Retry...\\n\";\n        }\n        if ($@ =~ /Timed out/) {\n            print \"\\tProgram_2 timed out. Skipping...\\n\";\n            kill 2, $childPid;\n            wait;\n        };\n    }\n}\n</code></pre>\n\n<p>All help is appreciated. </p>\n"}, {"tags": ["perl", "lwp"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1467915393, "post_id": 38252228, "comment_id": 63926159, "body": "<a href=\"https://www.nu42.com/2012/04/htmltableextract-is-beautiful.html\" rel=\"nofollow noreferrer\">HTML::TableExtract is very useful</a>."}, {"owner": {"reputation": 2954, "user_id": 2905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb53c993d09b1135375938f9727c28?s=128&d=identicon&r=PG", "display_name": "asjo", "link": "https://stackoverflow.com/users/2905/asjo"}, "edited": false, "score": 0, "creation_date": 1475521749, "post_id": 38252228, "comment_id": 66966999, "body": "I like Mojo::DOM for getting things out of HTML-pages, very nice to use."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1467918416, "post_id": 38252478, "comment_id": 63927972, "body": "The question is how do i extract for 3:00, 5:00 etc and place in appropriate column? They all fall under the same headers tags."}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1467919978, "post_id": 38252478, "comment_id": 63928788, "body": "I tried HTML::TableExtract (simple test) and it did not like &#39;my foreach&#39;: use LWP::Simple; use HTML::TableExtract; use Text::Table; my $doc = &#39;<a href=\"http://weather.gc.ca/past_conditions/index_e.html?station=yyz\" rel=\"nofollow noreferrer\">weather.gc.ca/past_conditions/index_e.html?station=yyz</a>&#39;; my $headers =  [ &#39;Time&#39;, &#39;Temperature&#39; ];   my $table_extract = HTML::TableExtract-&gt;new(headers =&gt; $headers); my $table_output = Text::Table-&gt;new(@$headers);  $table_extract-&gt;parse_file($doc); my ($table) = $table_extract-&gt;tables;   foreach my $row ($table-&gt;rows) {     clean_up_spaces($row); # not shown for brevity     $table_output-&gt;load($row); }   print $table_output;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1467920701, "post_id": 38252478, "comment_id": 63929171, "body": "@BrianB  I&#39;ve posted some basic but working code.  Will clean it up when I get time (even though it looks like you don&#39;t need that!).  Let me know how it goes."}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1467921002, "post_id": 38252478, "comment_id": 63929306, "body": "Thanks appreciate the help"}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1472692668, "post_id": 38252478, "comment_id": 65858429, "body": "Sorry for this delayed response - I have a problem with the results it extacts up to 10:00 and skips 9:00 - 1:00 and I can&#39;t figure out why"}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1472694317, "post_id": 38252478, "comment_id": 65858800, "body": "The  issue is the it only extract times with 2 digits ie HH:MM not H:MM Is there a way to fix that?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 1, "creation_date": 1472698172, "post_id": 38252478, "comment_id": 65859678, "body": "@BrianB  That turned out a long comment -- what I meant to say is: it&#39;s fixed.  In the line <code>next if ...</code> I changed <code>&#47;\\d\\d:\\d\\d&#47;</code> to <code>&#47;\\d?\\d:\\d\\d&#47;</code>. So, added one character, the <code>?</code>.  It means that the pattern before it is optional, there may be one or zero of it.  Please let me know if adding some explanation(s) would be helpful."}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1472702708, "post_id": 38252478, "comment_id": 65860653, "body": "Hi zdim - thanks I will run it tomorrow - but I more than confident that your fix will work"}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1472702805, "post_id": 38252478, "comment_id": 65860681, "body": "I just ran it now - IT WORKS THANKS"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1472702835, "post_id": 38252478, "comment_id": 65860692, "body": "@BrianB  Good, thanks for responding -- yes, this had to fix ... this.  It&#39;s tricky to come up with a general rule for any and all HTML format glitches.  Just let me know if something else comes up."}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1475337554, "post_id": 38252478, "comment_id": 66908628, "body": "Hi Zdim can you provide some direction how how to do a horizontal column scrape? <a href=\"http://www.accuweather.com/en/ca/thunder-bay/p7b/hourly-weather-forecast/49563\" rel=\"nofollow noreferrer\">accuweather.com/en/ca/thunder-bay/p7b/hourly-weather-forecas&zwnj;&#8203;t/&hellip;</a>  I was trying to get TIME,TEMP,REAL,HUMIDITY"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1475383183, "post_id": 38252478, "comment_id": 66918615, "body": "@BrianB  See the line <code>foreach my $row ...</code>. The <code>$row</code> is an <i>arrayref</i>, so <code>@$row</code> is the array.  You can look at the first element, <code>$row-&gt;[0]</code> and when it contains <code>&#39;Temp&#39;</code> you get the rest of the array for Temp. If it has <code>&#39;Real&#39;</code> then the remaining elements are values for that. Etc.  You do this by, say, <code>$row-&gt;[0] =~ &#47;^\\s*Temp&#47;</code> (find <code>Temp</code> at start of the line except for possible spaces). If that&#39;s what you mean ...?  You also need to first <i>see</i> the table, there could be empty cells etc (print out all rows and look at it).  The Humidity&#39; seems to involve another table."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1475383263, "post_id": 38252478, "comment_id": 66918628, "body": "@BrianB  If arrayrefs are giving you trouble, extract it to an array and work with that -- <code>my @arr = @$refarr</code>.  Let me know if the previous comment doesn&#39;t make sense."}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1475384540, "post_id": 38252478, "comment_id": 66918801, "body": "Thanks for the quick response _zdim,  I just walked back in - I will go through this in the morning  Thanks again for your help."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1475385190, "post_id": 38252478, "comment_id": 66918886, "body": "@BrianB Welcome -- let me know how it goes."}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1475427716, "post_id": 38252478, "comment_id": 66929011, "body": "Hi zdim  thanks for your help.  I am going to do some reading as I need to fully understand this utility better.  Thanks"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1475434879, "post_id": 38252478, "comment_id": 66931444, "body": "@BrianB OK. Let me know if things pop up, and another question is always possible.  The basic thing you get from the module is that it parses the table (gets all the details out), and returns the rows in arrayrefs. That&#39;s the <code>forearh my $rowref (...)</code>. So you can then go through them and parse specifics in each row with a regex. That&#39;s <code>@row = @$rowref</code> and process <code>@row</code>.  (The <code>$row</code> and <code>@row</code> are completely different in Perl.  My naming of <code>$row</code> may have been confusing -- <code>$rrow</code> or <code>$rowref</code> are clearer.) And then the tool offers a few others goodies."}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1475503119, "post_id": 38252478, "comment_id": 66956194, "body": "First of I appreciate your help here. This is obviously more advance than I had expected when I decided to tackle it. Thanks for the tutorial links I was off trying to get some background but your links look to be better than what I was coming across.  You made reference to &#39;other question&#39;. Are you referring to that follow-up question within this stream or a separate question all together?  BTW I dont mean to waist your time with this, so again I appreciate your help.  Brian"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1475515881, "post_id": 38252478, "comment_id": 66963954, "body": "@BrianB You are welcome.  Thanks for concern about my time! It&#39;s OK, if I didn&#39;t have time I&#39;d let you know :)  I realized that it&#39;s probably things like references (and regex) that&#39;s in the way.  They are everywhere, if you use Perl in any way it&#39;s better to just go over it. Basics aren&#39;t  hard -- a reference is a pointer to some data structure (if C is OK).  Basic regex is simple-minded, then it gets hairy.  The &quot;other question&quot; I meant is <a href=\"http://stackoverflow.com/questions/39261542/parsing-webpage-how-to-extract-times-with-single-hour-digits\">here</a>.  I dropped a message there."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1501832310, "last_edit_date": 1501832310, "creation_date": 1467915053, "answer_id": 38252478, "question_id": 38252228, "link": "https://stackoverflow.com/questions/38252228/how-to-parse-a-webpage/38252478#38252478", "title": "How to Parse a webpage", "body": "<p>Once you fetch the page with <code>LWP::Simple</code>, you can pick a specific tool depending on what needs to be done with it, instead of using a general parser.</p>\n\n<p>In this case you have a table on your hands and I'd recommend <a href=\"http://search.cpan.org/dist/HTML-TableExtract/lib/HTML/TableExtract.pm\" rel=\"nofollow noreferrer\">HTML::TableExtract</a>. With it you can cleanly retrieve table elements in a number of ways and then process them.  It can work with multiple tables, make use of headers, set up parsing preferences, and more. Normally you don't have to even look at the actual HTML. The module is a subclass of <code>HTML::Parser</code>. In my experience it's been a very good tool.</p>\n\n<hr>\n\n<p>Here is some basic code, for this particular page and task.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse LWP::Simple;\nuse HTML::TableExtract;\n\nmy $url = \"http://weather.gc.ca/past_conditions/index_e.html?station=yyz\";\nmy $page = get($url) or die \"Can't load $url: $!\";\n\nmy $headers = [ 'Time', 'Temperature', 'Humidex' ];\n\nmy $tec = HTML::TableExtract-&gt;new(headers =&gt; $headers);\n$tec-&gt;parse($page);\n\nmy $fmt = \"%6s | %6s | %6s | %8s\\n\";    \nprintf($fmt, 'Time', 'T-high', 'T-low', 'Humidex');    \n\nmy ($time, $temp_hi, $temp_low, $hum);\n\nforeach my $rrow ($tec-&gt;rows) {\n    # Skip rows without expected data. Clean up leading/trailing spaces.\n    next if $rrow-&gt;[0] !~ /^\\s*\\d?\\d:\\d\\d/;\n    my @row = map { s|^\\s*||; s|\\s*$||; $_ } @$rrow;\n    # Process as needed\n    ($time, $hum) = @row[0,2];\n    ($temp_hi, $temp_low) = $row[1] =~ /(\\d+) .* \\( (\\d+\\.\\d+) \\)/xs;\n    printf($fmt, $time, $temp_hi, $temp_low, $hum);\n}\n</code></pre>\n\n<p>The first few rows of output</p>\n\n<pre>\n  Time | T-high |  T-low |  Humidex\n 16:00 |     29 |   29.2 |       37\n 15:00 |     27 |   27.2 |       37\n 14:00 |     26 |   25.6 |       33\n...\n</pre>\n\n<p>Comments.</p>\n\n<p>The <code>headers</code> attribute for <code>new</code> makes it extract columns only under those headings. The loop variable is a <em>reference</em>, to an array with row elements. The elements are raw text in cells.</p>\n\n<p>The first line skips rows that don't have the expected format &ndash; a possible digit <code>\\d?</code> followed by another digit, then <code>:</code> then two digits. This is for time, <code>3:00</code> or <code>03:00</code>. </p>\n\n<p>The arrayref <code>$rrow</code> is extracted into an array <code>@row</code> for clarity.\nThe sought elements in particular columns, <code>@row[0,2]</code> are used as they come. The one in <code>$row[1]</code> is parsed by a regex, which captures a number <code>(\\d+)</code> and then two numbers separated by a <code>.</code>, with possible intervening text (<code>.*</code>). These captures are returned by regex, and assigned to the other two variables.</p>\n\n<p>See the module's documentation and, if needed, tutorials on references <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and on regular expressions <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a>. Another useful page is the  Data Structures Cookbook <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>. For other introductions see <a href=\"http://perldoc.perl.org/index-tutorials.html\" rel=\"nofollow noreferrer\">Tutorials</a>. They typically have links to more specific docs.</p>\n"}], "owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 38252478, "answer_count": 1, "score": 1, "last_activity_date": 1501832310, "creation_date": 1467914226, "question_id": 38252228, "link": "https://stackoverflow.com/questions/38252228/how-to-parse-a-webpage", "title": "How to Parse a webpage", "body": "<p>I am attempting to extract the following from the EnviroCanada weather page.</p>\n\n<p>I am trying to get for each hour as per the following.</p>\n\n<p>Time | Thigh | Tlow | Humidity </p>\n\n<p>7:00   |  23   |     22.9    |   30</p>\n\n<p>Extracted HTML Page:</p>\n\n<pre><code>&lt;tr&gt;\n         &lt;td headers=\"header1\" class=\"text-center vertical-center\"&gt; 7:00 &lt;/td&gt;\n        &lt;td headers=\"header2\" class=\"media vertical-center\"&gt;&lt;span class=\"pull-left\"&gt;&lt;img class=\"media-object\" height=\"35\" width=\"35\" src=\"/weathericons/small/02.png\" /&gt;&lt;/span&gt;&lt;div class=\"visible-xs visible-sm\"&gt;\n            &lt;br /&gt;\n            &lt;br /&gt;\n          &lt;/div&gt;\n          &lt;div class=\"media-body\"&gt;\n            &lt;p&gt;Partly Cloudy&lt;/p&gt;\n          &lt;/div&gt;\n        &lt;/td&gt;\n        &lt;td headers=\"header3m\" class=\" metricData text-center vertical-center\"&gt;23\n                                            \ufffd(22.9)\n                                        &lt;/td&gt;\n        &lt;td headers=\"header3i\" class=\" imperialData hidden text-center vertical-center\"&gt;73\n                                            \ufffd(73.2)\n                                        &lt;/td&gt;\n        &lt;td headers=\"header4m\" class=\"metricData text-center vertical-center\"&gt;\n          &lt;abbr title=\"West-Northwest\"&gt;WNW&lt;/abbr&gt; 8&lt;/td&gt;\n        &lt;td headers=\"header4i\" class=\"imperialData hidden text-center vertical-center\"&gt;\n          &lt;abbr title=\"West-Northwest\"&gt;WNW&lt;/abbr&gt; 5&lt;/td&gt;\n        &lt;td headers=\"header6\" class=\"metricData text-center vertical-center\"&gt;30&lt;/td&gt;\n        &lt;td headers=\"header6\" class=\"imperialData hidden text-center vertical-center\"&gt;87&lt;/td&gt;\n        &lt;td headers=\"header7\" class=\"text-center vertical-center\"&gt;83&lt;/td&gt;\n        &lt;td headers=\"header8\" class=\"metricData text-center vertical-center\"&gt;20&lt;/td&gt;\n        &lt;td headers=\"header8\" class=\"imperialData hidden text-center vertical-center\"&gt;68&lt;/td&gt;\n        &lt;td headers=\"header9m\" class=\"metricData text-center vertical-center\"&gt;100.7&lt;/td&gt;\n        &lt;td headers=\"header9i\" class=\"imperialData hidden text-center vertical-center\"&gt;29.7&lt;/td&gt;\n        &lt;td headers=\"header10\" class=\"metricData text-center vertical-center\"&gt;24&lt;/td&gt;\n        &lt;td headers=\"header10\" class=\"imperialData hidden text-center vertical-center\"&gt;15&lt;/td&gt;\n      &lt;/tr&gt;\n</code></pre>\n\n<p>Code so far:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::Simple;\nuse HTML::TokeParser;\n\n\n my $url = \"http://weather.gc.ca/past_conditions/index_e.html?station=yyz\";\n my $page = get($url) ||\ndie \"Could not load URL\\n\";\n\n\n my $parser = HTML::TokeParser-&gt;new(\\$page) ||\ndie \"Parse error\\n\";\n\n $parser-&gt;get_tag(\"td\") foreach ();\n $parser-&gt;get_tag(\"\");\n my $time = $parser-&gt;get_text();\n\n  ??\n my $thigh = $parser-&gt;get_text();\n\n\n ???\n my $tlow = $parser-&gt;get_text();\n\n ???\n my $humid = $parser-&gt;get_text();\n</code></pre>\n\n<p>I'm Completely lost here</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1467912761, "post_id": 38251759, "comment_id": 63924688, "body": "I would recommend using a module, either <a href=\"https://metacpan.org/pod/Net::SNMP\" rel=\"nofollow noreferrer\">Net::SNMP</a>, a pure-Perl module, or <a href=\"http://www.net-snmp.org/docs/perl-SNMP-README.html\" rel=\"nofollow noreferrer\">SNMP.pm</a>, the Perl bindings to the net-snmp library."}], "answers": [{"tags": [], "owner": {"reputation": 1736, "user_id": 508817, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5de437408acf2d2290e46b5129b4dd88?s=128&d=identicon&r=PG", "display_name": "cyber-guard", "link": "https://stackoverflow.com/users/508817/cyber-guard"}, "is_accepted": false, "score": 2, "last_activity_date": 1467912931, "creation_date": 1467912931, "answer_id": 38251849, "question_id": 38251759, "link": "https://stackoverflow.com/questions/38251759/perl-snmpwalk-to-string/38251849#38251849", "title": "perl snmpwalk to string", "body": "<p><code>system</code> function doesn't return the function output, use <code>qx//</code> or backticks, so your snmpwalk call line will look like this:</p>\n\n<p><code>my $output = qx/snmpwalk -v 2c -c community-string $_   oid-hidden/;</code></p>\n\n<p>And then you do with the output variable what you need, for more info I'd refer you to <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow\">http://perldoc.perl.org/perlop.html#Quote-Like-Operators</a></p>\n\n<p>However in more general terms I'd follow the advice in @ThisSuitIsBlackNot's comment...</p>\n"}], "owner": {"reputation": 19, "user_id": 5703678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5424610c75abe9f1a4772c3968b5af33?s=128&d=identicon&r=PG&f=1", "display_name": "NodeMan", "link": "https://stackoverflow.com/users/5703678/nodeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467912931, "creation_date": 1467912571, "question_id": 38251759, "link": "https://stackoverflow.com/questions/38251759/perl-snmpwalk-to-string", "title": "perl snmpwalk to string", "body": "<p>Normally I work with Python but I have a project in Perl.  So: What is the process for directing the results of an snmpwalk to a string?  I would like to search the string to see if it contains a smaller string.</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>foreach (@list){\n        chomp($_);\n        system(\"snmpwalk -v 2c -c community-string $_   oid-hidden\");\n        if (index($string, $substring) != -1) {\n            print \"'$string' contains '$substring'\\n\";\n        }\n\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1467912990, "post_id": 38251266, "comment_id": 63924830, "body": "<i>&quot;and outfiles this data into a text file that plugs the data into a text file&quot;</i> I have never heard of <i>outfiling</i>, and how does this text file that you &quot;outfile&quot; plug the data into another text file?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1467913176, "post_id": 38251266, "comment_id": 63924922, "body": "Please <i>always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every Perl program you write, especially before publishing it and asking for help. There is little point in typing all those <code>my</code> declarations without <code>use strict</code>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1467988513, "post_id": 38251508, "comment_id": 63957957, "body": "What would it look like to push the string <code>$key</code> into an array as i am building <code>%$h</code> look like? Like how can this be done? i appreciate the help!"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1467993333, "post_id": 38251508, "comment_id": 63961092, "body": "@m.lochhead You&#39;re already doing 3 more complicated pushes in the build process, so I&#39;d imagined you&#39;d come up with <code>push @keyorder $key;</code> on your own...."}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1467994531, "post_id": 38251508, "comment_id": 63961785, "body": "Oh ok i didnt know if there was a specific way i should approach this or not. thank you very much!"}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1467913763, "last_edit_date": 1467913763, "creation_date": 1467911635, "answer_id": 38251508, "question_id": 38251266, "link": "https://stackoverflow.com/questions/38251266/how-to-fix-the-order-in-which-my-program-outfiles/38251508#38251508", "title": "how to fix the order in which my program outfiles?", "body": "<p>The source of your problem is that in </p>\n\n<pre><code>foreach my $key (keys%{$h}){\n</code></pre>\n\n<p>You are expecting that the keys of the hash will be in some pre-defined order.  That's not how hashes work.</p>\n\n<p>2 reasonable solutions are:</p>\n\n<ul>\n<li><p>(optimize for effort) If you know the input file is sorted as you desire, push <code>$key</code> into an array as you are building <code>%$h</code> and interrate over it instead.  i.e.</p>\n\n<p><code>foreach my $key (@keyorder) {</code></p></li>\n<li><p>(optimize for memory) take the (apparently) unsorted list of keys and sort them:</p>\n\n<p><code>foreach my $key (sort { ### comparison here ### } keys %{$h}) {</code></p></li>\n</ul>\n\n<p>Where your comparison might take the form of: <code>((split $a, /=/)[1] &lt;=&gt; (split $b, /=/)[1]) || ((split $a, /=/)[-1] &lt;=&gt; (split $b, /=/)[-1])</code> depending on the details of your sorting requirements.</p>\n\n<hr>\n\n<p>While C style for loops have their place in Perl, your inner loops could benefit from some idiomatic Perl.</p>\n\n<pre><code>for my $i ( 1 .. @{$h-&gt;{key}} ) {\n  #stuff\n}\nfor my $i ( @{$h-&gt;{key}}+1 .. 12 ) {\n  #other stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1467993554, "creation_date": 1467910739, "last_edit_date": 1467993554, "question_id": 38251266, "link": "https://stackoverflow.com/questions/38251266/how-to-fix-the-order-in-which-my-program-outfiles", "title": "how to fix the order in which my program outfiles?", "body": "<p>So i have a program that pulls in sorted data (increasing in descending order) based on two columns and outfiles this data into a text file that plugs the data into a text file. The problem i am running into is that it doesnt produce an output in the same order as it was read into the program.</p>\n\n<p>Here is a sample of the data set:</p>\n\n<pre><code>2, 1, 20, 1, 10, 28.5714285, 0, \n2, 1, 72, 3, 7, 20, 0, \n2, 2, 20, 3, 19, 52.7777777, 0, \n5, 1, 66, 3, 199, 21.1927582, 0, \n5, 1, 5, 2, 153, 16.2939297, 0, \n</code></pre>\n\n<p>Here is a sample of an out of order output:</p>\n\n<pre><code>fci\nu\ncsno=51 svgrp=0 antfc= 2\ncdmanbr_list1.ncs_c[1]= 51\ncdmanbr_list1.nghbrantf[1]= 1\ncdmanbr_list1.pilot_pn[1]=\ncdmanbr_list1.pgn_c[1]= 0\nu\nu\ncsno=66 svgrp=0 antfc= 2\ncdmanbr_list1.ncs_c[1]= 66\ncdmanbr_list1.nghbrantf[1]= 1\ncdmanbr_list1.pilot_pn[1]=\ncdmanbr_list1.pgn_c[1]= 0\nu\nu\ncsno=51 svgrp=0 antfc= 3\ncdmanbr_list1.ncs_c[1]= 51\ncdmanbr_list1.nghbrantf[1]= 1\ncdmanbr_list1.pilot_pn[1]=\ncdmanbr_list1.pgn_c[1]= 0\nu\n</code></pre>\n\n<p>Notice how the value of the third \"csno\" (51) is less than the second \"csno\" value (66). And even though there are 2 \"csno\" of equal value, the \"antfc\" values are different. The desired output is the following:</p>\n\n<pre><code>fci\nu\ncsno=51 svgrp=0 antfc= 2\ncdmanbr_list1.ncs_c[1]= 51\ncdmanbr_list1.nghbrantf[1]= 1\ncdmanbr_list1.pilot_pn[1]=\ncdmanbr_list1.pgn_c[1]= 0\nu\nu\ncsno=51 svgrp=0 antfc= 3\ncdmanbr_list1.ncs_c[1]= 51\ncdmanbr_list1.nghbrantf[1]= 1\ncdmanbr_list1.pilot_pn[1]=\ncdmanbr_list1.pgn_c[1]= 0\nu\nu\ncsno=66 svgrp=0 antfc= 2\ncdmanbr_list1.ncs_c[1]= 66\ncdmanbr_list1.nghbrantf[1]= 1\ncdmanbr_list1.pilot_pn[1]=\ncdmanbr_list1.pgn_c[1]= 0\nu\n</code></pre>\n\n<p>Here is a copy of the program:</p>\n\n<pre><code>#!/usr/bin/perl\nuse POSIX qw(strftime);\n\n( $sec, $min, $hour, $mday, $mon, $year, $wday, $yday, $isdst ) =\n  localtime(time);\n\nmy $bdate = sprintf( \"%02d%02d%02d\", $mon + 1, $mday - 7, $year - 100 );\nmy $edate = sprintf( \"%02d%02d%02d\", $mon + 1, $mday - 1, $year - 100 );\n\nmy $newresult = \"/home/user/newresults/recommended_$bdate-$edate.csv\";\nmy $script    = \"/home/user/update_scripts/update_$bdate-$edate.txt\";\n\nmy $h;\nmy $k;\nmy $n;\nmy $fh = undef;\nopen( $fh,  '&lt;', $newresult ) or die $!;\nopen( $fsh, '&gt;', $script )    or die $!;\nprint $fsh \"fci\\n\";\nwhile ( my $line = &lt;$fh&gt; ) {\n    next if $. &lt; 2;\n    chomp $line;\n    my @array = split( /\\,/, $line );\n    my $key = \"csno=$array[0] svgrp=0 antfc=$array[1]\";\n    push( @{ $h-&gt;{$key} }, $array[6] );\n    push( @{ $k-&gt;{$key} }, $array[2] );\n    push( @{ $n-&gt;{$key} }, $array[3] );\n} ## end while ( my $line = &lt;$fh&gt; )\n\nforeach my $key ( keys %{$h} ) {\n    print $fsh \"u\\n\";\n    print $fsh \"$key\\n\";\n    if ( @{ $h-&gt;{$key} } &lt;= 12 ) {\n        for ( my $i = 1 ; $i &lt;= @{ $h-&gt;{$key} } ; $i++ ) {\n            my $m = $i - 1;\n            print $fsh \"cdmanbr_list1.ncs_c[$i]=${$k-&gt;{$key}}[$m]\\n\";\n            print $fsh \"cdmanbr_list1.nghbrantf[$i]=${$n-&gt;{$key}}[$m]\\n\";\n            print $fsh \"cdmanbr_list1.pilot_pn[$i]=\\n\";\n            print $fsh \"cdmanbr_list1.pgn_c[$i]=${$h-&gt;{$key}}[$m]\\n\";\n        } ## end for ( my $i = 1 ; $i &lt;=...)\n        for ( my $i = @{ $h-&gt;{$key} } + 1 ; $i &lt; 13 ; $i++ ) {\n            my $m = $i - 1;\n            print $fsh \"cdmanbr_list1.ncs_c[$i]=\\n\";\n            print $fsh \"cdmanbr_list1.nghbrantf[$i]=\\n\";\n            print $fsh \"cdmanbr_list1.pilot_pn[$i]=\\n\";\n            print $fsh \"cdmanbr_list1.pgn_c[$i]=\\n\";\n        } ## end for ( my $i = @{ $h-&gt;{$key...}})\n    } ## end if ( @{ $h-&gt;{$key} } &lt;=...)\n    print $fsh \"u\\n\";\n} ## end foreach my $key ( keys %{$h...})\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 6, "creation_date": 1467902543, "post_id": 38248404, "comment_id": 63918173, "body": "Use an XML parser"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1467925200, "post_id": 38248404, "comment_id": 63931451, "body": "I heartily recommend the XML::LibXML library and have written a <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\">tutorial with lot of examples</a>."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1467904690, "last_edit_date": 1467904690, "creation_date": 1467903937, "answer_id": 38248987, "question_id": 38248404, "link": "https://stackoverflow.com/questions/38248404/perl-compare-lines-in-an-xml-file/38248987#38248987", "title": "Perl: compare lines in an xml file", "body": "<p>Use an XML-aware tool. For example, I maintain <a href=\"http://metacpan.org/pod/distribution/XML-XSH2/xsh\" rel=\"nofollow\">xsh</a>, a wrapper around <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>:</p>\n\n<pre><code>open file.xml ;\nfor my $project in /root/project {\n    for my $element in $project/element {\n        if ($element/@version \n            != xsh:max($element/../element[@name=$element/@name]/@version)\n        ) delete $element ;\n    }\n}\nsave :b ;\n</code></pre>\n\n<p>If there are many versions per name, it might be faster to compute the maximum in advance:</p>\n\n<pre><code>for my $project in /root/project {\n    my $versions := hash ../@name $project/element/@version ;\n    for my $name in { keys %$versions } {\n        my $max = xsh:max(xsh:lookup('versions', $name)) ;\n        delete $project/element[@name = $name][@version != $max] ;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1467904483, "last_edit_date": 1467904483, "creation_date": 1467903981, "answer_id": 38249008, "question_id": 38248404, "link": "https://stackoverflow.com/questions/38248404/perl-compare-lines-in-an-xml-file/38249008#38249008", "title": "Perl: compare lines in an xml file", "body": "<p>Something like this will do it:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\nuse Data::Dumper;\n\n#set a handler for 'element' - this just collects the highest 'versions'.\nmy %version_of; \nsub get_highest_version {\n    my ( $twig, $element ) = @_; \n    my $name = $element -&gt; att('name'); \n    my $version = $element -&gt; att('version'); \n    if ( not defined $version_of{$name}\n         or $version_of{$name} &lt; $version ) {\n            $version_of{$name} = $version; \n    }\n}\n\n#create a parser, set it to use the above handler for 'element' elements. \nmy $twig = XML::Twig-&gt;new ( twig_handlers =&gt; { 'element' =&gt; \\&amp;get_highest_version } );\n#parse the data (in __DATA__ below - you probably want to use 'parsefile' instead)\n$twig -&gt; parse( \\*DATA );\n\n#output for debug - see what the highest versions of each actually were. \nprint Dumper \\%version_of;\n\n#iterate each of the 'element' nodes. \nforeach my $element ( $twig -&gt; get_xpath ('//element') ) {\n    #extract name/version from this element. \n    my $name = $element -&gt; att('name'); \n    my $version = $element -&gt; att('version');\n    #delete this node unless it's the highest version.  \n    $element -&gt; delete unless $version &gt;= $version_of{$name}; \n}\n\n#set output indentation and print\n$twig -&gt; set_pretty_print('indented_a');\n$twig -&gt; print;\n\n\n__DATA__\n&lt;root&gt;\n  &lt;project id=\"1\"&gt;\n    &lt;element name=\"stuff\" version=\"1.0\"/&gt;\n    &lt;element name=\"stuff\" version=\"1.2\"/&gt;\n    &lt;element name=\"table\" version=\"0.8\"/&gt;\n  &lt;/project&gt;\n  &lt;project id=\"2\"&gt;\n    &lt;element name=\"fruit\" version=\"1.0\"/&gt;\n    &lt;element name=\"tree\" version=\"1.2\"/&gt;\n    &lt;element name=\"tree\" version=\"0.8\"/&gt;\n    &lt;element name=\"tree\" version=\"2.5\"/&gt;\n  &lt;/project&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Although note - this does mean you <em>might</em> see duplicates if you have two equal versions. It also ignores the 'project' hierarchy entirely - it looks for global highest versions. (You could do this quite easily by tracking the project-id though)</p>\n"}], "owner": {"reputation": 545, "user_id": 6220533, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0ea839a204f58c79eb968a8f6de362c5?s=128&d=identicon&r=PG&f=1", "display_name": "UsefulUserName", "link": "https://stackoverflow.com/users/6220533/usefulusername"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 1, "accepted_answer_id": 38249008, "answer_count": 2, "score": 1, "last_activity_date": 1467905179, "creation_date": 1467902436, "question_id": 38248404, "link": "https://stackoverflow.com/questions/38248404/perl-compare-lines-in-an-xml-file", "title": "Perl: compare lines in an xml file", "body": "<p>I've got an xml file which looks a bit like this:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;project id=\"1\"&gt;\n    &lt;element name=\"stuff\" version=\"1.0\"/&gt;\n    &lt;element name=\"stuff\" version=\"1.2\"/&gt;\n    &lt;element name=\"table\" version=\"0.8\"/&gt;\n  &lt;/project&gt;\n  &lt;project id=\"2\"&gt;\n    &lt;element name=\"fruit\" version=\"1.0\"/&gt;\n    &lt;element name=\"tree\" version=\"1.2\"/&gt;\n    &lt;element name=\"tree\" version=\"0.8\"/&gt;\n    &lt;element name=\"tree\" version=\"2.5\"/&gt;\n  &lt;/project&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>What I would like to is to delete all the elements with inferior version numbers. What I know so far is to read in the file and detect the lines which contain the elements:</p>\n\n<pre><code>open(FILE, \"&lt;file.xml\"); \nmy @line = &lt;FILE&gt;; \nclose(FILE); \nopen(FILE, \"&gt;file.xml\"); \nforeach my $line (@line) {\n  if (index ($line, '&lt;element') != -1) {\n    #only print newer versions here\n  }\n}\n</code></pre>\n\n<p>But now I am not sure how to go on. I know I can compare version numbers like this: <code>version-&gt;parse($variable1) &lt; version-&gt;parse($variable2)</code> but how can I compare two lines of the same file and then delete the one with the older version number?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 5835, "user_id": 1446154, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e203591509f88fc8c8aeadc01dc1a5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Laser", "link": "https://stackoverflow.com/users/1446154/laser"}, "edited": false, "score": 0, "creation_date": 1467899234, "post_id": 38247066, "comment_id": 63915484, "body": "what version of perl do you use. I did not get any errors with this code."}, {"owner": {"reputation": 395, "user_id": 1100219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783c3326adf4b1876a1a41eb8099fd23?s=128&d=identicon&r=PG", "display_name": "Alexander Davydov", "link": "https://stackoverflow.com/users/1100219/alexander-davydov"}, "edited": false, "score": 0, "creation_date": 1467899251, "post_id": 38247066, "comment_id": 63915498, "body": "I dont get this error as well. Please elaborate on your environment."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1467900701, "post_id": 38247066, "comment_id": 63916707, "body": "It is absolutely an error in every version of perl. Turn on warnings if you don&#39;t see it."}], "answers": [{"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1467899298, "post_id": 38247190, "comment_id": 63915534, "body": "Are you sure that you don&#39;t need to do <code>my %innerHash = @_;</code> in the second case?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467900450, "post_id": 38247190, "comment_id": 63916506, "body": "This has the same problem as <a href=\"http://stackoverflow.com/a/38247206/622310\">Sobrique&#39;s solution</a>. Dereferencing an entire hash is wasteful and almost certainly unnecessary"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1467904503, "last_edit_date": 1467904503, "creation_date": 1467899236, "answer_id": 38247190, "question_id": 38247066, "link": "https://stackoverflow.com/questions/38247066/pass-nested-hash-to-subroutine/38247190#38247190", "title": "Pass nested hash to subroutine", "body": "<p>You need to dereference the inner hash if you need to use it as a hash.</p>\n\n<p>You can do that in the subroutine</p>\n\n<pre><code>hashFunc($hashTable{2});\nsub hashFunc {\n    my %innerHash = %{ $_[0] };\n</code></pre>\n\n<p>or in the calling code</p>\n\n<pre><code>hashFunc(%{ $hashTable{2} });\nsub hashFunc {\n    my %innerHash = @_;\n</code></pre>\n\n<p>But, you usually don't need to use a hash, you can just use the hash reference directly.</p>\n\n<pre><code>hashFunc($hashTable{2});\nsub hashFunc {\n    my $innerHashRef = shift;\n    # Whatever you need to do with the hash:\n    $innerHashRef-&gt;{key}{A} = ... \n    for my $key (keys %$innerHashRef) {\n    ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1467900316, "post_id": 38247206, "comment_id": 63916408, "body": "<b><i>Absolutely not!</i></b> It&#39;s misleading to suggest either of those solutions. Dereferencing a hash is only very rarely necessary, and it&#39;s far from obvious that the result is a one-level copy of the original which will duplicate data unnecessarily. The reference should be passed directly to the subroutine"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1467904235, "last_edit_date": 1467904235, "creation_date": 1467899280, "answer_id": 38247206, "question_id": 38247066, "link": "https://stackoverflow.com/questions/38247066/pass-nested-hash-to-subroutine/38247206#38247206", "title": "Pass nested hash to subroutine", "body": "<p>Multi-dimensional data structures are assembled via reference.</p>\n\n<p><code>$hashtable{'2'}</code> is a scalar value, that's reference to a hash. </p>\n\n<p>To use it in a subroutine, you need to dereference it - either <em>before</em> sending it:</p>\n\n<pre><code>hashFunc( %{$hashtable{'2'}});\n</code></pre>\n\n<p>Which will send a list of values (that you can then assign into a hash as you do).</p>\n\n<p>Or <em>within</em> the hash:</p>\n\n<pre><code> my %innerHash = %{$_[0]};\n</code></pre>\n\n<p>However as Borodin points out - this will cause your data structure to be copied, and this is inefficient and rarely necessary.</p>\n\n<p>So you could instead:</p>\n\n<pre><code> my ( $innerHash ) = @_; \n</code></pre>\n\n<p>And then you can access <code>$innerHash</code> via dereference operators, like:</p>\n\n<pre><code> print $innerHash -&gt; {'A'};\n foreach my $key ( keys %$innerHash ) { \n    print $key,\"\\n\";\n }\n</code></pre>\n\n<p>etc. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1467900585, "last_edit_date": 1467900585, "creation_date": 1467900065, "answer_id": 38247490, "question_id": 38247066, "link": "https://stackoverflow.com/questions/38247066/pass-nested-hash-to-subroutine/38247490#38247490", "title": "Pass nested hash to subroutine", "body": "<p>Perl hash values must be scalars, and nested data structures are built by using <em>references</em> to hashes or arrays for each array or hash value</p>\n\n<p>You need to assign a scalar value within your subroutine, like this</p>\n\n<pre><code>hashFunc($hashTable{'2'});\n\nsub hashFunc{\n    my ($innerHash) = @_;\n    # same as my $innerHash = $_[0]\n    ...\n}\n</code></pre>\n\n<p>You don't say anything about what you want to do with the secondary hash, but in general you can access an element of the inner hash using <code>$innerHash-&gt;{key}</code>, or you can use the <code>keys</code>, <code>values</code>, or <code>each</code> operators by dereferencing the value; for instance <code>for my $k ( keys %$innerHash ) { ... }</code></p>\n\n<p>You should take a look at <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\"><em>Perl references short introduction</em></a> and <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\"><em>Perl data structures intro</em></a> for more information</p>\n"}], "owner": {"reputation": 1442, "user_id": 2592424, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zaexb.jpg?s=128&g=1", "display_name": "beckah", "link": "https://stackoverflow.com/users/2592424/beckah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 38247206, "answer_count": 3, "score": 0, "last_activity_date": 1467904503, "creation_date": 1467898931, "question_id": 38247066, "link": "https://stackoverflow.com/questions/38247066/pass-nested-hash-to-subroutine", "title": "Pass nested hash to subroutine", "body": "<p>I have a multidimensional hash that looks like the following:</p>\n\n<pre><code>my %hashTable;\n$hashTable{'1'}{'A'} = \"red\";\n$hashTable{'1'}{'B'} = \"blue\";\n$hashTable{'2'}{'A'} = \"orange\";\n$hashTable{'2'}{'B'} = \"purple\";\n</code></pre>\n\n<p>I want to pass an inner hash as an argument to a subroutine. \nFor instance, </p>\n\n<pre><code>hashFunc($hashTable{'2'});\n\nsub hashFunc{\n     my %innerHash = $_[0];\n}\n</code></pre>\n\n<p>However, when I call the function as <code>hashFunc($hashTable{'2'})</code>, I receive the error</p>\n\n<pre><code>Reference found where even-sized list expected\n</code></pre>\n\n<p>How do I properly provide an inner hash as an argument to a subroutine?</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1467898415, "post_id": 38246818, "comment_id": 63914849, "body": "Last line of the file or last word of the file?"}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467898522, "post_id": 38246818, "comment_id": 63914921, "body": "last word in the file"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1467898753, "post_id": 38246818, "comment_id": 63915104, "body": "So your file is having one word in the last line always or it has more words?"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1467898986, "post_id": 38246818, "comment_id": 63915290, "body": "Using awk and tac. <code>tac file | awk &#39;!x{x=sub(&#47;(.*)kuku&#47;,&quot;\\1&quot;)}1&#39; | tac</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467901076, "post_id": 38246818, "comment_id": 63917012, "body": "If you always want to remove the last word then what is <code>export REPLACE_NAME=&quot;Kuku &quot;</code> for? Do you actually want to remove the last occurrence of <code>Kuku</code>, which may be before the last line of the file or may not appear at all?"}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467903242, "post_id": 38246818, "comment_id": 63918688, "body": "Ha , the Kuku is only example , I run this perl in the loop so REPLACE_NAME will get every cycle different word"}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467900055, "post_id": 38247287, "comment_id": 63916205, "body": "can you please give little explain about your new syntax?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467900451, "post_id": 38247287, "comment_id": 63916508, "body": "Done. Let me know if you have any more questions."}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467900942, "post_id": 38247287, "comment_id": 63916898, "body": "thank you ,       I get - Unrecognized switch: -Etie @file, &quot;Tie::File&quot;, shift or die; $file[-1] =~ s/\\b\\Q$ENV{REPLACE_NAME}\\E\\b/$ENV{REPLACE_WITH}/  (-h will show valid options).  ( my perl version  v5.8.8 , )"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 1, "creation_date": 1467901089, "post_id": 38247287, "comment_id": 63917027, "body": "Sorry, I&#39;m in the habit of using <code>-E</code> as it does the same as <code>-e</code> but also turns on all of the Perl 5.10+ features. In this case <code>-e</code> will work just as well. But perhaps consider upgrading to a version of Perl that isn&#39;t ten years old!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467909018, "post_id": 38247287, "comment_id": 63922466, "body": "<code>$!</code> works fine with the <code>tie</code> to this module, so you can say <code>or die $!</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 2, "creation_date": 1467909223, "post_id": 38247287, "comment_id": 63922597, "body": "@Eytan: <i>&quot;excellent answer&quot;</i> I agree. I often get flack if I recommend <code>Tie::File</code> because it&#39;s very slow, but the resulting code is usually so concise that I think it&#39;s an excellent choice unless you&#39;re dealing with multi-megabytes files"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1467913879, "post_id": 38247287, "comment_id": 63925273, "body": "Should be <code>$ENV{REPLACE_WITH}</code> not <code>$REPLACE_WITH</code>, no?"}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467977247, "post_id": 38247287, "comment_id": 63950369, "body": "hi Dave - i try it today on my linux machine but it not  remove the word , can you please check it again"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1467977405, "post_id": 38247287, "comment_id": 63950461, "body": "What (exactly) did you try? What (exactly) was the result? Did you see any error messages?"}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467977620, "post_id": 38247287, "comment_id": 63950604, "body": "no error - I just run the perl line with the file as in my example but the &quot;Kuku&quot; word not removed from the file"}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467977682, "post_id": 38247287, "comment_id": 63950646, "body": "did you try to run it on your linux machine?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1467977831, "post_id": 38247287, "comment_id": 63950718, "body": "I tested it under Cygwin on Windows. Moving it to Linux will make no difference. I suspect that your file is not the same as the one I tested with."}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467977949, "post_id": 38247287, "comment_id": 63950804, "body": "my file is very simple --&gt;  Kuku  Toto  Kuku  kuku    and I run the perl as --&gt; perl -MTie::File -e&#39;tie @file, &quot;Tie::File&quot;, shift or die $!; $file[-1] =~ s/\\b\\Q$ENV{REPLACE_NAME}\\E\\b/$ENV{REPLACE_WITH}/&#39; file"}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467978275, "post_id": 38247287, "comment_id": 63951020, "body": "Ha I see the problem - actually I want to replace the last match word , and the perl line replace only the last"}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467978303, "post_id": 38247287, "comment_id": 63951044, "body": "can I update my question about - to remove the last match word ?"}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467978511, "post_id": 38247287, "comment_id": 63951174, "body": "another issue is if I change the word to Kuku@$ , then it not remove that , this perl target is to remove evry kind of characters"}, {"owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "edited": false, "score": 0, "creation_date": 1467986119, "post_id": 38247287, "comment_id": 63956351, "body": "Hi dave - first thx a lot , because I want to run this perl from a bash script can you please convert it to perl one liner"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1467986455, "post_id": 38247287, "comment_id": 63956597, "body": "As I said, this is more complex than I&#39;m comfortable running as a one-liner, so I&#39;m not going to do that for you. To run it from a bash script, I&#39;d put my code in a file (called, say, <code>replace_names</code>) and then call it as <code>replace_names file</code>."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1467982282, "last_edit_date": 1467982282, "creation_date": 1467899527, "answer_id": 38247287, "question_id": 38246818, "link": "https://stackoverflow.com/questions/38246818/how-to-remove-only-the-last-word-from-a-file/38247287#38247287", "title": "How to remove only the last word from a file", "body": "<p>Use <a href=\"https://metacpan.org/pod/Tie::File\" rel=\"nofollow\">Tie::File</a> to make this easier.</p>\n\n<pre><code>$ perl -MTie::File -E'tie @file, \"Tie::File\", shift or die $!; $file[-1] =~ s/\\b\\Q$ENV{REPLACE_NAME}\\E\\b/$ENV{REPLACE_WITH}/' file\n</code></pre>\n\n<p><strong>Update:</strong> Rewriting as a program in order to explain it.</p>\n\n<pre><code># Load the Tie::File module\nuse Tie::File;\n\n# Tie::File allows you to create a link between an array and a file,\n# so that any changes you make to the array are reflected in file.\n# The \"tie()\" function connects the file (passed as an argument and\n# therefore accessible using shift()) to a new array (called @file).\ntie my @file, 'Tie::File', shift\n  or die $!;\n\n# The last line of the file will be in $file[-1].\n# We use s/.../.../ to make a substitution on that line.\n$file[-1] =~ s/\\b\\Q$ENV{REPLACE_NAME}\\E\\b/$ENV{REPLACE_WITH}/;\n</code></pre>\n\n<p><strong>Update:</strong> So now you've changed you requirements spec. You want to remove the last occurrence of the string, which is not necessarily on the last line of the file.</p>\n\n<p>Honestly, I think you've moved past the kind of task that I'd write in command-line switches. It'd write a separate program that looks something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Tie::File;\n\ntie my @file, 'Tie::File', shift\n  or die $!;\n\nforeach (reverse @file) {\n  if (s/\\b\\Q$ENV{REPLACE_NAME}\\E\\b/$ENV{REPLACE_WITH}/) {\n    last;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 6486621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3258d3ef293f6f7d835fa83360907f12?s=128&d=identicon&r=PG", "display_name": "Eytan", "link": "https://stackoverflow.com/users/6486621/eytan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 38247287, "answer_count": 1, "score": 0, "last_activity_date": 1467982282, "creation_date": 1467898249, "last_edit_date": 1467978732, "question_id": 38246818, "link": "https://stackoverflow.com/questions/38246818/how-to-remove-only-the-last-word-from-a-file", "title": "How to remove only the last word from a file", "body": "\n\n<p>I created the following Perl one-liner in order to remove a word from a file</p>\n\n<p>This Perl also escapes special characters such as <code>@</code> or <code>$</code> or <code>*</code>, so every word that contains a special character will removed from the file.</p>\n\n<p>How to change the Perl syntax in order to delete only the last matched word from a file and not all the words?</p>\n\n<p>Example</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> more file\n\n Kuku\n Toto\n Kuku\n kuku\n</code></pre>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>export REPLACE_NAME=\"Kuku\"\nexport REPLACE_WITH=\"\"\nperl -i -pe 'next if /^#/; s/(^|\\s)\\Q$ENV{REPLACE_NAME }\\E(\\s|$)/$1$ENV{ REPLACE_WITH }$2/'  file\n</code></pre>\n\n<p>expected results</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> more file\n Kuku\n Toto\n Kuku\n</code></pre>\n\n<p>another example</p>\n\n<p>when - <strong>export REPLACE_NAME=\"mark@$!\"</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>more file\n\nmark@$!\nhgst#@\nhhfdd@@\n</code></pre>\n\n<p>expected results</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>hgst#@\nhhfdd@@\n</code></pre>\n"}, {"tags": ["perl", "amazon-web-services", "amazon-s3"], "comments": [{"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1467927580, "post_id": 38245351, "comment_id": 63932479, "body": "Now, log into AWS immediately and invalidate the credentials that you have posted in this question.  Don&#39;t post your credentials in a public place.  You have potentially exposed yourself to significant liability if someone uses your credentials fraudulently."}, {"owner": {"reputation": 87, "user_id": 1925412, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6b8b70966f85cd06b99eb842758400f8?s=128&d=identicon&r=PG", "display_name": "ftumsh", "link": "https://stackoverflow.com/users/1925412/ftumsh"}, "reply_to_user": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1467961897, "post_id": 38245351, "comment_id": 63941765, "body": "The second line of the question: &quot;The below code generates the same signature as the signature in the example in the S3 docs.&quot;"}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1467976070, "post_id": 38245351, "comment_id": 63949729, "body": "Hahaha my bad.  Now, here&#39;s where my head exploded on your behalf: <i>&quot;Given the code below seems to work, I presume my signing method is ok. Also, the credentials used are the ones used to upload the file, so they are good too. They are root credentials, not an IAM user.&quot;</i>  Sweet: the code, below, includes your root credentials."}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1467976457, "post_id": 38245351, "comment_id": 63949943, "body": "lol and I was so busy with that thought, I didn&#39;t even realize this was a Perl question.  Every module for S3 that I have looked at seems to have been written by somebody who really failed to grasp all of the necessary principles or properly handle exceptions or support all of the edge cases that were needed.   I threw up my hands and wrote my own, and never looked back except when code I had written using other people&#39;s modules was subsequently broken or needed enhancements."}, {"owner": {"reputation": 87, "user_id": 1925412, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6b8b70966f85cd06b99eb842758400f8?s=128&d=identicon&r=PG", "display_name": "ftumsh", "link": "https://stackoverflow.com/users/1925412/ftumsh"}, "reply_to_user": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1467989893, "post_id": 38245351, "comment_id": 63958899, "body": "Heh, no problem. I&#39;m still unsure as to why it didn&#39;t work. Though now, if I really need to know I can poke around in the module. Thank you for your time."}], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 1925412, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6b8b70966f85cd06b99eb842758400f8?s=128&d=identicon&r=PG", "display_name": "ftumsh", "link": "https://stackoverflow.com/users/1925412/ftumsh"}, "is_accepted": true, "score": 0, "last_activity_date": 1467919696, "creation_date": 1467919696, "answer_id": 38253789, "question_id": 38245351, "link": "https://stackoverflow.com/questions/38245351/s3-signature-mismatch-for-presigned-url/38253789#38253789", "title": "S3 signature mismatch for presigned URL", "body": "<p>After further hackery, it turns out that the module I was using already does it.</p>\n\n<pre><code>my $client = Net::Amazon::S3::Client-&gt;new( s3 =&gt; $s3 );\n\nmy $bucket = $client-&gt;bucket( name =&gt; $bucket_name );\n\nmy $o = $bucket-&gt;object( key =&gt; 'key1', expires =&gt; '2016-07-08' );\nmy $uri = $o-&gt;query_string_authentication_uri();\n\nprint \"$uri\\n\";\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 1925412, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6b8b70966f85cd06b99eb842758400f8?s=128&d=identicon&r=PG", "display_name": "ftumsh", "link": "https://stackoverflow.com/users/1925412/ftumsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "accepted_answer_id": 38253789, "answer_count": 1, "score": 1, "last_activity_date": 1467919696, "creation_date": 1467894089, "last_edit_date": 1495541296, "question_id": 38245351, "link": "https://stackoverflow.com/questions/38245351/s3-signature-mismatch-for-presigned-url", "title": "S3 signature mismatch for presigned URL", "body": "<p>I'm trying to create a pre signed URL for Amazon S3.</p>\n\n<p>The below code generates the same signature as the signature in the example in the S3 docs.\n(<a href=\"https://s3.amazonaws.com/doc/s3-developer-guide/RESTAuthentication.html\" rel=\"nofollow noreferrer\">https://s3.amazonaws.com/doc/s3-developer-guide/RESTAuthentication.html</a>)</p>\n\n<p>However, when I plug in my own credentials etc, I get an error from AWS:\n\"The request signature we calculated does not match the signature you provided. Check your key and signing method.\"</p>\n\n<p>Given the code below seems to work, I presume my signing method is ok. Also, the credentials used are the ones\nused to upload the file, so they are good too. They are root credentials, not an IAM user.</p>\n\n<p>I have tried:</p>\n\n<p>1) A file name with and without a period. \n2) A file in US standard as well as Ireland.\n3) HTTP and HTTPS\n4) SHA256 (although this breaks the example in the docs.)\n5) Different web clients: wget, curl and Firefox.</p>\n\n<p>I seem to be doing exactly the same as the php given here:\n<a href=\"https://stackoverflow.com/questions/8134799/creating-a-signed-s3-url-with-javascript\">Creating a signed S3 URL with Javascript</a></p>\n\n<p>This is the URL generated for the US standard. Bucket is \"buck1bar\", file is \"foo.txt\"</p>\n\n<p><a href=\"https://s3.amazonaws.com/buck1bar/foo.txt?AWSAccessKeyId=AKIAJG5VR56AB5USIG5Q&amp;Expires=1467893299&amp;Signature=emdimX%2FWKYrcdhtPtE7eQ9ErWv30HNlAHaa9vlDODCY%3D\" rel=\"nofollow noreferrer\">https://s3.amazonaws.com/buck1bar/foo.txt?AWSAccessKeyId=AKIAJG5VR56AB5USIG5Q&amp;Expires=1467893299&amp;Signature=emdimX%2FWKYrcdhtPtE7eQ9ErWv30HNlAHaa9vlDODCY%3D</a></p>\n\n<p>So, what am I doing wrong?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nuse MIME::Base64;\n\nuse Digest::HMAC;\nuse Digest::SHA;\nuse URI::Escape;\n\n\nmy $hmac3 = Digest::HMAC-&gt;new( 'OtxrzxIsfpFjA7SwPzILwy8Bw21TLhquhboDYROV', 'Digest::SHA');\n\n$hmac3-&gt;add(\"GET\\n\\n\\n1141889120\\n/quotes/nelson\");\n\nmy $signature = uri_escape( encode_base64 $hmac3-&gt;digest, '');\n\nprint  \"vjbyPxybdZaNmGa%2ByT272YEAiv4%3D\\n$signature\\n\";\n\n# vjbyPxybdZaNmGa%2ByT272YEAiv4%3D\n# vjbyPxybdZaNmGa%2ByT272YEAiv4%3D\n</code></pre>\n"}, {"tags": ["perl", "object", "bless"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467907859, "post_id": 38244968, "comment_id": 63921769, "body": "I don&#39;t think that excerpt is very much use out of context!"}], "tags": [], "owner": {"reputation": 151870, "user_id": 1501794, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/VyUv5.jpg?s=128&g=1", "display_name": "Rahul Tripathi", "link": "https://stackoverflow.com/users/1501794/rahul-tripathi"}, "is_accepted": false, "score": 0, "last_activity_date": 1467892915, "creation_date": 1467892915, "answer_id": 38244968, "question_id": 38244880, "link": "https://stackoverflow.com/questions/38244880/how-does-perls-bless-operator-work/38244968#38244968", "title": "How does perl&#39;s bless operator work?", "body": "<p>From the <a href=\"http://www.perl.com/pub/1999/09/refererents.html\" rel=\"nofollow noreferrer\">source: Bless My Referents</a></p>\n\n<blockquote>\n  <p>Once an object is blessed, ref returns the name of its class instead.\n  So after the blessing, ref($nextbug) will return 'Bug'. Of course the\n  object itself still is a hash, but now it's a hash that belongs to the\n  Bug class. The various entries of the hash become the attributes of\n  the newly created Bug object.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/8Rn2v.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Rn2v.gif\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467907506, "post_id": 38245139, "comment_id": 63921564, "body": "Except that it is the <i>object</i> of the reference that gets the sticky note, not the reference itself. It&#39;s done that way only so that <code>bless</code> has to cope with just a scalar parameter. If I have <code>my %obj; bless \\%obj, &#39;Class&#39;;</code> I can then write <code>print ref \\%obj;</code> and get <code>Class</code>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1467893466, "creation_date": 1467893466, "answer_id": 38245139, "question_id": 38244880, "link": "https://stackoverflow.com/questions/38244880/how-does-perls-bless-operator-work/38245139#38245139", "title": "How does perl&#39;s bless operator work?", "body": "<p>When I'm running training courses, I tell people that <code>bless()</code> is like taking a post-it note, writing the name of the class on it and sticking the note on the forehead of the hash reference.</p>\n\n<p>The hash reference isn't changed in any way. It just has access to this one extra piece of information - the name of the class that it belongs to.</p>\n\n<p>Does that help at all?</p>\n"}], "owner": {"reputation": 195, "user_id": 6159321, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/92602372d8e9324d16527e5e2a2a63f0?s=128&d=identicon&r=PG&f=1", "display_name": "vaishali", "link": "https://stackoverflow.com/users/6159321/vaishali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "closed_date": 1467893508, "answer_count": 2, "score": 0, "last_activity_date": 1468061419, "creation_date": 1467892640, "last_edit_date": 1468061419, "question_id": 38244880, "link": "https://stackoverflow.com/questions/38244880/how-does-perls-bless-operator-work", "closed_reason": "Duplicate", "title": "How does perl&#39;s bless operator work?", "body": "<p>I don't know How bless operator works?\nHow it associated the given reference with class.It returns the reference.</p>\n\n<p>In that we can call the method using its returned reference and passed \nreference also.In this function which is object.\nI want to know the meaning of the term 'bless'.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467879044, "post_id": 38240235, "comment_id": 63901951, "body": "Those <code>print</code>s, what do they show?  Please show the output. You have <code>62.5</code> hard-coded, what are the numbers in the second case?"}, {"owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467881005, "post_id": 38240235, "comment_id": 63903091, "body": "sorry forget the output  output from 1st script: 62.5 Electric Conductivity 773.725323749752 \ufffdS/m   output from the 2nd: 0x5303  0x0353 851  Electric Conductivity 16969.9858590372 \ufffdS/m  i use the print command to see what happen on every step to see my error."}, {"owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467881288, "post_id": 38240235, "comment_id": 63903262, "body": "edited the 1st post"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467881853, "post_id": 38240235, "comment_id": 63903612, "body": "I don&#39;t see anything wrong with your code. I take it that you know that you need to do that swap, etc.  The hex for <code>62.3</code> is <code>0x3E</code>, far off from what you work with.  Is something wrong with the input?"}, {"owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467882294, "post_id": 38240235, "comment_id": 63903880, "body": "it is an 12bit AD Converter so i get always a value like 0x5303, must swap this bytes from 0x5303 to 0x0353 and convert it to decimal. Then calculate the linear regression. The output fromt he AD Converter as an example at a referenced EC value 1974 microSiemens/cm: Here i took the values from the AD Converter and put every gathered value i an colum file:  0x8600 0x6d00 0x8a00 0x6e00 0x7800 0x7000 0x7d00 0x8000 0x8700 0x7700 0x7400 0x7300 0x7600 0x9000 0x7a00 0x6a00 0x7b00 0x7400 0x7500 0x7900 0x8200 0x6e00 0x7b00 0x7c00  and so on...."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467898066, "post_id": 38240235, "comment_id": 63914571, "body": "There is no linear regression anywhere in your question."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "edited": false, "score": 0, "creation_date": 1467884251, "post_id": 38241853, "comment_id": 63905178, "body": "Yes, thats wrong....  i can only access this debian in the evening. i can not check this now. I will correct this... thanks!"}, {"owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "edited": false, "score": 0, "creation_date": 1467921912, "post_id": 38241853, "comment_id": 63929798, "body": "That made my day! I get an exact result and a lesson that i should learn the perl basics. I owe you an favor, Borodin!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467898971, "last_edit_date": 1467898971, "creation_date": 1467883448, "answer_id": 38241853, "question_id": 38240235, "link": "https://stackoverflow.com/questions/38240235/why-is-my-perl-script-printing-incorrect-values-when-not-using-hard-coded-values/38241853#38241853", "title": "Why is my Perl script printing incorrect values when not using hard-coded values?", "body": "\n\n<p>You are printing <code>$ECdec</code> in your output instead of <code>$ECvalue</code></p>\n\n<p>Also, please always post your real code. The program you have shown won't compile and is clearly not the one that is giving you problems</p>\n\n<p>This is how your program should look</p>\n\n<p>You <em>must always</em> <code>use strict</code> and <code>use warnings 'all'</code> at the top of even the most trivial Perl programs, and declare all of your variables with <code>my</code></p>\n\n<p>You should always <code>use utf8</code> if your code contains non-ASCII characters like the Greek mu <code>\u00b5</code> in microSiemens. Perl doesn't support source code encoded other than in 7-bit ASCII or UTF-8. I don't know whether your terminal expects UTF-8 characters, and you may need to alter the <code>use open</code> statement</p>\n\n<p>I have commented out your call to i2cget to retrieve a real value and subsituted a constant string instead</p>\n\n<p>I have also converted the hex string to binary before swapping the bytes for speed, but it's far from critical and you should retain the character swap if you find it more readable. I would use a regular expression and write it like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>die unless $EChex =~ /0x(\\p{hex}{2})(\\p{hex}{2})/;\nmy $EC = hex($2.$1);\n</code></pre>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse utf8;\nuse strict;\nuse warnings 'all';\nuse open qw/ :std :encoding(utf8) /;\n\nuse constant DIR       =&gt; '/var/www/motion';\nuse constant SLOPE     =&gt; 0.048684077307972626;\nuse constant INTERCEPT =&gt; 24.831896523430906;\n\n# my $EChex = `sudo i2cget -y 1 0x4a 0x00 w` ;\nmy $EChex = '0x5303';\nprintf \"\\$EChex = %s\\n\", $EChex;\n\nmy $EC = hex $EChex;\nprintf \"\\$EC = %s\\n\", $EC;\n\n$EC = (($EC &amp; 0xFF00) &gt;&gt; 8) | (($EC &amp; 0xFF) &lt;&lt; 8); # swap bytes\n\nmy $ECvalue = ($EC - INTERCEPT) / SLOPE;\n\nprintf \"Electric Conductivity %.3f\u00b5S/m \\n\", $ECvalue;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>$EChex = 0x5303\n$EC = 21251\nElectric Conductivity 16969.986\u00b5S/m \n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 38241853, "answer_count": 1, "score": 0, "last_activity_date": 1467898971, "creation_date": 1467878013, "last_edit_date": 1467898150, "question_id": 38240235, "link": "https://stackoverflow.com/questions/38240235/why-is-my-perl-script-printing-incorrect-values-when-not-using-hard-coded-values", "title": "Why is my Perl script printing incorrect values when not using hard-coded values?", "body": "<p>I use an A/D converter to get some results of an electric conductivity probe. I use a miniEC interface from <a href=\"https://www.sparkyswidgets.com/\" rel=\"nofollow\">Sparky's Widgets</a>. We run a calibration and get the slope and the intercept values. When I am testing this values with this calibration in a static script the result is correct.</p>\n\n<p>See here, not a big thing but a proof that my calibration works well. The result is correct.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nmy $slope     = \"0.048684077307972626\";\nmy $intercept = \"24.831896523430906\";\n\n$ECdec = 62.5;\n\nprint \"$ECdec \\n\";\n\n###lin\n$EC1 = ( ( $ECdec - $intercept ) / $slope );\n\nprint \"Electric Conductivity $EC1 \u00b5S/m \\n\";\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>62.5\nElectric Conductivity 773.725323749752 \ufffdS/m \n</code></pre>\n\n<p>When I swap the static value <code>$ECdec</code> to the output of the A/D Converter and try to get a result it is totally wrong. Can anyone see my failure?</p>\n\n<p>Here is the Perl which reads the probes value from the converter, swap the bytes, convert it to decimal and then add the linear regression. What did I do wrong?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>    #!/usr/bin/perl\n\nmy $dir = '/var/www/motion';\n\nmy $slope = \"0.048684077307972626\";\nmy $intercept = \"24.831896523430906\";\n\n###get value \nmy $EC = `sudo i2cget -y 1 0x4a 0x00 w` ;\n\nprint \"$EC \\n\";\n\n###swap \nmy $ECswap = $EC;\nsubstr $ECswap, 4, 0, substr $ECswap, 2, 2, q();\n\nprint \"$ECswap \\n\";\n\n###convert to decimal\n$ECdec = hex($ECswap);\n\nprint \"$ECdec \\n\";\n\n$ECvalue = ($ECdec - $ECintercept)/$slope);\n\nprint \"$ECvalue\"\n#$rrd = `/usr/bin/rrdtool update $dir/homeec.rrd N:$ECdec`;\n\n####system (\"clear\");\nprint \"Electric Conductivity $ECdec \u00b5S/m \\n\";\n</code></pre>\n\n<p>Output here is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0x5303 \n0x0353\n851 \nElectric Conductivity 16969.9858590372 \ufffdS/m \n</code></pre>\n"}, {"tags": ["jquery", "ajax", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467888214, "post_id": 38239848, "comment_id": 63907785, "body": "What is the action on the browser to initiate this? How would you select the images to be uploaded?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467888402, "post_id": 38239905, "comment_id": 63907902, "body": "<i>&quot;It&#39;s horrendous practice to use it as it blocks the UI thread&quot;</i> I think <i>horrendous</i> is hugely overstating it. (Wouldn&#39;t <i>bad</i> do fine?) It rather spoils much of the point of AJAX, but it&#39;s no worse than non-AJAX code and at least the client screen is still not refreshed"}, {"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467888587, "post_id": 38239905, "comment_id": 63908004, "body": "Personal opinion really, but I believe it&#39;s worse than non-AJAX code. The whole point of AJAX is that it&#39;s asynchronous. Making it run synchronously makes the point of the request entirely redundant and also makes the browser look as though it has hung while the request awaits a response. This is why <code>async: false</code> is being deprecated, and why browsers show warnings in the console when you use it. It&#39;s just plain bad practice in the vast majority of cases. If you&#39;re going to do AJAX, do it right and use callbacks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467888941, "post_id": 38239905, "comment_id": 63908248, "body": "I don&#39;t disagree except that it <i>can&#39;t</i> be worse than non-AJAX code, which also <i>&quot;makes the browser look as though it has hung&quot;</i>. I wouldn&#39;t want this in production code though"}], "tags": [], "owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "is_accepted": false, "score": 1, "last_activity_date": 1467876943, "creation_date": 1467876943, "answer_id": 38239905, "question_id": 38239848, "link": "https://stackoverflow.com/questions/38239848/get-message-for-all-images-uploaded-instead-of-for-each-one/38239905#38239905", "title": "Get message for all images uploaded instead of for each one", "body": "<p>Firstly (and most importantly) <em>get rid of <code>async: false</code></em>. It's horrendous practice to use it as it blocks the UI thread. If you check the console you'll event see the browser warning you not to use it.</p>\n\n<p>Secondly, if you want individual messages about each file being uploaded then you would need to send them separately as the <code>progress</code> event only works for the request as a whole.</p>\n\n<p>You could do it the old-fashioned way and send a single request to do the upload, and then send other requests every ~1sec to monitor its progress and check what file uploads have completed, but this would put extra load on your server and is, frankly, an ugly bodge.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5861285"}, "is_accepted": false, "score": 0, "last_activity_date": 1467957475, "creation_date": 1467957475, "answer_id": 38259817, "question_id": 38239848, "link": "https://stackoverflow.com/questions/38239848/get-message-for-all-images-uploaded-instead-of-for-each-one/38259817#38259817", "title": "Get message for all images uploaded instead of for each one", "body": "<p>I solved the problem this way:</p>\n\n<ol>\n<li>I create an session id and send the form via ajax to the server.</li>\n<li>The perl script upload every single image and do some process withit. Subsequently the script writes into an logfile (named by the sesseion id) the status of the process. After the last loop, an finish flag will be written to the log.</li>\n<li>On the client-side, i check with jquery .get() every 2 seconds the content of the logfile and write it into DOM. If the finish flag is set, the process will be canceled and a signal will be send to the server to delete the logfile.</li>\n</ol>\n\n<p>Perhaps not the best way but it works fine...</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5861285"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1467957475, "creation_date": 1467876709, "last_edit_date": 1467888122, "question_id": 38239848, "link": "https://stackoverflow.com/questions/38239848/get-message-for-all-images-uploaded-instead-of-for-each-one", "title": "Get message for all images uploaded instead of for each one", "body": "<p>I send some images to a Perl script via an AJAX request</p>\n\n<pre><code>$(\"form#multiupload\").submit(function(){\n\n    var formData = new FormData($(this)[0]);\n\n    $.ajax({\n        url:   \"/cgi-bin/upload_my_images.pl\",\n        type:        'POST',\n        async:       false,\n        cache:       false,\n        contentType: false,\n        processData: false,\n        data:        formData,\n        success:     function (data) {\n            alert(data)\n        }\n    });\n\n    return false;\n});\n</code></pre>\n\n<p>I am uploading the images to the server with Perl</p>\n\n<pre><code>my @fh = $cgi-&gt;param(\"img\");\n\nforeach my $fh (@fh) {\n\n    my $uploaddir = 'somedir';\n    my $serverFile = $uploaddir . \"/\" . ( split( /[\\\\\\/]/, $filename ) )[-1];\n    my $buffer;\n\n    open( FILE, \"&gt;$serverFile\" ) or die $!;\n    binmode FILE;\n    binmode $fh;\n\n    while ( my $bytesread = read( $fh, $buffer, 1024 ) ) {\n        print FILE $buffer;\n    }\n\n    close(FILE);\n}\n</code></pre>\n\n<p>When the upload is successful I get the alert message.</p>\n\n<p>Is it possible to get a message when all images have uploaded successfully, or must I upload every single image with its own AJAX request?</p>\n"}, {"tags": ["linux", "perl", "shell", "parsing", "openstack-nova"], "comments": [{"owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1467876585, "post_id": 38239702, "comment_id": 63900497, "body": "@Jens result is same as ;internal;Compute01;Compute02;nova;;"}, {"owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 0, "creation_date": 1467876760, "post_id": 38239702, "comment_id": 63900612, "body": "@Jens this does work nova availability-zone-list | awk &#39;NR&gt;2 {print $2}&#39; | grep -v &#39;|&#39; |grep -v &#39;internal&#39; |grep -v &quot;nova&quot; | tr &#39;\\n&#39; &#39;;&#39;  result as ;Compute01;Compute02;;. I want output as &#39;;&#39; seperated and i cant just exclude nova ,internal bcoz their may be something else, i want a nodes which has nova-compute"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 2, "creation_date": 1467877725, "post_id": 38239702, "comment_id": 63901171, "body": "You should probably use the API to get this output in machine-readable form instead. Maybe submit a wishlist bug report to add this to the <code>nova</code> client."}], "answers": [{"comments": [{"owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 1, "creation_date": 1467878333, "post_id": 38240196, "comment_id": 63901528, "body": "It is working, thank you for description it is helpfull"}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 0, "last_activity_date": 1467886609, "last_edit_date": 1467886609, "creation_date": 1467877879, "answer_id": 38240196, "question_id": 38239702, "link": "https://stackoverflow.com/questions/38239702/parsing-in-linux/38240196#38240196", "title": "Parsing in Linux", "body": "<pre><code>$  nova availability-zone-list | awk '/^[|] [^|]/{node=$2} node &amp;&amp; /nova-compute/ {s=s \";\" node} END{print substr(s,2)}' \nCompute01;Compute02\n</code></pre>\n\n<p>How it works:</p>\n\n<ul>\n<li><p><code>/^[|] [^|]/{node=$2}</code></p>\n\n<p>Any time a line begins with <code>|</code> followed by space followed by a character not <code>|</code>, then save the second field as a node name.</p></li>\n<li><p><code>node &amp;&amp; /nova-compute/ {s=s \";\" node}</code></p>\n\n<p>If <code>node</code> is non-empty and the current line contains <code>nova-compute</code>, then append <code>node</code> to the string <code>s</code>.</p></li>\n<li><p><code>END{print substr(s,2)}</code></p>\n\n<p>After we have read all the lines, print out string <code>s</code> minus its first character which is a superfluous <code>;</code>.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1467878511, "creation_date": 1467878511, "answer_id": 38240368, "question_id": 38239702, "link": "https://stackoverflow.com/questions/38239702/parsing-in-linux/38240368#38240368", "title": "Parsing in Linux", "body": "<p>In Perl (and written rather more verbosely than is really necessary):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy $node; # Store current node name\nmy @compute_nodes; # Store known nova-compute nodes\n\nwhile (&lt;&gt;) { # Read from STDIN\n  # If we find the start of line, followed by a pipe, a space and\n  # a series of word characters...\n  if (/^\\| (\\w+)/) {\n    # Store the series of word characters (i.e. the node name) in $node\n    $node = $1;\n  }\n\n  # If we find a line that contains \"nova-compute\", add the current\n  # node name in @compute_nodes\n  push @compute_nodes, $node if /nova-compute/;\n}\n\n# Print out all of the values in @compute_nodes    \nsay join ';', @compute_nodes;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467887573, "creation_date": 1467887573, "answer_id": 38243252, "question_id": 38239702, "link": "https://stackoverflow.com/questions/38239702/parsing-in-linux/38243252#38243252", "title": "Parsing in Linux", "body": "\n\n<p>I detest one-line programs except for the most simple of applications. They are unnecessarily cryptic, they have none of the usual programming support, and they are stored only in the terminal buffer. Want to do the same thing tomorrow? You must start coding again</p>\n\n<p>Here's a Perl solution. Run it as</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl nova-compute.pl command-output.txt\n</code></pre>\n\n\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy ($node, @nodes);\n\nwhile ( &lt;&gt; ) {\n    $node = $1 if /^ \\| \\s* (\\w+) /x;\n    push @nodes, $node if /nova-compute/;\n}\n\nprint join(';', @nodes), \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Compute01;Compute02\n</code></pre>\n\n<p>Now all of that is saved on disk. It may be run again at any time, modified for similar results, or fixed if you got it wrong. It is also readable. No contest</p>\n"}], "owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 38240196, "answer_count": 3, "score": 0, "last_activity_date": 1467887573, "creation_date": 1467876234, "last_edit_date": 1467886488, "question_id": 38239702, "link": "https://stackoverflow.com/questions/38239702/parsing-in-linux", "title": "Parsing in Linux", "body": "\n\n<p>I want to parse the compute zones in open-stack command output as below</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>+-----------------------+----------------------------------------+\n| Name                  | Status                                 |\n+-----------------------+----------------------------------------+\n| internal              | available                              |\n| |- controller         |                                        |\n| | |- nova-conductor   | enabled :-) 2016-07-07T08:09:57.000000 |\n| | |- nova-consoleauth | enabled :-) 2016-07-07T08:10:01.000000 |\n| | |- nova-scheduler   | enabled :-) 2016-07-07T08:10:00.000000 |\n| | |- nova-cert        | enabled :-) 2016-07-07T08:10:00.000000 |\n| Compute01             | available                              |\n| |- compute01          |                                        |\n| | |- nova-compute     | enabled :-) 2016-07-07T08:09:53.000000 |\n| Compute02             | available                              |\n| |- compute02          |                                        |\n| | |- nova-compute     | enabled :-) 2016-07-07T08:10:00.000000 |\n| nova                  | not available                          |\n+-----------------------+----------------------------------------+\n</code></pre>\n\n<p>i want to parse the result as below, taking only nodes having nova-compute</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Compute01;Compute02\n</code></pre>\n\n<p>I used below command:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>nova availability-zone-list | awk 'NR&gt;2 {print $2}' | grep -v '|' | tr '\\n' ';'\n</code></pre>\n\n<p>but it returns output like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>;internal;Compute01;Compute02;nova;;\n</code></pre>\n"}, {"tags": ["perl", "session", "catalyst", "dbix-class"], "answers": [{"tags": [], "owner": {"reputation": 4843, "user_id": 834140, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dba32ebf9d12c67b53f1c5e2d4737eca?s=128&d=identicon&r=PG", "display_name": "srchulo", "link": "https://stackoverflow.com/users/834140/srchulo"}, "is_accepted": true, "score": 0, "last_activity_date": 1467878710, "creation_date": 1467878710, "answer_id": 38240434, "question_id": 38238130, "link": "https://stackoverflow.com/questions/38238130/catalyst-plugin-session-deleting-session-before-it-is-used/38240434#38240434", "title": "Catalyst Plugin Session deleting session before it is used", "body": "<p>So I believe I found the issue. I think a bug was introduced in <a href=\"https://metacpan.org/release/ABRAXXA/CatalystX-SimpleLogin-0.19\" rel=\"nofollow\">v 0.19</a>. The fix I found was commenting out this line in the Login Controller:</p>\n\n<pre><code>if( $form-&gt;process(ctx =&gt; $ctx, params =&gt; $p) ) { \n    #$ctx-&gt;change_session_id;\n\n    $self-&gt;remember_me($ctx, $form-&gt;field( 'remember' )-&gt;value);\n\n    $self-&gt;do_post_login_redirect($ctx);\n} \n</code></pre>\n\n<p>For now I'm just going to downgrade to version 0.18.</p>\n"}], "owner": {"reputation": 4843, "user_id": 834140, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dba32ebf9d12c67b53f1c5e2d4737eca?s=128&d=identicon&r=PG", "display_name": "srchulo", "link": "https://stackoverflow.com/users/834140/srchulo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 38240434, "answer_count": 1, "score": 0, "last_activity_date": 1467878710, "creation_date": 1467869579, "last_edit_date": 1467874997, "question_id": 38238130, "link": "https://stackoverflow.com/questions/38238130/catalyst-plugin-session-deleting-session-before-it-is-used", "title": "Catalyst Plugin Session deleting session before it is used", "body": "<p>I'm using <a href=\"https://metacpan.org/pod/Catalyst::Plugin::Session\" rel=\"nofollow\">Catalyst::Plugin::Session</a> along with <a href=\"https://metacpan.org/pod/Catalyst::Plugin::Session::Store::DBIC\" rel=\"nofollow\">Catalyst::Plugin::Session::Store::DBIC</a> and <a href=\"https://metacpan.org/pod/CatalystX::SimpleLogin\" rel=\"nofollow\">CatalystX::SimpleLogin</a>. I've used these multiple times before, but I'm getting some strange behavior currently. What I'm seeing is that once I login the session is created, then deleted, and then there is an attempt to update the session row that doesn't exist and this causes a crash. Here are the queries that are being run:</p>\n\n<pre><code>INSERT INTO sessions ( id) VALUES ( ? ): 'session:ff4732c1779d955a73d31b967db50ba59d3c0573'\n\nDELETE FROM sessions WHERE ( id = ? ): 'session:ff4732c1779d955a73d31b967db50ba59d3c0573'\n\nDELETE FROM sessions WHERE ( id = ? ): 'flash:ff4732c1779d955a73d31b967db50ba59d3c0573'\n\nUPDATE sessions SET expires = ?, session_data = ? WHERE ( id = ? ): '1467954773', 'BQoDAAAABQp5TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTFfNCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzUxLjAuMjcwNC4xMDMgU2FmYXJpLzUzNy4zNgAAAAxfX3VzZXJfYWdlbnQJV33k1QAAAAlfX2NyZWF0ZWQJV33k1QAAAAlfX3VwZGF0ZWQKBXVzZXJzAAAADF9fdXNlcl9yZWFsbQQDAAAAAQiBAAAAAmlkAAAABl9fdXNlcg==', 'session:ff4732c1779d955a73d31b967db50ba59d3c0573'\n</code></pre>\n\n<p>Here is the debug output I'm seeing:</p>\n\n<pre><code>[debug] Created session \"ff4732c1779d955a73d31b967db50ba59d3c0573\"\n\n[debug] Created session \"aec058e68a823f5711d64b18ad8c53611b1b832f\"\n\n[debug] change_sessid: deleting session data from \"ff4732c1779d955a73d31b967db50ba59d3c0573\"\n\n[debug] change_sessid: storing session data to \"aec058e68a823f5711d64b18ad8c53611b1b832f\"\n</code></pre>\n\n<p>And here is the crash:</p>\n\n<p><a href=\"http://pastebin.com/nWA0X6Lb\" rel=\"nofollow\">http://pastebin.com/nWA0X6Lb</a></p>\n\n<p>I checked and the function that is calling <code>delete_session_data</code> is <code>Catalyst::Plugin::Session::change_session_id</code>.</p>\n\n<p>Also, this works when I use <a href=\"https://metacpan.org/pod/Catalyst::Plugin::Session::Store::File\" rel=\"nofollow\">Catalyst::Plugin::Session::Store::File</a> instead of Catalyst::Plugin::Session::Store::DBIC.</p>\n\n<p>Does anyone know what could be going wrong?</p>\n\n<p><b>UPDATE:</b></p>\n\n<p>I checked on one of my other servers that works, and it looks like for some reason the delete queries aren't there:</p>\n\n<pre><code>INSERT INTO sessions ( id) VALUES ( ? ): 'session:08844c28572b99acd3603d50c2c3975d13c3a4b8'\n\nUPDATE sessions SET expires = ?, session_data = ? WHERE ( id = ? ): '1467956394', 'BQcDAAAABgp5TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTFfNCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzUxLjAuMjcwNC4xMDMgU2FmYXJpLzUzNy4zNgAAAAxfX3VzZXJfYWdlbnQKBXVzZXJzAAAADF9fdXNlcl9yZWFsbQoONTAuMTc0LjI0Mi4yNTMAAAAJX19hZGRyZXNzBAMAAAABCgExAAAAAmlkAAAABl9fdXNlcgoKMTQ2Nzg2OTk5NAAAAAlfX2NyZWF0ZWQKCjE0Njc4Njk5OTQAAAAJX191cGRhdGVk', 'session:08844c28572b99acd3603d50c2c3975d13c3a4b8'\n</code></pre>\n\n<p><b>Further update:</b></p>\n\n<p>I'm using perl 5.24. I thought that might be relevant. I'm going to try downloading an older perl version and seeing if that works.</p>\n"}, {"tags": ["perl", "fork"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1467858666, "post_id": 38236478, "comment_id": 63894901, "body": "Note that <code>exec(&quot;sleep&quot;, $sleeptime) or die;</code> would be far simpler than <code>system(&quot;sleep $sleeptime&quot;); exit;</code>. It would reduce the number of processes in your example from 10 to 4."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1467858781, "post_id": 38236478, "comment_id": 63894933, "body": "sounds like you want to kill a process group, not just a process"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1467860594, "post_id": 38236478, "comment_id": 63895269, "body": "@ikegami, I count 7 processes, rather than 10, as each fork() + system() adds two processes (<a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system() bypassing the shell in this case</a>), but the point is well taken."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1467860652, "post_id": 38236478, "comment_id": 63895284, "body": "@pilcrow, oh yeah, forgot about the optimization you mentioned."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467888752, "post_id": 38236478, "comment_id": 63908126, "body": "Please always tidy and indent your code and <code>use strict</code> and <code>use warnings &#39;all&#39;</code>, on Perl programs that you&#39;re asking for help with. You&#39;re asking for free help, and I think the least you could do is to make your code readable. I&#39;ve done it for you this time; please think again in the future"}], "answers": [{"tags": [], "owner": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "is_accepted": false, "score": 2, "last_activity_date": 1467856822, "creation_date": 1467856822, "answer_id": 38236556, "question_id": 38236478, "link": "https://stackoverflow.com/questions/38236478/kill-children-when-the-parent-is-killed/38236556#38236556", "title": "Kill children when the parent is killed", "body": "<p>This is something that has to be done at the operating system in order to be reliable. Linux has a <code>prctl</code> (process control) system call which multiplexes numerous functions, similarly to <code>ioctl</code>. One of the functions (opcode <code>PR_SET_PDEATHSIG</code>) arranges for a process to receive a specific signal (passed as the second argument) when its parent dies.</p>\n\n<p>There is a <a href=\"http://search.cpan.org/~seveas/Linux-Prctl-1.3.1/lib/Linux/Prctl.pm\" rel=\"nofollow\">CPAN module</a> wrapping up <code>prctl</code> where this appears as a <a href=\"http://search.cpan.org/~seveas/Linux-Prctl-1.3.1/lib/Linux/Prctl.pm#set_pdeathsig(signal)\" rel=\"nofollow\"><code>set_pdeathsig</code></a> function which takes the signal number.</p>\n\n<p>Without <code>prctl</code>, a child process (which wasn't spawned by the init process and thus has a parent process ID other than 1, initially) can periodically test the value of <code>getppid()</code>. If that changes to 1, that means its original parent died. </p>\n\n<p>Processes which manage children can also implement graceful shutdown logic: catch their termination signal and terminate their children as part of the cleanup. Of course, that is impossible for signals that can't be handled.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1564204824, "last_edit_date": 1564204824, "creation_date": 1467861711, "answer_id": 38237096, "question_id": 38236478, "link": "https://stackoverflow.com/questions/38236478/kill-children-when-the-parent-is-killed/38237096#38237096", "title": "Kill children when the parent is killed", "body": "<p><strong>Note</strong> &nbsp; The second example, using <code>END</code> block, is more complete.<br>\n<strong>Note</strong> &nbsp; Discussion of how to use the <em>process group</em> for this is at the end.  </p>\n\n<hr>\n\n<p>Most of the time chances are that you are dealing with <code>SIGTERM</code> signal. For this you can arrange to clean up child processes, via a handler. There are signals that <em>cannot</em> be trapped, notably <code>SIGKILL</code> and <code>SIGSTOP</code>. For those you'd have to go to the OS, per answer by <a href=\"https://stackoverflow.com/users/1250772/kaz\">Kaz</a>.  Here is a sketch for others. Also see other code below it, comments below that, and <em>process group</em> use at the end.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw(say);\nsay \"Parent pid: $$\";\n\n$SIG{TERM} = \\&amp;handle_signal;  # Same for others that can (and should) be handled\n\nEND { say \"In END block ...\" }\n\nmy @kids;\nfor (1..4) {\n    push @kids, fork;\n    if ($kids[-1] == 0) { exec 'sleep 20' }\n}\nsay \"Started processes: @kids\";\nsleep 30;   \n\nsub handle_signal { \n    my $signame = shift;\n    say \"Got $signame. Clean up child processes.\";\n    clean_up_kids(@kids);\n    die \"Die-ing for $signame signal\";\n};\n\nsub clean_up_kids { \n    say \"\\tSending TERM to processes @_\";\n    my $cnt = kill 'TERM', @_;  \n    say \"\\tNumber of processes signaled: $cnt\";\n    waitpid $_, 0 for @_;  # blocking\n}\n</code></pre>\n\n<p>When I run this as <code>signals.pl &amp;</code> and then <a href=\"http://perldoc.perl.org/functions/kill.html\" rel=\"nofollow noreferrer\">kill</a> it, it prints</p>\n\n<pre>\n[13] 4974\nParent pid: 4974\nStarted processes: 4978 4979 4980 4982\nprompt> kill 4974\nGot TERM. Clean up child processes.\n        Sending TERM to processes 4978 4979 4980 4982\n        Number of processes signaled: 4\nDie-ing for TERM signal at signals.pl line 25.\nIn END block ...\n\n[13]   Exit 4                        signals.pl\n</pre>\n\n<p>The processes do get killed, checked by <code>ps aux | egrep '[s]leep'</code> before and after <code>kill</code>. </p>\n\n<p>By courtesy of <code>die</code> the <code>END</code> block gets executed orderly so you can clean up child processes there. That way you are also protected against uncaught <code>die</code>.  So you'd use the handler merely to ensure that the <code>END</code> block cleanup happens. </p>\n\n<pre><code>use POSIX \"sys_wait_h\";\n$SIG{CHLD} = sub { while (waitpid(-1, WNOHANG) &gt; 0) { } };  # non-blocking\n$SIG{TERM} = \\&amp;handle_signal;\n\nEND { \n    clean_up_kids(@kids);\n    my @live = grep { kill 0, $_ } @kids;\n    warn \"Processes @live still running\" if @live;\n}\n\nsub clean_up_kids { \n    my $cnt = kill 'TERM', @_;\n    say \"Signaled $cnt processes.\";\n}\nsub handle_signal { die \"Die-ing for \" . shift }\n</code></pre>\n\n<p>Here we reap (all) terminated child processes in a <code>SIGCHLD</code> handler, see <a href=\"http://perldoc.perl.org/perlipc.html#Signals\" rel=\"nofollow noreferrer\">Signals in perlipc</a> and <a href=\"http://perldoc.perl.org/functions/waitpid.html\" rel=\"nofollow noreferrer\">waitpid</a>. We also check in the end whether they are all gone (and reaped).  </p>\n\n<p>The <code>kill 0, $pid</code> returns true even if the child is a zombie (exited but not reaped), and this may happen in tests as the parent checks <em>right</em> after. Add <code>sleep 1</code> after <code>clean_up_kids()</code> if needed.</p>\n\n<p>Some notes. This is nowhere near to a full list of things to consider. Along with mentioned (and other) Perl docs also see UNIX and C documentation as Perl's ipc is built directly over UNIX system tools.</p>\n\n<ul>\n<li><p>Practically all error checking is omitted here. Please add</p></li>\n<li><p>Waiting for particular processes is blocking so if some weren't terminated the program will hang. The non-blocking <code>waitpid</code> has another caveat, see linked <code>perlipc</code> docs</p></li>\n<li><p>Child processes may have exited before the parent was killed. The <code>kill 'TERM'</code> sends <code>SIGTERM</code> but this doesn't ensure that the child terminates. Processes may or may not be there</p></li>\n<li><p>Signal handlers may get invalidated in the <code>END</code> phase, see <a href=\"https://stackoverflow.com/questions/40688429/perl-signal-handlers-are-reset-in-end-blocks/40691964#40691964\">this post</a>. In my tests the <code>CHLD</code> is still handled here but if this is a problem re-install the handler, as in the linked answer</p></li>\n<li><p>There are modules for various aspects of this. See <a href=\"http://perldoc.perl.org/sigtrap.html\" rel=\"nofollow noreferrer\">sigtrap</a> pragma for example</p></li>\n<li><p>One is well advised to not do much in signal handlers</p></li>\n<li><p>There is a lot going on and errors can have unexpected and far ranging consequences</p></li>\n</ul>\n\n<hr>\n\n<p>If you <code>kill</code> the <em>process group</em> you won't have any of these issues, since all children are then terminated as well.  On my system this can be done at the terminal by</p>\n\n<pre>\nprompt> kill -s TERM -pid\n</pre>\n\n<p>You may have to use a numeric signal, generally <code>15</code> for <code>TERM</code>, see <code>man kill</code> on your system. The <code>-pid</code> stands for the process group, signified by the minus sign. The number is the same as the process ID, but add <code>say getpgrp;</code> to the code to see. If this process has not been simply launched by the shell, but say from another script, it will belong to its parent's process group, and so will its children. Then you need to set its own process group first, which its children will inherit, and then you can <code>kill</code> <em>that</em> process group. See <a href=\"http://perldoc.perl.org/functions/setpgrp.html\" rel=\"nofollow noreferrer\">setpgrp</a> and <a href=\"http://perldoc.perl.org/functions/getpgrp.html\" rel=\"nofollow noreferrer\">getpgrp</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 2, "creation_date": 1467872893, "post_id": 38237906, "comment_id": 63898513, "body": "What will invoke this call if the parent dies before reaching that line of code?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1467912638, "post_id": 38237906, "comment_id": 63924617, "body": "@Kaz a floating hyphen can easily be overlooked. I favour <code>0 - getpgid</code>"}], "tags": [], "owner": {"reputation": 432, "user_id": 6542561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uEiJr.png?s=128&g=1", "display_name": "Bruce David Wilner", "link": "https://stackoverflow.com/users/6542561/bruce-david-wilner"}, "is_accepted": false, "score": -3, "last_activity_date": 1467873306, "last_edit_date": 1467873306, "creation_date": 1467868229, "answer_id": 38237906, "question_id": 38236478, "link": "https://stackoverflow.com/questions/38236478/kill-children-when-the-parent-is-killed/38237906#38237906", "title": "Kill children when the parent is killed", "body": "<p>How about the following:</p>\n\n<pre><code>kill( -1 * getpgid(), 9 );\n</code></pre>\n\n<p>(9 is SIGKILL: no need for macros.)</p>\n"}], "owner": {"reputation": 1047, "user_id": 1925794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a2268800c71d0d83e77b30d09f19c446?s=128&d=identicon&r=PG", "display_name": "Crash Override", "link": "https://stackoverflow.com/users/1925794/crash-override"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4689, "favorite_count": 1, "closed_date": 1467906735, "accepted_answer_id": 38237096, "answer_count": 3, "score": 2, "last_activity_date": 1564204824, "creation_date": 1467856152, "last_edit_date": 1558336618, "question_id": 38236478, "link": "https://stackoverflow.com/questions/38236478/kill-children-when-the-parent-is-killed", "closed_reason": "Duplicate", "title": "Kill children when the parent is killed", "body": "<p>Is there an easy way for Perl to kill child processes when the parent is killed? When I run <code>kill</code> on a parent PID the children stay alive.</p>\n\n<p>Test script:</p>\n\n<pre><code>#!/usr/bin/perl\n\n@sleeps = qw( 60 70 80 );\n@pids   = ();\n\nforeach $sleeptime (@sleeps) {\n\n    my $pid = fork();\n\n    if ( not defined $pid ) {\n        die;\n    }\n    elsif ( $pid == 0 ) {\n\n        #child\n        system(\"sleep $sleeptime\");\n        exit;\n    }\n    else {\n\n        #parent\n        push @pids, $pid;\n    }\n}\n\nforeach $pid (@pids) {\n    waitpid( $pid, 0 );\n}\n</code></pre>\n"}]