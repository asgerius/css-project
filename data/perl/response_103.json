[{"tags": ["jquery", "angularjs", "perl", "www-mechanize-firefox"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1482964028, "post_id": 41369756, "comment_id": 69942843, "body": "I don&#39;t know enough about Firefox internals to be sure, but I think your issue is related to <a href=\"https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Content_scripts\" rel=\"nofollow noreferrer\">this</a> (and <a href=\"https://bugs.jquery.com/ticket/4151\" rel=\"nofollow noreferrer\">this</a>). <code>eval_in_page</code> runs in a sandbox that only has access to certain parts of the DOM (the relevant code is <a href=\"https://metacpan.org/source/CORION/WWW-Mechanize-Firefox-0.79/lib/WWW/Mechanize/Firefox.pm#L532\" rel=\"nofollow noreferrer\">here</a>). You may be able to load jQuery into the sandbox, but I&#39;m not sure why you would...what exactly are you trying to do with jQuery and/or Angular?"}, {"owner": {"reputation": 31, "user_id": 5656114, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-50FAVc5ISDY/AAAAAAAAAAI/AAAAAAAAAC8/9KPlsEllTvw/photo.jpg?sz=128", "display_name": "Todd G.", "link": "https://stackoverflow.com/users/5656114/todd-g"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482967338, "post_id": 41369756, "comment_id": 69943894, "body": "I&#39;m attempting to write some code to interface with a web page that relies heavily on Angular to drive it.  Specifically, I&#39;m attempting to fill an input field which has no id or name element on it.  When that field detects a change event it appears to be triggering an angular defined function that performs some housekeeping.  When it detects a blur event it converts the textual input into a pretty &quot;tag&quot; inside a span.  Because of this housekeeping, I believe I need to fill in the value and then trip that function."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482975823, "post_id": 41372015, "comment_id": 69945925, "body": "This is a good approach, but it would be helpful to include how to find the coordinates."}, {"owner": {"reputation": 31, "user_id": 5656114, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-50FAVc5ISDY/AAAAAAAAAAI/AAAAAAAAAC8/9KPlsEllTvw/photo.jpg?sz=128", "display_name": "Todd G.", "link": "https://stackoverflow.com/users/5656114/todd-g"}, "edited": false, "score": 0, "creation_date": 1483027626, "post_id": 41372015, "comment_id": 69968430, "body": "This helped move me forward.  The problem is I still need to trigger a change event to get the behind the scenes house keeping to work.  So far I&#39;ve been unable to do that on an angular element.  I&#39;m still looking into how to properly handle this.  I&#39;ll report back if I find it before someone else posts a solution.  Thanks!"}, {"owner": {"reputation": 31, "user_id": 5656114, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-50FAVc5ISDY/AAAAAAAAAAI/AAAAAAAAAC8/9KPlsEllTvw/photo.jpg?sz=128", "display_name": "Todd G.", "link": "https://stackoverflow.com/users/5656114/todd-g"}, "edited": false, "score": 0, "creation_date": 1483027787, "post_id": 41372015, "comment_id": 69968524, "body": "As an aside, I was able to use getBoundingClientRect() to find the elements bounding coordinates."}], "tags": [], "owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "is_accepted": false, "score": 1, "last_activity_date": 1482974817, "creation_date": 1482974817, "answer_id": 41372015, "question_id": 41369756, "link": "https://stackoverflow.com/questions/41369756/how-can-i-call-jquery-or-angular-functions-via-wwwmechanizefirefox/41372015#41372015", "title": "How can I call jQuery or Angular functions via WWW::Mechanize::Firefox?", "body": "<p>You could click inside the field with <code>$mech-&gt;click()</code>, it accepts <code>x, y</code> coordinates, insert the text and remove the focus again. I used PhantomJS for similar work before. It should work for <code>WWW::Mechanize::Firefox</code> too.</p>\n\n<pre><code>use WWW::Mechanize::PhantomJS;\nuse strict;\nuse warnings;\n\nmy $mech = WWW::Mechanize::PhantomJS-&gt;new(log =&gt; 1);\n$mech-&gt;get('http://example.com');\n\nif($mech-&gt;success) { \n   # accepts x, y coordinates\n   $mech-&gt;click(.. field[2]);\n\n   # set a text for example in input-field number 2\n   $mech-&gt;eval('document.getElementsByTagName(\"input\")[2].value = \"Your value\";');   \n\n   # Click somewhere else to trigger blur event\n   $mech-&gt;click(.. outside the field[2]);\n\n  # Read the converted textual input from span\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5656114, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-50FAVc5ISDY/AAAAAAAAAAI/AAAAAAAAAC8/9KPlsEllTvw/photo.jpg?sz=128", "display_name": "Todd G.", "link": "https://stackoverflow.com/users/5656114/todd-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1483033064, "last_edit_date": 1483033064, "creation_date": 1483032440, "answer_id": 41384468, "question_id": 41369756, "link": "https://stackoverflow.com/questions/41369756/how-can-i-call-jquery-or-angular-functions-via-wwwmechanizefirefox/41384468#41384468", "title": "How can I call jQuery or Angular functions via WWW::Mechanize::Firefox?", "body": "<p>Thanks for the ideas all.  I wasn't able to solve the original question, but I was able to come up with this alternate solution.  Using this javascript I was able to fill in the field and trigger the appropriate change and blur events.  Doing this allowed angular to do the processing it needed to do.</p>\n\n<pre><code>$js = qq(\n  var myElement = document.getElementsByClassName(\"input\")[0];\n  myElement.value = \"$value\";\n\n  function fireEvent(element, event) {\n    var evt = document.createEvent(\"HTMLEvents\");\n    evt.initEvent(event, true, true); // event type,bubbling,cancelable\n    return !element.dispatchEvent(evt);\n  }\n\n  fireEvent(myElement, 'change');\n  fireEvent(myElement, 'blur');\n);\n$mech-&gt;eval_in_page($js);\n</code></pre>\n\n<p>Note the function I used was a trimmed down solution found <a href=\"http://jehiah.cz/a/firing-javascript-events-properly\" rel=\"nofollow noreferrer\">here</a>.  I trimmed it down to just the Firefox code.  If you're using a different browser, you'd want to use their more robust code.  If anyone comes up with a solution to the original question I'd be happy to accept it.</p>\n"}], "owner": {"reputation": 31, "user_id": 5656114, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-50FAVc5ISDY/AAAAAAAAAAI/AAAAAAAAAC8/9KPlsEllTvw/photo.jpg?sz=128", "display_name": "Todd G.", "link": "https://stackoverflow.com/users/5656114/todd-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1483033064, "creation_date": 1482959462, "last_edit_date": 1482964039, "question_id": 41369756, "link": "https://stackoverflow.com/questions/41369756/how-can-i-call-jquery-or-angular-functions-via-wwwmechanizefirefox", "title": "How can I call jQuery or Angular functions via WWW::Mechanize::Firefox?", "body": "<p>I'm trying to execute jQuery/Angular calls via WWW::Mechanize::Firefox's <code>eval_in_page</code>. I'm guessing there is some sort of scope issue, because I'm getting errors.</p>\n\n<p>If I try to execute this code:</p>\n\n<pre><code>angular.element(document.getElementsByClassName(\"input\")[0]).triggerHandler(('change');\n</code></pre>\n\n<p>I get this response:</p>\n\n<blockquote>\n  <p>MozRepl::RemoteObject: ReferenceError: angular is not defined at ...</p>\n</blockquote>\n\n<p>If I try to execute this code:</p>\n\n<pre><code>$(\".input\").val(\"Foo\")\n</code></pre>\n\n<p>I get this response:</p>\n\n<blockquote>\n  <p>MozRepl::RemoteObject: ReferenceError: $ is not defined ...</p>\n</blockquote>\n\n<p>It seems I don't have access to either framework.  The page does appear to have both loaded, however.  If I execute the code in the browser console it works fine.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 3, "creation_date": 1482954338, "post_id": 41368640, "comment_id": 69938993, "body": "check the documentation for splice. It says <code>Removes the elements designated by OFFSET and LENGTH from an array</code>. You are setting offset as 0 and length as 1. So starting at element 0 remove 1 element. Thats why only jan is removed."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1483032138, "post_id": 41368640, "comment_id": 69970857, "body": "Pro-tip: make your titles as useful as possible, and here &quot;Can you please help me out&quot; does not add anything to tempt readers to click on your question (and some people will avoid question that appear to contain begging)."}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "edited": false, "score": 0, "creation_date": 1482954495, "post_id": 41368716, "comment_id": 69939058, "body": "Thank you. I presumed the syntax of the command as     splice ARRAY,START_INDEX,END_INDEX,LIST. That&#39;s why I got wrong."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "edited": false, "score": 0, "creation_date": 1482954588, "post_id": 41368716, "comment_id": 69939090, "body": "@gudipatiramu - Always best to check the documentation that comes with your Perl install or check the documentation online."}, {"owner": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1482955885, "post_id": 41368716, "comment_id": 69939631, "body": "@ChrisDoyle - Thank you for your advice. I will do it from the next time."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 7, "last_activity_date": 1482954431, "last_edit_date": 1482954431, "creation_date": 1482954322, "answer_id": 41368716, "question_id": 41368640, "link": "https://stackoverflow.com/questions/41368640/how-to-debug-a-splice-operation-in-a-perl-script/41368716#41368716", "title": "How to debug a splice operation in a Perl script?", "body": "<p><a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfunc.pod#splice-ARRAY-OFFSET-LENGTH-LIST\" rel=\"noreferrer\">Syntax of <code>splice</code> command is</a></p>\n\n<pre><code>splice ARRAY,OFFSET,LENGTH,LIST\n</code></pre>\n\n<p>You specify <code>LENGTH</code> to be 1, so only one element is removed from the original list (that element is <code>Jan</code>). If you want <code>feb</code> to be removed too, then you must use a <code>LENGTH</code> of 2</p>\n\n<pre><code>splice(@months, 0, 2, @new);\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 41368716, "answer_count": 1, "score": -4, "last_activity_date": 1483032175, "creation_date": 1482953996, "last_edit_date": 1483032175, "question_id": 41368640, "link": "https://stackoverflow.com/questions/41368640/how-to-debug-a-splice-operation-in-a-perl-script", "title": "How to debug a splice operation in a Perl script?", "body": "<pre><code>#! usr/bin/perl\n@months=('Jan','feb','mar','apr','may','jun','jul','aug','sep','oct','nov','dec');\n@new=('1','2');\n\nprint \"@months\\n\";\n\nsplice(@months,0,1,@new);\n\nprint \"@months\\n\";\n</code></pre>\n\n<p>When I run this I expect output to be as</p>\n\n<pre><code>Jan feb mar apr may jun jul aug sep oct nov dec\n1 2 mar apr may jun jul aug sep oct nov dec\n</code></pre>\n\n<p>But I am getting output as </p>\n\n<pre><code>Jan feb mar apr may jun jul aug sep oct nov dec\n1 2 feb mar apr may jun jul aug sep oct nov dec\n</code></pre>\n\n<p>The Feb should also be replaced by 2, right? But why it isn't happening.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 5704404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/588c7d37d01f767acdc721c453dd6173?s=128&d=identicon&r=PG&f=1", "display_name": "Manu Agarwal", "link": "https://stackoverflow.com/users/5704404/manu-agarwal"}, "is_accepted": false, "score": 1, "last_activity_date": 1482945961, "creation_date": 1482945961, "answer_id": 41366898, "question_id": 41366836, "link": "https://stackoverflow.com/questions/41366836/global-symbol-requires-explicit-package-name-perl/41366898#41366898", "title": "Global symbol requires explicit package name perl", "body": "<p>Please try $user->{'uid'}.\n$user is being used as a reference here.</p>\n"}, {"comments": [{"owner": {"reputation": 848, "user_id": 823197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Hi4z9.jpg?s=128&g=1", "display_name": "jamadri", "link": "https://stackoverflow.com/users/823197/jamadri"}, "edited": false, "score": 1, "creation_date": 1482951752, "post_id": 41366933, "comment_id": 69937909, "body": "That was it. I appreciate it. I come from a PHP background."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 4, "last_activity_date": 1482946127, "creation_date": 1482946127, "answer_id": 41366933, "question_id": 41366836, "link": "https://stackoverflow.com/questions/41366836/global-symbol-requires-explicit-package-name-perl/41366933#41366933", "title": "Global symbol requires explicit package name perl", "body": "<p>I suspect that <code>$user</code> is a hash <em>reference</em>, not a hash. To use it, you need to dereference it first (using the <code>-&gt;</code> operator):</p>\n\n<pre><code>$user-&gt;{uid} = $self-&gt;usernum;\n</code></pre>\n\n<p>This could also be written as:</p>\n\n<pre><code>$$user{uid} = ...;\n</code></pre>\n\n<p>...but that's far less common, and it's much more idiomatic to use the former method.</p>\n"}], "owner": {"reputation": 848, "user_id": 823197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Hi4z9.jpg?s=128&g=1", "display_name": "jamadri", "link": "https://stackoverflow.com/users/823197/jamadri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 949, "favorite_count": 0, "accepted_answer_id": 41366933, "answer_count": 2, "score": 0, "last_activity_date": 1482946127, "creation_date": 1482945687, "question_id": 41366836, "link": "https://stackoverflow.com/questions/41366836/global-symbol-requires-explicit-package-name-perl", "title": "Global symbol requires explicit package name perl", "body": "<p>This code is giving me a Global Symbol requires explicit package name error. It's throwing it on the second time $user is defined. Below the code is the error. I don't understand the reasoning behind $user not having one. I'm trying to add to the hash that's returned.</p>\n\n<pre><code>my $self     = shift;\nmy %json     = ('err' =&gt; 0, 'msg' =&gt; '');\nmy $user     = Order2016::get_orders($self-&gt;usernum); # Returns Hash\n\n# Query to grab session history data\nmy $sql     = \"select rate.duration, rate.price, rate.description, rate.active, order.user_id, order.quantity, order.add_date, order.modify_date, order.end_date, order.last_bill, order.next_bill, item.*\n            from rate, order, item\n            where order.user_id = ?\n            and order.rate_id = rate.id\n            and rate.item_id = item.id\";\nmy $query   = new SQL($sql, $self-&gt;usernum);\nmy $hist    = $query-&gt;GetRecordsAsHashRef();\n\n$user{'uid'} = $self-&gt;usernum;\n\n$self-&gt;Print(to_json($user));\n</code></pre>\n\n<p>Global symbol \"%user\" requires explicit package name at /devroot/depot/wxtap/deploy/scripts//Account.pm line 1340.\nCompilation failed in require at /usr/lib/perl5/Apache2/porting.pm line 90.</p>\n"}, {"tags": ["perl", "ssl"], "answers": [{"comments": [{"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1483013474, "post_id": 41378209, "comment_id": 69960652, "body": "Ullrich you are awesome! A little awkward for me though... a simple mistake on my side. Thank you a lot for your time. (I probably did not see the forest anymore because of all the trees, as we say in German)"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1483008721, "creation_date": 1483008721, "answer_id": 41378209, "question_id": 41364570, "link": "https://stackoverflow.com/questions/41364570/answer-browser-request-with-iosocketssl/41378209#41378209", "title": "Answer Browser Request with IO::Socket::SSL", "body": "<blockquote>\n  <p>... SSL accept attempt failed error:1407609C:SSL routines:SSL23_GET_CLIENT_HELLO:http request</p>\n</blockquote>\n\n<p>My guess is that you still use a <code>http://</code> URL to access the server even though you would need to use a <code>https://</code> URL. This means that the browser sends a HTTP request to the server instead of first doing the TLS handshake and only sending the HTTP request after the successful handshake.</p>\n\n<p>Apart from that you count on the browser understanding the old and long deprecated HTTP 0.9 protocol which consists of only the response body without any HTTP header. Not all browser understand this.</p>\n"}], "owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1313, "favorite_count": 0, "accepted_answer_id": 41378209, "answer_count": 1, "score": 6, "last_activity_date": 1574684813, "creation_date": 1482937217, "last_edit_date": 1574684813, "question_id": 41364570, "link": "https://stackoverflow.com/questions/41364570/answer-browser-request-with-iosocketssl", "title": "Answer Browser Request with IO::Socket::SSL", "body": "<p><em>Question formulated in the end, first detailed description of the problem and what I have tested already</em></p>\n\n<p>I'm writing some code to showcase some basic principles to others. The code will never be productive and simplification is intended.</p>\n\n<p>My goal (appart from others) is to write a simple application which uses a Web-Certificat to encrypt its network traffic.</p>\n\n<p>The starting point is an application which does <strong>not</strong> encrypt:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse IO::Socket::INET;\n\n# auto-flush on socket\n$| = 1;\n\n# creating a listening socket\nmy $socket = new IO::Socket::INET (\n    LocalAddr     =&gt; '0.0.0.0',     # local server address\n    LocalPort     =&gt; '7777',        # local server port\n    Listen        =&gt; 5,             # queue size for connections\n    Proto         =&gt; 'tcp',         # protocol used\n);\ndie \"cannot create socket $!\\n\" unless $socket;\nprint \"server waiting for client connection on port 7777\\n\";\n\nwhile(1)\n{\n    # waiting for a new client connection\n    my $client_socket = $socket-&gt;accept() or die \"socket accept failed $!\";\n\n    # get information about a newly connected client\n    my $client_address = $client_socket-&gt;peerhost();\n    my $client_port    = $client_socket-&gt;peerport();\n    print \"connection from $client_address:$client_port\\n\";\n\n    # read up to 1024 characters from the connected client\n    my $client_data = '';\n    sysread( $client_socket, $client_data, 1024);\n    print \"received data: $client_data\\n\";\n\n    # write response data to the connected client\n    print $client_socket \"Hey $client_data!\";\n\n    # notify client that response has been sent\n    shutdown($client_socket, 1);\n}\n\nEND {\n    $socket-&gt;close();\n}\n</code></pre>\n\n<p>This Server-Application can be called with this Client:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse IO::Socket::INET;\n\n# auto-flush on socket\n$| = 1;\n\n# create a connecting socket\nmy $socket = new IO::Socket::INET (\n    PeerHost    =&gt; '127.0.0.1',\n    PeerPort    =&gt; '7777',\n    Proto       =&gt; 'tcp',\n);\ndie \"cannot connect to the server $!\\n\" unless $socket;\nprint \"connected to the server\\n\";\n\n# data to send to a server\nmy $req = $ARGV[0] . '';\nprint $socket $req;\n\n# notify server that request has been sent\nshutdown($socket, 1);\n\n# receive a response of up to 1024 characters from server\nmy $response = '';\nsysread( $socket, $response,1024);\nprint \"received response: $response\\n\";\n\n$socket-&gt;close();\n</code></pre>\n\n<p>An interaction of Client and Server could look like this:</p>\n\n<pre><code>inet$ perl server.pl\nserver waiting for client connection on port 7777\nconnection from 127.0.0.1:40028\nreceived data: Herbert\n\ninet$ perl client.pl \"Herbert\"\nconnected to the server\nreceived response: Hey Herbert!\n</code></pre>\n\n<p>The cool thing is: The server can also be called from a browser:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RbVfk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RbVfk.png\" alt=\"Access TCP-Server with Firefox\"></a></p>\n\n<p>So the first conclusion: The code works and is good to showcase basic functionality of a simple Client-Server interaction.</p>\n\n<p><strong>Now the Programs should use SSL to communicate</strong></p>\n\n<p>The Server and Client are written so, that SSL-Ability can be achieved by just adding a few lines in the code:</p>\n\n<pre><code>$ diff inet/server.pl ssl/server.pl \n7c7\n&lt; use IO::Socket::INET;\n---\n&gt; use IO::Socket::SSL 'inet4';\n13c13\n&lt; my $socket = new IO::Socket::INET (\n---\n&gt; my $socket = IO::Socket::SSL-&gt;new (\n17a18,19\n&gt;     SSL_cert_file =&gt; 'cert.pem',    # SSL certificate   \n&gt;     SSL_key_file  =&gt; 'key.pem',     # SSL certificate key\n\n$ diff inet/client.pl ssl/client.pl \n5c5\n&lt; use IO::Socket::INET;\n---\n&gt; use IO::Socket::SSL 'inet4';\n11c11\n&lt; my $socket = new IO::Socket::INET (\n---\n&gt; my $socket = new IO::Socket::SSL (\n14a15\n&gt;     SSL_ca_file =&gt; 'cert.pem',\n</code></pre>\n\n<p>So the new SSL enabled code is:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse IO::Socket::SSL 'inet4';\n\n# auto-flush on socket\n$| = 1;\n\n# creating a listening socket\nmy $socket = IO::Socket::SSL-&gt;new (\n    LocalAddr     =&gt; '0.0.0.0',     # local server address\n    LocalPort     =&gt; '7777',        # local server port\n    Listen        =&gt; 5,             # queue size for connections\n    Proto         =&gt; 'tcp',         # protocol used\n    SSL_cert_file =&gt; 'cert.pem',    # SSL certificate   \n    SSL_key_file  =&gt; 'key.pem',     # SSL certificate key\n);\ndie \"cannot create socket $!\\n\" unless $socket;\nprint \"server waiting for client connection on port 7777\\n\";\n\nwhile(1)\n{\n    # waiting for a new client connection\n    my $client_socket = $socket-&gt;accept() or die \"socket accept failed $!\";\n\n    # get information about a newly connected client\n    my $client_address = $client_socket-&gt;peerhost();\n    my $client_port    = $client_socket-&gt;peerport();\n    print \"connection from $client_address:$client_port\\n\";\n\n    # read up to 1024 characters from the connected client\n    my $client_data = '';\n    sysread( $client_socket, $client_data, 1024);\n    print \"received data: $client_data\\n\";\n\n    # write response data to the connected client\n    print $client_socket \"Hey $client_data!\";\n\n    # notify client that response has been sent\n    shutdown($client_socket, 1);\n}\n\nEND {\n    $socket-&gt;close();\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#!/usr/bin/env perl\nuse IO::Socket::SSL 'inet4';\n\n# auto-flush on socket\n$| = 1;\n\n# create a connecting socket\nmy $socket = new IO::Socket::SSL (\n    PeerHost    =&gt; '127.0.0.1',\n    PeerPort    =&gt; '7777',\n    Proto       =&gt; 'tcp',\n    SSL_ca_file =&gt; 'cert.pem',\n);\ndie \"cannot connect to the server $!\\n\" unless $socket;\nprint \"connected to the server\\n\";\n\n# data to send to a server\nmy $req = $ARGV[0] . '';\nprint $socket $req;\n\n# notify server that request has been sent\nshutdown($socket, 1);\n\n# receive a response of up to 1024 characters from server\nmy $response = '';\nsysread( $socket, $response,1024);\nprint \"received response: $response\\n\";\n\n$socket-&gt;close();\n</code></pre>\n\n<p>To run the code, a certificate has to be created first:</p>\n\n<pre><code>openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365\n</code></pre>\n\n<p>Now Server and Client can be started and interact nicely:</p>\n\n<pre><code>ssl$ perl server.pl \nEnter PEM pass phrase:\nserver waiting for client connection on port 7777\nconnection from 127.0.0.1:40041\nreceived data: Sabine\n\nssl$ perl client.pl \"Sabine\"\nconnected to the server\nreceived response: Hey Sabine!\n</code></pre>\n\n<p><strong>But what does not work is a connection from a browser like Firefox or Chrome</strong>, even though I converted the certificate using:</p>\n\n<pre><code>openssl pkcs12 -export -in cert.pem -inkey key.pem -out webcert.p12\n</code></pre>\n\n<p>I also imported the newly created certificate into the browser over its import menu.</p>\n\n<p>The connection just gets refused. The browser can't connect and the server fails at <code>$socket-&gt;accept()</code> <s>without any helpful message</s>.<br />\nUPDATE: There is a message in the exported variable <code>$SSL_ERROR</code>:</p>\n\n<pre><code>SSL accept attempt failed error:1407609C:SSL routines:SSL23_GET_CLIENT_HELLO:http request\n</code></pre>\n\n<p>I did some testing with the tool <a href=\"https://github.com/noxxi/p5-ssl-tools/blob/master/analyze-ssl.pl\" rel=\"nofollow noreferrer\">analyze ssl</a></p>\n\n<pre><code>p5-ssl-tools-master$ perl analyze-ssl.pl --show-chain --all-ciphers -v3 127.0.0.1:7777\n+ checking host=127.0.0.1(127.0.0.1) port=7777\n* version SSLv23 no verification, ciphers= -&gt; TLSv1_2,ECDHE-RSA-AES128-GCM-SHA256\n* version SSLv23 no verification, ciphers=HIGH:ALL -&gt; TLSv1_2,ECDHE-RSA-AES128-GCM-SHA256\n* version TLSv1_2 no verification, ciphers= -&gt; TLSv1_2,ECDHE-RSA-AES128-GCM-SHA256\n* version TLSv1_2 no verification, ciphers=HIGH:ALL -&gt; TLSv1_2,ECDHE-RSA-AES128-GCM-SHA256\n* version TLSv1_1 no verification, ciphers= -&gt; TLSv1_1,ECDHE-RSA-AES256-SHA\n* version TLSv1_1 no verification, ciphers=HIGH:ALL -&gt; TLSv1_1,ECDHE-RSA-AES256-SHA\n* version TLSv1 no verification, ciphers= -&gt; TLSv1,ECDHE-RSA-AES256-SHA\n* version TLSv1 no verification, ciphers=HIGH:ALL -&gt; TLSv1,ECDHE-RSA-AES256-SHA\n* version SSLv3, no verification, ciphers= -&gt; FAIL! SSL connect attempt failed because of handshake problems error:14094410:SSL routines:SSL3_READ_BYTES:sslv3 alert handshake failure\n+ 127.0.0.1 failed permanently 'tcp connect: Verbindungsaufbau abgelehnt', no more IP to try\ntcp connect: Verbindungsaufbau abgelehnt\n</code></pre>\n\n<p>The server seems to accept certain requests and fails at the end, maybe in the same way as with the browser?</p>\n\n<pre><code>ssl$ perl server.pl \nEnter PEM pass phrase:\nserver waiting for client connection on port 7777\nconnection from 127.0.0.1:40042\nreceived data: \nconnection from 127.0.0.1:40043\nreceived data: \nconnection from 127.0.0.1:40044\nreceived data: \nconnection from 127.0.0.1:40045\nreceived data: \nconnection from 127.0.0.1:40046\nreceived data: \nconnection from 127.0.0.1:40047\nreceived data: \nconnection from 127.0.0.1:40048\nreceived data: \nconnection from 127.0.0.1:40049\nreceived data: \nsocket accept failed  at server.pl line 27.\n</code></pre>\n\n<p><strong>My Question</strong></p>\n\n<p>Why is the request with the browser not working?\nThe code should support a browser request in general since it works without SSL.\nIt seems to be a browser specific SSL setting since the SSL-Perl-Client has no problem.\nOr is the import of the certificate into the browser not working as intended?\nCan anyone give me a hint or solution in this matter?</p>\n\n<p>UPDATE: When I look at the error message \"<code>SSL23</code>\" in <code>$SSL_ERROR</code> and the error message in the client test \"<code>SSL3</code>\" there seems to be a compatibility problem with SSL versions? Do I need to specify explicitly which version I want? (On the other hand the Client-Test for \"<code>SSL23</code>\" seems to run through successfully...)</p>\n\n<p>Thanks a lot.</p>\n\n<p>UPDATE: Output with <code>$IO::Socket::SSL::DEBUG = 3;</code></p>\n\n<pre><code>ssl$ perl server.pl \nEnter PEM pass phrase:\nDEBUG: .../IO/Socket/SSL.pm:2554: new ctx 42708208\nserver waiting for client connection on port 7777\nDEBUG: .../IO/Socket/SSL.pm:799: no socket yet\nDEBUG: .../IO/Socket/SSL.pm:801: accept created normal socket IO::Socket::SSL=GLOB(0x28ac158)\nDEBUG: .../IO/Socket/SSL.pm:829: starting sslifying\nDEBUG: .../IO/Socket/SSL.pm:873: Net::SSLeay::accept -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:1779: SSL accept attempt failed\n\nDEBUG: .../IO/Socket/SSL.pm:1784: SSL accept attempt failed error:1407609C:SSL routines:SSL23_GET_CLIENT_HELLO:http request\nsocket accept failed: SSL accept attempt failed error:1407609C:SSL routines:SSL23_GET_CLIENT_HELLO:http request at server.pl line 28.\nDEBUG: .../IO/Socket/SSL.pm:2587: free ctx 42708208 open=42708208\nDEBUG: .../IO/Socket/SSL.pm:2599: OK free ctx 42708208\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1727, "user_id": 2102698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f97295ca416aca61bd8d6e8fac8ef5?s=128&d=identicon&r=PG", "display_name": "Waxrat", "link": "https://stackoverflow.com/users/2102698/waxrat"}, "edited": false, "score": 0, "creation_date": 1482924293, "post_id": 41360900, "comment_id": 69923247, "body": "Perhaps my_warn_handler goes into infinite recursion. Try putting <code>local $SIG{__WARN__};</code> inside my_warn_handler to restore the default behavior?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 1727, "user_id": 2102698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f97295ca416aca61bd8d6e8fac8ef5?s=128&d=identicon&r=PG", "display_name": "Waxrat", "link": "https://stackoverflow.com/users/2102698/waxrat"}, "edited": false, "score": 0, "creation_date": 1482924490, "post_id": 41360900, "comment_id": 69923340, "body": "@Waxrat According to the <a href=\"http://perldoc.perl.org/functions/warn.html\" rel=\"nofollow noreferrer\">documentation</a>, that should not happen: <i>&quot;Most handlers must therefore arrange to actually display the warnings that they are not prepared to deal with, by calling warn again in the handler. Note that this is quite safe and will not produce an endless loop, since __WARN__ hooks are not called from inside one.&quot;</i>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 1727, "user_id": 2102698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f97295ca416aca61bd8d6e8fac8ef5?s=128&d=identicon&r=PG", "display_name": "Waxrat", "link": "https://stackoverflow.com/users/2102698/waxrat"}, "edited": false, "score": 5, "creation_date": 1482925644, "post_id": 41360900, "comment_id": 69923989, "body": "Think I found the error: I forgot to declare the <code>$fh</code> as lexical within the handler. So it reopens the lexical <code>$fh</code> defined in the enclosing scope and later closes that handle. So this is probably causing some confusion to <code>Encode::decode()</code>.."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1483009103, "post_id": 41377538, "comment_id": 69958281, "body": "Interesting. I have not checked the source yet, but according to <a href=\"http://perldoc.perl.org/PerlIO/encoding.html\" rel=\"nofollow noreferrer\">PerlIO::encoding</a> it seems that <code>readline</code> will call <code>Encode::decode()</code>, so the warning should come from <code>Encode</code> then?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1483012969, "post_id": 41377538, "comment_id": 69960345, "body": "@H&#229;konH&#230;gland The <code>sysread</code> uses <code>read(2)</code>, it&#39;s about the lowest level. The docs do say that it reads unicode if the filehandle is &quot;marked&quot; <code>:utf8</code> but I don&#39;t know that it would use <code>Encode</code> ...? May remove the first sentence until I clear it up.  My main point was to locate the warning by &#39;direct&#39; reading."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1483014300, "post_id": 41377538, "comment_id": 69961109, "body": "@H&#229;konH&#230;gland  This is indeed tricky and I am not sure whether <code>sysread</code> needs/uses <code>Encode</code>.  I adjusted the answer accordingly."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1483025011, "post_id": 41377538, "comment_id": 69966977, "body": "Using <code>sysread</code> on a handle with encoding layers sounds like a bad idea."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1483041877, "post_id": 41377538, "comment_id": 69975220, "body": "@melpomene  The page for <code>sysread</code> specifically supports it, in the closing paragraph."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1483042671, "post_id": 41377538, "comment_id": 69975534, "body": "@zdim I suspect that&#39;s more of an implementation accident than an intentional feature. It&#39;s also unclear: For example, <code>:encoding(latin-9)</code> shouldn&#39;t really be doing anything with Unicode."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1483042988, "post_id": 41377538, "comment_id": 69975659, "body": "@melpomene  May be. However, internally it is all utf8 so low level reads need to support that.  I was trying to locate the warning and didn&#39;t think of <code>sysread</code> resorting to <code>Encode</code>, and I don&#39;t know that it does. If the warning does come from reading this directly than I&#39;d rather catch it there."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1583948083, "last_edit_date": 1583948083, "creation_date": 1483006495, "answer_id": 41377538, "question_id": 41360900, "link": "https://stackoverflow.com/questions/41360900/trying-to-improve-encodedecode-warning-message-segfault-in-sig-warn-han/41377538#41377538", "title": "Trying to improve Encode::decode warning message: Segfault in $SIG{__WARN__} handler", "body": "<p>Here is another way to locate where the warning fires, with un-buffered <code>sysread</code></p>\n\n<pre><code>use warnings;\nuse strict;\n\nbinmode STDOUT, ':utf8';\nbinmode STDERR, ':utf8';\n\nmy $file = 'test.txt';\nopen my $fh, \"&lt;:encoding(UTF-8)\", $file or die \"Can't open $file: $!\";\n\n$SIG{__WARN__} = sub { print \"\\t==&gt; WARN: @_\" };\n\nmy $char_cnt = 0;    \nmy $char;\n\nwhile (sysread($fh, $char, 1)) {\n    ++$char_cnt;\n    print \"$char ($char_cnt)\\n\";\n}\n</code></pre>\n\n<p>The file <code>test.txt</code> was written by the posted program, except that I had to add to it to reproduce the behavior -- it runs without warnings on v5.10 and v5.16. I added <code>\\x{234234}</code> to the end.  The line number can be tracked with <code>$char =~ /\\n/</code>. </p>\n\n<p>The <code>sysread</code> returns <code>undef</code> on error. It can be moved into the body of <code>while (1)</code> to allow reads to continue and catch all warnings, breaking out on <code>0</code> (returned on EOF).</p>\n\n<p>This prints</p>\n\n<pre>\nH (1)\ne (2)\nl (3)\nl (4)\no (5)\n\n (6)\nA (7)\n\u00e5 (8)\na (9)\n        ==> WARN: Code point 0x234234 is not Unicode, may not be portable at ...\n (10)\n</pre>\n\n<p>While this does catch the character warned about, re-reading the file using <code>Encode</code> may well be better than reaching for <code>sysread</code>, in particular if <code>sysread</code> uses <code>Encode</code>.  </p>\n\n<p>However, Perl is <code>utf8</code> internally and I am not sure that <code>sysread</code> needs <code>Encode</code>.</p>\n\n<p>Note. The page for <a href=\"http://perldoc.perl.org/functions/sysread.html\" rel=\"nofollow noreferrer\">sysread</a> supports its use on data with encoding layers</p>\n\n<blockquote>\n  <p>Note that if the filehandle has been marked as <code>:utf8</code> Unicode\n  characters are read instead of bytes (the LENGTH, OFFSET, and the\n  return value of <code>sysread</code> are in Unicode characters). The\n  <code>:encoding(...)</code> layer implicitly introduces the <code>:utf8</code> layer.\n  See <code>binmode</code>, <code>open</code>, and the <code>open</code> pragma.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Note</strong> &nbsp; Apparently, things have moved on and after a certain version <strong><code>sysread</code> does not support encoding layers</strong>.  The link above, while for an older version (v5.10 for one) indeed shows what is quoted, with a newer version tells us that there'll be an exception.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1583948083, "creation_date": 1482923650, "question_id": 41360900, "link": "https://stackoverflow.com/questions/41360900/trying-to-improve-encodedecode-warning-message-segfault-in-sig-warn-han", "title": "Trying to improve Encode::decode warning message: Segfault in $SIG{__WARN__} handler", "body": "<p>I am trying to improve the warning message issued by <a href=\"https://metacpan.org/pod/Encode#FB_WARN\" rel=\"nofollow noreferrer\"><code>Encode::decode()</code></a>. Instead of printing the name of the module and the line number in the module, I would like it to print the name of the file being read and the line number in that file where the malformed data was found. To a developer, the origial message can be useful, but to an end user not familiar with Perl, it is probably quite meaningless. The end user would probably rather like to know which file is giving the problem. </p>\n\n<p>I first tried to solve this using a <a href=\"http://perldoc.perl.org/functions/warn.html\" rel=\"nofollow noreferrer\"><code>$SIG{__WARN__}</code></a> handler (which is probably not a good idea), but I get a segfault. Probably a silly mistake, but I could not figure it out:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse feature qw(say);\nuse strict;\nuse warnings;\n\nuse Encode ();\n\nbinmode STDOUT, ':utf8';\nbinmode STDERR, ':utf8';\n\nmy $fn = 'test.txt';\nwrite_test_file( $fn );\n\n# Try to improve the Encode::FB_WARN fallback warning message :\n#\n#   utf8 \"\\xE5\" does not map to Unicode at &lt;module_name&gt; line xx\n#\n# Rather we would like the warning to print the filename and the line number:\n#\n#   utf8 \"\\xE5\" does not map to Unicode at line xx of file &lt;filename&gt;.\n\nmy $str = '';\nopen ( my $fh, \"&lt;:encoding(utf-8)\", $fn ) or die \"Could not open file '$fn': $!\";\n{\n    local $SIG{__WARN__} = sub { my_warn_handler( $fn, $_[0] ) }; \n    $str = do { local $/; &lt;$fh&gt; };\n}\nclose $fh;\nsay \"Read string: '$str'\";\n\nsub my_warn_handler {\n    my ( $fn, $msg ) = @_;\n\n    if ( $msg =~ /\\Qdoes not map to Unicode\\E/ ) {\n        recover_line_number_and_char_pos( $fn, $msg );\n    }\n    else {\n        warn $msg;\n    }\n}\n\nsub recover_line_number_and_char_pos {\n    my ( $fn, $err_msg ) = @_;\n\n    chomp $err_msg;\n    $err_msg =~ s/(line \\d+)\\.$/$1/;  # Remove period at end of sentence.\n    open ( $fh, \"&lt;:raw\", $fn ) or die \"Could not open file '$fn': $!\";\n    my $raw_data = do { local $/; &lt;$fh&gt; };\n    close $fh;\n    my $str = Encode::decode( 'utf-8', $raw_data, Encode::FB_QUIET );\n    my ($header, $last_line) = $str =~ /^(.*\\n)([^\\n]*)$/s; \n    my $line_no = $str =~ tr/\\n//;\n    ++$line_no;\n    my $pos = ( length $last_line ) + 1;\n    warn \"$err_msg, in file '$fn' (line: $line_no, pos: $pos)\\n\";\n}\n\nsub write_test_file {\n    my ( $fn ) = @_;\n\n    my $bytes = \"Hello\\nA\\x{E5}\\x{61}\";  # 2 lines ending in iso 8859-1: \u00e5a\n    open ( my $fh, '&gt;:raw', $fn ) or die \"Could not open file '$fn': $!\";\n    print $fh $bytes;\n    close $fh;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>utf8 \"\\xE5\" does not map to Unicode at ./p.pl line 27\n, in file 'test.txt' (line: 2, pos: 2)\nSegmentation fault (core dumped)\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1482923228, "post_id": 41360720, "comment_id": 69922675, "body": "Why not make your &quot;macro&quot; a function?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482936126, "post_id": 41360720, "comment_id": 69929832, "body": "Can you please include what <code>$USER1</code> and <code>$USER2</code> should look like afterwards? You can <a href=\"https://stackoverflow.com/posts/41360720/edit\">edit</a> your question. Also note that you used parenthesis <code>()</code> instead of curly braces <code>{}</code> to define those, which is wrong."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1482936978, "creation_date": 1482936978, "answer_id": 41364497, "question_id": 41360720, "link": "https://stackoverflow.com/questions/41360720/incorporating-local-variables-in-a-global-hash-in-perl/41364497#41364497", "title": "incorporating local variables in a global hash in perl", "body": "<p>Like melpomene suggested, you want <code>$MACRO_SPEC</code> to be a function that can generate something different each time it is called.</p>\n\n<pre><code>package One;\nour $v_Y;\nmy $MACRO_SPEC = sub { +{ mkeyX =&gt; \"value_X\", mkeyY =&gt; $v_Y } };\n\n...\n\npackage USER1;\n$One::v_Y = \"U1_VALUE_X\";\nmy $user1 = {          # { }, not ( ), to define a hash reference\n    u1key1 =&gt; \"u1value1\", \n    u1macrokey =&gt; $MACRO_SPEC-&gt;(),   # $f-&gt;() to exec code defined in $f\n    ...\n};\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7349240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18ffe8fc828d9eb3b452019fc39ef8cb?s=128&d=identicon&r=PG&f=1", "display_name": "RaviK", "link": "https://stackoverflow.com/users/7349240/ravik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 41364497, "answer_count": 1, "score": 3, "last_activity_date": 1482967426, "creation_date": 1482923136, "last_edit_date": 1482967426, "question_id": 41360720, "link": "https://stackoverflow.com/questions/41360720/incorporating-local-variables-in-a-global-hash-in-perl", "title": "incorporating local variables in a global hash in perl", "body": "<p>I need to incorporate a generic hash (macro) in multiple user hashes. In actuality these are all specifications written as HoH/HoL in perl.</p>\n\n<p>I would like the 'user' specs to adopt the macro specs with their own modifications. In example below, the variable '$v_Y' needs to have different values in user1 and user2.</p>\n\n<p>What I have below is not exactly code, but an attempt to illustrate the problem. I am unable to have multiple values of $v_Y since macro_spec is already created.</p>\n\n<pre><code>## this is in a package\nmy $MACRO_SPEC = {\n  mkeyX   =&gt; \"value_X\",\n  mkeyY   =&gt; $v_Y,\n};\n\n#this is USER1 package,\n$v_Y = \"U1_VALUE_X\";\n# use MACRO_SPEC\nmy $USER1 = (\n  u1key1 =&gt; \"u1value1\",      u1macrokey =&gt; $MACRO_SPEC,  # need macro to interpolate 'local' $v_Y \n);\n\n#this is USER2 package,\n$v_Y = \"U2_VALUE_X\";\n# use MACRO_SPEC\nmy $USER2 = (\n  u2key1 =&gt; \"u2value1\",\n  u2macrokey =&gt; $MACRO_SPEC,  # need macro to interpolate 'local' $v_Y \n);\n\n\n#this is how USER1 should look after the interpolation\nmy $USER1 = (\n  u1key1 =&gt; \"u1value1\",\n  u1macrokey =&gt; { \n                  mkeyX   =&gt; \"value_X\",\n                  mkeyY   =&gt; \"U1_VALUE_X\"\n                },\n);\n#this is how USER2 should look after the interpolation\nmy $USER2 = (\n  u2key1 =&gt; \"u2value1\",\n  u1macrokey =&gt; {\n                  mkeyX   =&gt; \"value_X\",\n                  mkeyY   =&gt; \"U2_VALUE_X\"\n                },\n);\n</code></pre>\n"}, {"tags": ["mysql", "apache", "perl", "bugzilla"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1482938358, "post_id": 41360463, "comment_id": 69931131, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/65865/whats-the-easiest-way-to-install-a-missing-perl-module\">What&#39;s the easiest way to install a missing Perl module?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "is_accepted": false, "score": 0, "last_activity_date": 1482923313, "creation_date": 1482923313, "answer_id": 41360785, "question_id": 41360463, "link": "https://stackoverflow.com/questions/41360463/cant-locate-email-mime-pm-in-inc/41360785#41360785", "title": "Can&#39;t locate Email/MIME.pm in @INC", "body": "<p>Try to check if you have it installed using the command line:</p>\n\n<p><i>perl -e 'use Email::MIME'</i></p>\n\n<p>If it shows an error then try to install.</p>\n"}], "owner": {"reputation": 27, "user_id": 5697554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c19a45dd58d2c9e33c11a09404f8b9?s=128&d=identicon&r=PG&f=1", "display_name": "surya", "link": "https://stackoverflow.com/users/5697554/surya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1472, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543491690, "creation_date": 1482922284, "last_edit_date": 1482952165, "question_id": 41360463, "link": "https://stackoverflow.com/questions/41360463/cant-locate-email-mime-pm-in-inc", "title": "Can&#39;t locate Email/MIME.pm in @INC", "body": "<p>while accessing bugzilla(<a href=\"http://localhost\" rel=\"nofollow noreferrer\">http://localhost</a>) on browser  i got the following error </p>\n\n<pre><code>Can't locate Email/MIME.pm in @INC (@INC contains: . lib/x86_64-linux-thread-***strong text***\nBEGIN failed--compilation aborted at Bugzilla/MIME.pm line 14.\nCompilation failed in require at Bugzilla/Mailer.pm line 20.\n</code></pre>\n\n<p>Thanks \nSurya</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 86959, "user_id": 1735406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/IF9uS.png?s=128&g=1", "display_name": "Maroun", "link": "https://stackoverflow.com/users/1735406/maroun"}, "edited": false, "score": 1, "creation_date": 1482915782, "post_id": 41358613, "comment_id": 69918671, "body": "What do you mean by &quot;limitation&quot;?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 86959, "user_id": 1735406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/IF9uS.png?s=128&g=1", "display_name": "Maroun", "link": "https://stackoverflow.com/users/1735406/maroun"}, "edited": false, "score": 0, "creation_date": 1482916577, "post_id": 41358613, "comment_id": 69919114, "body": "@MarounMaroun I&#39;m trying to know, The regex will support the only n-number <code>|</code> or there is not an issues to make the n-number of <code>|</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482916607, "post_id": 41358613, "comment_id": 69919141, "body": "No, there&#39;s no real limit. Although you will find efficiency starts to become a problem as you get really large."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482916629, "post_id": 41358613, "comment_id": 69919153, "body": "why could&#39;t not use the pattern in arrays list?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482916734, "post_id": 41358613, "comment_id": 69919207, "body": "@ssr1012 Array  list means? split the pattern by <code>|</code> and loop through the array then check the pattern into data. Are you telling like that?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482916894, "post_id": 41358613, "comment_id": 69919286, "body": "Yes. May be this will easier to grep the datas."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1482936347, "post_id": 41358613, "comment_id": 69929957, "body": "See <a href=\"http://stackoverflow.com/questions/29217346/why-does-adding-one-more-alternative-make-my-regex-over-600-times-slower\">Why does adding one more alternative make my regex over 600 times slower?</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482953485, "post_id": 41358613, "comment_id": 69938626, "body": "@ThisSuitIsBlackNot: Thanks. I wonder if that has been fixed. Disabling the optimisation if it requires a <code>longjmp</code> seems like a temporary hack."}], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1482917145, "post_id": 41358946, "comment_id": 69919418, "body": "My regex patterns are fetching from DB. DB has the patterns, which are separated by <code>|</code>. So I&#39;m trying to use the pattern without any modification. Or else I need to split the data using <code>|</code>. Then will make the grep."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1482917439, "post_id": 41358946, "comment_id": 69919594, "body": "<code>grep</code> is a bad choice in this scenario, as it&#39;s inefficient - it&#39;ll match <i>every</i> pattern against <i>every</i> element. <code>regex</code> will bail out when it finds a first match."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482920940, "post_id": 41358946, "comment_id": 69921497, "body": "@ssr1012 @Sobrique was correctly said. I don&#39;t want to search into the whole pattern. That the reason I didn&#39;t use the <code>g</code> modifier in my regex. grep will search onto the whole array."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": -2, "last_activity_date": 1482917891, "last_edit_date": 1482917891, "creation_date": 1482916858, "answer_id": 41358946, "question_id": 41358613, "link": "https://stackoverflow.com/questions/41358613/is-there-any-limitation-to-make-the-condition-inside-the-regex/41358946#41358946", "title": "Is there any limitation to make the `|` condition inside the regex?", "body": "<p>You may use arrays list</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $regex_data = \"pattern|pattern1|pattern2|pattern3|pattern4|pattern5|pattern6\";  \n\nmy @arrays = split/\\|/, $regex_data;\nmy $data = \"This line has some pattern\";\nif (grep { $data=~ /\\b$_\\b/} @arrays) \n{\n    print \"Data matched with pattern\\n\";\n}\nelse\n{\n    print \"Not matched...\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1482924478, "creation_date": 1482924478, "answer_id": 41361132, "question_id": 41358613, "link": "https://stackoverflow.com/questions/41358613/is-there-any-limitation-to-make-the-condition-inside-the-regex/41361132#41361132", "title": "Is there any limitation to make the `|` condition inside the regex?", "body": "<p>As I wrote in my comment, the only practical limit on the length of an alternation is the amount of memory it occupies</p>\n\n<p>The regex engine compiles an alternation into a <em>trie</em> structure, and I would guess that expanding the string into a list of alternatives would occupy <em>more</em> memory than the compiled regex</p>\n\n<p>On the other hand there is a big speed disadvantage to the alternative of a Perl loop</p>\n\n<ul>\n<li><p>The <em>trie</em> algorithm will be much faster than a simple iterative comparison</p></li>\n<li><p>The regex engine is written in C, which is generally much faster than Perl code</p></li>\n<li><p>The Perl loop must perform a separate regex compilation on every segment of the list</p></li>\n</ul>\n\n<p>Here's a simple benchmark which you may want to enhance to a more representative data set. Using the alternation directly as a regex is faster by a factor of 2.5</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Benchmark 'cmpthese';\nuse List::Util 'any';\n\nmy $regex_data = 'pattern|pattern1|pattern2|pattern3|pattern4|pattern5|pattern6';\n\nmy $re = qr/$regex_data/i;\n\nmy $data = \"This line has some pattern\";\n\ncmpthese(-10,{\n    loop  =&gt; sub { any { $data =~ /$_/ } split /\\|/, $regex_data },\n    regex =&gt; sub { $data =~ $re },\n});\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>          Rate  loop regex\nloop  134375/s    --  -60%\nregex 338449/s  152%    --\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1483019097, "creation_date": 1483019097, "answer_id": 41380986, "question_id": 41358613, "link": "https://stackoverflow.com/questions/41358613/is-there-any-limitation-to-make-the-condition-inside-the-regex/41380986#41380986", "title": "Is there any limitation to make the `|` condition inside the regex?", "body": "<p>If by unknown limit you mean unknown number of alterations, you can use the <code>qr</code> operator to add them one at a time. If <code>@patterns</code> contain the list of alternatives:</p>\n\n<pre><code>use Data::Dumper;\nmy $re = qr{ \\Q$patterns[0]\\E }x;\nfor ( @patterns[1..$#patterns] ){\n    $re = qr{ $re | \\Q$_\\E }x;\n}\nsay Dumper $re;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">perldoc -f qr</a> for more details.</p>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 41361132, "answer_count": 3, "score": 0, "last_activity_date": 1503819991, "creation_date": 1482915715, "last_edit_date": 1482916390, "question_id": 41358613, "link": "https://stackoverflow.com/questions/41358613/is-there-any-limitation-to-make-the-condition-inside-the-regex", "title": "Is there any limitation to make the `|` condition inside the regex?", "body": "<p>I have the below code</p>\n\n<pre><code>$regex_data = \"pattern|pattern1|pattern2|pattern3|pattern4|pattern5|pattern6\";  \n\nmy $data = \"This line has some pattern\";\n\nif($data=~m/$regex_data/i)\n{\n    print \"Data matched with pattern\\n\";\n}\n</code></pre>\n\n<p>In my above code <code>$regex_data</code> has the all possible pattern separated by <code>|</code>. I'm working with future project and then I don't know the limit of the pattern. So the  <code>$regex_data</code> was directly implemented to the regex matching. Now it is working ( for small set of pattern 1..100). And my doubt Is there any problem will occur on large set of pattern in regex.?  </p>\n\n<pre><code>$regex_data = \"pattern1|pattern2|pattern3|pattern4|pattern5|pattern6|pattern7|pattern8|pattern9|pattern10|pattern11|pattern12|pattern13|pattern14|pattern15|pattern16|pattern17|pattern18|pattern19|pattern20|pattern21|pattern22|pattern23|pattern24|pattern25|pattern26|pattern27|pattern28|pattern29|pattern30 .. and so on \";\n</code></pre>\n"}, {"tags": ["sql", "perl", "parsing", "oracle11g"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482906125, "post_id": 41356426, "comment_id": 69914530, "body": "So you want to parse SQL. Try <a href=\"http://search.cpan.org/perldoc?SQL::Statement\" rel=\"nofollow noreferrer\">SQL::Statement</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482906245, "post_id": 41356426, "comment_id": 69914586, "body": "What flavour of SQL is being used? (For which database server?)"}, {"owner": {"reputation": 19, "user_id": 6076762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf70be52c927c14377b15432dd6273e?s=128&d=identicon&r=PG&f=1", "display_name": "Venkatesh k", "link": "https://stackoverflow.com/users/6076762/venkatesh-k"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482913089, "post_id": 41356426, "comment_id": 69917463, "body": "oracle data base.I am using DBI for it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1482913153, "post_id": 41356426, "comment_id": 69917487, "body": "How you communicate with the database is of no importance. You&#39;re not trying to do that; you&#39;re trying to parse SQL statements."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1482906666, "last_edit_date": 1495541785, "creation_date": 1482906454, "answer_id": 41356515, "question_id": 41356426, "link": "https://stackoverflow.com/questions/41356426/loop-through-the-sql-file-and-executing-each-statement-in-it-using-perl-script/41356515#41356515", "title": "Loop through the .sql file and executing each statement in it using perl script", "body": "<p>Parse the sql file and push all statements in an array, then loop over the array and use <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a> to prepare and execute the statements. <a href=\"https://metacpan.org/pod/SQL::Statement\" rel=\"nofollow noreferrer\">SQL::Statement</a> might be helpful as <a href=\"https://stackoverflow.com/questions/41356426/loop-through-the-sql-file-and-executing-each-statement-in-it-using-perl-script/41356515#comment69914530_41356426\">suggested by ikegami</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 0, "last_activity_date": 1483235544, "creation_date": 1483235544, "answer_id": 41412847, "question_id": 41356426, "link": "https://stackoverflow.com/questions/41356426/loop-through-the-sql-file-and-executing-each-statement-in-it-using-perl-script/41412847#41412847", "title": "Loop through the .sql file and executing each statement in it using perl script", "body": "<p>Presupposing your SQL file is not huge, something like this might work.  I'm making a huge leap here that splitting by ';' is enough to separate statements.  If you had a ';' in a comment or within a literal, that would pretty much mess things up.</p>\n\n<pre><code>use strict;\n\nuse DBI;\nuse DBD::Oracle;\n\nmy $dbh = DBI-&gt;connect('dbi:Oracle:MyOracleService', 'user', 'password');\n\n$/ = undef;\nopen my $IN, '&lt;', 'test.sql' or die;\nmy $sql = &lt;$IN&gt;;\nclose $IN;\n\nforeach my $mini_sql (split /;/, $sql) {\n  $dbh-&gt;do($mini_sql);\n}\n\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>Also, this example was Oracle...  if your DBMS is something else...  well, you know.</p>\n"}], "owner": {"reputation": 19, "user_id": 6076762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf70be52c927c14377b15432dd6273e?s=128&d=identicon&r=PG&f=1", "display_name": "Venkatesh k", "link": "https://stackoverflow.com/users/6076762/venkatesh-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1483235544, "creation_date": 1482905930, "last_edit_date": 1482913193, "question_id": 41356426, "link": "https://stackoverflow.com/questions/41356426/loop-through-the-sql-file-and-executing-each-statement-in-it-using-perl-script", "title": "Loop through the .sql file and executing each statement in it using perl script", "body": "<p>I have a <code>.sql</code> file which contains multiple SQL statements. I need to loop over each statement and execute them from a Perl script. The problem is that the SQL statements are multiline statements and they include comments.</p>\n\n<p>Up until now, we used the <code>sqlplus</code> command manually. But now we need to automate it to execute every statement and capture the success or failure of each statement. If a statement fails, I need to stop executing SQL statements from the file. As far I know, this isn't possible with <code>sqlplus</code>; it goes on executing the remaining statements after one of the statement fails.</p>\n\n<p>The <code>.sql</code> file looks as below....</p>\n\n<pre><code>--Add new columns to TABLE_NAME table\n\nALTER TABLE \"DATA\".\"TABLE_NAME\" ADD(NAME varchar2(30));\n\n--Create new table FILE_4G_TABLE\n\nCREATE TABLE \"DATA\".\"FILE_4G_TABLE\"\n(\n\n abc VARCHAR2(30 CHAR),\n\n def NUMBER(38),\n\n ghi NUMBER,\n\n JKL VARCHAR(32)\n\nCONSTRAINT \"FILE_4G_TABLE\" PRIMARY KEY (\"abc\")) TABLESPACE \"DATA\";\n</code></pre>\n\n<p>Someone, please guide me.</p>\n"}, {"tags": ["perl", "templates", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1482865420, "post_id": 41350640, "comment_id": 69903197, "body": "Can you please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates your problem? Otherwise we just have to guess what&#39;s wrong with your code."}, {"owner": {"reputation": 595, "user_id": 6026863, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10156680734670515/picture?type=large", "display_name": "Harvey Lin", "link": "https://stackoverflow.com/users/6026863/harvey-lin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482866050, "post_id": 41350640, "comment_id": 69903453, "body": "Added code, thanks for reminding."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482874714, "post_id": 41350640, "comment_id": 69906904, "body": "UTF8 and the line endings are not related. Mac uses one CR. What you&#39;re seeing is a extra carriage return. That&#39;s probably not related to TT. Can you please also include one of the templates and example data that goes in? I believe either the template was edited to include additional CRs or your input now has line breaks where it didn&#39;t have them before."}, {"owner": {"reputation": 595, "user_id": 6026863, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10156680734670515/picture?type=large", "display_name": "Harvey Lin", "link": "https://stackoverflow.com/users/6026863/harvey-lin"}, "edited": false, "score": 0, "creation_date": 1482875557, "post_id": 41350640, "comment_id": 69907180, "body": "My template file only have one CR, as is my input, nothing else has changed. The output was right on windows systems just a few month ago, and something changed in the windows system that changed the output to have one more CR. I don&#39;t know what change caused this though."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482876126, "post_id": 41350640, "comment_id": 69907347, "body": "If you think the change is on your system then we cannot help you diagnose it I&#39;m afraid."}, {"owner": {"reputation": 595, "user_id": 6026863, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10156680734670515/picture?type=large", "display_name": "Harvey Lin", "link": "https://stackoverflow.com/users/6026863/harvey-lin"}, "edited": false, "score": 0, "creation_date": 1482882203, "post_id": 41350640, "comment_id": 69909176, "body": "Ok, this is what I think, doesn&#39;t mean it&#39;s what happened. The toolkit is generating utf 8 encoding files under  a windows system using all windows settings, but the result file shows its encoding is utf 8 Macintosh, and the only difference is that it has an extra carriage return at the end of line. I checked the template files I use and it is in the right format. It really doesn&#39;t get more complicated than that."}], "answers": [{"tags": [], "owner": {"reputation": 595, "user_id": 6026863, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10156680734670515/picture?type=large", "display_name": "Harvey Lin", "link": "https://stackoverflow.com/users/6026863/harvey-lin"}, "is_accepted": false, "score": 1, "last_activity_date": 1482883627, "last_edit_date": 1495540804, "creation_date": 1482883627, "answer_id": 41353745, "question_id": 41350640, "link": "https://stackoverflow.com/questions/41350640/perl-template-toolkit-utf8-encoding-os-option/41353745#41353745", "title": "Perl - Template toolkit utf8 encoding OS option", "body": "<p>Problem solved, this post answers my question <a href=\"https://stackoverflow.com/questions/9123347/i-get-extra-cr-using-tt-perl-template-toolkit\">I get extra CR using TT (perl template toolkit)</a></p>\n\n<p>I then set binmode => 1 on the process method and it worked.</p>\n"}], "owner": {"reputation": 595, "user_id": 6026863, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10156680734670515/picture?type=large", "display_name": "Harvey Lin", "link": "https://stackoverflow.com/users/6026863/harvey-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482883627, "creation_date": 1482864871, "last_edit_date": 1482865898, "question_id": 41350640, "link": "https://stackoverflow.com/questions/41350640/perl-template-toolkit-utf8-encoding-os-option", "title": "Perl - Template toolkit utf8 encoding OS option", "body": "<p>I am running into a strange issue with Template toolkit for Perl. I have been using it to generate some Readme files using templates that is encoded in utf8, earlier this year, the readme file that was generated was fine and was in Dos\\Windows style of utf8 encoding, with CR\\LF as line endings. Somehow something was changed in my code that now it generates readme files in the Macintosh style of utf8, with CR\\CR\\LF as line endings, which in turn made a lot unnecessary spacing in my generated Readme files.</p>\n\n<p>The Code is below:</p>\n\n<pre><code>   my $readme_tmpl = \"README_tmpl.tt\";\n   if($os_type eq \"LINUX\") {\n       $readme_tmpl = \"README_tmpl_linux.tt\";\n   }\n   my $data_dir = File::Spec-&gt;catdir($self-&gt;data_dir(), 'BuildSomething');\n   $data_dir =~ s/\\\\/\\//g;\n   my $template = Template-&gt;new( INCLUDE_PATH =&gt; $data_dir );\n\n   my %readme_params;\n\n   $readme_params{build_app_name} = $pub_env-&gt;{BUILD_APP_NAME};\n   $readme_params{project_name} = $self-&gt;project();\n\n   $template-&gt;process($readme_tmpl, \\%readme_params, $readme_file);\n</code></pre>\n\n<p>Where $readme_file is the path where the new file is going to be.</p>\n\n<p>I am looking for ways to change it back to the Dos/Windows style of utf8 encoding, any ideas on how to do that?</p>\n"}, {"tags": ["perl", "dbix-class"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482858488, "post_id": 41349225, "comment_id": 69900120, "body": "Wat do you want to do with it? Do you want the first record, or do you want a prebuilt resultset that you can use to do more stuff?"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1482859333, "post_id": 41349225, "comment_id": 69900522, "body": "I don&#39;t think this question can be answered, it depends on what you need. You can define what the returned result is."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1482860143, "last_edit_date": 1482860143, "creation_date": 1482859402, "answer_id": 41349441, "question_id": 41349225, "link": "https://stackoverflow.com/questions/41349225/what-result-should-i-return-from-dbixclassresultset-methods/41349441#41349441", "title": "What result should I return from DBIx::Class::ResultSet::* methods?", "body": "<p>When you build a custom ResultSet, you typically return the new ResultSet object. In <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSet#Custom-ResultSet-classes\" rel=\"nofollow noreferrer\">the documentation</a> the examples contain an implicit <code>return</code>.</p>\n\n<blockquote>\n<pre><code>sub active {\n  my $self = shift;\n  $self-&gt;search({ $self-&gt;current_source_alias . '.active' =&gt; 1 });\n}\n</code></pre>\n</blockquote>\n\n<p>Because there is no <code>return</code>, it just returns the return value of the last statement. That's the <code>$self-&gt;search(...)</code> part.</p>\n\n<p>So your code would be like this:</p>\n\n<pre><code>sub contact {\n    my( $self, $email, $phone ) =  @_;\n\n    my $user =  $self;\n    $user =  $user-&gt;search({ email =&gt; $email })   if $email;\n    $user =  $user-&gt;search({ phone =&gt; $phone })   if $phone;\n\n    return $user;\n}\n</code></pre>\n\n<p>Remember that the ResultSet is not actually a result. There has not been a query at that point. If you call <code>-&gt;first</code> on it in your method, it will talk to the database and run your query. After that, you cannot chain additional <code>search</code>es to the ResultSet, because you don't have a ResultSet any more.</p>\n\n<hr>\n\n<p>The following section is a bit of code-review.</p>\n\n<p>What you did there works quite well, but it's a bit complex. You are chaining up to two additional searches, which translate to more stuff that DBIC needs to do for you in the background. Think about how that method should behave.</p>\n\n<p>Right now, it does this:</p>\n\n<ul>\n<li>if there are no arguments <code>$rs-&gt;contact()</code>, it will return the same ResultSet as before, without any new search criteria (<code>SELECT * FROM contacts</code>)</li>\n<li>if there was the email argument <code>$rs-&gt;contact($email)</code>, it will return a new ResultSet that has an additional search criteria for the email (<code>SELECT * FROM contacts WHERE email='...'</code>)</li>\n<li>if there was the phone argument <code>$rs-&gt;contacts( undef, $phone )</code>, it will return a new ResultSet that has an additional search criteria for the phone (<code>SELECT * FROM contacts WHERE phone='...'</code>)</li>\n<li>if there were both email and phone arguments <code>$rs-&gt;contacts( $email, $phone )</code>, it will return a new ResultSet that has two additional search criteria (<code>SELECT * FROM contacts WHERE email='...' AND phone='...'</code>)</li>\n</ul>\n\n<p>That makes sense, but for the first case. If you don't want any narrowing down, you'd not call that method in the first place, would you?</p>\n"}, {"tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": false, "score": 1, "last_activity_date": 1482866011, "creation_date": 1482866011, "answer_id": 41350893, "question_id": 41349225, "link": "https://stackoverflow.com/questions/41349225/what-result-should-i-return-from-dbixclassresultset-methods/41350893#41350893", "title": "What result should I return from DBIx::Class::ResultSet::* methods?", "body": "<p>That depends on what you need.\nI prefix all methods returning ResultSets with 'search_' and all that return a single object 'find_'.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1482924643, "creation_date": 1482858359, "last_edit_date": 1482924643, "question_id": 41349225, "link": "https://stackoverflow.com/questions/41349225/what-result-should-i-return-from-dbixclassresultset-methods", "title": "What result should I return from DBIx::Class::ResultSet::* methods?", "body": "<p>I have next code: </p>\n\n<pre><code>#find contact with given email and/or phone\nsub contact {\n    my( $self, $email, $phone ) =  @_;\n\n    my $user =  $self;\n    $user =  $user-&gt;search({ email =&gt; $email })   if $email;\n    $user =  $user-&gt;search({ phone =&gt; $phone })   if $phone;\n\n    return $user-&gt;first; # I think this is wrong\n}\n</code></pre>\n\n<p>It it OK that in my <code>ArtCoin::Schema::ResultSet::User</code> package to return <code>Result</code>?</p>\n"}, {"tags": ["perl", "ldap", "ldif", "dsml"], "comments": [{"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "edited": false, "score": 0, "creation_date": 1482861268, "post_id": 41344398, "comment_id": 69901340, "body": "The <code>$entry</code> variable in your LDIF example should contain an <code>Net::LDAP::Entry</code> object which <code>Net::LDAP::DSML</code> can  use. The DSML module can also be set to write to an array instead of a file handle, so can&#39;t you simply write the LDIF <code>$entry</code> to a DSML array and return the array?"}, {"owner": {"reputation": 311, "user_id": 515186, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/fdf8d1db2a122fa282c6e3f33dd8e7c4?s=128&d=identicon&r=PG", "display_name": "Gunnlaugur", "link": "https://stackoverflow.com/users/515186/gunnlaugur"}, "reply_to_user": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "edited": false, "score": 0, "creation_date": 1482920737, "post_id": 41344398, "comment_id": 69921375, "body": "I need to get the result from <code>my $res = $entry-&gt;update($ldap);</code> into <code>Net::LDAP::DSML</code> and <code>my $res = $entry-&gt;update($ldap);</code> return type is <code>Net::LDAP::Message</code> so I&#39;m not sure how to add it to DSML or if it&#39;s even possible. Do you know if it&#39;s possible and then how if it is? Thank you."}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "edited": false, "score": 0, "creation_date": 1483054537, "post_id": 41344398, "comment_id": 69979721, "body": "Sorry, the more I look at it, it doesn&#39;t seem like it&#39;s possible to do as-is in Net::LDAP. You may be stuck with writing your own methods to map the text from Net::LDAP::Message to DSML before returning it. Hopefully someone with more experience than me can find an easier way to do it."}], "owner": {"reputation": 311, "user_id": 515186, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/fdf8d1db2a122fa282c6e3f33dd8e7c4?s=128&d=identicon&r=PG", "display_name": "Gunnlaugur", "link": "https://stackoverflow.com/users/515186/gunnlaugur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482840087, "creation_date": 1482838350, "last_edit_date": 1482840087, "question_id": 41344398, "link": "https://stackoverflow.com/questions/41344398/how-do-i-get-perl-to-return-xml-using-netldapdsml", "title": "How do I get perl to return xml using Net::LDAP::DSML", "body": "<p>I'm writing a perl program to read, write, add, update and delete entries in LDAP server. What I got so far is write, add, update, delete using LDIF and read that returns entries as DSML. </p>\n\n<p>Now to my question - is it possible to have write, add, update, delete return DSML? Code examples would be greatly appreciated.</p>\n\n<p>My search looks like this and it works like a charm,</p>\n\n<pre><code>my $dsml = Net::LDAP::DSML-&gt;new(output =&gt; $oio, pretty_print =&gt; 1 )\n  or die (\"DSML object creation problem using an output file.\\n\");\n$dsml-&gt;start_dsml();\n$ldap-&gt;search(\n    base =&gt; \"applicationName=HSS_ESM,nodeName=jambala\",\n    scope =&gt; \"sub\",\n    filter =&gt; $intext,\n    attrs =&gt; ['*'],\n    callback =&gt; sub {\n        my ($mesg,$entry) =@_;\n        $dsml-&gt;write_entry($entry)\n        if (ref $entry eq 'Net::LDAP::Entry');\n    }\n);\n$dsml-&gt;end_dsml();\n</code></pre>\n\n<p>My write, add, update, delete looks like this and I would like it to return DSML on either success or error,</p>\n\n<pre><code># Create LDIF\nmy $ldif = Net::LDAP::LDIF-&gt;new($fh, \"r\", onerror =&gt; 'undef' );\n\n# Loop over the entries in LDIF\nwhile ( not $ldif-&gt;eof ( ) ) {\n    my $entry = $ldif-&gt;read_entry( );\n    if ( $ldif-&gt;error ( ) ) {\n        # handle error\n    } else {\n        # do stuff\n        my $res = $entry-&gt;update($ldap);\n        if ($res-&gt;code != 0) {\n            # handle error\n        }\n    }\n}\n$ldif-&gt;done ( );\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 34744, "user_id": 2193767, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tr7wR.jpg?s=128&g=1", "display_name": "TheLostMind", "link": "https://stackoverflow.com/users/2193767/thelostmind"}, "edited": false, "score": 1, "creation_date": 1482821225, "post_id": 41340279, "comment_id": 69882949, "body": "<i>Prostaglandin G/H synthase 2</i> is ending with a number, not &quot;ase&quot;. Also,show us what you&#39;ve tried"}, {"owner": {"reputation": 1, "user_id": 7344650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4febaebe18d332c1a098926da1bafa78?s=128&d=identicon&r=PG&f=1", "display_name": "Devi", "link": "https://stackoverflow.com/users/7344650/devi"}, "reply_to_user": {"reputation": 34744, "user_id": 2193767, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tr7wR.jpg?s=128&g=1", "display_name": "TheLostMind", "link": "https://stackoverflow.com/users/2193767/thelostmind"}, "edited": false, "score": 0, "creation_date": 1482821592, "post_id": 41340279, "comment_id": 69883094, "body": "correct that it is not ending with &quot;ase&quot;.. thats what  i want words before and after ase. I tried :"}, {"owner": {"reputation": 1, "user_id": 7344650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4febaebe18d332c1a098926da1bafa78?s=128&d=identicon&r=PG&f=1", "display_name": "Devi", "link": "https://stackoverflow.com/users/7344650/devi"}, "reply_to_user": {"reputation": 34744, "user_id": 2193767, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tr7wR.jpg?s=128&g=1", "display_name": "TheLostMind", "link": "https://stackoverflow.com/users/2193767/thelostmind"}, "edited": false, "score": 0, "creation_date": 1482821650, "post_id": 41340279, "comment_id": 69883114, "body": "I tried enough including:   .*\\w.\\w.;*\\.*.\\w*(ase)\\w*.*   But it is giving me earlier words also"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1482862810, "post_id": 41340279, "comment_id": 69902068, "body": "Is the <code>Prostaglandin G&#47;H synthase 1</code> really broken over two lines in your input?"}], "answers": [{"comments": [{"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "edited": false, "score": 0, "creation_date": 1482824478, "post_id": 41340428, "comment_id": 69884183, "body": "May I suggest <code>(?&lt;=; )</code> instead of a literal semicolon? That way you can keep everything you match"}, {"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "edited": false, "score": 1, "creation_date": 1482825286, "post_id": 41340428, "comment_id": 69884521, "body": "And remove the group brackets: <code>(?&lt;=;\\s)[^;]+ase\\s\\d+</code> . The <i>whole</i> match is the target - no need for groups"}], "tags": [], "owner": {"reputation": 34744, "user_id": 2193767, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tr7wR.jpg?s=128&g=1", "display_name": "TheLostMind", "link": "https://stackoverflow.com/users/2193767/thelostmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1482825588, "last_edit_date": 1482825588, "creation_date": 1482821707, "answer_id": 41340428, "question_id": 41340279, "link": "https://stackoverflow.com/questions/41340279/match-words-separated-by-semicolon-and-ending-with-ase-anydigit/41340428#41340428", "title": "Match words separated by semicolon and ending with &#39;ase anydigit&#39;", "body": "<p>Try <code>(?&lt;=;\\s)[^;]+ase\\s\\d+</code> which finds and captures everything after a semicolon until \"ase[space][number]\"</p>\n\n<p><a href=\"https://regex101.com/r/JK65Rq/4\" rel=\"nofollow noreferrer\">Demo here</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 7344650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4febaebe18d332c1a098926da1bafa78?s=128&d=identicon&r=PG&f=1", "display_name": "Devi", "link": "https://stackoverflow.com/users/7344650/devi"}, "edited": false, "score": 0, "creation_date": 1482826614, "post_id": 41340891, "comment_id": 69885027, "body": "@ Chankey Pathak: Thank you very much for the solution. This is also a great solution. Also thank you everyone for giving ur valuable time. :)"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 0, "last_activity_date": 1482823708, "creation_date": 1482823708, "answer_id": 41340891, "question_id": 41340279, "link": "https://stackoverflow.com/questions/41340279/match-words-separated-by-semicolon-and-ending-with-ase-anydigit/41340891#41340891", "title": "Match words separated by semicolon and ending with &#39;ase anydigit&#39;", "body": "<p>Perlish solution:</p>\n\n<ol>\n<li>Split the words on ; separator</li>\n<li>Apply regex to each word and print if it matches the criteria</li>\n</ol>\n\n<p>Sample code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @words = split/;/, &lt;DATA&gt;;\nforeach my $word (@words){\n    if ($word =~ /ase \\d+$/){\n        print $word;    \n    }\n}\n\n__DATA__\nVasopressin V1a receptor; Vasopressin V1b receptor; Vasopressin V2 receptor; Prostaglandin G/H synthase 1; Prostaglandin G/H synthase 2\n</code></pre>\n\n<p><a href=\"http://ideone.com/zIrZ8c\" rel=\"nofollow noreferrer\"><strong>Demo</strong></a></p>\n"}], "owner": {"reputation": 1, "user_id": 7344650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4febaebe18d332c1a098926da1bafa78?s=128&d=identicon&r=PG&f=1", "display_name": "Devi", "link": "https://stackoverflow.com/users/7344650/devi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 41340891, "answer_count": 2, "score": -1, "last_activity_date": 1482825588, "creation_date": 1482820967, "last_edit_date": 1482824061, "question_id": 41340279, "link": "https://stackoverflow.com/questions/41340279/match-words-separated-by-semicolon-and-ending-with-ase-anydigit", "title": "Match words separated by semicolon and ending with &#39;ase anydigit&#39;", "body": "<p>Can anybody help me to get the words having <code>ase</code> at the end of words using regular expressions. </p>\n\n<p>My text is like this:</p>\n\n<blockquote>\n  <p>Vasopressin V1a receptor; Vasopressin V1b receptor; Vasopressin V2\n  receptor; Prostaglandin G/H synthase 1; Prostaglandin G/H synthase 2</p>\n</blockquote>\n\n<p>Now I want only <code>Prostaglandin G/H synthase 1; Prostaglandin G/H synthase 2</code> which are ending with <code>ase</code> . </p>\n\n<p>I want the query to be generic as i will be running this for 7000 records using. It should separate the words with before ase at the end as mentioned in the example</p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1482817779, "post_id": 41339557, "comment_id": 69881842, "body": "I think OP wants to get the message which database prints to STDOUT when you manually run a query on it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482829821, "post_id": 41339557, "comment_id": 69886429, "body": "Essentially you want to know if the query was successful, right?"}, {"owner": {"reputation": 145, "user_id": 5580307, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b73a34706a85264d705db5f9b9bd36ab?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik Raju", "link": "https://stackoverflow.com/users/5580307/karthik-raju"}, "edited": false, "score": 0, "creation_date": 1482833594, "post_id": 41339557, "comment_id": 69888286, "body": "I need the complete statement, Example if the table is created successfully then &lt;code&gt; table TRN_ST created &lt;/code&gt;"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 5305573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iac8F.jpg?s=128&g=1", "display_name": "djtsheps", "link": "https://stackoverflow.com/users/5305573/djtsheps"}, "is_accepted": false, "score": 0, "last_activity_date": 1484127905, "creation_date": 1484127905, "answer_id": 41587396, "question_id": 41339557, "link": "https://stackoverflow.com/questions/41339557/how-to-get-the-output-of-a-query-run-on-database/41587396#41587396", "title": "How to get the output of a query run on database", "body": "<p>Having written a few scripts using DBD::mysql and DBD::Sybase database drivers with the DBI module, I found that the best way to figure out if your execution was successful is to enable the raising of errors on you DBI database handle and if no error was raised then you would then manually print out your \"table TRN_ST created\" message.</p>\n\n<pre><code>my $dbh = DBI-&gt;connect(\"DBI:mysql:database=test;host=localhost\",\n                     \"joe\", \"joe's password\",\n                     {'RaiseError' =&gt; 1 });\n</code></pre>\n\n<p><a href=\"http://search.cpan.org/~capttofu/DBD-mysql-3.0008/lib/DBD/mysql.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/~capttofu/DBD-mysql-3.0008/lib/DBD/mysql.pm</a>\n<a href=\"http://search.cpan.org/~mewp/DBD-Sybase-1.15/Sybase.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/~mewp/DBD-Sybase-1.15/Sybase.pm</a></p>\n"}], "owner": {"reputation": 145, "user_id": 5580307, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b73a34706a85264d705db5f9b9bd36ab?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik Raju", "link": "https://stackoverflow.com/users/5580307/karthik-raju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484127905, "creation_date": 1482816869, "last_edit_date": 1482817847, "question_id": 41339557, "link": "https://stackoverflow.com/questions/41339557/how-to-get-the-output-of-a-query-run-on-database", "title": "How to get the output of a query run on database", "body": "<p>When we execute the query, we can see the error messages with the help of </p>\n\n<pre><code>print OUT \"$DBI::errstr\";\n</code></pre>\n\n<p>But how can we get the result of the query on successful execution, like </p>\n\n<pre><code>table TRN_STLMNT_ created\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1482795115, "post_id": 41337015, "comment_id": 69877378, "body": "<code>BEGIN { use LoadINC; }</code> really doesn&#39;t make sense. It should probably just be <code>use LoadINC;</code>."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1482802302, "post_id": 41337015, "comment_id": 69878694, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1557959/how-can-i-find-out-where-a-perl-module-is-installed\">How can I find out where a Perl module is installed?</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1482803110, "post_id": 41337015, "comment_id": 69878849, "body": "@Andy Lester, That might answer the question in the title, but the Question asks an entirely different question"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482803334, "post_id": 41337120, "comment_id": 69878905, "body": "That might answer the question in the title, but the Question asks an entirely different question"}], "tags": [], "owner": {"reputation": 35151, "user_id": 612462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f87274d3ba193a8ce40f090f3644116?s=128&d=identicon&r=PG", "display_name": "Adrian Fr&#252;hwirth", "link": "https://stackoverflow.com/users/612462/adrian-fr%c3%bchwirth"}, "is_accepted": false, "score": 1, "last_activity_date": 1482793571, "creation_date": 1482793571, "answer_id": 41337120, "question_id": 41337015, "link": "https://stackoverflow.com/questions/41337015/how-to-find-the-location-of-a-perl-module-on-a-linux-server/41337120#41337120", "title": "How to find the location of a Perl module on a Linux server?", "body": "<p>One way to do it:</p>\n\n<pre><code>$ perldoc -lm open\n/usr/lib/perl5/5.24.1/open.pm\n</code></pre>\n\n<p>Or the sledgehammer method:</p>\n\n<pre><code>$ locate -r open.pm$\n/usr/lib/perl5/5.24.1/open.pm\n</code></pre>\n\n<p>But <a href=\"http://www.symkat.com/find-a-perl-modules-path\" rel=\"nofollow noreferrer\">TMTOWTDI</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482803128, "post_id": 41337280, "comment_id": 69878851, "body": "That might answer the question in the title, but the Question asks an entirely different question"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1482795023, "creation_date": 1482795023, "answer_id": 41337280, "question_id": 41337015, "link": "https://stackoverflow.com/questions/41337015/how-to-find-the-location-of-a-perl-module-on-a-linux-server/41337280#41337280", "title": "How to find the location of a Perl module on a Linux server?", "body": "<p><code>use LoadINC</code> will look for a file called <code>LoadINC.pm</code>. Perl searches the directories listed in <code>@INC</code> for modules. You can see them with</p>\n\n<pre><code>perl -wle 'print for @INC'\n</code></pre>\n\n<p><code>@INC</code> is composed from a compiled-in list of directories, the contents of the environment variable <code>PERL5LIB</code>, any <code>-I</code> options on the command line, and whatever changes the running code may have made.</p>\n\n<p>You can ask <a href=\"http://perldoc.perl.org/perldoc.html\" rel=\"nofollow noreferrer\"><code>perldoc</code></a> for the location of a file matching a module name:</p>\n\n<pre><code>perldoc -lm LoadINC\n</code></pre>\n\n<p>If you can load the module, you can also ask perl itself:</p>\n\n<pre><code>perl -wle 'use LoadINC (); print $INC{\"LoadINC.pm\"}'\n</code></pre>\n\n<p>(<a href=\"http://perldoc.perl.org/perlvar.html#%INC\" rel=\"nofollow noreferrer\"><code>%INC</code></a> is a hash that maps the base name of a loaded module to its path.)</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1482803393, "last_edit_date": 1482803393, "creation_date": 1482801861, "answer_id": 41337905, "question_id": 41337015, "link": "https://stackoverflow.com/questions/41337015/how-to-find-the-location-of-a-perl-module-on-a-linux-server/41337905#41337905", "title": "How to find the location of a Perl module on a Linux server?", "body": "<blockquote>\n  <p><em>How to find the location of a Perl module on a Linux server?</em></p>\n</blockquote>\n\n<pre><code>perl -mFoo::Bar -le'print $INC{\"Foo/Bar.pm\"}'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perldoc -lm Foo::Bar\n</code></pre>\n\n<p>In this case,</p>\n\n<pre><code>perl -mLoadINC -le'print $INC{\"LoadINC.pm\"}'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perldoc -lm LoadINC\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em>So my thought is to locate the LoadINC module on the old server and then put it in the same place on the new server. Or is there a better approach?</em></p>\n</blockquote>\n\n<p>How are we suppose to know how to install your module?</p>\n\n<p>Most modules are installed using one of</p>\n\n<pre><code>perl Makefile.PL\nmake test\nmake install\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl Build.PL\n./Build test\n./Build install\n</code></pre>\n\n<p>Simply copying the file might work, but there are a number of reasons why it might not. On the plus side, you'll immediately know if it worked or not in most cases.</p>\n\n<hr>\n\n<blockquote>\n  <p><em>Are the places to look for Perl modules not the same on both servers?</em></p>\n</blockquote>\n\n<p>The list of directories searched will definitely be different (given the difference in versions), though both builds may have directories in common.</p>\n\n<p>Architecture-independent modules should be installed in the directory named by the output of the following command:</p>\n\n<pre><code>perl -V:installprivlib\n</code></pre>\n"}], "owner": {"reputation": 5093, "user_id": 280319, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b1b1c267bff44eeafbbf3e503892be52?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/280319/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3568, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1482803393, "creation_date": 1482792332, "question_id": 41337015, "link": "https://stackoverflow.com/questions/41337015/how-to-find-the-location-of-a-perl-module-on-a-linux-server", "title": "How to find the location of a Perl module on a Linux server?", "body": "<p>We moved everything on our old server to a new server. One of the websites on our new server uses a Perl back-end. When I go to this Perl site in my browser it throws a 500 internal server error. When I run the Perl script from the command line like this:</p>\n\n<p><code>perl -wc login.pl</code></p>\n\n<p>I get this error:</p>\n\n<p><code>Can't locate LoadINC.pm</code></p>\n\n<p>and at the top of login.pl there is this:</p>\n\n<pre>#!/usr/bin/perl\n\nBEGIN { use LoadINC; }\n\n...</pre>\n\n<p>So it looks like that <code>LoadINC</code> Perl module is missing from our new server.</p>\n\n<p>The old server is still running and doesn't have this issue. So my thought is to locate the <code>LoadINC</code> module on the old server and then put it in the same place on the new server. Or is there a better approach? Is the module hidden in some binary file? Are the places to look for Perl modules not the same on both servers?</p>\n\n<p>One other thing to note, the Perl version on the old server is 5.8.8 and the version on the new server is 5.16.3.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 5, "creation_date": 1482788373, "post_id": 41336448, "comment_id": 69875651, "body": "You should <a href=\"https://stackoverflow.com/posts/41336448/edit\">edit</a> your question to a) fix the code formatting and b) add an actual question - what is this supposed to do? Do you get error messages? What happens instead of what you think should happen?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1482792183, "post_id": 41336448, "comment_id": 69876718, "body": "The problem seems to be that you don&#39;t know Perl (<a href=\"http://perldoc.perl.org/perlsyn.html\" rel=\"nofollow noreferrer\">perlsyn</a>). Is that an accurate assessment?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1482792427, "post_id": 41336448, "comment_id": 69876780, "body": "I think you want  to make <code>userhash</code> an array of hashes?"}, {"owner": {"reputation": 43, "user_id": 3201114, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/60f58600bea628d6ed20d90b94b060f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sonal", "link": "https://stackoverflow.com/users/3201114/sonal"}, "edited": false, "score": 0, "creation_date": 1482797622, "post_id": 41336448, "comment_id": 69877899, "body": "yes.. i need to make array of hashes.. how can i make it dynamically"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1482798440, "post_id": 41336448, "comment_id": 69878058, "body": "Perl doesn&#39;t use <code>&#47;&#47;</code> for comments."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1482811160, "post_id": 41336448, "comment_id": 69880279, "body": "You can find everything you need by reading <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 3, "last_activity_date": 1482824549, "creation_date": 1482824549, "answer_id": 41341069, "question_id": 41336448, "link": "https://stackoverflow.com/questions/41336448/i-need-to-work-on-hashes-of-array-this-works-for-only-1-iteration-how-i-can-ma/41341069#41341069", "title": "I need to work on hashes of array. This works for only 1 iteration. How I can make it N iterations?", "body": "<p>There's not enough information in your question to give you the best answer possible (i.e., this data structure is probably still suboptimal), but I can at least show you a better way than using 20-something parallel arrays:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nprint \"enter number of orders: \";\nmy $count = &lt;STDIN&gt;;\nchomp($count);\ndie unless $count =~ /^\\d+$/ &amp;&amp; $count &gt; 0;\n\nmy @data;\n\nwhile ($count) {\n    my %record;\n\n    for my $tag (qw(1 8 9 10 11 21 34 35 38 40 43 49 52 54 55 56 59 60 100 114 553)) {\n        print \"enter the value of tag$tag: \";\n        $record{$tag} = &lt;STDIN&gt;;\n    }\n\n    chomp(%record);\n    push(@data, \\%record);\n    $count--;\n}\n\nprint Dumper(\\@data);\n</code></pre>\n\n<p>It's a simple <a href=\"http://perldoc.perl.org/perldsc.html#ARRAYS-OF-HASHES\" rel=\"nofollow noreferrer\">array of hashes</a>. I won't explain the whole thing from start to finish, but you can follow the link to find out more. It would also be worth your time to read <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a>.</p>\n"}], "owner": {"reputation": 43, "user_id": 3201114, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/60f58600bea628d6ed20d90b94b060f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sonal", "link": "https://stackoverflow.com/users/3201114/sonal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1482838816, "creation_date": 1482787731, "last_edit_date": 1482838816, "question_id": 41336448, "link": "https://stackoverflow.com/questions/41336448/i-need-to-work-on-hashes-of-array-this-works-for-only-1-iteration-how-i-can-ma", "title": "I need to work on hashes of array. This works for only 1 iteration. How I can make it N iterations?", "body": "<pre><code>use Data::Dumper;\nprint \"enter number of orders\";\n$count=&lt;STDIN&gt;;\n//declaring arrays\nmy @arr;\nmy @order;\nmy @protocol;\nmy @message_length;\nmy @logon;\nmy @value_send;\nmy @value_receive;\nmy @seq_number;\nmy @time;\nmy @retransmission;\nmy @account;\nmy @destination;\nmy @qty_order;\nmy @ticker;\nmy @instruction;\nmy @order;\nmy @locate;\nmy @duration;\nmy @market;\nmy @id;\nmy @timeexecution;\nmy @userid;\nmy @checksum;\n\nfor ($i=1; $i&lt;=$count; $i++) {\n\n// taking input from user\n\n    print \"enter the value of tag8\";\n    $protocol[$i]=&lt;STDIN&gt;;\n    chomp($protocol[$i]);\n    print \"enter the value of tag9\";\n    $message_length[$i]=&lt;STDIN&gt;;\n    chomp($message_length[$i]);\n    print \"enter the value of tag35\";\n    $logon[$i]=&lt;STDIN&gt;;\n    chomp($logon[$i]);\n    print \"enter the value of tag49\";\n    $value_send[$i]=&lt;STDIN&gt;;\n    chomp($value_send[$i]);\n    print \"enter the value of tag56\";\n    $value_recieve[$i]=&lt;STDIN&gt;;\n    chomp($value_recieve[$i]);\n    print \"enter the value of tag34\";\n    $seq_number[$i]=&lt;STDIN&gt;;\n    chomp($seq_number[$i]);\n    print \"enter the value of tag52\";\n    $time[$i]=&lt;STDIN&gt;;\n    chomp($time[$i]);\n    print \"enter the value of tag43\";\n    $retransmission[$i]=&lt;STDIN&gt;;\n    chomp($retransmission[$i]);\n    print \"enter the value of tag1\";\n    $account[$i]=&lt;STDIN&gt;;\n    chomp($account[$i]);\n    print \"enter the value of tag100\";\n    $destination[$i]=&lt;STDIN&gt;;\n    chomp($destination[$i]);\n    print \"enter the value of tag38\";\n    $qty_order[$i]=&lt;STDIN&gt;;\n    chomp($qty_order[$i]);\n    print \"enter the value of tag55\";\n    $ticker[$i]=&lt;STDIN&gt;;\n    chomp($ticker[$i]);\n    print \"enter the value of tag21\";\n    $instruction[$i]=&lt;STDIN&gt;;\n    chomp($instruction[$i]);\n    print \"enter the value of tag54\";\n    $order[$i]=&lt;STDIN&gt;;\n    chomp($order[$i]);\n    print \"enter the value of tag114\";\n    $locate[$i]=&lt;STDIN&gt;;\n    chomp($locate[$i]);\n    print \"enter the value of tag59\";\n    $duration[$i]=&lt;STDIN&gt;;\n    chomp($duration[$i]);\n    print \"enter the value of tag40\";\n    $market[$i]=&lt;STDIN&gt;;\n    chomp($market[$i]);\n    print \"enter the value of tag11\";\n    $id[$i]=&lt;STDIN&gt;;\n    chomp($id[$i]);\n    print \"enter the value of tag60\";\n    $timeexecution[$i]=&lt;STDIN&gt;;\n    chomp($timeexecution[$i]);\n    print \"enter the value of tag553\";\n    $userid[$i]=&lt;STDIN&gt;;\n    chomp($userid[$i]);\n    print \"enter the value of tag10\";\n    $checksum[$i]=&lt;STDIN&gt;;\n    chomp($checksum[$i]);\n\n    // I need to make hash dynamically for more than 1 iterations \n\n    my %userhash1 = (\n    \"8\" =&gt; $protocol[$i],\n    \"9\" =&gt; $message_length[$i],\n    \"35\" =&gt; $logon[$i],\n    \"49\" =&gt; $value_send[$i],\n    \"56\" =&gt; $value_recieve[$i],\n    \"34\" =&gt; $seq_number[$i],\n    \"52\" =&gt; $time[$i],\n    \"43\" =&gt; $retransmission[$i],\n    \"1\" =&gt; $account[$i],\n    \"100\" =&gt; $destination[$i],\n    \"38\" =&gt; $qty_order[$i],\n    \"55\" =&gt; $ticker[$i],\n    \"21\" =&gt; $instruction[$i],\n    \"54\" =&gt; $order[$i],\n    \"114\" =&gt; $locate[$i],\n    \"59\" =&gt; $duration[$i],\n    \"40\" =&gt; $market[$i],\n    \"11\" =&gt; $id[$i],\n    \"60\" =&gt; $timeexecution[$i],\n    \"553\" =&gt; $userid[$i],\n    \"10\" =&gt; $checksum[$i],\n\n       );\n    //using hash of hash\n    $userhash2{\"KEY\"}={%userhash1};\n\n    // printing the hash  \n    print Dumper(\\%userhash2);\n\n    }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1482774466, "post_id": 41334509, "comment_id": 69871688, "body": "If I use qq or q can I get same output as if like using qw"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 8, "creation_date": 1482774669, "post_id": 41334509, "comment_id": 69871756, "body": "why are you asking?  no, you can&#39;t.  you also can&#39;t just replace <code>print</code> with <code>open</code> and have it work, or use <code>:</code> instead of <code>;</code>.  different parts of the language do different things, and you can&#39;t just arbitrarily switch them around."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1483600388, "post_id": 41334509, "comment_id": 70163694, "body": "My biggest question here isn&#39;t &quot;why would you want to do that?&quot; but &quot;why didn&#39;t you just try it?&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "edited": false, "score": 0, "creation_date": 1482774547, "post_id": 41334570, "comment_id": 69871714, "body": "If I use qq it will be stored in double quotes.Doesn&#39;t That work fine with the print function."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1482774604, "post_id": 41334570, "comment_id": 69871738, "body": "no, that would set <code>$months[0]</code> to <code>&#39; Jan Feb Mar ...&#39;</code>."}, {"owner": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "edited": false, "score": 0, "creation_date": 1482774632, "post_id": 41334570, "comment_id": 69871747, "body": "Okay, Thanks I got the answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1482786196, "post_id": 41334570, "comment_id": 69875074, "body": "s/similar/identical/g"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "edited": false, "score": 1, "creation_date": 1482786345, "post_id": 41334570, "comment_id": 69875114, "body": "@gudipati ramu, Re &quot;<i>If I use qq it will be stored in double quotes</i>&quot;, This demonstrates a lack of fundamental understanding. Things aren&#39;t stored &quot;in double quotes&quot;.  Both <code>&#39;abcdef&#39;</code> and <code>&quot;abcdef&quot;</code> produces the string <code>abcdef</code>. This is what&#39;s stored. It doesn&#39;t matted how the string got constructed."}, {"owner": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482786915, "post_id": 41334570, "comment_id": 69875260, "body": "@ikegami   I am new to perl Programming. I know that both &#39;abcdef&#39; and &quot;abcdef&quot; produce string and also I know the difference between the both of them. Actually when I am learning Perl through Tutorial I couldn&#39;t get the exact information about q,qq,qw. That&#39;s why the question was asked. Anyway Thanks for you Explanation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "edited": false, "score": 0, "creation_date": 1482786991, "post_id": 41334570, "comment_id": 69875285, "body": "@gudipati ramu, My point is that they produce <i>exactly the same string</i>. You claimed that a double-quoted string would be stored different, but that&#39;s not true."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482787127, "post_id": 41334570, "comment_id": 69875318, "body": "@ikegami Thank you. I just did &quot;s/similar/identical/g&quot;."}, {"owner": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482787258, "post_id": 41334570, "comment_id": 69875364, "body": "@ikegami   My wording was wrong in that comment where I mentioned that will be stored in double quotes."}, {"owner": {"reputation": 1193, "user_id": 4746562, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ceVeJFjxwUc/AAAAAAAAAAI/AAAAAAAAASI/Tbh2MK768kA/photo.jpg?sz=128", "display_name": "Alex Steinberg", "link": "https://stackoverflow.com/users/4746562/alex-steinberg"}, "edited": false, "score": 1, "creation_date": 1618557891, "post_id": 41334570, "comment_id": 118642111, "body": "<code>w</code> in <code>qw</code> could also stand for whitespace, since that is what delimits words."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 9, "last_activity_date": 1482787065, "last_edit_date": 1482787065, "creation_date": 1482774349, "answer_id": 41334570, "question_id": 41334509, "link": "https://stackoverflow.com/questions/41334509/can-i-use-qq-or-q-instead-of-qw-in-the-following-perl-script/41334570#41334570", "title": "Can I use qq or q instead of qw in the following perl script?", "body": "<h2>No.</h2>\n\n<p><code>qw(a b c)</code> is a shortcut for <code>('a', 'b', 'c')</code>. It returns a <strong>list</strong> (of words, that's what the <code>w</code> stands for).</p>\n\n<p><code>q()</code> is simply another way to write <strong>single quotes</strong>, i.e. <code>q(a b c)</code> is identical to <code>'a b c'</code>. It returns <strong>one string</strong> without interpolation.</p>\n\n<p><code>qq()</code> is a way to write <strong>double quotes</strong>, i.e. <code>qq(a b c)</code> is identical to <code>\"a b c\"</code>. It returns <strong>one string</strong> with interpolation.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"noreferrer\">http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators</a> for details.</p>\n\n<p>The <code>q()</code> and <code>qq()</code> syntax is sometimes used when the string to be quoted contains (lots of) single and/or double quotes and you want to avoid escaping them:</p>\n\n<pre><code>my $s1 = \"This \\\"contains\\\" quotes - \\\" - and \\\"is\\\" no fun to \\\"type\\\"\";\n</code></pre>\n\n<p>vs.</p>\n\n<pre><code>my $s2 = qq(This also \"contains\" quotes - \" - but \"is\" easier to \"type\"); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1482786437, "creation_date": 1482786437, "answer_id": 41336284, "question_id": 41334509, "link": "https://stackoverflow.com/questions/41334509/can-i-use-qq-or-q-instead-of-qw-in-the-following-perl-script/41336284#41336284", "title": "Can I use qq or q instead of qw in the following perl script?", "body": "<pre><code>qw(...)\n</code></pre>\n\n<p>is functionally equivalent to</p>\n\n<pre><code>split(' ', q(...))\n</code></pre>\n\n<p>so it's obviously not equivalent to</p>\n\n<pre><code>q(...)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>qq(...)\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 7343081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-IruSezP4uhU/AAAAAAAAAAI/AAAAAAAAABc/qGExR61C1Eo/photo.jpg?sz=128", "display_name": "Ramanjaneyulu Gudipati", "link": "https://stackoverflow.com/users/7343081/ramanjaneyulu-gudipati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6721, "favorite_count": 1, "accepted_answer_id": 41334570, "answer_count": 2, "score": 2, "last_activity_date": 1482787065, "creation_date": 1482773966, "question_id": 41334509, "link": "https://stackoverflow.com/questions/41334509/can-i-use-qq-or-q-instead-of-qw-in-the-following-perl-script", "title": "Can I use qq or q instead of qw in the following perl script?", "body": "<p>The output for the following script would be the present date like \" 26 Dec Mon\"</p>\n\n<pre><code>#!/usr/local/bin/perl\n@months = qw( Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec );\n@days = qw(Sun Mon Tue Wed Thu Fri Sat Sun);\n($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime();\nprint \"$mday $months[$mon] $days[$wday]\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 2, "creation_date": 1482733076, "post_id": 41327104, "comment_id": 69857839, "body": "Could you please be more clear? What is your expected output?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482733180, "post_id": 41327104, "comment_id": 69857870, "body": "Any expected output for brief detail?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7341243"}, "edited": false, "score": 0, "creation_date": 1482733378, "post_id": 41327104, "comment_id": 69857927, "body": "My expected output should be sum of the column 4 and sum of column 5 should be stored in different variables@ssr1012"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1482749221, "post_id": 41327104, "comment_id": 69863199, "body": "I guess, you want something like <code>$pend_count{adice} -&gt; {PEND} += $columns[4]</code> and <code>$pend_count{adice} -&gt; {RUN} += $columns[5]</code> for every name."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482766636, "post_id": 41327104, "comment_id": 69869284, "body": "The  error message you throw when the query  fails is misleading. You say you can&#39;t insert when in fact your query is a select."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1482775914, "post_id": 41327104, "comment_id": 69872133, "body": "Can&#39;t you <code>select name, sum(pend), sum(run) from queues group by name</code>? And <b>let the DB to that thing</b> for you?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1482776265, "post_id": 41327104, "comment_id": 69872260, "body": "@PerlDuck It&#39;s hard to tell, but the OP may or may not want regex-based grouping."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1482776747, "post_id": 41327104, "comment_id": 69872399, "body": "@MattJacob Yes, indeed. I wonder why it was upvoted 3 times as of now. The input shown is a text file but the code does a DB select. We can only guess."}], "answers": [{"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1482735051, "post_id": 41327314, "comment_id": 69858405, "body": "I don&#39;t think this is what OP expecting. Addition is not happening with matching of all row in column1."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1482735759, "post_id": 41327314, "comment_id": 69858659, "body": "<code>My expected output should be sum of the column 4 and sum of column 5 should be stored in different variables</code> this is what I did."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1482735833, "post_id": 41327314, "comment_id": 69858681, "body": "@serenesat: Could you please explain where addition is not happening."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7341243"}, "edited": false, "score": 0, "creation_date": 1482741847, "post_id": 41327314, "comment_id": 69860360, "body": "Could you please explain the above code briefly@ssr1012"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7341243"}, "edited": false, "score": 1, "creation_date": 1482747138, "post_id": 41327314, "comment_id": 69862331, "body": "Doe this code works..Because am not getting the addition of values from your same code@ssr1012"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7341243"}, "edited": false, "score": 1, "creation_date": 1482748280, "post_id": 41327314, "comment_id": 69862818, "body": "col4: \tcol5: (No values are outputted).@ssr1012"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482749331, "post_id": 41327314, "comment_id": 69863243, "body": "<code>__DATA__</code> if you copy the above code please give the tab delimit instead of space. We are splitting the column by <code>tag delimit</code> only"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1482743092, "last_edit_date": 1482743092, "creation_date": 1482734169, "answer_id": 41327314, "question_id": 41327104, "link": "https://stackoverflow.com/questions/41327104/how-to-add-the-mulitple-rows-using-column-header-with-perl/41327314#41327314", "title": "How to add the mulitple rows using column header with perl?", "body": "<p>Just I think and know whether this will help you:</p>\n\n<pre><code>my (@columns,$columns4,$columns5) = ();\nwhile(&lt;DATA&gt;)\n{\n    #Each row we are splitting by tab delimit\n    @columns = split \"\\t\", $_;\n\n    #Checking the column fourth not equal to null\n    if($columns[3] ne '')\n    {\n        #Store the value which is in column 4th\n        $columns4 += $columns[3];\n    }\n    #Checking the column fifth not equal to null\n    if($columns[4] ne '')\n    {\n        #Store the value which is in column 5th\n        $columns5 += $columns[4];\n    }\n}\n\nprint \"col4: $columns4\\tcol5: $columns5\\n\";\n\n__DATA__\nNAME    PRIO    SUB PEND    RUN LALLOT  \nadice_long  5   980766  199 107 - \nadice_ncsim 7   390188  2   6   \ncalibre 15  580 0   0   -\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1482775858, "last_edit_date": 1482775858, "creation_date": 1482775493, "answer_id": 41334750, "question_id": 41327104, "link": "https://stackoverflow.com/questions/41327104/how-to-add-the-mulitple-rows-using-column-header-with-perl/41334750#41334750", "title": "How to add the mulitple rows using column header with perl?", "body": "<p>If I understand the question correctly, you want to sum the <code>pend</code> and <code>run</code> columns for each value of <code>name</code>. You can use a <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-HASHES\" rel=\"nofollow noreferrer\">hash of hashes</a> where the top-level keys are the names and each value is a hash that contains keys for the columns you want to add up:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\nuse DBI;\n\n# set up in-memory database that should be close enough for this example\nmy $dbh = DBI-&gt;connect(\"dbi:SQLite:dbname=:memory:\", undef, undef, {\n    RaiseError =&gt; 1,\n    PrintError =&gt; 0,\n});\n\n# create fake schema\n$dbh-&gt;do(q{\n    create table queues (\n        name varchar(255),\n        prio int,\n        sub int,\n        pend int,\n        run int,\n        lallot int\n    )\n});\n\n# load fake data\nmy $sth = $dbh-&gt;prepare(q{\n    insert into queues (name, prio, sub, pend, run)\n    values (?, ?, ?, ?, ?)\n});\n\nwhile (&lt;DATA&gt;) {\n    $sth-&gt;execute(split);\n}\n\n# end of set-up code; on to the actual answer...\n$sth = $dbh-&gt;prepare(q{select * from queues});\n$sth-&gt;execute;\n\nmy %sums;\n\nwhile (my $row = $sth-&gt;fetchrow_hashref) {\n    for my $field (qw(pend run)) {\n        $sums{$row-&gt;{name}}{$field} += $row-&gt;{$field};\n    }\n}\n\ndd(\\%sums);\n\n__DATA__\nadice_long      5    980766  199  107\nadice_ncsim     7    390188  2    6\ncalibre         15   580     0    0\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n  adice_long  =&gt; { pend =&gt; 199, run =&gt; 107 },\n  adice_ncsim =&gt; { pend =&gt; 2, run =&gt; 6 },\n  calibre     =&gt; { pend =&gt; 0, run =&gt; 0 },\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7341243"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1482775858, "creation_date": 1482732692, "last_edit_date": 1482745557, "question_id": 41327104, "link": "https://stackoverflow.com/questions/41327104/how-to-add-the-mulitple-rows-using-column-header-with-perl", "title": "How to add the mulitple rows using column header with perl?", "body": "<p>I dumped the following table from linux command by using mysql queries.\nMy question is how to sum the values of every name  for column PEND AND RUN)using the Column header NAME.Here i had matched the every name and then calculated but i need to calculate according to the header name(i.e NAME).How can i do it?</p>\n\n<p>My input file:</p>\n\n<pre><code>NAME            PRIO SUB     PEND RUN LALLOT  \nadice_long      5    980766  199  107 - \n\nadice_ncsim     7    390188  2    6 \n\ncalibre         15   580     0    0   - \n</code></pre>\n\n<p>i tried the below code:</p>\n\n<pre><code>$DBH-&gt;do(\"USE $str1m;\");\n\nmy $stmt = \"select distinct * from queues ;\";\nmy $sth = $DBH-&gt;prepare( $stmt );\n$sth-&gt;execute() or print \"Could not insert data\";\nwhile (my @columns = $sth-&gt;fetchrow_array() ) {\n    if($columns[2] =~ /adice/i)\n    {\n        $pend_count{adice} +=$columns[4];\n        $run_count{adice} +=$columns[5]; \n    }\n    elsif($columns[2] =~ /calibre/i)\n    {\n        $pend_count{calibre} +=$columns[4];\n        $run_count{calibre} +=$columns[5]; \n    }   \n    elsif($columns[2] =~ /vcs/i)\n    {\n        $pend_count{vcs} +=$columns[4];\n        $run_count{vcs} +=$columns[5]; \n    }     \n    elsif($columns[2] =~ /spectre/i)\n    {\n        $pend_count{spectre} +=$columns[4];  \n        $run_count{spectre} +=$columns[5]; \n    }       \n    elsif($columns[2] =~ /Incisive/i)\n    {\n        $pend_count{incisive} +=$columns[4];\n        $run_count{incisive} +=$columns[5]; \n    }     \n\n    else\n    {\n        $pend_count{others} +=$columns[4];\n        $run_count{others} +=$columns[5]; \n\n    }\n}\nforeach $feature ( keys %pend_count)\n{\n    $stmt = \"INSERT INTO job_status(time,job_type,pending_qty,running_qty) VALUES(\\\"$current_time\\\",\\\"$feature\\\",\\\"$pend_count{$feature}\\\",\\\"$run_count{$feature}\\\")\";\n     $sth = $DBH-&gt;prepare( $stmt );\n    $sth-&gt;execute() or print \"Could not insert data\";\n}\n$sth-&gt;finish;\n$DBH-&gt;disconnect();\n</code></pre>\n\n<p>Expected ouput:</p>\n\n<p>Sum of the column 4 should be stored in one variable and sum of column 5 should stored in another different varible.The addition should be happened with the matching of all rows in column 1(i.e. NAME)</p>\n"}, {"tags": ["perl", "lwp", "lwp-useragent"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1482705615, "post_id": 41324987, "comment_id": 69853678, "body": "That code works fine. Could you post the error message you&#39;re receiving? Also what versions of LWP and LWP::Parallel::UserAgent you&#39;re using."}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1482705832, "post_id": 41324987, "comment_id": 69853704, "body": "Latest version. It doesn&#39;t set the User-Agent string for me. It runs fine, but doesn&#39;t set the value."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1482705872, "post_id": 41324987, "comment_id": 69853712, "body": "If you stick a <code>print &quot;The user-agent is: &quot;.$pua-&gt;agent</code> right after you set it you get what?"}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1482706035, "post_id": 41324987, "comment_id": 69853743, "body": "I&#39;m looking at my log files. It isn&#39;t in my log file. If I go in and manually edit the perl module UserAgent.pm and set the agent variable there, it works, and shows up in my log. But not when using $pua-&gt;agent()."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1482706184, "post_id": 41324987, "comment_id": 69853769, "body": "When you say &quot;it isn&#39;t in my log file&quot; do you mean you get <code>The user-agent is: </code> or you just get nothing? If you get nothing then that line is simply never being run. Again, because you&#39;re not using <code>strict</code> nor <code>warnings</code> I suspect what&#39;s really going on is you have a typo and you&#39;re passing <code>undef</code> in. Try printing <code>$ua_string</code>. Also turn on strict and warnings. Or you&#39;re using someone&#39;s hacked version of LWP::UserAgent (since you&#39;re editing the module very likely). Try diffing it against a fresh download."}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1482706447, "post_id": 41324987, "comment_id": 69853815, "body": "The installed version is not hacked or modified. I added strict, and no errors or warnings on the code I posted. It is not being set in my apache log."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482706664, "post_id": 41325032, "comment_id": 69853852, "body": "I get libwww-perl/6.13 when I add the line. It should also show up in my apache logs. It does not, it is just a &quot;-&quot;. I have installed LWP::Parallel::UserAgent from source, it is not modified. It will not pick up the the agent() string."}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482707000, "post_id": 41325032, "comment_id": 69853910, "body": "I installed libwww-perl-6.15 and ParallelUserAgent-2.62 from the source, and there is no change. $pua-&gt;agent() is not sent when a connection is made. It is set in the program, but not sent at connection time."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482707073, "post_id": 41325032, "comment_id": 69853924, "body": "You&#39;re not showing us the real code, you probably have a typo. Turn on strict and warnings, fix all the problems, then see what happens."}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482707163, "post_id": 41325032, "comment_id": 69853935, "body": "That&#39;s the entire program. I am running exactly what I posted."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482707207, "post_id": 41325032, "comment_id": 69853941, "body": "@LukasNelson Note that the Perl you run on the command line and the Perl that runs in Apache, especially if it&#39;s mod_perl, are not necessarily the same thing. If they are, they&#39;re not necessarily seeing the same modules. Try <code>print $INC{&quot;LWP&#47;Parallel&#47;UserAgent.pm&quot;}</code> and <code>print $INC{&quot;LWP&#47;UserAgent.pm&quot;}</code> and see what you&#39;re actually loading."}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482707432, "post_id": 41325032, "comment_id": 69853973, "body": "I am running command line perl, not apache mod-perl, that is not installed. I have strict, warnings set. There are none with the code I posted. That code does NOT send the User-Agent string while making a connection to ANY web server. I tried two different hosts. The code runs perfectly fine without any errors, so I am wondering if the problem is with the module itself."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482707578, "post_id": 41325032, "comment_id": 69853990, "body": "@LukasNelson I have those same versions and it works fine. It&#39;s something on your end."}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482707721, "post_id": 41325032, "comment_id": 69854012, "body": "Its not on my end. The $agent variable in the module UserAgent.pm is not defined. If I add a value, the same value as in my program, then it works. Somewhere there is a break in communication."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482708409, "post_id": 41325032, "comment_id": 69854120, "body": "@LukasNelson If <code>$agent</code> is not defined in <code>LWP::UserAgent::new()</code> (ie. you didn&#39;t pass it in) it uses <code>$class-&gt;_agent</code> which is <code>sub _agent       { &quot;libwww-perl&#47;$LWP::VERSION&quot; }</code>. See line 112. <code>$self-&gt;agent(defined($agent) ? $agent : $class-&gt;_agent) if defined($agent) || !$def_headers || !$def_headers-&gt;header(&quot;User-Agent&quot;);</code>"}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482708670, "post_id": 41325032, "comment_id": 69854154, "body": "I&#39;m using LWP::Parallel::UserAgent::new(), not LWP::UserAgent::new()."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482708692, "post_id": 41325032, "comment_id": 69854156, "body": "@LukasNelson LWP::Parallel::UserAgent is a subclass of LWP::UserAgent, though it takes some liberties. Did you ever try <code>print $pua-&gt;agent</code>?"}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482708957, "post_id": 41325032, "comment_id": 69854193, "body": "And if its not defined, it should use the default, which would be libwww-perl-6.15 as the User-Agent, or whatever version is installed. However, not even the default is being defined. Somewhere, something is broken. I don&#39;t think its the code, I think its the module. That, or I&#39;m not setting it properly. And If I&#39;m not setting it properly, the alternative is to set your own headers. That said, wouldn&#39;t $pua-&gt;request-&gt;init_header(&#39;New-Header: New Header&#39;) work?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482708982, "post_id": 41325032, "comment_id": 69854194, "body": "@LukasNelson  Did you ever try <code>print $pua-&gt;agent</code>? I&#39;m guessing that works but the header isn&#39;t actually getting set. Right?"}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482709085, "post_id": 41325032, "comment_id": 69854216, "body": "Yes, it prints the version if its not defined from the program. I removed the line completely, so that $pua-&gt;agent() is not being set. It should then use the default. This does not happen either. The default should show libwww-perl-6.15 in my log file, but it shows a &quot;-&quot;."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482709135, "post_id": 41325032, "comment_id": 69854225, "body": "@LukasNelson I found the problem. It&#39;s a bug in LWP::Parallel::UserAgent."}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482709764, "post_id": 41325032, "comment_id": 69854304, "body": "I thought it might have been a bug."}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482715307, "post_id": 41325032, "comment_id": 69854986, "body": "Thanks for finding the root cause. It appears that someone did submit a bug report 2 years ago. Since it has gone unresolved, I imagine its on a TODO list of low priority."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482715375, "post_id": 41325032, "comment_id": 69854997, "body": "@LukasNelson I think providing the root cause would make it much easier for the author to patch it."}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1482717396, "post_id": 41325032, "comment_id": 69855212, "body": "At the start of the file, there is a Parallel::UserAgent entry my %fields = ( ... ). I added agent there. That should fix $pua-&gt;agent(). Right? However, it needs to be pulled and assigned somewhere. So I added sub agent {     my $self = shift;     $self-&gt;{&#39;agent&#39;} = $_[0] if defined $_[0];     return $self-&gt;{agent}; }. And it works. HOORAY!!!!!!!"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 1, "creation_date": 1482737809, "post_id": 41325032, "comment_id": 69859251, "body": "@LukasNelson  That <code>%fields</code> you found controls automatic generation of accessors. It might &quot;work&quot;, but I&#39;m afraid you&#39;re overriding the existing <code>LWP::UserAgent::agent()</code> accessor and where it stores its data. That will probably lead to other subtle bugs. The real fix is to change LWP::Parallel::UserAgent to not make assumptions about the internals of the LWP::UserAgent object."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1482712996, "last_edit_date": 1482712996, "creation_date": 1482705593, "answer_id": 41325032, "question_id": 41324987, "link": "https://stackoverflow.com/questions/41324987/why-isnt-agent-set-when-using-lwpparalleluseragent/41325032#41325032", "title": "Why isn&#39;t agent() set when using LWP::Parallel::UserAgent?", "body": "<p>Sorry about the confusion, <code>$pua-&gt;agent</code> is set, but LWP::Parallel::UserAgent isn't using it. This is <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=84894\" rel=\"nofollow noreferrer\">a long standing bug in LWP::Parallel::UserAgent</a>.</p>\n\n<p>LWP::Parallel::UserAgent is a subclass of LWP::UserAgent but it's a poorly behaved subclass. Rather than using accessors it grabs at internal fields and assumes the agent will be stored in <code>$self-&gt;{agent}</code>. Maybe it once was, but it isn't anymore.</p>\n\n<p>Your particular problem is in <a href=\"https://metacpan.org/source/MSOUTH/ParallelUserAgent-2.62/lib/LWP/Parallel/UserAgent.pm#L1506\" rel=\"nofollow noreferrer\"><code>LWP::Parallel::UserAgent::init_request()</code> starting at line 1506</a>.</p>\n\n<pre><code># Extract fields that will be used below\nmy ($agent, $from, $timeout, $cookie_jar,\n    $use_eval, $parse_head, $max_size, $nonblock) =\n  @{$self}{qw(agent from timeout cookie_jar\n              use_eval parse_head max_size nonblock)};\n</code></pre>\n\n<p>This assumes the user-agent is stored in <code>$self-&gt;{agent}</code>. It isn't. It should instead do something like this to call each accessor in turn.</p>\n\n<pre><code>my %fields;\nmy @fields = qw(agent from timeout cookie_jar parse_head max_size);\nfor my $field (@fields) {\n    $fields{$field} = $self-&gt;$field();\n}\n</code></pre>\n\n<p>Or just use the accessors directly. This will use the documented interface for LWP.</p>\n\n<p><code>nonblock</code> and <code>use_eval</code> are special cases. These are not LWP::UserAgent fields, they were added by LWP::Parallel. There is no accessor method for <code>use_eval</code>. There is a <code>LWP::Parallel::UserAgent::nonblock()</code> but its only a setter. I don't think this is intentional.</p>\n\n<p>Since it doesn't define an accessor for <code>use_eval</code>, and should add one. And you could fix <code>nonblock</code> to always return its value.</p>\n\n<pre><code>sub nonblock {\n    my $self = shift;\n    $self-&gt;{'nonblock'} = $_[0] if defined $_[0];\n    return $self-&gt;{nonblock};\n}\n</code></pre>\n\n<p>LWP::Parallel::UserAgent is being actively maintained, <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=ParallelUserAgent\" rel=\"nofollow noreferrer\">you should send a bug report</a> and maybe a patch.</p>\n"}], "owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482747254, "creation_date": 1482705183, "last_edit_date": 1482747254, "question_id": 41324987, "link": "https://stackoverflow.com/questions/41324987/why-isnt-agent-set-when-using-lwpparalleluseragent", "title": "Why isn&#39;t agent() set when using LWP::Parallel::UserAgent?", "body": "<p>It appears to be undefined when looking at <code>UserAgent.pm</code>. At least, as far as I know, it is undefined when the routine gets to that part, even though I'm explicitly setting it with <code>$pua-&gt;agent()</code>. Is this a bug? There's also <code>init_header()</code>, but when I tried <code>$pua-&gt;request-&gt;init_header()</code>, it also failed to set.</p>\n\n<pre><code>#!/bin/perl\n\nuse LWP::Parallel::UserAgent;\n\nmy $ua_string =\n\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.81 Safari/537.36\";\n\nmy $url  = \"http://www.example1.com\";\nmy $url2 = \"http://www.example2.com\";\n\nmy $reqs = [\n    HTTP::Request-&gt;new( 'GET', $url ),\n    HTTP::Request-&gt;new( 'GET', $url2 )\n];\n\nmy ( $req, $res );\n\nmy $pua = LWP::Parallel::UserAgent-&gt;new();\n\n$pua-&gt;agent($ua_string);\n\nforeach $req ( @$reqs ) {\n    $pua-&gt;register( $req );\n}\n\nmy $entries = $pua-&gt;wait();\nforeach ( keys %$entries ) {\n    $res = $entries-&gt;{$_}-&gt;response;\n    my $r = $res;\n    my @redirects;\n    while ( $r ) {\n        $res = $r;\n        $r   = $r-&gt;previous;\n        push( @redirects, $res ) if $r;\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "file-permissions"], "comments": [{"owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "reply_to_user": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "edited": false, "score": 0, "creation_date": 1482707970, "post_id": 41324969, "comment_id": 69854057, "body": "I don&#39;t have any system where I can intentionally make the filesystem read only, so I haven&#39;t been able to test it. Hence the question of how does -w and -W work."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1482708540, "post_id": 41324969, "comment_id": 69854130, "body": "You could try with a cd or dvd. They are read only filesystems."}, {"owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "edited": false, "score": 0, "creation_date": 1482708604, "post_id": 41324969, "comment_id": 69854141, "body": "No physical access to the server unfortunately as I&#39;m writing this on a cloud server hosted by Rackspace. Also not my server, so I don&#39;t have root."}, {"owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "edited": false, "score": 0, "creation_date": 1482719728, "post_id": 41324969, "comment_id": 69855528, "body": "With linux you can easily make a filesystem and mount it with whatever read/write or read-only option you want. You could do this on a physical linux install, a  VM, or a rented VPS."}, {"owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "edited": false, "score": 0, "creation_date": 1482722353, "post_id": 41324969, "comment_id": 69855861, "body": "I would be interested in doing this but I thought you needed root to make filesystems."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1482724088, "post_id": 41324969, "comment_id": 69856074, "body": "The easiest and best way to test if a file is writable is to open it with write or append access and try to write to it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482732320, "post_id": 41324969, "comment_id": 69857654, "body": "What system(s) is this for?"}, {"owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "edited": false, "score": 0, "creation_date": 1482732471, "post_id": 41324969, "comment_id": 69857686, "body": "It could conceivably be run on AIX or Solaris, however it is being designed and tested on a Linux host and likely will only ever run on Linux."}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "edited": false, "score": 0, "creation_date": 1482731824, "post_id": 41326940, "comment_id": 69857533, "body": "Sorry but that is already addressed in the question. I&#39;m wanting to find out if the -w function actually will do an open() call with the &#39;&gt;&#39; operator to test that the file is writable, or if the -w function simply checks the file&#39;s permissions with stat()."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "edited": false, "score": 1, "creation_date": 1482732114, "post_id": 41326940, "comment_id": 69857594, "body": "It checks permission with stat. <code>If you are using ACLs, there is a pragma called filetest that may produce more accurate results than the bare stat mode bits.</code>"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1482731511, "creation_date": 1482731511, "answer_id": 41326940, "question_id": 41324969, "link": "https://stackoverflow.com/questions/41324969/perl-testing-that-a-file-is-actually-writable-as-opposed-to-checking-file-p/41326940#41326940", "title": "Perl: Testing that a file is **actually** writable as opposed to checking file permissions", "body": "<p>Yes. You could also do something like below:</p>\n\n<pre><code>if (-r $file &amp;&amp; -w $file) {\n    # file exists, I can read and write it\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1482757941, "post_id": 41327124, "comment_id": 69866402, "body": "Doesn&#39;t it also generate a return code? That would seem a better test to my mind."}], "tags": [], "owner": {"reputation": 300, "user_id": 3240659, "user_type": "registered", "profile_image": "https://graph.facebook.com/565306868/picture?type=large", "display_name": "nickcrabtree", "link": "https://stackoverflow.com/users/3240659/nickcrabtree"}, "is_accepted": false, "score": 3, "last_activity_date": 1482732892, "creation_date": 1482732892, "answer_id": 41327124, "question_id": 41324969, "link": "https://stackoverflow.com/questions/41324969/perl-testing-that-a-file-is-actually-writable-as-opposed-to-checking-file-p/41327124#41327124", "title": "Perl: Testing that a file is **actually** writable as opposed to checking file permissions", "body": "<p>In general, the -X operators only test the file modes, not whether the file is actually writeable. So you are going to have to test actually performing the operation, and catch any failure.</p>\n\n<p>From <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/functions/-X.html</a> :</p>\n\n<blockquote>\n  <p>The interpretation of the file permission operators -r , -R , -w , -W , -x , and -X is by default based solely on the mode of the file and the uids and gids of the user. There may be other reasons you can't actually read, write, or execute the file: for example network filesystem access controls, ACLs (access control lists), read-only filesystems, and unrecognized executable formats. Note that the use of these six specific operators to verify if some operation is possible is usually a mistake, because it may be open to race conditions.</p>\n</blockquote>\n\n<p>I have just verified this with a read-only loopback mount of a filesystem-in-a-file on my test system (Ubuntu 16.04) and the -W flag does indeed <em>incorrectly</em> report that the file can be written to.</p>\n\n<p>You could use the touch command:</p>\n\n<pre><code>$ touch /media/MountPoint/testfile\ntouch: cannot touch '/media/MountPoint/testfile': Read-only file system\n</code></pre>\n\n<p>This returns a zero-length string on success when run using backtics:</p>\n\n<pre><code>unless (length `touch $filename`) \n{\n    print \"Can write\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1482745821, "last_edit_date": 1482745821, "creation_date": 1482733288, "answer_id": 41327163, "question_id": 41324969, "link": "https://stackoverflow.com/questions/41324969/perl-testing-that-a-file-is-actually-writable-as-opposed-to-checking-file-p/41327163#41327163", "title": "Perl: Testing that a file is **actually** writable as opposed to checking file permissions", "body": "<p>If your concern is the filesystem, you can check whether it is mounted read-only.  If so, its line in <code>/proc/mounts</code> will have <code>ro</code>, so open the file and <code>grep</code> for lines with <code>ro</code> and your filesystem.</p>\n\n<p>This will work only on filesystems that use <code>/proc</code> but yours do. </p>\n\n<p>Note that querying with <code>mount</code> is less reliable.</p>\n\n<p>A sure-fire way is to attempt to write a file, and I'd use <a href=\"http://perldoc.perl.org/File/Temp.html\" rel=\"nofollow noreferrer\">File::Temp</a> for that.</p>\n"}], "owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1364, "favorite_count": 0, "accepted_answer_id": 41327163, "answer_count": 3, "score": 4, "last_activity_date": 1482745821, "creation_date": 1482704952, "last_edit_date": 1482731679, "question_id": 41324969, "link": "https://stackoverflow.com/questions/41324969/perl-testing-that-a-file-is-actually-writable-as-opposed-to-checking-file-p", "title": "Perl: Testing that a file is **actually** writable as opposed to checking file permissions", "body": "<p>Say I have a file /var/tmp/filename</p>\n\n<p>In perl, I write the following snippet</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nif (-W /var/tmp/filename)\n{\n...\n}\n\nexit;\n</code></pre>\n\n<p>Will the -W and -w functions (<a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/functions/-X.html</a>) check that the file can <strong>actually</strong> be written to, or only check that the file permissions <strong>allow</strong> writing?</p>\n\n<p>The reason I ask is that I am writing a script which gets a cookie from a server.</p>\n\n<p>This script needs to be able to write the cookie file to the filesystem, but if the filesystem path to the cookie file is read only, the permissions on the file won't matter. So I want to test if the cookiefile is <strong>actually</strong> writable as opposed to just checking its permissions.</p>\n"}, {"tags": ["perl", "gd", "captcha"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482651588, "post_id": 41318617, "comment_id": 69842485, "body": "Are you asking how to make a hardly readable image that is machine save, or how to implement the process of authentication with the user? Do you have to build your own or is using an api and going with e. g. Google&#39;s recapcha an option? There is a good implementation for that on cpan and is has a clear api and a proven approach."}, {"owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482672649, "post_id": 41318617, "comment_id": 69846661, "body": "I want a library that generates image files. I&#39;ll do the authentication myself. I can&#39;t use recaptcha because it is web based and you can&#39;t extract the image only."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1482676601, "post_id": 41318617, "comment_id": 69847505, "body": "Well, there is Image::Magick of course, but there is also <a href=\"https://metacpan.org/pod/Imager\" rel=\"nofollow noreferrer\">Imager</a>."}], "owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1482639138, "creation_date": 1482639138, "last_edit_date": 1495541348, "question_id": 41318617, "link": "https://stackoverflow.com/questions/41318617/how-do-i-generate-captcha-images-for-perl-without-gd", "title": "How do I generate CAPTCHA images for Perl without GD?", "body": "<p>How can I generate a CAPTCHA image file in Perl? I tried to use GD::SecurityImage, but GD is <a href=\"https://stackoverflow.com/questions/41317771/how-do-i-install-gd-for-perl\">broken</a>. I found a site that uses 1000 pre-generated images and randomly selects one of them, but I didn't think that was a good solution. Most of the Perl modules require GD or GD::SecurityImage. I can't find any pure Perl solutions. </p>\n"}, {"tags": ["perl", "gd", "cpan"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1482685026, "post_id": 41317771, "comment_id": 69849417, "body": "If you&#39;re using Windows, can you use <a href=\"http://strawberryperl.com/release-notes/5.22.2.1-64bit.html\" rel=\"nofollow noreferrer\">Strawberry Perl</a>? It comes with GD pre-installed and working."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1482697226, "post_id": 41317771, "comment_id": 69852095, "body": "Test 9 seeks to produce <a href=\"https://fastapi.metacpan.org/source/LDS/GD-2.56/t/test_data/images/t7/7-00.png\" rel=\"nofollow noreferrer\">this image</a>, which seems important for a captcha application. I also had trouble (different trouble) installing GD-2.56 on Cygwin. You may have better luck with <a href=\"https://metacpan.org/release/LDS/GD-2.53\" rel=\"nofollow noreferrer\">GD-2.53</a>."}, {"owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1482772506, "post_id": 41317771, "comment_id": 69871049, "body": "@mob How do I specify the version to install? <code>cpan -h</code> doesn&#39;t have any options to specify which version."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1482773023, "post_id": 41317771, "comment_id": 69871227, "body": "Download the tar.gz file from cpan.org and unpack and build it yourself, or try <code>cpan L&#47;LD&#47;LDS&#47;GD-2.53.tar.gz</code>"}, {"owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "edited": false, "score": 1, "creation_date": 1482774830, "post_id": 41317771, "comment_id": 69871807, "body": "2.53 worked! Also this might be useful: <a href=\"http://stackoverflow.com/questions/260593/how-can-i-install-a-specific-version-of-a-set-of-perl-modules\" title=\"how can i install a specific version of a set of perl modules\">stackoverflow.com/questions/260593/&hellip;</a> You have to use <code>install L&#47;LD&#47;LDS&#47;GD-2.53.tar.gz</code> from within CPAN as it doesn&#39;t work on the command line."}], "answers": [{"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": true, "score": 0, "last_activity_date": 1548078659, "creation_date": 1548078659, "answer_id": 54291419, "question_id": 41317771, "link": "https://stackoverflow.com/questions/41317771/how-do-i-install-gd-for-perl/54291419#54291419", "title": "How do I install GD for Perl?", "body": "<p>2.53 worked! Also this might be useful: <a href=\"http://stackoverflow.com/questions/260593/how-can-i-install-a-specific-version-of-a-set-of-perl-modules\" title=\"how can i install a specific version of a set of perl modules\">stackoverflow.com/questions/260593/&hellip;</a> You have to use <code>install L&#47;LD&#47;LDS&#47;GD-2.53.tar.gz</code> from within CPAN as it doesn&#39;t work on the command line.\n                    &ndash;&nbsp;Chloe</p>\n"}], "owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1729, "favorite_count": 0, "accepted_answer_id": 54291419, "answer_count": 1, "score": 1, "last_activity_date": 1548078659, "creation_date": 1482624041, "last_edit_date": 1495541348, "question_id": 41317771, "link": "https://stackoverflow.com/questions/41317771/how-do-i-install-gd-for-perl", "title": "How do I install GD for Perl?", "body": "<p>I tried to install it but it gave an error. I don't know what <code>-lwebp</code> is.</p>\n\n<pre><code>$ cpan install GD\nLoading internal null logger. Install Log::Log4perl for logging messages\nCPAN: Storable loaded ok (v2.53_01)\nReading '/home/Chloe/.cpan/Metadata'\n  Database was generated on Sat, 24 Dec 2016 21:17:02 GMT\nRunning install for module 'GD'\nCPAN: Digest::SHA loaded ok (v5.96)\nCPAN: Compress::Zlib loaded ok (v2.069)\nChecksum for /home/Chloe/.cpan/sources/authors/id/L/LD/LDS/GD-2.56.tar.gz ok\nCPAN: YAML loaded ok (v1.20)\nCPAN: CPAN::Meta::Requirements loaded ok (v2.140)\nCPAN: Parse::CPAN::Meta loaded ok (v1.4417)\nCPAN: CPAN::Meta loaded ok (v2.150005)\nCPAN: Module::CoreList loaded ok (v5.20160320)\nCPAN: Module::Build loaded ok (v0.4216)\nConfiguring L/LD/LDS/GD-2.56.tar.gz with Build.PL\nCPAN: CPAN::Reporter loaded ok (v1.2018)\ngdlib-config: warning: this script is deprecated; please use the pkg-config file instead.\nConfiguring for libgd version 2.2.3.\nChecking for stray libgd header files...none found.\n\nIncluded Features:          GD_GIF GD_GIFANIM GD_OPENPOLYGON GD_ZLIB GD_PNG GD_FREETYPE GD_FONTCONFIG GD_JPEG GD_XPM GD_TIFF GD_WEBP\nGD library used from:       /usr\nCreated MYMETA.yml and MYMETA.json\nCreating new 'Build' script for 'GD' version '2.56'\n(/usr/bin/perl Build.PL exited with 0)\nCPAN::Reporter: Build.PL result is 'pass', No errors.\n  LDS/GD-2.56.tar.gz\n  /usr/bin/perl Build.PL -- OK\nRunning Build for L/LD/LDS/GD-2.56.tar.gz\nBuilding GD\nExtracting Image.pm (with variable substitutions)\ngcc -I/usr/include -I/usr/lib/perl5/5.22/i686-cygwin-threads-64int/CORE -DVERSION=\"2.56\" -DXS_VERSION=\"2.56\" -DHAVE_JPEG -DHAVE_FT -DHAVE_XPM -DHAVE_GIF -DHAVE_PNG -DHAVE_FONTCONFIG -c -DPERL_USE_SAFE_PUTENV -D_GNU_SOURCE -U__STRICT_ANSI__ -ggdb -O2 -pipe -Wimplicit-function-declaration -fdebug-prefix-map=/mnt/share/maint/perl.x86/build=/usr/src/debug/perl-5.22.2-1 -fdebug-prefix-map=/mnt/share/maint/perl.x86/src/perl-5.22.2=/usr/src/debug/perl-5.22.2-1 -fwrapv -fno-strict-aliasing -fstack-protector-strong -D_FORTIFY_SOURCE=2 -O3 -o lib/GD.o lib/GD.c\nlib/GD.xs: In function \u2018XS_GD__Image_stringFT\u2019:\nlib/GD.xs:2187:19: warning: cast to pointer from integer of different size [-Wint-to-pointer-cast]\n             img = (gdImagePtr) tmp;\n                   ^\nExtUtils::Mkbootstrap::Mkbootstrap('blib/arch/auto/GD/GD.bs')\ng++ --shared -Wl,--enable-auto-import -Wl,--export-all-symbols -Wl,--enable-auto-image-base -fstack-protector-strong -o blib/arch/auto/GD/GD.dll lib/GD.o /usr/lib/perl5/5.22/i686-cygwin-threads-64int/CORE/libperl.dll.a -L/usr/lib -lz -lpng16 -lfreetype -lfontconfig -lfreetype -ljpeg -lXpm -lX11 -ltiff -lwebp -liconv -lgd\n/usr/lib/gcc/i686-pc-cygwin/5.4.0/../../../../i686-pc-cygwin/bin/ld: cannot find -lwebp\ncollect2: error: ld returned 1 exit status\nerror building blib/arch/auto/GD/GD.dll from lib/GD.o at /usr/lib/perl5/site_perl/5.22/ExtUtils/CBuilder/Base.pm line 321.\n(./Build exited with 512)\nCPAN::Reporter: Build result is 'unknown', Stopped with an error.\nCPAN::Reporter: preparing a CPAN Testers report for GD-2.56\nDo you want to review or edit the test report? (yes/no) [no] no\nDo you want to send the report? (yes/no) [yes] yes\nCPAN::Reporter: sending test report with 'unknown' via Metabase\n  LDS/GD-2.56.tar.gz\n  ./Build -- NOT OK\n</code></pre>\n\n<p>I have <code>libgd-devel</code> installed. This is a different error than (<a href=\"https://stackoverflow.com/questions/27679469/cpan-gd-module-install-failure-using-cygwin\">CPAN GD module install failure using Cygwin</a>). CPAN Testers says GD installed OK </p>\n\n<p><a href=\"http://www.cpantesters.org/distro/G/GD.html\" rel=\"nofollow noreferrer\">http://www.cpantesters.org/distro/G/GD.html</a></p>\n\n<p>Windows 8.1 64bit, Cygwin 2.6.1 32bit, Perl v5.22.2</p>\n\n<hr>\n\n<p>I installed <code>libwebp</code> and <code>libwebp-devel</code> from <code>setup-x86</code> and now it says it succeeded but the tests failed.</p>\n\n<pre><code>CPAN::Reporter: Build result is 'pass', No errors.\n  LDS/GD-2.56.tar.gz\n  ./Build -- OK\nRunning Build test\n# Testing using gd2 support.\n\n#   Failed test 'image comparison test 7'\n#   at t/GD.t line 249.\n# Looks like you failed 1 test of 11.\nt/GD.t ........\nDubious, test returned 1 (wstat 256, 0x100)\nFailed 1/11 subtests\nt/Polyline.t .. ok\n\nTest Summary Report\n-------------------\nt/GD.t      (Wstat: 256 Tests: 11 Failed: 1)\n  Failed test:  9\n  Non-zero exit status: 1\nFiles=2, Tests=12,  1 wallclock secs ( 0.03 usr  0.00 sys +  0.19 cusr  0.12 csys =  0.34 CPU)\nResult: FAIL\nFailed 1/2 test programs. 1/12 subtests failed.\n(./Build test exited with 65280)\nCPAN::Reporter: Test result is 'fail', One or more tests failed.\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "answers": [{"tags": [], "owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "is_accepted": false, "score": 9, "last_activity_date": 1482615719, "creation_date": 1482615719, "answer_id": 41317031, "question_id": 41316953, "link": "https://stackoverflow.com/questions/41316953/how-do-i-stop-cpan-from-accessing-an-unresponsive-package-repository/41317031#41317031", "title": "How do I stop CPAN from accessing an unresponsive package repository?", "body": "<pre><code>cpan[5]&gt; o conf urllist\n    urllist\n        0 [http://soft-download.org/]\n        1 [http://cpan.develooper.com/]\n        2 [http://cpan.erlbaum.net/]\n\ncpan[10]&gt; o conf urllist http://cpan.erlbaum.net http://cpan.develooper.com\nPlease use 'o conf commit' to make the config permanent!\n\n\ncpan[11]&gt; o conf urllist\n    urllist\n        0 [http://cpan.erlbaum.net]\n        1 [http://cpan.develooper.com]\nType 'o conf' to view all configuration items\n\n\ncpan[12]&gt; o conf commit\ncommit: wrote '/home/Chloe/.cpan/CPAN/MyConfig.pm'\n</code></pre>\n\n<p><a href=\"http://www.cpan.org/SITES.html\" rel=\"nofollow noreferrer\">http://www.cpan.org/SITES.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1482734493, "last_edit_date": 1482734493, "creation_date": 1482733942, "answer_id": 41327262, "question_id": 41316953, "link": "https://stackoverflow.com/questions/41316953/how-do-i-stop-cpan-from-accessing-an-unresponsive-package-repository/41327262#41327262", "title": "How do I stop CPAN from accessing an unresponsive package repository?", "body": "<h2>Solution 1: Remove the bad repository</h2>\n\n<p>Run <code>cpan</code> with no arguments, then enter</p>\n\n<pre><code>o conf urllist\n</code></pre>\n\n<p>This is will lists the repositories to use.</p>\n\n<pre><code>urllist\n    0 [http://good1/]\n    1 [http://good2/]\n    2 [http://bad/]\n</code></pre>\n\n<p>Re-enter the repositories without the bad one as follows:</p>\n\n<pre><code>o conf urllist http://good1/ http://good2/\n</code></pre>\n\n<p>Finally, save your changes as follows:</p>\n\n<pre><code>o conf commit\n</code></pre>\n\n<h2>Solution 2: Find the repositories that are the fastest for you</h2>\n\n<p>Run <code>cpan</code> with no arguments, then enter</p>\n\n<pre><code>o conf init urllist\n</code></pre>\n\n<p>When asked \"Would you like me to automatically choose some CPAN mirror\nsites for you?\", press Enter.</p>\n\n<p>Finally, save your changes as follows:</p>\n\n<pre><code>o conf commit\n</code></pre>\n\n<h2>Solution 3: Find repositories by region</h2>\n\n<p>Run <code>cpan</code> with no arguments, then enter</p>\n\n<pre><code>o conf init urllist\n</code></pre>\n\n<p>When asked \"Would you like me to automatically choose some CPAN mirror\nsites for you?\", enter <code>no</code>.</p>\n\n<p>When asked \"Would you like to edit the urllist or pick new mirrors from a list?\", press Enter.</p>\n\n<p>When asked \"Shall I use the cached mirror list?\", enter <code>no</code>.</p>\n\n<p>Select mirrors as directed by the prompt.</p>\n\n<p>Finally, save your changes as follows:</p>\n\n<pre><code>o conf commit\n</code></pre>\n"}], "owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 804, "favorite_count": 0, "accepted_answer_id": 41327262, "answer_count": 2, "score": 11, "last_activity_date": 1482734493, "creation_date": 1482614987, "last_edit_date": 1482665757, "question_id": 41316953, "link": "https://stackoverflow.com/questions/41316953/how-do-i-stop-cpan-from-accessing-an-unresponsive-package-repository", "title": "How do I stop CPAN from accessing an unresponsive package repository?", "body": "<p></p>\n\n<p>I tried to install a package. It's failing connecting to <code>soft-download.org</code>. I don't know why it's trying to connect to that host.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cpan install Config::IniFiles\nLoading internal null logger. Install Log::Log4perl for logging messages\nCPAN: Storable loaded ok (v2.53_01)\nReading '/home/Chloe/.cpan/Metadata'\n  Database was generated on Sat, 24 Dec 2016 20:17:02 GMT\nRunning install for module 'Config::IniFiles'\nCPAN: LWP::UserAgent loaded ok (v6.15)\nCPAN: Time::HiRes loaded ok (v1.9732)\nFetching with LWP:\nhttp://soft-download.org/authors/id/S/SH/SHLOMIF/Config-IniFiles-2.94.tar.gz\nLWP failed with code[500] message[Can't connect to soft-download.org:80]\n\nTrying with\n    /usr/bin/wget -O \"/home/Chloe/.cpan/sources/authors/id/S/SH/SHLOMIF/Config-IniFiles-2.94.tar.gz.tmp11320\"\nto get\n    http://soft-download.org/authors/id/S/SH/SHLOMIF/Config-IniFiles-2.94.tar.gz\n--2016-12-24 16:19:24--  http://soft-download.org/authors/id/S/SH/SHLOMIF/Config-IniFiles-2.94.tar.gz\nResolving soft-download.org (soft-download.org)... 204.45.81.83\nConnecting to soft-download.org (soft-download.org)|204.45.81.83|:80... failed: Connection timed out.\nRetrying.\n\n--2016-12-24 16:19:46--  (try: 2)  http://soft-download.org/authors/id/S/SH/SHLOMIF/Config-IniFiles-2.94.tar.gz\nConnecting to soft-download.org (soft-download.org)|204.45.81.83|:80... failed: Connection timed out.\nRetrying.\n\n--2016-12-24 16:20:09--  (try: 3)  http://soft-download.org/authors/id/S/SH/SHLOMIF/Config-IniFiles-2.94.tar.gz\nConnecting to soft-download.org (soft-download.org)|204.45.81.83|:80... failed: Connection timed out.\nRetrying.\n</code></pre>\n\n<p>I tried to reload the index, but it still tries to access <code>soft-download.org</code>. </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cpan[2]&gt; reload index\nCPAN: Storable loaded ok (v2.53_01)\nReading '/home/Chloe/.cpan/Metadata'\n  Database was generated on Sat, 24 Dec 2016 20:17:02 GMT\nCPAN: LWP::UserAgent loaded ok (v6.15)\nCPAN: Time::HiRes loaded ok (v1.9732)\nFetching with LWP:\nhttp://soft-download.org/authors/01mailrc.txt.gz\nLWP failed with code[500] message[Can't connect to soft-download.org:80]\n\nTrying with\n    /usr/bin/wget -O \"/home/Chloe/.cpan/sources/authors/01mailrc.txt.gz.tmp14304\"\nto get\n    http://soft-download.org/authors/01mailrc.txt.gz\n--2016-12-24 16:27:15--  http://soft-download.org/authors/01mailrc.txt.gz\nResolving soft-download.org (soft-download.org)... 204.45.81.83\nConnecting to soft-download.org (soft-download.org)|204.45.81.83|:80...\n</code></pre>\n"}, {"tags": ["perl", "floating-point", "printf"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1482581329, "post_id": 41312890, "comment_id": 69829493, "body": "Seems also to affect <code>%g</code>: <code>perl -E &#39;printf &quot;%.3g\\n&quot;, 1.505&#39;</code> gives 1.5, whereas <code>perl -E &#39;printf &quot;%.3g\\n&quot;, 1.506&#39;</code> gives 1.51. Also both <code>perl -E &#39;printf &quot;%.2g\\n&quot;, 0.505&#39;</code> and <code>perl -E &#39;printf &quot;%.2g\\n&quot;, 0.506&#39;</code> gives 0.51"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482732926, "post_id": 41312890, "comment_id": 69857793, "body": "You are using two rounded numbers. Instead, use <code>say sprintf &#39;%1$.19g =&gt; %1$.2f&#39;, $number;</code>. This will answer your question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482733318, "post_id": 41312890, "comment_id": 69857907, "body": "Re &quot;<i>Perl looks at the following digit, rounds up if it is 5 or greater, and rounds down otherwise.</i>&quot;, This is inaccurate. It&#39;s entirely up to the underlying C library, which may not necessarily use that rounding method. In fact, on my gcc build, it rounds to even. (This isn&#39;t relevant to your problem, though.)"}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 4, "creation_date": 1482584606, "post_id": 41313416, "comment_id": 69830240, "body": "More details can be found in <a href=\"http://docstore.mik.ua/orelly/perl4/cook/ch02_04.htm\" rel=\"nofollow noreferrer\">Chapter 2.3</a> of Perl Cookbook: <i>&quot;Perl&#39;s normal printing routines display numbers rounded to 15 decimal places or so, but its numeric tests don&#39;t round.&quot;</i>"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 18, "last_activity_date": 1482583851, "creation_date": 1482583851, "answer_id": 41313416, "question_id": 41312890, "link": "https://stackoverflow.com/questions/41312890/why-is-perl-inconsistent-with-sprintf-rounding/41313416#41313416", "title": "Why is Perl inconsistent with sprintf rounding?", "body": "<p>If you add this line:</p>\n\n<pre><code>$number = sprintf '%.15f', $number;\n</code></pre>\n\n<p>before printing, you will have:</p>\n\n<pre><code>0.254000000000000 =&gt; 0.25\n0.255000000000000 =&gt; 0.26\n0.256000000000000 =&gt; 0.26\n100.254000000000005 =&gt; 100.25\n100.254999999999995 =&gt; 100.25\n100.256000000000000 =&gt; 100.26\n</code></pre>\n\n<p>as you can see, <code>100.255</code> is not exactly <code>100.255</code> this is due to representation of float numbers.</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1482652081, "post_id": 41318772, "comment_id": 69842571, "body": "I would not say that the book was plain wrong. It says <i>&quot;Perl&#39;s normal printing routines display numbers _rounded_ to 15 decimal places&quot;</i>. So it was correct in that the numbers were displayed rounded, but it fails to mention the banker&#39;s rounding and that the rounding can be implementation dependent."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1482653616, "post_id": 41318772, "comment_id": 69842782, "body": "@H&#229;konH&#230;gland I meant the <code>Perl looks at the following digit, rounds up if it is 5 or greater, and rounds down otherwise.</code>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 7, "last_activity_date": 1482645878, "last_edit_date": 1482645878, "creation_date": 1482641715, "answer_id": 41318772, "question_id": 41312890, "link": "https://stackoverflow.com/questions/41312890/why-is-perl-inconsistent-with-sprintf-rounding/41318772#41318772", "title": "Why is Perl inconsistent with sprintf rounding?", "body": "<p>Perl uses the underlying C library for formatting.  What this library does may vary from platform to platform.  Even POSIX says \"The low-order digit shall be rounded in an implementation-defined manner.\"</p>\n\n<p>In glibc, which arguably is used by the majority of perl binaries out there, the behavior you see will be affected by a couple of things:</p>\n\n<p>First, as pointed out in another answer, the value you think is being rounded may not be exactly representable in floating point, and which way the rounding goes will be determined by if it is the next higher or lower representable number.</p>\n\n<p>Second, even if the value is exactly representable as halfway between two possible roundings, glibc will use banker's rounding.  That is, it will round to an even digit.  So <code>sprintf '%.1g', .25</code> will produce <code>.2</code>, but <code>sprintf '%.1g', .75</code> will produce <code>.8</code>.</p>\n\n<p>The quote from the Perl Cookbook is just plain wrong.</p>\n"}], "owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1161, "favorite_count": 2, "accepted_answer_id": 41318772, "answer_count": 2, "score": 11, "last_activity_date": 1561567915, "creation_date": 1482579446, "last_edit_date": 1561567915, "question_id": 41312890, "link": "https://stackoverflow.com/questions/41312890/why-is-perl-inconsistent-with-sprintf-rounding", "title": "Why is Perl inconsistent with sprintf rounding?", "body": "<p>Here is a Perl script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy @numbers = qw(\n    0.254\n    0.255\n    0.256\n);\n\nforeach my $number (@numbers) {\n    my $rounded = sprintf '%.2f', $number;\n    say \"$number =&gt; $rounded\";\n}\n\nforeach my $number (@numbers) {\n    $number += 100;\n    my $rounded = sprintf '%.2f', $number;\n    say \"$number =&gt; $rounded\";\n}\n</code></pre>\n\n<p>It outputs:</p>\n\n<pre><code>0.254 =&gt; 0.25\n0.255 =&gt; 0.26\n0.256 =&gt; 0.26\n100.254 =&gt; 100.25\n100.255 =&gt; 100.25\n100.256 =&gt; 100.26\n</code></pre>\n\n<p>For me it is very strange that Perl is inconsistent with rounding. I expect that both number ending with .255 to be rounded as .26 It is true for 0.255, but it is false for the number 100.255.</p>\n\n<p>Here is the quote from Perl Cookbook, <a href=\"http://docstore.mik.ua/orelly/perl/cookbook/ch02_04.htm\" rel=\"nofollow noreferrer\">http://docstore.mik.ua/orelly/perl/cookbook/ch02_04.htm</a>,</p>\n\n<blockquote>\n  <p>sprintf . The f format lets you specify a particular number of decimal\n  places to round its argument to. Perl looks at the following digit,\n  rounds up if it is 5 or greater, and rounds down otherwise.</p>\n</blockquote>\n\n<p>But I can't see any evidence that it is correct in <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/functions/sprintf.html</a></p>\n\n<p>Is it a bug in sprintf or Perl Cookbook is wrong? If it is desired behaviour, why does it work this way?</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1482530678, "post_id": 41308238, "comment_id": 69819694, "body": "What is <code>$basic_ip_node</code>? You initialize <code>$ip_node</code> but your post data comes from <code>$basic_ip_node</code>."}, {"owner": {"reputation": 41, "user_id": 7335918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AH8kR.jpg?s=128&g=1", "display_name": "Sean Rumsby", "link": "https://stackoverflow.com/users/7335918/sean-rumsby"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1482531632, "post_id": 41308238, "comment_id": 69819944, "body": "Ugh - that&#39;s a typo I made while stripping out the unnecessary info. What we initialize is what we pass into the POST data. I&#39;ve edited the question the have the correct variable names."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 7335918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AH8kR.jpg?s=128&g=1", "display_name": "Sean Rumsby", "link": "https://stackoverflow.com/users/7335918/sean-rumsby"}, "is_accepted": true, "score": 0, "last_activity_date": 1483472144, "creation_date": 1483472144, "answer_id": 41451043, "question_id": 41308238, "link": "https://stackoverflow.com/questions/41308238/testmojo-post-ok-not-reading-in-post-data-correctly/41451043#41451043", "title": "Test::Mojo post_ok not reading in POST data correctly", "body": "<p>It turns out that this behavior is the result of a stray newline character on my cookie that is passed in to the Controller. I was creating and attaching a Cookie Jar for authn/authz onto the mojo object with:</p>\n\n<pre><code>my $jar = Mojo::UserAgent::CookieJar-&gt;new;\n\n$jar-&gt;add(\n    Mojo::Cookie::Response-&gt;new(\n        name   =&gt; \"$mojo_cookie_name\",\n        value  =&gt; \"$cookie_data\",\n        domain =&gt; \"127.0.0.1\",\n        path   =&gt; \"$mojo_cookie_path\"\n    )\n);\n\n$t-&gt;{ua}-&gt;{cookie_jar} =  $jar;\n</code></pre>\n\n<p>But $cookie_data had an extra newline character on it. By performing a chomp() on the $cookie_data before adding it on to the Cookie Jar, everything works as expected. I don't know why the Mojo request failed so spectacularly when there is an extra new line character on the cookie - and I assume it would fail if any manual header has an extra new line character on it as well. If anything further comes of this, I'll updated/comment on this answer accordingly.</p>\n"}], "owner": {"reputation": 41, "user_id": 7335918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AH8kR.jpg?s=128&g=1", "display_name": "Sean Rumsby", "link": "https://stackoverflow.com/users/7335918/sean-rumsby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 41451043, "answer_count": 1, "score": 4, "last_activity_date": 1483472144, "creation_date": 1482529956, "last_edit_date": 1482531508, "question_id": 41308238, "link": "https://stackoverflow.com/questions/41308238/testmojo-post-ok-not-reading-in-post-data-correctly", "title": "Test::Mojo post_ok not reading in POST data correctly", "body": "<p>I am creating a simple Mojolicious app that is to be a REST API for some objects in my database. I am trying to test creating a new object, but POSTing data to the object collection. Here is the basic structure of my Test::Mojo script:</p>\n\n<pre><code>use Mojo::Base -strict;\nuse Test::More;\nuse Test::Mojo;\n\nuse strict;\nuse warnings;\n\nmy $ip_node = {ipname =&gt; 'ip_alias.subdomain.company.com', ipservice =&gt; 'reserved', ipaddress =&gt; '192.168.0.1'};\n\nmy $t = Test::Mojo-&gt;new('Tools');\n$t-&gt;post_ok('/tools/ipadmin/nodes' =&gt; {Accept =&gt; 'application/json'} =&gt; form =&gt; $ip_node)-&gt;status_is(201);\n\ndone_testing();\n</code></pre>\n\n<p>But for whatever reason, the Mojo Controller cannot read in the POST data when sent in the above fashion. To debug this, in my Controller I have the following lines to respond to the request:</p>\n\n<pre><code>my $c = shift;\n\nprint \"All params: \" . $c-&gt;req-&gt;params . \"\\n\";\nprint \"IP Name: \" . $c-&gt;req-&gt;param(\"ipname\") . \"\\n\";\nprint \"IP Service: \" . $c-&gt;req-&gt;param(\"ipservice\") . \"\\n\";\nprint \"IP Address: \" . $c-&gt;req-&gt;param(\"ipaddress\") . \"\\n\";\n</code></pre>\n\n<p>When I run the test script via prove:</p>\n\n<pre><code>$ prove -v -I /path/to/workspace/Tools/lib t/basic.t\n</code></pre>\n\n<p>The output varies between one of these three outputs. Most of the time the all 4 print statements are empty, but occasionally a CRLF + the POST data (with the final two characters stripped off, probably from the CRLF eating up the content_length) and even more rarely the content_length of the HTTP Headers gets output.</p>\n\n<pre><code>All params: %0D%0Aipaddress=192.168.0.1&amp;ipname=ip_alias.subdomain.company.com&amp;ipservice=reserv\nIP Name: ip_alias.subdomain.company.com\nIP Service: reserv\nIP Address: \n\nAll params: User-Agent%3A+Mojolicious+%28Perl%29%0D%0AHost%3A+127.0.0.1%3A35611%0D%0AAccept-Encoding%3A+gzip%0D%0A=\nIP Name: \nIP Service: \nIP Address: \n\nAll params: \nIP Name: \nIP Service: \nIP Address:\n</code></pre>\n\n<p>Has anyone seen this type of behaviour before? Is something with my post_ok syntax wrong? I've read the Mojo docs for Test::Mojo and it looks (to me) like this should work, but it just doesn't. Any ideas?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["linux", "perl", "uid"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 7144668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddc57b133a0036999720c02d68da8f5d?s=128&d=identicon&r=PG&f=1", "display_name": "pepite", "link": "https://stackoverflow.com/users/7144668/pepite"}, "edited": false, "score": 0, "creation_date": 1484323923, "post_id": 41305579, "comment_id": 70477347, "body": "tried to figure it out myself, Q updated, any hint for that? :)"}, {"owner": {"reputation": 137, "user_id": 7144668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddc57b133a0036999720c02d68da8f5d?s=128&d=identicon&r=PG&f=1", "display_name": "pepite", "link": "https://stackoverflow.com/users/7144668/pepite"}, "edited": false, "score": 0, "creation_date": 1484326142, "post_id": 41305579, "comment_id": 70478859, "body": "Thanks! updating your answer"}], "tags": [], "owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "is_accepted": true, "score": 8, "last_activity_date": 1484327034, "last_edit_date": 1484327034, "creation_date": 1482503067, "answer_id": 41305579, "question_id": 41305578, "link": "https://stackoverflow.com/questions/41305578/how-to-get-ownergroup-name-of-a-file-directory-with-perl/41305579#41305579", "title": "How to get owner:group name of a file/directory with perl?", "body": "<p>Use <a href=\"http://perldoc.perl.org/functions/stat.html\" rel=\"nofollow noreferrer\"><code>stat</code></a> to get the uid/gid, and <a href=\"http://perldoc.perl.org/functions/getpwnam.html\" rel=\"nofollow noreferrer\"><code>getpwnam</code></a>/<a href=\"http://perldoc.perl.org/functions/getgrnam.html\" rel=\"nofollow noreferrer\"><code>getgrnam</code></a> to convert those into names.</p>\n\n<p>If symlinks are involved you might get better results by using <code>lstat</code> instead of <code>stat</code>: </p>\n\n<pre><code>perl -e '$uid = (lstat)[4], $_ for @ARGV; $owner = getpwuid($uid); $gid = (lstat)[5], $_ for @ARGV; $group = getgrgid($gid); print \"chown $owner:$group \\\"@ARGV\\\"\\n\"' FILENAMEHERE\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1482514127, "question_id": 332371}, "owner": {"reputation": 137, "user_id": 7144668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddc57b133a0036999720c02d68da8f5d?s=128&d=identicon&r=PG&f=1", "display_name": "pepite", "link": "https://stackoverflow.com/users/7144668/pepite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3327, "favorite_count": 2, "accepted_answer_id": 41305579, "answer_count": 1, "score": 3, "last_activity_date": 1494120238, "creation_date": 1482495537, "last_edit_date": 1494120238, "question_id": 41305578, "link": "https://stackoverflow.com/questions/41305578/how-to-get-ownergroup-name-of-a-file-directory-with-perl", "title": "How to get owner:group name of a file/directory with perl?", "body": "<p>There is a great method to output permissions on Linux and AIX: </p>\n\n<pre><code>0:root@SERVER:/root # perl -e 'printf \"chmod %04o %s\\n\", (stat)[2] &amp; 07777, $_ for @ARGV' /home      \nchmod 0755 /home\n0:root@SERVER:/root #\n</code></pre>\n\n<p>But how to output owner:group? ex.: </p>\n\n<pre><code>0:root@SERVER:/root # perl SOMEMAGIC /home\nchown bin:bin /home\n0:root@SERVER:/root #\n</code></pre>\n\n<p><strong>UPDATE</strong>: currently I almost figured it out, <strong>only help needed that if there is a symlink, it will give root:root</strong>. It should give the owner:group of the symlink!</p>\n\n<pre><code>perl -e '$uid = (stat)[4], $_ for @ARGV; $owner = getpwuid($uid); $gid = (stat)[5], $_ for @ARGV; $group = getgrgid($gid); print \"chown $owner:$group \\\"@ARGV\\\"\\n\"' FILENAMEHERE\n</code></pre>\n\n<p><strong>UPDATE2</strong>: with lstat, it works!</p>\n"}, {"tags": ["php", "perl", "hash"], "comments": [{"owner": {"reputation": 1932, "user_id": 2322941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OCqy9.jpg?s=128&g=1", "display_name": "Stefan Hegny", "link": "https://stackoverflow.com/users/2322941/stefan-hegny"}, "edited": false, "score": 1, "creation_date": 1482486059, "post_id": 41298808, "comment_id": 69800053, "body": "try specifying the full path to <code>perl&#47;test.pl</code>"}, {"owner": {"reputation": 2043, "user_id": 5309012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6Qfu.png?s=128&g=1", "display_name": "Fky", "link": "https://stackoverflow.com/users/5309012/fky"}, "edited": false, "score": 0, "creation_date": 1482486064, "post_id": 41298808, "comment_id": 69800057, "body": "did you try to use <code>shell_exec</code> instead of <code>exec</code> ?"}, {"owner": {"reputation": 11132, "user_id": 2453432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8316bb81f12a04897cd36169fdadfbd9?s=128&d=identicon&r=PG", "display_name": "Magnus Eriksson", "link": "https://stackoverflow.com/users/2453432/magnus-eriksson"}, "edited": false, "score": 1, "creation_date": 1482486067, "post_id": 41298808, "comment_id": 69800059, "body": "Try to use an absolute path when executing the script and make sure that the user, which the system is using to run your PHP, has the correct file permissions."}, {"owner": {"reputation": 63, "user_id": 6413614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wpbim.jpg?s=128&g=1", "display_name": "Luca Sara Czudar", "link": "https://stackoverflow.com/users/6413614/luca-sara-czudar"}, "edited": false, "score": 0, "creation_date": 1482486330, "post_id": 41298808, "comment_id": 69800184, "body": "It runs the script, I don&#39;t need full path; if I write out only a single string or array in my perl, the PHP shows it correctly. I tried to use shell_exec but same output."}, {"owner": {"reputation": 3087, "user_id": 1746942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5N8V.jpg?s=128&g=1", "display_name": "Farkie", "link": "https://stackoverflow.com/users/1746942/farkie"}, "edited": false, "score": 3, "creation_date": 1482486794, "post_id": 41298808, "comment_id": 69800448, "body": "the test.txt needs to be full path&#39;d, as the CWD would be different running through php"}, {"owner": {"reputation": 63, "user_id": 6413614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wpbim.jpg?s=128&g=1", "display_name": "Luca Sara Czudar", "link": "https://stackoverflow.com/users/6413614/luca-sara-czudar"}, "edited": false, "score": 0, "creation_date": 1482486914, "post_id": 41298808, "comment_id": 69800514, "body": "Okay, I got what happened. I needed full path to the file as it tried to open from the folder of the php file. I gave full path and now it&#39;s working. Thank you guys!"}, {"owner": {"reputation": 3087, "user_id": 1746942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5N8V.jpg?s=128&g=1", "display_name": "Farkie", "link": "https://stackoverflow.com/users/1746942/farkie"}, "edited": false, "score": 0, "creation_date": 1482486946, "post_id": 41298808, "comment_id": 69800532, "body": "^^ what I said :)"}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1482517036, "post_id": 41298808, "comment_id": 69815018, "body": "I&#39;m curious as to why you even need to do this? What is Perl doing that you can&#39;t do in PHP?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1482513269, "creation_date": 1482513269, "answer_id": 41305405, "question_id": 41298808, "link": "https://stackoverflow.com/questions/41298808/php-exec-fails-to-recognize-php-hash/41305405#41305405", "title": "PHP exec fails to recognize PHP hash", "body": "<p>To resolve the relative path using the script's dir rather than the current work dir, change</p>\n\n<pre><code>my $filename = 'test.txt';\n</code></pre>\n\n<p>to</p>\n\n<pre><code>use FindBin qw( $RealBin );\n\nmy $filename = \"$RealBin/test.txt\";\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6413614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wpbim.jpg?s=128&g=1", "display_name": "Luca Sara Czudar", "link": "https://stackoverflow.com/users/6413614/luca-sara-czudar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482513269, "creation_date": 1482485847, "last_edit_date": 1482486425, "question_id": 41298808, "link": "https://stackoverflow.com/questions/41298808/php-exec-fails-to-recognize-php-hash", "title": "PHP exec fails to recognize PHP hash", "body": "<p>I'm generating a hash in my Perl file and when I run the script form console everything is fine. If I run the same script via PHP my hash seems to be empty.</p>\n\n<p>In PHP:</p>\n\n<pre><code>exec(\"perl perl/test.pl\", $output);\nprint_r($output);\n</code></pre>\n\n<p>In my Perl file: </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $filename = 'test.txt';\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename);\n\nmy %tc;\n\nwhile (my $row = &lt;$fh&gt;) {\n    chomp $row;\n\n    if ($row =~ /someregex/) {\n        $tc{$1} = $2;\n    }\n\n}\n\nmy $size = keys %tc;\nprint $size;\n\nprint Dumper(\\%tc);\n</code></pre>\n\n<p>When I run it in console it has a size of 1 using this code piece and the dumper shows the right content. When I print it out in PHP it has a size of 0 and gives back an empty array. </p>\n\n<p>The PHP does run the Perl script as if I only give back some simple data, the PHP shows it. </p>\n\n<p>I would appreciate every helping answer. Thanks!</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1482481015, "post_id": 41297609, "comment_id": 69797636, "body": "Why not split with <code>&#47;[@+-]&#47;</code> or even <code>&#47;\\W+&#47;</code>?"}, {"owner": {"reputation": 95, "user_id": 7225696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/88e1f7762ddba8483ef31843a1f92dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Vinodini Natrajan", "link": "https://stackoverflow.com/users/7225696/vinodini-natrajan"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1482481097, "post_id": 41297609, "comment_id": 69797666, "body": "Sorry for missing this out. I need to have elements preceded by &#39;+&#39; in separate list and those preceded by &#39;-&#39; in separate list"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1482482285, "post_id": 41297609, "comment_id": 69798163, "body": "See my answer below."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1482492013, "post_id": 41297609, "comment_id": 69803144, "body": "If you don&#39;t know Perl then this is the wrong place to start learning, and you mustn&#39;t consider Stack Overflow to be a source of free software solutions. However, there are many links in <a href=\"http://stackoverflow.com/tags/perl/info\">Stack Overflow&#39;s <b><i>Perl</i></b> tag information page</a> that would help. Please read them carefully."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482493253, "post_id": 41297846, "comment_id": 69803814, "body": "Regarding your update, yes it produces the required output. But who said that there are only ever &quot;at signs&quot; <code>@</code> at the start of the string? If you&#39;re working only from this one sample then you may as well write <code>say for qw&#47; aaa bbb ccc asd asdfg hhh &#47;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482506768, "post_id": 41297846, "comment_id": 69810335, "body": "<code>&#47;[+-]&#47;</code> a bit cleaner than <code>&#47;\\+|-&#47;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1482506927, "post_id": 41297846, "comment_id": 69810415, "body": "The OP was happy with <code>substr($_, 0, 2)</code>, so even an unconditional <code>shift(@words)</code> should do."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482507329, "post_id": 41297846, "comment_id": 69810623, "body": "Unfortunately, the OP edited his question so this is no longer correct."}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 2, "last_activity_date": 1482507923, "last_edit_date": 1482507923, "creation_date": 1482481916, "answer_id": 41297846, "question_id": 41297609, "link": "https://stackoverflow.com/questions/41297609/create-a-list-of-texts-which-are-separated-by-and/41297846#41297846", "title": "Create a list of texts which are separated by &#39;+&#39; and &#39;-&#39;", "body": "<p>I would use <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> to divide your string on <code>+</code> or <code>-</code> and store each element in an array:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw/ say /;\n\nmy $text = '@@+aaa+bbb+ccc-asd-asdfg+hhh';\n\nmy @words = split(/[+-], $text);\n\nshift @words if $words[0] =~ /^@/;\n\nsay for @words;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 7225696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/88e1f7762ddba8483ef31843a1f92dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Vinodini Natrajan", "link": "https://stackoverflow.com/users/7225696/vinodini-natrajan"}, "edited": false, "score": 0, "creation_date": 1482485988, "post_id": 41297928, "comment_id": 69800022, "body": "This is not working in cases when the text is like this <code>+aaa+bbb+ccc</code>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 3, "creation_date": 1482493754, "post_id": 41297928, "comment_id": 69804087, "body": "@Anyone who chances to see the comment above, see OP&#39;s question: <i>I need to have elements preceded by &#39;+&#39; in separate list and those preceded by &#39;-&#39; in separate list.</i>"}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1482482277, "creation_date": 1482482277, "answer_id": 41297928, "question_id": 41297609, "link": "https://stackoverflow.com/questions/41297609/create-a-list-of-texts-which-are-separated-by-and/41297928#41297928", "title": "Create a list of texts which are separated by &#39;+&#39; and &#39;-&#39;", "body": "<p>You may use 2 regexes to get all chars other than <code>-</code> and <code>+</code> after <code>-</code> and <code>+</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse feature 'say';\n\nmy $text = \"@@+aaa+bbb+ccc-asd-asdfg+hhh\";\n\nmy @lstplus = $text =~ /\\+\\K[^+-]+/g;\nmy @lstminus = $text =~ /-\\K[^+-]+/g;\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/Tw31NQ\" rel=\"nofollow noreferrer\">online Perl demo</a></p>\n\n<p>Here, <code>\\+</code> matches a literal <code>+</code> and <code>-</code> matches a literal <code>-</code>, then <code>\\K</code> omits this symbol from the match and <code>[^+-]+</code> matches and returns a chunk of 1+ chars other than <code>-</code> and <code>+</code>.</p>\n"}], "owner": {"reputation": 95, "user_id": 7225696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/88e1f7762ddba8483ef31843a1f92dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Vinodini Natrajan", "link": "https://stackoverflow.com/users/7225696/vinodini-natrajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 41297928, "answer_count": 2, "score": -4, "last_activity_date": 1483805394, "creation_date": 1482480769, "last_edit_date": 1483805394, "question_id": 41297609, "link": "https://stackoverflow.com/questions/41297609/create-a-list-of-texts-which-are-separated-by-and", "title": "Create a list of texts which are separated by &#39;+&#39; and &#39;-&#39;", "body": "<p>I have a text in following manner</p>\n\n<pre><code>@@+aaa+bbb+ccc-asd-asdfg+hhh\n</code></pre>\n\n<p>I need to separate the text into two lists:</p>\n\n<ul>\n<li>Those starting with <code>+</code>: <code>'aaa', 'bbb', 'ccc', 'hhh'</code></li>\n<li>Those starting with <code>-</code>: <code>'asd', 'asdfg'</code></li>\n</ul>\n\n<p>I did <code>$str = substr($str, 2);</code> to remove the <code>@@</code>.</p>\n"}, {"tags": ["perl", "dirname", "getcwd"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1482507736, "post_id": 41296378, "comment_id": 69810825, "body": "As shown below, <code>use FindBin qw( $RealBin );</code> and do not change directory. Files listed in <code>@ARGV</code> are relative to <code>pwd</code>, not <code>$RealBin</code>."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 4, "last_activity_date": 1482475418, "creation_date": 1482475418, "answer_id": 41296454, "question_id": 41296378, "link": "https://stackoverflow.com/questions/41296378/changing-to-a-directory-and-then-getcwd/41296454#41296454", "title": "Changing to a directory and then getcwd()", "body": "<ul>\n<li><a href=\"http://perldoc.perl.org/Cwd.html#getcwd-and-friends\" rel=\"nofollow noreferrer\">getcwd</a> - Returns the current working directory</li>\n<li><a href=\"http://perldoc.perl.org/functions/chdir.html\" rel=\"nofollow noreferrer\">chdir</a> - Changes the working directory to EXPR</li>\n</ul>\n\n<p>Below example explains it well.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Basename;\nuse Cwd;\n\nmy $scriptDir = dirname($0);\nchdir($scriptDir);\nprint \"First: $scriptDir\\n\";\n$scriptDir =  getcwd();\nprint \"Second: $scriptDir\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>chankeypathak@stackoverflow:~/Desktop$ perl test.pl \nFirst: .\nSecond: /home/chankeypathak/Desktop\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3218, "user_id": 1285655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b3ff3f7a09887e25b9d55a46f998fff?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1285655/matthias"}, "is_accepted": false, "score": 0, "last_activity_date": 1482476424, "last_edit_date": 1482476424, "creation_date": 1482475837, "answer_id": 41296553, "question_id": 41296378, "link": "https://stackoverflow.com/questions/41296378/changing-to-a-directory-and-then-getcwd/41296553#41296553", "title": "Changing to a directory and then getcwd()", "body": "<p>I am not the next perl monger, but I have tried to execute the code you gave with a little script:</p>\n\n<pre><code>#!/usr/bin/perl\n# \n\nuse strict;\nuse File::Basename;\nuse Cwd;\n\nBEGIN {\n  my $scriptDir = dirname($0);\n  print \"scriptDir = $scriptDir\\r\\n\";\n  chdir($scriptDir);\n  $scriptDir =  getcwd();\n  print \"scriptDir = $scriptDir\\r\\n\";\n}\n</code></pre>\n\n<p>And this is what came out:</p>\n\n<pre><code>map@host:~/perltest&gt; ./script.pl \nscriptDir = .\nscriptDir = /home/map/perltest\nmap@host:~/perltest&gt; \n</code></pre>\n\n<p>It looks as if dirname and getcwd make a difference in this case. If however scrip.pl is found in path there is no difference:</p>\n\n<pre><code>map@host:~&gt; cp script.pl ~/bin\nmap@host:~&gt; cd\nmap@host:~&gt; script.pl\nscriptDir = /home/map/bin\nscriptDir = /home/map/bin\nmap@host:~&gt; rm ~/bin\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1574587928, "last_edit_date": 1574587928, "creation_date": 1482476647, "answer_id": 41296733, "question_id": 41296378, "link": "https://stackoverflow.com/questions/41296378/changing-to-a-directory-and-then-getcwd/41296733#41296733", "title": "Changing to a directory and then getcwd()", "body": "<p>The <code>dirname($0)</code> does not return the full path, as <a href=\"https://stackoverflow.com/users/257635/chankey-pathak\">Chankey Pathak</a> and <a href=\"https://stackoverflow.com/users/1285655/matthias\">Matthias</a>\ndemonstrate.</p>\n\n<p>I'd like to add that there are other ways. For example, you can use <a href=\"http://perldoc.perl.org/FindBin.html\" rel=\"nofollow noreferrer\">FindBin</a> (also core)</p>\n\n<pre><code>use FindBin qw($RealBin);\n\nBEGIN: {\n    my ($scriptDir) = $RealBin;\n    chdir $scriptDir             or die \"Can't change to $scriptDir: $!\";\n};\n</code></pre>\n\n<p>The <code>$RealBin</code> gives the same as what you show, except that it is the full path with links resolved. </p>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/chdir.html\" rel=\"nofollow noreferrer\">chdir</a> may fail, thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for the comment. In that case false is returned and the code above dies, adjust as suitable. Note that the questioned third line has nothing to do with this.</p>\n\n<p>This module is also commonly used for relative path to libraries with <a href=\"http://perldoc.perl.org/lib.html\" rel=\"nofollow noreferrer\">lib</a> pragma, for example</p>\n\n<pre><code>use lib \"$RealBin/../lib\";\n</code></pre>\n\n<p>what perhaps makes for an even easier decision to use it for both.</p>\n\n<hr>\n\n<p>Even more, given the <code>dirname</code> description from <a href=\"http://perldoc.perl.org/File/Basename.html\" rel=\"nofollow noreferrer\">File::Basename</a> (original emphasis)</p>\n\n<blockquote>\n  <p>This function is provided for compatibility with the Unix shell command <code>dirname(1)</code> and has inherited some of its quirks.  In spite of its name it does <strong>NOT</strong> always return the directory name as you might expect. To be safe, if you want the directory name of a path use <code>fileparse()</code>.</p>\n</blockquote>\n\n<p>I would rather go even with</p>\n\n<pre><code>use Cwd qw(abs_path);\n\nBEGIN: {\n    my ($scriptDir) = abs_path(__FILE__) =~ m|(.*)/|;\n    chdir $scriptDir             \n        or die \"Can't change to $scriptDir: $!\";\n};\n</code></pre>\n\n<p>where <code>abs_path</code> is used since <code>__FILE__</code> on its own may not provide the full path. The regex greedily scoops everything up to the very last <code>/</code>, that is, the full path to the directory of the script.</p>\n"}], "owner": {"reputation": 186, "user_id": 5563952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e36ad33be49d389bd4ab6dfa6583d25f?s=128&d=identicon&r=PG&f=1", "display_name": "tarunkt", "link": "https://stackoverflow.com/users/5563952/tarunkt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 41296733, "answer_count": 3, "score": 7, "last_activity_date": 1574587928, "creation_date": 1482475034, "question_id": 41296378, "link": "https://stackoverflow.com/questions/41296378/changing-to-a-directory-and-then-getcwd", "title": "Changing to a directory and then getcwd()", "body": "<p>Many of my colleagues use the following commands in their BEGIN block.</p>\n\n<pre><code>$scriptDir = dirname($0);\nchdir($scriptDir);\n$scriptDir =  getcwd();\n</code></pre>\n\n<p>I have looked around and can't help but think that the third line i.e. <code>$scriptDir =  getcwd();</code> is redundant. Because we already have the scriptdir from <code>$scriptDir = dirname($0);</code> .Am I missing something here ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1482476828, "post_id": 41295285, "comment_id": 69795896, "body": "Should a nul character <code>&quot;\\0&quot;</code> be false?  &#39;0&#39; is ASCII 48 and EBCDIC 240; if there were some other encoding where it happened to be 0, would it then be false?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1482507402, "post_id": 41295285, "comment_id": 69810672, "body": "Because <code>0</code> and <code>&#39;0&#39;</code> are equivalent. (The better question is why isn&#39;t <code>&#39;0E0&#39;</code> false. Efficiency?)"}], "answers": [{"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": false, "score": 10, "last_activity_date": 1482468879, "last_edit_date": 1482468879, "creation_date": 1482468449, "answer_id": 41295321, "question_id": 41295285, "link": "https://stackoverflow.com/questions/41295285/why-does-perl-treat-the-string-0-as-false/41295321#41295321", "title": "Why does perl treat the string &quot;0&quot; as false?", "body": "<p>Because it is specified to do so.</p>\n\n<blockquote>\n  <p>The number 0, the strings '0' and '', the empty list \"()\", and \"undef\"\n  are all false in a boolean context. All other values are true.\n  Negation of a true value by \"!\" or \"not\" returns a special false\n  value. When evaluated as a string it is treated as '', but as a number, it is treated as 0.</p>\n</blockquote>\n\n<p>That's the specification. The behavior conforms.</p>\n\n<hr>\n\n<p>As for <em>why</em> the specification is so written -- Perl makes a practice of implicitly converting between strings and numbers, and in this respect does not use ASCII value but decimal value. Treating <code>'0'</code> in the same manner as <code>0</code> in this context is thus consistent with the behavior of allowing <code>'9'+1</code> to return <code>10</code>, rather than <code>':'</code> (the next ASCII value).</p>\n"}], "owner": {"reputation": 75, "user_id": 7333198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34ece592fe858f6fcf881f4cba57da18?s=128&d=identicon&r=PG&f=1", "display_name": "Divya Kiran Kadiyala", "link": "https://stackoverflow.com/users/7333198/divya-kiran-kadiyala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "closed_date": 1482469224, "answer_count": 1, "score": 0, "last_activity_date": 1482468879, "creation_date": 1482468087, "last_edit_date": 1482468371, "question_id": 41295285, "link": "https://stackoverflow.com/questions/41295285/why-does-perl-treat-the-string-0-as-false", "closed_reason": "Duplicate", "title": "Why does perl treat the string &quot;0&quot; as false?", "body": "<p>I found in the text that string <code>'0'</code> is equivalent to <code>0</code>, hence the condition is false in PERL.</p>\n\n<p>But when I looked at the ASCII table '0' is ASCII 48. So why does perl consider string <code>'0'</code> as a value <code>0</code> in this control structure ?</p>\n\n<pre><code>if ('0'){\n        print \"Statement1 \\n\";\n        }\n else {\n        print \"statement2\\n\";\n      }\n</code></pre>\n"}, {"tags": ["regex", "perl", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "edited": false, "score": 0, "creation_date": 1482449237, "post_id": 41293105, "comment_id": 69788970, "body": "<code>s&#47;(.)$&#47;$swap{$1}&#47;e</code>: You probably also want to handle the case where the final character is neither <code>x</code> nor <code>y</code>."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1484266991, "last_edit_date": 1495540391, "creation_date": 1482449054, "answer_id": 41293105, "question_id": 41293024, "link": "https://stackoverflow.com/questions/41293024/swapping-values/41293105#41293105", "title": "swapping values", "body": "<p>You can squeeze it in a line like you show, perhaps a bit nicer with <code>/r</code> (with v5.14+).</p>\n\n<p>Or you can prepare a hash. This also relieves the code from hard-coding particular characters.</p>\n\n<pre><code>my %swap = (x =&gt; 'y', y =&gt; 'x', a =&gt; 'b', b =&gt; 'a');  # expand as needed\n\nmy @test = map { 'test_' . $_ } qw(x y a b Z);\n\nfor my $string (@test)\n{\n    $string =~ s| (.)$ | $swap{$1} // $1 |ex;\n\n    say $string;\n}\n</code></pre>\n\n<p>The <code>//</code> (defined-or) is there to handle the case where the last character isn't in the hash, in which case <code>$swap{$1}</code> returns <code>undef</code>.  Thanks to <a href=\"https://stackoverflow.com/users/4399474/user52889\">user52889</a> for the comment.</p>\n"}, {"comments": [{"owner": {"reputation": 34158, "user_id": 7203016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybAMw.png?s=128&g=1", "display_name": "K. A. Buhr", "link": "https://stackoverflow.com/users/7203016/k-a-buhr"}, "edited": false, "score": 0, "creation_date": 1482449326, "post_id": 41293111, "comment_id": 69789010, "body": "Or use this optimized version: <code>$a =~ s&#47;.$&#47;$&amp;=~y,xy,yx,r&#47;e;</code>.  But only do this if you hate the people who will have to read your code!"}, {"owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "reply_to_user": {"reputation": 34158, "user_id": 7203016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybAMw.png?s=128&g=1", "display_name": "K. A. Buhr", "link": "https://stackoverflow.com/users/7203016/k-a-buhr"}, "edited": false, "score": 2, "creation_date": 1482449401, "post_id": 41293111, "comment_id": 69789030, "body": "Optimised for what? <code>$&amp;</code> has performance penalties on some perls."}, {"owner": {"reputation": 34158, "user_id": 7203016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybAMw.png?s=128&g=1", "display_name": "K. A. Buhr", "link": "https://stackoverflow.com/users/7203016/k-a-buhr"}, "edited": false, "score": 1, "creation_date": 1482449441, "post_id": 41293111, "comment_id": 69789040, "body": "Optimized for infuriating the people who have to read the code, obviously."}], "tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": false, "score": 3, "last_activity_date": 1482449082, "creation_date": 1482449082, "answer_id": 41293111, "question_id": 41293024, "link": "https://stackoverflow.com/questions/41293024/swapping-values/41293111#41293111", "title": "swapping values", "body": "<p>To swap individual characters, you can use <code>tr///</code>.</p>\n\n<p>Not sure what your criteria for cleanliness or ease, but you could even do this inside the right hand side of the substitution:</p>\n\n<pre><code>$xy = \"test_x\" =~ s`([xy])$`$1=~tr/xy/yx/r`re; # $xy is \"test_y\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 10, "last_activity_date": 1482450070, "creation_date": 1482450070, "answer_id": 41293249, "question_id": 41293024, "link": "https://stackoverflow.com/questions/41293024/swapping-values/41293249#41293249", "title": "swapping values", "body": "<p>This is simply:</p>\n\n<pre><code>$a =~ s/x$/y/ or $a =~ s/y$/x/;\n</code></pre>\n\n<p>It's almost always redundant to do a match to see if you should do a substitution.</p>\n\n<p>Another way:</p>\n\n<pre><code>substr($a,-1) =~ y/xy/yx/;\n</code></pre>\n"}], "owner": {"reputation": 758, "user_id": 1586913, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da7fcb41cc4239d92becd95552bd4d03?s=128&d=identicon&r=PG", "display_name": "Subbeh", "link": "https://stackoverflow.com/users/1586913/subbeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 41293249, "answer_count": 3, "score": 5, "last_activity_date": 1484266991, "creation_date": 1482448567, "last_edit_date": 1482448967, "question_id": 41293024, "link": "https://stackoverflow.com/questions/41293024/swapping-values", "title": "swapping values", "body": "<p>I was wondering if there is an easy/clean way of swapping values as follows, perhaps using a single regex/substitution?</p>\n\n<p>If $a ends with \"x\", substitute it with \"y\". And similarly if $a ends with \"y\", swap it with \"x\":</p>\n\n<pre><code>$a = \"test_x\";\n\nif ($a =~ /x$/) {\n  $a =~ s/x$/y/;\n} else {\n  $a =~ s/y$/x/;\n}\n</code></pre>\n\n<p>I can only think of something like this:</p>\n\n<pre><code>$a = $a =~ /x$/ ? s/x$/y/ : s/y$/x/;\n</code></pre>\n"}, {"tags": ["perl", "frameworks", "catalyst"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482439802, "post_id": 41291412, "comment_id": 69785473, "body": "This is a bit broad for SO, but in general you would put it in a model. Make sure it&#39;s all functions, so you can turn them into methods. The output would not be a HTML page any more, but rather a bunch of data that goes into the Stash, and from there would be rendered using a View (probably TT). If you are also creating graphs, those a probably images. You could inline those directly into the page, or provide a Controller that makes them on the fly based on some database id or other arguments. Both of those approaches are preferable over creating files on disk with every request."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482439826, "post_id": 41291412, "comment_id": 69785483, "body": "Are you sure you want a MySQL, or is SQLite enough for you? Depending on your hosting environment, SQLite might be cheaper."}, {"owner": {"reputation": 63, "user_id": 7331889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b283001a43a08753ac4c1f78ae0e093?s=128&d=identicon&r=PG&f=1", "display_name": "sega.dev", "link": "https://stackoverflow.com/users/7331889/sega-dev"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482450615, "post_id": 41291412, "comment_id": 69789360, "body": "Thanks for your advice.So I would convert the actual script into a library of  functions and &#39;use&#39; them in the Model right? I&#39;m thinking about replacing static graphs with SVG using morris.js or so. That should work with your suggestion to create them on the fly. Regarding the database: I&#39;m quite familiar with MySQL and like MySQL Workbench and phpmyadmin. Do you think SQlite is worth giving it a try?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482450633, "post_id": 41291412, "comment_id": 69789367, "body": "You can do that, and use the model as glue. Or you can just move all of it into the model directly."}], "owner": {"reputation": 63, "user_id": 7331889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b283001a43a08753ac4c1f78ae0e093?s=128&d=identicon&r=PG&f=1", "display_name": "sega.dev", "link": "https://stackoverflow.com/users/7331889/sega-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482439536, "creation_date": 1482439536, "question_id": 41291412, "link": "https://stackoverflow.com/questions/41291412/best-practice-to-convert-a-local-script-into-a-catalyst-web-app", "title": "Best practice to convert a local script into a (Catalyst) web app", "body": "<p>I've developed a bioinformatics tool in Perl which runs fine locally. Basically it reads in a text file and some user-defined parameters from CLI. It calculates some values and generates bar graphs. The final report is an HTML file.</p>\n\n<p>To share this functionality with others, I'd like to convert it into a web app. Instead of working with output files, the data will be stored in a MySQL database.<br>\nI tinkered with the Catalyst framework to manage things like user registration/login, input forms and database interaction.</p>\n\n<p>Now what is the best pratice to get the actual business logic (approx. 1,000 lines of code) into the web app? Putting the code in a Catalyst model? Or calling the script out of Catalyst? How would you do it?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 2, "creation_date": 1482440031, "post_id": 41291356, "comment_id": 69785576, "body": "One general way is to invoke another program, like the <code>file</code>command or <code>ffmpeg</code> with the right options or <code>mediainfo</code>, and parse the results.  So it would depend on what tools you have available.  In fact <code>mediainfo</code> can make XML output, so that could be very nice with perl"}, {"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 2, "creation_date": 1482440317, "post_id": 41291356, "comment_id": 69785698, "body": "Or be lazy and get the mediainfo module from CPAN to do it for you.  :)  <a href=\"https://metacpan.org/pod/Mediainfo\" rel=\"nofollow noreferrer\">metacpan.org/pod/Mediainfo</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "edited": false, "score": 0, "creation_date": 1482442732, "post_id": 41291541, "comment_id": 69786738, "body": "This looks great. Can you add the parsing code against mp4? I&#39;m very new to perl. I tried looking here (<a href=\"http://computer-programming-forum.com/53-perl/58bc9d6e94687bd3.htm\" rel=\"nofollow noreferrer\">computer-programming-forum.com/53-perl/58bc9d6e94687bd3.htm</a>&zwnj;&#8203;) with no real answer"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "edited": false, "score": 0, "creation_date": 1482444549, "post_id": 41291541, "comment_id": 69787529, "body": "@jkushner  I added to the post.  But you&#39;ll have to try with <code>find</code> on your system and your files to see its exact output.  It should be exactly like the example I use though."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "edited": false, "score": 0, "creation_date": 1482444713, "post_id": 41291541, "comment_id": 69787585, "body": "im looking to parse the output of the file command which i think is what you meant instead of find command. so for example, if(output has mp4) than we know its an mp4. if(output has avi) than we know its avi"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "edited": false, "score": 0, "creation_date": 1482444751, "post_id": 41291541, "comment_id": 69787597, "body": "@jkushner Oh, sorry ... correcting ... fixed. Thank you!  Yes, that&#39;s how you can do it.  Once you have <code>$ext</code>, you can do <code>if ($ext eq &#39;mp4&#39;) { ... } elsif ($ext eq &#39;avi&#39;) { ... } ...</code>.  There are nicer ways to make that selection, but this is simple and clear."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1482743483, "last_edit_date": 1482743483, "creation_date": 1482440205, "answer_id": 41291541, "question_id": 41291356, "link": "https://stackoverflow.com/questions/41291356/determining-video-extension-in-perl-when-file-has-tmp-extension/41291541#41291541", "title": "Determining video extension in Perl when file has tmp extension", "body": "<p>Clearly, you'll have to look at the file itself.  </p>\n\n<p>The module <a href=\"http://search.cpan.org/~drolsky/File-LibMagic-1.15/lib/File/LibMagic.pm\" rel=\"nofollow noreferrer\">File::LibMagic</a> provides binding for the <code>libmagic</code> library. From documentation</p>\n\n<pre><code>use File::LibMagic;\n\nmy $magic = File::LibMagic-&gt;new();\nmy $info = $magic-&gt;info_from_filename('path/to/file');\n\nprint $info-&gt;{description};  # description, like \"ASCII text\"\nprint $info-&gt;{mime_type};    # MIME type,   like \"text/plain\"\n</code></pre>\n\n<p>However, the library <code>libmagic</code> itself may not be installed.</p>\n\n<p>Another module that may help is <a href=\"http://search.cpan.org/~wohl/File-Properties-0.02/lib/File/Properties.pm\" rel=\"nofollow noreferrer\">File::Properties</a>, geared toward media files.</p>\n\n<p>Finally, if hurdles with compiling modules are too great we can reach for system utilities</p>\n\n<pre><code>my $info = `file $file`;\n</code></pre>\n\n<p>Then parse output for video-related phrases. Or, perhaps use <code>file</code>'s option <code>--mime-type</code>.  </p>\n\n<p>On the file <code>unknown</code>, which I copied form a good <code>.png</code> file</p>\n\n<pre>\n> file --mime-type unknown\n</pre>\n\n<p>returns the line <code>unkown: image/png</code>.  The extension is extracted from here by, for example, </p>\n\n<pre><code>my $info = `file --mime-type $filename`;\n\nmy ($name, $type, $ext) = $info =~ m| ([^:]+) : \\s* ([^/]+) / (.*) |x;\n</code></pre>\n\n<p>The <code>/x</code> allows spaces for readability. The <em>negated character class</em> <code>[^:]+</code> captures everything other than <code>:</code>, so all up to first <code>:</code>. Then <code>[^/]+</code> takes all up to first <code>/</code>.</p>\n\n<p>PLease test <code>file</code> on all of your expected video formats to see exact output.</p>\n"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 1, "accepted_answer_id": 41291541, "answer_count": 1, "score": 2, "last_activity_date": 1482743483, "creation_date": 1482439302, "last_edit_date": 1482447118, "question_id": 41291356, "link": "https://stackoverflow.com/questions/41291356/determining-video-extension-in-perl-when-file-has-tmp-extension", "title": "Determining video extension in Perl when file has tmp extension", "body": "<p>I am performing a video upload using <code>perl</code> and I want to <strong>determine the video extension</strong> when for example the path is like <code>1lmZeK7M.1</code>.</p>\n\n<p>As you can see, the path has <code>.1</code> at the end instead the file extension for a video.</p>\n\n<p>How do I get the file extension for a video in Perl with a file name like above?</p>\n"}, {"tags": ["perl", "cpanm", "plenv"], "comments": [{"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "edited": false, "score": 0, "creation_date": 1482435598, "post_id": 41285807, "comment_id": 69783617, "body": "Can you post the environment variables you have set for plenv? Should be something like: <code>PLENV_PATH=&#39;export PATH=&quot;$HOME&#47;.plenv&#47;bin:$PATH&quot;&#39; PLENV_INIT=&#39;eval &quot;$(plenv init -)&quot;</code>"}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "edited": false, "score": 0, "creation_date": 1483045645, "post_id": 41285807, "comment_id": 69976710, "body": "@interduo sorry, holidays got in the way.  I&#39;ve updated my question to include the relevant <code>%ENV</code>."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "edited": false, "score": 0, "creation_date": 1483047942, "post_id": 41285807, "comment_id": 69977564, "body": "And I&#39;ve now been given a solution, so I posted it as my own answer. Thanks for your help!"}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "edited": false, "score": 0, "creation_date": 1483052265, "post_id": 41285807, "comment_id": 69979073, "body": "Glad you got it sorted out! :)"}], "answers": [{"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": true, "score": 2, "last_activity_date": 1483047878, "creation_date": 1483047878, "answer_id": 41387623, "question_id": 41285807, "link": "https://stackoverflow.com/questions/41285807/why-is-plenv-install-cpanm-installing-to-the-wrong-location/41387623#41387623", "title": "Why is plenv install-cpanm installing to the wrong location?", "body": "<p>I got this sorted with some help from Tatsuhiko Miyagawa.  It turns out that I had switched to the system Perl via <code>plenv</code> and had expected it to handle module installs in the same way that it works for Perls which <code>plenv</code> installs for you.  The solution was just to choose a version of Perl which I had installed earlier via plenv (<code>plenv local 5.24.0</code>) and then to <code>plenv install-cpanm</code>.  Tatsuhiko Miyagawa also pointed out that I'll need to <code>install-cpanm</code> for each version of Perl that I have installed.</p>\n"}], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 0, "accepted_answer_id": 41387623, "answer_count": 1, "score": 5, "last_activity_date": 1483047878, "creation_date": 1482418196, "last_edit_date": 1483045615, "question_id": 41285807, "link": "https://stackoverflow.com/questions/41285807/why-is-plenv-install-cpanm-installing-to-the-wrong-location", "title": "Why is plenv install-cpanm installing to the wrong location?", "body": "<p>Something wacky happened with my plenv setup and I haven't gotten my head around it.</p>\n\n<pre><code>plenv install-cpanm\n% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                             Dload  Upload   Total   Spent    Left  Speed\n100  297k  100  297k    0     0  1571k      0 --:--:-- --:--:-- --:--:-- 1567k\n!\n! Can't write to /Library/Perl/5.18 and /usr/local/bin: Installing modules to /Users/olaf/perl5\n! To turn off this warning, you have to do one of the following:\n!   - run me as a root or with --sudo option (to install to /Library/Perl/5.18 and /usr/local/bin)\n!   - Configure local::lib in your existing shell to set PERL_MM_OPT etc.\n!   - Install local::lib by running the following commands\n!\n!         cpanm --local-lib=~/perl5 local::lib &amp;&amp; eval $(perl -I ~/perl5/lib/perl5/ -Mlocal::lib)\n!\nApp::cpanminus is up to date. (1.7042)\n\n$ plenv which cpanm\nplenv: cpanm: command not found\n\n$ find /Users/olaf | grep bin/cpanm\n/Users/olaf/.cpanm/work/1482416411.97013/App-cpanminus-1.7042/bin/cpanm\n/Users/olaf/.cpanm/work/1482416863.23085/App-cpanminus-1.7042/bin/cpanm\n/Users/olaf/perl5/bin/cpanm\n\n$ find /Users/olaf/.plenv | grep cpanm\n/Users/olaf/.plenv/libexec/plenv-install-cpanm\n/Users/olaf/.plenv/plenv.d/rehash/rehash_cpanm.bash\n</code></pre>\n\n<p>I would expect <code>cpanm</code> to get installed somewhere inside of <code>~/.plenv</code>, but that's just not happening.  I'm guessing something in my dot files/shell setup/<code>$ENV</code> is messed up?</p>\n\n<p>This is what my <code>$ENV</code> looks like:</p>\n\n<pre><code>env | grep PLENV\nPLENV_SHELL=bash\n</code></pre>\n\n<p>Also, the beginning of my <code>PATH</code> is:</p>\n\n<p><code>PATH=/Users/olaf/.plenv/shims:/Users/olaf/.plenv/bin</code></p>\n"}, {"tags": ["regex", "perl", "sed"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1482417824, "post_id": 41285501, "comment_id": 69773142, "body": "so only lines starting with <code>-</code> or <code>*</code> should be considered?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482417984, "post_id": 41285501, "comment_id": 69773234, "body": "Are the pipe characters <code>|</code> really in the file?"}, {"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1482418146, "post_id": 41285501, "comment_id": 69773345, "body": "@Sundeep that&#39;s right!"}, {"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482418157, "post_id": 41285501, "comment_id": 69773353, "body": "@Borodin yes they are."}], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1482419823, "post_id": 41285887, "comment_id": 69774448, "body": "A line with two spaces, like &#171;  * two  spaces  fail      |&#187;  fails. This may not be a problem if the input is known not to have two spaces ever. A more complicate regex will match what the OP stated as the criteria: <code>s{ [-*] .*?  \\s \\K (\\s+) \\| }{ q{.} x length($1) . q{|} }emsx;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1482420947, "post_id": 41285887, "comment_id": 69775295, "body": "@shawnhcorey: I&#39;m not clear what you mean. Your example has only one space between <code>fail</code> and the pipe, which is left as a space. If there were two spaces there then the second one would be changed to a dot."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1482433599, "post_id": 41285887, "comment_id": 69782603, "body": "There are two spaces between &quot;two&quot; and &quot;spaces&quot; and between &quot;spaces&quot; and &quot;fail&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1482486506, "post_id": 41285887, "comment_id": 69800269, "body": "@shawnhcorey: Ah okay. They&#39;re not in the comment, which contains <code>like \\xAB * two spaces fail |\\xBB fails</code>. You should use backticks to delineate space-sensitive text in comments. I left my code that way deliberately, as it was a choice between allowing for multiple spaces before the end of the text and writing something much less intelligible."}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1482489850, "post_id": 41285887, "comment_id": 69802000, "body": "wouldn&#39;t <code>&#47;^.*\\S[ ]\\K([ ]+)&#47;</code> cover the case of multiple spaces too?"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1482504614, "post_id": 41285887, "comment_id": 69809369, "body": "@Borodin I tried backticks; they didn&#39;t work. The formatter didn&#39;t pick up the first one."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1482504643, "post_id": 41285887, "comment_id": 69809386, "body": "@Sundeep Yes but it has a lot of backtracking."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1482418453, "creation_date": 1482418453, "answer_id": 41285887, "question_id": 41285501, "link": "https://stackoverflow.com/questions/41285501/replaces-characters-under-condition/41285887#41285887", "title": "Replaces characters under condition", "body": "<p>This will do as you ask. There's no need to cram everything into a single regex, so I first check to see if the line starts with possible spaces followed by a dash <code>-</code> or a star <code>*</code>, and then convert all trailing spaces apart from the first into the same number of dots <code>.</code> using an <em>expression</em> replacement</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nwhile ( &lt;DATA&gt; ) {\n\n    s/\\S[ ]\\K([ ]+)/ '.' x length $1 /e if /^\\s*[-*]/;\n\n    print;\n}\n\n__DATA__\nTODO LIST:          |\n==========          |\n- item1             |\n    * subitem1.1    |\n    * subitem1.2    |\n                    |\n- item2             |\n    * subitem2.1    |\n    * subitem2.2    |\n                    |\nSome text... blah!  |\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>TODO LIST:          |\n==========          |\n- item1 ............|\n    * subitem1.1 ...|\n    * subitem1.2 ...|\n                    |\n- item2 ............|\n    * subitem2.1 ...|\n    * subitem2.2 ...|\n                    |\nSome text... blah!  |\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1482486784, "post_id": 41286117, "comment_id": 69800438, "body": "This is unnecessarily arcane. There are few people who understand how this works, and even they would take several seconds to comprehend its purpose. You&#39;re welcome to explore the corners of a language, and if you want to become a professional then it&#39;s essential, but there&#39;s no reason to inflict your joy of new discoveries on others who are trying to write maintainable code. I&#39;m pretty certain that the OP @YSC doesn&#39;t understand it and couldn&#39;t fix it if they wanted to, let alone their colleagues who will probably be stumped. This would need copious comments in context to explain its purpose."}], "tags": [], "owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "is_accepted": true, "score": 3, "last_activity_date": 1482492011, "last_edit_date": 1482492011, "creation_date": 1482419179, "answer_id": 41286117, "question_id": 41285501, "link": "https://stackoverflow.com/questions/41285501/replaces-characters-under-condition/41286117#41286117", "title": "Replaces characters under condition", "body": "<p>Another way to do:</p>\n\n<pre><code>$ perl -pe 's/^.*[^ ] (*SKIP)(*F)| /./g if /^\\h*[*-]/' ip.txt \nTODO LIST:          |\n==========          |\n- item1 ............|\n    * subitem1.1 ...|\n    * subitem1.2 ...|\n                    |\n- item2 ............|\n    * subitem2.1 ...|\n    * subitem2.2 ...|\n                    |\nSome text... blah!  |\n</code></pre>\n\n<ul>\n<li><code>if /^\\h*[*-]/</code> only lines of interest</li>\n<li><code>^.*[^ ] (*SKIP)(*F)</code> this pattern (from start of line to last non-space character followed by space character) won't be changed\n\n<ul>\n<li>Further reading: <a href=\"http://www.rexegg.com/backtracking-control-verbs.html#skipfail\" rel=\"nofollow noreferrer\">http://www.rexegg.com/backtracking-control-verbs.html#skipfail</a> and <a href=\"http://www.rexegg.com/regex-best-trick.html\" rel=\"nofollow noreferrer\">http://www.rexegg.com/regex-best-trick.html</a></li>\n</ul></li>\n<li><code>| </code> alternate pattern, these will be replaced with <code>.</code></li>\n<li>use <code>perl -i -pe</code> for in-place editing</li>\n</ul>\n"}], "owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 1, "accepted_answer_id": 41286117, "answer_count": 2, "score": 0, "last_activity_date": 1482492011, "creation_date": 1482417214, "last_edit_date": 1482417606, "question_id": 41285501, "link": "https://stackoverflow.com/questions/41285501/replaces-characters-under-condition", "title": "Replaces characters under condition", "body": "<p>I'm looking for a regular expression to replace a group of spaces by the same number of dots on space groups which fulfill a certain condition.</p>\n\n<p>Test case: replace spaces ending non \"empty\" lines with dots</p>\n\n<pre><code>TODO LIST:          |\n==========          |\n- item1             |\n    * subitem1.1    |\n    * subitem1.2    |\n                    |\n- item2             |\n    * subitem2.1    |\n    * subitem2.2    |\n                    |\nSome text... blah!  |\n</code></pre>\n\n<p>Should be transformed to (please note the space between items and <code>...</code>):</p>\n\n<pre><code>TODO LIST:          |\n==========          |\n- item1 ............|\n    * subitem1.1 ...|\n    * subitem1.2 ...|\n                    |\n- item2 ............|\n    * subitem2.1 ...|\n    * subitem2.2 ...|\n                    |\nSome text... blah!  |\n</code></pre>\n\n<p>I've got the feeling I should use pre- and post-conditions, but I have no idea how. I use <code>sed</code> but <code>perl</code> would be ok.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1482412712, "post_id": 41280103, "comment_id": 69769786, "body": "Note there could be security issues with using the <code>ee</code>  modifier. See for example: <a href=\"http://stackoverflow.com/q/29107353/2173773\">Using the ee modifier safely with the s/// operator when the right side is input from user</a>"}, {"owner": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1482413742, "post_id": 41280103, "comment_id": 69770465, "body": "@H&#229;konH&#230;gland Thanks, though safety issue is not a main concern here. I have full control of the list."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1482414009, "post_id": 41280103, "comment_id": 69770636, "body": "Yes, you think you have control. Suddenly one day a typo sneaks in, and something bad happens."}], "answers": [{"comments": [{"owner": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "edited": false, "score": 0, "creation_date": 1482402266, "post_id": 41280344, "comment_id": 69763301, "body": "It seems <code>qr</code> is not required as my <code>$p</code> can be matched in the second case.  My problem is that both pattern and replacement string are read from file, and the number of <code>$N</code> is unknown, and depends on the number of parenthesis in the pattern string..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "edited": false, "score": 0, "creation_date": 1482404315, "post_id": 41280344, "comment_id": 69764622, "body": "@kangshiyin  Ugh ... I thought there may be more to it.  But then, things do/may depend on details of the replacement.  What do you know about what <code>$r</code> may be?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "edited": false, "score": 0, "creation_date": 1482405016, "post_id": 41280344, "comment_id": 69765078, "body": "@kangshiyin Can you decide how <code>$r</code> is composed in that file? The problem is that <code>$r = &#39;$1&#39;</code> can be double-evaluated -- first <code>$r</code> becomes literal <code>$1</code>, then <code>$1</code> is evaluated.  (This is <code>&#47;ee</code>)  However, <code>$r = &#39;_$1&#39;</code> cannot work that way -- on the second evaluation it will choke on the bareword <code>_</code>.  Well, then we can set <code>$r = &#39;$1&#39;</code> and do <code>s&#47;$p&#47;q(_) . eval $r&#47;ge</code> ... but this requires access to <code>$r</code>, or at least knowledge of what it looks like."}, {"owner": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "edited": false, "score": 0, "creation_date": 1482407674, "post_id": 41280344, "comment_id": 69766759, "body": "Yes, both <code>$p</code> and <code>$r</code> are written by myself. What I need is to do multiple arbitrary regex replacing without touching the perl code, so <code>$p</code> and <code>$r</code> are in a separate data file. I hope this file can be used with C++/python code later. I&#39;ve added some examples of <code>$p</code> and <code>$r</code> in the question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "edited": false, "score": 0, "creation_date": 1482407986, "post_id": 41280344, "comment_id": 69766982, "body": "@kangshiyin Great, this helps, thank you.  I have to go now but will add to the answer in a few hours. Can you please clarify -- is unicode indeed involved? Or do those characters you edited get translated?   Can you also confirm, is <code>$r</code> <i>always</i> of the form <code>$1$2&lt;literal characters&gt;</code>?"}, {"owner": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "edited": false, "score": 0, "creation_date": 1482408230, "post_id": 41280344, "comment_id": 69767138, "body": "I will give more examples. I think it will be an open form. There are unicode involved - I use utf8 in all context. Thanks, please take your time."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "edited": false, "score": 0, "creation_date": 1482441386, "post_id": 41280344, "comment_id": 69786145, "body": "@kangshiyin  Updated to your clarifications and edits, thank you."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1482446879, "post_id": 41280344, "comment_id": 69788285, "body": "<i>&quot;When you do <code>$p=&quot;b(.)d&quot;</code> ...  the parens and dot won&#39;t have the expected meaning&quot;</i> In fact they will. Try for example:  <code>perl -E &#39;$a=&quot;a.c&quot;; $_=&quot;abcd&quot;;s&#47;$a&#47;&#47;;say&#39;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1482447877, "post_id": 41280344, "comment_id": 69788570, "body": "@H&#229;konH&#230;gland  Heh, surprise surprise.  I wonder why parens and dot work, since in general regex patters don&#39;t.  I&#39;ll update now, thank you very much!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1482448646, "post_id": 41280344, "comment_id": 69788805, "body": "@H&#229;konH&#230;gland Fixed, thank you again.  This is a puzzle for me!"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1482449906, "post_id": 41280344, "comment_id": 69789158, "body": "Yeah it&#39;s pretty confusing :) But I think <a href=\"http://stackoverflow.com/a/392717/2173773\">this</a> answer can give some more insight. Also see the documentation for <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a> for what is interpolated."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1482477589, "post_id": 41280344, "comment_id": 69796245, "body": "@H&#229;konH&#230;gland  Yeah -- they helped by reminding me of the whole thing. I myself was for years intent on using single quotes over <code>qr</code>.  Funny how one (I) can forget.  I didn&#39;t realize that what ticked me off  were <i>double</i> quotes. Those I use only when I specifically <i>intend to</i> interpolate, so it pushed me to go overboard.  Thank you!  Also, it&#39;s a good and informative link, I&#39;ll find a way to stick it in the post. I adjusted the explanation a bit further."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 10, "last_activity_date": 1492584207, "last_edit_date": 1495540020, "creation_date": 1482400645, "answer_id": 41280344, "question_id": 41280103, "link": "https://stackoverflow.com/questions/41280103/perl-how-to-use-string-variables-as-search-pattern-and-replacement-in-regex/41280344#41280344", "title": "Perl: how to use string variables as search pattern and replacement in regex", "body": "<p>With <code>$p=\"b(.)d\";</code> you are getting a string with literal characters <code>b(.)d</code>. In general, regex patterns are not preserved in quoted strings and may not have their expected meaning in a regex. However, see <em>Note</em> at the end. </p>\n\n<p>This is what <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">qr operator</a> is for: <code>$p = qr/b(.)d/;</code> forms the string as a regular expression.</p>\n\n<p>As for the replacement part and <code>/ee</code>, the problem is that <code>$r</code> is first evaluated, to yield <code>_$1$1_</code>, which is then evaluated as code. Alas, that is not valid Perl code. The <code>_</code> are barewords and even <code>$1$1</code> itself isn't valid (for example, <code>$1 . $1</code> would be).</p>\n\n<p>The provided examples of <code>$r</code> have <code>$N</code>s mixed with text in various ways. One way to parse this is to extract all <code>$N</code> and all else into a list that maintains their order from the string. Then, that can be processed into a string that will be valid code. For example, we need</p>\n\n<pre><code>'$1_$2$3other'  --&gt;  $1 . '_' . $2 . $3 . 'other'\n</code></pre>\n\n<p>which is valid Perl code that can be evaluated. </p>\n\n<p>The part of breaking this up is helped by <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a>'s capturing in the separator pattern.</p>\n\n<pre><code>sub repl {\n    my ($r) = @_;\n\n    my @terms = grep { $_ } split /(\\$\\d)/, $r;\n\n    return join '.', map { /^\\$/ ? $_ : q(') . $_ . q(') } @terms;\n}\n\n$var =~ s/$p/repl($r)/gee;\n</code></pre>\n\n<p>With capturing <code>/(...)/</code> in <code>split</code>'s pattern, the separators are returned as a part of the list. Thus this extracts from <code>$r</code> an array of terms which are either <code>$N</code> or other, in their original order and with everything (other than trailing whitespace) kept. This includes possible (leading) empty strings so those need be filtered out.</p>\n\n<p>Then every term other than <code>$N</code>s is wrapped in <code>'...'</code>, so when they are all joined by <code>.</code> we get a valid Perl expression, as in the example above.</p>\n\n<p>Then <code>/ee</code> will have this function return the string (such as above), and evaluate it as valid code.</p>\n\n<p>We are told that safety of using <code>/ee</code> on external input is <em>not a concern</em> here. Still, this is something to keep in mind. See <a href=\"https://stackoverflow.com/a/29108544/4653379\">this post</a>, provided by <a href=\"https://stackoverflow.com/users/2173773/h%C3%A5kon-h%C3%A6gland\">H\u00e5kon H\u00e6gland</a> in a comment. Along with the discussion it also directs us to <a href=\"http://search.cpan.org/~rwstauner/String-Substitution-1.002/lib/String/Substitution.pm\" rel=\"nofollow noreferrer\">String::Substitution</a>.  Its use is demonstrated in <a href=\"https://stackoverflow.com/a/41926624/4653379\">this post</a>. Another way to approach this is with <code>replace</code> from <a href=\"http://search.cpan.org/~mauke/Data-Munge-0.096/lib/Data/Munge.pm\" rel=\"nofollow noreferrer\">Data::Munge</a> </p>\n\n<p>For more discussion of <code>/ee</code> see <a href=\"https://stackoverflow.com/questions/392643/how-to-use-a-variable-in-the-replacement-side-of-the-perl-substitution-operator\">this post</a>, with several useful answers.</p>\n\n<hr>\n\n<p><em>Note on using <code>\"b(.)d\"</code> for a regex pattern</em></p>\n\n<p>In this case, with parens and dot, their special meaning is maintained. Thanks to <a href=\"https://stackoverflow.com/users/1957265/kangshiyin\">kangshiyin</a> for an early mention of this, and to <a href=\"https://stackoverflow.com/users/2173773/h%C3%A5kon-h%C3%A6gland\">H\u00e5kon H\u00e6gland</a> for asserting it. However, this is a special case. Double-quoted strings directly deny many patterns since interpolation is done -- for example, <code>\"\\w\"</code> is just an escaped <code>w</code> (what is unrecognized). The <em>single</em> quotes should work, as there is no interpolation. Still, strings intended for use as regex patterns are best formed using <code>qr</code>, as we are getting a true regex. Then all modifiers may be used as well.</p>\n"}], "owner": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1167, "favorite_count": 1, "accepted_answer_id": 41280344, "answer_count": 1, "score": 8, "last_activity_date": 1492584207, "creation_date": 1482399872, "last_edit_date": 1482408056, "question_id": 41280103, "link": "https://stackoverflow.com/questions/41280103/perl-how-to-use-string-variables-as-search-pattern-and-replacement-in-regex", "title": "Perl: how to use string variables as search pattern and replacement in regex", "body": "<p>I want to use string variables for both search pattern and replacement in regex. The expected output is like this,</p>\n\n<pre><code>$ perl -e '$a=\"abcdeabCde\"; $a=~s/b(.)d/_$1$1_/g; print \"$a\\n\"'\na_cc_ea_CC_e\n</code></pre>\n\n<p>But when I moved the pattern and replacement to a variable, <code>$1</code> was not evaluated.</p>\n\n<pre><code>$ perl -e '$a=\"abcdeabCde\"; $p=\"b(.)d\"; $r=\"_\\$1\\$1_\"; $a=~s/$p/$r/g; print \"$a\\n\"'\na_$1$1_ea_$1$1_e\n</code></pre>\n\n<p>When I use \"ee\" modifier, it gives errors.</p>\n\n<pre><code>$ perl -e '$a=\"abcdeabCde\"; $p=\"b(.)d\"; $r=\"_\\$1\\$1_\"; $a=~s/$p/$r/gee; print \"$a\\n\"'\nScalar found where operator expected at (eval 1) line 1, near \"$1$1\"\n    (Missing operator before $1?)\nBareword found where operator expected at (eval 1) line 1, near \"$1_\"\n    (Missing operator before _?)\nScalar found where operator expected at (eval 2) line 1, near \"$1$1\"\n    (Missing operator before $1?)\nBareword found where operator expected at (eval 2) line 1, near \"$1_\"\n    (Missing operator before _?)\naeae\n</code></pre>\n\n<p>What do I miss here?</p>\n\n<hr>\n\n<h2>Edit</h2>\n\n<p>Both <code>$p</code> and <code>$r</code> are written by myself. What I need is to do multiple similar regex replacing without touching the perl code, so <code>$p</code> and <code>$r</code> have to be in a separate data file. I hope this file can be used with C++/python code later.\nHere are some examples of <code>$p</code> and <code>$r</code>.</p>\n\n<pre><code>^(.*\\D)?((19|18|20)\\d\\d)\u5e74   $1$2&lt;digits&gt;\u5e74\n^(.*\\D)?(0\\d)\u5e74  $1$2&lt;digits&gt;\u5e74\n([TKZGD])(\\d+)/(\\d+)([^\\d/])    $1$2&lt;digits&gt;$3&lt;digits&gt;$4\n([^/TKZGD\\d])(\\d+)/(\\d+)([^/\\d])    $1$3\u5206\u4e4b$2$4\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1482399922, "post_id": 41280006, "comment_id": 69761784, "body": "The code implicitly uses <code>@str</code>, by doing <code>$str[$indexOfSub...]</code>.  Clearly, the program and how the sub are used aren&#39;t the same, perhaps by having <code>use strict;</code> in whatever drives the sub.  Please add <code>use strict;</code> and declare everything.  And <i>absolutely</i> <code>use warings;</code>."}, {"owner": {"reputation": 23, "user_id": 7103305, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UnYsyiWm7X4/AAAAAAAAAAI/AAAAAAAAAIk/j-WNajn-XoA/photo.jpg?sz=128", "display_name": "Fruling", "link": "https://stackoverflow.com/users/7103305/fruling"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482400847, "post_id": 41280006, "comment_id": 69762409, "body": "zdim, thank you :) your answer was not a solution, but it made this issue clearer. I&#39;ve added use scrict, caught the same error in program. Now I understood that my code was incorrect syntactically (I incorrectly addressed letters of the line), so it was required to replace it with it only"}, {"owner": {"reputation": 23, "user_id": 7103305, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UnYsyiWm7X4/AAAAAAAAAAI/AAAAAAAAAIk/j-WNajn-XoA/photo.jpg?sz=128", "display_name": "Fruling", "link": "https://stackoverflow.com/users/7103305/fruling"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1482400904, "post_id": 41280006, "comment_id": 69762458, "body": "so it was required to replace <code>$str[$indexOfSub + length($substr)]==&#39;?&#39;</code>  with <code>substr($str, $indexOfSub + length($substr), 1)==&#39;?&#39;</code> only"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482402339, "post_id": 41280006, "comment_id": 69763342, "body": "Yep, got it after I saw Sobrique&#39;s answer :)"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482401045, "post_id": 41280401, "comment_id": 69762542, "body": "Ah, a nice catch :)"}, {"owner": {"reputation": 23, "user_id": 7103305, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UnYsyiWm7X4/AAAAAAAAAAI/AAAAAAAAAIk/j-WNajn-XoA/photo.jpg?sz=128", "display_name": "Fruling", "link": "https://stackoverflow.com/users/7103305/fruling"}, "edited": false, "score": 0, "creation_date": 1482401525, "post_id": 41280401, "comment_id": 69762843, "body": "YES! Yes it is :) Thank you very much"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1482413335, "post_id": 41280401, "comment_id": 69770189, "body": "<code>$containsSub = $str =~ m&#47;\\b\\Q$substr\\E\\b&#47;</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1482401780, "last_edit_date": 1482401780, "creation_date": 1482400814, "answer_id": 41280401, "question_id": 41280006, "link": "https://stackoverflow.com/questions/41280006/global-symbol-str-requires-explicit-package-name/41280401#41280401", "title": "Global symbol &quot;@str&quot; requires explicit package name", "body": "<p>It's because perl strings aren't arrays of characters like they are in some languages. </p>\n\n<p>Thus <code>$str[3]</code> is not a valid way of accessing <code>$str</code>. But rather, it would access the 3rd element of <code>@str</code> which doesn't exist and hasn't been declared, hence the warnings. </p>\n\n<p>If you wish to work with strings by offset, then you need <code>substr</code>. Or <code>my @chars_in_str = split //, $str;</code></p>\n\n<p>More broadly though - this looks like a rather filthy way to try and regex match.</p>\n\n<p>I'd suggest what you <em>actually</em> want to do is:</p>\n\n<pre><code>if ( $str =~ m/\\b$substr\\b/ ) { \n    $containsSub = 1;\n}\n</code></pre>\n\n<p><code>\\b</code> is perl-regex for 'word boundary', and so will match things with punctuation or spaces, although it's not <em>strictly</em> equivalent to what you're doing (there's a whole bunch more punctuation that'll 'work'). </p>\n\n<p>You should also note - if <code>$substr</code> contains meta characters, they'll work like regex modifiers. To avoid that, you'd need <code>\\b\\Q$substr\\E\\b</code> which turns off metachar processing. </p>\n"}], "owner": {"reputation": 23, "user_id": 7103305, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UnYsyiWm7X4/AAAAAAAAAAI/AAAAAAAAAIk/j-WNajn-XoA/photo.jpg?sz=128", "display_name": "Fruling", "link": "https://stackoverflow.com/users/7103305/fruling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 41280401, "answer_count": 1, "score": 2, "last_activity_date": 1482401780, "creation_date": 1482399567, "question_id": 41280006, "link": "https://stackoverflow.com/questions/41280006/global-symbol-str-requires-explicit-package-name", "title": "Global symbol &quot;@str&quot; requires explicit package name", "body": "<p>I'm new with Perl, and I've faced this problem:</p>\n\n<pre><code>Global symbol \"@str\" requires explicit package name (did you forget to declare \"my @str\"?) at F:\\Distrib\\LingUtils9\\Scripts\\CompareLists\\CompareLists.pl line 167\n</code></pre>\n\n<p>A piece of code, that causes this message, works as a programm, but does not work as a sub. Here it is:</p>\n\n<pre><code> my $containsSub = 0;\nmy $str = \"This is a string!\";\nmy $substr = \"string\";\nmy $indexOfSub = index($str, $substr);\nif ($indexOfSub != -1)\n{\n    if (length($substr)==length($str))\n    {\n            $containsSub = 1;\n    }\n    elsif (($indexOfSub == 0)&amp;&amp;(($str[$indexOfSub + length($substr)]=='?')||($str[$indexOfSub + length($substr)]=='!')||($str[$indexOfSub + length($substr)]=='.')||($str[$indexOfSub + length($substr)]==' ')||($str[$indexOfSub + length($substr)]=='\\t')))\n    {\n            $containsSub = 1;\n    }\n    elsif ((length($str) == $indexOfSub + length($substr))&amp;&amp;(($str[$indexOfSub-1]=='.')||($str[$indexOfSub-1]==' ')||($str[$indexOfSub-1]=='\\t')||($str[$indexOfSub-1]=='?')||($str[$indexOfSub-1]=='.')||($str[$indexOfSub-1]=='!')))\n    {\n            $containsSub = 1;\n    }\n    elsif ((($str[$indexOfSub-1]=='?')||($str[$indexOfSub-1]=='!')||($str[$indexOfSub-1]=='.')||($str[$indexOfSub-1]==' ')||($str[$indexOfSub-1]=='\\t'))||(($str[$indexOfSub+length($substr)]=='?')||($str[$indexOfSub+length($substr)]=='!')||($str[$indexOfSub+length($substr)]=='.')||($str[$indexOfSub+length($substr)]==' ')||($str[$indexOfSub+length($substr)]=='\\t')))\n    {\n            $containsSub = 1;\n    }\n}\nprint $containsSub;\n</code></pre>\n\n<p>It is very primitive verification of the contents of the subline in line, and it works fine. But this (just copypaste):</p>\n\n<pre><code>sub containsKey \n{\n    my $containsSub = 0;\n    my $str = \"This is a string!\";\n    my $substr = \"string\";\n    my $indexOfSub = index($str, $substr);\n    if ($indexOfSub != -1)\n    {\n        if (length($substr)==length($str))\n        {\n            $containsSub = 1;\n        }\n        elsif (($indexOfSub == 0)&amp;&amp;(($str[$indexOfSub + length($substr)]=='?')||($str[$indexOfSub + length($substr)]=='!')||($str[$indexOfSub + length($substr)]=='.')||($str[$indexOfSub + length($substr)]==' ')||($str[$indexOfSub + length($substr)]=='\\t')))\n        {\n            $containsSub = 1;\n        }\n        elsif ((length($str) == $indexOfSub + length($substr))&amp;&amp;(($str[$indexOfSub-1]=='.')||($str[$indexOfSub-1]==' ')||($str[$indexOfSub-1]=='\\t')||($str[$indexOfSub-1]=='?')||($str[$indexOfSub-1]=='.')||($str[$indexOfSub-1]=='!')))\n        {\n            $containsSub = 1;\n        }\n        elsif ((($str[$indexOfSub-1]=='?')||($str[$indexOfSub-1]=='!')||($str[$indexOfSub-1]=='.')||($str[$indexOfSub-1]==' ')||($str[$indexOfSub-1]=='\\t'))||(($str[$indexOfSub+length($substr)]=='?')||($str[$indexOfSub+length($substr)]=='!')||($str[$indexOfSub+length($substr)]=='.')||($str[$indexOfSub+length($substr)]==' ')||($str[$indexOfSub+length($substr)]=='\\t')))\n        {\n            $containsSub = 1;\n        }\n    }\n    return $containsSub;\n}\nmy $keyContains = containsKey();\n\nprint $keyContains;\n</code></pre>\n\n<p>makes this output in command line</p>\n\n<pre><code>Global symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n3.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n3.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n3.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n3.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n3.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n7.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n7.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n7.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n7.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n7.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 16\n7.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 17\n1.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 17\n1.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 17\n1.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 17\n1.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 17\n1.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 17\n1.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 17\n1.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 17\n1.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 17\n1.\nGlobal symbol \"@str\" requires explicit package name (did you forget to declare \"\nmy @str\"?) at \\Compare.pl line 17\n1.\nExecution of \\Compare.pl aborted\ndue to compilation errors.\n</code></pre>\n\n<p>And I just can't understand what can it be.</p>\n"}, {"tags": ["bash", "perl", "shell"], "comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1482386801, "post_id": 41276688, "comment_id": 69754934, "body": "Are the bold parts the pattern in question?"}, {"owner": {"reputation": 25, "user_id": 2081742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe7dd8d866636e5c04bef0f4556e1e4?s=128&d=identicon&r=PG", "display_name": "HPLoh", "link": "https://stackoverflow.com/users/2081742/hploh"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1482386895, "post_id": 41276688, "comment_id": 69754959, "body": "yes, the bold parts is the patterns"}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1482387017, "post_id": 41276688, "comment_id": 69754996, "body": "What is your expected output?"}, {"owner": {"reputation": 25, "user_id": 2081742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe7dd8d866636e5c04bef0f4556e1e4?s=128&d=identicon&r=PG", "display_name": "HPLoh", "link": "https://stackoverflow.com/users/2081742/hploh"}, "edited": false, "score": 0, "creation_date": 1482387413, "post_id": 41276688, "comment_id": 69755145, "body": "expected output is it will send email to support with the log information contain username and the match pattern (the entire line of the log which mean the 3 line)"}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1482387414, "post_id": 41276688, "comment_id": 69755146, "body": "@HPLoh: You want those lines having all the above patterns in the same line?"}, {"owner": {"reputation": 4222, "user_id": 2072269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xNPjb.png?s=128&g=1", "display_name": "muru", "link": "https://stackoverflow.com/users/2072269/muru"}, "edited": false, "score": 1, "creation_date": 1482387458, "post_id": 41276688, "comment_id": 69755163, "body": "Instead of bolding parts of text, use code formatting (<a href=\"http://stackoverflow.com/help/formatting\">stackoverflow.com/help/formatting</a>) to show the <i>exact</i> input text and the output you expect, please."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1482387704, "post_id": 41276688, "comment_id": 69755260, "body": "@HPLoh  So, the whole text you show should be found in the log for it to match. Then, per the question &quot;<i>... give me some idea on how to ...</i>&quot;, here is the idea.  (1) Open the file with the log.  (2a) Read the whole file into a variable (<i>slurp</i> it), if it isn&#39;t too large, and write a regex which looks for the bolded patterns, separated by other text and newlines.  //  OR // (2b) Read the file line by line, set a flag when it runs into the first bolded pattern and then keep checking for others.  Unset the flag as suitable.  //  Can you try some of this and post what you have?"}, {"owner": {"reputation": 25, "user_id": 2081742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe7dd8d866636e5c04bef0f4556e1e4?s=128&d=identicon&r=PG", "display_name": "HPLoh", "link": "https://stackoverflow.com/users/2081742/hploh"}, "reply_to_user": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1482387781, "post_id": 41276688, "comment_id": 69755297, "body": "@Inian those output can in 3 separate line. The important output that we want is we can contact the person (username) and inform him/her about the sorting issue."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482387797, "post_id": 41276688, "comment_id": 69755302, "body": "@HPLoh  Can you please show something that you have done or tried?"}, {"owner": {"reputation": 25, "user_id": 2081742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe7dd8d866636e5c04bef0f4556e1e4?s=128&d=identicon&r=PG", "display_name": "HPLoh", "link": "https://stackoverflow.com/users/2081742/hploh"}, "reply_to_user": {"reputation": 4222, "user_id": 2072269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xNPjb.png?s=128&g=1", "display_name": "muru", "link": "https://stackoverflow.com/users/2072269/muru"}, "edited": false, "score": 0, "creation_date": 1482387871, "post_id": 41276688, "comment_id": 69755331, "body": "@muru sorry, i m new to this, please advise what kind of formatting for this ?"}, {"owner": {"reputation": 25, "user_id": 2081742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe7dd8d866636e5c04bef0f4556e1e4?s=128&d=identicon&r=PG", "display_name": "HPLoh", "link": "https://stackoverflow.com/users/2081742/hploh"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482388284, "post_id": 41276688, "comment_id": 69755498, "body": "@zdim i m new on writting script. At the first time, I m just running the simple grep command as cron task, grep -i &quot;issueTable Lucene boolean Query&quot; logfilename and it will send email to support if able to grep the pattern. This trigger a lot false alert. After monitor the log, it seem it need to come together in the sequence as provided in my Question. I have no idea how to write yet."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482415117, "post_id": 41276688, "comment_id": 69771384, "body": "@HPLoh: Please read <a href=\"http://stackoverflow.com/help/formatting\"><i>How do I format my posts using Markdown or HTML?</i></a> for information about formatting your Stack Overflow posts."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 2081742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe7dd8d866636e5c04bef0f4556e1e4?s=128&d=identicon&r=PG", "display_name": "HPLoh", "link": "https://stackoverflow.com/users/2081742/hploh"}, "edited": false, "score": 0, "creation_date": 1482393622, "post_id": 41277608, "comment_id": 69758087, "body": "Thanks for the answer. The Http-thread, session ID is a unknown value. Each user login will have different httpd-thread and session ID. From your answer, it look for by fix value? Thanks!"}, {"owner": {"reputation": 46, "user_id": 7327060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b1d8c43cc669621040ba9682cc9bcf?s=128&d=identicon&r=PG&f=1", "display_name": "DR.AhmedAmer", "link": "https://stackoverflow.com/users/7327060/dr-ahmedamer"}, "reply_to_user": {"reputation": 25, "user_id": 2081742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe7dd8d866636e5c04bef0f4556e1e4?s=128&d=identicon&r=PG", "display_name": "HPLoh", "link": "https://stackoverflow.com/users/2081742/hploh"}, "edited": false, "score": 0, "creation_date": 1482394362, "post_id": 41277608, "comment_id": 69758447, "body": "Yes it is fixed by you can change that by removing the non static parts , like(numbers after ID ) and start  /http-threadID001/p wiht ^ so it would look like this /^http-threadID/p"}], "tags": [], "owner": {"reputation": 46, "user_id": 7327060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b1d8c43cc669621040ba9682cc9bcf?s=128&d=identicon&r=PG&f=1", "display_name": "DR.AhmedAmer", "link": "https://stackoverflow.com/users/7327060/dr-ahmedamer"}, "is_accepted": false, "score": 1, "last_activity_date": 1485968907, "last_edit_date": 1485968907, "creation_date": 1482390780, "answer_id": 41277608, "question_id": 41276688, "link": "https://stackoverflow.com/questions/41276688/script-to-grep-pattern-in-the-log/41277608#41277608", "title": "Script to grep pattern in the log", "body": "<pre><code> awk 'BEGIN{FS=\" \"}{print $0}' logfilename  |sed  -n '/http-threadID001/p; \n /same sessionID1/p ; \n / issueTable JQL sorts:/p; \n /&lt;\"custom:\"customfield_10270\"/p; \n /issue Table Lucene boolean Query/p'&gt; file.tmp \n\nmailx -s \"Subject\" mailaddress &lt;file.tmp\nrm file.tmp\n</code></pre>\n\n<p>I hope this is what you need</p>\n"}], "owner": {"reputation": 25, "user_id": 2081742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe7dd8d866636e5c04bef0f4556e1e4?s=128&d=identicon&r=PG", "display_name": "HPLoh", "link": "https://stackoverflow.com/users/2081742/hploh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1485969096, "creation_date": 1482386643, "last_edit_date": 1592644375, "question_id": 41276688, "link": "https://stackoverflow.com/questions/41276688/script-to-grep-pattern-in-the-log", "title": "Script to grep pattern in the log", "body": "<p>I want to write a shell script or perl script to look for the below pattern from the log:</p>\n<p>Example pattern that I look into from the log as below:</p>\n<blockquote>\n<p>2016-11-21 04:46:30,491 <strong>http-threadID001</strong> username 286x64823x2 <strong>sessionID1</strong> 10.95.41.89,129.160.54.165,127.0.0.1 /rest/issueNav/1/issueTable JQL lucene query: <em>:</em></p>\n<p>2016-11-21 04:46:30,492 <strong>http-threadID001</strong> username 286x64823x2 <strong>sessionID1</strong>  10.95.41.89,129.160.54.165,127.0.0.1 /rest/issueNav/1/<strong>issueTable JQL sorts: [&lt;&quot;custom:&quot;customfield_10270&quot;</strong>:com.atlassian.jira.issue.search.parameters.lucene.sort.DocumentSortComparatorSource@d6f17821&quot;&gt; ]</p>\n<p>2016-11-21 04:46:30,492 <strong>http-threadID001</strong> username 286x64823x2 <strong>sessionID1</strong>  10.95.41.89,129.160.54.165,127.0.0.1 /rest/issueNav/1/<strong>issueTable Lucene boolean Query:<em>:</em></strong></p>\n</blockquote>\n<p>If match the pattern same http-threadID001, and same sessionID1, and with the issueTable JQL sorts:&lt;&quot;custom:&quot;customfield_10270&quot; and last with the issue Table Lucene boolean Query from the log, then it will email to support@blabla.com</p>\n<p>This script will be set in unix crontask and probably run for every 1minutes.</p>\n<p>Can anyone give me some idea on how to write this script? Thanks!</p>\n"}, {"tags": ["html", "xml", "perl", "pdf"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482392308, "post_id": 41276101, "comment_id": 69757436, "body": "Please include the html, or create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of html. We need to be able to try to help debug this."}, {"owner": {"reputation": 11, "user_id": 7328683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e42e6e554e930ba4bcbe52617831920?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Ceballos", "link": "https://stackoverflow.com/users/7328683/alejandro-ceballos"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482420831, "post_id": 41276101, "comment_id": 69775218, "body": "Html generated via Template <a href=\"http://www.etoxica.com/examplecode.html\" rel=\"nofollow noreferrer\">etoxica.com/examplecode.html</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482434232, "post_id": 41276101, "comment_id": 69782943, "body": "Did you look at line 19? What&#39;s character 13? Is it obvious how it is malformed?"}, {"owner": {"reputation": 11, "user_id": 7328683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e42e6e554e930ba4bcbe52617831920?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Ceballos", "link": "https://stackoverflow.com/users/7328683/alejandro-ceballos"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482436614, "post_id": 41276101, "comment_id": 69784055, "body": "Line 19 char 13 s the &#39;!&#39; in the comment &lt;!-- proyecto --&gt; in the template; or the &#39;/&#39; in tag &lt;/td&gt; on resulting code."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7328683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e42e6e554e930ba4bcbe52617831920?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Ceballos", "link": "https://stackoverflow.com/users/7328683/alejandro-ceballos"}, "is_accepted": false, "score": 1, "last_activity_date": 1482455105, "creation_date": 1482455105, "answer_id": 41293867, "question_id": 41276101, "link": "https://stackoverflow.com/questions/41276101/convert-from-htmltemplate-to-pdffromhtml-says-invalid-xml/41293867#41293867", "title": "Convert from HTML::Template to PDF:FromHtml says invalid XML", "body": "<p>Summary: Found the problem (I guess) ;)</p>\n\n<p>Consider the following lines:</p>\n\n<pre><code>&lt;td&gt;\n    Some line of data\n    &lt;br/&gt;\n    A second line of data\n&lt;/td&gt;\n</code></pre>\n\n<p>When try to be read by PDF::FromHTML it will send a message of malformed token in the 5th line, specifically on the slash '/' from <code>&lt;/td&gt;</code> tag; BUT, that is not the problem, the problem is created by the <code>&lt;br/&gt;</code> tag inside the <code>&lt;td&gt;&lt;/td&gt;</code>.</p>\n\n<p>If it is changed to <code>&lt;br&gt;</code> or <code>&lt;br /&gt;</code> no error is found. I don't know if using <code>&lt;br&gt;</code> is a good html practice to xml compability, even is defined as it <a href=\"https://www.w3.org/TR/html5/text-level-semantics.html#the-br-element\" rel=\"nofollow noreferrer\">w3c br semantic</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 7328683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e42e6e554e930ba4bcbe52617831920?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Ceballos", "link": "https://stackoverflow.com/users/7328683/alejandro-ceballos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482455105, "creation_date": 1482383169, "last_edit_date": 1482426078, "question_id": 41276101, "link": "https://stackoverflow.com/questions/41276101/convert-from-htmltemplate-to-pdffromhtml-says-invalid-xml", "title": "Convert from HTML::Template to PDF:FromHtml says invalid XML", "body": "<p>I create an HTML file using HTML::Template. The resulting code is a valid XML/HTML (check against a xml validator). But while convert to pdf using PDF::FromHTML a message of \"invalid token in xml file\" is found.</p>\n\n<p>Trying changing the first declaration line from doctype to xml, or supressing, but nothing works. XML::Simple, PDF:API2, XML::Writer are last version.</p>\n\n<p>Ay idea what is happening?</p>\n\n<pre><code># create template object and store to verify\n   shout('s',\"create template from $str_filepath\") if ($bool_DEBUG);\n    $str_mytemplate =  HTML::Template-&gt;new(filename =&gt; $str_filepath, case_sensitive =&gt; 0, no_includes =&gt; 1  ); \n    $str_mytemplate-&gt;param(\\%strct_toreplace);\n    $str_filepath =  envDir('temp').newID().'.html'; \n    shout('',\"template created, storing to : $str_filepath\") if ($bool_DEBUG);\n    if (open(FILE, '&gt;', $str_filepath)) {\n        print FILE $str_mytemplate-&gt;output;\n        close (FILE);\n        }\n# generate pdf from created file\n    shout('p',\"Creating PDF \") if ($bool_DEBUG);\n    $pdf_this = PDF::FromHTML-&gt;new( encoding =&gt; 'utf-8' ); \n    $pdf_this-&gt;load_file($str_filepath); \n    $pdf_this-&gt;convert( LineHeight =&gt; 10, Landscape =&gt; 1, PageSize =&gt; 'Letter', );    \n    shout('p',\"Display PDF\") if ($bool_DEBUG);  \n    print header(-type=&gt;'application/pdf', -charset=&gt;'UTF-8'); \n    print $pdf_this-&gt;write_file();\n</code></pre>\n\n<ul>\n<li>$bool_DEBUG and shout(); are a variable and procedure to set and display messages while debugging mode. </li>\n<li>Html code generated via template: <a href=\"http://www.etoxica.com/examplecode.html\" rel=\"nofollow noreferrer\">http://www.etoxica.com/examplecode.html</a></li>\n<li>Template used: <a href=\"http://www.etoxica.com/exampletemplate.tmpl\" rel=\"nofollow noreferrer\">http://www.etoxica.com/exampletemplate.tmpl</a></li>\n<li>Message displayed:</li>\n</ul>\n\n<p>SECTION: Creating PDF\nSoftware error:\nnot well-formed (invalid token) at line 19, column 13, byte 430 at /usr/local/lib64/perl5/XML/Parser.pm line 187.\n at /home/grupo/perl/usr/share/perl5/PDF/FromHTML.pm line 141.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482399424, "post_id": 41275586, "comment_id": 69761460, "body": "Might be you couldn&#39;t open the word file without OLE in using perl."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482399392, "post_id": 41275781, "comment_id": 69761439, "body": "Only Excel document."}, {"owner": {"reputation": 681, "user_id": 3510773, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/up9pt.jpg?s=128&g=1", "display_name": "Newbie", "link": "https://stackoverflow.com/users/3510773/newbie"}, "edited": false, "score": 0, "creation_date": 1483169336, "post_id": 41275781, "comment_id": 70015720, "body": "Thanks man, I just need to read MS word document and write it in a excel document for importing it to database. My source in MS word document is about 1000 file and it&#39;s a nightmare job..."}], "tags": [], "owner": {"reputation": 46, "user_id": 691584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb1ddfe07aa4245fa68c200c6f388d1?s=128&d=identicon&r=PG", "display_name": "Mohan Gutta", "link": "https://stackoverflow.com/users/691584/mohan-gutta"}, "is_accepted": false, "score": 3, "last_activity_date": 1482557232, "last_edit_date": 1482557232, "creation_date": 1482380745, "answer_id": 41275781, "question_id": 41275586, "link": "https://stackoverflow.com/questions/41275586/read-write-ms-office-documentexcel-word-without-ole-in-perl/41275781#41275781", "title": "Read/write MS office document(excel,word) without OLE in perl", "body": "<p>You can use <code>Spreadsheet::ParseExcel</code> to read MS excel files, <code>Spreadsheet::WriteExcel</code> for writing MS excel files.\nFor more info please refer to links below.</p>\n\n<p><a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Spreadsheet::WriteExcel</a>\n<a href=\"https://metacpan.org/pod/Spreadsheet::ParseExcel\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Spreadsheet::ParseExcel</a></p>\n\n<p>For writing MS word documents (RTF, .doc formats only) you can try using RTF::Writer\nMore details here <a href=\"https://metacpan.org/pod/distribution/RTF-Writer/lib/RTF/Writer.pm\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/distribution/RTF-Writer/lib/RTF/Writer.pm</a></p>\n\n<pre><code>use RTF::Writer;\nmy $rtf = RTF::Writer-&gt;new_to_file(\"greetings.rtf\");\n$rtf-&gt;prolog( 'title' =&gt; \"Greetings, hyoomon\" );\n$rtf-&gt;number_pages;\n$rtf-&gt;paragraph(\n  \\'\\fs40\\b\\i',  # 20pt, bold, italic\n  \"Hi there!\"\n);\n$rtf-&gt;close;\n\nmy $doc = RTF::Writer-&gt;new_to_file(\"greetings.doc\");\n$doc-&gt;prolog( 'title' =&gt; \"Greetings, hyoomon\" );\n$doc-&gt;number_pages;\n$doc-&gt;paragraph(\n  \\'\\fs40\\b\\i',  # 20pt, bold, italic\n  \"Hi there!\"\n);\n$doc-&gt;close;\n</code></pre>\n\n<p>For reading MS word documents, you can use Text::Extract::Word\n<a href=\"https://metacpan.org/pod/Text::Extract::Word\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Text::Extract::Word</a></p>\n\n<pre><code># object-based interface\nuse Text::Extract::Word;\nmy $file = Text::Extract::Word-&gt;new(\"test1.doc\");\nmy $text = $file-&gt;get_text();\nmy $body = $file-&gt;get_body();\nmy $footnotes = $file-&gt;get_footnotes();\nmy $headers = $file-&gt;get_headers();\nmy $annotations = $file-&gt;get_annotations();\nmy $bookmarks = $file-&gt;get_bookmarks();\n\n# specify :raw if you don't want the text cleaned\nmy $raw = $file-&gt;get_text(':raw');\n\n# legacy interface\nuse Text::Extract::Word qw(get_all_text);\nmy $text = get_all_text(\"test1.doc\");\n</code></pre>\n\n<p>Please note RTF::Writer or Text::Extract::Word won't work for .docx extension.</p>\n\n<p>Thanks</p>\n"}, {"tags": [], "owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "is_accepted": false, "score": 2, "last_activity_date": 1482424481, "creation_date": 1482424481, "answer_id": 41287785, "question_id": 41275586, "link": "https://stackoverflow.com/questions/41275586/read-write-ms-office-documentexcel-word-without-ole-in-perl/41287785#41287785", "title": "Read/write MS office document(excel,word) without OLE in perl", "body": "<p>If all you want is the text content of the file, the easier is to use:</p>\n\n<pre><code>soffice --headless --convert-to txt:text file_to_convert.docx\n</code></pre>\n\n<p>If you really want to extract styles and layout, you will need an XML parser and a lot of hardwork.</p>\n"}], "owner": {"reputation": 681, "user_id": 3510773, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/up9pt.jpg?s=128&g=1", "display_name": "Newbie", "link": "https://stackoverflow.com/users/3510773/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "closed_date": 1482745834, "answer_count": 2, "score": -2, "last_activity_date": 1482557232, "creation_date": 1482379252, "question_id": 41275586, "link": "https://stackoverflow.com/questions/41275586/read-write-ms-office-documentexcel-word-without-ole-in-perl", "closed_reason": "Not suitable for this site", "title": "Read/write MS office document(excel,word) without OLE in perl", "body": "<p>How can I read a MS office document(excel, word) without using WIN32::OLE in perl so we can do it in any place we want (like a server).</p>\n"}, {"tags": ["python", "regex", "perl"], "comments": [{"owner": {"reputation": 44810, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1482381181, "post_id": 41275579, "comment_id": 69753081, "body": "It&#39;s <i>caret</i> in Python. It&#39;s <i>carat</i> in diamond trade."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 44810, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1482386020, "post_id": 41275579, "comment_id": 69754647, "body": "@DYZ, lolz carrots."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1482386506, "post_id": 41275579, "comment_id": 69754832, "body": "<code>^[\\&#39;][a-z]</code> is better written <code>^&#39;[a-z]</code> and <code>[\\p{IsAlnum}]$</code> is better written <code>\\p{IsAlnum}$</code>."}], "answers": [{"comments": [{"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1482385350, "post_id": 41275608, "comment_id": 69754422, "body": "Oh Thanks @Rob!! Tricky stuff between <code>re.search</code> vs <code>re.match</code>."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1482386246, "post_id": 41275608, "comment_id": 69754735, "body": "Just to be double sure. Is the regex matching in Perl is always the behavior of  <code>re.search</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 1, "creation_date": 1482387027, "post_id": 41275608, "comment_id": 69754997, "body": "@alvas Correct. Perl doesn&#39;t have a separate operator for matching only at the beginning of a string; for that you use anchors (<code>\\A</code> or <code>^</code>)."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482388521, "post_id": 41275608, "comment_id": 69755598, "body": "Thanks @ThisSuitIsBlackNot !! BTW, the two of you have helped much in this contribution <a href=\"https://github.com/nltk/nltk/pull/1553\" rel=\"nofollow noreferrer\">github.com/nltk/nltk/pull/1553</a>"}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 3, "last_activity_date": 1482379424, "last_edit_date": 1592644375, "creation_date": 1482379424, "answer_id": 41275608, "question_id": 41275579, "link": "https://stackoverflow.com/questions/41275579/is-the-behavior-of-python-vs-perl-regex-for-carat-and-dollar-different/41275608#41275608", "title": "Is the behavior of Python vs Perl regex for carat and dollar different?", "body": "<p><code>re.match</code> is implicitly anchored at the start of the string. Quoting <a href=\"https://docs.python.org/2/library/re.html#re.match\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p><code>re.match(pattern, string, flags=0)</code></p>\n<p>If zero or more characters at the beginning of <code>string</code> match the regular expression <code>pattern</code>, return a corresponding <code>MatchObject</code> instance.</p>\n</blockquote>\n<p>Try <code>re.search</code> instead.</p>\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; s = u&quot;'ve&quot;\n&gt;&gt;&gt; re.search(u&quot;[a-z]$&quot;, s)\n&lt;_sre.SRE_Match object at 0x7fea24df3780&gt;\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "closed_date": 1482380547, "accepted_answer_id": 41275608, "answer_count": 1, "score": -2, "last_activity_date": 1482379424, "creation_date": 1482379193, "question_id": 41275579, "link": "https://stackoverflow.com/questions/41275579/is-the-behavior-of-python-vs-perl-regex-for-carat-and-dollar-different", "closed_reason": "Duplicate", "title": "Is the behavior of Python vs Perl regex for carat and dollar different?", "body": "<p>In Python:</p>\n\n<p>Given a string <code>'ve</code>, I can catch the start of the string with carat:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; s = u\"'ve\"\n&gt;&gt;&gt; re.match(u\"^[\\'][a-z]\", s)\n&lt;_sre.SRE_Match object at 0x1109ee030&gt;\n</code></pre>\n\n<p>So it matches even though the length substring after the single quote is > 1.</p>\n\n<p>But for the dollar (matching end of string):</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; s = u\"'ve\"\n&gt;&gt;&gt; re.match(u\"[a-z]$\", s)\n&gt;&gt;&gt; \n</code></pre>\n\n<p>In Perl, from <a href=\"https://github.com/alvations/mosesdecoder/blob/master/scripts/tokenizer/detokenizer.perl#L128\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>It seems like the end of string can be matched with:</p>\n\n<pre><code>$s =~ /[\\p{IsAlnum}]$/\n</code></pre>\n\n<p>Is <code>$s =~ /[\\p{IsAlnum}]$/</code> the same as <code>re.match(u\"[a-z]$\", s)</code> ?</p>\n\n<p><strong>Why is the carat and dollar behavior different? And are they different for Python and Perl?</strong></p>\n"}]