[{"tags": ["perl", "find"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501108143, "post_id": 45338193, "comment_id": 77638998, "body": "To which <code>find</code> are you referring?"}], "answers": [{"comments": [{"owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1501159430, "post_id": 45338698, "comment_id": 77663214, "body": "Excellent !   Thanks Duskwuff"}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 3, "last_activity_date": 1501109556, "creation_date": 1501109556, "answer_id": 45338698, "question_id": 45338193, "link": "https://stackoverflow.com/questions/45338193/how-can-i-stop-find-from-searching-a-dir-tree-once-it-finds-a-match/45338698#45338698", "title": "How can I stop find from searching a dir tree once it finds a match?", "body": "<p>Use the <code>-prune</code> action:</p>\n\n<pre><code>find top -name out -print -prune\n</code></pre>\n\n<p>This action prevents <code>find</code> from recursing into a directory.</p>\n"}], "owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 45338698, "answer_count": 1, "score": -1, "last_activity_date": 1501109556, "creation_date": 1501106637, "last_edit_date": 1501108558, "question_id": 45338193, "link": "https://stackoverflow.com/questions/45338193/how-can-i-stop-find-from-searching-a-dir-tree-once-it-finds-a-match", "title": "How can I stop find from searching a dir tree once it finds a match?", "body": "<p>This is a variant of \"How can I stop find from searching after first result found?\" which I posted earlier today but is different enough to warrant a new question (IMO).  It involves the <code>find</code> command ant potentially a perl soln if find can't do what I need.</p>\n\n<p>Using <code>find</code>, I want to search a dir tree for all instances of dirs with name \"out\".  Once an instance of \"out\" is found, I want it to stop searching under that dir but keep searching other paths for \"out\".</p>\n\n<p>Consider this example...</p>\n\n<pre><code>mkdir -p top/a/b/out/c/d/out/e/leaf   \nmkdir -p top/a/bb/cc/out/dd/ee/out/ff/gg/out/hh/leaf\n</code></pre>\n\n<p>I want to find...  </p>\n\n<pre><code>top/a/b/out  \ntop/a/bb/cc/out  \n</code></pre>\n\n<p>... but no other instances of \"out\".  </p>\n\n<p>Also, I want it to stop searching (wasting time) once it hits an instance of \"out\" in a path.</p>\n\n<p>I am going to run this in perl, so I suppose I could get creative and write some recursive func to do this.  And so I will also tag this with question with \"perl\" should that be the eventual solution.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501103189, "post_id": 45337369, "comment_id": 77636859, "body": "For instance, pull all numbers first, then parse one at a time.  <i>Please</i> show your code so that there is a legitimate question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1501103734, "post_id": 45337369, "comment_id": 77637141, "body": "<code>(?&lt;!\\S)(?:[-+]?(180(\\.0{1,15})?|((1[0-7]\\d)|([1-9]?\\d))(\\.\\d&zwnj;&#8203;{1,15})?)|[-+]?([1-8&zwnj;&#8203;]?\\d(\\.\\d{1,15})?|90&zwnj;&#8203;(\\.0{1,15})?))(?!\\S)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "is_accepted": true, "score": 0, "last_activity_date": 1501103516, "creation_date": 1501103516, "answer_id": 45337512, "question_id": 45337369, "link": "https://stackoverflow.com/questions/45337369/perl-parse-every-number-between-two-values/45337512#45337512", "title": "Perl parse every number between two values", "body": "<p>Probably something along the lines of...</p>\n\n<pre><code>while ($line =~ /\\b(3[2-5]\\.\\d{4,})\\b/g)\n{\n    print \"Found $1\\n\";\n}\n</code></pre>\n\n<p>That's for a single line. You'll have to loop over multiple lines if needed.</p>\n"}], "owner": {"reputation": 3, "user_id": 3943038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UVJcL.png?s=128&g=1", "display_name": "Sid Devic", "link": "https://stackoverflow.com/users/3943038/sid-devic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 45337512, "answer_count": 1, "score": -2, "last_activity_date": 1501103516, "creation_date": 1501102909, "question_id": 45337369, "link": "https://stackoverflow.com/questions/45337369/perl-parse-every-number-between-two-values", "title": "Perl parse every number between two values", "body": "<p>say I have a string like:</p>\n\n<blockquote>\n  <p>blah blah 32.22200119 blah 33.440049 blah blah 32.25009912 7621.22 blah blah 37</p>\n</blockquote>\n\n<p>I know that the numbers I want to parse are restricted between 32 and 35, and have at least 4 decimal points. How would I go about parsing out just these long numbers, while ignoring all the other numbers? (The numbers I am attempting to parse happen to be longitudinal coordinates)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501100486, "post_id": 45336626, "comment_id": 77635373, "body": "What you are getting is stringification of a reference (of a hashref in this case).  It&#39;s a string already. So you can just assign it"}, {"owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1501100553, "post_id": 45336626, "comment_id": 77635420, "body": "Is there anything wrong with just using <code>$object</code> as the hash key?"}, {"owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "reply_to_user": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1501100626, "post_id": 45336626, "comment_id": 77635463, "body": "@SilvioMayolo Do you mean <code>$map-&gt;{$object} = $object;</code> uses a string as a key and object as the value?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501100748, "post_id": 45336626, "comment_id": 77635524, "body": "Hash keys are always scalars, and all you have is a hash reference, which is also a scalar. (An object would be an instantiated class.) The hash reference will be stringified if you use it as a hash key."}, {"owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1501100786, "post_id": 45336626, "comment_id": 77635545, "body": "@Matt Jacob thank you, I did not realize that before."}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501101070, "post_id": 45336737, "comment_id": 77635702, "body": "Although I could have used an id-&gt;object map and generated my own id, I thought this way was easier. Is there any particular downside? The main idea to create a distributed memory model and I needed a way to remotely reference objects."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501101356, "post_id": 45336737, "comment_id": 77635853, "body": "@aoiee  I can&#39;t think of a very specific problem right now.  But, you <i>are</i> creating a hash to keep track of <code>$object</code>s, so why not come up with some classification (id&#39;s) that carries more information, or meaning?  This way an <code>$object</code> is mapped to, well, itself in a sense."}, {"owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501101677, "post_id": 45336737, "comment_id": 77636031, "body": "I&#39;m worried that if an &#39;object&#39; is blessed to a function or perhaps other special cases, it won&#39;t be able to store an id as a property."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501101914, "post_id": 45336737, "comment_id": 77636172, "body": "@aoiee  Hang on. You <a href=\"http://perldoc.perl.org/functions/bless.html\" rel=\"nofollow noreferrer\">bless</a> things to make them actual objects of a class.  Then you can do all kinds of things to catalog/id them.  i don&#39;t understand &quot;<i>able to store an id as a property</i>&quot;?  For one thing, that&#39;s precisely what you can do if this is a class."}, {"owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501102492, "post_id": 45336737, "comment_id": 77636464, "body": "for example: <code>my @array = (&#39;a&#39;, &#39;b&#39;); $object_id = \\@array;</code> wouldn&#39;t be able to hold an object_id property."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501102698, "post_id": 45336737, "comment_id": 77636588, "body": "@aoiee  What do you mean by &quot;<i>objectid property</i>&quot;?  In that snippet the <code>$object_id</code> is an <i>array reference</i>. If you force its stringification, say by printing it or putting it under <code>&quot;&quot;</code> and assigning to a variable, you get the string <code>ARRAY(...)</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501126962, "post_id": 45336737, "comment_id": 77643563, "body": "@aoiee  A note on references in case it is needed.  Forgive me if you know all this already.  A reference is a scalar, much like a pointer.  What you have in the question is a reference (&quot;pointer&quot;) to a  hash, created by <code>{ .. }</code>.  What you have in the previous comment is a reference to an array, created by <code>\\@ary</code> (another way to make a reference to something, by <code>\\ </code>).  They don&#39;t make much sense to print or manipulate otherwise.  But if you do, they get converted to a string <code>HASH(...)</code> or <code>ARRAY(...)</code>.  Most things in Perl get &quot;strignified&quot; when needed."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501127357, "post_id": 45336737, "comment_id": 77643676, "body": "@aoiee  An object, as an instantiation of a class, is a hash reference -- but that has been <code>bless</code>-ed, thus it &quot;knows&quot; what package (class) it belongs to. (One <i>can</i> choose things other than a hashref for data when writing a class but it&#39;s seldom done.)  So when that gets stringified there is a bit more information put in the string, about the class."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501127472, "post_id": 45336737, "comment_id": 77643703, "body": "@aoiee  Literature for references: tutorial <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and reference <a href=\"https://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a> and data structurec cookbook <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>.  For OO reference is <a href=\"https://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">perlobj</a> and tutorial <a href=\"https://perldoc.perl.org/perlootut.html\" rel=\"nofollow noreferrer\">perlootut</a>.  There are of course many other resources.  Let me know if all this is unneeded and I&#39;ll remove these comments."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501127825, "post_id": 45336737, "comment_id": 77643802, "body": "@aoiee  <b>Correction regarding &quot;<i>they get converted to a string</i>&quot;</b> in a comment above -- they don&#39;t, a string is generated while they of course stay what they are."}, {"owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501161174, "post_id": 45336737, "comment_id": 77664779, "body": "Thank you for your answer, it helped to explain how I can use the object as scalar hash key and how to force the stringification. However, I don&#39;t agree with the second part - to build a map of id&#39;s and have the object carry their own information. Although it depends on the situation, it is not always a possibility to store the id in the object."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1502223600, "post_id": 45336737, "comment_id": 78114166, "body": "@aoiee  Right, I don&#39;t really know how your application works.  I updated the commentary (&quot;second part&quot;) to relax the statement. (But I do leave it, as a general comment -- please let me know if it&#39;s still disagreeable, too strong, or feels out of place.)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1502223798, "last_edit_date": 1502223798, "creation_date": 1501100680, "answer_id": 45336737, "question_id": 45336626, "link": "https://stackoverflow.com/questions/45336626/perl-how-to-use-the-reference-id/45336737#45336737", "title": "Perl - how to use the reference id?", "body": "<p>What you are getting is a stringification<sup>&dagger;</sup> of a reference, of a hash reference in this case.  </p>\n\n<p>So you get a string you want and can assign it to a variable (<code>my $id = \"$hashref\";</code>)</p>\n\n<pre><code>perl -wE'$hr = {a=&gt;1, b=&gt;2}; say $hr; $s = \"$hr\"; say $s'\n</code></pre>\n\n<p>prints <code>HASH(0x2398d48)</code> twice.  </p>\n\n<p>Then in the example with the hash reference (the \"<code>$object</code>\" &ndash; I'll call it <code>$hashref</code>) you can do</p>\n\n<pre><code>$map-&gt;{\"$hashref\"} = $hashref;\n</code></pre>\n\n<p>and in fact you can do</p>\n\n<pre><code>$map-&gt;{$hashref} = $hashref;\n</code></pre>\n\n<p>since the <code>$hashref</code> gets stringified in order to get a string needed for a key.</p>\n\n<p>However, this does not seem like a good idea for general and common uses. For one thing, how can one distinguish the keys (always <code>HASH(num)</code>) to various <code>$hashref</code>s?  A key is used to identify the value associated with it and here there'll be some \"random\" numbers.</p>\n\n<p>Why not come up with id's for your objects that are meaningful and carry information on their own?  You can also use a data structure that has <code>$hashref</code>s in it directly, since they are scalars. Or, better yet, write a class so <code>$hashrefs</code>s are <em>objects</em>; then you can set up any data/attributes you want.</p>\n\n<p>Granted, I don't know how this fits in \"<em>a distributed memory model</em>\" where it's needed, and it surely is one way to tag a reference with an id unambiguously. </p>\n\n<hr>\n\n<p><sup>&dagger;</sup>&nbsp; I can't find explanation of <em>stringification</em> in docs so can't offer a link.  See <a href=\"https://stackoverflow.com/questions/5214543/what-is-stringification-in-perl\">this post</a>, for example</p>\n"}, {"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 1, "last_activity_date": 1501136020, "creation_date": 1501136020, "answer_id": 45342675, "question_id": 45336626, "link": "https://stackoverflow.com/questions/45336626/perl-how-to-use-the-reference-id/45342675#45342675", "title": "Perl - how to use the reference id?", "body": "<p>If you want to use the identity of a reference as hash key, the correct approach is to use the <a href=\"https://metacpan.org/pod/Scalar::Util#refaddr\" rel=\"nofollow noreferrer\"><code>Scalar::Util::refaddr</code> function</a>:</p>\n\n<pre><code>$map-&gt;{Scalar::Util::refaddr $object} = $object;\n</code></pre>\n\n<p>If you know that the object will not use operator overloading, it is sufficient to add zero:</p>\n\n<pre><code>$map-&gt;{0+$object} = $object;\n</code></pre>\n\n<hr>\n\n<p>Hash keys must always be strings. If you supply a reference or object as the key, it is automatically stringified first: <code>$hash{$x}</code> is the same as <code>$hash{\"$x\"}</code>. By default stringification uses a format like <code>HASH(0x1234abc)</code> for references and <code>SomeClass=HASH(0x1234abc)</code> for objects.</p>\n\n<p>You can also coerce a reference to a number, e.g. by adding zero. By default this evaluates to the memory address/ID of the reference target.</p>\n\n<pre><code>my $ref = {};\nmy $obj = bless {} =&gt; 'SomeClass';\n\nsay sprintf \"ref address: %x, stringify: %s\", 0+$ref, \"$ref\";\nsay sprintf \"obj address: %x, stringify: %s\", 0+$obj, \"$obj\";\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>ref address: 1990178, stringify: HASH(0x1990178)\nobj address: 19903d0, stringify: SomeClass=HASH(0x19903d0)\n</code></pre>\n\n<p>This works fine until you have an object that overloads string or numeric operators:</p>\n\n<pre><code>BEGIN {\n  package Freaky;\n\n  sub new {\n    my ($class) = @_;\n    return bless {} =&gt; $class;\n  }\n\n  use overload\n    fallback =&gt; 1,\n    q(\"\") =&gt; sub { \"custom stringification\" },\n    q(0+) =&gt; sub { 32 };\n}\n\nmy $freaky = Freaky-&gt;new;\nsay sprintf \"freaky address: %x, stringify: %s\", 0+$freaky, \"$freaky\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>freaky address: 20, stringify: custom stringification\n</code></pre>\n\n<p>So we can't use such an object as hash key directly. But we can side-step overloading.</p>\n\n<ul>\n<li><p>To get the default stringification for any value, use the <code>overload::StrVal()</code> function.</p></li>\n<li><p>To get the address of any reference without \u201ctricks\u201d like adding zero, use the <code>Scalar::Util::refaddr()</code> function.</p></li>\n</ul>\n\n\n\n<pre><code>use Scalar::Util;\nuse overload;\n\nBEGIN {\n  package Freaky;\n\n  sub new {\n    my ($class) = @_;\n    return bless {} =&gt; $class;\n  }\n\n  use overload\n    fallback =&gt; 1,\n    q(\"\") =&gt; sub { \"custom stringification\" },\n    q(0+) =&gt; sub { 32 };\n}\n\nmy $freaky = Freaky-&gt;new;\nsay sprintf \"freaky address: %x, stringify: %s\", \n    Scalar::Util::refaddr($freaky),\n    overload::StrVal($freaky);\n</code></pre>\n\n<p>Example Output:</p>\n\n<pre><code>freaky address: 2203178, stringify: Freaky=HASH(0x2203178)\n</code></pre>\n"}], "owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 45336737, "answer_count": 2, "score": 1, "last_activity_date": 1502223798, "creation_date": 1501100245, "question_id": 45336626, "link": "https://stackoverflow.com/questions/45336626/perl-how-to-use-the-reference-id", "title": "Perl - how to use the reference id?", "body": "<p>When printing an object:</p>\n\n<pre><code>my $hash = {};\nprint($hash); # it outputs some sort of hex identifier: HASH(0X3A8154)\n</code></pre>\n\n<p>How can I use this hex identifier as a string or a key?</p>\n\n<pre><code>my $map = {};\nmy $object = {};\n$map-&gt;{$object_id} = $object; # where $object_id is the string result of $object when printed\n</code></pre>\n"}, {"tags": ["perl", "getopt"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501177730, "post_id": 45336461, "comment_id": 77676987, "body": "See <a href=\"https://stackoverflow.com/a/44011471/4653379\">this post</a> (for instance), on <code>__WARN__</code> hooks.  But I also leave <code>Getopt</code>&#39;s messages, as they are good, and add my own."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1501100213, "creation_date": 1501100213, "answer_id": 45336618, "question_id": 45336461, "link": "https://stackoverflow.com/questions/45336461/perl-catching-getoptions-when-something-fails/45336618#45336618", "title": "perl: catching GetOptions when something fails", "body": "<p>It uses <code>warn</code>, so you could use <code>$SIG{__WARN__}</code>. I would say it's better to provide a usage statement in addition to the specific error found by <code>GetOptions</code>.</p>\n\n<pre><code>sub usage {\n   my $prog = basename($0);\n   if (my ($msg) = @_) {\n      chomp($msg);\n      warn(\"$msg\\n\");\n   }\n\n   warn(\"Try `$prog --help' for more information.\\n\");\n   exit(1);\n}\n\nsub help {\n   my $prog = basename($0);\n   print(&lt;&lt;\"__EOS__\");\nusage: $prog [options] [--] {foo} {bar}\n       $prog --help\n\nOptions:\n   ...\n__EOS__\n   exit(0);\n}\n\nsub parse_args {\n   GetOptions(\n      'h|?|help' =&gt; \\&amp;help,\n      ...,\n   )\n      or usage();\n\n   @ARGV == 2\n      or usage(\"Too many arguments.\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "is_accepted": false, "score": 1, "last_activity_date": 1501171437, "creation_date": 1501171437, "answer_id": 45355848, "question_id": 45336461, "link": "https://stackoverflow.com/questions/45336461/perl-catching-getoptions-when-something-fails/45355848#45355848", "title": "perl: catching GetOptions when something fails", "body": "<p>Here's what I do:</p>\n\n<pre><code>eval {\n    local $SIG{__WARN__} = sub { die $_[0] };\n\n    GetOptions( \\%opt, ... );\n  };\n\nif ( $@ ) {\n  ...\n}\n</code></pre>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501171437, "creation_date": 1501099711, "question_id": 45336461, "link": "https://stackoverflow.com/questions/45336461/perl-catching-getoptions-when-something-fails", "title": "perl: catching GetOptions when something fails", "body": "<p>Using <code>Getopt::Long</code>, I want to capture any failures from <code>GetOptions</code> and, rather than printing them to STDOUT/STDERR, I want to print out a Usage string and exit the script.  I tried wrapping the call to <code>GetOptions</code> in a <code>Try::Tiny</code> <code>try/catch</code> block, but it doesn't get caught.  I'm not sure what's going on behind the scenes here.</p>\n\n<p>How can I capture a failure in <code>GetOptions</code>, prevent it from printing, and print my own usage statement instead?</p>\n"}, {"tags": ["arrays", "perl", "hashmap", "perl-data-structures"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1501098837, "post_id": 45336216, "comment_id": 77634464, "body": "In the future, pleas use <code>Dumper(\\%hash)</code> instead of <code>Dumper(%hash)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501099004, "post_id": 45336216, "comment_id": 77634557, "body": "What does any of &quot;<i>I would like to compare the value of the spacer hashes within the $VAR125/$VAR126 hash with each other</i>&quot; mean? Hashes don&#39;t have &quot;a value&quot;, and what result do you want?"}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501099441, "post_id": 45336216, "comment_id": 77634799, "body": "e.g. I would like to compare the spacers: <b>CAGT</b>,<b>GTT</b> and <b>TTG</b> with each other to see if they are the same. And then apply some if statements as I do so."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501099490, "post_id": 45336216, "comment_id": 77634830, "body": "Did you forget about <code>AGGCACC</code>, or do you just want to compare the hashes of one top-level hash element at a time? What result do you want? (If there&#39;s all the same? The number of different values? The different values? something else?)"}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501099938, "post_id": 45336216, "comment_id": 77635063, "body": "Yeah, for each daddy hash <b>(hsa_circ...)</b> I want to compare the baby hashes  <b>(spacers)</b> together. Forgive me I&#39;m struggling to word this right. This is a small sample of the data of course. My goal, in brief, is to detect the arrays of hashes which have the same spacer and if they do have the same spacer then I want to then choose the array of hashes which has the highest energy score."}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501100555, "post_id": 45336216, "comment_id": 77635424, "body": "Okay, so take the second array of hashes as an example. I would like to compare those multiple spacers with each other. In the example, none of them are equal to each other, but in my data, there are numerous cases of equal spacers and I would like to detect them and then filter out the one spacer that has the highest energy score."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501105591, "post_id": 45336216, "comment_id": 77637925, "body": "Alright.  What do you mean by &quot;<i>filter out</i>&quot;  -- remove all other hashrefs in that array?  Or just retrieve something (print or store)?"}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501147862, "post_id": 45336216, "comment_id": 77654589, "body": "Remove all other hashrefs in that array. Apologies for my misuse of terminology."}], "answers": [{"comments": [{"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "reply_to_user": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501111087, "post_id": 45336587, "comment_id": 77639827, "body": "Not sure if i understand the question... you can access a hash element by directly accessing it (as above) or doing  a loop through the hash keys"}], "tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": false, "score": 0, "last_activity_date": 1501100124, "creation_date": 1501100124, "answer_id": 45336587, "question_id": 45336216, "link": "https://stackoverflow.com/questions/45336216/how-to-reference-a-hash-of-array-of-hashes-in-order-to-compare-values/45336587#45336587", "title": "How to reference a hash of array of hashes in order to compare values", "body": "<p>Like this</p>\n\n<pre><code>$_=$hash{'hsa_circ_0024017|chr11:93463035-93463135+|NM_033395|KIAA1731  FORWARD'}-&gt;[0]{energy};\n\nprint  $_ .\"\\n\";\n</code></pre>\n\n<p>so it's\n$this{hash}->[array_ref]{hash]</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1501101914, "last_edit_date": 1501101914, "creation_date": 1501101309, "answer_id": 45336909, "question_id": 45336216, "link": "https://stackoverflow.com/questions/45336216/how-to-reference-a-hash-of-array-of-hashes-in-order-to-compare-values/45336909#45336909", "title": "How to reference a hash of array of hashes in order to compare values", "body": "<pre><code>for my $line (keys(%by_line)) {\n   my $spacer_defs = $by_line{$line};\n   ...\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>for my $spacer_defs (values(%by_line)) {\n   ...\n}\n</code></pre>\n\n<p>will get you (the reference to) the array of (references to) <em>spacer definitions</em> for each line in turn. Then, you can edit that array as follows:</p>\n\n<pre><code>   my %uniq_spacer_defs;\n   for my $spacer_def (@$spacer_defs) {\n      my $spacer = $spacer_def-&gt;{spacer};\n      $uniq_spacer_defs{$spacer} = $spacer_defs\n         if !$uniq_spacer_defs{$spacer}\n         || $uniq_spacer_defs{$spacer}{energy} &lt; $spacer_def-&gt;{energy};\n   }\n\n   @$spacer_defs = values(%uniq_spacer_defs);\n</code></pre>\n\n<hr>\n\n<p>Notes:</p>\n\n<ul>\n<li><p>The order of the \"spacer definitions\" may change. If that's a problem, replace</p>\n\n<pre><code>@$spacer_defs = values(%uniq_spacer_defs);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>@$spacer_defs = grep { $uniq_spacer_defs{$_-&gt;{spacer}} == $_ } @$spacer_defs;\n</code></pre></li>\n<li><p>In case of two spacer definitions with the same spacer and the same energy, the first one encountered is kept.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501356387, "post_id": 45338396, "comment_id": 77746969, "body": "I&#39;ve been trying to think of a way of doing this, but I&#39;m struggling to see how to do it without actually going through all spacers, and comparing <code>spacer[0]</code> with <code>spacer[1]</code>, then with spacer[2] etc, with these comparisons inter-spliced with <i>if</i> and <i>elsif</i> statements detailing what to do if they are equal or not. I&#39;m not sure, but somehow the comparisons need to occur without specifying the exact spacers, something like spacer[n], spacer[n+1], spacer[n+2] etc Otherwise you&#39;d need to know before how many spacers to compare, I think."}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501358290, "post_id": 45338396, "comment_id": 77747605, "body": "Oh, I was thinking about that, I just didn&#39;t know if <code>reduce</code> could work on strings in the same way.It;s a neat function."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501358470, "post_id": 45338396, "comment_id": 77747671, "body": "@MrKeystrokes  Yes, <code>reduce</code> is a very helful thingy.  Most of <code>List::Util</code> functions can be written very simply with it, for example.  It takes a list, and by pairwise comparison reduces it to one element, that compares &quot;better&quot; to all others (according to the chosen criterion). The <code>$a</code> and <code>$b</code> represent the pair of elements being compared."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501403824, "post_id": 45338396, "comment_id": 77756460, "body": "@MrKeystrokes  The procedure you describe is possible; every element need be compared against all (with yet more to do). Rather picky.  The trick is: sort first. Then you just need to look at neighbors."}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501431263, "post_id": 45338396, "comment_id": 77764226, "body": "Out of curiosity, what data structure would you have adopted having seen the initial data layout, HoAoH or something else?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501445771, "post_id": 45338396, "comment_id": 77768794, "body": "@MrKeystrokes  This data structure seems quite fine for it. That never crossed my mind as a problem. You have keys to a collection of hashrefs, rather logical I think. (When those get nested too deeply switching to a class may help. Not here, this is fine.)"}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501447499, "post_id": 45338396, "comment_id": 77769230, "body": "Okie dokie :) What is going on with: <code>my $ra = shift;</code> and its use in: <code>my @sr = sort { $a-&gt;{spacer} cmp $b-&gt;{spacer} } @$ra;</code> I know that <code>shift</code> is used to remove the first element from an array, but how is it functioning in this context."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501447767, "post_id": 45338396, "comment_id": 77769295, "body": "Input for a sub is in <code>@_</code> array.  <code>shift</code> by default works with it (so is the same as <code>shift @_;</code>) and it takes an element off of the front of array, so <code>my $ra = shift;</code> is how we get our input.  (Or just assign, <code>my ($ra) = @_;</code>).  The input is arrayref.  Then I sort the hashrefs in it by the value of spacer in each.  Input for <code>sort</code> is an array so I dereference <code>$ra</code>, which is <code>@$ra</code>. Once we have the sorted hashrefs (by spacer value) it&#39;s easy to partition them into groups of equal.  Is this OK?"}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501450666, "post_id": 45338396, "comment_id": 77770140, "body": "Yeah, I&#39;ve read. That makes sense to me now. I am just slowly reading the code and referring to perldoc every now and then, much of it is new to me. Yeah, it&#39;s fine to remove that part. :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501471548, "post_id": 45338396, "comment_id": 77774516, "body": "@MrKeystrokes  I removed some of my comments which were by now outdated, or unneeded. (This may put some of yours in a limbo, check.) We should clean up a little.  Please let me know if questions pop up :)"}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1501481566, "post_id": 45338396, "comment_id": 77777383, "body": "I&#39;ll do the same. And yeah, I&#39;ll keep you updated as to any queries."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1502610626, "last_edit_date": 1502610626, "creation_date": 1501107735, "answer_id": 45338396, "question_id": 45336216, "link": "https://stackoverflow.com/questions/45336216/how-to-reference-a-hash-of-array-of-hashes-in-order-to-compare-values/45338396#45338396", "title": "How to reference a hash of array of hashes in order to compare values", "body": "<p>The problem: there may be groups of hashrefs in each arrayref with the equal <em>spacer</em> value. In each such group the hashref with the lowest <em>energy</em> value\nneed be identified, to replace that group.</p>\n\n<p>Most work is done in <code>partition_equal()</code>, which identifies hashref groups with equal spacers</p>\n\n<pre><code>use warnings;\nuse strict;\nuse List::Util qw(reduce);\nuse Data::Dump qq(dd);\n\n# Test data: two groups of equal-spacer hashrefs, in the first array only\nmy %hash = (  \n    kA =&gt; [\n        { 'energy' =&gt; -4.3, 'spacer' =&gt; 'AGGCACC' },\n        { 'energy' =&gt; -2.3, 'spacer' =&gt; 'AGGCACC' },\n        { 'energy' =&gt; -3.3, 'spacer' =&gt; 'CAGT' },\n        { 'energy' =&gt; -1.5, 'spacer' =&gt; 'GTT' },\n        { 'energy' =&gt; -2.5, 'spacer' =&gt; 'GTT' },\n    ],\n    kB =&gt; [\n        { 'energy' =&gt; -4.4, 'spacer' =&gt; 'CAGT' },\n        { 'energy' =&gt; -4.1, 'spacer' =&gt; 'GTT' },\n        { 'energy' =&gt; -4.1, 'spacer' =&gt; 'TTG' },\n    ],\n);\n#dd \\%hash;\n\nfor my $key (keys %hash) {\n    my ($spv, $unique) = partition_equal($hash{$key});\n    next if not $spv;\n    # Extract minimum-energy hashref from each group and add to arrayref\n    # $unique, so that it can eventually overwrite this key's arrayref\n    foreach my $spacer (keys %$spv) {\n        my $hr_min = reduce { \n            $a-&gt;{energy} &lt; $b-&gt;{energy} ? $a : $b \n        } @{$spv-&gt;{$spacer}};\n        push @$unique, $hr_min;\n    }\n    # new: unique + lowest-energy ones for each equal-spacer group   \n    $hash{$key} = $unique  if keys %$spv;\n}    \ndd \\%hash;\n\n# Sort array and compare neighbouring elements (hashrefs) \nsub partition_equal {\n    my $ra = shift;\n    my @sr = sort { $a-&gt;{spacer} cmp $b-&gt;{spacer} } @$ra;\n\n    # %spv:    spacer value =&gt; [ hashrefs with it ], ...\n    # @unique: hasrefs with unique spacer values    \n    my (%spv, @unique);\n\n    # Process first and last separately, to not have to test for them\n    ($sr[0]{spacer} eq $sr[1]{spacer})\n        ? push @{$spv{$sr[0]{spacer}}}, $sr[0]\n        : push @unique, $sr[0];\n    for my $i (1..$#sr-1) {\n        if ($sr[$i]{spacer} eq $sr[$i-1]{spacer}  or \n            $sr[$i]{spacer} eq $sr[$i+1]{spacer}) \n        {\n            push @{$spv{$sr[$i]{spacer}}}, $sr[$i]\n        }\n        else { push @unique, $sr[$i] }\n    }\n    ($sr[-1]{spacer} eq $sr[-2]{spacer})\n        ? push @{$spv{$sr[-1]{spacer}}}, $sr[-1]\n        : push @unique, $sr[-1];\n\n    return if not keys %spv;\n    return \\%spv, \\@unique;\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre>\nkA => [\n        { energy => -3.3, spacer => \"CAGT\" },\n        { energy => -2.5, spacer => \"GTT\" },\n        { energy => -4.3, spacer => \"AGGCACC\" },\n      ],\nkB => [\n        { energy => -4.4, spacer => \"CAGT\" },\n        { energy => -4.1, spacer => \"GTT\" },\n        { energy => -4.1, spacer => \"TTG\" },\n      ],\n</pre>\n\n<p>The order inside arrayrefs is not maintained; the new arrayref has first hashrefs with unique spacer values, then those with lowest-energy value (for each original group with same spacer-values).</p>\n\n<p>The sub sorts input by spacer values, so that it can identify equal ones by simply iterating through the sorted array and comparing only neighbors. This should be reasonably efficient.</p>\n"}], "owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 45338396, "answer_count": 3, "score": 0, "last_activity_date": 1502610626, "creation_date": 1501098698, "last_edit_date": 1501230903, "question_id": 45336216, "link": "https://stackoverflow.com/questions/45336216/how-to-reference-a-hash-of-array-of-hashes-in-order-to-compare-values", "title": "How to reference a hash of array of hashes in order to compare values", "body": "<p>I have the following data structure:</p>\n\n<pre><code>my %hash = (\n    'hsa_circ_0024017|chr11:93463035-93463135+|NM_033395|KIAA1731  FORWARD' =&gt; [ \n        { \n          'energy' =&gt; '-4.3', \n          'spacer' =&gt; 'AGGCACC', \n          'end' =&gt; '97', \n          'start' =&gt; '81' \n        } \n    ],\n    'hsa_circ_0067224|chr3:128345575-128345675-|NM_002950|RPN1  FORWARD' =&gt; [ \n        { \n          'energy' =&gt; '-4.4', \n          'spacer' =&gt; 'CAGT', \n          'end' =&gt; '17', \n          'start' =&gt; '6' \n        }, \n        { \n          'energy' =&gt; '-4.1', \n          'spacer' =&gt; 'GTT', \n          'end' =&gt; '51', \n          'start' =&gt; '26' \n        }, \n        { \n          'energy' =&gt; '-4.1', \n          'spacer' =&gt; 'TTG', \n          'end' =&gt; '53', \n          'start' =&gt; '28' \n        } \n    ],\n    ...\n);\n</code></pre>\n\n<p>How do I access the contents of my hash to be able to compare the contents within a loop? </p>\n\n<p>For each parent hash (hsa_circ...) I want to compare the child hashes (spacers) together. Forgive me I'm struggling to word this right. This is a small sample of the data of course. My goal, in brief, is to detect the arrays of hashes which have the same spacer and if they do have the same spacer then I want to then choose the array of hashes which has the <strong>lowest</strong> energy score. </p>\n"}, {"tags": ["regex", "perl", "backreference"], "comments": [{"owner": {"reputation": 1635, "user_id": 5224021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37c6e44eb453915965b37dcc4653c3cf?s=128&d=identicon&r=PG&f=1", "display_name": "interesting-name-here", "link": "https://stackoverflow.com/users/5224021/interesting-name-here"}, "edited": false, "score": 0, "creation_date": 1501098854, "post_id": 45336018, "comment_id": 77634472, "body": "&quot;Gimme code&quot; isn&#39;t generally how this works. Have you tried anything?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8372165"}, "reply_to_user": {"reputation": 1635, "user_id": 5224021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37c6e44eb453915965b37dcc4653c3cf?s=128&d=identicon&r=PG&f=1", "display_name": "interesting-name-here", "link": "https://stackoverflow.com/users/5224021/interesting-name-here"}, "edited": false, "score": 0, "creation_date": 1501100518, "post_id": 45336018, "comment_id": 77635387, "body": "Sorry I&#39;m brand new to stackoverflow. Thanks for pointing that out."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8372165"}, "edited": false, "score": 0, "creation_date": 1501098807, "post_id": 45336072, "comment_id": 77634447, "body": "I didn&#39;t know about the /e modifier.  Perfect, thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501099281, "post_id": 45336072, "comment_id": 77634696, "body": "It makes the replacement expression a callback. Basically, <code>s{...}{...}</code> is short for <code>s{...}{ qq{...} }e</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8372165"}, "edited": false, "score": 0, "creation_date": 1501100150, "post_id": 45336072, "comment_id": 77635186, "body": "interesting.  how would it be if &quot;somestring&quot; was different for both instances, kinda like:  (I should&#39;ve been clearer)   find: matt replace: joseph find: Matt replace: Joseph"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1501103226, "post_id": 45336072, "comment_id": 77636881, "body": "@geekyclimber - Use a hash if you&#39;re going that route."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501106540, "post_id": 45336072, "comment_id": 77638329, "body": "Adjusted. . . ."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1501106511, "last_edit_date": 1501106511, "creation_date": 1501098086, "answer_id": 45336072, "question_id": 45336018, "link": "https://stackoverflow.com/questions/45336018/perl-regex-substitution-with-case-sensitive-backreference/45336072#45336072", "title": "Perl: regex substitution with case-sensitive backreference", "body": "<pre><code>s/([mM])ark/ ( $1 eq 'm' ? 'j' : 'J' ) . 'oseph' /eg\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my %repl = (\n   'mark' =&gt; 'joseph',\n   'Mark' =&gt; 'Joseph',\n);\n\nmy $pat = join '|', map quotemeta, keys %repl;\nmy $re = qr/$pat/;\n\ns/($re)/$repl{$1}/g;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8372165"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1503587949, "creation_date": 1501097909, "question_id": 45336018, "link": "https://stackoverflow.com/questions/45336018/perl-regex-substitution-with-case-sensitive-backreference", "title": "Perl: regex substitution with case-sensitive backreference", "body": "<p>Can you help me find a perl one-liner that can do a find/replace as follows:</p>\n\n<p>Find:     <strong>a</strong>somestring\nReplace:  <strong>b</strong>somestring</p>\n\n<p>Find:     <strong>A</strong>somestring\nReplace:  <strong>B</strong>somestring</p>\n\n<p>essentially need to somehow backreference what case the original text was and replace it with different text, but same case. (case backreference for just the first character)</p>\n\n<p>Thanks!!</p>\n"}, {"tags": ["linux", "bash", "shell", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1501097004, "post_id": 45335688, "comment_id": 77633396, "body": "What is the question?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501098467, "post_id": 45335688, "comment_id": 77634260, "body": "And can you show what you&#39;ve done toward it?  Then you&#39;d have a legitimate question."}, {"owner": {"reputation": 970, "user_id": 5738382, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-42t7l9U95R4/AAAAAAAAAAI/AAAAAAAAAAc/KvJidye2yro/photo.jpg?sz=128", "display_name": "John Goofy", "link": "https://stackoverflow.com/users/5738382/john-goofy"}, "edited": false, "score": 0, "creation_date": 1501105884, "post_id": 45335688, "comment_id": 77638049, "body": "This have be a script and not a tool like <code>rename</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 14904, "user_id": 3161993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/56e8M.png?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/3161993/akshay"}, "is_accepted": false, "score": 0, "last_activity_date": 1501097483, "creation_date": 1501097483, "answer_id": 45335906, "question_id": 45335688, "link": "https://stackoverflow.com/questions/45335688/shell-or-perl-script-to-rename-folders-from-a-text-file/45335906#45335906", "title": "Shell or Perl script to rename folders from a text file", "body": "<pre><code>#!/usr/bin/env bash\nfolder_path=\"/home/pete1/\"\nwhile read -r oldname newname; do \n\n     # remove echo if happy with result\n     # if you remove echo it will rename\n     echo mv \"$folder_path/$oldname\" \"$folder_path/$newname\"; \n\ndone &lt; rename.txt\n</code></pre>\n\n<p>If you make <code>done &lt; rename.txt</code>  to <code>done &lt; rename.txt &gt;somefile.sh</code> it will write all commands which is result of <code>echo</code></p>\n"}], "owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1501097595, "creation_date": 1501096729, "question_id": 45335688, "link": "https://stackoverflow.com/questions/45335688/shell-or-perl-script-to-rename-folders-from-a-text-file", "title": "Shell or Perl script to rename folders from a text file", "body": "<p>I'm trying t look for a way to rename folders in Linux via a shell or perl script based on the first two columns in a .txt file:</p>\n\n<p>Example of text file\nrename.txt</p>\n\n<pre><code>current_dir1     new_dir1\ncurrent_dir2     new_dir2\ncurrent_dir3     new_dir3\n...\ncurrent_dir50    new_dir50\n</code></pre>\n\n<p>Then the shell/Perl script would create another file with all the mv commands to run based on what's in the list:</p>\n\n<p>rename_folders.sh or .pl</p>\n\n<pre><code>#!/bin/ksh\n\nmv /home/pete1/current_dir1 /home/pete1/new_dir1\n\nmv /home/pete1/current_dir2 /home/pete1/new_dir2\n\nmv /home/pete1/current_dir3 /home/pete1/new_dir3\n........\nmv /home/pete1/current_dir2 /home/pete1/new_dir2\n</code></pre>\n"}, {"tags": ["perl", "moo", "bread-board"], "comments": [{"owner": {"reputation": 1232, "user_id": 10356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afa39c7859ef8d183bb8928c8c54dc3?s=128&d=identicon&r=PG", "display_name": "Yanick", "link": "https://stackoverflow.com/users/10356/yanick"}, "edited": false, "score": 0, "creation_date": 1501428645, "post_id": 45335137, "comment_id": 77766842, "body": "Issue is being investigated at <a href=\"https://github.com/stevan/BreadBoard/issues/61\" rel=\"nofollow noreferrer\">github.com/stevan/BreadBoard/issues/61</a>"}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 1056299, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9b43cf8fce4ff1fe56cb86f0f6bf7839?s=128&d=identicon&r=PG", "display_name": "Vlad Ghita", "link": "https://stackoverflow.com/users/1056299/vlad-ghita"}, "is_accepted": false, "score": 0, "last_activity_date": 1502108942, "creation_date": 1502108942, "answer_id": 45546936, "question_id": 45335137, "link": "https://stackoverflow.com/questions/45335137/modifiers-not-visible-under-objects-from-services/45546936#45546936", "title": "Modifiers not visible under objects from services", "body": "<p>It was a bug in Bread::Board.</p>\n\n<p>Fixed in <a href=\"https://github.com/stevan/BreadBoard/commit/dc8970ff2a8f1b08460b44b4c2a8f006787cceb6\" rel=\"nofollow noreferrer\">this commit</a>.</p>\n\n<p>Thanks <a href=\"https://stackoverflow.com/users/10356/yanick\">@Yanick</a>.</p>\n"}], "owner": {"reputation": 59, "user_id": 1056299, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9b43cf8fce4ff1fe56cb86f0f6bf7839?s=128&d=identicon&r=PG", "display_name": "Vlad Ghita", "link": "https://stackoverflow.com/users/1056299/vlad-ghita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1502108942, "creation_date": 1501094808, "last_edit_date": 1501133701, "question_id": 45335137, "link": "https://stackoverflow.com/questions/45335137/modifiers-not-visible-under-objects-from-services", "title": "Modifiers not visible under objects from services", "body": "<p>Given the following:</p>\n\n<ul>\n<li>Moo 2.001001;</li>\n<li>Bread::Board 0.34;</li>\n<li>a <code>Bread::Board</code> container</li>\n<li>base class <code>Foo</code> with property <code>str</code> and <code>around</code> modifier for <code>str</code></li>\n<li>subclass <code>Bar</code> extending <code>Foo</code></li>\n</ul>\n\n<p>The issue:</p>\n\n<ul>\n<li>[GOOD] when instantiating object from plain <code>Bar</code>, <code>Foo::str</code> modifier is executed;</li>\n<li>[BAD] when instantiating object from container service for <code>Bar</code>, <code>Foo::str</code> modifier is not executed;</li>\n<li>[WORSE] after [BAD] happens, instantiating from plain <code>Bar</code> no longer works either;</li>\n</ul>\n\n<p>Code example:</p>\n\n<pre><code>#!/usr/qlc/apps/common/perl_5.18.2/bin/perl -w\n\npackage Foo;\n\nuse Moo;\n\nhas str =&gt; ( is =&gt; 'rw', default =&gt; '' );\n\nsub BUILD {\n    my ($self, $args) = @_;\n\n    $self-&gt;str($self-&gt;str);\n}\n\naround str =&gt; sub {\n    my ($orig, $self, $val) = @_;\n\n    return $self-&gt;$orig unless defined $val;\n\n    $self-&gt;$orig('prefix_'.$val);\n};\n# end of Foo\n\n\n\npackage Bar;\n\nuse Moo;\n\nextends 'Foo';\n# end of Bar\n\n\n\npackage main;\n\nuse 5.010;\nuse strictures 2;\n\nuse Bread::Board;\n\nmy $c = container 'MyApp' =&gt; as {\n    service 'foo' =&gt; ( class =&gt; 'Foo', parameters =&gt; { str =&gt; { optional =&gt; 1 } } );\n    service 'bar' =&gt; ( class =&gt; 'Bar', parameters =&gt; { str =&gt; { optional =&gt; 1 } } );\n};\n\n\nmy $foo_plain = Foo-&gt;new({ str =&gt; 'foo_plain' });\nsay \"foo_plain = \".$foo_plain-&gt;str;\n\nmy $foo_bb = $c-&gt;resolve( service =&gt; 'foo', parameters =&gt; { str =&gt; 'foo_bb' } );\nsay \"foo_bb = \".$foo_bb-&gt;str;\n\n$foo_bb-&gt;str('foo_bb_setter');\nsay \"foo_bb_setter = \".$foo_bb-&gt;str;\n\nmy $foo_plain_after_bb = Foo-&gt;new({ str =&gt; 'foo_plain_after_bb' });\nsay \"foo_plain_after_bb = \".$foo_plain_after_bb-&gt;str;\n\n\nmy $bar_plain = Bar-&gt;new({ str =&gt; 'bar_plain' });\nsay \"bar_plain = \".$bar_plain-&gt;str;\n\nmy $bar_bb = $c-&gt;resolve( service =&gt; 'bar', parameters =&gt; { str =&gt; 'bar_bb' } );\nsay \"bar_bb = \".$bar_bb-&gt;str;\n\n$bar_bb-&gt;str('bar_bb_setter');\nsay \"bar_bb_setter = \".$bar_bb-&gt;str;\n\nmy $bar_plain_after_bb = Bar-&gt;new({ str =&gt; 'bar_plain_after_bb' });\nsay \"bar_plain_after_bb = \".$bar_plain_after_bb-&gt;str;\n\n\ndie;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>foo_plain = prefix_foo_plain\nfoo_bb = prefix_foo_bb\nfoo_bb_setter = prefix_foo_bb_setter\nfoo_plain_after_bb = prefix_foo_plain_after_bb\nbar_plain = prefix_bar_plain\nbar_bb = bar_bb\nbar_bb_setter = bar_bb_setter\nbar_plain_after_bb = bar_plain_after_bb\n</code></pre>\n\n<p>Please note outputs <code>bar_bb</code>, <code>bar_bb_setter</code> and <code>bar_plain_after_bb</code> do not contain <code>prefix_</code> string.</p>\n\n<p>Why?</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1501094654, "post_id": 45335034, "comment_id": 77632123, "body": "Where to begin? You&#39;re clobbering the statement handle (<code>$sth</code>) in the body of the loop, among many more egregious errors."}, {"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501095066, "post_id": 45335034, "comment_id": 77632360, "body": "Can you elaborate?? Not sure how else I can execute the query without having the sth in the loop.."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1501095161, "post_id": 45335034, "comment_id": 77632418, "body": "Elaborate... sure. You have <code>while (@row = $sth-&gt;fetchrow_array()) { ... }</code>. What do you think happens when you change the loop condition by modifying <code>$sth</code> inside the loop?"}, {"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501095488, "post_id": 45335034, "comment_id": 77632586, "body": "@MattJacob Thank you, I have been working on this for some time and for some reason I didn&#39;t even see that. You are a life-saver."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1501144921, "post_id": 45335034, "comment_id": 77652352, "body": "I&#39;ve reformatted your code to make it easier to follow. If you&#39;re asking strangers to read and understand your code, it&#39;s only polite to make some effort to make it as easy to understand as possible. I don&#39;t think this is the first time I&#39;ve done this for you. Please make more effort in the future."}, {"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1501152804, "post_id": 45335034, "comment_id": 77658346, "body": "@DaveCross I apologize, I am not knowledgeable about Perl and I have to finish this project by today or I fail the class."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1501152981, "post_id": 45335034, "comment_id": 77658488, "body": "Are you implying that you&#39;re not formatting your code carefully because you&#39;re in a hurry? That makes no sense to me at all. Cutting corners on code formatting will only allow you down."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1501153118, "post_id": 45335034, "comment_id": 77658598, "body": "And formatting your code carefully has nothing at all to do with your level of knowledge of Perl. Code formatting is a universal programming necessity."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 0, "creation_date": 1501153698, "post_id": 45345965, "comment_id": 77659002, "body": "Thanks David, I am interested in Perl now that I have time to play with it. I may come with more questions and will keep your advice in mind. I had very little time to finish this project as I am doing it alone and it is supposed to be done by 4 people, but I have completed it now. The form of Perl they teach us does not use CGI and so raw HTML is required in our scripts, I am however interested in learning more about Perl with CGI and the next time I have questions I will format them correctly. Thank you for all of your help."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 0, "creation_date": 1501154374, "post_id": 45345965, "comment_id": 77659492, "body": "<i>The form of Perl they teach us does not use CGI and so raw HTML is required in our scripts</i> You are using CGI, you are writing a CGI program. What you&#39;re not using is CGI.pm the Perl CGI library. CGI.pm is useful, but you should never use the HTML generation functions that it includes. The only sane way to produce HTML in a Perl CGI program is by using a templating engine like the Template Toolkit."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 0, "creation_date": 1501154449, "post_id": 45345965, "comment_id": 77659547, "body": "Also, as I&#39;ve mentioned to you before, writing Perl web apps using CGI in 2017 is madness. If you do want to continue your interest in this, then please look at PSGI and the web frameworks built on top of it."}, {"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 0, "creation_date": 1501154531, "post_id": 45345965, "comment_id": 77659600, "body": "I do use some CGI in my scripts for forms and table building, as well as calling parameters without having to create a loop to parse the POST information from my forms. This is not normally allowed, my teacher made an exception. I have heard Template Toolkit is great to use, however not available on the system we have to use (a school server)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 0, "creation_date": 1501155690, "post_id": 45345965, "comment_id": 77660364, "body": "<i>I do use some CGI in my scripts for forms and table building</i> Yeah. That&#39;s the bit we&#39;ve known to be a terrible idea since the end of the last millennium. And they&#39;ve been <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">deprecated for a few years</a>. Using CGI.pm to parse parameters is, however, a good idea."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1501145930, "creation_date": 1501145930, "answer_id": 45345965, "question_id": 45335034, "link": "https://stackoverflow.com/questions/45335034/while-loop-only-stores-one-value-from-row-sth-fetchrow-array-perl/45345965#45345965", "title": "While loop only stores one value from @row=$sth-&gt;fetchrow_array() perl", "body": "<p>Firstly, you need to get into the habit of formatting your code better. It really helps following logic flow if the formatting imitates the logic.</p>\n\n<p>Secondly, please turn on <code>use strict</code> and get used to declaring variables as close to their point of use as possible.</p>\n\n<p>Thirdly, don't use global variables. Your subroutine uses <code>$cardnum</code>, <code>$salt</code>, <code>$cookievalue</code> and several other variables which are (presumably) defined outside of the subroutine. They should all be passed into the subroutine as parameters.</p>\n\n<p>I know from previous conversations that you have no interest in learning Perl, you're just trying to get through a course that your college insists on. So I should make it clear that all of the advice above has nothing to do with Perl. That is all good general advice for any programming language.</p>\n\n<p>Now, the specific problems.</p>\n\n<p>You're creating a new <code>$dbh</code> any time you want to run a database query. Why not just connect once and then reuse that variable. A single <code>$dbh</code> can support multiple queries executing at the same time.</p>\n\n<p>As Matt has pointed out in the comments, you are overwriting <code>$sth</code>. As I said above, a <code>$dbh</code> can support multiple concurrent queries, but each query needs its own statement handle. So you might do something like:</p>\n\n<pre><code>my $dbh = DBI-&gt;connect(...);\n\nmy $select_sth = $dbh-&gt;prepare($select_sql);\n$select_sth-&gt;execute;\n\nwhile (my @row = $select_sth-&gt;fetchrow_array) {\n  my $insert_sth = $dbh-&gt;prepare($insert_sql);\n  $insert_sth-&gt;execute;\n}\n</code></pre>\n\n<p>Notice how I've a) reused the same <code>$dbh</code> and b) declared the <code>$insert_sth</code> within the loop so it's only available for the shorted possible amount of time.</p>\n\n<p>If you were interested in Perl, I'd also show you how to make your code more efficient by using bind points in your SQL and passing extra parameters to <code>execute()</code>. I'd also recommend moving raw HTML out of your program and using a templating engine. But I strongly suspect you wouldn't be interested.</p>\n"}], "owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 1, "accepted_answer_id": 45345965, "answer_count": 1, "score": 1, "last_activity_date": 1501145930, "creation_date": 1501094390, "last_edit_date": 1501144727, "question_id": 45335034, "link": "https://stackoverflow.com/questions/45335034/while-loop-only-stores-one-value-from-row-sth-fetchrow-array-perl", "title": "While loop only stores one value from @row=$sth-&gt;fetchrow_array() perl", "body": "<pre><code>sub completecheckout {\n    $cryptedcard = md5_hex($cardnum . $salt);\n    $grabcart = qq~select pid from cart where uid='$cookievalue'~;\n    $dbh = DBI-&gt;connect($connectionInfo, $user, $passwd);\n    $sth = $dbh-&gt;prepare($grabcart);\n    $sth-&gt;execute();\n\n    while (@row = $sth-&gt;fetchrow_array()) {\n        $insert = qq~insert transaction (uid, pid, cctype, ccnum)\n                     values ('$cookievalue', '$row[0]', '$cardtype', \n                     '$cryptedcard')~;\n        $dbh = DBI-&gt;connect($connectionInfo, $user, $passwd);\n        $sth = $dbh-&gt;prepare($insert);\n        $sth-&gt;execute();\n    }\n    $select = qq~select * from registered where id in \n                 (select uid from transaction\n                  where uid='$cookievalue')~;\n    $dbh = DBI-&gt;connect($connectionInfo,$user,$passwd);\n    $sth = $dbh-&gt;prepare($select);\n    $sth-&gt;execute();\n    @userinfo = $sth-&gt;fetchrow_array();\n\n    print header;\n    print qq~&lt;html&gt;&lt;head&gt;&lt;title&gt;YAY&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;CHECK MYSQL&lt;p&gt;&lt;p&gt;@row&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;~;\n\n}\n</code></pre>\n\n<p>I am trying to parse through the table cart and insert all the items associated with the user into a transaction table when they click the final checkout button. The above code will only insert the last row into the transaction table.</p>\n\n<p>Here is code that inserts more than once, but does not work because $product is empty every other time.</p>\n\n<pre><code>sub completecheckout {\n    $cryptedcard = md5_hex($cardnum . $salt);\n    $grabcart = qq~select pid from cart where uid='$cookievalue'~;\n    $dbh = DBI-&gt;connect($connectionInfo,$user,$passwd);\n    $sth = $dbh-&gt;prepare($grabcart);\n    $sth-&gt;execute();\n    @cart = $sth-&gt;fetchrow_array();\n    foreach $product (@cart) {\n        $insert = qq~insert transaction (uid, pid, cctype, ccnum) \n                      values ('$cookievalue', '$product', '$cardtype',\n                              '$cryptedcard')~;\n        $dbh = DBI-&gt;connect($connectionInfo,$user,$passwd);\n        $sth = $dbh-&gt;prepare($insert);\n        $sth-&gt;execute();\n    }\n    $select = qq~select * from registered where id in\n                (select uid from transaction\n                 where uid='$cookievalue')~;\n    $dbh = DBI-&gt;connect($connectionInfo,$user,$passwd);\n    $sth = $dbh-&gt;prepare($select);\n    $sth-&gt;execute();\n    @userinfo = $sth-&gt;fetchrow_array();\n    print header;\n    print qq~&lt;html&gt;&lt;head&gt;&lt;title&gt;YAY&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;CHECK MYSQL&lt;p&gt;&lt;p&gt;@userinfo&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;~;\n\n    }\n</code></pre>\n\n<p>Can anyone explain why this happens? I have been using while loops with fetchrow_array throughout my script to create tables linked to databases.</p>\n"}, {"tags": ["string", "perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501092799, "post_id": 45333980, "comment_id": 77631143, "body": "btw, adding <code>$Data::Dumper::Ident=0;</code> will single-liine arrays and hashes."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 7, "last_activity_date": 1501090785, "creation_date": 1501090785, "answer_id": 45333980, "question_id": 45333674, "link": "https://stackoverflow.com/questions/45333674/perl-show-raw-string-including-special-characters/45333980#45333980", "title": "perl: show raw string, including special characters", "body": "<p>The right incantation of <code>Data::Dumper</code> will do this.</p>\n\n<pre><code>use Data::Dumper;\n$Data::Dumper::Terse = 1;\n$Data::Dumper::Useqq = 1;\n\n$foo = \"hello\nthere\";\nprint Dumper $foo;         #  \"hello\\nthere\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1501091146, "post_id": 45334067, "comment_id": 77630152, "body": "this would require running a search replace on every special character."}], "tags": [], "owner": {"reputation": 68, "user_id": 6164487, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c14618116ef81fd1e1ccf70d8eb9c522?s=128&d=identicon&r=PG&f=1", "display_name": "k189", "link": "https://stackoverflow.com/users/6164487/k189"}, "is_accepted": false, "score": 0, "last_activity_date": 1501091085, "creation_date": 1501091085, "answer_id": 45334067, "question_id": 45333674, "link": "https://stackoverflow.com/questions/45333674/perl-show-raw-string-including-special-characters/45334067#45334067", "title": "perl: show raw string, including special characters", "body": "<p>This may help</p>\n\n<pre><code>#!/usr/bin/perl\n\n$str=\"hello\\nthere\";\n\n$str =~ s/\\n/\\\\n/;\n\nprint \"$str\\n\";\n</code></pre>\n\n<p>output:</p>\n\n<p><code>hello\\nthere</code></p>\n"}, {"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 1, "last_activity_date": 1501091504, "creation_date": 1501091504, "answer_id": 45334183, "question_id": 45333674, "link": "https://stackoverflow.com/questions/45333674/perl-show-raw-string-including-special-characters/45334183#45334183", "title": "perl: show raw string, including special characters", "body": "<blockquote>\n  <p>I want to print out the raw text of a string, without interpolating special characters.</p>\n</blockquote>\n\n<p>That isn't really possible.</p>\n\n<p>Escape sequences like <code>\\n</code> are interpreted (not \"interpolated\") when the string is parsed. The source code (\"raw text\") that the string came from is not stored by the interpreter, so there isn't any way to retrieve it.</p>\n\n<p>Tools like <code>Data::Dumper</code> can generate a string that's <em>probably</em> similar to the source code by automatically replacing control characters with their equivalent escape sequences, but this may not be identical to the original source representation. For instance, unnecessary backslashes (like <code>\"this\\ example\"</code>) will not appear in the dumped representation, and nonstandard representations of escape characters (like <code>\"\\x0a\"</code> for <code>\\n</code>) will be replaced with standard ones.</p>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1812, "favorite_count": 0, "accepted_answer_id": 45333980, "answer_count": 3, "score": 1, "last_activity_date": 1501091504, "creation_date": 1501089805, "question_id": 45333674, "link": "https://stackoverflow.com/questions/45333674/perl-show-raw-string-including-special-characters", "title": "perl: show raw string, including special characters", "body": "<p>I want to print out the raw text of a string, without interpolating special characters.  So, for example, if my string is <code>\"hello\\nthere\"</code>, I want to print that, rather than</p>\n\n<pre><code>hello\nthere\n</code></pre>\n\n<p>The string is stored in a variable, I'm not working with literals, so it's not just a matter of single-quote vs double-quote (I don't think). How can I do this?</p>\n"}, {"tags": ["regex", "perl", "conditional"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1501087658, "post_id": 45332870, "comment_id": 77627876, "body": "Something like this <a href=\"https://regex101.com/r/T6QDMh/1/\" rel=\"nofollow noreferrer\">regex101.com/r/T6QDMh/1</a> ?"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4492733, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-C-qdEBmbhD4/AAAAAAAAAAI/AAAAAAAAANs/lb22xrEaUrw/photo.jpg?sz=128", "display_name": "Pushpinder Singh", "link": "https://stackoverflow.com/users/4492733/pushpinder-singh"}, "edited": false, "score": 0, "creation_date": 1501091463, "post_id": 45333033, "comment_id": 77630341, "body": "Thank you. Works perfectly. Also, thank you for the explanation of the regex ."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 103, "user_id": 4492733, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-C-qdEBmbhD4/AAAAAAAAAAI/AAAAAAAAANs/lb22xrEaUrw/photo.jpg?sz=128", "display_name": "Pushpinder Singh", "link": "https://stackoverflow.com/users/4492733/pushpinder-singh"}, "edited": false, "score": 0, "creation_date": 1501091730, "post_id": 45333033, "comment_id": 77630497, "body": "@PushpinderSingh: You&#39;re welcome, glad it helps. Feel free to mark the answer as accepted, see: <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 2, "last_activity_date": 1501088609, "last_edit_date": 1501088609, "creation_date": 1501087748, "answer_id": 45333033, "question_id": 45332870, "link": "https://stackoverflow.com/questions/45332870/perl-regex-print-the-matched-conditional-regex/45333033#45333033", "title": "Perl Regex - Print the matched Conditional Regex", "body": "<p>This will do the job:</p>\n\n<pre><code>use Modern::Perl;\nuse Data::Dumper;\n\nmy $re = qr/(FPJ.+?PRD)\\.(\\d+)\\..*?(\\d+)$/;\nwhile(&lt;DATA&gt;) {\n    chomp;\n    my (@l) = $_ =~  /$re/g;\n    say Dumper\\@l;\n}\n\n__DATA__\nsequence_history/buckets/FPJ.INV_DOM_16_PRD.47269.2644?startid=2644000&amp;endid=2644666\nsequence_history/buckets/FPJ.INV_DOM_16_PRD.41987.9616\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$VAR1 = [\n          'FPJ.INV_DOM_16_PRD',\n          '47269',\n          '2644666'\n        ];\n\n$VAR1 = [\n          'FPJ.INV_DOM_16_PRD',\n          '41987',\n          '9616'\n        ];\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<pre><code>(       : start group 1\n  FPJ   : literally FPJ\n  .+?   : 1 or more any character but newline, not greedy\n  PRD   : literally PRD\n)       : end group 1\n\\.      : a dot\n(       : start group 2\n  \\d+   : 1 or more digit\n)       : end group 2\n\\.      : a dot\n.*?     : 0 or more any character not greedy\n(       : start group 3\n  \\d+   : 1 or more digit\n)       : end group 3\n$       : end of string\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68, "user_id": 6164487, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c14618116ef81fd1e1ccf70d8eb9c522?s=128&d=identicon&r=PG&f=1", "display_name": "k189", "link": "https://stackoverflow.com/users/6164487/k189"}, "is_accepted": false, "score": 0, "last_activity_date": 1501090060, "last_edit_date": 1501090060, "creation_date": 1501089538, "answer_id": 45333577, "question_id": 45332870, "link": "https://stackoverflow.com/questions/45332870/perl-regex-print-the-matched-conditional-regex/45333577#45333577", "title": "Perl Regex - Print the matched Conditional Regex", "body": "<p>If you are trying to fetch some entries in log file, then you can use file handles in perl. In below code i'm trying to fetch the entries from a log file named as test.log</p>\n\n<p>Entries of the log are as below.</p>\n\n<pre><code>sequence_history/buckets/FPJ.INV_DOM_16_PRD.47269.2644?startid=2644000&amp;endid=2644666\nsequence_history/buckets/FPJ.INV_DOM_16_PRD.41987.9616\nsequence_history/buckets/FPJ.INV_DOM_16_PRD.47269.69886?startid=2644000&amp;endid=26765849\nsequence_history/buckets/FPJ.INV_DOM_16_PRD.47269.24465?startid=2644000&amp;endid=836783741\n</code></pre>\n\n<p>Below is the perl script to fetch required data.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nopen (FH, \"test.log\") || die \"Not able to open test.log $!\";\n\nmy ($a,$b,$c);\nwhile (my $line=&lt;FH&gt;)\n{\n\n        if ($line =~ /sequence_history\\/buckets\\/.*endid=(\\d*)/)\n        {\n                $c= $1;\n                if ($line =~ /(FPJ.*PRD)\\.(\\d*)\\.(\\d*)\\?/)\n                {\n                        $a=$1;\n                        $b=$2;\n                }\n        }\n        else\n        {\n                if ($line =~ /sequence_history\\/buckets\\/(FPJ.*PRD)\\.(\\d*)\\.(\\d*)/)\n                {\n                        $a=$1;\n                        $b=$2;\n                        $c=$3;\n                }\n        }\n\nprint \"\\n \\$a=$a\\n \\$b=$b\\n \\$c=$c \\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> $a=FPJ.INV_DOM_16_PRD\n $b=47269\n $c=2644666 \n\n $a=FPJ.INV_DOM_16_PRD\n $b=41987\n $c=9616 \n\n $a=FPJ.INV_DOM_16_PRD\n $b=47269\n $c=26765849 \n\n $a=FPJ.INV_DOM_16_PRD\n $b=47269\n $c=836783741 \n</code></pre>\n\n<p>You can use the above code by replacing \"test.log\" by log file name (along with its path) from which you want to fetch data as shown below.</p>\n\n<pre><code>open (FH, \"/path/to/log/file/test.log\") || die \"Not able to open test.log $!\";\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 4492733, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-C-qdEBmbhD4/AAAAAAAAAAI/AAAAAAAAANs/lb22xrEaUrw/photo.jpg?sz=128", "display_name": "Pushpinder Singh", "link": "https://stackoverflow.com/users/4492733/pushpinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 45333033, "answer_count": 2, "score": 2, "last_activity_date": 1501090060, "creation_date": 1501087220, "question_id": 45332870, "link": "https://stackoverflow.com/questions/45332870/perl-regex-print-the-matched-conditional-regex", "title": "Perl Regex - Print the matched Conditional Regex", "body": "<p>I am trying to extract some patterns out of a log file but I am unable to print them properly. </p>\n\n<p>Examples of log strings : </p>\n\n<pre><code>1) sequence_history/buckets/FPJ.INV_DOM_16_PRD.47269.2644?startid=2644000&amp;endid=2644666\n\n2) sequence_history/buckets/FPJ.INV_DOM_16_PRD.41987.9616\n</code></pre>\n\n<p>I want to extract 3 things : </p>\n\n<blockquote>\n  <p>A = \"FPJ.INV_DOM_16_PRD\" B = \"47269\" C = 9616 or 2644666 (if the line\n  has endid then C = 2644666 else it's 9616)</p>\n</blockquote>\n\n<p>log line can either be of type 1 or 2. I am able to extract A and B but I am stuck with C as I need a conditional statement for it and I am not able to extract it properly. I am pasting my code : </p>\n\n<pre><code>my $string='/sequence_history/buckets/FPJ.INV_DOM_16_PRD.47269.2644?startid=2644000&amp;endid=2644666';\n\nif ($string =~ /sequence_history\\/buckets\\/(.*)/){\n    my $line = $1;\n    print \"$line\\n\";\n    if($line =~ /(FPJ.*PRD)\\.(\\d*)\\./){\n        my $topic_type_string = $1;\n        my $topic_id = $2;\n        print \"$1\\n$2\\n\";\n\n    }\nif($string =~ /(?(?=endid=)\\d*$)/){\n    # how to print match pattern here? \n    print \"match\\n\";\n}\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 19, "user_id": 3800888, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ac33eaa6babca211dd8bb65e889b00cb?s=128&d=identicon&r=PG&f=1", "display_name": "user3800888", "link": "https://stackoverflow.com/users/3800888/user3800888"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1501084544, "post_id": 45331832, "comment_id": 77625729, "body": "I am facing an error while doing this"}, {"owner": {"reputation": 19, "user_id": 3800888, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ac33eaa6babca211dd8bb65e889b00cb?s=128&d=identicon&r=PG&f=1", "display_name": "user3800888", "link": "https://stackoverflow.com/users/3800888/user3800888"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1501084781, "post_id": 45331832, "comment_id": 77625910, "body": "I am pushing an array (1,2,3) (for example) into @array_of_boards each time. Is the way I am accessing each row wrong?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501085458, "post_id": 45331832, "comment_id": 77626414, "body": "You&#39;ll need to show the code where you create the array. It probably doesn&#39;t contain what you think it does."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501085525, "post_id": 45331832, "comment_id": 77626451, "body": "Also, <code>{}</code> is the syntax for a hash reference. An array reference would be <code>[]</code>."}, {"owner": {"reputation": 19, "user_id": 3800888, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ac33eaa6babca211dd8bb65e889b00cb?s=128&d=identicon&r=PG&f=1", "display_name": "user3800888", "link": "https://stackoverflow.com/users/3800888/user3800888"}, "edited": false, "score": 0, "creation_date": 1501085887, "post_id": 45331832, "comment_id": 77626706, "body": "Have made changes in the code.. Thanks a ton."}, {"owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "edited": false, "score": 0, "creation_date": 1501086680, "post_id": 45331832, "comment_id": 77627287, "body": "You should have a look at <a href=\"https://perldoc.perl.org/perllol.html\" rel=\"nofollow noreferrer\">this</a>. In order to create arrays of arrays you should push the elements with []."}, {"owner": {"reputation": 19, "user_id": 3800888, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ac33eaa6babca211dd8bb65e889b00cb?s=128&d=identicon&r=PG&f=1", "display_name": "user3800888", "link": "https://stackoverflow.com/users/3800888/user3800888"}, "edited": false, "score": 0, "creation_date": 1501093411, "post_id": 45331832, "comment_id": 77631484, "body": "works, thank you so much."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1501094384, "post_id": 45331832, "comment_id": 77631991, "body": "@user3800888 <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1501087226, "creation_date": 1501087226, "answer_id": 45332874, "question_id": 45331832, "link": "https://stackoverflow.com/questions/45331832/how-to-fetch-data-from-a-2d-array-in-perl-row-by-row/45332874#45332874", "title": "How to fetch data from a 2D array in perl row by row?", "body": "<p>This code:</p>\n\n<pre><code>my @array_of_boards = (0, 0, 0);\nmy @temp_array = (1, 2, 3);\npush(@array_of_boards, @temp_array);\n</code></pre>\n\n<p>Is equivalent to this:</p>\n\n<pre><code>my @array_of_boards = (0, 0, 0);\npush(@array_of_boards, 1, 2, 3);\n</code></pre>\n\n<p>And produces an array that contains six elements, which you can see in the output from <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a>:</p>\n\n<pre><code>$VAR1 = [\n          0,\n          0,\n          0,\n          1,\n          2,\n          3\n        ];\n</code></pre>\n\n<p>Instead, each element of the outer array should be an array reference, like so:</p>\n\n<pre><code>my @array_of_boards = ([0, 0, 0]);\npush(@array_of_boards, [1, 2, 3]);\n</code></pre>\n\n<p>This results in the following data structure:</p>\n\n<pre><code>$VAR1 = [\n          [\n            0,\n            0,\n            0\n          ],\n          [\n            1,\n            2,\n            3\n          ]\n        ];\n</code></pre>\n\n<p>Which can then be accessed as intended:</p>\n\n<pre><code>for my $array_ref (@array_of_boards) {\n    my @row = @$array_ref;\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 3800888, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ac33eaa6babca211dd8bb65e889b00cb?s=128&d=identicon&r=PG&f=1", "display_name": "user3800888", "link": "https://stackoverflow.com/users/3800888/user3800888"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1501094319, "creation_date": 1501084173, "last_edit_date": 1501094319, "question_id": 45331832, "link": "https://stackoverflow.com/questions/45331832/how-to-fetch-data-from-a-2d-array-in-perl-row-by-row", "title": "How to fetch data from a 2D array in perl row by row?", "body": "<p>I have an array named @array_of_boards and the data in it looks like this,\n<code>[{1,2,3},{4,5,6},{3,4,5}]</code>.</p>\n\n<p>How do I loop through this array to fetch data row by row since I have to insert them into a table.</p>\n\n<pre><code>ColA,ColB,ColC\n1,2,3\n4,5,6\n3,4,5\n\nmy @array_of_boards=(0,0,0);\nmy @temp_array = (1,2,3);\npush @array_of_boards,@temp_array\n@temp_array = (4,5,6);\npush @array_of_boards,@temp_array\n@temp_array = (3,4,5);\npush @array_of_boards,@temp_array\n</code></pre>\n\n<p>I tried using this,but it fails to allign the data properly.</p>\n\n<pre><code>foreach my $row (@array_of_boards){\n    my ($ColA,$ColB,$ColC)=$row;\n    ##followed by printing statements\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1501083773, "post_id": 45331498, "comment_id": 77625137, "body": "1. Don&#39;t use smartmatch. 2. Configure your PERL5OPT (see <a href=\"http://p3rl.org/perlrun\" rel=\"nofollow noreferrer\">perlrun</a>)."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1501083967, "post_id": 45331498, "comment_id": 77625281, "body": "Re: smartmatch: are you saying smartmatch is bad, or are you saying it&#39;s not compatible with my goal of avoiding the ugly no-if-warnings line?"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1501084291, "post_id": 45331498, "comment_id": 77625512, "body": "re: PERL5OPT: I don&#39;t see anything relevant there."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501084349, "post_id": 45331498, "comment_id": 77625562, "body": "It allows you to specify command line options, such as <code>-M</code>. That would only &quot;help&quot; for the main program file, though."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1501084900, "post_id": 45331498, "comment_id": 77626001, "body": "Are you suggesting that I pass the &quot;no-if-warnings&quot; things via the -M flag?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1501085024, "post_id": 45331498, "comment_id": 77626092, "body": "That&#39;s where <code>choroba</code> was going with that, but most definitely &quot;no!&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1501086067, "post_id": 45331868, "comment_id": 77626856, "body": "Okay, so it seems that the very smartmatch feature I was relying on is the one that&#39;s going away.  I could just stick my head in the sand and assume that if it hasn&#39;t happened yet then it probably won&#39;t for a while, but even I&#39;m not quite that foolhardy.  I shall have to find another way to check if a value is contained in a list.  Thank you!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 1, "creation_date": 1501086204, "post_id": 45331868, "comment_id": 77626955, "body": "<code>if ( grep { $_ eq &#39;target&#39; } @a )</code>"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1501086264, "post_id": 45331868, "comment_id": 77627008, "body": "Not as pretty, but it will do.  Thanks once more!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1501086308, "post_id": 45331868, "comment_id": 77627045, "body": "muh. If it&#39;s that ugly, move it into a sub. <code>if (inlist(&#39;target&#39;, @a))</code>"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1501086336, "post_id": 45331868, "comment_id": 77627071, "body": "Not so ugly that it&#39;s worth moving into a sub :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1501085113, "last_edit_date": 1501085113, "creation_date": 1501084297, "answer_id": 45331868, "question_id": 45331498, "link": "https://stackoverflow.com/questions/45331498/perl-warnings-as-in-specific-version/45331868#45331868", "title": "Perl warnings as in specific version?", "body": "<blockquote>\n  <p>I want to use the smartmatch operator</p>\n</blockquote>\n\n<p>Don't! The design of smart-matching is broken, and it WILL be removed or changed in a backwards incompatible manner. See <a href=\"https://stackoverflow.com/q/16927024/589924\">this</a>.</p>\n\n<hr>\n\n<blockquote>\n  <p>Is there a way to ask for \"no new warnings please\"? </p>\n</blockquote>\n\n<p>No. You can explicitly specify which categories of warnings you want to get, but that only stops new categories, not new warnings in existing categories.</p>\n\n<p>Not actually what you asked, but you can filter warnings using a <code>$SIG{__WARN__}</code> hook. Of course, that's far more code than that one line.</p>\n\n<hr>\n\n<blockquote>\n  <p>I don't want to type this ugly thing</p>\n</blockquote>\n\n<p>The following is sufficient if you use 5.18+:</p>\n\n<pre><code>no warnings qw( experimental::smartmatch );\n</code></pre>\n\n<p>If you might not have 5.18, then you could still simplify a tiny bit by using</p>\n\n<pre><code>no if $] &gt;= 5.018, warnings =&gt; qw( experimental::smartmatch );\n</code></pre>\n\n<p>Using <a href=\"http://search.cpan.org/perldoc?Import::Into\" rel=\"nofollow noreferrer\">Import::Into</a>, you could also create module that replaces the following boilerplate with just a simple <code>use</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( switch );\nno if $] &gt;= 5.017011, warnings =&gt; qw( experimental::smartmatch );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1501091302, "post_id": 45333983, "comment_id": 77630253, "body": "I&#39;m actually using FATAL =&gt; &#39;all&#39;, which admittedly has its own issues, but you&#39;ll admit that it guarantees that warnings get noticed.  Luckily this is a user script (think grep or diff), so there is someone there to do something about it."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1501091660, "post_id": 45333983, "comment_id": 77630457, "body": "Okay, info added."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 0, "last_activity_date": 1501090800, "creation_date": 1501090800, "answer_id": 45333983, "question_id": 45331498, "link": "https://stackoverflow.com/questions/45331498/perl-warnings-as-in-specific-version/45333983#45333983", "title": "Perl warnings as in specific version?", "body": "<p>My unpopular opinion is that warnings are for development and testing but not production. Warnings that nobody sees aren't very useful.</p>\n\n<p>You can turn off warnings:</p>\n\n<pre><code>no warnings;\n</code></pre>\n\n<p>And you can turn off types of <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow noreferrer\">warnings</a>:</p>\n\n<pre><code>no warnings qw(void);\n</code></pre>\n\n<p>My advice only works if you're doing the smart thing of creating a test suite and using that to check your upgrade before you deploy it. If you're upgrading and hoping for the best, this doesn't really work for you because warnings aren't the biggest problem you might face. I'd be more worried about subtle behavior changes and module upgrades.</p>\n\n<p>If you aren't testing before you deploy, watch the logs for a few days. When you see the warnings that you aren't going to fix, you can disable them. But that means you are logging stuff, which I also notice people tend not to do. :)</p>\n"}], "owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 45331868, "answer_count": 2, "score": 2, "last_activity_date": 1501091609, "creation_date": 1501083278, "last_edit_date": 1501091609, "question_id": 45331498, "link": "https://stackoverflow.com/questions/45331498/perl-warnings-as-in-specific-version", "title": "Perl warnings as in specific version?", "body": "<p>At the top of a Perl script, one can write <code>use v5.14</code> and if the interpreter is older than that, it will exit with an error instead of trying (in vain) to execute a script that depends on features that don't exist yet.  Further, this allows the addition of new features without breaking older scripts that expected to be able to use new keywords as identifiers.  However, as far as I can tell, this does NOT prevent Perl from inventing new warnings, so code that ran without warnings in an old version will emit them in a new one.  Is there a way to ask for \"no new warnings please\"?  The context for this is admittedly silly: I want to use the smartmatch operator, which was retroactively declared experimental, and I don't want to type this ugly thing:</p>\n\n<p><code>no if $] &gt;= 5.017011, warnings =&gt; 'experimental::smartmatch'</code></p>\n\n<p>EDIT: Footnote: I'm actually using FATAL => 'all', which admittedly has its own issues, but it guarantees that warnings get noticed. Luckily this is a user script (think grep or diff), so there is someone there to do something about it</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1501083468, "post_id": 45330857, "comment_id": 77624920, "body": "This still ends up needlessly recreating the hash (or array) in the sub. Using a reference is the way to go, but actually use the reference!"}], "tags": [], "owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "is_accepted": false, "score": 0, "last_activity_date": 1501081567, "creation_date": 1501081567, "answer_id": 45330857, "question_id": 45330619, "link": "https://stackoverflow.com/questions/45330619/split-the-string-and-pass-each-element-as-argument-in-perl/45330857#45330857", "title": "Split the string and pass each element as argument in perl", "body": "<p>May be a more elegant way but this works :</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nmy %hash=(1=&gt;\"Hi\",2=&gt;\"Hello\");\nmy @list=%hash;\n\nfunc1(\\@list);\nfunc2(\\%hash);\n\nsub func1{\n        #Statements will go here\n        my @args = @{+shift};\n        print join(',',@args), \"\\n\";\n}\n\nsub func2{\n        #Statements will go here\n        my %args = %{+shift};\n        print join(',',keys %args), \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1501082755, "last_edit_date": 1501082755, "creation_date": 1501082449, "answer_id": 45331192, "question_id": 45330619, "link": "https://stackoverflow.com/questions/45330619/split-the-string-and-pass-each-element-as-argument-in-perl/45331192#45331192", "title": "Split the string and pass each element as argument in perl", "body": "<p>Don't use quotes, it should be,</p>\n\n<pre><code>func(map { $hash{$_},$_ } keys %hash);\n</code></pre>\n\n<p>When you are using quotes to the string, it is a singe data.</p>\n\n<p>For example,</p>\n\n<pre><code>func (\"data1,data2,data3\"); #Here you are passing single parameter to a function. You are doing this mistake. \n\nfunc (\"data1\",\"data2\",\"data3\"); #Here you are passing three parameters to the function.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1501083134, "creation_date": 1501083134, "answer_id": 45331442, "question_id": 45330619, "link": "https://stackoverflow.com/questions/45330619/split-the-string-and-pass-each-element-as-argument-in-perl/45331442#45331442", "title": "Split the string and pass each element as argument in perl", "body": "<p>Just pass the hash itself in directly, e.g.</p>\n\n<pre><code>func( %hash );\n</code></pre>\n\n<p>The hash key/value pairs are flattened out into the argument array <code>@_</code>.</p>\n\n<pre><code>sub func\n{\n    print join \",\", @_;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 0, "creation_date": 1501160560, "post_id": 45331469, "comment_id": 77664164, "body": "I am passing the arguments to one of the function in ARS perl module. In which, I need to pass sufficient amount of arguments. When I pass like what I coded in above is not accepting."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1501083214, "creation_date": 1501083214, "answer_id": 45331469, "question_id": 45330619, "link": "https://stackoverflow.com/questions/45330619/split-the-string-and-pass-each-element-as-argument-in-perl/45331469#45331469", "title": "Split the string and pass each element as argument in perl", "body": "<p>You can return multiple values from a <code>map</code> BLOCK. You could use</p>\n\n<pre><code>func(map { $_, $hash{$_} } keys %hash);\n</code></pre>\n\n<p>but that's just the same as</p>\n\n<pre><code>func(%hash);\n</code></pre>\n\n<p>This passes the keys and values of the hash, so you could do</p>\n\n<pre><code>sub func {\n    say join \", \", @_;\n}\n</code></pre>\n\n<p>But to lookup values by keys means reconstructing the hash.</p>\n\n<pre><code>sub func {\n    my %new_hash = @_;\n    say $new_hash{2};\n}\n\nfunc(%hash);\n</code></pre>\n\n<p>It's rather ridiculous to pass the elements of the hash to create a new hash on the inside. So let's pass the hash instead. This can't actually be done, but we could pass a reference to the hash.</p>\n\n<pre><code>sub func {\n   my ($hash) = @_;\n   say $hash-&gt;{2};\n}\n\nfunc(\\%hash);\n</code></pre>\n"}], "owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1501083214, "creation_date": 1501080973, "question_id": 45330619, "link": "https://stackoverflow.com/questions/45330619/split-the-string-and-pass-each-element-as-argument-in-perl", "title": "Split the string and pass each element as argument in perl", "body": "<p>I want to pass the hash key and pair values as argument to function. The below code I have tried. Please advise the way we can pass arguments to function by split the string or mapping the hash.</p>\n\n<pre><code>use strict;\nmy %hash=(1=&gt;\"Hi\",2=&gt;\"Hello\");\n\nfunc(map { \"$_,$hash{$_}\" } keys %hash);\n\nsub func{\n#Statements will go here\nmy $arg1=shift;\nmy $arg2=shift;\nmy $arg3=shift;\nmy $arg4=shift;\nprint \"$arg1,$arg2,$arg3,$arg4\";\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501095705, "post_id": 45329989, "comment_id": 77632711, "body": "btw, the &quot;<code>l</code>&quot; in &quot;<code>%ld</code>&quot; is meaningless in Perl."}], "answers": [{"tags": [], "owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "is_accepted": false, "score": 0, "last_activity_date": 1501081763, "creation_date": 1501081763, "answer_id": 45330927, "question_id": 45329989, "link": "https://stackoverflow.com/questions/45329989/perl-bigint-not-working-with-regexp-matches/45330927#45330927", "title": "perl bigint not working with regexp matches", "body": "<p>The behavior of your code changes between perl 5.16 and perl 5.18. I didn't research it further to know if the change was a fix or an implementation.</p>\n\n<pre><code>$ PATH=/usr/local/ActivePerl-5.16/bin:$PATH\n\n$ grep -E '^java.lang.IllegalArgumentException.*timeStampLastSeekPoint' messages |     perl -ne 'if (/timeInNanos=(\\d+), timeStampLastSeekPoint=(\\d+)/) { printf(\"%ld %ld %ld\\n\", $1, $2, $2 - $1) }' | head -5\n1500629929661000010 1500629929661000011 0\n1500629929661000010 1500629929661000011 0\n\n$ PATH=/usr/local/ActivePerl-5.18/bin:$PATH\n\n$ grep -E '^java.lang.IllegalArgumentException.*timeStampLastSeekPoint' messages |     perl -ne 'if (/timeInNanos=(\\d+), timeStampLastSeekPoint=(\\d+)/) { printf(\"%ld %ld %ld\\n\", $1, $2, $2 - $1) }' | head -5\n1500629929661000010 1500629929661000011 1\n1500629929661000010 1500629929661000011 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 1349765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb5ff505d281ac871cf60aa3dc47e801?s=128&d=identicon&r=PG", "display_name": "dosa", "link": "https://stackoverflow.com/users/1349765/dosa"}, "edited": false, "score": 0, "creation_date": 1501162770, "post_id": 45335463, "comment_id": 77666228, "body": "Thanks for the great explanation.  I didn&#39;t know <code>use bigint</code> only affects numeric literals.  I am puzzled how <code>($b=$2) - ($a=$1)</code> solves it (I just confirmed that it works without <code>-Mbigint</code>).  I thought <code>bigint</code> did the magic during the assignment."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1501097244, "last_edit_date": 1501097244, "creation_date": 1501095968, "answer_id": 45335463, "question_id": 45329989, "link": "https://stackoverflow.com/questions/45329989/perl-bigint-not-working-with-regexp-matches/45335463#45335463", "title": "perl bigint not working with regexp matches", "body": "<p><code>use bigint;</code> has no effect on your program because it only affects numeric literals, and your program has none.</p>\n\n<p><code>use bigint;</code> effectively replaces numeric literals with <code>Math::BigInt-&gt;new(\"LITERAL\")</code>. This means that</p>\n\n<pre><code>use bigint;\n\n2\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>use Math::BigInt qw( );\n\nMath::BigInt-&gt;new(\"2\")\n</code></pre>\n\n<p>This presents a solution:</p>\n\n<pre><code>use Math::BigInt qw( );\n\nMath::BigInt-&gt;new($2) - Math::BigInt-&gt;new($1)\n</code></pre>\n\n<p>But thanks to overloaded operators, you could simply use</p>\n\n<pre><code>use Math::BigInt qw( );\n\nMath::BigInt-&gt;new($2) - $1\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use bigint;\n\n0 + $2 - $1\n</code></pre>\n\n<p>In all cases, you want to use <code>%s</code> (not <code>%d</code>) to have M::BI stringify the num\ninstead of having it numify to an integer.</p>\n"}], "owner": {"reputation": 13, "user_id": 1349765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb5ff505d281ac871cf60aa3dc47e801?s=128&d=identicon&r=PG", "display_name": "dosa", "link": "https://stackoverflow.com/users/1349765/dosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 45335463, "answer_count": 2, "score": 1, "last_activity_date": 1501097244, "creation_date": 1501079507, "question_id": 45329989, "link": "https://stackoverflow.com/questions/45329989/perl-bigint-not-working-with-regexp-matches", "title": "perl bigint not working with regexp matches", "body": "<p>I see the following log messages.  By looking at the numbers, I have a suspicion that <code>timeStampLastSeekPoint</code> is always one plus <code>timeInNanos</code>.</p>\n\n<pre><code>% grep -E '^java.lang.IllegalArgumentException.*timeStampLastSeekPoint' messages | head -5                              \njava.lang.IllegalArgumentException: timeInNanos=1500629929661000010, timeStampLastSeekPoint=1500629929661000011\njava.lang.IllegalArgumentException: timeInNanos=1500629929661000010, timeStampLastSeekPoint=1500629929661000011\njava.lang.IllegalArgumentException: timeInNanos=1500629929661000010, timeStampLastSeekPoint=1500629929661000011\njava.lang.IllegalArgumentException: timeInNanos=1500630763150000010, timeStampLastSeekPoint=1500630763150000011\njava.lang.IllegalArgumentException: timeInNanos=1500630763150000010, timeStampLastSeekPoint=1500630763150000011\n</code></pre>\n\n<p>To confirm my suspicion, I pipe into this perl one-liner to extract numbers and show the difference.  The differences show all 0s, which can't be true.  It is immediately clear that I need higher precision.</p>\n\n<pre><code>% grep -E '^java.lang.IllegalArgumentException.*timeStampLastSeekPoint' messages | \\\n    perl -ne 'if (/timeInNanos=(\\d+), timeStampLastSeekPoint=(\\d+)/) { printf(\"%ld %ld %ld\\n\", $1, $2, $2 - $1) }' | head -5      \n1500629929661000010 1500629929661000011 0\n1500629929661000010 1500629929661000011 0\n1500629929661000010 1500629929661000011 0\n1500630763150000010 1500630763150000011 0\n1500630763150000010 1500630763150000011 0\n</code></pre>\n\n<p>I googled, found the <code>bigint</code> module, and tried it.  However, it still doesn't work.</p>\n\n<pre><code>% grep -E '^java.lang.IllegalArgumentException.*timeStampLastSeekPoint' messages | \\\n    perl -Mbigint -ne 'if (/timeInNanos=(\\d+), timeStampLastSeekPoint=(\\d+)/) { printf(\"%ld %ld %ld\\n\", $1, $2, $2 - $1) }' | head -5                                 \n1500629929661000010 1500629929661000011 0                                                                                   \n1500629929661000010 1500629929661000011 0\n1500629929661000010 1500629929661000011 0\n1500630763150000010 1500630763150000011 0\n1500630763150000010 1500630763150000011 0\n</code></pre>\n\n<p>After a few attempts, I find that it works only after the regexp matches are assigned to regular variables.  As an aside, I now confirm my suspicion that the diff is always 1.</p>\n\n<pre><code>% grep -E '^java.lang.IllegalArgumentException.*timeStampLastSeekPoint' messages | \\\n    perl -Mbigint -ne 'if (/timeInNanos=(\\d+), timeStampLastSeekPoint=(\\d+)/) { printf(\"%ld %ld %ld\\n\", $1, $2, ($b=$2) - ($a=$1)) }' | head -5                       \n1500629929661000010 1500629929661000011 1                                                                                   \n1500629929661000010 1500629929661000011 1\n1500629929661000010 1500629929661000011 1\n1500630763150000010 1500630763150000011 1\n1500630763150000010 1500630763150000011 1                                                                                   \n</code></pre>\n\n<p>All good now that I find the workaround.  However, it is not intuitive why the assignments are necessary.  Shouldn't <code>$2 - $1</code> just work?  It feels like a bug.  Or, is there an explanation to understand that this is a reasonable behavior?  The perl version is v5.14.2.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501080197, "post_id": 45330139, "comment_id": 77622169, "body": "Thank you! Is there a way to simply call <code>$ex</code> with <code>$ex()</code> as opposed to <code>$ex-&gt;()</code>?"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501080361, "post_id": 45330139, "comment_id": 77622306, "body": "I don&#39;t think so. As far as I know, classes are always stored as a reference so you need to use the dereference operator <code>-&gt;</code> in order to access the class data."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1501080559, "post_id": 45330139, "comment_id": 77622450, "body": "Or you can do <code>&amp;$ex()</code> but I don&#39;t think that looks any better IMHO and also makes the assumption that $ex is a function ref."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501097680, "post_id": 45330139, "comment_id": 77633814, "body": "@tjwrona1992, Your <code>new</code> always returns the same object. Also, you don&#39;t explain how to give attributes to your object, which is quite <a href=\"https://stackoverflow.com/a/44957490/589924\">complicated</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501097761, "post_id": 45330139, "comment_id": 77633865, "body": "@aoiee, Re &quot;<i>Is there a way to simply call <code>$ex</code> with <code>$ex()</code> as opposed to <code>$ex-&gt;()</code></i>&quot;, You can make reading from <code>$ex</code> call a sub, but then you wouldn&#39;t be able to pass arguments to the sub, and you wouldn&#39;t be able to assign to the object to any other var. /// <code>$ex()</code> is not a sub call; it&#39;s not even valid Perl syntax. /// You could make <code>$$ex</code> call a sub, but you wouldn&#39;t be able to pass arguments to the sub."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501180506, "post_id": 45330139, "comment_id": 77678549, "body": "@ikegami, yes it&#39;s true that in my example it will return the same object every time and does not allow attributes. Thank you for the clarification and link to more information."}], "tags": [], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "is_accepted": true, "score": 3, "last_activity_date": 1501079877, "creation_date": 1501079877, "answer_id": 45330139, "question_id": 45329936, "link": "https://stackoverflow.com/questions/45329936/make-a-perl-object-callable/45330139#45330139", "title": "Make a Perl object callable?", "body": "<p>This can be done by blessing a function reference instead of a hash reference to create the class.</p>\n\n<p>For example:</p>\n\n<p><strong>Example.pm:</strong></p>\n\n<pre><code>package Example;\nuse strict;\nuse warnings;\nsub new {\n    my ($class) = @_;\n    my $self = \\&amp;call;\n    bless($self, $class);\n    return $self;\n}\n\n# implement function to make class callable\nsub call {\n    print \"Calling the function\\n\";\n}\n\n1;\n</code></pre>\n\n<p><strong>main.pl:</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse Example;\n\nmy $ex = Example-&gt;new();\n$ex-&gt;();\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p>Calling the function</p>\n</blockquote>\n"}], "owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 1, "closed_date": 1501081448, "accepted_answer_id": 45330139, "answer_count": 1, "score": 2, "last_activity_date": 1501079877, "creation_date": 1501079418, "question_id": 45329936, "link": "https://stackoverflow.com/questions/45329936/make-a-perl-object-callable", "closed_reason": "Duplicate", "title": "Make a Perl object callable?", "body": "<p>In Perl 5, is there a way to make an object callable?</p>\n\n<p><strong>Example.pm</strong></p>\n\n<pre><code>package Example;\nuse strict;\nuse warnings;\nsub new {\n    my ($class) = @_;\n    my $self = {};\n    bless($self, $class);\n    return $self;\n}\n\n# implement function to make class callable\n\n1;\n</code></pre>\n\n<p><strong>main.pl</strong></p>\n\n<pre><code>use Example;\nmy $ex = Example-&gt;new();\nmy $ex(); # call the object like this\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1501077509, "post_id": 45329007, "comment_id": 77619894, "body": "I think you need <a href=\"https://regex101.com/r/R1w0ei/1\" rel=\"nofollow noreferrer\"><code>if[ \\t]*(\\((?:[^()]++|(?1))*\\))</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": true, "score": 3, "last_activity_date": 1501077387, "creation_date": 1501077387, "answer_id": 45329060, "question_id": 45329007, "link": "https://stackoverflow.com/questions/45329007/match-balanced-brackets-after-certain-string/45329060#45329060", "title": "Match balanced brackets after certain string", "body": "<p><code>(?R)</code> means <em>recursing whole pattern</em> while you need to recurs chunk of it:</p>\n\n<pre><code>if[ \\t]*(\\((?&gt;[^()]+|(?1))*\\))\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/CqNzKp/1\" rel=\"nofollow noreferrer\">Live demo</a></p>\n"}], "owner": {"reputation": 143, "user_id": 4607884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e749719b9688fa2eaeaccd0b13f59e?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Salah", "link": "https://stackoverflow.com/users/4607884/ahmed-salah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 45329060, "answer_count": 1, "score": 0, "last_activity_date": 1501077387, "creation_date": 1501077232, "last_edit_date": 1501077309, "question_id": 45329007, "link": "https://stackoverflow.com/questions/45329007/match-balanced-brackets-after-certain-string", "title": "Match balanced brackets after certain string", "body": "<p>I am having trouble matching balanced brackets after a certain string\"if\". I know that I can match balanced brackets using </p>\n\n<pre><code>((?&gt;[^()]|(?R))?\\)\n</code></pre>\n\n<p>and that works just fine. However, when I add my string \"if\" before the this regular expression to be</p>\n\n<pre><code>if[ \\t]*((?&gt;[^()]|(?R))?\\)\n</code></pre>\n\n<p>It only matches single balanced brackets after \"if\".</p>\n\n<p>online demo: <a href=\"https://regex101.com/r/6lg0qi/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/6lg0qi/3</a></p>\n"}, {"tags": ["regex", "perl", "hash"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 2, "creation_date": 1501076613, "post_id": 45328720, "comment_id": 77619123, "body": "Where is your code?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1501077569, "post_id": 45328720, "comment_id": 77619951, "body": "Where is your Perl code? We need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> added to the question so we know what you&#39;re trying to do"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1501077639, "post_id": 45328720, "comment_id": 77620006, "body": "I asked you for perl code And, edit your question instead of puting some code in comments. It&#39;s unreadable."}], "answers": [{"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": true, "score": 1, "last_activity_date": 1501078570, "creation_date": 1501078570, "answer_id": 45329579, "question_id": 45328720, "link": "https://stackoverflow.com/questions/45328720/updating-and-creating-new-elements-in-a-hash-table/45329579#45329579", "title": "Updating and creating new elements in a hash table", "body": "<p>If you want to easily find out what the parents are for an entry in <code>%hashtable</code>, you'll find it much easier if you store the data as another hash rather than one giant string like this...</p>\n\n<pre><code>$hashtable{$name}={\"Name\" =&gt; $name, \"Type\" =&gt; $type, \"Parents\" =&gt; \\@Parent};\n</code></pre>\n\n<p>Then you can reference <code>$hashtable{$key}-&gt;{\"Parents\"}</code> to get an array ref that contains the parents for that data entry which you could use like this...</p>\n\n<pre><code>foreach my $parent (@{$hashtable{$key}-&gt;{\"Parents\"}})\n  {\n  if(defined($hashtable{$parent}))\n    {\n    # Parent exists in hashtable\n    }\n  else\n    {\n    # Parent does not exist in hashtable\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 7856165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/776861022491015/picture?type=large", "display_name": "Cristi.Fatu", "link": "https://stackoverflow.com/users/7856165/cristi-fatu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 45329579, "answer_count": 1, "score": 0, "last_activity_date": 1501078570, "creation_date": 1501076440, "last_edit_date": 1501077784, "question_id": 45328720, "link": "https://stackoverflow.com/questions/45328720/updating-and-creating-new-elements-in-a-hash-table", "title": "Updating and creating new elements in a hash table", "body": "<p>After i parse a large <code>.sql</code> file this is the printed output from a <code>%hashtable</code>:</p>\n\n<pre><code>Key:AS_LINR \n\nValue:\nName:DS_LSNE_DDD_TS_A\n\nType:view\n\n\n\n\nParents:DM_LINE_END MINA_TI_GRP_V\n</code></pre>\n\n<p>This is the <code>%hash</code> :</p>\n\n<pre><code> $hashtable{$name}=\"Name:$name\n\nType:$type\n\n\n\n\nParents:@parents\".\"\\n\\n\n\n\n\n\n\".\n\n\n\"----------------------------\"\n;\n</code></pre>\n\n<p>I need to check each parent if he exists as a <code>key</code> in the <code>%hash</code> . If he does i need to update it and add a new filed named children: , i will add as a value to the field children the name where i first found the parent .Like in this example :</p>\n\n<pre><code>Key:DM_LINE_END \n\nValue:\nName:DS_LSNE_DDD_TS_A\n\nType:view\nChildren:AS_LINR\n</code></pre>\n\n<p>And i need to do this for each Parent . I want to update a hash by adding new elements to it , and if the key of the has does not exist i have to create one .\nIf i must explain better what i have to do please ask it in comments .</p>\n\n<p>Here is my perl code : </p>\n\n<pre><code>my $var=0;\nmy @joinparents=();\n\nuse warnings;\n\nmy %hashtable;\nopen(DATA,'&lt;','NaViews.sql') or die \"Error $!\";\nopen(Writer,'&gt;','ResultFile.txt') or die \"Error $!\";\nopen(Writer1,'&gt;','AuxResult.txt') or die \"Error $!\";\n\nmy @create_cmds = ();\nmy $create_cmd = \"\";\nREAD_DATA : while (&lt;DATA&gt;) {\n    chop;\n    my $ln = $_;\n\n    $ln =~ s/^\\s+//;\n    $ln =~ s/\\s+$//;\n    next READ_DATA if($ln =~ /^\\-\\-/);\n    next READ_DATA if($ln =~ /^REM/);\n\n    if($create_cmd ne \"\") {\n        $create_cmd = $create_cmd.\" \".$ln;\n    }\n\n    if($ln =~ /^create/i) {\n        $create_cmd = $ln;\n    }\n    elsif($ln =~ /\\;$/) {\n        push @create_cmds, $create_cmd;\n        $create_cmd = \"\";\n    }\n}\n\nclose DATA;\n\nmy @views = ();\n\nforeach my $create_cmd (@create_cmds) {\n    $create_cmd =~ s/\\s+/ /;\n    $create_cmd =~ s/^\\s+//;\n    $create_cmd =~ s/\\s+$//;\n    my $name = get_view($create_cmd);\n\n    my $type = get_type($create_cmd);\n    my $content = substr($create_cmd, 0, -1);\n    my @parents =();#get_parents();\n    my @children = ();#get_children();\n\n#------------------------------------------------------------------------\n    my @froms = split(/ from\\s+/i, $create_cmd);\n    my @joins = split(/ join /i, $create_cmd);\n\n    #parcurge mai multe for in aceeasi structura\n    #FOR FROM\n\n        # body...\n\n    foreach my $i (1..@froms-1) {\n        #print Writer1 \"$froms[$i]\".\"\\n\\n\";\n\n        my $from = (split(/ where |select | left |  left | right | as /i, $froms[$i])) [0];\n        $from=~s/^\\s+//;\n        $from=~s/\\(+//;\n\n\n        my @Spaces = split(/, | , /,$from);\n            foreach my $x (0..@Spaces-1) {\n                my $SpaceFrom = (split(/ /,$Spaces[$x])) [0];\n                $SpaceFrom=~s/;//;\n                $SpaceFrom=~s/\\)+//;\n            #print Writer1 $SpaceFrom.\"\\n\\n\";\n                push(@parents,$SpaceFrom);\n\n        #        print \"\\n\\n\".$SpaceFrom.\"\\n\\n\";\n        #        print Writer \"\\n\\n\".$SpaceFrom.\"\\n\\n\";\n\n            }\n    foreach my $x (1..@joins-1){\n        #print \"$joins[$i]\".\"\\n\\n\";\n\n            my $join = (split(/ on /i,$joins[$x])) [0];\n            my $joinspace = (split(/ /i,$joins[$x])) [0];\n            #print Writer \"\\n\\n\".$join.\"\\n\\n\";   \n            #print Writer1 $joinspace.\"\\n\\n\";\n            #\"$joinspace\\n\\n\";\n             push(@parents,$joinspace);\n\n        print Writer1\"\\n\\n\".$parents[$_].\"\\n\\n\";\n\n    }\n\n        }\n\n        push @views, [$name, $type, $content, @parents, @children];\n\n        $hashtable{$name}=\"[0]Name:$name\n[1]Type:$type\n\n\n[2]Content:$content\n\n[3]Parents:@parents\".\"\\n\\n\n\n\n\n\n\".\n\n\n\"----------------------------\";\n\n\n}\n\n\nprint Writer \"Key:$_ \nValue:\n$hashtable{$_}\\n\" foreach (keys%hashtable);\n\n#------------------------------------------------------------------------------\n\nprint_views(\\@views);\n\n\nexit;\n\n\n\n#------------------------------------------------------------------------------\nsub get_view {\n    my $create_cmd = $_[0];\n    my $tmp = (split(/ view | trigger | table /i, $create_cmd))[1];\n    $tmp =~ s/^\\s+//;\n    my $view = (split(/\\s+/, $tmp))[0];\n    return $view;\n}\n#-----------------------------------------------------------------------------\nsub get_type{\n    my $create_cmd = $_[0];\n    my $tmp = (split(/ replace /i, $create_cmd))[1];\n    $tmp =~ s/^\\s+//;\n    my $view = (split(/\\s+/, $tmp))[0];\n    return $view;\n}\n#-----------------------------------------------------------------------------\nsub get_parents {\n\n}\nsub get_children {\n\n\n\n    }\n\n\n\nget_children();\n\n\nclose Writer1;\nclose Writer;\n</code></pre>\n\n<p>This is how a chunk of data i have to parse looks like : </p>\n\n<pre><code>create or replace view MINA_TI_GRP_V\nas\nselect NVL(max(t1.interval_group),(select dm_group from sdate_dm_grp_v)) AS DM_GROUP,\n  (t2.interval_number) INTERVAL_NUMBER ,  t2.time_interval_s\n  from  MINA_INTERVAL_CONTROL t2\n  left join DM_TI_GRP_DATE_TIME t1 on t2.time_interval_s &gt;= t1.time_interval_s\n  group by t2.interval_number ,  t2.time_interval_s\n  order by t2.interval_number;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1501075851, "post_id": 45328424, "comment_id": 77618483, "body": "The reference to the whole match in perl is <code>$&amp;</code> not <code>$0</code>"}, {"owner": {"reputation": 1774, "user_id": 99904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/9kyFR.jpg?s=128&g=1", "display_name": "J\u0101nis Elmeris", "link": "https://stackoverflow.com/users/99904/j%c4%81nis-elmeris"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1501100015, "post_id": 45328424, "comment_id": 77635119, "body": "Thanks! I tried <code>\\&amp;</code> and &#39;$MATCH&#39; (which didn&#39;t work) but somehow missed &#39;$&amp;&#39;."}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 3, "last_activity_date": 1501075844, "creation_date": 1501075844, "answer_id": 45328482, "question_id": 45328424, "link": "https://stackoverflow.com/questions/45328424/how-to-insert-the-whole-matched-text-in-the-replacement-in-perl/45328482#45328482", "title": "How to insert the whole matched text in the replacement in Perl?", "body": "<p>Use <code>$&amp;</code>, see <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlvar.html</a></p>\n\n<pre><code>echo 'aabbcc' | perl -p -e 's/bbc/$&amp;A/g'\n</code></pre>\n\n<blockquote>\n  <p>aabbcAc</p>\n</blockquote>\n"}], "owner": {"reputation": 1774, "user_id": 99904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/9kyFR.jpg?s=128&g=1", "display_name": "J\u0101nis Elmeris", "link": "https://stackoverflow.com/users/99904/j%c4%81nis-elmeris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 45328482, "answer_count": 1, "score": -1, "last_activity_date": 1501075844, "creation_date": 1501075712, "question_id": 45328424, "link": "https://stackoverflow.com/questions/45328424/how-to-insert-the-whole-matched-text-in-the-replacement-in-perl", "title": "How to insert the whole matched text in the replacement in Perl?", "body": "<p>I want to add a string (<code>A</code>) after all specific other strings (<code>bbc</code>). So, I match <code>bbc</code> and want to replace it with itself with <code>A</code> appended (<code>'aabbcc' =&gt; 'aabbcAc'</code>).</p>\n\n<p>Is there a replacement back-reference that gets substituted with the whole match?</p>\n\n<p><code>$0</code> doesn't seem to work \u2013 its content is always \"-e\", for some reason:\n<code>\n$ echo 'aabbcc' | perl -p -e 's/bbc/$0A/g'\naa-eAc\n</code></p>\n"}, {"tags": ["perl", "email", "smtp", "amazon-ses", "smtp-auth"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1501056117, "post_id": 45320411, "comment_id": 77603671, "body": "You don&#39;t have any error handling in your code. My guess it that something failed before you issued <code>$smtp-&gt;mail(...)</code>, i.e. like the authentication failed. Please add debugging to your code (i.e. add <code>Debug =&gt; 1</code> when calling <code>Net::SMTP_auth-&gt;new</code>) and include the full debug output into your question."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1501056640, "post_id": 45320411, "comment_id": 77604011, "body": "1) Why do you use <code>Net::SMTP_auth</code> instead of <code>Net::SMTP</code>?  Current version of <code>Net::SMTP</code> supports SMTP AUTH. 2) Add <code>,Debug=&gt;1)</code> to <code>Net::SMTP</code> constructor (new) to get transcript of SMTP session."}, {"owner": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1501141854, "post_id": 45320411, "comment_id": 77650348, "body": "@SteffenUllrich thanks for your comments. I have added the debug output to the question, please let me know how to fix this"}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "edited": false, "score": 0, "creation_date": 1501149404, "post_id": 45346248, "comment_id": 77655777, "body": "we use Net::SMTP version 3.10, Now it does not shows any error but stops at $smtp -&gt; auth( &#39;LOGIN&#39;, &#39;&lt;username&gt;&#39;, &#39;&lt;password&gt;&#39;) or die;"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "edited": false, "score": 0, "creation_date": 1501166509, "post_id": 45346248, "comment_id": 77669404, "body": "@Sayooj: see the updated answer on how you need to use Net::SMTP: first you need to call <code>starttls</code> and then you need to call <code>auth</code> differently."}, {"owner": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "edited": false, "score": 0, "creation_date": 1501485063, "post_id": 45346248, "comment_id": 77779103, "body": "I have tried as you mentioned, by calling <code>starttls</code> and then  <code>auth</code> differently. But it results same. Could you please share any working code snippet for the same"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "edited": false, "score": 0, "creation_date": 1501485518, "post_id": 45346248, "comment_id": 77779343, "body": "@Sayooj: the example code I&#39;ve given works for me if you replace <code>&lt;emailhost&gt;</code> etc with the correct values. Just tested it against <code>mail.gmx.net:587</code>. I guess you are missing the SASL module (<code>Authen::SASL</code>) since it does not try to authenticate according to the debug output."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1501166461, "last_edit_date": 1501166461, "creation_date": 1501146650, "answer_id": 45346248, "question_id": 45320411, "link": "https://stackoverflow.com/questions/45320411/error-need-mail-command-when-using-smtp-with-perl/45346248#45346248", "title": "Error: need MAIL command when using smtp with perl", "body": "<p>Your code does not have any error checking and that's why you've missed that the authentication failed:</p>\n\n<blockquote>\n<pre><code>Net::SMTP_auth=GLOB(0x13085a8)&gt;&gt;&gt; AUTH LOGIN\nNet::SMTP_auth=GLOB(0x13085a8)&lt;&lt;&lt; 530 Must issue a STARTTLS command first\n</code></pre>\n</blockquote>\n\n<p>And because the authentication failed it will not accept sending a mail, i.e. <code>$smtp-&gt;mail('admin@testadmin.com');</code> will result in <code>Error: need MAIL command, Error: command not implemented</code>.</p>\n\n<p>Unfortunately, the very very old Net::SMTP_auth (last update 2006) does not have support for STARTTLS. But, current versions of Net::SMTP have support for both auth (so you don't need Net::SMTP_auth) and starttls (starting with Net::SMTP version 3.xx).</p>\n\n<p>With Net::SMTP 3.xx your code should look something like this:</p>\n\n<pre><code>my $smtp = Net::SMTP-&gt;new( '&lt;emailhost&gt;') or die;\n$smtp-&gt;starttls or die;\n$smtp-&gt;auth('&lt;username&gt;', '&lt;password&gt;') or die;\n...\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1265, "favorite_count": 0, "accepted_answer_id": 45346248, "answer_count": 1, "score": 0, "last_activity_date": 1501231735, "creation_date": 1501054685, "last_edit_date": 1501231735, "question_id": 45320411, "link": "https://stackoverflow.com/questions/45320411/error-need-mail-command-when-using-smtp-with-perl", "title": "Error: need MAIL command when using smtp with perl", "body": "<p>I was trying to send emails using Mime::Lite perl module and through smtp authentication. But unfortunately that doesn't work. It shows </p>\n\n<blockquote>\n  <p>Error: need MAIL command, Error: command not implemented</p>\n</blockquote>\n\n<p>Here is the updated code snippet and Debug output.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse MIME::Lite;\nuse Net::SMTP;\nuse MIME::Base64;\n\n\nmy $smtp = Net::SMTP-&gt;new(&lt;mail host&gt;,Port=&gt;587,Debug=&gt;1)or die;\n$smtp-&gt;starttls();\n$smtp-&gt;auth($username,$password) or die $!;\nmy $msg = MIME::Lite -&gt; new ( \n  From  =&gt; 'from@mail.com',\n  TO    =&gt; 'to@mail.com', \n  Subject  =&gt; 'Testing Text Message',\n  Data     =&gt; 'How\\'s it going.' );\n\n$smtp-&gt;mail(&lt;from mail&gt;);\n$smtp-&gt;to(&lt;to mail&gt;);\n$smtp -&gt; data();\n$smtp -&gt; datasend( $msg-&gt;as_string() );\n$smtp -&gt; dataend(); \nprint $smtp -&gt;message();\n$smtp -&gt; quit;\n</code></pre>\n\n<p>Debug output:</p>\n\n<pre><code>Net::SMTP&gt;&gt;&gt; Net::SMTP(3.10)\nNet::SMTP&gt;&gt;&gt;   Net::Cmd(3.10)\nNet::SMTP&gt;&gt;&gt;     Exporter(5.68)\nNet::SMTP&gt;&gt;&gt;   IO::Socket::INET6(2.71)\nNet::SMTP&gt;&gt;&gt;     IO::Socket(1.36)\nNet::SMTP&gt;&gt;&gt;       IO::Handle(1.34)\nNet::SMTP=GLOB(0x1e0a920)&lt;&lt;&lt; 220 email-smtp.amazonaws.com ESMTP SimpleEmailService-2108164273 5RjAQr5ZFI284sDt1KWu\nNet::SMTP=GLOB(0x1e0a920)&gt;&gt;&gt; EHLO localhost.localdomain\nNet::SMTP=GLOB(0x1e0a920)&lt;&lt;&lt; 250-email-smtp.amazonaws.com\nNet::SMTP=GLOB(0x1e0a920)&lt;&lt;&lt; 250-8BITMIME\nNet::SMTP=GLOB(0x1e0a920)&lt;&lt;&lt; 250-SIZE 10485760\nNet::SMTP=GLOB(0x1e0a920)&lt;&lt;&lt; 250-STARTTLS\nNet::SMTP=GLOB(0x1e0a920)&lt;&lt;&lt; 250-AUTH PLAIN LOGIN\nNet::SMTP=GLOB(0x1e0a920)&lt;&lt;&lt; 250 Ok\nNet::SMTP=GLOB(0x1e0a920)&gt;&gt;&gt; STARTTLS\nNet::SMTP=GLOB(0x1e0a920)&lt;&lt;&lt; 220 Ready to start TLS\nNet::SMTP::_SSL=GLOB(0x1e0a920)&gt;&gt;&gt; EHLO localhost.localdomain\nNet::SMTP::_SSL=GLOB(0x1e0a920)&lt;&lt;&lt; 250-email-smtp.amazonaws.com\nNet::SMTP::_SSL=GLOB(0x1e0a920)&lt;&lt;&lt; 250-8BITMIME\nNet::SMTP::_SSL=GLOB(0x1e0a920)&lt;&lt;&lt; 250-SIZE 10485760\nNet::SMTP::_SSL=GLOB(0x1e0a920)&lt;&lt;&lt; 250-STARTTLS\nNet::SMTP::_SSL=GLOB(0x1e0a920)&lt;&lt;&lt; 250-AUTH PLAIN LOGIN\nNet::SMTP::_SSL=GLOB(0x1e0a920)&lt;&lt;&lt; 250 Ok\nDied at test_script.pl line 17.\n</code></pre>\n\n<p>Please let me know the solution for this.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["perl", "perldoc"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1501054611, "post_id": 45320277, "comment_id": 77602640, "body": "why you are using <code>-f</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1501054722, "post_id": 45320277, "comment_id": 77602716, "body": "first you need to tell the module and <code>-f</code> check the function in the second parameter and also there is no case sensitive."}, {"owner": {"reputation": 1496, "user_id": 4940240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dAxHP.png?s=128&g=1", "display_name": "eli", "link": "https://stackoverflow.com/users/4940240/eli"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1501055204, "post_id": 45320277, "comment_id": 77603055, "body": "sorry, that was a typo - neither -f nor -m work with expressions or keywords"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 3, "creation_date": 1501060277, "post_id": 45320277, "comment_id": 77606640, "body": "You could extend App::perlfind or Pod::Cpandoc to make them case-insensitive."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501061878, "post_id": 45320277, "comment_id": 77607902, "body": "It works on Windows because file and folder names are case-insensitive for Windows. Both FAT as well as NTFS do not care about the case. Linux filesystems do."}], "answers": [{"comments": [{"owner": {"reputation": 1496, "user_id": 4940240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dAxHP.png?s=128&g=1", "display_name": "eli", "link": "https://stackoverflow.com/users/4940240/eli"}, "edited": false, "score": 0, "creation_date": 1502720383, "post_id": 45644450, "comment_id": 78310937, "body": "thanks for taking the time to answer. thats what I need - I did not think about grepping cpan gut it&#39;s obvious, yes. Thanks, awesome. Why would I want this? Sometimes I think &quot;oh, it was a module with something with lwp in its name&quot; ... - and now I would grep the cpanlist and find &quot;oh, yeah, LWP::UserAgent, thats what I want...&quot; (or something like that). --  (But, like I wrote - perldoc can indead search case insensitive with<code>-i</code> e.g. on linux). My main motivation is to not depend on an online search engine to find documentation about something."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 2, "last_activity_date": 1502489417, "creation_date": 1502489417, "answer_id": 45644450, "question_id": 45320277, "link": "https://stackoverflow.com/questions/45320277/how-to-find-offline-perl-documentation-case-insensitive-or-with-regular-ex/45644450#45644450", "title": "How to find (offline) perl documentation - &quot;case insensitive&quot; or with regular expression", "body": "<p>By exact syntax, do you mean the name of the module? Why are you looking for documentation for a module you don't know the name of?</p>\n\n<p>If you want to find some module names installed locally, cpan(1) will give you the list:</p>\n\n<pre><code> % cpan -l\n</code></pre>\n\n<p>From that, you can search a name all you like (as you mentioned):</p>\n\n<pre><code> % cpan -l | grep -i lwp\n</code></pre>\n\n<p>This follows the basic unix idea of reusing tools that already do a good job. <code>cpan</code> give you the list and <code>grep</code> searches it. </p>\n\n<p>In that list would be LWP. Since module names are case sensitive, you have to use the proper case (although some case-insensitive file systems fake this for you):</p>\n\n<pre><code> % perldoc LWP\n</code></pre>\n\n<p>Mostly, I get the name of the module I want to read about because it's noted in source code or I'm using an object of that type. I take the names from that:</p>\n\n<pre><code>print \"The object is of type: \", ref $obj;\n</code></pre>\n\n<p>Beyond that, there is current work (discussed this week at The Perl Conference) to index various types of data and let you search for them.</p>\n"}], "owner": {"reputation": 1496, "user_id": 4940240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dAxHP.png?s=128&g=1", "display_name": "eli", "link": "https://stackoverflow.com/users/4940240/eli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 45644450, "answer_count": 1, "score": 2, "last_activity_date": 1505131349, "creation_date": 1501054287, "last_edit_date": 1505131349, "question_id": 45320277, "link": "https://stackoverflow.com/questions/45320277/how-to-find-offline-perl-documentation-case-insensitive-or-with-regular-ex", "title": "How to find (offline) perl documentation - &quot;case insensitive&quot; or with regular expression", "body": "<p>How do I get information from perldoc (offline) when I don't know the exact syntax? <br><br>\nFor example, when searching for the \"lwp\" module, it's not sufficient to look for <code>perldoc -m lwp</code> or <code>perldoc -m lwp::simple</code> (in linux/unix). <br>\nAs a beginner I would think, perl would provide something like <code>perldoc -m /lwp/</code> to search for the explression.<br>\nBut you have to find out the exact syntax of the module, and then you can search for the documentation (or, you would write a oneliner/grep to search all the pod files for the expression) - but sometimes I don't remember the exact syntax and need a hint.<br><br>\nDo I miss something? <br>\nSearching the faq can be done with an expression <code>perldoc -q something</code> but not anything else (-f / -m / ...) ?\nThank you, for your support.</p>\n\n<p><strong>Update:</strong> <br>\n- <strong><em>Windows</em></strong>: (by its case-insensitive nature) one can run <code>perldoc [-m] lwp::simple</code> and will find <em>LWP::Simple</em><br>\n- <strong><em>Linux/Unix</em></strong>: perldoc has an <code>-i</code> Parameter for <strong>i</strong>nsensitive search. (see <code>perldoc -h</code>) <br>Running <code>perldoc -i [-m] lwp::simple</code> will find <em>LWP::Simple</em></p>\n\n<p>(the -m Parameter displays the module code and plaintext POD documentation - one can leave it, because it's not that pretty)</p>\n"}, {"tags": ["perl", "double-quotes"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1501053910, "post_id": 45319892, "comment_id": 77602146, "body": "Already you have stored the value <code>value</code> in the <code>$variable</code> then why you need to check the same in the <code>$text</code>."}, {"owner": {"reputation": 49, "user_id": 8152961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-R-CzDhE6kss/AAAAAAAAAAI/AAAAAAAAAHQ/RFsiKB4bnSQ/photo.jpg?sz=128", "display_name": "Aiswarya", "link": "https://stackoverflow.com/users/8152961/aiswarya"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1501054055, "post_id": 45319892, "comment_id": 77602243, "body": "This is just a single case. Like I&#39;ve said in the last line, I&#39;ll be looking for all such statements across various file and should come up with a list."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1501054197, "post_id": 45319892, "comment_id": 77602341, "body": "Yes. We need a minimal code example to understand the question."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1501054379, "post_id": 45319892, "comment_id": 77602474, "body": "Just check if the <code>$variable</code> doesn&#39;t have any value then the perl will shows an <code>uninitialized</code> warnings while compiling the script."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1501054402, "post_id": 45319892, "comment_id": 77602491, "body": "@Aiswarya Do you want to analyze other perl code?"}, {"owner": {"reputation": 49, "user_id": 8152961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-R-CzDhE6kss/AAAAAAAAAAI/AAAAAAAAAHQ/RFsiKB4bnSQ/photo.jpg?sz=128", "display_name": "Aiswarya", "link": "https://stackoverflow.com/users/8152961/aiswarya"}, "edited": false, "score": 0, "creation_date": 1501054586, "post_id": 45319892, "comment_id": 77602621, "body": "Question updated with an example."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8368125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/033bd56d49e984f0165cf2c9859a7650?s=128&d=identicon&r=PG&f=1", "display_name": "\u5e05\u5e05\u8033\u673a", "link": "https://stackoverflow.com/users/8368125/%e5%b8%85%e5%b8%85%e8%80%b3%e6%9c%ba"}, "is_accepted": false, "score": -1, "last_activity_date": 1501123524, "last_edit_date": 1501123524, "creation_date": 1501058477, "answer_id": 45321697, "question_id": 45319892, "link": "https://stackoverflow.com/questions/45319892/is-it-possible-to-know-the-variable-that-was-replaced-by-its-value-inside-a-doub/45321697#45321697", "title": "Is it possible to know the variable that was replaced by its value inside a double quotes in Perl?", "body": "<p>you can't do that.</p>\n\n<p>the code:    </p>\n\n<p><code>my $variable = 'Value';\n my $text = \"$variable is stored inside scalar variable.\\n\";</code></p>\n\n<p><code>$variable</code> will be replaced by it's value when assign <code>$text</code>. And the <code>$text</code> is a literal string.</p>\n\n<hr>\n\n<p>update my answer</p>\n\n<p>I think you'll like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\npackage myVariable;\nuse overload\n    qw(\"\") =&gt; \\&amp;asString,\n    qw(+) =&gt; \\&amp;append;\n\nsub new (;+[$]){\n    my $class = shift;\n    my $self = {\n        'have_var' =&gt; 0,\n        'string' =&gt; '',\n    };\n    &amp;init($self, @_);\n\n    bless $self,$class;\n}   \n\nsub init {\n    my $class = shift;\n\n    for(@_) {\n        if(ref($_) eq ref(\\\"\")) {\n            $class-&gt;{'have_var'}++;\n            $class-&gt;{'string'} .= $$_;\n        } else {\n            $class-&gt;{'string'} .= $_;\n        }\n    }\n}\nsub asString {\n    my $class = shift;\n    return $class-&gt;{'string'};\n}\n\nsub APPEND {\n    my $class = shift;\n    $class-&gt;init(@_);\n}\n\nsub HAVE_VAR {\n    my $class = shift;\n    return $class-&gt;{'have_var'};\n}\n\npackage main;\nmy $variable_1 = \"Value\";\nmy $variable_2 = \"newVal\";\nmy $variable_3 = \"otherVal\";\n\nmy $text = myVariable-&gt;new(\\$variable_1, \" \", \\$variable_2, \" this is text! \", \\$variable_3);\n\nmy $appendString = \" appendString\";\n$text-&gt;APPEND(\\$appendString);\n\nprint \"text content is :  [$text]\\n\";\n\nprint \"there are \", $text-&gt;HAVE_VAR, \" variables in \\$text\";\n</code></pre>\n\n<p>you'll get</p>\n\n<pre><code>text content is :  [Value newVal this is text! otherVal appendString]\nthere are 4 variables in $text\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 4, "last_activity_date": 1501061278, "creation_date": 1501061278, "answer_id": 45322833, "question_id": 45319892, "link": "https://stackoverflow.com/questions/45319892/is-it-possible-to-know-the-variable-that-was-replaced-by-its-value-inside-a-doub/45322833#45322833", "title": "Is it possible to know the variable that was replaced by its value inside a double quotes in Perl?", "body": "<p>This shows a backtrace whenever the variable is read. Close enough?</p>\n\n<pre><code>package Peekaboo;\nrequire Tie::Scalar;\nour @ISA = 'Tie::StdScalar';\nuse Carp 'cluck';\nsub FETCH { cluck }\n\npackage main;\nmy $variable = 'Value';\ntie $variable, 'Peekaboo';\nmy $text = \"$variable is stored inside scalar variable.\\n\";\n</code></pre>\n\n<p>If not, then you likely need <a href=\"http://p3rl.org/B::Utils\" rel=\"nofollow noreferrer\">B::Utils</a> and <a href=\"http://p3rl.org/PadWalker\" rel=\"nofollow noreferrer\">PadWalker</a>. I don't know how to use them.</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1501078512, "last_edit_date": 1501078512, "creation_date": 1501073677, "answer_id": 45327639, "question_id": 45319892, "link": "https://stackoverflow.com/questions/45319892/is-it-possible-to-know-the-variable-that-was-replaced-by-its-value-inside-a-doub/45327639#45327639", "title": "Is it possible to know the variable that was replaced by its value inside a double quotes in Perl?", "body": "<p>Parsing source code gets you half-way there.</p>\n\n<pre><code>use PPI qw();\n\nsub walk {\n    my ($ref) = @_;\n    if ($ref-&gt;can('children')) {\n        for my $c ($ref-&gt;children) {\n            if ($c-&gt;can('interpolations')) {\n                if ($c-&gt;interpolations) {\n                    say sprintf \"Found interpolations of variables at line %d column %d and the string was:\\n%s\\n\", $c-&gt;line_number, $c-&gt;column_number, $c-&gt;content;\n                }\n            }\n            walk($c);\n        }\n    }\n    return;\n}\n\nwalk(PPI::Document-&gt;new(\\(join '', *DATA-&gt;getlines)));\n\n\n__DATA__\nmy $variable = 'Value';\n\nmy $text = \"$variable is stored inside scalar variable.\\n\";\n\nprint \"$text\\n\";\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Found interpolations of variables at line 3 column 12 and the string was:\n\"$variable is stored inside scalar variable.\\n\"\n\nFound interpolations of variables at line 5 column 7 and the string was:\n\"$text\\n\"\n</code></pre>\n\n<p>It is not straightforward to conclude from an interpolated expression what the variable name is. Your example only had simple scalars, but consider:</p>\n\n<pre><code> \"$foo[0]\"         # @foo single lookup\n \"@foo[0,1]\"       # @foo slice \n \"$foo{key}\"       # %foo single lookup\n \"@foo{qw(k1 k2)}\" # %foo slice\n</code></pre>\n\n<p>Variables/expressions within expressions and reference chains make things even more complicated.</p>\n"}], "owner": {"reputation": 49, "user_id": 8152961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-R-CzDhE6kss/AAAAAAAAAAI/AAAAAAAAAHQ/RFsiKB4bnSQ/photo.jpg?sz=128", "display_name": "Aiswarya", "link": "https://stackoverflow.com/users/8152961/aiswarya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1501123524, "creation_date": 1501053113, "last_edit_date": 1501054555, "question_id": 45319892, "link": "https://stackoverflow.com/questions/45319892/is-it-possible-to-know-the-variable-that-was-replaced-by-its-value-inside-a-doub", "title": "Is it possible to know the variable that was replaced by its value inside a double quotes in Perl?", "body": "<p>Say you've :-</p>\n\n<pre><code>my $variable = 'Value';\n\nmy $text = \"$variable is stored inside scalar variable.\\n\";\n\nprint \"$text\\n\";\n</code></pre>\n\n<p>Now, when you see the output, it will be <code>Value is stored inside scalar variable.</code></p>\n\n<p>I want to get the information that, here $variable was replaced with 'value'. Is it possible?</p>\n\n<p>I'm actually trying to get the list of all such statements where a variable was replaced with its value. For e.g. let's say File 1 has the above piece of code. File 2 has the following:</p>\n\n<pre><code>print \"Welcome to $website!!\";\n</code></pre>\n\n<p>File 3 has - <code>print \"Output emailed..\";</code></p>\n\n<p>I'm trying to get the details that File 1 has <code>my $text = \"$variable is stored inside scalar variable.\\n\";</code> and File 2 has <code>print \"Welcome to $website!!\";</code></p>\n\n<p>File 3 is not counted.</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1501051990, "post_id": 45318538, "comment_id": 77600845, "body": "what does the above code produce?"}, {"owner": {"reputation": 33, "user_id": 7391072, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1243472112402966/picture?type=large", "display_name": "Himanshu Gupta", "link": "https://stackoverflow.com/users/7391072/himanshu-gupta"}, "reply_to_user": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1501052569, "post_id": 45318538, "comment_id": 77601236, "body": "It gives me an error saying that value is not scalar or undefined.  Do I need to to dereference to get it in scalar context?"}, {"owner": {"reputation": 33, "user_id": 7391072, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1243472112402966/picture?type=large", "display_name": "Himanshu Gupta", "link": "https://stackoverflow.com/users/7391072/himanshu-gupta"}, "reply_to_user": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1501052671, "post_id": 45318538, "comment_id": 77601301, "body": "Is it possble that I change the value in json file to d1:31 and d2:45 and extract both values and join them in some way in perl to get the desired output?"}, {"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1501056078, "post_id": 45318538, "comment_id": 77603653, "body": "you could try <code>Dump</code>ing $object, maybe the structure isnt what you think it is"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1501057982, "post_id": 45318538, "comment_id": 77604910, "body": "It would really help to see the original JSON. Without that, we&#39;re just guessing."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1501058053, "post_id": 45318538, "comment_id": 77604963, "body": "Wait. In <code>extract_json()</code> you expect to be passed a filename. But it looks like you&#39;re passing a URL to that subroutine. Which is it? A filename or a URL?"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1501053684, "creation_date": 1501053684, "answer_id": 45320082, "question_id": 45318538, "link": "https://stackoverflow.com/questions/45318538/in-perl-how-can-i-print-only-the-values-extracted-through-json/45320082#45320082", "title": "In Perl, How can I print only the values extracted through json?", "body": "<p>Try the following</p>\n\n<pre><code>use warnings;\nuse strict;\nuse JSON::XS;\nmy $targetfile = extract_json('file.json');\nmy $object = JSON::XS-&gt;new-&gt;utf8-&gt;decode($targetfile);\n\nmy $flat_hash = \n{\n    'var'=&gt; $object-&gt;{'a'}{'b'}{'c'}{'d'}\n};\n\n\nsub extract_json{\n    my $file = shift;\n    local $/;\n    open my $fh, \"&lt;\", \"$file\";\n    my $json = &lt;$fh&gt;;\n    return $json;\n}\n\nforeach my $key (keys %{$flat_hash}) #Dereferencing hash ref\n{\n\n    foreach (@{$$flat_hash{$key}})  #Iterating loop for array ref\n    {\n        print \"$key =&gt; $_\\n\";\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 5746602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9571be7208ae102cddb1b8f7e78f8d28?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5746602/kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1501060662, "last_edit_date": 1501060662, "creation_date": 1501057753, "answer_id": 45321424, "question_id": 45318538, "link": "https://stackoverflow.com/questions/45318538/in-perl-how-can-i-print-only-the-values-extracted-through-json/45321424#45321424", "title": "In Perl, How can I print only the values extracted through json?", "body": "<p>Try this code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse JSON;\nuse Data::Dumper;\n\nsub extract_json{\n        my $file =shift;\n        open(my $fh, \"&lt;:encoding(UTF-8)\" , $file) || die \"couldn't open $file\";\n        local $/;\n        my $json=&lt;$fh&gt;;\nreturn $json;\n}\n\nmy $targetfile = extract_json('example.json');\nmy $object = JSON-&gt;new;\nmy $decoded= $object-&gt;decode($targetfile);\n\nmy $flat_hash ={\n               'var' =&gt; $decoded-&gt;{a}{b}{c}-&gt;@{d},\n     };\n print Dumper $flat_hash;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7391072, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1243472112402966/picture?type=large", "display_name": "Himanshu Gupta", "link": "https://stackoverflow.com/users/7391072/himanshu-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501060662, "creation_date": 1501048733, "last_edit_date": 1501049744, "question_id": 45318538, "link": "https://stackoverflow.com/questions/45318538/in-perl-how-can-i-print-only-the-values-extracted-through-json", "title": "In Perl, How can I print only the values extracted through json?", "body": "<p>I have a json file which contains the content. I am opening the json using \nextract_json. i want to access the value of the attribute \"d\"</p>\n\n<pre><code>sub extract_json{\nmy $file = shift;\nlocal $/;\n    open my $fh, \"&lt;\", \"$file\";\n    my $json = &lt;$fh&gt;;\nreturn $json;\n}\n\nmy $targetfile = extract_json(' URL of JSON file');\nmy $object = JSON::XS-&gt;new-&gt;decode (decode \"UTF-8\", $targetfile);\n\nmy $flat_hash = {\n'var'=&gt; $object-&gt;{'a'}{'b'}{'c'}{'d'}\n };\n</code></pre>\n\n<p>The content of variable d is ['31', '45'].\nI need the value assigned to \"var\" to be ['31', '45'].</p>\n\n<p>Please help me in getting the desired output.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501038549, "post_id": 45316597, "comment_id": 77595716, "body": "Why would <code>@productid</code> be availabe in <code>completecheckout()</code>?  It&#39;s not passed to it, and it is assigned in another <code>if</code> branch.  It would help your code <i>tremendously</i> to <code>use strict;</code> -- that would force you to declare all variables and then their scope would be clear and you&#39;d see what is visible where.  I mean, it would help right now."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1501038676, "post_id": 45316597, "comment_id": 77595748, "body": "An <code>&amp;</code> in front of a function has very specific purposes and you most likely don&#39;t need it.  Just <code>func()</code>."}, {"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501039139, "post_id": 45316597, "comment_id": 77595876, "body": "@zdim I changed the script. Here is the revised version. The array still cannot pass to the completecheckout function. <a href=\"http://zenit.senecac.on.ca:20720/cgi/stage5.cgi\" rel=\"nofollow noreferrer\">zenit.senecac.on.ca:20720/cgi/stage5.cgi</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501039496, "post_id": 45316597, "comment_id": 77595976, "body": "The array is global and it is seen in <code>completecheckout()</code>.  That shouldn&#39;t be the problem"}, {"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501041485, "post_id": 45316597, "comment_id": 77596408, "body": "@zdim exactly my thoughts which is why I had so much trouble but I fixed it by using pure HTML form. CGI kept printing &quot;1&quot; after hidden forms as well, which was weird."}], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "is_accepted": false, "score": -1, "last_activity_date": 1501040053, "creation_date": 1501040053, "answer_id": 45316977, "question_id": 45316597, "link": "https://stackoverflow.com/questions/45316597/unable-to-pass-parameters-through-2-scripts-perl/45316977#45316977", "title": "Unable to pass parameters through 2 scripts - perl", "body": "<pre><code>print \"&lt;h4&gt;Your total is \\$$total&lt;/h4&gt;\";\nprint \"&lt;/table&gt;\";\nprint \"&lt;table border=2 align=center&gt;\";\nprint qq~&lt;form method=post action=\"\"&gt;\n&lt;tr&gt;&lt;td&gt;&lt;input type=\"radio\" name=\"radio1\" value=\"Visa\" checked=\"checked\"&gt;Visa&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"radio\" name=\"radio1\" value=\"Mastercard\"&gt;Mastercard&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"radio\" name=\"radio1\" value=\"AMEX\"&gt;Amex&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;Credit Card Number:&lt;/td&gt;&lt;td&gt;&lt;input type=text name=cardnum&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;&lt;input type=submit name=submit value=Checkout&gt;&lt;/tr&gt;&lt;/td&gt;&lt;/table&gt;~;\nforeach (@productid) {\nprint qq~&lt;input type=hidden name=productid value=$_&gt;~;\n}\nprint qq~&lt;/form&gt;~;\n    }\n</code></pre>\n\n<p>changing from cgi to pure html worked. It is now passing the hidden value's.</p>\n"}], "owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1501040053, "creation_date": 1501037406, "last_edit_date": 1501039094, "question_id": 45316597, "link": "https://stackoverflow.com/questions/45316597/unable-to-pass-parameters-through-2-scripts-perl", "title": "Unable to pass parameters through 2 scripts - perl", "body": "<pre><code>#!/usr/bin/perl -wT \nuse DBI;\nuse CGI qw(:standard);\nuse Digest::MD5 qw(md5_hex);\n$db=\"int420_172a14\";\n$user=\"int420_172a14\";\n$passwd=\"ndWW9855\";\n$host=\"db-mysql.zenit\";\n$connectionInfo=\"dbi:mysql:$db;$host\";\nmy $q = new CGI;\n$submit = param('submit');\n@productid = $q-&gt;param('productid');\n($cookiename, $cookievalue) = split(/=/, $ENV{HTTP_COOKIE});\nif ($submit eq \"Purchase Item\")\n{\nprint \"Content-Type:text/html\\n\\n\";\nprint qq~&lt;html&gt;\n&lt;head&gt;&lt;title&gt;Checkout Page&lt;/title&gt;&lt;/head&gt;\n&lt;body background=/images/back.jpg&gt;\n&lt;center&gt;&lt;a href=/cgi/stage5.cgi&gt;Click Here To Return To Catalog&lt;/a&gt;&lt;/center&gt;\n&lt;center&gt;&lt;a href=/&gt;Click Here To Return To Main Page&lt;/a&gt;&lt;/center&gt;\n&lt;p&gt;@productid&lt;/p&gt;\n~;\ncheckout();\n}\nelsif ($submit eq \"Checkout\") {\n\n    &amp;completecheckout();\n    }\nelsif ($ENV{HTTP_COOKIE} =~ /username/) {\nprint \"Content-Type:text/html\\n\\n\";\ncatalog();\n}\nelse {\nprint \"Location:http://zenit.senecac.on.ca:20720/cgi/login.cgi\\n\\n\"\n}\n\nsub catalog {\n\n$select = qq~select * from catalog~;\n$dbh=DBI-&gt;connect($connectionInfo,$user,$passwd);\n$sth=$dbh-&gt;prepare($select);\n$sth-&gt;execute();\nprint qq~&lt;html&gt;\n&lt;head&gt;&lt;title&gt;Shopping Catalog&lt;/title&gt;&lt;/head&gt;\n&lt;body background=/images/back.jpg&gt;\n&lt;center&gt;&lt;h1&gt;Welcome To Our Shopping Catalog&lt;/h1&gt;\n&lt;h3&gt;Please select a product below&lt;/h3&gt;&lt;/center&gt;\n&lt;center&gt;&lt;a href=/&gt;Click Here To Return To Main Page&lt;/a&gt;&lt;/center&gt;\n&lt;p&gt;$ENV{HTTP_COOKIE}&lt;/p&gt;\n&lt;table border=2 align=center&gt;\n&lt;th&gt;Products&lt;/th&gt;\n~;\n$id = 1;\nwhile (@row=$sth-&gt;fetchrow_array())\n{\nprint qq~\n&lt;tr&gt;\n&lt;td height=100&gt;$row[1]&lt;br&gt;\n$row[2]&lt;br&gt;\n\\$$row[3]&lt;br&gt;\n&lt;img src=/images/$row[4] height=100 width=100 alt=\"Product Image Not Found.\"&gt;\n&lt;form action=\"\" method=POST&gt;&lt;input type=checkbox name=productid value=\"$row[0]\"&gt;Select Product&lt;/td&gt;\n&lt;/tr&gt;\n~;\n$id = ++$id;\n}\nprint qq~&lt;tr&gt;&lt;td&gt;&lt;input type=submit name=submit value=\"Purchase Item\"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/form&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;~;\n$dbh-&gt;disconnect();\n}\nsub checkout {\n\nmy @values = ('yes', 'no');\nprint \"&lt;h3&gt;Product You Are Purchasing&lt;/h3&gt;&lt;table border=2 align=left&gt;\";\nforeach (@productid) {\n$select = qq~select * from catalog where ID='$_'~;\n$dbh=DBI-&gt;connect($connectionInfo,$user,$passwd);\n$sth=$dbh-&gt;prepare($select);\n$sth-&gt;execute();\nwhile (@row=$sth-&gt;fetchrow_array()) {\nprint qq~\n&lt;tr&gt;&lt;td&gt;$row[1]&lt;br&gt;$row[2]&lt;br&gt;\\$$row[3]&lt;br&gt;&lt;img src=/images/$row[4] height=100 width=100 alt=\"Product Image Not Found.\"&gt;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;~;\n$total = $total + $row[3];\n\n}\n}\nprint \"&lt;h4&gt;Your total is \\$$total&lt;/h4&gt;\";\nprint \"&lt;/table&gt;\";\nprint \"&lt;table border=2 align=center&gt;\";\nprint start_form( -name =&gt; \"complete\" ),\n'&lt;tr&gt;&lt;td&gt;Credit Card:', radio_group(\n        -name   =&gt; 'radio1',\n        -values =&gt; ['Visa', 'MasterCard', 'American Express'],\n        -columns =&gt; 3,\n        -rows   =&gt; 1,\n    ), '&lt;/td&gt;&lt;/tr&gt;',\n'&lt;tr&gt;&lt;td&gt;Credit Card Number:&lt;/td&gt;&lt;td&gt;', textfield('cardnum'), '&lt;/td&gt;&lt;/tr&gt;',\n    '&lt;tr&gt;&lt;td&gt;', submit(-name =&gt; 'submit', -value =&gt; 'Checkout'), '&lt;/tr&gt;&lt;/td&gt;&lt;/table&gt;', end_form;\nforeach (@productid) {\nprint start_form(-name=&gt;\"complete\"),\nhidden(\n              -name     =&gt; \"productid\",\n              -value  =&gt; \"$_\",\n              -override =&gt; 1\n              ),\n    print end_form;\n}\n\n    }\nsub completecheckout {\n\n$uid = $cookievalue;\n$cardtype = param('radio1');\n$cardnum = param('cardnum');\n    foreach $product (@productid) {\n        $insert = qq~insert transaction (uid, pid, cctype, ccnum) values ('$uid', '$product', '$cardtype', '$cardnum')~;\n        $dbh=DBI-&gt;connect($connectionInfo,$user,$passwd);\n        $sth=$dbh-&gt;prepare($insert);\n        $sth-&gt;execute();\n    }\n\nprint header;\nprint qq~&lt;html&gt;&lt;head&gt;&lt;title&gt;YAY&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;CHECK MYSQL&lt;p&gt;&lt;p&gt;@productid $uid $cardtype $cardnum&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;~;\n\n    }\n</code></pre>\n\n<p>I have made a script which displays products from an SQL table and allows a user to select multiple products, then each product is uploaded to the transaction table as a separate transaction with a unique ID. However, the @productid array is not being passed to the completecheckout function, and no information is uploaded to the table.</p>\n\n<p>I realize the script is a bit messy, as I am working on it right now, so please don't comment on redundant code as I am aware of it.</p>\n\n<p>I cannot identify why the form is unable to read the hidden fields.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1501153577, "post_id": 45313830, "comment_id": 77658914, "body": "Don&#39;t do that. That&#39;s exactly why arrays and hashes were invented."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 0, "creation_date": 1501018444, "post_id": 45313850, "comment_id": 77590289, "body": "Thanks that worked, is there a way to set the end of the variabe with the value of $id? For example: $productid1 $productid2 etc"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 4, "creation_date": 1501018485, "post_id": 45313850, "comment_id": 77590304, "body": "@KieranO&#39;Connor: Why? Use an array instead."}, {"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 0, "creation_date": 1501018598, "post_id": 45313850, "comment_id": 77590360, "body": "maybe my logic is bad but I need to upload each product the user requests into a mysql table and wanted to set a variable for each product ordered."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 2, "creation_date": 1501018726, "post_id": 45313850, "comment_id": 77590406, "body": "Just <code>push @products, param(&quot;product$id&quot;);</code> and use the array."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 4, "creation_date": 1501022682, "post_id": 45313850, "comment_id": 77591746, "body": "@KieranO&#39;Connor <a href=\"https://stackoverflow.com/questions/1829922/concatenating-variable-names-in-c/1829927#1829927\">When you find yourself adding an integer suffix to variable names, think &quot;<b>I should have used an array</b>&quot;</a>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1501019394, "last_edit_date": 1501019394, "creation_date": 1501018305, "answer_id": 45313850, "question_id": 45313830, "link": "https://stackoverflow.com/questions/45313830/setting-variable-name-with-variable-at-the-end-perl/45313850#45313850", "title": "setting variable name with variable at the end - perl", "body": "<ol>\n<li>Variables aren't interpolated in single quotes.</li>\n<li>You're resetting the $id in each iteration of the loop.</li>\n</ol>\n\n<p>Update: Your changes invalidated both the bullets above. </p>\n\n<pre><code>my $id = 1;\nfor my $product (@products) {\n    $product_id = param(\"product$id\");\n    ++$id;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1501024851, "creation_date": 1501024851, "answer_id": 45314951, "question_id": 45313830, "link": "https://stackoverflow.com/questions/45313830/setting-variable-name-with-variable-at-the-end-perl/45314951#45314951", "title": "setting variable name with variable at the end - perl", "body": "<blockquote>\n  <p><em>I am trying to loop through the products array and create a new variable for each item in products.</em></p>\n</blockquote>\n\n<p>While it is possible to create a new variable for each item, it's a bad idea. They have to be global, the syntax is ugly, and it's difficult to pass those variables around as a collection. Instead, <strong><em>use a hash or an array</em></strong>. In this case, since your items are indexed by number and there's no gaps an array makes the most sense.</p>\n\n<pre><code>my @product_params;\nforeach my $product (@products) {\n    push @product_params, param($product);\n}\n</code></pre>\n\n<p>For each <code>$product</code> in <code>@products</code>, it will add <code>param($product)</code> to <code>@product_params</code>. For example, the parameter for <code>$products[5]</code> is stored in <code>$product_params[5]</code>.</p>\n\n<p>Since this is a one-to-one mapping of <code>@products</code> to its parameters, its easier and faster to do the above with a <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a>. A mapping runs each element of a list through a function to create a new list. <code>$_</code> contains each element of <code>@products</code> in turn.</p>\n\n<pre><code>my @product_params = map { param($_) } @products;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1501044790, "creation_date": 1501044790, "answer_id": 45317732, "question_id": 45313830, "link": "https://stackoverflow.com/questions/45313830/setting-variable-name-with-variable-at-the-end-perl/45317732#45317732", "title": "setting variable name with variable at the end - perl", "body": "<p>Say you have four checkboxes named</p>\n\n<ul>\n<li><code>product1</code></li>\n<li><code>product2</code></li>\n<li><code>product3</code></li>\n<li><code>product4</code></li>\n</ul>\n\n<p>Say <code>product1</code> and <code>product3</code> are checked.</p>\n\n<p>The following will place <code>1</code> and <code>3</code> in <code>@selected_product_ids</code>:</p>\n\n<pre><code>my @selected_product_ids =\n      map { my ($id) = /^product(\\d+)\\z/; defined($id) &amp;&amp; param($_) ? $id : () }\n         params();\n</code></pre>\n\n<p>If you have the list of all existing product ids in <code>@product_ids</code>, the following will do the same:</p>\n\n<pre><code>my @selected_product_ids =\n      grep { param(\"product$_\") }\n         @product_ids;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "answer_count": 3, "score": -1, "last_activity_date": 1501044790, "creation_date": 1501018212, "last_edit_date": 1501024053, "question_id": 45313830, "link": "https://stackoverflow.com/questions/45313830/setting-variable-name-with-variable-at-the-end-perl", "title": "setting variable name with variable at the end - perl", "body": "<pre><code>$id = 1;\nforeach (@products) {\n$productid$id = param(product$id);\n++$id;\n}\n</code></pre>\n\n<p>I am trying to loop through the products array and create a new variable for each item in products for a form which uses checkboxes to select products which are for sale. I tried to use $productid$id and $productid\"$id\" but it returned syntax errors. Is there a way to achieve this?</p>\n"}, {"tags": ["r", "perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1501017366, "creation_date": 1501017366, "answer_id": 45313618, "question_id": 45313399, "link": "https://stackoverflow.com/questions/45313399/using-perl-script-including-r-script-to-retrive-go-annotations-for-list-of-acces/45313618#45313618", "title": "Using Perl script including R script to retrive Go annotations for list of accesion number", "body": "<p>In double quoted strings, Perl interpolates variables. <code>qq`...`</code> is a double-quoted string, so <code>$lines</code> is interpreted as a Perl variable, but it hasn't been declared with <code>my</code> anywhere, hence the error.</p>\n\n<p>BTW,</p>\n\n<pre><code>while (my @lines=&lt;ACC&gt;) {\n    chomp($_);\n}\n</code></pre>\n\n<p>is wrong. It iterates just once, as <code>&lt;&gt;</code> used in list context returns all the lines of the filehandle. Inside the loop, <code>$_</code> is chomped, but <code>$_</code> hasn't been populated there. Instead, maybe you wanted</p>\n\n<pre><code>chomp( my @lines = &lt;ACC&gt; );\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6614756, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/82WOq.jpg?s=128&g=1", "display_name": "Anicet Ebou", "link": "https://stackoverflow.com/users/6614756/anicet-ebou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1501017366, "creation_date": 1501016479, "question_id": 45313399, "link": "https://stackoverflow.com/questions/45313399/using-perl-script-including-r-script-to-retrive-go-annotations-for-list-of-acces", "title": "Using Perl script including R script to retrive Go annotations for list of accesion number", "body": "<p>I have wrote a Perl script to retrieve Go annotations (Molecular Function especially with go id). To retrieve go annotation i use a chunck from R that can do this in few lines, and use Perl to format the output. But it's not working.</p>\n\n<p>I have got this error: </p>\n\n<pre><code>Global symbol \"$lines\" requires explicit package name (did you forget to declare \"my $lines\"?) at GO_Perl_R line 21. Global symbol \"$lines\" requires explicit package name (did you forget to declare \"my $lines\"?) at GO_Perl_R line 22. Global symbol \"$hits\" requires explicit package name (did you forget to declare \"my $hits\"?) at GO_Perl_R line 22. Global symbol \"$go\" requires explicit package name (did you forget to declare \"my $go\"?) at GO_Perl_R line 24. Global symbol \"@MF\" requires explicit package name (did you forget to declare \"my @MF\"?) at GO_Perl_R line 24. Global symbol \"$id\" requires explicit package name (did you forget to declare \"my $id\"?) at GO_Perl_R line\n24. Global symbol \"$lines\" requires explicit package name (did you forget to declare \"my $lines\"?) at GO_Perl_R line 25. Global symbol \"$go\" requires explicit package name (did you forget to declare \"my $go\"?) at GO_Perl_R line 25. Global symbol \"@MF\" requires explicit package name (did you forget to declare \"my @MF\"?) at GO_Perl_R line\n25. Global symbol \"@id\" requires explicit package name (did you forget to declare \"my @id\"?) at GO_Perl_R line 25. Global symbol \"$go\" requires explicit package name (did you forget to declare \"my $go\"?) at GO_Perl_R line 25. Global symbol \"@MF\" requires explicit package name (did you forget to declare \"my @MF\"?) at GO_Perl_R line 25. Global symbol \"@term\" requires explicit package name (did you forget to declare \"my @term\"?) at GO_Perl_R line 25. Execution of GO_Perl_R aborted due to compilation errors.\n</code></pre>\n\n<p>This is my code : </p>\n\n<pre><code>#! usr/bin/perl\n\nuse warnings;\nuse strict;\nuse Statistics::R;\n\nmy $R = Statistics::R-&gt;new();\nmy $i = 1;\n# open the file containing uniprot accession numbers\nopen (ACC, \"acc_numbers.txt\") or die \"Can't open acc_numbers.txt: $!\\n\";\n\nwhile (my @lines=&lt;ACC&gt;) {\n    chomp($_);\n}\n\n$R -&gt; startR;\n$R -&gt; send('library(mygene);');\n$R -&gt; run (q`sink('GO_MF.txt')`);\n$R -&gt; run (q`sink()`);\n$R -&gt; run (\n    qq`while($lines){\n        res&lt;-query($lines,fields='go')$hits,\n        sink('GO_MF.txt', append=TRUE),\n        while($i &lt;= length(res$go$MF[[1]]$id) {\n            print(paste($lines,\"\\n\",res$go$MF[[1]]$id[$i],\"\\t\",res$go$MF[[1]]$term[$i],\"\\n\"),\n        sink(),\n        }\n    }`\n);\n\nexit 0;\n</code></pre>\n\n<p>Any solution to reach my purpose using Perl script, R script or merging both should be useful.</p>\n\n<p>The output file format is like :</p>\n\n<pre><code>P10214\n    GO:xxxxxxx                    \"aaaaaaaaaaaaaaaaaaaaa\"\n    GO:zzzzzzzz                    \"bbbbbbbbbbbbbbbbbbbbb\"\n    ...................                   \nQ34F56\n    GO:fffffffffff                       \"ccccccccccccccccccccccc\"\n    GO:gggggg                        \"hhhhhhhhhhhhhhhhhhhh\"\n    ...................\n</code></pre>\n\n<p>Thanks you so much.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 3, "last_activity_date": 1501012957, "last_edit_date": 1501012957, "creation_date": 1501012235, "answer_id": 45312330, "question_id": 45312240, "link": "https://stackoverflow.com/questions/45312240/perl-regex-for-matching-after-an-optional-character/45312330#45312330", "title": "perl: regex for matching after an optional character", "body": "<p>Yes, to do that you can use the branch reset feature: <code>(?|...|...|...)</code></p>\n\n<pre><code>/(?|(html)|(email):(.*)|(text)|(attachment))/\n</code></pre>\n\n<p>In a branch reset, capture groups of each alternative have the same numbers.</p>\n\n<p>To exclude, \"html\", \"text\", \"attachment\" followed by anything else (including a colon), you need a condition on the right (anchor, lookahead or other). Same thing for the beginning. </p>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 45312330, "answer_count": 1, "score": 1, "last_activity_date": 1501017532, "creation_date": 1501011878, "last_edit_date": 1501015419, "question_id": 45312240, "link": "https://stackoverflow.com/questions/45312240/perl-regex-for-matching-after-an-optional-character", "title": "perl: regex for matching after an optional character", "body": "<p>I need to take a string that can have one of 4 formats:</p>\n\n<ol>\n<li><code>html</code></li>\n<li><code>text</code></li>\n<li><code>attachment</code></li>\n<li><code>email:[address]</code></li>\n</ol>\n\n<p>I need a regular expression that will correctly capture 2 things: the <code>$type</code>, which is <code>html</code>, <code>text</code>, <code>attachment</code>, or <code>email</code>, and the <code>$arg</code>, which is <code>[address]</code> if <code>$type</code> is <code>email</code>, and <code>undef</code> otherwise.  If <code>$type</code> is not <code>email</code>, then there should be no matches at all.  I've written this regex:</p>\n\n<pre><code>m/(html|email|text|attachment):?(.*)/;\n</code></pre>\n\n<p>Which has the problem that it will match even if there is something trailing <code>text</code>, <code>html</code>, or <code>attachment</code>, and will also match if there is no <code>:</code>.  So, for instance, <code>emailme@foo.com</code> would give <code>(\"email\", \"me@foo.com\")</code>. I also tried this one:</p>\n\n<pre><code>m/(html)|(email):(.*)|(text)|(attachment)/;\n</code></pre>\n\n<p>Which results in 5 groups.  Is there a way to capture the way I want, so that I will get no matches if there is no colon after <code>email</code>, or if there IS a colon after something else?</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8350939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9168300f3b94bd7c61e45adac6261383?s=128&d=identicon&r=PG&f=1", "display_name": "pduh", "link": "https://stackoverflow.com/users/8350939/pduh"}, "is_accepted": false, "score": 0, "last_activity_date": 1501024742, "creation_date": 1501024742, "answer_id": 45314941, "question_id": 45311798, "link": "https://stackoverflow.com/questions/45311798/how-to-fire-some-controller-subroutine-before-render-in-mojolicious/45314941#45314941", "title": "How to fire some controller subroutine before_render in Mojolicious?", "body": "<p>I use a catch-all sub \"view\" in each controller, just route those non-action url to there.</p>\n\n<pre><code>my $r = $self-&gt;routes\n#\n# You have to match other routes before come to non-action route.\n#\n$r-&gt;route('/#controller')-&gt;to(action =&gt; 'view');\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1501086100, "creation_date": 1501010178, "last_edit_date": 1501086100, "question_id": 45311798, "link": "https://stackoverflow.com/questions/45311798/how-to-fire-some-controller-subroutine-before-render-in-mojolicious", "title": "How to fire some controller subroutine before_render in Mojolicious?", "body": "<p>I can hook <a href=\"http://mojolicious.org/perldoc/Mojolicious#before_render\" rel=\"nofollow noreferrer\"><code>before_render</code></a> and do next:</p>\n\n<pre><code>sub before_render_handler {\n    my $c =  shift;\n\n    my $extra =  $c-&gt;can( 'some_sub' );\n    $extra-&gt;( $c )   if $extra;\n    return;\n}\n</code></pre>\n\n<p>But when template without action is rendered the <code>$c</code> is <code>Mojolicious::Controller</code> and not the target controller.<br>\nFor example if we have <code>user/show</code> and have <code>App::Conroller::User</code> without <code>show</code> subroutine.</p>\n\n<p>Despite on <a href=\"http://mojolicious.org/perldoc/Mojolicious#before_render\" rel=\"nofollow noreferrer\">DOC</a></p>\n\n<blockquote>\n  <p>Passed the current controller object and the render arguments</p>\n</blockquote>\n\n<p>We get here default controller and not current.</p>\n\n<p>How to call <code>App::Controller::User::some_sub</code> when we are rendering template <code>user/show</code> for controller without <code>show</code> action?</p>\n\n<p>**<br>\nAs workaround, we can create bare actions for each such templates, but this  seems too ugly.</p>\n\n<p><strong>UPD</strong><br>\nEven if action exists, but do not have explicit <code>$c-&gt;render</code> the rendering is in context of default controller</p>\n"}, {"tags": ["perl", "hash", "reference"], "comments": [{"owner": {"reputation": 65650, "user_id": 343204, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/uOZYt.jpg?s=128&g=1", "display_name": "Snowcrash", "link": "https://stackoverflow.com/users/343204/snowcrash"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501004131, "post_id": 45310064, "comment_id": 77582384, "body": "@ikegami can you elaborate?"}, {"owner": {"reputation": 65650, "user_id": 343204, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/uOZYt.jpg?s=128&g=1", "display_name": "Snowcrash", "link": "https://stackoverflow.com/users/343204/snowcrash"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501004234, "post_id": 45310064, "comment_id": 77582464, "body": "I just re-ran the code and got the same error message."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501006365, "post_id": 45310064, "comment_id": 77583685, "body": "The <code>.</code> sets scalar context, but when you fix this <code>print &quot;keys: &quot;, keys(%$href), &quot;\\n&quot;;</code> you&#39;ll get all keys concatenated into one word. You can do <code>print &quot;$_ &quot; for keys %$href; print &quot;\\n&quot;;</code>, or for one per line <code>say for keys %$href;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 65650, "user_id": 343204, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/uOZYt.jpg?s=128&g=1", "display_name": "Snowcrash", "link": "https://stackoverflow.com/users/343204/snowcrash"}, "edited": false, "score": 0, "creation_date": 1501004594, "post_id": 45310105, "comment_id": 77582695, "body": "My apologies. Updated answer."}, {"owner": {"reputation": 65650, "user_id": 343204, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/uOZYt.jpg?s=128&g=1", "display_name": "Snowcrash", "link": "https://stackoverflow.com/users/343204/snowcrash"}, "edited": false, "score": 0, "creation_date": 1501012177, "post_id": 45310105, "comment_id": 77587025, "body": "It was the scalar context that was biting me. <code>print &quot;Keys: &quot;;          print keys($val);         print &quot;\\n&quot;;</code> worked for me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 65650, "user_id": 343204, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/uOZYt.jpg?s=128&g=1", "display_name": "Snowcrash", "link": "https://stackoverflow.com/users/343204/snowcrash"}, "edited": false, "score": 1, "creation_date": 1501012803, "post_id": 45310105, "comment_id": 77587404, "body": "You should not be using experimental features that were deprecated 4 years ago and have already been removed from Perl!!! Please use <code>keys(%$val)</code> as I&#39;ve instructed."}, {"owner": {"reputation": 65650, "user_id": 343204, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/uOZYt.jpg?s=128&g=1", "display_name": "Snowcrash", "link": "https://stackoverflow.com/users/343204/snowcrash"}, "edited": false, "score": 0, "creation_date": 1501012889, "post_id": 45310105, "comment_id": 77587451, "body": "It&#39;s some legacy code that I&#39;m attempting to debug otherwise fair point."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1501026335, "last_edit_date": 1501026335, "creation_date": 1501003945, "answer_id": 45310105, "question_id": 45310064, "link": "https://stackoverflow.com/questions/45310064/perl-type-of-argument-to-keys-on-reference-must-be-unblessed-hashref-or-arrayre/45310105#45310105", "title": "Perl: Type of argument to keys on reference must be unblessed hashref or arrayref", "body": "<p>First of all, you have a precedence problem. You are doing</p>\n\n<pre><code>keys($val . \"\\n\")\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>keys($val) . \"\\n\"\n</code></pre>\n\n<hr>\n\n<p>Secondly, the syntax for <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\"><code>keys</code></a><sup>[1]</sup> is</p>\n\n<pre><code>keys HASH\n</code></pre>\n\n<p>meaning you need</p>\n\n<pre><code>keys(%$val)\n</code></pre>\n\n<hr>\n\n<p>Finally, you are calling <code>keys</code> in scalar context, which returns the number of keys in the hash. Call it in list context to get the keys of the hash. For example,</p>\n\n<pre><code>say \"Keys: \", join \", \", keys(%$val);\n</code></pre>\n\n<hr>\n\n<ol>\n<li>There were a few versions where Perl experimented with allowing <code>keys $ref</code>, but the experiment was discontinued in 5.24. Avoid that!</li>\n</ol>\n"}], "owner": {"reputation": 65650, "user_id": 343204, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/uOZYt.jpg?s=128&g=1", "display_name": "Snowcrash", "link": "https://stackoverflow.com/users/343204/snowcrash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 846, "favorite_count": 1, "accepted_answer_id": 45310105, "answer_count": 1, "score": -1, "last_activity_date": 1501048880, "creation_date": 1501003815, "last_edit_date": 1501048880, "question_id": 45310064, "link": "https://stackoverflow.com/questions/45310064/perl-type-of-argument-to-keys-on-reference-must-be-unblessed-hashref-or-arrayre", "title": "Perl: Type of argument to keys on reference must be unblessed hashref or arrayref", "body": "<p>I have a Perl hash (from some legacy code) but am unable print out the   the keys.</p>\n\n<pre><code>  if (ref $val eq ref {}) {\n    print \"Keys: \" . keys $val . \"\\n\";\n</code></pre>\n\n<p>e.g. here's the output I get:</p>\n\n<pre><code>VAL: HASH(0x7ff0898eda70)\nType of argument to keys on reference must be unblessed hashref or arrayref\n</code></pre>\n\n<p>I've read this <a href=\"https://stackoverflow.com/questions/17080143/type-of-argument-to-keys-on-reference-must-be-unblessed-hashref-or-arrayref\">Type of argument to keys on reference must be unblessed hashref or arrayref</a> but not sure how to apply it in this case.</p>\n\n<p>Is there a way of fixing this?</p>\n\n<p>====</p>\n\n<p>UPDATE</p>\n\n<p>I've also tried: </p>\n\n<pre><code>    print \"Keys: \" . keys %$val . \"\\n\";\n</code></pre>\n\n<p>but still get <code>Type of argument to keys on reference must be unblessed hashref or arrayref</code></p>\n\n<p>UPDATE 2</p>\n\n<p>I can see I have the key <code>a_key</code> but I'm unable to print out its values. E.g. debugging with <code>Carp::REPL</code> I get:</p>\n\n<pre><code>$ print $val;\n1$ HASH(0x7fb1e0828f00)    \n$ print %$val;\n1$ a_keyARRAY(0x7fb1e0828e28)\n$ print %$val{'a_key'}\nCompile error: syntax error at (eval 412) line 63, near \"$val{\"\nBEGIN not safe after errors--compilation aborted at (eval 412) line 63, &lt;FIN&gt; line 6.\n$ print $val{'a_key'}\nUse of uninitialized value in print at (eval 413) line 63, &lt;FIN&gt; line 7.\n1\n</code></pre>\n\n<p>UPDATE 3</p>\n\n<p>Using <code>Data::Dumper</code> in the REPL I get:</p>\n\n<pre><code>$ print Dumper( $val );\n$VAR1 = {\n          'a_key' =&gt; [\n                     'long_value'\n                   ]\n        };\n1$ print Dumper( %$val );\n$VAR1 = 'a_key';\n$VAR2 = [\n          'long_value'\n        ];\n1$ print %$val[1]\nCompile error: syntax error at (eval 450) line 63, near \"$val[\"\nBEGIN not safe after errors--compilation aborted at (eval 450) line 63, &lt;FIN&gt; line 44.\n$ print %$val{'a_key'}\nCompile error: syntax error at (eval 451) line 63, near \"$val{\"\nBEGIN not safe after errors--compilation aborted at (eval 451) line 63, &lt;FIN&gt; line 45.\n$ print $val[1]     \nUse of uninitialized value in print at (eval 452) line 63, &lt;FIN&gt; line 46.\n</code></pre>\n"}, {"tags": ["xml", "perl", "xpath", "utf-8"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500996403, "post_id": 45307294, "comment_id": 77577036, "body": "Does it get the right result for the first query? It looks like it&#39;s just having issues parsing the second query rather than any problems with your XML"}, {"owner": {"reputation": 43, "user_id": 8364346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8e5f34fd6eedf738cfc79391ab84f0?s=128&d=identicon&r=PG&f=1", "display_name": "SouthWind", "link": "https://stackoverflow.com/users/8364346/southwind"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1501035080, "post_id": 45307294, "comment_id": 77594819, "body": "Yes,the first query from web is right.  the second query that I added isn&#39;t right."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8364346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8e5f34fd6eedf738cfc79391ab84f0?s=128&d=identicon&r=PG&f=1", "display_name": "SouthWind", "link": "https://stackoverflow.com/users/8364346/southwind"}, "edited": false, "score": 0, "creation_date": 1501036692, "post_id": 45307470, "comment_id": 77595268, "body": "Thank you very much! Your two answers are instructive to me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 43, "user_id": 8364346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8e5f34fd6eedf738cfc79391ab84f0?s=128&d=identicon&r=PG&f=1", "display_name": "SouthWind", "link": "https://stackoverflow.com/users/8364346/southwind"}, "edited": false, "score": 1, "creation_date": 1501036754, "post_id": 45307470, "comment_id": 77595282, "body": "Got lucky with ::Parser storing the patterns in global variables!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1501009122, "last_edit_date": 1501009122, "creation_date": 1500996032, "answer_id": 45307470, "question_id": 45307294, "link": "https://stackoverflow.com/questions/45307294/how-to-use-perls-xmlxpath-with-non-english-element-names/45307470#45307470", "title": "How to use Perl&#39;s XML::XPath with non-English element names?", "body": "<p>You could use <a href=\"http://search.cpan.org/perldoc?XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse utf8;\nuse open ':std', ':encoding(UTF-8)';\n\nuse feature qw( say );\n\nuse XML::LibXML qw( );\n\n{\n   my $parser = XML::LibXML-&gt;new();\n   my $doc = $parser-&gt;parse_file($ARGV[0]);\n   say $doc-&gt;findvalue('/employees/employee[@age=\"10\"]/name');\n   say $doc-&gt;findvalue('/employees/employee[@age=\"30\"]/\u5de5\u4f5c');\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ ./a a.xml\nmac\n\u6559\u5e08\n</code></pre>\n\n<hr>\n\n<p>If you want to keep using the (buggy, slower, and far-less-widely used) <a href=\"http://search.cpan.org/perldoc?XML::XPath\" rel=\"nofollow noreferrer\">XML::XPath</a>, you can use the following:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse utf8;\nuse open ':std', ':encoding(UTF-8)';\n\nuse feature qw( say );\n\nuse XML::XPath qw( );\n\n{ # Monkeypatch XML::XPath.\n   package XML::XPath::Parser;\n\n   # Colon removed from these definitions.\n   my $NameStartCharClassBody = \"a-zA-Z_\\\\xC0-\\\\xD6\\\\xD8-\\\\xF6\\\\xF8-\\\\x{2FF}\\\\x{370}-\\\\x{37D}\\\\x{37F}-\\\\x{1FFF}\\\\x{200C}-\\\\x{200D}\\\\x{2070}-\\\\x{218F}\\\\x{2C00}-\\\\x{2FEF}\\\\x{3001}-\\\\x{D7FF}\\\\x{F900}-\\\\x{FDCF}\\\\x{FDF0}-\\\\x{FFFD}\\\\x{10000}-\\\\x{EFFFF}\";\n   my $NameCharClassBody = \"${NameStartCharClassBody}\\\\-.0-9\\\\xB7\\\\x{300}-\\\\x{36F}\\\\x{203F}-\\\\x{2040}\";\n   my $Name = \"(?:[$NameStartCharClassBody][$NameCharClassBody]*)\";\n\n   $NCName = $Name;\n   $QName = \"$NCName(?::$NCName)?\";\n   $NCWild = \"${NCName}:\\\\*\";\n}\n\n{\n   my $doc = XML::XPath-&gt;new(filename =&gt; $ARGV[0]);\n   say $doc-&gt;findvalue('/employees/employee[@age=\"10\"]/name');\n   say $doc-&gt;findvalue('/employees/employee[@age=\"30\"]/\u5de5\u4f5c');\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ ./a a.xml\nmac\n\u6559\u5e08\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 8364346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8e5f34fd6eedf738cfc79391ab84f0?s=128&d=identicon&r=PG&f=1", "display_name": "SouthWind", "link": "https://stackoverflow.com/users/8364346/southwind"}, "edited": false, "score": 1, "creation_date": 1501037049, "post_id": 45310229, "comment_id": 77595349, "body": "Thank you for your detailed explanation."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1501329871, "last_edit_date": 1501329871, "creation_date": 1501004404, "answer_id": 45310229, "question_id": 45307294, "link": "https://stackoverflow.com/questions/45307294/how-to-use-perls-xmlxpath-with-non-english-element-names/45310229#45310229", "title": "How to use Perl&#39;s XML::XPath with non-English element names?", "body": "<p>You should, always, <em>without exception</em> post the actual code you run, not gibberish like:</p>\n\n<pre><code>use XML::XPath-&gt;new;\n</code></pre>\n\n<p>Now, as for this issue, I am fairly certain this is caused by <a href=\"https://github.com/manwar/XML-XPath/blob/d39003bd2306d0c4296ae5dacb5816ea3d0fe610/lib/XML/XPath/Parser.pm#L45\" rel=\"nofollow noreferrer\">this line in <code>XML/XPath/Parser.pm</code></a>:</p>\n\n<blockquote>\n<pre><code>$NCName = '([A-Za-z_][\\w\\\\.\\\\-]*)';\n</code></pre>\n</blockquote>\n\n<p>which, for reasons with which I am not familiar, requires that the first character of an element be restricted to the set of English letters and <code>_</code>. Here is a simple test case:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse v5.14;\nuse strict;\nuse warnings;\n\nuse utf8;\nuse open qw(:std :encoding(UTF-8));\n\nuse XML::XPath;\n\nmy $xp = XML::XPath-&gt;new(ioref =&gt; \\*DATA );\n\nmy $good_path = '/employees/employee[@age=\"30\"]/ya\u011fc\u0131';\nmy $bad_path = '/employees/employee[@age=\"30\"]/\u015f\u0131mar\u0131k';\n\nsay $xp-&gt;findvalue($good_path);\n\nsay $xp-&gt;findvalue($bad_path);\n\n__DATA__\n&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;employees&gt;\n    &lt;employee age=\"30\"&gt;\n        &lt;\u015f\u0131mar\u0131k&gt;de\u011fil&lt;/\u015f\u0131mar\u0131k&gt;\n        &lt;ya\u011fc\u0131&gt;de\u011fil&lt;/ya\u011fc\u0131&gt;\n    &lt;/employee&gt;\n&lt;/employees&gt;\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\...\\&gt; perl x.pl\nde\u011fil\nQuery:\n/employees/employee[@age=\"30\"]/\u015f\u0131mar\u0131k...\n..............................^^^\nInvalid query somewhere around here (I think)\n</code></pre>\n\n<p>If I change that pattern to:</p>\n\n<blockquote>\n<pre><code>$NCName = '(\\w[\\w\\\\.\\\\-]*)';\n</code></pre>\n</blockquote>\n\n<p>I get the output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\...\\&gt; perl x.pl\nde\u011fil\nde\u011fil\n</code></pre>\n\n<p>and, using your original data, I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>de\u011fil\n\u6559\u5e08\n</code></pre>\n\n<p>after making the appropriate changes.</p>\n\n<p>That is not the correct pattern to use, but I did this to make sure that my hunch as to the cause was correct by making the smallest change possible. The correct specification is <a href=\"https://www.w3.org/TR/REC-xml/#NT-Name\" rel=\"nofollow noreferrer\">in the standard</a>:</p>\n\n<pre><code>Name          ::= NameStartChar (NameChar)*\n\nNameStartChar ::= \":\" | [A-Z] | \"_\" | [a-z] |\n                  [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] |\n                  [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] |\n                  [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] |\n                  [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n\nNameChar      ::= NameStartChar | \"-\" | \".\" | [0-9] | #xB7 |\n                  [#x0300-#x036F] | [#x203F-#x2040]\n</code></pre>\n\n<p><a href=\"https://github.com/manwar/XML-XPath/issues/4\" rel=\"nofollow noreferrer\">Issue opened</a>.</p>\n\n<p>The <a href=\"https://github.com/manwar/XML-XPath/commit/b9fe95de56c85c8a858492325d7e1834d9882655\" rel=\"nofollow noreferrer\">module has been patched</a>. You can download <a href=\"https://metacpan.org/release/MANWAR/XML-XPath-1.41\" rel=\"nofollow noreferrer\">version 1.41</a> or later test.</p>\n"}], "owner": {"reputation": 43, "user_id": 8364346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8e5f34fd6eedf738cfc79391ab84f0?s=128&d=identicon&r=PG&f=1", "display_name": "SouthWind", "link": "https://stackoverflow.com/users/8364346/southwind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 45307470, "answer_count": 2, "score": 4, "last_activity_date": 1501329871, "creation_date": 1500995557, "last_edit_date": 1501004867, "question_id": 45307294, "link": "https://stackoverflow.com/questions/45307294/how-to-use-perls-xmlxpath-with-non-english-element-names", "title": "How to use Perl&#39;s XML::XPath with non-English element names?", "body": "<p>How can I work with <a href=\"https://metacpan.org/pod/XML::XPath\" rel=\"nofollow noreferrer\">XML::XPath</a> when some elements' names are not in English?</p>\n\n<p>I use Strawberry Perl.</p>\n\n<p>I get <code>employees.xml</code> and <code>train_xml.pl</code> from web, they work good. </p>\n\n<p>But when When I add some Chinese characters, I get the following error:</p>\n\n<blockquote>\n  <p><code>Wide character in die at D:/Strawberry/perl/site/lib/XML/XPath/Parser.pm line 189.</code></p>\n\n<pre><code>Query:\n/employees/employee[@age=\"30\"]/\u5de5\u4f5c...\n..............................^^^\nInvalid query somewhere around here (I think)\n</code></pre>\n</blockquote>\n\n<p>How can I solve this?</p>\n\n<p><code>employees.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;employees&gt;\n    &lt;employee age=\"30\"&gt;\n        &lt;name&gt;linux&lt;/name&gt;\n    &lt;country&gt;US&lt;/country&gt;\n    &lt;\u5de5\u4f5c&gt;\u6559\u5e08&lt;/\u5de5\u4f5c&gt;\n    &lt;/employee&gt;\n    &lt;employee age=\"10\"&gt;\n    &lt;name&gt;mac&lt;/name&gt;\n    &lt;country&gt;US&lt;/country&gt;\n    &lt;/employee&gt;\n    &lt;employee age=\"20\"&gt;\n    &lt;name&gt;windows&lt;/name&gt;\n    &lt;country&gt;US&lt;/country&gt;\n    &lt;/employee&gt;\n&lt;/employees&gt;\n</code></pre>\n\n<p><code>train_xml.pl</code>:</p>\n\n<pre><code>use Encode;\nuse XML::XPath-&gt;new;\nuse utf8;\nmy $xp=XML::XPath-&gt;new(filename=&gt;\"employees.xml\");\nprint $xp-&gt;findvalue('/employees/employee[@age=\"10\"]/name'),\"\\n\";\nmy $path1 = '/employees/employee[@age=\"30\"]/\u5de5\u4f5c';\nprint $xp-&gt;findvalue($path1),\"\\n\";\n</code></pre>\n"}, {"tags": ["html", "regex", "perl", "csv", "sed"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1500995681, "post_id": 45307278, "comment_id": 77576464, "body": "<a href=\"http://search.cpan.org/dist/HTML-Strip/Strip.pm\" rel=\"nofollow noreferrer\">search.cpan.org/dist/HTML-Strip/Strip.pm</a>"}], "answers": [{"tags": [], "owner": {"reputation": 528, "user_id": 3325942, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d95d5ce531d729b61160f15f1d2524af?s=128&d=identicon&r=PG", "display_name": "ROODAY", "link": "https://stackoverflow.com/users/3325942/rooday"}, "is_accepted": false, "score": 0, "last_activity_date": 1501083305, "creation_date": 1501083305, "answer_id": 45331507, "question_id": 45307278, "link": "https://stackoverflow.com/questions/45307278/regex-not-capturing-newlines-when-used-in-sed-or-perl/45331507#45331507", "title": "Regex not capturing newlines when used in sed or perl", "body": "<p>For clarity I'll post the answer here, from @LukStorms' comment. Answer from <a href=\"https://stackoverflow.com/questions/16742526/how-do-i-search-and-replace-across-multiple-lines-with-perl\">this thread</a>.</p>\n\n<p>TL;DR: The <code>-0</code> flag solved the issue, at least with Perl. </p>\n\n<p>Full command: <code>perl -0pe 's/&lt;[^&gt;]*&gt;//g' file</code></p>\n"}], "owner": {"reputation": 528, "user_id": 3325942, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d95d5ce531d729b61160f15f1d2524af?s=128&d=identicon&r=PG", "display_name": "ROODAY", "link": "https://stackoverflow.com/users/3325942/rooday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "closed_date": 1501195120, "answer_count": 1, "score": -1, "last_activity_date": 1501083600, "creation_date": 1500995523, "last_edit_date": 1501083600, "question_id": 45307278, "link": "https://stackoverflow.com/questions/45307278/regex-not-capturing-newlines-when-used-in-sed-or-perl", "closed_reason": "Duplicate", "title": "Regex not capturing newlines when used in sed or perl", "body": "<p>I have a CSV file that I'm trying to clean, and part of that is removing HTML tags inside some of the values. I came across this solution: <code>sed -e 's/&lt;[^&gt;]*&gt;//g' file.html</code> from this <a href=\"https://stackoverflow.com/questions/19878056/sed-remove-tags-from-html-file\">thread</a>. </p>\n\n<p>Before trying it out, I tested the regex (<code>/&lt;[^&gt;]*&gt;/g</code>) using <a href=\"http://regexr.com/\" rel=\"nofollow noreferrer\">RegExr</a>. I used the following as my text sample:</p>\n\n<pre><code>&lt;asd&gt;\n&lt; asd &gt;\n&lt; asdsad\n adsad &gt;\n</code></pre>\n\n<p>On RegExr, all three tags are matched, however, when I use the sed command to remove the tags, the third tag remains, i.e. I'm left with:</p>\n\n<pre><code>&lt; asdsad\n adsad &gt;\n</code></pre>\n\n<p>I need to be able to remove multiline tags as well, as many of the tags in the CSV I'm attempting to clean have attributes with quotes, like <code>class=\"some-class-name\"</code>, and those quotes are messing with the CSV formatting. </p>\n\n<p>I've also tried a Perl command, as Perl is supposed to have better multiline handling. I tried <code>perl -pe 's/&lt;[^&gt;]*&gt;//g' file</code>, but it had the same result as sed.</p>\n\n<p>EDIT: To address concerns of a possible duplicate, my question was based around why one Regex engine (<a href=\"http://regexr.com/\" rel=\"nofollow noreferrer\">RegExr</a>) was capturing different entities than another (sed and Perl) and how to get those others to display the first's results. The <a href=\"https://stackoverflow.com/questions/16742526/how-do-i-search-and-replace-across-multiple-lines-with-perl\">possible duplicate</a>'s answer happened to solve my problem, although the question came from a different (yet similar) place.</p>\n"}, {"tags": ["json", "perl", "request"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500990931, "post_id": 45305361, "comment_id": 77572644, "body": "In what way is the decoded JSON different/wrong?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8364010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3531e631ceecf0e177e3c80fd78de483?s=128&d=identicon&r=PG&f=1", "display_name": "Sir Anon Robot", "link": "https://stackoverflow.com/users/8364010/sir-anon-robot"}, "edited": false, "score": 0, "creation_date": 1500992344, "post_id": 45305512, "comment_id": 77573884, "body": "thanks a lot its working ! and what should i change for getting all this output :            &#39;result&#39; =&gt; {                     &#39;id&#39; =&gt; 0000,                     &#39;username&#39; =&gt; &#39;MAGA_bot&#39;,                     &#39;first_name&#39; =&gt; &#39;[MAGA]&#39;                   }   ???"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 1, "user_id": 8364010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3531e631ceecf0e177e3c80fd78de483?s=128&d=identicon&r=PG&f=1", "display_name": "Sir Anon Robot", "link": "https://stackoverflow.com/users/8364010/sir-anon-robot"}, "edited": false, "score": 0, "creation_date": 1500992787, "post_id": 45305512, "comment_id": 77574242, "body": "<code>$result-&gt;{id}; $result-&gt;{username};</code>"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1500991008, "creation_date": 1500991008, "answer_id": 45305512, "question_id": 45305361, "link": "https://stackoverflow.com/questions/45305361/get-request-not-the-same-decoded/45305512#45305512", "title": "Get request not the same decoded", "body": "<p>Since the decoded JSON is converted into a Perl hash reference in this case, you access it as such:</p>\n\n<pre><code>my $result = $decoded_json-&gt;{result};\nprint \"$result-&gt;{first_name}\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[MAGA]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1500997500, "creation_date": 1500997500, "answer_id": 45308016, "question_id": 45305361, "link": "https://stackoverflow.com/questions/45305361/get-request-not-the-same-decoded/45308016#45308016", "title": "Get request not the same decoded", "body": "<p>If you only want to display part of a complex data structure, then just print that part of the data structure.</p>\n\n<pre><code>print Dumper $decoded_json-&gt;{result};\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8364010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3531e631ceecf0e177e3c80fd78de483?s=128&d=identicon&r=PG&f=1", "display_name": "Sir Anon Robot", "link": "https://stackoverflow.com/users/8364010/sir-anon-robot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1500997500, "creation_date": 1500990667, "question_id": 45305361, "link": "https://stackoverflow.com/questions/45305361/get-request-not-the-same-decoded", "title": "Get request not the same decoded", "body": "<p>Hi all i'm new at perl but i have few experience in other language.\nSo i made a simple code that get JSON file from internet here a telegram bot, but when i display it i got no probleme but when i decoded it with dedcode_json i dont have at all the same output :///</p>\n\n<p>Here the output of the server :</p>\n\n<pre><code>Received reply: {\"ok\":true,\"result\":{\"id\":0000,\"first_name\":\"[MAGA]\"}}\n</code></pre>\n\n<p>and now the output of the decoded anwser : </p>\n\n<pre><code>$VAR1 = {\n      'ok' =&gt; bless( do{\\(my $o = 1)}, 'JSON::PP::Boolean' ),\n      'result' =&gt; {\n                    'id' =&gt; 0000,\n                    'username' =&gt; 'MAGA_bot',\n                    'first_name' =&gt; '[MAGA]'\n                  }\n    };\n</code></pre>\n\n<p>how can i just get the 'result' part of the decoded json ?</p>\n\n<p>here my code :</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\n\nuse LWP::UserAgent;\nuse Data::Dumper;\nuse JSON;\n\nmy $ua = LWP::UserAgent-&gt;new;\n\nmy $destination = \"http://api.telegram.org/bot&lt;TOKEN&gt;/getMe\";\n\nmy $req = HTTP::Request-&gt;new(GET =&gt; $destination);\nmy $succes;\nmy $json;\n\nmy $resp = $ua-&gt;request($req);\nif ($resp-&gt;is_success) {\n    my $message = $resp-&gt;decoded_content;\n    print \"Received reply: $message\\n\";\n    $succes = \"yes\";\n    $json = $message;\n} else {\n    print \"HTTP POST error code: \", $resp-&gt;code, \"\\n\";\n    print \"HTTP POST error message: \", $resp-&gt;message, \"\\n\";\n}\n\nprint \"Encoding the JSON file \\n\";\nif ($succes eq \"yes\") {\n    my $decoded_json = decode_json($json);\n    print Dumper($decoded_json);\n} elsif ($succes ne \"yes\") {\n    print \"Parsing JSON failed\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501007374, "post_id": 45305286, "comment_id": 77584303, "body": "@Chris In your case the <code>$_</code> in the inner <code>foreach</code> are elements of <code>@{$ICVDWStats{$ICVDWKey}}</code>, while you want to access <code>@{$ICC2DWStats{$ICVDWKey})</code>.  In order to access &quot;parallel&quot; array elements you may need to switch to iterating over the index."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1500990448, "creation_date": 1500990448, "answer_id": 45305286, "question_id": 45304636, "link": "https://stackoverflow.com/questions/45304636/how-to-dereference-entries-in-a-hash-of-arrays-of-hashes/45305286#45305286", "title": "How to dereference entries in a hash of arrays of hashes", "body": "<p>Instead of using <code>$_</code> which represents a structure other than the <code>$ICC2DWStats</code> hashref which you want, you need to explicitly specify the hash and key of the actual hasn you want to extract from:</p>\n\n<pre><code>for $ICVDWKey (@AllICVDWCoords) {\n    for (@{$ICVDWStats{$ICVDWKey}}) {\n        $ICVDensity = $_-&gt;{ICVDensity};\n        $ICVLayerArea = $_-&gt;{ICVLayerArea};\n        $ICVWindowArea = $_-&gt;{ICVWindowArea};\n        ...\n        if (exists ($ICC2DWStats{$ICVDWKey})) {\n             $ICC2Density = $ICC2DWStats-&gt;{$ICVDWKey}{ICC2Density};\n             $ICC2LayerArea = $ICC2DWStats-&gt;{$ICVDWKey}{ICC2LayerArea};\n             $ICC2WindowArea = $ICC2DWStats-&gt;{$ICVDWKey}{ICC2WindowArea};\n             ...\n        }\n    }\n}\n</code></pre>\n\n<p>Note that you should be using <code>use strict;</code> and <code>use warnings;</code>.</p>\n"}], "owner": {"reputation": 101, "user_id": 8363813, "user_type": "registered", "profile_image": "https://graph.facebook.com/692446450952705/picture?type=large", "display_name": "Chris", "link": "https://stackoverflow.com/users/8363813/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500990448, "creation_date": 1500988875, "last_edit_date": 1500990103, "question_id": 45304636, "link": "https://stackoverflow.com/questions/45304636/how-to-dereference-entries-in-a-hash-of-arrays-of-hashes", "title": "How to dereference entries in a hash of arrays of hashes", "body": "<p>I have a data structure that was built like so:-</p>\n\n<pre><code>$ICVDWKey = \"($LLX $LLY) ($URX $URY)\";\n...\npush @{$ICVDWStats{$ICVDWKey}}, {\n    ICVDensity=&gt;$Density,\n    ICVLayerArea=&gt;$LayerArea,\n    ICVWindowArea=&gt;$WindowArea\n};\n</code></pre>\n\n<p>I can dereference its contents like so...</p>\n\n<pre><code>foreach $ICVDWKey (@AllICVDWCoords) {\n    foreach (@{$ICVDWStats{$ICVDWKey}}) {\n        $ICVDensity = $_-&gt;{ICVDensity};\n        $ICVLayerArea = $_-&gt;{ICVLayerArea};\n        $ICVWindowArea = $_-&gt;{ICVWindowArea};\n        ...\n     }\n }\n</code></pre>\n\n<p>...and everything is good. However, I am running into problems when another data structure is built the same way and I need to check its contents when looping through the original data structure, above. Here is an example...</p>\n\n<pre><code>foreach $ICVDWKey (@AllICVDWCoords) {\n    foreach (@{$ICVDWStats{$ICVDWKey}}) {\n        $ICVDensity = $_-&gt;{ICVDensity};\n        $ICVLayerArea = $_-&gt;{ICVLayerArea};\n        $ICVWindowArea = $_-&gt;{ICVWindowArea};\n        ...\n        if (exists ($ICC2DWStats{$ICVDWKey})) {\n             $ICC2Density = $_-&gt;{ICC2Density};\n             $ICC2LayerArea = $_-&gt;{ICC2LayerArea};\n             $ICC2WindowArea = $_-&gt;{ICC2WindowArea};\n             ...\n        }\n    }\n}\n</code></pre>\n\n<p>I know the <code>if exists $ICVDWKey</code> matching is working properly, but I cannot cleanly dereference the contents of the ICC2DWStats hash data. What is the proper what to retrieve the <code>ICC2*</code> data when <code>$ICVDWKey</code> keys match between the two data structures? I am sure it is the <code>$_</code> in the <code>ICC2*</code> references, but I do not know what should be used instead.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "moose"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1500988557, "creation_date": 1500988557, "answer_id": 45304512, "question_id": 45304277, "link": "https://stackoverflow.com/questions/45304277/dynamically-generate-writer-reader-from-attribute-names-in-moose/45304512#45304512", "title": "Dynamically generate writer/reader from attribute names in Moose", "body": "<p><code>has</code> isn't magic. It's just a subroutine call. So something like this should work (untested):</p>\n\n<pre><code>for (qw[colour temperature size]) {\n  has $_ =&gt; (\n    is     =&gt; 'rw',\n    isa    =&gt; 'Str',\n    writer =&gt; \"_set_$_\",\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 45304512, "answer_count": 1, "score": 2, "last_activity_date": 1500988557, "creation_date": 1500987956, "question_id": 45304277, "link": "https://stackoverflow.com/questions/45304277/dynamically-generate-writer-reader-from-attribute-names-in-moose", "title": "Dynamically generate writer/reader from attribute names in Moose", "body": "<p>In Moose we can put restrictions on instance attributes or add getters/setters like so:</p>\n\n<pre><code>has 'color' =&gt; (\n  is  =&gt; 'rw',\n  isa =&gt; 'Str',\n  writer =&gt; '_set_color',\n);\n</code></pre>\n\n<p>My question is, is there a way to do this dynamically for an array of elements? It's possible to do something like this:</p>\n\n<pre><code>has ['color', 'temperature', 'size'] =&gt; (\n  is  =&gt; 'rw',\n  isa =&gt; 'Str',\n);\n</code></pre>\n\n<p>But is there a way to create for each of these items its own writer (or reader), e.g. <code>_set_color</code>, <code>_set_temperature</code>, <code>_set_size</code>? I tried to see if the following yielded any insight, but it returned an error </p>\n\n<blockquote>\n  <p>bad accessor/reader/writer/predicate/clearer format, must be a HASH\n  ref</p>\n</blockquote>\n\n<pre><code>has ['color', 'temperature', 'size'] =&gt; (\n  is  =&gt; 'rw',\n  isa =&gt; 'Str',\n  writer =&gt; sub {\n    print Dumper(\\@_);\n    return;\n);\n</code></pre>\n\n<p>What I am hoping to get is something like (which doesn't work):</p>\n\n<pre><code>has ['color', 'temperature', 'size'] =&gt; (\n  is  =&gt; 'rw',\n  isa =&gt; 'Str',\n  writer =&gt; \"_set_$_\";\n);\n</code></pre>\n\n<p>I need custom writers, so just going for the ones provided by Moose does not work for me.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500983079, "post_id": 45298405, "comment_id": 77565835, "body": "&quot;<i>I started learning Perl a few days ago</i>&quot; ... At this point, you should concentrate on <a href=\"http://shop.oreilly.com/product/0636920049517.do\" rel=\"nofollow noreferrer\">learning Perl</a> instead of delving into third party APIs."}], "answers": [{"comments": [{"owner": {"reputation": 130, "user_id": 8344900, "user_type": "registered", "profile_image": "https://graph.facebook.com/1929110737307086/picture?type=large", "display_name": "R&#233;mi Bosgaerd", "link": "https://stackoverflow.com/users/8344900/r%c3%a9mi-bosgaerd"}, "edited": false, "score": 0, "creation_date": 1500973948, "post_id": 45298480, "comment_id": 77559070, "body": "Ok thank you that was were I was wrong ;)"}], "tags": [], "owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "is_accepted": false, "score": 0, "last_activity_date": 1500973340, "last_edit_date": 1500973340, "creation_date": 1500973035, "answer_id": 45298480, "question_id": 45298405, "link": "https://stackoverflow.com/questions/45298405/displaying-content-of-a-hash-perl/45298480#45298480", "title": "Displaying content of a hash {Perl}", "body": "<p>You will need to create initialise your variable like this</p>\n\n<p><code>my $hachage = $tl-&gt;getProjectByName('Created_With_API');</code></p>\n\n<p>(Note dollar sign, not percent)</p>\n\n<p>and you can get what you want by doing <code>print \"$hachage-&gt;{'id'}\"</code></p>\n\n<p>You need this syntax because $tl->getProjectByName returns a reference to a hash, not an actual hash.</p>\n\n<p>The difference is discussed <a href=\"https://stackoverflow.com/questions/1817394/whats-the-difference-between-a-hash-and-hash-reference-in-perl\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 130, "user_id": 8344900, "user_type": "registered", "profile_image": "https://graph.facebook.com/1929110737307086/picture?type=large", "display_name": "R&#233;mi Bosgaerd", "link": "https://stackoverflow.com/users/8344900/r%c3%a9mi-bosgaerd"}, "edited": false, "score": 0, "creation_date": 1500973882, "post_id": 45298520, "comment_id": 77559028, "body": "Thank you, that&#39;s why it didn&#39;t work, the API documentation was saying &quot;Returns desired project def hash, false otherwise.&quot;, and because I don&#39;t realy know Perl I imagined it returned the hash, not its reference."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 2, "last_activity_date": 1500973148, "creation_date": 1500973148, "answer_id": 45298520, "question_id": 45298405, "link": "https://stackoverflow.com/questions/45298405/displaying-content-of-a-hash-perl/45298520#45298520", "title": "Displaying content of a hash {Perl}", "body": "<p><code>getProjectByName</code> doesn't return a list of key/value pairs (which is what you would need to initialize a <code>%hash</code>), it returns a single value, which is a reference to a hash:</p>\n\n<pre><code>my $hachage = $tl-&gt;getProjectByName('Created_With_API');\n</code></pre>\n\n<p>You can access single elements using e.g. <code>$hachage-&gt;{id}</code>. See <a href=\"https://metacpan.org/pod/perlreftut\" rel=\"nofollow noreferrer\"><code>perldoc perlreftut</code></a> for more information.</p>\n"}], "owner": {"reputation": 130, "user_id": 8344900, "user_type": "registered", "profile_image": "https://graph.facebook.com/1929110737307086/picture?type=large", "display_name": "R&#233;mi Bosgaerd", "link": "https://stackoverflow.com/users/8344900/r%c3%a9mi-bosgaerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "closed_date": 1500985374, "accepted_answer_id": 45298520, "answer_count": 2, "score": -1, "last_activity_date": 1500973340, "creation_date": 1500972845, "question_id": 45298405, "link": "https://stackoverflow.com/questions/45298405/displaying-content-of-a-hash-perl", "closed_reason": "Duplicate", "title": "Displaying content of a hash {Perl}", "body": "<p>I'm currently working with an API, and I wrote a short script to get details of a project I created. I'm able tu successfuly display the whole content with Data::Dumper but I cannot display a specific element or assign it to a variable.\nHere is my short code :</p>\n\n<pre><code># !/usr/bin/perl\nuse strict;\nuse warnings;\nuse TestLink::API;\nuse Data::Dumper;\nmy $tl=TestLink::API-&gt;new('http://127.0.0.1/testlink-1.9.16/lib/api/xmlrpc/v1/xmlrpc.php', 'a64aaa61db4e9f65d4e52745b86e3d8f');\nprint Dumper($tl-&gt;getProjectByName('Created_With_API'));\nmy %hachage = $tl-&gt;getProjectByName('Created_With_API');\n</code></pre>\n\n<p>And this code display my information, ie :</p>\n\n<pre><code>$VAR1 = {\n          'prefix' =&gt; 'CWAPI',\n          'notes' =&gt; 'res ipsa loquiter',\n          'opt' =&gt; {\n                     'inventoryEnabled' =&gt; '1',\n                     'testPriorityEnabled' =&gt; '1',\n                     'automationEnabled' =&gt; '1',\n                     'requirementsEnabled' =&gt; '1'\n                   },\n          'options' =&gt; 'O:8:\"stdClass\":4:{s:19:\"requirementsEnabled\";i:1;s:19:\"testPriorityEnabled\";i:1;s:17:\"automationEnabled\";i:1;s:16:\"inventoryEnabled\";i:1;}',\n          'color' =&gt; '',\n          'option_priority' =&gt; '0',\n          'issue_tracker_enabled' =&gt; '0',\n          'id' =&gt; '14',\n          'is_public' =&gt; '1',\n          'option_reqs' =&gt; '0',\n          'type' =&gt; 'project',\n          'api_key' =&gt; '9bc99494a418140a1a625257da91d9f855b452c05f498ac2db94cbbbb331db58',\n          'name' =&gt; 'Created_With_API',\n          'option_automation' =&gt; '0',\n          'reqmgr_integration_enabled' =&gt; '0',\n          'tc_counter' =&gt; '0',\n          'active' =&gt; '1'\n        };\n</code></pre>\n\n<p>But I can't display a specific element, when I write </p>\n\n<pre><code>print \"$hachage{id}\";\n</code></pre>\n\n<p>I get an error. I KNOW, I'm probably doing something wrong, I started learning Perl a few days ago for this API and there must be awfull things. But I'd just like to know what am I doing wrong.\nThanks for your help for those who will take time to answer me ;)</p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 2, "creation_date": 1500953040, "post_id": 45293085, "comment_id": 77548530, "body": "Add <code>use strict;</code> and <code>use warnings;</code> to the top of your file.  You are not showing a reproducible example."}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "is_accepted": false, "score": 0, "last_activity_date": 1500964376, "creation_date": 1500964376, "answer_id": 45295552, "question_id": 45293085, "link": "https://stackoverflow.com/questions/45293085/how-to-fetch-results-from-a-query-using-fetchall-arrayref-in-perl/45295552#45295552", "title": "How to fetch results from a query using fetchall_arrayref in perl?", "body": "<p>You can see also <a href=\"https://stackoverflow.com/questions/2975837/perl-how-to-get-the-index-of-last-element-of-array-reference\">Perl How to get the index of last element of array reference?</a></p>\n\n<pre><code>my $lastRowIdx = $#$testResults;\nfor (my $i=0 ; $i&lt;=$lastRowIdx ; $i++ ) {\n  my $rref = $testResults-&gt;[$i];\n  print \"@$rref\\n\";\n} # endfor;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8360899"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500964376, "creation_date": 1500950990, "last_edit_date": 1500952830, "question_id": 45293085, "link": "https://stackoverflow.com/questions/45293085/how-to-fetch-results-from-a-query-using-fetchall-arrayref-in-perl", "title": "How to fetch results from a query using fetchall_arrayref in perl?", "body": "<p>My code:</p>\n\n<pre><code>my $sql_query = \"select Event_datetime,Event,User from logs\";\nmy $sth = $dbh-&gt;prepare($sql_query);\n$sth-&gt;execute();\n$testResults = $sth-&gt;fetchall_arrayref();\nforeach my $row (@$testResults) {\n    ($Event_datetime,$Event,$User) = @$row;\n    print $query-&gt;h2($ID);\n}\n</code></pre>\n\n<p>I would like to use a for loop to fetch the results of this query(once it is executed) such that each row has a number, i.e. since rows are listed sequentially, I need to access the row by its row number.</p>\n\n<p>i.e. row 1 is 0; row 2 is 1; row 3 is 2 and so on...</p>\n\n<p>for example:</p>\n\n<pre><code>for ($i=0; $i &lt; $noOfRows; $i=$i+1) {\n    ($ID,$Event_datetime,$Event,$User) = @$testResults;\n    print $query-&gt;h3($ID, ' ,', $Event_datetime, ',', $Event, ',', $User );\n}\n</code></pre>\n\n<p>However, this query does not give me any output. How do I access a particular row by its row number ? </p>\n"}, {"tags": ["perl", "arguments", "getopt"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1500929692, "post_id": 45289867, "comment_id": 77542151, "body": "In your second use case, <code>b</code> would be treated as a regular command line argument and would persist in <code>@ARGV</code>, so just check that <code>@ARGV</code> only has one element?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500929766, "post_id": 45289867, "comment_id": 77542189, "body": "If <code>a</code> or <code>b</code> are expected to be other than strings, than you can use that fact, require integer (or float) intput for <code>-p</code>.  Other than that, you&#39;ll have a loose <code>b</code> in <code>@ARGV</code> after <code>Getopt::Long</code> is done with its part, you can check for it.  Or just parse and check the <code>-p</code> input."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500931096, "post_id": 45289966, "comment_id": 77542848, "body": "@ysth I think <code>require_order</code> is irrelevant for this problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500931212, "post_id": 45289966, "comment_id": 77542900, "body": "@melpomene, It&#39;s not required, though it does stop parsing sooner with it. I always use <code>posix_default</code>. (Why would you want your new program to be non-standard?)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500931303, "post_id": 45289966, "comment_id": 77542942, "body": "@ikegami Because none of the other programs on my machine (GNU utils) follow strict POSIX rules."}, {"owner": {"reputation": 199, "user_id": 7526086, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/41f8ce36ef5c06f82ac11a0006f7324e?s=128&d=identicon&r=PG", "display_name": "whirlaway", "link": "https://stackoverflow.com/users/7526086/whirlaway"}, "edited": false, "score": 0, "creation_date": 1500940056, "post_id": 45289966, "comment_id": 77545709, "body": "Thanks.   This addresses the issue I was facing.    Best wishes."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500977146, "post_id": 45289966, "comment_id": 77561572, "body": "Awesome explanations champ"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 7, "last_activity_date": 1500931510, "last_edit_date": 1500931510, "creation_date": 1500930025, "answer_id": 45289966, "question_id": 45289867, "link": "https://stackoverflow.com/questions/45289867/how-to-detect-invalid-option-value/45289966#45289966", "title": "How to detect invalid option value", "body": "<p>You could simply check if you're left with non-options.</p>\n\n<pre><code>use Getopt::Long qw( );\n\nmy ($opt_t, $opt_p, $opt_cm, $opt_co);\n\nsub parse_args {\n   Getopt::Long::Configure(qw( posix_default ));\n\n   ($opt_t, $opt_p, $opt_cm, $opt_co) = ();\n\n   Getopt::Long::GetOptions(\n      'h|help|?' =&gt; \\&amp;help,\n      't=s'  =&gt; \\$opt_t,\n      'p=s'  =&gt; \\$opt_p,\n      'cm=s' =&gt; \\$opt_cm,\n      'co=s' =&gt; \\$opt_co,\n   )\n      or usage();\n\n   @ARGV == 0\n      or usage(\"Too many arguments.\");\n}\n\n{\n   parse_args();\n   ...\n}\n</code></pre>\n\n<p>Output (using the <code>usage</code> provided below):</p>\n\n<pre><code>$ ./prog -t xyz -p a b -cm xyz.cmd -co xyz.config\nToo many arguments.\nTry `prog --help' for more information.\n</code></pre>\n\n<hr>\n\n<p>As an aside, some recommendations for the implementation of <code>help</code> and <code>usage</code>:</p>\n\n<pre><code>use File::Basename qw( basename );\n\nsub help {\n   my $prog = basename($0);\n   print(\"$prog [options]\\n\");\n   print(\"$prog --help\\n\");\n   print(\"\\n\");\n   print(\"Options:\\n\");\n   ...\n   exit(0);\n}\n\nsub usage {\n   my $prog = basename($0);\n   if (my ($msg) = @_) {\n      chomp($msg);\n      warn(\"$msg\\n\");\n   }\n\n   warn(\"Try `$prog --help' for more information.\\n\");\n   exit(1);\n}\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 7526086, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/41f8ce36ef5c06f82ac11a0006f7324e?s=128&d=identicon&r=PG", "display_name": "whirlaway", "link": "https://stackoverflow.com/users/7526086/whirlaway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1500931510, "creation_date": 1500929605, "question_id": 45289867, "link": "https://stackoverflow.com/questions/45289867/how-to-detect-invalid-option-value", "title": "How to detect invalid option value", "body": "<p>I have a perl script that is expected to parse the following:</p>\n\n<p>prog -t xyz -p \"a b\" -cm xyz.cmd -co xyz.config</p>\n\n<p>But I want it to error out when I enter </p>\n\n<p>prog -t xyz -p a b -cm xyz.cmd -co xyz.config</p>\n\n<p>(Because -p is followed by a and b without quotes).   I am using Getopt::Long to process the cmd line args.  How do I catch the above situation and error out?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "grep", "regex-negation"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1500929455, "post_id": 45289766, "comment_id": 77542040, "body": "Also, <code>[ ... ]</code> creates an <i>array reference</i>.  You want <code>@array = ( ... )</code>.  So <code>@array = [ ... ]</code> creates that arrayref and <i>assigns it to the first element</i> of <code>@array</code>.  I figure that this isn&#39;t what you want."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506029369, "post_id": 45289766, "comment_id": 79666994, "body": "A reminder, see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506029385, "post_id": 45289766, "comment_id": 79667002, "body": "Then, I suggest to go through your other questions and vote (now you have enough credit for that) and accept as suitable.  This may or may not relate to strange downvotes on your current question. I am not posting this comment there so to not perhaps aggrevate that furtther.  Let me know when you have seen this."}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506029931, "post_id": 45289766, "comment_id": 79667218, "body": "@zdim how is my voting on other question help with the current downvote situation ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506030221, "post_id": 45289766, "comment_id": 79667339, "body": "Honestly I have no idea what&#39;s going on with that question.  And other questions <i>shouldn&#39;t</i> matter for voting on that one, of course, but life&#39;s not that simple as we know. In my experience people don&#39;t retract downvotes ... but it may help future questions.  If that&#39;s what caused it -- I&#39;m guessing because I don&#39;t understand those votes (on a good question). But then again, by reviewing your other questions and voting (as appropriate) you do them justice anyway."}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506030397, "post_id": 45289766, "comment_id": 79667386, "body": "Alright got it. Thanks for your explanation, one downvote was retracted there, the other I dont know. But I will try to vote other answers as well.   And I agree life is not simple mate :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506062318, "post_id": 45289766, "comment_id": 79676307, "body": "Nope it&#39;s not. I scratch my head often :) And certainly here. Let&#39;s clean up these off-topic comments ..."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1500929756, "last_edit_date": 1500929756, "creation_date": 1500929410, "answer_id": 45289822, "question_id": 45289766, "link": "https://stackoverflow.com/questions/45289766/remove-items-from-array-in-perl-using-logical-or/45289822#45289822", "title": "Remove items from array in perl using logical OR", "body": "<p>Unlike the command line tool by the same name, <code>grep</code> doesn't take a regex pattern; it takes an expression that evaluate to a true value for the items to keep.</p>\n\n<p><code>$regex</code> has a true value &mdash;the compiled regex pattern doesn't stringify to <code>0</code> or the empty string&mdash; so <code>!$regex</code> is always false, so <code>grep</code> filters everything out. You want to perform a regex match, so you will need the regex match operator.</p>\n\n<pre><code>my @wanted_array = grep  { !/$regex/ } @array;\n</code></pre>\n\n<hr>\n\n<p>There is a second problem.</p>\n\n<pre><code># An array that contains a single element: a reference to an anonymous array.\nmy @array = ['hard_link is not present', 'dynamic variable', 'segfault'];\n</code></pre>\n\n<p>should be</p>\n\n<pre><code># An array that contains a three strings.\nmy @array = ('hard_link is not present', 'dynamic variable', 'segfault');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1500931815, "post_id": 45289825, "comment_id": 77543202, "body": "thank you @ikegami , melpomene and zdim, it worked. However I am noticing that even if I pass $regex as a string, it works the same way. I am wondering if it would be a good idea"}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1500932727, "post_id": 45289825, "comment_id": 77543638, "body": "Sorry for the above incomplete comment,  However I am noticing that even if I pass $regex as a string, it works the same way. I wonder how &#39;my $regex = qr// &#39; playing a different role.  I am wondering if it would be a good idea?  for example  : my $regex = &#39;hard_link|Failed to reassign|Global variable|segfault&#39;;   gives the same output as before"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500950649, "post_id": 45289825, "comment_id": 77547944, "body": "@zdim no, try it and see.  The reason to use qr is to compile the regex earlier and guarantee that it only needs to be compiled once"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500951994, "post_id": 45289825, "comment_id": 77548264, "body": "@Sinan&#220;n&#252;r Yeah, thank you ... I&#39;ve been through this once already. It trips me up that some things regex work with <code>&#39;&#39;</code>. I just prefer <code>&#39;&#39;</code> for literals and <code>qr</code> for a regex. Always."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500952173, "post_id": 45289825, "comment_id": 77548307, "body": "@ysth  Thank you.  I use <code>qr</code> to be explicit about it being for regex and as it supports all regex (or at least almost all). Removed the offending statement. Sorry for the noise."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 1, "creation_date": 1500952763, "post_id": 45289825, "comment_id": 77548455, "body": "@hitman99  My previous comment was <i>wrong</i>, as in this case the <code>&#39;&#39;</code> works just like <code>qr</code> does.  However, they are very different as <code>qr</code> is meant precisely for regex.  See <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\"><code>qr</code> in perlop</a>."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 2, "last_activity_date": 1500929429, "creation_date": 1500929429, "answer_id": 45289825, "question_id": 45289766, "link": "https://stackoverflow.com/questions/45289766/remove-items-from-array-in-perl-using-logical-or/45289825#45289825", "title": "Remove items from array in perl using logical OR", "body": "<p>First off, don't use <code>-w</code> in scripts (unless you're a time traveler from before 2000).</p>\n\n<p>Always start your Perl files with <code>use strict; use warnings;</code>.</p>\n\n<p>The problem in your code is that you're using <code>!$regex</code> as the filter condition. <code>$regex</code> contains a regex object, which is a true value, so negating it returns false. This is why you end up with an empty array.</p>\n\n<p>Fix: Actually do a regex match:</p>\n\n<pre><code>my @wanted_array = grep { !/$regex/ } @array;\n</code></pre>\n\n<p>(This uses the match operator <code>m//</code> (but the <code>m</code> is optional if you're using <code>/</code> as the delimiter).)</p>\n\n<hr>\n\n<p>The other problem is that your <code>@array</code> only contains a single element, which is a reference (to another array).</p>\n\n<p>You want</p>\n\n<pre><code>my @array = ('hard_link is not present', 'dynamic variable', 'segfault');\n</code></pre>\n\n<p><code>[ ... ]</code> is a single scalar value.</p>\n"}], "owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 2, "accepted_answer_id": 45289825, "answer_count": 2, "score": 2, "last_activity_date": 1500929756, "creation_date": 1500929192, "question_id": 45289766, "link": "https://stackoverflow.com/questions/45289766/remove-items-from-array-in-perl-using-logical-or", "title": "Remove items from array in perl using logical OR", "body": "<p>I have a one array . I want the array to be such that it does not have any values of $regex (in a logical OR way).\nI am using grep command in a negation way, but I don't think this is solving my problem. Any help is highly appreciated. Thanks </p>\n\n<pre><code> #!/usr/bin/perl -w \n\nuse Data::Dumper;\n\n    my @array = ['hard_link is not present', 'dynamic variable', 'segfault'] ;\n\n    my $regex = qr/create_hard_link|Failed to reassign|Global variable/ ;\n\n    print Dumper(\\@array) ;\n    my @wanted_array = grep  {!$regex} @array ;\n    print Dumper(\\@wanted_array);\n</code></pre>\n\n<p>it gives me an output as </p>\n\n<pre><code>$VAR1 = [\n          [\n            'hard_link is not present',\n            'dynamic variable',\n            'segfault'\n          ]\n        ];\n$VAR1 = [];\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500929401, "post_id": 45289736, "comment_id": 77542011, "body": "so what is different between them?  filename?  are they on the same system?  are you running them as different users?  from different directories?"}, {"owner": {"reputation": 113, "user_id": 8359922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d00afafbab5e3962060b7dc2f61177d?s=128&d=identicon&r=PG", "display_name": "Martensite", "link": "https://stackoverflow.com/users/8359922/martensite"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500929755, "post_id": 45289736, "comment_id": 77542184, "body": "@ysth, I&#39;m running them directly one after the other, from the same folder, in the same software, as the same user, etc."}, {"owner": {"reputation": 113, "user_id": 8359922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d00afafbab5e3962060b7dc2f61177d?s=128&d=identicon&r=PG", "display_name": "Martensite", "link": "https://stackoverflow.com/users/8359922/martensite"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500929791, "post_id": 45289736, "comment_id": 77542202, "body": "I can literally click from one scripting window to another, all within Materials Studio. The filenames are different, yes, but other than that, they are identical. Hence my confusion and why I made this post!"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1500929801, "post_id": 45289736, "comment_id": 77542209, "body": "How are you running them? Because the error message says <code>-e</code>, which refers to a command-line script, not a file."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1500929854, "post_id": 45289736, "comment_id": 77542235, "body": "My guess is that there are some non-visible characters like <code>\\0</code> in one file which mess up the parsing. If you only copy+paste these files on text comparison sites or here these non-text characters will be automatically stripped, i.e. these these files look only the same without being the same. If you expect them to be the same just remove the bad one and copy the good one over."}, {"owner": {"reputation": 113, "user_id": 8359922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d00afafbab5e3962060b7dc2f61177d?s=128&d=identicon&r=PG", "display_name": "Martensite", "link": "https://stackoverflow.com/users/8359922/martensite"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500929874, "post_id": 45289736, "comment_id": 77542247, "body": "@melpomene, I&#39;m running them both the exact same way (in fact, the only way to run them in Materials Studio). While it does say <code>-e</code>, they&#39;re definitely files. I&#39;m not executing them differently at all."}, {"owner": {"reputation": 113, "user_id": 8359922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d00afafbab5e3962060b7dc2f61177d?s=128&d=identicon&r=PG", "display_name": "Martensite", "link": "https://stackoverflow.com/users/8359922/martensite"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1500929965, "post_id": 45289736, "comment_id": 77542288, "body": "@SteffenUllrich, that may be the case... How would I check for the presence of such characters?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1500930039, "post_id": 45289736, "comment_id": 77542325, "body": "@Martensite: use tools like <code>cmp</code> (on UNIX) to compare the files and not the copy+pasted data, convert the files to hex and compare this or similar. Details depend on your capabilities and the capabilities of your OS."}, {"owner": {"reputation": 113, "user_id": 8359922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d00afafbab5e3962060b7dc2f61177d?s=128&d=identicon&r=PG", "display_name": "Martensite", "link": "https://stackoverflow.com/users/8359922/martensite"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1500930662, "post_id": 45289736, "comment_id": 77542624, "body": "@SteffenUllrich, I took a look using FC in the Windows terminal and it does seem like something&#39;s a little wonky between the two versions. That may have been the culprit. Thanks."}, {"owner": {"reputation": 2094, "user_id": 238047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ef04756e5ea133ce029e8a375960cc9?s=128&d=identicon&r=PG", "display_name": "Hameed", "link": "https://stackoverflow.com/users/238047/hameed"}, "edited": false, "score": 2, "creation_date": 1500936214, "post_id": 45289736, "comment_id": 77544797, "body": "One thing is for sure... they are not identical..."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 8230588, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a20df5a29fbb7d6bef4d5ebf9e8d1f04?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo Mari", "link": "https://stackoverflow.com/users/8230588/alfredo-mari"}, "is_accepted": false, "score": 0, "last_activity_date": 1500973666, "creation_date": 1500973666, "answer_id": 45298720, "question_id": 45289736, "link": "https://stackoverflow.com/questions/45289736/two-identical-perl-scripts-but-one-doesnt-work/45298720#45298720", "title": "Two identical Perl scripts, but one doesn&#39;t work?", "body": "<p>I agree with Steffen, check out also for ^M characters at the end of the line, often they cause problems in .txt files. did you save them in tab delimeited text or in windows formatted text, cause the latter doesn't add odd characters at the end.</p>\n"}], "owner": {"reputation": 113, "user_id": 8359922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d00afafbab5e3962060b7dc2f61177d?s=128&d=identicon&r=PG", "display_name": "Martensite", "link": "https://stackoverflow.com/users/8359922/martensite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500973666, "creation_date": 1500929080, "last_edit_date": 1500929850, "question_id": 45289736, "link": "https://stackoverflow.com/questions/45289736/two-identical-perl-scripts-but-one-doesnt-work", "title": "Two identical Perl scripts, but one doesn&#39;t work?", "body": "<p>I am working with scripts in Materials Studio, a molecular visualization software. Scripting in this software is done in Perl. I have two versions of a script that multiple text comparison sites have verified are identical, yet one script works fine and the other quits, giving <a href=\"https://i.stack.imgur.com/zKCzb.png\" rel=\"nofollow noreferrer\">bogus errors</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zKCzb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zKCzb.png\" alt=\"screenshot\"></a></p>\n\n<p>Here are the two versions:</p>\n\n<p>1: (This one works)</p>\n\n<pre><code>#!perl\n\n# originally part of project:Chi_Flexibles_Sys\n\n#########################################################################################################################################\n# README:\n\n\n# Copyright (C) -------------------,  - All Rights Reserved\n# Proprietary Software, All Use Must Be Licensed.\n# This software is protected by U.S. Copyright Law and International Treaties. Unauthorized use, duplication, reverse engineering,\n# any form of redistribution, or use in part or in whole other than by prior, express, printed and signed license for use is strictly prohibited.\n# If you have received this file in error, please notify copyright holder and destroy this and any other copies\n# as instructed.\n\n# Copyright (c) 2016,-------------------\n# Please donot remove and/or modify this copyright notice from the script without permission from the copyright holder.\n\n#########################################################################################################################################\n\nmy $dir='C:\\Users\\USERNAME\\Documents\\Materials Studio Projects\\2016-October-nanoreactor\\Dimers Files\\Documents\\Case_5_(D)\\Blends\\AB\\A2 Blends Mixing\\Lowest energies'; #put in the current directory, because cwd() doesn't work\n\nmy $monomer1 = 'A2';\nmy $monomer2 = 'B2';\n\nmy $outfile1 = \"$dir\\\\$monomer1 $monomer1.txt\";\nmy $outfile2 = \"$dir\\\\$monomer1 $monomer2.txt\";\nmy $outfile3 = \"$dir\\\\$monomer2 $monomer2.txt\";\n\nmy $forcefield = \"Dreiding\";\n</code></pre>\n\n<p>2: (This one does not work)</p>\n\n<pre><code>#!perl\n\n# originally part of project:Chi_Flexibles_Sys\n\n#########################################################################################################################################\n# README:\n\n\n# Copyright (C) -------------------,  - All Rights Reserved\n# Proprietary Software, All Use Must Be Licensed.\n# This software is protected by U.S. Copyright Law and International Treaties. Unauthorized use, duplication, reverse engineering,\n# any form of redistribution, or use in part or in whole other than by prior, express, printed and signed license for use is strictly prohibited.\n# If you have received this file in error, please notify copyright holder and destroy this and any other copies\n# as instructed.\n\n# Copyright (c) 2016,-------------------\n# Please donot remove and/or modify this copyright notice from the script without permission from the copyright holder.\n\n#########################################################################################################################################\n\nmy $dir='C:\\Users\\USERNAME\\Documents\\Materials Studio Projects\\2016-October-nanoreactor\\Dimers Files\\Documents\\Case_5_(D)\\Blends\\AB\\A2 Blends Mixing\\Lowest energies'; #put in the current directory, because cwd() doesn't work\n\nmy $monomer1 = 'A2';\nmy $monomer2 = 'B2';\n\nmy $outfile1 = \"$dir\\\\$monomer1 $monomer1.txt\";\nmy $outfile2 = \"$dir\\\\$monomer1 $monomer2.txt\";\nmy $outfile3 = \"$dir\\\\$monomer2 $monomer2.txt\";\n\nmy $forcefield = \"Dreiding\";\n</code></pre>\n\n<p>Can anyone figure out why this wouldn't work? It seems like the two blocks are 100% identical. And the errors I'm getting make no sense - how would there be an error in a comment line?</p>\n"}, {"tags": ["regex", "perl", "alternation", "regex-alternation"], "comments": [{"owner": {"reputation": 23, "user_id": 8359791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dfa528c71ca0baae9a077e1da59caa5?s=128&d=identicon&r=PG&f=1", "display_name": "N Lindsay", "link": "https://stackoverflow.com/users/8359791/n-lindsay"}, "edited": false, "score": 0, "creation_date": 1500927591, "post_id": 45289197, "comment_id": 77541050, "body": "By &quot;remove alternation&quot; I mean that I change the regex to just &quot;$array[$I] =~ m/_B/&quot;"}, {"owner": {"reputation": 23, "user_id": 8359791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dfa528c71ca0baae9a077e1da59caa5?s=128&d=identicon&r=PG&f=1", "display_name": "N Lindsay", "link": "https://stackoverflow.com/users/8359791/n-lindsay"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500927743, "post_id": 45289197, "comment_id": 77541125, "body": "Oh yep I need to decrement the $size each time thanks"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500928020, "post_id": 45289197, "comment_id": 77541272, "body": "just decrementing $size isn&#39;t enough; you will still be skipping processing the element after one you remove"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1500928022, "post_id": 45289197, "comment_id": 77541273, "body": "You also need to decrement <code>$i</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1500928155, "post_id": 45289197, "comment_id": 77541351, "body": "@mob or redo instead of next"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1500927690, "creation_date": 1500927690, "answer_id": 45289380, "question_id": 45289197, "link": "https://stackoverflow.com/questions/45289197/perl-uninitialized-value-when-using-alternation-in-regex/45289380#45289380", "title": "Perl uninitialized value when using alternation in regex", "body": "<p>Here is a simple demonstration of the same problem.</p>\n\n<pre><code>1: @array = (1,2);\n2: $size = 2;\n3: for ($i=0; $i&lt;$size; $i++) {\n4:    if ($array[$i] == 1) {\n5:        splice @array, $i, 1;\n6:    }\n7: }\n</code></pre>\n\n<p>So what happens when you execute this code? At line 5, you remove the first element of the array, so the array becomes <code>(2)</code>. At the end of the first for-loop iteration, you increment <code>$i</code> (from 0 to 1), compare it to <code>$size</code> (which is still 2), and decide to continue the loop. </p>\n\n<p>Then you are at line 4 again. You are performing an operation on <code>$array[1]</code>. But <code>@array</code> only has one element, <code>$array[1]</code> is not defined, and Perl gives you a warning.</p>\n\n<p>It is important to be careful if you are a modifying a data structure at the same time that you are iterating through it.</p>\n\n<p>--</p>\n\n<p>Consider this alternate, Perlish approach to the first part of your problem:</p>\n\n<pre><code>@array = grep { !m/_(B|P|BC|PM)/ } @array\n</code></pre>\n\n<p>That is, identify all the elements of <code>@array</code> that satisfy some condition (here, the condition is not matching the pattern), and then update <code>@array</code> so that it only holds those good elements. zdim had another good approach.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500928187, "post_id": 45289386, "comment_id": 77541366, "body": "removing elements from an array isn&#39;t all that expensive.  and its expense is relative to the number of elements remaining, not to the size of those elements."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500928365, "post_id": 45289386, "comment_id": 77541454, "body": "also, since 5.14 you can do <code>... = map s&#47;_[0-9]+&#47;&#47;r, grep ...</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500928423, "post_id": 45289386, "comment_id": 77541487, "body": "@ysth Well, sure. I am thinking of an arbitrary array, where one may end up removing many, many elements from the middle. I don&#39;t know of what optimizations may be done (specially by <code>splice</code>), but I am dreading data copy (full array allocations) possibly done as many times as the order of the array size. Which decreases as we go, and this is only the worst case, but I still dont&#39; like the complexity."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500928459, "post_id": 45289386, "comment_id": 77541516, "body": "@ysth  Ah, of course!  I just used it in another answer ... thank you, adding :)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500929626, "post_id": 45289386, "comment_id": 77542126, "body": "push/pop/shift/unshift/splice are all well optimized to do as little as possible in moving the pointers to the elements around, and they don&#39;t touch the actual data that remains at all"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500930068, "post_id": 45289386, "comment_id": 77542342, "body": "@ysth  OK, so <code>splice</code> does that as well, with middle elements? (That&#39;s some magic :). Then it&#39;s not that expensive as you say.   I know that there&#39;s quite a bit of extra room at the back, and (I think) about quarter/half as much at the front of the array, for <code>unshift</code> and <code>push</code>, and of course removal at ends needn&#39;t touch the data.  I didn&#39;t know how far <code>splice</code> optimizations go. Adjusted text"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500934176, "post_id": 45289386, "comment_id": 77544155, "body": "@ysth In my mind this may imply that an array is something like a sorted list of pointers (as a C-style list data-structure), to existing scalars.  (I think I know, from ikegami&#39;s old comment, that creating an array involves construction of scalars for each value.)  So then remaking an array means merely copying those pointers.  Is something like this the case?  If so, it upends most of what I thought of how perl works.  I hope I am not bothering you with this."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500935386, "post_id": 45289386, "comment_id": 77544559, "body": "Yes, it is just an array of pointers with a length and a starting offset"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500937085, "post_id": 45289386, "comment_id": 77545020, "body": "@ysth  Thank you very much. This also directly affects my comments (to you) on that other post, which I&#39;ll need to reconsider now."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1501011816, "last_edit_date": 1501011816, "creation_date": 1500927707, "answer_id": 45289386, "question_id": 45289197, "link": "https://stackoverflow.com/questions/45289197/perl-uninitialized-value-when-using-alternation-in-regex/45289386#45289386", "title": "Perl uninitialized value when using alternation in regex", "body": "<p>Removing elements from an array is in principle expensive, even though <code>splice</code> optimizations help. Thanks to <a href=\"https://stackoverflow.com/users/17389/ysth\">ysth</a> for comments. More to the point, working correctly through those indices requires a lot of care, as exposed and dissected in mob's answer. Here is another way</p>\n\n<pre><code>my @new_array = \n    map { \n        s/_[0-9]+//;        #/ cleanup from the last statement in loop\n        $_                  # return this element, not return of s/../../\n    }\n    grep { defined &amp;&amp; !/_(B|P|BC|PM)/ }  # remove elements\n    @array;\n</code></pre>\n\n<p>First <code>grep</code> makes sure to skip <code>undef</code> elements, then filters what you need. Its output list is passed as  input to <code>map</code>, which makes the change from the last line of your loop to each element.</p>\n\n<p>If you don't care about the old array just assign to <code>@array</code> instead of making a <code>@new_array</code>.</p>\n\n<p>Starting <a href=\"http://perldoc.perl.org/perl5140delta.html#Regular-Expressions\" rel=\"nofollow noreferrer\">from 5.14.0</a> we can use the <em>non-destructive</em> <code>/r</code> modifier in the substituion, which returns the changed string and leaves the original unchanged. This is a perfect use case for it</p>\n\n<pre><code>@array = map { s/_[0-9]+//r } grep { defined &amp;&amp; !/_(B|P|BC|PM)/ } @array;\n</code></pre>\n\n<p>where the original array is overwritten.</p>\n\n<hr>\n\n<p>This processes the data twice.  A more efficient version is to loop over the array and <code>push</code> (copy) the elements that are to be kept, suitably changed, into the new array.</p>\n"}], "owner": {"reputation": 23, "user_id": 8359791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dfa528c71ca0baae9a077e1da59caa5?s=128&d=identicon&r=PG&f=1", "display_name": "N Lindsay", "link": "https://stackoverflow.com/users/8359791/n-lindsay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 45289380, "answer_count": 2, "score": 2, "last_activity_date": 1501011816, "creation_date": 1500926911, "question_id": 45289197, "link": "https://stackoverflow.com/questions/45289197/perl-uninitialized-value-when-using-alternation-in-regex", "title": "Perl uninitialized value when using alternation in regex", "body": "<p>I have a for loop with an if statement that looks like this: </p>\n\n<pre><code>   for (my $i=0; $i &lt; $size; $i++) {\n       if ($array[$i] =~ m/_(B|P|BC|PM)/) {\n           #Remove from @array\n           splice(@array, $i, 1);\n           next;\n       }\n       #Get rid of numbers at the end\n       $array[$i] =~ s/_[0-9]+//;\n   }\n</code></pre>\n\n<p>I am getting an error saying that says \"Use of uninitialized value within @array in pattern match....\" on the line with the if statement. </p>\n\n<p>When I remove the alternation from the regex on that line, the error goes away. If I comment out the whole if statement, the regex under the comment \"#Get rid of numbers at the end\" does not produce any errors. </p>\n\n<p>I've printed out all values of @array and everything looks fine. I've tried no parentheses and brackets instead of the parentheses in the expression with no change. Any ideas what could be causing this?</p>\n"}, {"tags": ["python", "excel", "bash", "perl", "openpyxl"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1500930830, "post_id": 45288387, "comment_id": 77542706, "body": "Consider replacing the 2 tags <code>append</code> &amp; <code>scripting</code> with <code>python</code> and <code>perl</code> as both of these can write Excel files. Try and write 3 lines of Python openpyxl to append a couple of static rows to a simple workbook, then all you need to learn is how to read the output of your <code>dmidecode</code> into Python variables."}, {"owner": {"reputation": 1, "user_id": 8359498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vrc2wQB1CB8/AAAAAAAAAAI/AAAAAAAAADs/nscBH-LEC8E/photo.jpg?sz=128", "display_name": "Herrgott", "link": "https://stackoverflow.com/users/8359498/herrgott"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1500984256, "post_id": 45288387, "comment_id": 77566764, "body": "Thanks for the advice,I changed the tags."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8359498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vrc2wQB1CB8/AAAAAAAAAAI/AAAAAAAAADs/nscBH-LEC8E/photo.jpg?sz=128", "display_name": "Herrgott", "link": "https://stackoverflow.com/users/8359498/herrgott"}, "edited": false, "score": 0, "creation_date": 1501005222, "post_id": 45307232, "comment_id": 77583033, "body": "Great idea! Im going to rewrite the old script to have vars that spit out the data that I actually need. Ill post the results!"}], "tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": false, "score": 1, "last_activity_date": 1501005088, "last_edit_date": 1501005088, "creation_date": 1500995400, "answer_id": 45307232, "question_id": 45288387, "link": "https://stackoverflow.com/questions/45288387/appending-bash-script-output-to-excel/45307232#45307232", "title": "Appending Bash Script Output To Excel", "body": "<p>For an excel sheet i would use <a href=\"https://metacpan.org/pod/Data::XLSX::Parser\" rel=\"nofollow noreferrer\">XLSX parser</a> to read the spreadsheet and <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX\" rel=\"nofollow noreferrer\">XLSX writer</a> to make a whole new spreadsheet based on what you have read. However, for what you appear to be doing. Would it not be easier to put STDIO into a CSV? </p>\n\n<p>e.g,  </p>\n\n<pre><code>echo $VAR , $VARB , $VARC &gt;&gt; ~/servers.csv\n</code></pre>\n\n\n"}], "owner": {"reputation": 1, "user_id": 8359498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vrc2wQB1CB8/AAAAAAAAAAI/AAAAAAAAADs/nscBH-LEC8E/photo.jpg?sz=128", "display_name": "Herrgott", "link": "https://stackoverflow.com/users/8359498/herrgott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1294, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501005088, "creation_date": 1500923795, "last_edit_date": 1500984185, "question_id": 45288387, "link": "https://stackoverflow.com/questions/45288387/appending-bash-script-output-to-excel", "title": "Appending Bash Script Output To Excel", "body": "<p>I have a peculiar situation lets do a background.</p>\n\n<p>Background:</p>\n\n<p>We have a script that was developed in house for testing enterprise servers. The script is written in Bash. The magic of the script is the dmidecode command. The script runs on Linux Mint and is deployed via PXE. The output of the script contains hardware information about the processor, memory, system board and chassis part numbers, etc. This information is always changing depending on the device the image is booted on. All this data is then grepped into a readable format that then manually gets added into an Excel spreadsheet. The Excel sheet is broken up like this Row 1: A1(Asset Number),B1(Qty.\"always 1\"),C1(Manufacturer),D1(Model),E1(Part Number),F1(Serial Number), G1(RAM (Mb)),H1(# of CPUs),L1(CPU Speed(GHZ))</p>\n\n<p>Example Data\nColumn Names:</p>\n\n<p>Column Data:\nRow 2: 6112, 1, HP, Proliant DL580 G2, 325134-001, USE247ML97, 1024, 2, 2.8</p>\n\n<p>So each row represents an individual server, the columns contain the data that comes from our previously mentioned bash script.</p>\n\n<p>Goal:</p>\n\n<p>OK, so my goal is to have the output of the bash script automatically be appended to an existing Worksheet that is stored on a local CIFS File Server. Since script is initiated on Linux, Powershell is not a viable option.\nI think Openpyxl can do the job but I have no idea the best practice to approach this. I know that I will not be able to modify an existing workbook. Given that, I was thinking about loading an existing document in memory and overwriting with the same file name. Also, all the tutorials I see for Openpyxl seem to have static data, I do not have this luxury. Is this even possible or just a subtle daydream?</p>\n"}, {"tags": ["perl", "private", "moose"], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1500927518, "post_id": 45288657, "comment_id": 77541016, "body": "Good find, thanks! I sent in a bug report to cpan, but seeing that the latest bug (11 months ago) is not been replied to, I don&#39;t cherish much hope."}], "tags": [], "owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "is_accepted": true, "score": 3, "last_activity_date": 1513244174, "last_edit_date": 1513244174, "creation_date": 1500924743, "answer_id": 45288657, "question_id": 45286468, "link": "https://stackoverflow.com/questions/45286468/using-mooses-before-to-alter-method-arguments-clashes-with-privacy/45288657#45288657", "title": "Using Moose&#39;s before to alter method arguments clashes with Privacy", "body": "<p>If we look into the implementation of\n<a href=\"https://metacpan.org/pod/MooseX::Privacy\" rel=\"nofollow noreferrer\">MooseX::Privacy</a>, more\nspecifically into\n<a href=\"https://metacpan.org/source/FRANCKC/MooseX-Privacy-0.05/lib/MooseX/Privacy/Meta/Attribute/Private.pm\" rel=\"nofollow noreferrer\">MooseX::Privacy::Meta::Attribute::Private v0.05</a>, \nwe can see what's happening.</p>\n\n<pre><code>sub _check_private {\n    my ($meta, $caller, $attr_name, $package_name) = @_;\n    confess \"Attribute \" . $attr_name . \" is private\"\n        unless $caller eq $package_name;\n}\n</code></pre>\n\n<p>So, the problem must be that <code>$caller</code> is not equal to\n<code>$package_name</code>.  Which is a way to express the notion of privacy\nin Perl terms, I guess.  </p>\n\n<p>Who's the caller of a <code>before</code> method? I\nslightly changed the code to print <code>$caller</code> before the check. Here's\nthe culprit:</p>\n\n<p><code>Class::MOP::Method::Wrapped</code></p>\n\n<p>which has to do with how method modifiers are implemented (as the                                                             name suggests).</p>\n\n<p>The way I see it, your expectations are\nreasonable and this is a defect in <code>MooseX::Privacy</code> and the way\nit deals with the inner workings of MOP's ecosystem.</p>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 45288657, "answer_count": 1, "score": 4, "last_activity_date": 1513244174, "creation_date": 1500916682, "question_id": 45286468, "link": "https://stackoverflow.com/questions/45286468/using-mooses-before-to-alter-method-arguments-clashes-with-privacy", "title": "Using Moose&#39;s before to alter method arguments clashes with Privacy", "body": "<p>As <a href=\"https://stackoverflow.com/questions/45276597/cant-modify-non-lvalue-subroutine-call-when-adding-moose-attribute-from-metho/45278295#45278295\">mentioned earlier today</a>, I am trying to set attributes to an instance when one of its methods is called. I also want to make this attribute private. As has been pointed out to me, I cannot set that attribute to <code>ro</code> as this also prohibits read-access from within the class. Therefore I now set it to <code>rw</code> but I've started using the <code>MooseX::Privacy</code> module. My attribute declaration thus looks like this:</p>\n\n<pre><code>has 'grow_params' =&gt; (\n  is  =&gt; 'rw',\n  isa =&gt; 'HashRef',\n  traits =&gt; [qw/Private/],\n);\n</code></pre>\n\n<p>This works fine if I simply do something like this:</p>\n\n<pre><code>sub grow {\n  my ($self, $params) = @_;\n  $self-&gt;grow_params($params);\n}\n</code></pre>\n\n<p>However, I want to do some parameter checks. From reading the documentation, it seems that the best place to do this is <code>before</code>. When I try this, though, I run into problems. </p>\n\n<p>For instance, with <code>before</code>:</p>\n\n<pre><code>before 'grow_params' =&gt; sub {\n  my ($self, $params) = @_;\n  # Setting default value\n  $params-&gt;{'overripe'} = exists $params-&gt;{'overripe'} ? $params-&gt;{'overripe'} : 0;\n  # Making sure its boolean\n  confess \"Argument 'overripe' has to be 0 or 1\"\n    unless ($params-&gt;{'overripe'} == 0 || $params-&gt;{'overripe'} == 1);\n};\n</code></pre>\n\n<p>This leads to the following error:</p>\n\n<pre><code>Attribute grow_params is private at C:/strawberry/perl/site/lib/MooseX/Privacy/Meta/Attribute/Private.pm line 13.\n</code></pre>\n\n<p>(I also tried setting the attribute to <code>Protected</code>, guessing that perhaps a subclass was created, but to no avail.) The attribute is indeed private, but I am trying to modify it from within the class though, right? The trace looks like this, so I'd assume that the actual setting is being tried by <code>Banana</code>, or am I missing something?</p>\n\n<pre><code>Attribute grow_params is private at c:/strawberry/perl/site/lib/MooseX/Privacy/Meta/Attribute/Private.pm line 13.\n        MooseX::Privacy::Meta::Attribute::Private::_check_private(Moose::Meta::Class::__ANON__::SERIAL::9=HASH(0x3fd4a00), \"Class::MOP::Method::Wrapped\", \"grow_params\", \"Banana\", \"Banana\") called at c:/strawberry/perl/site/lib/MooseX/Privacy/Meta/Attribute/Privacy.pm line 31\n        Banana::grow_params(Banana=HASH(0x25223e8), HASH(0xed97a8)) called at c:/strawberry/perl/site/lib/Class/MOP/Method/Wrapped.pm line 44\n        Banana::_wrapped_grow_params(Banana=HASH(0x25223e8), HASH(0xed97a8)) called at c:/strawberry/perl/site/lib/Class/MOP/Method/Wrapped.pm line 95\n        Banana::grow_params(Banana=HASH(0x25223e8), HASH(0xed97a8)) called at C:\\xampp\\htdocs\\grinding\\banana\\/Banana.pm line 31\n        Banana::grow(Banana=HASH(0x25223e8), HASH(0xed97a8)) called at run.pl line 16\n</code></pre>\n\n<p>The full code to run yourselves.</p>\n\n<pre><code># Banana.pm\npackage Banana;\n\nuse strict;\nuse warnings;\nuse Carp qw( confess );\n\nuse Moose;\nuse MooseX::Privacy;\n\nhas ['peel', 'edible'] =&gt; (\n  is  =&gt; 'ro',\n  isa =&gt; 'Bool',\n  required =&gt; 1,\n);\n\nhas 'color' =&gt; (\n  is  =&gt; 'ro',\n  isa =&gt; 'Str',\n  required =&gt; 1,\n);\n\nhas 'grow_params' =&gt; (\n  is  =&gt; 'rw',\n  isa =&gt; 'HashRef',\n  traits =&gt; [qw/Private/],\n);\n\nsub grow {\n  my ($self, $params) = @_;\n  $self-&gt;grow_params($params);\n}\n\nbefore 'grow_params' =&gt; sub {\n  my ($self, $params) = @_;\n  # Setting default value\n  $params-&gt;{'overripe'} = exists $params-&gt;{'overripe'} ? $params-&gt;{'overripe'} : 0;\n  # Making sure its boolean\n  confess \"Argument 'overripe' has to be 0 or 1\"\n    unless ($params-&gt;{'overripe'} == 0 || $params-&gt;{'overripe'} == 1);\n};\n\n1;\n\n# run.pl\nuse strict;\nuse warnings;\n\nuse File::Basename qw(fileparse dirname);\nuse Cwd qw(abs_path);\n\n# Add current directory to @INC\nuse lib (fileparse(abs_path($0)))[1];\n\nuse Banana;\n\nmy $chiquita = Banana-&gt;new({\n  peel =&gt; 1,\n  edible =&gt; 0,\n  color =&gt; 'green'\n});\n\n$chiquita-&gt;grow({\n  size =&gt; 'medium',\n  color =&gt; 'yellow'\n});\n</code></pre>\n"}, {"tags": ["perl", "increment", "string-interpolation"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500914963, "post_id": 45285912, "comment_id": 77534179, "body": "Along with what ikegami said in his answer, you can also use <code>printf()</code>: <code>printf(&quot;%d. %s\\n&quot;, $i++, $line);</code>"}, {"owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "edited": false, "score": 1, "creation_date": 1500915203, "post_id": 45285912, "comment_id": 77534326, "body": "@ikegami&#39;s is the way to go, but to directly answer your question &quot;Is it possible to use the ++ operator inside a string interpolation?&quot; here a nasty trick I won&#39;t admit I even muttered: <code>print &quot;@{[ $i++ ] }. $line\\n&quot;</code> (it&#39;s similar to @dgw&#39;s one, which has been written while I was editing this comment)"}], "answers": [{"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1500914840, "post_id": 45285949, "comment_id": 77534107, "body": "what about with <code>use strict;</code>?  I have that set."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 1, "creation_date": 1500914999, "post_id": 45285949, "comment_id": 77534208, "body": "@ewok With <code>use strict</code>, bareword <code>i</code> is an error regardless of <code>++</code> or not."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1500915004, "post_id": 45285949, "comment_id": 77534215, "body": "@ewok, Adjusted wording."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1500915511, "last_edit_date": 1500915511, "creation_date": 1500914787, "answer_id": 45285949, "question_id": 45285912, "link": "https://stackoverflow.com/questions/45285912/perl-increment-variable-inside-string-interpolation/45285949#45285949", "title": "perl: increment variable inside string interpolation", "body": "<p>Bareword <code>i</code> is equivalent to <code>\"i\"</code>, so you are doing <code>\"i\"++</code>.</p>\n\n<p>You want:</p>\n\n<pre><code>print($i++, \". $line\\n\");\n</code></pre>\n\n<p>Simpler:</p>\n\n<pre><code>print(\"$i. $line\\n\");\n++$i;\n</code></pre>\n\n<p>A good way to embed values into a string is <code>sprintf</code>/<code>printf</code>.</p>\n\n<pre><code>printf(\"%d. %s\\n\", $i++, $line);\n</code></pre>\n\n<hr>\n\n<p>Note that <code>use strict</code> disallows barewords, so you'll also get</p>\n\n<pre><code>Bareword \"i\" not allowed while \"strict subs\" in use\n</code></pre>\n\n<p>That error oddly comes after the error you mentioned.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1500915180, "post_id": 45286043, "comment_id": 77534311, "body": "But why would you want to!?"}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1500915215, "post_id": 45286043, "comment_id": 77534334, "body": "can this be done with postincrement? i.e. <code>print &quot;${\\($var++)}\\n&quot;</code>?"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1500915265, "post_id": 45286043, "comment_id": 77534364, "body": "@ewok Yes you can."}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500915273, "post_id": 45286043, "comment_id": 77534370, "body": "@ikegami can you explain why this is bad?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1500915296, "post_id": 45286043, "comment_id": 77534380, "body": "Complexity is something one should strive to avoid."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1500915345, "post_id": 45286043, "comment_id": 77534404, "body": "It is overly complicated ... usually you are better of with using <code>printf</code>. But it is technically possible. Thats why I posted this answer."}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1500915426, "post_id": 45286043, "comment_id": 77534449, "body": "@dgw thanks. as this does answer the actual question asked, I&#39;m accepting it, but I would recommend adding a quick note to the top that mentions why this isn&#39;t the best option."}], "tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": true, "score": 4, "last_activity_date": 1500915517, "last_edit_date": 1500915517, "creation_date": 1500915139, "answer_id": 45286043, "question_id": 45285912, "link": "https://stackoverflow.com/questions/45285912/perl-increment-variable-inside-string-interpolation/45286043#45286043", "title": "perl: increment variable inside string interpolation", "body": "<p>You can use <code>${\\($var++)}</code> to increment the variable while interpolating it.</p>\n\n<pre><code>use strict ;\nuse warnings ;\n\nmy $var = 5 ;\n\nprint \"Before:     var=$var\\n\" ;\nprint \"Incremented var=${\\($var++)}\\n\" ;\nprint \"After:      var=$var\\n\" ;\n</code></pre>\n\n<p>This will print</p>\n\n<pre><code>Before:     var=5\nIncremented var=6\nAfter:      var=6\n</code></pre>\n\n<p>But I would suggest as mentioned in the comments not to use this code because using <code>printf</code> is easier to write and read.</p>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 45286043, "answer_count": 2, "score": 0, "last_activity_date": 1549365297, "creation_date": 1500914647, "last_edit_date": 1549365297, "question_id": 45285912, "link": "https://stackoverflow.com/questions/45285912/perl-increment-variable-inside-string-interpolation", "title": "perl: increment variable inside string interpolation", "body": "<p>Is it possible to use the <code>++</code> operator inside a string interpolation?  I've attempted the following:</p>\n\n<pre><code>my $i = 0;\nforeach my $line (@lines) {\n    print \"${i++}. $line\\n\";\n}\n</code></pre>\n\n<p>but I get <code>Compile error: Can't modify constant item in postincrement (++)</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 3, "creation_date": 1500913785, "post_id": 45285659, "comment_id": 77533531, "body": "So we don&#39;t go over what you&#39;ve already done, what have you tried so far?"}, {"owner": {"reputation": 23, "user_id": 7900783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uoXFk8NYdII/AAAAAAAAAAI/AAAAAAAAAMk/SgL9OfOQrD4/photo.jpg?sz=128", "display_name": "Ramesh Aravind M", "link": "https://stackoverflow.com/users/7900783/ramesh-aravind-m"}, "edited": false, "score": 0, "creation_date": 1500914040, "post_id": 45285659, "comment_id": 77533683, "body": "I&#39;ve just sorted the hash based on values first, and reversed it. so, it changed as,  8 =&gt; xxx, 3 =&gt; yyy, 2 =&gt; aaa,  it lefts out zzz due to reversing (tried mapping also - same results)  then by accessing key as &quot;3&quot; to extract its value to find the value (which was our original key to extract)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1500914070, "post_id": 45285659, "comment_id": 77533700, "body": "Update your question with the code that you&#39;ve tried and isn&#39;t working. Note that <code>{}</code> is a hash reference, <code>()</code> is for creating a hash."}, {"owner": {"reputation": 23, "user_id": 7900783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uoXFk8NYdII/AAAAAAAAAAI/AAAAAAAAAMk/SgL9OfOQrD4/photo.jpg?sz=128", "display_name": "Ramesh Aravind M", "link": "https://stackoverflow.com/users/7900783/ramesh-aravind-m"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500914214, "post_id": 45285659, "comment_id": 77533775, "body": "yeah, lets store that particular key value pair in new hash. @melpomene"}, {"owner": {"reputation": 23, "user_id": 7900783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uoXFk8NYdII/AAAAAAAAAAI/AAAAAAAAAMk/SgL9OfOQrD4/photo.jpg?sz=128", "display_name": "Ramesh Aravind M", "link": "https://stackoverflow.com/users/7900783/ramesh-aravind-m"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500914330, "post_id": 45285659, "comment_id": 77533839, "body": "its a hash reference @stevieb"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500914430, "post_id": 45285659, "comment_id": 77533891, "body": "Why do you have <code>%hash = {}</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500914639, "post_id": 45285659, "comment_id": 77534013, "body": "The code you showed doesn&#39;t create a hash with 4 elements. Is that really what you have?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7900783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uoXFk8NYdII/AAAAAAAAAAI/AAAAAAAAAMk/SgL9OfOQrD4/photo.jpg?sz=128", "display_name": "Ramesh Aravind M", "link": "https://stackoverflow.com/users/7900783/ramesh-aravind-m"}, "edited": false, "score": 0, "creation_date": 1500914947, "post_id": 45285778, "comment_id": 77534173, "body": "And, grep is working fine, Thank You ! But, do we have any pinpoint method of getting the any one key using its value even if two or more keys has same value? like               $key = _____ { hash{$_} eq $target_value } keys %hash;"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 23, "user_id": 7900783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uoXFk8NYdII/AAAAAAAAAAI/AAAAAAAAAMk/SgL9OfOQrD4/photo.jpg?sz=128", "display_name": "Ramesh Aravind M", "link": "https://stackoverflow.com/users/7900783/ramesh-aravind-m"}, "edited": false, "score": 0, "creation_date": 1500915084, "post_id": 45285778, "comment_id": 77534259, "body": "<code>($one_of_the_target_keys) = grep { $hash{$_} eq $target_val } keys %hash</code>"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1500916158, "post_id": 45285778, "comment_id": 77534858, "body": "Better still: <code>use List::Util qw(first); my $key = first { hash{$_} eq $target_val } keys %hash</code>.  This will stop at the first key, rather than finding all the keys and then only using the first one."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 23, "user_id": 7900783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uoXFk8NYdII/AAAAAAAAAAI/AAAAAAAAAMk/SgL9OfOQrD4/photo.jpg?sz=128", "display_name": "Ramesh Aravind M", "link": "https://stackoverflow.com/users/7900783/ramesh-aravind-m"}, "edited": false, "score": 0, "creation_date": 1500986412, "post_id": 45285778, "comment_id": 77568618, "body": "@RameshAravindM: You need to update this in your question please."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1500914167, "creation_date": 1500914167, "answer_id": 45285778, "question_id": 45285659, "link": "https://stackoverflow.com/questions/45285659/get-key-name-from-perl-hash-using-its-value/45285778#45285778", "title": "Get key name from perl hash using its value", "body": "<p>By examining every key-value pair for the target value</p>\n\n<pre><code>@target_keys = grep { $hash{$_} eq $target_value } keys %hash;\n</code></pre>\n\n<p>If you're going to do this a lot, it does make sense to \"reverse\" the hash, but in the reversed hash use list references as the hash values so you can track when multiple keys in the original hash refer to the same value.</p>\n\n<pre><code>my %reverse_hash = ();\nwhile (my ($k,$v) = each %hash) {\n    push @{$reverse_hash}{$v}, $k;\n}\n\n...\n\n@target_keys = @{$reverse_hash{$target_value} // []}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7900783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uoXFk8NYdII/AAAAAAAAAAI/AAAAAAAAAMk/SgL9OfOQrD4/photo.jpg?sz=128", "display_name": "Ramesh Aravind M", "link": "https://stackoverflow.com/users/7900783/ramesh-aravind-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1406, "favorite_count": 0, "accepted_answer_id": 45285778, "answer_count": 1, "score": 0, "last_activity_date": 1500915139, "creation_date": 1500913700, "last_edit_date": 1500915139, "question_id": 45285659, "link": "https://stackoverflow.com/questions/45285659/get-key-name-from-perl-hash-using-its-value", "title": "Get key name from perl hash using its value", "body": "<p>I've an hash of 4 members,say,</p>\n\n<pre><code>%hash = \n( \n\nxxx =&gt; 8,\n\nyyy =&gt; 3,\n\nzzz =&gt; 2,\n\naaa =&gt; 2,\n\n)\n</code></pre>\n\n<p>But, here we know only \"8,3,2,2\" i.e.,values in that hash, how do I get and store the key name for the value \"3\" in specific? (without any hash reversing, as reversing will not return the repetitive elements)</p>\n"}, {"tags": ["perl", "email", "smtp"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500911168, "post_id": 45284306, "comment_id": 77531956, "body": "<i>I&#39;m trying to send mail using Perl <code>Net::SMTP</code></i> In 2017, that really doesn&#39;t sound like a good idea. These days we have tools like <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow noreferrer\"><code>Email::Sender</code></a>."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1500955466, "post_id": 45284306, "comment_id": 77549147, "body": "Are you ready for ugly hacks?  Net::SMTP before 3.0 &quot;overwrites&quot; mechanisms configured in Authen::SASL constructor with AUTH mechanisms advertised by server in <code>EHLO</code> reply."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4479073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002929733369/picture?type=large", "display_name": "Wojciech Dy\u017cewski", "link": "https://stackoverflow.com/users/4479073/wojciech-dy%c5%bcewski"}, "edited": false, "score": 0, "creation_date": 1500923351, "post_id": 45286444, "comment_id": 77538881, "body": "<a href=\"http://perldoc.perl.org/5.20.2/Net/SMTP.html#CONSTRUCTOR\" rel=\"nofollow noreferrer\">Perl 5.20 <code>Net::SMTP-&gt;new</code></a> can&#39;t start SSL connection (<code>SSL =&gt; 1</code>) EDIT: and can&#39;t <code>$smtp-&gt;auth($sasl_object)</code> :( but your solution works on Debian 9 (Perl 5.24)"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 33, "user_id": 4479073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002929733369/picture?type=large", "display_name": "Wojciech Dy\u017cewski", "link": "https://stackoverflow.com/users/4479073/wojciech-dy%c5%bcewski"}, "edited": false, "score": 0, "creation_date": 1500927462, "post_id": 45286444, "comment_id": 77540995, "body": "Could you post 1) EXACT error messages 2) versions of Net::SMTP, Net::SMTP::SSL and Authen::SASL you would like to use"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 1, "last_activity_date": 1500960465, "last_edit_date": 1500960465, "creation_date": 1500916624, "answer_id": 45286444, "question_id": 45284306, "link": "https://stackoverflow.com/questions/45284306/perl-netsmtp-force-auth-method/45286444#45286444", "title": "Perl Net::SMTP force auth method", "body": "<h2>Net::SMTP version above 3.00</h2>\n\n<p><code>Net::SMTP</code> above version 3:<br>\n* does not overwrite mechanism in <code>Authen::SASL</code> parameter of <code>auth</code> method<br>\n* supports <code>STARTTLS</code> and smtps  </p>\n\n<pre><code>use Net::SMTP;\nuse Authen::SASL;\n\nmy($host, $user, $pass) = ('...','...','...'); # fill correct data\n\nmy $smtp = Net::SMTP-&gt;new( $host, SSL=&gt;1, Debug =&gt; 1 ); # SSL=&gt;1 - use smtps\n$smtp-&gt;auth(\n  Authen::SASL-&gt;new(\n    mechanism =&gt; 'PLAIN LOGIN',\n    callback  =&gt; { user =&gt; $user, pass =&gt; $passwd }\n  )\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 4479073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002929733369/picture?type=large", "display_name": "Wojciech Dy\u017cewski", "link": "https://stackoverflow.com/users/4479073/wojciech-dy%c5%bcewski"}, "edited": false, "score": 0, "creation_date": 1501076781, "post_id": 45300987, "comment_id": 77619264, "body": "you should <code>use Net::SMTP::SSL</code>; with this change it works on Debian 8 and 9, thanks!"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 33, "user_id": 4479073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002929733369/picture?type=large", "display_name": "Wojciech Dy\u017cewski", "link": "https://stackoverflow.com/users/4479073/wojciech-dy%c5%bcewski"}, "edited": false, "score": 0, "creation_date": 1501082019, "post_id": 45300987, "comment_id": 77623734, "body": "@WojciechDy\u017cewski fixed"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 0, "last_activity_date": 1501103457, "last_edit_date": 1501103457, "creation_date": 1500979467, "answer_id": 45300987, "question_id": 45284306, "link": "https://stackoverflow.com/questions/45284306/perl-netsmtp-force-auth-method/45300987#45300987", "title": "Perl Net::SMTP force auth method", "body": "<h2>Net::SMTP version below 3.00</h2>\n\n<p><code>Net::SMTP</code> version 2.31_1 (newest pre 3.00 in libnet) overwrites mechanism in <code>Authen::SASL</code> with mechanism listed in <code>EHLO</code> reply.  Below please find my <strong>UGLY</strong> fix.  </p>\n\n<pre><code>use Net::SMTP::SSL;\nuse Authen::SASL;\n\nmy ( $host, $port, $user, $pass ) = ( '...', '...', '...', '...' );    # fill correct data\n\nmy $smtp = Net::SMTP::SSL-&gt;new( $host, Port =&gt; $port, Debug =&gt; 1 );\nmy $auth = Authen::SASL-&gt;new(\n  mechanism =&gt; 'PLAIN LOGIN',\n  callback  =&gt; { user =&gt; $user, pass =&gt; $passwd }\n);\n{\n  no warnings 'redefine';\n  my $count;\n  local *Authen::SASL::mechanism = sub {\n    my $self = shift;\n\n    # Fix Begin\n    # ignore first setting of mechanism\n    if ( !$count++ &amp;&amp; @_ &amp;&amp; $Net::SMTP::VERSION =~ /^2\\./ ) {\n      return;\n    }\n\n    # Fix End\n    @_\n      ? $self-&gt;{mechanism} = shift\n      : $self-&gt;{mechanism};\n  };\n  $smtp-&gt;auth($auth);\n}\n</code></pre>\n\n<hr>\n\n<p>Code requiring fixing - <a href=\"http://cpansearch.perl.org/src/GBARR/libnet-1.22_01/Net/SMTP.pm\" rel=\"nofollow noreferrer\">Net::SMTP 2.31_1 from libnet 1.22_01</a></p>\n\n<pre><code>sub auth {\n  my ($self, $username, $password) = @_;\n\n  ...\n\n  my $mechanisms = $self-&gt;supports('AUTH', 500, [\"Command unknown: 'AUTH'\"]);\n  return unless defined $mechanisms;\n\n  my $sasl;\n\n  if (ref($username) and UNIVERSAL::isa($username, 'Authen::SASL')) {\n    $sasl = $username;\n    $sasl-&gt;mechanism($mechanisms); # &lt;= HERE Authen::SASL mechanism overwrite \n  }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4479073, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002929733369/picture?type=large", "display_name": "Wojciech Dy\u017cewski", "link": "https://stackoverflow.com/users/4479073/wojciech-dy%c5%bcewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1314, "favorite_count": 0, "accepted_answer_id": 45300987, "answer_count": 2, "score": 1, "last_activity_date": 1501103457, "creation_date": 1500909532, "last_edit_date": 1501076503, "question_id": 45284306, "link": "https://stackoverflow.com/questions/45284306/perl-netsmtp-force-auth-method", "title": "Perl Net::SMTP force auth method", "body": "<p>I'm trying to send mail using Perl <code>Net::SMTP</code> with auth method other than default picked GSSAPI (e.g. force PLAIN).</p>\n\n<p>I have tried:</p>\n\n<pre><code>my $smtp;\n$smtp = Net::SMTP::SSL-&gt;new($host, Port =&gt; $port);\n$smtp-&gt;auth($user, $passwd);\n</code></pre>\n\n<p>and replacing last line with:</p>\n\n<pre><code>$smtp-&gt;auth('PLAIN', $user, $passwd);\n</code></pre>\n\n<p>or passing <code>Authen::SASL</code> object with selected mechanism to <code>$smtp-&gt;auth()</code>. None of the above work - debug (and mail server logs) says it still tries <code>AUTH GSSAPI</code>.</p>\n\n<p>Does anyone know how to correctly force auth method in <code>Net::SMTP</code>?</p>\n\n<p>My Perl version is 5.20.2-3+deb8u8 from Debian 8, packages version:</p>\n\n<ul>\n<li>Net::SMTP - 2.33</li>\n<li>Net::SMTP::SSL - 1.01</li>\n<li>Authen::SASL - 2.16</li>\n</ul>\n"}, {"tags": ["perl", "raku"], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 7, "last_activity_date": 1500906867, "last_edit_date": 1500906867, "creation_date": 1500906554, "answer_id": 45283215, "question_id": 45282604, "link": "https://stackoverflow.com/questions/45282604/is-it-possible-to-have-two-different-perl-versions/45283215#45283215", "title": "Is it possible to have two different Perl versions?", "body": "<p>Perl 5 and Perl 6 are really different languages that share a name. Installing Perl 6 will not overwrite your Perl 5. I'm guessing that you don't want Perl 6 and instead want the latest version of Perl 5 (<a href=\"http://blogs.perl.org/users/sawyer_x/2017/05/perl-5260-is-now-available.html\" rel=\"noreferrer\">v5.26 was just released</a>). You might consider updating everything to something recently released, including your OS ;)</p>\n\n<p>If you're curious what your package manager is going to install, you can see the list. Perhaps <a href=\"https://stackoverflow.com/q/104055/2766176\">How to list the contents of a package using YUM?</a> is interesting for you.</p>\n\n<p>Aside from the system's installed Perl 5, you can download, compile, and install other versions of Perl5 to any location you like. I have all the perls installed, for example, and the system perl is still there.</p>\n"}, {"comments": [{"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1500909917, "post_id": 45283285, "comment_id": 77531170, "body": "Thanks larsen , the reson I am looking for a differenct version of Perl is that I want to work with Excel file in Perl (create , read and write )  but my system Perl that is v5.8.8 does not seem to have any module for that , Would you be able to tell since which module Perl5 included utility for Excel files?"}, {"owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1500910353, "post_id": 45283285, "comment_id": 77531460, "body": "As far as I know, Perl 5 distribution never included among the core modules a library parse/write Excel files. There are plenty on CPAN, tho&#39;: my personal favourite for writing Excel files (should I say I&#39;m lucky that I seldom have to parse them?) is <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX\" rel=\"nofollow noreferrer\">Excel::Writer::XLSX</a>"}, {"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 1, "creation_date": 1500923430, "post_id": 45283285, "comment_id": 77538918, "body": "@Vicky There are <a href=\"https://metacpan.org/search?size=500&amp;q=excel\" rel=\"nofollow noreferrer\">224 matches of &#39;excel&#39;</a> among the 30,000+ free packages (170,000+ modules) on CPAN. One or more of these should do what you want to do. Use cpantesters to see whether a particular module that looks good &quot;on paper&quot; is likely to actually work out for you in practice. For example, I see 6 passes out of 6 for <a href=\"http://www.cpantesters.org/distro/E/Excel-Writer-XLSX.html\" rel=\"nofollow noreferrer\">Excel::Writer::XLSX tests on 5.8.8 in today&#39;s cpantester results</a>."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1500931030, "post_id": 45283285, "comment_id": 77542812, "body": "@Vivky It&#39;s a good idea to tell people what you want to accomplish rather than how you are trying to do it. :)"}], "tags": [], "owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "is_accepted": true, "score": 12, "last_activity_date": 1500906789, "creation_date": 1500906789, "answer_id": 45283285, "question_id": 45282604, "link": "https://stackoverflow.com/questions/45282604/is-it-possible-to-have-two-different-perl-versions/45283285#45283285", "title": "Is it possible to have two different Perl versions?", "body": "<p>I'll try to articulate an answer that addresses all your requests, HTH:</p>\n\n<ul>\n<li><p>I wouldn't touch system Perl, because other system software might depend on a particular version. If you need a different version of Perl 5 for development, it's arguably better to install it in a controlled, isolated environment</p></li>\n<li><p>To do so you can use tools like <a href=\"https://perlbrew.pl/\" rel=\"noreferrer\">Perlbrew</a>: with Perlbrew you can install distinct versions of Perl 5, and you'll be able to switch back and forth according to your development needs</p></li>\n<li><p>You say you want to \"update to Perl 6\". Perhaps you noticed I wrote <em>Perl 5</em> in the previous paragraphs. Perl 6 is not just a new version of Perl, but a profound evolution of the language: it stems from the same core principles, but it is quite different from its older sibling. Code written in Perl 5 won't run in Perl 6, for example</p></li>\n</ul>\n\n<p>To sum up:</p>\n\n<ul>\n<li>You can have <em>both</em> Perl 5 and Perl 6 on your system, but they are distinct languages</li>\n<li>You can have multiple versions of Perl 5 using Perlbrew</li>\n<li>I would suggest not to tamper with the version of Perl distributed with the OS</li>\n</ul>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 1, "accepted_answer_id": 45283285, "answer_count": 2, "score": 5, "last_activity_date": 1508055730, "creation_date": 1500904794, "last_edit_date": 1508055730, "question_id": 45282604, "link": "https://stackoverflow.com/questions/45282604/is-it-possible-to-have-two-different-perl-versions", "title": "Is it possible to have two different Perl versions?", "body": "<p>Currently I have Perl 5.8.8. Can I update to Perl 6? I am using <a href=\"http://en.wikipedia.org/wiki/Red_Hat_Linux\" rel=\"nofollow noreferrer\">Red Hat Linux</a> 5 OS. Is it possible to upgrade Perl on Red Hat Linux 5 or any other OS? If yes, how can I do that?</p>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "edited": false, "score": 0, "creation_date": 1500906206, "post_id": 45282290, "comment_id": 77528509, "body": "Is submit.html and Observation.pm in the same directory?"}, {"owner": {"reputation": 11, "user_id": 6471360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f013594c6c189fc436d848fafab4be7?s=128&d=identicon&r=PG&f=1", "display_name": "janeDoe", "link": "https://stackoverflow.com/users/6471360/janedoe"}, "reply_to_user": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "edited": false, "score": 0, "creation_date": 1500910871, "post_id": 45282290, "comment_id": 77531765, "body": "No, they are in different directories."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1500913689, "post_id": 45282290, "comment_id": 77533480, "body": "the &quot;.pm&quot; shouldn&#39;t be included if you&#39;re using the package name."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8357747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4f90abf03ae091ae2b95b5376d6068?s=128&d=identicon&r=PG&f=1", "display_name": "Swire", "link": "https://stackoverflow.com/users/8357747/swire"}, "is_accepted": false, "score": 0, "last_activity_date": 1500916651, "creation_date": 1500916651, "answer_id": 45286457, "question_id": 45282290, "link": "https://stackoverflow.com/questions/45282290/perl-cannot-find-reload-file/45286457#45286457", "title": "Perl Cannot Find/Reload File", "body": "<p>Try to use: <strong>Observation::Attempt</strong> instead of <strong>Atempt</strong> and also <strong>use path</strong> to the .pm file</p>\n"}, {"tags": [], "owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "is_accepted": false, "score": 0, "last_activity_date": 1500923901, "last_edit_date": 1500923901, "creation_date": 1500918591, "answer_id": 45286949, "question_id": 45282290, "link": "https://stackoverflow.com/questions/45282290/perl-cannot-find-reload-file/45286949#45286949", "title": "Perl Cannot Find/Reload File", "body": "<p>When you <code>use project::Observation;</code>, Perl looks in <a href=\"http://perldoc.perl.org/perlvar.html#%40INC\" rel=\"nofollow noreferrer\"><code>@INC</code></a> directories, if it finds an appropriate module.</p>\n\n<p>In your case (<a href=\"http://perldoc.perl.org/lib.html\" rel=\"nofollow noreferrer\"><code>use lib '/path/name/to/project';</code></a>), this means it looks for a module named <code>/path/name/to/project/project/Observation.pm</code>.</p>\n\n<p>Note the double <code>.../project/project/...</code>. So the correct search path must include <code>/path/name/to</code> instead, e.g.</p>\n\n<pre><code>use lib /path/name/to;\n</code></pre>\n\n<p>or if you want/need to keep <code>use lib '/path/name/to/project';</code>, say </p>\n\n<pre><code>use Observation;\n</code></pre>\n\n<p>instead.</p>\n\n<hr>\n\n<p>Also note @ChrisTurner's comment, don't add the <code>.pm</code> extension.</p>\n"}], "owner": {"reputation": 11, "user_id": 6471360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f013594c6c189fc436d848fafab4be7?s=128&d=identicon&r=PG&f=1", "display_name": "janeDoe", "link": "https://stackoverflow.com/users/6471360/janedoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1500923901, "creation_date": 1500903890, "question_id": 45282290, "link": "https://stackoverflow.com/questions/45282290/perl-cannot-find-reload-file", "title": "Perl Cannot Find/Reload File", "body": "<p>I have a submit.html file that prints calculations done in a file called Observation.pm. Observation.pm exists in the folder called project. However, when the script runs, these error are printed:</p>\n\n<p>Error during compilation of submit.html:Attempt to reload project/Observation.pm aborted.Compilation failed in require at submit.html line 67.</p>\n\n<p>Line 67 in submit.html is:\n    <code>use project::Observation.pm;</code></p>\n\n<p>For some reason, it cannot find the Observation.pm file.</p>\n\n<p>I have tried deleting and adding the Observation.pm file again. I've also tried using \n    <code>use lib /path/name/to/project/;</code>\nin submit.html. </p>\n\n<p>Any ideas on why this is happening or how to fix it? Let me know if I left out some vital info of the problem, wasn't sure what was relevant. </p>\n"}, {"tags": ["perl", "encryption", "file-handling", "des"], "comments": [{"owner": {"reputation": 2246, "user_id": 830741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0685bc4f9d869526098968f72812ab75?s=128&d=identicon&r=PG", "display_name": "frezik", "link": "https://stackoverflow.com/users/830741/frezik"}, "edited": false, "score": 1, "creation_date": 1500902358, "post_id": 45280204, "comment_id": 77525858, "body": "Reopening STDOUT like that is an odd way of doing this. Could you try opening a separate, non-default filehandle? I wonder if doing it this way is causing it not to get flushed the way you expect."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500921186, "post_id": 45280204, "comment_id": 77537702, "body": "While it may not have an effect in this particular situation, you want interactions with <code>ciphertext.txt</code> to be done using <code>:raw</code> handles since it&#39;s a &quot;binary&quot; file, not a text file (despite the extension)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500921269, "post_id": 45280204, "comment_id": 77537752, "body": "Tip: Using a constant IV is <i>irresponsible</i> and <i>severly</i> weakens your encryption. Let CBC pick a random one!"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1500935302, "post_id": 45280204, "comment_id": 77544539, "body": "... and prefix the IV to the ciphertext (it has a constant size). But that&#39;s the fourth issue with the code above, I guess you (ichtyp) need to read more into file handling and cryptography before continueing."}, {"owner": {"reputation": 13, "user_id": 8357529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b219f22e3bb8c5ab8d980ac6ce9c298?s=128&d=identicon&r=PG&f=1", "display_name": "ichtyp", "link": "https://stackoverflow.com/users/8357529/ichtyp"}, "reply_to_user": {"reputation": 2246, "user_id": 830741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0685bc4f9d869526098968f72812ab75?s=128&d=identicon&r=PG", "display_name": "frezik", "link": "https://stackoverflow.com/users/830741/frezik"}, "edited": false, "score": 0, "creation_date": 1500970781, "post_id": 45280204, "comment_id": 77556873, "body": "@frezik: I&#39;am now using a separate filehandler, which helped me to get rid of problems with CR LF formatting at the end of the lines."}, {"owner": {"reputation": 13, "user_id": 8357529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b219f22e3bb8c5ab8d980ac6ce9c298?s=128&d=identicon&r=PG&f=1", "display_name": "ichtyp", "link": "https://stackoverflow.com/users/8357529/ichtyp"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500971111, "post_id": 45280204, "comment_id": 77557080, "body": "@ikegami this helped also in the matter of formatting. the IV was chosen for testing purposes only, i would never use this in the final implementation ;-)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500981360, "post_id": 45280204, "comment_id": 77564572, "body": "It&#39;s called a file <i>handle</i>"}], "answers": [{"comments": [{"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1500935164, "post_id": 45284150, "comment_id": 77544495, "body": "Absolutely correct. However, I guess that (largely) ignoring the return value of the <code>sysread</code> call is a bigger problem."}, {"owner": {"reputation": 13, "user_id": 8357529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b219f22e3bb8c5ab8d980ac6ce9c298?s=128&d=identicon&r=PG&f=1", "display_name": "ichtyp", "link": "https://stackoverflow.com/users/8357529/ichtyp"}, "edited": false, "score": 0, "creation_date": 1500966377, "post_id": 45284150, "comment_id": 77553856, "body": "That&#39;s it! Thanks a lot :-)  The missing semicolon was lost on c&amp;p. Ignoring the return value is not the goal, i was just trying to get the content of the file right. I will continue on this now. Thanks anyway for the hint!"}], "tags": [], "owner": {"reputation": 74087, "user_id": 214790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f878c8230342730990acd21f889301d4?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/214790/matt"}, "is_accepted": true, "score": 2, "last_activity_date": 1500909068, "creation_date": 1500909068, "answer_id": 45284150, "question_id": 45280204, "link": "https://stackoverflow.com/questions/45280204/en-decryption-using-perl-cryptcbc-leads-to-missing-bytes-at-the-end/45284150#45284150", "title": "En/Decryption using Perl Crypt::CBC leads to missing bytes at the end", "body": "<p>You\u2019re missing a call to <a href=\"http://search.cpan.org/~lds/Crypt-CBC/CBC.pm#finish()\" rel=\"nofollow noreferrer\"><code>$cipher-&gt;finish;</code></a> after the loop, for both encrypting and decrypting, so you\u2019re cutting of part of the last block in both cases.</p>\n\n<blockquote>\n  <p>The CBC algorithm must buffer data blocks internally until they are even multiples of the encryption algorithm's blocksize (typically 8 bytes). After the last call to crypt() you should call finish(). This flushes the internal buffer and returns any leftover ciphertext.</p>\n</blockquote>\n\n<p>You need something like this:</p>\n\n<pre><code>while (sysread(F,$buffer,1024)) {\n    print $cipher-&gt;crypt($buffer);\n}\nprint $cipher-&gt;finish;\n</code></pre>\n\n<hr>\n\n<p>(You\u2019re also missing a semicolon at the end of the <code>open</code> line in your decryption code.)</p>\n"}], "owner": {"reputation": 13, "user_id": 8357529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b219f22e3bb8c5ab8d980ac6ce9c298?s=128&d=identicon&r=PG&f=1", "display_name": "ichtyp", "link": "https://stackoverflow.com/users/8357529/ichtyp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 45284150, "answer_count": 1, "score": 1, "last_activity_date": 1500909068, "creation_date": 1500897912, "last_edit_date": 1500898172, "question_id": 45280204, "link": "https://stackoverflow.com/questions/45280204/en-decryption-using-perl-cryptcbc-leads-to-missing-bytes-at-the-end", "title": "En/Decryption using Perl Crypt::CBC leads to missing bytes at the end", "body": "<p>i am trying to encrypt and then decrypt a file using Crypt::CBC in perl. When decrypting my ciphertext after encrypting it, i am missing some bytes at the end of my recovered plaintext. </p>\n\n<p>encryption method:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.24.0;\nuse warnings;\nuse Crypt::CBC;\n\nmy $cipher;\nmy $buffer;\n\n   $cipher = Crypt::CBC-&gt;new( {'key'             =&gt; 'abcdefgh',\n                               'literal_key'     =&gt; 1, \n                     # 'cipher'          =&gt; 'Blowfish',\n                              'iv'              =&gt; '01234567',\n                           #   'regenerate_key'  =&gt; 0,   # default true\n                              'padding'         =&gt; 'standard',\n                              'prepend_iv'      =&gt; 0,\n                              'blocksize'       =&gt; 8\n                           });\n\n$cipher-&gt;start('encrypting');\nopen(F,\"./plaintext.txt\");\nopen(STDOUT,\"&gt;ciphertext.txt\");\n  while (sysread(F,$buffer,1024)) {\n      print $cipher-&gt;crypt($buffer);\n  }\nclose STDOUT;\n</code></pre>\n\n<p>my plaintext looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/wAXO9.jpg\" alt=\"plaintext before\"></p>\n\n<p>then i decrypt my ciphertext with:</p>\n\n<pre><code>#!/usr/bin/perl\n# # entschl\u00fcsselt eine datei, http://www.perlmonks.org/?node_id=252460\n\nuse 5.24.0;\nuse warnings;\nuse Crypt::CBC;\n\nmy $cipher;\nmy $buffer;\n\n   $cipher = Crypt::CBC-&gt;new( {'key'             =&gt; 'abcdefgh',\n                              'literal_key'     =&gt; 1, \n                              #'cipher'          =&gt; 'Blowfish',\n                              'iv'              =&gt; '01234567',\n                            #  'regenerate_key'  =&gt; 0,   # default true\n                              'padding'         =&gt; 'standard',\n                              'prepend_iv'      =&gt; 0,\n                              'blocksize'       =&gt; 8\n                           });\n\n$cipher-&gt;start('decrypting');\nopen(F,\"./ciphertext.txt\")\n  while (sysread(F,$buffer,1024)) {\n      print $cipher-&gt;crypt($buffer);\n\n  }\nclose STDOUT;\n</code></pre>\n\n<p>and the plaintext afterwards:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Tc6Yq.jpg\" alt=\"plaintext after\"></p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1500891546, "post_id": 45277963, "comment_id": 77518222, "body": "<code>perl -ne &#39;&#47;somestring|anotherstring&#47; or print&#39; &#47;usr&#47;file.txt &gt; &#47;usr&#47;file2.tmp</code> but <code>grep -v</code> is more suitable here."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500891960, "post_id": 45277963, "comment_id": 77518516, "body": "or <code>egrep -v</code> if you&#39;re using a regular expression."}, {"owner": {"reputation": 771, "user_id": 8330531, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/4039ad4d7301828f0c4611159f3ea519?s=128&d=identicon&r=PG&f=1", "display_name": "LightningWar", "link": "https://stackoverflow.com/users/8330531/lightningwar"}, "edited": false, "score": 0, "creation_date": 1500892358, "post_id": 45277963, "comment_id": 77518804, "body": "Thanks but <code>grep -v  &#39;somestring&#39; &#47;usr&#47;file.txt</code> works` but <code>grep -v &#39;somestring|anotherstring&#39;  &#47;usr&#47;file.txt</code> returns no result which is why I use Perl."}, {"owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 2, "creation_date": 1500892733, "post_id": 45277963, "comment_id": 77519029, "body": "That&#39;s because <code>grep</code> by default uses POSIX BRE (basic regex), where you have to escape <code>|</code>, like this: <code>grep &#39;somestring\\|anotherstring&#39; ...</code>. The alternative is to use extended regex (ERE), enabled with <code>-E</code> flag, or (as suggested by Chris), <code>egrep</code>. For example: <code>grep -E &#39;somestring|anotherstring&#39; ..</code>."}, {"owner": {"reputation": 771, "user_id": 8330531, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/4039ad4d7301828f0c4611159f3ea519?s=128&d=identicon&r=PG&f=1", "display_name": "LightningWar", "link": "https://stackoverflow.com/users/8330531/lightningwar"}, "reply_to_user": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 0, "creation_date": 1500893455, "post_id": 45277963, "comment_id": 77519435, "body": "@randomir escaping the <code>|</code> does not work for me, also <code>-E</code> switch is an illegal option, I&#39;m using an old version of grep."}, {"owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 0, "creation_date": 1500894260, "post_id": 45277963, "comment_id": 77519988, "body": "Which platform/grep version are you on?"}, {"owner": {"reputation": 771, "user_id": 8330531, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/4039ad4d7301828f0c4611159f3ea519?s=128&d=identicon&r=PG&f=1", "display_name": "LightningWar", "link": "https://stackoverflow.com/users/8330531/lightningwar"}, "reply_to_user": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 1, "creation_date": 1500895930, "post_id": 45277963, "comment_id": 77521157, "body": "@randomir I&#39;m using Solaris. I found egrep in <code>&#47;usr&#47;bin&#47;egrep</code> so your <code>-E</code> solution now works. Thanks for your help."}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 0, "last_activity_date": 1500895821, "creation_date": 1500895821, "answer_id": 45279483, "question_id": 45277963, "link": "https://stackoverflow.com/questions/45277963/remove-multiple-lines-where-string-occurs-and-concatenate/45279483#45279483", "title": "Remove multiple lines where string occurs and concatenate", "body": "<blockquote>\n  <p>How can I concatenate file and file2.tmp?</p>\n</blockquote>\n\n<p>That could be done with</p>\n\n<pre><code>cat file file2.tmp &gt;&gt; file3.tmp\n</code></pre>\n\n<p>Or if by <code>file</code> you mean <code>file1.tmp</code>,</p>\n\n<pre><code>cat file1.tmp file2.tmp &gt;&gt; file3.tmp\n</code></pre>\n\n<hr>\n\n<p>However, that is different from what you're describing in the rest of your question (i.e. removing any line where any of two patterns appears). That could be done by chaining your commands:</p>\n\n<pre><code>perl -ne '/somestring/ or print' /usr/file.txt &gt; /usr/file1.tmp\nperl -ne '/anotherstring/ or print' /usr/file1.tmp &gt; /usr/file2.tmp\n</code></pre>\n\n<p>You can use a pipe to get rid of the intermediate file <code>file1.tmp</code>:</p>\n\n<pre><code>perl -ne '/somestring/ or print' /usr/file.txt | perl -ne '/anotherstring/ or print' &gt; /usr/file2.tmp\n</code></pre>\n\n<p>This can also be done by using <code>grep</code> (assuming your strings don't make use of any Perl-specific regex features):</p>\n\n<pre><code>grep -v somestring /usr/file.txt | grep -v anotherstring &gt; /usr/file2.tmp\n</code></pre>\n\n<p>Finally, you can combine the filtering into one command/regex:</p>\n\n<pre><code>perl -ne '/somestring|anotherstring/ or print' /usr/file.txt &gt; /usr/file2.tmp\n</code></pre>\n\n<p>Or using <code>grep</code>:</p>\n\n<pre><code>grep -v 'somestring\\|anotherstring' /usr/file.txt &gt; /usr/file2.tmp\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500915750, "post_id": 45286090, "comment_id": 77534618, "body": "What is wrong with my code? It is dynamic. No variables are defined outside of their scope. I used every variable. I commented every function of my program. My program does exactly what it says it would do. Do you just not like the amount of lines of my code? I&#39;m sure you have written longer programs with less comments."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1500915884, "post_id": 45286090, "comment_id": 77534686, "body": "&quot;<i>It is dynamic</i>&quot; is meaningless. <code>$matches</code> is arguably defined outside of its scope. <code>undef $matches</code> is bad style. Why are you doing that in the first place, if you&#39;re just going to overwrite it in the next line? Why use the same variable for two completely different things?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1500915914, "post_id": 45286090, "comment_id": 77534707, "body": "Don&#39;t use bareword filehandles (or directory handles, in this case)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1500915938, "post_id": 45286090, "comment_id": 77534726, "body": "<code>given</code>/<code>when</code> throws warnings for a reason. Don&#39;t use it in new code; don&#39;t just silence the warnings."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500915985, "post_id": 45286090, "comment_id": 77534751, "body": "The error message for <code>$file_write</code> says there&#39;s a problem with reading the file."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916014, "post_id": 45286090, "comment_id": 77534774, "body": "Why did I undefine $matches? So that instead of containing either  versicolor or setosa, it now contains $matches = &#39;versicolor|setosa&#39; which is a scalar variable with a | which makes every item useful in a regular expression where &#39;|&#39; defines or."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1500916015, "post_id": 45286090, "comment_id": 77534775, "body": "The error message for <code>unlink</code> doesn&#39;t include <code>$!</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916052, "post_id": 45286090, "comment_id": 77534798, "body": "Parsing CSV with regexes is a bad idea in general (as is reading a CSV file line by line; CSV fields can contain line breaks)."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916080, "post_id": 45286090, "comment_id": 77534814, "body": "That&#39;s what no warnings experimental does. It silences warnings for the switch statement that perl automatically gives even when there is nothing wrong with your switch statement."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916127, "post_id": 45286090, "comment_id": 77534838, "body": "<code>$i = $i + 1</code> is highly unidiomatic. <code>$i++</code> would be better, but then the whole counting <code>while</code> loop is better written using <code>foreach</code>."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916189, "post_id": 45286090, "comment_id": 77534871, "body": "Parsing CSV with regular expressions may normally be a bad idea in general, but I&#39;m not searching for commas, so there is no problem here."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916203, "post_id": 45286090, "comment_id": 77534877, "body": "There&#39;s no point in explicitly closing (some of) your file handles if you don&#39;t check for errors."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916239, "post_id": 45286090, "comment_id": 77534893, "body": "$i++ is highly idiomatic, but I think $i = $i + 1 makes more sense to new programmers. It did to me. I know what they both mean now."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916302, "post_id": 45286090, "comment_id": 77534923, "body": "So will you be happy if I add more or die messages to files I close and to the directory that I opened and closed?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916304, "post_id": 45286090, "comment_id": 77534926, "body": "Your comment re: <code>undef $matches</code> makes no sense. <code>undef $matches</code> doesn&#39;t set <code>$matches = &#39;versicolor|setosa&#39;</code>; <code>$matches = join(&#39;|&#39;, ...)</code> does that. So why use <code>undef $matches</code>?"}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916359, "post_id": 45286090, "comment_id": 77534949, "body": "Yeah, I know, but I cleared the variable before I did that. That was the message that I was trying to convey. Are you saying that that was unnecessary? Perhaps it was."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916423, "post_id": 45286090, "comment_id": 77534985, "body": "&quot;<i>That&#39;s what no warnings experimental does. It silences warnings ...</i>&quot; - yes, and I said not to do that. Besides, your <code>given</code>/<code>when</code> logic would actually be clearer if it were written as an <code>if</code>/<code>elsif</code> chain."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916494, "post_id": 45286090, "comment_id": 77535029, "body": "You&#39;re not searching for commas; you&#39;ve written a generic search program and you let the user enter the search string(s). At minimum your chosen example is suboptimal."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916599, "post_id": 45286090, "comment_id": 77535085, "body": "So you want me to have the program search for commas?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916821, "post_id": 45286090, "comment_id": 77535206, "body": "I don&#39;t think you could write this code in a way that would make me completely happy because what it does is in itself weird. The program doesn&#39;t take any command line arguments and forces the user to enter everything interactively (which is annoying and means you can&#39;t reuse the program in other scripts), but doesn&#39;t provide any nice input editing features such as interactive history, movement with cursor keys, tab completion, etc. (which makes it even more annoying), and then there&#39;s no input validation."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500916983, "post_id": 45286090, "comment_id": 77535306, "body": "So what you are saying is that it&#39;s too interactive for your taste?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1500917198, "post_id": 45286090, "comment_id": 77535431, "body": "I guess what I&#39;m saying is that you wrote a lot of questionable code that is only tangentially related to the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501270089, "post_id": 45286090, "comment_id": 77723642, "body": "@melpomene: <i>&quot;Parsing CSV with regexes is a very bad idea&quot;</i> There is no international standard for CSV data, so every CSV document has to provide its own de facto standard. Just because there are CSV files somewhere in the world whose data contains newline characters doesn&#39;t mean that every program everywhere should support it. The vast majority of CSV data is handled correctly by <code>split &#47;,&#47;</code> and there is no reason to use anything more elaborate. Even <code>Text::CSV</code> doesn&#39;t support the very common practice of using a comma and a space to separate fields."}], "tags": [], "owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "is_accepted": false, "score": -1, "last_activity_date": 1500915328, "creation_date": 1500915328, "answer_id": 45286090, "question_id": 45277963, "link": "https://stackoverflow.com/questions/45277963/remove-multiple-lines-where-string-occurs-and-concatenate/45286090#45286090", "title": "Remove multiple lines where string occurs and concatenate", "body": "<p>I had some fun with your program, and wrote a highly dynamic Perl program\nto print the matches or non-matches for words in each line of any user defined file, and then right the requested lines which match or do not match the file to the screen and to a new user-defined outfile. </p>\n\n<p>We will be parsing this file: iris_dataset.csv:</p>\n\n<pre><code>\"Sepal.Length\",\"Sepal.Width\",\"Petal.Length\",\"Petal.Width\",\"Species\"\n5.1,3.5,1.4,0.2,\"setosa\"\n4.9,3,1.4,0.2,\"setosa\"\n4.8,3,1.4,0.3,\"setosa\"\n5.1,3.8,1.6,0.2,\"setosa\"\n4.6,3.2,1.4,0.2,\"setosa\"\n7,3.2,4.7,1.4,\"versicolor\"\n6.4,3.2,4.5,1.5,\"versicolor\"\n6.9,3.1,4.9,1.5,\"versicolor\"\n6.6,3,4.4,1.4,\"versicolor\"\n5.5,2.4,3.7,1,\"versicolor\"\n6.3,3.3,6,2.5,\"virginica\"\n5.8,2.7,5.1,1.9,\"virginica\"\n7.1,3,5.9,2.1,\"virginica\"\n6.3,2.9,5.6,1.8,\"virginica\"\n5.9,3,5.1,1.8,\"virginica\"\n</code></pre>\n\n<p>It's a comma separated value file with columns separated by commas.\nYou could see each column of items more nicely if you were looking at this file in a spreadsheet. What we will be looking for is Species of the file, so the possible items to match are \"setosa\", \"versicolor\", and \"virginica\". </p>\n\n<p>My program first asks for the file that you want to read from..\nIn this case, it's iris_dataset.csv, though it could be any file. Then you write the name of a file that you would want to write to. I call it new_iris.csv, but you can call it anything. </p>\n\n<p>Then we tell the program how many items we are looking for, so if there's 3 items I can type: setosa, versicolor, virginica in any order. If there are two I can type only two items, and if there is one, then I can only type only setosa or versicolor or virginica in this example file. </p>\n\n<p>Then we are asked if we want to KEEP the lines which match our items,\nor if we want to REMOVE the lines of the file which match our files. If we keep the matches, we get the lines which match those items printed to the screen and to our outfile. If we select remove, we get the lines which do not match those items printed to the screen and to our file. If we select neither KEEP nor REMOVE, then we get an error message and our new empty outfile is deleted since it contains nothing. </p>\n\n<pre><code>#!/usr/bin/env perl\n# Program: perl_matching.pl\nuse strict; # Means that we have to explicitly declare our variables with \"my\", \"our\" or \"local\" as we want their scope defined. \nuse warnings; # We want to know if and if where errors are showing up in our program. \nuse feature 'say'; # Like print, but with automatic ending newline.\nuse feature 'switch'; # Perl given:when switch statement. \nno warnings 'experimental'; # Perl has something against switch. \n\n########### This block of code right here is basically equivalent to a unit ls command ##############\nopendir(DIR, \".\"); # Opens the current working directory \nmy @files = readdir(DIR); # Reads all files in the current working directory into an array @files. \nclosedir(DIR); # Now that we have the array of files, we can close our current working directory.\nsay \"Here are the list of files in your current working directory\";\nforeach(@files){print \"$_\\t\";} # $_ is the default variable for each item in an array.\n########### It is not critical to run the program ####################  \n\nsay \"\\nGive me your filename to read from, extensions and all ...\"; # It would be a good idea to have your filename in yoru working directory.\nchomp(my $file_read = &lt;STDIN&gt;); # This makes the filename dynamic from user input. \nsay \"Give me your filename to write to, extensions and all ...\";\nchomp(my $file_write = &lt;STDIN&gt;); # results will be printed to this file, and standard output. # chomp removes newlines from standard input.\n\n# ' &lt; ' to read from, and '&gt;', to write to ... \n# Opening your file to read from: \nopen(my $filehandle_read, '&lt;', $file_read) or die \"Problem reading file $_ because $!\";\n# Open your file to write to. \nopen(my $filehandle_write, '&gt;', $file_write) or die \"Problem reading file $_ because $!\";\n\nsay \"How many matches are you going to give me?\";\nmy $match_num = &lt;STDIN&gt;;\nsay \"Okay give me the matches now, pressing Enter key between each match.\";\n\nmy $i = 1; # This is our incrementer between matches. \nmy $matches; # This is each match presented line by line. \nmy @match_list; # This is our array (list) of $matches\nwhile($i &lt;= $match_num)\n{\n    $matches = &lt;STDIN&gt;; # One match at a time from standard input. \n    push @match_list, $matches; # Pushes all individual $matches into a list @match_list\n    $i = $i + 1; # Increase the incrementor by one so this loop don't last forever. \n}\nchomp(@match_list);\n\nundef($matches); # I am clearing each match, so that I can redefine this variable. \n\n$matches = join('|', @match_list); # \" | \" is part of a regular expression which means \"or\" for each item in this scalar matches. \nsay \"This is what your redefined matches variable looks like: $matches\"; \n\nsay \"Now you get a choice for your matches\"; \nsay \"KEEP or REMOVE?\"; # if you type Keep (case insensitive) you print only the matches to the new file. If you type Remove (case insensitive) you print only the lines to the newfile which do not contain the matches.  \nchomp(my $choice = &lt;STDIN&gt;);\n\nmy @lines_all = &lt;$filehandle_read&gt;; # The filehandle contains everything in the file, so we can pull all lines of the file to read into an array, where each item in the array is each line of the file opened for reading. \nclose $filehandle_read; # we can now close the filehandle for the file for reading since we just pulled all the information from it. \n# We grep for the matching \" =~ \" lines of our file to read. \nmy @lines_matching = grep{$_ =~ m/$matches/} @lines_all;\n# We grep for the non-matching \" !~ \" lines of our file to read.\n# Note: $_ is a default variable for every item in the array.   \nmy @lines_not_matching = grep{$_ !~ m/$matches/} @lines_all;\n\n\n# This is a Perl style switch statement.\n# Note: A given::when::when::default switch statement. \n# is basically equivalent to ...\n# while::if::elsif::else statement. \n\n# In this switch statement only one choice is performed,\n# which one depends on if you said \"Keep\" or \"Remove\" in your choice. \ngiven($choice)\n{\n    when($choice =~ m/Keep/i) # \"i\" is for case-insensitive, so Keep, KEEP, kEeP, etc are valid. \n    {\n    say @lines_matching; # Print the matching lines to the screen. \n    print $filehandle_write @lines_matching; # Print the matching lines to the file. \n    close $filehandle_write; # Close the file now that we are done with it. \n    }\n    when($choice =~ m/Remove/i) \n    {\n    say @lines_not_matching; # Print the lines that match to the screen.\n    print $filehandle_write @lines_not_matching; # Print the lines that do not match to the screen. \n    close $filehandle_write; # Close the file now that we are done with it.\n    }\n    default \n    {\n    say \"You must have selected a choice other than Keep or Remove. Don't do that!\";\n    close $filehandle_write; # Close the file now that we are done with it. \n    unlink($file_write) or warn \"Could not unlink file $file_write\"; # If you selected neither keep nor remove, we delete the new file to write to as it contains nothing.  \n    }\n}\n</code></pre>\n\n<p>Here is the script in action: </p>\n\n<p>I ask to Remove the lines which contain versicolor and setosa, so only the lines which contain virginica will be printed to the screen and to my outfile which I called new_iris.csv. Again, I asked for 2 items. Note: As in my program, you can type the words Keep or Remove in any case insensitive manner. </p>\n\n<pre><code>  &gt;perl perl_matching.pl\n   Here are the list of files in your current working directory\n.       ..      iris_dataset.csv        perl_matching.pl\nGive me your filename to read from, extensions and all ...\niris_dataset.csv\nGive me your filename to write to, extensions and all ...\nnew_iris.csv\nHow many matches are you going to give me?\n2\nOkay give me the matches now, pressing Enter key between each match.\nsetosa\nversicolor\nThis is what your redefined matches variable looks like: setosa|versicolor\nNow you get a choice for your matches\nKEEP or REMOVE?\nRemove\n\"Sepal.Length\",\"Sepal.Width\",\"Petal.Length\",\"Petal.Width\",\"Species\"\n6.3,3.3,6,2.5,\"virginica\"\n5.8,2.7,5.1,1.9,\"virginica\"\n7.1,3,5.9,2.1,\"virginica\"\n6.3,2.9,5.6,1.8,\"virginica\"\n5.9,3,5.1,1.8,\"virginica\"\n</code></pre>\n\n<p>So only those lines which do not contain the words setosa and versicolor are printed to our file: new_iris.csv: </p>\n\n<pre><code>\"Sepal.Length\",\"Sepal.Width\",\"Petal.Length\",\"Petal.Width\",\"Species\"\n6.3,3.3,6,2.5,\"virginica\"\n5.8,2.7,5.1,1.9,\"virginica\"\n7.1,3,5.9,2.1,\"virginica\"\n6.3,2.9,5.6,1.8,\"virginica\"\n5.9,3,5.1,1.8,\"virginica\"\n</code></pre>\n\n<p>I completely enjoy playing with standard input in Perl.\nYou can use my script to only print the lines of the file which contain \nsetosa. (You only ask for 1 match.) </p>\n"}], "owner": {"reputation": 771, "user_id": 8330531, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/4039ad4d7301828f0c4611159f3ea519?s=128&d=identicon&r=PG&f=1", "display_name": "LightningWar", "link": "https://stackoverflow.com/users/8330531/lightningwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 45279483, "answer_count": 2, "score": 0, "last_activity_date": 1500915328, "creation_date": 1500891430, "question_id": 45277963, "link": "https://stackoverflow.com/questions/45277963/remove-multiple-lines-where-string-occurs-and-concatenate", "title": "Remove multiple lines where string occurs and concatenate", "body": "<p>I'm new to Bash/Perl and trying to remove multiple lines in a text file where a string occurs. To remove a single line so far I have:</p>\n\n<pre><code>perl -ne '/somestring/ or print' /usr/file.txt &gt; /usr/file1.tmp\n</code></pre>\n\n<p>To replace a second line I use:</p>\n\n<pre><code>perl -ne '/anotherstring/ or print' /usr/file.txt &gt; /usr/file2.tmp\n</code></pre>\n\n<p>How can I concatenate file and file2.tmp? </p>\n\n<p>Or how can I modify the command to remove multiple lines where <code>somestring</code> and <code>anotherstring</code> occur?</p>\n"}, {"tags": ["perl", "attributes", "moose"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500888075, "post_id": 45276597, "comment_id": 77515797, "body": "Is there a reason you&#39;ve made &quot;grow_params&quot; be read only?"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500888230, "post_id": 45276597, "comment_id": 77515899, "body": "@ChrisTurner I wouldn&#39;t want people who use this package to be able to change the arguments of the method after they have called it. Doesn&#39;t seem necessary to me and could lead to issues, or am I missing something?"}], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1500889159, "post_id": 45277043, "comment_id": 77516575, "body": "Darn it, I knew this. I mean, that Moose automagically creates getters/setters. Silly me. I didn&#39;t know that if you set an attribute to RO you can&#39;t change it from within the Class&#39;s methods, though. Is there a way to restrict write-access to the current Class, and disallow writing from outside it?"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1500889597, "post_id": 45277043, "comment_id": 77516889, "body": "I just found this sub-module, <a href=\"http://search.cpan.org/~franckc/MooseX-Privacy-0.05/lib/MooseX/Privacy.pm\" rel=\"nofollow noreferrer\">MooseX::Privacy</a> which I&#39;ll give a go."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 1, "creation_date": 1500891081, "post_id": 45277043, "comment_id": 77517927, "body": "If that doesn&#39;t work out, I think you might be able to write your own setter and check the stack trace with <code>caller()</code>? Not sure how Moose-y that is though as I&#39;m new to Moose myself"}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": true, "score": 3, "last_activity_date": 1500888825, "creation_date": 1500888825, "answer_id": 45277043, "question_id": 45276597, "link": "https://stackoverflow.com/questions/45276597/cant-modify-non-lvalue-subroutine-call-when-adding-moose-attribute-from-metho/45277043#45277043", "title": "&quot;Can&#39;t modify non-lvalue subroutine call&quot; when adding Moose attribute from method", "body": "<p>Moose object attributes are hidden behind functions of the same name, so when you have <code>$self-&gt;grow_params</code> that's a function. Trying to assign a value to it won't work, you need to call it like a function.</p>\n\n<pre><code>$self-&gt;grow_params($params);\n</code></pre>\n\n<p>But even then, as you've currently defined grow_params as read only, you can't change it's value once the object has been created, even within it's own methods. </p>\n"}, {"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1500914055, "post_id": 45278295, "comment_id": 77533693, "body": "Thanks for this. Very insightful! (Now the <b>l</b>value makes sense indeed.)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1500892412, "creation_date": 1500892412, "answer_id": 45278295, "question_id": 45276597, "link": "https://stackoverflow.com/questions/45276597/cant-modify-non-lvalue-subroutine-call-when-adding-moose-attribute-from-metho/45278295#45278295", "title": "&quot;Can&#39;t modify non-lvalue subroutine call&quot; when adding Moose attribute from method", "body": "<p>To explain a little more about what the error means...</p>\n\n<p>A basic assignment statement looks like this:</p>\n\n<pre><code>$variable = 'value';\n</code></pre>\n\n<p>The operand to the left of the operator (<code>$variable</code>) is an \"lvalue\". The operand to the right of the operator (<code>'value'</code>) is an \"rvalue\".</p>\n\n<p>In the simple example above, the rvalue is a simple constant, but I hope you realise that it could also be another variable:</p>\n\n<pre><code>$variable = $some_other_variable;\n</code></pre>\n\n<p>or even the result of an expression:</p>\n\n<pre><code>$variable = 2 * $pi * $radius ** 2;\n</code></pre>\n\n<p>But you know (instinctively, at least) that the lvalue has to be a variable. You know that code like this makes no sense:</p>\n\n<pre><code>'value' = $variable;\n</code></pre>\n\n<p>Moose attribute accessors and mutators (the \"getters\" and \"setters\") are just subroutines. And subroutines are usually rvalues. This means that you can't (usually) assign an attribute like this:</p>\n\n<pre><code>$obj-&gt;attribute = 'value';\n</code></pre>\n\n<p>You would need to pass the new value to the method:</p>\n\n<pre><code>$obj-&gt;attribute('value');\n</code></pre>\n\n<p>However, there is a Moose extension called <a href=\"https://metacpan.org/pod/MooseX::LvalueAttribute\" rel=\"nofollow noreferrer\">MooseX::LvalueAttribute</a> which allows you to define lvalue mutator methods that work exactly how your original code expected them to. I really don't recommend it though, as it's not what maintenance programmers will expect to see in your code.</p>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1236, "favorite_count": 0, "accepted_answer_id": 45277043, "answer_count": 2, "score": 3, "last_activity_date": 1500892412, "creation_date": 1500887631, "question_id": 45276597, "link": "https://stackoverflow.com/questions/45276597/cant-modify-non-lvalue-subroutine-call-when-adding-moose-attribute-from-metho", "title": "&quot;Can&#39;t modify non-lvalue subroutine call&quot; when adding Moose attribute from method", "body": "<p>I am <a href=\"https://stackoverflow.com/questions/45263553/purge-xml-twig-inside-sub-handler\">battling with Moose</a> these days, and I ran into the following problem. I create an object that has many required attributes on its creation. However, I wish to add attributes to it when a method is called. More specifically, I'd like to add the arguments for that method as a hash attribute. I'd like to do this so that subsequent calls to other methods know that the earlier method has already been called, with said parameters.</p>\n\n<p>Example, but fictional code:</p>\n\n<pre><code>package Banana;\n\nuse Moose;\n\nhas ['peel', 'edible'] =&gt; (\n  is  =&gt; 'ro',\n  isa =&gt; 'Bool',\n  required =&gt; 1,\n);\n\nhas 'color' =&gt; (\n  is  =&gt; 'ro',\n  isa =&gt; 'Str',\n  required =&gt; 1,\n);\n\nhas 'grow_params' =&gt; (\n  is  =&gt; 'ro',\n  isa =&gt; 'HashRef',\n);\n\nsub grow {\n  my ($self, $params) = @_;\n  # params would be a hashref of method arguments\n  $self-&gt;grow_params = $params;\n  # Execute some code changing other, initial vars\n}\n</code></pre>\n\n<p>This won't work, as the following error gets thrown:</p>\n\n<blockquote>\n  <p>Can't modify non-lvalue subroutine call of <code>&amp;Banana::grow_params</code></p>\n</blockquote>\n\n<p>I've looked here on SO and on PerlMonks but I can't seem to find a general explanation of what the error <em>means</em>. Most answers simply re-write the original code and that's that. So what does the error mean, and can I accomplish what I'm trying to do? Or is this not the way to do it?</p>\n"}, {"tags": ["perl", "batch-file"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 2, "creation_date": 1500878633, "post_id": 45274027, "comment_id": 77510850, "body": "<a href=\"https://stackoverflow.com/questions/2323292/windows-batch-assign-output-of-a-program-to-a-variable\" title=\"windows batch assign output of a program to a variable\">stackoverflow.com/questions/2323292/&hellip;</a>"}, {"owner": {"reputation": 3370, "user_id": 6707985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1zWzI.jpg?s=128&g=1", "display_name": "geisterfurz007", "link": "https://stackoverflow.com/users/6707985/geisterfurz007"}, "edited": false, "score": 5, "creation_date": 1500880905, "post_id": 45274027, "comment_id": 77511381, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2323292/windows-batch-assign-output-of-a-program-to-a-variable\">Windows batch assign output of a program to a variable</a>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500882037, "post_id": 45274027, "comment_id": 77511993, "body": "I couldn&#39;t understand from the above links since I am newbie in batchfile programing."}, {"owner": {"reputation": 3370, "user_id": 6707985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1zWzI.jpg?s=128&g=1", "display_name": "geisterfurz007", "link": "https://stackoverflow.com/users/6707985/geisterfurz007"}, "edited": false, "score": 0, "creation_date": 1500882464, "post_id": 45274027, "comment_id": 77512219, "body": "In what way does the perl script return the number? As errorlevel or written in the console? @ssr1012"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500882871, "post_id": 45274027, "comment_id": 77512458, "body": "Yes. The first script will return the number and the second script will get the input as an number from the first script."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1500883111, "post_id": 45274027, "comment_id": 77512604, "body": "Store the output of the first script in a variable.  Then use that variable as part of the input for the second script."}, {"owner": {"reputation": 3370, "user_id": 6707985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1zWzI.jpg?s=128&g=1", "display_name": "geisterfurz007", "link": "https://stackoverflow.com/users/6707985/geisterfurz007"}, "edited": false, "score": 0, "creation_date": 1500886780, "post_id": 45274027, "comment_id": 77514858, "body": "@ssr1012 <b>HOW</b> will it return the number? It makes a difference in the solution. Errorcode (something like <code>exit(number)</code>) or will it be printed in the console?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500888233, "post_id": 45274027, "comment_id": 77515904, "body": "It will printed in the console and need to transfer the value into the second script."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500892883, "post_id": 45277898, "comment_id": 77519099, "body": "<code>for &#47;f &quot;delims=&quot; %%p in (&quot;perl -w myscript1.pl %1&quot;) do ( set myVar=%%p  )  perl -w myscript2.pl %myVar%  echo</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500892922, "post_id": 45277898, "comment_id": 77519130, "body": "I am trying based on the your opinion.. Please check this correct or not...?"}, {"owner": {"reputation": 3370, "user_id": 6707985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1zWzI.jpg?s=128&g=1", "display_name": "geisterfurz007", "link": "https://stackoverflow.com/users/6707985/geisterfurz007"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1500894045, "post_id": 45277898, "comment_id": 77519855, "body": "Not it is not. Note what I mentioned in the explanation of <code>for &#47;f</code>: &quot;[...] or command outputs (<code>in (&#39;myCommand&#39;)</code>)&quot; You have to use single quotes. And I don&#39;t know what the echo at the end is for ^^"}], "tags": [], "owner": {"reputation": 3370, "user_id": 6707985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1zWzI.jpg?s=128&g=1", "display_name": "geisterfurz007", "link": "https://stackoverflow.com/users/6707985/geisterfurz007"}, "is_accepted": true, "score": 1, "last_activity_date": 1500891231, "creation_date": 1500891231, "answer_id": 45277898, "question_id": 45274027, "link": "https://stackoverflow.com/questions/45274027/how-do-i-pass-the-input-from-another-perl-script-in-batch-file/45277898#45277898", "title": "How do I pass the input from another perl script in batch file", "body": "<p>You can get the output of a command using:</p>\n\n<pre><code>for /f \"delims=\" %%p in ('myCommand goes here') do (\nset myVar=%%p\n)\n\nREM here myVar has the output of the command issued in the above loop\nREM assuming that %1 represents the paramter here, I replaced it with the variable above\nperl -w E:\\Testing\\PerlFile_2.pl %myVar%\n</code></pre>\n\n<p><code>for /f</code> is used in batch to parse either the contents of the file (<code>in (filename.extension)</code>), a string (<code>in (\"myString\")</code>) or command outputs (<code>in ('myCommand')</code>). Note the differences in quotation used to determine which one is used.<br>\n<code>%%p</code> is the loops parameter and will hold the value of the current iteration. This will be the value in your case. However as this will only exists during the loop we save it to a variable for later use.</p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "accepted_answer_id": 45277898, "answer_count": 1, "score": 0, "last_activity_date": 1500894815, "creation_date": 1500878109, "last_edit_date": 1500894815, "question_id": 45274027, "link": "https://stackoverflow.com/questions/45274027/how-do-i-pass-the-input-from-another-perl-script-in-batch-file", "title": "How do I pass the input from another perl script in batch file", "body": "<p>I have a batch file and contains two perl codings and for Example:</p>\n\n<p>MyBatchfile:</p>\n\n<pre><code>rem This perl coding input is Filename output as an number.  \nperl -w E:\\Testing\\PerlFile_1.pl %1\n</code></pre>\n\n<p>Need to save the number and produce the same as an input for the second script.</p>\n\n<pre><code>rem This perl coding input is as number from the previous perl script.  \nperl -w E:\\Testing\\PerlFile_2.pl %1\n</code></pre>\n\n<p>How do I pass the output (Number) from first script into the second script as an input.</p>\n"}, {"tags": ["linux", "perl", "file"], "comments": [{"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1500874639, "post_id": 45273091, "comment_id": 77509179, "body": "Obviously the first one is more lightweight since it does not need to spawn an external touch process. Read: <a href=\"http://www.stat.berkeley.edu/~spector/extension/perl/notes/node73.html\" rel=\"nofollow noreferrer\">backtic operator</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1500876172, "post_id": 45273091, "comment_id": 77509695, "body": "The <code>touch</code> command gives access to <a href=\"http://perldoc.perl.org/functions/utime.html\" rel=\"nofollow noreferrer\"><code>utime</code></a>, not <code>open</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1500876231, "post_id": 45273091, "comment_id": 77509710, "body": "Tip: There&#39;s already a file handle named <code>DATA</code>. Use another name. In fact, use a lexical variable (<code>open my $fh, ...</code>) instead of a global one!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1500876963, "post_id": 45273091, "comment_id": 77510007, "body": "Re &quot;<i>Which one better and fast?</i>&quot;, That question makes no sense. Those two things aren&#39;t equivalent, so you should be asking &quot;which one of these does what I want?&quot; The <code>open</code> will clobber the file if it exists, whereas <code>touch</code> will leave it untouched."}], "answers": [{"comments": [{"owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "reply_to_user": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1500874117, "post_id": 45273169, "comment_id": 77509026, "body": "I know, I wrote that it does; but this is a <i>side effect</i> and can be overridden."}], "tags": [], "owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "is_accepted": false, "score": 0, "last_activity_date": 1500874012, "creation_date": 1500874012, "answer_id": 45273169, "question_id": 45273091, "link": "https://stackoverflow.com/questions/45273091/difference-between-open-function-and-touch-command-in-perl/45273169#45273169", "title": "Difference between &quot;open function&quot; and &quot;touch command&quot; in Perl?", "body": "<p>They are two very different commands.</p>\n\n<p><code>touch</code> is used to modify the access and modification times of a file. By default, it set the access and modification times to the current time, and if the file doesn't exist - it will create it as an empty file.</p>\n\n<p><code>open</code> is for opening files for reading or writing. Depending on the mode given, the open command can also create a file if it doesn't exist.</p>\n\n<p>To use <code>touch</code> means to invoke a separate process (a shell), so given that restriction, the <code>open</code> API command is preferred.</p>\n"}, {"comments": [{"owner": {"reputation": 703, "user_id": 224625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f53ac2540cb47d2f8266b078938d2d39?s=128&d=identicon&r=PG", "display_name": "JohnGH", "link": "https://stackoverflow.com/users/224625/johngh"}, "edited": false, "score": 0, "creation_date": 1590764877, "post_id": 45273190, "comment_id": 109813648, "body": "The purpose of the touch command is to change file timestamps &quot;update the access and modification times&quot; of files (by default to &quot;now&quot;, but this is configurable). Creating the file is a side effect. RT(friendly)M pages for touch(1) and File::Touch. File::Touch source checks for -e $file, if $file exists, update its atime and mtime, if $file doesn&#39;t exist, create it with sysopen. The open function also creates a file if it&#39;s used in write or append modes and the file doesn&#39;t already exist. I have seen people use touch to create files before they write to them - this is unnecessary."}], "tags": [], "owner": {"reputation": 354, "user_id": 7345878, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/9f22497b582d2959d139ee8e84df728c?s=128&d=identicon&r=PG&f=1", "display_name": "user7345878", "link": "https://stackoverflow.com/users/7345878/user7345878"}, "is_accepted": false, "score": -1, "last_activity_date": 1500874151, "creation_date": 1500874151, "answer_id": 45273190, "question_id": 45273091, "link": "https://stackoverflow.com/questions/45273091/difference-between-open-function-and-touch-command-in-perl/45273190#45273190", "title": "Difference between &quot;open function&quot; and &quot;touch command&quot; in Perl?", "body": "<p>Open function is used to read/write to a file. The function uses a file descriptor and then write to the file specified. Whereas the touch function creates a new file.</p>\n"}, {"comments": [{"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 1, "creation_date": 1500874844, "post_id": 45273200, "comment_id": 77509233, "body": "Basically correct. But perl is not starting a shell. perl clones itself and does execve touch itself, without a shell. I also had to realize that. Check strace."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 1, "creation_date": 1500875003, "post_id": 45273200, "comment_id": 77509289, "body": "@hek2mgl That&#39;s interesting! I will check -- the standard lore is that <code>qx</code> <i>does</i> start a shell (<code>&#47;bin&#47;sh</code> or whatever is gets relegated to). For <code>system</code>, there is a <code>fork</code> and <code>exec</code> and If arguments come in a list then <code>execvp</code> is used.  Even with one item in a list this can be forced.  I am unsure now whether all this applies to <code>qx</code>"}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1500875520, "post_id": 45273200, "comment_id": 77509464, "body": "Actually the documentation you sent does not say that it launches the command in a shell. It just says that it launches the system command. But I admit that also expected a shell there. Even more interesting, as soon as you  run <code>touch file | cat</code> perl <i>will</i> start a shell! Looks like perl is analyzing the command line, playing a shell parser."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1500875958, "post_id": 45273200, "comment_id": 77509620, "body": "@hek2mgl  According to <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\"><code>qx</code> in perlop</a>, the <code>qx</code> (backticks) just runs a shell, which is what I recall. With <a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a> it analyzes the  string. (I didn&#39;t send docs before?)  But I will look into it, thanks."}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1500876129, "post_id": 45273200, "comment_id": 77509672, "body": "Oh right! I <a href=\"https://www.tutorialspoint.com/perl/perl_qx.htm\" rel=\"nofollow noreferrer\">googled</a> that myself. :) Sorry if I refer to 3rd party docs, I&#39;m not a perl hacker. Anyhow, imo <code>strace -f perl test.pl</code> is pretty clear about that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1500876289, "post_id": 45273200, "comment_id": 77509733, "body": "It&#39;s an optimization. If there are no special characters, Perl bypasses the shell. <code>touch foo</code> = no shell, <code>touch &quot;foo&quot;</code> = shell. Perl also bypasses the shell if the only special characters are <code>2&gt;&amp;1</code>."}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500876316, "post_id": 45273200, "comment_id": 77509751, "body": "@ikegami Yeah, that&#39;s what it looks like. Thanks for the extra info."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500876382, "post_id": 45273200, "comment_id": 77509780, "body": "@ikegami  For <code>qx</code> as well?  It&#39;s undocumented?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500876421, "post_id": 45273200, "comment_id": 77509799, "body": "system/exec/readpipe(qx) all use the same guts (except on Windows) from the looks of it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500877122, "post_id": 45273200, "comment_id": 77510081, "body": "@ikegami  Thank you for that, added.  While I&#39;d &quot;expect&quot; it I never saw it in documentation. Will look again."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1500877357, "post_id": 45273200, "comment_id": 77510208, "body": "@hek2mgl  Thank you for the comments. I adjusted the text."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1602204011, "last_edit_date": 1602204011, "creation_date": 1500874220, "answer_id": 45273200, "question_id": 45273091, "link": "https://stackoverflow.com/questions/45273091/difference-between-open-function-and-touch-command-in-perl/45273200#45273200", "title": "Difference between &quot;open function&quot; and &quot;touch command&quot; in Perl?", "body": "<p>The clear difference is that in the second case you are going out to the system. A shell is started which runs the command or the command runs via <code>execvp</code> system call (depending on the arguments, see below). There is a lot going on, and a number of things can go wrong as well.</p>\n<p>More importantly, there is really more to do.  What if the file already exists? For one thing, <code>open</code> will truncate it while <code>touch</code> will only update timestamps. But you want a <em>new</em> file, so you need to check first anyway. What if this fails?  You need to check. Thus this should be a little routine.</p>\n<p>Then just write it all in Perl.  There is no advantage in delegating such a simple job, only pitfalls.</p>\n<hr />\n<p>Note: use three-argument <code>open</code></p>\n<pre><code>open my $fh, '&gt;', $file  or ...\n</code></pre>\n<p>with all requisite checks.  Then you also have a much nicer <em>lexical (indirect) filehandle</em> to work with.</p>\n<hr />\n<p>Thanks to <a href=\"https://stackoverflow.com/users/171318/hek2mgl\">hek2mgi</a> for comments and to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for clarifying that <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">qx</a> may bypass the shell depending on arguments (what appears undocumented?), much like <a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a> does.</p>\n<p>This can be checked, per <a href=\"https://stackoverflow.com/users/171318/hek2mgl\">hek2mgi</a> comment, by <code>strace -f script.pl</code>, where with <code>qx(touch &quot;NEW&quot;)</code> in the script we find the line</p>\n<pre>\n[pid 24332] execve(\"/bin/sh\", [\"sh\", \"-c\", \"touch \\\"NEWFILE\\\"\"], [/* ...\n</pre>\n<p>while there is no <code>/bin/sh</code> in the output  for <code>qx(touch NEW)</code> (no quotes, no shell).</p>\n<p>To note, <code>qx</code> does accept an array (unmentioned in docs), which clearly gets interpolated.  This is seen from output of <code>strace -f</code> on <code>qx(@cmd)</code> with <code>@cmd = qw(ls -l &gt; tt.out)</code>, which has</p>\n<pre>\n[pid 30773] execve(\"/bin/sh\", [\"sh\", \"-c\", \"ls -l > tt.out\"], [/* ...\n</pre>\n<p>Then a shell runs if needed (this example) and not otherwise (<code>qw(ls -l</code>)), as discussed above.</p>\n"}, {"tags": [], "owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "is_accepted": false, "score": 0, "last_activity_date": 1500875582, "creation_date": 1500875582, "answer_id": 45273473, "question_id": 45273091, "link": "https://stackoverflow.com/questions/45273091/difference-between-open-function-and-touch-command-in-perl/45273473#45273473", "title": "Difference between &quot;open function&quot; and &quot;touch command&quot; in Perl?", "body": "<p><code>open</code>  : used for read/write.</p>\n\n<p><code>touch</code> : used for updating/modifying. </p>\n\n<p>But, <code>touch</code> opens a shell by actually cloning itself (perl cloning) for running another process.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1500914501, "last_edit_date": 1500914501, "creation_date": 1500877872, "answer_id": 45273978, "question_id": 45273091, "link": "https://stackoverflow.com/questions/45273091/difference-between-open-function-and-touch-command-in-perl/45273978#45273978", "title": "Difference between &quot;open function&quot; and &quot;touch command&quot; in Perl?", "body": "<blockquote>\n  <p>*Which one better and fast?</p>\n</blockquote>\n\n<p>That question makes no sense. The two snippets aren't equivalent, so you should be asking \"which one of these does what I want?\" The <code>open</code> will clobber the file if it exists, whereas <code>touch</code> will leave it untouched.</p>\n\n<hr>\n\n<p>As for which is better between using the system call vs shelling out to run an external command, the answer is obvious if you don't leave out most of the code from the question!</p>\n\n<p>Using system call directly:</p>\n\n<pre><code>utime(undef, undef, $qfn)\n    or die(\"Can't touch \\\"$qfn\\\": $!\\n\");\n</code></pre>\n\n<p>Using system call via an external command:</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote(\"touch\", \"--\", $qfn);\nmy $output = `$cmd 2&gt;&amp;1`;\ndie(\"Can't touch \\\"$qfn\\\": Killed by signal \".($? &amp; 0x7F).\"\\n\" if $? &amp; 0x7F;\ndie(\"Can't touch \\\"$qfn\\\": Exited with error \".($? &gt;&gt; 8).\": $output\" if $? &gt;&gt; 8;\n</code></pre>\n\n<p>As you can see, shelling out is far more complicated and error prone. And of course, it's far slower to launch whole programs to make a system call instead of just making the system call.</p>\n"}], "owner": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4697, "favorite_count": 0, "accepted_answer_id": 45273200, "answer_count": 5, "score": 3, "last_activity_date": 1602204011, "creation_date": 1500873480, "last_edit_date": 1500875078, "question_id": 45273091, "link": "https://stackoverflow.com/questions/45273091/difference-between-open-function-and-touch-command-in-perl", "title": "Difference between &quot;open function&quot; and &quot;touch command&quot; in Perl?", "body": "<p>What's the difference in the below two cases for file creation.</p>\n\n<pre><code>  open(DATA,\"&gt;newfile.txt\");       #1.using open function\n  close(DATA);\n\n  `touch newfile.txt`;             #2.using touch command  \n</code></pre>\n\n<p>Which one better and fast?\nNote: When both open function and touch command used in Perl scripts, and the consider its used for creating empty files.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500876642, "post_id": 45273030, "comment_id": 77509885, "body": "Tip: <code>-&gt;executeSelectSql($sql, $user_name)</code> is the same as <code>-&gt;executeSelectSql($sql, @params)</code>"}, {"owner": {"reputation": 63, "user_id": 4523503, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TXzGm9u8Zf4/AAAAAAAAAAI/AAAAAAAAAJA/bZf5E-eFDE0/photo.jpg?sz=128", "display_name": "Niraj Tiwari", "link": "https://stackoverflow.com/users/4523503/niraj-tiwari"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500877688, "post_id": 45273030, "comment_id": 77510377, "body": "output of Data::Dumper is follows : warn(Dumper($user name) : \\x{e5}\\x{b0}\\x{8f}\\x{e3}\\x{80}\\x{80}\\x{e7}\\x{ac}\\x{b9}\\x{e3}&zwnj;&#8203;\\x{80}\\x{80}\\x{e3}\\x&zwnj;&#8203;{80}\\x{80}\\x{e5}\\x{8&zwnj;&#8203;5}\\x{ac}\\x{e3}\\x{80}&zwnj;&#8203;\\x{80}\\x{e4}\\x{b9}\\x&zwnj;&#8203;{9f}&quot;;   print $user_name = \u5c0f\u3000\u7b39\u3000\u3000\u516c\u3000\u4e5f;   warn(utf8::is_utf8($user_name) ? &quot;UTF8=1&quot; : &quot;UTF8=0&quot;);   gives  UTF8=1"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500878189, "post_id": 45273030, "comment_id": 77510606, "body": "And what&#39;s <code>executeSelectSql</code>? A wrapper for DBI?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500878301, "post_id": 45273030, "comment_id": 77510665, "body": "You don&#39;t have Japanese characters; you have Japanese characters encoded using UTF-8. The solution is probably to simply decode the bytes into text."}, {"owner": {"reputation": 63, "user_id": 4523503, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TXzGm9u8Zf4/AAAAAAAAAAI/AAAAAAAAAJA/bZf5E-eFDE0/photo.jpg?sz=128", "display_name": "Niraj Tiwari", "link": "https://stackoverflow.com/users/4523503/niraj-tiwari"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500878338, "post_id": 45273030, "comment_id": 77510684, "body": "yes, its a wrapper"}, {"owner": {"reputation": 63, "user_id": 4523503, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TXzGm9u8Zf4/AAAAAAAAAAI/AAAAAAAAAJA/bZf5E-eFDE0/photo.jpg?sz=128", "display_name": "Niraj Tiwari", "link": "https://stackoverflow.com/users/4523503/niraj-tiwari"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500878500, "post_id": 45273030, "comment_id": 77510793, "body": "any specific perl method to decode ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500878526, "post_id": 45273030, "comment_id": 77510807, "body": "Normally, you wouldn&#39;t need to use that. You should tell the source of the string  to decode it for you (e.g. by adding <code>:encoding(UTF-8)</code> to a file handle). Where did you get the string from?"}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1500882079, "post_id": 45273030, "comment_id": 77512012, "body": "When you say you&#39;re using UTF-8, do you mean in the source code only? Does the database table itself have UTF-8 as the character encoding when you check the schema?"}, {"owner": {"reputation": 63, "user_id": 4523503, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TXzGm9u8Zf4/AAAAAAAAAAI/AAAAAAAAAJA/bZf5E-eFDE0/photo.jpg?sz=128", "display_name": "Niraj Tiwari", "link": "https://stackoverflow.com/users/4523503/niraj-tiwari"}, "reply_to_user": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1500883620, "post_id": 45273030, "comment_id": 77512901, "body": "@ray  source code is in utf8, the variable $user_name is coming from json file which is in utf 8 format, Database has collation  utf8mb4_general_ci"}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1500883907, "post_id": 45273030, "comment_id": 77513081, "body": "@NirajTiwari What happens if you perform a select using pattern matching with <code>like</code>? Do you still get an empty set? Along the lines of <code>select ... from table where column like value</code>"}, {"owner": {"reputation": 63, "user_id": 4523503, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TXzGm9u8Zf4/AAAAAAAAAAI/AAAAAAAAAJA/bZf5E-eFDE0/photo.jpg?sz=128", "display_name": "Niraj Tiwari", "link": "https://stackoverflow.com/users/4523503/niraj-tiwari"}, "reply_to_user": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1500884165, "post_id": 45273030, "comment_id": 77513236, "body": "@ray using LIKE also , the query returns empty set !"}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1500884345, "post_id": 45273030, "comment_id": 77513337, "body": "I think you&#39;ll need to post some actual data or something that will allow others to reproduce your problem, @NirajTiwari, including the sql used to create the tables and insert some sample data."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4523503, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TXzGm9u8Zf4/AAAAAAAAAAI/AAAAAAAAAJA/bZf5E-eFDE0/photo.jpg?sz=128", "display_name": "Niraj Tiwari", "link": "https://stackoverflow.com/users/4523503/niraj-tiwari"}, "edited": false, "score": 0, "creation_date": 1500880614, "post_id": 45274159, "comment_id": 77511261, "body": "I used   use Encode qw( decode_utf8 );   my $text_decoded = decode_utf8($text_utf8); but still query gives emptyset ."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 63, "user_id": 4523503, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TXzGm9u8Zf4/AAAAAAAAAAI/AAAAAAAAAJA/bZf5E-eFDE0/photo.jpg?sz=128", "display_name": "Niraj Tiwari", "link": "https://stackoverflow.com/users/4523503/niraj-tiwari"}, "edited": false, "score": 0, "creation_date": 1500914420, "post_id": 45274159, "comment_id": 77533884, "body": "Please provide a minimal, runnable demonstration of the problem."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1500914265, "last_edit_date": 1500914265, "creation_date": 1500878642, "answer_id": 45274159, "question_id": 45273030, "link": "https://stackoverflow.com/questions/45273030/mysql-query-returns-empty-set-in-where-clause-having-japanese-characters/45274159#45274159", "title": "MySQL query returns empty set in WHERE clause having Japanese characters", "body": "<p>DBI and/or DBD::mysql is buggy in that it depends on the internal storage format of a scalar to determine it's value.</p>\n\n<ul>\n<li><p>If the string is stored using the UTF8=0 format, DBD::mysql expects UTF-8 (encoded text).</p></li>\n<li><p>If the string is stored using the UTF8=1 format, DBD::mysql expects Unicode Code Points (decoded text).</p></li>\n</ul>\n\n<p>You have a string of UTF-8 bytes (encoded text) in the UTF8=1 format (which is quite unusual and possibly indicative of a bug earlier in the code).</p>\n\n<p>The better option is to provide decoded text (since you should already have that!)</p>\n\n<pre><code>use Encode qw( decode_utf8 );\n\nmy $text_decoded = decode_utf8($text_utf8);\n</code></pre>\n\n<p><code>decode_utf8</code> will always return a string in the UTF8=1 format, so that works out great :)</p>\n\n<p>The string you'll get is the following:</p>\n\n<pre><code>\"\\x{5c0f}\\x{3000}\\x{7b39}\\x{3000}\\x{3000}\\x{516c}\\x{3000}\\x{4e5f}\"\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4523503, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TXzGm9u8Zf4/AAAAAAAAAAI/AAAAAAAAAJA/bZf5E-eFDE0/photo.jpg?sz=128", "display_name": "Niraj Tiwari", "link": "https://stackoverflow.com/users/4523503/niraj-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519560448, "creation_date": 1500873064, "last_edit_date": 1519560448, "question_id": 45273030, "link": "https://stackoverflow.com/questions/45273030/mysql-query-returns-empty-set-in-where-clause-having-japanese-characters", "title": "MySQL query returns empty set in WHERE clause having Japanese characters", "body": "<p>Code is written in Perl. I have the routine</p>\n\n<pre><code>sub get_name {\n    my ($self, $user_name) = @_;  \n    my $sql ='SELECT user_code FROM user_table WHERE user_name=?';\n    my @params = ($user_name);\n    my $result = $self-&gt;{dbObj}-&gt;executeSelectSql ($sql, @params);\n    return $result;\n}\n</code></pre>\n\n<p>The value of <code>$user_name</code> is</p>\n\n<pre><code>\"\\x{e5}\\x{b0}\\x{8f}\\x{e3}\\x{80}\\x{80}\\x{e7}\\x{ac}\\x{b9}\\x{e3}\\x{80}\\x{80}\\x{e3}\\x{80}\\x{80}\\x{e5}\\x{85}\\x{ac}\\x{e3}\\x{80}\\x{80}\\x{e4}\\x{b9}\\x{9f}\"\nUTF8=1\n</code></pre>\n\n<p>as obtained using</p>\n\n<pre><code>use Data::Dumper;\nlocal $Data::Dumper::Useqq = 1;\nwarn(Dumper($user_name));\nwarn(utf8::is_utf8($user_name) ? \"UTF8=1\" : \"UTF8=0\"); \n</code></pre>\n\n<p>This is the query :</p>\n\n<pre><code>SELECT user_code FROM user_table WHERE user_name= \"\u5c0f\u3000\u7b39\u3000\u3000\u516c\u3000\u4e5f\";\n</code></pre>\n\n<p>When executed in MySQL it works fine and retrieves the record like below:</p>\n\n<pre><code>+-----------+\n| user_code |\n+-----------+\n|    10     |\n+-----------+\n</code></pre>\n\n<p>Even after I hardcode the value of user_name in query, it retrieves the record.</p>\n\n<p>But after executing it from the perl script with the parameter in it , <code>$result</code> is always empty.</p>\n\n<p>I have used <code>set names utf8</code> and all the possible solutions to similar questions on StackOverflow, but none of them worked. Need help. !</p>\n"}, {"tags": ["perl", "ssh", "hash"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4944038, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10153272953705502/picture?type=large", "display_name": "Danny Luk", "link": "https://stackoverflow.com/users/4944038/danny-luk"}, "edited": false, "score": 0, "creation_date": 1500878895, "post_id": 45272634, "comment_id": 77510982, "body": "Thanks, but why all device results are ssh success with invalid IPs.  1.1.1.1 SSH success 2.2.2.2 SSH success 3.3.3.3 SSH success"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 2, "last_activity_date": 1500870492, "creation_date": 1500870492, "answer_id": 45272634, "question_id": 45272545, "link": "https://stackoverflow.com/questions/45272545/perl-odd-number-of-elements-in-hash-assignment-at-usr-local-lib64-perl5-net-s/45272634#45272634", "title": "Perl - Odd number of elements in hash assignment at /usr/local/lib64/perl5/Net/SSH2.pm", "body": "<p>If we ignore the commented-out lines, your call to the Net::SSH2 constructor boils down to this:</p>\n\n<pre><code>my $t = Net::SSH2-&gt;new(\n    '$hostname', timeout =&gt; 30\n) or $tl = 1;\n</code></pre>\n\n<p>That's a list of three arguments (<code>'$hostname'</code>, <code>'timeout'</code> and <code>30</code>), which is an \"odd number of elements\".</p>\n\n<p>Perhaps you meant:</p>\n\n<pre><code>my $t = Net::SSH2-&gt;new(\n    Host    =&gt; $hostname,\n    Timeout =&gt; 30,\n) or $tl = 1;\n</code></pre>\n\n<p>Note also that variable substitution only happens in double-quoted strings.  In a single-quoted string, the <code>$</code> character is just a <code>$</code>.  So <code>'$hostname'</code> seems likely to be an error.</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 4944038, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10153272953705502/picture?type=large", "display_name": "Danny Luk", "link": "https://stackoverflow.com/users/4944038/danny-luk"}, "edited": false, "score": 0, "creation_date": 1500878924, "post_id": 45272635, "comment_id": 77511000, "body": "Thanks, but why all device results are ssh success with invalid IPs? 1.1.1.1 SSH success 2.2.2.2 SSH success 3.3.3.3 SSH success"}, {"owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "reply_to_user": {"reputation": 47, "user_id": 4944038, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10153272953705502/picture?type=large", "display_name": "Danny Luk", "link": "https://stackoverflow.com/users/4944038/danny-luk"}, "edited": false, "score": 0, "creation_date": 1500884816, "post_id": 45272635, "comment_id": 77513633, "body": "@DannyLuk Because the poor program is confused! The &quot;uneven hash arguments&quot; message is a warning--it&#39;s not terminating the program. So the library logic is continuing to run with the wrong data. And I&#39;ll remind you that single-quoted variables aren&#39;t interpolated, so you passed in a literal string &quot;dollar-sign hostname&quot; instead of the host. Usually after the first error, it doesn&#39;t make sense to try to understand what the confused program does."}], "tags": [], "owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "is_accepted": false, "score": 2, "last_activity_date": 1500870502, "creation_date": 1500870502, "answer_id": 45272635, "question_id": 45272545, "link": "https://stackoverflow.com/questions/45272545/perl-odd-number-of-elements-in-hash-assignment-at-usr-local-lib64-perl5-net-s/45272635#45272635", "title": "Perl - Odd number of elements in hash assignment at /usr/local/lib64/perl5/Net/SSH2.pm", "body": "<p>It looks like you didn't name all your parameters in the Net::SSH2 constructor. Perl isn't like some other languages where optional arguments can be passed by name. When you call a function like that constructor, your arguments are being interpreted as a hash, so all keys and values must be specified as pairs.</p>\n\n<p>According to the <a href=\"http://search.cpan.org/~salva/Net-SSH2-0.66/lib/Net/SSH2.pm#new_(_%options_)\" rel=\"nofollow noreferrer\">docs</a>, it doesn't look like you can set the hostname in the constructor. If you could, the syntax would be <code>new(hostname =&gt; $hostname, timeout =&gt; 30);</code>. Since you can't, call the constructor with just the timeout arguments, then set the hostname afterwards.</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 4944038, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10153272953705502/picture?type=large", "display_name": "Danny Luk", "link": "https://stackoverflow.com/users/4944038/danny-luk"}, "edited": false, "score": 0, "creation_date": 1500878676, "post_id": 45273006, "comment_id": 77510866, "body": "Its show &quot;Unable to exchange encryption keys (-9 LIBSSH2_ERROR_TIMEOUT) at ./sshrespond.pl line...&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 47, "user_id": 4944038, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10153272953705502/picture?type=large", "display_name": "Danny Luk", "link": "https://stackoverflow.com/users/4944038/danny-luk"}, "edited": false, "score": 0, "creation_date": 1500881803, "post_id": 45273006, "comment_id": 77511861, "body": "@DannyLuk You may need to import some constants (<code>use Net::SSH2 qw(...)</code>)? See <a href=\"http://search.cpan.org/~salva/Net-SSH2-0.66/lib/Net/SSH2.pm#CONSTANTS\" rel=\"nofollow noreferrer\">CONSTANTS</a>.  Another thing, judged by the error -- try omitting the timeout option, to see whether it works then.  Also note that under <a href=\"http://search.cpan.org/~salva/Net-SSH2-0.66/lib/Net/SSH2.pm#timeout\" rel=\"nofollow noreferrer\">timeout</a> (used as a method)  it says that &quot;<i>libssh2 1.2.9 or later</i>&quot; is required"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 47, "user_id": 4944038, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10153272953705502/picture?type=large", "display_name": "Danny Luk", "link": "https://stackoverflow.com/users/4944038/danny-luk"}, "edited": false, "score": 0, "creation_date": 1500881831, "post_id": 45273006, "comment_id": 77511875, "body": "@DannyLuk At any rate, now you are past the problem of running -- now you can debug the actual access. Note that you may not see this error without <code>or $t-&gt;die_with_error</code>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1500872937, "creation_date": 1500872937, "answer_id": 45273006, "question_id": 45272545, "link": "https://stackoverflow.com/questions/45272545/perl-odd-number-of-elements-in-hash-assignment-at-usr-local-lib64-perl5-net-s/45273006#45273006", "title": "Perl - Odd number of elements in hash assignment at /usr/local/lib64/perl5/Net/SSH2.pm", "body": "<p>The module's <a href=\"http://search.cpan.org/~salva/Net-SSH2-0.66/lib/Net/SSH2.pm#new_%28_%options_%29\" rel=\"nofollow noreferrer\">constructor (<code>new</code>) expects a <code>%hash</code></a>. This means that you must supply a list with even number of elements, or a hash variable, so that <code>new</code> can build the hash it needs with them. When an odd number of elements is assigned to a hash a warning (that you get) is printed.</p>\n\n<p>The supplied list are the option-value pairs, for convenience written as <code>option =&gt; value, ...</code>  (even though <code>option, value ...</code> would work, too). </p>\n\n<p>The  documented options are: <code>timeout</code>, <code>trace</code>, <code>debug</code>, <code>compress</code>, and <code>sigpipe</code>.  Thus you cannot supply the hostname when you build the object.</p>\n\n<p>This is done with <code>connect</code></p>\n\n<pre><code>my $t = Net::SSH2-&gt;new( timeout =&gt; 30 ) or $tl = 1;\n\n$t-&gt;connect( $hostname ) or $t-&gt;die_with_error;\n</code></pre>\n\n<p>See the docs for other options that <code>connect</code> supports.</p>\n"}], "owner": {"reputation": 47, "user_id": 4944038, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10153272953705502/picture?type=large", "display_name": "Danny Luk", "link": "https://stackoverflow.com/users/4944038/danny-luk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "accepted_answer_id": 45273006, "answer_count": 3, "score": 1, "last_activity_date": 1500877576, "creation_date": 1500869924, "last_edit_date": 1500877576, "question_id": 45272545, "link": "https://stackoverflow.com/questions/45272545/perl-odd-number-of-elements-in-hash-assignment-at-usr-local-lib64-perl5-net-s", "title": "Perl - Odd number of elements in hash assignment at /usr/local/lib64/perl5/Net/SSH2.pm", "body": "<p>I have created a perl that ssh to connect to multiple devices. I would like to check if ssh functions properly by connecting devices.</p>\n\n<p>This is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Net::SSH2;\nuse POSIX qw(strftime);\n\nmy $date = strftime \"%Y%m%d\", localtime;\n\nopen (OUTPUTS, \"&gt;ssh_Success$date.log\" );\nopen (OUTPUTF, \"&gt;ssh_Fail$date.log\" );\n\nopen( SWITCHIP, \"ip.txt\" ) or die \"couldn't open ip.txt\";\n\nmy $count = 0;\n\nwhile (&lt;SWITCHIP&gt;) {\n    chomp($_);\n    my $hostname = $_;\n    my $tl     = 0;\n    my $t      = Net::SSH2-&gt;new(\n        #Host =&gt; $hostname,\n        #Prompt =&gt;\n            #'/(?m:^(?:[\\w.\\/]+\\:)?[\\w.-]+\\s?(?:\\(config[^\\)]*\\))?\\s?[\\$#&gt;]\\s?(?:\\(enable\\))?\\s*$)/',\n        #debug=&gt;0\n        #Timeout =&gt; 30,\n        #Errmode =&gt; 'return'\n        '$hostname', timeout =&gt; 30\n    ) or $tl = 1;\n\n    my @output = ();\n\n    if ( $tl != 1 ) {\n        print \"$hostname SSH success\\n\"; # for printing it in screen\n        print OUTPUTS \"$date $hostname SSH success\\n\"; # it will print it in the log_Success.txt\n    }\n    else {\n        my $sshstat = \"SSH failed\";\n        print \"$hostname $sshstat\\n\"; # for printing it in screen\n        print OUTPUTF \"$date $hostname $sshstat\\n\"; # it will print it in the log_Fail.txt\n    }\n\n    $count++;\n}\nclose(SWITCHIP);\nclose(OUTPUTS);\nclose(OUTPUTF);\n</code></pre>\n\n<p>I get an odd error - odd number of elements in hash assigment: </p>\n\n<pre><code>Odd number of elements in hash assignment at /usr/local/lib64/perl5/Net/SSH2.pm\n1.1.1.1 SSH success\nOdd number of elements in hash assignment at /usr/local/lib64/perl5/Net/SSH2.pm\n2.2.2.2 SSH success\nOdd number of elements in hash assignment at /usr/local/lib64/perl5/Net/SSH2.pm\n3.3.3.3 SSH success\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-parsing"], "comments": [{"owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "edited": false, "score": 0, "creation_date": 1500876351, "post_id": 45271139, "comment_id": 77509765, "body": "Could you please modify your question since its not clear as to what you are asking"}, {"owner": {"reputation": 115, "user_id": 8343393, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c88a1648d584660b17b0a7cca726ba4f?s=128&d=identicon&r=PG&f=1", "display_name": "RyosanCiffer", "link": "https://stackoverflow.com/users/8343393/ryosanciffer"}, "reply_to_user": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "edited": false, "score": 0, "creation_date": 1500894447, "post_id": 45271139, "comment_id": 77520116, "body": "My question is how should I get the script to read/process the base file and the 3 updates sequentially ? There no open() function in this script someone gave me and I don&#39;t know Perl because I just begin learning it. I could not even test and as a consequence modify it to make it work. I don&#39;t know if it will work to put entries&#39; lines into a hash."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 8343393, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c88a1648d584660b17b0a7cca726ba4f?s=128&d=identicon&r=PG&f=1", "display_name": "RyosanCiffer", "link": "https://stackoverflow.com/users/8343393/ryosanciffer"}, "edited": false, "score": 0, "creation_date": 1501383372, "post_id": 45281021, "comment_id": 77752641, "body": "Thank you very much, a bit late though. The script work without modifying anything it seems. I understand the code better now."}, {"owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "reply_to_user": {"reputation": 115, "user_id": 8343393, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c88a1648d584660b17b0a7cca726ba4f?s=128&d=identicon&r=PG&f=1", "display_name": "RyosanCiffer", "link": "https://stackoverflow.com/users/8343393/ryosanciffer"}, "edited": false, "score": 0, "creation_date": 1501394567, "post_id": 45281021, "comment_id": 77754411, "body": "No issues you can vote it up though for someone who is indeed in help :-)"}], "tags": [], "owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "is_accepted": true, "score": 0, "last_activity_date": 1500900748, "last_edit_date": 1500900748, "creation_date": 1500900379, "answer_id": 45281021, "question_id": 45271139, "link": "https://stackoverflow.com/questions/45271139/update-xml-database-file-with-perl-script/45281021#45281021", "title": "Update xml database file with perl script", "body": "<p>I've tried to add some information (comments) for you to understand better. Note comments in perl are written using \"#\".\nExcept the first line wherever you see something with <code>#</code> symbol is a comment.</p>\n\n<p>Example, if you see the below code have <code># Hash initialization</code> this means a comment for your understanding. I highly recommend you to use <code>Notepad++</code> editor for writing perl codes or understanding this below one. You will get a clear view since in notepad++ comments are visible in green colour. Hope this is helpful!</p>\n\n<pre><code>#! /usr/bin/perl -CIOE\nuse strict;\n\nmy %h = ();                     # Hash initialization\nmy $head = '';                  # Variable initialization\nmy $has_data = 0;               # Variable initialization (Numeric)\n\n# Perl's diamond &lt;&gt; operator to read from files. \n# It acts like a readline() command\n\nwhile (&lt;&gt;) {                                \n\n    # \"\\d\"  matches all numbers; it is the same as [0-9] \n    # \"+\" sign for many expressions (1 or more)\n\n    /&lt;db_entry db_id=\"(\\d+)\"&gt;/ and do {     \n    my $entry = $_;             # \"$_\" is a default operator\n    my $id = $1;                # $1 is match operator (successful match)\n    while (&lt;&gt;) {                # Again read from file\n      $entry .= $_;             # Updating \"$entry\" variable everytime\n      /&lt;\\/db_entry&gt;/ and last;\n    }\n    $h{$id} = $entry;           # Preparing variable formed here will be value with index\n                                # \"$h{$id}\" is equivalent to some value like \"007XBCF(2)\"\n\n    $has_data = 1;              # assign value 1 to variable \"has_data\" which was 0\n    next;                       # iteration\n  };\n  if (! $has_data) {            # If \"$has_data\" not exist then if loop runs\n    $head .= $_;\n    next;\n  }\n  /\\s*&lt;timestamp/ and do {\n    $head .= $_;\n    next;\n  };\n}\n\nmy $count = scalar keys %h;    # \"scalar\" will give you count for arrays or hashes\nprint $head;\n\n# &lt;=&gt; compare operator of perl and rest syntax is of perl sort\nforeach (sort { $a &lt;=&gt; $b } keys %h) {\n  print $h{$_};\n}\nprint qq|  &lt;db_entry_count count=\"$count\" /&gt;\n&lt;/databank_export&gt;\n|;\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 8343393, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c88a1648d584660b17b0a7cca726ba4f?s=128&d=identicon&r=PG&f=1", "display_name": "RyosanCiffer", "link": "https://stackoverflow.com/users/8343393/ryosanciffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "accepted_answer_id": 45281021, "answer_count": 1, "score": 1, "last_activity_date": 1500905783, "creation_date": 1500856431, "last_edit_date": 1500905783, "question_id": 45271139, "link": "https://stackoverflow.com/questions/45271139/update-xml-database-file-with-perl-script", "title": "Update xml database file with perl script", "body": "<p>I want to update a 150mo database xml file with 3 other xml files in their chronological order someone give me a quick example of perl script on how to do this but I don't know how I should make the script open the base file and the 3 update. with @args or by opening directly the file with the open function.\nHe said to me that I do not need to parse the xml file because updates consist of junks of database entries and only need to throw lines of these junks into a hash with entries id as hash key then read all files sequentially so that entries either update or make a new one, and then write out the hash in numerical order of the key.</p>\n\n<pre><code>#! /usr/bin/perl -CIOE\nuse strict;\n\nmy %h = ();\nmy $head = '';\nmy $has_data = 0;\n\nwhile (&lt;&gt;) {\n   /&lt;db_entry db_id=\"(\\d+)\"&gt;/ and do {\n    my $entry = $_;\n    my $id = $1;\n    while (&lt;&gt;) {\n      $entry .= $_;\n      /&lt;\\/db_entry&gt;/ and last;\n    }\n    $h{$id} = $entry;\n    $has_data = 1;\n    next;\n  };\n  if (! $has_data) {\n    $head .= $_;\n    next;\n  }\n  /\\s*&lt;timestamp/ and do {\n    $head .= $_;\n    next;\n  };\n}\n\nmy $count = scalar keys %h;\nprint $head;\nforeach (sort { $a &lt;=&gt; $b } keys %h) {\n  print $h{$_};\n}\nprint qq|  &lt;db_entry_count count=\"$count\" /&gt;\n&lt;/databank_export&gt;\n|;\n</code></pre>\n\n<p>I don't know how this script is supposed to read files sequentially either by command line or open function. It will be simpler to do this way than parsing with xml::twig or something.</p>\n\n<p>Best regards.</p>\n"}, {"tags": ["xml", "perl", "xml-twig"], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1500807515, "post_id": 45264086, "comment_id": 77491455, "body": "Aah, my bad! I should&#39;ve inspected <code>@_</code> to see what was going on. Thanks! Is there any downside/upside of purging the full twig only <i>after</i> you have done stuff with the cut twig? My reasoning was to purge it immediately after cutting the <i>element</i>, so that memory is cleared as soon as possible. I might be wrong? Great module by the way, we use it <b>all</b> the time!"}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 2, "creation_date": 1500808739, "post_id": 45264086, "comment_id": 77491776, "body": "It should make no difference when you purge. The most important is to reclaim the memory before you start parsing the next subtree.  And thanks ;--)"}], "tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": true, "score": 7, "last_activity_date": 1500805922, "creation_date": 1500805922, "answer_id": 45264086, "question_id": 45263553, "link": "https://stackoverflow.com/questions/45263553/purge-xml-twig-inside-sub-handler/45264086#45264086", "title": "Purge XML Twig inside sub handler", "body": "<p>The handler still gets the full twig, you're just not using it (using $_ instead).</p>\n\n<p>As it turns out you can still call <code>purge</code> on the twig (which I usually call \"element\", or <code>elt</code> in the docs): <code>$_-&gt;purge</code> will work as expected, purging the full twig up to the current element in $_;</p>\n\n<p>A cleaner (IMHO) way would be to actually get all of the parameters and purge the full twig expicitely:</p>\n\n<pre><code>my $twig = XML::Twig-&gt;new(\n  twig_handlers =&gt; {\n    $self-&gt;outer_tag =&gt; sub {\n      $self-&gt;_process_tree(@_); # pass _all_ of the arguments\n    }\n  }\n);\n$twig-&gt;parsefile($self-&gt;input_file);\n\nsub _process_tree {\n  my ($self, $full_twig, $twig) = @_; # now you see them!\n\n  $twig-&gt;cut;\n  # Do stuff with twig\n  $full_twig-&gt;purge;  # now you don't\n}\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 45264086, "answer_count": 1, "score": 7, "last_activity_date": 1500805922, "creation_date": 1500802182, "question_id": 45263553, "link": "https://stackoverflow.com/questions/45263553/purge-xml-twig-inside-sub-handler", "title": "Purge XML Twig inside sub handler", "body": "<p>I am parsing large XML files (60GB+) with <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"noreferrer\">XML::Twig</a> and using it in a OO (Moose) script. I am using the <code>twig_handlers</code> option to parse elements as soon as they're read into memory. However, I'm not sure how I can deal with the Element and Twig.</p>\n\n<p>Before I used Moose (and OO altogether), my script looked as follows (and worked):</p>\n\n<pre><code>my $twig = XML::Twig-&gt;new(\n  twig_handlers =&gt; {\n    $outer_tag =&gt; \\&amp;_process_tree,\n  }\n);\n$twig-&gt;parsefile($input_file);\n\n\nsub _process_tree {\n  my ($fulltwig, $twig) = @_;\n\n  $twig-&gt;cut;\n  $fulltwig-&gt;purge;\n  # Do stuff with twig\n}\n</code></pre>\n\n<p>And now I'd do it like this.</p>\n\n<pre><code>my $twig = XML::Twig-&gt;new(\n  twig_handlers =&gt; {\n    $self-&gt;outer_tag =&gt; sub {\n      $self-&gt;_process_tree($_);\n    }\n  }\n);\n$twig-&gt;parsefile($self-&gt;input_file);\n\nsub _process_tree {\n  my ($self, $twig) = @_;\n\n  $twig-&gt;cut;\n  # Do stuff with twig\n  # But now the 'full twig' is not purged\n}\n</code></pre>\n\n<p>The thing is that I now see that I am missing the purging of the <code>fulltwig</code>. I figured that - in the first, non-OO version - purging would help on saving memory: getting rid of the fulltwig as soon as I can. However, when using OO (and having to rely on an explicit <code>sub{}</code> inside the handler) I don't see how I can purge the full twig because the documentation says that </p>\n\n<blockquote>\n  <p>$_ is also set to the element, so it is easy to write inline handlers\n  like</p>\n  \n  <p><code>para =&gt; sub { $_-&gt;set_tag( 'p'); }</code></p>\n</blockquote>\n\n<p>So they talk about the Element you want to process, but not the fulltwig itself. So how can I delete that if it is not passed to the subroutine?</p>\n"}, {"tags": ["perl", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500846605, "post_id": 45263380, "comment_id": 77503235, "body": "You should post an answer yourself and name the source. Don&#39;t edit the answer into your question. This is not a forum."}], "answers": [{"tags": [], "owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "is_accepted": true, "score": 1, "last_activity_date": 1500853072, "creation_date": 1500853072, "answer_id": 45270846, "question_id": 45263380, "link": "https://stackoverflow.com/questions/45263380/mojolicious-base-url-when-running-mojolicious-lite-app-on-apache-under-subdirect/45270846#45270846", "title": "Mojolicious base URL when running Mojolicious Lite app on Apache under subdirectory", "body": "<p>Received the answer over at #mojo in IRC from @jabberwok:</p>\n\n<p>Instead of <code>&lt;%= url_for %&gt;/css/styles.css</code> I needed to use <code>&lt;%= url_for('/css/styles.css') %&gt;</code>.</p>\n"}], "owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 45270846, "answer_count": 1, "score": 1, "last_activity_date": 1500853072, "creation_date": 1500800765, "last_edit_date": 1500853033, "question_id": 45263380, "link": "https://stackoverflow.com/questions/45263380/mojolicious-base-url-when-running-mojolicious-lite-app-on-apache-under-subdirect", "title": "Mojolicious base URL when running Mojolicious Lite app on Apache under subdirectory", "body": "<p>I'm trying to run a tiny Mojolicious Lite app on Apache (shared hosting) in a subdirectory: <code>http://www.example.com/mymojoapp/</code>. And I mostly tried to follow <a href=\"https://github.com/kraih/mojo/wiki/Apache-deployment\" rel=\"nofollow noreferrer\">this guide</a>.</p>\n\n<p>The <code>mymojoapp</code> is an actual directory on the server, and app structure as follows:</p>\n\n<pre><code>mymojoapp\n|- .htaccess\n|- app.pl\n|- public\n|  +- images\n|  |  +- ... (image files) ...\n|  +- css\n|  |  +- ... (css files) ...\n|  +- js\n|     +- ... (js files) ...\n+- templates\n   |- layouts\n   |  |- index-layout.html.ep\n   |  +- other-page-layout.html.ep\n   |- index.html.ep\n   +- other-page.html.ep\n</code></pre>\n\n<p><code>.htaccess</code> contents:</p>\n\n<pre><code>AddHandler cgi-script .pl\nOptions +ExecCGI\n\nIndexIgnore *\n\nRewriteEngine on\n\nRewriteCond %{DOCUMENT_ROOT}/public/%{REQUEST_URI} -f\nRewriteRule ^(.*)$ public/$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule ^(.*)$ app.pl/$1 [L]\n</code></pre>\n\n<p><code>app.pl</code> contents (<code>perlml</code> is <code>perl</code> + paths to user-installed modules, including Mojolicious):</p>\n\n<pre><code>#!/usr/bin/perlml\n\nuse Mojolicious::Lite;\n\nhook before_dispatch =&gt; sub {\n    my $c = shift;\n    $c-&gt;req-&gt;url-&gt;base(Mojo::URL-&gt;new(q{http://www.example.com/mymojoapp/}));\n};\n\nget '/' =&gt; 'index';\n\nget '/u/:username' =&gt; sub {\n    my $self = shift;\n    $self-&gt;stash(profile =&gt; $self-&gt;stash('username'));\n} =&gt; 'user-profile-page';\n\napp-&gt;secrets(['app','secrets']);\napp-&gt;start;\n</code></pre>\n\n<p>In both <code>index-layout.html.ep</code> and <code>other-page-layout.html.ep</code> I refer to css (and images) as <code>&lt;link rel=\"stylesheet\" href=\"&lt;%= url_for %&gt;/css/styles.css\"&gt;</code>. When I access base URL (<code>http://www.example.com/mymojoapp/</code>) the page is displayed with proper styling, because the <code>url_for</code> gives me  <code>/mymojoapp/</code> making path to the stylesheet = <code>/mymojoapp/css/normalize.css</code>. But when I access <code>http://www.example.com/mymojoapp/u/someuser</code>, the CSS path is <code>/mymojoapp/u/someuser/css/normalize.css</code> and styles are not applied.</p>\n\n<p>I feel I'm missing some re-write rules, or it's probably can be fixed in <code>before_dispatch</code> hook, but so far I couldn't figure it out.</p>\n\n<p>How can I make sure all pages generated in my app get the correct base URL?</p>\n"}, {"tags": ["perl", "text-processing"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1500803274, "post_id": 45262895, "comment_id": 77490429, "body": "Btw, to print with a space between elements: <code>print &quot;@F&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1500799410, "post_id": 45263011, "comment_id": 77489471, "body": "<code>-F&#39;(\\s+)&#39;</code> can be used as parameter, and <code>say</code> will give extra newline."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1500802473, "post_id": 45263011, "comment_id": 77490243, "body": "@\u0421\u0443\u0445\u043e\u043927 Wow.  Thank you.  I thought of that and &quot;recalled&quot; that one can only use literals in there.  (I think that &quot;recollection&quot; came from <code>$&#47;</code> ...?) Fixed, and added."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1500802773, "post_id": 45263011, "comment_id": 77490300, "body": "@piojo Updated the answer -- it turns out that there is exactly what you ask.  Also fixed an error."}, {"owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "edited": false, "score": 0, "creation_date": 1500805139, "post_id": 45263011, "comment_id": 77490837, "body": "Thanks, knowing about <code>-F&lt;group&gt;</code> and <code>split(&#47;&lt;group&gt;&#47;)</code> will be really useful!"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500831860, "post_id": 45263011, "comment_id": 77498963, "body": "<a href=\"http://perldoc.perl.org/perl5200delta.html#%2A-F%2A-now-implies-%2A-a%2a-and-%2A-a%2A-implies-%2A-n%2A\" rel=\"nofollow noreferrer\">perldoc.perl.org/&hellip;</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500846143, "post_id": 45263011, "comment_id": 77503121, "body": "@ysth  Thank you, added."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 10, "last_activity_date": 1500847438, "last_edit_date": 1500847438, "creation_date": 1500798099, "answer_id": 45263011, "question_id": 45262895, "link": "https://stackoverflow.com/questions/45262895/can-perl-a-somehow-re-join-f-using-the-original-whitespace/45263011#45263011", "title": "Can &quot;perl -a&quot; somehow re-join @F using the original whitespace?", "body": "<p>No, there is no such magic object.  You can do it by hand though</p>\n\n<pre><code>perl -wnE'@p = split /(\\s+)/; $p[4] = int($p[4]/1024); print @p' input.txt\n</code></pre>\n\n<p>The capturing parens in <code>split</code>'s pattern mean that it is also returned, so you catch exact spaces. Since spaces are in the array we now need the fifth field.</p>\n\n<p>As it turns out, <code>-F</code> has this same property. Thanks to <a href=\"https://stackoverflow.com/users/223226/%D0%A1%D1%83%D1%85%D0%BE%D0%B927\">\u0421\u0443\u0445\u043e\u043927</a>. Then</p>\n\n<pre><code>perl -F'(\\s+)' -lanE'$F[4] = int($F[4]/1024); say @F' input.txt\n</code></pre>\n\n<p>Note: <a href=\"http://perldoc.perl.org/perl5200delta.html#*-F*-now-implies-*-a*-and-*-a*-implies-*-n*\" rel=\"nofollow noreferrer\">with 5.20.0</a> \"<em><code>-F</code> now implies <code>-a</code> and <code>-a</code> implies <code>-n</code></em>\". Thanks to <a href=\"https://stackoverflow.com/users/17389/ysth\">ysth</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1500842087, "post_id": 45268195, "comment_id": 77502128, "body": "Escaping <code>\\ </code> in code is oh so weird, and avoidable using an alternate delimiter (e.g. <code>s!...!...!e</code> or <code>s{...}{...}e</code>)"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1500832317, "creation_date": 1500832317, "answer_id": 45268195, "question_id": 45262895, "link": "https://stackoverflow.com/questions/45262895/can-perl-a-somehow-re-join-f-using-the-original-whitespace/45268195#45268195", "title": "Can &quot;perl -a&quot; somehow re-join @F using the original whitespace?", "body": "<p>You could just find the correct part of the line and modify it:</p>\n\n<pre><code>perl -wpE's/^\\s*+(?&gt;\\S+\\s+){2}\\K(\\S+)/int($1\\/1024) . \" KB\"/e'\n</code></pre>\n"}], "owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 1, "accepted_answer_id": 45263011, "answer_count": 2, "score": 6, "last_activity_date": 1500855583, "creation_date": 1500797264, "last_edit_date": 1500855583, "question_id": 45262895, "link": "https://stackoverflow.com/questions/45262895/can-perl-a-somehow-re-join-f-using-the-original-whitespace", "title": "Can &quot;perl -a&quot; somehow re-join @F using the original whitespace?", "body": "<p>My input has a mix of tabs and spaces for readability. I want to modify a field using <code>perl -a</code>, then print out the line in its original form. (The data is from <code>findup</code>, showing me a count of duplicate files and the space they waste.) Input is:</p>\n\n<pre><code>2 * 4096    backup/photos/photo.jpg photos/photo.jpg\n2 * 111276032   backup/books/book.pdf book.pdf\n</code></pre>\n\n<p>The output would convert field 3 to kilobytes, like this:</p>\n\n<pre><code>2 * 4 KB    backup/photos/photo.jpg photos/photo.jpg\n2 * 108668 KB   backup/books/book.pdf book.pdf\n</code></pre>\n\n<p>In my dream world, this would be my code, since I could just will perl to automatically recombine <code>@F</code> and preserve the original whitespace:</p>\n\n<pre><code>perl -lanE '$F[2]=int($F[2]/1024).\" KB\"; print;'\n</code></pre>\n\n<p>In real life, joining with a single space seems like my only option:</p>\n\n<pre><code>perl -lanE '$F[2]=int($F[2]/1024).\" KB\"; print join(\" \", @F);'\n</code></pre>\n\n<p>Is there any automatic variable which remembers the delimiters? If I had a magic array like that, the code would be:</p>\n\n<pre><code>perl -lanE 'BEGIN{use List::Util \"reduce\";} $F[2]=int($F[2]/1024).\" KB\"; print reduce { $a . shift(@magic) . $b } @F;'\n</code></pre>\n"}, {"tags": ["arrays", "function", "perl", "subroutine", "dereference"], "answers": [{"comments": [{"owner": {"reputation": 858, "user_id": 1620482, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0a05865f1f583dca2497708af20b1c36?s=128&d=identicon&r=PG", "display_name": "DemiImp", "link": "https://stackoverflow.com/users/1620482/demiimp"}, "edited": false, "score": 0, "creation_date": 1503104183, "post_id": 45262615, "comment_id": 78491852, "body": "Thank you for including the old technique :)  Who knows, may come in handy one day.  (Probably not lol)"}], "tags": [], "owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "is_accepted": false, "score": 2, "last_activity_date": 1500804575, "last_edit_date": 1500804575, "creation_date": 1500795020, "answer_id": 45262615, "question_id": 45262376, "link": "https://stackoverflow.com/questions/45262376/perl-how-do-you-dereference-an-array-without-creating-a-copy-of-the-array/45262615#45262615", "title": "Perl: How do you dereference an array without creating a copy of the array?", "body": "<p>My observation/understanding is that it's about the name--if you give a name to the dereferenced array, it will be copied, since perl variables are passed by copy--they're exactly like structs in C++. But even if a reference is copied (this is analogous to <code>int *newPtr = oldPtr</code> in C/C++), each copy of the reference will point at the same object. Only if you access its elements via the reference, or by dereferencing it inline, the original array will be modified. I don't think there's any way around this. When you call <code>my @foo = @{$barRef}</code>, you're calling a copy constructor. Scalars are the same--when you modify an argument via <code>$_[0] = val</code>, the caller's variable is modified as well. But if you give a name to the variable, a la <code>my $arg = $_[0]</code>, a copy is made.</p>\n\n<p>That said, there are convenient ways to work with references that you should know about, if you don't already use them:</p>\n\n<pre><code>$arrayRef-&gt;[0] = \"foo\";\n$hashRef-&gt;{key} = \"value\";\n$codeRef-&gt;(); # execute a code reference\n</code></pre>\n\n<p>But indeed, since <code>push</code> can't deal with a reference, you need to use an inline dereference like you did in your example.</p>\n\n<p>If you really, really want to create an array which is a reference, there's an old perl technique that can do it. You shouldn't use this in modern code. It's described here: <a href=\"https://perldoc.perl.org/perlsub.html#Passing-Symbol-Table-Entries-(typeglobs)\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlsub.html#Passing-Symbol-Table-Entries-(typeglobs)</a></p>\n"}, {"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 11, "last_activity_date": 1500799346, "last_edit_date": 1500799346, "creation_date": 1500796107, "answer_id": 45262748, "question_id": 45262376, "link": "https://stackoverflow.com/questions/45262376/perl-how-do-you-dereference-an-array-without-creating-a-copy-of-the-array/45262748#45262748", "title": "Perl: How do you dereference an array without creating a copy of the array?", "body": "<p>Dereferencing does not create a copy as can be seen in the following example:</p>\n\n<pre><code>my @a = qw(a b c);\nmy $ra = \\@a;\n@{$ra}[0,1] = qw(foo bar);  # dereferencing is done here but not copying\nprint @$ra; # foo bar c\nprint @a; # foo bar c\n</code></pre>\n\n<p>Instead, <strong>assigning</strong> the (dereferenced) array to another array <strong>creates the copy</strong>:</p>\n\n<pre><code>my @a = qw(a b c);\nmy $ra = \\@a;\nmy @newa = @$ra;   # copy by assigning\n$newa[0] = 'foo';\nprint @newa; # foo b c\nprint @a; # a b c\n</code></pre>\n\n<p>Assigning one array to another says essentially that all elements from the old array should be assigned to the new array too - which is different from just having a different name for the original array. But assigning one array reference to another just makes the old array available with a different name, i.e. copy array reference vs. copy array content. </p>\n\n<p>Note that this seems to be different to languages like Python or Java because in these languages variables describe array objects only, i.e. the reference to the array and not the content of the array.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500913342, "post_id": 45262785, "comment_id": 77533274, "body": "a copy is not needed to print them out or send them to sort or map"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500924202, "post_id": 45262785, "comment_id": 77539351, "body": "@ysth  No copy?  Does it not need to put values on the stack in order for anything to work with them? The <code>map</code> and <code>sort</code> don&#39;t get data by pointer -- or do they?  I didn&#39;t mean to say that a new array is made, just that the data is copied behind the scenes (a new list is made, perhaps element at a time).  Thank you for the edit."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500934518, "post_id": 45262785, "comment_id": 77544271, "body": "@ysth What I mean to say is that if the values are needed then they are copied, arrayref or not, and &quot;dereferencing&quot; has nothing to do with it. I have an arrayref, but when I submit it to <code>sort</code> the data are made available (on the stack?), just as if I had an array.  So it gets &quot;dereferenced.&quot;  In some other operation it may not -- it depends on what is done with data and one can&#39;t say much in general. // If this is non-sense (or wrong) I&#39;d appreciate knowing that.  Again, I hope I&#39;m not bothering you, but this relates deeply to many things."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1501012828, "last_edit_date": 1501012828, "creation_date": 1500796458, "answer_id": 45262785, "question_id": 45262376, "link": "https://stackoverflow.com/questions/45262376/perl-how-do-you-dereference-an-array-without-creating-a-copy-of-the-array/45262785#45262785", "title": "Perl: How do you dereference an array without creating a copy of the array?", "body": "<p>The code explicitly asks for data to be copied</p>\n\n<pre><code>my @a = @$aRef;\n</code></pre>\n\n<p>in order to create a new array <code>@a</code>. </p>\n\n<p>It is not clear to me what you mean by</p>\n\n<blockquote>\n  <p>Is it possible to dereference a pointer to an array without the whole array getting duplicated?</p>\n</blockquote>\n\n<p>If all values are needed in some operation &ndash; to make another array, or print them out, or send them to <code>sort</code> or <code>map</code> ... &ndash; then data may be copied, or it may not if that is done by pointer. If data is copied (even only on the stack) then it's the same as if we had an array, it is effectively \"dereferenced.\" </p>\n\n<p>It's a question of what is done with data and one cannot say much in general.</p>\n\n<hr>\n\n<p>If you need to access a specific element (or slice) then derefence that, don't create a new array. </p>\n\n<p>However, please not by <code>@$aRef[0] = 0;</code> even as it happens to be legal, but by either of</p>\n\n<pre><code>$$aRef[0] = 0;\n$aRef-&gt;[0] = 0;\n</code></pre>\n\n<p>where I find the second version to be generally safer against silly errors, and clearer.</p>\n"}, {"comments": [{"owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "edited": false, "score": 0, "creation_date": 1500902194, "post_id": 45269119, "comment_id": 77525722, "body": "This should be accepted. Unlike everything else, it&#39;s the right answer. (I just found out about refaliasing and came here to add it to my answer, but you beat me to it by a mile.)"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 4, "last_activity_date": 1500917646, "last_edit_date": 1500917646, "creation_date": 1500838182, "answer_id": 45269119, "question_id": 45262376, "link": "https://stackoverflow.com/questions/45262376/perl-how-do-you-dereference-an-array-without-creating-a-copy-of-the-array/45269119#45269119", "title": "Perl: How do you dereference an array without creating a copy of the array?", "body": "<p>Using the experimental refaliasing feature:</p>\n\n<pre><code>use 5.022;\nuse warnings;\nuse feature 'refaliasing';\nno warnings 'experimental::refaliasing';\n\\my @array = $array_ref;\n</code></pre>\n\n<p>But why not just keep it as a reference?  There's nothing you can do with an array that you can't also do with an array reference.</p>\n"}], "owner": {"reputation": 858, "user_id": 1620482, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0a05865f1f583dca2497708af20b1c36?s=128&d=identicon&r=PG", "display_name": "DemiImp", "link": "https://stackoverflow.com/users/1620482/demiimp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1617, "favorite_count": 1, "accepted_answer_id": 45262748, "answer_count": 4, "score": 3, "last_activity_date": 1501012828, "creation_date": 1500793118, "question_id": 45262376, "link": "https://stackoverflow.com/questions/45262376/perl-how-do-you-dereference-an-array-without-creating-a-copy-of-the-array", "title": "Perl: How do you dereference an array without creating a copy of the array?", "body": "<p>When I dereference an array using @$arrayRef or @{$arrayRef} it appears to create a copy of the array.  Is there a correct way to dereference an array?</p>\n\n<p>This code...</p>\n\n<pre><code>sub updateArray1 {\n        my $aRef = shift;\n        my @a = @$aRef;\n        my $aRef2 = \\@a;\n\n        $a[0] = 0;\n        push(@a, 3);\n        my $aRef3 = \\@a;\n\n        print \"inside1 \\@a: @a\\n\";\n        print \"inside1 \\$aRef: $aRef\\n\";\n        print \"inside1 \\$aRef2: $aRef2\\n\";\n        print \"inside1 \\$aRef3: $aRef3\\n\\n\";\n}\n\nmy @array = (1, 2);\n\nprint \"before: @array\\n\";\nmy $ar = \\@array;\nprint \"before: $ar\\n\\n\";\n\nupdateArray1(\\@array);\n\nprint \"after: @array\\n\";\n$ar = \\@array;\nprint \"after: $ar\\n\\n\";\n</code></pre>\n\n<p>... has the output...</p>\n\n<pre><code>before: 1 2\nbefore: ARRAY(0x1601440)\n\ninside1 @a: 0 2 3\ninside1 $aRef: ARRAY(0x1601440)\ninside1 $aRef2: ARRAY(0x30c1f08)\ninside1 $aRef3: ARRAY(0x30c1f08)\n\nafter: 1 2\nafter: ARRAY(0x1601440)\n</code></pre>\n\n<p>As you can see, @$aRef creates a new pointer address.</p>\n\n<p>The only way I've found to get around this is to only use the reference:</p>\n\n<pre><code>sub updateArray2 {\n        my $aRef = shift;\n\n        @$aRef[0] = 0;\n        push(@$aRef, 3);\n\n        print \"inside2 \\@\\$aRef: @$aRef\\n\";\n        print \"inside2 \\$aRef: $aRef\\n\\n\";\n}\n\nupdateArray2(\\@array);\n\nprint \"after2: @array\\n\";\n$ar = \\@array;\nprint \"after2: $ar\\n\\n\";\n</code></pre>\n\n<p>Which produces the output:</p>\n\n<pre><code>inside2 @$aRef: 0 2 3\ninside2 $aRef: ARRAY(0x1601440)\n\nafter2: 0 2 3\nafter2: ARRAY(0x1601440)\n</code></pre>\n\n<p>Is it possible to dereference a pointer to an array without the whole array getting duplicated?  Or do I need to keep it in reference form and dereference it any time I want to use it?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500771572, "post_id": 45260165, "comment_id": 77484717, "body": "Note -- can do <code>while (my $inline = &lt;STDIN&gt;) { ... }</code>. Also, <code>my ($from, $to) = @ARGV;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500774058, "post_id": 45260165, "comment_id": 77485042, "body": "Or <code>print s&#47;$from&#47;$to&#47;r  while &lt;STDIN&gt;;</code> with <code>&#47;r</code> modifier <a href=\"http://perldoc.perl.org/perl5140delta.html\" rel=\"nofollow noreferrer\">from 5.14</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8351474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a010b09b488ea299212e973bdd95b173?s=128&d=identicon&r=PG&f=1", "display_name": "user8351474", "link": "https://stackoverflow.com/users/8351474/user8351474"}, "edited": false, "score": 0, "creation_date": 1500773943, "post_id": 45260249, "comment_id": 77485024, "body": "Thank you, those were just simple syntax errors that I overlooked. However when I try something more complex like filter.pl &#39;([aeiou])([aeiou])&#39; &#39;$2$1&#39;` It is not completing correctly."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500774880, "post_id": 45260249, "comment_id": 77485179, "body": "You don&#39;t need a <code>;</code> after the last statement in a block."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 9, "user_id": 8351474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a010b09b488ea299212e973bdd95b173?s=128&d=identicon&r=PG&f=1", "display_name": "user8351474", "link": "https://stackoverflow.com/users/8351474/user8351474"}, "edited": false, "score": 0, "creation_date": 1500777140, "post_id": 45260249, "comment_id": 77485461, "body": "@user8351474  The <code>&#39;$2$1&#39;</code> is a literal string (just those four characters) and that&#39;s how it&#39;s treated in the regex.  So you&#39;ll get the result of <code>$2$1</code>.  So you need to endow that input string with its meaning in the regex (in this case, variables <code>$2</code> and <code>$1</code>), what isn&#39;t simple. See <a href=\"https://stackoverflow.com/a/45233407/4653379\">this post</a> for the same kind of a problem."}], "tags": [], "owner": {"reputation": 179, "user_id": 4525436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNYqb.png?s=128&g=1", "display_name": "zarvox", "link": "https://stackoverflow.com/users/4525436/zarvox"}, "is_accepted": false, "score": 0, "last_activity_date": 1500766539, "creation_date": 1500766539, "answer_id": 45260249, "question_id": 45260165, "link": "https://stackoverflow.com/questions/45260165/perl-filter-with-substitution/45260249#45260249", "title": "Perl filter with substitution", "body": "<p>three errors found:</p>\n\n<pre><code>; after error message\nexit 1;\n$inLine =~ s/$FROM/$TO/g;\n</code></pre>\n\n<p>like:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nif (@ARGV != 2){\n        print STDERR \"Usage: ./filter.pl FROMSTRING TOSTRING\\n\";\n        exit 1;\n}\nmy $FROM = $ARGV[0];\nmy $TO = $ARGV[1];\nmy $inLine = \"\";\nwhile (&lt;STDIN&gt;){\n$inLine = $_;\n$inLine =~ s/$FROM/$TO/g;\nprint  $inLine\n}\nexit 0;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500778262, "post_id": 45261038, "comment_id": 77485605, "body": "Good to mention that module.  Perhaps a skinny comment on using <code>readline</code> instead of its operator form <code>&lt;&gt;</code>?  I figure you prefer it for readability and canonical meaning in computing (and I don&#39;t complain!), but it may confuse a beginner (as in why-this-and-not-that) ?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500778473, "post_id": 45261038, "comment_id": 77485624, "body": "I never use <code>&lt;</code> <code>&gt;</code> because of its ad-hoc syntactic overloading: <code>&lt;$foo&gt;</code> means <code>readline($foo)</code> but <code>&lt;${foo}&gt;</code> and <code>&lt;$ foo&gt;</code> mean <code>glob($foo)</code>. It&#39;s much clearer (and unambiguous) to just write out <code>readline</code> and <code>glob</code> in all cases. (Bonus: Non-Perl programmers understand what&#39;s going on.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500778769, "post_id": 45261038, "comment_id": 77485663, "body": "I thought so and I completely agree with the argument.  I was referring to the answer, as aimed at a beginner.  But then this does much more than a short comment (which isn&#39;t necessary either)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1500778786, "post_id": 45261038, "comment_id": 77485666, "body": "I must say, while I agree with all you say, <code>&lt;$fh&gt;</code> <i>is</i> one of the most standard idioms in Perl."}, {"owner": {"reputation": 9, "user_id": 8351474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a010b09b488ea299212e973bdd95b173?s=128&d=identicon&r=PG&f=1", "display_name": "user8351474", "link": "https://stackoverflow.com/users/8351474/user8351474"}, "edited": false, "score": 0, "creation_date": 1500778879, "post_id": 45261038, "comment_id": 77485676, "body": "@melpomene Thank you for the information. I was doing some research on my own and was trying to implement eval qq(&quot;$ARGV[1]&quot;) but was unsuccessful. Would you mind briefly explaining it also?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 9, "user_id": 8351474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a010b09b488ea299212e973bdd95b173?s=128&d=identicon&r=PG&f=1", "display_name": "user8351474", "link": "https://stackoverflow.com/users/8351474/user8351474"}, "edited": false, "score": 1, "creation_date": 1500779107, "post_id": 45261038, "comment_id": 77485710, "body": "@user8351474 I&#39;m not sure what exactly you&#39;re asking here but I don&#39;t want to think about <code>eval</code>. It&#39;s yucky."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1500788020, "post_id": 45261038, "comment_id": 77487062, "body": "<a href=\"http://search.cpan.org/perldoc?String::Substitution\" rel=\"nofollow noreferrer\">String::Substitution</a> is another module that does this. It has a variety of related functions instead of the single Data::Munge provides. Data::Munge appears to pick random individual functions from a variety of modules???"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500803881, "post_id": 45261038, "comment_id": 77490562, "body": "@ikegami I didn&#39;t know about <code>String::Substitution</code> but it seems to have some subtle traps: <code>last_match_vars</code> is described as returning a list of <code>($1, $2, ...)</code> from the last match. After e.g. <code>&quot;abc&quot; =~ &#47;(a)(x)?(.)|(foo) (bar)&#47;</code> perl sets <code>$1 = &#39;a&#39;</code>, <code>$2 = undef</code>, <code>$3 = &#39;b&#39;</code>, <code>$4 = undef</code>, <code>$5 = undef</code>, so you&#39;d expect <code>last_match_vars</code> to return <code>(undef, &#39;a&#39;, undef, &#39;b&#39;, undef, undef)</code>. What it actually returns is <code>(undef, &#39;a&#39;, &#39;&#39;, &#39;b&#39;)</code>, i.e. it returns too few values and one of the <code>undef</code>s has become an empty string. <code>interpolate_match_vars</code> has subtle bugs with Unicode digits."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1500804062, "post_id": 45261038, "comment_id": 77490602, "body": "@ikegami ... whereas <code>Data::Munge::submatches</code> returns <code>(&#39;a&#39;, undef, &#39;b&#39;, undef, undef)</code> - nice and simple (and no leading <code>undef</code>). <code>Data::Munge::replace</code> also supports <code>$&amp;</code>, <code>$`</code>, <code>$&#39;</code> with no performance penalty."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 6, "last_activity_date": 1500777494, "creation_date": 1500777494, "answer_id": 45261038, "question_id": 45260165, "link": "https://stackoverflow.com/questions/45260165/perl-filter-with-substitution/45261038#45261038", "title": "Perl filter with substitution", "body": "<p>First off, the replacement part of a <code>s/.../.../</code> operation is not a regex; it works like a double-quoted string.</p>\n\n<p>There are a couple of issues with your code.</p>\n\n<ul>\n<li><p>Your <code>exit 1;</code> statement appears in the middle of the main code, not in the error block. You probably want:</p>\n\n<pre><code>if (@ARGV != 2) {\n    print STDERR \"Usage: ./filter.pl FROMSTRING TOSTRING\\n\";\n    exit 1;\n}\n</code></pre></li>\n<li><p>You're missing a <code>g</code> flag if you want multiple substitutions to happen in the same line:</p>\n\n<pre><code>$inLine =~ s/$FROM/$TO/g;\n</code></pre></li>\n<li><p>There's no need to predeclare <code>$inLine</code>; it's only used in one block. </p></li>\n<li>There's also no need to read a line into <code>$_</code> just to copy it into <code>$inLine</code>.</li>\n<li>It's common to use <code>$names_like_this</code> for variables and functions, not <code>$namesLikeThis</code>.</li>\n<li>You can use <code>$0</code> instead of hardcoding the program name in the error message.</li>\n<li><code>exit 0;</code> is redundant at the end.</li>\n</ul>\n\n<p>The following is closer to how I'd write it:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nif (@ARGV != 2) {\n    die \"Usage: $0 FROMSTRING TOSTRING\\n\";\n}\n\nmy ($from, $to) = @ARGV;\n\nwhile (my $line = readline STDIN) {\n    $line =~ s/$from/$to/g;\n    print $line;\n}\n</code></pre>\n\n<hr>\n\n<p>That said, none of this addresses your second example with <code>'$2$1'</code> as the replacement. The above code won't do what you want because <code>$to</code> is a plain string. Perl won't scan it to look for things like <code>$1</code> and replace them. </p>\n\n<p>When you write <code>\"foo $bar baz\"</code> in your code, it means the same thing as <code>'foo ' . $bar . ' baz'</code>, but this only applies to code, i.e. stuff that literally appears in your source code. The contents of <code>$bar</code> aren't re-scanned at runtime to expand e.g. <code>\\n</code> or <code>$quux</code>. This also applies to <code>$1</code> and friends, which are just normal variables.</p>\n\n<p>So how do you get <code>'$2$1'</code> to work?</p>\n\n<p>One way is to mess around with <code>eval</code>, but I don't like it because, well, it's <code>eval</code>: If you're not very careful, it would allow someone to execute arbitrary code by passing the right replacement \"string\".</p>\n\n<p>Doing it without <code>eval</code> is possible and even easy with e.g. <a href=\"https://metacpan.org/pod/Data::Munge#replace-STRING,-REGEX,-REPLACEMENT,-FLAG\" rel=\"noreferrer\"><code>Data::Munge::replace</code></a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Munge qw(replace);\n\nif (@ARGV != 2) {\n    die \"Usage: $0 FROMSTRING TOSTRING\\n\";\n}\n\nmy ($from, $to) = @ARGV;\n\nwhile (my $line = readline STDIN) {\n    print replace($line, $from, $to, 'g');\n}\n</code></pre>\n\n<p><code>replace</code> works like JavaScript's <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" rel=\"noreferrer\"><code>String#replace</code></a> in that it expands special <code>$</code> sequences.</p>\n\n<p>Doing it by hand is also possible but slightly annoying because you basically have to treat <code>$to</code> as a template and expand all <code>$</code> sequences by hand (e.g. by using another regex substitution):</p>\n\n<pre><code># untested\n$line =~ s{$from}{\n    my @start = @-;\n    my @stop  = @+;\n    (my $r = $to) =~ s{\\$([0-9]+|\\$)}{\n        $1 eq '$'\n            ? '$'\n            : substr($from, $start[$1], $stop[$1] - $start[$1])\n    }eg;\n    $r\n}eg;\n</code></pre>\n\n<p>(This does not implement braced groups such as <code>${1}</code>, <code>${2}</code>, etc. Those are left as an exercise for the reader.)</p>\n\n<p>This code is sufficiently annoying to write (and look at) that I much prefer using a module like <a href=\"https://metacpan.org/pod/Data::Munge\" rel=\"noreferrer\"><code>Data::Munge</code></a> for this sort of thing.</p>\n"}], "owner": {"reputation": 9, "user_id": 8351474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a010b09b488ea299212e973bdd95b173?s=128&d=identicon&r=PG&f=1", "display_name": "user8351474", "link": "https://stackoverflow.com/users/8351474/user8351474"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1500777494, "creation_date": 1500765673, "last_edit_date": 1500775115, "question_id": 45260165, "link": "https://stackoverflow.com/questions/45260165/perl-filter-with-substitution", "title": "Perl filter with substitution", "body": "<p>I am attempting to create a Perl script that filters data presented on STDIN, changing all occurrences of\none string to another and outputting all input lines, changed and unchanged to STDOUT. FROMSTRING and TOSTRING can be PERL-compatible regular expressions. I am unable to get matching output. </p>\n\n<p>Here is an example of what I am trying to achieve. </p>\n\n<pre><code>echo \"Today is Saturday\" | f.pl 'a' '@'\n</code></pre>\n\n<p>Output <code>Tod@y is S@turd@y</code>.</p>\n\n<pre><code>echo io | filter.pl '([aeiou])([aeiou])' '$2$1'\n</code></pre>\n\n<p>Output <code>oi</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nif (@ARGV != 2){\n        print STDERR \"Usage: ./filter.pl FROMSTRING TOSTRING\\n\"\n}\nexit 1;\nmy $FROM = $ARGV[0];\nmy $TO = $ARGV[1];\nmy $inLine = \"\";\nwhile (&lt;STDIN&gt;){\n$inLine = $_;\n$inLine =~ s/$FROM/$TO/;\nprint  $inLine\n}\nexit 0;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500764604, "post_id": 45259997, "comment_id": 77483438, "body": "No, no builtin like that. There are a number of good modules, and you can create objects out of each date specification and then use module&#39;s functionality to sort. What you show can be parsed by hand pretty easily, too."}, {"owner": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500764881, "post_id": 45259997, "comment_id": 77483498, "body": "@zdim I&#39;m considering making an array with all month shorts <code>[&quot;jan&quot;, &quot;feb&quot;, ...]</code> then doing something like: <code>foreach (@shorts) { foreach (@month) #pop from @month to @month_sorted if first word == $short</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1500765415, "post_id": 45259997, "comment_id": 77483609, "body": "And then you would want to sort asciibetical for the name, but numerical for the first day, because <code>Sep 25</code> needs to be later than <code>Sep 8</code>, which <code>&quot;Sep 25&quot; cmp &quot;Sep 8&quot;</code> will get wrong."}, {"owner": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500765555, "post_id": 45259997, "comment_id": 77483627, "body": "@simbabque I&#39;m trying to say I don&#39;t need to order days. I just need to order strings which contain a month and list of days. So for <code>&quot;Sep 8, 12, 15, 24&quot;</code> I don&#39;t need to worry about the days I just need to make sure it comes after <code>&quot;Jan 23&quot;</code> in the array."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1500765910, "post_id": 45259997, "comment_id": 77483709, "body": "Ah, that&#39;s easier.  (It is a very specific restriction though. A tricky design decision to make, to rely on it.)  Then yes, you only need the first three chars.  Still need to pull them out though.  And you&#39;ll need some ancillary data structure, because how does the comparison routine know that <code>jan</code> comes before <code>feb</code>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1500766045, "post_id": 45259997, "comment_id": 77483747, "body": "It&#39;s now a good use case for the Schwartzian Transform."}, {"owner": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500767046, "post_id": 45259997, "comment_id": 77483945, "body": "@zdim I want to share what I&#39;m trying now but it&#39;s not working <a href=\"https://pastebin.com/uEvCFzcU\" rel=\"nofollow noreferrer\">pastebin.com/uEvCFzcU</a> if you can get it working please post as an answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500768451, "post_id": 45259997, "comment_id": 77484210, "body": "I appreciate the effort! Note -- to sort a collection you can&#39;t really iterate through it (unless you are <i>implementing</i> a sorting procedure), but you&#39;d rather send the whole thing to a <code>sort</code> function/library.  What you do there is more an attempt to implement a sort, and that&#39;s not easy.  A note: instead of <code>foreach (@ary) { my $elem = $_; ... }</code> you can do <code>foreach my $elem (@ary)</code>.  That&#39;s a nice provision that <code>foreach</code> gives us."}], "answers": [{"comments": [{"owner": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "edited": false, "score": 0, "creation_date": 1500768028, "post_id": 45260363, "comment_id": 77484160, "body": "Thank you! Much better than what I was trying."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "edited": false, "score": 0, "creation_date": 1500777461, "post_id": 45260363, "comment_id": 77485503, "body": "Or <code>my %mon_ind;     @mon_ind{@mons} = 1..12;</code>"}, {"owner": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "edited": false, "score": 0, "creation_date": 1500781702, "post_id": 45260363, "comment_id": 77486072, "body": "<code>my %mon_ind; @mon_ind{@mons} = 1..12;</code> works for me but not <code>my %mon_ind = map { $mons[$_] =&gt; $_+1 } 0..$</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "edited": false, "score": 0, "creation_date": 1500785685, "post_id": 45260363, "comment_id": 77486694, "body": "@PhilipKirkbride  Ah ... the <code>$#mons</code> is the index of the last element of the array <code>@mons</code>.  So <code>#mons</code> are a part of it, not a comment as it got shaded here :(  Sorry ... I&#39;ll try to clarify it somehow ... for starters, I removed the (unnecessary) comment following it"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1500785848, "last_edit_date": 1500785848, "creation_date": 1500767668, "answer_id": 45260363, "question_id": 45259997, "link": "https://stackoverflow.com/questions/45259997/perl-arrange-array-of-dates-chronologically/45260363#45260363", "title": "Perl arrange array of dates chronologically", "body": "<p>Sort by the first three chars from each string, using an ancillary hash of month indices</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @data = (\"Sep 8, 12, 15, 24\", \"May 3, 24, 25, 29\", \"Jan 23\");\n\nmy @mons = qw(jan feb mar apr may jun jul aug sep oct nov dec);\nmy %mon_ind = map { $mons[$_] =&gt; $_+1 } 0..$#mons;\n\nmy @sorted_data = sort { by_mon(\\%mon_ind, $a, $b) } @data;\n\nsay for @sorted_data;\n\nsub by_mon {\n    my $mi = shift;\n    my ($m1, $m2) = map { lc(substr $_, 0, 3) } @_; \n    return $mi-&gt;{$m1} &lt;=&gt; $mi-&gt;{$m2};\n}\n</code></pre>\n\n<p>prints </p>\n\n<pre>\nJan 23\nMay 3, 24, 25, 29\nSep 8, 12, 15, 24\n</pre>\n\n<p>The code <a href=\"https://pastebin.com/uEvCFzcU\" rel=\"nofollow noreferrer\">posted on pastebin</a> effectively attempts to implement a sort.</p>\n"}], "owner": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 1, "accepted_answer_id": 45260363, "answer_count": 1, "score": 0, "last_activity_date": 1500785848, "creation_date": 1500764169, "last_edit_date": 1500777658, "question_id": 45259997, "link": "https://stackoverflow.com/questions/45259997/perl-arrange-array-of-dates-chronologically", "title": "Perl arrange array of dates chronologically", "body": "<p>I have an array <code>@dates</code> like this:</p>\n\n<pre><code>month [\n    [0]  \"Sep 8, 12, 15, 24\",\n    [1]  \"May 3, 24, 25, 29\",\n    [2]  \"Jan 23\",\n    ...\n]\n</code></pre>\n\n<p><em>Where each month will only be included in the array @month once, but not in chronological order.</em></p>\n\n<p>Does perl have a built in function to attempt to interpret a string as a date that I could use to sort this array chronologically? </p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1500763273, "post_id": 45259838, "comment_id": 77483174, "body": "The &quot;<i>an array contained in a hash</i>&quot; must be an array <i>reference</i>, and you never dereference. This would be the array: <code>@{%months-&gt;{$key}}</code> (assuming that it&#39;s the arrayref there indeed), where <code>%months-&gt;{$key}</code> retrieves the arrayref, and <code>@{ ... }</code> dereferences it. To generate your desired output you can then do <code>join &#39;, &#39;, @{%months-&gt;{$key}</code>, for instance"}, {"owner": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500763450, "post_id": 45259838, "comment_id": 77483209, "body": "@zdim thank you, that fixed my issue."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500763930, "post_id": 45259838, "comment_id": 77483303, "body": "Oh, I didn&#39;t see this comment until now.  I hope that an answer is still useful, in particular given the hashref&#39;s sigil comment."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500768667, "post_id": 45259951, "comment_id": 77484244, "body": "@stevieb  Thank you, changed, for consistency."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1500790387, "last_edit_date": 1500790387, "creation_date": 1500763830, "answer_id": 45259951, "question_id": 45259838, "link": "https://stackoverflow.com/questions/45259838/perl-flattening-arrays-from-hash-results-in-array/45259951#45259951", "title": "Perl flattening arrays from hash results in ARRAY", "body": "<p>An \"<em>array contained in a hash</em>\" must be an array <em>reference</em>, a scalar (what a hash value must be).  </p>\n\n<p>Thus when you retrieve it you need to dereference it</p>\n\n<pre><code>my @ary = @{ $months-&gt;{$key} };\n</code></pre>\n\n<p>and you can generate the desired string out of it </p>\n\n<pre><code>my $date_list = join ', ', @{ $months-&gt;{$key} };\n</code></pre>\n\n<p>This assumes that <code>$months</code> is a <em>hashref</em>, judged by the arrow-dereferencing from the question.Then <code>%</code> in front of <code>months</code> is wrong. There is also an extra loop.  For the shown data</p>\n\n<pre><code>foreach my $key (keys %$months) {\n    say join ', ', $key, @{$months-&gt;$key}};\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>say join ', ', $_, @{$months-&gt;$_}}  for keys %$months;\n</code></pre>\n\n<hr>\n\n<p>The code in the question applies to data with yet another level of nesting</p>\n\n<pre><code>foreach my $key (keys %$months) {\n    foreach ($months-&gt;{$key}) {\n       say join ', ', @{$months-&gt;{$key}-&gt;{$_}};\n    }\n}\n</code></pre>\n\n<p>to join only the last-level arrayref data, or</p>\n\n<pre><code>   say join ', ', $key, $_, @{$months-&gt;{$key}-&gt;{$_}};\n</code></pre>\n\n<p>to join both keys and the arrayref data.</p>\n"}], "owner": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 45259951, "answer_count": 1, "score": 1, "last_activity_date": 1500790387, "creation_date": 1500762764, "last_edit_date": 1500763296, "question_id": 45259838, "link": "https://stackoverflow.com/questions/45259838/perl-flattening-arrays-from-hash-results-in-array", "title": "Perl flattening arrays from hash results in ARRAY", "body": "<p>I'm trying to flatten an array contained in a hash with the following:</p>\n\n<pre><code>foreach my $key (keys %months) {\n    foreach (%months-&gt;{$key}) {\n       %months-&gt;{$key} = $key . ' ' . join(',', %months-&gt;{$key});\n    }\n}\n</code></pre>\n\n<p>I'm trying to generate a string of days like like:</p>\n\n<pre><code>\"2, 11, 15, 18, 25\"\n</code></pre>\n\n<p>But I get:</p>\n\n<pre><code>ARRAY(0x5a2e7b0)\n</code></pre>\n\n<p>Structure of <code>%months</code> is:</p>\n\n<pre><code>months {\n    Jan: [1,5,30],\n    Feb: [2,6]\n}\n</code></pre>\n"}, {"tags": ["perl", "dbix-class"], "comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1500750475, "post_id": 45258128, "comment_id": 77479926, "body": "Related <a href=\"http://lists.scsys.co.uk/pipermail/dbix-class/2010-February/008925.html\" rel=\"nofollow noreferrer\">mailing list thread</a>."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1500752411, "post_id": 45258128, "comment_id": 77480495, "body": "@nwellnhof: Thank you for the link, but I, actually, not exclude. I say: &quot;Select me only one column&quot; but it selects me another columns too. That is redundantly."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1500753216, "post_id": 45258128, "comment_id": 77480712, "body": "The thread is still somewhat related. Anyway, <code>prefetch</code> simply works independently from <code>select</code>."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1500755953, "post_id": 45258128, "comment_id": 77481424, "body": "Have you tried <code>get_column</code> ? As in <code>$rs-&gt;get_column(&#39;name&#39;)</code>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500757900, "post_id": 45258128, "comment_id": 77482002, "body": "The <code>select</code> is for telling it what to select from the tables you&#39;re querying. But the <code>prefetch</code> is more of an addon that fetches related rows from other tables, so you&#39;ll have a single multi-join query instead of later doing multiple individual queries. You cannot ask it to only prefetch a few cols. I <i>think</i> you can tell it to do get only th <code>User.name</code> if you build the join yourself with <code>join</code> instead of <code>prefetch</code>."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1500758300, "post_id": 45258128, "comment_id": 77482107, "body": "@bytepusher: How that should help?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500758886, "post_id": 45258128, "comment_id": 77482244, "body": "@simbabque: &gt;<code>prefetch</code> attribute is a shorthand for specifying a <code>join</code> spec, adding all columns from the joined related sources as <code>+columns</code> and setting <code>collapse</code> to a true value. Also from the DOC: <code>columns</code> replaces <code>+columns</code>. I tend to conside this as a bug. What do you think?"}], "answers": [{"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1500810727, "last_edit_date": 1500810727, "creation_date": 1500810077, "answer_id": 45264653, "question_id": 45258128, "link": "https://stackoverflow.com/questions/45258128/why-select-does-not-replace-existing-columns/45264653#45264653", "title": "Why `select` does not replace existing columns?", "body": "<p>If I rewrite <code>prefetch</code> by join. This works fine:</p>\n\n<pre><code>$rs-&gt;search( undef, { \n    ,join =&gt; [ 'User' ]\n    ,collaplse =&gt; 1\n    ,'+columns' =&gt; [map\n        { +{ \"cds.$_\" =&gt; \"cds.$_\" } }\n        $c-&gt;db-&gt;source('Right')-&gt;related_source('User')-&gt;columns\n    ]\n})-&gt;search( undef, { select =&gt; [ 'User.name' ] } )\n\n$rs-&gt;as_query; # SELECT \"User\".\"name\" FROM \"users_roles\" \"me\"  JOIN \"users\" \"User\" ON \"User\".\"id\" = \"me\".\"user_id\"\n</code></pre>\n\n<p>So it seems there is a bug with <code>prefetch</code>. Because <code>join</code>+<code>collapse</code>+<code>+columns</code> is not same as <code>prefetch</code>:</p>\n\n<p><a href=\"http://search.cpan.org/~ribasushi/DBIx-Class-0.082840/lib/DBIx/Class/ResultSet.pm#prefetch\" rel=\"nofollow noreferrer\">DOC</a></p>\n\n<blockquote>\n  <p>This attribute is a shorthand for specifying a \"join\" spec, adding all columns from the joined related sources as \"+columns\" and setting \"collapse\" to a true value.</p>\n</blockquote>\n\n<p>Also docs states: </p>\n\n<blockquote>\n  <p>For example, the following two queries are equivalent</p>\n</blockquote>\n\n<p>As you can see <code>join</code> and <code>prefetch</code> are <strong>not equivalent</strong></p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500810727, "creation_date": 1500749874, "question_id": 45258128, "link": "https://stackoverflow.com/questions/45258128/why-select-does-not-replace-existing-columns", "title": "Why `select` does not replace existing columns?", "body": "<p><a href=\"https://metacpan.org/pod/DBIx::Class::ResultSet#select\" rel=\"nofollow noreferrer\">DOC</a> for <code>select</code> attribute:</p>\n\n<blockquote>\n  <p>select indicates which columns should be selected from the storage</p>\n</blockquote>\n\n<p>This works as expected:</p>\n\n<pre><code>$rs-&gt;search( undef, { select =&gt; [ 'me.id', 'me.user_id' ] } )\n   -&gt;search( undef, { select =&gt; [ 'me.role_id' ] } )\n\n$rs-&gt;as_query; # SELECT \"me\".\"role_id\" FROM \"users_roles\" \"me\"\n</code></pre>\n\n<p>But this does not:</p>\n\n<pre><code>$rs-&gt;search( undef, { prefetch =&gt; [ 'User' ] } )\n   -&gt;search( undef, { select =&gt; [ 'User.name' ] } )\n\n$rs-&gt;as_query; # SELECT \"User\".\"name\", \"User\".\"id\", \"User\".\"email\", \"User\".\"name\" FROM \"users_roles\" \"me\"  JOIN \"users\" \"User\" ON \"User\".\"id\" = \"me\".\"user_id\"\n</code></pre>\n\n<p>The <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSet#prefetch\" rel=\"nofollow noreferrer\"><code>prefetch</code></a> implies <code>+columns</code> ( which is: <code>+select</code> and <code>+as</code> ).<br>\nI alter <code>select</code> in second <code>search</code> by requesting only one column: <code>name</code></p>\n\n<p>What did I miss?<br>\nWhy I still get columns <code>name</code>, <code>id</code>, <code>email</code>, <code>name</code> instead of only one <code>name</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1500737499, "post_id": 45255706, "comment_id": 77476087, "body": "<code>foreach my $array_ref ( @stash ) { push @$array_ref, &quot;new_column&quot; }</code>"}, {"owner": {"reputation": 295, "user_id": 4114453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e8d81cdda00ea27de65abb457245e7f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ga Mmeeu", "link": "https://stackoverflow.com/users/4114453/ga-mmeeu"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1500739833, "post_id": 45255706, "comment_id": 77476779, "body": "Thanks works splendidly!!"}], "answers": [{"comments": [{"owner": {"reputation": 295, "user_id": 4114453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e8d81cdda00ea27de65abb457245e7f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ga Mmeeu", "link": "https://stackoverflow.com/users/4114453/ga-mmeeu"}, "edited": false, "score": 0, "creation_date": 1501608510, "post_id": 45257022, "comment_id": 77849242, "body": "Thanks for this!  I am still struggling with prepending a column to <code>@stash</code>.  For instance, I generate a numbering column:"}, {"owner": {"reputation": 295, "user_id": 4114453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e8d81cdda00ea27de65abb457245e7f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ga Mmeeu", "link": "https://stackoverflow.com/users/4114453/ga-mmeeu"}, "edited": false, "score": 0, "creation_date": 1501608528, "post_id": 45257022, "comment_id": 77849248, "body": "<code>if (@stash) { \tfor $i (1..$rowsDiv){ \t\tmy $n=$i-1; \t\t$Div[$n]=$i; \t} }</code>"}, {"owner": {"reputation": 295, "user_id": 4114453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e8d81cdda00ea27de65abb457245e7f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ga Mmeeu", "link": "https://stackoverflow.com/users/4114453/ga-mmeeu"}, "edited": false, "score": 0, "creation_date": 1501608567, "post_id": 45257022, "comment_id": 77849271, "body": "With the following as expected result:"}, {"owner": {"reputation": 295, "user_id": 4114453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e8d81cdda00ea27de65abb457245e7f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ga Mmeeu", "link": "https://stackoverflow.com/users/4114453/ga-mmeeu"}, "edited": false, "score": 0, "creation_date": 1501608591, "post_id": 45257022, "comment_id": 77849285, "body": "<code>bash-3.2$ .&#47;test.pl 1 2014 2 1 15 2 2015 2 1 15 3 2016 2 1 15 4 2017 1 0.5 7.5 bash-3.2$</code>"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1500742320, "creation_date": 1500742320, "answer_id": 45257022, "question_id": 45255706, "link": "https://stackoverflow.com/questions/45255706/perl-add-column-to-an-array/45257022#45257022", "title": "Perl add column to an array", "body": "<p>What you seem to have is an array of references to anonymous arrays, to which you are referring using matrix terminology where columns refer to elements of those anonymous arrays, and rows are the anonymous arrays themselves.</p>\n\n<p>Adding a column therefore involves manipulating each of those arrays in terms of prepending, inserting, or appending another entry in the right spot. <a href=\"https://perldoc.perl.org/functions/splice.html\" rel=\"nofollow noreferrer\">splice</a> is helpful for that kind of thing.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Test::More;\n\nmy $x = [ [1], [2] ]; # Two rows, single column\n\nmy @tests = (\n    [ sub { push_column($x, 3) },    [     [1,3], [2,3]     ] ],\n    [ sub { unshift_column($x, 4) }, [   [4,1,3], [4,2,3]   ] ],\n    [ sub { add_column($x, 5, 1) },  [ [4,5,1,3], [4,5,2,3] ] ],\n);\n\nfor my $case ( @tests ) {\n    $case-&gt;[0]-&gt;();\n    is_deeply $x, $case-&gt;[1];\n}\n\nsub add_column {\n    my ($matrix, $v, $col) = @_;\n    for my $r ( @$matrix ) {\n        splice @$r, $col, 0, $v;\n    }\n    return;\n}\n\nsub push_column {\n    add_column(@_, scalar @{ $x-&gt;[0] });\n    return;\n}\n\nsub unshift_column {\n    add_column(@_, 0);\n    return;\n}\n\n\ndone_testing;\n</code></pre>\n"}], "owner": {"reputation": 295, "user_id": 4114453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e8d81cdda00ea27de65abb457245e7f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ga Mmeeu", "link": "https://stackoverflow.com/users/4114453/ga-mmeeu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 659, "favorite_count": 1, "accepted_answer_id": 45257022, "answer_count": 1, "score": 0, "last_activity_date": 1500742320, "creation_date": 1500734178, "question_id": 45255706, "link": "https://stackoverflow.com/questions/45255706/perl-add-column-to-an-array", "title": "Perl add column to an array", "body": "<p>The following array is the result of a database query, and I would like to add a column in Perl:</p>\n\n<pre><code>&lt;snip&gt;\nforeach my $array_ref ( @stash ) {\n    print \"@$array_ref\\n\";\n}\n&lt;snip&gt;\n</code></pre>\n\n<p>Output result:</p>\n\n<pre><code>bash-3.2$ ./test.pl\n2014 2 1\n2015 2 1\n2016 2 1\n2017 1 0.5\nbash-3.2$\n</code></pre>\n\n<p>I manage to add a row at the bottom.  For instance via the following code:</p>\n\n<pre><code>my @stashSum = ['Sum',  $sumNumDiv, $sumDiv];\npush (@stash, @stashSum);\n</code></pre>\n\n<p>This results in the following:</p>\n\n<pre><code>bash-3.2$ ./test.pl\n2014 2 1\n2015 2 1\n2016 2 1\n2017 1 0.5\nSum  7 3.5\nbash-3.2$\n</code></pre>\n\n<p>I am searching for the code to add the following as a column to the original array:</p>\n\n<pre><code>my $i=0;\nforeach my $array_ref ( @stash ) {\n    $totalDiv[$i] = $array_ref-&gt;[2] * 15;\n    print \"$totalDiv[$i] \\n\";   \n}\n</code></pre>\n\n<p>The expected result is the following:</p>\n\n<pre><code>bash-3.2$ ./test.pl\n2014 2 1 15\n2015 2 1 15\n2016 2 1 15\n2017 1 0.5 7.5\nbash-3.2$\n</code></pre>\n\n<p>Is there a way to 'push' a column onto an array in a similar manner as rows?  If not, how are columns added to an array in Perl?</p>\n"}, {"tags": ["python", "algorithm", "perl", "fuzzy-search"], "comments": [{"owner": {"reputation": 1474, "user_id": 8006605, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/de0a446fd9ab1b7f5ad7407ebab7a074?s=128&d=identicon&r=PG&f=1", "display_name": "MishaVacic", "link": "https://stackoverflow.com/users/8006605/mishavacic"}, "edited": false, "score": 4, "creation_date": 1500727595, "post_id": 45254702, "comment_id": 77473331, "body": "Are you taling about Levenstein,check here <a href=\"https://en.wikibooks.org/wiki/Algorithm_Implementation/Strings/Levenshtein_distance#Python\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/Algorithm_Implementation/Strings/&hellip;</a>"}, {"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 0, "creation_date": 1500728287, "post_id": 45254702, "comment_id": 77473526, "body": "Stack overflow is not a code writing service."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 4, "creation_date": 1500734364, "post_id": 45254702, "comment_id": 77475208, "body": "Again the down-voting &quot;machine&quot;. The OP doesn&#39;t asks for code - so, @ppperry &#39;s comment is misplaced. Question about the &quot;alogrithms&quot; are allowed here as it clearly fit into the scope. Guys, really, pls think before downvoting. Questions <b>without code</b> are OK if otherwise fits the scope."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 4, "last_activity_date": 1500736254, "last_edit_date": 1500736254, "creation_date": 1500732668, "answer_id": 45255499, "question_id": 45254702, "link": "https://stackoverflow.com/questions/45254702/edit-distance-ignore-start-end/45255499#45255499", "title": "Edit distance: Ignore start/end", "body": "<p>The code to do this is simple in concept. It's your idea of what you'd like to ignore that you can add on your own:</p>\n\n<pre><code>#!perl\nuse v5.22;\nuse feature qw(signatures);\nno warnings qw(experimental::signatures);\n\nuse Text::Levenshtein qw(distance);\n\nsay edit( \"four\", \"foor\" );\nsay edit( \"four\", \"noise fo or blur\" );\n\nsub edit ( $start, $target ) {\n    # transform strings to ignore what you want\n    # ...\n    distance( $start, $target )\n    }\n</code></pre>\n\n<p>Maybe you want to check all substrings of the same length:</p>\n\n<pre><code>use v5.22;\nuse feature qw(signatures);\nno warnings qw(experimental::signatures);\n\nuse Text::Levenshtein qw(distance);\n\nsay edit( \"four\", \"foar\" );\nsay edit( \"four\", \"noise fo or blur\" );\n\nsub edit ( $start, $target ) {\n    my $start_length = length $start;\n    $target =~ s/\\s+//g;\n    my @all_n_chars = map {\n        substr $target, $_, 4\n        } 0 .. ( length($target) - $start_length );\n\n    my $closest;\n    my $closest_distance = $start_length + 1;\n    foreach ( @all_n_chars ) {\n        my $distance = distance( $start, $_ );\n        if( $distance &lt; $closest_distance ) {\n            $closest = $_;\n            $closest_distance = $distance;\n            say \"closest: $closest Distance: $distance\";\n            last if $distance == 0;\n            }\n        }\n\n    return $closest_distance;\n    }\n</code></pre>\n\n<p>This very simpleminded implementation finds what you want. However, realize that other random strings might accidentally have an edit distance that is lower.</p>\n\n<pre><code>closest: foar Distance: 1\n1\nclosest: nois Distance: 3\nclosest: foor Distance: 1\n1\n</code></pre>\n\n<p>You could extend this to remember the true starting positions of each string so you can find it again in the original, but this should be enough to send you on your way. If you wanted to use Python, I think the program might look very similar.</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 4, "last_activity_date": 1500856632, "last_edit_date": 1500856632, "creation_date": 1500736212, "answer_id": 45256043, "question_id": 45254702, "link": "https://stackoverflow.com/questions/45254702/edit-distance-ignore-start-end/45256043#45256043", "title": "Edit distance: Ignore start/end", "body": "<p>Here's a Perl 6 solution. I use a grammar that knows how to grab four interesting characters despite interstitial stuff. More complex requirements require a different grammar, but that's not so hard. </p>\n\n<p>Each time there's a match, the NString::Actions class object gets a change to inspect the match. It does the same high-water mark thing I was doing before. This looks like a bunch more work, and it is for this trivial example. For more complex examples, it's not going to be that much worse. My Perl 5 version would have to do a lot of tooling to figure out what to keep or not keep.</p>\n\n<pre><code>use Text::Levenshtein;\n\nmy $string = 'The quixotic purple and jasmine butterfly flew over the quick zany dog';\n\ngrammar NString {\n    regex n-chars      { [&lt;.ignore-chars&gt;* \\w]**4 }\n    regex ignore-chars { \\s }\n    }\n\nclass NString::Actions {\n    # See \n    my subset IntInf where Int:D | Inf;\n\n    has        $.target;\n    has Str    $.closest          is rw = '';\n    has IntInf $.closest-distance is rw = Inf;\n\n    method n-chars ($/) {\n        my $string = $/.subst: /\\s+/, '', :g;\n\n        my $distance = distance( $string,  self.target );\n        # say \"Matched &lt;$/&gt;. Distance for $string is $distance\";\n        if $distance &lt; self.closest-distance {\n            self.closest = $string;\n            self.closest-distance = $distance;\n            }\n        }\n    }\n\nmy $action =  NString::Actions.new: target =&gt; 'Perl';\n\nloop {\n    state $from = 0;\n    my $match = NString.subparse(\n        $string,\n        :rule('n-chars'),\n        :actions($action),\n        :c($from)\n        );\n    last unless ?$match;\n\n    $from++;\n    }\n\nsay \"Shortest is { $action.closest } with { $action.closest-distance }\";\n</code></pre>\n\n<hr/>\n\n<p><em>(I did a straight port from Perl 5, which I'll leave here)</em></p>\n\n<p>I tried the same thing in Perl 6, but I'm sure that this is a bit verbose. I was wondering if there's a clever way to grab groups of N chars to compare. Maybe I'll have some improvement later.</p>\n\n<pre><code>use Text::Levenshtein;\n\nput edit( \"four\", \"foar\" );\nput edit( \"four\", \"noise fo or blur\" );\n\nsub edit ( Str:D $start, Str:D $target --&gt; Int:D ) {\n    my $target-modified = $target.subst: rx/\\s+/, '',  :g;\n\n    my $last-position-to-check = [-] map { .chars }, $target-modified, $start;\n\n    my $closest = Any;\n    my $closest-distance = $start.chars + 1;\n    for 0..$last-position-to-check -&gt; $starting-pos {\n        my $substr = $target-modified.substr: $starting-pos, $start.chars;\n        my $this-distance = distance( $start, $substr );\n        put \"So far: $substr -&gt; $this-distance\";\n        if $this-distance &lt; $closest-distance {\n            $closest          = $substr;\n            $closest-distance = $this-distance;\n            }\n        last if $this-distance = 0;\n        }\n\n    return $closest-distance // -1;\n    }\n</code></pre>\n"}], "owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "closed_date": 1500746329, "accepted_answer_id": 45255499, "answer_count": 2, "score": -2, "last_activity_date": 1500856632, "creation_date": 1500727382, "question_id": 45254702, "link": "https://stackoverflow.com/questions/45254702/edit-distance-ignore-start-end", "closed_reason": "Not suitable for this site", "title": "Edit distance: Ignore start/end", "body": "<p>I am looking for an algorithm that does edit distance, but which will ignore start+end in the one string and white space:</p>\n\n<pre><code>edit(\"four\",\"foor\") = 1\nedit(\"four\",\"noise fo or blur\") = 1\n</code></pre>\n\n<p>Is there an existing algorithm for that? Maybe even a Perl or a Python Library?</p>\n"}, {"tags": ["perl", "macos-sierra", "perlbrew"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500720653, "post_id": 45252235, "comment_id": 77471386, "body": "Does it execute the .bash_profile at all?"}, {"owner": {"reputation": 83, "user_id": 7540078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/970f1b49970ba14f5b4184978a4e0a32?s=128&d=identicon&r=PG&f=1", "display_name": "Daniele", "link": "https://stackoverflow.com/users/7540078/daniele"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500726869, "post_id": 45252235, "comment_id": 77473133, "body": "I guess it DOES, since there are no reported error messages at shell login"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500739852, "post_id": 45252235, "comment_id": 77476786, "body": "Please test this for me: Enter <code>bash -l</code> and try again. (That&#39;s a lowercase &quot;L&quot;)"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 7540078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/970f1b49970ba14f5b4184978a4e0a32?s=128&d=identicon&r=PG&f=1", "display_name": "Daniele", "link": "https://stackoverflow.com/users/7540078/daniele"}, "is_accepted": false, "score": 0, "last_activity_date": 1500907705, "creation_date": 1500907705, "answer_id": 45283648, "question_id": 45252235, "link": "https://stackoverflow.com/questions/45252235/default-perl-vs-perlbrew-version-on-macos-sierra-10-12-4/45283648#45283648", "title": "Default Perl vs. perlbrew version on macOS Sierra 10.12.4", "body": "<p>Ok, after googling and struggling, I got to a solution at last.\nI started all it over again from Perlbrew documentation, and I did:</p>\n\n<ol>\n<li><code>perlbrew init</code></li>\n<li>Next, from what it replied to me,\nI added </li>\n</ol>\n\n<p><code>source ~/perl5/perlbrew/etc/bashrc</code></p>\n\n<p>to my .bash_profile file.</p>\n\n<p>Now, at last, every new shell opens with desired perlbrew switched perl version.</p>\n\n<p>Thank you all, hope this can be useful.</p>\n"}], "owner": {"reputation": 83, "user_id": 7540078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/970f1b49970ba14f5b4184978a4e0a32?s=128&d=identicon&r=PG&f=1", "display_name": "Daniele", "link": "https://stackoverflow.com/users/7540078/daniele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 426, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1500907705, "creation_date": 1500710887, "question_id": 45252235, "link": "https://stackoverflow.com/questions/45252235/default-perl-vs-perlbrew-version-on-macos-sierra-10-12-4", "title": "Default Perl vs. perlbrew version on macOS Sierra 10.12.4", "body": "<p>I'm tryng to instruct my system to permanently use perlbrew version of perl in my shells as per perlbrew documentation with:  </p>\n\n<pre><code>perlbrew switch perl-5.26.0\n</code></pre>\n\n<p>which should use ~/perl5/perlbrew/perls/perl-5.26.0/bin/perl in every new open shell.\nBut when I close and reopen iTerm2 and ask</p>\n\n<pre><code>perl -v\n</code></pre>\n\n<p>the answer is </p>\n\n<p><em>This is perl 5, version 24, subversion 1 (v5.24.1) built for darwin-thread-multi-2level</em></p>\n\n<p>which is system perl, in the path \n/usr/local/Cellar/perl/5.24.1/bin/perl</p>\n\n<p>No chances to swith to different perl release other than current shell.</p>\n\n<p>I have in my .bash_profile:\nsource ~/perl5/perlbrew/etc/bashrc</p>\n\n<p>as per perlbrew instructions</p>\n\n<p>What am I missing to have permanently perl switched to desired version?</p>\n\n<p>Thank you  </p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1500678330, "post_id": 45247863, "comment_id": 77461852, "body": "How is <code>$keys</code> related to your <code>$VAR1</code> example ?"}, {"owner": {"reputation": 180, "user_id": 199823, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/157ed4431cd8ae20f248aa9f6aa4d1ed?s=128&d=identicon&r=PG", "display_name": "Kris1511", "link": "https://stackoverflow.com/users/199823/kris1511"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1500679082, "post_id": 45247863, "comment_id": 77462017, "body": "my @keys = $db_obj-&gt;SelectAllArrayRef($sql); print Dumper @keys;      Result from Dumper is $VAR1 = [ [ &#39;8853&#39; ], [ &#39;15141&#39; ] ];"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1500679906, "post_id": 45247863, "comment_id": 77462214, "body": "You would capture an array reference as <code>my ($aref) = $db_obj-&gt;....</code>  In perl, <code>$keys</code> and <code>@keys</code> are different variables (!).  <code>$keys</code> is a scalar variable holding a value or a reference to something else.  <code>@keys</code> is an array.  See <code>perldoc perlref</code> for the gory details."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500793051, "post_id": 45247863, "comment_id": 77487980, "body": "Your code doesn&#39;t produce the output you claim it does because <code>@keys</code> isn&#39;t the same as <code>@$keys</code>."}], "answers": [{"comments": [{"owner": {"reputation": 180, "user_id": 199823, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/157ed4431cd8ae20f248aa9f6aa4d1ed?s=128&d=identicon&r=PG", "display_name": "Kris1511", "link": "https://stackoverflow.com/users/199823/kris1511"}, "edited": false, "score": 0, "creation_date": 1500679155, "post_id": 45247907, "comment_id": 77462034, "body": "Doesn&#39;t seem to be working ...:(  in the context... seems to work as script thought."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 180, "user_id": 199823, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/157ed4431cd8ae20f248aa9f6aa4d1ed?s=128&d=identicon&r=PG", "display_name": "Kris1511", "link": "https://stackoverflow.com/users/199823/kris1511"}, "edited": false, "score": 1, "creation_date": 1500699735, "post_id": 45247907, "comment_id": 77466432, "body": "@Kris1511  Then show us that context please.  Edit the question and show the code that sets this up.  Otherwise, your first two attempts are good (the last one would give what you show, two reference-stringifications)"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1500678099, "creation_date": 1500678099, "answer_id": 45247907, "question_id": 45247863, "link": "https://stackoverflow.com/questions/45247863/using-join-to-concatenate-array-values/45247907#45247907", "title": "Using join to concatenate array values", "body": "<p>The first version should work for you:</p>\n\n<pre><code>my $arr = [ [ '8853' ], [ '15141' ] ];\nmy $values = join(',', map { $_-&gt;[0] } @$arr);\nprint $values . \"\\n\";\n\n8853,15141\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1500793204, "last_edit_date": 1500793204, "creation_date": 1500792591, "answer_id": 45262321, "question_id": 45247863, "link": "https://stackoverflow.com/questions/45247863/using-join-to-concatenate-array-values/45262321#45262321", "title": "Using join to concatenate array values", "body": "<p>Don't pass arrays to <code>Dumper</code>; it leads to confusing output. <code>$VAR1</code> is not a dump of <code>@keys</code>, it's a dump of <code>$keys[0]</code>. Instead, you should have done</p>\n\n<pre><code>print(Dumper(\\@keys));\n</code></pre>\n\n<p>This would have given</p>\n\n<pre><code>$VAR1 = [ [ [ '8853' ], [ '15141' ] ] ];\n</code></pre>\n\n<p>The code you want is</p>\n\n<pre><code>join ',', map { $_-&gt;[0] }, @{ $keys[0] };\n</code></pre>\n\n<hr>\n\n<p>That said, it appears that <code>-&gt;SelectAllArrayRef</code> returns a reference to the result, and so it should be called as follows:</p>\n\n<pre><code>my $keys = $db_obj-&gt;SelectAllArrayRef($sql); \n</code></pre>\n\n<p>For this,</p>\n\n<pre><code>print(Dumper($keys));\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>$VAR1 = [ [ '8853' ], [ '15141' ] ];\n</code></pre>\n\n<p>And you may use either of the methods you used in your question.</p>\n\n<pre><code>join ',', map { $_-&gt;[0] }, @$keys;\n</code></pre>\n"}], "owner": {"reputation": 180, "user_id": 199823, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/157ed4431cd8ae20f248aa9f6aa4d1ed?s=128&d=identicon&r=PG", "display_name": "Kris1511", "link": "https://stackoverflow.com/users/199823/kris1511"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 45262321, "answer_count": 2, "score": 0, "last_activity_date": 1500793204, "creation_date": 1500677750, "last_edit_date": 1500793013, "question_id": 45247863, "link": "https://stackoverflow.com/questions/45247863/using-join-to-concatenate-array-values", "title": "Using join to concatenate array values", "body": "<p>I have array values that is getting returned from SQL object.</p>\n\n<pre><code>my @keys = $db_obj-&gt;SelectAllArrayRef($sql);\nprint Dumper @keys;\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>$VAR1 = [ [ '8853' ], [ '15141' ] ];\n</code></pre>\n\n<p>I need to create string from this array: <code>8853, 15141</code>.</p>\n\n<pre><code>my $inVal = join(',', map { $_-&gt;[0] }, @$keys);\n\nmy $inVal;\nforeach my $result (@$keys){\n    $inVal .= $result-&gt;[0];\n}\n\nmy $inVal = join(',', @$keys);\n</code></pre>\n\n<p>Value i get is <code>ARRAY(0x5265498),ARRAY(0x52654e0)</code>. I think its reference to the array.  Any idea what am I missing here?</p>\n"}, {"tags": ["perl", "fork"], "comments": [{"owner": {"reputation": 3593, "user_id": 5280543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea2c2b205d1c4b331bbc78720115121?s=128&d=identicon&r=PG", "display_name": "Michael Albers", "link": "https://stackoverflow.com/users/5280543/michael-albers"}, "edited": false, "score": 2, "creation_date": 1500676335, "post_id": 45247592, "comment_id": 77461324, "body": "Post a minimal, complete, verifiable example. Don&#39;t just link to your code."}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1500676981, "post_id": 45247592, "comment_id": 77461520, "body": "I don&#39;t see any threads in the code you&#39;ve posted."}, {"owner": {"reputation": 41, "user_id": 6179539, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-yRQMmiuJpqA/AAAAAAAAAAI/AAAAAAAAAts/zfRz9RhXlxk/photo.jpg?sz=128", "display_name": "Aliyar Attaran", "link": "https://stackoverflow.com/users/6179539/aliyar-attaran"}, "reply_to_user": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1500677136, "post_id": 45247592, "comment_id": 77461561, "body": "@duskwuff I added the thread part. This is the complete code: <a href=\"https://github.com/aliyah3/Multi-thread-with-Perl/blob/master/Times_hspice.perl\" rel=\"nofollow noreferrer\">github.com/aliyah3/Multi-thread-with-Perl/blob/master/&hellip;</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1500678878, "post_id": 45247592, "comment_id": 77461979, "body": "You are forking, not threading. There is a huge difference."}, {"owner": {"reputation": 41, "user_id": 6179539, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-yRQMmiuJpqA/AAAAAAAAAAI/AAAAAAAAAts/zfRz9RhXlxk/photo.jpg?sz=128", "display_name": "Aliyar Attaran", "link": "https://stackoverflow.com/users/6179539/aliyar-attaran"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500680113, "post_id": 45247592, "comment_id": 77462249, "body": "@simbabque Thanks. I revised the question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500691460, "post_id": 45247592, "comment_id": 77465079, "body": "Which is line 73 (&quot;<i>at monte_stat.pl line 73</i>&quot;) ?  It looks like your <code>hsplice</code> is crashing?  All errors seem to be related to that."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 4, "last_activity_date": 1532584226, "last_edit_date": 1532584226, "creation_date": 1500698078, "answer_id": 45250716, "question_id": 45247592, "link": "https://stackoverflow.com/questions/45247592/timing-out-a-forked-process/45250716#45250716", "title": "Timing out a forked process", "body": "<p>According to the errors it appears that your <code>hslice</code> is crashing.  But there are other issues.</p>\n\n<p>Here is first a working example as close as possible to your code.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse POSIX qw(:sys_wait_h);\n$| = 1;\n\nmy ($timeout, $duration, $sleep_time) = (5, 10, 1);\n\nmy $pid = fork // die \"Can't fork: $!\";\n\nif ($pid == 0)  \n{\n    exec \"echo JOB STARTS; sleep $duration; echo JOB DONE\";\n    die \"exec shouldn't return: $!\";\n}    \nsay \"Started $pid\";\nsleep 1;\n\nmy $tot_sec;    \nwhile (1) \n{\n    my $ret = waitpid $pid, WNOHANG;\n\n    if    ($ret &gt; 0) { say \"Child $ret exited with: $?\";  last; }\n    elsif ($ret &lt; 0) { say \"\\nNo such process ($ret)\";    last; }\n    else             { print \" . \" }\n\n    sleep $sleep_time;\n\n    if (($tot_sec += $sleep_time) &gt; $timeout) {\n        say \"\\nTimeout. Send 15 (SIGTERM) signal to the process.\";\n        kill 15, $pid;\n        last;\n    }   \n}\n</code></pre>\n\n<p>With <code>$duration</code> (of the job) set to <code>3</code>, shorter than <code>$timeout</code>, we get</p>\n\n<pre>\nStarted 16848\nJOB STARTS\n .  .  . JOB DONE\nChild (JOB) 16848 exited with: 0\n</pre>\n\n<p>while with <code>$duration</code> set to <code>10</code> we get</p>\n\n<pre>\nStarted 16550\nJOB STARTS\n .  .  .  .  .\nTimeout. Send 15 (SIGTERM) signal to the process.\n</pre>\n\n<p>and the job is killed (wait for 5 more seconds &ndash; the <code>JOB DONE</code> shouldn't show up).</p>\n\n<p>Comments on the code in the question</p>\n\n<ul>\n<li><p>If you <code>fork</code> only to run a job there is no reason for <code>system</code>. Just <a href=\"https://perldoc.perl.org/functions/exec.html\" rel=\"nofollow noreferrer\">exec</a> that program</p></li>\n<li><p>No need for <a href=\"https://perldoc.perl.org/functions/wait.html\" rel=\"nofollow noreferrer\">wait</a> after <code>system</code>, and it's wrong.  The <code>system</code> includes a wait</p></li>\n<li><p>The <code>wait</code> doesn't belong after <code>print</code> and <code>sleep</code>, and it's wrong</p></li>\n<li><p>No need to shell out for <code>killall</code> in order to kill a process</p></li>\n<li><p>If you end up using <code>system</code> the program will run in a new process with another PID. Then more is needed to find that PID and kill it. See <a href=\"http://search.cpan.org/~jwb/Proc-ProcessTable-0.53/ProcessTable.pm\" rel=\"nofollow noreferrer\">Proc::ProcessTable</a> and <a href=\"https://stackoverflow.com/a/43796534/4653379\">this post</a>, for example</p></li>\n<li><p>The code above needs checks of whether the process was indeed killed</p></li>\n</ul>\n\n<p>Substitute your command line instead of <code>echo ...</code> and add checks for it as needed.</p>\n\n<p>Another option is to simply sleep for a <code>$timeout</code> period and then check whether the job is done (child exited). However, with your approach you can do other things while polling. </p>\n\n<p>Another option is to use <a href=\"http://perldoc.perl.org/functions/alarm.html\" rel=\"nofollow noreferrer\">alarm</a>.</p>\n"}], "owner": {"reputation": 41, "user_id": 6179539, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-yRQMmiuJpqA/AAAAAAAAAAI/AAAAAAAAAts/zfRz9RhXlxk/photo.jpg?sz=128", "display_name": "Aliyar Attaran", "link": "https://stackoverflow.com/users/6179539/aliyar-attaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562740958, "creation_date": 1500676037, "last_edit_date": 1562740958, "question_id": 45247592, "link": "https://stackoverflow.com/questions/45247592/timing-out-a-forked-process", "title": "Timing out a forked process", "body": "<p>I am running a Monte carlo on Multiple processors, but it hangs up a lot. So I put together this perl code to kill the iteration that hangs up the monte carlo and go to the next iteration. But I get some errors, I have not figure out yet.\nI think it sleeps too long and it will delete the out.mt0 file before it will look for it.\nThis is the code:</p>\n\n<pre><code>my $pid = fork();\ndie \"Could not fork\\n\" if not defined $pid;\n\nif ($pid == 0) {\n    print \"In child\\n\";   \n    system(\"hspice -i mont_read.sp -o out -mt 4\"); wait;\n    sleep(.8); wait;\n    exit(0);\n}\n\nprint \"In parent \\n\";\n\n$i = 0;    \n$mont_number = $j - 1;\n\nout: while (1) {\n    $res = waitpid($pid, WNOHANG);    \n    if ($res == -1) {\n        print \"Successful Exit Process Detected\\n\";\n        system(\"mv out.mt0 mont_read.mt0\"); wait;\n        sleep(1); wait;\n        system(\"perl monte_stat.pl &gt; rel_out.txt\"); wait ;\n        system(\"cat stat_result.txt rel_out.txt &gt; stat_result.tmp\"); wait; \n        system(\"mv stat_result.tmp stat_result.txt\"); wait;\n        print \"\\nSim #$mont_number complete\\n\"; wait;\n        last out;    \n    }\n\n    if ($res != -1) {    \n        if ($i &gt;= $timeout) {\n            $hang_count = $hang_count+1;\n            system(\"killall hspice\"); wait;\n            sleep(1);\n            print(\"time_out complete\\n\"); wait;\n            print \"\\nSim #$mont_number complete\\n\"; wait;\n            last out; \n        }\n\n        if ($i &lt; $timeout) {\n            sleep $slept; wait;\n        }\n        $i = $i+1;\n    }\n}\n</code></pre>\n\n<p>This is the error:</p>\n\n<pre>\nIllegal division by zero at monte_stat.pl line 73,  line 2.\nmv: cannot stat `out.mt0': No such file or directory\nIllegal division by zero at monte_stat.pl line 73,  line 1.\nmv: cannot stat `out.mt0': No such file or directory\nIllegal division by zero at monte_stat.pl line 73,  line 1.\nmv: cannot stat `out.mt0': No such file or directory\nIllegal division by zero at monte_stat.pl line 73.\nmv: cannot stat `out.mt0': No such file or directory\nIllegal division by zero at monte_stat.pl line 73.\nmv: cannot stat `out.mt0': No such file or directory\nmv: cannot stat `out.mt0': No such file or directory\nmv: cannot stat `out.mt0': No such file or directory\nIllegal division by zero at monte_stat.pl line 73,  line 3.\nmv: cannot stat `out.mt0': No such file or directory\nIllegal division by zero at monte_stat.pl line 73,  line 1.\nmv: cannot stat `out.mt0': No such file or directory\n</pre>\n\n<p>Could anyone give me an idea where to look to debug it.\nthanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 4, "creation_date": 1500659232, "post_id": 45243616, "comment_id": 77453557, "body": "<code>stat</code> and <code>-s</code> are both file-related functions. They intentionally allow bareword filehandles. <code>ref</code> isn&#39;t particularly file-ish, so it doesn&#39;t. What are you trying to accomplish with <code>ref(DATA)</code>?"}, {"owner": {"reputation": 24752, "user_id": 351984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f3133cf8379692c9b8c52bbcb6438aae?s=128&d=identicon&r=PG", "display_name": "Paul Rubel", "link": "https://stackoverflow.com/users/351984/paul-rubel"}, "edited": false, "score": 0, "creation_date": 1500659334, "post_id": 45243616, "comment_id": 77453611, "body": "just trying to simplify the case where DATA  sometimes caused a compile error and sometimes didn&#39;t. the actual code ends up being my $tar=Archive::Tar-&gt;new(); $tar-&gt;read(DATA)   That gives the same error and * &quot;fixes&quot; it"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1500659841, "post_id": 45243616, "comment_id": 77453892, "body": "my $data_fh = \\*DATA; and use only scalar filehandle to avoid confusion."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1500662024, "post_id": 45243616, "comment_id": 77455103, "body": "The way to use typeglobs is either as <code>*FH</code> or <code>\\*FH</code> -- unless they are passed to things that specifically expect a filehandle (In which case <code>FH</code> is fine).  By all means switch to lexical filehandles, per    <a href=\"https://stackoverflow.com/users/223226/%D0%A1%D1%83%D1%85%D0%BE%D0%B927\">@\u0421\u0443\u0445\u043e\u043927</a>&#39;s comment"}, {"owner": {"reputation": 24752, "user_id": 351984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f3133cf8379692c9b8c52bbcb6438aae?s=128&d=identicon&r=PG", "display_name": "Paul Rubel", "link": "https://stackoverflow.com/users/351984/paul-rubel"}, "edited": false, "score": 1, "creation_date": 1500663996, "post_id": 45243616, "comment_id": 77456109, "body": "is there a lexical filehandle solution for DATA? Is that even a reasonable question?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 0, "creation_date": 1500664721, "post_id": 45243616, "comment_id": 77456477, "body": "Very reasonable question, I&#39;m hoping someone has an answer for it"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1500665025, "post_id": 45243616, "comment_id": 77456618, "body": "Well that&#39;s what @\u0421\u0443\u0445\u043e\u043927&#39;s comment shows -- that&#39;s one way to create a lexical (indirect) filehandle.  After that you can use <code>$data_fh</code> and you&#39;ll be working with <code>DATA</code>.  Note that you can&#39;t do it in a <code>BEGIN</code> block (as <code>DATA</code> has not been seen yet), but you can do it right at the program&#39;s start and then you have access to <code>DATA</code> via a &quot;normal&quot; variable."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500667305, "post_id": 45243616, "comment_id": 77457713, "body": "@zdim But you can do it in a <code>CHECK</code> block."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500667382, "post_id": 45243616, "comment_id": 77457752, "body": "@Sinan&#220;n&#252;r Ah, a good point! :)"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 4, "last_activity_date": 1500667016, "creation_date": 1500667016, "answer_id": 45245765, "question_id": 45243616, "link": "https://stackoverflow.com/questions/45243616/bareword-filehandles-bareword-data-not-allowed/45245765#45245765", "title": "BAREWORD filehandles: bareword &quot;DATA&quot; not allowed", "body": "<p>Others have explained what's going on. In contexts where <code>perl</code> expects a filehandle/fileglob, it is OK to use <code>DATA</code>. But, in a context, such as <code>ref(DATA)</code> where there is no <em>a priori</em> reason to assume that the argument is a file handle/glob, that does not work.</p>\n\n<blockquote>\n  <p>is there a lexical filehandle solution for <code>DATA</code>?</p>\n</blockquote>\n\n<p>I am not quite sure what you are after, but this might help:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n# You could use any variable name you like\nmy $DATA_FH;\n\nCHECK { $DATA_FH = \\*DATA }\n\nprint &lt;$DATA_FH&gt;\n\n__DATA__\nOne\n</code></pre>\n"}], "owner": {"reputation": 24752, "user_id": 351984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f3133cf8379692c9b8c52bbcb6438aae?s=128&d=identicon&r=PG", "display_name": "Paul Rubel", "link": "https://stackoverflow.com/users/351984/paul-rubel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 45245765, "answer_count": 1, "score": 0, "last_activity_date": 1500667016, "creation_date": 1500658613, "question_id": 45243616, "link": "https://stackoverflow.com/questions/45243616/bareword-filehandles-bareword-data-not-allowed", "title": "BAREWORD filehandles: bareword &quot;DATA&quot; not allowed", "body": "<p>I'm trying to read some tgz data from the <code>__END__</code> section of  a perl script. \nI'm running into problem with the filehandle, sometimes using it doesn't cause a problem and sometimes the script throws an error. </p>\n\n<p>Here's some example code, I know the data isn't tgz but it does show the problem.) </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $raw_time = (stat(DATA))[9];\nmy $size     = -s DATA;\nmy $kilosize = int($size / 1024) . 'k';\n\nprint \"&lt;P&gt;Script size is $kilosize at $raw_time\\n\";\n\n#print ref(DATA);    #UNCOMMENT TO SEE THE PROBLEM?\n\n__DATA__\nDO NOT REMOVE THE PRECEDING LINE.\nEverything else in this file will be ignored.\n</code></pre>\n\n<p>If I run this script I get</p>\n\n<pre><code>$ /tmp/data.pl \n&lt;P&gt;Script size is 0k at 1500655490\n</code></pre>\n\n<p>DATA seems OK to use. </p>\n\n<p>But, if I uncomment <code>print ref(DATA);</code> I get an error on that line:</p>\n\n<pre><code>Bareword \"DATA\" not allowed while \"strict subs\" in use at /tmp/data.pl line 12.\nExecution of /tmp/data.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Why isn't the use of DATA earlier also a problem?</p>\n\n<p>[pre-post update] If I change the line to be </p>\n\n<pre><code>print \"ref:\". ref(\\*DATA);\n</code></pre>\n\n<p>It doesn't throw the compile error. What's going on?</p>\n"}, {"tags": ["bash", "perl", "unix", "awk"], "answers": [{"tags": [], "owner": {"reputation": 109227, "user_id": 641955, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Hg2nO.jpg?s=128&g=1", "display_name": "janos", "link": "https://stackoverflow.com/users/641955/janos"}, "is_accepted": true, "score": 3, "last_activity_date": 1500659067, "creation_date": 1500659067, "answer_id": 45243735, "question_id": 45243570, "link": "https://stackoverflow.com/questions/45243570/print-the-line-with-maximum-value-in-one-column-for-the-same-entry-id-listed-in/45243735#45243735", "title": "Print the line with maximum value in one column for the same entry ID listed in another column", "body": "<p>You can do this using two maps: 1 to track the maximum values per field <code>$4</code>, and one to track the complete lines having the maximum values per field <code>$4</code>:</p>\n\n<pre><code>awk '$3 &gt; max[$4] { max[$4] = $3; m[$4] = $0 }\n     END { for (i in m) { print m[i] } }' file.txt\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>Col1 Col2 Col3 Col4 Col5\n123  456   22  NM01  +\n456  783   178 NM02  +\n</code></pre>\n\n<p>If you don't want the header line, you can add a <code>NR &gt; 1</code> condition.</p>\n"}], "owner": {"reputation": 65, "user_id": 8345845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10f919bb49e42ce2c082310fc4f6b70?s=128&d=identicon&r=PG&f=1", "display_name": "user210432", "link": "https://stackoverflow.com/users/8345845/user210432"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 45243735, "answer_count": 1, "score": 2, "last_activity_date": 1500661011, "creation_date": 1500658464, "last_edit_date": 1500661011, "question_id": 45243570, "link": "https://stackoverflow.com/questions/45243570/print-the-line-with-maximum-value-in-one-column-for-the-same-entry-id-listed-in", "title": "Print the line with maximum value in one column for the same entry ID listed in another column", "body": "<p>I have a tab separated file with 5 columns. I want to print the entire line when the value is maximum in column 3 for entries listed in column 4.\nExample input:   </p>\n\n<pre><code>Col1 Col2 Col3 Col4 Col5\n123  456   22  NM01  +  \n675  564   21  NM01  +  \n342  789   12  NM01  +  \n231  452   56  NM02  +  \n456  783   178 NM02  +\n</code></pre>\n\n<p>Expected outcome:  </p>\n\n<pre><code>123  456   22  NM01  +  \n456  783   178 NM02  +\n</code></pre>\n\n<p>Basically, print out the line when Col3 has the max value for entries in col4.</p>\n\n<p>I am trying to use unix commands. I am new to this and not able to find examples of how to look up the max value in col3 for each case of col4 (ex: NM01, NM02..)</p>\n"}, {"tags": ["string", "replace", "eval", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1500658291, "post_id": 45242641, "comment_id": 77453047, "body": "See also <a href=\"https://metacpan.org/pod/String::Escape\" rel=\"nofollow noreferrer\">String::Escape</a>"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1500658926, "post_id": 45242641, "comment_id": 77453380, "body": "This is very close to what I wanted, except... why is the good stuff never in the core?  (Well, except HTTP::Tiny.  It is in the core.  But it seems they don&#39;t want to admit it: <a href=\"http://perldoc.perl.org/index-modules-H.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/index-modules-H.html</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500655216, "post_id": 45242699, "comment_id": 77451466, "body": "Meh, not a core module, but possibly the right answer.  Thanks!"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500734329, "post_id": 45242699, "comment_id": 77475195, "body": "But JSON::PP is in core!!  Why is everything in core buried where no one can find it!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1500655159, "creation_date": 1500655159, "answer_id": 45242699, "question_id": 45242641, "link": "https://stackoverflow.com/questions/45242641/get-perl-to-process-backslash-escapes-in-string/45242699#45242699", "title": "get perl to process backslash escapes in string", "body": "<p>If it's JSON, then decode it with JSON.</p>\n\n<pre><code>use JSON;\nmy $str = '\"line 1\\n\\t line 2\"'; # from some JSON, or something\nmy $decoded = JSON::decode_json(\"[$str]\");\nsay $decoded-&gt;[0];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500659335, "post_id": 45242768, "comment_id": 77453613, "body": "That is some densely packed code!  (Well, maybe not, but I&#39;m new to Perl.)  Let me see if I can unpack this.  On the last iteration of the loop implied by the map, $_ is the string &quot;t&quot;, so  <code>&quot;qq{\\\\$_}&quot;</code> evaluates to <code>&#39;qq{\\t}&#39;</code>.  Then eval turns this into a one character string containing a tab.  So we have a hash mapping the letter t to a tab character.  So far so good.  Then we join our special chars with pipe characters.  Then we do some clever regex magic to finish things off.  EDIT COMMENT: I didn&#39;t notice you changed the code; makes more sense now.  Thanks!"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500667678, "post_id": 45242768, "comment_id": 77457897, "body": "Good idea.  Done :)"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1500656432, "last_edit_date": 1500656432, "creation_date": 1500655447, "answer_id": 45242768, "question_id": 45242641, "link": "https://stackoverflow.com/questions/45242641/get-perl-to-process-backslash-escapes-in-string/45242768#45242768", "title": "get perl to process backslash escapes in string", "body": "<p>@mob has the right recommendation. For the general problem:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %unescape = map +($_ =&gt; eval \"qq{\\\\$_}\"), qw(f n r t); # etc\nmy $special = join '|', keys %unescape;\nmy $str = '\"line 1\\n\\t line 2\"';\n\n$str =~ s{ \\\\ ($special) }{$unescape{$1}}xg;\n\nprint \"'$str\\n'\";\n</code></pre>\n"}], "owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "accepted_answer_id": 45242768, "answer_count": 2, "score": 1, "last_activity_date": 1500656432, "creation_date": 1500654894, "question_id": 45242641, "link": "https://stackoverflow.com/questions/45242641/get-perl-to-process-backslash-escapes-in-string", "title": "get perl to process backslash escapes in string", "body": "<p>Consider this code:</p>\n\n<pre><code>my $str = '\"line 1\\n\\t line 2\"'; # from some JSON, or something\nsay $str; # print literal backslashes, not what I want\nsay eval $str; # processes backslashes, but overkill\n</code></pre>\n\n<p>Is there a reasonably easy way to get the effect of the last line, but without using full-blown eval?  Even leaving aside the security implications (I mostly trust this string), this interpolates variables and stuff which I don't want.  This can be worked around by an extra preprocessing step where I manually escape dollar signs and such, but this still feels a bit too hacky, even for my tastes.</p>\n"}, {"tags": ["regex", "bash", "perl", "unicode"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1500652552, "post_id": 45241816, "comment_id": 77449925, "body": "Please provide the necessary data to demonstrate the problem. For example, reduce <code>_id</code> and <code>x_graph.dot</code> to one line each, then provide the output of <code>od -t x1 _id x_graph.dot</code>."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1500652577, "post_id": 45241816, "comment_id": 77449950, "body": "Unicode is a bit more complex than you seem to believe.  Putting aside considerations like normalization, if you replace the <code>-e</code> in the perl command line with <code>-E</code> then you&#39;ll at least enable the &quot;unicode strings&quot; feature in modern version of perl.  But that barely scratches the surface."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1500652611, "post_id": 45241816, "comment_id": 77449978, "body": "I suspect the problem is the use of <code>\\b</code> on encoded text"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1500653046, "post_id": 45241816, "comment_id": 77450269, "body": "I don&#39;t think <i>any</i> regex engine handles word boundary&#39;s correctly when it comes to Unicode. You&#39;d have to roll your own word boundary in that case."}, {"owner": {"reputation": 129, "user_id": 6515502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab74759033a146e02988b83c6834981?s=128&d=identicon&r=PG&f=1", "display_name": "xinit", "link": "https://stackoverflow.com/users/6515502/xinit"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500653277, "post_id": 45241816, "comment_id": 77450411, "body": "Thanks @ikegami it did require removing word boundary."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1500656101, "post_id": 45241816, "comment_id": 77451931, "body": "Don&#39;t fix an encoding problem by removing <code>\\b</code>!!! Now you have two problems."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 6515502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab74759033a146e02988b83c6834981?s=128&d=identicon&r=PG&f=1", "display_name": "xinit", "link": "https://stackoverflow.com/users/6515502/xinit"}, "edited": false, "score": 1, "creation_date": 1500653233, "post_id": 45242008, "comment_id": 77450385, "body": "Thank you! I also needed to remove <code>\\b</code> (word boundaries) to get it to work. Which is not really desirable as I would have linked to have it working with word boundaries."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500653237, "post_id": 45242008, "comment_id": 77450388, "body": "Since <code>$id</code> is a shell variable, not a perl variable, you can&#39;t enclose it in single quotes like that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500655287, "post_id": 45242008, "comment_id": 77451502, "body": "If you&#39;re going to remove the <code>\\b</code>, then you don&#39;t need to do any of those other changes!!!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1500655476, "last_edit_date": 1500655476, "creation_date": 1500652644, "answer_id": 45242008, "question_id": 45241816, "link": "https://stackoverflow.com/questions/45241816/perl-command-line-replace-for-unicode/45242008#45242008", "title": "Perl command line replace for unicode", "body": "<p>See <a href=\"https://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perldoc perlrun</a>:</p>\n\n<blockquote>\n  <h3><code>-C</code> [number/list]</h3>\n  \n  <p>The <code>-C</code> flag controls some of the Perl Unicode features:</p>\n\n<pre><code>I     1   STDIN is assumed to be in UTF-8\nO     2   STDOUT will be in UTF-8\nE     4   STDERR will be in UTF-8\nS     7   I + O + E\ni     8   UTF-8 is the default PerlIO layer for input streams\no    16   UTF-8 is the default PerlIO layer for output streams\nD    24   i + o\nA    32   the @ARGV elements are expected to be strings encoded\n          in UTF-8\n</code></pre>\n</blockquote>\n\n<p>So, at the very least, you'd want <code>perl -COi</code>, but <code>perl -CSD</code> looks tidier.</p>\n\n<p>In addition, you may want to use</p>\n\n<blockquote>\n  <p><code>u</code>  match according to Unicode rules</p>\n</blockquote>\n\n<p>with your <code>s///</code>. Or, write:</p>\n\n<p><code>perl -CSD -Mutf8 -Mfeature=unicode_strings -p -i -e \"s/\\b$id\\b/$x/g\" x_graph.dot</code></p>\n\n<p>Note the use of single quotation marks instead of double so as to avoid unintended interpolation.</p>\n"}, {"comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1500654668, "post_id": 45242298, "comment_id": 77451197, "body": "@sinan-&#220;n&#252;r Thank for the bugfix in explanations :-)"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 2, "last_activity_date": 1583499007, "last_edit_date": 1583499007, "creation_date": 1500653547, "answer_id": 45242298, "question_id": 45241816, "link": "https://stackoverflow.com/questions/45241816/perl-command-line-replace-for-unicode/45242298#45242298", "title": "Perl command line replace for unicode", "body": "<ol>\n<li><p>Add <code>-Mutf8</code>(equivalent of <a href=\"https://perldoc.perl.org/utf8.html\" rel=\"nofollow noreferrer\"><code>use utf8;</code></a>): This will enable UTF-8 in source code (<code>-e</code> one-liner in your case).</p></li>\n<li><p>Add <code>-CSDA</code>: This will make <code>perl</code> use UTF-8 as default layer for input and output streams.</p></li>\n</ol>\n\n<p>The following test produced desired result under <code>LANG=en_US.UTF-8</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>echo \"a \u00f3 b\" &gt; z.txt\nid=\u00f3\nx=\u0144\nperl -CD -Mutf8 -p -i -e \"s/\\b$id\\b/$x/g\" z.txt\ncat z.txt\n</code></pre>\n\n<p><a href=\"https://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\"><code>man perlrun</code></a></p>\n\n<blockquote>\n  <p>-C [number/list]<br>\n  The -C flag controls some of the Perl Unicode features.<br>\n  \u2026<br>\n  S  8 I + O + E  [ STDIN is assumed to be in UTF-8, STDOUT and STDERR will be in UTF-8]<br>\n  D 24 i + o [ UTF-8 is the default PerlIO layer for input and output streams]<br>\n  A 32 the @ARGV elements are expected to be strings encoded\n                in UTF-8</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1500739643, "last_edit_date": 1500739643, "creation_date": 1500655222, "answer_id": 45242718, "question_id": 45241816, "link": "https://stackoverflow.com/questions/45241816/perl-command-line-replace-for-unicode/45242718#45242718", "title": "Perl command line replace for unicode", "body": "<p>Let's say you have <code>\u00e9</code> (U+00E9) encoded using UTF-8: <code>C3 A9</code>. Since you don't do any decoding, you obtain the string that's produced by <code>\"\\xC3\\xA9\"</code>.</p>\n\n<p>Regular expressions &mdash;or rather <code>\\b</code>, <code>\\w</code>, <code>\\d</code>, etc&mdash; expect the input to be Unicode Code Points, which means you are effectively providing <a href=\"http://www.fileformat.info/info/unicode/char/00C3/index.htm\" rel=\"nofollow noreferrer\">U+00C3</a> and <a href=\"http://www.fileformat.info/info/unicode/char/00A9/index.htm\" rel=\"nofollow noreferrer\">U+00A9</a> instead of U+00E9. U+00C3 is a word character, but U+00A9 isn't, so the second <code>\\b</code> doesn't match where it's expected to match.</p>\n\n<p>So you need to decode your inputs and encode your outputs. <code>-C</code> provides a convenient way of doing that for UTF-8.</p>\n\n<pre><code>perl -i -CSDA -pe'\n   BEGIN {\n      ($id, $x) = splice(@ARGV, 0, 2);\n      die \"Bad id\" if $id !~ /^\\w(?:.*\\w)?\\z/s;\n   }\n\n   s/\\b\\Q$id\\E\\b/$x/g\n' \"$id\" \"$x\" x_graph.dot\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><p>By using command-line arguments to pass the arguments, I fixed an injection error.</p></li>\n<li><p>The use of <code>\\b</code> assumes that <code>$id</code> will always start with a <code>\\w</code> char and always end with a <code>\\w</code> char, so I added a check to verify that assumption.</p></li>\n<li><p>By using <code>\\Q..\\E</code> to convert the id into a regex pattern, I fixed an injection error.</p></li>\n</ul>\n\n<hr>\n\n<p>Test:</p>\n\n<pre><code>$ printf \"\u00e9\\n\" &gt;_id\n\n$ printf \"[\u00e9]\\n\" &gt;x_graph.dot\n\n$ x=0\n\n$ id=`cat _id`\n\n$ perl -i -CSDA -pe'\n   BEGIN {\n      ($id, $x) = splice(@ARGV, 0, 2);\n      die \"Bad id\" if $id !~ /^\\w(?:.*\\w)?\\z/s;\n   }\n\n   s/\\b\\Q$id\\E\\b/$x/g\n' \"$id\" \"$x\" x_graph.dot\n\n$ cat x_graph.dot\n[0]\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6515502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab74759033a146e02988b83c6834981?s=128&d=identicon&r=PG&f=1", "display_name": "xinit", "link": "https://stackoverflow.com/users/6515502/xinit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 45242718, "answer_count": 3, "score": 4, "last_activity_date": 1583499007, "creation_date": 1500652083, "question_id": 45241816, "link": "https://stackoverflow.com/questions/45241816/perl-command-line-replace-for-unicode", "title": "Perl command line replace for unicode", "body": "<p>I am trying to replace every word (stored in a tmp file called <code>_id</code>) with a number using shell script. It works fine except for unicode words, for which a number is generated but replacement using Perl does not work. The bash code under question is as below:</p>\n\n<pre><code>x=0\nfor id in `cat _id`; do\n    echo $x $id\n    perl -p -i -e \"s/\\b$id\\b/$x/g\" x_graph.dot\n    x=$(($x + 1))\ndone \n</code></pre>\n\n<p>Can someone please point out to where the bug is?</p>\n"}, {"tags": ["perl", "hash", "reference", "config"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500647208, "post_id": 45239695, "comment_id": 77446413, "body": "Without trying this, I see that there&#39;s a <code>tie</code>. If you alter the reference to the tied hash that comes out of the Config::IniFiles thing in a way that removes keys on the upper level, you probably break whatever black magic is involved in there. This will likely confuse the hell out of the IniFIles thing that tries to put those things back into the file."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500706816, "post_id": 45239695, "comment_id": 77467810, "body": "@simbabque Ah. I wrongly assumed that everything Dumper shows me is the only thing that is going on with the object. I thought that if it were some special IniFiles object, it would be visible in the <i>dump</i> of the ref."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1500720512, "post_id": 45239695, "comment_id": 77471329, "body": "Data::Printer will show that. It does a lot more introspection. Data::Dumper is a serializer, not a debugging tool. Its purpose is to have a reader/writer for machine-readable data structures. It creates the exact textual Perl representation of data structures without compression or encoding. That means you can <code>eval</code> them to put them back in. Since it&#39;s included with Perl it&#39;s the go-to thing for simple debugging. Data::Dump is more concise, but Data::Printer is the real thing for human consumption. Colors, sorting, object introspection."}], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1500707051, "post_id": 45240184, "comment_id": 77467873, "body": "Ah that makes sense. At first I thought of this indeed, but I assumed that Dumper would show me if something specific was going on. Could you add an example how I can copy %ini to a none Config::IniFiles object? I assume that if I simply do <code>my %new = %ini</code> I still get the same issue?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1500714174, "post_id": 45240184, "comment_id": 77469625, "body": "@BramVanroy You don&#39;t want to do just a <code>my %new = %ini</code> though - you can just have your <code>_parse_ini</code> function store it into a different hash."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1500718744, "post_id": 45240184, "comment_id": 77470847, "body": "I understand that, buy my point is: because I don&#39;t want to change <i>every</i> key-valur pair in the hash (and thus some stay the same as they were), isn&#39;t it more logical to just copy the INI hash after tie-ing AS A HASH (without extra Config::IniFiles sugar), and then do the adjustments in parse_ini on that copy?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1500731309, "post_id": 45240184, "comment_id": 77474373, "body": "Or you could build the new hash by copying or modifying each key in <code>%ini</code> as required. For what it&#39;s worth, I believe you won&#39;t get anything except a pure hash if you copy it the way you&#39;ve described above."}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": true, "score": 2, "last_activity_date": 1500647197, "creation_date": 1500647197, "answer_id": 45240184, "question_id": 45239695, "link": "https://stackoverflow.com/questions/45239695/configinifiles-hash-behaves-different-than-manually-written-hash/45240184#45240184", "title": "Config::IniFiles hash behaves different than manually written hash", "body": "<p>The two hashes are not identical at all, although they may appear to be from the point of view of the data they contain.</p>\n\n<p>The first one is a regular hash. You can do whatever you like with it.</p>\n\n<p>The second one is a tied hash. It becomes an object of Config::IniFiles, but with a hash like interface. So whilst it appears to be a hash, the package can override the methods for storing or fetching information in the hash however it likes.</p>\n\n<p>In this particular case, it looks like Config::IniFiles will only store a new key value in the hash if the value is hash ref. So you can't flatten out the tied hash as you want. Instead you'll have to create a new hash and copy the data in to it to do what you want.</p>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 45240184, "answer_count": 1, "score": 1, "last_activity_date": 1500652308, "creation_date": 1500645676, "question_id": 45239695, "link": "https://stackoverflow.com/questions/45239695/configinifiles-hash-behaves-different-than-manually-written-hash", "title": "Config::IniFiles hash behaves different than manually written hash", "body": "<p>I am loading a config file, which ends up as an embedded hash, with <a href=\"http://search.cpan.org/~shlomif/Config-IniFiles-2.94/lib/Config/IniFiles.pm\" rel=\"nofollow noreferrer\">Config::IniFiles</a>. After that, I want to modify the resulting hash by, for some keys, bringing its values one level up. In the example below, I am aiming for this as a result:</p>\n\n<pre><code>$VAR1 = {\n          'max_childrensubtree' =&gt; '7',\n          'port' =&gt; '1984',\n          'user' =&gt; 'someuser',\n          'password' =&gt; 'somepw',\n          'max_width' =&gt; '20',\n          'host' =&gt; 'localhost',\n          'attrs' =&gt; {\n                       'subattr2' =&gt; 'cat',\n                       'topattr1' =&gt; 'cat',\n                       'subattr2_1' =&gt; 'pt',\n                       'subattr1' =&gt; 'rel'\n                     },\n          'max_descendants' =&gt; '1000'\n        };\n</code></pre>\n\n<p>So for the keys <code>params</code> and <code>basex</code> at the highest level, I want to move its contents (key-value pairs) to the highest level - and remove the items themselves. In short:</p>\n\n<pre><code>(\n  a =&gt; {\n    'key1' =&gt; 'ok',\n    'key2' =&gt; 'hello'\n  }\n)\n</code></pre>\n\n<p>turns into</p>\n\n<pre><code>(\n  'key1' =&gt; 'ok',\n  'key2' =&gt; 'hello'\n)\n</code></pre>\n\n<p>The strange thing is that what I am trying to do does <em>not</em> work on a hash built from a read INI file, but it does work with a manually inserted hash. In other words, this works:</p>\n\n<pre><code>#!/usr/bin/perl\nuse utf8;\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %ini = (\n        'params' =&gt; {\n                      'max_width' =&gt; '20',\n                      'max_childrensubtree' =&gt; '7',\n                      'max_descendants' =&gt; '1000'\n                    },\n        'attrs' =&gt; {\n                     'topattr1' =&gt; 'cat',\n                     'subattr1' =&gt; 'rel',\n                     'subattr2' =&gt; 'cat',\n                     'subattr2_1' =&gt; 'pt',\n                   },\n        'basex' =&gt; {\n                     'host' =&gt; 'localhost',\n                     'port' =&gt; '1984',\n                     'user' =&gt; 'someuser',\n                     'password' =&gt; 'somepw'\n                   }\n);\n\n&amp;_parse_ini(\\%ini);\n\nsub _parse_ini {\n  my $ref = shift;\n\n  foreach (('params', 'basex')) {\n    foreach my $k (keys %{$ref-&gt;{$_}}) {\n        $ref-&gt;{$k} = $ref-&gt;{$_}-&gt;{$k};\n    }\n    delete $ref-&gt;{$_};\n  }\n\n  print Dumper($ref);\n}\n</code></pre>\n\n<p>But this does not:</p>\n\n<pre><code>#!/usr/bin/perl\nuse utf8;\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\nuse Config::IniFiles;\n\n# Load config file\ntie my %ini, 'Config::IniFiles', (-file =&gt; $ARGV[0]);\n\n&amp;_parse_ini(\\%ini);\n\nsub _parse_ini {\n  my $ref = shift;\n\n  foreach (('params', 'basex')) {\n    foreach my $k (keys %{$ref-&gt;{$_}}) {\n        $ref-&gt;{$k} = $ref-&gt;{$_}-&gt;{$k};\n    }\n    delete $ref-&gt;{$_};\n  }\n\n  print Dumper($ref);\n}\n</code></pre>\n\n<p>The input ini file for this example would be:</p>\n\n<pre><code>[params]\nmax_width = 20\nmax_childrensubtree = 7\nmax_descendants = 1000\n\n[attrs]\ntopattr1 = cat\nsubattr1 = rel\nsubattr2 = cat\nsubattr2_1 = pt\n\n[basex]\nhost = localhost\nport = 1984\nuser = admin\npassword = admin\n</code></pre>\n\n<p>I have been looking in the documentation and on SO for similar issues but have found none. It appears that the hashes are identical (Config::IniFiles doesn't seem to add something specific), so I have no idea why it works for 'manual' hashes, and not for read-in ones.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1500642716, "post_id": 45238069, "comment_id": 77442998, "body": "Please read up on <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The code you posted has made the answerers waste effort. If you post code which can not be compiled/interpreted, then explicitly state so. This is however only adequate when your question is explicitly on the reason for being non-interpretable. For your question, your code should be runnable, even if it only almost does what you want. <code>use strict; use warnings;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500644729, "post_id": 45238423, "comment_id": 77444583, "body": "producing output that depends on hash ordering is almost never the right thing.  How about a version that sorts?"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1500642159, "creation_date": 1500642159, "answer_id": 45238423, "question_id": 45238069, "link": "https://stackoverflow.com/questions/45238069/output-values-from-hash-using-values-from-another-hash-perl/45238423#45238423", "title": "output values from hash using values from another hash perl", "body": "<p>First, hashes are declared with <code>()</code>, not <code>{}</code>. The latter denotes a hash <em>reference</em>.</p>\n\n<p>Now, what you can do is loop over the keys and values of <code>%hash1</code>, check if the value is in <code>%hash2</code> as a key, then print the required variables if the value does exist as a key:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy %hash1 = (\n   \"GOKIN_0_1\" =&gt; \"alpha\",\n   \"GOKIN_4_6\" =&gt; \"omega\",\n   \"GOKIN_4_9\" =&gt; \"blah\",\n);\n\nmy %hash2 = (\n   \"alpha\" =&gt; \"aaa\",\n   \"omega\" =&gt; \"bbb\",\n);\n\nwhile (my ($k, $v) = each %hash1){\n    if (exists $hash2{$v}){\n        print \"$k\\t$hash2{$v}\\n\";\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>GOKIN_4_6   bbb\nGOKIN_0_1   aaa\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500644283, "post_id": 45238428, "comment_id": 77444248, "body": "The OP wants to use the value from <code>%hash1</code> to check if it&#39;s a key in <code>%hash2</code>, and only print if that condition is met. You missed the filtering part."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500644864, "post_id": 45238428, "comment_id": 77444669, "body": "@stevieb the requirement for filtering is just one way of reading the question.  The other is that there will always be a match"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1500645120, "post_id": 45238428, "comment_id": 77444864, "body": "@ysth The question is a bit ambiguous in a couple of ways :)"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500645392, "post_id": 45238428, "comment_id": 77445072, "body": "Given their example code doesn&#39;t do filtering and their data has no non-matches, it&#39;s hard to say for certain if filtering is an actual requirement or not"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500661779, "post_id": 45238428, "comment_id": 77454974, "body": "producing output that depends on hash ordering is almost never the right thing. How about a version that sorts?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1500713991, "post_id": 45238428, "comment_id": 77469578, "body": "@ysth feel free to throw in your own answer if you think you know what the OP actually wants, but there is nothing in the question about having the output sorted"}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 0, "last_activity_date": 1500642175, "creation_date": 1500642175, "answer_id": 45238428, "question_id": 45238069, "link": "https://stackoverflow.com/questions/45238069/output-values-from-hash-using-values-from-another-hash-perl/45238428#45238428", "title": "output values from hash using values from another hash perl", "body": "<p>So first off, your two hashes are declared incorrectly. You've got braces where you want regular brackets. Turning on warnings with <code>use warnings;</code> should highlight that mistake. </p>\n\n<pre><code>my %hash1 = (\n   \"GOKIN_0_1\" =&gt; \"alpha\",\n   \"GOKIN_4_6\" =&gt; \"omega\",\n   );\n\nmy %hash2 = (\n   \"alpha\" =&gt; \"aaa\",\n   \"omega\" =&gt; \"bbb\",\n   );\n</code></pre>\n\n<p>Once you've got two hashes you can use the value from one - <code>$hash1{$k1}</code> - as the key to the second one like this to link the key <code>$k1</code> to the second hashes value.</p>\n\n<pre><code>for my $k1 (keys(%hash1)) {\n  print OUT \"$k1\\t$hash2{$hash1{$k1}}\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6614756, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/82WOq.jpg?s=128&g=1", "display_name": "Anicet Ebou", "link": "https://stackoverflow.com/users/6614756/anicet-ebou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1500642175, "creation_date": 1500641128, "last_edit_date": 1500641680, "question_id": 45238069, "link": "https://stackoverflow.com/questions/45238069/output-values-from-hash-using-values-from-another-hash-perl", "title": "output values from hash using values from another hash perl", "body": "<p>I have two hash: </p>\n\n<pre><code>my %hash1 = {\n   \"GOKIN_0_1\" =&gt; \"alpha\",\n   \"GOKIN_4_6\" =&gt; \"omega\",\n   ....\n}\n\nmy %hash2 = {\n   \"alpha\" =&gt; \"aaa\",\n   \"omega\" =&gt; \"bbb\",\n   ...\n</code></pre>\n\n<p>}</p>\n\n<p>What I want to do is, to print in a file lines a value of hash1 that match key of hash2 to have a file like that:</p>\n\n<pre><code>GOKIN_0_1    aaa  \nGOKIN_4_6    bbb\n....\n</code></pre>\n\n<p>Here is part my code to do that:</p>\n\n<pre><code> my $v1 = values %hash1;\n\n for my $k1 (keys(%hash1)) {\n     print OUT \"$v1\\t$hash2{$k1}\\n\";\n }\n</code></pre>\n\n<p>Thanks you so much.</p>\n"}, {"tags": ["perl", "parsing", "perl-module", "brackets"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 0, "creation_date": 1500638173, "post_id": 45236831, "comment_id": 77439635, "body": "<code>named.conf</code> doesn&#39;t normally start with a <code>{</code> so you need to match the initial non-brace-enclosed portion as a prefix."}], "answers": [{"comments": [{"owner": {"reputation": 40, "user_id": 8254232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3889b74d17e78f1389b0cbe4ce2fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Yakup", "link": "https://stackoverflow.com/users/8254232/yakup"}, "edited": false, "score": 0, "creation_date": 1503499142, "post_id": 45239871, "comment_id": 78643280, "body": "Although I originally asked specifically for use of Text::Balanced module, your way worked as well. Thank You"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": 0, "last_activity_date": 1500646246, "creation_date": 1500646246, "answer_id": 45239871, "question_id": 45236831, "link": "https://stackoverflow.com/questions/45236831/correct-usage-of-textbalanced-perl-module/45239871#45239871", "title": "Correct usage of Text::Balanced perl module", "body": "<p>In regex you can use this:</p>\n\n<pre><code>my $str = '\n&lt;statement-1&gt; [\"&lt;statement-1-name&gt;\"] [&lt;statement-1-class&gt;] {\n    { {&lt;option-1&gt;;}\n   &lt;option-2&gt;;}\n   &lt;option-N&gt;;\n};\n\n&lt;statement-2&gt; [\"&lt;statement-2-name&gt;\"] [&lt;statement-2-class&gt;] {\n   &lt;option-1&gt;;\n   &lt;option-2&gt;;\n   &lt;option-N&gt;;\n};\n\n&lt;statement-N&gt; [\"&lt;statement-N-name&gt;\"] [&lt;statement-N-class&gt;] {\n   &lt;option-1&gt;;\n   &lt;option-2&gt;;\n   &lt;option-N&gt;;\n};';\n\nprint \"L: $1\\n\" while($str=~m/\\{((?:[^{}]++|\\{(?1)\\})++)\\}/gs);\n</code></pre>\n"}], "owner": {"reputation": 40, "user_id": 8254232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3889b74d17e78f1389b0cbe4ce2fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Yakup", "link": "https://stackoverflow.com/users/8254232/yakup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 45239871, "answer_count": 1, "score": 1, "last_activity_date": 1500646246, "creation_date": 1500637477, "question_id": 45236831, "link": "https://stackoverflow.com/questions/45236831/correct-usage-of-textbalanced-perl-module", "title": "Correct usage of Text::Balanced perl module", "body": "<p>I'm trying to use the Text::Balanced perl module for the purpose of extracting the text enclosed in the curly brackets. In this particular case the input is a <code>bind</code> configuration file <code>/etc/named.conf</code>, but I'm looking for general use.\nThe problem is, that the I'm getting <code>undef</code> result and as a consequence an uninitialized value error.</p>\n\n<p>Here is my code ( it's just a stump now, not dealing with recursion and other stuff yet):</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse diagnostics;\n\nuse Text::Balanced qw (\n                       extract_bracketed\n                      ) ;\n\n\nmy $config = '/etc/named.conf';\n\nopen my $fh, '&lt;', $config or die \"Cannot open $config: $!\";\n$/ = undef;\nmy $text = &lt;$fh&gt;;\nclose $fh;\n\nmy $content = extract_bracketed( $text, '{}' );\nprint $content ;\n</code></pre>\n\n<p>I have read <a href=\"http://perldoc.perl.org/Text/Balanced.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/Text/Balanced.html</a> and cannot figure out, what am I doing wrong ( I use scalar variable instead of array, but this shouldn't be a problem )</p>\n\n<p>Also there is a similar issue here <a href=\"https://stackoverflow.com/questions/7166423/textbalanced-and-multiline-xml\">Text::Balanced and multiline xml</a>, but it gets answered in the way that does not fit my use case ( specific solution for .xml parsing)</p>\n\n<p>Please advise</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "backend", "dancer"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500638321, "post_id": 45236647, "comment_id": 77439735, "body": "I think you&#39;ll need to show us the code which is populating <code>@myArray</code>. As an aside, <code>@myArray = [&quot;&quot;]</code> doesn&#39;t do what you think it is doing. You probably want <code>@myArray = ()</code> instead."}, {"owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500656606, "post_id": 45236647, "comment_id": 77452180, "body": "Yep, you&#39;re right. I initialize the array using <code>(&quot;&quot;)</code> since I want it to cointain a <code>&quot;&quot;</code> as first element. Thanks for catching the mistake @DaveCross"}], "answers": [{"comments": [{"owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "edited": false, "score": 0, "creation_date": 1500656758, "post_id": 45237237, "comment_id": 77452279, "body": "Again, you&#39;re right. I reproduced the example using <code>localtime()</code> and it works as expected. I can&#39;t share the actual code by privacy reasons, but there are not much more than what I posted."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "edited": false, "score": 0, "creation_date": 1500657095, "post_id": 45237237, "comment_id": 77452458, "body": "If you can&#39;t show the code that populates the array, then I don&#39;t think we can be any more help to you."}, {"owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "edited": false, "score": 0, "creation_date": 1501098722, "post_id": 45237237, "comment_id": 77634402, "body": "Finally I found my problem. You can check it on the accepted answer."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1500638736, "creation_date": 1500638736, "answer_id": 45237237, "question_id": 45236647, "link": "https://stackoverflow.com/questions/45236647/dancer2-strange-behaviour-on-get-protocol/45237237#45237237", "title": "Dancer2 strange behaviour on get protocol", "body": "<p>To test this, I expanded your code into the following:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Dancer2;\n\nget '/mything/:text' =&gt; sub {\n    my @myArray = localtime;\n    # Fill the array with DB data;\n    return join \"&lt;br&gt;\", @myArray;\n};\n\ndance;\n</code></pre>\n\n<p>Using <code>localtime()</code> was the easiest way I could think of to get a (slightly) different array each time I make a request (assume I don't make more than one request a second).</p>\n\n<p>And that works exactly as I expected. I run <code>plackup app.psgi</code> and visit <a href=\"http://localhost:5000/mything/foo\" rel=\"nofollow noreferrer\">http://localhost:5000/mything/foo</a> and I see the array I expect. When I refresh the page I get a different array.</p>\n\n<p>So Dancer works as I would expect it to. If you're seeing different behaviour, it's because you're doing something different. And we can't really help you to work out what that is until we see more of your code.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1501139909, "post_id": 45336213, "comment_id": 77649045, "body": "That doesn&#39;t really explain why there was a difference between OSX and Linux. Do you have any more information?"}, {"owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1501195517, "post_id": 45336213, "comment_id": 77685556, "body": "@DaveCross No, I don&#39;t . I figure out that Perl handles memory in a different way in OSX than in Linux. Anyway, if you want me to do some test, just let me know"}], "tags": [], "owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "is_accepted": true, "score": 0, "last_activity_date": 1501098671, "creation_date": 1501098671, "answer_id": 45336213, "question_id": 45236647, "link": "https://stackoverflow.com/questions/45236647/dancer2-strange-behaviour-on-get-protocol/45336213#45336213", "title": "Dancer2 strange behaviour on get protocol", "body": "<p>Problem was related to not using perl in strict mode. The code as it was, was working properly in OSX 11.1 but not in Ubuntu 16.04. So after some tests, I found that some variables that I use to fill the array from the DB weren't properly initialized. After initialize them, everything is working as it should in OSX and Ubuntu.</p>\n"}], "owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 45336213, "answer_count": 2, "score": -1, "last_activity_date": 1501098671, "creation_date": 1500636903, "last_edit_date": 1500656806, "question_id": 45236647, "link": "https://stackoverflow.com/questions/45236647/dancer2-strange-behaviour-on-get-protocol", "title": "Dancer2 strange behaviour on get protocol", "body": "<p>I'm building a webapp using dancer2 as backend tool. I've implemented the main method as follow:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Dancer2;\n\nget '/mything/:text' =&gt; sub {\n    my @myArray = (\"\");\n    # Fill the array with DB data;\n    return join \"&lt;br&gt;\", @myArray;\n};\n\ndance;\n</code></pre>\n\n<p>Everything is fine until the second time get method is used. Insted of <code>@myArray</code> being empty, its filled with the from the first execution.</p>\n\n<p>As a dirty fix, I initialize <code>@myArray</code> to <code>(\"\")</code> at the end of the method, but I think that is ugly. Have you any experience on this?</p>\n"}, {"tags": ["database", "postgresql", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500636468, "post_id": 45236196, "comment_id": 77438455, "body": "A backslash has a special meaning in a double-quoted Perl string. Either escape the backslash (<code>&quot;\\\\d&quot;</code>) or use a single-quoted string (<code>&#39;\\d&#39;</code>)."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 4, "creation_date": 1500636665, "post_id": 45236196, "comment_id": 77438590, "body": "I would assume that <code>\\d</code> is a command of the <code>psql</code> utility and not available as a SQL query via DBI."}, {"owner": {"reputation": 11, "user_id": 6624938, "user_type": "registered", "profile_image": "https://graph.facebook.com/257203274665834/picture?type=large", "display_name": "Tsitso Makhakhe", "link": "https://stackoverflow.com/users/6624938/tsitso-makhakhe"}, "edited": false, "score": 0, "creation_date": 1500646365, "post_id": 45236196, "comment_id": 77445820, "body": "i tried \\\\d and &#39;\\d&#39; nothing works"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500649596, "post_id": 45236196, "comment_id": 77447976, "body": "What is a &quot;<i>Postgres Tale</i>&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 125670, "user_id": 6464308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/12PVX.jpg?s=128&g=1", "display_name": "Laurenz Albe", "link": "https://stackoverflow.com/users/6464308/laurenz-albe"}, "is_accepted": false, "score": 2, "last_activity_date": 1500638053, "creation_date": 1500638053, "answer_id": 45237008, "question_id": 45236196, "link": "https://stackoverflow.com/questions/45236196/how-to-show-postgres-tables-with-perl/45237008#45237008", "title": "How To Show Postgres Tables With Perl", "body": "<p>The simplest and most portable way is to use the <a href=\"http://search.cpan.org/~timb/DBI/DBI.pm#table_info\" rel=\"nofollow noreferrer\"><code>table_info</code></a> function.</p>\n"}, {"tags": [], "owner": {"reputation": 9698, "user_id": 111036, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4d7fd4b3ed484fc72aa50e4abf323393?s=128&d=identicon&r=PG", "display_name": "mivk", "link": "https://stackoverflow.com/users/111036/mivk"}, "is_accepted": false, "score": 1, "last_activity_date": 1593021965, "creation_date": 1593021965, "answer_id": 62561424, "question_id": 45236196, "link": "https://stackoverflow.com/questions/45236196/how-to-show-postgres-tables-with-perl/62561424#62561424", "title": "How To Show Postgres Tables With Perl", "body": "<p>If you only want the list of tables or views, you can use</p>\n<pre><code>my @tables = $dbh-&gt;tables();\n</code></pre>\n<p>You can also restrict the list to a specific schema. For example, to get only the tables in the <code>public</code> schema, without the <code>pg_catalog</code> and <code>information_schema</code> tables:</p>\n<pre><code>my @tables = $dbh-&gt;tables(undef, 'public');\n</code></pre>\n<p>See <a href=\"https://metacpan.org/pod/DBD::Pg#tables\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/DBD::Pg#tables</a> for details.</p>\n<p>For more information about the tables, use <code>table_info</code> as suggested in <a href=\"https://stackoverflow.com/q/45236196/111036\">Laurenz' answer</a></p>\n"}], "owner": {"reputation": 11, "user_id": 6624938, "user_type": "registered", "profile_image": "https://graph.facebook.com/257203274665834/picture?type=large", "display_name": "Tsitso Makhakhe", "link": "https://stackoverflow.com/users/6624938/tsitso-makhakhe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1593021965, "creation_date": 1500635524, "last_edit_date": 1500752389, "question_id": 45236196, "link": "https://stackoverflow.com/questions/45236196/how-to-show-postgres-tables-with-perl", "title": "How To Show Postgres Tables With Perl", "body": "<p>I have tried using the \\d command inside perl and this is what i get</p>\n\n<p><strong>DBD::Pg::st execute failed: ERROR:  syntax error at or near \"d\"</strong></p>\n\n<p>This is My Code </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\n\n$myConnection = DBI-&gt;connect(\"DBI:Pg:dbname=test;host=localhost\",\"postgres\", \"pass123\");\n\n$query = $myConnection-&gt;prepare(\"\\d\");\n$result = $query-&gt;execute();\n\n\nwhile(my @row = $sth-&gt;fetchrow_array()) {\n      print \"ID = \". $row[0] . \"\\n\";\n}\n\n$myConnection-&gt;disconnect();\n</code></pre>\n"}, {"tags": ["perl", "recursion", "warnings"], "answers": [{"tags": [], "owner": {"reputation": 1250, "user_id": 8340832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bee45d1f85fce309587afa3bdab7c42?s=128&d=identicon&r=PG&f=1", "display_name": "Yuval Ben-Arie", "link": "https://stackoverflow.com/users/8340832/yuval-ben-arie"}, "is_accepted": false, "score": 2, "last_activity_date": 1500635569, "creation_date": 1500635569, "answer_id": 45236209, "question_id": 45236110, "link": "https://stackoverflow.com/questions/45236110/how-can-i-adjust-the-recursion-depth-at-which-the-deep-recursion-on-subroutine/45236209#45236209", "title": "How can I adjust the recursion depth at which the &quot;Deep recursion on subroutine&quot; warning is emitted?", "body": "<p>With debugger: <code>$DB::deep = 500;</code><br>\nWithout debugger: I only saw reference suggesting to recompile perl binary with different <code>PERL_SUB_DEPTH_WARN</code> macro</p>\n"}, {"tags": [], "owner": {"reputation": 797, "user_id": 2135, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ec21d593dc3dc561c09f2e76fef8c095?s=128&d=identicon&r=PG", "display_name": "ericslaw", "link": "https://stackoverflow.com/users/2135/ericslaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1528985849, "creation_date": 1528985849, "answer_id": 50859656, "question_id": 45236110, "link": "https://stackoverflow.com/questions/45236110/how-can-i-adjust-the-recursion-depth-at-which-the-deep-recursion-on-subroutine/50859656#50859656", "title": "How can I adjust the recursion depth at which the &quot;Deep recursion on subroutine&quot; warning is emitted?", "body": "<pre><code># disable 'Deep recursion on subroutine ...' warnings completely\nno warnings 'recursion';\n</code></pre>\n"}], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1528985849, "creation_date": 1500635209, "question_id": 45236110, "link": "https://stackoverflow.com/questions/45236110/how-can-i-adjust-the-recursion-depth-at-which-the-deep-recursion-on-subroutine", "title": "How can I adjust the recursion depth at which the &quot;Deep recursion on subroutine&quot; warning is emitted?", "body": "<p>In <a href=\"https://stackoverflow.com/q/20710284/133939\">this Q&amp;A</a> the OP alluded to the feasibility of adjusting the recursion depth from the default setting of 100.</p>\n\n<blockquote>\n  <p>There <em>are</em> ways to extend this limit or to turn it off entirely...</p>\n</blockquote>\n\n<p>The <a href=\"https://metacpan.org/pod/warnings\" rel=\"nofollow noreferrer\"><code>warnings</code></a> documentation doesn't seem to say anything about how this can be achieved.</p>\n\n<p>Is there a way to raise the limit without turning the warning off or resorting to some hackish <code>$stack_level</code> variable?</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 3, "creation_date": 1500630525, "post_id": 45234179, "comment_id": 77434613, "body": "What code is that line? What function is it in? How are you calling that function? Your question is really lacking in any useful information."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500631619, "post_id": 45234179, "comment_id": 77435369, "body": "Open &quot;/usr/local/share/perl/5.20.2/Mojo/Collection.pm&quot; and look at line 45 - then you will know and you can update your question"}, {"owner": {"reputation": 827, "user_id": 3353752, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2LunI.jpg?s=128&g=1", "display_name": "dipl0", "link": "https://stackoverflow.com/users/3353752/dipl0"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500631731, "post_id": 45234179, "comment_id": 77435448, "body": "Obviously it is the mojolicious source code rather than my application. sub join {   Mojo::ByteStream-&gt;new(join $_[1] // &#39;&#39;, map {&quot;$_&quot;} @{$_[0]}); }"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1500634459, "post_id": 45234179, "comment_id": 77437250, "body": "You need to find out where <code>join</code> on a collection is called. Try adding <a href=\"https://metacpan.org/pod/Devel::Confess\" rel=\"nofollow noreferrer\">metacpan.org/pod/Devel::Confess</a> to see exactly where this is coming from and how it&#39;s called."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501270955, "post_id": 45315584, "comment_id": 77724080, "body": "The <code>map</code> is entirely necessary: it is stringifying all the elements of the array. And the code is part of <code>Mojo::Collection</code>; it is not the OP&#39;s code."}], "tags": [], "owner": {"reputation": 1, "user_id": 8350939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9168300f3b94bd7c61e45adac6261383?s=128&d=identicon&r=PG&f=1", "display_name": "pduh", "link": "https://stackoverflow.com/users/8350939/pduh"}, "is_accepted": false, "score": -1, "last_activity_date": 1501029507, "creation_date": 1501029507, "answer_id": 45315584, "question_id": 45234179, "link": "https://stackoverflow.com/questions/45234179/use-of-uninitialized-value-in-string-mojolicious-perl/45315584#45315584", "title": "Use of uninitialized value $_ in string - mojolicious perl", "body": "<ol>\n<li>You don't need to use 'map'. join will take array.</li>\n<li><p>It would be clear if your sub is written like this:</p>\n\n<pre>\nsub join {\n    my $list = shift;\n    my $sep  = shift // '';\n    Mojo::ByteStream->new( join( $sep, @$list ) );\n}\n</pre></li>\n<li><p>Dump every variables, see what's in there.</p></li>\n<li><p>Just in case you have never used Data::Dumper, do this:</p>\n\n<pre>\nuse Data::Dumper;\nprint Dumper($list);\n</pre></li>\n<li><p>BTW, a <code>dumper</code> method is included in Mojolicious. <code>$c-&gt;dumper( $your_var )</code></p></li>\n</ol>\n"}], "owner": {"reputation": 827, "user_id": 3353752, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2LunI.jpg?s=128&g=1", "display_name": "dipl0", "link": "https://stackoverflow.com/users/3353752/dipl0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1501029507, "creation_date": 1500629645, "last_edit_date": 1500632013, "question_id": 45234179, "link": "https://stackoverflow.com/questions/45234179/use-of-uninitialized-value-in-string-mojolicious-perl", "title": "Use of uninitialized value $_ in string - mojolicious perl", "body": "<pre><code>    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n    Use of uninitialized value $_ in string at /usr/local/share/perl/5.20.2/Mojo/Collection.pm line 45.\n</code></pre>\n\n<p>What does this mean in the context of mojolicious? I am assuming there is some sort of poorly formatted string when the html page is rendered. Any help would be very much appreciated.</p>\n\n<pre><code>sub join { Mojo::ByteStream-&gt;new(join $_[1] // '', map {\"$_\"} @{$_[0]}); }\n</code></pre>\n\n<p>This is the line in mojolicious source code but I believe it would be being triggered by something in my html file, which I will spare you the pain of seeing.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 7, "creation_date": 1500628439, "post_id": 45233647, "comment_id": 77433043, "body": "How does it not work? What&#39;s happening? What&#39;s your intended output? Please <a href=\"https://stackoverflow.com/posts/45233647/edit\">edit</a> your question."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1500630688, "post_id": 45233647, "comment_id": 77434737, "body": "Is the input file correct? it&#39;s got &quot;...&quot; in it which surely isn&#39;t valid."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1500634124, "post_id": 45233647, "comment_id": 77437033, "body": "I&#39;ve tidied the formatting of your code. You&#39;re welcome, but please consider doing it yourself in future. If you want a large number of strangers to read and understand your code, then surely it makes sense to make it as easy to understand as possible. And thoughtful formatting is one of a programmer&#39;s best tools for making code understandable."}], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1500631254, "post_id": 45234434, "comment_id": 77435135, "body": "I just realized that there is a problem with this. Peter is from New Zealand, but  the country just shows New because we splitted on one or more white-spaces, and there is one whites-space separating New Zealand and also my United States so I should make this so that we separated on at least 2 whitespaces on the split, or you could separate the columns of people and countries with commas and that would be better and then we split on the comma."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1500634984, "post_id": 45234434, "comment_id": 77437559, "body": "Perhaps you should read <a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">the documentation for <code>split()</code></a> and look closely at the optional third argument it takes. Sinan is making use of it in his answer."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1500635160, "post_id": 45234434, "comment_id": 77437644, "body": "Is your <code>unless (open(...)) { ... }</code> deliberately designed to confuse people? What&#39;s wrong with the standard <code>open ... or ...</code> that Perl programmers (including the original poster) have been using for decades?"}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500635846, "post_id": 45234434, "comment_id": 77438103, "body": "No, it&#39;s not designed to confuse people. What&#39;s wrong with it? Also, what&#39;s with the dislike, bro? I produced the desired output."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500635931, "post_id": 45234434, "comment_id": 77438160, "body": "Sinan, didn&#39;t even build a hash like the asker requested, and yet he gets more respect for doing less work?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1500636029, "post_id": 45234434, "comment_id": 77438210, "body": "It&#39;s not dislike &quot;bro&quot;, it&#39;s constructive criticism. Sinan is someone who understands the language and knows how to work with the syntax. You&#39;re clearly fighting against the language in exactly the same way as the original poster :-)"}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500636132, "post_id": 45234434, "comment_id": 77438268, "body": "I know how the language works. If I didn&#39;t my code would obviously not produce the desired output ... but it does."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1500636135, "post_id": 45234434, "comment_id": 77438271, "body": "If you&#39;re posting advice on a site like this, I always think it&#39;s worth going the extra mile to produce easy-to-follow code that shows the language in the best light. I&#39;m not sure you agree with that aim."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1500636277, "post_id": 45234434, "comment_id": 77438349, "body": "Look at your code. The indentation is all over the place. You&#39;re loading modules that you don&#39;t use. You&#39;re declaring variables outside the scope where they are used. It&#39;s not just about getting the job done. It&#39;s about showing people best practices. And that&#39;s not what you&#39;re doing."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1500649240, "post_id": 45234434, "comment_id": 77447717, "body": "It is generally a futile task, <i>birader</i>, to try to guess at the actual solution the OP is imagining when there is no solid description of the problem to go on. However, I added a couple of possible variations to my answer. My advice to you: &quot;<i>Don&#39;t worry about how many upvotes others are getting. Focus on improving yourself.</i>&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1501269300, "post_id": 45234434, "comment_id": 77723257, "body": "<i>&quot;I produced the desired output&quot;</i>  Producing the desired output is only the very tiniest part of writing good software. Your effort is atrocious by almost all other measures. And <b>Dave Cross</b> isn&#39;t your &quot;bro&quot;."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1501277823, "post_id": 45234434, "comment_id": 77726823, "body": "And what defines good code? Small programs, Readable Programs, or fast programs? You can&#39;t really have all at the same time. A simple program could be solved with object oriented code which is good practice for longer projects, but do you really need to do that when it&#39;s not neccessary? Sure a problem can be solved 100 ways, but if you solve it the same way everytime which is the most popular method, then you don&#39;t really know the ins, and outs of your language. No one always greets everyone with &quot;Hi&quot;. Sometimes we say &quot;Hello&quot;. Why can&#39;t we have variety in our programs, too?"}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1501278711, "post_id": 45234434, "comment_id": 77727103, "body": "Plus, Perl&#39;s motto is that there is more than one way to do it. But you say we should always do it your way which means that you disagree with Larry Wall, the creator of your language. Why would he make Perl so adept at solving problems differently if we aren&#39;t supposed to try the other methods that he created? I guess every facet of the language is a mistake then."}], "tags": [], "owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "is_accepted": true, "score": -1, "last_activity_date": 1603387763, "last_edit_date": 1603387763, "creation_date": 1500630417, "answer_id": 45234434, "question_id": 45233647, "link": "https://stackoverflow.com/questions/45233647/perl-read-and-write-text-file-with-strings/45234434#45234434", "title": "Perl read and write text file with strings", "body": "<p>If what you want is a counter of names in a hash, then I got you, buddy!</p>\n<p>I won't attempt the rest of the code because you are checking a folder of records\nthat I don't have access to so I can't trouble shoot anything more than this.</p>\n<p>I see one of your problems. Look at this:</p>\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;  \nuse feature 'say'; # Really like using say instead of print because no need for newline. \n        \nmy $file = 'input_file.txt';\nmy $fh; # A filehandle. \n        \nmy %hash;\nmy $people;\nmy $country;\nmy $line;  \nunless(open($fh, '&lt;', $file)){die &quot;Could not open file $_ because $!&quot;}\n        \nwhile($line = &lt;$fh&gt;)\n{\n($people, $country) = split(/\\s{2,}/, $line); # splitting on at least two spaces\n        \nsay &quot;$people \\t $country&quot;; # Just printing out the columns in the file or people and Country.\n                \n$hash{$people}++; # Just counting all the people in the hash.\n                    # Seeing how many unique names there are, like is there more than one Cindy, etc ...?     \n}\n            \nsay &quot;\\nNow I'm just sorting the hash of people by names.&quot;;\n\nforeach(sort{$a cmp $b} keys %hash)\n{\nsay &quot;$_ =&gt; $hash{$_}&quot;; # Based on your file. The counter is at 1 because nobody has the same names. \n}\n</code></pre>\n<p>Here is the output. As you can see I fixed the problem by splitting on at least two white-spaces so the country names don't get cut out.</p>\n<pre><code>Andrew   UK\n\nCindy    China\n\nRupa     India\n\nGordon   Australia\n\nPeter    New Zealand\n\nAndrew   United States\n\nNow I'm just sorting the hash of people by names.\nAndrew =&gt; 2\nCindy =&gt; 1\nGordon =&gt; 1\nPeter =&gt; 1\nRupa =&gt; 1\n</code></pre>\n<p>I added another Andrew to the file. This Andrew is from the United States\nas you can see. I see one of your problems. Look at this:</p>\n<pre><code>my ($people) = split(&quot;&quot;, $line);\n</code></pre>\n<p>You are splitting on characters as there is no space between those quotes.\nIf you look at this change now, you are splitting on at least one space.</p>\n<pre><code> my ($people) = split(&quot; &quot;, $line);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1500669069, "post_id": 45235224, "comment_id": 77458543, "body": "<code>split &#39; &#39;</code> is strictly speaking not necessary, but it saves a lot of headaches in case there is a stray leading space somewhere. And, with data files that might move between Windows and Unixy systems, <code>s&#47;\\s+\\z&#47;&#47;</code> rather than <code>chomp</code> saves more headaches -- unless, of course, there is a spec that says trailing whitespace is significant."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1500668602, "last_edit_date": 1500668602, "creation_date": 1500632677, "answer_id": 45235224, "question_id": 45233647, "link": "https://stackoverflow.com/questions/45233647/perl-read-and-write-text-file-with-strings/45235224#45235224", "title": "Perl read and write text file with strings", "body": "<p>This is the primary problem:</p>\n\n<pre><code>my ($people) = split(\"\", $line);\n</code></pre>\n\n<p>Your are splitting using an empty string, and you are assigning the return value to a single variable (which will just end up with the first character of each line).</p>\n\n<p>Instead, you should <code>split</code> on <code>' '</code> (a single space character which is <a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">a special pattern</a>):</p>\n\n<blockquote>\n  <p>As another special case, ... when the PATTERN is either omitted or a string composed of a single space character (such as <code>' '</code> or <code>\"\\x20\"</code> , but not e.g. <code>/ /</code>). In this case, any leading whitespace in EXPR is removed before splitting occurs, and the PATTERN is instead treated as if it were <code>/\\s+/</code>; in particular, this means that any contiguous whitespace (not just a single space character) is used as a separator.</p>\n</blockquote>\n\n<p>Limit the number of fields returned to ensure the integrity of country names with spaces:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @people;\n\nwhile (my $line = &lt;DATA&gt;) {\n    $line =~ /\\S/ or next;\n    $line =~ s/\\s+\\z//;\n    push @people, [ split ' ', $line, 2 ];\n}\n\nuse YAML::XS;\nprint Dump \\@people;\n\n__DATA__\nAndrew   UK\nCindy    China\nRupa     India\nGordon   Australia\nPeter    New Zealand\n</code></pre>\n\n<p>The entries are added to an array so 1) The input order is preserved; and 2) Two people with the same name but from different countries do not result in one entry being lost.</p>\n\n<p>If the order is not important, you could just use a hash keyed on country names with people's names in an array reference for each entry. For now, I am going to assume order matters (it would help us help you if you put more effort into formulate a clear question).</p>\n\n<p>One option is to now go through the list of person-country pairs, and print all those pairs for which the directory <code>country/test1_testdata/17.26.6/$c/</code> exists (incidentally, in your code you have</p>\n\n<blockquote>\n<pre><code>my $c_folder = `country/test1_testdata/17.26.6/$c/`;\n</code></pre>\n</blockquote>\n\n<p>That will try to execute a program called <code>country/test1_testdata/17.26.6/$c/</code> and save its output in <code>$c_folder</code> if it produces any. To moral of the story: In programming, precision matters. Just because <code>`</code> looks like <code>'</code>, that doesn't mean you can use one to mean the other.)</p>\n\n<p>Given that your question is focused on hashes, I use an array of references to anonymous hashes to store the list of people-country pairs in the code below. I cache the result of the lookup to reduce the number of times you need to hit the disk.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n@ARGV == 2 ? run( @ARGV )\n      : die_usage()\n;\n\nsub run {\n    my $people_data_file = shift;\n    my $country_files_location = shift;\n\n    open my $in, '&lt;', $people_data_file\n        or die \"Failed to open '$people_data_file': $!\";\n\n    my @people;\n    my %countries;\n\n    while (my $line = &lt;$in&gt;) {\n        next unless $line =~ /\\S/; # ignore lines consisting of blanks\n        $line =~ s/\\s+\\z//;# remove all trailing whitespace\n        my ($name, $country) = split ' ', $line, 2;\n        push @people, { name =&gt; $name, country =&gt; $country };\n        $countries{ $country } = undef;\n    }\n\n    # At this point, @people has a list of person-country pairs\n    # We are going to use %countries to reduce the number of\n    # times we need to check the existence of a given directory,\n    # assuming that the directory tree is stable while this program\n    # is running.\n\n    PEOPLE:\n    for my $person ( @people ) {\n        my $country = $person-&gt;{country};\n        if ($countries{ $country }) {\n            print join(\"\\t\", $person-&gt;{name}, $country), \"\\n\";\n        }\n        elsif (-d \"$country_files_location/$country/\") {\n            $countries{ $country } = 1;\n            redo PEOPLE;\n        }\n    }\n}\n\nsub die_usage {\n    die \"Need data file name and country files location\\n\";\n}\n</code></pre>\n\n<p>Now, there are a bazillion variations on this which is why it is important for <strong><em>you</em></strong> to formulate a clear and concise question so people trying to help you can answer <strong><em>your</em></strong> specific questions, instead of each coming up his/her own solution to the problem as they see it. For example, one could also do this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n@ARGV == 2 ? run( @ARGV )\n      : die_usage()\n;\n\nsub run {\n    my $people_data_file = shift;\n    my $country_files_location = shift;\n\n    open my $in, '&lt;', $people_data_file\n        or die \"Failed to open '$people_data_file': $!\";\n\n    my %countries;\n\n    while (my $line = &lt;$in&gt;) {\n        next unless $line =~ /\\S/; # ignore lines consisting of blanks\n        $line =~ s/\\s+\\z//;# remove all trailing whitespace\n        my ($name, $country) = split ' ', $line, 2;\n        push @{ $countries{$country} }, $name;\n    }\n\n    for my $country (keys %countries) {\n        -d \"$country_files_location/$country\"\n            or delete $countries{ $country };\n    }\n\n    # At this point, %countries maps each country for which\n    # we have a data file to a list of people. We can then\n    # print those quite simply so long as we don't care about\n    # replicating the original order of lines from the original\n    # data file. People's names will still be sorted in order\n    # of appearance in the original data file for each country.\n\n    while (my ($country, $people) = each %countries) {\n        for my $person ( @$people) {\n            print join(\"\\t\", $person, $country), \"\\n\";\n        }\n    }\n}\n\n\nsub die_usage {\n    die \"Need data file name and country files location\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8343206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dnUNd.jpg?s=128&g=1", "display_name": "Perl newbie", "link": "https://stackoverflow.com/users/8343206/perl-newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 1, "accepted_answer_id": 45234434, "answer_count": 2, "score": -1, "last_activity_date": 1603387763, "creation_date": 1500628189, "last_edit_date": 1500633984, "question_id": 45233647, "link": "https://stackoverflow.com/questions/45233647/perl-read-and-write-text-file-with-strings", "title": "Perl read and write text file with strings", "body": "<p>Friends need help. Following my INPUT TEXT FILE</p>\n\n<pre><code>Andrew   UK\nCindy    China\nRupa     India\nGordon   Australia\nPeter    New Zealand\n</code></pre>\n\n<p>To convert the above into hash and to write back into file when the records exist in a directory. I have tried following (it does not work).</p>\n\n<pre><code>#!/usr/perl/5.14.1/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %hash = ();\nmy $file = \".../input_and_output.txt\";\nmy $people;\nmy $country;\n\nopen (my $fh, \"&lt;\", $file) or die \"Can't open the file $file: \";\nmy $line;\nwhile (my $line =&lt;$fh&gt;) {\n  my ($people) = split(\"\", $line);\n  $hash{$people} = 1;\n}\n\n\nforeach my $people (sort keys %hash) {\n\n  my @country = $people;\n  foreach my $c (@country) {\n    my $c_folder = `country/test1_testdata/17.26.6/$c/`;   \n\n    if (-d $cad_root){\n      print \"Exit\\n\";\n    } else {\n      print \"NA\\n\";\n    }\n }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1500618836, "post_id": 45230211, "comment_id": 77426748, "body": "Try <code>(?i:fred)</code>, see <a href=\"https://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">Extended patterns</a> in <code>perldoc perlre</code> for more information"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1500620009, "post_id": 45230211, "comment_id": 77427421, "body": "One other minor improvement: use <code>$regex = qr&#47;$_&#47;</code> to <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">compile the pattern once</a> instead of every time <code>&#47;$regex&#47;</code> is evaluated."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1500624719, "post_id": 45230211, "comment_id": 77430399, "body": "(1) Use <code>strict</code> and <code>warnings</code>,. Always, and certainly while playing! (2) Use lexical filehandles"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500626577, "post_id": 45230211, "comment_id": 77431660, "body": "@zdim if they work through Learning Perl they&#39;ll have strict and warnings, and possibly even more pragmas. If it&#39;s the newest edition, they&#39;ll probably have <code>use v5.12</code> I think. I don&#39;t have that edition,but their code has <code>say</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500626621, "post_id": 45230211, "comment_id": 77431691, "body": "Would you mind quoting the relevant part of the task from the book, and tell us which edition? The chapter organisation has changed at some point iirc."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1500627311, "post_id": 45230211, "comment_id": 77432215, "body": "@simbabque  I haven&#39;t seen that book since way back then .. but that <code>$regex</code> should be declared right there (and with <code>qr</code>, but OK on that). Perhaps they dropped it to make things simpler? Only prudent to mention it, I thought. There are typeglobs? The <code>chomp</code> has-or-not an extra <code>()</code>. I&#39;d hope that the book provides the framework, but some things itch here.  I do like their idea."}, {"owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "edited": false, "score": 0, "creation_date": 1500642770, "post_id": 45230211, "comment_id": 77443046, "body": "H&#229;kon, thanks so much, exactly what I was looking for."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1501268288, "post_id": 45230211, "comment_id": 77722731, "body": "@H&#229;konH&#230;gland: Please would you write up your comment as an answer so that the OP can accept it. At present the accepted &quot;solution&quot; is not a solution at all."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501268418, "post_id": 45230211, "comment_id": 77722796, "body": "<i>&quot;but Perl complained&quot;</i> This is no better than &quot;didn&#39;t work&quot; as a description of the problem. Please always be specific with your descriptions of errors. It will help us to find a solution for you, and more importantly will aid those who are searching for an answer to a similar problem."}, {"owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1501364370, "post_id": 45230211, "comment_id": 77749328, "body": "@Borodin But it really was a complete solution.  &#39;Didn&#39;t work&#39; would be obvious to anyone with Perl experience, and H&#229;kon fixed it fo me."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1501397205, "post_id": 45230211, "comment_id": 77755000, "body": "@Borodin Added my answer."}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "edited": false, "score": 0, "creation_date": 1500629269, "post_id": 45233407, "comment_id": 77433639, "body": "Thanks Dave.  Security is not an issue here, it&#39;s just me trying to minimise the time spent on the exercises.  &#39;I&#39; and &#39;the user&#39; are one:-). As you say, Hakon provided the answer in the first comment.  But i&#39;ve learnt such a lot from your answer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "edited": false, "score": 0, "creation_date": 1500630555, "post_id": 45233407, "comment_id": 77434636, "body": "@JohnWhite While all of Dave&#39;s suggestions are correct, I think none of them is the intended solution, becaue they are all too advanced for the Learning Perl book. I think you misunderstand your task are over-complicating. Take a step back and reread the assignment. It should be solvable from only the things you&#39;ve done in the previous chapters and up to where the task is."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1500630744, "post_id": 45233407, "comment_id": 77434779, "body": "@simbabque  I think that JohnWhite came up with the <code>STDIN</code> loop on his own and that that is not a part of the assignment (to test the matching). And I now think that their desire is to be able to type in the pattern and flags. So it turned out it needs more advanced techniques.  It&#39;s a shame that we have to guess so much though."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500630913, "post_id": 45233407, "comment_id": 77434914, "body": "@zdim yes, I agree. He should tell us that part, thus my request for clarification. I don&#39;t have my editions of LP with me (I think I have at least two different ones, one in German) so I can&#39;t check."}, {"owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "edited": false, "score": 0, "creation_date": 1500643481, "post_id": 45233407, "comment_id": 77443603, "body": "H&#229;kon, thanks so much, exactly what I was looking for.  Can I credit you with the answer?  Others: I didn&#39;t mean to suggest that any of the code quoted came from the book.  It&#39;s all my own code, written as a simple convenience for doing the exercises in Chapter 7, page 131, 6th edition. And yes,I have put strict, utf8 etc. at the top of all my testing code, as advised by the authors.  zdim:  The point is, a match string is not necessarily just a regex.  The regex may have e..g. an &#39;i&#39; after its terminator."}, {"owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "edited": false, "score": 0, "creation_date": 1500644098, "post_id": 45233407, "comment_id": 77444106, "body": "Damn, I wish I hadn&#39;t mentioned the book:-)...   I  t is absolutely true that you can answer the questions without all the stuff I offered.  But, as an experienced programmer, I am naturally lazy, and find it convenient just to type in the various match strings, and see the results without more ado or thought.  I have skimmed a lot of the stuff, but have been heavily engaged by CONTEXT and REGEXP, and, I guess, more to come.  (I&#39;ve got the &#39;Camel Book&#39; as well, but couldn&#39;t find what I needed, until now  Thanks to all, especially Hakon, and sorry, @zim, for misleading you."}, {"owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500644884, "post_id": 45233407, "comment_id": 77444688, "body": "@simbabque I just noticed you said &#39;use 5.12&#39; was suggested if you wanted to use &#39;say&#39;.  The book does say &#39;use 5.10&#39;, but these days it seems better to say &#39;use feature say&#39;...  And, I haven&#39;t misunderstood my task, which is to get to grips with the Mighty Perl as conveniently as I can, leveraging my experience."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1500645385, "post_id": 45233407, "comment_id": 77445066, "body": "@simbabque The initial text of the question states &quot;I had the idea of supplying match strings from STDIN&quot;. To me, at least, this made it quite clear that reading the pattern and flags from <code>STDIN</code> was his own elaboration on the exercise, not a part of the assignment as presented by the book."}, {"owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "edited": false, "score": 0, "creation_date": 1500645676, "post_id": 45233407, "comment_id": 77445293, "body": "@Dave, I noticed you said &quot;Statement modifiers, such as /i, are a part of the code telling Perl how to perform the match, not a part of the pattern to be matched&quot;.... ..Could you tell me the correct term for the sequence &#39;/fred/i&#39;, which is the thing I want to read in and apply to the target line."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "edited": false, "score": 1, "creation_date": 1500666930, "post_id": 45233407, "comment_id": 77457516, "body": "@JohnWhite Thanks for clarifications. The <code>&#47;fred&#47;i</code> is ... well, a regular expression. I don&#39;t know that there&#39;d be a special term to signify that it (match operator with the pattern) has some modifiers on it.  (But when you read that via <code>STDIN</code>, or from a file etc, then it&#39;s just a dummy string of chars, as you found out.)"}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 3, "last_activity_date": 1500627557, "creation_date": 1500627557, "answer_id": 45233407, "question_id": 45230211, "link": "https://stackoverflow.com/questions/45230211/in-perl-can-you-use-a-variable-for-the-whole-of-a-match-string/45233407#45233407", "title": "In Perl, can you use a variable for the whole of a match string?", "body": "<p>Statement modifiers, such as <code>/i</code>, are a part of the code telling Perl how to perform the match, not a part of the pattern to be matched.  This is why that doesn't work for you.</p>\n\n<p>You have three ways to work around this (well, probably more, since this is Perl we're talking about, but three ways that I can think of straight off):</p>\n\n<p>1) Use extended regex syntax and, when you want a case-insensitive match, enter <code>(?i:fred)</code>, as suggested in comments on the question.</p>\n\n<p>2) Use string <code>eval</code> to allow the use of the regular statement modifiers: <code>if (eval \"$_ =~ $regex\") { say }</code>  Note that this method will require you to also type the surrounding slashes.  e.g., You'd have to enter <code>/fred/i</code>; just typing in <code>fred</code> would not work.  Note also that it's a <em>huge</em> security hole to do this without validating your input first, since the user's entered text is executed as Perl code, just as if it were part of the original program.  (Imagine if the user entered <code>//, system(\"rm -rf /\")</code> - it would test against an empty regex, then delete all the files on your computer.)  So probably not a recommended approach unless you really know what you're doing and/or you're the only one who will ever run the program.</p>\n\n<p>3) The most complex, but also most correct, solution is to write a parser which inspects the user's entered string to see whether any special flags are present and then responds accordingly.  A very simple example which allows the user to append <code>/i</code> for a case-insensitive search:</p>\n\n<pre><code>#!/usr/bin/env perl    \n\nuse strict;\nuse warnings;\nuse 5.010;\n\nwhile(&lt;STDIN&gt;) {\n  chomp;\n  my @parts = split '/', $_;\n\n  # If the user input starts with a /, the first part will be empty, so throw\n  # it away.\n  shift @parts unless $parts[0];\n\n  my $re = shift @parts;\n  my %flags;\n  for (@parts) {\n    for (split '') {\n      $flags{i} = 1 if $_ eq 'i';\n    }\n  }\n  my $f = join '', keys %flags;\n  say \"Matched\" if eval qq('foo' =~ /$re/$f);\n}\n</code></pre>\n\n<p>This also uses string <code>eval</code>, so it is potentially vulnerable to the same kind of security issues as #2, but <code>$re</code> cannot contain any <code>/</code> characters (the <code>split '/'</code> would have ended <code>$re</code> immediately prior to the first <code>/</code>), which prevents code from being inserted there and <code>$f</code> can contain only the letter <code>i</code> (or any other flags you might choose to recognize if you expand on this).  So it <em>should</em> be safe.  (But, if anyone can demonstrate an exploit I missed, please tell me about it in comments!)</p>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "edited": false, "score": 0, "creation_date": 1500806743, "post_id": 45239464, "comment_id": 77491239, "body": "@Dave Sherohman&#39;s answer was <i>very</i> interesting, but the response from H&#229;kon was more immediately helpful..."}], "tags": [], "owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "is_accepted": false, "score": -1, "last_activity_date": 1501535279, "last_edit_date": 1501535279, "creation_date": 1500645046, "answer_id": 45239464, "question_id": 45230211, "link": "https://stackoverflow.com/questions/45230211/in-perl-can-you-use-a-variable-for-the-whole-of-a-match-string/45239464#45239464", "title": "In Perl, can you use a variable for the whole of a match string?", "body": "<p>The question has been answered in the following comment:</p>\n\n<blockquote>\n  <p>Try <code>(?i:fred)</code>, see <a href=\"https://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">Extended\n  patterns</a> in\n  <code>perldoc perlre</code> for more information</p>\n</blockquote>\n\n<p>\u2013 <a href=\"https://stackoverflow.com/questions/45230211/in-perl-can-you-use-a-variable-for-the-whole-of-a-match-string#comment77426748_45230211\">H\u00e5kon H\u00e6gland 7 hours ago.</a></p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1501398668, "last_edit_date": 1501398668, "creation_date": 1501397026, "answer_id": 45397137, "question_id": 45230211, "link": "https://stackoverflow.com/questions/45230211/in-perl-can-you-use-a-variable-for-the-whole-of-a-match-string/45397137#45397137", "title": "In Perl, can you use a variable for the whole of a match string?", "body": "<h1>Problem</h1>\n\n<p>What you are trying to do can be summarized by:</p>\n\n<pre><code>my $regex = '/fred/i';\nmy @lines = (\n    'A line containing some words and Fred said Hello.',\n    'Another line. Here is a regex embedded in the line: /fred/i',\n);\n\nfor ( @lines ) {\n    say if /$regex/;\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>Another line. Here is a regex embedded in the line: /fred/i\n</code></pre>\n\n<p>We see that the second line matches <code>$regex</code>, whereas we wanted the first line containing <code>Fred</code> to match the string <code>fred</code> with the (case insensitive) <code>i</code> flag added to the regex. The problem is that the characters <code>/</code> and <code>i</code> in <code>$regex</code> are taken as characters to be matched literally, i.e., they are not interpreted as special characters surrounding a Regex (as part of a Perl expression). </p>\n\n<p><strong>Note</strong>:</p>\n\n<p>The character <code>/</code> is special as part of a Perl expression for a regular expression, but it is not special <em>inside</em> the Regex pattern. There are however characters that are special inside the pattern, the so-called meta characters:</p>\n\n<pre><code>\\ | ( ) [ { ^ $ * + ? . \n</code></pre>\n\n<p>see <a href=\"https://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\"><code>perldoc quotemeta</code></a> for more information.</p>\n\n<h1>A solution using extended patterns</h1>\n\n<p>Simply change the first line to:</p>\n\n<pre><code>my $regex = '(?i)fred';  # or alternatively: (?i:fred)\n</code></pre>\n\n<p>Regex flags can be added to a regex pattern using <em>\"Extended patterns\"</em>  described in the manual <a href=\"https://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a> :</p>\n\n<blockquote>\n  <p>Extended Patterns  </p>\n  \n  <p>The syntax for most of these is a pair of parentheses with a question\n  mark as the first thing within the parentheses. The character after\n  the question mark indicates the extension.  </p>\n  \n  <p>[...]  </p>\n  \n  <p><strong>(?adlupimnsx-imnsx)</strong><br>\n  <strong>(?^alupimnsx)</strong><br>\n  One or more embedded pattern-match modifiers, to be turned on (or\n  turned off if preceded by \"-\" ) for the remainder of the pattern or\n  the remainder of the enclosing pattern group (if any). <em>This is\n  particularly useful for dynamically-generated patterns</em>, such as those\n  read in from a configuration file, taken from an argument, or\n  specified in a table somewhere.</p>\n  \n  <p>[...]  </p>\n  \n  <p>These modifiers are restored at the end of the enclosing group.</p>\n</blockquote>\n\n<p>Alternatively the non-capturing form can be used:</p>\n\n<blockquote>\n  <p><strong>(?:pattern)</strong><br>\n  <strong>(?adluimnsx-imnsx:pattern)</strong><br>\n  <strong>(?^aluimnsx:pattern)</strong><br>\n  This is for clustering, not capturing; it groups subexpressions like\n  \"()\"  , but doesn't make backreferences as \"()\" does.</p>\n</blockquote>\n"}], "owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 45397137, "answer_count": 3, "score": 1, "last_activity_date": 1501535279, "creation_date": 1500617319, "last_edit_date": 1500649744, "question_id": 45230211, "link": "https://stackoverflow.com/questions/45230211/in-perl-can-you-use-a-variable-for-the-whole-of-a-match-string", "title": "In Perl, can you use a variable for the whole of a match string?", "body": "<p>I'm new to Perl, though not to programming, and am working through <a href=\"http://shop.oreilly.com/product/0636920049517.do\" rel=\"nofollow noreferrer\">Learning Perl</a>. The book has exercises to match successive lines of a small text file.</p>\n\n<p>I had the idea of supplying match strings from <code>STDIN</code>, and going through the file for each one:</p>\n\n<pre><code>while(&lt;STDIN&gt;) {\n    chomp;\n    $regex = $_;\n    seek JUNK, 0, 0;\n    while(&lt;JUNK&gt;) {\n        chomp();\n        if(/$regex/) {\n            say;\n        }\n    }\n    say '';\n}\n</code></pre>\n\n<p>This works fine, but I can't find a way to interpolate an entire match string, e.g.</p>\n\n<pre><code>/fred/i\n</code></pre>\n\n<p>into the predicate.  I tried </p>\n\n<pre><code>if($$matcher) # with $matcher = '/fred/'\n</code></pre>\n\n<p>but Perl complained.</p>\n\n<p>I imagine this is my ignorance, and should welcome enlightenment.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1500615115, "post_id": 45229593, "comment_id": 77424949, "body": "Don&#39;t use bareword filehandles. It&#39;s not 1999 anymore."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1500615177, "post_id": 45229593, "comment_id": 77424972, "body": "<code>split(&#39;:&#39;, @fieldss)</code> doesn&#39;t split the lines in the file. <code>split</code> takes a single string, not an array. What did you expect this to do?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500615266, "post_id": 45229593, "comment_id": 77425010, "body": "What&#39;s in the error log of your web server?"}, {"owner": {"reputation": 37, "user_id": 7897207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lsw64.jpg?s=128&g=1", "display_name": "prakash", "link": "https://stackoverflow.com/users/7897207/prakash"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500616414, "post_id": 45229593, "comment_id": 77425550, "body": "I changed the bareword filehandle to $fh it gives GLOB(0x321ace8) in browser"}, {"owner": {"reputation": 37, "user_id": 7897207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lsw64.jpg?s=128&g=1", "display_name": "prakash", "link": "https://stackoverflow.com/users/7897207/prakash"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500616834, "post_id": 45229593, "comment_id": 77425760, "body": "Use of uninitialized value in concatenation (.) or string at /var/www/cgi-bin/filename"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 7897207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lsw64.jpg?s=128&g=1", "display_name": "prakash", "link": "https://stackoverflow.com/users/7897207/prakash"}, "edited": false, "score": 0, "creation_date": 1500632728, "post_id": 45232400, "comment_id": 77436144, "body": "<code>J. XXXXXX:17000:30:17000:11900:9520:2380:3400:1700:17000:1428:1&zwnj;&#8203;5572: S. XXXXX:15000:0:0:0:0:0:0:0:0:0:0: K. XXXXXX:12000:30:12000:8400:6720:1680:2400:1200:12000:1008:10&zwnj;&#8203;992: A. XXXXX:9000:27:8100:5670:4536:1134:1620:810:8100:680:7420: S. XXXXX:9000:30:9000:6300:5040:1260:1800:900:9000:756:8244: I. XXXXX:9000:26:7800:5460:4368:1092:1560:780:7800:655:7145: J. XXXXX:8000:29:7733:5413:4330:1083:1547:773:7733:650:7083: X. XXXXX:8000:26:6933:4853:3882:971:1387:693:6933:582:6351:</code>  My input file"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 37, "user_id": 7897207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lsw64.jpg?s=128&g=1", "display_name": "prakash", "link": "https://stackoverflow.com/users/7897207/prakash"}, "edited": false, "score": 0, "creation_date": 1500632846, "post_id": 45232400, "comment_id": 77436226, "body": "@prakashg: Dumping data in a comment like that isn&#39;t at all helpful. Please edit your question to add this. You could also take the opportunity to explain more about what you are doing."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1500624578, "creation_date": 1500624578, "answer_id": 45232400, "question_id": 45229593, "link": "https://stackoverflow.com/questions/45229593/reading-text-file-into-array-in-perl/45232400#45232400", "title": "Reading text file into array in perl", "body": "<p>It would be helpful to see what the data in your input file looks like. But there are certainly some strange things going on in your code. The major problem seems to be this line:</p>\n\n<pre><code>my @fields = split(':', @fieldss);\n</code></pre>\n\n<p><code>split()</code> takes two scalar arguments - a regex to split on and a string to split. It is, therefore, evaluating <code>@fieldss</code> in scalar context and getting the number of elements in the array. This will, of course, be an integer, which won't contain a colon. This leads to <code>@fields</code> containing a single element which is the number of elements in <code>@fieldss</code>. This example illustrates that:</p>\n\n<pre><code>use Data::Dumper;\n\nmy @arr = qw[1:foo 2:bar 3:baz];\n\nmy @arr2 = split /:/, @arr;\n\nsay Dumper @arr2;\n</code></pre>\n\n<p>The output I get is:</p>\n\n<pre><code>$VAR1 = '3';\n</code></pre>\n\n<p>Your code to set up <code>@fields</code> should probably be more like this:</p>\n\n<pre><code>my $file = '/var/tmp/temp_data.txt';\nopen(my $fh, '&lt;:encoding(UTF-8)', $file)\n  # Note: Added filename and error code to output.\n  || die(\"Unable to open $file: $!\");\n\nmy @fields;\nwhile (&lt;$fh&gt;) {\n  chomp;\n  push @fields, split /:/;\n}\nclose $fh;\n</code></pre>\n\n<p>I haven't looked at the rest of your code in great detail, but it certainly raises some questions. Your copying of the array into individual variables is probably pointless, but can be achieved in a single statement:</p>\n\n<pre><code>my ($names, $rate, $no_of_days, $total_salary, $total,\n    $basic, $da, $hra, $ot_hallowance, $gross, $epf,\n    $nett) = @fields;\n</code></pre>\n\n<p>But then you iterate over <code>@fields</code>, seemingly assuming that each element is a name. Perhaps you need to explain what you're doing in greater detail.</p>\n\n<p>None of this, however, explains the 504 status code you are getting. You mention that you are running the database query for every row in the text file. It's certainly true that you are exactly the same query on each iteration of your loop - and that would seem to be very wasteful (just run it once and store the results in a variable) but, as we've determined that  <code>@fields</code> can only ever contain a single element, your loop only runs once and you only query the database once.</p>\n\n<p>This probably isn't, strictly speaking, an answer to your question. But your question leaves so many things unexplained that it's impossible to answer. Hopefully, this will give you some insight into how you could, at least, improve your program to the extent that we could then start to address the real issues that are currently hidden.</p>\n\n<p><strong>Update:</strong> I've just realised what the structure of your input file is. You probably want to read it into an array of hashes using code like this:</p>\n\n<pre><code>my $file = '/var/tmp/temp_data.txt';\nopen(my $fh, '&lt;:encoding(UTF-8)', $file)\n  # Note: Added filename and error code to output.\n  || die(\"Unable to open $file: $!\");\n\nmy @records; # Terrible variable name!\nmy @cols = qw[names rate no_of_days total_salary total basic da\n              hra ot_hallowance gross epf nett];\n\nwhile (&lt;$fh&gt;) {\n  chomp;\n  my %rec;\n  @rec{@cols} = split /:/;\n  push @records, \\%rec;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500630096, "post_id": 45233458, "comment_id": 77434270, "body": "<i>But I&#39;ve never seen columns in a file separated by a colon like you say</i> Have you never looked at the <code>&#47;etc&#47;passwd</code> file on a Linux system?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500630272, "post_id": 45233458, "comment_id": 77434420, "body": "What is this &quot;Diagnostics&quot; module? There&#39;s no module called &quot;Diagnostics&quot; on CPAN. There&#39;s <a href=\"https://metacpan.org/pod/distribution/perl/lib/diagnostics.pm\" rel=\"nofollow noreferrer\">diagnostics</a>, of course, but no-one needs to install that from CPAN as it has been part of the standard Perl distribution for over twenty years."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500630363, "post_id": 45233458, "comment_id": 77434490, "body": "<i>Your split isn&#39;t working because you aren&#39;t splitting on however your columns are separated</i> No. His split isn&#39;t working as he is trying to split an array."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500630618, "post_id": 45233458, "comment_id": 77434689, "body": "Okay, I guess I didn&#39;t say what I meant about the split. Anyway, you are right. As you can see when I perform the split I do it on a scalar of the elements of each line of the file, and save it into an array which totally works. I think the Diagnostics module exists because when I check it with perldoc Diagnostics I get this:  NAME     diagnostics, splain - produce verbose warning diagnostics  SYNOPSIS     Using the &quot;diagnostics&quot; pragma: ### ect ..."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500630749, "post_id": 45233458, "comment_id": 77434785, "body": "Hmm, maybe importing Diagnostics is the same as importing diagnostics and it&#39;s not case sensitive because I get no error on my system when I ask for use Diagnostics in a perl script."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500630889, "post_id": 45233458, "comment_id": 77434887, "body": "Are you on Windows? I believe the Windows filesystem is (astonishingly!) still case-insensitive. But it&#39;s a bad idea to share case-insensitive code on a public site like this - most people will be running it on case-sensitive platforms and your code will fail."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500630952, "post_id": 45233458, "comment_id": 77434936, "body": "The original poster is clearly working on Linux or Unix (see his reference to <code>&#47;var&#47;tmp</code>), so your code will just give a syntax error for him."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500630991, "post_id": 45233458, "comment_id": 77434965, "body": "Well, I&#39;m sorry that I made a typographical error. Thank you for correcting me on it. I appreciate it. Whoops!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500630996, "post_id": 45233458, "comment_id": 77434968, "body": "And anyway, you shouldn&#39;t encourage people to use <code>diagnostics</code> without explaining why they need to remove it from production code."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500631041, "post_id": 45233458, "comment_id": 77435007, "body": "What exactly is so bad about this diagnostics module?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500631047, "post_id": 45233458, "comment_id": 77435011, "body": "Your comment still makes no sense. There is never any need to install <code>diagnostics.pm</code> from CPAN."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500631154, "post_id": 45233458, "comment_id": 77435069, "body": "<i>What exactly is so bad about this diagnostics module?</i> Not bad exactly, but it fills up error logs with too much detail. I&#39;ve seen filesystems fill up because of it. Just stick with <code>use warnings</code> in production and add <code>use diagnostics</code> if necessary in development."}], "tags": [], "owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "is_accepted": false, "score": 0, "last_activity_date": 1500632493, "last_edit_date": 1500632493, "creation_date": 1500627692, "answer_id": 45233458, "question_id": 45229593, "link": "https://stackoverflow.com/questions/45229593/reading-text-file-into-array-in-perl/45233458#45233458", "title": "Reading text file into array in perl", "body": "<p>I don't even know what you file looks like. But I've done this type of thing before in reading Protein Data Bank (PDB) files into an array, and then splitting them by the columns which are separated my whitespace. I can't guarantee my code will work because I don't even have your file, but anyway the question is how do you read in a file and then split it up into columns is the question, yeah ...</p>\n\n<p>Your split isn't working because you aren't splitting on however your columns are separated which is probably a comma or at least one white-space. But I've never seen columns in a file separated by a colon like you say. Also, yes you can read the file into an array, but to get all the columns as scalars for each row I think you need to keep doing that in a loop or else you have an individual value for each column that wouldn't extend throughout all the file. Okay, you are really splitting on a colon. I am sorry about the hassle. Please forgive me.      </p>\n\n<pre><code>#!/usr/bin/env perl\n# Program Description: _________ \nuse strict;\nuse warnings;\nuse feature 'say'; # say is like print, but you don't need to type \\n.\n\nmy $file = '/var/tmp/temp_data.txt';      ##################### File for reading\nmy $filehandle; # Just like your bareword filehandle FILE. \nmy @fields = (); # My use of fields is the same as yours. \nopen($filehandle, '&lt;', $file) or die \"Could not open file $_ because $!\";\n\nmy @All_Lines = &lt;$filehandle&gt;; # This is just everything in the file ... all lines. \nmy $line; # Our current line which will be useful for the split. \nclose $filehandle;\n\n# We will declare all of our variables outside of a loop\n# That we split all the columns of the file on on colon.\n# ... declaring our variables now so they don't get locked in our loop. \nmy $names;\nmy $rate;\nmy $no_of_days;\nmy $total_salary;\nmy $total;\nmy $basic;\nmy $da;\nmy $hra;\nmy $ot_hallowance;\nmy $gross;\nmy $epf;\nmy $nett;\n\n# Iterating over ever line of the file in a foreach loop. \nforeach $line (@All_Lines)\n{\n\n     @fields = split(':', $line); # splitting on a colon. \n\n$names = $fields[0];\n$rate = $fields[1];\n$no_of_days = $fields[2];\n$total_salary = $fields[3];\n$total = $fields[4];\n$basic = $fields[5];\n$da = $fields[6];\n$hra = $fields[7];\n$ot_hallowance = $fields[8];\n$gross = $fields[9];\n$epf = $fields[10];\n$nett = $fields[11];\n\nsay \"$names $rate\";\n\n# Then I'm pretty sure that I can dump the rest of your code here\n# And you should because @fields is now within this foreach loop. It doesn't exist anywhere else. \n# I'm pretty sure I'm justified in removing your foreach loop here\n# Because in mine, the column of names will be read and operated on line by line. \n# Also, your goal was to iterate over $names with a foreach loop\n# which I'm doing right now, but where are you operating on it? \n\n       # Perhaps you should declare these variables with \"my\" before we start looping through all the lines of the file one line at a time.\n       # But I think you will be okay having them here. \n        my $dbh = \"DBI:$platform:$database:$host:$port\";\n        my $connect = DBI-&gt;connect($dbh, $user, $pw) || die $DBI::errstr;\n        # You didn't declare query with \"my $query\". I think you should, especially since I classically enabled \"use strict\". \n        $query = \"SELECT * FROM salary WHERE name IN('sssss', 'ffffff', 'dddddd', 'ddededed', 'garaead', 'adgfdfg', 'gadfredg')\";\n        my $sth = $connect-&gt;prepare($query);\n        $sth-&gt;execute() || die $DBI::errstr;\n\n         my @data2;\n         # So @data2 gets formed when you start the while loop, right?\n        while (@data2 = $sth-&gt;fetchrow_array()) \n                {\n                    my $name = $data2[0];\n                    my $email = $data2[1];\n\n                        if ($names eq $name) \n                        {\n                              ######################### Comparing names in file and database ######################## \n                        } # This bracket ends your if conditional\n                } # This bracket ends your while loop.\n\n} # This bracket ends my foreach loop that you want to stay within. \n\n# Note: Commenting where brackets begin and end can be really useful when you are trying to stay within a loop. \n</code></pre>\n\n<p>Note: I tested the split based on one or more whitespace on a file\nwhich is a PDB file that looks like this separated by one or more white-spaces, and the each column of the PDB file can be isolated line by line, so I'm pretty sure this will work on your file. </p>\n\n<pre><code>ATOM     38  CB  PHE A   7      15.240  41.685  54.772  1.00 10.03           C\nATOM     39  CG  PHE A   7      15.740  42.936  54.063  1.00 12.39           C\nATOM     40  CD1 PHE A   7      15.096  44.166  54.328  1.00 11.59           C\nATOM     41  CD2 PHE A   7      16.851  42.864  53.189  1.00 10.59           C\nATOM     42  CE1 PHE A   7      15.540  45.310  53.626  1.00 12.79           C\nATOM     43  CE2 PHE A   7      17.329  44.058  52.581  1.00 13.07           C\nATOM     44  CZ  PHE A   7      16.651  45.259  52.776  1.00 12.33           C\nATOM    156  CG  GLU A  20      14.635  48.596  50.249  1.00  9.28           C\nATOM    157  CD  GLU A  20      15.173  49.229  51.481  1.00 10.96           C\nATOM    158  OE1 GLU A  20      15.790  50.279  51.395  1.00 11.04           O\nATOM    159  OE2 GLU A  20      14.851  48.625  52.550  1.00 13.31           O \n</code></pre>\n\n<p>Now, I usually close a file way later in the program, but yes you are right. You can glob save it into an array and operate on that array line by line even after you have closed the file.  </p>\n"}], "owner": {"reputation": 37, "user_id": 7897207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lsw64.jpg?s=128&g=1", "display_name": "prakash", "link": "https://stackoverflow.com/users/7897207/prakash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4532, "favorite_count": 2, "accepted_answer_id": 45232400, "answer_count": 2, "score": -1, "last_activity_date": 1500632493, "creation_date": 1500614721, "question_id": 45229593, "link": "https://stackoverflow.com/questions/45229593/reading-text-file-into-array-in-perl", "title": "Reading text file into array in perl", "body": "<pre><code>    my $file = '/var/tmp/temp_data.txt';      ##################### File for reading\n    open(FILE, '&lt;:encoding(UTF-8)', $file) || die(\"Unable to open file\");\n    my @fieldss = &lt;FILE&gt;;\n    close(FILE);\n    chomp @fieldss;\n\n    my @fields = split(':', @fieldss);####################### Splitting the lines in file ##############\n####################################### Dereference ############################\n    my $names = $fields[0];\n    my $rate = $fields[1];\n    my $no_of_days = $fields[2];\n    my $total_salary = $fields[3];\n    my $total = $fields[4];\n    my $basic = $fields[5];\n    my $da = $fields[6];\n    my $hra = $fields[7];\n    my $ot_hallowance = $fields[8];\n    my $gross = $fields[9];\n    my $epf = $fields[10];\n    my $nett = $fields[11];\n\n    print \"$names\\n $rate\\n\";\n\n        foreach $names (@fields) {\n                my $dbh = \"DBI:$platform:$database:$host:$port\";\n                my $connect = DBI-&gt;connect($dbh, $user, $pw) || die $DBI::errstr;\n                $query = \"SELECT * FROM salary WHERE name IN('sssss', 'ffffff', 'dddddd', 'ddededed', 'garaead', 'adgfdfg', 'gadfredg')\";\n                my $sth = $connect-&gt;prepare($query);\n                $sth-&gt;execute() || die $DBI::errstr;\n\n                my @data2;\n                while (@data2 = $sth-&gt;fetchrow_array()) {\n                    my $name = $data2[0];\n                    my $email = $data2[1];\n\n                        if ($names eq $name) {  ######################### Comparing names in file and database ########################\n</code></pre>\n\n<p>The above code is to read the text file and data get split using split function. My problem is I am making mistake at reading and splitting the file. I got 504 error while running the code, I think it is because of calling the database for every line in text file. Thanks for your help.</p>\n"}, {"tags": ["shell", "perl", "maven", "build", "pom.xml"], "comments": [{"owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1500622527, "post_id": 45228584, "comment_id": 77428966, "body": "You should have tests for your perl/shell code...which is a step before packaging an RPM..."}], "answers": [{"tags": [], "owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "is_accepted": false, "score": 0, "last_activity_date": 1500613231, "creation_date": 1500613231, "answer_id": 45229294, "question_id": 45228584, "link": "https://stackoverflow.com/questions/45228584/rpm-build-prevention-when-there-are-syntactic-errors-in-perl-shell-script/45229294#45229294", "title": "rpm build prevention when there are syntactic errors in perl/shell script", "body": "<p>You can use, as mentioned in \"<a href=\"https://stackoverflow.com/a/3493919/6309\">I want to execute shell commands from maven's pom.xml</a>\", the <a href=\"http://www.mojohaus.org/exec-maven-plugin/\" rel=\"nofollow noreferrer\"><strong><code>exec-maven-plugin</code></strong></a> to execute a command.</p>\n\n<p>In your case, that command could be a script in charge of </p>\n\n<ul>\n<li>compiling / checking the syntax of perl scripts</li>\n<li>returning <em>not</em> 0 if there is any compilation/syntax error: see \"<a href=\"https://stackoverflow.com/a/3481297/6309\">Can <code>maven-exec-plugin</code> fail the build?</a>\"</li>\n</ul>\n\n<p>Add that step before the one compiling <code>npm</code>, and said <code>npm</code> compilation won't be executed unless the perl syntax checks out.</p>\n"}], "owner": {"reputation": 41, "user_id": 8341841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7276f5ca9e9ce56cf2e0b0f75f26256e?s=128&d=identicon&r=PG&f=1", "display_name": "developerqueries", "link": "https://stackoverflow.com/users/8341841/developerqueries"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1500613231, "creation_date": 1500608542, "question_id": 45228584, "link": "https://stackoverflow.com/questions/45228584/rpm-build-prevention-when-there-are-syntactic-errors-in-perl-shell-script", "title": "rpm build prevention when there are syntactic errors in perl/shell script", "body": "<p>We package only Perl and shell scripts in an rpm.We use maven to build the rpm.\nI would like to know if there is a way to prevent the rpm from compiling successfully when there are syntax errors in the perl/shell scripts.</p>\n\n<p>C/C++/Java code does not get compiled when there are syntax errors, this also prevents the rpm from getting built successfully.\nPerl/shell being interpreted does not work this way.Is there a way to handle this in pom/Maven?</p>\n"}, {"tags": ["mongodb", "perl", "perl-module"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1500602062, "post_id": 45227674, "comment_id": 77421656, "body": "What does <code>perl -MList::Util -E &#39;say $List::Util::VERSION&#39;</code> say? By looking at the <a href=\"https://metacpan.org/changes/distribution/Scalar-List-Utils\" rel=\"nofollow noreferrer\">Changes</a> log, <code>all()</code> was introduced in version <code>1.33</code>, so you need that version or higher."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500602430, "post_id": 45227674, "comment_id": 77421742, "body": "If you have a version less than that, and you find that upgrading <code>List::Util</code> fixes it, I will create a pull request that sets a minimum version for <code>MongoDB</code>."}, {"owner": {"reputation": 69, "user_id": 7531038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a69b1663f76a5551eb44be345cdcc33?s=128&d=identicon&r=PG&f=1", "display_name": "RPS", "link": "https://stackoverflow.com/users/7531038/rps"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500604027, "post_id": 45227674, "comment_id": 77422126, "body": "@stevieb perl -MList::Util -E &#39;say $List::Util::VERSION&#39; says 1.21 so do I have to upgrade my version to 1.33 or higher?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500604216, "post_id": 45227674, "comment_id": 77422168, "body": "Yes you do. I&#39;m just doing a test on perl 5.10.1 now to confirm this. After I&#39;m done, and if it works, I&#39;ll post it as an answer and create a PR for <code>MongoDB</code> that&#39;ll fix the issue."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500604675, "post_id": 45227674, "comment_id": 77422265, "body": "So, perl 5.10.1 is bundled with <code>List::Util</code> version <code>1.21</code>, but when I <code>cpanm MongoDB</code> to install it, something along the way upgraded my <code>List::Util</code> to <code>1.48</code> and it all works fine without making any other changes. How did you install the distribution?"}, {"owner": {"reputation": 69, "user_id": 7531038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a69b1663f76a5551eb44be345cdcc33?s=128&d=identicon&r=PG&f=1", "display_name": "RPS", "link": "https://stackoverflow.com/users/7531038/rps"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500604842, "post_id": 45227674, "comment_id": 77422298, "body": "I installed MongoDB perl module manually with make and make install statements. I have perl 5.10.1"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500636233, "post_id": 45227674, "comment_id": 77438323, "body": "Ahhh. So in that case, you have to manually install all prerequisites yourself."}, {"owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "edited": false, "score": 0, "creation_date": 1500909273, "post_id": 45227674, "comment_id": 77530766, "body": "That&#39;s a bug in Specio since it&#39;s using List::Util::all and not declaring a high enough prerequisite for List::Util."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 15739982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68f5ea9f7576077722db736c3189d26?s=128&d=identicon&r=PG&f=1", "display_name": "robtech", "link": "https://stackoverflow.com/users/15739982/robtech"}, "is_accepted": false, "score": -1, "last_activity_date": 1619104562, "creation_date": 1619104562, "answer_id": 67216097, "question_id": 45227674, "link": "https://stackoverflow.com/questions/45227674/perl-module-import-error/67216097#67216097", "title": "Perl module import error", "body": "<p>There might be a module that is calling the exported routine qw( all ) recursively.</p>\n<p>The following exported method is called by /usr/local/share/perl5/Specio/OO.pm line 9:</p>\n<pre><code>use List::Util qw( all );\n</code></pre>\n<p>This method may also be called by the module being used in script.pl in line 2.</p>\n<pre><code>Compilation failed in require at script.pl line 2.\n</code></pre>\n<p>Instead use require in a code block instead of use List::Util qw( all ); in the given module in script.pl line 2 only where it is required.</p>\n<p>This may fix the issue that you are facing.</p>\n"}], "owner": {"reputation": 69, "user_id": 7531038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a69b1663f76a5551eb44be345cdcc33?s=128&d=identicon&r=PG&f=1", "display_name": "RPS", "link": "https://stackoverflow.com/users/7531038/rps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1084, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1619104562, "creation_date": 1500601318, "question_id": 45227674, "link": "https://stackoverflow.com/questions/45227674/perl-module-import-error", "title": "Perl module import error", "body": "<p>I have installed MongoDB perl module. </p>\n\n<p>I got a simple perl script (below):</p>\n\n<pre><code> use MongoDB ();\n print \"OK!\\n\";\n</code></pre>\n\n<p>When I compile this perl script, I get the following errors:</p>\n\n<pre><code>\"all\" is not exported by the List::Util module\nCan't continue after import errors at /usr/local/share/perl5/Specio/OO.pm \nline 9\nBEGIN failed--compilation aborted at /usr/local/share/perl5/Specio/OO.pm \nline 9.\nCompilation failed in require at /usr/local/share/perl5/Specio/Coercion.pm \nline 8.\nBEGIN failed--compilation aborted at \n/usr/local/share/perl5/Specio/Coercion.pm line 8.\nCompilation failed in require at /usr/local/share/perl5/Specio/Declare.pm \nline 11.\nBEGIN failed--compilation aborted at \n/usr/local/share/perl5/Specio/Declare.pm line 11.\nCompilation failed in require at /usr/local/lib64/perl5/DateTime/Types.pm \nline 12.\nBEGIN failed--compilation aborted at \n/usr/local/lib64/perl5/DateTime/Types.pm line 12.\nCompilation failed in require at /usr/local/lib64/perl5/DateTime/Duration.pm \nline 12.\nBEGIN failed--compilation aborted at \n/usr/local/lib64/perl5/DateTime/Duration.pm line 12.\nCompilation failed in require at /usr/local/lib64/perl5/DateTime.pm line 14.\nBEGIN failed--compilation aborted at /usr/local/lib64/perl5/DateTime.pm line \n14.\nCompilation failed in require at /usr/local/lib64/perl5/MongoDB/BSON.pm line \n35.\nBEGIN failed--compilation aborted at /usr/local/lib64/perl5/MongoDB/BSON.pm \nline 35.\nCompilation failed in require at /usr/local/lib64/perl5/MongoDB.pm line 32.\nBEGIN failed--compilation aborted at /usr/local/lib64/perl5/MongoDB.pm line \n32.\nCompilation failed in require at script.pl line 2.\nBEGIN failed--compilation aborted at script.pl line 2.\n</code></pre>\n\n<p>In <strong>/usr/local/share/perl5/Specio/OO.pm</strong> line 9, the following use statement is there.</p>\n\n<pre><code>use List::Util qw( all );\n</code></pre>\n\n<p>I believe the above line is the reason for all the errors because they seem to be nested from this file. </p>\n\n<p>How do I resolve this error?</p>\n"}, {"tags": ["perl", "inheritance"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1500593242, "post_id": 45226003, "comment_id": 77419691, "body": "Why would you want to do that?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1500594099, "post_id": 45226003, "comment_id": 77419903, "body": "Why are you using <code>my $s = {}, bless $s, $c;</code>? There&#39;s no need for that first comma and it should be a semicolon. As it is, your code will fail at compile time or run time, depending on whether you have <code>use strict</code> in place as you should."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1500594265, "post_id": 45226003, "comment_id": 77419948, "body": "To further what @Borodin said, if you&#39;re not going to modify the object in the instantiation method, you can simplify: <code>return bless {}, shift;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1500604880, "post_id": 45226003, "comment_id": 77422303, "body": "@stevieb: It&#39;s not often the best idea to contract code into as short a space as possible. It is the compiler&#39;s job to optimise your code, and your job to use the language to make your solution as readable as possible. <code>shift</code> means nothing, and <code>my $self = shift</code> or (for a class method) <code>my $class = shift</code> makes the ensuing code much more readable."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1500591766, "post_id": 45226004, "comment_id": 77419322, "body": "Rather than that horrible <code>eval</code>, you could have written <code>exists &amp;{&quot;${package}::who&quot;}</code>"}], "tags": [], "owner": {"reputation": 596, "user_id": 2374365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gVvyj.jpg?s=128&g=1", "display_name": "Ryan Willis", "link": "https://stackoverflow.com/users/2374365/ryan-willis"}, "is_accepted": false, "score": 0, "last_activity_date": 1500594157, "last_edit_date": 1500594157, "creation_date": 1500588599, "answer_id": 45226004, "question_id": 45226003, "link": "https://stackoverflow.com/questions/45226003/determine-if-base-class-subroutine-has-been-overridden-from-the-base-class/45226004#45226004", "title": "Determine if base class subroutine has been overridden from the base class", "body": "<p>My answer to this dilemma is as follows:</p>\n\n<p>The existence of methods within packages can be determined by statically checking its CODE reference like so:</p>\n\n<pre><code>if( defined &amp;Child::who ){\n  return \"yes\";\n}\n</code></pre>\n\n<p>But since the parent can be overridden by many, many different children, and I don't want to manually refer to all of them, I'll get the reference to the package (which will be the package name in string form) and evaluate it.</p>\n\n<pre><code>sub check {\n  my $self = shift;\n  my $package = ref $self; # 'Freak' or 'Child', etc.\n\n  my $is_overridden = eval \"defined &amp;\".$package.\"::who\";\n  die \"eval error occurred\" if $@;\n\n  return $is_overridden ? \"yes\" : \"no\";\n}\n</code></pre>\n\n<p>And there you have it!</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500590819, "post_id": 45226259, "comment_id": 77418986, "body": "That&#39;s an intelligent answer, but it&#39;s only small or idealised problems that lend themselves to &quot;proper&quot; object-oriented programming. Most solutions will require either fumbles like this or multiple &quot;glue&quot; classes that exist only to provide for the rules of object-orientation."}, {"owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1500591459, "post_id": 45226259, "comment_id": 77419213, "body": "I&#39;ve not yet seen an example of where it was justified for a base class to vary its behaviour based on what the child class does. Presumably the purpose of a base class is to manifest the invariance between a collection of subtypes in a reusable manner. This is kind of code effectively makes that class closed for extension - it can no longer be safely subclassed or its subclasses refactored, so it increases the likelihood of not being able to articulate an ontology for the problem with the atoms of OO modeling, as it further detracts from the already sketchy inheritance mechanism&#39;s usefulness."}, {"owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1500591659, "post_id": 45226259, "comment_id": 77419288, "body": "I should clarify, it&#39;s not that it&#39;s closed for extension per se, it&#39;s more that it&#39;s potentially so, it&#39;s just that there are additional constraints on what subclassing means that are orthogonal to the built in concepts of inheritance - so more things to consider and get confused about when using this class as a base class."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500592711, "post_id": 45226259, "comment_id": 77419544, "body": "I agree that this is probably a poor solution to whatever the underlying problem may be\u2014it&#39;s not much of a jump from this to testing the calling object&#39;s class to determine the base class&#39;s behaviour\u2014but a rigorous object-oriented design will often make the code unnecessarily complex (just  look at Java) and is particularly prone to requiring massive changes for even small modifications."}, {"owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "edited": false, "score": 3, "creation_date": 1500598521, "post_id": 45226259, "comment_id": 77420926, "body": "Well, FWIW, needing to violate LSP is a design smell.  And as nothingmuch noted, violating it comes at a cost.  So if you find yourself in a situation where this seems like a good idea, it&#39;s time to take a step back and see if you can partition your problem differently."}, {"owner": {"reputation": 42285, "user_id": 2057919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec600dcd84770c5d835cd4c943514088?s=128&d=identicon&r=PG&f=1", "display_name": "elixenide", "link": "https://stackoverflow.com/users/2057919/elixenide"}, "edited": false, "score": 1, "creation_date": 1500605439, "post_id": 45226259, "comment_id": 77422417, "body": "<b>Everyone please stop abusing the comments.</b> I have cleaned up a lot of junk here, almost all of it inappropriate. Please read the <a href=\"http://stackoverflow.com/help/be-nice\">&quot;Be Nice&quot;</a> policy and refrain from further comments about other users."}], "tags": [], "owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "is_accepted": true, "score": 7, "last_activity_date": 1500597131, "last_edit_date": 1500597131, "creation_date": 1500590083, "answer_id": 45226259, "question_id": 45226003, "link": "https://stackoverflow.com/questions/45226003/determine-if-base-class-subroutine-has-been-overridden-from-the-base-class/45226259#45226259", "title": "Determine if base class subroutine has been overridden from the base class", "body": "<pre><code>my $is_overridden = $self-&gt;can(\"who\") != Parent-&gt;can(\"who\");\n</code></pre>\n\n<p>See the documentation for the <a href=\"https://metacpan.org/pod/UNIVERSAL\" rel=\"nofollow noreferrer\"><code>UNIVERSAL</code></a> package, which defines <code>can</code>.</p>\n\n<p>Also, I should add on a more philosophical note - it sounds like your overriding is violating the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov Subsitution Principle</a>, it would probably be better to refactor things so that overriding a method isn't something you have to investigate elsewhere in the code.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500590929, "post_id": 45226274, "comment_id": 77419020, "body": "<code>==</code> is more efficient than <code>eq</code>for references."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 4, "last_activity_date": 1500590151, "creation_date": 1500590151, "answer_id": 45226274, "question_id": 45226003, "link": "https://stackoverflow.com/questions/45226003/determine-if-base-class-subroutine-has-been-overridden-from-the-base-class/45226274#45226274", "title": "Determine if base class subroutine has been overridden from the base class", "body": "<pre><code>Parent-&gt;UNIVERSAL::can('who') ne Child-&gt;UNIVERSAL::can('who')\n</code></pre>\n\n<p><code>UNIVERSAL::can(PACKAGE,METHODNAME)</code> returns a reference to the subroutine that will be called when the given method name in used in the given package. If the packages are different but the return values are the same, it means that one package is inheriting the method from the other (or they are both inheriting it from a common source). This method works for multiple levels of inheritance:</p>\n\n<pre><code>package Parent;\nsub foo { 42 }\nsub bar { 19 }\nsub baz { 47 }\n\npackage Child;\n@Child::ISA = qw(Parent);\nsub bar { 19 }\n\npackage Grandchild;\n@Grandchild::ISA = qw(Child);\nsub foo { 42 }\n\n##############\n\npackage main;\n\nprint \"foo:\", Parent-&gt;UNIVERSAL::can('foo'), \n    Child-&gt;UNIVERSAL::can('foo'),\n    Grandchild-&gt;UNIVERSAL::can('foo'),\"\\n\";\n\nprint \"bar:\", Parent-&gt;UNIVERSAL::can('bar'), \n    Child-&gt;UNIVERSAL::can('bar'),\n    Grandchild-&gt;UNIVERSAL::can('bar'),\"\\n\";\n\nprint \"baz:\", Parent-&gt;UNIVERSAL::can('baz'), \n    Child-&gt;UNIVERSAL::can('baz'),\n    Grandchild-&gt;UNIVERSAL::can('baz'),\"\\n\";\n</code></pre>\n\n<p>Typical output:</p>\n\n<pre><code>foo:CODE(0x17e26e8)CODE(0x17e26e8)CODE(0x17e2b38)\nbar:CODE(0x17e27a8)CODE(0x17e29b8)CODE(0x17e29b8)\nbaz:CODE(0x17e2850)CODE(0x17e2850)CODE(0x17e2850)\n</code></pre>\n"}], "owner": {"reputation": 596, "user_id": 2374365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gVvyj.jpg?s=128&g=1", "display_name": "Ryan Willis", "link": "https://stackoverflow.com/users/2374365/ryan-willis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 45226259, "answer_count": 3, "score": 3, "last_activity_date": 1500597131, "creation_date": 1500588599, "last_edit_date": 1500593411, "question_id": 45226003, "link": "https://stackoverflow.com/questions/45226003/determine-if-base-class-subroutine-has-been-overridden-from-the-base-class", "title": "Determine if base class subroutine has been overridden from the base class", "body": "<p>This question had stumped me but I have since solved the problem and will post my answer.</p>\n\n<p>I have a base class called <code>Parent</code></p>\n\n<h3>Parent</h3>\n\n<pre><code>package Parent;\n\nsub new {\n    my $c = shift;\n    my $s = {}, bless $s, $c;\n    return $s;\n}\n\nsub who {\n    return \"parent\";\n}\n\n1;\n</code></pre>\n\n<p>This parent class exposes a single method; <code>who</code>.</p>\n\n<p>I wrote two child classes: <code>Child</code> and <code>Freak</code>. Only <code>Child</code> overrides <code>who</code>.</p>\n\n<h3>Child</h3>\n\n<pre><code>package Child;\n\nuse base 'Parent';\n\nsub who {\n    return \"child\";\n}\n\n1;\n</code></pre>\n\n<h3>Freak</h3>\n\n<pre><code>package Freak;\n\nuse base 'Parent';\n\n1;\n</code></pre>\n\n<p>How can the base class determine whether the base <code>who</code> method has been overridden?</p>\n\n<p>I want to be able to write something like this</p>\n\n<pre><code>package Parent;\n\nsub new {\n    my $c = shift;\n    my $s = {}, bless $s, $c;\n    return $s;\n}\n\nsub who {\n    return \"parent\";\n}\n\nsub check {\n  my $self = shift;\n\n  my $is_overridden = 1; # what conditional should be here?\n\n  return $is_overridden ? \"yes\" : \"no\";\n}\n\n1;\n</code></pre>\n\n<p>What conditional can I use to determine if the subroutine is overridden?</p>\n"}, {"tags": ["arrays", "perl", "reference"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500588552, "post_id": 45225952, "comment_id": 77418238, "body": "The title of the question does not describe what you are trying to do. You are trying to take the union of two sets of sets."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1500588608, "post_id": 45225952, "comment_id": 77418271, "body": "You seem to want elements that already exist excluded from the new data, but you don&#39;t mention it in your description. Is that correct?"}, {"owner": {"reputation": 153, "user_id": 5376182, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206090505395883/picture?type=large", "display_name": "vp8", "link": "https://stackoverflow.com/users/5376182/vp8"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500588977, "post_id": 45225952, "comment_id": 77418401, "body": "@Borodin, Yes, that&#39;s correct."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1500589741, "post_id": 45225952, "comment_id": 77418671, "body": "@vp8: Then please edit your question to explain the problem properly."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1500589526, "creation_date": 1500589526, "answer_id": 45226165, "question_id": 45225952, "link": "https://stackoverflow.com/questions/45225952/how-to-union-two-array-references-containing-array-references-in-perl/45226165#45226165", "title": "How to union two array references containing array references in perl?", "body": "<p>Use a hash of hashes to represent the existing elements of the union:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $arrayref1 = [[1,2], [3,4], [5,6]];\nmy $arrayref2 = [[1,2], [3,4], [7,8]];\n\nmy %set;\nundef $set{ $_-&gt;[0] }{ $_-&gt;[1] } for @$arrayref1;\n\nmy @union = @$arrayref1;\n\nfor my $pair (@$arrayref2) {\n    push @union, $pair unless exists $set{ $pair-&gt;[0] }{ $pair-&gt;[1] };\n    undef $set{ $pair-&gt;[0] }{ $pair-&gt;[1] };\n}\n\nuse Data::Dumper;\nprint Dumper \\@union;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1500589689, "creation_date": 1500589689, "answer_id": 45226195, "question_id": 45225952, "link": "https://stackoverflow.com/questions/45225952/how-to-union-two-array-references-containing-array-references-in-perl/45226195#45226195", "title": "How to union two array references containing array references in perl?", "body": "<p>This will do as you ask</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $arrayref1 = [[1,2], [3,4], [5,6]];\nmy $arrayref2 = [[1,2], [3,4], [7,8]];\n\nmy $result = meld($arrayref1, $arrayref2);\n\nprint join (', ', map { sprintf \"[%d,%d]\", @$_ } @$arrayref1), \"\\n\";\n\nsub meld {\n    my ($a1, $a2) = @_;\n    my %uniq;\n\n    $uniq{\"@$_\"} = 1 for @$a1;\n\n    for ( @$a2 ) {\n        my $key = \"@$_\";\n        next if $uniq{$key}++;\n        push @$a1, [ @$_ ];\n    }\n\n    $a1;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[1,2], [3,4], [5,6], [7,8]\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 5376182, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206090505395883/picture?type=large", "display_name": "vp8", "link": "https://stackoverflow.com/users/5376182/vp8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1500589689, "creation_date": 1500588306, "last_edit_date": 1500589067, "question_id": 45225952, "link": "https://stackoverflow.com/questions/45225952/how-to-union-two-array-references-containing-array-references-in-perl", "title": "How to union two array references containing array references in perl?", "body": "<p>Let's say I have an array reference which looks like -</p>\n\n<pre><code>my $arrayref1 = [[1,2], [3,4], [5,6]];\n</code></pre>\n\n<p>and, I have another array reference as -</p>\n\n<pre><code>my $arrayref2 = [[1,2], [3,4], [7,8]];\n</code></pre>\n\n<p>How do I achieve something like this -</p>\n\n<pre><code>push @{$arrayref1}, @{$arrayref2};\n</code></pre>\n\n<p>such that arrayref1 will look like this (excluding array references containing common elements) -</p>\n\n<pre><code>$arrayref2 = [[1,2], [3,4], [5,6], [7,8]];\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500576458, "post_id": 45222594, "comment_id": 77412018, "body": "<a href=\"https://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">sort</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 2, "last_activity_date": 1500662830, "last_edit_date": 1500662830, "creation_date": 1500576485, "answer_id": 45222948, "question_id": 45222594, "link": "https://stackoverflow.com/questions/45222594/perl-way-to-run-a-command-taking-input-from-one-array-and-placing-output-in-anot/45222948#45222948", "title": "Perl way to run a command taking input from one array and placing output in another array", "body": "<pre><code>use strict;\nuse warnings;\n\n# custom comparison function for sort\nsub sortie {\n  # map input data $a, $b into data for comparison $A, $B (trailing numbers)\n  my($A,$B) = map { /\\s(\\d+)$/ } ($a,$b);\n  # compare $A and $B numerically returning reverse order\n  # compare $a and $b string as fall-back (when $A and $B are equal)   \n  return $B &lt;=&gt; $A || $a cmp $b;\n}\n\n# data/array to be sorted\nmy @input_array=('abc def 123','ghi jkl 456','mno pqr 789');\n# sort array using sortie for comparison\nmy @output_array = sort sortie @input_array; \n\n# print/show sorted array\nprint \"$_\\n\" for @output_array; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1500577356, "last_edit_date": 1500577356, "creation_date": 1500577048, "answer_id": 45223146, "question_id": 45222594, "link": "https://stackoverflow.com/questions/45222594/perl-way-to-run-a-command-taking-input-from-one-array-and-placing-output-in-anot/45223146#45223146", "title": "Perl way to run a command taking input from one array and placing output in another array", "body": "<pre><code>my @output_array = sort { (split(' ', $b))[2] &lt;=&gt; (split(' ', $a))[2] } @input_array;\n</code></pre>\n\n\n\n<p>or</p>\n\n<pre><code>use Sort::Key qw( rnkeysort );\n\nmy @output_array = rnkeysort { (split)[2] } @input_array;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1500585320, "post_id": 45223670, "comment_id": 77416962, "body": "Under what circumstances is this better than using Perl&#39;s <code>sort</code> function?"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1500588678, "post_id": 45223670, "comment_id": 77418299, "body": "Functionality of specific external sort program may be too hard/costly/timely to implement in perl (e.g. some complicated queries of some proprietary databases).  AFAIK perl had started as a &quot;scripting glue&quot; language. BTW Pure perl implementation of the sample sort given as example is <b>trivial</b>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500588998, "post_id": 45223670, "comment_id": 77418413, "body": "In what circumstances does keeping, at the very least, a copy of the original array, a copy of its stringified version, a stringified copy of the sorted version, and a copy of the sorted array in the memory of the Perl process going to help anything? If your data set is trivial enough that you can utilize the external <code>sort</code> the way you did, you are far better off using Perl&#39;s sort. If not, this is not going to improve the situation. Also, AFAIK, the <code>sort</code> utility does not query any external databases. That would be kinda weird. The OP is misguided and this answer enforces the OP&#39;s mistake."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1500589130, "post_id": 45223670, "comment_id": 77418453, "body": "@Sinan&#220;n&#252;r Anyway such recipe may be used not only for sorting."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1500589843, "post_id": 45223670, "comment_id": 77418700, "body": "@Sinan&#220;n&#252;r You seem to treat &quot;sample task&quot; as the real problem to solve. I have treated it as a trivial &quot;task for tests&quot;."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500593374, "post_id": 45223670, "comment_id": 77419723, "body": "&quot;<b>Goal: Take the items in <code>@input_array</code> and sort them using the <code>sort</code></b>&quot; ... I can easily imagine situations in which it is better to delegate sorting to an external utility. I can&#39;t imagine how doing it this way would help. But, to each his own, I guess."}, {"owner": {"reputation": 65147, "user_id": 473798, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dfe7867872770d2ce64436e7393cede3?s=128&d=identicon&r=PG", "display_name": "Michael Goldshteyn", "link": "https://stackoverflow.com/users/473798/michael-goldshteyn"}, "edited": false, "score": 0, "creation_date": 1500649292, "post_id": 45223670, "comment_id": 77447761, "body": "@Andrzej, thank you for defending your answer and as a result, the original question. The problem presented was a simple example and not at all the actual problem I am trying to solve. It is really too bad that people often read (way) too much into the simple easy to understand examples that are provided to present real world problems on this site. Hopefully my upvote along with the acceptance of your answer, can compensate for any undeserved downvotes you received for trying to be helpful while not being judgmental and narrow-minded as to the actual problem I am trying to solve."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": -1, "last_activity_date": 1500811410, "last_edit_date": 1500811410, "creation_date": 1500578936, "answer_id": 45223670, "question_id": 45222594, "link": "https://stackoverflow.com/questions/45222594/perl-way-to-run-a-command-taking-input-from-one-array-and-placing-output-in-anot/45223670#45223670", "title": "Perl way to run a command taking input from one array and placing output in another array", "body": "<h1>perl - map array into array using external program (e.g. sort)</h1>\n\n<p>\"Pure perl\" solution is better for sample data included in the question<br>\n<strong>but</strong> some people will need (re)map by an external program.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IPC::Run;\n\nsub sortie {\n  my ( $cmd, @input_array ) = @_;\n  my $in = join( \"\\n\", @input_array, '' );\n  IPC::Run::run $cmd, \\$in, \\my $out, \\my $err;\n  return $out =~ /^(.*)$/mg;\n} ## end sub sortie\n\nmy @input_array = ( 'abc def 123', 'ghi jkl 456', 'mno pqr 789' );\nmy @output_array = sortie( [ 'sort', '-nrk3' ], @input_array );\nprint \"$_\\n\" for @output_array;\n</code></pre>\n"}], "owner": {"reputation": 65147, "user_id": 473798, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dfe7867872770d2ce64436e7393cede3?s=128&d=identicon&r=PG", "display_name": "Michael Goldshteyn", "link": "https://stackoverflow.com/users/473798/michael-goldshteyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "accepted_answer_id": 45223670, "answer_count": 3, "score": -2, "last_activity_date": 1500811410, "creation_date": 1500575298, "question_id": 45222594, "link": "https://stackoverflow.com/questions/45222594/perl-way-to-run-a-command-taking-input-from-one-array-and-placing-output-in-anot", "title": "Perl way to run a command taking input from one array and placing output in another array", "body": "<p>For example:</p>\n\n<pre><code># Goal: Take the items in @input_array and sort them using the sort\n#       app with the specified flags\n\n# Partial code follows\nmy @input_array=('abc def 123','ghi jkl 456','mno pqr 789');\nmy @output_array=`sort -nrk3`; # The data fed to the stdin of sort should be\n                              # @input_array with @output_array getting the sorted output\n                              # per the command with the given flags\n\n# Sure, we can dump @input_array to a temp file and use that as the input for sort, but\n# I am hoping to avoid this.\n</code></pre>\n"}, {"tags": ["perl", "tcp", "lwp"], "comments": [{"owner": {"reputation": 2465, "user_id": 2308300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zs5xn.jpg?s=128&g=1", "display_name": "Locane", "link": "https://stackoverflow.com/users/2308300/locane"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1500575386, "post_id": 45222235, "comment_id": 77411372, "body": "Edited - I&#39;m pretty new to web server communication.  The script just queries special URL, that URL contains something like &quot;?serial=59595&quot; which I thought was a &quot;POST&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500575646, "post_id": 45222235, "comment_id": 77411524, "body": "No, in fact, POST requests tend to not have url params."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1500575909, "post_id": 45222235, "comment_id": 77411667, "body": "while LWP::UserAgent (used by LWP::Simple::getprint) does allow keep_alive or a connection cache, it shouldn&#39;t be happening by default"}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 0, "last_activity_date": 1500589294, "creation_date": 1500589294, "answer_id": 45226117, "question_id": 45222235, "link": "https://stackoverflow.com/questions/45222235/explicitly-close-a-connection-established-by-lwpsimple/45226117#45226117", "title": "Explicitly close a connection established by LWP::Simple", "body": "<p>Though it has been pointed out LWP::Simple should not be keeping the connection open unasked, I would suggest to use <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow noreferrer\">LWP::UserAgent</a>. You can then simply let the object run out of scope:</p>\n\n<pre><code>{\n    # Set the timeout to some value you find reasonable\n    my $ua = LWP::UserAgent-&gt;new( timeout =&gt; 30 );\n    # open connection, do what you wanted to use it for\n    # ...\n    # will run out of scope now. This may not be necessary,\n    # but now you can be quite certain the connection is dropped.\n\n}\n</code></pre>\n\n<p>The oo-interface also allows for (imo) simpler configuration of things like timeout etc.</p>\n"}], "owner": {"reputation": 2465, "user_id": 2308300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zs5xn.jpg?s=128&g=1", "display_name": "Locane", "link": "https://stackoverflow.com/users/2308300/locane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500589294, "creation_date": 1500574244, "last_edit_date": 1500587937, "question_id": 45222235, "link": "https://stackoverflow.com/questions/45222235/explicitly-close-a-connection-established-by-lwpsimple", "title": "Explicitly close a connection established by LWP::Simple", "body": "<p>I have a Perl script that uses <code>getprint</code> from\n<a href=\"https://metacpan.org/pod/LWP::Simple\" rel=\"nofollow noreferrer\"><code>LWP::Simple</code></a>\nto fetch some JSON data.</p>\n\n<p>We're seeing lingering TCP connections remaining open on both servers.</p>\n\n<p>I want to make sure that Perl is explicitly closing the connection when <code>getprint</code> completes. Is there a way to do that?</p>\n"}, {"tags": ["perl", "module", "undefined-reference"], "comments": [{"owner": {"reputation": 61, "user_id": 8125324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d48fc768c8832570dc8fea3e7bd6375?s=128&d=identicon&r=PG&f=1", "display_name": "mschmidt", "link": "https://stackoverflow.com/users/8125324/mschmidt"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500566878, "post_id": 45219045, "comment_id": 77406213, "body": "tried both cpan and cpanm.  Installed under strawverry perl: C:\\Perl64\\strawberry\\perl\\bin"}, {"owner": {"reputation": 61, "user_id": 8125324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d48fc768c8832570dc8fea3e7bd6375?s=128&d=identicon&r=PG&f=1", "display_name": "mschmidt", "link": "https://stackoverflow.com/users/8125324/mschmidt"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500567119, "post_id": 45219045, "comment_id": 77406371, "body": "perl references on PATH are: C:\\Perl64\\strawberry\\c\\bin;C:\\Perl64\\strawberry\\perl\\site\\bi&zwnj;&#8203;n;C:\\Perl64\\strawber&zwnj;&#8203;ry\\perl\\bin"}, {"owner": {"reputation": 61, "user_id": 8125324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d48fc768c8832570dc8fea3e7bd6375?s=128&d=identicon&r=PG&f=1", "display_name": "mschmidt", "link": "https://stackoverflow.com/users/8125324/mschmidt"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500567131, "post_id": 45219045, "comment_id": 77406377, "body": "no other perl installations"}, {"owner": {"reputation": 61, "user_id": 8125324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d48fc768c8832570dc8fea3e7bd6375?s=128&d=identicon&r=PG&f=1", "display_name": "mschmidt", "link": "https://stackoverflow.com/users/8125324/mschmidt"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500567831, "post_id": 45219045, "comment_id": 77406855, "body": "cpanm Statistics::Basic"}, {"owner": {"reputation": 61, "user_id": 8125324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d48fc768c8832570dc8fea3e7bd6375?s=128&d=identicon&r=PG&f=1", "display_name": "mschmidt", "link": "https://stackoverflow.com/users/8125324/mschmidt"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500567856, "post_id": 45219045, "comment_id": 77406863, "body": "the stats package builds and install fine."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 2, "creation_date": 1500569045, "post_id": 45219045, "comment_id": 77407607, "body": "Is it using the right compiler? The filename is MTwist.c, but it&#39;s using a C++ compiler. C and C++ are similar, but different languages and use different naming schemes for their symbol tables."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500571322, "post_id": 45219045, "comment_id": 77408948, "body": "@Chris Turner, That&#39;s not it. SP uses <code>gcc</code> for compiling and <code>g++</code> for linking. I don&#39;t know it&#39;s done that way, but it hasn&#39;t prevented Math::Random::MTwist from being compiled by <a href=\"http://www.cpantesters.org/cpan/report/1e71f4c2-8dfe-1014-9266-30ed5f496936\" rel=\"nofollow noreferrer\">others</a>. (See <code>cc=&#39;gcc&#39;</code> and <code>ld=&#39;g++&#39;</code> in the config of that successful install.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1500573277, "post_id": 45219045, "comment_id": 77410075, "body": "Please <i>edit your question</i> to add information instead of putting it into comments."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1500630336, "post_id": 45219045, "comment_id": 77434469, "body": "Is the version of MTwist the same as in that report? Assuming all the libraries mentioned exist, it could be needing a newer version of one of the dependencies if it&#39;s a more recent version"}], "owner": {"reputation": 61, "user_id": 8125324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d48fc768c8832570dc8fea3e7bd6375?s=128&d=identicon&r=PG&f=1", "display_name": "mschmidt", "link": "https://stackoverflow.com/users/8125324/mschmidt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1500564295, "creation_date": 1500564295, "question_id": 45219045, "link": "https://stackoverflow.com/questions/45219045/strawberry-perl-module-installation-undefined-reference", "title": "strawberry perl module installation undefined reference", "body": "<p>I am running Windows7 and Strawberry Perl 5.26.0.1\nI try to install:</p>\n\n<blockquote>\n  <p>cpan Math::Random::MTwist</p>\n</blockquote>\n\n<pre><code>    \"C:\\Perl64\\strawberry\\perl\\bin\\perl.exe\" -MExtUtils::Mksymlists \\\n     -e \"Mksymlists('NAME'=&gt;\\\"Math::Random::MTwist\\\", 'DLBASE' =&gt; 'MTwist', 'DL_FUNCS' =&gt; {  }, 'FUNCLIST' =&gt; [], 'IMPORTS' =&gt; {  }, 'DL_VARS' =&gt; []);\"\ng++ MTwist.def -o blib\\arch\\auto\\Math\\Random\\MTwist\\MTwist.xs.dll -mdll -s -L\"C:\\Perl64\\STRAWB~1\\perl\\lib\\CORE\" -L\"C:\\Perl64\\STRAWB~1\\c\\lib\" MTwist.o   \"C:\\Perl64\\STRAWB~1\\perl\\lib\\CORE\\libperl526.a\" -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32 -Wl,--enable-auto-image-base\nMTwist.o:MTwist.c:(.text+0x15): undefined reference to `_imp__Perl_get_context'\nMTwist.o:MTwist.c:(.text+0x59): undefined reference to `_imp__Perl_sv_2pv_flags'\n...\n\nMTwist.o:MTwist.c:(.text+0x6ce2): undefined reference to `_imp__Perl_xs_boot_epilog'\ncollect2: ld returned 1 exit status\ngmake: *** [Makefile:490: blib\\arch\\auto\\Math\\Random\\MTwist\\MTwist.xs.dll] Error 1\n-&gt; FAIL Installing Math::Random::MTwist failed. See C:\\Users\\mschmidt\\.cpanm\\work\\1500562766.20452\\build.log for details. Retry with --force to force install it.\n</code></pre>\n\n<p>Any ideas what goes wrong?</p>\n"}, {"tags": ["r", "perl", "pdf"], "comments": [{"owner": {"reputation": 31, "user_id": 8230588, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a20df5a29fbb7d6bef4d5ebf9e8d1f04?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo Mari", "link": "https://stackoverflow.com/users/8230588/alfredo-mari"}, "edited": false, "score": 0, "creation_date": 1500563133, "post_id": 45218542, "comment_id": 77403408, "body": "sorry, follows the proper ending of the code, with closing brackets and semicolumn &quot; ;  and then       $R-&gt; send(&quot;$Rcmd_pure_OTU&quot;); }"}, {"owner": {"reputation": 162158, "user_id": 2372064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vFfVt.jpg?s=128&g=1", "display_name": "MrFlick", "link": "https://stackoverflow.com/users/2372064/mrflick"}, "edited": false, "score": 0, "creation_date": 1500563274, "post_id": 45218542, "comment_id": 77403519, "body": "Why don&#39;t you just do this all in R? Have you actually looked at the R script that&#39;s produced? It&#39;s not easy to help you without a <a href=\"https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example\">reproducible example</a>"}, {"owner": {"reputation": 368, "user_id": 5307205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f3c0806aa8d9cfdf938176ba0bbd0bb?s=128&d=identicon&r=PG&f=1", "display_name": "Geochem B", "link": "https://stackoverflow.com/users/5307205/geochem-b"}, "edited": false, "score": 0, "creation_date": 1500563296, "post_id": 45218542, "comment_id": 77403532, "body": "What packages do you have running?  ggsave is part of <code>ggplot</code>, wondering what else may be conflicting."}, {"owner": {"reputation": 31, "user_id": 8230588, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a20df5a29fbb7d6bef4d5ebf9e8d1f04?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo Mari", "link": "https://stackoverflow.com/users/8230588/alfredo-mari"}, "reply_to_user": {"reputation": 162158, "user_id": 2372064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vFfVt.jpg?s=128&g=1", "display_name": "MrFlick", "link": "https://stackoverflow.com/users/2372064/mrflick"}, "edited": false, "score": 0, "creation_date": 1500580202, "post_id": 45218542, "comment_id": 77414148, "body": "@MrFlick, well, i am not super good in r concerning file handling, i mostly use it for stats, whereas for directories and files i normally use perl, but any suggestion how to convert in r would be really appreciated, i am not sure what you mean by looking at the product of the r script, for the tables i have the right tables in the right directories, but not the pdf. Whereas the r script alone was running ok @"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1500886154, "creation_date": 1500886154, "answer_id": 45276083, "question_id": 45218542, "link": "https://stackoverflow.com/questions/45218542/r-embedded-code-in-perl-ggsave-failing-to-save-pdf-file/45276083#45276083", "title": "R embedded code in perl, ggsave failing to save pdf file", "body": "<p>It is very difficult to debug a program that is stored as a string with interpolated variables.  It would be better to move that R code into its own R file <code>create_plots.R</code> and then just pass in variables directly.  Here are 2 approaches that would then work: </p>\n\n<p><strong>1 - Rewrite all of the file / directory operations in R</strong></p>\n\n<p><strong>inside create_plots.R</strong></p>\n\n<pre><code># Find files:\nfiles &lt;- list.files(pattern = \"\\\\.txt$\")\n\n# Create a directory:\ndir.create(file.path(mainDir, subDir))\nsetwd(file.path(mainDir, subDir))\n\n# Other stuff ...\n</code></pre>\n\n<p><strong>2 - Invoke Rscript and pass it parameters from your perl script</strong></p>\n\n<p><strong>inside create_plots.R</strong></p>\n\n<pre><code># Collect command line arguments\nargs  &lt;- commandArgs( trailingOnly = TRUE )\nfoo   &lt;- args[1]\nbar   &lt;- args[2]\nbaz   &lt;- args[3]\n</code></pre>\n\n<p><strong>inside create_plots.pl</strong></p>\n\n<pre><code># Invoke from perl script:\nmy $cmd = '/path/to/Rscript create_plots.R param1 param2 param3'\n(system( $cmd ) == 0)\n    or die \"Unable to run '$cmd' : $!\";\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8230588, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a20df5a29fbb7d6bef4d5ebf9e8d1f04?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo Mari", "link": "https://stackoverflow.com/users/8230588/alfredo-mari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500886154, "creation_date": 1500563000, "last_edit_date": 1500580919, "question_id": 45218542, "link": "https://stackoverflow.com/questions/45218542/r-embedded-code-in-perl-ggsave-failing-to-save-pdf-file", "title": "R embedded code in perl, ggsave failing to save pdf file", "body": "<p>I have a R code embedded in perl, the idea is to read a directory, put the files into an array, then loop through the array for each file, run the r rscript, that basically caluclates some stats, print them via write.table, and also make some plots, via ggplot and then save them via ggsave, everything works fine, at least the perl part, and the first part of the r script, it calculates the stats and write them correclty in the correct directory, however, when it comes to the plots, somehow ggsave doesn't work and i have no pdf file nowhere.\nwhat can the reason be? Before embedding in perl i was running the r script on r studio and ggsave was working fine.\nany help will be appreciated, i attach the code below:</p>\n\n<pre><code>my $mapfile = shift;\nmy $OTUdir = shift;\nopendir my $OpOTUdir, $OTUdir;\nmy @OTUtab = grep {/\\.txt/} readdir $OpOTUdir;\nmy $OTUtab;\n\nforeach $OTUtab (@OTUtab){\nmy @splitname = split (/\\_/, $OTUtab);\nmy $primer = $splitname[0];\nmy $dirout = \"Subplot_dir_OTU\".$primer.\".out\";\nmy $dir = \"./\".$primer.\"_plots/\";\nmy $SubPlotdir = \"bsub -o $dirout  mkdir $dir\";\nmy $run1 = system ('bash','-c',\"$bsub &amp;&amp; $SubPlotdir \") == 0\n or die \"Can't create the directories per primer set\";\nsleep 1 until -e \"$dirout\";\n\nmy $Rcmd_pure_OTU = \"      #here starts the r script\nlibrary (\\'vegan\\')\nraw_data &lt;- read.csv(\\\"\".$OTUdir.\"$OTUtab\\\", row.names =1, sep =\\\"\\t\\\",   dec=\\\".\\\", header =T, skip =1)\npre_OTU_tab &lt;- raw_data[,-which(names(raw_data) == \\\"taxonomy\\\")]\nOTU_tab &lt;- t(pre_OTU_tab)\nlog_OTU &lt;- log10(OTU_tab + 1)\n\nmap &lt;- read.csv(\\\"$mapfile\\\", sep =\\\"\\\", row.names =1, header = T)\nordered_Map &lt;- map[match(row.names(OTU_tab), row.names(map)),]\nre_ordered_Map &lt;- ordered_Map[complete.cases(ordered_Map),]\ndist_bray &lt;- vegdist(log_OTU, method= \\\"bray\\\", binary=FALSE)\ndist_bray_binary &lt;- vegdist(log_OTU, method=\\\"bray\\\", binary=TRUE)\ncap_bray &lt;- capscale(dist_bray ~ 1)\ncap_bray_bin &lt;- capscale(dist_bray_binary ~ 1)\ncap_bray_year &lt;- capscale(dist_bray ~ as.factor(re_ordered_Map\\$Origin))\ncap_bray_bin_year &lt;- capscale(dist_bray_binary ~     as.factor(re_ordered_Map\\$Origin))\nCA1perc_log &lt;- (cap_bray\\$CA\\$eig[1]/sum(cap_bray\\$CA\\$eig))*100\nCA1perc_log &lt;- round(CA1perc_log, digits = 1)\nCA2perc_log &lt;- (cap_bray\\$CA\\$eig[2]/sum(cap_bray\\$CA\\$eig))*100\nCA2perc_log &lt;- round(CA2perc_log, digits = 1)\nCA1perc_log_bin &lt;- (cap_bray_bin\\$CA\\$eig[1]/sum(cap_bray_bin\\$CA\\$eig))*100\nCA1perc_log_bin &lt;- round(CA1perc_log_bin, digits = 1)\nCA2perc_log_bin &lt;- (cap_bray_bin\\$CA\\$eig[2]/sum(cap_bray_bin\\$CA\\$eig))*100\nCA2perc_log_bin &lt;- round(CA2perc_log_bin, digits = 1)\nCAperc_log_year &lt;- round((sum(cap_bray_year\\$CCA\\$eig)/sum(cap_bray_year\\$CA\\$eig, cap_bray_year\\$CCA\\$eig))*100, digits = 1)\nCAperc_log_bin_year &lt;- round((sum(cap_bray_bin_year\\$CCA\\$eig)/sum(cap_bray_bin_year\\$CA\\$eig, cap_bray_bin_year\\$CCA\\$eig))*100, digits = 1)\n#print the stats \n#Year\nSigTest1 &lt;- anova(cap_bray_year, by=\\\"term\\\", step=9999, perm.max=9999)\nCapResults1 &lt;- c(CAperc_log_year, SigTest1\\$'Pr(&gt;F)'[1])\nResults1 &lt;- rbind(CapResults1) \ncolnames(Results1) &lt;- c(\\\"Percent_Correlated\\\", \\\"pval\\\")\nwrite.table(Results1,      file=\\\"\".$dir.\"Year_pvalue_constraints_\".$primer.\".txt\\\", sep=\\\"\\t\\\", quote=F, col.names=NA)\n#binary year\nSigTest2 &lt;- anova(cap_bray_bin_year, by=\\\"term\\\", step=9999, perm.max=9999)\nCapResults2 &lt;- c(CAperc_log_bin_year, SigTest2\\$'Pr(&gt;F)'[1])\nResults2 &lt;- rbind(CapResults2) \ncolnames(Results2) &lt;- c(\\\"Percent_Correlated\\\", \\\"pval\\\")\nwrite.table(Results2,    file=\\\"\".$dir.\"Binary_year_p_value_constraints_\".$primer.\".txt\\\", sep=\\\"\\t\\\", quote=F, col.names=NA)\n\ndata_for_plot &lt;- cbind(cap_bray\\$CA\\$u,re_ordered_Map)\ndata_for_plot_bin &lt;- cbind(cap_bray_bin\\$CA\\$u,re_ordered_Map)\n\ndata_for_plot_year &lt;- cbind(cap_bray_year\\$CA\\$u,re_ordered_Map)\ndata_for_plot_bin_year &lt;- cbind(cap_bray_bin_year\\$CA\\$u,re_ordered_Map)\ncbbPalette &lt;- c(\\\"#000000\\\", \\\"#E69F00\\\", \\\"#56B4E9\\\", \\\"#009E73\\\", \\\"#F0E442\\\", \\\"#0072B2\\\", \\\"#D55E00\\\", \\\"#CC79A7\\\")\nColorCount &lt;- length(unique(re_ordered_Map\\$Origin))\nGetPalette &lt;- colorRampPalette(cbbPalette, bias =3, interpolate = \\\"spline\\\", alpha = TRUE)\nplot_unco &lt;- ggplot(data_for_plot) + \ngeom_point( size=4, aes(x=MDS1, y=MDS2, shape= inf_uni, color = Origin),  position = position_jitter(w = 0.1, h = 0.1))+\ngeom_vline(xintercept = 0, size = 0.3) +\ngeom_hline(yintercept = 0, size = 0.3) +\nscale_color_manual(values = GetPalette(ColorCount)) +\ntheme (\npanel.background = element_blank(),\nlegend.key = element_rect (fill = \\\"white\\\"),\nlegend.text = element_text (size = 15),\nlegend.title = element_text (size = 17, face = \\\"bold\\\"),\naxis.text = element_text(size =17),\naxis.line = element_line(color= \\\"black\\\", size =0.6),\naxis.title = element_text(size =19, face = \\\"bold\\\")    \n)\nggsave(\\\"\".$dir.\"My_\".$primer.\"_Uncostrained.pdf\\\", plot = plot_unco, width=12, height=12, units = \\\"in\\\")\nplot_bin_unco &lt;- ggplot(data_for_plot_bin) + \ngeom_point( size=4, aes(x=MDS1, y=MDS2, shape= inf_uni, color = Origin),   position = position_jitter(w = 0.1, h = 0.1))+\ngeom_vline(xintercept = 0, size = 0.3) +\ngeom_hline(yintercept = 0, size = 0.3) +\nscale_color_manual(values = GetPalette(ColorCount)) +\ntheme (\npanel.background = element_blank(),\nlegend.key = element_rect (fill = \\\"white\\\"),\nlegend.text = element_text (size = 15),\nlegend.title = element_text (size = 17, face = \\\"bold\\\"),\naxis.text = element_text(size =17),\naxis.line = element_line(color= \\\"black\\\", size =0.6),\naxis.title = element_text(size =19, face = \\\"bold\\\")    \n)\nggsave(\\\"\".$dir.\"My_\".$primer.\"_Uncostrained_bin.pdf\\\", plot =plot_bin_unco, width=12, height=12, units = \\\"in\\\")\n</code></pre>\n"}, {"tags": ["perl", "reference"], "answers": [{"comments": [{"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500562312, "post_id": 45218128, "comment_id": 77402753, "body": "That was a typo in my question.  My original code didn&#39;t have a stray apostrophe.  Fixing question now.  Good catch, thanks!"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500563894, "post_id": 45218128, "comment_id": 77403977, "body": "Okay, your example with 5 and 10 really did the trick for me.  You&#39;re saying that my broken code is trying to do <code>${\\5}=10</code>, which certainly looks very suspicious.  But!  The following analogous code works just fine: <code>@{[5]} = (10)</code>.  Does this mean that there is some difference in the treatment of scalar literals that doesn&#39;t apply to the other basic types?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500564117, "post_id": 45218128, "comment_id": 77404145, "body": "<code>@{[]}=()</code> is not analogous. <code>[]</code> is a reference to an anonymous array. An array is a modifiable data structure even if it is anonymous. With <a href=\"https://metacpan.org/pod/Const::Fast\" rel=\"nofollow noreferrer\">Const::Fast</a> installed, try: <code>const my $x =&gt; [1]; @$x = ()</code>."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500564205, "post_id": 45218128, "comment_id": 77404210, "body": "Aha!  So the difference is that scalars are immutable!  Which means my attempt at making a class backed by a string was misguided from the start.  Right?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500564240, "post_id": 45218128, "comment_id": 77404243, "body": "Scalar variables are not immutable. Scalar literals just like list literals are. Try <code>(1,2,3)[1] = 5</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500564314, "post_id": 45218128, "comment_id": 77404298, "body": "You can of course have class backed by a string. <code>my ($class, $self) = @_; bless \\$self =&gt; $class</code>."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 1, "creation_date": 1500564930, "post_id": 45218128, "comment_id": 77404789, "body": "Okay, things are beginning to make sense, though it is a bit bizarre from a Python mindset and from a C++ mindset.  Let me see if I got this right.  Literals are always immutable, and so a reference to a literal is a reference to a constant, and thus can&#39;t be changed, because changing the number 5 makes no sense.  Assigning a literal to variable tells Perl to assign the literal a place to live.  Now taking a reference to this variable gives you a perfectly good mutable object.  Is this about right?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500565192, "post_id": 45218128, "comment_id": 77405007, "body": "See also <a href=\"https://perldoc.perl.org/perlobj.html#Non-Hash-Objects\" rel=\"nofollow noreferrer\">Non-hash objects in <code>perldoc perlobj</code></a>."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 1, "creation_date": 1500565192, "post_id": 45218128, "comment_id": 77405011, "body": "Okay, thanks!  I would really love to have diagram, but I don&#39;t know how to explain what diagram I want, and this interface is not conducive to drawing them anyway.  You&#39;ve answered my original question and several more along the way.  Thanks again!"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500565268, "post_id": 45218128, "comment_id": 77405059, "body": "Yeah, I saw that Non-hash objects link.  I found it totally unhelpful.  Oh well."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1500569277, "post_id": 45218128, "comment_id": 77407742, "body": "<code>[]</code> copies all that you put in it.  just as <code>$x=1; $y=[$x]; $y[0]=2</code> does not set <code>$x</code> to 2, <code>$y=[5]; $y[0]=6</code> does not set the constant 5 to 6; instead when the array is created it has a single new scalar element whose value is set to 5, and that new scalar is what is modified."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 1, "creation_date": 1500571992, "post_id": 45218128, "comment_id": 77409322, "body": "@Mark VY, <code>[ ]</code> creates a new array. <code>[ 5 ]</code> is roughly equivalent to <code>do { my @anon = 5; \\@anon }</code>. That means the scalar equivalent of <code>@{[5]} = 10;</code> is <code>${ do { my $anon = 5; \\$anon } } = 10;</code>, not <code>${ \\5 } = 10;</code>. Conversely, the array equivalent of <code>${ \\5 } = 10;</code> would be <code>use Readonly; Readonly::Array my @a =&gt; 5; @{ \\@a } = 10;</code>."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500575511, "post_id": 45218128, "comment_id": 77411457, "body": "Thanks, that helps a bit, I think.  I wish there were a bit more symmetry with respect to when a new object gets created implicitly and when not."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 5, "last_activity_date": 1500565020, "last_edit_date": 1592644375, "creation_date": 1500562114, "answer_id": 45218128, "question_id": 45217971, "link": "https://stackoverflow.com/questions/45217971/in-perl-why-cant-i-bless-a-variable-which-contains-a-reference-to-a-literal/45218128#45218128", "title": "In Perl, why can&#39;t I bless a variable which contains a reference to a literal?", "body": "<p><code>\\''</code> is a reference to a literal.</p>\n<p><code>\\$thing</code> is a reference to <code>$thing</code>. The value of <code>$thing</code> is set to the empty string at the moment.</p>\n<p>The reason for the error you are getting is the same as the reason the following will give you the same error:</p>\n<pre><code>my $thing = \\5;\n$$thing = 10;\n</code></pre>\n<p><code>bless</code> modifies the thing to which its first argument refers. In this case, and in yours, <code>$x</code> refers to something that is not modifiable.</p>\n<p>See <a href=\"https://perldoc.perl.org/perlobj.html#Objects-Are-Blessed;-Variables-Are-Not\" rel=\"nofollow noreferrer\">perldoc perlobj</a>:</p>\n<blockquote>\n<p><strong>Objects Are Blessed; Variables Are Not</strong></p>\n<p>When we <code>bless</code> something, we are not blessing the variable which contains a reference to that thing, nor are we blessing the reference that the variable stores; we are blessing <em><strong>the thing that the variable refers to</strong></em> (sometimes known as the <em>referent</em>). (<em>emphasis mine</em>)</p>\n</blockquote>\n<p>If you want a class backed by a scalar, you can do this:</p>\n<pre><code>#!/usr/bin/env perl\n\nuse v5.10;\n\npackage MyString;\n\nuse strict; use warnings;\n\nsub new {\n    my ($class, $self) = @_;\n    bless \\$self =&gt; $class;\n}\n\nsub content { ${$_[0] }\nsub length { length ${$_[0]} }\n\npackage main;\n\nuse strict; use warnings;\n\nmy $string =&gt; MyString-&gt;new(&quot;Hello World&quot;);\n\nsay $string-&gt;$_ for qw(content length);\n</code></pre>\n<p>Of course, you need to exercise discipline and not modify instance data through the backdoor as in <code>$$string = &quot;Bye bye cruel world&quot;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1500562981, "creation_date": 1500562981, "answer_id": 45218534, "question_id": 45217971, "link": "https://stackoverflow.com/questions/45217971/in-perl-why-cant-i-bless-a-variable-which-contains-a-reference-to-a-literal/45218534#45218534", "title": "In Perl, why can&#39;t I bless a variable which contains a reference to a literal?", "body": "<p>The <code>bless</code> operator works <em>through</em> a reference: it is the referenced object that becomes blessed. Most often the referenced data is a hash, but as you've found it may also be a scalar or any other Perl data type</p>\n\n<pre><code>my $thing = '';\nbless \\$thing; # class is implicit\n</code></pre>\n\n<p>This is fine. You are setting <code>$thing</code> to an empty string (which is irrelevant here) and you are blessing it by passing a reference to it to <code>bless</code></p>\n\n<pre><code>my $thing = \\'';\nbless $thing; # class again implicit\n</code></pre>\n\n<p>This sets <code>$thing</code> to a <em>reference</em> to a string constant, so the <code>bless</code> is then attempting to work on that constant which is impossible because, as the message says, it is read-only</p>\n\n<p>In short, in the first case you are blessing the scalar variable <code>$thing</code> while in the second case you are trying to bless string constant <code>''</code> which fails</p>\n"}], "owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 45218128, "answer_count": 2, "score": 3, "last_activity_date": 1500565020, "creation_date": 1500561786, "last_edit_date": 1500563141, "question_id": 45217971, "link": "https://stackoverflow.com/questions/45217971/in-perl-why-cant-i-bless-a-variable-which-contains-a-reference-to-a-literal", "title": "In Perl, why can&#39;t I bless a variable which contains a reference to a literal?", "body": "<p>I've been trying to learn Perl for a few days, and am still frequently surprised and sometimes mystified at how and why it does things.  Here is my latest puzzle: why are the following two blocks of code not equivalent?</p>\n\n<pre><code>my $thing = '';\nbless \\$thing; # class is implicit\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>my $thing = \\'';\nbless $thing; # class again implicit\n</code></pre>\n\n<p>The second form says \"Modification of a read-only value attempted\" on the second line.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500559990, "post_id": 45216906, "comment_id": 77400849, "body": "I am inclined to close this as a <a href=\"https://stackoverflow.com/q/16755642/100754\">duplicate</a>."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1500722772, "post_id": 45216906, "comment_id": 77472010, "body": "perl6 could probably do this."}], "answers": [{"comments": [{"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1500560092, "post_id": 45217077, "comment_id": 77400932, "body": "Yeah, I know about those, I just thought I had seen a new syntax (&#224; la hash slices) that let you do the equivalent thing without an additional expression like map or zip."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1500560296, "post_id": 45217077, "comment_id": 77401088, "body": "Are you thinking of <a href=\"https://metacpan.org/pod/perldata#Key/Value-Hash-Slices\" rel=\"nofollow noreferrer\">Key/Value Hash Slices</a>? I haven&#39;t used them. I am not sure if they can be used to do this."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 1, "creation_date": 1500561330, "post_id": 45217077, "comment_id": 77401967, "body": "It might be that, or it might have been something in Perl 6.  I am starting to think I imagined the whole thing. I just went through the last four perldeltas and I didn&#39;t see anything obvious about it."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1500561896, "post_id": 45217077, "comment_id": 77402430, "body": "There is also <a href=\"https://redd.it/5y3qwk\" rel=\"nofollow noreferrer\">this</a>."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1500559504, "creation_date": 1500559504, "answer_id": 45217077, "question_id": 45216906, "link": "https://stackoverflow.com/questions/45216906/how-do-i-declare-and-initialize-a-hash-from-two-lists-keys-and-values/45217077#45217077", "title": "How do I declare and initialize a hash from two lists (keys and values)?", "body": "<pre><code>my %hash = map +($keys[$_] =&gt; $values[$_]), 0 .. $#keys;\n</code></pre>\n\n<p>Or, you can use <code>List::MoreUtils::zip</code>, but I suspect <code>@hash{@keys} = @values</code> will be more efficient.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @keys = ('a' .. 'z');\nmy @values = map ord, @keys;\n\nmy %map = map +($keys[$_] =&gt; $values[$_]), 0 .. $#keys;\n\nuse YAML::XS;\nprint Dump \\%map;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1500642145, "post_id": 45235548, "comment_id": 77442597, "body": "That reverse does nothing useful.  The hash will already be in a random order (untied hashes can&#39;t preserve order). Also, none of this is new syntax."}], "tags": [], "owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "is_accepted": false, "score": 0, "last_activity_date": 1500633610, "creation_date": 1500633610, "answer_id": 45235548, "question_id": 45216906, "link": "https://stackoverflow.com/questions/45216906/how-do-i-declare-and-initialize-a-hash-from-two-lists-keys-and-values/45235548#45235548", "title": "How do I declare and initialize a hash from two lists (keys and values)?", "body": "<p>Here is another way to do it ... </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse feature 'say';\nuse List::MoreUtils qw(zip); # Here is another way to make a hash. \n# If you forgot how to install the module if it didn't come with your system perl, it's easy ...\n# cpan install List::MoreUtils \n# Do that in your terminal. \n\n# I decided to reverse the letters and the numbers so I could show you how to sort it the hash. \nmy @letters = reverse('A' .. 'Z');\nmy @numbers = reverse(1 .. 26);\nmy %Hash;\n\n# You can make a hash like this from arrays of equal sizes. \n@Hash{@letters} = @numbers; \n\nsay \"\\n Here is the hash formed standardly\";\nforeach(sort{$a cmp $b} keys %Hash)\n{\n    say \"$_ =&gt; $Hash{$_}\";\n}\n\n%Hash = zip(@letters, @numbers);\nsay \"\\nHere is the hash formed using the zip function\";\nforeach(sort{$a cmp $b} keys %Hash)\n{\n    say \"$_ =&gt; $Hash{$_}\";\n}\n</code></pre>\n"}], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "closed_date": 1500640681, "answer_count": 2, "score": 1, "last_activity_date": 1500633610, "creation_date": 1500559108, "question_id": 45216906, "link": "https://stackoverflow.com/questions/45216906/how-do-i-declare-and-initialize-a-hash-from-two-lists-keys-and-values", "closed_reason": "Duplicate", "title": "How do I declare and initialize a hash from two lists (keys and values)?", "body": "<p>I seem to recall seeing some syntax recently that let you do something like this</p>\n\n<pre><code>my %hash; @hash{@keys} = @values;\n</code></pre>\n\n<p>in one statement.  I tried the obvious</p>\n\n<pre><code>my %hash{@keys} = @values;\n</code></pre>\n\n<p>But that produced a syntax error.  Was I just dreaming, or is there a new syntax for that?</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1500554678, "post_id": 45214778, "comment_id": 77396197, "body": "You need to explain where you&#39;re moving your file from and to. There&#39;s CGI server, a system where the file is, and a system where you want to copy the file to. Are two of these system the same? I also don&#39;t understand why you want to use <code>SFTP</code> if the destination system won&#39;t accept it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1500554963, "post_id": 45214778, "comment_id": 77396447, "body": "<i>&quot;If anyone knows a way to do it please post the code so I can modify it and insert into my script&quot;</i> That is not a good way to learn to program."}, {"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500559430, "post_id": 45214778, "comment_id": 77400375, "body": "I am putting the file on the server which Apache and the cgi script resides. I was told by my professor it is impossible and nobody has updated the project in 20 years."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500566104, "post_id": 45214778, "comment_id": 77405677, "body": "Right, so we&#39;re going to need some more information. You have a CGI program that uploads a file from the user&#39;s local machine to a web server. You then want to transfer that file to a different server. But you&#39;ve been unsuccessful using Net::FTP or Net::SFTP. Is that accurate? It would be very helpful to know what that lack of success looked like. Did you get an error message? Did the file just not appear on the target server? Did your school&#39;s computer centre burst into flames?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500566280, "post_id": 45214778, "comment_id": 77405799, "body": "Do you think that FTP is running on the target server? Do you have an FTP account on the server? Same questions for SFTP. You see, if (S)FTP isn&#39;t available on the target server, then it won&#39;t matter whether you&#39;re using a Perl module or the command-line program. If it doesn&#39;t work, then it doesn&#39;t work. But if you can get it working with the command-line program, then it should be possible to get it working through the equivalent Perl module."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1500566294, "post_id": 45214778, "comment_id": 77405810, "body": "Please clarify whether this is just a matter of needing one image file copied to the HTTP server (in which case perhaps you could just use a flash drive) or if you need to write some CGI code that will allow you to upload any file from the client machine to the host, for which you need only HTTP,. The whole process for the latter is described in the documentation for the <code>CGI</code> module under <a href=\"http://search.cpan.org/~lds/CGI.pm-3.43/CGI.pm#CREATING_A_FILE_UPLOAD_FIELD\" rel=\"nofollow noreferrer\"><i>CREATING A FILE UPLOAD FIELD</i></a>. If it&#39;s a different scenario that I haven&#39;t thought of then you will have to explain."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1500566398, "post_id": 45214778, "comment_id": 77405889, "body": "In short, please edit your question to tell us <b>exactly</b> what you have tried and <b>exactly</b> what unexpected behaviour you are seeing and we might have a chance of getting this fixed for you. Without that information, we&#39;re all just wasting our time."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1500566477, "post_id": 45214778, "comment_id": 77405950, "body": "...And do it soon. Your question already has three close votes :-)"}, {"owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "edited": false, "score": 0, "creation_date": 1500584137, "post_id": 45214778, "comment_id": 77416393, "body": "Borodin thank you for providing the guide. I was not able to find information on uploading with Google, I have written my code and it works perfectly using -wT. I appreciate the constructive criticism, however I already have employment where I will never be using perl. I am trying to get through the course with an instructor who can not provide instructions."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500622807, "post_id": 45214778, "comment_id": 77429187, "body": "@KieranO&#39;Connor: It sounds like you have solved your problem. If that&#39;s  the case, it would be a good idea to write up your solution as an answer to your question. You can even accept your own answer. Without an answer, this question is useless to anyone with a similar problem who comes across it in the future."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500899886, "post_id": 45255251, "comment_id": 77523986, "body": "I fixed the formatting of your code (and a couple of <code>Use</code> vs <code>use</code> typos). Please be more careful in the future."}], "tags": [], "owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "is_accepted": true, "score": 0, "last_activity_date": 1500899850, "last_edit_date": 1500899850, "creation_date": 1500731089, "answer_id": 45255251, "question_id": 45214778, "link": "https://stackoverflow.com/questions/45214778/using-sftp-to-transfer-images-from-html-form-to-remote-linux-server-using-perl-c/45255251#45255251", "title": "Using SFTP to transfer images from HTML form to remote linux server using PERL/CGI.pm", "body": "<pre><code>use CGI qw(:standard);\nuse File::Basename;\nmy ( $name, $path, $extension) = fileparse ( $productimage, '..*' ); \n$productimage = $name . $extension;\n$productimage =~ tr/ /_/; $productimage =~ s/[^$safechars]//g;\nif ( $productimage =~/^([$safechars]+)$/ ) {\n    $productimage = $1;\n} else {\n    die \"Filename contains invalid characters\";\n}\n\n$fh = upload('image');\n$uploaddir = \"../../.hidden/images\";\nopen ( UPLOADFILE, \"&gt;$uploaddir/$productimage\" )\n  or die \"$!\"; binmode UPLOADFILE;\n\nwhile (&lt;$fh&gt;) {\n    print UPLOADFILE;\n}\n\nclose UPLOADFILE;\n</code></pre>\n\n<p>This is the code I used to upload the file into the server. </p>\n"}], "owner": {"reputation": 69, "user_id": 6622169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb541388df0bb73d4b10af8383b907?s=128&d=identicon&r=PG&f=1", "display_name": "OrcMan", "link": "https://stackoverflow.com/users/6622169/orcman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 1, "accepted_answer_id": 45255251, "answer_count": 1, "score": -4, "last_activity_date": 1500899850, "creation_date": 1500553827, "last_edit_date": 1500554929, "question_id": 45214778, "link": "https://stackoverflow.com/questions/45214778/using-sftp-to-transfer-images-from-html-form-to-remote-linux-server-using-perl-c", "title": "Using SFTP to transfer images from HTML form to remote linux server using PERL/CGI.pm", "body": "<p>This is a school project, and the instructor has no knowledge of how to write the code.</p>\n\n<p>I am using <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow noreferrer\"><code>CGI</code></a> and I am attempting to transfer a file without using <a href=\"https://metacpan.org/pod/Net::FTP\" rel=\"nofollow noreferrer\"><code>Net::FTP</code></a> or <a href=\"https://metacpan.org/pod/Net::SFTP\" rel=\"nofollow noreferrer\"><code>Net::SFTP</code></a> since the server I am attempting to transfer it to will not allow connections from these services. I have written the HTML form and I am able to grab the name of the file uploaded through <code>CGI</code>.</p>\n\n<p>Is it possible to use the SFTP command within a Perl script that resides on a Linux server using bash to transfer a file uploaded through an HTML form?</p>\n\n<p>If anyone knows a way to do it please post the code so I can modify it and insert into my script. </p>\n"}, {"tags": ["perl", "snmp", "modem"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1500548451, "post_id": 45211610, "comment_id": 77391406, "body": "In order to have any chance of helping here, we need to know what kind of object <code>$session</code> is."}, {"owner": {"reputation": 31, "user_id": 2645881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a7a4e4e318c4e65c63f7f0d0499ae8f?s=128&d=identicon&r=PG", "display_name": "Anil Singh", "link": "https://stackoverflow.com/users/2645881/anil-singh"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500548882, "post_id": 45211610, "comment_id": 77391682, "body": "my ($session, $error) = Net::SNMP-&gt;session(             -version     =&gt; &#39;snmpv2c&#39;,             -nonblocking =&gt; 1,             -hostname    =&gt; $in_hostname,             -community   =&gt; $in_community,             -port        =&gt; 161,             -timeout     =&gt; 3,             -retries     =&gt; 1         ); @DaveCross if you are familiar with perl snmp request"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1500549486, "post_id": 45211610, "comment_id": 77392059, "body": "Please don&#39;t dump code into comments. Comments on Stack Overflow don&#39;t support code formatting. Instead, please <a href=\"https://stackoverflow.com/posts/45211610/edit\">edit your question</a> to add the code."}], "answers": [{"tags": [], "owner": {"reputation": 993, "user_id": 163206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xn6Bw.png?s=128&g=1", "display_name": "Michael Kirkham", "link": "https://stackoverflow.com/users/163206/michael-kirkham"}, "is_accepted": false, "score": 1, "last_activity_date": 1502110295, "creation_date": 1502110295, "answer_id": 45547369, "question_id": 45211610, "link": "https://stackoverflow.com/questions/45211610/perl-snmp-get-bulk-request-function-returning-data-for-all-indexes-while-added-i/45547369#45547369", "title": "perl snmp get_bulk_request function returning data for all indexes while added index in oid , snmpwalk on terminal giving correct index data not all", "body": "<p>I'm not sure I am interpreting your question correctly, but it sounds like you are asking why snmpwalk (CLI tool) returns only OIDs that have the same prefix as the one you specified, while using get-bulk from your perl code returns OIDs beyond the subtree you requested.</p>\n\n<p>This would be expected behavior. \"snmpwalk\" is not an SNMP request type; get-bulk and get-next are. Instead, \"snmpwalk\" is a specialized tool that uses get-next or get-bulk and handles, itself, detecting that the get-bulk or get-next has retrieved an OID outside the subtree you specified and terminating the walk. Unless the API you're using provides a similar function, you would have to implement this logic in your code. The agent is just doing what was requested: return up to 80 (per your code) varbinds <strong>lexicographically greater than</strong> the request OID. SNMP doesn't have a built-in request type that retrieves only a subtree.</p>\n"}], "owner": {"reputation": 31, "user_id": 2645881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a7a4e4e318c4e65c63f7f0d0499ae8f?s=128&d=identicon&r=PG", "display_name": "Anil Singh", "link": "https://stackoverflow.com/users/2645881/anil-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502110295, "creation_date": 1500545195, "question_id": 45211610, "link": "https://stackoverflow.com/questions/45211610/perl-snmp-get-bulk-request-function-returning-data-for-all-indexes-while-added-i", "title": "perl snmp get_bulk_request function returning data for all indexes while added index in oid , snmpwalk on terminal giving correct index data not all", "body": "<pre><code>    $UsRx = '1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288';\n    my %table; # Hash to store the results\n\n\n\n    my $res = $session-&gt;get_bulk_request(\n        -varbindlist    =&gt; [ $UsRx ],\n        -callback       =&gt; [ \\&amp;get_callback, \\%table ],\n        -maxrepetitions =&gt; 80,\n    );\n\n    snmp_dispatcher();\n\n    if (!defined $res) {\n        printf \"ERROR: %s\\n\", $session-&gt;error();\n        $session-&gt;close();\n        exit 1;\n    } \n\n    for my $oid (oid_lex_sort(keys %table)) {\n        printf \"%s,%s,\\n\",\n        $index,\n        $table{$oid};                \n    }\n</code></pre>\n\n<p><strong>Note :</strong> callback function not here but assume that is working correct issue seems with get_bulk_request when need a single index data then it is ignoring the given index and returning data of index, any alternative solution is also will be appreciated</p>\n\n<pre><code>o/p :\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1337,-70\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1338,-75\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1339,-55\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1340,-60\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737289.1337,-75\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737289.1338,-75\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737289.1339,-60\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737289.1340,-65\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737290.1337,-80\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737290.1338,-70\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737290.1339,-65\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737290.1340,-65\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737291.1337,-65\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737291.1338,-55\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737291.1339,-50\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737291.1340,-45\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737293.1337,-15\n\n\nExpected o/p :\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1337,-70\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1338,-75\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1339,-55\n1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1340,-60\n\nWhile this working fine with snmpwalk on terminal\nsystem@new:~$ snmpwalk -v2c -c #543%we 23.9.4.67 1.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288\n\niso.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1337 = INTEGER: -70\niso.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1338 = INTEGER: -75\niso.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1339 = INTEGER: -55\niso.3.6.1.4.1.4491.2.1.20.1.4.1.3.737288.1340 = INTEGER: -60\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501921747, "post_id": 45211088, "comment_id": 78000355, "body": "Have a look at <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8337119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a649bd92e898c0d6f24f22d58841b61d?s=128&d=identicon&r=PG&f=1", "display_name": "0range", "link": "https://stackoverflow.com/users/8337119/0range"}, "edited": false, "score": 0, "creation_date": 1500548036, "post_id": 45211527, "comment_id": 77391129, "body": "Ty for all the step by step explanation"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1500611867, "post_id": 45211527, "comment_id": 77423961, "body": "@Sinan&#220;n&#252;r  Thank you, a very good point which need be made.  Added as a bullet."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1503804708, "last_edit_date": 1503804708, "creation_date": 1500544976, "answer_id": 45211527, "question_id": 45211088, "link": "https://stackoverflow.com/questions/45211088/sort-alphabetically-whole-word-in-first-array-position/45211527#45211527", "title": "sort alphabetically whole word in first array position", "body": "<p>After you've <code>split</code> the line into an array </p>\n\n<pre><code>my @ary = split '\\|';\n</code></pre>\n\n<p>you need to <code>split</code> the first element, <code>sort</code> the list, and <code>join</code> it back</p>\n\n<pre><code>my $first = join ' ', sort split ' ', shift @ary;\n</code></pre>\n\n<p>where <code>shift</code> removes (and returns) the first element. </p>\n\n<p>Then build the string back</p>\n\n<pre><code>my $new_string = join '|', $first, @ary;\n</code></pre>\n\n<p>This can be done without temporary variables. The last two steps can be done in one statement, and all of it right in a <code>print</code> statement.</p>\n\n<p>Comments</p>\n\n<ul>\n<li><p>Please always start your programs with <code>use warnings;</code> and <code>use strict;</code></p></li>\n<li><p>Use three-argument form of <code>open</code>  </p>\n\n<pre><code>open my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n</code></pre>\n\n<p>and so use <em>lexical filehandles</em> (<code>$fh</code>), not bareword (typeglobs, <code>FH</code>).</p></li>\n<li><p>Don't quote things that don't <em>need to</em> be quoted -- even errors can result!  See <a href=\"http://perldoc.perl.org/perlfaq4.html#What%27s-wrong-with-always-quoting-%22%24vars%22%3f\" rel=\"nofollow noreferrer\">What's wrong with always quoting (perlfaq4)</a>, for instance.  Thanks to <a href=\"https://stackoverflow.com/users/100754/sinan-%C3%9Cn%C3%BCr\">Sinan \u00dcn\u00fcr</a> for the comment.</p></li>\n</ul>\n\n<hr>\n\n<p>You can also do it with a regex</p>\n\n<pre><code>$line =~ s/(.*?)\\|/join(\" \", sort split \" \", $1).q(|)/e;\n</code></pre>\n\n<p>This captures the first field (up to the pipe), and runs the above code on it, courtesy of <code>/e</code> modifier which makes replacement part be evaluated as code. </p>\n\n<p>We needed to also match the pipe and then put it back.  This can be avoided using <a href=\"http://perldoc.perl.org/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">lookahead</a></p>\n\n<pre><code>$line =~ s/(.*?)(?=\\|)/join(' ', sort split ' ', $1)/e;\n</code></pre>\n\n<p>which only asserts that the pattern inside <code>(?=...)</code> is there, without consuming it.</p>\n"}, {"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 0, "last_activity_date": 1500545177, "creation_date": 1500545177, "answer_id": 45211605, "question_id": 45211088, "link": "https://stackoverflow.com/questions/45211088/sort-alphabetically-whole-word-in-first-array-position/45211605#45211605", "title": "sort alphabetically whole word in first array position", "body": "<p>Your first bit of code is so very close to being right. You're only outputting the first column though - you need to print out the contents of <code>@array</code>. If you replace the first element of <code>@array</code> with the sorted results, then you can just write it out like this.</p>\n\n<pre><code>@array = split('\\|');\n$array[0] = join(\" \",sort split(' ',$array[0]));\nprint OUTPUT join(\"|\",@array),\"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1500546982, "creation_date": 1500546982, "answer_id": 45212319, "question_id": 45211088, "link": "https://stackoverflow.com/questions/45211088/sort-alphabetically-whole-word-in-first-array-position/45212319#45212319", "title": "sort alphabetically whole word in first array position", "body": "<p>Your programs will be far more flexible if you move away from the idea of hard-coding file names in your code. It's a much better idea to read from <code>STDIN</code> and write to <code>STDOUT</code> whenever possible. That's what this code does.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nwhile (&lt;&gt;) {\n  # Split the record into the first field (the one we want to sort)\n  # and everything else.\n  my ($first, $rest) = split /\\|/, $_, 2;\n\n  # Split the first record into words\n  my @words = split /\\s+/, $first;\n\n  # Sort @words and then join the line back together and print it.\n  print join(' ', sort @words), \"|$rest\";\n}\n</code></pre>\n\n<p>If we store this program in a file called <code>reorder</code>, we can then run it from a command-line prompt like this:</p>\n\n<pre><code>$ ./reorder &lt; test.dat &gt; out.dat\n</code></pre>\n\n<p>We avoid having to open any filehandles (the operating system does it for us) and we don't need to change the program if the filenames ever change.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1500551861, "creation_date": 1500551861, "answer_id": 45214029, "question_id": 45211088, "link": "https://stackoverflow.com/questions/45211088/sort-alphabetically-whole-word-in-first-array-position/45214029#45214029", "title": "sort alphabetically whole word in first array position", "body": "<pre><code>perl -pe 's/^([^|]+)/@a = sort split ' ', $1; \"@a\";/e' myfile\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8337119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a649bd92e898c0d6f24f22d58841b61d?s=128&d=identicon&r=PG&f=1", "display_name": "0range", "link": "https://stackoverflow.com/users/8337119/0range"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1503804708, "creation_date": 1500543874, "last_edit_date": 1592644375, "question_id": 45211088, "link": "https://stackoverflow.com/questions/45211088/sort-alphabetically-whole-word-in-first-array-position", "title": "sort alphabetically whole word in first array position", "body": "<p>I have a file with values separated by pipe <code>|</code></p>\n<h3>input:</h3>\n<pre><code>car tree alfa young|salt brick|23223|\nemilia jack albert| way to go|56566|\n</code></pre>\n<p>I'm trying to sort first column alphabetically and write sorted file out.</p>\n<h3>result:</h3>\n<pre><code>alfa car tree young|salt brick|23223|\nalbert emilia jack| way to go|56566|\n</code></pre>\n<p>What I have tried:\ncan sort first array position but cant write out all file content.</p>\n<pre><code> $filename = 'test.dat';\n open (INPUT,&quot;$filename&quot;);\n open (OUTPUT,&quot;&gt;out.dat&quot;);\n\n while (&lt;INPUT&gt;)\n {\n   @array = split('\\|');\n   @arr = split(' ',$array[0]);\n   $,=&quot; &quot;;\n   print OUTPUT sort @arr,&quot;\\n&quot;;\n  }\n   close (INPUT);\n   close (OUTPUT);\n</code></pre>\n<p>sorts everything in each line.</p>\n<pre><code> $filename = 'test.dat';\n open (INPUT,&quot;$filename&quot;);\n open (OUTPUT,&quot;&gt;out.dat&quot;);\n\n while (&lt;INPUT&gt;)\n {\n   @arr = split(' ');\n   $,=&quot; &quot;;\n   print OUTPUT sort @arr,&quot;\\n&quot;;\n  }\n   close (INPUT);\n   close (OUTPUT);\n</code></pre>\n"}, {"tags": ["perl", "unit-testing", "ssl", "cookies", "lwp-useragent"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1500542618, "post_id": 45209795, "comment_id": 77387244, "body": "Different approach: set up SSL for the localhost Web server. That solves the problem and also makes the test system resemble more the production system."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1500625988, "post_id": 45209795, "comment_id": 77431275, "body": "@daxim there&#39;s no web server. Not for the unit tests. The Test::WWW::Mechanize::CGI works serverless. My development system has SSL set up, but I only using that for manual testing and coding. The tests bootstrap their own temporary database and run without a web server. Requests get proxied through to the script via a system call to the CGI script with a fake environment. It&#39;s similar to Test::WWW::Mechanize::Catalyst (or other PSGI ones), just with CGI."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500634219, "post_id": 45235769, "comment_id": 77437100, "body": "Sometimes it&#39;s good to take a step back, reread the problem and try to not over-think..."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1500634187, "creation_date": 1500634187, "answer_id": 45235769, "question_id": 45209795, "link": "https://stackoverflow.com/questions/45209795/how-do-i-tell-wwwmechanize-to-ignore-a-secure-cookie/45235769#45235769", "title": "How do I tell WWW::Mechanize to ignore a secure cookie?", "body": "<p>The solution is trivial. Just call <code>get_ok</code> with <code>https</code> URL. Mechanize will simply do the right thing. The request will know that it's secure, and stuff will work.</p>\n\n<pre><code>$mech-&gt;get_ok('https://localhost/');\n$mech-&gt;get_ok('https://localhost/?behind_login=1');\n</code></pre>\n\n<p>There is no need to monkey-patch anything at all.</p>\n"}], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1500634187, "creation_date": 1500540497, "question_id": 45209795, "link": "https://stackoverflow.com/questions/45209795/how-do-i-tell-wwwmechanize-to-ignore-a-secure-cookie", "title": "How do I tell WWW::Mechanize to ignore a secure cookie?", "body": "<p>I need to work with a legacy CGI program and I am writing tests for it. I use <a href=\"https://metacpan.org/pod/Test::WWW::Mechanize::CGI\" rel=\"nofollow noreferrer\">Test::WWW::Mechanize::CGI</a> for that. The application runs on https in production, and the home-made session handling simply throws out a cookie, which has the <em>secure</em> option set.</p>\n\n<pre><code>my $cookie = $q-&gt;cookie(\n    -name     =&gt; 'session',\n    -value    =&gt; 'foobar',\n    -expires  =&gt; '+24h',\n    -secure   =&gt; 1,           # this is the culprit\n    -httponly =&gt; 1,\n    -samesite =&gt; 'Strict',\n;\n</code></pre>\n\n<p>While this makes sense under the https URL in production, it breaks my tests because I don't have SSL support there.</p>\n\n<p>The obvious solution would be to put in a switch that only enables this option on the cookie if there is SSL available, but I don't want to do that at this point. Instead, I want to find out how to disable this thing from the testing end.</p>\n\n<p>Here's an example that illustrates what I'm talking about. It uses things in CGI.pm that I would usually discourage people from using. Please bear with me to understand the issue.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse CGI;\nuse Test::WWW::Mechanize::CGI;\nuse Test::More;\n\nmy $mech = Test::WWW::Mechanize::CGI-&gt;new;\n$mech-&gt;cgi(\n    sub {\n        my $q = CGI-&gt;new;\n\n        if ( $q-&gt;param('behind_login') ) {\n            # check if we've got the session cookie\n            if ( $q-&gt;cookie('session') ) {\n                print $q-&gt;header, $q-&gt;start_html('Logged in'), $q-&gt;h1('Welcome back'), $q-&gt;end_html;\n            }\n            else {\n                print $q-&gt;header( 'text/plain', '403 Unauthorized' );\n            }\n        }\n        else {\n            # this is where the user gets logged in\n            my $cookie = $q-&gt;cookie(\n                -name     =&gt; 'session',\n                -value    =&gt; 'foobar',\n                -expires  =&gt; '+24h',\n                -secure   =&gt; 1,           # this is the culprit\n                -httponly =&gt; 1,\n                -samesite =&gt; 'Strict'\n            );\n\n            print $q-&gt;header( -cookie =&gt; $cookie ),\n                $q-&gt;start_html('Hello World'),\n                $q-&gt;h1('Hello World'),\n                $q-&gt;end_html;\n        }\n    }\n);\n\n$mech-&gt;get_ok('http://localhost/');\n$mech-&gt;get_ok('http://localhost/?behind_login=1');\n\ndone_testing;\n</code></pre>\n\n<p>If this program is run, the first test will pass, and the second one will fail. If the marked line with the <code>-secure</code> option is commented out, the second test will pass, too.</p>\n\n<p>I've rummaged around in LWP::UserAgent a bit, but haven't found where this could be disabled. I'm aware that this is the default behavior and that it's good that it behaves like this.</p>\n\n<p>There might be an option to turn this off that I have failed to see when I was studying the docs, but it's likely there is not. I am fine with monkey-patching this thing away once I understand where to do that.</p>\n"}, {"tags": ["bash", "perl", "samba"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1500583829, "post_id": 45208631, "comment_id": 77416202, "body": "Some more background: <a href=\"http://blogs.perl.org/users/mauke/2011/09/exit-statuses-and-how-works.html\" rel=\"nofollow noreferrer\">blogs.perl.org/users/mauke/2011/09/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1500539245, "creation_date": 1500539245, "answer_id": 45209360, "question_id": 45208631, "link": "https://stackoverflow.com/questions/45208631/different-exit-status-in-perls-system-than-in-bash/45209360#45209360", "title": "Different Exit Status in Perls system than in Bash", "body": "<p>This isn't very well documented, and the most useful information is in\n<a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\"><code>perldoc perlvar</code></a> which says this</p>\n\n<blockquote>\n  <ul>\n  <li>$CHILD_ERROR</li>\n  <li><p>$?</p>\n  \n  <p>The status returned by the last pipe close, backtick command, successful call to\u00a0<code>wait()</code>\u00a0or\u00a0<code>waitpid()</code>, or from the\u00a0<code>system()</code>\u00a0operator. This is just the 16-bit status word returned by the traditional Unix\u00a0<code>wait()</code> system call (or else is made up to look like it). Thus, the exit value of the subprocess is really (<code>$? &gt;&gt;\u00a08</code>\u00a0), and\u00a0<code>$? &amp;\u00a0127</code>\u00a0gives which signal, if any, the process died from, and\u00a0<code>$?\u00a0&amp;\u00a0128</code>\u00a0reports whether there was a core dump.</p></li>\n  </ul>\n</blockquote>\n\n<p>So a return value of 256 from <code>system</code> corresponds to an exit value of 256 >> 8, which is the 1 you were expecting</p>\n"}, {"comments": [{"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1500540098, "post_id": 45209364, "comment_id": 77385247, "body": "This is unexpectetly complicated. Should be mentioned here: <a href=\"https://stackoverflow.com/questions/799968/whats-the-difference-between-perls-backticks-system-and-exec\" title=\"whats the difference between perls backticks system and exec\">stackoverflow.com/questions/799968/&hellip;</a> I have read the sentence you quoted before. Your explanation helps a lot understanding the docs. Thank you! Is there no module on CPAN, offering an interface which does not require bit-operations? This is a pain for anybody who needs to look at this code later on."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500541376, "post_id": 45209364, "comment_id": 77386289, "body": "<i>&quot;If the return from system is non-zero you can interrogate the variable $?&quot;</i> There&#39;s no need to check <code>$?</code> as well as the return value from <code>system</code>: they are identical."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500541540, "post_id": 45209364, "comment_id": 77386423, "body": "@Borodin  I meant to relate <code>$?</code> examination to what is most often done, <code>system(...) == 0  or ...</code> (or <code>system(...) and ...</code>).  I mean people normally check the return of <code>system</code> first.  It did come out a little clumsy perhaps :("}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1500541826, "post_id": 45209364, "comment_id": 77386648, "body": "@BorisD&#228;ppen The link you mention discusses differences between calls that have status in <code>$?</code> so I&#39;d say, yes, you are right to expect this to get mentioned.  I am not aware of modules that would split out the command&#39;s actual exit, but there are many that wrap up <code>system</code> (or <code>qx</code>) to nicely give access to <code>STDOUT</code> and <code>STDERR</code>, check errors, etc.  I&#39;ll look around ..."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1500542921, "post_id": 45209364, "comment_id": 77387490, "body": "For everyone who thinks doing this arithmetics every time is stupid and should be abstracted away, see <a href=\"http://p3rl.org/IPC::System::Simple#Exit-values\" rel=\"nofollow noreferrer\">allowed exit values in IPC::System::Simple</a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1500583259, "post_id": 45209364, "comment_id": 77415874, "body": "@BorisD&#228;ppen Added the link provided by daxim to the answer"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1500583493, "post_id": 45209364, "comment_id": 77416005, "body": "@daxim Thank you, added to the answer"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1500926293, "last_edit_date": 1500926293, "creation_date": 1500539254, "answer_id": 45209364, "question_id": 45208631, "link": "https://stackoverflow.com/questions/45208631/different-exit-status-in-perls-system-than-in-bash/45209364#45209364", "title": "Different Exit Status in Perls system than in Bash", "body": "<p>The <em>exit status</em> returned by <code>system</code> is a two-byte number, which packs the exit code returned by the program into high bits, while the low 8 bits are set if the process was killed by a signal.  The low 7 bits are the signal number and the 8th bit shows whether the core was dumped.</p>\n\n<p>So to get the actual exit of the program do as the next sentence from the docs you quote says</p>\n\n<blockquote>\n  <p>To get the actual exit value, shift right by eight </p>\n</blockquote>\n\n<p>and <code>256 &gt;&gt; 8</code> gives us <code>1</code>. </p>\n\n<p>The <code>system</code>'s return is available in the <a href=\"http://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\">variable $?</a>, interrogated as spelled out in <a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a></p>\n\n<pre><code>if ($? == -1) {\n    print \"failed to execute: $!\\n\";\n}\nelsif ($? &amp; 127) {\n    printf \"child died with signal %d, %s coredump\\n\",\n        ($? &amp; 127),  ($? &amp; 128) ? 'with' : 'without';\n}\nelse {\n    printf \"child exited with value %d\\n\", $? &gt;&gt; 8;\n}\n</code></pre>\n\n<p>The return is best saved or <code>$?</code> examined right away, before it gets cleared. </p>\n\n<hr>\n\n<p>The bit shifting can be avoided by <a href=\"http://search.cpan.org/~pjf/IPC-System-Simple-1.25/lib/IPC/System/Simple.pm#Exit_values\" rel=\"nofollow noreferrer\">using IPC::System::Simple</a>, which returns the program's exit value directly. Thanks to <a href=\"https://stackoverflow.com/users/46395/daxim\">daxim</a> for the comment. To investigate the signal we still need <code>$?</code> but this comes up far less frequently. The module simplifies <code>system</code> and <code>qx</code> use and error checking.</p>\n"}], "owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 1, "accepted_answer_id": 45209364, "answer_count": 2, "score": 1, "last_activity_date": 1500926293, "creation_date": 1500537090, "last_edit_date": 1500545252, "question_id": 45208631, "link": "https://stackoverflow.com/questions/45208631/different-exit-status-in-perls-system-than-in-bash", "title": "Different Exit Status in Perls system than in Bash", "body": "<p>I want to check, if a user has access rights to a certain samba-share. I'm currently doing this using the command <code>smbclient</code> in <code>Version 4.3.11-Ubuntu</code>.</p>\n\n<p>Apparently it is not a good idea to use the <code>exit</code> status for evaluation of success, as described in this question: <a href=\"https://stackoverflow.com/questions/19805874/exit-codes-of-smbclient\">Exit codes of smbclient</a></p>\n\n<p>But nevertheless I have some strange behaviour. I get different exit status when calling the program with Perls <code>system</code> function.</p>\n\n<p><code>perldoc -f system</code> tells me this:</p>\n\n<blockquote>\n  <p>The return value is the exit status of the program as returned by the\n  \"wait\" call.</p>\n</blockquote>\n\n<p>When calling from commandline I get <code>EXIT 1</code></p>\n\n<pre><code>user@host:~$ smbclient //server/share MyFalsePassword --user=any.user -c \"cd somefolder;\"; echo \"EXIT $?\"\nWARNING: The \"syslog\" option is deprecated\nsession setup failed: NT_STATUS_LOGON_FAILURE\nEXIT 1\n</code></pre>\n\n<p>Calling the same whitin Perl I get <code>EXIT 256</code>.</p>\n\n<pre><code>user@host:~$ perl -E 'say \"EXIT \" . system(\"smbclient //server/share MyFalsePassword --user=any.user -c \\\"cd somefolder;\\\"\");'\nWARNING: The \"syslog\" option is deprecated\nsession setup failed: NT_STATUS_LOGON_FAILURE\nEXIT 256\n</code></pre>\n\n<p>I also have the value <code>256</code> in the variable <code>$?</code> whitin Perl.</p>\n\n<p>Note: I get <code>EXIT 0</code> in both (Bash and Perl) if I use the correct credentials.</p>\n\n<p><strong>My question:</strong> Why do I get different exit status from Bash and Perl if I use wrong credentials? How do I check correctly?</p>\n\n<p>I use Perl v5.22 on Ubuntu 16.04.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1500534035, "post_id": 45206970, "comment_id": 77380994, "body": "not sure how second output is coming. Could you please put some light on same?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500611537, "post_id": 45206970, "comment_id": 77423864, "body": "Welcome to stackoverflow.   Please have a look at <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>, and at the other short and clear help pages linked there."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500589290, "post_id": 45207109, "comment_id": 77418507, "body": "Hi, this example left all original fields in place."}, {"owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "reply_to_user": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500613791, "post_id": 45207109, "comment_id": 77424501, "body": "The pattern is basic and POSIX compliant. It should just return first field with comma and <code>ADDED</code> string with following characters up to the end of line. Default output is terminal. If you want to edit your file in place try the <code>-i</code> flag: <code>sed -i &#39;s&#47;\\(^[^,]*,\\).* ADDED&#47;\\1 ADDED&#47;&#39; file</code>"}], "tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": false, "score": 1, "last_activity_date": 1500565843, "last_edit_date": 1500565843, "creation_date": 1500532967, "answer_id": 45207109, "question_id": 45206970, "link": "https://stackoverflow.com/questions/45206970/how-to-remove-part-of-the-middle-of-a-line-string-by-matching-two-known-patterns/45207109#45207109", "title": "How to remove part of the middle of a line/string by matching two known patterns in front and behind variable text to be removed", "body": "<p>You can use backreference:</p>\n\n<pre><code>sed 's/\\(^[^,]*,\\).* ADDED/\\1 ADDED/' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500565525, "post_id": 45207184, "comment_id": 77405254, "body": "Hi, almost there. It outputs the first field correctly up to the comma but only keeps the 4-digit year, not the entire last field."}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "reply_to_user": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 1, "creation_date": 1500572114, "post_id": 45207184, "comment_id": 77409388, "body": "What 4 digit year?  Do you have a final column that looks like <code>Jan 1, 2017</code>?  If you do, then your final column is just <code>2017</code>!"}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "reply_to_user": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500572303, "post_id": 45207184, "comment_id": 77409494, "body": "If you don&#39;t have comma delimited data and really just care about the tag &#39;ADDED&#39;, you should probably use <code>sed &#39;s&#47;,.*ADDED&#47;, ADDED&#47;&#39;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500573036, "post_id": 45207184, "comment_id": 77409904, "body": "This is one of three very different solutions that fails in exactly the same way according to the OP. The most likely explanation is that the data isn&#39;t formatted as they claim it is."}, {"owner": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500587961, "post_id": 45207184, "comment_id": 77418032, "body": "@William Pursell: and Borodin. Yes, the is an extra comma in the data in the &quot;4th field&quot; the is a comma after the date (January 1st, 2016). I will process the file to remove that last comma and retry.  My apologies all."}], "tags": [], "owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "is_accepted": false, "score": 2, "last_activity_date": 1500533524, "last_edit_date": 1500533524, "creation_date": 1500533206, "answer_id": 45207184, "question_id": 45206970, "link": "https://stackoverflow.com/questions/45206970/how-to-remove-part-of-the-middle-of-a-line-string-by-matching-two-known-patterns/45207184#45207184", "title": "How to remove part of the middle of a line/string by matching two known patterns in front and behind variable text to be removed", "body": "<p>If you don't care about blank lines:</p>\n\n<pre><code> awk '{print $1,$NF}' FS=, OFS=,  input\n</code></pre>\n\n<p>(Blank lines will be output as a single comma)</p>\n\n<p>If you want to just skip blank lines, use:</p>\n\n<pre><code> awk 'NF&gt;1{print $1,$NF}' FS=, OFS=,  input\n</code></pre>\n\n<p>If you want to keep them:</p>\n\n<pre><code>awk '{printf( \"%s%s\\n\", $1, NF&gt;1 ? \",\"$NF : \"\")}' FS=, OFS=,  input\n</code></pre>\n\n<p>Note that this will not ensure a single space after the comma, but will retain the spacing as in the final column of the original file.  (that is, if there are 3 spaces after the final column in the original, you'll get 3 in the output).  It's not clear to me from the description, but that seems like desirable behavior.</p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500591200, "post_id": 45207477, "comment_id": 77419104, "body": "Hi, this example duplicated the first field, appended it immediately behind the original first field and kept everything else afterwards. Thank you."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 0, "last_activity_date": 1500533981, "creation_date": 1500533981, "answer_id": 45207477, "question_id": 45206970, "link": "https://stackoverflow.com/questions/45206970/how-to-remove-part-of-the-middle-of-a-line-string-by-matching-two-known-patterns/45207477#45207477", "title": "How to remove part of the middle of a line/string by matching two known patterns in front and behind variable text to be removed", "body": "<p>one more approach with awk could help here.</p>\n\n<pre><code>awk -F, '{val=$1;sub(/FNAME.*\\,/,\",\");print val $0}'   Input_file\n</code></pre>\n\n<p>Where I am making field separator as (,) then saving first field to variable named val, now substituting FNAME till comma with (,) in current line, now printing the value of variable val and new edited current line.</p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500564850, "post_id": 45210390, "comment_id": 77404705, "body": "Hi, thank you. Almost there. Both examples output the first field up to the comma correctly, a space, and then the last word of the string which is always a 4 digit year. Like so:  &lt;br/&gt;  Input line- Fred Flintstone, Rock Crusher, Joined Jan 1 2000 BCE, ADDED on January 2 2000 BCE by Barney Rubble    Desired Output- Fred Flintstone, ADDED on January 2 2000 BCE by Barney Rubble    Your script output - Fred Flintstone,  2000   Note in the first script the very last record is output as desired but lacks a newline    The second script, last record, only outputs the first field."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500567709, "post_id": 45210390, "comment_id": 77406778, "body": "@Max:  Both variants work correctly for me, with all the data in your question and with the line in your comment. You have the same problem with two other solutions; perhaps your data isn&#39;t as you say it is. Do you have another comma in the data?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500587495, "post_id": 45210390, "comment_id": 77417851, "body": "@Max: Yes, please do. It would help a lot if you tested these solutions against the data that you&#39;ve shown here. If they work with this sample data but not with your live data then you need to ask a new question."}, {"owner": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500587608, "post_id": 45210390, "comment_id": 77417897, "body": "My initial description is wrong... there is an extra comma after &quot;ADDED&quot; it follows the DAY in the date part of field 4... Like so ___ Fred Flintstone, ADDED on January 1st, 2015 By Barney Rubble. I suspect the last comma is throwing it off. My apologies for the confusion."}, {"owner": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500588693, "post_id": 45210390, "comment_id": 77418308, "body": "After fixing my file and removing the errant comma, both of your first 2 examples worked as expected. Thank you for your help. I agree that data dump is terrible."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1500573172, "last_edit_date": 1500573172, "creation_date": 1500542144, "answer_id": 45210390, "question_id": 45206970, "link": "https://stackoverflow.com/questions/45206970/how-to-remove-part-of-the-middle-of-a-line-string-by-matching-two-known-patterns/45210390#45210390", "title": "How to remove part of the middle of a line/string by matching two known patterns in front and behind variable text to be removed", "body": "<p>A Perl solution</p>\n\n<pre><code>perl -ne 'print join \", \", (split /,\\s*/)[0,-1]' myfile\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -pe 's/,.*(?=,)//' myfile\n</code></pre>\n\n<h2><br/></h2>\n\n<p>Both of those solutions work fine for me with the data you have given, but you may like to try</p>\n\n<pre><code>perl -pe 's/,.*(?=,\\s*ADDED)//' myfile\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500565789, "post_id": 45211065, "comment_id": 77405461, "body": "Hi, almost there. It outputs the first field correctly up to the comma but only keeps the 4-digit year, not the entire last field."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500582920, "post_id": 45211065, "comment_id": 77415693, "body": "While I am grateful to see a &quot;proper&quot; program instead of a one-liner, I don&#39;t understand going to all that trouble but failing to lay it put nicely. Space characters are free of charge and go a long way towards making your code pleasant to read. Most Perl professionals use <a href=\"https://perldoc.perl.org/perlstyle.html\" rel=\"nofollow noreferrer\"><code>perldoc perlstyle</code></a> and it&#39;s really not hard."}, {"owner": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "edited": false, "score": 0, "creation_date": 1500589119, "post_id": 45211065, "comment_id": 77418449, "body": "@kumar: Thank you, this worked once i cleaned up my input file and removed a comma in the fourth field, thus matching my original post."}, {"owner": {"reputation": 63, "user_id": 5746602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9571be7208ae102cddb1b8f7e78f8d28?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5746602/kumar"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500613302, "post_id": 45211065, "comment_id": 77424356, "body": "@Borodin i was facing some issues while uploading my answer with proper indentation, so i had to write it this way ..."}], "tags": [], "owner": {"reputation": 63, "user_id": 5746602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9571be7208ae102cddb1b8f7e78f8d28?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5746602/kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1500812141, "last_edit_date": 1500812141, "creation_date": 1500543803, "answer_id": 45211065, "question_id": 45206970, "link": "https://stackoverflow.com/questions/45206970/how-to-remove-part-of-the-middle-of-a-line-string-by-matching-two-known-patterns/45211065#45211065", "title": "How to remove part of the middle of a line/string by matching two known patterns in front and behind variable text to be removed", "body": "<p>Using perl  </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen my $fh, \"&lt;\", \"file.txt\" or die \"$!: couldn't open file\\n\";\n\nwhile(&lt;$fh&gt;) {\n    my @arr = split(/,/);\n    my $text = $arr[0] . \", \" . $arr[$#arr];\n    print \"$text\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8334642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03928f4d569212a2783c71e5aad7879?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8334642/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1500939897, "creation_date": 1500532537, "question_id": 45206970, "link": "https://stackoverflow.com/questions/45206970/how-to-remove-part-of-the-middle-of-a-line-string-by-matching-two-known-patterns", "title": "How to remove part of the middle of a line/string by matching two known patterns in front and behind variable text to be removed", "body": "<p>How to remove part of the middle of a line/string by matching two known patterns, one in front of text to be removed and one behind the text to be removed?</p>\n\n<p>I have a Linux text file with thousands of one line, comma delimited records. unfortunately, all records are not the same format. Each line may have as many as four comma delimited fields of which only the first and last are constant, the two middle fields may, or may not, be present.</p>\n\n<p>Examples of existing line (record) formats. Messy data but the first field is always present, as is the last field, starts with word ADDED.</p>\n\n<pre><code>FNAME LNAME, SOME COMMENT, JOINED DATE, ADDED TO DB DATE\n\nFNAME LNAME, ADDED TO DB DATE\n\nFNAME LNAME, SOME COMMENT, ADDED TO DB DATE\n\nFNAME LNAME, JOINED DATE, ADDED TO DB DATE\n</code></pre>\n\n<p>Objective is to keep field one including the comma, throw away everything following the first comma, keeping the word \"ADDED\" and everything that follows to the end of line and insert a space between the first comma and the word ADDED.</p>\n\n<p>For each line in parse the file from start of line to the first comma (keep this).</p>\n\n<p>Parse rest of line up to the space before the word \u201cAdded\u201d and throw it away. </p>\n\n<p>Keep everything from the space before the word \u201cADDED\u201d to end of line and concatenate the first part and last part to form one record per line with two fields separated by a comma and a space. </p>\n\n<p>(if record is already in desired format, change nothing)</p>\n\n<p>Final file to look like:</p>\n\n<pre><code>FNAME LNAME, ADDED TO DB DATE\n</code></pre>\n\n<p>or </p>\n\n<pre><code>Fred Flintstone, ADDED on January 1st 2015 By Barney Rubble\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1500523678, "post_id": 45204822, "comment_id": 77376434, "body": "It may make sense for processing some more complicated <b>sequences</b>  of lines from the file.  It is a nere guess without more complete example."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1589089597, "last_edit_date": 1589089597, "creation_date": 1500524071, "answer_id": 45205074, "question_id": 45204822, "link": "https://stackoverflow.com/questions/45204822/difference-between-var-fh-and-in-perl/45205074#45205074", "title": "Difference between $var = &lt;FH&gt; and $_ in Perl", "body": "<p>Let's reach for the documentation for the direct question.</p>\n\n<p>From <a href=\"https://perldoc.perl.org/functions/readline.html\" rel=\"nofollow noreferrer\">readline</a></p>\n\n<blockquote>\n  <p>This is the internal function implementing the <code>&lt;EXPR&gt;</code> operator, but you can use it directly. The <code>&lt;EXPR&gt;</code> operator is discussed in more detail in <a href=\"https://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\">I/O Operators in perlop</a></p>\n</blockquote>\n\n<p>and in the <a href=\"https://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\">I/O Operators</a> we find the statement</p>\n\n<blockquote>\n  <p><code>&lt;FILEHANDLE&gt;</code> may also be spelled <code>readline(*FILEHANDLE)</code>. See <a href=\"https://perldoc.perl.org/functions/readline.html\" rel=\"nofollow noreferrer\">readline</a>.</p>\n</blockquote>\n\n<p>Thus <code>&lt;FH&gt;</code> and <code>readline(FH)</code> are equivalent (we can pass <code>*FH</code> or <code>FH</code> to <code>readline()</code>).</p>\n\n<p>Note that <em>lexical filehandles</em> are preferred to typeglobs. See <a href=\"https://perldoc.perl.org/perldata.html#Typeglobs-and-Filehandles\" rel=\"nofollow noreferrer\">Typeglobs and Filehandles in perldata</a> for instance. So open your files like</p>\n\n<pre><code>open my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n</code></pre>\n\n<p>and then you do <code>&lt;$fh&gt;</code> to read \"from the filehandle\" (from the file associated with it).</p>\n\n<p>The operator <code>&lt;&gt;</code> itself has a few other properties, though.  See the extensive <code>perlop</code> discussion.</p>\n\n<hr>\n\n<p>The rest of the code snippet in the question brings up other issues.</p>\n\n<p>The <code>&lt;FH&gt;</code> inside the <code>while</code> condition is in the scalar context so it reads one line from the resource connected to <code>FH</code>. As we enter the loop body, the <code>&lt;FH&gt;</code> will <em>again</em> read a line, thus the next one, which is assigned to <code>$var1</code>. </p>\n\n<p>When <code>&lt;$FH&gt;</code> is the sole thing inside the <code>while</code> conditional then the line gets assigned to the default <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\">variable <code>$_</code></a>.  See <code>I/O Operators</code> linked above.  So <code>$var2</code> gets assigned this line. </p>\n\n<p>Thus after the body of the loop executed, we have the first line in <code>$var2</code> and the next line in <code>$var1</code>. This strange loop goes over two lines in each iteration, assigning first the second line of the two, and then the first one.</p>\n"}], "owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1293, "favorite_count": 0, "accepted_answer_id": 45205074, "answer_count": 1, "score": 2, "last_activity_date": 1589089597, "creation_date": 1500522721, "last_edit_date": 1500528341, "question_id": 45204822, "link": "https://stackoverflow.com/questions/45204822/difference-between-var-fh-and-in-perl", "title": "Difference between $var = &lt;FH&gt; and $_ in Perl", "body": "<p>Recently I came across something like this in a certain perl script:</p>\n\n<pre><code>while(&lt;FH&gt;){\n    $var1 = &lt;FH&gt;; $var2 = $_\n}\n</code></pre>\n\n<p>Since the diamond operator with file handle name inside works the same way as <code>readline(FH)</code>; may I know are there any special meaning in writing like this?</p>\n\n<p>Thanks a lot</p>\n"}]