[{"tags": ["perl"], "comments": [{"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 1, "creation_date": 1507754028, "post_id": 46696987, "comment_id": 80341866, "body": "You didn&#39;t assign any value at all to $hash_1 or $hash_2, so they are undefined?"}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1507754294, "post_id": 46696987, "comment_id": 80342012, "body": "maybe i define say. try to use print."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1507754431, "post_id": 46696987, "comment_id": 80342086, "body": "yes. I&#39;m trying to compare 4 &quot;real&quot; hashes."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1507755240, "post_id": 46696987, "comment_id": 80342478, "body": "Your code is a mess. Your function ignores its arguments, you are using uninitialized lexical variables in the file scope, which gives the error message. Your comparison of keys with <code>eq</code> only compares how many keys each hash has."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1507757948, "post_id": 46696987, "comment_id": 80343667, "body": "You can&#39;t compare a list of strings using a single operator; you need a loop. You will also need to use <code>sort</code> so that the elements of the two hashes are in the same order. Is this a homework problem?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1509075073, "last_edit_date": 1509075073, "creation_date": 1507757712, "answer_id": 46697927, "question_id": 46696987, "link": "https://stackoverflow.com/questions/46696987/how-to-pass-hash-reference-to-a-subroutine/46697927#46697927", "title": "how to pass hash reference to a subroutine", "body": "<p>You never assigned to <code>$hash_1</code> and <code>$hash_2</code>!</p>\n\n<pre><code>my ($hash_1, $hash_2) = @_;\n</code></pre>\n\n<hr>\n\n<p>You have more problems than that, however, both <code>keys</code> and <code>values</code> in scalar context return the number of elements in a hash, so you are simply checking if both hashes are of the same size!</p>\n\n<pre><code>sub are_hashes_equal {\n    my ($hash1, $hash2) = @_;\n\n    {\n        my %set;\n        ++$set{$_} for keys(%$hash1);\n        --$set{$_} for keys(%$hash2);\n        return 0 if grep { $_ } values(%set);\n    }\n\n    for my $key (keys(%$hash1)) {\n        return 0 if $hash1-&gt;{$key} ne $hash2-&gt;{$key};\n    }\n\n    return 1;\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "accepted_answer_id": 46697927, "answer_count": 1, "score": -2, "last_activity_date": 1509075073, "creation_date": 1507753722, "last_edit_date": 1507754671, "question_id": 46696987, "link": "https://stackoverflow.com/questions/46696987/how-to-pass-hash-reference-to-a-subroutine", "title": "how to pass hash reference to a subroutine", "body": "<p>I'm stuck on a problem. I'm trying to make references for 2 hashes, then compare them in a subroutine. However, there is an error:</p>\n\n<p>Can't use an undefined value as a HASH reference at compareHashes.pl line 10.</p>\n\n<p>My code is:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw(say);\n\nmy $hash_1; my $hash_2;\ncompareHashes($hash_1, $hash_2);\n\nsub compareHashes{\n    say \"the first hash:\", \"\\n\", %$hash_1;\n    say \"the second hash:\", \"\\n\", %$hash_2;\n    if ((keys(%$hash_1) eq keys(%$hash_2)) and (values(%$hash_1) eq values(%$hash_2))){\n        say \"Two above hashes are equal\";}\n    else {\n        say \"Two above hashes are not equal\";\n    }\n};\n\nmy %hash1 = (ITALY =&gt; \"ROME\",\n        FRANCE =&gt; \"PARIS\"\n        );\nmy %hash2 = ( ITALY =&gt; \"MILAN\",\n        FRANCE =&gt; \"PARIS\"\n        );\nmy %hash3 = (ITALY =&gt; \"ROME\" );\nmy %hash4 = (SPAIN =&gt; \"ROME\",\n        FRANCE =&gt; \"PARIS\"\n        );\nmy $hash1_r = \\%hash1;\nmy $hash2_r = \\%hash2;\nmy $hash3_r = \\%hash3;\nmy $hash4_r = \\%hash4;\n\ncompareHashes ($hash1_r, $hash1_r);\ncompareHashes ($hash1_r, $hash2_r);\ncompareHashes ($hash1_r, $hash3_r);\ncompareHashes ($hash1_r, $hash4_r);\n</code></pre>\n\n<p>Please tell me what is wrong. I appreciate your help.</p>\n"}, {"tags": ["perl", "cpan", "cpanm"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1507755016, "post_id": 46696731, "comment_id": 80342378, "body": "If there is a cpanfile you can just run <code>cpanm --installdeps .</code> as root in the directory with the cpanfile and cpanm will read it and do the right thing."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1507816102, "creation_date": 1507816102, "answer_id": 46711326, "question_id": 46696731, "link": "https://stackoverflow.com/questions/46696731/perl-carton-cpanfile-optional-install-into-main-perl-environment/46711326#46711326", "title": "perl carton cpanfile, optional install into main perl environment", "body": "<p>If there is a <a href=\"https://metacpan.org/pod/distribution/Module-CPANfile/lib/cpanfile.pod\" rel=\"nofollow noreferrer\">cpanfile</a> you can just run </p>\n\n<pre><code>$ cpanm --installdeps . \n</code></pre>\n\n<p>as root (with <code>sudo</code>) in the directory with the cpanfile and <a href=\"https://metacpan.org/pod/distribution/App-cpanminus/bin/cpanm#-installdeps\" rel=\"nofollow noreferrer\"><code>cpanm</code> will read it</a> and install your dependencies to whatever Perl is configured for this <code>cpanm</code>.</p>\n\n<p>You can ignore <code>carton</code> for that completely.</p>\n"}], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 1, "accepted_answer_id": 46711326, "answer_count": 1, "score": 4, "last_activity_date": 1507816102, "creation_date": 1507752636, "question_id": 46696731, "link": "https://stackoverflow.com/questions/46696731/perl-carton-cpanfile-optional-install-into-main-perl-environment", "title": "perl carton cpanfile, optional install into main perl environment", "body": "<p>I have a carton cpanfile.  on servers on which I have sudo, I would be happy to install the latest versions of my modules globally instead.</p>\n\n<p>do I write a script that removes the 'requires' and uses <code>cpan -i</code> (although I am concerned that I may have too many to fit the command line limit), or is this functionality already somewhere else?</p>\n"}, {"tags": ["mysql", "shell", "perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1507734808, "post_id": 46691700, "comment_id": 80331275, "body": "You can&#39;t. You need to use <a href=\"http://search.cpan.org/~timb/DBI-1.637/DBI.pm\" rel=\"nofollow noreferrer\">DBI</a>"}, {"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 0, "creation_date": 1507734861, "post_id": 46691700, "comment_id": 80331324, "body": "Can you post your Perl code?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 4, "creation_date": 1507735564, "post_id": 46691700, "comment_id": 80331813, "body": "Rather than exposing the vulnerabilities of both shell injection and SQL injection by invoking the <code>mysql</code> client with backticks, post relevant code in a question that seeks guidance on fixing that code so that you do not encounter &quot;string found where operator expected&quot; and &quot;bareword found where operator expected&quot; errors.  Perl&#39;s DBI module combined with DBD::mysql provides the better solution, including placeholders/bindvalues, and avoidance of hacky <code>mysql</code> cli calls."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 8061059, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a882f17a8db437caac0bfd148c3c69e4?s=128&d=identicon&r=PG&f=1", "display_name": "dabire", "link": "https://stackoverflow.com/users/8061059/dabire"}, "edited": false, "score": 0, "creation_date": 1507737575, "post_id": 46692024, "comment_id": 80333175, "body": "Works perfect. Thanks guys."}], "tags": [], "owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "is_accepted": true, "score": 1, "last_activity_date": 1507735257, "creation_date": 1507735257, "answer_id": 46692024, "question_id": 46691700, "link": "https://stackoverflow.com/questions/46691700/embedding-shell-command-in-perl-program/46692024#46692024", "title": "Embedding shell command in perl program", "body": "<p>You can use back quotes, the example below will place the output of the OS ls -l command into content.  Assuming you know the risks of what you are doing.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nmy $content=`ls -l`;\nprint $content;\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 8061059, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a882f17a8db437caac0bfd148c3c69e4?s=128&d=identicon&r=PG&f=1", "display_name": "dabire", "link": "https://stackoverflow.com/users/8061059/dabire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 46692024, "answer_count": 1, "score": 0, "last_activity_date": 1507735257, "creation_date": 1507734344, "question_id": 46691700, "link": "https://stackoverflow.com/questions/46691700/embedding-shell-command-in-perl-program", "title": "Embedding shell command in perl program", "body": "<p>How can I embed a command like mysql -sN -e \"query;\"  inside a perl script so that my shell will be the one making the database connection. The query is a little complicated query which runs perfectly from the command line but when I set it up in my perl program, i get a bunch of errors like \"string found where operator expected\" , \"bareword found where operator expected\" and syntax error. Any idea how to do this without making giving perl access to the database?</p>\n"}, {"tags": ["perl", "http", "post", "multipart"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507734148, "post_id": 46691559, "comment_id": 80330838, "body": "What code have you tried so far? Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to your question"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1507734249, "post_id": 46691559, "comment_id": 80330900, "body": "<a href=\"https://www.google.co.uk/search?q=cpan+HTTP+POST+multipart\" rel=\"nofollow noreferrer\">google.co.uk/search?q=cpan+HTTP+POST+multipart</a>"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1507736027, "post_id": 46691559, "comment_id": 80332138, "body": "@Quentin Your link points to <code>multipart&#47;form-data</code> while I need <code>multipart&#47;related</code>."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1507737276, "post_id": 46691559, "comment_id": 80332992, "body": "It is unclear what your problem is. Do you have the multipart/related body already and just want to know how to post it or do you ask how to construct such a body in the first place?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1507737345, "post_id": 46691559, "comment_id": 80333042, "body": "@SteffenUllrich I need to perform a multipart upload as in <a href=\"https://cloud.google.com/storage/docs/json_api/v1/how-tos/multipart-upload\" rel=\"nofollow noreferrer\">cloud.google.com/storage/docs/json_api/v1/how-tos/&hellip;</a> (I need to construct the POST request body)"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 3, "creation_date": 1507737489, "post_id": 46691559, "comment_id": 80333127, "body": "@porton: if you have an understanding of MIME you can write it by hand and there is even an example in the documentation you reference. And it links to the standard which describes what to do. Or you could use libraries like MIME::Tools to construct it. There is nothing special with multipart/related compared to multipart/mixed or other multipart/.."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507740379, "post_id": 46691559, "comment_id": 80334792, "body": "There was a question about this in relation to the Mojo user agent about a week or two ago. They had trouble with the metadata. I can&#39;t find it from my phone though.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1507752681, "post_id": 46691559, "comment_id": 80341243, "body": "@SteffenUllrich: This is something that is missing from all the HTTP client modules that I know. It would really help if there were some facility to calculate stuff like an appropriate separator and the <code>Content-length</code> header. The writer should have to provide only the data for the parts."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507752930, "post_id": 46691559, "comment_id": 80341349, "body": "@simbabque: You mean <a href=\"https://stackoverflow.com/q/46521633/622310\"><i>How can I do multipart requests mith Mojo::UserAgent?</i></a> but it&#39;s not very useful."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507753088, "post_id": 46691559, "comment_id": 80341417, "body": "@Borodin I think I&#39;ve got some tuits laying around here. Did you just volunteer for some hacktoberfest fun? :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507753298, "post_id": 46691559, "comment_id": 80341500, "body": "@simbabque: I would be happy to add to <code>Mojolicious</code> or <code>LWP</code>, but my concern is the amount of time it would take to understand how best to do it in keeping with the existing design philosophy. There&#39;s some mysterious stuff in both of those suites."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507753642, "post_id": 46691559, "comment_id": 80341668, "body": "@simbabque: The <code>Mojolicious</code> GitHub repository has a new version of <code>Mojo::UserAgent::Transactor</code> has a new transactor <code>multipart</code> to go with <code>form</code> and <code>json</code>, and I think that&#39;s going to be the best solution when it&#39;s finally pushed to CPAN."}], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1507754548, "post_id": 46696916, "comment_id": 80342144, "body": "It is better to use <code>MIME::Tools</code> and <code>MIME::Entity</code>, as somebody mentioned"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1507755786, "post_id": 46696916, "comment_id": 80342736, "body": "@porton: It was actually me who suggested this. In a way it would be more nice to hide some details of MIME and I would recommend to do it for production code. But on the other side with this code doing the construction of the multipart message itself one can better see how such multipart works and can relate it better to the example given in the API documentation which shows the raw MIME message."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1507755575, "last_edit_date": 1507755575, "creation_date": 1507753396, "answer_id": 46696916, "question_id": 46691559, "link": "https://stackoverflow.com/questions/46691559/how-to-post-a-multipart-related-message-to-a-http-server/46696916#46696916", "title": "How to POST a multipart/related message to a HTTP server?", "body": "<p>Some demonstration of how to send a multipart/related body to some site. I don't know if this sends exactly the data required by the Google API, but it should give you the idea. It is still recommended that you get basic understanding of MIME, especially constructions of multipart messages in MIME (where multipart/related is just one example) and about Content-Transfer-Encoding. The <a href=\"https://en.wikipedia.org/wiki/MIME\" rel=\"nofollow noreferrer\">Wikipedia entry to MIME</a> might be a good start for this.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP;\nuse MIME::Base64 'encode_base64';\nuse HTTP::Request;\n\n# Create the parts, each consisting of MIME-Header and body.\nmy $part1 =\n    \"Content-type: application/json; charset=UTF-8\\r\\n\\r\\n\".\n    \"some json here\\r\\n\";\nmy $part2 =\n    \"Content-type: image/gif\\r\\nContent-Transfer-Encoding: base64\\r\\n\\r\\n\".\n    encode_base64(\"...image data here...\");\n\n# Combine the parts to a single multipart, using the boundary defined later\n# in the Content-Type.\nmy $body =\n    \"--some-boundary\\r\\n\".     # start of 1st part\n    $part1.\n    \"--some-boundary\\r\\n\".     # start of 2nd part\n    $part2.\n    \"--some-boundary--\\r\\n\";   # end boundary\n\n# Create the request. The Content-type is multiplart/related and defines\n# the boundary used to separate the parts.\nmy $req = HTTP::Request-&gt;new(\n    POST =&gt; 'http://example.com/api/postit',\n    [\n        'Content-length' =&gt; length($body),\n        'Content-type'   =&gt; 'multipart/related; boundary=\"some-boundary\"',\n    ],\n    $body\n);\nLWP::UserAgent-&gt;new-&gt;request($req);\n</code></pre>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1402, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507755575, "creation_date": 1507733985, "question_id": 46691559, "link": "https://stackoverflow.com/questions/46691559/how-to-post-a-multipart-related-message-to-a-http-server", "title": "How to POST a multipart/related message to a HTTP server?", "body": "<p>How to POST a <code>multipart/related</code> message of two parts to a HTTP(S) server?</p>\n\n<p>I need this for <a href=\"https://cloud.google.com/storage/docs/json_api/v1/how-tos/multipart-upload\" rel=\"nofollow noreferrer\">https://cloud.google.com/storage/docs/json_api/v1/how-tos/multipart-upload</a></p>\n\n<p>We use Perl 5.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1507733461, "post_id": 46691017, "comment_id": 80330345, "body": "or you could add a &amp; :)"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1507734202, "post_id": 46691017, "comment_id": 80330871, "body": "Oh, I didn&#39;t think of that! Yes, anything that prevents a bareword token directly after <code>require</code> works (except unary <code>+</code>, for some reason?). But let&#39;s rather stick to Modern Perl, and never speak of <code>&amp;foo()</code> style calls again :D"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1507743426, "post_id": 46691017, "comment_id": 80336429, "body": "<code>+</code> works, but with a warning since you could have meant <code>require() +foo()</code>"}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 8, "last_activity_date": 1507732550, "creation_date": 1507732550, "answer_id": 46691017, "question_id": 46690885, "link": "https://stackoverflow.com/questions/46690885/how-can-i-require-a-perl-library-addressed-by-a-path-returned-by-a-subroutine/46691017#46691017", "title": "How can I &#39;require&#39; a Perl library addressed by a path returned by a subroutine?", "body": "<pre><code>require(fn());\n</code></pre>\n\n<p>What a curious syntax error! Adding an extra parenthesis to disambiguate precedence fixes the problem. It seems that otherwise the <code>require PACKAGE</code> form would have precedence over <code>require EXPR</code>, i.e. the <code>fn</code> is parsed as the bareword designating the module you want to load. </p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1507776951, "last_edit_date": 1507776951, "creation_date": 1507775877, "answer_id": 46700545, "question_id": 46690885, "link": "https://stackoverflow.com/questions/46690885/how-can-i-require-a-perl-library-addressed-by-a-path-returned-by-a-subroutine/46700545#46700545", "title": "How can I &#39;require&#39; a Perl library addressed by a path returned by a subroutine?", "body": "<p>The following may appear \"modern\" but not sufficiently correct/standard/<a href=\"https://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"nofollow noreferrer\">POLA</a>:</p>\n\n<p><code>require fn-&gt;();</code></p>\n\n<p>Or maybe an anonymous subroutine is more readable/efficient in some way:</p>\n\n<pre><code>my $fn = sub { return \"a.pl\"; } ;\nrequire $fn-&gt;();\n</code></pre>\n"}], "owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 2, "accepted_answer_id": 46691017, "answer_count": 2, "score": 5, "last_activity_date": 1507809894, "creation_date": 1507732188, "last_edit_date": 1507809894, "question_id": 46690885, "link": "https://stackoverflow.com/questions/46690885/how-can-i-require-a-perl-library-addressed-by-a-path-returned-by-a-subroutine", "title": "How can I &#39;require&#39; a Perl library addressed by a path returned by a subroutine?", "body": "<p>I can use this to include a file <code>a.pl</code>:</p>\n\n<pre><code>require 'a.pl';\n</code></pre>\n\n<p>Or I can use this:</p>\n\n<pre><code>$fn = 'a.pl';\nrequire $fn;\n</code></pre>\n\n<p>However, a subroutine won't work:</p>\n\n<pre><code>sub fn { return 'a.pl'; }\nrequire fn(); # This is a syntax error\n</code></pre>\n\n<p>Is there a syntax for allowing this? I noticed that I can work around the issue via</p>\n\n<pre><code>sub fn { return 'a.pl'; }\nrequire eval(\"fn()\");\n</code></pre>\n\n<p>...but that's not terribly pretty.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507729091, "post_id": 46689503, "comment_id": 80327088, "body": "Is this not just because you&#39;ve used &quot; around the perl code and thus anything beginning with a $ will be treated as a shell variable rather than a perl one?"}, {"owner": {"reputation": 39, "user_id": 7397250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f583992e393024e640f9ec4a403031?s=128&d=identicon&r=PG&f=1", "display_name": "jsjie", "link": "https://stackoverflow.com/users/7397250/jsjie"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507729381, "post_id": 46689503, "comment_id": 80327318, "body": "but this one work as expected: <code>ls | perl -e &quot;while(&lt;&gt;){chomp;if(&#47;sr&#47;){print $_}}&quot;</code> It will print file names"}, {"owner": {"reputation": 39, "user_id": 7397250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f583992e393024e640f9ec4a403031?s=128&d=identicon&r=PG&f=1", "display_name": "jsjie", "link": "https://stackoverflow.com/users/7397250/jsjie"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507729552, "post_id": 46689503, "comment_id": 80327439, "body": "besides, I changed the use of quotes because otherwise $&#39; variable will raise problems. I tried $\\&#39; and $\\\\&#39; but of no use."}, {"owner": {"reputation": 39, "user_id": 7397250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f583992e393024e640f9ec4a403031?s=128&d=identicon&r=PG&f=1", "display_name": "jsjie", "link": "https://stackoverflow.com/users/7397250/jsjie"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507731595, "post_id": 46689503, "comment_id": 80329015, "body": "@mkHun question edited."}, {"owner": {"reputation": 39, "user_id": 7397250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f583992e393024e640f9ec4a403031?s=128&d=identicon&r=PG&f=1", "display_name": "jsjie", "link": "https://stackoverflow.com/users/7397250/jsjie"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507731891, "post_id": 46689503, "comment_id": 80329247, "body": "@a1111exe question edited."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1507732417, "post_id": 46689503, "comment_id": 80329639, "body": "@jsjie when it is becoming empty.? It is not becoming empty. We need to escape the <code>$</code> symbol like <code>print \\$_,$`,$&amp;,($&#39;);</code>. And I&#39;ll check why here we need to escape."}, {"owner": {"reputation": 39, "user_id": 7397250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f583992e393024e640f9ec4a403031?s=128&d=identicon&r=PG&f=1", "display_name": "jsjie", "link": "https://stackoverflow.com/users/7397250/jsjie"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1507732695, "post_id": 46689503, "comment_id": 80329815, "body": "@mkHun but we don&#39;t need to escape it in <code>print $_;</code> so I think this variable must have changed temporarily"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 7397250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f583992e393024e640f9ec4a403031?s=128&d=identicon&r=PG&f=1", "display_name": "jsjie", "link": "https://stackoverflow.com/users/7397250/jsjie"}, "edited": false, "score": 0, "creation_date": 1507729973, "post_id": 46689806, "comment_id": 80327793, "body": "Thanks for your answer, it works. But double quote will do if I use only &quot;print&quot; in my script. Do you have any idea?"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 2, "last_activity_date": 1507731287, "last_edit_date": 1507731287, "creation_date": 1507729388, "answer_id": 46689806, "question_id": 46689503, "link": "https://stackoverflow.com/questions/46689503/perl-batch-rename-files-in-command-line/46689806#46689806", "title": "perl batch rename files in command line", "body": "<p>First in linux we should use single quote instead of double quote.</p>\n\n<p>And instead of ls command you can use perl inbuilt function glob</p>\n\n<p>And to capture the pre and post match you can use the $POSTMATCH and $PREMATCH from English module</p>\n\n<p>so your one liner should be</p>\n\n<pre><code>perl -MEnglish -e 'while(&lt;*&gt;){chomp;if(/sr/){rename $_,$PREMATCH.\"SR\".$POSTMATCH}}'\n</code></pre>\n\n<hr>\n\n<p><strong>EDITED</strong></p>\n\n<p>Single quote and double quote is not about Perl this is about shell. </p>\n\n<p><a href=\"http://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html\" rel=\"nofollow noreferrer\">Single quote</a></p>\n\n<blockquote>\n  <blockquote>\n    <p>Enclosing characters in single quotes (') preserves the literal value of each character within the quotes. A single quote may not occur between single quotes, even when preceded by a backslash.</p>\n  </blockquote>\n</blockquote>\n\n<p><a href=\"http://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html\" rel=\"nofollow noreferrer\">Double quote</a></p>\n\n<blockquote>\n  <blockquote>\n    <p>Enclosing characters in double quotes (\u2018\"\u2019) preserves the literal value of all characters within the quotes, with the exception of \u2018$\u2019, \u2018`\u2019, \u2018\\\u2019, and, when history expansion is enabled, \u2018!\u2019.</p>\n  </blockquote>\n</blockquote>\n\n<p>In shell script we are accessing the shell variable prefix with <code>$</code>, so while using <code>$</code> inside the double quote it is looking for the shell variable not a Perl variable. For example you can run the following line in your terminal,</p>\n\n<pre><code>m=4; perl -e \"print $m;\"\n</code></pre>\n\n<p>Here</p>\n\n<pre><code>m=4; perl -e \"print $m;\"\n^                   ^ \n|                   Accessing shell variable\nAssigning shell variable\n</code></pre>\n\n<p>Output is <code>4</code>. Because <code>m</code> is shell variable you are accessing the shell variable inside your Perl script.</p>\n\n<p>And in windows, we need to use double-quote instead of single quote</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 7397250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f583992e393024e640f9ec4a403031?s=128&d=identicon&r=PG&f=1", "display_name": "jsjie", "link": "https://stackoverflow.com/users/7397250/jsjie"}, "edited": false, "score": 0, "creation_date": 1507730318, "post_id": 46690014, "comment_id": 80328070, "body": "Oh, I didn&#39;t realize &#39;if&#39; is not needed until I read your comment. Thanks."}], "tags": [], "owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "is_accepted": false, "score": 0, "last_activity_date": 1507730468, "last_edit_date": 1507730468, "creation_date": 1507729950, "answer_id": 46690014, "question_id": 46689503, "link": "https://stackoverflow.com/questions/46689503/perl-batch-rename-files-in-command-line/46690014#46690014", "title": "perl batch rename files in command line", "body": "<p>It seems that double quotes mess between your shell environment and Perl. You can certainly do what @mkHun suggested. One other way:</p>\n\n<p><code>ls | perl -e 'while(&lt;&gt;){chomp;($new=$_)=~s/sr/SR/g;rename $_,$new}'</code></p>\n\n<p>Also, if you escape the '$' sigil in '$_', your oneliner will work too:</p>\n\n<pre><code>ls | perl -e \"while(&lt;&gt;){chomp;if(/sr/){rename \\$_,$\\`.'SR'.$'}}\"\n</code></pre>\n\n<p>I still don't get why though.. But it really seems like bash/perl interpolation issue.</p>\n"}], "owner": {"reputation": 39, "user_id": 7397250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f583992e393024e640f9ec4a403031?s=128&d=identicon&r=PG&f=1", "display_name": "jsjie", "link": "https://stackoverflow.com/users/7397250/jsjie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507731857, "creation_date": 1507728581, "last_edit_date": 1507731857, "question_id": 46689503, "link": "https://stackoverflow.com/questions/46689503/perl-batch-rename-files-in-command-line", "title": "perl batch rename files in command line", "body": "<p>I want to rename files with 'sr' in their names, replacing 'sr' with 'SR'. This one succeeded\uff1a</p>\n\n<pre><code>ls | perl -e 'while(&lt;&gt;){chomp;if(/(.*)sr(.*)/){rename $_,$1.\"SR\".$2}}'\n</code></pre>\n\n<p>But this one failed:</p>\n\n<pre><code>ls | perl -e \"while(&lt;&gt;){chomp;if(/sr/){rename $_,$\\`.'SR'.($')}}\"\n</code></pre>\n\n<p>with this error message:</p>\n\n<pre><code>Not enough arguments for rename at -e line 1, near \"rename ,\"`\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>It seems that $_ has become an empty string, but I don't quite understand why. Thanks for any explanations.</p>\n\n<p>Now quotes have been an interesting problem and this is my test:</p>\n\n<pre><code>ls | perl -e \"while(&lt;&gt;){chomp;if(/sr/){print $_;print\\\"\\n\\\";print $\\`,$&amp;,($');print \\\"\\n\\\";print $_,$\\`,$&amp;,($');print\\\"\\n\\\";print $_;print\\\"\\n\\\"}}\"\n</code></pre>\n\n<p>outputs this:</p>\n\n<pre><code>3sr\n3sr\n3sr\n3sr\nsr1\nsr1\nsr1\nsr1\nsr2\nsr2\nsr2\nsr2\n</code></pre>\n\n<p>it seems that when using alone, $_ is not empty; but it become empty when using along with $`,$&amp; and $'. According to the last line of each file, I guess $_ has temporarily changed when not using alone?</p>\n\n<p>Besides, according to a1111exe's answer, I test this:</p>\n\n<pre><code>ls | perl -e \"while(&lt;&gt;){chomp;if(/sr/){print \\$_,$\\`,$&amp;,($');print \\\"\\n\\\"}}\"\n</code></pre>\n\n<p>and got this:</p>\n\n<pre><code>3sr3sr\nsr1sr1\nsr2sr2\n</code></pre>\n"}, {"tags": ["perl", "dancer"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1507724012, "post_id": 46687023, "comment_id": 80323281, "body": "Have you checked what&#39;s in <code>@computers</code>?"}, {"owner": {"reputation": 309, "user_id": 6461660, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9gYUE.jpg?s=128&g=1", "display_name": "Oneill", "link": "https://stackoverflow.com/users/6461660/oneill"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507726565, "post_id": 46687023, "comment_id": 80325055, "body": "Yes this is my computer data: the result of the request. If I don&#39;t use the template it&#39;s work..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507727768, "post_id": 46687023, "comment_id": 80326050, "body": "Ok. I thought my answer (below) would help, but it seems that there is more going on here. What happens if you eliminate the Template Toolkit and just loop through the array in your Perl code? What do you get if you include <code>[% computers.size %]</code> in your template? Or <code>[% computers.0 %]</code>?"}, {"owner": {"reputation": 309, "user_id": 6461660, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9gYUE.jpg?s=128&g=1", "display_name": "Oneill", "link": "https://stackoverflow.com/users/6461660/oneill"}, "edited": false, "score": 0, "creation_date": 1507728109, "post_id": 46687023, "comment_id": 80326326, "body": "I have test [% computers.size %] and  [% computers.0 %] and show nothing. But if I replace the template line by &quot;return $computers[0]-&gt;get_column(&quot;ip&quot;)&quot; it&#39;s work... I get the ip adress of the first computer."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1507728117, "post_id": 46687023, "comment_id": 80326336, "body": "Please update your question with the answers to these questions."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507728247, "post_id": 46687023, "comment_id": 80326427, "body": "What about <code>$computers[0]-&gt;ip</code>?"}, {"owner": {"reputation": 309, "user_id": 6461660, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9gYUE.jpg?s=128&g=1", "display_name": "Oneill", "link": "https://stackoverflow.com/users/6461660/oneill"}, "edited": false, "score": 0, "creation_date": 1507728429, "post_id": 46687023, "comment_id": 80326568, "body": "It&#39;s work too. My web framework is Dancer 2."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507731094, "post_id": 46687023, "comment_id": 80328657, "body": "Please add your <code>Dancer2</code> config file to your question. It seems very strange to have a result set called <code>User</code> that contains information about computers."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507731698, "post_id": 46687023, "comment_id": 80329093, "body": "I have made a guess at the modules you&#39;re using and edited your question to list them. Please check that my guesses are correct, and add any more that I have missed."}, {"owner": {"reputation": 309, "user_id": 6461660, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9gYUE.jpg?s=128&g=1", "display_name": "Oneill", "link": "https://stackoverflow.com/users/6461660/oneill"}, "edited": false, "score": 0, "creation_date": 1507731720, "post_id": 46687023, "comment_id": 80329111, "body": "Yes I have fix this mistake. The module is correct. Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507732415, "post_id": 46687023, "comment_id": 80329638, "body": "It&#39;s <i>very</i> suspicious that something as fundamental as the table name was wrong in your original code. I think you&#39;ll have to <code>use Data::Dumper</code> and <code>print Dumper \\@computers</code>, preferably to a file. I&#39;ll wait to see the output of that."}, {"owner": {"reputation": 309, "user_id": 6461660, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9gYUE.jpg?s=128&g=1", "display_name": "Oneill", "link": "https://stackoverflow.com/users/6461660/oneill"}, "edited": false, "score": 0, "creation_date": 1507733056, "post_id": 46687023, "comment_id": 80330084, "body": "I have test an other table name and this is the reason for User instead Computer in original post. The content of dumper is here: <a href=\"https://ufile.io/igs9c\" rel=\"nofollow noreferrer\">ufile.io/igs9c</a>  my data is present."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507740885, "post_id": 46687023, "comment_id": 80335100, "body": "Do you have a <code>&lt;table&gt;</code> tag in the template? If that&#39;s not there your browser might not display the table. But the data would be there in the page source."}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 6461660, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9gYUE.jpg?s=128&g=1", "display_name": "Oneill", "link": "https://stackoverflow.com/users/6461660/oneill"}, "edited": false, "score": 0, "creation_date": 1507727478, "post_id": 46688696, "comment_id": 80325808, "body": "Thanks for your answer. I test this solution with reference but not work... Do you think of my template foreach is correct ?"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1507819720, "last_edit_date": 1507819720, "creation_date": 1507726368, "answer_id": 46688696, "question_id": 46687023, "link": "https://stackoverflow.com/questions/46687023/result-of-request-not-show-in-template-toolkit/46688696#46688696", "title": "Result of request not show in Template Toolkit", "body": "<p>You need to take a reference to <code>@computers</code>.</p>\n\n<pre><code>get '/listallmachine' =&gt; needs login =&gt; sub {\n    my $computerRs = schema('default')-&gt;resultset('User');\n    my @computers=$computerRs-&gt;all;\n    template 'listmachine' =&gt; {\n        'title'     =&gt; 'Liste des machines',\n        'msg'       =&gt; get_flash(),\n        'computers' =&gt; \\@computers, # Note: Take reference here.\n    };\n};\n</code></pre>\n\n<p><strong>Update:</strong> Ok, I think I can explain this now.</p>\n\n<p>In a comment, you say that <code>get_flash()</code> returns \"a Hashmap\" (which, I assume, means \"a hash\"). Let's assume that it returns a hash with two key/value pairs (<code>one =&gt; 1</code> and <code>two =&gt; 2</code>). That means that the hash you send to <code>template</code> will look like this:</p>\n\n<pre><code>{\n  title     =&gt; 'Liste des machines',\n  msg       =&gt; one =&gt; 1, two =&gt; 2,\n  computers =&gt; \\@computers\n};\n</code></pre>\n\n<p>But that's all just a flat list. Perl will interpret it like this:</p>\n\n<pre><code>{\n  title       =&gt; 'Liste des machines',\n  msg         =&gt; 'one',\n  1           =&gt; 'two',\n  2           =&gt; 'computers',\n  \\@computers =&gt; undef,\n};\n</code></pre>\n\n<p>Do you see what has happened? Because of the multiple values returned from <code>get_flash()</code> your key/value pairs have all got out of line. And you no longer have a hash key called <code>computers</code>. That's why the template can't find a variable called <code>computers</code> - it no longer exists.</p>\n\n<p>The fix is to take a reference to the hash that is returned from <code>get_flash()</code>:</p>\n\n<pre><code>{\n  title     =&gt; 'Liste des machines',\n  msg       =&gt; { get_flash() },\n  computers =&gt; \\@computers\n};\n</code></pre>\n\n<p>The reference prevents the hash being flattened into a list. Your data structure will look like this:</p>\n\n<pre><code>{\n  title     =&gt; 'Liste des machines',\n  msg       =&gt; { one =&gt; 1, two =&gt; 2 },\n  computers =&gt; \\@computers\n};\n</code></pre>\n\n<p>(Pedantically, the problem is that subroutines don't return hashes - they return lists. The list only becomes a hash when you store it in a hash variable.)</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507755675, "post_id": 46692437, "comment_id": 80342684, "body": "Is it perhaps possible that your call to <code>get_flash()</code> is returning more than one value?"}, {"owner": {"reputation": 309, "user_id": 6461660, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9gYUE.jpg?s=128&g=1", "display_name": "Oneill", "link": "https://stackoverflow.com/users/6461660/oneill"}, "edited": false, "score": 0, "creation_date": 1507760356, "post_id": 46692437, "comment_id": 80344471, "body": "The return of get_flash() is a Hashmap. I think I&#39;m not use correctly the return of get_flash. But for the moment It&#39;s works :) Thank you for your help."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507814104, "post_id": 46692437, "comment_id": 80367580, "body": "If <code>get_flash()</code> returns a hash, then you need to take a reference to it before putting in your template hash. <code>msg =&gt; { get_flash() }</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507819436, "post_id": 46692437, "comment_id": 80371436, "body": "@Oneill: I think I&#39;ve explained the problem in the updated version of my answer."}], "tags": [], "owner": {"reputation": 309, "user_id": 6461660, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9gYUE.jpg?s=128&g=1", "display_name": "Oneill", "link": "https://stackoverflow.com/users/6461660/oneill"}, "is_accepted": false, "score": 0, "last_activity_date": 1507736480, "creation_date": 1507736480, "answer_id": 46692437, "question_id": 46687023, "link": "https://stackoverflow.com/questions/46687023/result-of-request-not-show-in-template-toolkit/46692437#46692437", "title": "Result of request not show in Template Toolkit", "body": "<p>Ok I understood the problem. This is my get_flash() function, indeed when I remove the \"msg\" element the showing is ok. So I have forget my reference and the \"get_flash\" function is bad. Thanks you for your help. </p>\n"}], "owner": {"reputation": 309, "user_id": 6461660, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9gYUE.jpg?s=128&g=1", "display_name": "Oneill", "link": "https://stackoverflow.com/users/6461660/oneill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507819720, "creation_date": 1507721080, "last_edit_date": 1507731679, "question_id": 46687023, "link": "https://stackoverflow.com/questions/46687023/result-of-request-not-show-in-template-toolkit", "title": "Result of request not show in Template Toolkit", "body": "<p>I have an SQLite database with computer table. I have two rows in computer table. </p>\n\n<p>I want to get all computers and show the results in <em>Template Toolkit</em> template. </p>\n\n<p>This is the\n<a href=\"https://metacpan.org/pod/Dancer2\" rel=\"nofollow noreferrer\"><code>Dancer2</code></a>\ncontroller code, which uses\n<a href=\"https://metacpan.org/pod/Dancer2::Plugin::Auth::Tiny\" rel=\"nofollow noreferrer\"><code>Dancer2::Plugin::Auth::Tiny</code></a>\nand\n<a href=\"https://metacpan.org/pod/Dancer2::Plugin::DBIC\" rel=\"nofollow noreferrer\"><code>Dancer2::Plugin::DBIC</code></a></p>\n\n<pre><code>get '/listallmachine' =&gt; needs login =&gt; sub {\n    my $computerRs = schema('default')-&gt;resultset('Computer');\n    my @computers = $computerRs-&gt;all;\n    template 'listmachine' =&gt; {\n        'title'     =&gt; 'Liste des machines',\n        'msg'       =&gt; get_flash(),\n        'computers' =&gt; \\@computers\n    };\n }; \n</code></pre>\n\n<p>And for the template: </p>\n\n<pre><code>[% FOREACH c IN computers %]\n    &lt;tr&gt;\n        &lt;td&gt;[% c.ip %]&lt;/td&gt;\n        &lt;td&gt;[% c.uuid %]&lt;/td&gt;\n    &lt;/tr&gt;\n[% END %]\n</code></pre>\n\n<p>Configuration file:</p>\n\n<pre><code># configuration file for development environment\n\n# the logger engine to use\n# console: log messages to STDOUT (your console where you started the\n#          application server)\n# file:    log message to a file in log/\nlogger: \"console\"\n\n# the log level for this environment\n# core is the lowest, it shows Dancer2's core log messages as well as yours\n# (debug, info, warning and error)\nlog: \"core\"\n\n# should Dancer2 consider warnings as critical errors?\nwarnings: 1\n\n# should Dancer2 show a stacktrace when an 5xx error is caught?\n# if set to yes, public/500.html will be ignored and either\n# views/500.tt, 'error_template' template, or a default error template will be used.\nshow_errors: 1\n\n# print the banner\nstartup_info: 1\n\nplugins:\n      DBIC:\n        default:\n          dsn: dbi:SQLite:dbname=papt.db\n</code></pre>\n\n<p>The template shows nothing. Have you any idea? </p>\n"}, {"tags": ["mongodb", "perl"], "comments": [{"owner": {"reputation": 8193, "user_id": 418150, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4e6ea6eda1ac602bde5b282216ae331f?s=128&d=identicon&r=PG", "display_name": "Lee Goddard", "link": "https://stackoverflow.com/users/418150/lee-goddard"}, "edited": false, "score": 0, "creation_date": 1507720034, "post_id": 46686270, "comment_id": 80320748, "body": "Your <code>$set</code> line is wrong -- you have a dangling single quote, and I guess you should have a key to value mapping, whereas you seem to have a value to boolean mapping? Just a guess....it&#39;s been a while...."}, {"owner": {"reputation": 411, "user_id": 4297309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1e190ef7aee59d887c4401ee6e33000d?s=128&d=identicon&r=PG&f=1", "display_name": "koul", "link": "https://stackoverflow.com/users/4297309/koul"}, "reply_to_user": {"reputation": 8193, "user_id": 418150, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4e6ea6eda1ac602bde5b282216ae331f?s=128&d=identicon&r=PG", "display_name": "Lee Goddard", "link": "https://stackoverflow.com/users/418150/lee-goddard"}, "edited": false, "score": 0, "creation_date": 1507739898, "post_id": 46686270, "comment_id": 80334508, "body": "I don&#39;t think so, it&#39;s on the right line."}, {"owner": {"reputation": 1028, "user_id": 731339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d1ca6a73cadeccaeeadcd255265cfa?s=128&d=identicon&r=PG", "display_name": "Ossip", "link": "https://stackoverflow.com/users/731339/ossip"}, "edited": false, "score": 0, "creation_date": 1507742890, "post_id": 46686270, "comment_id": 80336153, "body": "it does look like a closing single quote is missing here. otherwise it should work like that. <code>&#39;emails.[0].email.active&#39; =&gt; false </code>"}, {"owner": {"reputation": 411, "user_id": 4297309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1e190ef7aee59d887c4401ee6e33000d?s=128&d=identicon&r=PG&f=1", "display_name": "koul", "link": "https://stackoverflow.com/users/4297309/koul"}, "edited": false, "score": 0, "creation_date": 1507761520, "post_id": 46686270, "comment_id": 80344813, "body": "it was just a mistyping , it&#39;s corrected it now. BUT still having the same issue"}, {"owner": {"reputation": 1028, "user_id": 731339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d1ca6a73cadeccaeeadcd255265cfa?s=128&d=identicon&r=PG", "display_name": "Ossip", "link": "https://stackoverflow.com/users/731339/ossip"}, "edited": false, "score": 1, "creation_date": 1507848509, "post_id": 46686270, "comment_id": 80386687, "body": "I realize you had an extra &#39;email&#39; in there - the .0 already references the sub-document. I&#39;ve added an answer, hope it works! (can&#39;t test it right now)"}], "answers": [{"tags": [], "owner": {"reputation": 1028, "user_id": 731339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d1ca6a73cadeccaeeadcd255265cfa?s=128&d=identicon&r=PG", "display_name": "Ossip", "link": "https://stackoverflow.com/users/731339/ossip"}, "is_accepted": true, "score": 0, "last_activity_date": 1507848370, "creation_date": 1507848370, "answer_id": 46719989, "question_id": 46686270, "link": "https://stackoverflow.com/questions/46686270/mongodb-perl-update-command/46719989#46719989", "title": "MongoDB Perl update command", "body": "<p>you don't need the extra <code>email.</code> in there:</p>\n\n<pre><code>$update_result = $users-&gt;update_one(\n                                    { 'userid' =&gt; $doc-&gt;{'userid'}},\n                                    { '$set'     =&gt; { 'emails.[0].active' =&gt; false }},\n                                    { 'upsert'   =&gt; 1}\n                                );\n</code></pre>\n"}], "owner": {"reputation": 411, "user_id": 4297309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1e190ef7aee59d887c4401ee6e33000d?s=128&d=identicon&r=PG&f=1", "display_name": "koul", "link": "https://stackoverflow.com/users/4297309/koul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 46719989, "answer_count": 1, "score": 0, "last_activity_date": 1507848370, "creation_date": 1507718748, "last_edit_date": 1507761549, "question_id": 46686270, "link": "https://stackoverflow.com/questions/46686270/mongodb-perl-update-command", "title": "MongoDB Perl update command", "body": "<p>I would like to update a field without losing the others fields of the collection from perl script.</p>\n\n<p>for example I have this collection :</p>\n\n<pre><code>{\n\"userid\": 1234,\n\"username\": \"tester\",\n\"password\": \"*****\",\n\"fullname\": \"For Test Only\",\n\"emails\" :[\n     { \"email\": \"test1@mail.com\", \"active\": true },\n     { \"email\": \"test2@mail.com\", \"active\": true }\n]\n}\n</code></pre>\n\n<p>And I would like to change to this :</p>\n\n<pre><code>{\n \"userid\": 1234\n \"username\": \"tester\",\n \"password\": \"*****\",\n \"fullname\": \"For Test Only\",\n \"emails\" :[\n     { \"email\": \"test1@mail.com\", \"active\": false},\n     { \"email\": \"test2@mail.com\", \"active\": true }\n]\n}\n</code></pre>\n\n<p>When I tried to change it from my perl script using this :</p>\n\n<pre><code>$update_result = $users-&gt;update_one(\n                                    { 'userid' =&gt; $doc-&gt;{'userid'}},\n                                    { '$set'     =&gt; { 'emails.[0].email.active' =&gt; false }},\n                                    { 'upsert'   =&gt; 1}\n                                );\n</code></pre>\n\n<p>I got the following result which is NOT expected :</p>\n\n<pre><code>{\n     \"userid\": 1234\n     \"username\": \"tester\",\n     \"password\": \"*****\",\n     \"fullname\": \"For Test Only\",\n     \"emails\" :[\n         { \"active\": false},\n         { \"email\": \"test2@mail.com\", \"active\": true }\n    ]\n}\n</code></pre>\n\n<p>The email disappear !! . Any idea why is NOT keeping the email ?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl", "activestate"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1507708657, "post_id": 46682184, "comment_id": 80313326, "body": "<code>ppm install Email::Sender</code> <a href=\"http://search.cpan.org/~rjbs/Email-Sender-1.300031/lib/Email/Sender.pm\" rel=\"nofollow noreferrer\">Please refer for further more explanation</a>"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 2533201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629d53f972d26843dd019f479b7041a5?s=128&d=identicon&r=PG", "display_name": "Jorge_Freitas", "link": "https://stackoverflow.com/users/2533201/jorge-freitas"}, "reply_to_user": {"reputation": 1, "user_id": 7062401, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sCfh74QUgKk/AAAAAAAAAAI/AAAAAAAABJE/aQtQzK0JDDY/photo.jpg?sz=128", "display_name": "Ruchira More", "link": "https://stackoverflow.com/users/7062401/ruchira-more"}, "edited": false, "score": 0, "creation_date": 1507729594, "post_id": 46687308, "comment_id": 80327476, "body": "try updating CPAN and reloading it. From within CPAN&#39;s console, <code>install CPAN</code>, then <code>reload CPAN</code>. Then try again <code>install Mail::Sender</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 7062401, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sCfh74QUgKk/AAAAAAAAAAI/AAAAAAAABJE/aQtQzK0JDDY/photo.jpg?sz=128", "display_name": "Ruchira More", "link": "https://stackoverflow.com/users/7062401/ruchira-more"}, "edited": false, "score": 0, "creation_date": 1507737110, "post_id": 46687308, "comment_id": 80332884, "body": "@Ruchira More, &quot;Still not working&quot; is not an adequate description of a problem. What error did you get?"}], "tags": [], "owner": {"reputation": 137, "user_id": 2533201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629d53f972d26843dd019f479b7041a5?s=128&d=identicon&r=PG", "display_name": "Jorge_Freitas", "link": "https://stackoverflow.com/users/2533201/jorge-freitas"}, "is_accepted": false, "score": 0, "last_activity_date": 1507721931, "creation_date": 1507721931, "answer_id": 46687308, "question_id": 46682184, "link": "https://stackoverflow.com/questions/46682184/cant-find-any-package-that-provides-email-sender/46687308#46687308", "title": "can&#39;t find any package that provides Email-Sender", "body": "<p>Maybe you should try to do it from within CPAN? </p>\n\n<blockquote>\n  <p>cpan > install Mail::Sender</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 7062401, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sCfh74QUgKk/AAAAAAAAAAI/AAAAAAAABJE/aQtQzK0JDDY/photo.jpg?sz=128", "display_name": "Ruchira More", "link": "https://stackoverflow.com/users/7062401/ruchira-more"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 670, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507721931, "creation_date": 1507706594, "last_edit_date": 1507719685, "question_id": 46682184, "link": "https://stackoverflow.com/questions/46682184/cant-find-any-package-that-provides-email-sender", "title": "can&#39;t find any package that provides Email-Sender", "body": "<p>While installing Perl Packages for bugzilla it is giving error as..</p>\n\n<pre><code>Command:ppm install Email-Sender \nError:ppm install failed:can't find any package that provides Email-Sender\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7864686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98e0a6a08ad6755d06feef19e65992d5?s=128&d=identicon&r=PG", "display_name": "Leelouh", "link": "https://stackoverflow.com/users/7864686/leelouh"}, "edited": false, "score": 0, "creation_date": 1507707344, "post_id": 46682141, "comment_id": 80312489, "body": "Nice! It is working, thank you very much for your help!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507714421, "post_id": 46682141, "comment_id": 80317103, "body": "Could you please explain the use of Syntax::Construct here? I hadn&#39;t seen it before. It looks really useful."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1507714713, "post_id": 46682141, "comment_id": 80317278, "body": "On 5.14+, it does nothing, on older Perls, you&#39;ll get a meaningful error instead of a random parser failure for the <code>&#47;r</code> modifier. See <a href=\"http://p3rl.org/Syntax::Construct\" rel=\"nofollow noreferrer\">Syntax::Construct</a>."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1507716355, "post_id": 46682141, "comment_id": 80318373, "body": "@choroba <code>$r =~ tr&#47;[]&#47;][&#47;;</code> you made it simple :)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1507706419, "creation_date": 1507706419, "answer_id": 46682141, "question_id": 46681984, "link": "https://stackoverflow.com/questions/46681984/how-to-reverse-a-regular-expression-in-perl/46682141#46682141", "title": "How to reverse a regular expression in Perl", "body": "<p>If the square brackets are the only problem, use transliteration to switch them:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse Syntax::Construct qw{ /r };\n\nuse Test::More tests =&gt; 1;\n\nmy $motif    = 'TA[TC]AA';\nmy $reversed = 'AA[CT]AT';\n\nis reverse($motif =~ tr/[]/][/r), $reversed;\n</code></pre>\n\n<p>Or, in pre-5.14 where <code>/r</code> isn't available:</p>\n\n<pre><code>my $r = reverse $motif;\n$r =~ tr/[]/][/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 7864686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98e0a6a08ad6755d06feef19e65992d5?s=128&d=identicon&r=PG", "display_name": "Leelouh", "link": "https://stackoverflow.com/users/7864686/leelouh"}, "edited": false, "score": 0, "creation_date": 1507729990, "post_id": 46682175, "comment_id": 80327811, "body": "at the line &quot;elsif&quot; can you explain me this at the substitution ? (&#91;[^&#93;\\&#93;+&#93;)"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 55, "user_id": 7864686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98e0a6a08ad6755d06feef19e65992d5?s=128&d=identicon&r=PG", "display_name": "Leelouh", "link": "https://stackoverflow.com/users/7864686/leelouh"}, "edited": false, "score": 0, "creation_date": 1507730441, "post_id": 46682175, "comment_id": 80328159, "body": "@Leelouh see my edit. The <code>[^\\]\\\\]</code> is the character class matching anything except closing brackets <code>]</code> or backslashes <code>\\ </code>. That is an approximation for the syntax of Perl regex charclasses if I don&#39;t want to handle escapes. A better regex that supports escaped characters within the charclass would be <code>s&#47;^(\\[(?:[^\\[\\]\\\\]+|\\\\.)++\\])&#47;&#47;s</code>."}, {"owner": {"reputation": 55, "user_id": 7864686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98e0a6a08ad6755d06feef19e65992d5?s=128&d=identicon&r=PG", "display_name": "Leelouh", "link": "https://stackoverflow.com/users/7864686/leelouh"}, "edited": false, "score": 0, "creation_date": 1507732863, "post_id": 46682175, "comment_id": 80329926, "body": "Ok thank you! It is not clear for me yet but I will try to understand it, ah ah."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 55, "user_id": 7864686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98e0a6a08ad6755d06feef19e65992d5?s=128&d=identicon&r=PG", "display_name": "Leelouh", "link": "https://stackoverflow.com/users/7864686/leelouh"}, "edited": false, "score": 0, "creation_date": 1507733199, "post_id": 46682175, "comment_id": 80330163, "body": "To be entirely honest, the regex wasn&#39;t entirely clear to me either. That little test case caught multiple problems with that line before I posted the answer."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 3, "last_activity_date": 1507730239, "last_edit_date": 1507730239, "creation_date": 1507706557, "answer_id": 46682175, "question_id": 46681984, "link": "https://stackoverflow.com/questions/46681984/how-to-reverse-a-regular-expression-in-perl/46682175#46682175", "title": "How to reverse a regular expression in Perl", "body": "<p>You cannot reverse all Perl regular expressions. But in this simple case where you only have literal characters or simple character classes, you could use an approach where you disassemble the regex atom by atom, then reverse the list of atoms. Here, an atom would be any regex thingy that matches independently, e.g. a literal character or a charclass.</p>\n\n<pre><code>sub reverse_pattern {\n  my ($pattern) = @_;\n  my @atoms;\n  while (length $pattern) {\n    # parse a literal (here, we just match letters)\n    if ($pattern =~ s/^(\\w)//) {\n      push @atoms, $1;\n    }\n    # parse a charclass: \\[ ... \\]\n    # the inside of a charclass is anything except \"]\" or \"\\\": [^\\]\\\\]+\n    elsif ($pattern =~ s/^(\\[[^\\]\\\\]+\\])//) {\n      push @atoms, $1;\n    }\n    else {\n      die \"Unsupported pattern syntax: $pattern\";\n    }\n  }\n  return join '' =&gt; reverse @atoms;\n}\n\nuse Test::More;\nis reverse_pattern('TA[TC]AA'), 'AA[TC]AT';\ndone_testing;\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7864686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98e0a6a08ad6755d06feef19e65992d5?s=128&d=identicon&r=PG", "display_name": "Leelouh", "link": "https://stackoverflow.com/users/7864686/leelouh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 1, "accepted_answer_id": 46682141, "answer_count": 2, "score": 3, "last_activity_date": 1507730239, "creation_date": 1507705959, "last_edit_date": 1507706109, "question_id": 46681984, "link": "https://stackoverflow.com/questions/46681984/how-to-reverse-a-regular-expression-in-perl", "title": "How to reverse a regular expression in Perl", "body": "<p>I was trying to reverse a motif which is like a regular expression.\nAn example of my motif : <code>TA[TC]AA</code>\nWhen I use the function (reverse) it reverses the <code>[</code> into a <code>]</code>, so I obtained something like : <code>AA]CT[AT</code> and I want something like <code>AA[CT]AT</code>.</p>\n\n<p>What can I do for it?</p>\n\n<p>Thank you so much for your help!!</p>\n"}, {"tags": ["android", "perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1507705111, "post_id": 46681388, "comment_id": 80311151, "body": "<code>perl -pe &#39;s&#47;(1.0.1.2)|versionCode=&quot;\\K(12)&#47;($1)?&quot;1.0.1.3&quot;:13&#47;eg; &#39; xml.txt</code>"}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1507705541, "post_id": 46681388, "comment_id": 80311422, "body": "Looks to me this is hard code i want to auto increment both versionCode and versionName. and set the versionName as environment variable. Please can you have a solution for this."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507712034, "post_id": 46682136, "comment_id": 80315339, "body": "I tired, but no luck, when ever i run the script versionCode  and versionName should be incremented automatically, for example if i run once it is incremented to 1.0.1.3, again if i run the perl script it will be incremented by 1.0.1.4 automatically. Please is there any best way to write Perl script."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 1, "creation_date": 1507715054, "post_id": 46682136, "comment_id": 80317531, "body": "@krishna you will have to do a little bit of work yourself. This answer gives you the ground work, but the initial version is hard coded. We answer questions here, not do your work for you. If you want it to work with dynamic versions, change it."}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507721876, "post_id": 46682136, "comment_id": 80321908, "body": "Ok thanks, But i totally new this to perl. Want to change it dynamically. Thanks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507742465, "post_id": 46682136, "comment_id": 80335915, "body": "Using <code>next_version</code> is silly when the parameter can only ever be one value."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1507742380, "last_edit_date": 1507742380, "creation_date": 1507706399, "answer_id": 46682136, "question_id": 46681388, "link": "https://stackoverflow.com/questions/46681388/auto-increment-android-versioncode-and-versionname-using-perl/46682136#46682136", "title": "auto increment android versionCode and VersionName using perl", "body": "<p>You need to install the <code>Version::Next</code> module in your machine after installing you can try the following one liner</p>\n\n<pre><code>perl -MVersion::Next=next_version -pe's/(1\\.0\\.1\\.2)|versionCode=\"\\K(12)/\n    $1 ? next_version($1) : next_version($2) /eg' file.xml\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507785308, "post_id": 46694248, "comment_id": 80350796, "body": "Thanks, I am  using manifest.xml file to increment the versionCode and versionName. I think i need to read the manifest file am i right? &#39; ."}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507785322, "post_id": 46694248, "comment_id": 80350805, "body": "&#39; &#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;manifest android:versionCode=&quot;12&quot; android:versionName=&quot;1.0.1.2&quot; package=&quot;com.test.prat&quot; xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;&gt; &lt;uses-permission &#39;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507785417, "post_id": 46694248, "comment_id": 80350847, "body": "What? . . . . ."}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507793210, "post_id": 46694248, "comment_id": 80354394, "body": "I mean,  from your script how can i read the manifest.xml file, i mean how i can parse my xml file"}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507793718, "post_id": 46694248, "comment_id": 80354679, "body": "sorry to ask you again, I am confusing for example in other language i can parse the xml file &#39;dom1 = parse(&quot;AndroidManifest.xml&quot;)&#39;  in your code how it will read and fetch the versionCode and versionName  the the manifest.xml file."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507793958, "post_id": 46694248, "comment_id": 80354804, "body": "Same idea with XML::LibXML."}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507800557, "post_id": 46694248, "comment_id": 80358740, "body": "when i run the script, it is giving error but i downloaded version::next module though it is giving error &#39;Can&#39;t locate Version/Next.pm in @INC (you may need to install the Version::Next module) (@INC contains: C:/Strawberry/perl/site/lib C:/Strawberry/perl/vendor/lib C:/Strawberry/perl/lib .) at versionperl.pl line 7.&#39;"}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507801263, "post_id": 46694248, "comment_id": 80359185, "body": "I installed please ignore my latest comment"}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507801528, "post_id": 46694248, "comment_id": 80359348, "body": "when i run the script  it is giving error. &#39;Can&#39;t locate object method &quot;getAttributeNodeNS&quot; via package &quot;50275552&quot; (perhaps you forgot to load &quot;50275552&quot;?) at versionperl.pl line 10&#39; . here is my code&#39;"}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507801546, "post_id": 46694248, "comment_id": 80359360, "body": "code --  &#39;use 5.010; use strict; use warnings; use XML::LibXML; my $filename = &#39;AndroidManifest.xml&#39;; my $dom = XML::LibXML-&gt;load_xml(location =&gt; $filename); use Version::Next qw( next_version ); use constant ANDROID_NS =&gt; &#39;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&#39;; #my $manifest_node = $doc-&gt;documentElement(); for my $version_node (    $$dom-&gt;getAttributeNodeNS(ANDROID_NS, &#39;versionName&#39;),    $dom-&gt;getAttributeNodeNS(ANDROID_NS, &#39;versionCode&#39;), ) {    my $version = $version_node-&gt;getValue();    $version = next_version($version);    $version_node-&gt;setValue($version); }&#39;"}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507801565, "post_id": 46694248, "comment_id": 80359379, "body": "please can you advise"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507824051, "post_id": 46694248, "comment_id": 80374508, "body": "<code>$$dom</code> should be <code>$dom-&gt;documentElement()</code>. And <code>$dom</code> is a ::Document node, so <code>$doc</code> makes more sense as a name."}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507875656, "post_id": 46694248, "comment_id": 80393516, "body": "I ran the below script but it is compiled but versionCode and versionName is not updated in manifest.xml file."}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507889454, "post_id": 46694248, "comment_id": 80400964, "body": "I am trying to put the code but not allowing can you please help on this"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507907413, "post_id": 46694248, "comment_id": 80412362, "body": "@krishna, Did you save your changes?"}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1508147315, "post_id": 46694248, "comment_id": 80479994, "body": ",yes, I saved my changes."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1508168002, "post_id": 46694248, "comment_id": 80493511, "body": "Without seeing your code, I have no idea what you did wrong. And that&#39;s why you shouldn&#39;t be asking new questions in the comments. I have updated my answer to have complete working code."}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1508410070, "post_id": 46694248, "comment_id": 80603492, "body": "I edited my code in above.  it is not updating versionCode and versionName in manifest file."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1508435804, "post_id": 46694248, "comment_id": 80619700, "body": "I can&#39;t tell you why code I&#39;ve never seen doesn&#39;t work."}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1508742859, "post_id": 46694248, "comment_id": 80714760, "body": "use strict; use warnings qw( all ); use Version::Next qw( next_version ); use XML::LibXML   qw( ); use constant ANDROID_NS =&gt; &#39;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&#39;; my $qfn = $ARGV[0]; my $doc = XML::LibXML-&gt;load_xml( location =&gt; $qfn ); my $manifest_node = $doc-&gt;documentElement(); for my $version_node ( $manifest_node-&gt;getAttributeNodeNS(ANDROID_NS, &#39;versionName&#39;), $manifest_node-&gt;getAttributeNodeNS(ANDROID_NS, &#39;versionCode&#39;), ) { my $version = $version_node-&gt;getValue(); $version = next_version($version); $version_node-&gt;setValue($version); } $doc-&gt;toFile($qfn);"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1508168006, "last_edit_date": 1508168006, "creation_date": 1507742896, "answer_id": 46694248, "question_id": 46681388, "link": "https://stackoverflow.com/questions/46681388/auto-increment-android-versioncode-and-versionname-using-perl/46694248#46694248", "title": "auto increment android versionCode and VersionName using perl", "body": "<p>You didn't specify which XML parser you are using, so I'm going to assume XML::LibXML.</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\n\nuse Version::Next qw( next_version );\nuse XML::LibXML   qw( );\n\nuse constant ANDROID_NS =&gt; 'http://schemas.android.com/apk/res/android';\n\nmy $qfn = $ARGV[0];\n\nmy $doc = XML::LibXML-&gt;load_xml( location =&gt; $qfn );\nmy $manifest_node = $doc-&gt;documentElement();\n\nfor my $version_node (\n   $manifest_node-&gt;getAttributeNodeNS(ANDROID_NS, 'versionName'),\n   $manifest_node-&gt;getAttributeNodeNS(ANDROID_NS, 'versionCode'),\n) {\n   my $version = $version_node-&gt;getValue();\n   $version = next_version($version);\n   $version_node-&gt;setValue($version);\n}\n\n$doc-&gt;toFile($qfn);\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508168006, "creation_date": 1507703917, "last_edit_date": 1507704690, "question_id": 46681388, "link": "https://stackoverflow.com/questions/46681388/auto-increment-android-versioncode-and-versionname-using-perl", "title": "auto increment android versionCode and VersionName using perl", "body": "<p>I have an android manifest.xml  file with android versionCode:12 and versionName:1.0.1.2 and I am trying to autoincrement the versionCode and VersionName using perl with major,minor,patch and build logic using perl script. Here is my manifest file. After auto increment versionName will be like as 1.0.1.3 and versionCode as 13.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;manifest android:versionCode=\"12\" android:versionName=\"1.0.1.2\" package=\"com.test.prat\" xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_INTERNAL_STORAGE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\"/&gt;\n</code></pre>\n\n<p>Also I have strings.xml file to update versionName in strings.xml file the auto increment versionName should be updated as well in strings.xml file. Here is my strings.xml file </p>\n\n<p>\n</p>\n\n<pre><code>&lt;!-- This file is automatically generated, please do not update --&gt;\n\n&lt;!-- decibel abbreviation --&gt;\n&lt;string name=\"txt_abbreviation_decibel_label\"&gt;dB&lt;/string&gt; \n&lt;string name=\"txt_android_app_version\"&gt;1.0.1.2&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>After that auto increment I want to set the versionName as environment variable to use the during svn commit phase for example \u2018svn commit \u201cupdate versionName  1.0.1.2\u201d\u2019</p>\n\n<p>Please advise.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1507683783, "post_id": 46678107, "comment_id": 80304557, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5617314/perl-regex-print-the-matched-value\">Perl Regex - Print the matched value</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507694386, "post_id": 46678107, "comment_id": 80307047, "body": "You forgot to chomp."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507694401, "post_id": 46678107, "comment_id": 80307056, "body": "You forgot to turn text into a regex pattern using <code>quotemeta</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507694416, "post_id": 46678107, "comment_id": 80307062, "body": "You forgot to anchor with <code>^</code> and <code>\\z</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507694451, "post_id": 46678107, "comment_id": 80307071, "body": "You forgot to avoid printing the same line more than once."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507694518, "post_id": 46678107, "comment_id": 80307086, "body": "You forgot that could you could just read until EOF rather awkwardly asking for how much information in coming."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507694541, "post_id": 46678107, "comment_id": 80307095, "body": "You forgot that you could use the more flexible <code>ARGV</code> (the default handle for <code>&lt;&gt;</code>) instead of <code>STDIN</code>."}, {"owner": {"reputation": 3, "user_id": 8755697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc6eddb6bd1a1ad9ce2cde8477e31a4?s=128&d=identicon&r=PG&f=1", "display_name": "purplekushbear", "link": "https://stackoverflow.com/users/8755697/purplekushbear"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507747010, "post_id": 46678107, "comment_id": 80338364, "body": "@ikegami seems like there are a lot of things I forgot to do. \t  &quot;You forgot that could you could just read until EOF rather awkwardly asking for how much information in coming.&quot;  This is what I wanted to do initially but didn&#39;t know how to go about it. Thanks for the responses :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507747280, "post_id": 46678107, "comment_id": 80338512, "body": "<code>while (defined( my $input = &lt;STDIN&gt; )) { ... }</code>, or with <code>ARGV</code>, <code>while (defined( my $input = &lt;&gt; )) { ... }</code>"}, {"owner": {"reputation": 3, "user_id": 8755697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc6eddb6bd1a1ad9ce2cde8477e31a4?s=128&d=identicon&r=PG&f=1", "display_name": "purplekushbear", "link": "https://stackoverflow.com/users/8755697/purplekushbear"}, "edited": false, "score": 0, "creation_date": 1507748494, "post_id": 46678107, "comment_id": 80339143, "body": "This helps! I tried the following:  &#39;while (defined(my $input = &lt;STDIN&gt;)) {  \tchomp $input; \tlast if $input eq &quot;end&quot;; \tpush @items, $input; }&#39;   Is there a better way to break from the loop. This one seems to exit the entire script after I enter &quot;end&quot;."}, {"owner": {"reputation": 3, "user_id": 8755697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc6eddb6bd1a1ad9ce2cde8477e31a4?s=128&d=identicon&r=PG&f=1", "display_name": "purplekushbear", "link": "https://stackoverflow.com/users/8755697/purplekushbear"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507751066, "post_id": 46678107, "comment_id": 80340373, "body": "@ikegami figured it out. Thanks for the help!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507757336, "post_id": 46678107, "comment_id": 80343390, "body": "Yeah, remove <code>last if ...;</code>. Again, you should just read until EOF"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8755697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc6eddb6bd1a1ad9ce2cde8477e31a4?s=128&d=identicon&r=PG&f=1", "display_name": "purplekushbear", "link": "https://stackoverflow.com/users/8755697/purplekushbear"}, "edited": false, "score": 0, "creation_date": 1507746394, "post_id": 46680744, "comment_id": 80338012, "body": "Hi! I appreciate the warm welcome, Ken. I think I&#39;m going to find myself on Stack Overflow quite a lot for the next couple of months.   As for your response, TIMTOWTDI is something I&#39;m quickly starting to learn. Thanks for the advice on maintainability. I read somewhere that the best code is the one that is self-explanatory with little to no comments."}], "tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": true, "score": 0, "last_activity_date": 1507832457, "last_edit_date": 1507832457, "creation_date": 1507701149, "answer_id": 46680744, "question_id": 46678107, "link": "https://stackoverflow.com/questions/46678107/perl-how-to-parse-through-a-file-and-print-each-line-that-matches-user-inputted/46680744#46680744", "title": "Perl: How to parse through a file and print each line that matches user inputted strings?", "body": "<p>@purplekushbear Welcome to Perl! In Perl, there is more than one way to do it (TIMTOWTDI) so please take this in the spirit of teaching that it is given.\nFirst off your line one -- the #! (sha bang line) is missing the leading / in the path to perl. In Linux/UNIX environments if your script is executable the path after the #! is used to run your program. --- If you do an ls on /usr/bin/perl you should see it. Sometimes it is found at /bin/perl or /usr/local/bin/perl.\nWhen the person mentioned you forgot to chomp they where referring to where you are setting the $input variable. Just chomp like you did for $n and you will be ok.\nAs for the main part of your program go back and read what you wanted to do and do exactly that might be simpler to do. I think you have a good start on the problem and seem to know that arrays start with a @ and scalar variables use the $ sigil, and you use strict which is great.\nHere is one way to solve your problem:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nprint \"Enter number of items: \";\nchomp(my $num = &lt;STDIN&gt;);\n\nmy @items = ();\nprint \"Enter items, press enter to separate: \\n\";\nfor (1 .. $num)\n{\n    chomp(my $input = &lt;STDIN&gt;);\n    push @items, $input;\n}\nopen (FILE, \"file.txt\") || die \"can't open file because $!\";\nwhile (my $line = &lt;FILE&gt;)\n{\n    foreach my $item (@items)\n    {\n        if ($line =~ m/$item/)\n        {\n            print $line;\n            last;\n        }\n    }\n}\nclose (FILE);\n</code></pre>\n\n<p>Notice I used the name @items for your items instead of @arrays which will make understanding the code easier when you come back to it someday. Always write with an eye towards maintainability. Anyways, ask if you have any questions but since I left much of the code the same I don't think you will have much trouble figuring it out. Perldoc and google are your friends. E.g. you can type:</p>\n\n<pre><code>perldoc -f last \n</code></pre>\n\n<p>to find out how last works. Have fun!</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 8755697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc6eddb6bd1a1ad9ce2cde8477e31a4?s=128&d=identicon&r=PG&f=1", "display_name": "purplekushbear", "link": "https://stackoverflow.com/users/8755697/purplekushbear"}, "edited": false, "score": 0, "creation_date": 1507745842, "post_id": 46681282, "comment_id": 80337723, "body": "This works perfectly! I&#39;m still a bit unfamiliar with some of the concepts you use in your code but it&#39;s great for exposure. I appreciate the response, thank you!"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1507704400, "last_edit_date": 1507704400, "creation_date": 1507703560, "answer_id": 46681282, "question_id": 46678107, "link": "https://stackoverflow.com/questions/46678107/perl-how-to-parse-through-a-file-and-print-each-line-that-matches-user-inputted/46681282#46681282", "title": "Perl: How to parse through a file and print each line that matches user inputted strings?", "body": "<p>In you script you have forgot to add the chomp while giving the user input, then you need to last the inside for loop when pattern is matched.</p>\n\n<p>Then here is another way,You can try the following, same thing with different method.</p>\n\n<p>I'm making variable name <code>$regex</code> instead of <code>@array</code>. In <code>$regex</code> variable I'm concatenating user input values with <code>|</code> separated. (In regex <code>|</code> behave like <code>or</code>). While concatenating I'm making the <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a> to escape the special characters.  Then I'm making the precompiled regex with <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">qr</a> for <code>$regex</code> variable</p>\n\n<pre><code>#!usr/bin/perl\nuse strict;\nuse warnings;\n\nprint \"Enter number of items: \";        \nchomp(my $n = &lt;STDIN&gt;);\n\nmy $regex;\nprint \"Enter items, press enter to separate: \\n\";\n\nfor (1..$n) \n{\n    chomp(my $input = &lt;STDIN&gt;);\n    $regex .= quotemeta($input).\"|\";\n}\n\nchop $regex; #remove the last pipe\n$regex = qr($regex);\n\nopen my $fh,\"&lt;\", \"file.txt\" || die \"can't open file!\";      \n\nwhile(&lt;$fh&gt;)\n{\n    print if(/$regex/i);\n}\n</code></pre>\n\n<hr>\n\n<p>Then user @ikegami said his comment, you can use the Perl inbuilt <code>@ARGV</code> method instead of STDIN , for example</p>\n\n<p>Your method</p>\n\n<pre><code>my @array = @ARGV;\n</code></pre>\n\n<p>Another method</p>\n\n<pre><code>my $regex = join \"|\", map { quotemeta $_ } @ARGV; \n</code></pre>\n\n<p>Then run the script <code>perl test.pl input1 input2 input3</code>.</p>\n\n<p>And always use 3 arguments to open a file</p>\n"}], "owner": {"reputation": 3, "user_id": 8755697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc6eddb6bd1a1ad9ce2cde8477e31a4?s=128&d=identicon&r=PG&f=1", "display_name": "purplekushbear", "link": "https://stackoverflow.com/users/8755697/purplekushbear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1014, "favorite_count": 0, "accepted_answer_id": 46680744, "answer_count": 2, "score": 0, "last_activity_date": 1507832457, "creation_date": 1507683385, "question_id": 46678107, "link": "https://stackoverflow.com/questions/46678107/perl-how-to-parse-through-a-file-and-print-each-line-that-matches-user-inputted", "title": "Perl: How to parse through a file and print each line that matches user inputted strings?", "body": "<p>I'm new to programming so bear with me. I'm working on a Perl script that asks the user the number of different items they want to search for and what those items are, separating them by pressing ENTER. That part works okay. </p>\n\n<p>Then, the script is to open up a file, parse through, and print each line that matches with the items that the user initially listed. This is the part that I haven't been able to figure out yet. I've tried different variations of the code. I saw many people suggest using the index function but I had no luck with it. It does seem to be working when I swap <strong>$line =~ $array</strong> for <strong>$line =~ /TEXT/</strong>. I'm hoping someone here can shed some light.</p>\n\n<p>Thanks in advance! </p>\n\n<pre><code>#!usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $line;\nmy $array;\n\nprint \"Enter number of items: \";        \nchomp(my $n = &lt;STDIN&gt;);\n\nmy @arrays;                                                     \nprint \"Enter items, press enter to separate: \\n\";\nfor (1..$n) {\n    my $input = &lt;STDIN&gt;;\n    push @arrays, $input;\n}\n\nopen (FILE, \"file.txt\") || die \"can't open file!\";      \nchomp(my @lines = &lt;FILE&gt;);\nclose (FILE); \n\nforeach $array (@arrays) {                                      \n        foreach $line (@lines) {\n            if ($line =~ $array) {\n                print $line, \"\\n\";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "parameters", "subroutine"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1507689691, "post_id": 46678010, "comment_id": 80305979, "body": "How can you tell at compile-time if <code>f(@a)</code> passes any parameters to <code>f</code> or not?"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1507707779, "post_id": 46678010, "comment_id": 80312698, "body": "It is in theory possible to do some kind of compile-time checking with Devel::CallChecker or B::CallChecker, but that requires you to be well-versed with Perl internals, and has many failure modes. E.g. it won&#39;t work with methods, only with certain subroutine calls. It won&#39;t work if any arguments are evaluated in list context. At its core Perl is a dynamic language. Subs process variable-sized lists, not fixed-sized argument tuples. I&#39;m just glad the language is just static enough to detect unknown subs and variables, unlike more dynamic languages like Python."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507715321, "post_id": 46678010, "comment_id": 80317700, "body": "What about PPR?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507826693, "post_id": 46678010, "comment_id": 80375951, "body": "@ikegami  I was thinking of <code>sub func(\\@)</code> (etc) to enforce at compile time the (supposedly intended) calling convention whereby <code>@ary</code> is required. Then each sub need be written with its exact &quot;signature&quot; and called only so.  So ... that doesn&#39;t actually fail your <code>f(@a)</code> where <code>@a</code> is empty since that sub does get its array while I can&#39;t use <code>@a</code> to bundle other arguments (that ends up empty at runtime). Is that what you are saying?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507827217, "post_id": 46678010, "comment_id": 80376223, "body": "@ikegami  So then prototypes <i>can</i> do this, at the expense of having to write and use <i>all</i> subs like bultins."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1507827399, "post_id": 46678010, "comment_id": 80376322, "body": "@zdim, 1) Well yeah, but prototypes technically don&#39;t validate arguments; they change parsing rules. This makes them feel hacky. 2) More importantly, they are sometimes silently ignored. I don&#39;t mean when using <code>&amp;</code> or a reference or a method call, I mean depending on the relative order of the sub&#39;s call and its declaration. 3) The fact that I mostly write OO code means that they are totally useless most of the time. /// That said, we do use them where I work (where the code base is largely procedural), and they have caused less trouble than the problems they have saved."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507835784, "post_id": 46678010, "comment_id": 80380846, "body": "@ikegami  Thank you very much for that summary.  I deleted my original comment (half of it was wrong).  I&#39;ve decided to post a note (&quot;answer&quot;), once this got mentioned."}], "answers": [{"comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 3, "creation_date": 1507707111, "post_id": 46681161, "comment_id": 80312351, "body": "Note that this only produces a <i>runtime error</i> when an unsuitable argument list is passed. I don&#39;t need the signatures feature for that. For example: <code>use Carp; ... croak &quot;Too few arguments for takesOneOrTwoScalars&quot; if @_ &lt; 1; croak &quot;Too many arguments for takesOneOrTwoScalars&quot; if @_ &gt; 2</code>"}], "tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 2, "last_activity_date": 1507703118, "creation_date": 1507703118, "answer_id": 46681161, "question_id": 46678010, "link": "https://stackoverflow.com/questions/46678010/how-to-have-subroutine-with-required-parameters/46681161#46681161", "title": "How to have subroutine with required parameters?", "body": "<p>I think this type of thing is about the best you can currently do:</p>\n\n<pre><code>#!/usr/local/bin/perl -w\nuse strict;\nrequire 5.020;\nuse warnings;\nuse feature qw( say signatures );\nno warnings \"experimental::signatures\";\n\nprint \"Enter your first name: \";\nchomp(my $name1 = &lt;STDIN&gt;);\n\nprint \"Enter your last name: \";\nchomp(my $name2 = &lt;STDIN&gt;);\n\nsay \"Calling takesOneOrTwoScalars with 2 args\";\ntakesOneOrTwoScalars($name1, $name2);\n\nsay \"Calling takesOneOrTwoScalars with 1 arg\";\ntakesOneOrTwoScalars($name1);\n\nsay \"Calling takesOneOrTwoScalars with 0 args\";\ntakesOneOrTwoScalars();\n\nsub takesOneOrTwoScalars($firstName, $lastName=\"\")\n{\n    print \"Hello, $firstName\";\n    if ($lastName)\n    {\n        say \" $lastName\";\n    }\n    else\n    {\n        say \", I see you didn't give your last name.\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1507853873, "last_edit_date": 1507853873, "creation_date": 1507835512, "answer_id": 46717223, "question_id": 46678010, "link": "https://stackoverflow.com/questions/46678010/how-to-have-subroutine-with-required-parameters/46717223#46717223", "title": "How to have subroutine with required parameters?", "body": "<p>Some of that can be achieved with \n<a href=\"http://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow noreferrer\">prototypes (persub)</a>, to some extent</p>\n\n<blockquote>\n  <p>Perl supports a very limited kind of compile-time argument checking using function prototyping.<br>\n  ...<br>\n  ... intent of this feature is primarily to let you define subroutines that work like built-in functions</p>\n</blockquote>\n\n<p>For example, subs declared as <code>sub f1(\\@)</code> and <code>sub f2($$)</code> can only be called as <code>f1(@ary)</code> (array variable, with <code>@</code>) and <code>f2(SCALAR, SCALAR)</code> or there is a compile-time error.</p>\n\n<p>But there is far more to it, with many subtle concerns; please read the docs and the links below.  The prototypes <em>are <strong>not</strong> like function signatures</em> in compiled languages and are not intended to do that job, even though they may appear that way.  Even a slight misuse can lead to subtle bugs. See</p>\n\n<ul>\n<li><p><a href=\"http://www.perlmonks.org/?node_id=861966\" rel=\"nofollow noreferrer\">FMTYEWTK about Prototypes in Perl</a> (perlmonks)</p></li>\n<li><p><a href=\"https://www.effectiveperlprogramming.com/2011/10/understand-why-you-probably-dont-need-prototypes/\" rel=\"nofollow noreferrer\">Understand why you probably don't need prototypes</a> (<em>EffectivePerler</em>)</p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">Why are perl 5's function prototypes bad</a> (SO)</p></li>\n<li><p><a href=\"http://modernperlbooks.com/mt/2009/08/the-problem-with-prototypes.html\" rel=\"nofollow noreferrer\">The problem with prototypes</a> (<em>Modern Perl</em>)</p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/8128918/perl-subroutine-prototyping-the-correct-way-to-do-it\">Perl subroutine prototyping the correct way to do it</a> (SO)</p></li>\n</ul>\n\n<p>All that said, they <em>can</em> be useful if used appropriately. See <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>'s  comments under OP.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1507853873, "creation_date": 1507682560, "last_edit_date": 1507715225, "question_id": 46678010, "link": "https://stackoverflow.com/questions/46678010/how-to-have-subroutine-with-required-parameters", "title": "How to have subroutine with required parameters?", "body": "<p>Is it possible in Perl to declare a subroutine such that the script won't compile if parameters are not passed to it when it is called?</p>\n"}, {"tags": ["perl", "web-deployment", "mojolicious-lite"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507658201, "post_id": 46672951, "comment_id": 80294464, "body": "The tutorials cover the development mode. You would run your application with <code>morbo</code> during development on your machine, and remotely with <code>hypnotoad</code> or some other means when you deploy it for production. I believe there is a rather long guide on deployment in the github wiki for Mojolicious. Take a look there."}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507658490, "post_id": 46672951, "comment_id": 80294637, "body": "I&#39;ll look it over, how would one view the pages in development from the remote host then before deploying? The tutorials don&#39;t seem to work past the computer in front of you."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507658657, "post_id": 46672951, "comment_id": 80294717, "body": "Ah so you don&#39;t have any Perl on your computer? You always work with a remote box. I see. Is that the same one that you will also deploy? You are not working <b>on the production code</b>, are you? That would be... <i>daring</i> ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1507658862, "post_id": 46672951, "comment_id": 80294835, "body": "<i>&quot;all the tutorials I could find only won&#39;t to show the localhost&quot;</i> Please would you explain what you mean by this sentence?"}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "edited": false, "score": 0, "creation_date": 1507659777, "post_id": 46672951, "comment_id": 80295324, "body": "Production code is safe just trying to pick up mojolicious and use it like the other code which is remote, but it turns out to be more difficult than previously thought. The thrills of learning something new!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507660454, "post_id": 46672951, "comment_id": 80295711, "body": "Maybe your production code runs as CGI? It&#39;s good that you are trying something! Keep that up. Mojo can run under CGI as well, and we&#39;ve even had a question about that a few days ago. But if you have access to the web server and are not on a shared hosting environment I would not recommend it."}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "edited": false, "score": 0, "creation_date": 1507661478, "post_id": 46672951, "comment_id": 80296241, "body": "Yeah I&#39;m trying to get away from CGI hence Mojolicious, just having difficulty getting the proxy to work apparently. It&#39;s not that straight forward for new comers."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508015827, "post_id": 46672951, "comment_id": 80444856, "body": "Did you get it to work?"}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "edited": false, "score": 0, "creation_date": 1509081064, "post_id": 46672951, "comment_id": 80883062, "body": "At long last this has been resolved. After modifying Apache for the proxy server I also had to change ownership of the directory I had the mojo app in. Now all is well it seems, and a big thanks to everyone who commented it helped!"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1507658611, "creation_date": 1507658611, "answer_id": 46673137, "question_id": 46672951, "link": "https://stackoverflow.com/questions/46672951/why-mojolicious-apps-throw-500/46673137#46673137", "title": "Why Mojolicious apps throw 500", "body": "<p>What you need to do depends on the setup of the machine you are running this on, and the network between that server and the computer(s) you want to access it from.</p>\n\n<p>In general the <em>available at <a href=\"http://127.0.0.1:8080_\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080</em></a> is just the default text. If your server allows port 8080 to be accessed from the outside, then you can already reach it via the server's IP address or hostname, and port 8080.</p>\n\n<pre><code>$ curl 192.168.0.4:8080/\n$ curl myserver.local:8080/\n</code></pre>\n\n<p>Those are contrived examples obviously.</p>\n\n<p>If you want to make it available on a domain you bought, you will either need to make <code>hypnotoad</code> listen on port 80 and ensure there is no other webserver (like an Apache) running on the box, or you will need to set up a proxy in the webserver that is running which will forward requests to e.g. <code>/</code> to port 8080.</p>\n\n<p>There is quite a lot of information <a href=\"https://github.com/kraih/mojo/wiki#deployment\" rel=\"nofollow noreferrer\">on deployment in the Mojo wiki on github</a>, and one of the pages listed there <a href=\"https://github.com/kraih/mojo/wiki/Hypnotoad-prefork-web-server\" rel=\"nofollow noreferrer\">talks about <code>hypnotoad</code> in detail</a>, listing for example the proxy solution together with Apache:</p>\n\n<blockquote>\n  <h2>Access through proxy server</h2>\n  \n  <p>In production deployment, generally proxy server is used to access\n  hypnotoad server. The following is apache/mod_proxy config file\n  example using virtual host.</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n   ServerName app1.somehost.com\n   ProxyPass / http://localhost:8080/\n   ProxyPassReverse / http://localhost:8080/\n&lt;/VirtualHost&gt;\n</code></pre>\n  \n  <p>See the various webserver sections under <a href=\"https://metacpan.org/pod/Mojolicious::Guides::Cookbook#DEPLOYMENT\" rel=\"nofollow noreferrer\">\"DEPLOYMENT\" in\n  Mojolicious::Guides::Cookbook</a> for details on reverse-proxying to\n  your app, and for pointers on getting <code>X-Forwarded-For</code> headers set\n  and honoured by Mojo.</p>\n</blockquote>\n"}], "owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 46673137, "answer_count": 1, "score": 0, "last_activity_date": 1507659894, "creation_date": 1507657905, "last_edit_date": 1507659894, "question_id": 46672951, "link": "https://stackoverflow.com/questions/46672951/why-mojolicious-apps-throw-500", "title": "Why Mojolicious apps throw 500", "body": "<p>Being very new to Mojolicious I am having trouble with getting my apps to work. I am running everything off of a remote server, but all the tutorials I could find only want to show the localhost way of deploying. As the title indicates I am getting 500 internal server errors instead of the apps being loaded/ran and don't really know why. Could someone explain how this is done for those not using a local machine to run their apps at?</p>\n\n<p>Here is the demo app all nice and pretty as generated:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Mojolicious::Lite;\n\n# Documentation browser under \"/perldoc\"\nplugin 'PODRenderer';\n\nget '/test' =&gt; sub {\n  my $c = shift;\n  $c-&gt;render(template =&gt; 'index');\n};\n\napp-&gt;start;\n__DATA__\n\n@@ index.html.ep\n% layout 'default';\n% title 'Welcome';\n&lt;h1&gt;Welcome to the Mojolicious real-time web framework!&lt;/h1&gt;\nTo learn more, you can browse through the documentation\n&lt;%= link_to 'here' =&gt; '/perldoc' %&gt;.\n\n@@ layouts/default.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;&lt;%= content %&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Everything loads fine and the hypnotoad command returns:</p>\n\n<pre><code>Listening at \"http://*:8080\"\nServer available at http://127.0.0.1:8080\n</code></pre>\n\n<p>What needs to be done to get this app to load via website url instead of localhost?</p>\n\n<p>Apologies if this seems like a silly question but there doesn't appear to be any obvious tutorials or much discussion on running mojo apps from a remote server so any help is appriciated as I am sure other newbies have encountered a similar problem before and more to come.</p>\n"}, {"tags": ["perl", "parameters", "readonly", "subroutine"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507658119, "post_id": 46672836, "comment_id": 80294424, "body": "Do you have <code>use strict</code> and <code>use warnings</code> turned on?"}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1507658252, "post_id": 46672836, "comment_id": 80294491, "body": "Hoping for a cleaner way than eval.  Thanks for mentioning it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1507658459, "post_id": 46672836, "comment_id": 80294620, "body": "Re &quot;<i>I understand that many would say it is not a good practice to return information thru one of parameters</i>&quot;, I would actually say it&#39;s not a good practice to check if the parameter is readonly; a bad argument already results in an error."}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1507659852, "post_id": 46672836, "comment_id": 80295363, "body": "Ikegami -- what is wrong with readonly() fuction suggested by Amon (below)?   I agree with you that one should avoid triggering an error and then cleaning up the mess with eval.  But unless readonly() is doing eval behind the scene, I do not see any thing &quot;bad&quot;."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1507662194, "post_id": 46672836, "comment_id": 80296649, "body": "@ShangZhang what is wrong is exactly what Amon says: &quot;If the sub is supposed to increment the value, then it should fail if that&#39;s not possible: don&#39;t surprise users by silently ignoring a problem. That error is a good thing!&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1507659171, "post_id": 46673063, "comment_id": 80295012, "body": "Thanks Amon.  I do return an array (or ref to an array) 95% of time.  But I really had to do it this way this time.  Thanks for showing the Scalar::Util::readonly() function!"}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 4, "last_activity_date": 1507658305, "creation_date": 1507658305, "answer_id": 46673063, "question_id": 46672836, "link": "https://stackoverflow.com/questions/46672836/how-to-check-if-an-element-of-is-read-only-in-a-perl-sub/46673063#46673063", "title": "How to check if an element of @_ is read-only in a Perl sub?", "body": "<p>If the sub is supposed to increment the value, then it should fail if that's not possible: don't surprise users by silently ignoring a problem. That error is a good thing!</p>\n\n<p>But if really necessary, you can test whether the scalar is <a href=\"https://metacpan.org/pod/Scalar::Util#readonly\" rel=\"nofollow noreferrer\">readonly</a>:</p>\n\n<pre><code>use Scalar::Util 'readonly';\n\nsub IncreaseByOne {\n  readonly($_[0]) or $_[0]++;\n  ...\n}\n</code></pre>\n\n<p>Note that instead of using out-parameters (which leads to unexpected problems like you experienced), it is often better to return a list of multiple values:</p>\n\n<pre><code>sub IncreaseByOne {\n  my ($x) = @_;\n  $x++;\n  my $more_than_ten = ($x &gt; 10);\n  return $x, $more_than_ten;\n}\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "accepted_answer_id": 46673063, "answer_count": 1, "score": 2, "last_activity_date": 1507658305, "creation_date": 1507657483, "question_id": 46672836, "link": "https://stackoverflow.com/questions/46672836/how-to-check-if-an-element-of-is-read-only-in-a-perl-sub", "title": "How to check if an element of @_ is read-only in a Perl sub?", "body": "<p>When my sub needs to pass back some output thru one of the parameters (return value is already used to pass back another output), a run-time error occurs when that parameter holds a constant from the caller.  Example:</p>\n\n<pre><code># Increases the input by 1 and reports if the new value is bigger than 10.\nsub IncreaseByOne {\n    $_[0] ++;\n    return ($_[0] &gt; 10 ? 1 : 0);\n}\n\nmy $x = 1;\nIncreaseByOne($x);  # This is OK.\nIncreaseByOne(1);   # This is not OK.\n</code></pre>\n\n<p>My question: Is there a way within the sub to tell if $_[0] is read only?  (I understand that many would say it is not a good practice to return information thru one of parameters.  But I really need to in my situation.)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1507651614, "post_id": 46671050, "comment_id": 80290845, "body": "You should use <code>strict</code> and <code>warnings</code> pragma. Then you would get a clue from the compiler what is going on here. Curly braces generates a hash reference. You probably meant to use parenthesis (instead of curlies) like: <code>my %myHash = (&#39;e5&#39; =&gt; &#39;0&#39;, &#39;f7&#39; =&gt; &#39;b&#39;)</code> ? This generates a regular hash (not a reference to a hash)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1507651715, "post_id": 46671050, "comment_id": 80290907, "body": "Always put at the top of the program: <code>use warnings;</code> and <code>use strict;</code>.There are  basic syntax errors here and you would know about them with these pragmas in effect.  You should be getting warnings without them as well, don&#39;t you?"}, {"owner": {"reputation": 857, "user_id": 8692914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60e6b98c0348cc70952db1aedf455d0?s=128&d=identicon&r=PG&f=1", "display_name": "omeanwell", "link": "https://stackoverflow.com/users/8692914/omeanwell"}, "edited": false, "score": 0, "creation_date": 1507651845, "post_id": 46671050, "comment_id": 80290992, "body": "This is a snipping of my code, I am using strict warnings etc in my main program."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1507652700, "post_id": 46671050, "comment_id": 80291483, "body": "They thought you did use <code>use warnings;</code> because your code issues warnings. But that&#39;s not actually the issue at all. The real issue is that you lied about the code that you ran. Please fix your question so that the code in it actually produces the output in it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507655150, "post_id": 46671050, "comment_id": 80292831, "body": "This won&#39;t run with <code>use strict;</code>.  You cannot assign a scalar <code>{..}</code> to a hash <code>%h</code>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1507651909, "creation_date": 1507651909, "answer_id": 46671284, "question_id": 46671050, "link": "https://stackoverflow.com/questions/46671050/perl-hash-of-hashes-issues/46671284#46671284", "title": "Perl Hash of Hashes issues", "body": "<p>To make a copy of a hash, one uses</p>\n\n<pre><code>my %dst = %src;\n</code></pre>\n\n<p>You have a reference to the hash, so that would be</p>\n\n<pre><code>my %dst = %{ $newHash{move0} };\n</code></pre>\n\n<hr>\n\n<p>But what's with all the wasteful copies??? Use</p>\n\n<pre><code>my %move0 = ( e5 =&gt; '0', f7 =&gt; 'b' );\nmy %move1 = ( e5 =&gt; '1', f7 =&gt; 'a' );\nmy %data = (\n   move0 =&gt; \\%move0,\n   move1 =&gt; \\%move1,\n);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my %data = (\n   move0 =&gt; { e5 =&gt; '0', f7 =&gt; 'b' },\n   move1 =&gt; { e5 =&gt; '1', f7 =&gt; 'a' },\n);\n</code></pre>\n\n<p>then</p>\n\n<pre><code>my $move = $data{move0};\n</code></pre>\n"}], "owner": {"reputation": 857, "user_id": 8692914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60e6b98c0348cc70952db1aedf455d0?s=128&d=identicon&r=PG&f=1", "display_name": "omeanwell", "link": "https://stackoverflow.com/users/8692914/omeanwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 46671284, "answer_count": 1, "score": -3, "last_activity_date": 1507652693, "creation_date": 1507651135, "last_edit_date": 1507652693, "question_id": 46671050, "link": "https://stackoverflow.com/questions/46671050/perl-hash-of-hashes-issues", "title": "Perl Hash of Hashes issues", "body": "<p>I am getting very confused with hashes of hashes and cant find a solution.</p>\n\n<p>I have some hashes</p>\n\n<pre><code>%myHash = {'e5' =&gt; '0', 'f7' =&gt; 'b'};\n%myHash2 = {'e5' =&gt; '1', 'f7' =&gt; 'a'};\n%newHash;\n$newHash{'move0'} = {%myHash};\n$newHash{'move1'} = {%myHash2};\nprint Dumper(\\%newHash);\n</code></pre>\n\n<p>OUTPUT: </p>\n\n<pre><code> $newHash = {\n          'move0' =&gt; {\n                       'e5' =&gt; '0',\n                       'f7' =&gt; 'b'\n                     }, \n          'move1' =&gt; {\n                       'e5' =&gt; '1',\n                       'f7' =&gt; 'a'\n                     } \n            };\n</code></pre>\n\n<p>Then when I try and get one hash out of my hash of hashes and store it in a hash I cant get it to work.</p>\n\n<pre><code>my %hash = {$newHash{\"move0\"}};\nprint Dumper(\\%hash);\n</code></pre>\n\n<p>OUTPUTS:</p>\n\n<pre><code> $hash = {\n           'HASH(0x26b7d40)' =&gt; undef\n         };\n</code></pre>\n\n<p>I have tried many other ways of getting my hash from the hash of hashes and assigning it to a hash but its not working.</p>\n"}, {"tags": ["xml", "perl", "dom"], "comments": [{"owner": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "edited": false, "score": 0, "creation_date": 1507655615, "post_id": 46668298, "comment_id": 80293065, "body": "It looks like this question got a close vote because you started it with &quot;I am looking for a XML parser script,&quot; which reads like you have a &quot;give me teh codez&quot; requirement. Posing your questions as direct questions would help avoid that ;)"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6166863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9dbd67c52ecf5197fcdf93b259dfac4?s=128&d=identicon&r=PG&f=1", "display_name": "Andrian Nani", "link": "https://stackoverflow.com/users/6166863/andrian-nani"}, "edited": false, "score": 0, "creation_date": 1507655442, "post_id": 46670093, "comment_id": 80292984, "body": "Thank you, it works. Just a small typo i guess, should be : for my $measValueNode ($xpc-&gt;findnodes(&#39;m:measValue&#39;,$measInfoNode)) This will bring a huge help in telco world, since i couldnt find any example of parsing this type of XMLs, and here is a ready t use solution! By the way, to whom should i sell my soul, to get such knowledge in perl.. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53, "user_id": 6166863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9dbd67c52ecf5197fcdf93b259dfac4?s=128&d=identicon&r=PG&f=1", "display_name": "Andrian Nani", "link": "https://stackoverflow.com/users/6166863/andrian-nani"}, "edited": false, "score": 0, "creation_date": 1507655537, "post_id": 46670093, "comment_id": 80293027, "body": "Fixed. . . . . ."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1507655529, "last_edit_date": 1507655529, "creation_date": 1507648000, "answer_id": 46670093, "question_id": 46668298, "link": "https://stackoverflow.com/questions/46668298/perl-xml-parser-for-dom/46670093#46670093", "title": "Perl XML parser for DOM", "body": "<pre><code>use strict;\nuse warnings qw( all );\nuse feature qw( say );\n\nuse XML::LibXML               qw( );\nuse XML::LibXML::XPathContext qw( );\n\nmy $doc = XML::LibXML-&gt;load_xml( location =&gt; $filename );\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new();\n$xpc-&gt;registerNs( m =&gt; 'http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec' );\n\nfor my $measInfoNode ($xpc-&gt;findnodes('/m:measCollecFile/m:measData/m:measInfo', $doc)) {\n   my $endTime = $xpc-&gt;findvalue('m:granPeriod/@endTime', $measInfoNode);\n   my $measType = $xpc-&gt;findvalue('m:measType', $measInfoNode);\n   for my $measValueNode ($xpc-&gt;findnodes('m:measValue', $measInfoNode)) {\n      my $measValue = $xpc-&gt;findvalue('m:r', $measValueNode);\n      say join \":\", $endTime, $measType, $measValue;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6166863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9dbd67c52ecf5197fcdf93b259dfac4?s=128&d=identicon&r=PG&f=1", "display_name": "Andrian Nani", "link": "https://stackoverflow.com/users/6166863/andrian-nani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 1, "accepted_answer_id": 46670093, "answer_count": 1, "score": 0, "last_activity_date": 1507733635, "creation_date": 1507642855, "last_edit_date": 1507733635, "question_id": 46668298, "link": "https://stackoverflow.com/questions/46668298/perl-xml-parser-for-dom", "title": "Perl XML parser for DOM", "body": "<p>I am trying to parse Performance Statistics (3gpp 32.435). The structure is not so simple as I'd wish, see example. The result I am looking for is to have a text output with</p>\n\n<pre><code>    endTime:measType:measValue\n</code></pre>\n\n<p>I have tried to use a perl script to extract values, but as you can see, for SGSN-MME_Session_SM_G there are two types and two values, so the result for my script is </p>\n\n<pre><code>     SM.SuccActSecondPdpContext.G\n     SM.UnsuccActPdpContextCC38.G\n\n        1\n        473764\n</code></pre>\n\n<p>If someone could give me a hint how to parse this XML or how to join the type and value from two children of a parent. I'd be grateful, thanks..</p>\n\n<p>Script used:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nuse XML::LibXML;\n\nmy $filename = 'file.xml';\n\nmy $dom = XML::LibXML-&gt;load_xml(location =&gt; $filename);\n\nforeach my $measvalue ($dom-&gt;documentElement) {\n        say $measvalue-&gt;to_literal();\n    }\n</code></pre>\n\n<p>XML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;?xml-stylesheet type=\"text/xsl\" href=\"MeasDataCollection.xsl\"?&gt;\n&lt;measCollecFile xmlns=\"http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec\"&gt;\n   &lt;fileHeader fileFormatVersion=\"32.435 V9.0\" vendorName=\"New Vendor\"&gt;\n      &lt;fileSender /&gt;\n      &lt;measCollec beginTime=\"2017-10-09T20:17:00+03:00\" /&gt;\n   &lt;/fileHeader&gt;\n   &lt;measData&gt;\n      &lt;managedElement localDn=\"TestNode\" /&gt;\n      &lt;measInfo measInfoId=\"SGSN-MME_Mobility_U\"&gt;\n         &lt;job jobId=\"customPdcJob\" /&gt;\n         &lt;granPeriod duration=\"PT60S\" endTime=\"2017-10-09T20:18:00+03:00\" /&gt;\n         &lt;repPeriod duration=\"PT60S\" /&gt;\n         &lt;measType p=\"1\"&gt;succGprsAttachUmts&lt;/measType&gt;\n         &lt;measValue measObjLdn=\"ManagedElement=TestNode,SgsnFunction=1\"&gt;\n            &lt;r p=\"1\"&gt;132737759&lt;/r&gt;\n         &lt;/measValue&gt;\n      &lt;/measInfo&gt;\n      &lt;measInfo measInfoId=\"SGSN-MME_Session_DiscardedMessages_G\"&gt;\n         &lt;job jobId=\"customPdcJob\" /&gt;\n         &lt;granPeriod duration=\"PT60S\" endTime=\"2017-10-09T20:18:00+03:00\" /&gt;\n         &lt;repPeriod duration=\"PT60S\" /&gt;\n         &lt;measType p=\"1\"&gt;discardedSessionMgmnt&lt;/measType&gt;\n         &lt;measValue measObjLdn=\"ManagedElement=TestNode,SgsnFunction=1\"&gt;\n            &lt;r p=\"1\"&gt;12368&lt;/r&gt;\n         &lt;/measValue&gt;\n      &lt;/measInfo&gt;\n      &lt;measInfo measInfoId=\"SGSN-MME_Session_SM_G\"&gt;\n         &lt;job jobId=\"customPdcJob\" /&gt;\n         &lt;granPeriod duration=\"PT60S\" endTime=\"2017-10-09T20:18:00+03:00\" /&gt;\n         &lt;repPeriod duration=\"PT60S\" /&gt;\n         &lt;measType p=\"1\"&gt;SM.SuccActSecondPdpContext.G&lt;/measType&gt;\n         &lt;measType p=\"2\"&gt;SM.UnsuccActPdpContextCC38.G&lt;/measType&gt;\n         &lt;measValue measObjLdn=\"ManagedElement=TestNode,SgsnFunction=1\"&gt;\n            &lt;r p=\"1\"&gt;1&lt;/r&gt;\n            &lt;r p=\"2\"&gt;473764&lt;/r&gt;\n         &lt;/measValue&gt;\n      &lt;/measInfo&gt;\n      &lt;measInfo measInfoId=\"SGSN-MME_Session_SM_U\"&gt;\n         &lt;job jobId=\"customPdcJob\" /&gt;\n         &lt;granPeriod duration=\"PT60S\" endTime=\"2017-10-09T20:18:00+03:00\" /&gt;\n         &lt;repPeriod duration=\"PT60S\" /&gt;\n         &lt;measType p=\"1\"&gt;SM.UnsuccActPdpContextCC38.U&lt;/measType&gt;\n         &lt;measValue measObjLdn=\"ManagedElement=TestNode,SgsnFunction=1\"&gt;\n            &lt;r p=\"1\"&gt;737355&lt;/r&gt;\n         &lt;/measValue&gt;\n      &lt;/measInfo&gt;\n      &lt;measInfo measInfoId=\"SGSN-MME_SystemResource_PIU\"&gt;\n         &lt;job jobId=\"customPdcJob\" /&gt;\n         &lt;granPeriod duration=\"PT60S\" endTime=\"2017-10-09T20:18:00+03:00\" /&gt;\n         &lt;repPeriod duration=\"PT60S\" /&gt;\n         &lt;measType p=\"1\"&gt;SYS.gsnApCpuUsage&lt;/measType&gt;\n         &lt;measValue measObjLdn=\"ManagedElement=TestNode,SgsnMme=1,PIU=1.1\"&gt;\n            &lt;r p=\"1\"&gt;6&lt;/r&gt;\n         &lt;/measValue&gt;\n         &lt;measValue measObjLdn=\"ManagedElement=TestNode,SgsnMme=1,PIU=1.3\"&gt;\n            &lt;r p=\"1\"&gt;5&lt;/r&gt;\n         &lt;/measValue&gt;\n         &lt;measValue measObjLdn=\"ManagedElement=TestNode,SgsnMme=1,PIU=1.5\"&gt;\n            &lt;r p=\"1\"&gt;5&lt;/r&gt;\n         &lt;/measValue&gt;\n         &lt;measValue measObjLdn=\"ManagedElement=TestNode,SgsnMme=1,PIU=1.7\"&gt;\n            &lt;r p=\"1\"&gt;5&lt;/r&gt;\n         &lt;/measValue&gt;\n      &lt;/measInfo&gt;\n   &lt;/measData&gt;\n   &lt;fileFooter&gt;\n      &lt;measCollec endTime=\"2017-10-09T20:18:00+03:00\" /&gt;\n   &lt;/fileFooter&gt;\n&lt;/measCollecFile&gt;\n</code></pre>\n"}, {"tags": ["c++", "perl", "xs"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1507640884, "post_id": 46667512, "comment_id": 80283547, "body": "Why are you explicitly assigning the <code>CLASS</code>? Note that <code>SvPV_nolen(scalar)</code> works pretty much like <code>&quot;$scalar&quot;</code>, i.e. stringifies the reference which by default looks like <code>ClassName=HASH(0xabc123)</code> or similar."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 2, "creation_date": 1507641133, "post_id": 46667512, "comment_id": 80283710, "body": "Could you edit the question to show your typemap for <code>matrix*</code> as well?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2074102"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1507641245, "post_id": 46667512, "comment_id": 80283806, "body": "I added the line <code>char *  CLASS = (char *)SvPV_nolen(ST(0));</code> because before, when I didn&#39;t have it in there, I was getting the compiler error <code>error: &#39;CLASS&#39; was not declared in this scope sv_setref_pv( RETVALSV, CLASS, (void*)RETVAL );</code>.  After adding that line, it compiles."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2074102"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1507641359, "post_id": 46667512, "comment_id": 80283881, "body": "@amon Just added the typemap."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507643199, "post_id": 46667512, "comment_id": 80285209, "body": "PS - Why isn&#39;t <code>new</code> a method?!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2074102"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507652210, "post_id": 46667512, "comment_id": 80291195, "body": "@ikegami I&#39;m not sure what you mean?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507652263, "post_id": 46667512, "comment_id": 80291231, "body": "One normally uses <code>matrix-&gt;new(...);</code> to create an object."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507652281, "post_id": 46667512, "comment_id": 80291241, "body": "PS - Lowercase module names are reserved."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507652305, "post_id": 46667512, "comment_id": 80291256, "body": "PS - Lowercase module names indicate pragmas. Your module is not a pragma."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507652555, "post_id": 46667512, "comment_id": 80291386, "body": "I think your XS for <code>new</code> is correct. You just need to replace <code>$m1 = matrix::new(matrix,4,4);</code> with <code>my $m1 = matrix-&gt;new(4,4);</code>. Your version doesn&#39;t even work with <code>use strict;</code>. <b>Always use <code>use strict; use warnings qw( all );</code>!!!</b>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2074102"}, "edited": false, "score": 0, "creation_date": 1507727320, "post_id": 46667512, "comment_id": 80325665, "body": "Thanks for telling all that.  I&#39;ll will make those changes.  I&#39;m still new to perl and xs.  My background is extensively in C++."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2074102"}, "edited": false, "score": 0, "creation_date": 1507642781, "post_id": 46667956, "comment_id": 80284886, "body": "After I changed <code>sv_setref_pv( $arg, CLASS, (void*)$var );</code> to <code>sv_setref_pv( $arg, &quot;matrix&quot;, (void*)$var );</code> in my typemap file, I no longer needed to add that extra line in the the <code>xs</code> file."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507652473, "post_id": 46667956, "comment_id": 80291346, "body": "@amon, Hardcoding <code>matrix</code> prevents inheritance. Leaving the typemap unchanged and using your later solution (<code>char* CLASS = SvPV_nolen(sv_ref(NULL, THIS, true));</code>) is best."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507653203, "post_id": 46667956, "comment_id": 80291776, "body": "@ikegami inheritance across language boundaries is quite tricky, and I would strongly recommend against it if possible. I&#39;d rather treat XS-wrapped classes as final than deal with the possible failure modes. You are right though that at least in the constructor, depending on <code>CLASS</code> would be preferable. But for non-constructor functions, blessing return values into a subclass would sidestep subclass constructors which might be a bigger problem."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 4, "last_activity_date": 1507642256, "last_edit_date": 1507642256, "creation_date": 1507641874, "answer_id": 46667956, "question_id": 46667512, "link": "https://stackoverflow.com/questions/46667512/perl-xs-cant-return-a-new-custom-c-object-from-method-call-returns-scalar/46667956#46667956", "title": "perl xs - can&#39;t return a new custom c++ object from method call - returns scalar value instead", "body": "<p>When using XS with C++, the XS preprocessor inserts <code>THIS</code> for instance methods and <code>CLASS</code> for static methods. A method called <code>new</code> is treated as a static method. This allows the resulting xsubs to be used as instance methods/class methods by default: <code>matrix-&gt;new</code> and <code>$m-&gt;getInnerMatrix()</code>.</p>\n\n<p>Your typemap uses the <code>CLASS</code> variable which is not provided for instance methods. In your case, I would hard-code the package name in the type map instead:</p>\n\n<pre><code>OUTPUT\nO_MATRIX\n    sv_setref_pv( $arg, \"matrix\", (void*)$var );\n</code></pre>\n\n<p>The typemap is also used when an argument of that type is not used as the invocant. E.g. consider this xsub:</p>\n\n<pre><code>matrix*\nsome_other_xsub(x)\n    int x\n</code></pre>\n\n<p>Here there would not by a <code>CLASS</code> variable for the <code>matrix*</code> return value either.</p>\n\n<p>Note that lowercase package names should only be used for pragma packages (like <code>strict</code> or <code>warnings</code>). Please use CamelCase for your classes.</p>\n\n<p>Your attempt to provide your own value for <code>CLASS</code> failed because <code>SvPV_nolen()</code> stringifies the reference and does not get the reference type. I.e. it's equivalent to <code>\"$m\"</code>, not to <code>ref $m</code>. A more correct alternative would have been to use <code>sv_ref()</code>:</p>\n\n<pre><code>char* CLASS = SvPV_nolen(sv_ref(NULL, THIS, true));\n</code></pre>\n\n<p>The third parameter to <code>sv_ref()</code> makes this function work like the Perl function <code>ref</code>, i.e. return the class name if the scalar is blessed, not just the underlying reference type.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2074102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 1, "accepted_answer_id": 46667956, "answer_count": 1, "score": 7, "last_activity_date": 1507642256, "creation_date": 1507640590, "last_edit_date": 1507641326, "question_id": 46667512, "link": "https://stackoverflow.com/questions/46667512/perl-xs-cant-return-a-new-custom-c-object-from-method-call-returns-scalar", "title": "perl xs - can&#39;t return a new custom c++ object from method call - returns scalar value instead", "body": "<p>In my XS file I have:</p>\n\n<p>As my new method:</p>\n\n<pre><code>matrix *\nmatrix::new( size_t ncols, size_t nrows )\n</code></pre>\n\n<p>which returns a <code>matrix</code> object like it should and I can invoke methods.</p>\n\n<p>Then I have a method call which creates a new matrix object and is supposed to return it as a new matrix:</p>\n\n<pre><code>matrix *\nmatrix::getInnerMatrix( )\n    PREINIT:\n        char *  CLASS = (char *)SvPV_nolen(ST(0));\n    CODE:\n        RETVAL = static_cast&lt;matrix*&gt;(THIS-&gt;matrix::getInnerMatrix());\n    OUTPUT:\n        RETVAL\n</code></pre>\n\n<p>However the returned type is <code>matrix=SCALAR(0x122f81c)</code> and therefore I am unable to invoke any method calls from this object as the perl interpreter seems to be viewing the returned type as a scalar value type instead of a 'matrix' object.  Here is a test script:</p>\n\n<pre><code>$m1 = matrix::new(matrix,4,4);\n@arr = ( 1 .. 16 );\n$aref = [@arr];\n$m1-&gt;assign_aref($aref);\nmy $m2 = $m1-&gt;getInnerMatrix();\nprint ref $m1; # returns \"matrix\" (like it should)\nprint \"\\n\\n\";\nprint ref $m2; # returns \"matrix=SCALAR(0x122f81c)\" (wrong)\n</code></pre>\n\n<p>Here is my typemap:</p>\n\n<pre><code>TYPEMAP\nmatrix *        O_MATRIX\n\nOUTPUT\nO_MATRIX\n    sv_setref_pv( $arg, CLASS, (void*)$var );\n\nINPUT\nO_MATRIX\n    if ( sv_isobject($arg) &amp;&amp; (SvTYPE(SvRV($arg)) == SVt_PVMG) ) {\n        $var = ($type)SvIV((SV*)SvRV( $arg ));\n    }\n    else {\n        warn( \\\"${Package}::$func_name() -- ${var} not a blessed SV reference\\\" );\n        XSRETURN_UNDEF;\n    }\n</code></pre>\n\n<p>What changes must I make in my XS file, or any other file to ensure that a pure <code>matrix</code> object is returned?</p>\n"}, {"tags": ["bash", "perl", "mktemp"], "comments": [{"owner": {"reputation": 4323, "user_id": 2057091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7kWv6.png?s=128&g=1", "display_name": "Aserre", "link": "https://stackoverflow.com/users/2057091/aserre"}, "edited": false, "score": 1, "creation_date": 1507630392, "post_id": 46664077, "comment_id": 80276411, "body": "Here, <code>^J</code> is not a literal <code>^</code> followed by a literal <code>J</code>. It is the representation of a control character. It is really a <a href=\"http://www.robelle.com/smugbook/ascii.html\" rel=\"nofollow noreferrer\">line feed</a>"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1507630613, "post_id": 46664077, "comment_id": 80276556, "body": "after <code>my $tfile = `mktemp boo.XXXXXXXXX`;</code> do <code>chomp ($tfile);</code>"}, {"owner": {"reputation": 135, "user_id": 8496333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd3ed6d3e9df6b77322bec4bd2904ed5?s=128&d=identicon&r=PG&f=1", "display_name": "DanielSebas", "link": "https://stackoverflow.com/users/8496333/danielsebas"}, "edited": false, "score": 0, "creation_date": 1507630921, "post_id": 46664077, "comment_id": 80276740, "body": "Thanks much! :-)"}], "answers": [{"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": true, "score": 6, "last_activity_date": 1507652860, "last_edit_date": 1507652860, "creation_date": 1507630360, "answer_id": 46664162, "question_id": 46664077, "link": "https://stackoverflow.com/questions/46664077/random-file-name-in-perl-generated-with-unusual-characters/46664162#46664162", "title": "random file name in perl generated with unusual characters", "body": "<p>mktemp returns a line feed character in its output that you need to chop() or chomp() first.</p>\n\n<p>Instead of using the external <code>mktemp</code> program, why don't you go with <a href=\"https://perldoc.perl.org/File/Temp.html\" rel=\"nofollow noreferrer\">File::Temp</a> instead?</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1507633860, "creation_date": 1507633860, "answer_id": 46665296, "question_id": 46664077, "link": "https://stackoverflow.com/questions/46664077/random-file-name-in-perl-generated-with-unusual-characters/46665296#46665296", "title": "random file name in perl generated with unusual characters", "body": "<p>Using external programs unnecessarily is a bad idea for a few reasons.</p>\n\n<ul>\n<li>The external program that you use might not be available on all of the systems where your code runs. You are therefore making your program less portable.</li>\n<li>Spawning a new sub-shell to run an external program is a lot slower than just doing the work in your current environment.</li>\n<li>The values you get back from the external program are likely to have a newline character attached. And you might forget to remove it.</li>\n</ul>\n\n<p>It's the last one that is burning you here. But the others still apply as well.</p>\n\n<p>Perl's standard library has, for many, many years included the <a href=\"https://metacpan.org/pod/File::Temp\" rel=\"nofollow noreferrer\">File::Temp</a> module which creates temporary files for you without the need to use an external program.</p>\n\n<pre><code>use File::Temp qw/ tempfile /;\n\n# It even opens it and gives you the filehandle.\n($fh, $filename) = tempfile();\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 8496333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd3ed6d3e9df6b77322bec4bd2904ed5?s=128&d=identicon&r=PG&f=1", "display_name": "DanielSebas", "link": "https://stackoverflow.com/users/8496333/danielsebas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 46664162, "answer_count": 2, "score": 0, "last_activity_date": 1507652860, "creation_date": 1507630122, "question_id": 46664077, "link": "https://stackoverflow.com/questions/46664077/random-file-name-in-perl-generated-with-unusual-characters", "title": "random file name in perl generated with unusual characters", "body": "<p>Using this perl code below, I try to output some names in a random generated file. But the files are created with weird characters like this:</p>\n\n<p>\"snp-list-boo.dwjEUq5Wu^J.txt\"</p>\n\n<p>And, obviously when my code looks for these files it says not such file. Also, when I try open the files using \"vi\", they open like this</p>\n\n<pre><code>vi 'temporary-files/snp-list-boo.dwjEUq5Wu\n.txt'\n</code></pre>\n\n<p>i.e. with a \"new line\" in the file name. Someone please help me understand and solve this weird issue. Thanks much! </p>\n\n<p>code:</p>\n\n<pre><code>my $tfile = `mktemp boo.XXXXXXXXX`;\nmy $fh = \"\";\n     foreach my $keys (keys %POS_HASH){\n       open ($fh, '&gt;&gt;', \"temporary-files/snp-list-$tfile.txt\");\n        print $fh \"$keys $POS_HASH{$keys}\\n\";\n        close $fh;\n         }\n</code></pre>\n"}, {"tags": ["perl", "file-io"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507656460, "post_id": 46663606, "comment_id": 80293517, "body": "Perl does not support arguments in the function definition like the way you implied here, unless you have a very recent Perl and <a href=\"https://perldoc.perl.org/perlsub.html#Signatures\" rel=\"nofollow noreferrer\">the <code>signatures</code> feature turned on</a>."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6143724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e00b02b07eaae930df516be4ab32ebb5?s=128&d=identicon&r=PG&f=1", "display_name": "vikram9866", "link": "https://stackoverflow.com/users/6143724/vikram9866"}, "edited": false, "score": 0, "creation_date": 1507630777, "post_id": 46663651, "comment_id": 80276651, "body": "Any other way to swap the STDOUT with File handle ? As in my current situation select will be treated as an unrecognized function as Iam working on a files which are a hybrid form of perl."}], "tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 1, "last_activity_date": 1507628926, "creation_date": 1507628926, "answer_id": 46663651, "question_id": 46663606, "link": "https://stackoverflow.com/questions/46663606/perl-store-print-outputs-of-a-function-without-changing-the-function/46663651#46663651", "title": "Perl : Store Print Outputs of a function without Changing the function", "body": "<p>OK what you really want is to redirect STDOUT to a file before calling the function, then redirect it back afterwards:</p>\n\n<pre><code># open filehandle log.txt\nopen (my $LOG, '&gt;&gt;', 'log.txt');\n\n# select new filehandle\nselect $LOG;\n\napplication();\n\n# restore STDOUT\nselect STDOUT;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1507633495, "creation_date": 1507633495, "answer_id": 46665172, "question_id": 46663606, "link": "https://stackoverflow.com/questions/46663606/perl-store-print-outputs-of-a-function-without-changing-the-function/46665172#46665172", "title": "Perl : Store Print Outputs of a function without Changing the function", "body": "<p>You can re-open <code>STDOUT</code> (you need to close it first though).</p>\n\n<pre><code>close STDOUT;\nopen STDOUT, '&gt;&gt;', 'somefile.txt' or die $!;\napplication(...);\n</code></pre>\n\n<p>This is all in the documentation for <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\"><code>open()</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1507638573, "creation_date": 1507638573, "answer_id": 46666840, "question_id": 46663606, "link": "https://stackoverflow.com/questions/46663606/perl-store-print-outputs-of-a-function-without-changing-the-function/46666840#46666840", "title": "Perl : Store Print Outputs of a function without Changing the function", "body": "<p>As you are printing to the \"default file handle\", and not explicitly to <code>STDOUT</code>, you can just call <a href=\"http://metacpan.org/pod/perlfunc#select\" rel=\"nofollow noreferrer\"><code>select</code></a> before you call the method. There's no need to mess around with the <code>STDOUT</code> file handle.</p>\n\n<pre><code>my $output = '';\nopen my $capture, '&gt;', \\$output;\nmy $old_fh = select $capture;\n\napplication(...);\n\nselect $old_fh;   # restore default file handle, probably STDOUT\nclose $capture;\nprint \"The output of application() was: $output\\n\";\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6143724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e00b02b07eaae930df516be4ab32ebb5?s=128&d=identicon&r=PG&f=1", "display_name": "vikram9866", "link": "https://stackoverflow.com/users/6143724/vikram9866"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1507638573, "creation_date": 1507628785, "last_edit_date": 1507632936, "question_id": 46663606, "link": "https://stackoverflow.com/questions/46663606/perl-store-print-outputs-of-a-function-without-changing-the-function", "title": "Perl : Store Print Outputs of a function without Changing the function", "body": "<p>I have a sub routine :</p>\n\n<pre><code>sub application(**arguments**)\n{\n      print (\"found the black ship\");\n      # many more print statements.\n      return 18000;\n}\n</code></pre>\n\n<p>I need to get the data printed by the above subroutine in a file.</p>\n\n<p><strong>PS : I cannot change the function variables, only thing I can do is accessing the function.</strong></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 5, "creation_date": 1507627533, "post_id": 46663139, "comment_id": 80274513, "body": "yes, perl scripts can do this."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1507633275, "post_id": 46663139, "comment_id": 80278314, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have code, then Stack Overflow is not the best place for your question."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1507627810, "creation_date": 1507627810, "answer_id": 46663267, "question_id": 46663139, "link": "https://stackoverflow.com/questions/46663139/any-method-to-remove-some-sections-in-a-file-or-just-can-be-delete-lines-by-line/46663267#46663267", "title": "Any method to remove some sections in a file or just can be delete lines by lines?(Perl scripts)", "body": "<p>You can use the paragraph mode to read the file by sections, then just use a regex match to verify the section names you want to keep.</p>\n\n<pre><code>perl -00 -ne 'print if /^Section A/' -- file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1507633311, "creation_date": 1507633311, "answer_id": 46665104, "question_id": 46663139, "link": "https://stackoverflow.com/questions/46663139/any-method-to-remove-some-sections-in-a-file-or-just-can-be-delete-lines-by-line/46665104#46665104", "title": "Any method to remove some sections in a file or just can be delete lines by lines?(Perl scripts)", "body": "<p>@Choroba did give you a one liner for this, so here is a script version</p>\n\n<pre><code>use strict;\nuse warnings;\n\nlocal $/ = \"\";\nopen(my $in_fh, \"&lt;\", \"inputfile.txt\") or die \"unable to open inputfile.txt: $!\";\nopen(my $out_fh, \"&gt;\", \"outputfile.txt\") or die \"unable to open outputfile.txt: $!\";\nwhile ( &lt;$in_fh&gt; ) {\n    print $out_fh $_ if /^Section A/;\n}\n\nclose $in_fh;\nclose $out_fh;\n</code></pre>\n\n<p>This will open file <code>inputfile.txt</code> and read in paragraph mode, find <code>Section A</code> and purely print <code>Section A</code> as a paragraph into file <code>outputfile.txt</code></p>\n\n<p>giving a result of</p>\n\n<pre><code>Section A\nabcdefg\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1507634071, "creation_date": 1507634071, "answer_id": 46665367, "question_id": 46663139, "link": "https://stackoverflow.com/questions/46663139/any-method-to-remove-some-sections-in-a-file-or-just-can-be-delete-lines-by-line/46665367#46665367", "title": "Any method to remove some sections in a file or just can be delete lines by lines?(Perl scripts)", "body": "<p>I always think that programs like this are far more useful if they adhere to the Unix Filter Model - i.e. they read from <code>STDIN</code> and write to <code>STDOUT</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = ''; # paragraph mode\n\nwhile (&lt;&gt;) {\n  print if /^Section A/;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8706329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4859eef9a1bfbe728d3425be1516f609?s=128&d=identicon&r=PG&f=1", "display_name": "ai hoon lim", "link": "https://stackoverflow.com/users/8706329/ai-hoon-lim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1507634071, "creation_date": 1507627486, "last_edit_date": 1507627647, "question_id": 46663139, "link": "https://stackoverflow.com/questions/46663139/any-method-to-remove-some-sections-in-a-file-or-just-can-be-delete-lines-by-line", "title": "Any method to remove some sections in a file or just can be delete lines by lines?(Perl scripts)", "body": "<p>I have a file contains many section but I want remove all sections except section A. \nExample:</p>\n\n<pre><code>Section A \nabcdefg\n\nSection B\nhijklmn\n\nSection C\nopqrstu\n</code></pre>\n\n<p>Any Perl scripts can be write to remove all contents in B and C?</p>\n"}, {"tags": ["perl", "tk"], "comments": [{"owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 0, "creation_date": 1507646574, "post_id": 46663051, "comment_id": 80287575, "body": "I know Tk::ListBox but not ListBoxSelect. Try trimming $prodstring before sprintf."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1507652241, "post_id": 46663051, "comment_id": 80291217, "body": "The terminal window looks like columns because it&#39;s using a fixed width font.  You can either use a fixed width font yourself, or, if you really want a proportional font, you&#39;ll need to break out the columns into separate widgets."}, {"owner": {"reputation": 11, "user_id": 3012309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b7e23e219e8c95727504a2596ebfba?s=128&d=identicon&r=PG&f=1", "display_name": "Evel", "link": "https://stackoverflow.com/users/3012309/evel"}, "edited": false, "score": 0, "creation_date": 1507687152, "post_id": 46663051, "comment_id": 80305385, "body": "Thanks for help. I fixed the issue by using a mono font. <code>code</code>$mono_font = $WinMain-&gt;fontCreate(&#39;mono&#39;, -family =&gt; &#39;Courier&#39;, -size =&gt; 8);"}], "owner": {"reputation": 11, "user_id": 3012309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b7e23e219e8c95727504a2596ebfba?s=128&d=identicon&r=PG&f=1", "display_name": "Evel", "link": "https://stackoverflow.com/users/3012309/evel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507629185, "creation_date": 1507627222, "last_edit_date": 1507629185, "question_id": 46663051, "link": "https://stackoverflow.com/questions/46663051/how-to-align-the-contents-inside-a-listboxselect-of-tk-gui", "title": "How to align the contents inside a ListboxSelect of Tk GUI", "body": "<p><a href=\"https://i.stack.imgur.com/qVg5P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qVg5P.png\" alt=\"Content alignment show different between console &amp; GUI\"></a></p>\n\n<p>Refer to above picture. I adding the content into a ListboxSelect of Tk GUI by following format code, seems in the output of command line, everything works and align correctly. but when the content shown in the GUI, always not align as I wanted. </p>\n\n<p>Any suggestion on this issue?</p>\n\n<pre><code>$lb_ccrdetail-&gt;insert(\n                    'end',\n                    sprintf( \"%s%s%-50s%s\",\n                        $ccidstring,\n                        ' 'x (15-length($ccidstring)),\n                        $prodstring,\n                        #' 'x (20-length($prodstring)),\n                        $detailstring\n                    )\n                );\n</code></pre>\n"}, {"tags": ["perl", "printing"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1507625269, "post_id": 46661622, "comment_id": 80273081, "body": "<code>use warnings; use autodie;</code> should be helpful. Also <code>use strict;</code> has great benefits."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1507626965, "post_id": 46661622, "comment_id": 80274159, "body": "could you please update the question what contains in the <code>file.txt</code> file"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1507627175, "post_id": 46661622, "comment_id": 80274293, "body": "Your code is working fine at my end."}, {"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507627620, "post_id": 46661622, "comment_id": 80274572, "body": "Ok, then I have no idea what is going on because I have 14,000KB of data in my text file and I can&#39;t get any of it to print"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1507627826, "post_id": 46661622, "comment_id": 80274736, "body": "@R.Stone Please try and stick to one point at a time. You are going all over the show with comments. I am trying to show you your problem in the below answers&#39;, comments. Please give me the exact ouput as requested, not just <i>it gave me something something like</i> answers."}], "answers": [{"comments": [{"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1507624912, "post_id": 46661839, "comment_id": 80272884, "body": "Thank you for this code snippet, which might provide some limited, immediate help.  A proper explanation <a href=\"//meta.stackexchange.com/q/114762\">would greatly improve</a> its long-term value by showing <i>why</i> this is a good solution to the problem, and would make it more useful to future readers with other, similar questions.  Please <a href=\"https://stackoverflow.com/posts/46661839/edit\">edit</a> your answer to add some explanation, including the assumptions you&#39;ve made.  For example, why are the <code>use</code> and <code>die</code> statements important?  Why is testing <code>eof()</code> better than testing <code>$line</code>?  These things aren&#39;t obvious to beginners and should be described."}, {"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507625165, "post_id": 46661839, "comment_id": 80273012, "body": "I used this with the local file but the file is still not printing in the cmd prompt. I really don&#39;t know what is wrong but I have been trying to print this for nearly 10 hours."}, {"owner": {"reputation": 958, "user_id": 118763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e8618020c343b3f27948e8ddf0d993f1?s=128&d=identicon&r=PG", "display_name": "theCakeCoder", "link": "https://stackoverflow.com/users/118763/thecakecoder"}, "edited": false, "score": 0, "creation_date": 1507625861, "post_id": 46661839, "comment_id": 80273436, "body": "do you get any output on cmd? or the problem is only when reading file?"}, {"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507626577, "post_id": 46661839, "comment_id": 80273904, "body": "When I try to open the file nothing is returned so I add a print statement at the end as a sanity check... this print statement did indeed print but nothing from the file printed.  It is strange because about a week ago I did the same thing but had no problem pulling in a local text file.  This particular file was saved locally but was from a url. When I opened the file from the url it printed just fine ... just not from the local file.  So I created a test.txt file with a bunch of text and tried to open and print that file and Zilch, nada, nothing printed."}], "tags": [], "owner": {"reputation": 958, "user_id": 118763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e8618020c343b3f27948e8ddf0d993f1?s=128&d=identicon&r=PG", "display_name": "theCakeCoder", "link": "https://stackoverflow.com/users/118763/thecakecoder"}, "is_accepted": false, "score": -2, "last_activity_date": 1507625794, "last_edit_date": 1507625794, "creation_date": 1507623648, "answer_id": 46661839, "question_id": 46661622, "link": "https://stackoverflow.com/questions/46661622/printing-a-text-file-using-perl/46661839#46661839", "title": "Printing a text file using perl", "body": "<p>First, of all as you are starting out, it is better to enable all warnings by 'use warnings' and disable all such expression which can lead to uncertain behavior or are difficult to debug by pragma 'use strict'.</p>\n\n<p>As you are dealing with file stream, it is always recommended to the check if you were able to open the stream. so, try to use croak or die both would terminate the program with a given message. </p>\n\n<p>Instead of reading inside the while condition, I would recommend checking for end of file. So, loop breaks as end is found. Usually, when reading a line you would use it for further processing, so it is good idea to remove end of lines using chomp.</p>\n\n<p>A sample for reading a file in perl can be as follows:</p>\n\n<pre><code>#!/user/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $newfile = \"file.txt\";\nopen (my $fh, $newfile) or die \"Could not open file '$newfile' $!\";\nwhile (!eof($fh))\n{\n    my $line=&lt;$fh&gt;;\n    chomp($line);\n    print $line , \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507625947, "post_id": 46662461, "comment_id": 80273488, "body": "Ok,  tried all the answers provided on this thread and I still cannot get the file to print.  I even created a new file and tried to use that one and nothiing.... it doesn&#39;t throw an error just nothing from the file prints.  I added a print &quot;done\\n&quot;; at the end and that prints just fine but nothing from the file. I am at a complete loss."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507625972, "post_id": 46662461, "comment_id": 80273514, "body": "@R.Stone The <code>die</code> should have given you an error, what is it?"}, {"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507626106, "post_id": 46662461, "comment_id": 80273601, "body": "No, nothing.  It just runs and then a new line in the cmd prompt appears and looks like this C:\\Users\\RSS&gt;"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 1, "creation_date": 1507626142, "post_id": 46662461, "comment_id": 80273620, "body": "@R.Stone then there is nothing in your <code>file.txt</code> ? made sure that <code>C:\\Users\\RSS\\file.txt</code> has data in it?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507626497, "post_id": 46662461, "comment_id": 80273843, "body": "@R.Stone Please do this... At the bottom of your script, add <code>system(&#39;C:\\Users\\RSS\\file.txt&#39;);</code> Which will launch the same file file you are attempting to read from, does that file show content when it opens after you run the script?"}, {"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507627552, "post_id": 46662461, "comment_id": 80274530, "body": "I added the system line to the bottom of my script. It printed &quot;my first perl something or another.....&quot; I have no idea where that came from because it is not what is in my txt file.  My text file is 14,825KB of information and I can&#39;t get any of it to print"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507627710, "post_id": 46662461, "comment_id": 80274646, "body": "@R.Stone ok, let&#39;s take a step back here please. Where exactly is this perl scrtipt located? Where exactly is <code>file.txt</code> located? Giving an example error does not help, you need to give the actual error. So please copy the message you received and not just <i>It printed &quot;my first perl something or another</i> if you give the actual output I can see where the issue is."}, {"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507628069, "post_id": 46662461, "comment_id": 80274881, "body": "The message is: my first report generated by perl  ... again, I do not know why it is printing this. I have nothing like this in my script to print and this is definitely not in my text file.  I have a folder on my laptop that contains my .txt file and my .pl file they are in the same location.  When I open the .pl file in atom and run it using my cmd prompt nothing happens but when I write a print &#39;done&#39; after my while loop this prints in my cmd prompt."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 1, "creation_date": 1507628211, "post_id": 46662461, "comment_id": 80274981, "body": "@R.Stone ok. now do me a favour. Edit your question and add the method you use to call the script as well as some content of file.txt and exact content of the current .pl file."}, {"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507628627, "post_id": 46662461, "comment_id": 80275269, "body": "Ok, I will try but not sure if my changes in a few minutes is what you are looking for."}, {"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507629069, "post_id": 46662461, "comment_id": 80275566, "body": "I updated the question with some information about the file and what is being returned"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507629685, "post_id": 46662461, "comment_id": 80275972, "body": "@R.Stone How do you execute the command? from cmdline? by double clicking it? please show me exactly. You are not calling the correct file it seems."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507630287, "post_id": 46662461, "comment_id": 80276345, "body": "@R.Stone So I need you to also show me the EXACT path to the <code>.pl</code> script and to the <code>.txt</code> as well as show me EXACTLY how you execute the <code>.pl</code> script."}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1507626321, "last_edit_date": 1507626321, "creation_date": 1507625622, "answer_id": 46662461, "question_id": 46661622, "link": "https://stackoverflow.com/questions/46661622/printing-a-text-file-using-perl/46662461#46662461", "title": "Printing a text file using perl", "body": "<p>This is simple and including explanations.</p>\n\n<pre><code>use strict;            # Always use strict\nuse warnings;          # Always use warnings.\n\nopen(my $fh, \"&lt;\", \"file.txt\") or die \"unable to open file.txt: $!\";\n                       # Above we open file using 3 handle method\n                       # or die die with error if unable to open it.\nwhile (&lt;$fh&gt;) {        # While in the file.\n         print $_;     # Print each line\n }\nclose $fh;             # Close the file\n</code></pre>\n\n<p>There is then also the case where you are trying to open a file which is not in a location where you think it is. So consider doing full path, if not in the same dir.</p>\n\n<pre><code>open(my $fh, \"&lt;\", 'F:\\Workdir\\file.txt') or die \"unable to open &lt; input.txt: $!\"; \n</code></pre>\n\n<p><strong>EDIT:</strong> After your comments, it seems that you are opening an empty file. Please add this at the bottom of that same script and rerun. It will open the file in <code>C:\\Users\\RSS</code> and make sure it does actually contain data?</p>\n\n<pre><code>system('C:\\Users\\RSS\\file.txt');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507626369, "post_id": 46662519, "comment_id": 80273766, "body": "Thank you. I have the Camel Book and several others.  I had no problem opening other files last week so I have no clue what is going on."}, {"owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "edited": false, "score": 0, "creation_date": 1507628458, "post_id": 46662519, "comment_id": 80275144, "body": "Ok, I tried all the above and still nothing prints.  I created new .txt files to make sure the file I am trying to open isn&#39;t corrupt or something and with the diagnostics it says I don&#39;t have access to my own files.... I did this with no problem just a few days ago so no clue what is happening... and I tried this on two different laptops to double check ... neither allows me to open the files I want to print"}], "tags": [], "owner": {"reputation": 209, "user_id": 7682922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5b0c13ef9044e08cfe2fa43cc38a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Bass", "link": "https://stackoverflow.com/users/7682922/bass"}, "is_accepted": false, "score": 1, "last_activity_date": 1507626185, "last_edit_date": 1507626185, "creation_date": 1507625761, "answer_id": 46662519, "question_id": 46661622, "link": "https://stackoverflow.com/questions/46661622/printing-a-text-file-using-perl/46662519#46662519", "title": "Printing a text file using perl", "body": "<p>This is most likely a combination of a failure to open the file, and a failure to check the return value of <code>open</code>.</p>\n\n<p>If you are completely new to perl, I warmly recommend reading the excellent \"perlintro\" man page, using either <code>man perlintro</code> or <code>perldoc perlintro</code> on the command line, or taking a look here: <a href=\"https://perldoc.perl.org/perlintro.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlintro.html</a>.</p>\n\n<p>The \"Files and I/O\" section there gives a good and concise way of doing this:</p>\n\n<pre><code>open(my $in,  \"&lt;\",  \"input.txt\")  or die \"Can't open input.txt: $!\";\n\nwhile (&lt;$in&gt;) {     # assigns each line in turn to $_\n     print \"Just read in this line: $_\";\n}\n</code></pre>\n\n<p>This version will give you an explanation and abort if anything goes wrong while trying to open the file. For example, if there is no file named <code>file.txt</code> in the current working directory, your version will quietly fail to open the file, and afterwards it will quietly fail to read from the closed file handle.</p>\n\n<p>Also, always adding at least one of these to your perl scripts will save you a lot of trouble in the long run:</p>\n\n<pre><code>use warnings; # or use the -w command line switch to turn warnings on globally\nuse diagnostics;\n</code></pre>\n\n<p>These won't catch the failure to open the file, but will alert on the failed read. </p>\n\n<p>In the first example here you can see that without the diagnostics module, the code fails without any error messages. The second example shows how the diagnostics module changes this.</p>\n\n<pre><code>$ perl -le 'open FH, \"nonexistent.txt\"; while(&lt;FH&gt;){print \"foo\"}'\n$ perl -le 'use diagnostics; open FH, \"nonexistent.txt\"; while(&lt;FH&gt;){print \"foo\"}'\nreadline() on closed filehandle FH at -e line 1 (#1)\n    (W closed) The filehandle you're reading from got itself closed sometime\n    before now.  Check your control flow.\n</code></pre>\n\n<p>By the way, the legendary \"Camel Book\" is basically the perl man pages formatted for paper printing, so reading the perldocs in the order listed in <code>perldoc perl</code> will give you a high level of understanding of the language in a reasonably accessible and inexpensive manner.</p>\n\n<p>Happy hacking!</p>\n"}], "owner": {"reputation": 15, "user_id": 8750830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41047cb4ff6072283dec29c5e018b1?s=128&d=identicon&r=PG&f=1", "display_name": "R.Stone", "link": "https://stackoverflow.com/users/8750830/r-stone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1742, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1507685096, "creation_date": 1507622900, "last_edit_date": 1507685096, "question_id": 46661622, "link": "https://stackoverflow.com/questions/46661622/printing-a-text-file-using-perl", "title": "Printing a text file using perl", "body": "<p>I am completely new to this and this should be the easiest thing to do but for some reason I cannot get my local text file to print.  After trying multiple times with different code I came to use the following code but it doesn't print.</p>\n\n<p>I have searched for days on various threads to solve this and have had no luck.  Please help.  Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\n$newfile = \"file.txt\";\nopen (FH, $newfile);\n\nwhile ($file = &lt;FH&gt;) {\n         print $file;\n}\n</code></pre>\n\n<p>I updated my code to the following:</p>\n\n<pre><code>#!/user/bin/perl\n\nuse strict;            # Always use strict\nuse warnings;          # Always use warnings.\n\nopen(my $fh, \"&lt;\", \"file.txt\") or die \"unable to open file.txt: $!\";\n                   # Above we open file using 3 handle method\n                   # or die die with error if unable to open it.\nwhile (&lt;$fh&gt;) {        # While in the file.\n     print $_;     # Print each line\n }\nclose $fh;             # Close the file\n\nsystem('C:\\Users\\RSS\\file.txt');\n</code></pre>\n\n<p>It returns the following: my first report generated by perl. I do not know where this is coming from. Nowhere do I have a print \"my first report generated by perl.\"; statement and it definitely is not in my text file.</p>\n\n<p>My text file is full of various emails, addresses, phone numbers and snippets of emails. </p>\n\n<p>Thank you all for your help. I figured out my problem. I somehow managed to kick myself out of my directory and did not realize it.</p>\n"}, {"tags": ["arrays", "perl", "csv"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1507621710, "post_id": 46661227, "comment_id": 80270952, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have any code yet, then Stack Overflow is not the best place for your question."}, {"owner": {"reputation": 5, "user_id": 8750757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5FxN_jPJL0/AAAAAAAAAAI/AAAAAAAAAIg/vlpOTl33T8U/photo.jpg?sz=128", "display_name": "Khanh Nguyen", "link": "https://stackoverflow.com/users/8750757/khanh-nguyen"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507622161, "post_id": 46661227, "comment_id": 80271221, "body": "@DaveCross: yes, I can read .csv file by using perl,  but don&#39;t know how to adapt above requirement,  That&#39;s the reason why I need a hand here, could you pls give suggestion something. Thanks"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507622301, "post_id": 46661227, "comment_id": 80271302, "body": "That really doesn&#39;t answer my questions. Show us your code."}, {"owner": {"reputation": 735, "user_id": 4166721, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cshnXqXB_Hc/AAAAAAAAAAI/AAAAAAAAZmo/Wl3QMUgam7M/photo.jpg?sz=128", "display_name": "Cash Lo", "link": "https://stackoverflow.com/users/4166721/cash-lo"}, "edited": false, "score": 0, "creation_date": 1507622781, "post_id": 46661227, "comment_id": 80271606, "body": "There are many ways to do this, one option would be to use 3 arrays for TCD / INSTANCE / PATTERN one each, and populate them as you read the input, then print the output as needed."}, {"owner": {"reputation": 5, "user_id": 8750757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5FxN_jPJL0/AAAAAAAAAAI/AAAAAAAAAIg/vlpOTl33T8U/photo.jpg?sz=128", "display_name": "Khanh Nguyen", "link": "https://stackoverflow.com/users/8750757/khanh-nguyen"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507623363, "post_id": 46661227, "comment_id": 80271979, "body": "@DaveCross: , I&#39;ve updated my code to above topic"}, {"owner": {"reputation": 5, "user_id": 8750757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5FxN_jPJL0/AAAAAAAAAAI/AAAAAAAAAIg/vlpOTl33T8U/photo.jpg?sz=128", "display_name": "Khanh Nguyen", "link": "https://stackoverflow.com/users/8750757/khanh-nguyen"}, "reply_to_user": {"reputation": 735, "user_id": 4166721, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cshnXqXB_Hc/AAAAAAAAAAI/AAAAAAAAZmo/Wl3QMUgam7M/photo.jpg?sz=128", "display_name": "Cash Lo", "link": "https://stackoverflow.com/users/4166721/cash-lo"}, "edited": false, "score": 0, "creation_date": 1507623368, "post_id": 46661227, "comment_id": 80271981, "body": "@CashLo: can you show your code ?"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 8750757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5FxN_jPJL0/AAAAAAAAAAI/AAAAAAAAAIg/vlpOTl33T8U/photo.jpg?sz=128", "display_name": "Khanh Nguyen", "link": "https://stackoverflow.com/users/8750757/khanh-nguyen"}, "edited": false, "score": 0, "creation_date": 1507628117, "post_id": 46662218, "comment_id": 80274918, "body": "it&#39;s great. Thanks a lot.  just 1 note, feature &#39;say&#39; not available in my perl.So, I change &#39;say&#39; to &#39;print&#39;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 5, "user_id": 8750757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5FxN_jPJL0/AAAAAAAAAAI/AAAAAAAAAIg/vlpOTl33T8U/photo.jpg?sz=128", "display_name": "Khanh Nguyen", "link": "https://stackoverflow.com/users/8750757/khanh-nguyen"}, "edited": false, "score": 0, "creation_date": 1507629451, "post_id": 46662218, "comment_id": 80275827, "body": "@KhanhNguyen: <code>say()</code> was added to Perl 5.10 in 2007. You should really be using a version that supports it."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1508247574, "last_edit_date": 1508247574, "creation_date": 1507624834, "answer_id": 46662218, "question_id": 46661227, "link": "https://stackoverflow.com/questions/46661227/use-perl-to-read-input-csv-file-bring-to-array-and-extract-to-expected-output/46662218#46662218", "title": "Use Perl to Read input .csv file, bring to array and extract to expected output", "body": "<p>I've only implemented one of the types of output. The others should be simple enough to add.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse feature 'say';\n\nmy %process = (\n  TCD      =&gt; \\&amp;process_tcd,\n  INSTANCE =&gt; \\&amp;process_instance,\n  PATTERN  =&gt; \\&amp;process_pattern,\n);\n\nwhile (&lt;DATA&gt;) {\n  my ($type, $cmd, @row) = split /[\\s,]+/;\n\n  next unless $type eq 'ATPG';\n\n  if (!exists $process{$cmd}) {\n    warn \"Unknown record type: $_\";\n    next;\n  }\n\n  $process{$cmd}-&gt;(@row);\n}\n\nsub process_tcd {\n  my @data = @_;\n\n  say \"//TCD\\n\";\n  say \"read_core_description    $_\" for @data;\n  say '';\n}\n\nsub process_instance {}\nsub process_pattern {}\n\n__DATA__\nATPG         TCD             tcd/T1, xxx/tcd/T2        \nATPG         INSTANCE        inst1/I1, xxx/inst2/I2, inst3/I3   \nATPG         PATTERN         pat1/P1, pat2/P2   \nSIM          BLACKBOX        bb1/B1, bb2/B2\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8750757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5FxN_jPJL0/AAAAAAAAAAI/AAAAAAAAAIg/vlpOTl33T8U/photo.jpg?sz=128", "display_name": "Khanh Nguyen", "link": "https://stackoverflow.com/users/8750757/khanh-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "accepted_answer_id": 46662218, "answer_count": 1, "score": 0, "last_activity_date": 1508247574, "creation_date": 1507621546, "last_edit_date": 1507623206, "question_id": 46661227, "link": "https://stackoverflow.com/questions/46661227/use-perl-to-read-input-csv-file-bring-to-array-and-extract-to-expected-output", "title": "Use Perl to Read input .csv file, bring to array and extract to expected output", "body": "<p>I got a request to make perl script using array uniq,</p>\n\n<p>my @filtered = uniq(@array);</p>\n\n<p>But don't know how to code it by perl</p>\n\n<p>Any one can help me, it's appreciate..</p>\n\n<p>======================================================</p>\n\n<p>1) Input .csv file:</p>\n\n<pre><code>ATPG         TCD             tcd/T1, xxx/tcd/T2        \nATPG         INSTANCE        inst1/I1, xxx/inst2/I2, inst3/I3   \nATPG         PATTERN         pat1/P1, pat2/P2   \nSIM          BLACKBOX        bb1/B1, bb2/B2\n</code></pre>\n\n<p>2) Request: </p>\n\n<p>STEP 1: read input .csv file</p>\n\n<p>STEP 2: create output out.txt with expected contents</p>\n\n<p>======================================================</p>\n\n<p>3) output out.txt (if (1st column = ATPG))</p>\n\n<pre><code>// TCD\n\nread_core_description     tcd/T1\nread_core_description     xxx/tcd/T2\n\n// INSTANCE\nadd_core_instance  -instance inst1/I1  \nadd_core_instance  -instance xxx/inst2/I2   \nadd_core_instance  -instance inst3/I3\n\n//PATTERN \nread_patterns pat1/P1  \nread_patterns pat2/P2\n</code></pre>\n\n<p>======================================================</p>\n\n<p>My current code here, pls help to continue at the end </p>\n\n<pre><code>#1) Open input\nmy $inF=\"input.csv\";\nopen( my $inF_var, \"&lt;\", $inF) || die (\"Can't open input file\\n\");\n\n#2) Open output\nmy $outF_Blk=\"output/out.txt\";\n\nopen( my $outF_Blk_var,  \"&gt;$outF_Blk\") || die (\"Can't open output file\");\n\n\n#3) Write to files\nwhile( &lt;$inF_var&gt; ){\nnext if (/^$/);\nmy $line=$_;\n\nmy @value=split(/:/, $line);\n\n# EXTRACT THE EXPECTED OUTPUT HERE # \n### NEED EVERYONE CAN HELP ####\n</code></pre>\n"}, {"tags": ["macos", "perl", "macos-high-sierra"], "answers": [{"comments": [{"owner": {"reputation": 1430, "user_id": 3817, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/792b6087ed871435951f4dfdd8bb7dfe?s=128&d=identicon&r=PG", "display_name": "RickMeasham", "link": "https://stackoverflow.com/users/3817/rickmeasham"}, "edited": false, "score": 1, "creation_date": 1511390967, "post_id": 46660972, "comment_id": 81845384, "body": "It&#39;s probably worth reporting this on rt.perl.org. That &#39;mostly harmless&#39; needs to be changed when libdb isn&#39;t installed!"}, {"owner": {"reputation": 376, "user_id": 3552599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kgUIE.png?s=128&g=1", "display_name": "Jamin Kortegard", "link": "https://stackoverflow.com/users/3552599/jamin-kortegard"}, "reply_to_user": {"reputation": 1430, "user_id": 3817, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/792b6087ed871435951f4dfdd8bb7dfe?s=128&d=identicon&r=PG", "display_name": "RickMeasham", "link": "https://stackoverflow.com/users/3817/rickmeasham"}, "edited": false, "score": 0, "creation_date": 1511463940, "post_id": 46660972, "comment_id": 81878681, "body": "Thanks for the suggestion @RickMeasham. I&#39;ll do that."}, {"owner": {"reputation": 376, "user_id": 3552599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kgUIE.png?s=128&g=1", "display_name": "Jamin Kortegard", "link": "https://stackoverflow.com/users/3552599/jamin-kortegard"}, "reply_to_user": {"reputation": 1430, "user_id": 3817, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/792b6087ed871435951f4dfdd8bb7dfe?s=128&d=identicon&r=PG", "display_name": "RickMeasham", "link": "https://stackoverflow.com/users/3817/rickmeasham"}, "edited": false, "score": 1, "creation_date": 1511467517, "post_id": 46660972, "comment_id": 81880025, "body": "Bug report filed using <code>perlbug</code>. FYI @RickMeasham."}], "tags": [], "owner": {"reputation": 376, "user_id": 3552599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kgUIE.png?s=128&g=1", "display_name": "Jamin Kortegard", "link": "https://stackoverflow.com/users/3552599/jamin-kortegard"}, "is_accepted": true, "score": 13, "last_activity_date": 1507620719, "last_edit_date": 1592644375, "creation_date": 1507620719, "answer_id": 46660972, "question_id": 46660971, "link": "https://stackoverflow.com/questions/46660971/how-to-install-perl-on-macos-10-13-high-sierra/46660972#46660972", "title": "How to install Perl on macOS 10.13 High Sierra", "body": "<h3>TL;DR</h3>\n<p>Here's what worked:</p>\n<ol>\n<li><p>Install Berkeley DB. I use <a href=\"https://brew.sh\" rel=\"noreferrer\">Homebrew</a>, but you can get the source files at the <a href=\"https://www.oracle.com/database/berkeley-db/db.html\" rel=\"noreferrer\">Oracle site</a>.</p>\n<pre><code>brew install berkeley-db\n</code></pre>\n</li>\n<li><p>Install Perl. I use <a href=\"https://perlbrew.pl\" rel=\"noreferrer\">Perlbrew</a>, but you can get the source files at the <a href=\"http://www.perl.org/get.html\" rel=\"noreferrer\">Perl site</a>.</p>\n<pre><code>perlbrew install perl-5.26.1\n</code></pre>\n</li>\n</ol>\n<hr />\n<h3>A Partial Explanation</h3>\n<p>Looking back through the failed installation log, there is a warning near the <code>DB_File</code> sections that gives a clue:</p>\n<pre><code>...\n./miniperl -Ilib make_ext.pl lib/auto/DB_File/DB_File.bundle  MAKE=&quot;/Applications/Xcode.app/Contents/Developer/usr/bin/make&quot; LIBPERL_A=libperl.a LINKTYPE=dynamic\nParsing config.in...\nLooks Good.\nWarning (mostly harmless): No library found for -ldb\nGenerating a Unix-style Makefile\nWriting Makefile for DB_File\n...\n</code></pre>\n<p>No <code>db</code> library found, <em>mostly</em> harmless.</p>\n<p>According to the docs for the <a href=\"http://perldoc.perl.org/DB_File.html\" rel=\"noreferrer\"><code>DB_File</code> module</a>, it is...</p>\n<blockquote>\n<p>...  a module which allows Perl programs to make use of the facilities provided by Berkeley DB...</p>\n</blockquote>\n<p>After installing <code>berkeley-db</code>, the same section of the Perl installation log no longer shows the same warning:</p>\n<pre><code>...\n./miniperl -Ilib make_ext.pl lib/auto/DB_File/DB_File.bundle  MAKE=&quot;/Applications/Xcode.app/Contents/Developer/usr/bin/make&quot; LIBPERL_A=libperl.a LINKTYPE=dynamic\nParsing config.in...\nLooks Good.\nGenerating a Unix-style Makefile\nWriting Makefile for DB_File\n...\n</code></pre>\n<p>And further along the process, the previously failed tests pass, allowing installation to complete successfully:</p>\n<pre><code>...\n../cpan/DB_File/t/db-btree.t ....................................... ok\n../cpan/DB_File/t/db-hash.t ........................................ ok\n../cpan/DB_File/t/db-recno.t ....................................... ok\n...\n</code></pre>\n<p>I haven't been able to find any documentation online about why Berkeley DB appears to be missing from macOS 10.13 High Sierra, and whether that was a change from previous macOS versions, as it seems.</p>\n<p>Many thanks to Tim D for helping me troubleshoot.</p>\n"}, {"comments": [{"owner": {"reputation": 376, "user_id": 3552599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kgUIE.png?s=128&g=1", "display_name": "Jamin Kortegard", "link": "https://stackoverflow.com/users/3552599/jamin-kortegard"}, "edited": false, "score": 0, "creation_date": 1538240699, "post_id": 51332834, "comment_id": 92077921, "body": "While I think this is useful information in general, it wouldn&#39;t have solved my problem. The problem was that the <code>berkeley-db</code> library was missing entirely from the system, not that it couldn&#39;t be found during Perl install configuration."}, {"owner": {"reputation": 48744, "user_id": 40468, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43722cb1e955874a8eb721e9dfe101d1?s=128&d=identicon&r=PG", "display_name": "Ether", "link": "https://stackoverflow.com/users/40468/ether"}, "reply_to_user": {"reputation": 376, "user_id": 3552599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kgUIE.png?s=128&g=1", "display_name": "Jamin Kortegard", "link": "https://stackoverflow.com/users/3552599/jamin-kortegard"}, "edited": false, "score": 1, "creation_date": 1538337881, "post_id": 51332834, "comment_id": 92098505, "body": "Perhaps I wasn&#39;t clear: part of the solution is to install berkeley-db (e.g. via macports or homebrew), and then tell perl&#39;s DB_File where to find it, as its <code>config.in</code> is pointing to the incorrect location."}], "tags": [], "owner": {"reputation": 48744, "user_id": 40468, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43722cb1e955874a8eb721e9dfe101d1?s=128&d=identicon&r=PG", "display_name": "Ether", "link": "https://stackoverflow.com/users/40468/ether"}, "is_accepted": false, "score": 2, "last_activity_date": 1531516134, "creation_date": 1531516134, "answer_id": 51332834, "question_id": 46660971, "link": "https://stackoverflow.com/questions/46660971/how-to-install-perl-on-macos-10-13-high-sierra/51332834#51332834", "title": "How to install Perl on macOS 10.13 High Sierra", "body": "<p>To install perl itself (which contains the DB_File module), or to install the DB_File module from CPAN, the solution is the same:  edit its <code>config.in</code> to point to the proper location of berkeley-db.</p>\n\n<p>For example, I have installed the db48 package via macports with <code>sudo port install db48</code>.  In the perl download itself, I navigate to cpan/DB_File and edit its <code>config.in</code>, changing the existing INCLUDE and LIB assignments thusly:</p>\n\n<pre><code>INCLUDE    = /opt/local/include/db48\nLIB        = /opt/local/lib/db48\n</code></pre>\n\n<p>I can then resume the perl build process and DB_File can compile.</p>\n\n<p>References:</p>\n\n<p><a href=\"https://rt.perl.org/Ticket/Display.html?id=133280\" rel=\"nofollow noreferrer\">Perl RT#133280</a><br>\n<a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=125238\" rel=\"nofollow noreferrer\">CPAN RT#125238</a></p>\n"}], "owner": {"reputation": 376, "user_id": 3552599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kgUIE.png?s=128&g=1", "display_name": "Jamin Kortegard", "link": "https://stackoverflow.com/users/3552599/jamin-kortegard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4271, "favorite_count": 4, "accepted_answer_id": 46660972, "answer_count": 2, "score": 12, "last_activity_date": 1531516134, "creation_date": 1507620719, "question_id": 46660971, "link": "https://stackoverflow.com/questions/46660971/how-to-install-perl-on-macos-10-13-high-sierra", "title": "How to install Perl on macOS 10.13 High Sierra", "body": "<p>I recently upgraded to macOS 10.13 High Sierra and shortly after encountered a problem attempting to install a more recent version of Perl (5.26.1). The gist of the problem is that the self-tests for <code>cpan/DB_File</code> consistently failed on macOS 10.13 High Sierra (home laptop) but succeeded on macOS 10.12 Sierra (work laptop). </p>\n\n<p>Here's the section of the installation log showing the failure:</p>\n\n<pre><code>../cpan/Config-Perl-V/t/30_plv5240.t ............................... ok\n../cpan/Config-Perl-V/t/31_plv52511.t .............................. ok\n../cpan/DB_File/t/db-btree.t ....................................... ok\nUse of uninitialized value $value in string eq at t/db-hash.t line 224.\nUse of uninitialized value $values[0] in string eq at t/db-hash.t line 224.\nUse of uninitialized value $value in lc at t/db-hash.t line 224.\nUse of uninitialized value $h{\"\"} in string eq at t/db-hash.t line 243.\nUse of uninitialized value in numeric eq (==) at t/db-hash.t line 252.\nUse of uninitialized value in numeric eq (==) at t/db-hash.t line 252.\nUse of uninitialized value in numeric eq (==) at t/db-hash.t line 252.\nUse of uninitialized value in numeric eq (==) at t/db-hash.t line 252.\nUse of uninitialized value in numeric eq (==) at t/db-hash.t line 252.\nUse of uninitialized value in numeric eq (==) at t/db-hash.t line 252.\nUse of uninitialized value in numeric eq (==) at t/db-hash.t line 252.\nUse of uninitialized value in numeric eq (==) at t/db-hash.t line 252.\nUse of uninitialized value $foo[18] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[36] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[48] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[58] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[59] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[60] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[62] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[63] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[92] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[114] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[140] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[187] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[188] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $foo[189] in join or string at t/db-hash.t line 261.\nUse of uninitialized value $h{\"Fred\"} in string eq at t/db-hash.t line 572.\nUse of uninitialized value $v in concatenation (.) or string at t/db-hash.t line 748.\n../cpan/DB_File/t/db-hash.t ........................................ \nDubious, test returned 2 (wstat 512, 0x200)\nFailed 76/166 subtests \n</code></pre>\n\n<p>I was able to repeat this same failure whether installing using <code>perlbrew install perl-5.26.1</code> or simply downloading <a href=\"http://www.cpan.org/src/5.0/perl-5.26.1.tar.gz\" rel=\"noreferrer\">the Perl tarfile</a> and installing manually. When I try to debug the test in question <code>t/db-hash.t</code>, I can see that the test hash <code>%h</code> is created and is being populated in the test file, but when I <code>print Dumper(\\%h)</code> I see that the hash looks to have the right keys, but <em>all</em> of the values are <code>undef</code>, rather than the values being assigned in the test script. </p>\n\n<p>These <code>undef</code> values are causing the test failure. Oddly, the undefined values show up when I print the whole hash or try to make an array of the hash values. If I ask for a specific hash key's value, e.g. <code>my $value = $h{key}</code>, the value prints fine.</p>\n\n<p>Questions:</p>\n\n<ul>\n<li>How to fix this so that I can install a new Perl on macOS 10.13?</li>\n<li>What broke? This used to work on macOS 10.12.</li>\n</ul>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1507617915, "post_id": 46659780, "comment_id": 80268835, "body": "<i>Or should I be printing the year outside double quotes?</i> Yes. The DateTime object is stringifying when you interpolate it inside double quotes, which is why you&#39;re seeing the ISO 8601 representation of your date. Methods need to be invoked outside of strings."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1507618297, "post_id": 46659780, "comment_id": 80269047, "body": "see this <a href=\"https://stackoverflow.com/questions/8288688/perl-formatting-datetime-output\">answer</a> by @ikegami"}], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 7682922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5b0c13ef9044e08cfe2fa43cc38a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Bass", "link": "https://stackoverflow.com/users/7682922/bass"}, "edited": false, "score": 0, "creation_date": 1507622894, "post_id": 46661250, "comment_id": 80271668, "body": "This is a good answer. Another version (a worse version though) of this answer is, that if you want to embed code in a double quoted string, you have to use the black magic operator <code>@{[ ]}</code> to construct a temporary array reference and immediately dereference it, like so: <code>warn &quot;Year: @{[ $date1-&gt;year() ]}&quot;;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 209, "user_id": 7682922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5b0c13ef9044e08cfe2fa43cc38a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Bass", "link": "https://stackoverflow.com/users/7682922/bass"}, "edited": false, "score": 0, "creation_date": 1507623086, "post_id": 46661250, "comment_id": 80271810, "body": "@Bass: I deliberately omitted the baby-cart operator from my answer. It&#39;s probably a little scary for a Perl beginner. And besides, I&#39;d never use it in a case like this."}, {"owner": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "edited": false, "score": 0, "creation_date": 1507645895, "post_id": 46661250, "comment_id": 80287122, "body": "@DaveCross: I wasn&#39;t aware of the interpolation perl tries to do when there are method calls inside double quotes. Thank you for this answer. This helps greatly!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1507623328, "last_edit_date": 1507623328, "creation_date": 1507621632, "answer_id": 46661250, "question_id": 46659780, "link": "https://stackoverflow.com/questions/46659780/printing-year-month-and-date-from-datetime-in-perl/46661250#46661250", "title": "Printing year, month and date from DateTime in Perl", "body": "<p>The problem is that method calls (or, indeed, any subroutine calls) are not expanded in a quoted string. You need to use concatenation here:</p>\n\n<pre><code>print STDERR \"Year: \" . $date1-&gt;year();\n</code></pre>\n\n<p>Or pass multiple arguments to <code>print()</code>:</p>\n\n<pre><code>print STDERR \"Year: \", $date1-&gt;year();\n</code></pre>\n\n<p>Also note that <code>print STDERR</code> is usually spelled <code>warn(...)</code>.</p>\n\n<p><strong>Update:</strong> It's also worth pointing out what is actually happening here. When Perl sees <code>$date1-&gt;year()</code> in your quoted string, it recognises <code>$date1</code> as a variable and wants to expand that to its value. The value of a blessed reference is usually something like \"Class=HASH(0x012345679ABCDEF)\" (where \"Class\" is the class name). But DateTime overrides stringification to present a string version of the date and time.</p>\n"}], "owner": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 46661250, "answer_count": 1, "score": 1, "last_activity_date": 1507623328, "creation_date": 1507616294, "question_id": 46659780, "link": "https://stackoverflow.com/questions/46659780/printing-year-month-and-date-from-datetime-in-perl", "title": "Printing year, month and date from DateTime in Perl", "body": "<p>I am pretty new to Perl and I need to extract the month, day and time from the DateTime object in Perl. </p>\n\n<p>The following code is what I currently have:</p>\n\n<pre><code>use strict;\n\nuse DateTime::Format::Strptime;\nmy $parser = DateTime::Format::Strptime-&gt;new( pattern =&gt; \"%Y-%m-%dT%H:%M:%SZ\", time_zone =&gt; 'UTC',\n    on_error  =&gt; 'croak');\nmy $date1 = $parser-&gt;parse_datetime(\"2017-10-10T04:21:56Z\");\nprint STDERR \"Year: $date1-&gt;year()\";\n</code></pre>\n\n<p>I always get my output as this:\nYear: 2017-10-10T04:21:56->year().</p>\n\n<p>What am I doing wrong? Or should I be printing the year outside double quotes? </p>\n"}, {"tags": ["scripting", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507653965, "post_id": 46669974, "comment_id": 80292184, "body": "Please show what you have.  If you can&#39;t write code as basic as this then SO is probably not the best place to ask.  If that is the case, I suggest going through language basics first; you can learn enough for a problem like this in a few days.  Above all, simply asking for code is off-topic here."}, {"owner": {"reputation": 5, "user_id": 8750757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5FxN_jPJL0/AAAAAAAAAAI/AAAAAAAAAIg/vlpOTl33T8U/photo.jpg?sz=128", "display_name": "Khanh Nguyen", "link": "https://stackoverflow.com/users/8750757/khanh-nguyen"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507691370, "post_id": 46669974, "comment_id": 80306390, "body": "@zdim: thanks for your notice, I will take as experience..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507692115, "post_id": 46669974, "comment_id": 80306574, "body": "@Hanh Thank you for the note and for attribution.  It seems that the question was &quot;<i>migrated</i>&quot; here.  As for my comment -- here people generally expect very specific questions on <i>your code</i>. So you&#39;d normally briefly describe what you are trying to do, show your code with its input and output (and possible errors), and state or explain what seems wrong and why. Otherwise questions are deemed off-topic.  Read over the short and useful help pages, starting with <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a>.  For the future, as you say :)"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1507773643, "last_edit_date": 1507773643, "creation_date": 1507653875, "answer_id": 46671852, "question_id": 46669974, "link": "https://stackoverflow.com/questions/46669974/use-perl-to-process-a-text-file-based-on-the-first-field-of-each-line/46671852#46671852", "title": "Use Perl to process a text file based on the first field of each line", "body": "<p>In a one-liner, with descriptions shortened</p>\n\n<pre><code>perl -anE'\n    BEGIN { %d = (TCD =&gt; \"read\", INSTANCE =&gt; \"add\", PATTERN =&gt; \"patterns\") \n    if (shift@F eq \"ATPG\") { $n=shift@F; say \"// $n\"; say \"$d{$n} $_\" for @F }\n' input.txt\n</code></pre>\n\n<p>The <code>@F</code> is obtained for each line by splitting it on whitespace, so into words, by courtesy of <code>-a</code>.</p>\n\n<p>I suggest to read the core description of the language and try it yourself.</p>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1507647691, "question_id": 397164}, "owner": {"reputation": 5, "user_id": 8750757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5FxN_jPJL0/AAAAAAAAAAI/AAAAAAAAAIg/vlpOTl33T8U/photo.jpg?sz=128", "display_name": "Khanh Nguyen", "link": "https://stackoverflow.com/users/8750757/khanh-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 46671852, "answer_count": 1, "score": 0, "last_activity_date": 1507773643, "creation_date": 1507610111, "question_id": 46669974, "link": "https://stackoverflow.com/questions/46669974/use-perl-to-process-a-text-file-based-on-the-first-field-of-each-line", "title": "Use Perl to process a text file based on the first field of each line", "body": "<p>I'm trying to write a Perl script that reads a file of the following form:</p>\n\n<pre><code>ATPG     TCD             tcd/T1, xxx/tcd/T2    \nATPG     INSTANCE        inst1/I1, xxx/inst2/I2, inst3/I3\nATPG     PATTERN         pat1/P1, pat2/P2\nSIM      BLACKBOX        bb1/B1, bb2/B2\n</code></pre>\n\n<p>For each line that has <code>ATPG</code> in the first field, it should print to an output file. For example:</p>\n\n<pre><code>// TCD\n\nread_core_description tcd/T1\nread_core_description xxx/tcd/T2\n\n// INSTANCE\nadd_core_instance  -instance inst1/I1  \nadd_core_instance  -instance xxx/inst2/I2   \nadd_core_instance  -instance inst3/I3\n\n//PATTERN \nread_patterns pat1/P1  \nread_patterns pat2/P2\n</code></pre>\n\n<p>Other lines like the ones starting with <code>SIM</code> don't affect the output file. How can I go about doing this?</p>\n"}, {"tags": ["perl", "awk", "sed", "replace"], "answers": [{"tags": [], "owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1507592003, "last_edit_date": 1507592003, "creation_date": 1507591658, "answer_id": 46656462, "question_id": 46656387, "link": "https://stackoverflow.com/questions/46656387/separate-2nd-column-of-comma-separated-list-to-new-rows-inherit-value-in-1st-co/46656462#46656462", "title": "Separate 2nd column of comma separated list to new rows, inherit value in 1st column per new row", "body": "<p>This simple <code>awk</code> program should do it:</p>\n\n<pre><code>$ awk -F'\\t' '{ n=split($2,arr,\",\"); for(i=1;i&lt;=n;i++) print $1,arr[i] }' file\nID1 blue\nID2 yellow\nID2 blue\nID3 green\nID3 yellow\nID3 red\nID4 red\n1D5 red\n1D5 purple\n</code></pre>\n\n<p>We split the line into fields on tab (<code>\\t</code>), and then for each line split the second field on commas (<code>,</code>) with <a href=\"https://www.gnu.org/software/gawk/manual/gawk.html#index-split_0028_0029-function\" rel=\"nofollow noreferrer\"><code>split()</code></a>. Finally we iterate over all elements in the array <code>arr</code> and print one line per the (first field, array element) pair.</p>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 5539804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/h38yB.jpg?s=128&g=1", "display_name": "Cath", "link": "https://stackoverflow.com/users/5539804/cath"}, "edited": false, "score": 0, "creation_date": 1507681159, "post_id": 46656971, "comment_id": 80304003, "body": "Thank you for all the details, DavidO!"}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": false, "score": 0, "last_activity_date": 1507611171, "last_edit_date": 1507611171, "creation_date": 1507595769, "answer_id": 46656971, "question_id": 46656387, "link": "https://stackoverflow.com/questions/46656387/separate-2nd-column-of-comma-separated-list-to-new-rows-inherit-value-in-1st-co/46656971#46656971", "title": "Separate 2nd column of comma separated list to new rows, inherit value in 1st column per new row", "body": "<p>Your question was tagged with various utility/glue languages, including Perl, so <strong>this answer describes solutions using the Perl programming language</strong>.</p>\n\n<p><strong>Here is a Perl one-liner solution:</strong></p>\n\n<pre><code>perl -lF/\\\\t/ -e 'print \"$F[0] $_\" for split /,/, $F[1]' test.txt\n</code></pre>\n\n<p>Given a tab-delimited file as described in the question this produces the following output:</p>\n\n<pre><code>ID1 blue\nID2 yellow\nID2 blue\nID3 green\nID3 yellow\nID3 red\nID4 red\n1D5 red\n1D5 purple\n</code></pre>\n\n<p>This works approximately the same as the following <strong>full Perl script:</strong></p>\n\n<pre><code>while (&lt;&gt;) {\n    chomp;\n    next unless length;\n    my ($id, $colors) = split /\\t/, $_;\n    print \"$id $_\\n\" foreach split /,/, $colors;\n}\n</code></pre>\n\n<p>In these solutions I used <code>\\t</code> to split on tabs, though the sample data you provided seemed instead to be space delimited, not specifically tab delimited.  If it is the case that your data is actually simply \"whitespace\" delimited, change <code>\\t</code> to <code>\\s+</code>.</p>\n\n<p><strong>Here's how the one-liner works:</strong></p>\n\n<p><code>-l</code> sets auto-chomp for input, and auto-newline for output.  The <code>-F</code> switch implicitly sets <code>-a</code> (which means auto-split into <code>@F</code>), and <code>-n</code> (which means iterate over the input files passed on the command line).</p>\n\n<p>The <code>-F/\\\\t/</code> means auto-split on the <code>/\\t/</code> regexp, or in other words, on tab characters, populating <code>@F</code> with the results. (You could change <code>\\\\t</code> to <code>\\\\s+</code> if your data is more generally whitespace delimited.)</p>\n\n<p>Therefore, for each line of input, <code>$F[0]</code> will contain the <code>IDx</code> field, and <code>$F[1]</code> will contain colors such as <code>yellow,blue</code>.</p>\n\n<p>The <code>-e</code> command line switch means to evaluate the following code, and because we have <code>-n</code> implicit in <code>-F</code> we iterate over the file and execute the code once per line of the input files.</p>\n\n<p>And the code we pass in is:</p>\n\n<pre><code>print \"$F[0] $_\" foreach split /,/, $F[1]\n</code></pre>\n\n<p>Which means that per line of the file, for each item in the color list, print the ID (stored in <code>$F[0]</code>) followed by the color (stored in <code>$_</code>).</p>\n\n<p>We derive the colors individually by splitting <code>$F[1]</code>, which might contain <code>yellow,blue</code> on the comma, and populating <code>$_</code> for each color (using the <code>foreach</code> loop).</p>\n\n<p><strong>Describing the script version:</strong></p>\n\n<p><code>while(&lt;&gt;) {...}</code> reads one line at a time from the files set on the command line (or from STDIN), and for each line populates <code>$_</code>.</p>\n\n<p><strong>Relevant Documentation:</strong></p>\n\n<p>Every full-installation of Perl ships with the <code>perldoc</code> command, which may be invoked with the name of a piece of Perl's documentation to read.</p>\n\n<p>See the following:</p>\n\n<ul>\n<li><code>perldoc perlrun</code> -- An explanation of Perl's command-line switches.</li>\n<li><code>perldoc perlintro</code> -- A brief introduction to Perl.</li>\n<li><code>perldoc perlre</code> -- A deep-end overview of Perl's regular expressions.</li>\n<li><code>perldoc -f split</code> -- An explanation of how Perl's <code>split</code> function works.</li>\n<li><code>perldoc perlsyn</code> -- A description of Perl's control structures such as <code>foreach</code> loops.</li>\n<li><code>perldoc perlop</code> -- An overview of Perl's operators, including <code>&lt;&gt;</code>.</li>\n</ul>\n\n<p>Furthermore, if your data is more complex than shown, using constructs such as quoting and escaping of delimiters, you should probably prefer the <code>Text::CSV</code> CPAN module for parsing the TSV / CSV file.</p>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1507599234, "creation_date": 1507599234, "answer_id": 46657360, "question_id": 46656387, "link": "https://stackoverflow.com/questions/46656387/separate-2nd-column-of-comma-separated-list-to-new-rows-inherit-value-in-1st-co/46657360#46657360", "title": "Separate 2nd column of comma separated list to new rows, inherit value in 1st column per new row", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r 's/^((\\S+\\s+)[^,]+),/\\1\\n\\2/;P;D' file\n</code></pre>\n\n<p>Replace each <code>,</code> by a newline followed by the key and its whitespace (tab).</p>\n"}, {"comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 111, "user_id": 5539804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/h38yB.jpg?s=128&g=1", "display_name": "Cath", "link": "https://stackoverflow.com/users/5539804/cath"}, "edited": false, "score": 0, "creation_date": 1507654229, "post_id": 46657371, "comment_id": 80292338, "body": "@Cath, you are welcome, glad that it helped you. See this <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>  enjoy learning and sharing knowledge, cheers :)"}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 0, "last_activity_date": 1507600001, "last_edit_date": 1507600001, "creation_date": 1507599303, "answer_id": 46657371, "question_id": 46656387, "link": "https://stackoverflow.com/questions/46656387/separate-2nd-column-of-comma-separated-list-to-new-rows-inherit-value-in-1st-co/46657371#46657371", "title": "Separate 2nd column of comma separated list to new rows, inherit value in 1st column per new row", "body": "<p>Following awk may also help you in same.</p>\n\n<pre><code>awk '{gsub(/,/,RS $1\"&amp;\");gsub(/,/,\" \")} 1'   Input_file\n</code></pre>\n\n<p><strong><em>Explanation:</em></strong></p>\n\n<p><strong><em>gsub(/,/,RS $1\"&amp;\"):</em></strong> Using awk's global substitute utility to substitute each comma in a line with <code>RS</code>(new line) $1(first field of that line) \"&amp;\" denotes comma here(denotes variable/regex which we mention to be substituted).</p>\n\n<p><strong><em>gsub(/,/,\" \"):</em></strong> Again using global substitute utility to <code>awk</code>, so above <code>gsub</code> will make Input_file to look as follows.</p>\n\n<pre><code>ID1 blue\nID2 yellow\nID2,blue\nID3 green\nID3,yellow\nID3,red\nID4 red\n1D5 red\n1D5,purple\n</code></pre>\n\n<p>which is not our OP's output, so again globally substituting comma with simple space so get the correct output as follows.</p>\n\n<pre><code>ID1 blue\nID2 yellow\nID2 blue\nID3 green\nID3 yellow\nID3 red\nID4 red\n1D5 red\n1D5 purple\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 5539804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/h38yB.jpg?s=128&g=1", "display_name": "Cath", "link": "https://stackoverflow.com/users/5539804/cath"}, "edited": false, "score": 1, "creation_date": 1507654138, "post_id": 46658367, "comment_id": 80292289, "body": "Thanks so much, Ed!"}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 1, "last_activity_date": 1507607596, "creation_date": 1507607596, "answer_id": 46658367, "question_id": 46656387, "link": "https://stackoverflow.com/questions/46656387/separate-2nd-column-of-comma-separated-list-to-new-rows-inherit-value-in-1st-co/46658367#46658367", "title": "Separate 2nd column of comma separated list to new rows, inherit value in 1st column per new row", "body": "<pre><code>$ awk -F'[\\t,]' '{for (i=2;i&lt;=NF;i++) print $1, $i}' file\nID1 blue\nID2 yellow\nID2 blue\nID3 green\nID3 yellow\nID3 red\nID4 red\n1D5 red\n1D5 purple\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5539804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/h38yB.jpg?s=128&g=1", "display_name": "Cath", "link": "https://stackoverflow.com/users/5539804/cath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 550, "favorite_count": 0, "accepted_answer_id": 46658367, "answer_count": 5, "score": -1, "last_activity_date": 1507654087, "creation_date": 1507591126, "last_edit_date": 1507654087, "question_id": 46656387, "link": "https://stackoverflow.com/questions/46656387/separate-2nd-column-of-comma-separated-list-to-new-rows-inherit-value-in-1st-co", "title": "Separate 2nd column of comma separated list to new rows, inherit value in 1st column per new row", "body": "<p>I have a tab-separated file like this:</p>\n\n<pre><code>ID1 blue\nID2 yellow,blue\nID3 green,yellow,red\nID4 red\n1D5 red,purple\n</code></pre>\n\n<p>For the second column, I need to separate out the comma list, each color on its own row, and for every new row, I need to retain the ID#. </p>\n\n<p>I was thinking of using sed to replace each comma with a new line, but then not sure how to add the associated ID back. Awk or perl? After much searching, I can't find the answer...</p>\n\n<p>Final results will have no commas and look like this:</p>\n\n<p>Final result:</p>\n\n<pre><code>ID1 blue\nID2 yellow\nID2 blue\nID3 green\nID3 yellow\nID3 red\nID4 red\n1D5 red\n1D5 purple\n</code></pre>\n\n<p>Any help very much appreciated.\nThis question is very similar to <a href=\"https://stackoverflow.com/questions/33408762/bash-turning-single-comma-separated-column-into-multi-line-string\">Bash turning single comma-separated column into multi-line string</a>, but my column 1 is always a single value whereas the similar question has multiple values separated by a comma in col 1. I was unable to find my solution by reviewing the similar question. Hoping that this question is distinct enough to remain on this site and hopefully help others as well. </p>\n"}, {"tags": ["linux", "perl", "oop", "ssh", "telnet"], "answers": [{"comments": [{"owner": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "edited": false, "score": 2, "creation_date": 1507743618, "post_id": 46681608, "comment_id": 80336516, "body": "I marked this as the answer because I have the output from the script being written to a directory mounted with sshfs from a third server. There&#39;s two servers running this script, both writing to the directory from the third server.   The problem isn&#39;t the script, it&#39;s the sshfs directory. Thanks!"}], "tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": true, "score": 1, "last_activity_date": 1507704666, "creation_date": 1507704666, "answer_id": 46681608, "question_id": 46654712, "link": "https://stackoverflow.com/questions/46654712/perl-script-causing-kernel-panic/46681608#46681608", "title": "Perl Script causing Kernel Panic", "body": "<p>The bug report in the log says the issue is on <code>tty_ioctl</code>, so it is triggered when <code>ioctl</code> is called on a tty file descriptor. <code>Net::OpenSSH</code> uses a pseudo-tty when doing password authentication, so, a possible workaround for your problem would be to switch to a different authentication mechanism not requiring a tty as for instance public key authentication.</p>\n\n<p><p>Also, the backtrace shows that the crash happens when manipulating the file system, so maybe your real problem is a corrupted file system triggering some kernel bug. You could try to force a <code>fsck</code> on the machine file systems or just to recreate them. </p>\n\n<p><p>You didn't say which Linux distribution you are using neither the kernel version. You could try switching to a different one.</p>\n\n<p><p>In any case, it is the first time anybody reports this problem, and Net::OpenSSH is used frequently with password authentication, so, unless you are using a pretty rare kernel version, there should be something special in your system that causes this bug to show up.</p>\n"}], "owner": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 1, "accepted_answer_id": 46681608, "answer_count": 1, "score": 0, "last_activity_date": 1507704666, "creation_date": 1507582023, "question_id": 46654712, "link": "https://stackoverflow.com/questions/46654712/perl-script-causing-kernel-panic", "title": "Perl Script causing Kernel Panic", "body": "<p>I made a plugin for Nagios/Icinga that parses networking device logs for strings but it's causing kernel panics in large environments. The full code can be found <a href=\"https://github.com/cflinspach/parse_logs\" rel=\"nofollow noreferrer\">here</a>. I've tried reinstalling the kernel and some packages but it still persists. It's also running on another server just fine, but that server monitors less hosts. How can I troubleshoot the Oops to fix the code or repair the server?</p>\n\n<p>The script uses Net::OpenSSH to connect to different networking devices and run \"sh log\", an example excerpt is:</p>\n\n<pre><code>my $cisco_cmd = 'sh log ';  \n\n# SSH\nif ($socket) {\n    SSH();\n\n    # Cisco SSH command\n    my $ssh_session = $ssh-&gt;system({stdout_fh=&gt; $stdout_fh}, $cisco_cmd);\n}\nsub SSH{\n    $ssh = Net::OpenSSH-&gt;new($host, user=&gt;$username, \n                                    password=&gt;$password, \n                                    timeout =&gt; 30, \n                                    master_stdout_fh =&gt; $stdout_fh,\n                                    master_stderr_fh =&gt; $stdout_fh,\n                                    master_opts =&gt; [-o =&gt; \"KexAlgorithms=+diffie-hellman-group1-sha1\",\n                                                    -o =&gt; \"HostKeyAlgorithms=+ssh-dss\",\n                                                    -o =&gt; \"StrictHostKeyChecking no\"]);\n    if ($ssh-&gt;error) {\n            print \"Unknown - Unable to connect to remote host: \". $ssh-&gt;error . \"\\n\";\n            exit 3;\n        };\n\n    return $ssh;\n} \n</code></pre>\n\n<p>Over time syslog will start logging Oops's before it goes into kernel panic. </p>\n\n<p>The Oops is:</p>\n\n<pre><code>Oct  6 14:11:43 icinga1 kernel: [359392.196625] BUG: unable to handle kernel NULL pointer dereference at           (null)\nOct  6 14:11:43 icinga1 kernel: [359392.196632] IP: [&lt;ffffffff814fa7c5&gt;] tty_ioctl+0x375/0xc40\nOct  6 14:11:43 icinga1 kernel: [359392.196640] PGD 0 \nOct  6 14:11:43 icinga1 kernel: [359392.196642] Oops: 0000 [#1] SMP \nOct  6 14:11:43 icinga1 kernel: [359392.196645] Modules linked in: vmw_vsock_vmci_transport vsock coretemp crct10dif_pclmul crc32_pclmul ghash_clmulni_intel aesni_intel aes_x86_64 lrw gf128mul glue_helper ablk_helper cryptd vmw_balloon input_leds joydev serio_raw shpchp i2c_piix4 vmw_vmci 8250_fintek mac_hid sunrpc parport_pc ppdev lp parport autofs4 vmw_pvscsi vmwgfx ttm drm_kms_helper syscopyarea psmouse sysfillrect sysimgblt mptspi fb_sys_fops mptscsih drm mptbase ahci vmxnet3 libahci scsi_transport_spi pata_acpi floppy fjes\nOct  6 14:11:43 icinga1 kernel: [359392.196672] CPU: 1 PID: 21451 Comm: ssh Not tainted 4.4.0-96-generic #119-Ubuntu\nOct  6 14:11:43 icinga1 kernel: [359392.196684] Hardware name: VMware, Inc. VMware Virtual Platform/440BX Desktop Reference Platform, BIOS 6.00 09/21/2015\nOct  6 14:11:43 icinga1 kernel: [359392.196686] task: ffff88042d008000 ti: ffff88033194c000 task.ti: ffff88033194c000\nOct  6 14:11:43 icinga1 kernel: [359392.196688] RIP: 0010:[&lt;ffffffff814fa7c5&gt;]  [&lt;ffffffff814fa7c5&gt;] tty_ioctl+0x375/0xc40\nOct  6 14:11:43 icinga1 kernel: [359392.196691] RSP: 0018:ffff88033194fdf0  EFLAGS: 00010246\nOct  6 14:11:43 icinga1 kernel: [359392.196692] RAX: 0000000000000000 RBX: ffff8803c8aec800 RCX: fffffffeffffffff\nOct  6 14:11:43 icinga1 kernel: [359392.196693] RDX: fffffffe00000001 RSI: 0000000000000000 RDI: ffff8803c8aec828\nOct  6 14:11:43 icinga1 kernel: [359392.196694] RBP: ffff88033194fe98 R08: 0000563d7cc698e0 R09: 0000563d7c0cc880\nOct  6 14:11:43 icinga1 kernel: [359392.196695] R10: 0000000000000000 R11: 0000000000000246 R12: 0000000000005401\nOct  6 14:11:43 icinga1 kernel: [359392.196697] R13: 00007ffef42a03b0 R14: ffff8803d1d9c500 R15: 0000000000000000\nOct  6 14:11:43 icinga1 kernel: [359392.196699] FS:  00002b64e6d8f000(0000) GS:ffff88043fc40000(0000) knlGS:0000000000000000\nOct  6 14:11:43 icinga1 kernel: [359392.196700] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033\nOct  6 14:11:43 icinga1 kernel: [359392.196701] CR2: 0000000000000000 CR3: 00000000bac36000 CR4: 00000000000406e0\nOct  6 14:11:43 icinga1 kernel: [359392.196784] Stack:\nOct  6 14:11:43 icinga1 kernel: [359392.196786]  ffff8802bf401600 ffff88033194fe20 ffffffff812276f2 ffff8802bf401600\nOct  6 14:11:43 icinga1 kernel: [359392.196788]  ffff8802bf401658 ffff8802bf401600 ffff88033194fe58 ffffffff8122795e\nOct  6 14:11:43 icinga1 kernel: [359392.196790]  ffff880428845000 0000000000000008 ffff8802cc420cb0 ffff88042d5d2920\nOct  6 14:11:43 icinga1 kernel: [359392.196792] Call Trace:\nOct  6 14:11:43 icinga1 kernel: [359392.196800]  [&lt;ffffffff812276f2&gt;] ? __dentry_kill+0x162/0x1e0\nOct  6 14:11:43 icinga1 kernel: [359392.196802]  [&lt;ffffffff8122795e&gt;] ? dput+0x1ee/0x220\nOct  6 14:11:43 icinga1 kernel: [359392.196818]  [&lt;ffffffff81231224&gt;] ? mntput+0x24/0x40\nOct  6 14:11:43 icinga1 kernel: [359392.196822]  [&lt;ffffffff81211f00&gt;] ? __fput+0x190/0x220\nOct  6 14:11:43 icinga1 kernel: [359392.196824]  [&lt;ffffffff81223faf&gt;] do_vfs_ioctl+0x29f/0x490\nOct  6 14:11:43 icinga1 kernel: [359392.196826]  [&lt;ffffffff81211fce&gt;] ? ____fput+0xe/0x10\nOct  6 14:11:43 icinga1 kernel: [359392.196830]  [&lt;ffffffff8109f116&gt;] ? task_work_run+0x86/0xa0\nOct  6 14:11:43 icinga1 kernel: [359392.196832]  [&lt;ffffffff81224219&gt;] SyS_ioctl+0x79/0x90\nOct  6 14:11:43 icinga1 kernel: [359392.196836]  [&lt;ffffffff81843272&gt;] entry_SYSCALL_64_fastpath+0x16/0x71\nOct  6 14:11:43 icinga1 kernel: [359392.196838] Code: 18 48 8b 41 60 48 85 c0 74 16 4c 89 ea 44 89 e6 48 89 df ff d0 3d fd fd ff ff 0f 85 da fd ff ff 48 89 df e8 3e 74 00 00 49 89 c7 &lt;48&gt; 8b 00 4c 8b 40 48 48 c7 c0 ea ff ff ff 4d 85 c0 74 22 44 89 \nOct  6 14:11:43 icinga1 kernel: [359392.196859] RIP  [&lt;ffffffff814fa7c5&gt;] tty_ioctl+0x375/0xc40\nOct  6 14:11:43 icinga1 kernel: [359392.196861]  RSP &lt;ffff88033194fdf0&gt;\nOct  6 14:11:43 icinga1 kernel: [359392.196862] CR2: 0000000000000000\nOct  6 14:11:43 icinga1 kernel: [359392.196865] ---[ end trace 72b7f0a8e26ab854 ]---\n</code></pre>\n"}, {"tags": ["perl", "perl-io"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1507580226, "post_id": 46653817, "comment_id": 80257947, "body": "Please provide a minimal, runnable demonstration of the problem. (See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.)"}], "answers": [{"comments": [{"owner": {"reputation": 872, "user_id": 2826892, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/477460f653d800b374ce3451d6ddba49?s=128&d=identicon&r=PG&f=1", "display_name": "mikew", "link": "https://stackoverflow.com/users/2826892/mikew"}, "edited": false, "score": 0, "creation_date": 1507578796, "post_id": 46653916, "comment_id": 80257359, "body": "Thanks ikegami, i was coming to that realization while I typed up the question. Given I get the data via a LWP::UserAgent simple_request is there a way to preserve the data like say, reading the data from stdin would? If you saved contents of $data2 to a file, cat it to perl and read from stdin,  then all is well. double backslash will be escaped for you to be four backslashes..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 872, "user_id": 2826892, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/477460f653d800b374ce3451d6ddba49?s=128&d=identicon&r=PG&f=1", "display_name": "mikew", "link": "https://stackoverflow.com/users/2826892/mikew"}, "edited": false, "score": 0, "creation_date": 1507579415, "post_id": 46653916, "comment_id": 80257632, "body": "LWP::UserAgent does not perform any translations of the kind."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 1, "creation_date": 1507581774, "post_id": 46653916, "comment_id": 80258622, "body": "@callyalater, How ironic. Thanks."}, {"owner": {"reputation": 872, "user_id": 2826892, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/477460f653d800b374ce3451d6ddba49?s=128&d=identicon&r=PG&f=1", "display_name": "mikew", "link": "https://stackoverflow.com/users/2826892/mikew"}, "edited": false, "score": 0, "creation_date": 1507582819, "post_id": 46653916, "comment_id": 80259037, "body": "Thanks, looking at HTTP::Message::content, it does have four backslashes to represent two backslashes in the content. Otherwise, when you went to print it, it would have just printed one backslash. I edited the original question to include my silliness -- thanks"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1507653724, "last_edit_date": 1507653724, "creation_date": 1507578348, "answer_id": 46653916, "question_id": 46653817, "link": "https://stackoverflow.com/questions/46653817/determine-if-perl-scalar-originally-had-one-backslash-or-two/46653916#46653916", "title": "Determine if perl scalar originally had one backslash or two", "body": "<p>You seem to think <code>my $data1 = '=01=00=00=00=DF=FC=D3Y\\\\=03';</code> puts <code>'=01=00=00=00=DF=FC=D3Y\\\\=03'</code> in the scalar, but that's completely wrong.</p>\n\n<p>The string literal (i.e. the piece of code) <code>'=01=00=00=00=DF=FC=D3Y\\\\=03'</code> evaluates to the string <code>=01=00=00=00=DF=FC=D3Y\\=03</code>. The assignment places that string in the scalar.</p>\n\n<p>Similarly, the string literal <code>'=01=00=00=00=DF=FC=D3Y\\=03'</code> evaluates to the string <code>=01=00=00=00=DF=FC=D3Y\\=03</code>. The assignment places that string in the scalar.</p>\n\n<p>Similarly, <code>&lt;$fh&gt;</code> evaluates to the string <code>=01=00=00=00=DF=FC=D3Y\\=03</code> (when reading from a file containing <code>=01=00=00=00=DF=FC=D3Y\\=03</code>). The assignment places that string in the scalar.</p>\n\n<p>There's no way to tell which of these pieces of code produced the string.</p>\n\n<hr>\n\n<blockquote>\n  <p><em>So even though my inputs were different, perl considers them both the same data due to fact that \\\\ is a single backslash in a scalar and so is \\.</em></p>\n</blockquote>\n\n<p>That makes no sense. There are no inputs in your example, and Perl is not doing any \"considering\". You simply have two equivalent pieces of code.</p>\n\n<hr>\n\n<blockquote>\n  <p><em>Data flows from an HTTP service through LWP::UserAgent to some perl classes that eventually end up in my program. Is there a way to deal with this \\\\ vs \\ in my data after it gets to a scalar?</em></p>\n</blockquote>\n\n<p>LWP::UserAgent will provide what the server returned. It doesn't perform any transformation of the kind you are describing.</p>\n\n<p>Console 1:</p>\n\n<pre><code>$ nc -l 8888 &lt;&lt;'.'\nHTTP/1.1 200 OK\nContent-Type: text/plain\n\n=01=00=00=00=DF=FC=D3Y\\=03\n=01=00=00=00=DF=FC=D3Y\\\\=03\n.\n</code></pre>\n\n<p>Console 2:</p>\n\n<pre><code>$ perl -MLWP::UserAgent -e'print LWP::UserAgent-&gt;new-&gt;get(\"http://localhost:8888\")-&gt;content'\n=01=00=00=00=DF=FC=D3Y\\=03\n=01=00=00=00=DF=FC=D3Y\\\\=03\n</code></pre>\n"}], "owner": {"reputation": 872, "user_id": 2826892, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/477460f653d800b374ce3451d6ddba49?s=128&d=identicon&r=PG&f=1", "display_name": "mikew", "link": "https://stackoverflow.com/users/2826892/mikew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "accepted_answer_id": 46653916, "answer_count": 1, "score": 0, "last_activity_date": 1507653724, "creation_date": 1507577899, "last_edit_date": 1507582643, "question_id": 46653817, "link": "https://stackoverflow.com/questions/46653817/determine-if-perl-scalar-originally-had-one-backslash-or-two", "title": "Determine if perl scalar originally had one backslash or two", "body": "<p>I have data that I obtain from a network service. It is valid for data to have a \\\\ in it. Also it is valid for data to have a single \\ in it. Consider the following valid data inputs to my perl program. I'm not sure how I determine which data originally had a single \\ vs a double \\\\. </p>\n\n<pre><code>$ cat data.pl\nmy $data ='=01=00=00=00=DF=FC=D3Y\\=03';\nmy $data2='=01=00=00=00=DF=FC=D3Y\\\\=03';\nprint $data;\n</code></pre>\n\n<p>Notice the only difference in $data and $data2 in the above code is that $data2 has an extra backslash. Also I'm not trying to escape backslashes. The backslashes are just valid data in this data stream. Both are OK and happen in my data.</p>\n\n<p>Debugging session:</p>\n\n<pre><code>$ perl -d data.pl\n\nLoading DB routines from perl5db.pl version 1.37\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(data.pl:1):      my $data='=01=00=00=00=DF=FC=D3Y\\=03';\n  DB&lt;1&gt; n\nmain::(data.pl:2):      my $data2='=01=00=00=00=DF=FC=D3Y\\\\=03';\n  DB&lt;1&gt; x $data\n0  '=01=00=00=00=DF=FC=D3Y\\\\=03'\n  DB&lt;2&gt; p $data\n=01=00=00=00=DF=FC=D3Y\\=03\n  DB&lt;3&gt; l\n2==&gt;    my $data2='=01=00=00=00=DF=FC=D3Y\\\\=03';\n3:      print $data;\n  DB&lt;3&gt; n\nmain::(data.pl:3):      print $data;\n  DB&lt;3&gt; x $data2\n0  '=01=00=00=00=DF=FC=D3Y\\\\=03'\n  DB&lt;4&gt; p $data2\n=01=00=00=00=DF=FC=D3Y\\=03\n</code></pre>\n\n<p>So even though my inputs were different, perl considers them both the same data due to fact that \\\\ is a single backslash in a scalar and so is \\. After the assignment statement, it's over for me it seems. I've lost whether or not the data had \\\\ or \\.</p>\n\n<p>It seems the perlio layer at some level handles this by escaping backslashes before they make it to a scalar? I'm not sure where I properly escape \\ for data coming into my program.</p>\n\n<p>Data flows from an HTTP service through LWP::UserAgent to some perl classes that eventually end up in my program. Is there a way to deal with this \\\\ vs \\ in my data after it gets to a scalar?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>After further research and input from ikegami, I realize this question is now silly and I was getting confused at how the escaping of backslashes were happening in perl. Anything that accepts input escapes backslashes so that it can be properly represented inside perl. In my situation, I'm losing some backslashes along the data path that wasn't apparent to me.</p>\n\n<pre><code>$ perl -d data.pl\n\nLoading DB routines from perl5db.pl version 1.37\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(data.pl:5):      my $data='{ \"data\": \"=01=00=00=00=DF=FC=D3Y\\\\\\\\=03\" }';\n  DB&lt;1&gt; n\nmain::(data.pl:6):      my $decoded = decode_json($data);\n  DB&lt;2&gt; x $decoded\n0  HASH(0x175fcf8)\n   'data' =&gt; '=01=00=00=00=DF=FC=D3Y\\\\=03'\n</code></pre>\n\n<p>In my case, I'd have to re-escape backslashes going through json_decode.</p>\n\n<p>Given the original question is silly and we are now in the realm of very specifics, I'd close this question.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "hash", "reference", "dereference"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507576802, "post_id": 46652564, "comment_id": 80256357, "body": "You may like Data::Printer. If it&#39;s about inspecting data structures, it will be a lot easier to work with than Data::Dumper, which is for machine consumption."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1507583334, "post_id": 46652564, "comment_id": 80259231, "body": "You have made things very complicated for yourself. You have a remarkable number of references and dereferences, and you are misusing subroutine prototypes and defeating them by calling with <code>&amp;</code>. I can only imagine that this has been written as a &quot;find all the errors&quot; homework task. That would be fine, but please say so in your question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507583715, "post_id": 46652564, "comment_id": 80259379, "body": "@simbabque: I&#39;ve never understood the appeal of <code>Data::Printer</code>, can you explain? I&#39;ve always preferred the output of <code>Data::Dump</code> to that of <code>Data::Dumper</code>, but only because its default output is more concise. There is also the option of <code>JSON</code> and <code>YAML</code>, and I don&#39;t see why yet another unparseable format is better than any of those."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507584665, "post_id": 46652564, "comment_id": 80259695, "body": "@Borodin I like it because it sorts hash keys, shows everything neatly and concisely, knows about class internals, inheritance, lists methods, and it&#39;s in color! I learned &quot;debugging&quot; with Data::Dumper and used it for a long time. I just feel that for when I have to read it, <code>p</code> is nicer. Maybe it&#39;s a preference, I&#39;m not sure. But the other ones you mentioned are all for transferring data. DDP is for you reading it quickly, and only for that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507584989, "post_id": 46652564, "comment_id": 80259824, "body": "@simbabque: Ah, of course, I forgot the colour! But have you tried <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\"><code>Data::Dump</code></a>? It&#39;s called as <code>dd</code> and produces parseable Perl. (Hashes are sorted.) It&#39;s written by the wonderful <b>Gisle Aas</b> who authored <code>LWP</code>. I feel that Perl is as easy as anything to read, having worked with it all day long!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507585164, "post_id": 46652564, "comment_id": 80259892, "body": "@Borodin yes, I used to use it for maybe a year before I switched to DDP. I still use it in production code when I need to create diffable dumps of data structures, like database fixtures. It also sorts data, which is very useful for that. But I see it as a serializer more than a debugging aid."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507585372, "post_id": 46652564, "comment_id": 80259963, "body": "@simbabque: We&#39;ll have to differ! But I can&#39;t imagine using either <code>Data::Dump</code> or <code>Data::Dumper</code> for serialisation. Of course <b>Sinan</b> prefers to debug with YAML so we have the full set!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1507585527, "post_id": 46652564, "comment_id": 80260013, "body": "@Borodin as long as we don&#39;t need to put <code>&lt;pre&gt;</code> around it I&#39;m good with most if them. Whatever is available and gets the job done. :-)"}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507661429, "post_id": 46652564, "comment_id": 80296205, "body": "@Borodin I didn&#39;t come here to make someone do homework. That was not my intention. However, if that is what it looks like - kindly pardon me and I hope that I don&#39;t give that kind of impression next time. Speaking of &#39;&amp;&#39;, I have mixed information on the prototyping - some suggest its bad and some otherwise. Need to look into more deeply. Thank you for time and efforts."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507662205, "post_id": 46652564, "comment_id": 80296657, "body": "@User9102d82: Let me be clear. Asking for help with homework is fine, but it is important that you say so as it should generate a very different sort of answer. I&#39;m still unclear whether your problem is a homework question or not; I was simply saying that the extreme nature of the code made it look like a &quot;find all the errors&quot; problem. With regard to subroutine prototypes, you shouldn&#39;t use them as a matter of course. They have a very specific purpose, described in <b>chromatic&#39;s</b> excellent <a href=\"http://modernperlbooks.com/mt/2009/08/the-problem-with-prototypes.html\" rel=\"nofollow noreferrer\"><i>Modern Perl</i></a>"}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507666050, "post_id": 46652564, "comment_id": 80298534, "body": "@Borodin I appreciate your kind words to guide me to seek help and guidance the right way but some times that is how a problem can be like. They are problems because one is unaware of how is is suppose to work and is unable to gather further information to help oneself. Thus one may end up making wrong assumptions and I believe that it causes a problem to come to life in the first place.  It would have been more useful to me and to the whole SO community, had you elaborated on the &quot;extremeness&quot; nature of the code instead of   labelling it, given your extreme (111,344) point reputation - Sir."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507672925, "post_id": 46652564, "comment_id": 80301763, "body": "@User9102d82: I don&#39;t see what my reputation points have to do with this, and I don&#39;t see why you want me to go ahead and write an entirely inappropriate answer for a question about a homework assignment. It would be much more useful if you just <i>answered</i> my question in the first place. (Or does your low (447) point reputation prevent you from doing so?)"}], "answers": [{"comments": [{"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1507662644, "post_id": 46661175, "comment_id": 80296889, "body": "Hi, my reason for not using prototype, as I mentioned - I have read mixed information on that so I am still unclear and looking for better explanations.  I use the &amp; symbol so that I don&#39;t get the warning (when use warnings is in use) that sub has been called early."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1507665245, "post_id": 46661175, "comment_id": 80298107, "body": "Thanks. I accept your explanation as solution/answer."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1507699392, "post_id": 46661175, "comment_id": 80308614, "body": "@User9102d82: Ask any Perl expert if you should be using prototypes and you will get the answer &quot;no&quot;. There are a small number of good reasons to use them, but none of them are applicable to simple code like yours. Buy my point is that you are using them wrongly. You are declaring a subroutine with an empty prototype (which means &quot;this subroutine has no parameters&quot;) but you want to pass parameters to the subroutine. That&#39;s your biggest problem here."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1507699708, "post_id": 46661175, "comment_id": 80308737, "body": "@User9102d82: And you won&#39;t get an error about calling subroutine too early as long as you put parentheses on the call. A call like <code>sample(@refs)</code> will always work fine and looks more recognisable to non-Perl programmers than <code>&amp;sample(@refs)</code>. Also, putting the ampersand on the call <b>turns off prototype checking</b> which seems a silly thing to do if you&#39;re using prototypes."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1507621353, "creation_date": 1507621353, "answer_id": 46661175, "question_id": 46652564, "link": "https://stackoverflow.com/questions/46652564/why-is-my-hash-getting-flattened/46661175#46661175", "title": "Why is my hash getting flattened?", "body": "<p>There's nothing to fix. You have what you wanted. You have a hash in <code>%h</code> and an array in <code>@a</code>.</p>\n\n<p>But <code>Data::Dumper</code> takes a list of arguments and it treats each of its arguments as a separate variable to dump. So when you pass either a hash or an array to <code>Dumper()</code>, they will be unrolled into a list and you'll get them displayed as separate variables.</p>\n\n<p>If you want to see the structure of an array or a hash using <code>Dumper()</code>, you should pass in a reference to the data structure instead.</p>\n\n<pre><code>print Dumper \\%h;\nprint Dumper \\@a;\n</code></pre>\n\n<p>Of course, that's effectively what you're doing on your first call to <code>Dumper()</code>.</p>\n\n<pre><code>print Dumper @refs;\n</code></pre>\n\n<p>I should also point out that you have a couple of errors in your code that (fortunately?) cancel each other out. You define your subroutine <code>sample</code> with an empty prototype (<code>sample() { ... }</code>) which means that you will get a fatal error if you pass it any arguments. But when you call the subroutine, you use an <code>&amp;</code> (<code>&amp;sample(@refs)</code>) and one of the effects of that is to turn off prototype checking - so it works even though you pass arguments to the subroutine.</p>\n\n<p>Best to omit the prototype completely (<code>sub sample { ... }</code>) and call the subroutine without the ampersand (<code>sample(@refs))</code>).</p>\n"}], "owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 46661175, "answer_count": 1, "score": 0, "last_activity_date": 1507666954, "creation_date": 1507572658, "last_edit_date": 1507666954, "question_id": 46652564, "link": "https://stackoverflow.com/questions/46652564/why-is-my-hash-getting-flattened", "title": "Why is my hash getting flattened?", "body": "<p>I am passing an array of references by reference to a subroutine. When I try to deference it in a sub-routine, it gives a flattened hash. How can I fix this? I don't want to have a flat hash and I am unable determine the reason for this.</p>\n\n<p>I am sure that I am making a mistake somewhere but not able to spot it. Any comments/suggestions are totally welcome! Looking forward to hear from this wonderful community! Thanks in advance.</p>\n\n<p><strong><em>updated problem statement:</em></strong>\nBasically I am looking to pass a hash by reference to a sub-routine. And my issue is that when I accept it in the subroutine with a scalar variable, and then I try to de-reference it with % symbol, I still get a flat hash.</p>\n\n<p><strong><em>update:</em></strong> There was a confusion.As I was checking whether my hash is flat or not - I checked only with <code>print Dumper %hash</code> when I should actually have actually checked with <code>print Dumper \\%hash</code>. Lack of this piece of information caused this issue. </p>\n\n<p><strong>Script:</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict ;\nuse warnings ;\nuse Data::Dumper ;\n\nmy %h = (moe =&gt; \"joe\", toe =&gt; \"poe\") ;\nmy @a = (1,2,3,4) ;\n\nmy @refs = \\(%h,@a) ;\n\nsub sample()\n{\n  my $ref = shift ;\n  my @refs = @{$ref} ;\n  print \"What I got in the sub! Seems OK!!\\n\" ;\n  print Dumper @refs, \"\\n\" ;\n\n  my %h = %{$refs[0]} ;\n  my @a = @{$refs[1]} ;\n\n  print \"I am not able to dereference this :(. Please help!! Hash is flat :(\\n\" ;\n  print Dumper %h ;\n  print Dumper @a ;\n}\n\n&amp;sample(\\@refs) ;\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>23:34:17[Host@User]$ ./test.pl \nWhat I got in the sub! Seems OK!!\n$VAR1 = {\n          'moe' =&gt; 'joe',\n          'toe' =&gt; 'poe'\n        };\n$VAR2 = [\n          1,\n          2,\n          3,\n          4\n        ];\n$VAR3 = '\n';\nI am not able to dereference this :(. Please help!! Hash is flat :(\n$VAR1 = 'moe';\n$VAR2 = 'joe';\n$VAR3 = 'toe';\n$VAR4 = 'poe';\n$VAR1 = 1;\n$VAR2 = 2;\n$VAR3 = 3;\n$VAR4 = 4;\n</code></pre>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507562473, "post_id": 46649384, "comment_id": 80248688, "body": "Why does this have Perl and sed tags if you want an awk solution?"}, {"owner": {"reputation": 303, "user_id": 8656442, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af5e32a9e31a7854551204852d084013?s=128&d=identicon&r=PG&f=1", "display_name": "Corend", "link": "https://stackoverflow.com/users/8656442/corend"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507564827, "post_id": 46649384, "comment_id": 80250132, "body": "Sorry, I changed the question, I wanted awk perl or sed."}], "answers": [{"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 1, "last_activity_date": 1507561047, "creation_date": 1507561047, "answer_id": 46649429, "question_id": 46649384, "link": "https://stackoverflow.com/questions/46649384/how-to-remove-the-two-last-characters-of-a-column-in-a-tsv-file-using-awk-perl/46649429#46649429", "title": "How to remove the two last characters of a column in a TSV file using awk, perl or sed?", "body": "<pre><code>sed 's/\\..//' file\n</code></pre>\n\n<p>................</p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1507909067, "creation_date": 1507909067, "answer_id": 46733447, "question_id": 46649384, "link": "https://stackoverflow.com/questions/46649384/how-to-remove-the-two-last-characters-of-a-column-in-a-tsv-file-using-awk-perl/46733447#46733447", "title": "How to remove the two last characters of a column in a TSV file using awk, perl or sed?", "body": "<p>\ud83e\udd67 using Perl Pie:</p>\n\n<pre><code>perl -pi -e 's/\\..//' file\n</code></pre>\n\n<p>... for competeness ;-)</p>\n"}, {"tags": [], "owner": {"reputation": 1371, "user_id": 5056806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa01ad122fc89b571651ffbbc34ce37?s=128&d=identicon&r=PG&f=1", "display_name": "Claes Wikner", "link": "https://stackoverflow.com/users/5056806/claes-wikner"}, "is_accepted": false, "score": 0, "last_activity_date": 1507910095, "creation_date": 1507910095, "answer_id": 46733738, "question_id": 46649384, "link": "https://stackoverflow.com/questions/46649384/how-to-remove-the-two-last-characters-of-a-column-in-a-tsv-file-using-awk-perl/46733738#46733738", "title": "How to remove the two last characters of a column in a TSV file using awk, perl or sed?", "body": "<pre><code>awk 'NR&gt;1{sub(/..$/,\"\",$1)}1' OFS=\"\\t\" file\n\ntarget_id       length  eff_length      est_counts      tpm\nENSORLT00000000001  1614    1663.8  266 2.69411\nENSORLT00000000002  1641    1724.36 62.1756 0.607613\nENSORLT00000000003  1389    1363.82 68.8244 0.850394\nENSORLT00000000004  537 484.396 2   0.0695767\nENSORLT00000000005  520 374.865 0   0\nENSORLT00000000007  1809    2083.96 699 5.65227\nENSORLT00000000008  1098    1099.36 423.548 6.49226\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 8656442, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af5e32a9e31a7854551204852d084013?s=128&d=identicon&r=PG&f=1", "display_name": "Corend", "link": "https://stackoverflow.com/users/8656442/corend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 46649429, "answer_count": 3, "score": 2, "last_activity_date": 1509618160, "creation_date": 1507560923, "last_edit_date": 1509618160, "question_id": 46649384, "link": "https://stackoverflow.com/questions/46649384/how-to-remove-the-two-last-characters-of-a-column-in-a-tsv-file-using-awk-perl", "title": "How to remove the two last characters of a column in a TSV file using awk, perl or sed?", "body": "<p>I would like to go from file A to file B using <code>awk</code> , <code>sed</code> or <code>perl</code> :</p>\n\n<p>File A (tab separated) :</p>\n\n<pre><code>target_id       length  eff_length      est_counts      tpm\nENSORLT00000000001.1    1614    1663.8  266     2.69411\nENSORLT00000000002.8    1641    1724.36 62.1756 0.607613\nENSORLT00000000003.1    1389    1363.82 68.8244 0.850394\nENSORLT00000000004.3    537     484.396 2       0.0695767\nENSORLT00000000005.2    520     374.865 0       0\nENSORLT00000000007.1    1809    2083.96 699     5.65227\nENSORLT00000000008.4    1098    1099.36 423.548 6.49226\n</code></pre>\n\n<p>File B (tab separated) :</p>\n\n<pre><code>target_id       length  eff_length      est_counts      tpm\nENSORLT00000000001      1614    1663.8  266     2.69411\nENSORLT00000000002      1641    1724.36 62.1756 0.607613\nENSORLT00000000003      1389    1363.82 68.8244 0.850394\nENSORLT00000000004      537     484.396 2       0.0695767\nENSORLT00000000005      520     374.865 0       0\nENSORLT00000000007      1809    2083.96 699     5.65227\nENSORLT00000000008      1098    1099.36 423.548 6.49226\n</code></pre>\n\n<p>Each id in the first column has the same number of characters (except the column header).</p>\n\n<p>I tried with <code>sed 's/ENSORLT*.*\\..\\t/ENSORLT*/g' FileA &gt; FileB</code> but I think there is a problem with the <code>*</code>.</p>\n"}, {"tags": ["perl", "template-toolkit", "dancer"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 6, "last_activity_date": 1507550041, "creation_date": 1507550041, "answer_id": 46645835, "question_id": 46644866, "link": "https://stackoverflow.com/questions/46644866/how-do-i-configure-dancer2-and-template-toolkit-to-use-a-different-stash-module/46645835#46645835", "title": "How do I configure Dancer2 and Template Toolkit to use a different Stash module", "body": "<p>You can obviously not write Perl code that creates a new object in your configuration file. Instead, I would subclass the Dancer2::Template::TemplateToolkit class, make the modifications there and then use that instead.</p>\n\n<p>If you look at the code or <a href=\"https://metacpan.org/source/CROMEDOME/Dancer2-0.205001/lib/Dancer2/Template/TemplateToolkit.pm#L16\" rel=\"noreferrer\">D2::T::TT</a> you can see that it creates and returns the <code>$tt</code> object in the method <code>_build_engine</code>. If you wrap this in an <code>around</code> in your subclass, you can grab it and make the changes.</p>\n\n<pre><code>package Dancer2::Template::TemplateToolkit::AutoEscaping;\n\nuse Moo;\nuse Template::Stash::AutoEscaping;\n\nextends 'Dancer2::Template::TemplateToolkit';\n\naround '_build_engine' =&gt; sub {\n    my $orig = shift;\n    my $self = shift;\n\n    my $tt = $self-&gt;$orig(@_);\n\n    # replace the stash object\n    $tt-&gt;service-&gt;context-&gt;{STASH} = Template::Stash::AutoEscaping-&gt;new;\n\n    return $tt;\n};\n\n1;\n</code></pre>\n\n<p>This is a bit of an ugly hack and rummaging in the internals of a class is never a good idea, but then <a href=\"https://metacpan.org/pod/Template::Context\" rel=\"noreferrer\">Template::Context</a> does not provide a way to change the <code>stash</code> object. The <code>-&gt;stash</code> method is only a reader and it can only be set at runtime.</p>\n\n<p>You can then use your new subclass in your config file instead of <code>template_toolkit</code>.</p>\n\n<pre><code>engines:\n  template:\n    TemplateToolkit::AutoEscaping:\n      start_tag: '&lt;%'\n      end_tag:   '%&gt;'\n</code></pre>\n\n<p>Note that this will make you loose any configuration you might have added for the <code>STASH</code> in your config file. You'd have to explicitly grab the config in your wrapper, filter out the <code>STASH</code> if there is one and pass it along to the new <code>new</code>. I will leave that as an exercise for the reader.</p>\n"}], "owner": {"reputation": 6394, "user_id": 1612, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/259814d4507d09b600fc132e352fbcc2?s=128&d=identicon&r=PG", "display_name": "Cebjyre", "link": "https://stackoverflow.com/users/1612/cebjyre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1507550041, "creation_date": 1507546798, "question_id": 46644866, "link": "https://stackoverflow.com/questions/46644866/how-do-i-configure-dancer2-and-template-toolkit-to-use-a-different-stash-module", "title": "How do I configure Dancer2 and Template Toolkit to use a different Stash module", "body": "<p>How would I modify the default configuration of Template Toolkit in a Dancer2 site to make use of <a href=\"https://metacpan.org/pod/Template::Stash::AutoEscaping\" rel=\"noreferrer\">Template::Stash::AutoEscaping</a>?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507544732, "post_id": 46643860, "comment_id": 80237392, "body": "Are you talking about a Perl program or the PCRE Perl regex engine?"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1507561175, "post_id": 46643860, "comment_id": 80247948, "body": "To match whole words, use <code>\\b</code> for word boundaries. Example: <code>&#47;\\btest\\b&#47;</code> will match &quot;test&quot; but not &quot;testword&quot; or &quot;wordtest&quot; or &quot;wordtestword&quot;. Word boundaries may occur at the beginning and end of lines."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507580380, "post_id": 46643860, "comment_id": 80258015, "body": "@simbabque, There&#39;s no such thing as a &quot;PCRE Perl regex engine&quot;. I think you meant &quot;PCRE regex engine&quot;."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507580558, "post_id": 46643860, "comment_id": 80258087, "body": "@ikegami I did. Not sure where that extra word came from."}, {"owner": {"reputation": 195, "user_id": 1590769, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/661ca7e2b4aa1a3c07b502ed2e5f8408?s=128&d=identicon&r=PG", "display_name": "Gerit", "link": "https://stackoverflow.com/users/1590769/gerit"}, "edited": false, "score": 0, "creation_date": 1507617110, "post_id": 46643860, "comment_id": 80268420, "body": "I use regex in SAS. I only know that it seems to be based on Perl, but the details are out of my reach."}, {"owner": {"reputation": 195, "user_id": 1590769, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/661ca7e2b4aa1a3c07b502ed2e5f8408?s=128&d=identicon&r=PG", "display_name": "Gerit", "link": "https://stackoverflow.com/users/1590769/gerit"}, "edited": false, "score": 0, "creation_date": 1507639040, "post_id": 46643860, "comment_id": 80282211, "body": "I just edited the question by adding real life words and a link."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507544820, "post_id": 46643983, "comment_id": 80237452, "body": "I am not sure if this is a comment or an attempt to answer. If it&#39;s an answer, please <a href=\"https://stackoverflow.com/posts/46643983/edit\">edit</a> and make it more clear. You might also want to include a permalink to regexr where you have set up the pattern already for convenience."}, {"owner": {"reputation": 1164, "user_id": 3157899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5f590cb295c3083b8a119f61aa73c201?s=128&d=identicon&r=PG", "display_name": "Naxos84", "link": "https://stackoverflow.com/users/3157899/naxos84"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507546913, "post_id": 46643983, "comment_id": 80238669, "body": "@simbabque I tried to make it more clear. apperently I cannot share a link with the content that is shown in the picture."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507547026, "post_id": 46643983, "comment_id": 80238735, "body": "There&#39;s a <i>share</i> link at the top right in the blue bar. Doesn&#39;t that do it?"}, {"owner": {"reputation": 1164, "user_id": 3157899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5f590cb295c3083b8a119f61aa73c201?s=128&d=identicon&r=PG", "display_name": "Naxos84", "link": "https://stackoverflow.com/users/3157899/naxos84"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507547110, "post_id": 46643983, "comment_id": 80238775, "body": "@simbabque I found a way to share a perma link."}, {"owner": {"reputation": 195, "user_id": 1590769, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/661ca7e2b4aa1a3c07b502ed2e5f8408?s=128&d=identicon&r=PG", "display_name": "Gerit", "link": "https://stackoverflow.com/users/1590769/gerit"}, "edited": false, "score": 0, "creation_date": 1507548014, "post_id": 46643983, "comment_id": 80239325, "body": "Thank you. However, how can I also find derivatives of <code>test</code> (such as <code>tes</code>), such as the first in line 4. If I now write <code>tes[^w]</code>it will not find <code>test</code>. If I write <code>tes.?[^w]</code>it will find everything."}, {"owner": {"reputation": 1164, "user_id": 3157899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5f590cb295c3083b8a119f61aa73c201?s=128&d=identicon&r=PG", "display_name": "Naxos84", "link": "https://stackoverflow.com/users/3157899/naxos84"}, "edited": false, "score": 0, "creation_date": 1507548301, "post_id": 46643983, "comment_id": 80239509, "body": "use &quot;\\w&quot; instead of just &quot;w&quot; cause &quot;\\w&quot; is the character class for &quot;word&quot; and &quot;w&quot; is just the letter. I also extended my answer."}], "tags": [], "owner": {"reputation": 1164, "user_id": 3157899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5f590cb295c3083b8a119f61aa73c201?s=128&d=identicon&r=PG", "display_name": "Naxos84", "link": "https://stackoverflow.com/users/3157899/naxos84"}, "is_accepted": false, "score": 0, "last_activity_date": 1507548420, "last_edit_date": 1507548420, "creation_date": 1507543921, "answer_id": 46643983, "question_id": 46643860, "link": "https://stackoverflow.com/questions/46643860/regex-skip-over-expressions-and-parse-the-rest/46643983#46643983", "title": "regex - skip over expressions and parse the rest", "body": "<p>To find all the matches you want: any occurence of \"test\" and \"sometexttobefound\" and \"othertexttobefound you can try the following regex:</p>\n\n<pre><code>test[^\\w]|sometexttobefound|othertexttobefound\n</code></pre>\n\n<p>This regex means:<br>\nFind every \"test\" that is <strong>not</strong> followed by a word OR sometexttobefound OR othertexttobefound</p>\n\n<p>I tried this regex with the follow text (I added a few 'test's)</p>\n\n<pre><code>testword test \ntest testword\ntes.w. testtes.\ntes tes.w. test\ntes.w othertexttobefound\nsometexttobefound testword somemoretextwhichdoesnotmatter\n</code></pre>\n\n<p>at <a href=\"https://regexr.com/3gtvi\" rel=\"nofollow noreferrer\">regexr</a> (when using the global flag) </p>\n\n<p>If you also want to find things like \"tes\" I guess you should add it. (I'm not a regex expert)\nLike:</p>\n\n<pre><code>test[^\\w]|tes[^\\w]|sometexttobefound|othertexttobefound\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 1590769, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/661ca7e2b4aa1a3c07b502ed2e5f8408?s=128&d=identicon&r=PG", "display_name": "Gerit", "link": "https://stackoverflow.com/users/1590769/gerit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1507638940, "creation_date": 1507543549, "last_edit_date": 1507638940, "question_id": 46643860, "link": "https://stackoverflow.com/questions/46643860/regex-skip-over-expressions-and-parse-the-rest", "title": "regex - skip over expressions and parse the rest", "body": "<p>I use regular expressions for sorting data into groups. The lines look somewhat like</p>\n\n<pre><code>    testword test \n    test testword\n    tes.w. tes.\n    tes tes.w.\n    tes.w othertexttobefound\n    sometexttobefound testword somemoretextwhichdoesnotmatter\n</code></pre>\n\n<p>The word <code>test</code> is to be found as well as <code>othertexttobefound</code> and <code>sometexttobefound</code>.</p>\n\n<p>Now I am trying to tell my parser that it is supposed to plainly ignore <code>testword</code> and its derivatives while searching and focus on the rest of my data entries. The \"good words\" and the \"bad words\" can be anywhere in each line.</p>\n\n<p>I have tried <code>[^w]</code> which is fine for the beginning of strings, but in my versions not for the other cases. Also <code>(?:w)</code> didn't do the trick. I cannot use lookarounds as these would keep the whole line from being detected.</p>\n\n<p>After long searches on the internet I am hoping for help here!</p>\n\n<p>Thank you in advance!</p>\n\n<p>Gerit</p>\n\n<p>After much appreciated help from Naxos84 I am adding some German real life examples:</p>\n\n<pre><code>sozialabgabe sozialarbeiter\nsoz.abg. sozialarbeiter\nsozarbeiter soz.abg.\nsozialarbeiter otherirrelevantstuff\notherirrelevantstuff soz abg\notherirrelevantstuff sozabg\notherirrelevantstuff sozialabgabe\n</code></pre>\n\n<p>If I search with </p>\n\n<pre><code>sozial[\"^\\ab\"]|soz[\"^\\ab\"]|sometexttobefound|othertexttobefound\n</code></pre>\n\n<p>lines 6 and 7 get marked as well, but I don't want those.</p>\n\n<p>What am I doing wrong?\nThank you for further pointers.</p>\n\n<p>A link:\n<a href=\"http://regexr.com/3gu9a\" rel=\"nofollow noreferrer\">regexr</a></p>\n"}, {"tags": ["perl", "awk", "sed", "command-line-interface"], "comments": [{"owner": {"reputation": 6034, "user_id": 4013, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c85d1e6f24196d72d95c07aea936f778?s=128&d=identicon&r=PG", "display_name": "Alexander Morland", "link": "https://stackoverflow.com/users/4013/alexander-morland"}, "edited": false, "score": 0, "creation_date": 1507543590, "post_id": 46643803, "comment_id": 80236724, "body": "Trying with perl:  perl -pe &quot;s/\\njson :/json/g&quot;  it does not get matches"}, {"owner": {"reputation": 587, "user_id": 1640372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c6b1d282f349108609328eaae102bfb?s=128&d=identicon&r=PG", "display_name": "Jacek Sokolowski", "link": "https://stackoverflow.com/users/1640372/jacek-sokolowski"}, "edited": false, "score": 0, "creation_date": 1507543814, "post_id": 46643803, "comment_id": 80236847, "body": "If the pattern is: empty line, then json, space and colon, then I would do it with this sed rule: <code>s&#47;^$\\njson :&#47;json&#47;g</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507544162, "post_id": 46643803, "comment_id": 80237066, "body": "<code>perl -p</code> reads the file line by line. That cannot unless you change the input record separator because your pattern spans multiple <i>lines</i> when a line is ended by <code>\\n</code>."}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1507547987, "post_id": 46643803, "comment_id": 80239312, "body": "backticks will cause issue only inside double quotes which you don&#39;t need here... and there again you&#39;d need to do multiline processing or slurp entire file (assuming no null characters in input) like <code>sed -z &#39;s&#47;```\\njson :&#47;```json&#47;g&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1507547769, "post_id": 46644094, "comment_id": 80239182, "body": "@Sundeep thanks. Just <code>-0</code> without argument makes it <code>\\0</code>, which is enough. But the convention from perlrun might make more sense."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1507562828, "last_edit_date": 1507562828, "creation_date": 1507544288, "answer_id": 46644094, "question_id": 46643803, "link": "https://stackoverflow.com/questions/46643803/cli-command-to-remove-specific-newlines/46644094#46644094", "title": "Cli command to remove specific newlines", "body": "\n\n<p>To make your Perl program work, you need to change the <a href=\"http://perldoc.perl.org/perlvar.html#%24INPUT_RECORD_SEPARATOR\" rel=\"nofollow noreferrer\">input record separator <code>$/</code></a>. A simple <code>BEGIN</code> block will do to <code>undef</code> it before the program runs its <code>while</code> loop.</p>\n\n<p><em>foo</em> is your input file.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -pe 'BEGIN{undef $/} s/\\njson :/json/g' foo\n```json\n{\n  \"something\": \"here\"\n}\n</code></pre>\n\n<p>Perl will now slurp in the whole file at once, which should be fine for a markdown document. If you want to process files of several GBs of size, get more RAM though.</p>\n\n<p>Note that you need <code>-i</code> as well to do in-place editing.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -pi -e '...' *\n</code></pre>\n\n<p>A much shorter version is to use the <code>-0</code> flag instead of the <code>BEGIN</code> block to tell Perl about the input record separator. <a href=\"http://perldoc.perl.org/perlrun.html#*-0*%5B_octal%2Fhexadecimal_%5D\" rel=\"nofollow noreferrer\">perlrun</a> says this:</p>\n\n<blockquote>\n  <p>The special value 00 will cause Perl to slurp files in paragraph\n           mode. Any value 0400 or above will cause Perl to slurp files whole,\n           but by convention the value 0777 is the one normally used for this\n           purpose.</p>\n</blockquote>\n\n<hr>\n\n<p>You could have detected this yourself by running your program with the <a href=\"https://metacpan.org/pod/re#&#39;debug&#39;-mode\" rel=\"nofollow noreferrer\"><code>re 'debug'</code> pragma</a>, which turns on debugging mode for regex. It would have told you.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -Mre=debug -pe 's/\\njson :/json/g' foo\nCompiling REx \"\\njson :\"\nFinal program:\n   1: EXACT &lt;\\njson :&gt; (4)\n   4: END (0)\nanchored \"%njson :\" at 0 (checking anchored isall) minlen 7 \nMatching REx \"\\njson :\" against \"```%n\"\nRegex match can't succeed, so not even tried\n```\nMatching REx \"\\njson :\" against \"json :%n\"\nIntuit: trying to determine minimum start position...\n  Did not find anchored substr \"%njson :\"...\nMatch rejected by optimizer\njson :\nMatching REx \"\\njson :\" against \"{%n\"\nRegex match can't succeed, so not even tried\n{\nMatching REx \"\\njson :\" against \"  %\"something%\": %\"here%\"%n\"\nIntuit: trying to determine minimum start position...\n  Did not find anchored substr \"%njson :\"...\nMatch rejected by optimizer\n  \"something\": \"here\"\nMatching REx \"\\njson :\" against \"}%n\"\nRegex match can't succeed, so not even tried\n}\nMatching REx \"\\njson :\" against \"```%n\"\nRegex match can't succeed, so not even tried\n```\nMatching REx \"\\njson :\" against \"%n\"\nRegex match can't succeed, so not even tried\n\nFreeing REx: \"\\njson :\"\n</code></pre>\n\n<p>The giveaway is this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Matching REx \"\\njson :\" against \"```%n\"\nRegex match can't succeed, so not even tried\n</code></pre>\n"}], "owner": {"reputation": 6034, "user_id": 4013, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c85d1e6f24196d72d95c07aea936f778?s=128&d=identicon&r=PG", "display_name": "Alexander Morland", "link": "https://stackoverflow.com/users/4013/alexander-morland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 46644094, "answer_count": 1, "score": 1, "last_activity_date": 1507562828, "creation_date": 1507543421, "last_edit_date": 1507543998, "question_id": 46643803, "link": "https://stackoverflow.com/questions/46643803/cli-command-to-remove-specific-newlines", "title": "Cli command to remove specific newlines", "body": "<p>Given a markdown file that contains a bunch of these blocks:</p>\n\n<pre><code>```\njson :\n{\n  \"something\": \"here\"\n}\n```\n</code></pre>\n\n<p>And I want to fix all of these to become valid markdown, i.e.:</p>\n\n<pre><code>```json\n{\n  \"something\": \"here\"\n}\n```\n</code></pre>\n\n<p>How can I do that effectively across any number of files?</p>\n\n<p>I have Googled around a bit and found similar issues, but been unable to convert their solutions to my specific need. It seems that SED is not great at multiple line matching and the inclusion of the ` character is obviously also causing issues.</p>\n\n<p>I've tried with</p>\n\n<pre><code>perl -pe \"s/\\njson :/json/g\"\n</code></pre>\n\n<p>but that did not give any matches.</p>\n"}, {"tags": ["html", "perl", "if-statement"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507543242, "post_id": 46643428, "comment_id": 80236489, "body": "You might want to <a href=\"https://www.youtube.com/watch?v=jKOqtRMT85s\" rel=\"nofollow noreferrer\">watch this talk</a>."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507543176, "post_id": 46643710, "comment_id": 80236435, "body": "This hurts my eyes. :D"}, {"owner": {"reputation": 21, "user_id": 8646589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7bd42c2f220d9b14bc4770b19a45c4d?s=128&d=identicon&r=PG&f=1", "display_name": "raita", "link": "https://stackoverflow.com/users/8646589/raita"}, "edited": false, "score": 0, "creation_date": 1507544056, "post_id": 46643710, "comment_id": 80236998, "body": "I have a large HTML as a string and say one button has to be shown based on the decision.  The remaining has to be same. How can I add a perl string in between an HTML.  Looks something like this:  &lt;body ..&gt; . . . &lt;td&gt; &lt;a href =&gt; ..... &lt;/td&gt; . . &lt;/html&gt;"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 21, "user_id": 8646589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7bd42c2f220d9b14bc4770b19a45c4d?s=128&d=identicon&r=PG&f=1", "display_name": "raita", "link": "https://stackoverflow.com/users/8646589/raita"}, "edited": false, "score": 0, "creation_date": 1507544088, "post_id": 46643710, "comment_id": 80237019, "body": "@raita \u2014 I gave an example in the answer."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 3, "last_activity_date": 1507543150, "creation_date": 1507543150, "answer_id": 46643710, "question_id": 46643428, "link": "https://stackoverflow.com/questions/46643428/display-html-content-based-on-a-condition/46643710#46643710", "title": "Display HTML Content based on a condition", "body": "<p>You can put different things in a string based on an <code>if</code> statement quite easily.</p>\n\n<pre><code>my $thing_to_insert = \"\";\nif (condition()) {\n    $thing_to_insert = '&lt;div&gt;...&lt;/div&gt;';\n} else {\n    $thing_to_insert = '&lt;p&gt;...&lt;/p&gt;';\n}\nmy $html = \"&lt;div&gt;$thing_to_insert&lt;/div&gt;\";\nreturn $html;\n</code></pre>\n\n<p>Use a template language (such as Template Toolkit or Text::Xslate) would usually be a better bet though.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1507544630, "creation_date": 1507544630, "answer_id": 46644194, "question_id": 46643428, "link": "https://stackoverflow.com/questions/46643428/display-html-content-based-on-a-condition/46644194#46644194", "title": "Display HTML Content based on a condition", "body": "<p>You need to make the decision about what to show as you are constructing the HTML string.</p>\n\n<p>In basic terms, your code would look like this:</p>\n\n<pre><code>my $html = '&lt;html&gt;&lt;head&gt;... [lots of HTML]';\n\nif ($we_want_to_show_the_button) {\n  $html .= '&lt;button&gt; ... [button html] ... &lt;/button&gt;';\n}\n\n$html .= '[lots more HTML] ... &lt;/body&gt;&lt;/html&gt;';\n</code></pre>\n\n<p>I should note, however, that we've known for twenty years that generating HTML by concatenating strings inside your Perl code is a terrible idea. A much better approach is to put all of your HTML into a template - along with some logic about displaying various bits if various conditions are true.</p>\n\n<p>If you're using the Template Tooikit, that might look something like this:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;...&lt;/head&gt;\n  &lt;body&gt;\n    ... lots of HTML omitted ...\n[% IF we_want_to_show_the_button -%]\n    &lt;button&gt; ... &lt;/button&gt;\n[% END -%]\n   ... lots more HTML ...\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8646589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7bd42c2f220d9b14bc4770b19a45c4d?s=128&d=identicon&r=PG&f=1", "display_name": "raita", "link": "https://stackoverflow.com/users/8646589/raita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1015, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507544630, "creation_date": 1507542326, "question_id": 46643428, "link": "https://stackoverflow.com/questions/46643428/display-html-content-based-on-a-condition", "title": "Display HTML Content based on a condition", "body": "<p>In the application we are developing HTML content is written in a perl string which is later returned. There is a usecase where we'd need to show a certain part of the HTML based on the result of a condition.\nSince, HTML is only markup, my understanding it's not possible.\nIs there a way around this using Perl or something else?(Apart from creating 2 different templates)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "die", "overriding", "carp"], "answers": [{"comments": [{"owner": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 1, "creation_date": 1507542686, "post_id": 46643466, "comment_id": 80236141, "body": "Thanks since i am setting env{PERL5OPT}= &quot;-MMyLoggingModule&quot; i should work. I have one more question can i call the actual croak inside my overriden croak?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 1, "creation_date": 1507542761, "post_id": 46643466, "comment_id": 80236183, "body": "@DineshGowda I thought I addressed that. Looks like I didn&#39;t. You need to save the original one, e.g. into a variable. I&#39;ll edit."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1507542897, "last_edit_date": 1507542897, "creation_date": 1507542448, "answer_id": 46643466, "question_id": 46643191, "link": "https://stackoverflow.com/questions/46643191/overriding-croak-cluck-confess-carp-from-carp-module-in-perl/46643466#46643466", "title": "Overriding croak cluck confess carp from carp module in Perl", "body": "<p>The functions provided by Carp are just regular functions that get imported into your packages via Exporter when the module is <code>use</code>d. The trick is to overwrite them as early as possible <em>inside of the <code>Carp</code> namespace</em>, before anyone can import them. Then when they do, they'll get the overwritten ones.</p>\n\n<p>In your  script, or at the very top of your own logging module:</p>\n\n<pre><code>BEGIN {\n    require Carp;\n\n    # save original croak (will create closure ...)\n    my $original_croak = \\&amp;Carp::croak;\n\n    no warnings 'redefine';\n    *Carp::croak = sub { \n        print \"Croaking...\\n\"\n          or $original_croak-&gt;(\"cannot fake croak\"); # (... here)\n    };\n}\n</code></pre>\n\n<p>You need to load Carp once so Perl has the code parsed and the functions installed in the <code>Carp</code> namespace. Then you can overwrite them.</p>\n\n<p>Later, in some other module in your code:</p>\n\n<pre><code>use Carp 'croak';\n\ncroak 'foo';\n</code></pre>\n\n<p>This will now produce the output we set above.</p>\n\n<p>If you want to call the original <code>Carp::croak</code> inside your new one, save it to a coderef and keep it around as shown in the above example.</p>\n\n<p>Note that this only works if the substitution happens really early. If you put this in your own logging module, and it gets loaded after Carp has been loaded, this will fail.</p>\n\n<pre><code>package Foo;\nuse Carp;\nuse Your::Logging::Framework;\n\ncroak 'foo';\n</code></pre>\n\n<p>Will not work, because at the point where you overwrite <code>Carp::croak</code>, <code>Foo::croak</code> is already a copy of the original <code>Carp::croak</code>.</p>\n\n<p>If you wanted to make that work, you could always import your own <code>carp</code>, <code>croak</code> and so on to the caller explicitly as well. That will throw a bunch of warnings or complain under <code>strict</code>, but it should work.</p>\n"}], "owner": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 46643466, "answer_count": 1, "score": 2, "last_activity_date": 1507551453, "creation_date": 1507541657, "last_edit_date": 1507551453, "question_id": 46643191, "link": "https://stackoverflow.com/questions/46643191/overriding-croak-cluck-confess-carp-from-carp-module-in-perl", "title": "Overriding croak cluck confess carp from carp module in Perl", "body": "<p>I know how to override in built functions in <code>perl</code> and I have overridden <code>die</code> <code>warn</code> <code>say</code> and since <code>print</code> and <code>printf</code> can't be overridden I have tied it to a handle for my logging framework.</p>\n\n<p><strong>Example of overriding <code>warn</code>:</strong></p>\n\n<pre><code>BEGIN{ *CORE::GLOBAL::warn = sub {\n                my ($package, $filename, $line, $subroutine) = caller;\n                untie *STDERR;\n                my $message;\n                foreach my $arg (@_) {\n                        $message = $message.$arg;\n                }\n                print STDERR $message;\n                tie *STDERR, __PACKAGE__, (*STDERR);\n                logmessage(\"warn\",$message,$filename, $line);\n                return;\n        }\n}\n</code></pre>\n\n<p>Now is there way I can override <code>croak cluck confess carp</code> from <code>carp</code> module in <code>Perl</code>?</p>\n"}, {"tags": ["javascript", "perl", "browser", "html5-video", "bloburls"], "comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1507516873, "post_id": 46638009, "comment_id": 80225426, "body": "Where is <code>Blob URL</code> created? Is requirement to save file to local filesystem or server?"}, {"owner": {"reputation": 63, "user_id": 8743332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a73688fadfa164a75c527e5e83cbef1d?s=128&d=identicon&r=PG&f=1", "display_name": "Ambr", "link": "https://stackoverflow.com/users/8743332/ambr"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1507517149, "post_id": 46638009, "comment_id": 80225479, "body": "On the server. the blobURL has server path, however it is only in the browser memory. blobURL is being created by the browser. It is a browser object."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1507517197, "post_id": 46638009, "comment_id": 80225489, "body": "<code>POST</code> the <code>data URI</code>, <code>Blob</code> or <code>File</code> representation of file to server, see <a href=\"https://stackoverflow.com/questions/46557180/how-to-decode-and-upload-gif-via-ajax-and-php/46557251#46557251\" title=\"how to decode and upload gif via ajax and php\">stackoverflow.com/questions/46557180/&hellip;</a>"}, {"owner": {"reputation": 63, "user_id": 8743332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a73688fadfa164a75c527e5e83cbef1d?s=128&d=identicon&r=PG&f=1", "display_name": "Ambr", "link": "https://stackoverflow.com/users/8743332/ambr"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1507519748, "post_id": 46638009, "comment_id": 80225987, "body": "I am able to POST the blobURL to the server. Perl CGI variable $cgi-&gt;{&#39;blobURL&#39;} in my back end Perl script has full URL path of blobURL. So, I have blobURL at server backend just don&#39;t know how to save it."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1507520128, "post_id": 46638009, "comment_id": 80226059, "body": "Convert <code>Blob URL</code> to <code>Blob</code>. It is not possible to process a <code>Blob URL</code> at server."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1507528859, "post_id": 46639149, "comment_id": 80228478, "body": "Have you read linked Question at previously posted comment <a href=\"https://stackoverflow.com/questions/46638009/not-able-to-save-download-browser-blob-data-object/46639149?noredirect=1#comment80225489_46638009\" title=\"not able to save download browser blob data object\">stackoverflow.com/questions/46638009/&hellip;</a>?"}], "tags": [], "owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "is_accepted": false, "score": 0, "last_activity_date": 1507525477, "creation_date": 1507525477, "answer_id": 46639149, "question_id": 46638009, "link": "https://stackoverflow.com/questions/46638009/not-able-to-save-download-browser-blob-data-object/46639149#46639149", "title": "Not able to save/download browser blob data object", "body": "<p>To convert a <code>Blob URL</code> to a <code>Blob</code> to <code>POST</code> to server you can use <code>fetch()</code> and <code>Response.blob()</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const blobURL = URL.createObjectURL(new Blob([123]));\r\nfetch(blobURL)\r\n.then(response =&gt; response.blob())\r\n.then(blob =&gt; {\r\n  // do stuff with `blob`: `Blob`\r\n  console.log(blob);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 63, "user_id": 8743332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a73688fadfa164a75c527e5e83cbef1d?s=128&d=identicon&r=PG&f=1", "display_name": "Ambr", "link": "https://stackoverflow.com/users/8743332/ambr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 890, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1507838813, "creation_date": 1507515658, "last_edit_date": 1507519532, "question_id": 46638009, "link": "https://stackoverflow.com/questions/46638009/not-able-to-save-download-browser-blob-data-object", "title": "Not able to save/download browser blob data object", "body": "<p>I have a web page where user uploads a video file using html's \"input type = file\" tag, I am catching that uploaded video file in JavaScript function variable where it is coming as blob URL. \"blob:<a href=\"https://www.myownsite.com:8080/2e8cfd32-abf2-4db3-b396-91f76cc3b40c\" rel=\"nofollow noreferrer\">https://www.myownsite.com:8080/2e8cfd32-abf2-4db3-b396-91f76cc3b40c</a>\". I am not able to save this blob URL in my system.</p>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;input type=\"file\" name=\"video_file_name\" accept=\"video/*\"&gt;\n&lt;input type=\"submit\" value=\"Upload Video\" id=\"customVideoSubmit\"&gt;\n&lt;button onClick=\"postVideo();\" id=\"customVideoSubmit\" aria- hidden=\"true\"&gt;Upload Video&lt;/button&gt;\n</code></pre>\n\n<p>JavaScript code:</p>\n\n<pre><code>    function postVideo(){\n    var blobURL = document.querySelector('video').src;\n}\n</code></pre>\n\n<p>variable blobURL contains following blob URL, which plays video properly if I put this on a separate tab of that browser.</p>\n\n<pre><code>blob:https://www.myownsite.com:8080/2e8cfd32-abf2-4db3-b396-91f76cc3b40c\n</code></pre>\n\n<p>How can I save this blob video file in my system. I have tried number of JavaScript methods and also back end methods in my Perl code like </p>\n\n<pre><code>decode_base64($cgi-&gt;{blobURL}) ;\n</code></pre>\n\n<p>Nothing worked though. Any help will be much appreciated.</p>\n"}, {"tags": [".htaccess", "perl", "mod-rewrite", "mojolicious"], "comments": [{"owner": {"reputation": 1896, "user_id": 5427950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/853117d2235b239411ff8ef5f1a5bd89?s=128&d=identicon&r=PG&f=1", "display_name": "Webdesigner", "link": "https://stackoverflow.com/users/5427950/webdesigner"}, "edited": false, "score": 0, "creation_date": 1507505698, "post_id": 46637025, "comment_id": 80223298, "body": "did you try <code>$self-&gt;redirect_to(&#39;https:&#47;&#47;example.com&#47;&#39;);</code>"}, {"owner": {"reputation": 1896, "user_id": 5427950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/853117d2235b239411ff8ef5f1a5bd89?s=128&d=identicon&r=PG&f=1", "display_name": "Webdesigner", "link": "https://stackoverflow.com/users/5427950/webdesigner"}, "edited": false, "score": 0, "creation_date": 1507505950, "post_id": 46637025, "comment_id": 80223350, "body": "Delete you Browser cache also because a Browser do remember some redirects and do not go to the Server again."}, {"owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "reply_to_user": {"reputation": 1896, "user_id": 5427950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/853117d2235b239411ff8ef5f1a5bd89?s=128&d=identicon&r=PG&f=1", "display_name": "Webdesigner", "link": "https://stackoverflow.com/users/5427950/webdesigner"}, "edited": false, "score": 0, "creation_date": 1507506368, "post_id": 46637025, "comment_id": 80223424, "body": "Tried clearing cache. Did not try redirect with complete address, but would hate hardcoding domain in the script. I also test it locally via morbo, this will break this redirect. I will try it when I get to PC though to get more info. Thnx."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1507512380, "post_id": 46637025, "comment_id": 80224531, "body": "I don&#39;t think it has anything to do with the browser or mod_rewrite.  I think M::L knows it&#39;s being run in CGI mode, and it knows the CGI script is <code>&#47;script.pl</code>, so when you ask to redirect to the root of the M::L site (<code>&#47;</code>), it knows it&#39;s reachable as <code>&#47;script.pl&#47;</code> (or just <code>&#47;script.pl</code>). Maybe there&#39;s a way to configure it to do otherwise?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507513047, "post_id": 46637025, "comment_id": 80224664, "body": "One solution is to use mod_proxy as a &quot;reverse proxy&quot;. Use <code>ProxyPass</code> to redirect to your M::L site, and use <code>ProxyPassReverse</code> to fix the redirect locations."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1507513263, "post_id": 46637025, "comment_id": 80224711, "body": "Re &quot;<i>I did try to add <code>ErrorDocument 404 https:&#47;&#47;example.ru&#47;</code></i>&quot;, Useless, because you don&#39;t return a 404."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1507515972, "post_id": 46637025, "comment_id": 80225258, "body": "Your question appears to be answered by <a href=\"https://github.com/kraih/mojo/wiki/Apache-deployment\" rel=\"nofollow noreferrer\">this page</a>, which covers a number of solutions."}, {"owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507541916, "post_id": 46637025, "comment_id": 80235649, "body": "@ikegami you are right. when I added <code>before_dispatch</code> hook it worked. I guess I need to figure out how to get domain name from the info vailable via Mojolicious, so I don&#39;t have to hardcode it in."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507542295, "post_id": 46637025, "comment_id": 80235890, "body": "You don&#39;t need just the domain, you need to know the entire base uri your rules redirect from. That&#39;s not available anywhere but in your rules."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507542483, "post_id": 46637025, "comment_id": 80236006, "body": "The entire translated url is available in CGI vars, so you could rebuild the original url by hardcoding the rules to reverse the translation"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507542604, "post_id": 46637025, "comment_id": 80236082, "body": "The reverse proxy is the only truly transparent solution"}, {"owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "edited": false, "score": 0, "creation_date": 1507542659, "post_id": 46637025, "comment_id": 80236114, "body": "looks like I can build it from <code>$c-&gt;req-&gt;url</code>, I&#39;ll try later. I&#39;m not sure I can configure reverse proxy on shared hosting account"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507545718, "post_id": 46637025, "comment_id": 80237949, "body": "Unrelated to the problem at hand, but how is your experience with speed for the application? Can you feel that it&#39;s CGI as a user?"}, {"owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507550821, "post_id": 46637025, "comment_id": 80241082, "body": "@simbabque this app is very small, and it loads as fast (as slow) as homepage of WordPress site I run on the same account (same server). I don&#39;t really have non-CGI Mojolicious app running out there to compare to. pingdom.com says it&#39;s faster than 59% of tested sites (tested from San Jose), but it&#39;s probably not a serious indicator to go by :-)"}, {"owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507581803, "post_id": 46637025, "comment_id": 80258633, "body": "@ikegami @Webdesigner whoa, I tried running it locally via morbo, with this <code>before_dispatch</code> hook hack unmodified (with hardcoded url) -- and it still works on localhost, does not try to redirect to the hardcoded URL. magic! but it&#39;s great, I can leave it there and still validate app locally."}], "owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507506788, "creation_date": 1507505007, "last_edit_date": 1507506788, "question_id": 46637025, "link": "https://stackoverflow.com/questions/46637025/remove-script-name-from-url-on-redirect", "title": "Remove script name from url on redirect", "body": "<p>I'm running a simple Mojolicious::Lite app in CGI mode (Apache web server) on shared hosting account. It works great, but I can't figure out one thing. I want user to get redirected to the homepage when the requested route does not exist. With the code below it does, but there is my script name in the browser's address bar, which I don't want.</p>\n\n<p>My routes look like this:</p>\n\n<pre><code>get '/' =&gt; sub { ... } =&gt; 'index';\n\nget '/about' =&gt; 'about';\n\nany '*' =&gt; sub {\n    my $self = shift;\n    $self-&gt;redirect_to('/');\n};\n</code></pre>\n\n<p>My <code>.htaccess</code> looks like this:</p>\n\n<pre><code>RewriteEngine on\n\n# -- force https --\nRewriteCond %{SERVER_PORT} 80\nRewriteRule ^(.*)$ https://example.com/$1 [R,L]\n# -----------------\n\nRewriteCond %{DOCUMENT_ROOT}/public/%{REQUEST_URI} -f\nRewriteRule ^(.*)$ public/$1 [L]\n\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule ^(.*)$ script.pl/$1 [L,PT]\n</code></pre>\n\n<p>For example (type in browser -> end up in browser's address bar):</p>\n\n<pre><code>https://example.com/           https://example.com/\nhttps://example.com/about      https://example.com/about\nhttps://example.com/missing    https://example.com/script.pl (while home page is displayed as expected)\n</code></pre>\n\n<p>I just want it to show <code>https://example.com/</code> in the third case.</p>\n\n<p>Why does this happen? I feel like <code>any '*'</code> route is either needs to do something else, or I need more rewrite rules, which I wasn't able to figure out yet.</p>\n\n<p>I did try to add <code>ErrorDocument 404 https://example.ru/</code> in the .htaccess (tried both beginning and the end).</p>\n\n<p>I also tried following before <code>RewriteBase /</code>, but it did not do anything.</p>\n\n<pre><code>RewriteCond %{REQUEST_URI}  \"^/$\"\nRewriteRule . script.pl [L]\n</code></pre>\n\n<p>Edit: just tried <a href=\"https://example.com/test\" rel=\"nofollow noreferrer\">https://example.com/test</a> on mobile browser, and saw how it got redirected to <a href=\"https://example.com/script.pl/test\" rel=\"nofollow noreferrer\">https://example.com/script.pl/test</a> , and then automatically to <a href=\"https://example.com/script.pl\" rel=\"nofollow noreferrer\">https://example.com/script.pl</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507476642, "post_id": 46631864, "comment_id": 80214839, "body": "Please ask only one question at a time."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1507484443, "post_id": 46631864, "comment_id": 80217472, "body": "Please start all your Perl files with <code>use strict; use warnings;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7636685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6967f0a043c716b3d0fef3453cbbde0?s=128&d=identicon&r=PG", "display_name": "CharlesMacfarlane", "link": "https://stackoverflow.com/users/7636685/charlesmacfarlane"}, "edited": false, "score": 0, "creation_date": 1507484671, "post_id": 46633042, "comment_id": 80217550, "body": "Thanks, but I now realise that there is also a gap at the right-hand end between the end of the data and the edge of the plot area.  This suggestion does indeed move the plot to the left, but consequently the gap on the right is increased correspondingly."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1507477928, "creation_date": 1507477928, "answer_id": 46633042, "question_id": 46631864, "link": "https://stackoverflow.com/questions/46631864/perl-gdgraph-gap-between-plot-and-y-axis/46633042#46633042", "title": "Perl - GD::Graph - Gap between plot and y-axis", "body": "<p>This feels like an off-by-one error in the code, but I don't have time to investigate further now. I'll just note that a work-around seems to be to replace:</p>\n\n<pre><code>x_min_value       =&gt; 0,\n</code></pre>\n\n<p>with</p>\n\n<pre><code>x_min_value       =&gt; 1,\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7636685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6967f0a043c716b3d0fef3453cbbde0?s=128&d=identicon&r=PG", "display_name": "CharlesMacfarlane", "link": "https://stackoverflow.com/users/7636685/charlesmacfarlane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507484374, "creation_date": 1507470907, "last_edit_date": 1507484374, "question_id": 46631864, "link": "https://stackoverflow.com/questions/46631864/perl-gdgraph-gap-between-plot-and-y-axis", "title": "Perl - GD::Graph - Gap between plot and y-axis", "body": "<p>I am using Perl's <a href=\"https://metacpan.org/pod/GD::Graph\" rel=\"nofollow noreferrer\"><code>GD::Graph</code></a>\nmodule to plot a signal profile. I've managed to get almost everything to look just about right, except that for some reason there is an irritating and unwanted gap between the y-axis and the first plotted point. How can I eliminate this?</p>\n\n<p>Here is the code for the test page I've written (it display on my <code>localhost</code> server, but I tried installing it on my live server so that others here could see the result, it errors  -  I think there must be some Perl modules missing from my live site):</p>\n\n<pre><code>#!perl\n\nuse POSIX;\nuse CGI ':standard';\nuse GD::Graph::area;\nuse GD::Graph::colour qw(:colours);\n\nuse strict;\n\n# Graph constants\nGD::Graph::colour::add_colour( axes    =&gt; [ 0x00, 0x00, 0x00 ] );\nGD::Graph::colour::add_colour( earth   =&gt; [ 0x00, 0x00, 0x00 ] );\nGD::Graph::colour::add_colour( beam    =&gt; [ 0x00, 0x00, 0x00 ] );\nGD::Graph::colour::add_colour( clutter =&gt; [ 0x66, 0x33, 0x00 ] );\nGD::Graph::colour::add_colour( terrain =&gt; [ 0x00, 0x99, 0x00 ] );\nGD::Graph::colour::add_colour( earth   =&gt; [ 0x00, 0x00, 0x00 ] );\nGD::Graph::colour::add_colour( fre1    =&gt; [ 0xFF, 0x33, 0x00 ] );\nGD::Graph::colour::add_colour( fre2    =&gt; [ 0xFF, 0x66, 0x00 ] );\nGD::Graph::colour::add_colour( sky1    =&gt; [ 0x33, 0x66, 0x99 ] );\nGD::Graph::colour::add_colour( sky2    =&gt; [ 0x66, 0x99, 0xCC ] );\n\n# All arrays should same number of entries.\nmy @data = (\n    [ 0,   undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, 5,   undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, 10,  undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, 15,  undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, 20,  undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, 25,  undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, undef, 30, undef, undef, undef, undef, undef, undef, undef, undef, undef ],\n    [ 450, 458,   459,   458,   457,   455,   453,   451,   449,   447,   444,   441,   438,   435,   432,   429, 426,   422,   420,   416,   413,   409,   406,   402,   399,   395,   391,   388,   384,   381,   376, 373,   369,   365,   361,   358,   353,   350,   345,   341,   337,   333,   329,   325,   321,   316, 313,   308,   304,   299,   296,   291,   286,   282,   277,   273,   268,   265,   259,   256,   250, 247,   241,   236,   232,   227,   223,   217,   213,   208,   204,   198,   194,   188,   184,   178, 173,   168,   163,   158,   152,   148,   142,   137,   131,   126,   120,   115,   109,   102,   97, 90,    85,    78,    72,    64,    58,    50,    43,    32 ],\n    [ 450, 453,   451,   449,   447,   444,   441,   438,   435,   432,   428,   426,   422,   418,   415,   411, 408,   404,   400,   396,   393,   389,   386,   381,   378,   374,   369,   366,   361,   358,   353, 350,   345,   342,   337,   334,   329,   326,   321,   316,   313,   308,   305,   300,   296,   291, 288,   283,   279,   274,   271,   266,   261,   257,   252,   249,   244,   240,   235,   231,   226, 222,   217,   212,   208,   203,   199,   194,   190,   185,   181,   176,   172,   166,   162,   157, 151,   147,   142,   138,   132,   128,   123,   118,   113,   108,   103,   98,    92,    87,    82, 76,    71,    65,    60,    54,    49,    42,    36,    27 ],\n    [ 450, 445,   440,   436,   432,   428,   423,   419,   414,   411,   406,   402,   397,   392,   389,   384, 380,   375,   372,   367,   363,   358,   354,   350,   346,   341,   336,   332,   328,   324,   319, 315,   310,   307,   302,   298,   293,   290,   285,   280,   276,   271,   268,   263,   259,   254, 250,   246,   242,   237,   233,   228,   224,   220,   215,   211,   206,   203,   198,   194,   189, 186,   181,   176,   172,   167,   164,   159,   155,   150,   147,   142,   138,   133,   129,   125, 120,   116,   111,   107,   102,   99,    94,    90,    85,    82,    77,    73,    68,    63,    60, 55,    51,    46,    43,    38,    34,    29,    25,    21 ],\n    [ 450, 437,   429,   423,   416,   411,   405,   400,   394,   389,   383,   379,   373,   367,   363,   357, 353,   347,   343,   337,   333,   328,   323,   318,   314,   309,   303,   299,   294,   290,   285, 281,   275,   272,   266,   262,   257,   253,   248,   243,   239,   234,   231,   226,   222,   217, 213,   208,   205,   200,   196,   191,   186,   183,   178,   174,   169,   166,   161,   157,   153, 149,   144,   140,   136,   132,   128,   124,   120,   116,   112,   108,   104,   100,   97,    92,  88,    84,    80,    77,    73,    69,    65,    62,    58,    55,    51,    48,    44,    40,    37, 34,    31,    27,    25,    22,    19,    17,    15,    14 ],\n    [ 450, 432,   422,   415,   406,   400,   393,   387,   380,   375,   368,   363,   357,   350,   345,   339, 334,   328,   324,   318,   313,   307,   303,   297,   293,   287,   281,   277,   271,   267,   262, 258,   252,   248,   243,   239,   233,   229,   224,   219,   215,   210,   206,   201,   197,   192, 188,   183,   180,   175,   171,   166,   161,   158,   153,   149,   145,   141,   136,   133,   128, 125,   120,   116,   112,   108,   105,   100,   97,    93,    89,    85,    82,    78,    75,    71,  67,    64,    60,    57,    53,    50,    46,    43,    40,    37,    34,    31,    28,    25,    22, 19,    17,    15,    13,    11,    10,    8,     8,     9 ],\n    [ 387, 344,   266,   240,   222,   215,   190,   156,   120,   76,    99,    151,   167,   158,   167,   158, 157,   148,   114,   89,    87,    28,    11,    11,    12,    12,    12,    13,    13,    13,    13,  23,    15,    34,    39,    38,    72,    107,   122,   134,   128,   128,   121,   100,   82,    16,  16,    16,    16,    16,    16,    16,    16,    16,    16,    16,    16,    15,    15,    20,    20,  15,    15,    15,    15,    14,    14,    14,    14,    60,    53,    13,    13,    12,    12,    12,  12,    11,    11,    11,    10,    10,    9,     9,     9,     8,     8,     7,     7,     6,     6,  5,     5,     4,     4,     3,     2,     2,     1,     26 ],\n    [ 386, 343,   261,   235,   217,   210,   185,   151,   105,   61,    84,    136,   152,   143,   152,   153, 152,   143,   109,   84,    82,    23,    11,    11,    12,    12,    12,    13,    13,    13,    13,  23,    15,    34,    34,    33,    67,    102,   117,   129,   123,   128,   121,   100,   82,    16,  16,    16,    16,    16,    16,    16,    16,    16,    16,    16,    16,    15,    15,    15,    15,  15,    15,    15,    15,    14,    14,    14,    14,    60,    53,    13,    13,    12,    12,    12,  12,    11,    11,    11,    10,    10,    9,     9,     9,     8,     8,     7,     7,     6,     6,  5,     5,     4,     4,     3,     2,     2,     1,     26 ],\n    [ 0,   1,     1,     2,     3,     3,     4,     4,     5,     5,     6,     6,     7,     7,     8,     8,   9,     9,     9,     10,    10,    11,    11,    11,    12,    12,    12,    12,    13,    13,    13,  14,    14,    14,    14,    14,    15,    15,    15,    15,    15,    15,    15,    15,    16,    16,  16,    16,    16,    16,    16,    16,    16,    16,    16,    16,    16,    15,    15,    15,    15,  15,    15,    15,    15,    14,    14,    14,    14,    13,    13,    13,    13,    12,    12,    12,  11,    11,    11,    10,    10,    10,    9,     9,     8,     8,     8,     7,     7,     6,     6,  5,     5,     4,     4,     3,     2,     2,     1,     1 ]\n);\n\nmy $dist = 32.745;\n\nmy $mygraph = GD::Graph::area-&gt;new( 800, 300 );\n\n$mygraph-&gt;set(\n    transparent       =&gt; 0,\n    l_margin          =&gt; 3,\n    b_margin          =&gt; 3,\n    t_margin          =&gt; 5,\n    r_margin          =&gt; 5,\n    text_space        =&gt; 3,\n    axis_space        =&gt; 7,\n    tick_length       =&gt; -5,\n    accent_treshold   =&gt; 100,\n    x_label_position  =&gt; 0.5,\n    bgclr             =&gt; 'white',\n    fgclr             =&gt; 'black',\n    boxclr            =&gt; 'sky1',\n    labelclr          =&gt; 'black',\n    axislabelclr      =&gt; 'black',\n    textclr           =&gt; 'black',\n    x_label           =&gt; 'Kilometres',\n    y_label           =&gt; 'Metres',\n    x_label_skip      =&gt; 15.27,\n    x_last_label_skip =&gt; 1,\n    x_min_value       =&gt; 0,\n    x_max_value       =&gt; $dist,\n    borderclrs        =&gt; [qw(fre2 fre1 black fre2 sky1 clutter terrain axes)],\n    dclrs             =&gt; [qw(fre2 fre1 fre1 fre2 sky1 clutter terrain axes)]\n) or warn $mygraph-&gt;error;\n\nmy $myimage = $mygraph-&gt;plot( \\@data ) or die $mygraph-&gt;error;\n\nprint \"Content-type: image/png\\n\\n\";\n\nprint $myimage-&gt;png;\n</code></pre>\n\n<p>Background Information</p>\n\n<p>I currently have a very successful web page which enables UK citizens to align a terrestrial TV aerial towards a given transmitter.\n<a href=\"http://www.macfh.co.uk/JavaJive/AudioVisualTV/TerrestrialTV/TerrestrialCalculator.php?iRxLat=57.273276&amp;iRxLong=-5.73917&amp;iTxWhereHow=N\" rel=\"nofollow noreferrer\">Here's an example of it in action</a></p>\n\n<p>Once loading has completed, and the relevant buttons enabled, there three available visual components to help align the aerial and predict the likely usefulness of the signal:</p>\n\n<ul>\n<li>A Google map for finding a landmark to point the aerial towards</li>\n<li>A UK Ordnance Survey map showing the signal path</li>\n<li>A vertical signal profile showing potential obstructions</li>\n</ul>\n\n<p>It is the last of these, which is obtained by pressing the <em>Signal Profile</em> button at the bottom of the form and is displayed at the bottom of the page beneath the two maps, that is of concern here. I'm looking to replace it because it currently uses the <em>Google Chart Tools</em> API which unfortunately has been deprecated by Google and was supposed to end in 2015, but fortunately so far they've kept it running.</p>\n\n<p>I've been looking ever since for a replacement come the day that Google throw the switch, but have had very limited success. If anyone knows of a package I could install on my own server to replace Google's chart drawing functionality, I'd be most grateful to know about it.</p>\n"}, {"tags": ["regex", "perl", "pcre"], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 9, "last_activity_date": 1588281231, "last_edit_date": 1592644375, "creation_date": 1507424466, "answer_id": 46626588, "question_id": 46626258, "link": "https://stackoverflow.com/questions/46626258/regular-expression-for-start-and-end-of-string-in-multiline-mode/46626588#46626588", "title": "Regular expression for start and end of string in multiline mode", "body": "<p>There are indeed <a href=\"https://perldoc.perl.org/perlre.html#Assertions\" rel=\"noreferrer\">assertions (perlre)</a> for that</p>\n<blockquote>\n<p><code>\\A</code>     Match only at beginning of string<br />\n<code>\\Z</code>     Match only at end of string, or before newline at the end</p>\n<p>...<br />\nThe <code>\\A</code> and <code>\\Z</code> are just like <code>^</code> and <code>$</code>, except that they won't match multiple times when the <code>/m</code> modifier is used, while <code>^</code> and <code>$</code> will match at every internal line boundary.  To match the actual end of the string and not ignore an optional trailing newline, use <code>\\z</code>.</p>\n</blockquote>\n<p>Also see <a href=\"https://perldoc.perl.org/perlrebackslash.html#Assertions\" rel=\"noreferrer\">Assertions in perlbackslash</a>.</p>\n<p>I am not sure what you're after in the shown example so here is another one</p>\n<pre><code>perl -wE'$_ = qq(one\\ntwo\\nthree); say for /(\\w+\\n\\w+)\\Z/m'\n</code></pre>\n<p>prints</p>\n<pre>\ntwo\nthree\n</pre>\n<p>while with <code>$</code> instead of <code>\\Z</code> it prints</p>\n<pre>\none\ntwo\n</pre>\n<hr />\n<p>Note that the above example would match <code>qq(one\\ntwo\\three\\n)</code> as well (with a trailing newline), what may or may not be suitable.  Please compare <code>\\Z</code> and <code>\\z</code> from the above quote for your actual needs. Thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for a comment.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1507494452, "last_edit_date": 1507494452, "creation_date": 1507426919, "answer_id": 46626776, "question_id": 46626258, "link": "https://stackoverflow.com/questions/46626258/regular-expression-for-start-and-end-of-string-in-multiline-mode/46626776#46626776", "title": "Regular expression for start and end of string in multiline mode", "body": "<p><code>\\A</code> and <code>\\z</code> always match the beginning and the end of the string, respectively.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>       without /m              with /m\n\n\\A     Beginning of string     Beginning of string\n^      \\A                      \\A|(?&lt;=\\n)\n\n\\z     End of string           End of string\n\\Z     \\z|(?=\\n\\z)             \\z|(?=\\n\\z)\n$      \\z|(?=\\n\\z)             \\z|(?=\\n)\n</code></pre>\n\n<p>Put differently,</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 `\\A` and `^`\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 `(?m:$)`\n\u2502     \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 `(?m:^)`\n\u2502     \u2502 \u2502     \u250c\u2500\u2500\u2500\u2500\u2500 `\\Z` and `$`\n\u2502     \u2502 \u2502     \u2502 \u250c\u2500\u2500\u2500 `\\z`, `\\Z` and `$`\n\u2502     \u2502 \u2502     \u2502 \u2502\nF o o \u240a B a r \u240a\n</code></pre>\n\n<p>Remember, all of these matches are zero-length.</p>\n"}], "owner": {"reputation": 1789, "user_id": 3814740, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Fvm5e.png?s=128&g=1", "display_name": "Alexander Gelbukh", "link": "https://stackoverflow.com/users/3814740/alexander-gelbukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3634, "favorite_count": 1, "accepted_answer_id": 46626588, "answer_count": 2, "score": 5, "last_activity_date": 1588281231, "creation_date": 1507420808, "last_edit_date": 1507422174, "question_id": 46626258, "link": "https://stackoverflow.com/questions/46626258/regular-expression-for-start-and-end-of-string-in-multiline-mode", "title": "Regular expression for start and end of string in multiline mode", "body": "<p>In a regular expression, in multiline mode, <code>^</code> and <code>$</code> stand for the start and end of line. How can I match the end of the whole string?</p>\n\n<p>In the string</p>\n\n<pre><code>Hello\\nMary\\nSmith\\nHello\\nJim\\nDow\n</code></pre>\n\n<p>the expression</p>\n\n<pre><code>/^Hello(?:$).+?(?:$).+?$/ms\n</code></pre>\n\n<p>matches <code>Hello\\nMary\\Smith</code>. </p>\n\n<p>I wonder whether there is a metacharacter (like <code>\\ENDSTRING</code>) that matches the end of the whole string, not just line, such that</p>\n\n<pre><code>/^Hello(?:$).+?(?:$).+?\\ENDSTRING/ms\n</code></pre>\n\n<p>would match <code>Hello\\nJim\\nDow</code>. Similarly, a metacharacter to match the start of the whole string, not a line.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507408906, "post_id": 46624885, "comment_id": 80200293, "body": "You want to split your input to get columns as an array. There is also a module for netstat on cpan. If you have more than one question, please ask them separately."}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507409936, "post_id": 46624885, "comment_id": 80200575, "body": "@simbabque here is my output from my netstat environment: <code>tcp 0 0 ::ffff:101.101.101.101:2000 ::ffff:10.151.89.57:8030 ESTABLISHED</code> I&#39;m trying to get the above script to look at the 4th column <code>ffff:101.101.101.101:2000</code> and if <code>101.101.101.101:2000</code> doesn&#39;t exit 2 times then alert. same concept for 10.101.101.102:3000 which should exits no less than 5 times from the netstat output of column 4"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507412164, "post_id": 46624885, "comment_id": 80201249, "body": "There is nothing in the code that you show that could access the fourth column. Please show what you&#39;ve written to solve this problem. Stack Overflow is neither a tutorial site nor a place to get code written for free."}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1507412423, "post_id": 46624885, "comment_id": 80201326, "body": "@ Borodin it is this piece of code: <code>^([0-9.]+:\\d+000</code> I needed help with the regex piece of it which I would think stackoverflow would be used for..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1507413137, "post_id": 46624885, "comment_id": 80201530, "body": "@connollyc4: I seriously doubt that you wrote that yourself. Writing software isn&#39;t done by snagging a likely-looking piece of code from the internet and posting it back up in the hope that someone else will finish your job for you. If you&#39;re unable to do your job then find something that you <i>can</i> do."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1507449570, "last_edit_date": 1507449570, "creation_date": 1507412447, "answer_id": 46625386, "question_id": 46624885, "link": "https://stackoverflow.com/questions/46624885/how-to-parse-netstat-output-and-extract-the-fourth-column/46625386#46625386", "title": "How to parse netstat output and extract the fourth column", "body": "<p>If you're asking why your code isn't working, it's clearly because you anchor your regex pattern <code>/^([0-9.]+:\\d+000) /</code> to  the start of the string. There is no IPv6 address there in your sample data.</p>\n\n<p>Please add information by <em>editing</em> your question. It is all but useless in comments.</p>\n\n<p>Here's how I would write your code. There's no reason to open a handle to a pipe</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nmy %minimum = (\n    '101.101.101.101:2000' =&gt; 2,\n    '101.101.101.102:3000' =&gt; 5,\n);\n\nmy %count;\n\n/\\b([0-9.]+:\\d+000)\\b/ and ++$count{$1} for `netstat -an`;\n\nwhile ( my ( $ip_port, $min ) = each %minimum ) {\n    my $n = $count{$ip_port} // 0;\n    print \"$ip_port: need $min connections, found only  $n\\n\" if $n &lt; $min;\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 953, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1507456704, "creation_date": 1507408731, "last_edit_date": 1507412953, "question_id": 46624885, "link": "https://stackoverflow.com/questions/46624885/how-to-parse-netstat-output-and-extract-the-fourth-column", "title": "How to parse netstat output and extract the fourth column", "body": "<p>How can I parse out the fourth column of <code>netstat</code> instead of the first column?</p>\n\n<p>Also, how can I use <code>mailx</code> to send an email alert if a connection drops below the expected IP count?</p>\n\n<p>Code</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %minimum = (\n    '101.101.101.101:2000' =&gt; 2,\n    '101.101.101.102:3000' =&gt; 5,\n);\n\nmy %count;\n\nopen my $fh, '-|', 'netstat -an' or die \"could not run netstat: $!\";\n\nwhile( &lt;$fh&gt; ) {\n    next unless /^([0-9.]+:\\d+000) /;\n    $count{$1}++;\n}\n\nclose $fh;\n\nwhile ( my ($ip_port, $min) = each %minimum ) {\n    $count{$ip_port} ||= 0;\n    next if $count{$ip_port} &gt;= $min;\n    print \"$ip_port: need $min connections, found only  $count{$ip_port}\\n\";\n}\n</code></pre>\n\n<p>Here is the output from <code>netstat</code></p>\n\n<pre><code>tcp 0 0 ::ffff:101.101.101.101:2000 ::ffff:10.151.89.57:8030 ESTABLISHED\n</code></pre>\n\n<p>I'm trying to get the above script to look at the fourth column</p>\n\n<pre><code>ffff:101.101.101.101:2000\n</code></pre>\n\n<p>and if that address doesn't appear twice then alert.</p>\n\n<p>The same concept for <code>10.101.101.102:3000</code> which should appear no less than five times in column four of the <code>netstat</code> output.</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 5, "creation_date": 1507399834, "post_id": 46623176, "comment_id": 80197523, "body": "<code>ops</code> is a pragma Perl already uses: <a href=\"http://perldoc.perl.org/ops.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/ops.html</a> Use a different name."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1507400006, "post_id": 46623176, "comment_id": 80197578, "body": "Also note that all lowercase names are only used for pragmas. Use a camel case name (like <code>Ops</code>) for your own modules. And you&#39;ve mixed up object oriented code and regular functions. Even if the import works, your code is going to fail because you are calling methods like functions. In you call to <code>add</code>, the <code>$self</code> is missing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507465802, "post_id": 46623176, "comment_id": 80211632, "body": "<b><i>You should have no reason to export methods. They should be called only through an object of that class.</i></b>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507401477, "post_id": 46623712, "comment_id": 80198060, "body": "It&#39;s also interesting where the custom <code>ops.pm</code> file is located. If it&#39;s in a directory that is at the front of <code>@INC</code> it might work, but could cause all kinds of other trouble."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 3, "last_activity_date": 1507404560, "last_edit_date": 1507404560, "creation_date": 1507401043, "answer_id": 46623712, "question_id": 46623176, "link": "https://stackoverflow.com/questions/46623176/not-able-to-export-methods-using-exporter-module-in-perl/46623712#46623712", "title": "Not able to export methods using Exporter module in perl", "body": "<p><code>ops</code> is a pragma <a href=\"http://perldoc.perl.org/ops.html\" rel=\"nofollow noreferrer\">already used by Perl</a>. From the docs:</p>\n\n<blockquote>\n  <p>ops - Perl pragma to restrict unsafe operations when compiling</p>\n</blockquote>\n\n<p>I don't know what that actually means but that's the issue here.</p>\n\n<p>Rename your module to something else, preferably something with uppercase characters as @simbabque suggests in a comment, because lowercase \"modules\" are somehow reserved for pragmas (think of <code>warnings</code> or <code>strict</code>). </p>\n\n<p>Also: Calling your <code>add</code> function won't work because you mix up OO code and regular functions. Your <code>add</code> expects three parameters and you supply only two (<code>1</code> and <code>2</code>). </p>\n\n<p>When writing OO modules you shouldn't export anything (not even <code>new</code>), i.e.:</p>\n\n<pre><code>package Oops;\nuse strict; use warnings;\nuse OtherModules;\n# don't mention 'Export' at all\nsub new {\n    ...\n}\nsub add {\n    ...\n}\n1;\n</code></pre>\n\n<p>And then in your scripts:</p>\n\n<pre><code>use strict; use warnings;\nuse Oops;\nmy $calculator = Oops-&gt;new();\nmy $result = $calculator-&gt;add(1, 2);\nprint $result, \"\\n\"; # gives 3\n</code></pre>\n"}], "owner": {"reputation": 66, "user_id": 8487363, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a94a542ecd275fa20b9c60056e103037?s=128&d=identicon&r=PG&f=1", "display_name": "kart1657", "link": "https://stackoverflow.com/users/8487363/kart1657"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 46623712, "answer_count": 1, "score": 1, "last_activity_date": 1507404560, "creation_date": 1507397869, "question_id": 46623176, "link": "https://stackoverflow.com/questions/46623176/not-able-to-export-methods-using-exporter-module-in-perl", "title": "Not able to export methods using Exporter module in perl", "body": "<p>I'm trying to export the methods written in my custom module using <code>Exporter</code> perl module. Below is my custom module <code>ops.pm</code></p>\n\n<pre><code>use strict;\nuse warnings;\nuse Exporter;\n\npackage ops;\nour @ISA= qw/Exporter/;\n\nour @EXPORT=qw/add/;\n\nour @EXPORT_OK=qw/mutliply/;\n\nsub new\n{\n        my $class=shift;\n        my $self={};\n        bless($self,$class);\n        return $self;\n}\n\n\nsub add\n{\n        my $self=shift;\n        my $num1=shift;\n        my $num2=shift;\n        return $num1+$num2;\n}\n\nsub mutliply\n{\n        my $self=shift;\n        my $num1=shift;\n        my $num2=shift;\n        return $num1*$num2;\n}\n\n1;\n</code></pre>\n\n<p>Below is the script <code>ops_export.pl</code> using  <code>ops.pm</code></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse ops;\n\n\nmy $num=add(1,2);\nprint \"$num\\n\";\n</code></pre>\n\n<p>when i execute the above script i'm getting below error.</p>\n\n<pre><code>Undefined subroutine &amp;main::add called at ops_export.pl line 8.\n</code></pre>\n\n<p>I'm not getting why my script is checking in <code>&amp;main</code> package even though i have exported  the <code>add</code> in <code>ops.pm</code> using <code>@EXPORT</code></p>\n\n<p>Where am i going wrong?</p>\n"}, {"tags": ["bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "edited": false, "score": 0, "creation_date": 1507384584, "post_id": 46620763, "comment_id": 80192798, "body": "I did in fact have a file named &quot;t&quot; in the directory. I use files named &quot;t&quot; as temporary scratch notes files."}], "tags": [], "owner": {"reputation": 6928, "user_id": 1015385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc84a03227c566697c4a16b2e9f8782?s=128&d=identicon&r=PG", "display_name": "JRFerguson", "link": "https://stackoverflow.com/users/1015385/jrferguson"}, "is_accepted": true, "score": 10, "last_activity_date": 1507383193, "creation_date": 1507383193, "answer_id": 46620763, "question_id": 46620708, "link": "https://stackoverflow.com/questions/46620708/perl-cant-pass-question-mark-as-command-line-argument/46620763#46620763", "title": "Perl: Can&#39;t pass question mark as command line argument", "body": "<p>You have a file named <code>t</code> in the directory in which you are running your script.  The shell treats a question mark (<code>?</code>) as a single character and expands it prior to passing the argument to your script.  If you have a file named <code>xx</code>, for example, then running your script with <code>??</code> would print \"xx\".</p>\n\n<p>If you quote your script's argument, no shell expansion occurs and passing <code>?</code> or <code>*</code> or <code>??</code> remain uninterpreted.</p>\n"}, {"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 3, "last_activity_date": 1507383205, "creation_date": 1507383205, "answer_id": 46620764, "question_id": 46620708, "link": "https://stackoverflow.com/questions/46620708/perl-cant-pass-question-mark-as-command-line-argument/46620764#46620764", "title": "Perl: Can&#39;t pass question mark as command line argument", "body": "<p>The question mark <code>?</code> is a shell metacharacter that is used for glob expansion. It is a placeholder for a single character, similar to <code>.</code> in a regex. E.g. If I have files <code>a1.txt a2.txt b1.txt</code>, then the glob pattern <code>a?.txt</code> will match the <code>a1.txt</code> and <code>a2.txt</code> but not <code>b1.txt</code>.</p>\n\n<p>The following shell metacharacters must always be escaped or quoted when they are part of a command line argument:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>|  &amp;  ;  &lt;  &gt;  (  )  $  `  \\  \"  '  &lt;space&gt;  &lt;tab&gt;  &lt;newline&gt;\n</code></pre>\n\n<p>These characters must sometimes be escaped:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>*   ?   [   #   \u02dc   =   %\n</code></pre>\n\n<p>Additionally the symbols <code>! {  } [[ ]]</code> are reserved words.</p>\n\n<p>(taken from the <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html\" rel=\"nofollow noreferrer\">POSIX shell language description</a>. Bash is mostly POSIX-compatible.)</p>\n"}], "owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "accepted_answer_id": 46620763, "answer_count": 2, "score": 1, "last_activity_date": 1518324715, "creation_date": 1507382867, "last_edit_date": 1518324715, "question_id": 46620708, "link": "https://stackoverflow.com/questions/46620708/perl-cant-pass-question-mark-as-command-line-argument", "title": "Perl: Can&#39;t pass question mark as command line argument", "body": "<p>I can't pass a question mark character into a Perl script. It comes out as the letter \"t\" instead.</p>\n\n<pre><code>./myscript foo\nprint $ARGV[0]; # prints foo\n\n./myscript ?\nprint $ARGV[0]; # prints t\n\n./myscript \"?\"\nprint $ARGV[0]; # prints ?\n\n./myscript ??\nprint $ARGV[0]; # prints ?? (multiple question marks work)\n\n./myscript ^\nprint $ARGV[0]; # prints ^; other special characters work too\n\n./myscript foo?\nprint $ARGV[0]; # prints foo?\n</code></pre>\n\n<p>I can't find an explanation for this anywhere. The reason I want to pass in a question mark is so my script has an easy help option. Other special characters work, as does quoting the question mark, as does a question mark mixed in with another string. It's just a single, naked question mark that doesn't.</p>\n\n<p>I'm calling the script via the Bash shell. I'm not 100% positive this is a Perl issue</p>\n\n<hr>\n\n<p>Update: now that this question is answered, I'm suddenly realizing: is this the reason that most command line arguments have a dash in front of them?</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 3, "creation_date": 1507381641, "post_id": 46620426, "comment_id": 80191830, "body": "If you get an OOM on that line, then the line is possibly to long to be loaded into memory (many GB? depends on your machine). You cannot just skip the line because to skip the line we would need to know where that line ends, without reading the line. As a workaround you might have to read the file into a fixed-sized buffer and perform your own line splitting."}, {"owner": {"reputation": 570, "user_id": 847338, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fdb1040cbc167fe242c38f628b1b3bfe?s=128&d=identicon&r=PG", "display_name": "Franz Kafka", "link": "https://stackoverflow.com/users/847338/franz-kafka"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1507384897, "post_id": 46620426, "comment_id": 80192905, "body": "The system I am running this from has 64GB memory and I&#39;m setting the heap size to 30GB. I&#39;m splitting the input file now into smaller chunks. Hopefully that works. If not, I&#39;ll try running the code on a larger system."}], "answers": [{"tags": [], "owner": {"reputation": 4050, "user_id": 7709, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/f91fc0a43611147f2a559db40bda9083?s=128&d=identicon&r=PG", "display_name": "Shlomi Fish", "link": "https://stackoverflow.com/users/7709/shlomi-fish"}, "is_accepted": true, "score": 2, "last_activity_date": 1507384789, "creation_date": 1507384789, "answer_id": 46621023, "question_id": 46620426, "link": "https://stackoverflow.com/questions/46620426/reading-a-file-line-by-line-with-a-timeout-for-lines-that-are-taking-too-long/46621023#46621023", "title": "Reading a file line-by-line with a timeout for lines that are taking too long?", "body": "<p>What you can do is count the number of lines until the problem line and output it - make sure you flush the output - see <a href=\"https://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">https://perl.plover.com/FAQs/Buffering.html</a> . Then write another program that will copy the first of this number of lines to a different file, and then read the file's input stream character by character (see <a href=\"http://perldoc.perl.org/functions/read.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/functions/read.html</a> ) until it hits a \"\\n\" and then copy the rest of the file - either line by line or in chunks.</p>\n"}], "owner": {"reputation": 570, "user_id": 847338, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fdb1040cbc167fe242c38f628b1b3bfe?s=128&d=identicon&r=PG", "display_name": "Franz Kafka", "link": "https://stackoverflow.com/users/847338/franz-kafka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 1, "accepted_answer_id": 46621023, "answer_count": 1, "score": 1, "last_activity_date": 1507384789, "creation_date": 1507381284, "last_edit_date": 1507382765, "question_id": 46620426, "link": "https://stackoverflow.com/questions/46620426/reading-a-file-line-by-line-with-a-timeout-for-lines-that-are-taking-too-long", "title": "Reading a file line-by-line with a timeout for lines that are taking too long?", "body": "<p>I have a 1.2TB file that I am running some code against, but constantly running into <code>OutOfMemoryError</code> exceptions. I ran the following two pieces of code against the file to see what was wrong:</p>\n\n<pre><code>import sys\n\nwith open(sys.argv[1]) as f:\n    count = 1\n    for line in f:\n        if count &gt; 173646280:\n            print line\n        else:\n            print count\n            count += 1\n</code></pre>\n\n<p>And this code:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $count = 1;\nwhile (&lt;&gt;) {\n    print \"$count\\n\";\n    $count++;\n}\n</code></pre>\n\n<p>Both of them zoom until they hit line 173,646,264, and then they just completely stop. Let me just give a quick background on the file.</p>\n\n<p>I created a file called <code>groupBy.json</code>. I then processed that file with some Java code to transform the JSON objects and created a file called <code>groupBy_new.json</code>. I put <code>groupBy_new.json</code> on s3, pulled it down on another server and was doing some processing on it when I started getting OOM errors. I figured that maybe the file got corrupted when transferring to s3. I ran the above Python/Perl code on <code>groupBy_new.json</code> on both serverA (the server where it was originally at), and serverB (the server from which I pulled the file off s3), both halted at the same line. I ran then ran the above Python/Perl code on <code>groupBy.json</code>, the original file, and it also halted. I tried to recreate <code>groupBy_new.json</code> with the same code that I had used to originally create it, and ran into an OOM error.</p>\n\n<p>So this is a really odd problem that is perplexing me. In short, I'd like to get rid of this line that is causing me problems. What I'm trying to do is read a file with a timeout on the line being read. If it cannot read the input line in 2 seconds or so, move on to the next line.</p>\n"}, {"tags": ["windows", "perl", "console"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507358968, "post_id": 46617331, "comment_id": 80186358, "body": "I find that adding <code>\\$ = 1</code> to the child works ... on Linux (can&#39;t test on Windows right now).  Don&#39;t know whether it suits the purpose? It requires access to the child program."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507359996, "post_id": 46617331, "comment_id": 80186609, "body": "Unfortunately I don&#39;t have access to the child, and it seems that on windows it can be done by emulating console environment <a href=\"https://stackoverflow.com/a/11549033/223226\">stackoverflow.com/a/11549033/223226</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507360042, "post_id": 46617331, "comment_id": 80186625, "body": "That&#39;s basically what <code>unbuffer</code> does in unix too."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1507360479, "post_id": 46617331, "comment_id": 80186698, "body": "Using a module that sets up pty&#39;s?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1507360515, "post_id": 46617331, "comment_id": 80186704, "body": "Yes, something in that direction. Perhaps <a href=\"https://metacpan.org/pod/Win32::Console\" rel=\"nofollow noreferrer\">metacpan.org/pod/Win32::Console</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507361668, "post_id": 46617331, "comment_id": 80186960, "body": "It works with <code>Expect</code> (confirmed) -- again, on Linux.  Any chance to use Cygwin?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1507363553, "post_id": 46617331, "comment_id": 80187369, "body": "Tnx for the info but can&#39;t switch to cygwin."}], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1507357341, "creation_date": 1507357341, "question_id": 46617331, "link": "https://stackoverflow.com/questions/46617331/unbuffer-windows-programs", "title": "Unbuffer windows programs", "body": "<p>I would like to get child output as soon as it gets printed, and not all at once when child finishes, ie.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# this is only example of buffered child output\nopen (my $fh, \"-|\", \"perl\", \"-E\", \"sleep(1),say for 1..10\") // die $!;\n\n# all lines are buffered\nwhile (my $line = &lt;$fh&gt;) {\n    print $line;\n}\n</code></pre>\n\n<p>On linux it can be achieved with <a href=\"https://linux.die.net/man/1/unbuffer\" rel=\"nofollow noreferrer\">unbuffer</a>.</p>\n"}, {"tags": ["perl", "utf-8"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1507360225, "post_id": 46617113, "comment_id": 80186666, "body": "<code>cmp</code> doesn&#39;t know anything about character sets and encodings. It does straight up character (string element) by character (string element) comparisons. (Except possibly under <code>use locale;</code>, which you shouldn&#39;t use.)"}], "answers": [{"comments": [{"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1507359289, "post_id": 46617394, "comment_id": 80186430, "body": "Awesome, thanks. How would you go about sorting a hash inside the array? For example I&#39;m doing <code>$a-&gt;{name} cmp $b-&gt;{name}</code>?"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1507359733, "post_id": 46617394, "comment_id": 80186561, "body": "BTW, it works perfectly when I sort just an array of the names (without having it as a hash structure). I guess I could re-work how I do the data storage, but I&#39;ll wait to see if there is a better way before I spend ages doing that :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 1, "creation_date": 1507360062, "post_id": 46617394, "comment_id": 80186630, "body": "@AndrewNewby  Use <code>cmp</code> method, <code>@s = sort { $uc-&gt;cmp($a, $b) } @list;</code>,  for individual comparisons"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1507360250, "post_id": 46617394, "comment_id": 80186668, "body": "you legend!  Works like a charm: \t<code>my $uc  = Unicode::Collate-&gt;new(); \tmy @country_loop = sort { $uc-&gt;cmp($a-&gt;{name}, $b-&gt;{name}) } @country_loop_orig;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 2, "creation_date": 1507360323, "post_id": 46617394, "comment_id": 80186678, "body": "@AndrewNewby Cool :)  Just added a note for it"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1585434805, "last_edit_date": 1585434805, "creation_date": 1507357885, "answer_id": 46617394, "question_id": 46617113, "link": "https://stackoverflow.com/questions/46617113/using-sort-for-utf8-strings-in-perl/46617394#46617394", "title": "Using &quot;sort&quot; for utf8 strings in Perl", "body": "<p>The <a href=\"http://search.cpan.org/~sadahiro/Unicode-Collate-1.25/Collate.pm\" rel=\"nofollow noreferrer\">Unicode::Collate</a>\n should help with this.  </p>\n\n<p>A simple example that sorts your last list</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Unicode::Collate;\n\nuse open \":std\", \":encoding(UTF-8)\";\n\nopen my $fh, '&lt;', \"country_list.txt\";\nmy @list = &lt;$fh&gt;;\nchomp @list;\n\nmy $uc  = Unicode::Collate-&gt;new();\nmy @sorted = $uc-&gt;sort(@list);\n\nsay for @sorted;\n</code></pre>\n\n<p>However, in some languages non-ascii characters may have a very particular accepted placement, and the question doesn't provide <em>any</em> details.  Then perhaps <a href=\"http://search.cpan.org/dist/Unicode-Collate/Collate/Locale.pm\" rel=\"nofollow noreferrer\">Unicode::Collate::Locale</a> can help.</p>\n\n<p>See (study) <a href=\"https://www.perl.com/pub/2011/08/whats-wrong-with-sort-and-how-to-fix-it.html\" rel=\"nofollow noreferrer\">this perl.com article</a> and <a href=\"https://stackoverflow.com/a/15016188/4653379\">this post</a> (T. Christiansen), and  <a href=\"https://www.effectiveperlprogramming.com/2011/01/know-your-sort-orders/\" rel=\"nofollow noreferrer\">this effectiveperler article</a>.</p>\n\n<hr>\n\n<p>If data to be sorted is in a complex data structure, <code>cmp</code> method is for  individual comparison</p>\n\n<pre><code>my @sorted = map { $uc-&gt;cmp($a, $b) } @list;\n</code></pre>\n\n<p>where for <code>$a</code> and <code>$b</code> you'd extract what need be compared from the complex data structure.</p>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 46617394, "answer_count": 1, "score": 2, "last_activity_date": 1585434805, "creation_date": 1507355454, "question_id": 46617113, "link": "https://stackoverflow.com/questions/46617113/using-sort-for-utf8-strings-in-perl", "title": "Using &quot;sort&quot; for utf8 strings in Perl", "body": "<p>I'm trying to figure out how to sort an array alphabetically in Perl. Here is what I have that works fine in english:</p>\n\n<pre><code>   # List of countries (kept like this to keep clean, as its re-used in other places)\n    my $countries = {\n        'AT' =&gt; \"\u00edAustria\",\n        'AU' =&gt; \"Australia\",\n        'BE' =&gt; \"Belgium\",\n        'BG' =&gt; \"Bulgaria\",\n        'CA' =&gt; \"Canada\",\n        'CY' =&gt; \"Cyprus\",\n        'CZ' =&gt; \"Czech Republic\",\n        'DK' =&gt; \"Denmark\",\n        'EN' =&gt; \"England\",\n        'EE' =&gt; \"Estonia\",\n        'FI' =&gt; \"Finland\",\n        'FR' =&gt; \"France\",\n        'DE' =&gt; \"Germany\",\n        'GB' =&gt; \"Great Britain\",\n        'GR' =&gt; \"Greece\",\n        'HU' =&gt; \"Hungary\",\n        'IE' =&gt; \"Ireland\",\n        'IT' =&gt; \"Italy\",\n        'LV' =&gt; \"Latvia\",\n        'LT' =&gt; \"Lithuania\",\n        'LU' =&gt; \"Luxembourg\",\n        'MT' =&gt; \"Malta\",\n        'NZ' =&gt; \"New Zealand\",\n        'NL' =&gt; \"Netherlands\",\n        'PL' =&gt; \"Poland\",\n        'PT' =&gt; \"Portugal\",\n        'RO' =&gt; \"Romania\",\n        'SK' =&gt; \"Slovakia\",\n        'SI' =&gt; \"Slovenia\",\n        'ES' =&gt; \"Spain\",\n        'SE' =&gt; \"Sweden\",\n        'CH' =&gt; \"Switzerland\",\n        'SC' =&gt; \"Scotland\",\n        'UK' =&gt; \"United Kingdom\",\n        'US' =&gt; \"USA\",\n        'TK' =&gt; \"Turkey\",\n        'NO' =&gt; \"Norway\",\n        'MX' =&gt; \"Mexico\",\n        'IL' =&gt; \"Israel\",\n        'IN' =&gt; \"India\",\n        'IS' =&gt; \"Iceland\",\n        'CN' =&gt; \"China\",\n        'JP' =&gt; \"Japan\",\n        'VN' =&gt; \"\u00e1Vietnam\u00ed\"\n    };\n   # Populate the original loop with \"name\" and \"code\"\n    my @country_loop_orig;\n    print $IN-&gt;header;\n    foreach (keys %{$countries}) {\n      push @country_loop_orig, {\n        name =&gt; $countries-&gt;{$lang}-&gt;{$_},\n        code =&gt; $_\n      }\n    }\n\n   # sort it alphabetically\n   my @country_loop = sort { lc($a-&gt;{name}) cmp lc($b-&gt;{name})  } @country_loop_orig;\n</code></pre>\n\n<p>This works fine with the English versions:</p>\n\n<pre><code>Australia\nAustria\nBelgium\nBulgaria\nCanada\nChina\nCyprus\nCzech Republic\nDenmark\nEngland\nEstonia\nFinland\nFrance\nGermany\nGreat Britain\nGreece\nHungary\nIceland\nIndia\nIreland\nIsrael\nItaly\nJapan\nLatvia\nLithuania\nLuxembourg\nMalta\nMexico\nNetherlands\nNew Zealand\nNorway\nPoland\nPortugal\nRomania\nScotland\nSlovakia\nSlovenia\nSpain\nSweden\nSwitzerland\nTurkey\nUnited Kingdom\nUSA\nVietnam\n</code></pre>\n\n<p>...but when you try and do it with utf8 such as \u00ed\u00e9\u00f3 etc, it doesn't work:</p>\n\n<pre><code>Australia\nBelgium\nBulgaria\nCanada\nChina\nCyprus\nCzech Republic\nDenmark\nEngland\nEstonia\nFinland\nFrance\nGermany\nGreat Britain\nGreece\nHungary\nIceland\nIndia\nIreland\nIsrael\nItaly\nJapan\nLatvia\nLithuania\nLuxembourg\nMalta\nMexico\nNetherlands\nNew Zealand\nNorway\nPoland\nPortugal\nRomania\nScotland\nSlovakia\nSlovenia\nSpain\nSweden\nSwitzerland\nTurkey\nUnited Kingdom\nUSA\n\u00e1Vietnam\n\u00edAustria\n</code></pre>\n\n<p>How do you achieve this? I found <code>Sort::Naturally::XS</code>, but couldn't get it to work.</p>\n"}, {"tags": ["perl", "greatest-common-divisor"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1507315830, "post_id": 46611882, "comment_id": 80176362, "body": "Could you <a href=\"https://stackoverflow.com/posts/46611882/edit\">edit</a> the question to show an example of the <code>Integers1.txt</code> format?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507319265, "post_id": 46611882, "comment_id": 80177951, "body": "<i>&quot;The program isn&#39;t printing the pair array or the correct gcdcount&quot;</i> That would be because there is no <code>print</code> statement in your code."}, {"owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507319781, "post_id": 46611882, "comment_id": 80178176, "body": "@Borodin, I realize that and I edited it out for clarity. The print gcdcount is included under the minimal example I added later in the post."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507320095, "post_id": 46611882, "comment_id": 80178330, "body": "You&#39;re asking why your code doesn&#39;t print the pair array, and you edit out the <code>print</code> call for &quot;clarity&quot;? I can&#39;t say I understand your thinking."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507320315, "post_id": 46611882, "comment_id": 80178447, "body": "Please add <code>use strict</code> and <code>use warnings &#39;all&#39;</code> to the top of <i>every</i> Perl program you write and fix any resulting errors, especially before asking the whole world to help you with your code."}, {"owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507320481, "post_id": 46611882, "comment_id": 80178534, "body": "I&#39;m not receiving any errors is the issue, I&#39;m receiving 0 for the count because the loop is running only once."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507320656, "post_id": 46611882, "comment_id": 80178596, "body": "<i>Never</i> use subroutine prototypes unless you&#39;re absolutely clear what they do and particularly need that special effect. In this case I&#39;m pretty sure you don&#39;t understand Perl prototypes, and have jammed them in there despite pretty much every example of a Perl subroutine on the internet working without them. <code>sub gcd_iter($$) { ... }</code> is perfectly good as <code>sub gcd_iter { ... }</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507321274, "post_id": 46611882, "comment_id": 80178883, "body": "Some better test data would help. The GCD of both 83 &amp; 399 and 2 &amp; 33 is 1."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507316016, "post_id": 46611974, "comment_id": 80176439, "body": "The output is still the same with your suggestion. I&#39;m using Strawberry Perl at the  moment. Maybe it&#39;s an issue with the compiler...?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507322758, "post_id": 46611974, "comment_id": 80179476, "body": "@Kokio, Your program with my change outputs <code>3</code>, not <code>0</code>."}, {"owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507323734, "post_id": 46611974, "comment_id": 80179880, "body": "In hopes that image sharing is allowed within comments, here is my code: <a href=\"https://imgur.com/izGzAMR\" rel=\"nofollow noreferrer\">imgur.com/izGzAMR</a> One compiler is giving me an output of 0 while another is giving me a blank line. I assume that I interpreted your changes wrong somehow within the code and I&#39;d like to understand where I went wrong."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507323795, "post_id": 46611974, "comment_id": 80179905, "body": "That&#39;s not the code you posted. You removed the <code>or die</code>. Please re-add that and run again."}, {"owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507323993, "post_id": 46611974, "comment_id": 80179977, "body": "Added and reran. Outputs don&#39;t change."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507324046, "post_id": 46611974, "comment_id": 80179999, "body": "As far as I&#39;m concerned, something you&#39;ve said isn&#39;t true (e.g. that&#39;s not the program you ran, that&#39;s not the data file you used, etc). Found out what ti is, and you&#39;ve found your problem. Start by checking the number of elements in <code>@integers</code>."}, {"owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507324272, "post_id": 46611974, "comment_id": 80180087, "body": "I&#39;m not following. I&#39;m assuming this code SHOULD work, but it isn&#39;t."}, {"owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507324518, "post_id": 46611974, "comment_id": 80180186, "body": "Okay, well I&#39;m very thankful for that. I&#39;m using word-for-word code that should and does work on your end. Is it the compiler I&#39;m using? I&#39;m using both Active Perl and Strawberry Perl. I assume I will receive the correct results once I run the program on a Mac OSX or really anything different than Windows."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507326262, "post_id": 46611974, "comment_id": 80180768, "body": "No, it works no matter which build of <code>perl</code> you use. There&#39;s nothing version of platform specific in that code."}, {"owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507326408, "post_id": 46611974, "comment_id": 80180814, "body": "Would you be kind enough to post the code? I&#39;m a loss as to where I&#39;ve gone wrong after hours of editing."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "edited": false, "score": 0, "creation_date": 1507326500, "post_id": 46611974, "comment_id": 80180835, "body": "Added. Like I said, you probably aren&#39;t running the script you think you are running, or you aren&#39;t reading from the file you think you are reading. I&#39;ve already suggested you start by checking the number of elements in <code>@integers</code> (e.g. using <code>print(&quot;num integers: &quot;, 0+@integers, &quot;\\n&quot;);</code>)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1507326452, "last_edit_date": 1507326452, "creation_date": 1507315063, "answer_id": 46611974, "question_id": 46611882, "link": "https://stackoverflow.com/questions/46611882/perl-opens-file-but-doesnt-read-contents/46611974#46611974", "title": "Perl opens file but doesn&#39;t read contents", "body": "<p><code>&lt;$fh&gt;</code> in list context reads the remainder of the file and evaluates to a scalar for each line.</p>\n\n<p>That means <code>my @integers = &lt;$fh&gt;;</code> reads the remainder of the file the first time it's evaluated. The second time through the loop, there is nothing left to read.</p>\n\n<p>Replace</p>\n\n<pre><code>while (my @integers = &lt;$fh&gt;) {\n</code></pre>\n\n<p>with</p>\n\n<pre><code>chomp( my @integers = &lt;$fh&gt; );\nwhile (@integers) {\n</code></pre>\n\n<hr>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nsub gcd_iter($$) {\n    my ($u, $v) = @_;\n    while ($v) {\n    ($u, $v) = ($v, $u % $v);\n    }\nreturn abs($u);\n}\nmy $gcdcount = 0;\nmy $filename = \"Integers1.txt\";\nopen (my $fh, \"&lt;\", $filename) or die(\"Can't open file $filename, $!\");\nchomp( my @integers = &lt;$fh&gt; );\nwhile (@integers) {\n    my $value1 = shift(@integers);\n    my $value2 = shift(@integers);\n    my @trngpair = ($value1, $value2);\n    if (gcd_iter($value1,$value2)==1) {\n    $gcdcount++;\n    }\n}\nprint \"$gcdcount\\n\";\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 46611974, "answer_count": 1, "score": -1, "last_activity_date": 1507394736, "creation_date": 1507314620, "last_edit_date": 1507394736, "question_id": 46611882, "link": "https://stackoverflow.com/questions/46611882/perl-opens-file-but-doesnt-read-contents", "title": "Perl opens file but doesn&#39;t read contents", "body": "<p></p>\n\n<p>My Perl program seems to successfully open the text file I want it to read, but it's not using the information within the text file in the code.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nsub gcd_iter($$) {\n    my ( $u, $v ) = @_;\n\n    while ( $v ) {\n        ( $u, $v ) = ( $v, $u % $v );\n    }\n\n    return abs( $u );\n}\n\nmy $gcdcount = 0;\nmy $filename = \"Integers1.txt\";\n\nopen( my $fh, \"&lt;\", $filename ) or die( \"Can't open file $filename, $!\" );\n\nwhile ( my @integers = &lt;$fh&gt; ) {\n\n    my $value1   = shift( @integers );\n    my $value2   = shift( @integers );\n    my @trngpair = ( $value1, $value2 );\n\n    if ( gcd_iter( $value1, $value2 ) == 1 ) {\n        $gcdcount++;\n    }\n}\n\nprint \"$gcdcount\\n\";\n\nclose $fh;\n</code></pre>\n\n<p>The program isn't printing the pair array or the correct gcdcount. I have the program doing something similar 2 other times and the gcdcount is calculated properly, but for this one it's not. The output reads that the gcdcount is 0 every time I run the program. The subroutine for the gcd calculation is farther up in the code.</p>\n\n<p>The input file is normally 2000 lines of randomly generated integers, but the problem can be produced using the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>83\n399\n2\n343\n267\n120\n893\n33\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1507315190, "post_id": 46611876, "comment_id": 80176065, "body": "Missing <code>use strict; use warnings;</code>. Avoid <code>-w</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507315450, "post_id": 46611876, "comment_id": 80176185, "body": "Why do you use <code>%a %b %e %H:%M:%S %Y</code> if you want <code>06-Oct-2017</code>???"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507315475, "post_id": 46611876, "comment_id": 80176197, "body": "Why do you use <code>%a-%B-%e</code> if you want <code>06-10-2017</code>??? Why do you use <code>%h:%m:%s</code> if you want <code>11:35:10 PM</code>???"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1507315569, "post_id": 46611876, "comment_id": 80176250, "body": "You can&#39;t pick random format specifiers and expect to get the desired output! Read your documentation (<code>man strftime</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1507484287, "post_id": 46616909, "comment_id": 80217422, "body": "Actually <code>perldoc POSIX</code> shows only <i>there is</i> a function called <code>strftime</code> but doesn&#39;t show in detail how to use it. They suggest to <code>man strftime</code> which I second."}], "tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": -1, "last_activity_date": 1507353363, "creation_date": 1507353363, "answer_id": 46616909, "question_id": 46611876, "link": "https://stackoverflow.com/questions/46611876/time-and-date-using-localtime-function/46616909#46616909", "title": "Time and date using localtime function", "body": "<p>Perl has great built-in help. Start by running the command:</p>\n\n<pre><code>perldoc POSIX\n</code></pre>\n\n<p>and looking at the strftime section. \nHere is an ISO 8601 style timestamp:</p>\n\n<pre><code>schumack@linux2 18&gt; perl -MPOSIX -le 'print(strftime(\"%Y-%m-%dT%H:%M:%S\", localtime))'\n2017-10-07T00:11:41\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 0, "last_activity_date": 1507653968, "creation_date": 1507653968, "answer_id": 46671891, "question_id": 46611876, "link": "https://stackoverflow.com/questions/46611876/time-and-date-using-localtime-function/46671891#46671891", "title": "Time and date using localtime function", "body": "<p>Perl has great built-in help. Start by running the command:</p>\n\n<pre><code>perldoc POSIX\n</code></pre>\n\n<p>and looking at the strftime section. \nHere is an ISO 8601 style timestamp:</p>\n\n<pre><code>schumack@linux2 18&gt; perl -MPOSIX -le 'print(strftime(\"%Y-%m-%dT%H:%M:%S\", localtime))'\n2017-10-07T00:11:41\n</code></pre>\n\n<p>From perldoc POSIX:</p>\n\n<pre><code>\"strftime\"\n        Convert date and time information to string. Returns the string.\n\n        Synopsis:\n\n                strftime(fmt, sec, min, hour, mday, mon, year,\n                         wday = -1, yday = -1, isdst = -1)\n\n        The month (\"mon\"), weekday (\"wday\"), and yearday (\"yday\") begin at\n        zero, i.e., January is 0, not 1; Sunday is 0, not 1; January 1st\n        is 0, not 1. The year (\"year\") is given in years since 1900, i.e.,\n        the year 1995 is 95; the year 2001 is 101. Consult your system's\n        \"strftime()\" manpage for details about these and the other\n        arguments.\n\n        If you want your code to be portable, your format (\"fmt\") argument\n        should use only the conversion specifiers defined by the ANSI C\n        standard (C89, to play safe). These are \"aAbBcdHIjmMpSUwWxXyYZ%\".\n        But even then, the results of some of the conversion specifiers\n        are non-portable. For example, the specifiers \"aAbBcpZ\" change\n        according to the locale settings of the user, and both how to set\n        locales (the locale names) and what output to expect are\n        non-standard. The specifier \"c\" changes according to the timezone\n        settings of the user and the timezone computation rules of the\n        operating system. The \"Z\" specifier is notoriously unportable\n        since the names of timezones are non-standard. Sticking to the\n        numeric specifiers is the safest route.\n\n        The given arguments are made consistent as though by calling\n        \"mktime()\" before calling your system's \"strftime()\" function,\n        except that the \"isdst\" value is not affected.\n\n        The string for Tuesday, December 12, 1995.\n\n                $str = POSIX::strftime( \"%A, %B %d, %Y\",\n                                         0, 0, 0, 12, 11, 95, 2 );\n                print \"$str\\n\";\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 3834663, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5d57a494e224d18d06846290386de89b?s=128&d=identicon&r=PG&f=1", "display_name": "user3834663", "link": "https://stackoverflow.com/users/3834663/user3834663"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1507653968, "creation_date": 1507314597, "last_edit_date": 1507466219, "question_id": 46611876, "link": "https://stackoverflow.com/questions/46611876/time-and-date-using-localtime-function", "title": "Time and date using localtime function", "body": "\n\n<p>I'm trying to get a customized date and time output using Perl.</p>\n\n<p>Can someone help me to get the output as desired?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl -w\n\nuse POSIX;\n\nmy ($sec, $min, $hour, $mday, $mon, $year, $wday, $yday, $isdst) = localtime(time);\n$year += 1900;\nprint \"$sec, $min, $hour, $mday, $mon, $year, $wday, $yday, $isdst\\n\";\n\n$now_string = localtime;\nprint \"$now_string\\n\";\n\n$date = strftime \"%a %b %e %H:%M:%S %Y\", localtime;\nprint \"Date1 is: $date\\n\";\n\n$date = strftime \"%a-%B-%e\", localtime;\nprint \"Date2 is: $date\\n\";\n\n$time = strftime \"%H:%M:%S\", localtime;\nprint \"Time1 is: $time\\n\";\n\n$time1 = strftime \"%h:%m:%s\", localtime;\nprint \"Time2 is: $time1\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>15, 2, 18, 8, 9, 2017, 0, 280, 0\nSun Oct  8 18:02:15 2017\nDate1 is: Sun Oct  8 18:02:15 2017\nDate2 is: Sun-October- 8\nTime1 is: 18:02:15\nTime2 is: Oct:10:1507465935\n</code></pre>\n\n<h3>Desired output:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Date1 is: 06-Oct-2017\nDate2 is: 06-10-2017\nTime1 is: 23:35:10\nTime2 is: 11:35:10 PM\n</code></pre>\n"}, {"tags": ["perl", "autoconf"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1507302937, "post_id": 46608837, "comment_id": 80169699, "body": "I think you are using a program (<code>&#47;usr&#47;local&#47;mac-dev-env&#47;autoconf-2.69&#47;bin&#47;autom4te</code>) that was installed using the <code>perl</code> you uninstalled. You could try editing its shebang line to use a different <code>perl</code>, but this &quot;new&quot; <code>perl</code> might not have every dependency of the script installed. The better solution is to reinstall that program with the &quot;new&quot; <code>perl</code>."}, {"owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507302978, "post_id": 46608837, "comment_id": 80169727, "body": "Yes... what do you mean by &#39;shebang line&#39;?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507303000, "post_id": 46608837, "comment_id": 80169738, "body": "<a href=\"https://en.wikipedia.org/wiki/Shebang_(Unix)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Shebang_(Unix)</a>"}, {"owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507303515, "post_id": 46608837, "comment_id": 80170069, "body": "Thanks, that worked. The file warned that it was autogenerated, but I changed the path in it anyway, and that seemed to be fine. Also had to change the corresponding line in another file called &#39;autoheader&#39; - just leaving this here in case it helps someone else!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507379045, "post_id": 46608837, "comment_id": 80191121, "body": "You might want to write that up as an answer and accept it. That would be useful for future readers. :)"}], "answers": [{"tags": [], "owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "is_accepted": true, "score": 0, "last_activity_date": 1507558512, "creation_date": 1507558512, "answer_id": 46648579, "question_id": 46608837, "link": "https://stackoverflow.com/questions/46608837/autoconf-looking-for-a-folder-that-doesnt-exist/46648579#46648579", "title": "autoconf looking for a folder that doesn&#39;t exist", "body": "<p>Ok, thanks to Ikegami, here's what worked:</p>\n\n<p>Opened autom4te (at /usr/local/mac-dev-env/autoconf-2.69/bin/autom4te, as specified in the error message).</p>\n\n<p>The comment at the top said that this file should not be edited as it's auto-generated, but I edited the line that referred to XAMPP, and changed the path to /usr/bin/perl</p>\n\n<p>Ran \"sudo pecl install intl\" again, and ran into the same error with a few different programs (all within the autoconf-2.69 directory). Changed each of them to remove the reference to XAMPP, and replaced with the correct path.</p>\n\n<p>Ran install command again, and it worked.</p>\n"}], "owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 46648579, "answer_count": 1, "score": 0, "last_activity_date": 1507558512, "creation_date": 1507302646, "last_edit_date": 1507321443, "question_id": 46608837, "link": "https://stackoverflow.com/questions/46608837/autoconf-looking-for-a-folder-that-doesnt-exist", "title": "autoconf looking for a folder that doesn&#39;t exist", "body": "<p>I've been setting up a PHP development environment on my Sierra Mac. I now have it mostly working, but need to install the <code>intl</code> extension on PHP.</p>\n\n<p>I've tried</p>\n\n<pre><code>sudo pecl install intl\n</code></pre>\n\n<p>but it's throwing the following error:</p>\n\n<pre><code>/usr/local/autoconf/bin/autoconf: /usr/local/mac-dev-env/autoconf-2.69/bin/autom4te: /Applications/XAMPP/xamppfiles/bin/perl: bad interpreter: No such file or directory\n/usr/local/autoconf/bin/autoconf: line 505: /usr/local/mac-dev-env/autoconf-2.69/bin/autom4te: Undefined error: 0\nERROR: `phpize' failed\n</code></pre>\n\n<p>It looks like it's looking for the Perl executable in <code>/Applications/XAMPP/xamppfiles/bin/perl</code>, which no longer exists, as I've since uninstalled <code>XAMPP</code>. Perl is now located at <code>/usr/bin/perl</code>.</p>\n\n<p>How do I change the location in <code>autoconf</code>?</p>\n"}, {"tags": ["linux", "perl", "awk", "sed", "text-processing"], "comments": [{"owner": {"reputation": 187, "user_id": 6121329, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/538730086d11be2308bc227aeb10978b?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/6121329/gavin"}, "edited": false, "score": 0, "creation_date": 1507299945, "post_id": 46607729, "comment_id": 80167805, "body": "Yes Ed, unfortunately. This is the format I am given and I don&#39;t have the ability to change it."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507300136, "post_id": 46607729, "comment_id": 80167926, "body": "do the rows have a fixed number of fields?"}, {"owner": {"reputation": 187, "user_id": 6121329, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/538730086d11be2308bc227aeb10978b?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/6121329/gavin"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507300215, "post_id": 46607729, "comment_id": 80167968, "body": "@ChrisTurner yes there is a fixed number of fields"}, {"owner": {"reputation": 187, "user_id": 6121329, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/538730086d11be2308bc227aeb10978b?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/6121329/gavin"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1507300242, "post_id": 46607729, "comment_id": 80167982, "body": "@EdMorton Yeah, I can identify which field typically has the multiline data."}, {"owner": {"reputation": 187, "user_id": 6121329, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/538730086d11be2308bc227aeb10978b?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/6121329/gavin"}, "edited": false, "score": 1, "creation_date": 1507301093, "post_id": 46607729, "comment_id": 80168565, "body": "Sorry Ed, I didn&#39;t realize you had edited my original question. Reverted back."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507301179, "post_id": 46607729, "comment_id": 80168622, "body": "I&#39;m confused how the good example differs from the bad one - neither of them are valid CSV files due to the multi-line fields not being in quotes"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507301340, "post_id": 46607729, "comment_id": 80168720, "body": "@ChrisTurner While I agree they may be non-standard, the first one has <code>|</code>-separated records ending in <code>\\r\\n</code> so it&#39;s trivially and consistently uniformly parsable without quotes, e.g. with <code>gawk -v RS=&#39;\\r\\n&#39; -F&#39;|&#39; ...</code>, while that is not the case for the second one because what should be the record terminating string <code>\\r\\n</code> can also appear mid-record. I&#39;d actually have to check the RFC to be sure that first example is non-standard because quotes should only be necessary if a field can contain the separator (<code>|</code>) or the record terminator (<code>\\r\\n</code>) and only the 2nd example has that situation."}, {"owner": {"reputation": 187, "user_id": 6121329, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/538730086d11be2308bc227aeb10978b?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/6121329/gavin"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1507302046, "post_id": 46607729, "comment_id": 80169185, "body": "@EdMorton the only difference is that in my actual data, the bad data is in the 12th column. How would your script change based on that?"}, {"owner": {"reputation": 187, "user_id": 6121329, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/538730086d11be2308bc227aeb10978b?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/6121329/gavin"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1507303196, "post_id": 46607729, "comment_id": 80169875, "body": "@EdMorton updated the question. Sorry about that"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1507303462, "post_id": 46607729, "comment_id": 80170044, "body": "OK, I updated <a href=\"https://stackoverflow.com/a/46608101/1745001\">my answer</a> to work for your new example."}], "answers": [{"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1507304070, "last_edit_date": 1507304070, "creation_date": 1507300264, "answer_id": 46608101, "question_id": 46607729, "link": "https://stackoverflow.com/questions/46607729/remove-carriage-returns-from-csv-data-value/46608101#46608101", "title": "Remove carriage returns from CSV data value", "body": "<p>With GNU awk for multi-char RS and RT:</p>\n\n<pre><code>$ awk -v RS='([^|]+[|]){3}[^|]+\\r\\n' -v ORS= '{$0=RT; gsub(/\\r/,\"\"); sub(/\\n$/,\"\\r\\n\")} 1' file | cat -v\nSchool|City|State|Country^M\nHarvard University|Cambridge|MA|USA^M\nPrinceton University|Princeton|New\nJersey\n|USA^M\n</code></pre>\n\n<p>Note that it assumes the number of fields is 4 so if you have some other number of fields then change <code>3</code> to that number minus 1. The script COULD instead calculate the number of fields by reading the first line of your input if that first line cannot have your problem:</p>\n\n<pre><code>$ awk '\n    BEGIN { RS=\"\\r\\n\"; ORS=\"\"; FS=\"|\" }\n    FNR==1 { RS=\"([^|]+[|]){\"NF-1\"}[^|]+\\r\\n\"; RT=$0 RT }\n    { $0=RT; gsub(/\\r/,\"\"); sub(/\\n$/,\"\\r\\n\"); print }\n' file | cat -v\nSchool|City|State|Country^M\nHarvard University|Cambridge|MA|USA^M\nPrinceton University|Princeton|New\nJersey\n|USA^M\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 1, "last_activity_date": 1507304696, "creation_date": 1507304696, "answer_id": 46609423, "question_id": 46607729, "link": "https://stackoverflow.com/questions/46607729/remove-carriage-returns-from-csv-data-value/46609423#46609423", "title": "Remove carriage returns from CSV data value", "body": "<p>This is one possible solution in perl. It reads in a line and if there are less than 4 fields, it keeps reading in the next line and merging it until it does have 4 fields. Just change the value of <code>$number_of_fields</code> to the right number.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $number_of_fields=4;\n\nwhile(&lt;STDIN&gt;)\n    {\n    s/[\\r\\n]//g;\n    my @fields=split(/\\|/);\n    next if($#fields==-1);   \n\n    while($#fields&lt;$number_of_fields-1)\n        {\n        my $nextline=&lt;STDIN&gt; || last;\n        $nextline =~ s/[\\r\\n]//g;\n        my @tmpfields=split(/\\|/,$nextline);\n        next if($#tmpfields==-1);\n        $fields[$#fields] .= \"\\n\".$tmpfields[0];\n        shift @tmpfields;\n        push @fields,@tmpfields;\n        }\n    print join(\"|\",@fields),\"\\r\\n\";\n    }\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 6121329, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/538730086d11be2308bc227aeb10978b?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/6121329/gavin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1507457701, "creation_date": 1507299043, "last_edit_date": 1507302996, "question_id": 46607729, "link": "https://stackoverflow.com/questions/46607729/remove-carriage-returns-from-csv-data-value", "title": "Remove carriage returns from CSV data value", "body": "<p>I am importing data from a pipe-delimited CSV to MySQL using a LOAD DATA INFILE statement. I am terminating lines by using '\\r\\n'. My problem is that some of the data within each row has '\\r\\n' in it, causing the load to error. I have similar files that just use '\\n' within data to indicate linebreaks, and that causes no issues.</p>\n\n<p>Example GOOD CSV</p>\n\n<pre><code>School|City|State|Country\\r\nHarvard University|Cambridge|MA|USA\\r\nPrinceton University|Princeton|New\nJersey\n|USA\\r\n</code></pre>\n\n<p>Example BAD CSV</p>\n\n<pre><code>School|City|State|Country\\r\nHarvard University|Cambridge|MA|USA\\r\nPrinceton University|Princeton|New\\r\nJersey\\r\n|USA\\r\n</code></pre>\n\n<p>Is there a way to pre-process the CSV, using sed, awk, or perl, to clean up the extra carriage return in the column values?</p>\n"}, {"tags": ["perl", "batch-file", "jenkins"], "comments": [{"owner": {"reputation": 2275, "user_id": 1215753, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Se56j.png?s=128&g=1", "display_name": "gareththegeek", "link": "https://stackoverflow.com/users/1215753/gareththegeek"}, "edited": false, "score": 1, "creation_date": 1507296669, "post_id": 46605475, "comment_id": 80165640, "body": "To indent code, you press tab not return :P"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1507303362, "post_id": 46605475, "comment_id": 80169983, "body": "The code you show is not your real program. The string <code>&#39;C:\\Users\\lavana\\Projects\\MyApplication\\&#39;</code> escapes the closing single quote, resulting in a multi-line string which ends at the apostrophe in <code>&quot;can&#39;t opendir $source_dir: $!&quot;</code> and making nonsense of the rest of your code. If you want help with your problem then it&#39;s best not to lie to us. Please post your real code."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507292812, "post_id": 46605627, "comment_id": 80163146, "body": "I want to access the batch environment variable before my Perl runs i ran .bat file which is set environment variable and the same value want to retrieve inside Perl program. any solution please ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1507294263, "post_id": 46605627, "comment_id": 80164091, "body": "Please don&#39;t link to articles that use the phrase &quot;associative arrays&quot;. They have been called &quot;hashes&quot; since Perl 5 was released in 1994. Any article that calls them associative arrays is either very old or written by someone whose Perl knowledge is outdated."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507298883, "post_id": 46605627, "comment_id": 80167118, "body": "In any case, every array is &quot;associative&quot; and the name is meaningless."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1507299174, "post_id": 46605627, "comment_id": 80167286, "body": "Please read <a href=\"https://meta.stackexchange.com/q/8231/170274\"><i>Are answers that just contain links elsewhere really \u201cgood answers\u201d?</i></a>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1507303772, "post_id": 46605627, "comment_id": 80170228, "body": "@ikegami: I know that &quot;associative array&quot; is a good description of what a Perl hash actually is. My point is that it&#39;s a term that the community moved away from over twenty years ago and nowadays, its use in an article should be seen as a red flag."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1507304213, "post_id": 46605627, "comment_id": 80170469, "body": "@DaveCross: Indeed, and the term is a gross and lazy one anyway. <a href=\"https://xlinux.nist.gov/dads/HTML/assocarray.html\" rel=\"nofollow noreferrer\"><code>xlinux.nist.gov</code></a> has &quot;<b><i>associative array</i></b> <i>(data structure)</i> <b><i>Definition:</i></b> <i>A collection of items that are randomly accessible by a key, often a string</i>&quot; which applies equally to an ordinary array, so the label is horribly ambiguous."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507307955, "post_id": 46605627, "comment_id": 80172434, "body": "@David Cross, I disagree. I use &quot;associative array&quot; to refer to hashes in a polyglotal context such as when introducing people to Perl, and that appears to be the audience of that article. That way, everyone&#39;s on equal footing, because we can use a language-independent term with a well understood <a href=\"https://en.wikipedia.org/wiki/Associative_array\" rel=\"nofollow noreferrer\">definition</a>. That way, someone coming from another language could associate hashes with <code>Dictionary</code> or whatever associative arrays with which they are familiar."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507308084, "post_id": 46605627, "comment_id": 80172505, "body": "So if they want an associative array (e.g. to insert arbitrary elements, something an array can&#39;t do), this would teach them they want a hash."}], "tags": [], "owner": {"reputation": 226, "user_id": 2136124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49dffab8bb2a8870425a8217219d2c1b?s=128&d=identicon&r=PG", "display_name": "pav", "link": "https://stackoverflow.com/users/2136124/pav"}, "is_accepted": false, "score": -2, "last_activity_date": 1507292473, "creation_date": 1507292473, "answer_id": 46605627, "question_id": 46605475, "link": "https://stackoverflow.com/questions/46605475/access-batch-environment-variables-inside-perl-script/46605627#46605627", "title": "Access batch environment variables inside Perl script", "body": "<p>Perhaps <a href=\"https://perldoc.perl.org/Env.html\" rel=\"nofollow noreferrer\">ENV perl module</a> or <a href=\"https://alvinalexander.com/perl/edu/articles/pl020002\" rel=\"nofollow noreferrer\">ENV associative arrays</a>?</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507317817, "post_id": 46608863, "comment_id": 80177295, "body": "The variable you&#39;re talking about is a hash, so it&#39;s called <code>%ENV</code>, not <code>$ENV</code> and you use braces, not parentheses, to access the values - <code>$ENV{versionName}</code>."}, {"owner": {"reputation": 4270, "user_id": 8644566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Iymv.jpg?s=128&g=1", "display_name": "Rob Hales", "link": "https://stackoverflow.com/users/8644566/rob-hales"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1507320133, "post_id": 46608863, "comment_id": 80178351, "body": "Oi. Fixed. I haven&#39;t written perl in a while and syntax got crossed. My fingers don&#39;t always do what I ask them. And I just screwed up the reference to the hash. Thanks for the correction."}], "tags": [], "owner": {"reputation": 4270, "user_id": 8644566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Iymv.jpg?s=128&g=1", "display_name": "Rob Hales", "link": "https://stackoverflow.com/users/8644566/rob-hales"}, "is_accepted": false, "score": -2, "last_activity_date": 1507319935, "last_edit_date": 1507319935, "creation_date": 1507302710, "answer_id": 46608863, "question_id": 46605475, "link": "https://stackoverflow.com/questions/46605475/access-batch-environment-variables-inside-perl-script/46608863#46608863", "title": "Access batch environment variables inside Perl script", "body": "<p>To get to an environment variable in perl you should use %ENV, or the Env perl module. For your example, this is probably the easiest: </p>\n\n<pre><code>my $version_name = $ENV{versionName}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507614769, "post_id": 46609022, "comment_id": 80267525, "body": "I am creating folder and files are not copying in my $target_dir."}, {"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1507614787, "post_id": 46609022, "comment_id": 80267533, "body": "can you anyone advise please"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1507317710, "last_edit_date": 1507317710, "creation_date": 1507303218, "answer_id": 46609022, "question_id": 46605475, "link": "https://stackoverflow.com/questions/46605475/access-batch-environment-variables-inside-perl-script/46609022#46609022", "title": "Access batch environment variables inside Perl script", "body": "<p>The environment is accessed via the <code>%ENV</code> hash.</p>\n\n<p>Replace</p>\n\n<pre><code>$Artifact_name = \"Motiv_Android_\\_V\\_%versionName%\";\n</code></pre>\n\n<p>with</p>\n\n<pre><code>$Artifact_name = \"Motiv_Android_\\_V\\_$ENV{versionName}\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$Artifact_name = \"Motiv_Android_\\_V\\_\" . $ENV{versionName};\n</code></pre>\n\n<p>Note that those slashes are useless, so you could use</p>\n\n<pre><code>$Artifact_name = \"Motiv_Android__V_\" . $ENV{versionName};\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1507319935, "creation_date": 1507291972, "last_edit_date": 1507298764, "question_id": 46605475, "link": "https://stackoverflow.com/questions/46605475/access-batch-environment-variables-inside-perl-script", "title": "Access batch environment variables inside Perl script", "body": "<p>I am trying to send the Jenkins artifacts to shared drive post build activity using a Perl script, but from the code below the <code>%versionName%</code> value is already set as an environment variable from the batch script.</p>\n\n<p>I don\u2019t how to pass the environment variables into a Perl script. I am getting the output <code>Motiv_Android__V_%versionName%</code>, but I am expecting <code>Motiv_Android__V_1.X.X.X</code>. \nThe value of <code>%versionName%</code> is <code>1.X.X.X</code>.</p>\n\n<pre><code>use warnings;\n\nuse File::Copy;\nuse File::Copy::Recursive qw (dircopy);\n\n\nmy $source_dir   = 'C:\\test';\nmy $target_dir   = 'Z:\\main\\term\\ban\\test';\nmy $artifact_dir = 'C:\\Users\\lavana\\Projects\\MyApplication\\';\n\nmy ( %versionName ) = @ARGV;\n\n$Artifact_name = \"Motiv_Android_\\_V\\_%versionName%\";\n\nprint \"artifact $Artifact_name\\n\";\n\nmkdir $Artifact_name;\n\nopendir( my $DIR, $source_dir ) || die \"can't opendir $source_dir: $!\"; \n\nmy @files = readdir( $DIR );\n\nforeach my $t ( sort grep( /^.*\\.apk$/, @files ) ) {\n\n    if ( \"$source_dir/$t\" ) {\n        copy \"$source_dir/$t\", \"./$Artifact_name/$t\"\n        dircopy(\"$artifact_dir/$Artifact_name\",\"$target_dir/$Artifact_name\");\n    }\n}\n\nclosedir($DIR);\n</code></pre>\n"}, {"tags": ["perl", "winrs"], "comments": [{"owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "edited": false, "score": 0, "creation_date": 1507322863, "post_id": 46605226, "comment_id": 80179511, "body": "You have to escape the backslashes or use forward slashes.  That means, replace the path either with &quot;d:\\\\tmp\\\\transfer_remove_file.bat&quot; or &quot;d:/tmp/transfer_remove_file.bat&quot;.  You probably have more bugs in your script but that will maybe bring you one step forward."}, {"owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "edited": false, "score": 0, "creation_date": 1507376383, "post_id": 46605226, "comment_id": 80190497, "body": "try run it as open(my $ph, &quot;comand |&quot;); <a href=\"https://perldoc.perl.org/perlipc.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlipc.html</a>. then select it by IO::Select and read it in a loop when it possible."}, {"owner": {"reputation": 13, "user_id": 1536856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd9f33cbe0aba31c0b451d00b9b0dd17?s=128&d=identicon&r=PG&f=1", "display_name": "Ganeshwari", "link": "https://stackoverflow.com/users/1536856/ganeshwari"}, "edited": false, "score": 0, "creation_date": 1507722857, "post_id": 46605226, "comment_id": 80322525, "body": "I am getting this error message, after using open with pipe and IO::Select      &quot;Winrs error:The pipe is being closed.&quot;"}], "owner": {"reputation": 13, "user_id": 1536856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd9f33cbe0aba31c0b451d00b9b0dd17?s=128&d=identicon&r=PG&f=1", "display_name": "Ganeshwari", "link": "https://stackoverflow.com/users/1536856/ganeshwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507291388, "creation_date": 1507291194, "last_edit_date": 1507291388, "question_id": 46605226, "link": "https://stackoverflow.com/questions/46605226/winrs-using-backtick-in-perl-hangs", "title": "winrs using backtick in perl hangs", "body": "<p>I ran the following winrs command using backtick (``) in perl script,</p>\n\n<pre><code>$result = `winrs -r:&lt;system_name&gt; d:\\tmp\\transfer_remove_file.bat`\n</code></pre>\n\n<p>winrs windows is hangs after executing and it didn't return the output, after I close the window, I am able to see the output of winrs command.</p>\n\n<p>As I need to capture the winrs result, I am using backtick, if I use system() call, it is not hanging, but i am not able to capture the output. </p>\n\n<p>I can redirect the output of winrs to a file and use system(), like as follow,</p>\n\n<pre><code>system( winrs -r:&lt;system_name&gt; d:\\tmp\\transfer_remove_file.bat &gt;&gt; testlog.txt )\n</code></pre>\n\n<p>but when using multiple winrs in the same script and doing the redirect to same file, getting the following error </p>\n\n<blockquote>\n  <p>the process cannot access the file because it is being used by another process.</p>\n</blockquote>\n\n<p>Please help me to address this issue</p>\n"}, {"tags": ["perl", "active-directory", "ldap"], "answers": [{"tags": [], "owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "is_accepted": false, "score": 0, "last_activity_date": 1507323698, "creation_date": 1507323698, "answer_id": 46613872, "question_id": 46600734, "link": "https://stackoverflow.com/questions/46600734/create-a-new-ad-user-by-copying-all-attributes-of-an-existing-ad-user/46613872#46613872", "title": "Create a new AD user by copying all attributes of an existing AD user", "body": "<p>No, you have to update the directory manually.  Keep in mind that perl-ldap is a library for the protocol LDAP and not for Active Directory which is just one application for LDAP.</p>\n\n<p>And, by the way, it's Net::LDAPS, not Net::LDAP.  The latter will only work on case-insensitive file systems.</p>\n"}], "owner": {"reputation": 33, "user_id": 8428286, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1891924112f85f20f923512cbae27c0?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek B Ahmed", "link": "https://stackoverflow.com/users/8428286/vivek-b-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507323698, "creation_date": 1507275752, "question_id": 46600734, "link": "https://stackoverflow.com/questions/46600734/create-a-new-ad-user-by-copying-all-attributes-of-an-existing-ad-user", "title": "Create a new AD user by copying all attributes of an existing AD user", "body": "<p>We have a requirement to create new AD users through perl using NET::LDAPS.<br>\nThe new user needs to be a copy of an existing user.<br>\nOn the Active Directory GUI (dsa.msc), we would simply select the existing user and create a copy with new username and details. This copies all attributes including groups the user is a member of.</p>\n\n<p>Is there similar code using LDAP that would copy all attributes of an existing user into a new user(including groups).<br>\nAlternatively, do we need to first create the AD user and then add the user to existing groups. In this case, how do we find out the groups that the existing user is a member of?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507274577, "post_id": 46600298, "comment_id": 80152586, "body": "You open <code>file1</code> for <i>reading</i> (with <code>&lt;...</code>) but then you write to it ...?"}, {"owner": {"reputation": 23, "user_id": 8680621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44602a32f9b972e0155752e36a4551f?s=128&d=identicon&r=PG&f=1", "display_name": "Manik Sharma", "link": "https://stackoverflow.com/users/8680621/manik-sharma"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507274704, "post_id": 46600298, "comment_id": 80152661, "body": "i changed that one for writing also but still it is not working"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507274854, "post_id": 46600298, "comment_id": 80152745, "body": "What do you want to do: (1) Open an existing file for reading and copy it to another  --OR-- (2) Open a new file for writing, write to it, then copy it to another ... ?"}, {"owner": {"reputation": 23, "user_id": 8680621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44602a32f9b972e0155752e36a4551f?s=128&d=identicon&r=PG&f=1", "display_name": "Manik Sharma", "link": "https://stackoverflow.com/users/8680621/manik-sharma"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507275133, "post_id": 46600298, "comment_id": 80152921, "body": "i want to create 4 files then copy them to other location."}, {"owner": {"reputation": 23, "user_id": 8680621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44602a32f9b972e0155752e36a4551f?s=128&d=identicon&r=PG&f=1", "display_name": "Manik Sharma", "link": "https://stackoverflow.com/users/8680621/manik-sharma"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507275178, "post_id": 46600298, "comment_id": 80152952, "body": "i tried first opening file to write then opening same for read and then i move but still result is same"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1507275291, "post_id": 46600298, "comment_id": 80153022, "body": "Always check the return value of <a href=\"http://p3rl.org/open\" rel=\"nofollow noreferrer\">open</a>: <code>open my $FH1, &#39;&lt;&#39;, &quot;&#47;u&#47;man&#47;fr$i.txt&quot; or die &quot;fr$i.txt: $!&quot;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507275468, "post_id": 46600298, "comment_id": 80153119, "body": "OK.  1) You must open the file for writing in order to write to it  (2) you have to first close that filehandle in order to be able to then read from it."}, {"owner": {"reputation": 23, "user_id": 8680621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44602a32f9b972e0155752e36a4551f?s=128&d=identicon&r=PG&f=1", "display_name": "Manik Sharma", "link": "https://stackoverflow.com/users/8680621/manik-sharma"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1507275716, "post_id": 46600298, "comment_id": 80153255, "body": "@choroba I tried your suggestion and my code is running and not throwing any error or not stopping it is executing full but still same result"}, {"owner": {"reputation": 23, "user_id": 8680621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44602a32f9b972e0155752e36a4551f?s=128&d=identicon&r=PG&f=1", "display_name": "Manik Sharma", "link": "https://stackoverflow.com/users/8680621/manik-sharma"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507275824, "post_id": 46600298, "comment_id": 80153312, "body": "@zdim I open file1 first then I close file1 then only I opened file2  and created a new handler file3 which is having the file in read mode then only i moved the file  but still it is not working"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507275972, "post_id": 46600298, "comment_id": 80153398, "body": "Posted an example"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8680621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44602a32f9b972e0155752e36a4551f?s=128&d=identicon&r=PG&f=1", "display_name": "Manik Sharma", "link": "https://stackoverflow.com/users/8680621/manik-sharma"}, "edited": false, "score": 0, "creation_date": 1507279914, "post_id": 46600753, "comment_id": 80155552, "body": "Thanks for the help I tried this one now my code work fine"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1507276120, "last_edit_date": 1507276120, "creation_date": 1507275808, "answer_id": 46600753, "question_id": 46600298, "link": "https://stackoverflow.com/questions/46600298/perl-copying-file-from-one-location-to-other-but-content-not-copying/46600753#46600753", "title": "Perl-Copying file from one location to other but content not copying", "body": "<p>You need to close the filehandle that was written to in order to be able to read from that file.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nfor my $i (1..4)\n{\n    my $file = \"file_$i.txt\";\n    open my $fh, '&gt;', $file or die \"Can't open $file: $!\";\n\n    say $fh \"Written to $file\";\n\n    # Opening the same filehandle first *closes* it if already open\n    open $fh, '&lt;', $file  or die \"Can't open $file: $!\";\n\n    my $copy = \"copy_$i.txt\";\n    open my $fh_cp, '&gt;', $copy  or die \"Can't open $copy: $!\";\n\n    while (&lt;$fh&gt;) {\n        print $fh_cp $_;\n    }\n    close $fh_cp;  # in case of early errors in later iterations\n    close $fh;\n}\n</code></pre>\n\n<p>This creates the four files, <code>file_1.txt</code> etc, and their copies, <code>copy_1.txt</code> etc.</p>\n\n<p>Please note the <strong>compulsory</strong> checking whether <code>open</code> worked. </p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 8680621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44602a32f9b972e0155752e36a4551f?s=128&d=identicon&r=PG&f=1", "display_name": "Manik Sharma", "link": "https://stackoverflow.com/users/8680621/manik-sharma"}, "edited": false, "score": 0, "creation_date": 1507279892, "post_id": 46600820, "comment_id": 80155542, "body": "Thanks for the suggestion i used and it help a lot as my file was not opening properly"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1507276049, "creation_date": 1507276049, "answer_id": 46600820, "question_id": 46600298, "link": "https://stackoverflow.com/questions/46600298/perl-copying-file-from-one-location-to-other-but-content-not-copying/46600820#46600820", "title": "Perl-Copying file from one location to other but content not copying", "body": "<p>You can't write to a filehandle that's not open for writing. You can't read from a filehandle that's not open for reading. Never ignore the return value of <a href=\"http://p3rl.org/open\" rel=\"nofollow noreferrer\">open</a>.</p>\n\n<pre><code># !/usr/bin/perl\nuse warnings;                              # Be warned about mistakes.\nuse strict;                                # Prohibit stupid things.\n\nfor my $i (1 .. 4) {                       # lexical variable, range\n    open my $FH1, '&gt;', \"/u/man/fr$i.txt\"   # 3 argument open, lexical filehandle, open for writing\n        or die \"$i: $!\";                   # Checking the return value of open\n\n    print \"Enter text for file $i: \";\n    my $txt = &lt;STDIN&gt;;\n    print {$FH1} $txt;\n\n    open my $FH2, '&lt;', \"/u/man/fr$i.txt\"   # Reopen for reading.\n        or die \"$i: $!\";\n    open my $FH3, '&gt;', \"/u/man/result/fr$i.txt\" or die \"$i: $!\";\n    while (&lt;$FH2&gt;) {\n        print {$FH3} $_;\n    }\n    close $FH3;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 8680621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44602a32f9b972e0155752e36a4551f?s=128&d=identicon&r=PG&f=1", "display_name": "Manik Sharma", "link": "https://stackoverflow.com/users/8680621/manik-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1507280182, "creation_date": 1507280182, "answer_id": 46602000, "question_id": 46600298, "link": "https://stackoverflow.com/questions/46600298/perl-copying-file-from-one-location-to-other-but-content-not-copying/46602000#46602000", "title": "Perl-Copying file from one location to other but content not copying", "body": "<p>I opened the file in write mode using filehandler1 Then i again opened the file in read mode using same filehandler1 then I opened filehandler2 for destiantion So it is working fine for me then.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7734041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10979b93c7c4618f505fa8defcdcb5fc?s=128&d=identicon&r=PG", "display_name": "rogersnest", "link": "https://stackoverflow.com/users/7734041/rogersnest"}, "is_accepted": false, "score": 0, "last_activity_date": 1507306387, "creation_date": 1507306387, "answer_id": 46609893, "question_id": 46600298, "link": "https://stackoverflow.com/questions/46600298/perl-copying-file-from-one-location-to-other-but-content-not-copying/46609893#46609893", "title": "Perl-Copying file from one location to other but content not copying", "body": "<pre><code>system(\"cp myfile1.txt /somedir/myfile2.txt\")\n`cp myfile1.txt /somedir/myfile2.txt`\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8680621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44602a32f9b972e0155752e36a4551f?s=128&d=identicon&r=PG&f=1", "display_name": "Manik Sharma", "link": "https://stackoverflow.com/users/8680621/manik-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "accepted_answer_id": 46600753, "answer_count": 4, "score": 2, "last_activity_date": 1507306387, "creation_date": 1507274295, "last_edit_date": 1507274615, "question_id": 46600298, "link": "https://stackoverflow.com/questions/46600298/perl-copying-file-from-one-location-to-other-but-content-not-copying", "title": "Perl-Copying file from one location to other but content not copying", "body": "<p>I am writing a script in perl where I am creating a file and getting input from user for file but when I am copying that file to other location the file is copying but it is empty only. My code is</p>\n\n<pre><code># !/usr/bin/perl -w\nfor($i = 1;$i&lt;5;$i++)\n{\n  open(file1,\"&lt;/u/man/fr$i.txt\");\n  print \"Enter text for file $i\";\n  $txt = &lt;STDIN&gt;;\n  print file1 $txt;\n  open(file2,\"&gt;/u/man/result/fr$i.txt\");\n  while(&lt;file1&gt;)\n  {\n     print file2 $_;\n  }\n  close(file1);\n  close(file2);\n}\n</code></pre>\n\n<p>fr1 to fr4 are creating but these are empty. like when I run my code it is asking for input i provide the input and code run without error but still the files are empty. Please help.\nin line number 4 I changed &lt; to > also as I thought for creating new file it might need that but still it is not working</p>\n"}, {"tags": ["sql", "database", "oracle", "perl"], "answers": [{"comments": [{"owner": {"reputation": 443, "user_id": 8669616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hpKWB.jpg?s=128&g=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/8669616/avinash"}, "edited": false, "score": 0, "creation_date": 1507275748, "post_id": 46599938, "comment_id": 80153273, "body": "I have replaced as suggested above,<code>unless ( $sth-&gt;execute() ){</code>     <code>open (LOGFILE, &#39;&gt;&gt;&#39;, &#39;perl.log&#39;) or die &quot;Could not open logfile\\n&quot;;</code>    <code>print LOGFILE $ora-&gt;errstr;</code>     <code>close LOGFILE;</code>    <code>die &quot;couldn&#39;t execute statementn$!&quot;;</code>        but the file is not getting generated. As i felt like the data is not being fed into the File."}, {"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "reply_to_user": {"reputation": 443, "user_id": 8669616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hpKWB.jpg?s=128&g=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/8669616/avinash"}, "edited": false, "score": 0, "creation_date": 1507276893, "post_id": 46599938, "comment_id": 80153824, "body": "Maybe do the same for <code>$dbh-&gt;prepare</code>"}], "tags": [], "owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "is_accepted": true, "score": 0, "last_activity_date": 1507272892, "creation_date": 1507272892, "answer_id": 46599938, "question_id": 46599690, "link": "https://stackoverflow.com/questions/46599690/export-the-logs-into-a-text-file-for-oracle-sql-update-script-using-perl-scrip/46599938#46599938", "title": "Export the logs into a Text file for Oracle SQL &quot;update&quot; script using perl script", "body": "<p>I would propose to replace</p>\n\n<pre><code>$sth-&gt;execute() or die \"couldn't execute statementn$!\";\n</code></pre>\n\n<p>by</p>\n\n<pre><code>unless ( $sth-&gt;execute() ) {\n    open LOGFILE, \"&gt;&gt;\", /tmp/logs/perl.log or die \"Could not open logfile\\n\";              \n    print LOGFILE $ora-&gt;errstr;\n    close LOGFILE; \n    die \"couldn't execute statementn$!\";\n }\n</code></pre>\n"}], "owner": {"reputation": 443, "user_id": 8669616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hpKWB.jpg?s=128&g=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/8669616/avinash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 46599938, "answer_count": 1, "score": 1, "last_activity_date": 1507272892, "creation_date": 1507271884, "last_edit_date": 1507272536, "question_id": 46599690, "link": "https://stackoverflow.com/questions/46599690/export-the-logs-into-a-text-file-for-oracle-sql-update-script-using-perl-scrip", "title": "Export the logs into a Text file for Oracle SQL &quot;update&quot; script using perl script", "body": "<p>I have coded a perl script which connects to Oracle database and updates the data. The execution of perl script and connections to Database works fine.</p>\n\n<p>But, I want to export the logs of the updated data into a Temporary Text file. Please suggest a solution. Below is my code,</p>\n\n<pre><code>use strict;\nuse DBD::Oracle;\nuse DBI;\n\nmy $driver = \"Oracle\";\nmy $database = \"host=xxxxx;port=xxx;sid=xxxx\";\nmy $dsn = \"DBI:$driver:$database\";\nmy $userid = \"xxxxxx\";\nmy $password = \"xxxxx\";\n\n# Database Connection\nmy $dbh = DBI-&gt;connect($dsn, $userid, $password,{RaiseError =&gt; 1}) or die \"Can't connect to the Database: $DBI::errstr\";\nmy $sth = $dbh-&gt;prepare(\"UPDATE XXXX SET ABCD=1233 WHERE LOGIN BETWEEN SYSDATE-24*30 and SYSDATE-12*30\") or die \"$DBI::errstr\";\n\n$sth-&gt;execute() or die \"couldn't execute statementn$!\";\n$sth-&gt;rows;\n\n# End of Program\n$sth-&gt;finish();\n$dbh-&gt;disconnect();\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7344661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-D9AelVM4jsg/AAAAAAAAAAI/AAAAAAAAAEE/CtOqFh_LmZE/photo.jpg?sz=128", "display_name": "Tarun Vikash", "link": "https://stackoverflow.com/users/7344661/tarun-vikash"}, "edited": false, "score": 0, "creation_date": 1507287942, "post_id": 46599496, "comment_id": 80160179, "body": "Thank you for the info, It helped a lot."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 6, "last_activity_date": 1507270985, "creation_date": 1507270985, "answer_id": 46599496, "question_id": 46599403, "link": "https://stackoverflow.com/questions/46599403/how-do-i-print-without-printing-the-pid/46599496#46599496", "title": "How do I print &quot;$$&quot; without printing the pid?", "body": "<p>The problem is not Perl as can be seen in the following snippet:</p>\n\n<pre><code>$foo = 'Hello$$$$';\nprint \"$foo\"   # prints 'Hello$$$$'\n</code></pre>\n\n<p>The problem is instead the shell the user is using. It expands the <code>$$</code> inside the command line argument to the pid and then gives the changed argument to the application:</p>\n\n<pre><code>shell$ app.pl -C Hello$$$$     # calls app.pl with HelloPIDPID\n</code></pre>\n\n<p>If you don't want this the user has to properly quote the argument</p>\n\n<pre><code>shell$ app.pl -C 'Hello$$$$'   # calls app.pl with 'Hello$$$$'\n</code></pre>\n\n<p>Again, nothing about this can be done in Perl since Perl only gets the already expanded argument.</p>\n"}], "owner": {"reputation": 45, "user_id": 7344661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-D9AelVM4jsg/AAAAAAAAAAI/AAAAAAAAAEE/CtOqFh_LmZE/photo.jpg?sz=128", "display_name": "Tarun Vikash", "link": "https://stackoverflow.com/users/7344661/tarun-vikash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 46599496, "answer_count": 1, "score": 0, "last_activity_date": 1507270985, "creation_date": 1507270579, "question_id": 46599403, "link": "https://stackoverflow.com/questions/46599403/how-do-i-print-without-printing-the-pid", "title": "How do I print &quot;$$&quot; without printing the pid?", "body": "<p>I am trying to store a comment in $comment, which can be anything.\nsay:</p>\n\n<pre><code>GetOptions(\n'-C=s'   =&gt; \\$comment,\n);\n</code></pre>\n\n<p>Suppose the user enters \"Hello $$$$\". when i try to print $comment or use it somewhere else it is taking the pid of current running process.</p>\n\n<pre><code>print \"$comment\\n\";\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>Hello 109236109236\n</code></pre>\n\n<p>Is there a way to print the content as it is?\nfor example:</p>\n\n<pre><code>Hello $$$$\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507265355, "post_id": 46598437, "comment_id": 80149083, "body": "No. . . . . . ."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507268852, "post_id": 46598437, "comment_id": 80150023, "body": "I don&#39;t know what &quot;<i><b>any</b> possible match</i>&quot; implies, but <a href=\"https://perldoc.perl.org/perlvar.html#%24%7B%5EPREMATCH%7D\" rel=\"nofollow noreferrer\">${^PREMATCH}</a> has &quot;<i>the string preceding whatever was matched</i>...&quot;  So one can test for the given string at the end of that, if I got what you mean."}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1507269375, "post_id": 46598437, "comment_id": 80150187, "body": "I&#39;m not sure how to describe it... OCaml&#39;s regex library has a different API from Perl. You give it a string, a pattern, and an offset to start looking at. <code>string_partial_match (Str.regexp &quot;aaaaa&quot;) &quot;a&quot; 0</code> is <code>true</code> because <code>a</code> is a prefix of <code>&quot;aaaaa&quot;</code> (the only string matching the regex <code>(Str.regexp &quot;aaaaa&quot;)</code>). I think emulating that in Perl requires writing a new regex, but I&#39;m not sure."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1507274354, "post_id": 46598437, "comment_id": 80152449, "body": "What does this <code>val string_partial_match : regexp -&gt; string -&gt; int -&gt; bool</code> mean translated to Perl syntax? Is that <code>string_partial_match</code> a function taking three arguments and returning a bool?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1507275590, "post_id": 46598437, "comment_id": 80153186, "body": "<i>&quot;<code>a</code> is a prefix of <code>&quot;aaaaa&quot;</code> (the only string matching the regex <code>(Str.regexp &quot;aaaaa&quot;)</code>&quot;</i>.  I am not sure I understand. Are you saying that &quot;a&quot; is the only string that matches &quot;aaaaa&quot;? What about &quot;aa&quot; or &quot;aaa&quot;? They should also match &quot;aaaaa&quot;??"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507276737, "post_id": 46598437, "comment_id": 80153754, "body": "I don&#39;t get it, either.  Example.  Say I have a string <code>abc12</code> and the pattern to match it, <code>&#47;[0-9]+&#47;</code>.  Now I imagine that I have another string and want to know whether it is the trailing part of <code>abc</code> (so that it is the prefix of the match).  So, if the other string is <code>bc</code> it&#39;s true. If it is <code>ab</code> it isn&#39;t (quite).  Can you use this example, modified as needed, to explain what functionality is wanted?"}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1507347409, "post_id": 46598437, "comment_id": 80184530, "body": "@H&#229;konH&#230;gland No. I&#39;m saying that <code>(Str.regexp &quot;aaaaa&quot;)</code> matches exactly one string, and that <code>&quot;a&quot;</code> is a prefix of that string. @zdim Imagine taking <code>&#47;[0-9]+&#47;</code>, compiling and instantiating it, and then feeding it one character at a time. Initially you start out with the empty string <code>&quot;&quot;</code> which doesn&#39;t match, but is a prefix of a possible match. If you consume a <code>&quot;0&quot;</code> then you do match. If instead you consume an &quot;f&quot; then you don&#39;t b/c there are no strings matching <code>&#47;[0-9]+&#47;</code> that begin with <code>&quot;f&quot;</code>. I&#39;m not using match in the sense of <code>=~</code> here... I mean &quot;does the whole string fit this pattern&quot;."}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507347982, "post_id": 46598437, "comment_id": 80184586, "body": "@zdim OCaml&#39;s Str is using a different API than Perl is. Perl&#39;s matching primitive <code>=~</code> picks out a match anywhere in the string. If you want to specify positional constraints in Perl, you use an assertion like <code>\\A</code>, <code>\\z</code> or <code>\\G</code> <i>in</i> <i>the</i> <i>pattern</i>. In OCaml, you have a few matching primitives, but you always have to specify the position to start searching from. This is less powerful than Perl because searching &quot;everywhere&quot; is less convenient, but potentially more powerful because you can meaningfully ask about a partial match. I&#39;m asking if Perl can emulate the partial match behavior."}], "answers": [{"tags": [], "owner": {"reputation": 5659, "user_id": 908621, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f275c40d3a1fefc35699d94b20bb4acd?s=128&d=identicon&r=PG", "display_name": "fishinear", "link": "https://stackoverflow.com/users/908621/fishinear"}, "is_accepted": true, "score": 1, "last_activity_date": 1522768399, "creation_date": 1522768399, "answer_id": 49633533, "question_id": 46598437, "link": "https://stackoverflow.com/questions/46598437/perl-check-whether-string-is-prefix-of-valid-regex-match/49633533#49633533", "title": "Perl check whether string is prefix of valid regex match", "body": "<p>If I understand you correctly, then you want to see whether the string <em>could</em> match the regular expression if the string would be longer. That is, whether it is possible to extend the string in a way that matches the regular expression. In technical terms: when the DFA reaches the end of the string it has not failed yet.</p>\n\n<p>I can see some uses for such functionality, especially in verifying user input interactively one character at a time. Then you would like to distinguish between \"the input will never match\", and \"the input could match if the user enters more characters\". </p>\n\n<p>As far as I know, though, such functionality is not supported by Perl. </p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 1, "accepted_answer_id": 49633533, "answer_count": 1, "score": 1, "last_activity_date": 1522768399, "creation_date": 1507265204, "question_id": 46598437, "link": "https://stackoverflow.com/questions/46598437/perl-check-whether-string-is-prefix-of-valid-regex-match", "title": "Perl check whether string is prefix of valid regex match", "body": "<p>Is it possible to determine, in general, whether a given string is a prefix of any possible match of a regex in Perl?</p>\n\n<p>One interesting function that the OCaml regex library <code>Str</code> supports is <code>string_partial_match</code>. This function determines whether the portion of a string starting at a given position is either a) a prefix of a match or literally a match itself or b) not a prefix of any matching string.</p>\n\n<p>From the <a href=\"https://caml.inria.fr/pub/docs/manual-ocaml/libref/Str.html#VALstring_match\" rel=\"nofollow noreferrer\">Str documentation</a>:</p>\n\n<blockquote>\n  <p>val string_partial_match : regexp -> string -> int -> bool </p>\n  \n  <p>Similar to\n  Str.string_match, but also returns true if the argument string is a\n  prefix of a string that matches. This includes the case of a true\n  complete match.</p>\n</blockquote>\n\n<p>I was wondering if Perl has the ability to emulate this function.\nUsing <code>pos()</code> to set the position, the zero-width assertion <code>\\G</code>, and regex interpolation, we can emulate <code>string_match</code> (which doesn't have the prefix behavior).</p>\n\n<pre><code>sub string_match {\n    my ($regex, $str, $pos) = @_;\n    pos($str) = $pos;\n    return ($str =~ m/\\G$regex/);\n}\n</code></pre>\n\n<p>Perl's regexes support many features that OCaml's library doesn't, so it's entirely possible that the ability to recognize prefixes of possible matches isn't possible to implement / isn't exposed by the API.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507267329, "post_id": 46597143, "comment_id": 80149575, "body": "I&#39;ll say this just in case: <code>.+</code> is greedy and the first one will consume the whole string up to the very last space.  Is that intended?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1507277491, "post_id": 46597143, "comment_id": 80154131, "body": "I&#39;ve added indentation to your code. You&#39;re welcome, but please do it yourself in the future."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1507277530, "post_id": 46597143, "comment_id": 80154156, "body": "Why do you only close the file if the regex matches?"}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": -2, "last_activity_date": 1507280324, "last_edit_date": 1507280324, "creation_date": 1507274699, "answer_id": 46600430, "question_id": 46597143, "link": "https://stackoverflow.com/questions/46597143/how-to-save-in-output-the-produce-output-with-format-firstname-lastname-and-outp/46600430#46600430", "title": "how to save in output the produce output with format FIRSTNAME LASTNAME and output is LASTNAME, FIRSTNAME", "body": "<p>Can you recollect the coding, couple of issues you can arrest nicely</p>\n\n<pre><code>open(my $fh, '&gt;', \"hi.txt\");\n$x = &lt;STDIN&gt;;\n\n#1. You should do the chomp whenever getting the values from user\nchomp($x);\n\nif ($x =~ /(.+) (.+)/) \n{\n    print \" $2 ,\";\n    print \" $1\\n\";\n\n    #2. No need to store the variable in the FILEHANDLE\n    print $fh \"$2, $1 \\n\" ;\n    close $fh;\n}\n</code></pre>\n\n<p>Thanks.</p>\n"}], "owner": {"reputation": 51, "user_id": 5401403, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/76da9452a06e5e852146dae4de27325a?s=128&d=identicon&r=PG&f=1", "display_name": "Candy083", "link": "https://stackoverflow.com/users/5401403/candy083"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528722176, "creation_date": 1507254573, "last_edit_date": 1528722176, "question_id": 46597143, "link": "https://stackoverflow.com/questions/46597143/how-to-save-in-output-the-produce-output-with-format-firstname-lastname-and-outp", "title": "how to save in output the produce output with format FIRSTNAME LASTNAME and output is LASTNAME, FIRSTNAME", "body": "<p>My output does not save into hi.txt</p>\n\n<pre><code>open(my $fh, '&gt;', 'C:\\Users\\yukari\\Desktop\\hi.txt');\n\n$x = &lt;STDIN&gt;;\nif ($x =~ /(.+) (.+)/) \n{\n  print \" $2 ,\";\n  print \" $1\\n\";\n\n  print $fh = \"$2, $1 \\n\" ;\n  close $fh;\n}\n</code></pre>\n"}, {"tags": ["perl", "unix", "environment-variables", "shared-libraries", "verilog"], "answers": [{"tags": [], "owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "is_accepted": false, "score": 0, "last_activity_date": 1507324807, "creation_date": 1507324807, "answer_id": 46614068, "question_id": 46597032, "link": "https://stackoverflow.com/questions/46597032/i-am-trying-to-use-verilognetlist-module-in-my-perl-script-this-module-has-a/46614068#46614068", "title": "I am trying to use Verilog::Netlist module in my PERL script. This module has a shared lib auto/Verilog/Preproc/Preproc.so", "body": "<p>Run you Perl script like this:</p>\n\n<pre><code>LD_LIBRARY_PATH=/path/to/your/shared/libdir perl scriptname.pl\n</code></pre>\n\n<p>Try \"man ld.so\" for more information.</p>\n\n<p>By the way, Unixes differ significantly in their implementation of shared libraries.  It never hurts to mention your operating system, when you ask something about shared libs.</p>\n"}], "owner": {"reputation": 1, "user_id": 6647901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b74892a0981cb1b323c59335b1e4a733?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/6647901/rohit-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507324807, "creation_date": 1507253574, "question_id": 46597032, "link": "https://stackoverflow.com/questions/46597032/i-am-trying-to-use-verilognetlist-module-in-my-perl-script-this-module-has-a", "title": "I am trying to use Verilog::Netlist module in my PERL script. This module has a shared lib auto/Verilog/Preproc/Preproc.so", "body": "<p>I am trying to use 'Verilog::Netlist' module in my PERL script, which contains a  lib auto/Verilog/Preproc/Preproc.so. \nThis lib requires libstdc++.so.6 lib to be dynamically loaded.\nHow can I specify the path of the libstdc++.so.6?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1507249965, "post_id": 46596443, "comment_id": 80145962, "body": "What&#39;s the deal with the strange/inconsistent/lack of indentation? It&#39;s kind of rude to expect others to read your code when you can&#39;t be bothered to present a nicely formatted version of it!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1507276609, "post_id": 46596443, "comment_id": 80153694, "body": "I&#39;ve cleaned up your code for you. Please do it yourself in the future. Consistent and meaningful indentation is an important self-documentation tool."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1570947504, "last_edit_date": 1570947504, "creation_date": 1507265716, "answer_id": 46598502, "question_id": 46596443, "link": "https://stackoverflow.com/questions/46596443/making-a-menu-with-copy-create-remove-and-rename/46598502#46598502", "title": "Making a menu with copy, create, remove and rename", "body": "<p>I cleaned up missing semicolons, dollar signs, braces, duplicated lines ... and formatting. I also added the missing <code>use File::Copy</code>.  Your code wasn't so far off at all but I can see that you got lost in so many little errors. So here is the most important note: </p>\n\n<p><strong>Enter code a little  at a time and make sure that it runs cleanly and works as envisioned.</strong> \nAdd small sections of code and test, test, test. Build small, rounded, and crude (basic) components of functionality first, so that you can sensibly test them and your design. Then develop further. </p>\n\n<p>Then each error is either easy to spot or educational.</p>\n\n<p>Here is your code (just two functions), cleaned up so that it works and a little more</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse File::Copy qw(copy move);\n\nsub menu {\n    my $args = shift;\n    my $title = $args-&gt;{title};\n    my $choices = $args-&gt;{choices};\n\n    while (1) {\n        say $title, \"\\n\", '-' x length $title;\n        for my $i (1..@$choices) {\n            my $itemHeading = $choices-&gt;[$i-1][0];\n            say \"$i.\\t$itemHeading\";\n        }\n        print \"\\n?: \";\n        my $i = &lt;STDIN&gt;;\n        chomp $i;\n        if ($i &amp;&amp; $i =~ m/[0-9]+/ &amp;&amp; $i &lt;= @$choices) {\n            $choices-&gt;[$i-1][1]();\n        } else {\n            say \"\\nInvalid input.\\n\";\n        }\n    }\n}\n\nmy $menus = {\n    1 =&gt; {\n        \"title\" =&gt; \"Menu 1 header\",\n        \"choices\" =&gt; [\n            [ \"Create file \" ,\n                sub {\n                    print \"Name of file you want to create:  \";\n                    my $createFile = &lt;STDIN&gt;;\n                    chomp $createFile;\n                    open my $fh, \"&gt;&gt;\", $createFile \n                        or die \"Can't open $createFile: $!\\n\";\n                    say $fh \"Here's that file you ordered\";\n                    close $fh;\n\n                    say \"done\";\n                }\n            ],\n            [ \"Rename a file\" ,\n                sub {\n                    print \"What file do you want to rename (add ext): \";\n                    my $oldName = &lt;STDIN&gt;;\n                    chomp $oldName;\n                    if (not -e $oldName) {\n                        say \"\\n\\tNo file \\\"$oldName\\\"\\n\";\n                        return;\n                    }\n                    print \"What do you want to rename it: \";\n                    my $newName = &lt;STDIN&gt;;\n                    chomp $newName;          # what if it exists already?\n                    move $oldName, $newName\n                        or die \"Can't move $oldName to $newName: $!\";\n                }\n            ],\n            [ \"Quit\", sub { exit } ]\n        ]\n    }\n};\n\nmenu($menus-&gt;{1});\n</code></pre>\n\n<p>I also added the option to quit and some error checking.</p>\n\n<p>A few notes</p>\n\n<ul>\n<li><p>There is rarely ever a need for a C-style <code>for</code> loop</p></li>\n<li><p>The <code>&amp;</code> in front of a sub name has a very specific purpose. Normally it is not needed</p></li>\n<li><p>Add <code>$!</code> when you print error to actually see what it is, and/or use other <a href=\"https://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\">error variables</a></p></li>\n<li><p>When an array is in scalar context its length is used, the number of elements; so there is no need for <code>scalar</code> in your conditions, just <code>1..@$choices</code> and <code>$i &lt;= @$choices</code></p></li>\n<li><p>Don't quote needlessly, it can lead to an <em>error</em>. Quoting is needed mostly when variables are interpolated in a string. No need for quotes in <code>say $var;</code> or <code>copy $file, $new ...</code></p></li>\n<li><p>The one direct error was missing <code>chomp</code>s. With a resource that uses newlines (file, <code>STDIN</code>) that should be a basic <em>habit</em>. Omitting it in some situations may give cleaner flow but openness to that may invite debugging sessions, of \"strange\" errors possibly far down in code. </p></li>\n</ul>\n\n<p>Please do your best to present a readable question with properly formatted code.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1507277413, "creation_date": 1507277413, "answer_id": 46601193, "question_id": 46596443, "link": "https://stackoverflow.com/questions/46596443/making-a-menu-with-copy-create-remove-and-rename/46601193#46601193", "title": "Making a menu with copy, create, remove and rename", "body": "<p>You have an extremely detailed answer from <a href=\"https://stackoverflow.com/users/4653379/zdim\">zdim</a>. That's the one you should accept. But here's a list of what I had to fix in order to get your code running:</p>\n\n<ul>\n<li>Removed the duplicate <code>print \"done\\n\"</code> and the following close brackets at the end of the first menu option subroutine (I removed them from your question while reformatting your code).</li>\n<li>Added the missing <code>use File::Copy</code>.</li>\n<li>Added a missing semicolon at the end of the first <code>print</code> statement in the copy option.</li>\n<li>Added a missing <code>$</code> to the <code>my removeF</code> statement in the remove option.</li>\n</ul>\n\n<p>All of these were found by running your code through <code>perl -c</code> (which is Perl's built-in syntax checker).</p>\n\n<p>In addition, you should take notice of all of zdim's suggested improvements.</p>\n\n<p>And <strong>please</strong> format your code more carefully.</p>\n"}], "owner": {"reputation": 67, "user_id": 8729416, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qh9LF4KrRQs/AAAAAAAAAAI/AAAAAAAAJ00/DdeI1LJZjGM/photo.jpg?sz=128", "display_name": "Glorksnork", "link": "https://stackoverflow.com/users/8729416/glorksnork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 46598502, "answer_count": 2, "score": 0, "last_activity_date": 1570947504, "creation_date": 1507248144, "last_edit_date": 1507345790, "question_id": 46596443, "link": "https://stackoverflow.com/questions/46596443/making-a-menu-with-copy-create-remove-and-rename", "title": "Making a menu with copy, create, remove and rename", "body": "<p>The rename part does not have any code yet, but the rest does have the code to go along with it.</p>\n\n<p>I keep getting that the variable for copy and remove aren't declared, but I did. What am I doing wrong?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nsub menu {\n  my $args = shift;\n  my $title = $args-&gt;{title};\n  my $choices = $args-&gt;{choices};\n\n  while (1) {\n    print \"--------------------\\n\";\n    print \"$title\\n\";\n    print \"--------------------\\n\";\n    for (my $i = 1; $i &lt;= scalar(@$choices); $i++) {\n      my $itemHeading = $choices-&gt;[$i-1][0];\n      print \"$i.\\t $itemHeading\\n\";\n    }\n    print \"\\n?: \";\n    my $i = &lt;STDIN&gt;; chomp $i;\n    if ($i &amp;&amp; $i =~ m/[0-9]+/ &amp;&amp; $i &lt;= scalar(@$choices)) {\n      &amp;{$choices-&gt;[$i-1][1]}();\n    } else {\n      print \"\\nInvalid input.\\n\\n\";\n    }\n  }\n}\n\nmy $menus = {};\n$menus = {\n  \"1\" =&gt; {\n    \"title\" =&gt; \"Menu 1 header\",\n    \"choices\" =&gt; [\n      [ \"Create file \" , sub {\n        print \"Name of file you want to create:  \";\n        my $createFile = &lt;STDIN&gt;;\n        open my $fh, \"&gt;&gt;\", \"$createFile\" or die \"can't open\\n\";\n        print $fh \"Here's that file you ordered\\n\";\n        close $fh;\n\n        print \"done\\n\";\n      }],\n\n      [ \"Rename a file\" , sub {\n        print \"What file do you want to rename (add       ext): \";\n        my $oldName = &lt;STDIN&gt;;\n        print \"What do you want to rename it: \";\n        my $newName = &lt;STDIN&gt;;\n      }],\n\n      [ \"Copy file\" , sub {\n        print \"What file do you want to copy: \"\n        my $copyFile = &lt;STDIN&gt;;\n        print \"What do you want to call this file: :\";\n        my $newFile = &lt;STDIN&gt;;\n        copy \"$copyFile\" , \"$newFile\" || die \"can't copy\";\n      }],\n      [ \"Remove file\" , sub {\n        print \"Which file do you want to remove\";\n        my removeF = &lt;STDIN&gt;;\n        open my $fh;\n        unlink \"$removeF\";\n      }],\n    },\n  };\n\n  menu($menus-&gt;{1});\n</code></pre>\n"}, {"tags": ["regex", "perl", "terminal", "latex"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507312455, "post_id": 46595504, "comment_id": 80174783, "body": "<i>&quot;it works but not for all cases that I have in the files&quot;</i> Please give some examples of the cases that aren&#39;t working, and a brief example document that you want to process. It&#39;s not fair to ask us to write software without seeing any input."}, {"owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "edited": false, "score": 0, "creation_date": 1507329218, "post_id": 46595504, "comment_id": 80181621, "body": "I edited back in your regex/command as that i relevant information to the question. I have also updated my answer"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8729151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448fea654a835a3568222bd8886b8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Zain", "link": "https://stackoverflow.com/users/8729151/zain"}, "edited": false, "score": 0, "creation_date": 1507247915, "post_id": 46595719, "comment_id": 80145566, "body": "unfortunately it did not work! for example this case has not been solved  ,  ..projection $I_{d,i} \\rightarrow M_{d,i} M_{d,0}$, where all the .."}, {"owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "reply_to_user": {"reputation": 53, "user_id": 8729151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448fea654a835a3568222bd8886b8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Zain", "link": "https://stackoverflow.com/users/8729151/zain"}, "edited": false, "score": 1, "creation_date": 1507250448, "post_id": 46595719, "comment_id": 80146056, "body": "Could you update your question with multiple examples of cases that are not working?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507312810, "post_id": 46595719, "comment_id": 80174948, "body": "Why do you think it&#39;s &quot;cleaner&quot; to use non-standard delimiters for your substitution, especially the pipe character <code>|</code> which is a regex metacharacter? And why are you using the non-greedy quantifier when you have said that the greedy version is &quot;more efficient&quot;?"}, {"owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "edited": false, "score": 0, "creation_date": 1507325253, "post_id": 46595719, "comment_id": 80180473, "body": "it looks nicer, notice i said &#39;imo&#39; and gave it after the answer, thanks for the catch on the <code>?</code> it is more efficient to use the greedy, nearly cuts match steps in half"}], "tags": [], "owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1507328566, "last_edit_date": 1507328566, "creation_date": 1507242575, "answer_id": 46595719, "question_id": 46595504, "link": "https://stackoverflow.com/questions/46595504/delete-everything-between-including-multiple-lines-in-latex-files/46595719#46595719", "title": "Delete Everything between $ including multiple lines in latex files", "body": "<p>I'm guessing this is not matching when the text it should match spans multiple lines.</p>\n\n<p>You have <code>[^\\$].*?</code> which matches one character that is not <code>$</code> using <code>[^\\$]</code> and then matches <code>.*?</code> which matches any character that is not a newline character zero or more times lazily. This works on your single line cases because of the lazy modifier trying to match a <code>$</code> before another <code>.</code>, but fails the multi-line cases because <code>.</code> will not match a newline.</p>\n\n<p>Correct and more efficient would be <code>[^\\$]*</code> which would match as many non-<code>$</code> characters as possible, including newlines.</p>\n\n<p>So your command would would be </p>\n\n<pre><code>s/\\$[^\\$]*\\$/ /g\n</code></pre>\n\n<p>or cleaner looking in my opinion to use non-standard delimiters and avoid the 'fencepost' look <code>/\\</code></p>\n\n<pre><code>s~\\$[^\\$]*\\$~ ~g\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/qZvkQ3/4\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>Perl is processing your file line by line, which is another cause for the failing matches across newlines. There are a number of documented answers to this problem already on SO and written by people who know perl better than I: <a href=\"https://stackoverflow.com/questions/14391855/how-to-match-multiline-data-in-perl\">How to match multiline data in perl</a></p>\n"}], "owner": {"reputation": 53, "user_id": 8729151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448fea654a835a3568222bd8886b8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Zain", "link": "https://stackoverflow.com/users/8729151/zain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507328566, "creation_date": 1507241301, "last_edit_date": 1507326961, "question_id": 46595504, "link": "https://stackoverflow.com/questions/46595504/delete-everything-between-including-multiple-lines-in-latex-files", "title": "Delete Everything between $ including multiple lines in latex files", "body": "<p>I am working on laTex files, I need to delete everything between two $ including newlines and keep only english text.</p>\n\n<p>I am using a command like this to process the files:</p>\n\n<pre><code>find \".\" -name \"*.tex\" | xargs perl -pi -e 's/\\$[^\\$].*?\\$/ /g' *\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>Then use the naturality formula \n\n    $t_{G^{n-1}M} G^{i+1} (\\epsilon_{G^{n-i}M}) \n    = G^{i+1} (\\epsilon_{G^{n-i}M}) t_{G^n M}$ on the left-hand side.\n</code></pre>\n\n<p>OutPut:</p>\n\n<pre><code>Then use the naturality formula \n on the left-hand side.\n</code></pre>\n\n<p>another example from file:</p>\n\n<p>EXAMPLE:</p>\n\n<pre><code>\\begin{itemize}\n\\item $M$ is atomic and finitely generated;\n\\item $M$ is cancellative;\n\\item $(M, \\le_L)$ and $(M, \\le_R)$ are lattices;\n\\item there exists an element $\\Delta \\in M$, called {\\it Garside element}, such that the set \n$L(\\Delta)= \\{ x \\in M; x\\le_L \\Delta\\}$ generates $M$ and is equal to $R(\\Delta)= \\{ x\\in M; \nx\\le_R \\Delta\\}$.\n\\end{itemize}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>\\begin{itemize}\n\\item   is atomic and finitely generated;\n\\item   is cancellative;\n\\item   and   are lattices;\n\\item there exists an element  , called {\\it Garside element}, such that the set \n  generates   and is equal to $R(\\Delta)= \\{ x\\in M; \nx\\le_R \\Delta\\}$.\n\\end{itemize} \n</code></pre>\n\n<p>if you can notice ( $R(\\Delta)= { x\\in M; x\\le_R \\Delta}$.) can not be removed!!</p>\n\n<p>Example 2 from different file, the input same as the output nothing has changed :</p>\n\n<pre><code>    Using the fact that   is atomic and that $L(\\Delta)= \n\\{x \\in M; x \\le_L \\Delta\\} M \\pi_L(a) \\neq 1 a \\neq \n1 k \\partial_L^k(a)=1 k$ be the\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1507237628, "post_id": 46594725, "comment_id": 80142548, "body": "Thanks Melpomene.  Exactly what I am looking for.   I didn&#39;t know that captured group can be used to replace as well.  Thanks!"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1507237280, "creation_date": 1507237280, "answer_id": 46594725, "question_id": 46594642, "link": "https://stackoverflow.com/questions/46594642/how-do-i-repeat-each-lower-case-letter-using-regex-in-perl/46594725#46594725", "title": "How Do I Repeat Each Lower Case Letter Using Regex in Perl?", "body": "<p>The easiest way to do that is with a capturing group and capture variable:</p>\n\n<pre><code>$string =~ s/([a-z])/$1$1/g;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlretut.html#Extracting-matches\" rel=\"nofollow noreferrer\">Extracting matches</a> and <a href=\"http://perldoc.perl.org/perlretut.html#Search-and-replace\" rel=\"nofollow noreferrer\">Search and replace</a> in <code>perldoc perlretut</code>.</p>\n"}], "owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 46594725, "answer_count": 1, "score": -1, "last_activity_date": 1507237280, "creation_date": 1507236984, "last_edit_date": 1507237201, "question_id": 46594642, "link": "https://stackoverflow.com/questions/46594642/how-do-i-repeat-each-lower-case-letter-using-regex-in-perl", "title": "How Do I Repeat Each Lower Case Letter Using Regex in Perl?", "body": "<p>I want mappings as these:  ABcD --> ABccD,  xyzK --> xxyyzzK, etc.</p>\n\n<p>I can write a loop to do this.  But is there a way to do so with Regex?  I can find all the lower case letters with a character set [a-z].   How do I write the replacing part?   </p>\n\n<pre><code>$string =~ s/[a-z]/....../g;  # How do I fill in for the ...... ?\n</code></pre>\n"}, {"tags": ["json", "perl", "mojolicious", "dbix-class"], "comments": [{"owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "edited": false, "score": 1, "creation_date": 1507244073, "post_id": 46594311, "comment_id": 80144688, "body": "show part of you perl code where you return json to javascript. Did you read <a href=\"https://metacpan.org/pod/Mojo::JSON\" rel=\"nofollow noreferrer\">metacpan.org/pod/Mojo::JSON</a>? and this is ajax example: <a href=\"https://gist.github.com/dvinciguerra/3452989\" rel=\"nofollow noreferrer\">gist.github.com/dvinciguerra/3452989</a>"}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "edited": false, "score": 0, "creation_date": 1507244398, "post_id": 46594311, "comment_id": 80144760, "body": "Wow, no I did not... Thank you much, I&#39;ll dig in tomorrow morning."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1507279730, "post_id": 46594311, "comment_id": 80155421, "body": "Please <a href=\"https://stackoverflow.com/posts/46594311/edit\">edit</a> the question and include your Perl code. From the <code>alert</code> screenshot it looks like you are doing something wrong when converting the data to JSON. Did you possibly put the variable that holds the data structure into double quotes? Something like this (pseudo Perl code): <code>to_json &quot;Tech 1&quot; =&gt; &quot;$result&quot;;</code> That would stringify the <code>$result</code> variable, and if that doesn&#39;t have an overload (unlikely), it would just show the address of the data structure and the class it&#39;s blessed in. Exactly what we see here."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1507291589, "post_id": 46594311, "comment_id": 80162311, "body": "&quot;<i>So I know I have the correct object.</i>&quot; No, what you have is a string, not an object. Show your Perl code."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "edited": false, "score": 0, "creation_date": 1507300002, "post_id": 46594311, "comment_id": 80167837, "body": "@ilux I&#39;m not sure that&#39;s what I want or need. I have been passing arrays using the same method I am displaying with no issues at all. For lack of time I may just stash all the values from the hash in an array while it&#39;s still in perl and pass that..."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507300115, "post_id": 46594311, "comment_id": 80167912, "body": "@simbabque I added the piece of code to the question. No I do not have my variables in double quotes. But it just clicked that it&#39;s actually a hash reference not a hash. So now I wonder if that has anything to do with it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507302219, "post_id": 46594311, "comment_id": 80169286, "body": "What&#39;s inside of <code>$tech_1_info</code> and <code>$tech_2_info</code>? That code looks fine, but it might have been mangled before. Show us all the code from where that variable comes alive. Also to debug, you might want to do a <code>use Data::Dumper; warn Dumper $tech_1_info;</code> above the line with <code>$self-&gt;render</code> and then look in the application log (should be your morbo output in the terminal). Include that in the question too."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507302755, "post_id": 46594311, "comment_id": 80169600, "body": "So now that we know it&#39;s about DBIx::Class, it&#39;s pretty obvious. I&#39;ve found you a question/answer that works and will close as duplicate. Next time, please try to include the relevant facts. It didn&#39;t matter here that that it was related to Javascript, but it does matter that it&#39;s DBIx::Class."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "edited": false, "score": 0, "creation_date": 1507303062, "post_id": 46594311, "comment_id": 80169781, "body": "I didn&#39;t realize that would be such an important piece I guess. Sorry about that. I&#39;ll try to keep it more relevant next time. Thank you."}], "owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "closed_date": 1507302761, "answer_count": 0, "score": 0, "last_activity_date": 1507303225, "creation_date": 1507235407, "last_edit_date": 1507303225, "question_id": 46594311, "link": "https://stackoverflow.com/questions/46594311/using-mojolicious-access-a-perl-hash-passed-through-an-ajax-call-as-json-in-j", "closed_reason": "Duplicate", "title": "Using Mojolicious: access a perl hash, passed through an ajax call as json, in javascript", "body": "<p><strong>How can I access my json hash by key?</strong></p>\n\n<p>I have an ajax call </p>\n\n<pre><code>function populate_technician_info(public_info_id)\n{\n  var advantage_id = $('#admin_info').data('advantage_id');\n\n  $.ajax({\n    type: 'POST',\n    url: '/ajax/get_technician_info',\n    data: {'advantage_id': advantage_id},\n    dataType: \"json\",\n    success: function(tech_1_info, tech_2_info)\n    {\n      alert(tech_1_info);\n      add_technician_row(tech_1_info, tech_2_info, public_info_id);\n    }\n  });\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/xW4hv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xW4hv.png\" alt=\"enter image description here\"></a>\nand a java script function to populate the information return (for now it's just an alert).</p>\n\n<pre><code>function add_technician_row(tech_1_info, tech_2_info, public_info_id)\n{\n  public_info_id = '#' + public_info_id;\n\n  $.each([tech_1_info, tech_2_info], function(index, value)\n  {\n    $.each(this, function (tech_index, tech_info)\n    {\n      alert(\"Tech 1: \" + tech_info.empl_first_nm);  \n    });\n  });\n}\n</code></pre>\n\n<p>My question is how can I access the values by key?\nI have tried the obvious <code>tech_info.key</code>\nBut I'm having no luck, it returns undefined or a hash object.\n<a href=\"https://i.stack.imgur.com/M6yN8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M6yN8.png\" alt=\"enter image description here\"></a></p>\n\n<p>But If i just print <code>tech_info</code> I get\n<a href=\"https://i.stack.imgur.com/Y8rpM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y8rpM.png\" alt=\"enter image description here\"></a></p>\n\n<p>So I know I have the correct object.</p>\n\n<p>The data is definitely there I have double checked it by printing the values from perl to the terminal.\n<a href=\"https://i.stack.imgur.com/5XVHU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5XVHU.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>my $technician_1_results = $self-&gt;employee_data_hub-&gt;resultset('Advantage')-&gt;search({employee_id =&gt; $tech_1_employee_id});\nmy $tech_1_info = $technician_1_results-&gt;first;\n$self-&gt;render(json =&gt; {tech_1_info =&gt; $tech_1_info, tech_2_info =&gt; $tech_2_info});\n</code></pre>\n"}, {"tags": ["perl", "rpmbuild", "rhel7", "makemaker"], "comments": [{"owner": {"reputation": 348, "user_id": 1492433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P9a8e.jpg?s=128&g=1", "display_name": "Urchin", "link": "https://stackoverflow.com/users/1492433/urchin"}, "edited": false, "score": 0, "creation_date": 1512060189, "post_id": 46594303, "comment_id": 82113829, "body": "Just to be clearer (for future me mostly), the workaround is to replace the paths under %files in the spec with your local path (e.g. /home/&lt;user&gt;/perl5/lib/perl5/*)"}], "owner": {"reputation": 348, "user_id": 1492433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P9a8e.jpg?s=128&g=1", "display_name": "Urchin", "link": "https://stackoverflow.com/users/1492433/urchin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1507235367, "creation_date": 1507235367, "question_id": 46594303, "link": "https://stackoverflow.com/questions/46594303/how-can-i-configure-rpmbuild-to-use-lib64-perl5-as-an-install-path", "title": "How can I configure rpmbuild to use lib64/perl5 as an install path?", "body": "<p>I am running CentOS7 (RHEL7) and I am trying to build a Perl module with rpmbuild. I have generated the SPEC file and it builds all the way until it installs, which fails.</p>\n\n<blockquote>\n  <p>error: File not found by glob: /home/user/rpm/BUILDROOT/perl-Data-Dumper-2.167_02-1.el7.centos.x86_64/usr/lib64/perl5/vendor_perl/auto/*</p>\n</blockquote>\n\n<p>I see that in the .spec file, it is looking for %{perl_vendorarch}/auto/* so it's looking in the right place (same place that yum installs pre-built rpms for perl modules.)</p>\n\n<p>HOWEVER, when doing the install phase, it seems rpmbuild is trying to use (via the MakeMaker generated Makefile) my PERL5LIB <em>/home/user/perl5/lib/perl5</em>. I can change the INSTALL_DIR via the spec to <em>/usr</em>, however, I can't figure out how to change the suffix to <em>lib/perl5</em></p>\n\n<p>Is there anyway to tell MakeMaker to use a different suffix?</p>\n"}, {"tags": ["perl", "sftp", "hp-ux"], "comments": [{"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 1, "creation_date": 1507242512, "post_id": 46593592, "comment_id": 80144283, "body": "In the second case, the client is offering a key to the server and the server isn&#39;t accepting it. The server does not tell the client why it didn&#39;t accept the key. You would have to troubleshoot that on the server. The server should have its own logs which might be helpful."}, {"owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "reply_to_user": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1507244572, "post_id": 46593592, "comment_id": 80144803, "body": "@Kenster Here it gets more strange- server doesn&#39;t get any logs of unsuccessful login attempts"}, {"owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "reply_to_user": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1507244747, "post_id": 46593592, "comment_id": 80144844, "body": "@Kenster I happens extremely rare with other servers. I suspected that firewall drops, but this doesn&#39;t really make sense- firewall rules are definitive so the packet would be dropped all the time."}, {"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1507245002, "post_id": 46593592, "comment_id": 80144905, "body": "The client is connecting to some server and getting through the ssh protocol to the point of trying to authenticate. If the server isn&#39;t logging anything about the connection attempt, I&#39;d suspect the client might be connecting to the wrong server somehow."}, {"owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "reply_to_user": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1507246040, "post_id": 46593592, "comment_id": 80145146, "body": "@Kenster That is scary, but not the case. On top of the logs I see that the communication was established with the correct IP. The direction of my though is that the log that &quot;debug2: we sent a public key packet, wait for reply&quot; does not reflect what happens in reality, because I should&#39;ve get a reply from server. My next steps is to capture network traffic and actually check packets (in case I don&#39;t get an answer here), but it might take some time till I am able to reproduce the issue"}], "owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507232429, "creation_date": 1507232429, "question_id": 46593592, "link": "https://stackoverflow.com/questions/46593592/sftpforeign-perl-library-login-issue-using-ras-key", "title": "SFTP::Foreign (Perl Library) login issue using RAS key", "body": "<p>I am facing a very strange problem with SFTP::Foreign while trying to log in a remote machine from HP-UX. Strange is that the issue is very hard to reproduce. The program which uses SFTP::Foreign to log in, runs every work day at the same time and once in a week or two it fails. It uses RSA key for authentication to server.</p>\n\n<p>I enabled -vvv for tracing and I was hoping that here I'll find some help. I captured logs when authentication is successful and when it failed. Below I will put parts of the logs when the difference started</p>\n\n<p>This is a part of the log when logging in is successful</p>\n\n<pre><code>debug1: Offering RSA public key: &lt;intentionally hidden by me&gt;\ndebug3: send_pubkey_test\ndebug2: we sent a publickey packet, wait for reply\ndebug1: Server accepts key: pkalg ssh-rsa blen 277\ndebug2: input_userauth_pk_ok: &lt;intentionally hidden by me&gt;\ndebug3: sign_and_send_pubkey: &lt;intentionally hidden by me&gt;\ndebug1: read PEM private key done: type RSA\ndebug1: Authentication succeeded (publickey).\n</code></pre>\n\n<p>This is part when logging fails</p>\n\n<pre><code>debug1: Offering RSA public key: &lt;intentionally hidden by me&gt;\ndebug3: send_pubkey_test\ndebug2: we sent a publickey packet, wait for reply\ndebug1: Authentications that can continue: publickey,password\n</code></pre>\n\n<p>\n\n<p>The error which I am getting is:</p>\n\n<pre><code>Permission denied, please try again.\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["perl", "eval", "lexical-scope"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507221349, "post_id": 46589928, "comment_id": 80134375, "body": "I think using the generic quotes <code>q</code>, <code>qq</code>, <code>qx</code> etc. with ordinary parentheses is bad practice. <code>q($ln10)</code> looks far too much like a subroutine call, and is far better as <code>&#39;$ln10&#39;</code> here. Even if you wanted to quote a string containing single quotes, something like <code>q&#47;$str = &#39;aaa&#39;&#47;</code> would be preferable, as the slash is Perl&#39;s common &quot;alternative quote&quot;. I&#39;ve edited your question."}, {"owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507228309, "post_id": 46589928, "comment_id": 80138088, "body": "I use <code>q()</code> often because I frequently test snippets of Perl in the terminal with <code>perl -E &#39;... say join(&quot;\\n&quot;, split(&quot;&quot;, &quot;foo &quot;.q($foo))) ...&#39;</code>, often with a multiline program inside <code>&#39; &#39;</code>, including the two above, and parentheses make it easy to keep track of block/quotation level when single-quotes are unavailable, especially in the absence of syntax highlighting as in the terminal. There are great reasons to do all the things you think are bad practice."}, {"owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507228578, "post_id": 46589928, "comment_id": 80138222, "body": "I even prefer snippets without any single-quotes, since I can paste them directly into the terminal then without using a heredoc."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507228932, "post_id": 46589928, "comment_id": 80138386, "body": "I don&#39;t understand what you mean by <i>&quot;all the things [I] think are bad practice&quot;</i>. I am saying here only that I think <code>q(...)</code> is bad practice because it is easily confused with a subroutine call. What you do frequently when testing snippets of code is irrelevant here, and in any case I think <code>perl -E &#39;... say join(&quot;\\n&quot;, split(&quot;&quot;, &quot;foo &quot;. q&#47;$foo&#47;)) ...&#39;</code> is simpler if you are counting parentheses. What are all these &quot;great reasons&quot;?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507229080, "post_id": 46589928, "comment_id": 80138457, "body": "<i>&quot;I even prefer snippets without any single-quotes&quot;</i> Then use slashes. But please don&#39;t emulate a function call: even spaces become significant within <code>q(   a   b    )</code>. And we&#39;re still discussing <i>my opinion</i>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507229595, "post_id": 46589928, "comment_id": 80138704, "body": "I&#39;ve seen <i>&quot;parentheses make it easy to keep track of block/quotation level when single-quotes are unavailable&quot;</i> and <i>&quot;I prefer snippets without any single-quotes, since I can paste them directly into the terminal without using a here-doc&quot;</i> and it&#39;s clear that you have a self-centric view of programming. With any luck you will write something that affects other people and will be read by other people. Once you start writing on Stack Overflow you are presenting your code to people who work in many different ways, and would appreciate something more readable. Your way of working is irrelevant."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507230276, "post_id": 46589928, "comment_id": 80139038, "body": "The elaboration of ln(10.0) also worries me. <code>my $ln10 = log 10</code> would have sufficed: you&#39;re not testing the size or accuracy of your perl&#39;s floating point here. If your work isn&#39;t for other people then you have missed the point. You may be enthralled by your own insights for a while, but that isn&#39;t a purpose."}, {"owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508100879, "post_id": 46589928, "comment_id": 80465142, "body": "<i>&quot;is easily confused with a subroutine call&quot;*/</i>&quot;I think \u2026 is simpler&quot;<i>/</i>&quot;please don&#39;t emulate a function call&quot;* None of us are remotely confused by this. Maybe you&#39;re just bad at reading?"}, {"owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508100905, "post_id": 46589928, "comment_id": 80465153, "body": "<i>&quot;The elaboration of ln(10.0) also worries me.&quot;</i> Wrongly. There&#39;s an important reason for it. But you assumed you knew what we&#39;re doing. Wrongly."}, {"owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508101181, "post_id": 46589928, "comment_id": 80465235, "body": "<i>&quot;Your way of working is irrelevant.&quot;</i> Right back at you, bud. If you&#39;re angered by insignificant trivialities or idiosyncrasies, then stay off the internet."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508143786, "post_id": 46589928, "comment_id": 80477867, "body": "If there&#39;s an &quot;important reason&quot; to avoid <code>log 10</code> then it needs a comment as it&#39;s an obvious edit. And I know <i>exactly</i> what you&#39;re doing: you&#39;re asking a question on Stack Overflow, where readability is way more important than what <i>you</i> prefer and what is convenient for <i>your</i> coding habits. <code>q($ln10)</code> is far too easily overlooked as a subroutine call, in particular because it also has a &quot;variable&quot; as its &quot;parameter&quot;. <i>&quot;None of us are remotely confused&quot;</i> well hopefully not because you wrote it and understand what it&#39;s supposed to do. Write your code for others to read."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508144305, "post_id": 46589928, "comment_id": 80478170, "body": "<i>&quot;If you&#39;re angered by insignificant trivialities or idiosyncrasies, then stay off the internet&quot;</i> If you think this is an insignificant triviality then you&#39;re in the wrong job: the ability to pay attention to details is essential to coding well. And I&#39;m not talking about my way of working; this is about your confusing style. I don&#39;t care how you fix it, but I think it&#39;s a significant issue. And the ability to accept constructive criticism is also essential to being a good programmer."}, {"owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1544207467, "post_id": 46589928, "comment_id": 94207666, "body": "No, a comment wasn\u2019t needed in the original context, nor was style unclear; I\u2019m sorry you assumed so wrongly of it, and that we\u2019re all equally animated by pedantry in casual Q&amp;A."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507219703, "post_id": 46590108, "comment_id": 80133408, "body": "The block is also important. The <code>package</code> is not a lexical scope on its own. That&#39;s what <code>our</code> is for."}, {"owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "edited": false, "score": 0, "creation_date": 1507228921, "post_id": 46590108, "comment_id": 80138383, "body": "Reference destruction isn&#39;t entirely applicable here, since maintaining a reference still causes it to fail (see my edit)."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "edited": false, "score": 0, "creation_date": 1507230081, "post_id": 46590108, "comment_id": 80138964, "body": "@alexchandel Oh, that&#39;s very interesting! I have a hunch why that might be the case (the \u201cpad\u201c table mapping lexical variables to scalar objects is destroyed when the scope is left, so the inner sub can&#39;t find the variable value even if the value continues to exist), but at this level we&#39;re deep into implementation details of the Perl interpreter. It&#39;s better to treat that as undefined behaviour, and only expect variables in an eval that you explicitly close over."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 13, "last_activity_date": 1507219816, "last_edit_date": 1507219816, "creation_date": 1507219251, "answer_id": 46590108, "question_id": 46589928, "link": "https://stackoverflow.com/questions/46589928/what-is-the-reason-for-the-warning-that-a-lexical-variable-is-not-available-wi/46590108#46590108", "title": "What is the reason for the warning that a lexical variable is &quot;not available&quot; within eval", "body": "<p>A subroutine does not close over (capture) all visible lexical variables, but only those that are referred to within the subroutine body. This is a pretty integral part for reference counting to work properly. Which variables are captured is determined at compile time, and the variables are captured when the subroutine definition is executed (compile time for named subs, run time for anonymous subs).</p>\n\n<p>Here your first <code>reval</code> does not capture the <code>$ln10</code> variable. Therefore, it is not available inside the eval. Because the eval string is a runtime value, it cannot be taken into account when determining which variables should be captured.</p>\n\n<p>More precisely, the <code>$ln10</code> variable is destroyed when the enclosing block is left, because no further references to it exist. So this code would work because the <code>$ln10</code> variable still exists while the eval is executed:</p>\n\n<pre><code>use warnings;\n{\n    package VLE;\n    my $ln10 = 2.302585092994045684017991454684;\n\n    sub reval {\n        say eval $_[0] if @_;\n    }\n\n    reval(q($ln10));\n    # $ln10 variable exists until here\n}\n</code></pre>\n\n<p>The second <code>eval</code> does capture the variable so its lifetime is extended until the point in time where the eval is executed, and everything works as expected.</p>\n"}], "owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 46590108, "answer_count": 1, "score": 11, "last_activity_date": 1508101782, "creation_date": 1507218709, "last_edit_date": 1508101782, "question_id": 46589928, "link": "https://stackoverflow.com/questions/46589928/what-is-the-reason-for-the-warning-that-a-lexical-variable-is-not-available-wi", "title": "What is the reason for the warning that a lexical variable is &quot;not available&quot; within eval", "body": "\n\n<p>When an <code>eval</code> statement is within the scope of a lexical variable, that variable should be within the lexical context of the evaluated block. Moreover, lexical variables should be available in the lexical context of subs. </p>\n\n<p>Yet this doesn't work:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use warnings;\n\n{\n    package VLE;\n\n    my $ln10 = 2.302585092994045684017991454684;\n\n    sub reval {\n        say eval $_[0] if @_;\n    }\n}\n\npackage VLE;\n\nreval( q($ln10) );\n</code></pre>\n\n<p>It results in:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Variable \"$ln10\" is not available at (eval 1) line 1.\n</code></pre>\n\n<p>But if I (uselessly) use the lexical variable anywhere in the block, it's suddenly available in the eval:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use warnings;\n\n{\n    package VLE;\n\n    my $ln10 = 2.302585092994045684017991454684;\n\n    sub reval {\n        say eval $_[0] if @_;\n        my (undef) = $ln10;\n        return 0\n    }\n}\n\npackage VLE;\n\nreval( q($ln10) );\n</code></pre>\n\n<p>prints</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>2.30258509299405\n</code></pre>\n\n<p>Why does this happen?</p>\n\n<h3>Edit:</h3>\n\n<p>The destruction of references isn't the issue, since this code (which maintains a reference to <code>$ln10</code>) also fails:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use warnings;\n\n{\n    package VLE;\n\n    my $ln10 = 2.302585092994045684017991454684;\n\n    sub reval2 {\n        say eval $_[0] if @_;\n        my (undef) = $ln10;\n        return 0\n    }\n\n    sub reval {\n        say eval $_[0] if @_;\n        return 0\n    }\n}\n\npackage VLE;\n\nreval( q($ln10) ); # still fails\nreval2( q($ln10) ); # works\n</code></pre>\n"}, {"tags": ["perl", "dbix-class"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507218484, "post_id": 46589777, "comment_id": 80132668, "body": "Note that this is now engine specific. You will not be able to port it to say SQLite."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507228950, "post_id": 46589777, "comment_id": 80138397, "body": "@simbabque: Is there non engine specific way?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507229569, "post_id": 46589777, "comment_id": 80138689, "body": "I don&#39;t think so. If a maintainer doesn&#39;t know then probably not. I don&#39;t think sqlite or MySQL can even do that. Oracle maybe."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1507234542, "post_id": 46589777, "comment_id": 80141145, "body": "If you use DBIx::Class consistently, you should have that default in the column_info. In which case you can update to that."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1507270930, "post_id": 46589777, "comment_id": 80150811, "body": "@bytepusher: If you mean <code>default_value</code> that is different thing. and <code>-&gt;update({ column =&gt; undef })</code> will not work if <code>is_nullable =&gt; 0</code>"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1507319921, "post_id": 46589777, "comment_id": 80178240, "body": "@EugenKonkov: That is what I was referring to. And that is non engine- specific information stored in the model. If it&#39;s not in the model, you need to use an engine-specific way of getting it out."}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": true, "score": 0, "last_activity_date": 1507218448, "last_edit_date": 1507218448, "creation_date": 1507218229, "answer_id": 46589777, "question_id": 46589590, "link": "https://stackoverflow.com/questions/46589590/how-to-reset-column-value-to-default-when-updating-it-with-dbixclass/46589777#46589777", "title": "How to reset column value to DEFAULT when updating it with DBIx::Class?", "body": "<p>Thank you to <em>ilmari</em>. I need <code>ref</code> to use literal SQL:</p>\n\n<pre><code>$schame-&gt;result_set( 'table' )-&gt;update({ column =&gt; \\'DEFAULT' })\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 46589777, "answer_count": 1, "score": 0, "last_activity_date": 1507218448, "creation_date": 1507217752, "question_id": 46589590, "link": "https://stackoverflow.com/questions/46589590/how-to-reset-column-value-to-default-when-updating-it-with-dbixclass", "title": "How to reset column value to DEFAULT when updating it with DBIx::Class?", "body": "<p>When updating column in postgresql we can reset it value to <code>DEFAULT</code></p>\n\n<pre><code>UPDATE table SET column = DEFAULT\n</code></pre>\n\n<p>Is there analogue in DBIx::Class? Just like this:</p>\n\n<pre><code>$schame-&gt;result_set( 'table' )-&gt;update({ column =&gt; DEFAULT })\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507216077, "post_id": 46588777, "comment_id": 80131190, "body": "you are already doing it with a regex?"}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507216320, "post_id": 46588777, "comment_id": 80131347, "body": "No, I meant using regex to count the occurrences. I am doing using list and hash."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507216886, "post_id": 46588777, "comment_id": 80131718, "body": "You want a solution that doesn&#39;t even use the hash then?"}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507216917, "post_id": 46588777, "comment_id": 80131738, "body": "Yes, would it be feasible?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1507217021, "post_id": 46588777, "comment_id": 80131801, "body": "I can&#39;t think of a way of doing it solely with a regex - if it were possible it would use a really hideously complicated regex that wouldn&#39;t be nearly as maintainable as what you have already."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507217096, "post_id": 46588777, "comment_id": 80131859, "body": "You can ditch the list though and do <code>$counts{$1}++;</code> which will halve the amount of work your code has to do."}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1507217154, "post_id": 46588777, "comment_id": 80131895, "body": "Can you please put your above comment in the code to make it clear."}], "answers": [{"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": true, "score": 2, "last_activity_date": 1507217673, "creation_date": 1507217673, "answer_id": 46589564, "question_id": 46588777, "link": "https://stackoverflow.com/questions/46588777/capture-all-the-words-in-a-line-and-count-their-occurances-using-perl-regex/46589564#46589564", "title": "Capture all the words in a line and count their occurances using Perl regex", "body": "<p>I can't see a way to do this purely with a regex and if such a way did exist, it would be a really overly complicated regex that would be very hard to maintain. But it is possible to simplify what you have by just using a hash and losing the list;</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $string = \"John is a good boy. John goes to school with his brother Johnny. When John is hungry, he eats his tiffin.\";\nmy %counts;\nmy $word_count = 0;\nwhile($string =~ /\\b(\\w+)\\b/g)\n    {\n    $counts{$1}++;\n    $word_count++;\n    }\n\nprint \"$word_count\\n\";\nforeach my $keys (keys %counts)\n    {\n    print \"$keys = $counts{$keys}\\n\";\n    }\n</code></pre>\n\n<p>Note: I've tweaked the regex slightly as you don't need the \"\\b\" inside the capture group and making it case-insensitive wasn't required as you're not matching specific strings. And added \"use strict;\" and \"use warnings;\" which you should always have at the top of your perl to throw up any problems with it.</p>\n"}], "owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 46589564, "answer_count": 1, "score": 0, "last_activity_date": 1507217673, "creation_date": 1507215461, "question_id": 46588777, "link": "https://stackoverflow.com/questions/46588777/capture-all-the-words-in-a-line-and-count-their-occurances-using-perl-regex", "title": "Capture all the words in a line and count their occurances using Perl regex", "body": "<p>I am trying to know how many words are there in a paragraph and then find the count of each word occurrence. \nI could do it , but is there is any other way to do using only regex? </p>\n\n<pre><code>my $string = \"John is a good boy. John goes to school with his brother Johnny. When John is hungry, he eats his tiffin.\";\nmy @list = ();\nwhile($string =~ /(\\b\\w+\\b)/gi)\n{\n        push(@list, $1);\n}\n\nmy %counts;\nfor (@list) {\n   $counts{$_}++;\n}\nprint \"$#list \\n\";\nforeach my $keys (keys %counts) {\n   print \"$keys = $counts{$keys}\\n\";\n}\n</code></pre>\n\n<p>Output should be</p>\n\n<pre><code>20\nbrother = 1\na = 1\ngoes = 1\nis = 2\ngood = 1\nto = 1\ntiffin = 1\nWhen = 1\nboy = 1\nhis = 2\nschool = 1\nJohnny = 1\nhe = 1\neats = 1\nJohn = 3\nwith = 1\nhungry = 1\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1507219503, "post_id": 46589003, "comment_id": 80133289, "body": "<code>Carp::cluck</code> and <code>Carp::confess</code> always output the stack trace."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 6, "last_activity_date": 1507216055, "creation_date": 1507216055, "answer_id": 46589003, "question_id": 46588654, "link": "https://stackoverflow.com/questions/46588654/can-we-get-a-stack-trace-for-strict-refs-violations-in-perl/46589003#46589003", "title": "Can we get a stack trace for strict refs violations in Perl?", "body": "<p>The <code>strict</code> pragma contains the categories <code>subs</code> which forbids barewords, and <code>vars</code> which requires you to declare all variables. Those are <em>compile-time</em> errors. A stack trace for these is not helpful, as they directly stem from the source code on that line.</p>\n\n<p>The <code>strict</code> category <code>refs</code> forbids strings as references, which is a <em>runtime error</em>. Here a stacktrace may be helpful to figure out where that string came from.</p>\n\n<p>One way to get a stack trace is to <a href=\"https://metacpan.org/pod/Carp::Always\" rel=\"noreferrer\"><code>use Carp::Always</code></a> (or as a command line flag: <code>-MCarp::Always</code>). This modifies all errors and warnings to include a stack trace. Because it makes all errors much longer, is best to only use this as a debugging help.</p>\n\n<p>If you're having the problem that your subroutines are getting invalid arguments, it may be better to validate the inputs. E.g.:</p>\n\n<pre><code>use Carp;\n\nsub foo {\n  my ($ref) = @_;\n\n  # dies from the line where \"foo()\" was called\n  croak q(Argument \"ref\" must be a scalar reference)\n    unless ref $ref eq 'SCALAR' or ref $ref eq 'REF';\n\n  do_something_with($$ref);\n}\n</code></pre>\n\n<p>When using one of the functions from <code>Carp</code> (e.g. <code>croak()</code> or <code>confess()</code>) you can force a stack trace by adding the Perl option <code>-MCarp=verbose</code>.</p>\n"}], "owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 46589003, "answer_count": 1, "score": 1, "last_activity_date": 1507216055, "creation_date": 1507215089, "question_id": 46588654, "link": "https://stackoverflow.com/questions/46588654/can-we-get-a-stack-trace-for-strict-refs-violations-in-perl", "title": "Can we get a stack trace for strict refs violations in Perl?", "body": "<p>I am using <code>use strict</code> in my Perl program, but the errors aren't as helpful as they could be since they just list the single offending line. Is there a way to get backtraces when use strict fails? </p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 0, "creation_date": 1507212752, "post_id": 46587776, "comment_id": 80128787, "body": "Googling for the title of your question brings this: <a href=\"http://www.perlmonks.org/?node_id=17057\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=17057</a> as the first result. Please explain how it does not work for you?"}, {"owner": {"reputation": 35, "user_id": 7129200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rvoK6DwbI9s/AAAAAAAAAAI/AAAAAAAAAu4/5k9eTA_-jFQ/photo.jpg?sz=128", "display_name": "Paul Hill", "link": "https://stackoverflow.com/users/7129200/paul-hill"}, "edited": false, "score": 0, "creation_date": 1507212940, "post_id": 46587776, "comment_id": 80128914, "body": "I get the following error when I add the following line of code: my $pwdDaysLeft = int(($pwdExpirationDate - $pwdLastSet) / 86400); &quot;Only a DateTime::Duration or DateTime object can  be subtracted from a DateTime object. at pwdreminder.pl line 65&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507213027, "post_id": 46587776, "comment_id": 80128968, "body": "What is <code>convertWinFileTimestamp</code>? And presumably <code>$maxPwdAge</code> is 180? By <code>pwdExpireDate</code>, do you mean <code>$pwdExpirationDate</code>? It is best to show a self-contained piece of code that we can run for ourselves."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507213133, "post_id": 46587776, "comment_id": 80129040, "body": "Why do you declare and assign to <code>$pwdLastSet_dt</code> twice?"}, {"owner": {"reputation": 35, "user_id": 7129200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rvoK6DwbI9s/AAAAAAAAAAI/AAAAAAAAAu4/5k9eTA_-jFQ/photo.jpg?sz=128", "display_name": "Paul Hill", "link": "https://stackoverflow.com/users/7129200/paul-hill"}, "edited": false, "score": 0, "creation_date": 1507213220, "post_id": 46587776, "comment_id": 80129096, "body": "convertWinFileTimestamp is a subroutine that converts the windows time stamp to something that perl can read. Sorry the pwdLastSet_dt was copied into the forum twice, I will fix it"}, {"owner": {"reputation": 35, "user_id": 7129200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rvoK6DwbI9s/AAAAAAAAAAI/AAAAAAAAAu4/5k9eTA_-jFQ/photo.jpg?sz=128", "display_name": "Paul Hill", "link": "https://stackoverflow.com/users/7129200/paul-hill"}, "edited": false, "score": 0, "creation_date": 1507213267, "post_id": 46587776, "comment_id": 80129136, "body": "Also I added the sub routine code to the question"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 0, "creation_date": 1507213385, "post_id": 46587776, "comment_id": 80129222, "body": "So the question becomes: &quot;How do I get DateTime from a Windows timestamp?&quot;"}, {"owner": {"reputation": 35, "user_id": 7129200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rvoK6DwbI9s/AAAAAAAAAAI/AAAAAAAAAu4/5k9eTA_-jFQ/photo.jpg?sz=128", "display_name": "Paul Hill", "link": "https://stackoverflow.com/users/7129200/paul-hill"}, "edited": false, "score": 0, "creation_date": 1507213497, "post_id": 46587776, "comment_id": 80129293, "body": "So I think what you&#39;re saying is my time variables are in two different time formats?"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 7129200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rvoK6DwbI9s/AAAAAAAAAAI/AAAAAAAAAu4/5k9eTA_-jFQ/photo.jpg?sz=128", "display_name": "Paul Hill", "link": "https://stackoverflow.com/users/7129200/paul-hill"}, "edited": false, "score": 0, "creation_date": 1507218091, "post_id": 46589597, "comment_id": 80132446, "body": "That was it! Thank you so much!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1507218189, "last_edit_date": 1507218189, "creation_date": 1507217779, "answer_id": 46589597, "question_id": 46587776, "link": "https://stackoverflow.com/questions/46587776/calculate-number-of-days-between-two-dates-in-perl/46589597#46589597", "title": "Calculate number of days between two dates in Perl", "body": "<p>So, we have three dates here:</p>\n\n<ul>\n<li>The date that the password was last set. This starts off as a string in the format <code>YYYY-MM-DD</code> stored in <code>$pwdLastSet</code>, but then you parse it into a DateTime object stored in <code>$pwdLastSet_dt</code>.</li>\n<li>The date that the current password expires. This is calculated by adding <code>$maxPwdAge</code> days to <code>$pwdLastSet_dt</code>, which gives a DateTime object which is then stored in <code>$pwdExpirationDate</code>.</li>\n<li>The current date. Which, in your current code, you don't calculate.</li>\n</ul>\n\n<p>What you actually want is the difference in days a between the second and third of these two dates. We can ignore the first date as is it only used to calculate the second date. I assume that you're calculating that correctly.</p>\n\n<p>Hopefully, the password expiration date will always be in the future. So the calculation we want to do is:</p>\n\n<pre><code>my $diff = $pwdExpirationDate - $current_date;\n</code></pre>\n\n<p>As long as both of those are DateTime objects, we'll get a DateTime::Duration object back, which we can then ask for the number of days.</p>\n\n<p>DateTime has a <code>today()</code> method that will give the current date. So our code becomes:</p>\n\n<pre><code># Use delta_days() to get a duration object that just contains days\nmy $diff = $pwdExpirationDate-&gt;delta_days(DateTime-&gt;today);\nprint $diff-&gt;in_units('days');\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7129200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rvoK6DwbI9s/AAAAAAAAAAI/AAAAAAAAAu4/5k9eTA_-jFQ/photo.jpg?sz=128", "display_name": "Paul Hill", "link": "https://stackoverflow.com/users/7129200/paul-hill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1353, "favorite_count": 0, "accepted_answer_id": 46589597, "answer_count": 1, "score": 0, "last_activity_date": 1507218189, "creation_date": 1507212565, "last_edit_date": 1507213148, "question_id": 46587776, "link": "https://stackoverflow.com/questions/46587776/calculate-number-of-days-between-two-dates-in-perl", "title": "Calculate number of days between two dates in Perl", "body": "<p>I am using Perl to create a script that will email password expiration notifications.</p>\n\n<p>I have two dates:</p>\n\n<ol>\n<li>The date that the users password was set</li>\n<li><p>The date that the users password will expire (180 days after the password was set)</p>\n\n<pre><code>use DateTime::Format::Strptime;\n\nmy $dt_pattern      = DateTime::Format::Strptime-&gt;new( pattern =&gt; '%F',);\nmy $displayName = $entry-&gt;get_value(\"displayName\");\n\nmy $pwdLastSet = convertWinFileTimestamp($entry-&gt;get_value(\"pwdLastSet\"));\n\n# Determine password expiration date\nmy $pwdLastSet_dt = $dt_pattern-&gt;parse_datetime($pwdLastSet);\nmy $pwdExpirationDate = $pwdLastSet_dt-&gt;add( days =&gt; $maxPwdAge );\n\n# Days until password expires\n# HELP!!!!!!!\n\nsub convertWinFileTimestamp {\n        my $timestamp = shift;\n        # Strip off nanoseconds, then adjust date from AD epoch (1601) to UNIX epoch (1970)\n        return POSIX::strftime( \"%Y-%m-%d\",\n        localtime( ( $timestamp / 10000000 ) - 11644473600 ) );\n}\n</code></pre></li>\n</ol>\n\n<p>I cannot figure out how to calculate the difference between the two dates!</p>\n\n<p>Below is the output for each variable:</p>\n\n<pre><code>    pwdLastSet:     2015-02-12\n    pwdExpireDate:  2015-08-11T00:00:00\n</code></pre>\n\n<p>Any help much appreciated...been googling like crazy but I can't figure it out...Thanks!</p>\n\n<p>I tried the following lines of code:</p>\n\n<pre><code>    my $pwdDaysLeft = int(($pwdExpirationDate - $pwdLastSet) / 86400);\n</code></pre>\n\n<p>but got the following error:</p>\n\n<pre><code>    Only a DateTime::Duration or DateTime object can  be subtracted from a DateTime object. at pwdreminder.pl line 65\n</code></pre>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1507213413, "post_id": 46587600, "comment_id": 80129232, "body": "You haven&#39;t asked a question or shown the code that is giving you trouble. Why have you tagged this with both Python and Perl? Which language are you working in?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507213584, "post_id": 46587600, "comment_id": 80129357, "body": "Why have you tagged the question with <b>Python-Requests</b>? You don&#39;t appear to be using the <code>Requests</code> library and your question is nothing to do with HTTP."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8726761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9nqmUmP-HiM/AAAAAAAAAAI/AAAAAAAAFIE/5up5ebUT0PM/photo.jpg?sz=128", "display_name": "Narendra Thamatam", "link": "https://stackoverflow.com/users/8726761/narendra-thamatam"}, "edited": false, "score": 0, "creation_date": 1507267585, "post_id": 46587732, "comment_id": 80149638, "body": "if my variable holding hex string and how we will do the above experiment with via variable?  I have tried to do this as follows , x=&#39;7A&#39; y=int(x,16) z=&#39;%x&#39; %y print(z) with open(&#39;test.bin&#39;, &#39;rb+&#39;) as f: \tf.seek(3) \tf.write(bz)  And its throwing error like, &quot;Traceback (most recent call last):   File &quot;3.py&quot;, line 7, in &lt;module&gt;     f.write(z) TypeError: &#39;str&#39; does not support the buffer interface &quot;"}, {"owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "reply_to_user": {"reputation": 1, "user_id": 8726761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9nqmUmP-HiM/AAAAAAAAAAI/AAAAAAAAFIE/5up5ebUT0PM/photo.jpg?sz=128", "display_name": "Narendra Thamatam", "link": "https://stackoverflow.com/users/8726761/narendra-thamatam"}, "edited": false, "score": 0, "creation_date": 1507272735, "post_id": 46587732, "comment_id": 80151644, "body": "@NarendraThamatam: you need to write a <code>bytes</code> object, not a <code>str</code> object. BTW <code>7A</code> is a string containing 2 characters. I think that you need to write the single byte with value 0x7A. Convert from a hex string with <code>binascii.unhexlify(s)</code>, e.g. <code>binascii.unhexlify(&#39;7A&#39;)</code> will return the bytes object <code>b&#39;z&#39;</code>, and <code>binascii.unhexlify(&#39;AA&#39;)</code> will return <code>b&#39;\\xaa&#39;</code>"}, {"owner": {"reputation": 1, "user_id": 8726761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9nqmUmP-HiM/AAAAAAAAAAI/AAAAAAAAFIE/5up5ebUT0PM/photo.jpg?sz=128", "display_name": "Narendra Thamatam", "link": "https://stackoverflow.com/users/8726761/narendra-thamatam"}, "edited": false, "score": 0, "creation_date": 1507273981, "post_id": 46587732, "comment_id": 80152242, "body": "My question is how to pass the hex variable (ex: z=0x7A) to the f.write()?  I am trying it is like, f.write(&#39;\\x%x&#39;%(z)) but it giving error.  Can you please suggest the best way?"}, {"owner": {"reputation": 1, "user_id": 8726761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9nqmUmP-HiM/AAAAAAAAAAI/AAAAAAAAFIE/5up5ebUT0PM/photo.jpg?sz=128", "display_name": "Narendra Thamatam", "link": "https://stackoverflow.com/users/8726761/narendra-thamatam"}, "edited": false, "score": 0, "creation_date": 1507274260, "post_id": 46587732, "comment_id": 80152394, "body": "Thanks mhawke.. Just now I have tried this as follows,  import binascii x=&#39;7A&#39; z=binascii.unhexlify(x) with open(&#39;test.bin&#39;, &#39;rb+&#39;) as f: \tf.seek(3) \tf.write(z)  and its is working fine :).."}], "tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": true, "score": 1, "last_activity_date": 1507281789, "last_edit_date": 1507281789, "creation_date": 1507212416, "answer_id": 46587732, "question_id": 46587600, "link": "https://stackoverflow.com/questions/46587600/how-to-replace-the-bytes-in-a-binary-file/46587732#46587732", "title": "How to replace the bytes in a binary file?", "body": "<p>Open the file for update in binary mode, seek to the desired position in the file, then write the replacement character. The following will work in Python 2 and 3 and will overwrite the 4th byte of the file (3rd position if counting from 0) with 0xAA.</p>\n\n<pre><code>with open('test.bin', 'rb+') as f:\n    f.seek(3)\n    f.write(b'\\xAA')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8726761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9nqmUmP-HiM/AAAAAAAAAAI/AAAAAAAAFIE/5up5ebUT0PM/photo.jpg?sz=128", "display_name": "Narendra Thamatam", "link": "https://stackoverflow.com/users/8726761/narendra-thamatam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3132, "favorite_count": 0, "accepted_answer_id": 46587732, "answer_count": 1, "score": -7, "last_activity_date": 1507281789, "creation_date": 1507212024, "last_edit_date": 1507220247, "question_id": 46587600, "link": "https://stackoverflow.com/questions/46587600/how-to-replace-the-bytes-in-a-binary-file", "title": "How to replace the bytes in a binary file?", "body": "\n\n<p>My binary file <code>test.bin</code> contains</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>11 22 33 44 55 66 ...\n</code></pre>\n\n<p>I want to modify the 3rd position with <code>AA</code> and my file should be like</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>11 22 33 AA 55 66 ....\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "is_accepted": true, "score": 1, "last_activity_date": 1539275002, "last_edit_date": 1539275002, "creation_date": 1507304242, "answer_id": 46609296, "question_id": 46585726, "link": "https://stackoverflow.com/questions/46585726/minilla-or-milla-distmilla-add-to-build-pl/46609296#46609296", "title": "Minilla or Milla (Dist::Milla) - add to Build.PL", "body": "<p>I create <code>ModuleBuild</code> extension like this:</p>\n\n<pre><code>package builder::SomeName;\nuse strict;\nuse warnings;\nuse parent 'Module::Build';\n\nsub new {\n    my ($class, %arg) = @_;\n\n    # check some condition\n\n    die \"Not supported.\\n\"\n        if !$check;\n\n    $class-&gt;SUPER::new(%arg);\n}\n1;\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 46609296, "answer_count": 1, "score": 1, "last_activity_date": 1539275002, "creation_date": 1507206718, "question_id": 46585726, "link": "https://stackoverflow.com/questions/46585726/minilla-or-milla-distmilla-add-to-build-pl", "title": "Minilla or Milla (Dist::Milla) - add to Build.PL", "body": "<p>I want to use <a href=\"https://metacpan.org/pod/Minilla\" rel=\"nofollow noreferrer\">Minilla</a> or <a href=\"https://metacpan.org/pod/Dist::Milla\" rel=\"nofollow noreferrer\">Milla</a> to release my dist.\nI want to check some condition before create <code>Build</code> script in Build.PL. But Minilla and Milla rewrite <code>Build.PL</code> every time when I run Minilla or Milla <code>build</code>. How I can do that?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "file-io", "parallel-processing", "fork"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1507209608, "post_id": 46585375, "comment_id": 80126290, "body": "Why do you want to read these files in parallel? Have you written a solution and found that it is too slow, then profiled it and found that reading the files is a bottleneck? Unless your files are large and on separate drives you are unlikely to achieve a useful increase in speed, and you have made your code substantially more difficult to read an understand."}], "answers": [{"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 1, "last_activity_date": 1507206907, "creation_date": 1507206907, "answer_id": 46585779, "question_id": 46585375, "link": "https://stackoverflow.com/questions/46585375/perl-store-many-files-content-with-parallelforkmanager/46585779#46585779", "title": "Perl: store many files content with Parallel::ForkManager", "body": "<p>When you fork, the child process has it's own separate memory so the parent won't have access to the data you've read in. You'd have to find a way for the child to communicate the data back, maybe via pipes, but at that point you might as well not bother with forking and just read the data in direct.</p>\n\n<p>What you probably want to look into, is using threads as they share the same memory.</p>\n"}, {"tags": [], "owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "is_accepted": true, "score": 1, "last_activity_date": 1507209510, "creation_date": 1507209510, "answer_id": 46586654, "question_id": 46585375, "link": "https://stackoverflow.com/questions/46585375/perl-store-many-files-content-with-parallelforkmanager/46586654#46586654", "title": "Perl: store many files content with Parallel::ForkManager", "body": "<p>You can do it with a <code>run_on_finish()</code> callback and the data stored as a reference with something like the filename as a key (see the <a href=\"http://search.cpan.org/~dlux/Parallel-ForkManager-0.7.6/ForkManager.pm\" rel=\"nofollow noreferrer\">Data structure retrieval</a> section of the docs for an example).</p>\n\n<p>So, if you make your file reading code a subroutine, have it return the data as a reference, and then use a callback, you might end up with something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse autodie;\n\nuse Parallel::ForkManager;\nuse Data::Dump;\n\nsub proc_file {\n    # Read the file and split into a hash; assuming the data struct, based on\n    # OP's example.\n    my $file = shift;\n    open(my $fh, \"&lt;\", $$file);\n    my %content = map{ chomp; split(/\\t/) }&lt;$fh&gt;;\n    return \\%content;\n}\n\nmy %content;\nmy @files = ('aa','ab','ac');\n\nmy $pm = new Parallel::ForkManager(3);\n$pm-&gt;run_on_finish(\n    sub {\n        my ($pid, $exit_code, $ident, $exit_signal, $core_dump, $data_structure_reference) = @_;\n        my $input_file = $data_structure_reference-&gt;{input};\n        $content{$input_file} = $data_structure_reference-&gt;{result};\n    }\n);\n\n# For each file, fork a child, and on finish create an object ref to the file\n# and the results of processing, that can be stored in the $data_structure_reference.\nfor my $input_file (@files) {\n    $pm-&gt;start and next;\n    my $return_data = proc_file(\\$input_file);\n\n    $pm-&gt;finish(0,\n        {\n          result  =&gt; $return_data,\n          input   =&gt; $input_file,\n        }\n     );\n}\n$pm-&gt;wait_all_children;\n\ndd \\%content;\n</code></pre>\n\n<p>That will result in a hash of hashes with the filename as a key and the contents as a sub-hash, which you can easily collapse or pool together or whatever you like:</p>\n\n<pre><code>$ ./parallel.pl a*\n{\n  aa =&gt; { apple =&gt; \"pear\" },\n  ab =&gt; { Joe =&gt; \"Wilson\" },\n  ac =&gt; { \"New York\" =&gt; \"Mets\" },\n}\n</code></pre>\n\n<p>Note, that like any forking procedure, there's quite a bit of overhead cost associated, and this may not end up speeding up your processing any more than simply looping through the files sequentially.</p>\n"}], "owner": {"reputation": 151, "user_id": 5530729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/becd9dec5242bec6e3c19294e6e0b14f?s=128&d=identicon&r=PG&f=1", "display_name": "dcirillo", "link": "https://stackoverflow.com/users/5530729/dcirillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 46586654, "answer_count": 2, "score": 1, "last_activity_date": 1507209510, "creation_date": 1507205658, "question_id": 46585375, "link": "https://stackoverflow.com/questions/46585375/perl-store-many-files-content-with-parallelforkmanager", "title": "Perl: store many files content with Parallel::ForkManager", "body": "<p>I have three files (two tab-separated fields, no redundancies among files). I want to read them in parallel and store their content in one single hash.</p>\n\n<p>This is what I tried:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Parallel::ForkManager;\nuse Data::Dumper;\n\nmy @files = ('aa', 'ab', 'ac');\n\nmy %content;\nmy $max_processors = 3;\nmy $pm = Parallel::ForkManager-&gt;new($max_processors);\n\nforeach my $file (@files) {\n    $pm-&gt;start and next;\n\n    open FH, $file or die $!;\n    while(&lt;FH&gt;){\n        chomp;\n        my($field1, $field2) = split/\\t/,$_;\n        $content{$field1} = $field2;\n    }\n    close FH;\n\n    $pm-&gt;finish;\n}\n$pm-&gt;wait_all_children;\n\nprint Dumper \\%content;\n</code></pre>\n\n<p>The output of this script is</p>\n\n<p>$VAR1 = {};</p>\n\n<p>I can see that the three files are processed in parallel but... How can I store the content of the three for post-fork processing?</p>\n"}, {"tags": ["perl", "error-handling", "die"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 2, "creation_date": 1507195074, "post_id": 46581860, "comment_id": 80116693, "body": "Note that <code>die()</code> just throws an exception that can be caught later with <code>eval { ... }</code>. A <code>die()</code> should not directly terminate the program!"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 4, "creation_date": 1507195309, "post_id": 46581860, "comment_id": 80116843, "body": "Sidenote: see also if <a href=\"http://perldoc.perl.org/perlvar.html#%25SIG\" rel=\"nofollow noreferrer\"><code>$SIG{__DIE__}</code></a> could suit your needs."}, {"owner": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 0, "creation_date": 1507195647, "post_id": 46581860, "comment_id": 80117061, "body": "Ok i will check that"}], "answers": [{"comments": [{"owner": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 0, "creation_date": 1507195941, "post_id": 46581953, "comment_id": 80117245, "body": "Since die is overridden what exception to throw from my die?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 1, "creation_date": 1507197174, "post_id": 46581953, "comment_id": 80118129, "body": "It starts with &quot;instead of overriding&quot;, so there&#39;s no &quot;my die&quot;."}, {"owner": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 0, "creation_date": 1507197274, "post_id": 46581953, "comment_id": 80118198, "body": "problem is my project has already 300 perl files and I cant wrap each and everywhere in all those files. So i need to override it if i want log messages into my logging framework"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 1, "creation_date": 1507197528, "post_id": 46581953, "comment_id": 80118394, "body": "Then <code>$SIG{__DIE__}</code> might be more suitable."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 0, "creation_date": 1507197565, "post_id": 46581953, "comment_id": 80118411, "body": "Do you have 300 scripts that call each other? Or just few scripts and lots of <code>.pm</code> modules?"}, {"owner": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 0, "creation_date": 1507197857, "post_id": 46581953, "comment_id": 80118597, "body": "300 scripts and some 50 modules"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 0, "creation_date": 1507198021, "post_id": 46581953, "comment_id": 80118720, "body": "You have my sympathies."}, {"owner": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 0, "creation_date": 1507198111, "post_id": 46581953, "comment_id": 80118796, "body": "Ha ha so there is no way is it? I just have to follow my old implementation?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "edited": false, "score": 2, "creation_date": 1507198346, "post_id": 46581953, "comment_id": 80118955, "body": "You can use <code>$SIG_{__DIE__}</code>. But please, put the code into a single module and load it from all the scripts instead of inserting the code into each of them."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 7, "last_activity_date": 1507195061, "creation_date": 1507195061, "answer_id": 46581953, "question_id": 46581860, "link": "https://stackoverflow.com/questions/46581860/exit-codes-when-using-die-in-perl/46581953#46581953", "title": "Exit Codes when using die in Perl", "body": "<p>The exit code is documented in <a href=\"http://p3rl.org/die\" rel=\"noreferrer\">die</a>:</p>\n\n<blockquote>\n<pre><code> exit $! if $!;              # errno\n exit $? &gt;&gt; 8 if $? &gt;&gt; 8;    # child exit status\n exit 255;                   # last resort\n</code></pre>\n</blockquote>\n\n<p>But as @amon noted, <code>die</code> doesn't exit, it throws an exception. Instead of overriding it, it might be clearer to wrap the whole thing into an <code>eval { ... ; 1 }</code> (or <a href=\"http://p3rl.org/Try::Tiny\" rel=\"noreferrer\">Try::Tiny</a>'s <code>try</code>) and log the exception in the <code>or do</code> or <code>catch</code> part.</p>\n"}, {"tags": [], "owner": {"reputation": 2496, "user_id": 2469275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b7EZh.png?s=128&g=1", "display_name": "janh", "link": "https://stackoverflow.com/users/2469275/janh"}, "is_accepted": false, "score": 0, "last_activity_date": 1507195597, "creation_date": 1507195597, "answer_id": 46582141, "question_id": 46581860, "link": "https://stackoverflow.com/questions/46581860/exit-codes-when-using-die-in-perl/46582141#46582141", "title": "Exit Codes when using die in Perl", "body": "<p><code>die()</code> exits with a none-zero exit code (but it's not defined, which, I believe):</p>\n\n<pre><code>jan@jancooltek ~ $ perl\ndie(\"test\");\ntest at - line 1.\njan@jancooltek ~ $ echo $?\n9\n</code></pre>\n\n<p>However, with -e:</p>\n\n<pre><code>jan@jancooltek ~ $ perl -e 'die(\"test\")'\ntest at -e line 1.\njan@jancooltek ~ $ echo $?\n255\n</code></pre>\n\n<p><code>exit()</code> can use any exit code you'd like, there are no specific rules in Perl.\nSettle on something != 0 and use that for these generic errors.</p>\n"}], "owner": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4767, "favorite_count": 0, "accepted_answer_id": 46581953, "answer_count": 2, "score": 3, "last_activity_date": 1507195597, "creation_date": 1507194797, "question_id": 46581860, "link": "https://stackoverflow.com/questions/46581860/exit-codes-when-using-die-in-perl", "title": "Exit Codes when using die in Perl", "body": "<p>I have overridden <code>die</code> in perl for my logging framework, so that it can log messages and print it on console. </p>\n\n<p><strong>Overridden code for die:</strong></p>\n\n<pre><code>BEGIN{ *CORE::GLOBAL::die = sub { \n        my ($package, $filename, $line, $subroutine) = caller;\n        untie *STDERR;\n        my $message;\n        foreach my $arg (@_) {\n            $message = $message.$arg;\n        }\n\n        print STDERR $message;\n        tie *STDERR, __PACKAGE__, (*STDERR);\n        logmessage(\"die\",$message,$filename, $line);\n        #What exit code to pass?\n        #exit CODE;\n    }\n}\n</code></pre>\n\n<p>I don't know what exit code to set while exiting the process as the normal die exits with an error code.</p>\n\n<ul>\n<li><p>Is there any way I can find out what exit code to set when die is\ncalled?</p></li>\n<li><p>Also It would be helpful if can know the list of error codes availabe\nin perl?</p></li>\n</ul>\n"}, {"tags": ["javascript", "html", "image", "perl", "mime-types"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507195258, "post_id": 46581468, "comment_id": 80116804, "body": "Is this Dancer?"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507195287, "post_id": 46581468, "comment_id": 80116825, "body": "@simbabque yes it is!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507195424, "post_id": 46581468, "comment_id": 80116925, "body": "You are trying to send an inline image. What you should send is just an image. The data uri is wrong."}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507195507, "post_id": 46581468, "comment_id": 80116976, "body": "how to transform the image data uri to an image using perl?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507195816, "post_id": 46581468, "comment_id": 80117143, "body": "Why do you have it as base64 in the first place? To get the raw image, you need to decode it. Cut it out of that data uri and then decode it. Send that with a regular content type."}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507195970, "post_id": 46581468, "comment_id": 80117262, "body": "the data uri is the product of an R code that generate the data uri from a plotly plot to image function... So I have to find some perl module that decodes the following bit of the data uri &#39;/9j/4gIcSUNDX1B....N5f2hqE//Z&#39; ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1507196812, "post_id": 46581468, "comment_id": 80117848, "body": "Yes. MIME::Base64 can do that."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1507198059, "post_id": 46581468, "comment_id": 80118749, "body": "Is there any difference between this and <a href=\"https://stackoverflow.com/q/46565373\">your other question</a>?"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1507199068, "post_id": 46581468, "comment_id": 80119462, "body": "i guess ine of the should be deleted..."}], "owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "closed_date": 1507393665, "answer_count": 0, "score": 0, "last_activity_date": 1507197241, "creation_date": 1507193450, "last_edit_date": 1507195443, "question_id": 46581468, "link": "https://stackoverflow.com/questions/46581468/how-to-serve-image-data-uri-to-a-src-attribute-via-http-call-to-perl", "closed_reason": "Duplicate", "title": "How to serve image data uri to a src attribute via http call to perl?", "body": "<p>This is what I have tried so far with my very little knowledge of perl...</p>\n\n<p><code>angularjs</code> <code>template</code> requests an image through <code>src</code> attribute to perl subroutine:</p>\n\n<pre><code>&lt;img width=\"200px\" height=\"200px\" src=\"http://localhost:3000/returnimage\" /&gt;\n</code></pre>\n\n<p>Perl(Dancer) subroutine:</p>\n\n<pre><code>any ['get', 'post'] =&gt; '/returnimage' =&gt; sub {\n\n    content_type 'image/jpeg;base64;';\n    'data:image/jpeg;base64,/9j/4gIcSUNDX1B....N5f2hqE//Z';\n};\n</code></pre>\n\n<p>Should I not return the data uri? should I return the image? if so how would that be done from the image data uri?</p>\n"}, {"tags": ["perl", "email"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1507188062, "post_id": 46579283, "comment_id": 80112772, "body": "You forgot to ask a question."}, {"owner": {"reputation": 11, "user_id": 8153642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d908ddd1f86a33b2e5779e54fd30226a?s=128&d=identicon&r=PG&f=1", "display_name": "saikanthatluri", "link": "https://stackoverflow.com/users/8153642/saikanthatluri"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1507189099, "post_id": 46579283, "comment_id": 80113345, "body": "@PerlDuck I am sending mailfrom address to mail function of Net::SMTP module, but the mail function returns empty sring some times Instead of Undef(error)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1507410748, "post_id": 46579283, "comment_id": 80200819, "body": "@saikanthatluri That&#39;s not a question."}], "owner": {"reputation": 11, "user_id": 8153642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d908ddd1f86a33b2e5779e54fd30226a?s=128&d=identicon&r=PG&f=1", "display_name": "saikanthatluri", "link": "https://stackoverflow.com/users/8153642/saikanthatluri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507409801, "creation_date": 1507185383, "last_edit_date": 1507409801, "question_id": 46579283, "link": "https://stackoverflow.com/questions/46579283/netsmtp-module-sometimes-returns-an-empty-string", "title": "Net::SMTP module sometimes returns an empty string", "body": "<p>I am sending mail from address to mail function of <code>Net::SMTP module</code>, but the mail function returns empty string some times instead of Undef(error):</p>\n\n<pre><code>$feeder-&gt;mail( $mailfrom );-&gt;This line invoking mail function of Net::SMTP \n                          module\n\n      sub mail {-&gt; this subroutine belongs to Net::SMTP module\n                my $me   = shift;\n                my $addr = _addr($me, shift);\n                my $opts = \"\";\n\n                if (@_) {\n                        }\n                $me-&gt;_MAIL(\"FROM:\" . $addr . $opts);\n              }\n sub _MAIL { shift-&gt;command(\"MAIL\", @_)-&gt;response() == CMD_OK }-&gt; Here _MAIL \n                             function invoking command function of Net::Cmd\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "edited": false, "score": 0, "creation_date": 1507186075, "post_id": 46579373, "comment_id": 80111698, "body": "Your or conditioning is unnecessary !!"}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "edited": false, "score": 0, "creation_date": 1507186575, "post_id": 46579373, "comment_id": 80111938, "body": "Can you please also tell me where I was going wrong?"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 2, "last_activity_date": 1507186816, "last_edit_date": 1507186816, "creation_date": 1507185764, "answer_id": 46579373, "question_id": 46579214, "link": "https://stackoverflow.com/questions/46579214/how-to-print-out-an-even-number-within-1-to10-digits-in-perl-using-regex/46579373#46579373", "title": "How to print out an even number within 1 to10 digits in Perl using Regex", "body": "<p>You can try as follows, You are asking the stdin two times, first you should remove the stdin inside the loop.</p>\n\n<pre><code>while(my ($num) = &lt;&gt; =~ /^(\\d{1,10})$/)  #Storing the digits in $num\n{\n\n    if($num =~ /^\\d*[02468]$/) \n    { \n       print \"Even $num\\n\"; \n    }\n}\n</code></pre>\n\n<p>Actually you are trying to match two digits, <code>+</code> quantifiers matches atleast one character (this is your problem), and your are matching the even character <code>[02468]</code>. So I have added the <code>*</code> (match 0 or more times) instead of <code>+</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "is_accepted": false, "score": 1, "last_activity_date": 1507186024, "last_edit_date": 1507186024, "creation_date": 1507185890, "answer_id": 46579412, "question_id": 46579214, "link": "https://stackoverflow.com/questions/46579214/how-to-print-out-an-even-number-within-1-to10-digits-in-perl-using-regex/46579412#46579412", "title": "How to print out an even number within 1 to10 digits in Perl using Regex", "body": "<p>You just need to edit your code like that:</p>\n\n<pre><code>if($num =~ /^\\d*[02468]$/)\n{ print STDOUT $num; }\n</code></pre>\n\n<p><a href=\"https://ideone.com/VEeNGM\" rel=\"nofollow noreferrer\">Run Here</a></p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1507201128, "creation_date": 1507201128, "answer_id": 46584012, "question_id": 46579214, "link": "https://stackoverflow.com/questions/46579214/how-to-print-out-an-even-number-within-1-to10-digits-in-perl-using-regex/46584012#46584012", "title": "How to print out an even number within 1 to10 digits in Perl using Regex", "body": "<p>I'd strongly urge not using regex to do arithmetic. Regular expressions are about pattern matching, not numbers. It'll only create you pain to try and do 'numeric' tests like 'is it even'.</p>\n\n<p>But the root of your problem is you're reading <code>STDIN</code> twice. <code>&lt;&gt;</code> reads from it as does <code>&lt;STDIN&gt;</code>. </p>\n\n<p>So how about instead:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nwhile ( &lt;&gt; ) {\n   my ( $num ) =  m/^(\\d{1,10})$/ or last; #exit loop if it doesn't match. \n   print $num,\"\\n\" unless $num % 2; \n}\n</code></pre>\n"}], "owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 46579373, "answer_count": 3, "score": 0, "last_activity_date": 1507201128, "creation_date": 1507185147, "question_id": 46579214, "link": "https://stackoverflow.com/questions/46579214/how-to-print-out-an-even-number-within-1-to10-digits-in-perl-using-regex", "title": "How to print out an even number within 1 to10 digits in Perl using Regex", "body": "<p>I am trying to repeatedly input a number which can be atleast 1 digit and maximum 10 digits. It should display that number on screen only if it is even number and between 1 and 10 digits, else it should exit the loop. I tried my code but not able to come up with the exact solution. I am trying to do using Regex. This is just for practice and has no other significance.</p>\n\n<pre><code>#!/usr/bin/perl/\n\n\nwhile(&lt;&gt; =~ /^\\d{1,10}$/)\n{\n        my $num = &lt;STDIN&gt;;\n        if($num =~ /[123456789]+[02468]$/)\n        { print STDOUT $num; }\n}\n</code></pre>\n"}, {"tags": ["javascript", "regex", "html", "perl"], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1507184961, "post_id": 46577723, "comment_id": 80111187, "body": "Inside regex you can use <code>\\Q..\\E</code>. Actually <code>$str =~ s&#47;%{name}&#47;$replace&#47;g;</code>, it will work, in your original question you are concatenating the values while doing the substitution."}], "tags": [], "owner": {"reputation": 21, "user_id": 8646589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7bd42c2f220d9b14bc4770b19a45c4d?s=128&d=identicon&r=PG&f=1", "display_name": "raita", "link": "https://stackoverflow.com/users/8646589/raita"}, "is_accepted": false, "score": 0, "last_activity_date": 1507176628, "creation_date": 1507176628, "answer_id": 46577723, "question_id": 46577598, "link": "https://stackoverflow.com/questions/46577598/replacing-adding-values-to-html-written-as-a-perl-string/46577723#46577723", "title": "Replacing/Adding values to HTML written as a PERL string", "body": "<p>This solved:</p>\n\n<pre><code>   my $find = \"%{name}\";\n   my $replace = \"had\";\n   $find = quotemeta $find; # escape regex metachars if present\n\n   $str =~ s/$find/$replace/g;\n</code></pre>\n\n<p>Source : <a href=\"http://www.perlmonks.org/?node_id=98357\" rel=\"nofollow noreferrer\">http://www.perlmonks.org/?node_id=98357</a></p>\n\n<p>Giving the values directly, didn't work. I am not sure why, will look up and get back.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1507562730, "last_edit_date": 1592644375, "creation_date": 1507562730, "answer_id": 46649929, "question_id": 46577598, "link": "https://stackoverflow.com/questions/46577598/replacing-adding-values-to-html-written-as-a-perl-string/46649929#46649929", "title": "Replacing/Adding values to HTML written as a PERL string", "body": "<p>You're inventing your own templating system. And it seems unlikely that you'll invent something as flexible or powerful as the ones we already have. So I'd recommend you use something like <a href=\"http://tt2.org/\" rel=\"nofollow noreferrer\">the Template Toolkit</a> instead.</p>\n<p>But if you want to continue with your plan, you should read the relevant section from <a href=\"https://perldoc.perl.org/perlfaq4.html\" rel=\"nofollow noreferrer\">the FAQ</a>.</p>\n<blockquote>\n<p><a href=\"https://perldoc.perl.org/perlfaq4.html#How-can-I-expand-variables-in-text-strings%3F\" rel=\"nofollow noreferrer\"><strong>How can I expand variables in text strings?</strong></a></p>\n<p>(contributed by brian d foy)</p>\n<p>If you can avoid it, don't, or if you can use a templating system, such as Text::Template or Template Toolkit, do that instead. You might even be able to get the job done with <code>sprintf</code> or <code>printf</code>:</p>\n<pre><code>   my $string = sprintf 'Say hello to %s and %s', $foo, $bar;\n</code></pre>\n<p>However, for the one-off simple case where I don't want to pull out a full templating system, I'll use a string that has two Perl scalar variables in it. In this example, I want to expand <code>$foo</code> and <code>$bar</code> to their variable's values:</p>\n<pre><code>   my $foo = 'Fred';\n   my $bar = 'Barney';\n   $string = 'Say hello to $foo and $bar';\n</code></pre>\n<p>One way I can do this involves the substitution operator and a double <code>/e</code> flag. The first <code>/e</code> evaluates <code>$1</code> on the replacement side and turns it into <code>$foo</code>. The second <code>/e</code> starts with $foo and replaces it with its value. <code>$foo</code>, then, turns into 'Fred', and that's finally what's left in the string:</p>\n<pre><code>   $string =~ s/(\\$\\w+)/$1/eeg; # 'Say hello to Fred and Barney'\n</code></pre>\n<p>The <code>/e</code> will also silently ignore violations of strict, replacing undefined variable names with the empty string. Since I'm using the <code>/e</code> flag (twice even!), I have all of the same security problems I have with eval in its string form. If there's something odd in <code>$foo</code>, perhaps something like <code>@{[ system &quot;rm -rf /&quot; ]}</code>, then I could get myself in trouble.</p>\n<p>To get around the security problem, I could also pull the values from a hash instead of evaluating variable names. Using a single <code>/e</code>, I can check the hash to ensure the value exists, and if it doesn't, I can replace the missing value with a marker, in this case ??? to signal that I missed something:</p>\n<pre><code>   my $string = 'This has $foo and $bar';\n   my %Replacements = (\n       foo  =&gt; 'Fred',\n       );\n   # $string =~ s/\\$(\\w+)/$Replacements{$1}/g;\n   $string =~ s/\\$(\\w+)/\n               exists $Replacements{$1} ? $Replacements{$1} : '???'\n               /eg;\n   print $string;\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 21, "user_id": 8646589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7bd42c2f220d9b14bc4770b19a45c4d?s=128&d=identicon&r=PG&f=1", "display_name": "raita", "link": "https://stackoverflow.com/users/8646589/raita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507562730, "creation_date": 1507175725, "last_edit_date": 1507176228, "question_id": 46577598, "link": "https://stackoverflow.com/questions/46577598/replacing-adding-values-to-html-written-as-a-perl-string", "title": "Replacing/Adding values to HTML written as a PERL string", "body": "<p>So, I have a HTML which is written into a perl string. This html represents a template and I need to add fields on runtime.\nFor example:</p>\n\n<pre><code>  $templateHTML.= '&lt;span   &gt; %{name} &lt;/span&gt;\n</code></pre>\n\n<p>I want to replace the %{name} with the required value.\nThe regex I have tried is:</p>\n\n<pre><code>  $htmlTemplate.=~ s/%{name}/akhil;\n</code></pre>\n\n<p>This didn't work, also is there a way I can use JavaScript's replace function, i.e, can I convert the perl string to js string and process it?</p>\n\n<p>On request, the template is invoked and the values to be added are passed as parameters.</p>\n"}, {"tags": ["perl", "grouping"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1507174510, "post_id": 46576662, "comment_id": 80107913, "body": "Create 2 hashes to store the sums, using a key of the concatenation of the first few fields.  <code>$total_1{ &#39;UserA|Single|Boyish&#39;} += $value_1;</code>  Then just iterate over the keys of both hashes to produce the totals."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 2, "creation_date": 1507189495, "post_id": 46576662, "comment_id": 80113590, "body": "The next time you post a question, if you don&#39;t want to get down voted, please try to do something and post the code which you worked on. Also, accept the answer to your question if it matches your question requirements."}, {"owner": {"reputation": 67, "user_id": 8723539, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YxYicJQFV-0/AAAAAAAAAAI/AAAAAAAAAHo/KR3TzIopAsk/photo.jpg?sz=128", "display_name": "Dan Dimacuha", "link": "https://stackoverflow.com/users/8723539/dan-dimacuha"}, "edited": false, "score": 0, "creation_date": 1507289508, "post_id": 46576662, "comment_id": 80161106, "body": "I just forgot to update this thread. I already solved my problem, I just made a unique key to group the user with their status so I can append the previous value to the new one."}], "answers": [{"tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": true, "score": 2, "last_activity_date": 1507187999, "creation_date": 1507187999, "answer_id": 46580011, "question_id": 46576662, "link": "https://stackoverflow.com/questions/46576662/perl-get-sum-of-items-using-a-unique-key-group/46580011#46580011", "title": "Perl - Get sum of items using a unique key [group]", "body": "<pre><code>use strict;\nuse warnings;\n\nmy %hash;\nwhile(my $line = &lt;DATA&gt;)\n{\n    chomp $line;\n    if ($line =~ /(.*\\|.*\\|.*)\\|(\\d*)\\|(\\d*)/)\n    {\n        # you want to group them by the first 3 attributes, therefore:\n        # 1 will hold UserA|Single|Girly\n        # 2 will hold the first value\n        # 3 will hold the second value\n        $hash{$1}{'first_value'} += $2;\n        $hash{$1}{'second_value'} += $3;\n    }\n}\n\nuse Data::Dumper;\nprint Dumper %hash;\n\n\n__DATA__\nUserA|Single|Girly|200|500\nUserA|Single|Boyish|200|200\nUserA|Double|Girly|100|200\nUserA|Multiple|Boyish|200|400\nUserA|Double|Girly|250|150\nUserA|Single|Boyish|150|150\n</code></pre>\n\n<p>The result looks like this :</p>\n\n<pre><code>$VAR1 = 'UserA|Multiple|Boyish';\n$VAR2 = {\n          'first' =&gt; '200',\n          'second' =&gt; '400'\n        };\n$VAR3 = 'UserA|Double|Girly';\n$VAR4 = {\n          'first' =&gt; '350',\n          'second' =&gt; '350'\n        };\n$VAR5 = 'UserA|Single|Boyish';\n$VAR6 = {\n          'first' =&gt; '350',\n          'second' =&gt; '350'\n        };\n$VAR7 = 'UserA|Single|Girly';\n$VAR8 = {\n          'first' =&gt; '200',\n          'second' =&gt; '500'\n        };\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 8723539, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YxYicJQFV-0/AAAAAAAAAAI/AAAAAAAAAHo/KR3TzIopAsk/photo.jpg?sz=128", "display_name": "Dan Dimacuha", "link": "https://stackoverflow.com/users/8723539/dan-dimacuha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "accepted_answer_id": 46580011, "answer_count": 1, "score": -3, "last_activity_date": 1507187999, "creation_date": 1507168099, "question_id": 46576662, "link": "https://stackoverflow.com/questions/46576662/perl-get-sum-of-items-using-a-unique-key-group", "title": "Perl - Get sum of items using a unique key [group]", "body": "<p>For example  </p>\n\n<p>From this:</p>\n\n<blockquote>\n  <p>UserA|Single|Girly|200|500<br>\n  UserA|Single|Boyish|200|200<br>\n  UserA|Double|Girly|100|200<br>\n  UserA|Multiple|Boyish|200|400<br>\n  UserA|Double|Girly|250|150<br>\n  UserA|Single|Boyish|150|150  </p>\n</blockquote>\n\n<p>To this:</p>\n\n<blockquote>\n  <p>UserA|Single|Girly|200|500<br>\n  UserA|Single|Boyish|350|350<br>\n  UserA|Double|Girly|350|350<br>\n  UserA|Multiple|Boyish|200|400</p>\n</blockquote>\n\n<p>How should I code this in order to get the sum of the line by their same keys.<br>\nYou get the basic idea from my example.  </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["string", "perl", "command", "code-injection"], "comments": [{"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1507165336, "post_id": 46576303, "comment_id": 80105998, "body": "I suggest you read the traditional starting point, perle <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html</a> starting with &#39;The Basics&#39; - it covers this and many more useful things."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1507167097, "post_id": 46576303, "comment_id": 80106368, "body": "It&#39;s unclear what you are asking. You may be asking one of the following: How to perform a substitution while preserving a portion of what matched in the result, or how to match with no substitution, or how to perform a substitution such that the effects show up in a new destination variable rather than in the original target."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1507167570, "post_id": 46576303, "comment_id": 80106461, "body": "<code>pos($test) = length($test);</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1507168224, "post_id": 46576303, "comment_id": 80106604, "body": "What exactly <i>is</i> the test? Whether there is a <code>&#39;b&#39;</code> character in <code>$test</code>?  Can you state your &quot;test&quot; in words?  And, what do you not want to change -- the variable <code>$test</code>, into which the string <code>&#39;abc&#39;</code> is read?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5454895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af99bfd8ba49ce1b3d4d8d6fee95487?s=128&d=identicon&r=PG&f=1", "display_name": "user5454895", "link": "https://stackoverflow.com/users/5454895/user5454895"}, "edited": false, "score": 0, "creation_date": 1507166476, "post_id": 46576348, "comment_id": 80106232, "body": "Assuming we can&#39;t change only the string abc. How would we do this?"}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "reply_to_user": {"reputation": 1, "user_id": 5454895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af99bfd8ba49ce1b3d4d8d6fee95487?s=128&d=identicon&r=PG&f=1", "display_name": "user5454895", "link": "https://stackoverflow.com/users/5454895/user5454895"}, "edited": false, "score": 0, "creation_date": 1507166782, "post_id": 46576348, "comment_id": 80106298, "body": "print &quot;failed&quot; unless $test =~ s/b//g ;"}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "reply_to_user": {"reputation": 1, "user_id": 5454895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af99bfd8ba49ce1b3d4d8d6fee95487?s=128&d=identicon&r=PG&f=1", "display_name": "user5454895", "link": "https://stackoverflow.com/users/5454895/user5454895"}, "edited": false, "score": 0, "creation_date": 1507179996, "post_id": 46576348, "comment_id": 80109352, "body": "@user5454895 it&#39;s not really clear what you mean still. You can&#39;t change the string - it&#39;s a literal value - do you mean you want to avoid changing the variable the string is assigned to, in the case that it is equal to &#39;abc&#39;, but are happy to change it in other cases? Or is &#39;abc&#39; simply an example and you don&#39;t want to change the string regardless of the value when testing it? What exactly are the rules in plain English?"}], "tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": false, "score": 1, "last_activity_date": 1507165413, "creation_date": 1507165413, "answer_id": 46576348, "question_id": 46576303, "link": "https://stackoverflow.com/questions/46576303/perl-how-to-pass-in-an-input-without-being-replaced-by-the-substitution-s-op/46576348#46576348", "title": "Perl: How to pass in an input without being replaced by the substitution s/// Operator?", "body": "<p>You want to use the /r modifier. it's a new'ish feature so older versions will not run it </p>\n\n<pre><code>$test = \"abc\";\nmy $str= $test =~ s/b//gr;\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlre.html#Modifiers</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1507256471, "creation_date": 1507256471, "answer_id": 46597351, "question_id": 46576303, "link": "https://stackoverflow.com/questions/46576303/perl-how-to-pass-in-an-input-without-being-replaced-by-the-substitution-s-op/46597351#46597351", "title": "Perl: How to pass in an input without being replaced by the substitution s/// Operator?", "body": "<p>There is no string you can pass to <code>s/b//g</code> that will result in a string that contains a <code>b</code>.</p>\n\n<p>However, if you have access to <code>$test</code> and not just it's value, you could set its <code>pos</code> such that the substitution operator won't find anything.</p>\n\n<pre><code>$ perl -e'\n   my $test = \"abc\";\n   pos($test) = length($test);\n   $test =~ s/b//g;\n   CORE::say($test);\n'\nac\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5454895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af99bfd8ba49ce1b3d4d8d6fee95487?s=128&d=identicon&r=PG&f=1", "display_name": "user5454895", "link": "https://stackoverflow.com/users/5454895/user5454895"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1507256471, "creation_date": 1507165016, "last_edit_date": 1507165737, "question_id": 46576303, "link": "https://stackoverflow.com/questions/46576303/perl-how-to-pass-in-an-input-without-being-replaced-by-the-substitution-s-op", "title": "Perl: How to pass in an input without being replaced by the substitution s/// Operator?", "body": "<p>For example,</p>\n\n<p>$test = \"abc\";<br>\n$test =~ s/b//g;</p>\n\n<p>normally test will be ac. How do I manipulate the string \"abc\" so that it will go through this test and still return abc. </p>\n\n<p>I am trying to do a command injection so I can't change $test =~ s/b//g; but can change the input. </p>\n\n<p>Hopefully this makes sense.</p>\n"}, {"tags": ["perl", "email", "parsing", "mime-types", "mime"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "edited": false, "score": 0, "creation_date": 1507221444, "post_id": 46577829, "comment_id": 80134435, "body": "My apologies. Thanks so much for your offer to help. Here is the proper pastebin. <a href=\"https://pastebin.com/raw/hB7N3h8a\" rel=\"nofollow noreferrer\">pastebin.com/raw/hB7N3h8a</a>  I&#39;ve also now tried using body_str and it also did not work. It looks like I can&#39;t now edit my original post. Here is a pastebin to the script I&#39;ve created. <a href=\"https://pastebin.com/f1pZBvep\" rel=\"nofollow noreferrer\">pastebin.com/f1pZBvep</a>"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "edited": false, "score": 0, "creation_date": 1507226601, "post_id": 46577829, "comment_id": 80137217, "body": "@AlexRegan: I have no idea where you got the snippet from, but since the data are utf8 you have to use a utf8 output, i.e. for STDOUT <code>binmode(STDOUT, &quot;:utf8&quot;);</code>. And you have to read the file then with utf8 capable software."}, {"owner": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "edited": false, "score": 0, "creation_date": 1507227732, "post_id": 46577829, "comment_id": 80137807, "body": "I don&#39;t understand. This is code that I wrote. So as to not confuse the matter even more, I excluded the functions that write this data to a database. It knows nothing about utf8. I thought the purpose of MIME::Parser was to decode the attachment type to standard text. That is what I need."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "edited": false, "score": 0, "creation_date": 1507228682, "post_id": 46577829, "comment_id": 80138271, "body": "@AlexRegan: the data are properly decoded. If I understand you correctly you put the data into a database and then wonder what you end up with inside the database. If the database knows nothing about utf8 you have a problem since it should know the encoding of the data (i.e. us-ascii, utf8, latin1, utf-16,...) because it cannot properly handle the data. See also <a href=\"https://stackoverflow.com/questions/983778/how-can-i-handle-unicode-with-perls-dbi\" title=\"how can i handle unicode with perls dbi\">stackoverflow.com/questions/983778/&hellip;</a>"}, {"owner": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "edited": false, "score": 0, "creation_date": 1507251744, "post_id": 46577829, "comment_id": 80146338, "body": "Okay, thank you. So while this particular email was utf8, I can&#39;t guarantee that all are in that format. Will that be a problem?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "edited": false, "score": 1, "creation_date": 1507267971, "post_id": 46577829, "comment_id": 80149746, "body": "@AlexRegan: by using <code>body_str</code> every encoding of the mail will be properly decoded into Perls internal character encoding, which is more or less utf-8. But you need to be able to store this properly in your DB."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1507177596, "creation_date": 1507177596, "answer_id": 46577829, "question_id": 46576062, "link": "https://stackoverflow.com/questions/46576062/using-mimeparser-fails-to-decode-some-emails/46577829#46577829", "title": "Using MIME::Parser fails to decode some emails", "body": "<p>Unfortunately, the example you link to does not match the example you embed in your question. Also, your code does not show where and how exactly the output is done, i.e. you don't provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> but instead only show fragments which might indicate what you are doing but don't actually show what you are doing.</p>\n\n<p>Based on this I can only guess what the problem is but not verify this guess. My guess is that the problem lies in your use of <code>Email::MIME::body</code> instead of <code>Email::MIME::body_str</code>. As documented <a href=\"https://metacpan.org/pod/Email::MIME#body\" rel=\"nofollow noreferrer\">body</a> <em>\"decodes and returns the body of the object <strong>as a byte string</strong>\"</em> while <a href=\"https://metacpan.org/pod/Email::MIME#body_str\" rel=\"nofollow noreferrer\">body_str</a> <em>\"decodes both the Content-Transfer-Encoding layer of the body (like the body method) <strong>as well as the charset encoding of the body (unlike the body method)</strong>, returning a <strong>Unicode string</strong>\"</em>.</p>\n\n<p>In other words, <code>body</code> provides you with the <strong>raw octets</strong> of the UTF-8 encoded message, <code>body_str</code> instead provides you with the <strong>characters</strong>. And the last one is probably what you actually want.</p>\n"}], "owner": {"reputation": 349, "user_id": 1834498, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82c4a126c67bc0d736a42980c96f5ad0?s=128&d=identicon&r=PG", "display_name": "Alex Regan", "link": "https://stackoverflow.com/users/1834498/alex-regan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 574, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507177596, "creation_date": 1507162629, "question_id": 46576062, "link": "https://stackoverflow.com/questions/46576062/using-mimeparser-fails-to-decode-some-emails", "title": "Using MIME::Parser fails to decode some emails", "body": "<p>I'm a perl novice trying to figure out MIME::Parser to decode mime parts of an email. I mostly have it working, but there's either a deficiency in the code, or other problem that is causing the message to not be decoded properly.</p>\n\n<p>These are emails received from the Ubuntu security mailing list. Somehow they produce weird \u00c2 characters throughout the text, while reading the email with alpine seems to decode it just fine.</p>\n\n<p>Here is one snippet from the email after it's been decoded:</p>\n\n<pre><code>\u00c2 Felix Wilhelm, Fermin J. Serna, Gabriel Campana and Kevin Hamacher\n\u00c2 discovered that Dnsmasq incorrectly handled DNS requests. A remote\n\u00c2 attacker could use this issue to cause Dnsmasq to crash, resulting in\n\u00c2 a denial of service, or possibly execute arbitrary code.\u00c2 \n\u00c2 (CVE-2017-14491)`\n</code></pre>\n\n<p>Here is the code snippet I'm using for this:</p>\n\n<pre><code>use MIME::Parser;\nuse MIME::Entity;\nuse MIME::WordDecoder;\nuse MIME::Tools;\nuse MIME::Decoder;\nuse Email::MIME;\nmy $parser = MIME::Parser-&gt;new;\n$parser-&gt;extract_uuencode(1);\n$parser-&gt;extract_nested_messages(1);\n$parser-&gt;output_to_core(1);\nmy $buf;\nwhile(&lt;STDIN&gt; ){\n        $buf .= $_;\n}\nmy $entity = $parser-&gt;parse_data($buf);\nmy $subject = $entity-&gt;head-&gt;get('Subject');\nmy $from = $entity-&gt;head-&gt;get('From');\nmy $AdvDate = $entity-&gt;head-&gt;get('Date');\nmy @mailData;\nmy $msg = Email::MIME-&gt;new($buf);\n $msg-&gt;walk_parts(sub {\n     my ($part) = @_;\n     #warn($part-&gt;content_type . \": \" . $part-&gt;subparts);\n     if (($part-&gt;content_type =~ /text\\/plain$/i) &amp;&amp; !@mailData) { \n        #print $part-&gt;body;\n        @mailData = split( '\\n', $part-&gt;body);\n     }\n     elsif (($part-&gt;content_type =~ /text\\/plain; charset=\\\"?utf-8\\\"?/i) &amp;&amp; !@mailData) { \n        #print $part-&gt;body;\n        @mailData = split( '\\n', $part-&gt;body);\n     }\n     elsif (($part-&gt;content_type =~ /text\\/plain; charset=\\\"?us-ascii\\\"?/i) &amp;&amp; !@mailData) { \n        #print $part-&gt;body;\n        @mailData = split( '\\n', $part-&gt;body);\n     }\n     elsif (($part-&gt;content_type =~ /text\\/plain; charset=\\\"?windows-1252\\\"?/i) &amp;&amp; !@mailData) { \n        #print $part-&gt;body;\n        @mailData = split( '\\n', $part-&gt;body);\n     }\n     elsif (($part-&gt;content_type =~ /text\\/plain; charset=\\\"?iso-8859-1\\\"?/i) &amp;&amp; !@mailData) { \n        #print $part-&gt;body;\n        @mailData = split( '\\n', $part-&gt;body);\n     }\n });\n</code></pre>\n\n<p>Later I do various operations on $buf before writing it to a database. </p>\n\n<p>I've placed a copy of one of the emails that exhibit this problem here</p>\n\n<p><a href=\"https://pastebin.com/raw/2csUvWup\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/2csUvWup</a></p>\n\n<p>Please let me know what other information I can provide to properly decode this email.</p>\n"}]